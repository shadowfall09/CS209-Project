{"items":[{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1667989165,"post_id":74373116,"comment_id":131297320,"body_markdown":"Do you have an error message, I&#39;m pretty sure you have one... Pls provide it.","body":"Do you have an error message, I&#39;m pretty sure you have one... Pls provide it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667997361,"post_id":74373116,"comment_id":131300198,"body_markdown":"Remove everything from the `dependencyManagement` section, except the `spring-cloud-dependencies`. Then add the `spring-boot-starter-mail` to the regular dependency section (if you need the `spring-integration-mail` one also add that).","body":"Remove everything from the <code>dependencyManagement</code> section, except the <code>spring-cloud-dependencies</code>. Then add the <code>spring-boot-starter-mail</code> to the regular dependency section (if you need the <code>spring-integration-mail</code> one also add that)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667997468,"post_id":74373116,"comment_id":131300237,"body_markdown":"You don&#39;t have `spring-boot-starter-mail` in the `dependencies` section, only in the `dependencyManagement`, where you should not have listed it, as the version should be controlled by Spring Boot.","body":"You don&#39;t have <code>spring-boot-starter-mail</code> in the <code>dependencies</code> section, only in the <code>dependencyManagement</code>, where you should not have listed it, as the version should be controlled by Spring Boot."}],"answers":[{"tags":[],"owner":{"account_id":26877006,"reputation":1,"user_id":20458097,"display_name":"Ivan Dong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667989184,"creation_date":1667989184,"answer_id":74373207,"question_id":74373116,"body_markdown":"if you work with maven, try add this to the pom\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"org.springframework.mail.javamail.JavaMailSender dependency","body":"<p>if you work with maven, try add this to the pom</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667997276,"creation_date":1667988786,"question_id":74373116,"body_markdown":"I am writing a project with authorization and sending confirmation (token) by email. I want to declare an object of type JavaMailSender, but the project does not see this dependency. Where can I find her?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt; &lt;/groupId&gt;\r\n    &lt;artifactId&gt; &lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt; &lt;/name&gt;\r\n    &lt;description&gt; &lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;email.version&gt;1.6.2&lt;/email.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-jobs&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev20210211-1.31.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2021.0.4&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.23&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.integration/spring-integration-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;compilerArg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/compilerArg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"org.springframework.mail.javamail.JavaMailSender dependency","body":"<p>I am writing a project with authorization and sending confirmation (token) by email. I want to declare an object of type JavaMailSender, but the project does not see this dependency. Where can I find her?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt; &lt;/groupId&gt;\n    &lt;artifactId&gt; &lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt; &lt;/name&gt;\n    &lt;description&gt; &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;email.version&gt;1.6.2&lt;/email.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-jobs&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev20210211-1.31.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2021.0.4&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n                &lt;version&gt;5.3.23&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n                &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.integration/spring-integration-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","python","jython","pythoninterpreter"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1544784837,"post_id":53778300,"comment_id":94407766,"body_markdown":"Possible duplicate of [Importing python modules in jython](https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython\">Importing python modules in jython</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1544784889,"post_id":53778300,"comment_id":94407785,"body_markdown":"Also https://stackoverflow.com/questions/18975613/jython-configuring-modules-path-into-a-jython-script","body":"Also <a href=\"https://stackoverflow.com/questions/18975613/jython-configuring-modules-path-into-a-jython-script\" title=\"jython configuring modules path into a jython script\">stackoverflow.com/questions/18975613/&hellip;</a>"}],"owner":{"account_id":13596758,"reputation":113,"user_id":9808582,"display_name":"Alfonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667997271,"creation_date":1544784766,"question_id":53778300,"body_markdown":"i need to run a python script in java, (using jython standalone jar) but when i run the script i got this error:\r\n\r\n**ImportError: No module named pytesseract**\r\n\r\nhow can import python library, to run this script??\r\n\r\n    public class SimpleEmbedded {\r\n    public static void main(String []args){\r\n\t    \r\n      PythonInterpreter interp = new PythonInterpreter();\r\n      System.out.println(&quot;Hello, world from Java&quot;);\r\n      interp.execfile(&quot;text_rec.py&quot;);\r\n      System.out.println(&quot;Goodbye &quot;);\r\n      }\r\n    }\r\n\r\nI add also this piece of code:\r\n\r\n    interp = new PythonInterpreter(null, new PySystemState());\r\n    PySystemState sys = Py.getSystemState();\r\n    sys.path.append(new PyString(rootPath));\r\n    sys.path.append(new PyString(modulesDir));\r\n\r\n\r\nwhat&#39;s *rootPath* and *ModulesDir*?\r\n    \r\nCan u help me??","title":"jython java PythonInterpreter","body":"<p>i need to run a python script in java, (using jython standalone jar) but when i run the script i got this error:</p>\n\n<p><strong>ImportError: No module named pytesseract</strong></p>\n\n<p>how can import python library, to run this script??</p>\n\n<pre><code>public class SimpleEmbedded {\npublic static void main(String []args){\n\n  PythonInterpreter interp = new PythonInterpreter();\n  System.out.println(\"Hello, world from Java\");\n  interp.execfile(\"text_rec.py\");\n  System.out.println(\"Goodbye \");\n  }\n}\n</code></pre>\n\n<p>I add also this piece of code:</p>\n\n<pre><code>interp = new PythonInterpreter(null, new PySystemState());\nPySystemState sys = Py.getSystemState();\nsys.path.append(new PyString(rootPath));\nsys.path.append(new PyString(modulesDir));\n</code></pre>\n\n<p>what's <em>rootPath</em> and <em>ModulesDir</em>?</p>\n\n<p>Can u help me??</p>\n"},{"tags":["java","database","data-structures","key-value"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":4,"creation_date":1441018277,"post_id":32309497,"comment_id":52494021,"body_markdown":"4-5 MB is not too much for me. `HashMap` with 5000 entries should work","body":"4-5 MB is not too much for me. <code>HashMap</code> with 5000 entries should work"},{"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"score":1,"creation_date":1441018591,"post_id":32309497,"comment_id":52494170,"body_markdown":"So, can i just store this, load it into memory and effectively search it? I had thought I needed some kind of database, like SQLite, Java DB or  whatever it most appropriate for my situation.","body":"So, can i just store this, load it into memory and effectively search it? I had thought I needed some kind of database, like SQLite, Java DB or  whatever it most appropriate for my situation."},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":1,"creation_date":1441018741,"post_id":32309497,"comment_id":52494249,"body_markdown":"Of course, if you have enough memory, 5MB is not a problem and you can retrieve your pair by key. `Map` search algorithm  by hash is really fast. For me, is no problem, but that is my opinion ;)","body":"Of course, if you have enough memory, 5MB is not a problem and you can retrieve your pair by key. <code>Map</code> search algorithm  by hash is really fast. For me, is no problem, but that is my opinion ;)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1441018804,"post_id":32309497,"comment_id":52494281,"body_markdown":"@TobLoef If you only need a key-value store, a `Map` is more than suitable. Small amounts in the thousands or tens of thousands don&#39;t require a database, unless you really want one, or you need to query the data in more ways than just a simple retrieval by key.","body":"@TobLoef If you only need a key-value store, a <code>Map</code> is more than suitable. Small amounts in the thousands or tens of thousands don&#39;t require a database, unless you really want one, or you need to query the data in more ways than just a simple retrieval by key."},{"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"score":0,"creation_date":1441019032,"post_id":32309497,"comment_id":52494417,"body_markdown":"Great guys, thanks a bunch. I will proceed with a map. If someone writes it as an answer, I will accept it.","body":"Great guys, thanks a bunch. I will proceed with a map. If someone writes it as an answer, I will accept it."},{"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"score":0,"creation_date":1441022395,"post_id":32309497,"comment_id":52496443,"body_markdown":"Also, consider persisting data in a no-sql storage. That is, if you need the data to be persisted. Properly indexed noSQL storages such as Mongo or whatever will run extremely fast (not as fast as memory &quot;queries&quot;, but close enough).","body":"Also, consider persisting data in a no-sql storage. That is, if you need the data to be persisted. Properly indexed noSQL storages such as Mongo or whatever will run extremely fast (not as fast as memory &quot;queries&quot;, but close enough)."}],"answers":[{"tags":[],"owner":{"account_id":1165206,"reputation":637,"user_id":1143792,"display_name":"Andrey Lomakin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997071,"creation_date":1667997071,"answer_id":74374921,"question_id":32309497,"body_markdown":"You can use [Xodus KV][1]. That is a key-value store used in production by JetBrains in the [YouTrack][2] product. It provides snapshot isolation with readers not competing with writers. JetBrains actively supports it.\r\n\r\nXodus also has an [entity store][3] solution which, along with [ORM][4] implemented in Kotlin, can be used as a primary database in your project. It also has support for [blobs][5].\r\n\r\n  [1]: https://github.com/JetBrains/xodus\r\n  [2]: https://youtrack.jetbrains.com/\r\n  [3]: https://github.com/JetBrains/xodus/wiki/Entity-Stores\r\n  [4]: https://jetbrains.github.io/xodus-dnq/\r\n  [5]: https://github.com/JetBrains/xodus/wiki/Entity-Stores#blobs","title":"Large local key-value storage, what should i use?","body":"<p>You can use <a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">Xodus KV</a>. That is a key-value store used in production by JetBrains in the <a href=\"https://youtrack.jetbrains.com/\" rel=\"nofollow noreferrer\">YouTrack</a> product. It provides snapshot isolation with readers not competing with writers. JetBrains actively supports it.</p>\n<p>Xodus also has an <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores\" rel=\"nofollow noreferrer\">entity store</a> solution which, along with <a href=\"https://jetbrains.github.io/xodus-dnq/\" rel=\"nofollow noreferrer\">ORM</a> implemented in Kotlin, can be used as a primary database in your project. It also has support for <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores#blobs\" rel=\"nofollow noreferrer\">blobs</a>.</p>\n"}],"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667997071,"creation_date":1441018097,"question_id":32309497,"body_markdown":"I have a bunch of key-value pairs, the key being an id and the value an array or list. I want to be able to store these values on the disk, so I can access them later, but probably also have the database in memory, if that increase performance. The database will contain around 5000 pairs, around 4-5 megabytes worth of data. What&#39;s the best system for me to use in this situation? It has to be something I can ship with java code, and I have to be able to effectively search the the database for a specific key and do something with the value.\r\n\r\nI have searched around for a similar question, but found nothing that asked the same question as me, which I find strange because surely I&#39;m not the first one to wonder about this. So if this is a duplicate, please link me the other question.\r\n\r\nI honestly have no idea where to start, but if someone could just recommend me a system that fits my needs, I&#39;ll probably figure it out.\r\n\r\nThanks!","title":"Large local key-value storage, what should i use?","body":"<p>I have a bunch of key-value pairs, the key being an id and the value an array or list. I want to be able to store these values on the disk, so I can access them later, but probably also have the database in memory, if that increase performance. The database will contain around 5000 pairs, around 4-5 megabytes worth of data. What's the best system for me to use in this situation? It has to be something I can ship with java code, and I have to be able to effectively search the the database for a specific key and do something with the value.</p>\n\n<p>I have searched around for a similar question, but found nothing that asked the same question as me, which I find strange because surely I'm not the first one to wonder about this. So if this is a duplicate, please link me the other question.</p>\n\n<p>I honestly have no idea where to start, but if someone could just recommend me a system that fits my needs, I'll probably figure it out.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":341169,"reputation":30706,"user_id":671619,"accept_rate":86,"display_name":"Firo"},"score":1,"creation_date":1667996168,"post_id":74374451,"comment_id":131299798,"body_markdown":"using stream api `Pessoal[] result = lista_de_docentes.stream().flatMap(ArrayList::stream).toArray(Pessoal[]::new);`","body":"using stream api <code>Pessoal[] result = lista_de_docentes.stream().flatMap(ArrayList::stream).toArra&zwnj;&#8203;y(Pessoal[]::new);</code>"}],"answers":[{"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667996218,"creation_date":1667996218,"answer_id":74374755,"question_id":74374451,"body_markdown":"You can collect all your &quot;Pessoal&quot; elements into a single arraylist and then move the elements to your array\r\n\r\n    List&lt;Pessoal&gt; all= lista_de_docentes.stream()\r\n\t\t.flatMap(List::stream)\r\n\t\t.collect(Collectors.toList());\r\n\r\n    for (int i =0; i &lt; all.size(); i++)\r\n\t\tteste[i] = all.get(i);\r\n\r\nOr you can directly create the array (in case you don&#39;t care about the size)\r\n\r\n    Pessoal[] teste = lista_de_docentes.stream()\r\n\t\t.flatMap(List::stream)\r\n\t\t.collect(Collectors.toList())\r\n\t\t.toArray(Pessoal[]::new);","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>You can collect all your &quot;Pessoal&quot; elements into a single arraylist and then move the elements to your array</p>\n<pre><code>List&lt;Pessoal&gt; all= lista_de_docentes.stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n\nfor (int i =0; i &lt; all.size(); i++)\n    teste[i] = all.get(i);\n</code></pre>\n<p>Or you can directly create the array (in case you don't care about the size)</p>\n<pre><code>Pessoal[] teste = lista_de_docentes.stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList())\n    .toArray(Pessoal[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667996874,"creation_date":1667996423,"answer_id":74374800,"question_id":74374451,"body_markdown":"You can do this with the [stream API](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Pessoal {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n        lista_de_docentes.add(lista_de_profs); \r\n        lista_de_docentes.add(lista_de_infos);\r\n        Pessoal[] teste = lista_de_docentes.stream()\r\n                                           .flatMap(l -&gt; l.stream())\r\n                                           .collect(Collectors.toList())\r\n                                           .toArray(new Pessoal[0]);\r\n        System.out.println(Arrays.toString(teste));\r\n    }\r\n}\r\n```\r\n- `lista_de_docentes.stream()` creates a stream where every element has type `ArrayList&lt;Pessoal&gt;`.\r\n- `flatMap` returns a stream where every element has type `Pessoal`.\r\n- All the stream [`Pessoal`] elements are collected and put into a [List][1].\r\n- Method [toArray][2] (of interface `List`) converts the `List` to an array.\r\n\r\nAlternatively, if you don&#39;t want to use streams:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class Pessoal {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n        lista_de_docentes.add(lista_de_profs); \r\n        lista_de_docentes.add(lista_de_infos);\r\n        ArrayList&lt;Pessoal&gt; temp = new ArrayList&lt;&gt;();\r\n        for (ArrayList&lt;Pessoal&gt; list : lista_de_docentes) {\r\n            for (Pessoal p : list) {\r\n                temp.add(p);\r\n            }\r\n        }\r\n        Pessoal[] teste = new Pessoal[temp.size()];\r\n        temp.toArray(teste);\r\n        System.out.println(Arrays.toString(teste));\r\n    }\r\n}\r\n```\r\nBy the way, you should consider adopting [Java naming conventions][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)\r\n  [3]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>You can do this with the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Pessoal {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n        lista_de_docentes.add(lista_de_profs); \n        lista_de_docentes.add(lista_de_infos);\n        Pessoal[] teste = lista_de_docentes.stream()\n                                           .flatMap(l -&gt; l.stream())\n                                           .collect(Collectors.toList())\n                                           .toArray(new Pessoal[0]);\n        System.out.println(Arrays.toString(teste));\n    }\n}\n</code></pre>\n<ul>\n<li><code>lista_de_docentes.stream()</code> creates a stream where every element has type <code>ArrayList&lt;Pessoal&gt;</code>.</li>\n<li><code>flatMap</code> returns a stream where every element has type <code>Pessoal</code>.</li>\n<li>All the stream [<code>Pessoal</code>] elements are collected and put into a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>.</li>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\">toArray</a> (of interface <code>List</code>) converts the <code>List</code> to an array.</li>\n</ul>\n<p>Alternatively, if you don't want to use streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Pessoal {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n        lista_de_docentes.add(lista_de_profs); \n        lista_de_docentes.add(lista_de_infos);\n        ArrayList&lt;Pessoal&gt; temp = new ArrayList&lt;&gt;();\n        for (ArrayList&lt;Pessoal&gt; list : lista_de_docentes) {\n            for (Pessoal p : list) {\n                temp.add(p);\n            }\n        }\n        Pessoal[] teste = new Pessoal[temp.size()];\n        temp.toArray(teste);\n        System.out.println(Arrays.toString(teste));\n    }\n}\n</code></pre>\n<p>By the way, you should consider adopting <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74374800,"answer_count":2,"score":0,"last_activity_date":1667996874,"creation_date":1667994783,"question_id":74374451,"body_markdown":"Let&#39;s say I have an array that takes instances of the type &quot;Pessoal&quot;:\r\n\r\n```\r\nPessoal[] teste = new Pessoal[6];\r\n```\r\n\r\nNow let&#39;s say I have 2 arraylists that are inside of an arraylist:\r\n\r\n```\r\nstatic ArrayList&lt;Pessoal&gt; lista_de_profs; // This one has 4\r\n\r\nstatic ArrayList&lt;Pessoal&gt; lista_de_infos; // And this one has 2, matching the 6 on &quot;teste&quot;\r\n\r\n// these arrayslists have instances of the type &quot;Pessoal&quot;\r\n```\r\n\r\n```\r\nArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n \r\nlista_de_docentes.add(lista_de_profs); \r\nlista_de_docentes.add(lista_de_infos);\r\n```\r\n------------------------------------------------\r\n\r\nHow do I iterate through the arraylist (lista_de_docentes) that contains more arraylists (lista_de_profs &amp; lista_de_infos), and get their instances, so I can put them inside the array?\r\n\r\nThis works if teste&#39;s length is 4\r\n\r\n```\r\nfor (int i = 0; i &lt; teste.length; i++){\r\n     teste[i] = lista_de_profs.get(i);\r\n}\r\n```\r\nBut this only covers one arraylist, and I want all of the ones inside &quot;lista_de_docentes&quot;, which are: &quot;lista_de_profs&quot; and &quot;lista_de_infos&quot;\r\n\r\n*Some code in here, the language is in Portuguese, but I can change it to english, if it becomes confusing.\r\n\r\nI hope I was clear, and thanks.","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>Let's say I have an array that takes instances of the type &quot;Pessoal&quot;:</p>\n<pre><code>Pessoal[] teste = new Pessoal[6];\n</code></pre>\n<p>Now let's say I have 2 arraylists that are inside of an arraylist:</p>\n<pre><code>static ArrayList&lt;Pessoal&gt; lista_de_profs; // This one has 4\n\nstatic ArrayList&lt;Pessoal&gt; lista_de_infos; // And this one has 2, matching the 6 on &quot;teste&quot;\n\n// these arrayslists have instances of the type &quot;Pessoal&quot;\n</code></pre>\n<pre><code>ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n \nlista_de_docentes.add(lista_de_profs); \nlista_de_docentes.add(lista_de_infos);\n</code></pre>\n<hr />\n<p>How do I iterate through the arraylist (lista_de_docentes) that contains more arraylists (lista_de_profs &amp; lista_de_infos), and get their instances, so I can put them inside the array?</p>\n<p>This works if teste's length is 4</p>\n<pre><code>for (int i = 0; i &lt; teste.length; i++){\n     teste[i] = lista_de_profs.get(i);\n}\n</code></pre>\n<p>But this only covers one arraylist, and I want all of the ones inside &quot;lista_de_docentes&quot;, which are: &quot;lista_de_profs&quot; and &quot;lista_de_infos&quot;</p>\n<p>*Some code in here, the language is in Portuguese, but I can change it to english, if it becomes confusing.</p>\n<p>I hope I was clear, and thanks.</p>\n"},{"tags":["java","json","protocol-buffers"],"owner":{"account_id":10585662,"reputation":816,"user_id":7798109,"display_name":"Kshitij Dhakal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667996824,"creation_date":1667982452,"question_id":74371837,"body_markdown":"I am trying to implement FieldMask in my APIs. When I tried it in spring boot it worked without any bug after I added following bean.\r\n```java\r\n@Bean\r\npublic ProtobufHttpMessageConverter protobufHttpMessageConverter() {\r\n    return new ProtobufHttpMessageConverter();\r\n}\r\n```\r\n\r\nBut in one of the older projects, we are using `JsonFormat.parser()` to parse Json. In this case,it is returning FieldMask in snake case.\r\n\r\nSo even though in API I am passing\r\n```json\r\n{\r\n    &quot;user&quot;: {\r\n        &quot;fullName&quot;: &quot;Abc&quot;\r\n    },\r\n    &quot;mask&quot;: &quot;fullName&quot;\r\n}\r\n```\r\n\r\nI am getting `full_name` instead of `fullName` as the mask after parsing the JSON. So the field mask is not working properly as I am expecting.\r\n\r\n```java\r\nUser byId = userRepo.getById(id);\r\nif (byId == null) {\r\n    throw new NotFoundException(&quot;User not found&quot;);\r\n}\r\nUser.Builder destination = byId.toBuilder();\r\nFieldMaskUtil.merge(updateUserRequest.getMask(), updateUserRequest.getUser(), destination);\r\n```","title":"Why is JsonFormat.parser() not properly parsing FieldMask?","body":"<p>I am trying to implement FieldMask in my APIs. When I tried it in spring boot it worked without any bug after I added following bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ProtobufHttpMessageConverter protobufHttpMessageConverter() {\n    return new ProtobufHttpMessageConverter();\n}\n</code></pre>\n<p>But in one of the older projects, we are using <code>JsonFormat.parser()</code> to parse Json. In this case,it is returning FieldMask in snake case.</p>\n<p>So even though in API I am passing</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;user&quot;: {\n        &quot;fullName&quot;: &quot;Abc&quot;\n    },\n    &quot;mask&quot;: &quot;fullName&quot;\n}\n</code></pre>\n<p>I am getting <code>full_name</code> instead of <code>fullName</code> as the mask after parsing the JSON. So the field mask is not working properly as I am expecting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>User byId = userRepo.getById(id);\nif (byId == null) {\n    throw new NotFoundException(&quot;User not found&quot;);\n}\nUser.Builder destination = byId.toBuilder();\nFieldMaskUtil.merge(updateUserRequest.getMask(), updateUserRequest.getUser(), destination);\n</code></pre>\n"},{"tags":["java","nosql"],"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1310270945,"post_id":6639080,"comment_id":7843372,"body_markdown":"Just wanted to comment that I&#39;ve been using Trove for some time and they seem to be quite reliable.  I use them anytime I need a primitive key and/or value.","body":"Just wanted to comment that I&#39;ve been using Trove for some time and they seem to be quite reliable.  I use them anytime I need a primitive key and/or value."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1310271050,"post_id":6639080,"comment_id":7843376,"body_markdown":"ehCache?  Has automatic overflow to disk and is hashmap-like performance wise for what&#39;s in memory.  No idea how it would cope with 20 million entries going to disk though.","body":"ehCache?  Has automatic overflow to disk and is hashmap-like performance wise for what&#39;s in memory.  No idea how it would cope with 20 million entries going to disk though."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1310271214,"post_id":6639080,"comment_id":7843384,"body_markdown":"Do you know what kind of space savings I can expect over HashMap for Trove?","body":"Do you know what kind of space savings I can expect over HashMap for Trove?"}],"answers":[{"tags":[],"owner":{"account_id":124994,"reputation":8846,"user_id":320471,"display_name":"hayesgm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1310271179,"creation_date":1310271179,"answer_id":6639114,"question_id":6639080,"body_markdown":"**Use [Berkeley DB][1]**. \r\n\r\n&gt; Berkeley DB stores object graphs, objects in collections, or **simple binary key/value data directly in an a btree on disk**. This simple, highly efficient approach removes all the unnecessary overhead in ORM solutions. Using the Direct Persistence Layer (DPL) Java developers annotate classes with storage information, much like JPA. This approach is familiar, efficient, and fast. The DPL reduces the complexity of data storage while not sacrificing speed.\r\n\r\nThis should definitely give you huge gains in memory and speed, while not increasing the complexity of your application.  Enjoy!\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/berkeleydb/overview/index-093405.html","title":"key-value store suggestion","body":"<p><strong>Use <a href=\"http://www.oracle.com/technetwork/database/berkeleydb/overview/index-093405.html\" rel=\"noreferrer\">Berkeley DB</a></strong>. </p>\n\n<blockquote>\n  <p>Berkeley DB stores object graphs, objects in collections, or <strong>simple binary key/value data directly in an a btree on disk</strong>. This simple, highly efficient approach removes all the unnecessary overhead in ORM solutions. Using the Direct Persistence Layer (DPL) Java developers annotate classes with storage information, much like JPA. This approach is familiar, efficient, and fast. The DPL reduces the complexity of data storage while not sacrificing speed.</p>\n</blockquote>\n\n<p>This should definitely give you huge gains in memory and speed, while not increasing the complexity of your application.  Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310274576,"creation_date":1310271759,"answer_id":6639147,"question_id":6639080,"body_markdown":"&gt; The map is Map, and so I&#39;m considering using GNU Trove TIntObjectHashMap, and storing the map value as an ascii byte array rather than String.\r\n\r\nThis doesn&#39;t entirely make sense because a `TIntObjectHashMap` is not a `Map`.  However, the approach is sound.\r\n\r\n--------\r\n\r\n&gt; Do you know what kind of space savings I can expect over HashMap for Trove?\r\n\r\nThe best answer is to try it out. \r\n\r\nBut here are some rough estimates (assuming a 32bit JVM):\r\n\r\n  - HashMap keys would need to be Integer instances.  They will occupy ~18bytes per instance + 4 bytes per reference.  Total 24 bytes.\r\n\r\n  - Trove keys would be 4 byte `int` values.\r\n\r\n  - String values would be 20 bytes + 12 bytes + 2 * number of &quot;characters&quot;.\r\n\r\n  - Byte array values would be 12 bytes + 1 * number of &quot;characters&quot;.\r\n\r\n  - I haven&#39;t examined the details of the respective hash table internal data structures.\r\n\r\nThat probably amounts to around 50% memory saving, though it depends critically on the average length of the value &quot;strings&quot;.  (The longer they are, the more they will dominate the space usage.)\r\n\r\nFWIW, Trove publish their own benchmarks [here][1].  They don&#39;t look very convincing, but you should be able to dig out their benchmark code and modify it to better match your use-case.\r\n\r\n\r\n  [1]: http://trove4j.sourceforge.net/html/benchmarks.shtml","title":"key-value store suggestion","body":"<blockquote>\n  <p>The map is Map, and so I'm considering using GNU Trove TIntObjectHashMap, and storing the map value as an ascii byte array rather than String.</p>\n</blockquote>\n\n<p>This doesn't entirely make sense because a <code>TIntObjectHashMap</code> is not a <code>Map</code>.  However, the approach is sound.</p>\n\n<hr>\n\n<blockquote>\n  <p>Do you know what kind of space savings I can expect over HashMap for Trove?</p>\n</blockquote>\n\n<p>The best answer is to try it out. </p>\n\n<p>But here are some rough estimates (assuming a 32bit JVM):</p>\n\n<ul>\n<li><p>HashMap keys would need to be Integer instances.  They will occupy ~18bytes per instance + 4 bytes per reference.  Total 24 bytes.</p></li>\n<li><p>Trove keys would be 4 byte <code>int</code> values.</p></li>\n<li><p>String values would be 20 bytes + 12 bytes + 2 * number of \"characters\".</p></li>\n<li><p>Byte array values would be 12 bytes + 1 * number of \"characters\".</p></li>\n<li><p>I haven't examined the details of the respective hash table internal data structures.</p></li>\n</ul>\n\n<p>That probably amounts to around 50% memory saving, though it depends critically on the average length of the value \"strings\".  (The longer they are, the more they will dominate the space usage.)</p>\n\n<p>FWIW, Trove publish their own benchmarks <a href=\"http://trove4j.sourceforge.net/html/benchmarks.shtml\" rel=\"nofollow\">here</a>.  They don't look very convincing, but you should be able to dig out their benchmark code and modify it to better match your use-case.</p>\n"},{"tags":[],"owner":{"account_id":100393,"reputation":6688,"user_id":270662,"accept_rate":67,"display_name":"mxro"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472016860,"creation_date":1353560447,"answer_id":13506162,"question_id":6639080,"body_markdown":"**[BabuDB](https://github.com/xtreemfs/babudb)**\r\n\r\n&gt; BabuDB is an embedded non-relational database system. Its lean and simple design allows it to persistently store large amounts of key-value pairs without the overhead and complexity of similar approaches such as BerkeleyDB.\r\n\r\nLicense: New BSD license, Language: Java\r\n\r\n**[JDBM2](http://code.google.com/p/jdbm2/)**\r\n\r\n&gt; JDBM2 provides HashMap and TreeMap which are backed by disk storage.\r\n\r\nLicense: Apache License 2.0, Language: Java\r\n\r\n**[Banana DB](http://people.apache.org/~kalle/bananadb/)**\r\n\r\n&gt; Banana DB is a self-contained key/value pair database implemented in Java.\r\n\r\nLicense: Apache License 2.0, Language: Java\r\n\r\n-----\r\n\r\nI&#39;ve tried BabuDB and JDBM2 and they work fine. BabuDB is a little bit more difficult to set up, but potentially delivers higher performance than JDBM2.\r\n\r\nThese all all databases, which allow to *persist* data on disk. There are also solutions to hold a large map in memory ([ehcache](http://ehcache.org/), [hazelcast](http://www.hazelcast.com/), ...).","title":"key-value store suggestion","body":"<p><strong><a href=\"https://github.com/xtreemfs/babudb\" rel=\"nofollow\">BabuDB</a></strong></p>\n\n<blockquote>\n  <p>BabuDB is an embedded non-relational database system. Its lean and simple design allows it to persistently store large amounts of key-value pairs without the overhead and complexity of similar approaches such as BerkeleyDB.</p>\n</blockquote>\n\n<p>License: New BSD license, Language: Java</p>\n\n<p><strong><a href=\"http://code.google.com/p/jdbm2/\" rel=\"nofollow\">JDBM2</a></strong></p>\n\n<blockquote>\n  <p>JDBM2 provides HashMap and TreeMap which are backed by disk storage.</p>\n</blockquote>\n\n<p>License: Apache License 2.0, Language: Java</p>\n\n<p><strong><a href=\"http://people.apache.org/~kalle/bananadb/\" rel=\"nofollow\">Banana DB</a></strong></p>\n\n<blockquote>\n  <p>Banana DB is a self-contained key/value pair database implemented in Java.</p>\n</blockquote>\n\n<p>License: Apache License 2.0, Language: Java</p>\n\n<hr>\n\n<p>I've tried BabuDB and JDBM2 and they work fine. BabuDB is a little bit more difficult to set up, but potentially delivers higher performance than JDBM2.</p>\n\n<p>These all all databases, which allow to <em>persist</em> data on disk. There are also solutions to hold a large map in memory (<a href=\"http://ehcache.org/\" rel=\"nofollow\">ehcache</a>, <a href=\"http://www.hazelcast.com/\" rel=\"nofollow\">hazelcast</a>, ...).</p>\n"},{"tags":[],"owner":{"account_id":4007848,"reputation":101,"user_id":3302084,"display_name":"thmarx"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410502209,"creation_date":1410502209,"answer_id":25801830,"question_id":6639080,"body_markdown":"http://www.mapdb.org/ is what you are looking for. It&#39;s a rocking fast persistent implementation of java.util.Map.\n\n## Features ##\n## Concurrent ##\nMapDB has record level locking and state-of-art concurrent engine. Its performance scales nearly linearly with number of cores. Data can be written by multiple parallel threads.\n\n## Fast ##\nMapDB has outstanding performance rivaled only by native DBs. It is result of more than a decade of optimizations and rewrites.\n\n## ACID ##\nMapDB optionally supports ACID transactions with full MVCC isolation. MapDB uses write-ahead-log or append-only store for great write durability.\n\n## Flexible ##\nMapDB can be used everywhere from in-memory cache to multi-terabyte database. It also has number of options to trade durability for write performance. This makes it very easy to configure MapDB to exactly fit your needs.\n\n## Hackable ##\nMapDB is component based, most features (instance cache, async writes, compression) are just class wrappers. It is very easy to introduce new functionality or component into MapDB.\n\n## SQL Like ##\nMapDB was developed as faster alternative to SQL engine. It has number of features which makes transition from relational database easier: secondary indexes/collections, autoincremental sequential ID, joins, triggers, composite keys\n\n## Low disk-space usage ##\nMapDB has number of features (serialization, delta key packing) to minimize disk used by its store. It also has very fast compression and custom serializers. We take disk-usage seriously and do not waste single byte.\n\n","title":"key-value store suggestion","body":"<p><a href=\"http://www.mapdb.org/\" rel=\"nofollow noreferrer\">http://www.mapdb.org/</a> is what you are looking for. It's a rocking fast persistent implementation of java.util.Map.</p>\n<h2>Features</h2>\n<h2>Concurrent</h2>\n<p>MapDB has record level locking and state-of-art concurrent engine. Its performance scales nearly linearly with number of cores. Data can be written by multiple parallel threads.</p>\n<h2>Fast</h2>\n<p>MapDB has outstanding performance rivaled only by native DBs. It is result of more than a decade of optimizations and rewrites.</p>\n<h2>ACID</h2>\n<p>MapDB optionally supports ACID transactions with full MVCC isolation. MapDB uses write-ahead-log or append-only store for great write durability.</p>\n<h2>Flexible</h2>\n<p>MapDB can be used everywhere from in-memory cache to multi-terabyte database. It also has number of options to trade durability for write performance. This makes it very easy to configure MapDB to exactly fit your needs.</p>\n<h2>Hackable</h2>\n<p>MapDB is component based, most features (instance cache, async writes, compression) are just class wrappers. It is very easy to introduce new functionality or component into MapDB.</p>\n<h2>SQL Like</h2>\n<p>MapDB was developed as faster alternative to SQL engine. It has number of features which makes transition from relational database easier: secondary indexes/collections, autoincremental sequential ID, joins, triggers, composite keys</p>\n<h2>Low disk-space usage</h2>\n<p>MapDB has number of features (serialization, delta key packing) to minimize disk used by its store. It also has very fast compression and custom serializers. We take disk-usage seriously and do not waste single byte.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417854696,"creation_date":1417854696,"answer_id":27329809,"question_id":6639080,"body_markdown":"Consider [Koloboke Collections](https://github.com/OpenHFT/Koloboke), which is up to 2 times faster than Trove according to various tests:\r\n\r\n - [Time - memory tradeoff with the example of Java Maps](http://java.dzone.com/articles/time-memory-tradeoff-example)\r\n - [Large HashMap overview: JDK, FastUtil, Goldman Sachs, HPPC, Koloboke, Trove](http://java-performance.info/large-hashmap-overview-jdk-fastutil-goldman-sachs-hppc-koloboke-trove)\r\n\r\nif configured to consume the same memory as Trove. Or alternatively, you can think it consumes considerably lesser memory if configured to be equally fast to Trove.\r\n\r\n---\r\nIf you want to persist the map between JVM runs with very quick bootstrap, you might also be interested in [Chronicle-Map](https://github.com/OpenHFT/Chronicle-Map) which stores `String`s in UTF-8 by default (so you shouldn&#39;t bother with conversions `String` &lt;-&gt; `byte[]` as with Koloboke/Trove). Chronicle-Map is ultra fast for persisted key-value store, but a bit slower that Koloboke and even Trove.","title":"key-value store suggestion","body":"<p>Consider <a href=\"https://github.com/OpenHFT/Koloboke\" rel=\"nofollow\">Koloboke Collections</a>, which is up to 2 times faster than Trove according to various tests:</p>\n\n<ul>\n<li><a href=\"http://java.dzone.com/articles/time-memory-tradeoff-example\" rel=\"nofollow\">Time - memory tradeoff with the example of Java Maps</a></li>\n<li><a href=\"http://java-performance.info/large-hashmap-overview-jdk-fastutil-goldman-sachs-hppc-koloboke-trove\" rel=\"nofollow\">Large HashMap overview: JDK, FastUtil, Goldman Sachs, HPPC, Koloboke, Trove</a></li>\n</ul>\n\n<p>if configured to consume the same memory as Trove. Or alternatively, you can think it consumes considerably lesser memory if configured to be equally fast to Trove.</p>\n\n<hr>\n\n<p>If you want to persist the map between JVM runs with very quick bootstrap, you might also be interested in <a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow\">Chronicle-Map</a> which stores <code>String</code>s in UTF-8 by default (so you shouldn't bother with conversions <code>String</code> &lt;-> <code>byte[]</code> as with Koloboke/Trove). Chronicle-Map is ultra fast for persisted key-value store, but a bit slower that Koloboke and even Trove.</p>\n"},{"tags":[],"owner":{"account_id":95634,"reputation":1154,"user_id":260329,"display_name":"Dieter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486166064,"creation_date":1486166064,"answer_id":42034858,"question_id":6639080,"body_markdown":"Just wanted to reference some more open source options that became available over time since this question was first asked.\r\n\r\nApache 2, BTree, Apache Directory Project JDBM replacement effort:\r\n\r\nhttp://directory.apache.org/mavibot/\r\n\r\nMPL2/EPL1, RTree, MVStore, H2 Storage Engine:\r\n\r\nhttp://www.h2database.com/html/mvstore.html\r\n\r\nApache 2, Xodus Environments, JetBrains YouTrack and Hub storage engine: \r\n\r\nhttps://github.com/JetBrains/xodus\r\n","title":"key-value store suggestion","body":"<p>Just wanted to reference some more open source options that became available over time since this question was first asked.</p>\n\n<p>Apache 2, BTree, Apache Directory Project JDBM replacement effort:</p>\n\n<p><a href=\"http://directory.apache.org/mavibot/\" rel=\"nofollow noreferrer\">http://directory.apache.org/mavibot/</a></p>\n\n<p>MPL2/EPL1, RTree, MVStore, H2 Storage Engine:</p>\n\n<p><a href=\"http://www.h2database.com/html/mvstore.html\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/mvstore.html</a></p>\n\n<p>Apache 2, Xodus Environments, JetBrains YouTrack and Hub storage engine: </p>\n\n<p><a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/xodus</a></p>\n"},{"tags":[],"owner":{"account_id":1165206,"reputation":637,"user_id":1143792,"display_name":"Andrey Lomakin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996700,"creation_date":1667996700,"answer_id":74374853,"question_id":6639080,"body_markdown":"You can use [Xodus KV][1]. \r\nThat is a key-value store used in production by JetBrains in the YouTrack product.\r\nIt provides snapshot isolation with readers not competing with writers.\r\nJetBrains actively supports it.\r\n\r\nXodus also has an [entity store][2] solution which, along with [ORM][3] implemented in Kotlin, can be used as a primary database in your project.\r\n\r\nThere are [plans][4] to implement SQL language, which will allow using Xodus as the primary database for projects written in other languages.\r\n\r\n  [1]: https://github.com/JetBrains/xodus\r\n  [2]: https://github.com/JetBrains/xodus/wiki/Entity-Stores\r\n  [3]: https://jetbrains.github.io/xodus-dnq/\r\n  [4]: https://twitter.com/Andrey_Lomakin/status/1583796911609630720","title":"key-value store suggestion","body":"<p>You can use <a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">Xodus KV</a>.\nThat is a key-value store used in production by JetBrains in the YouTrack product.\nIt provides snapshot isolation with readers not competing with writers.\nJetBrains actively supports it.</p>\n<p>Xodus also has an <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores\" rel=\"nofollow noreferrer\">entity store</a> solution which, along with <a href=\"https://jetbrains.github.io/xodus-dnq/\" rel=\"nofollow noreferrer\">ORM</a> implemented in Kotlin, can be used as a primary database in your project.</p>\n<p>There are <a href=\"https://twitter.com/Andrey_Lomakin/status/1583796911609630720\" rel=\"nofollow noreferrer\">plans</a> to implement SQL language, which will allow using Xodus as the primary database for projects written in other languages.</p>\n"}],"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12978,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6639114,"answer_count":7,"score":12,"last_activity_date":1667996700,"creation_date":1310270512,"question_id":6639080,"body_markdown":"I need a very basic key-value store for java. I started with a HashMap but it seems that HashMap is somewhat space inefficient (I&#39;m storing ~20 million records, and seems to require ~6GB RAM). \r\n\r\nThe map is `Map&lt;Integer,String&gt;`, and so I&#39;m considering using GNU Trove `TIntObjectHashMap&lt;byte[]&gt;`, and storing the map value as an ascii byte array rather than String. \r\n\r\nAs an alternative to that, is there a key-value store that only requires adding jar files, does not hold the entire map in RAM at once, and is still reasonably fast?","title":"key-value store suggestion","body":"<p>I need a very basic key-value store for java. I started with a HashMap but it seems that HashMap is somewhat space inefficient (I'm storing ~20 million records, and seems to require ~6GB RAM). </p>\n\n<p>The map is <code>Map&lt;Integer,String&gt;</code>, and so I'm considering using GNU Trove <code>TIntObjectHashMap&lt;byte[]&gt;</code>, and storing the map value as an ascii byte array rather than String. </p>\n\n<p>As an alternative to that, is there a key-value store that only requires adding jar files, does not hold the entire map in RAM at once, and is still reasonably fast?</p>\n"},{"tags":["java","spring-boot","executable-jar","embedded-resource"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667989373,"post_id":74373144,"comment_id":131297393,"body_markdown":"Please don&#39;t forget to `clean` ..and this: https://www.baeldung.com/spring-boot-repackage-vs-mvn-package","body":"Please don&#39;t forget to <code>clean</code> ..and this: <a href=\"https://www.baeldung.com/spring-boot-repackage-vs-mvn-package\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-repackage-vs-mvn-package</a>"},{"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"score":0,"creation_date":1667996141,"post_id":74373144,"comment_id":131299791,"body_markdown":"does not work, spring repackage is ok, but the result is the same. I mean, the file exists in the jar file, and in the right position! more over I&#39;ve tried to put @Value(&quot;classpath*:Graphic.xlsx&quot;)\n    private Resource excelTemplateFile; \nBut still not work. I suppose it is a problem with the JVM  (build 17.0.2+8-LTS-86) because I can remember that with very old JVMs , this approach has always worked very well.","body":"does not work, spring repackage is ok, but the result is the same. I mean, the file exists in the jar file, and in the right position! more over I&#39;ve tried to put @Value(&quot;classpath*:Graphic.xlsx&quot;)     private Resource excelTemplateFile;  But still not work. I suppose it is a problem with the JVM  (build 17.0.2+8-LTS-86) because I can remember that with very old JVMs , this approach has always worked very well."},{"owner":{"account_id":13692927,"reputation":944,"user_id":9880276,"display_name":"Rasika Weragoda"},"score":0,"creation_date":1677498935,"post_id":74373144,"comment_id":133343118,"body_markdown":"Did you exclude.xlsx extensions in the maven jar plugin when you were building the jar?","body":"Did you exclude.xlsx extensions in the maven jar plugin when you were building the jar?"},{"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"score":0,"creation_date":1683360879,"post_id":74373144,"comment_id":134357811,"body_markdown":"Hi Rasika, I checked the content of the jar file and It Is correct.","body":"Hi Rasika, I checked the content of the jar file and It Is correct."}],"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667996501,"creation_date":1667988937,"question_id":74373144,"body_markdown":"I can&#39;t read a resource file inside spring flat file.\r\nI&#39;ve put my resource file inside \r\n`src/main/resources`\r\nfolder, and then in my `@Component` class:\r\n`\r\n    @Value(&quot;classpath:Graphic.xlsx&quot;)\r\n    private Resource excelTemplateFile;\r\n`\r\n\r\nIt works if I run my app using:\r\n`\r\nmvn spring-boot:run\r\n`\r\nbut if I build my flat jar:\r\n`\r\nmvn package\r\n`\r\n\r\n`\r\njava -jar target\\myapp-0.0.2-SNAPSHOT.jar\r\n`\r\n\r\nand I run it, IT does not work!\r\n\r\n\r\n\r\n\r\nThe result is surprising:\r\n`\r\n11:07:18.894 ERROR - class path resource [Graphic.xlsx] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/hp/Projects/myApp/target/myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx\r\n`\r\n\r\nIt is surprising because the file is exactly included in the jar file in that position (myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx)\r\n\r\nSo, why?\r\nI&#39;m trying to use ResourceUtils, or read it in other ways, but the result is the same.\r\nHow can I solve it?\r\nthx.\r\n\r\nEnvironment:\r\nwindows 64 bit.\r\n\r\njava 17.0.2 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\nSpring boot:\r\nPom parent : spring-boot-starter-parent 2.6.7\r\nspring dependencies:  spring-shell-starter 2.1.0 and spring-boot-starter-data-jpa  \r\n\r\n","title":"spring boot: cannot read resource inside flat jar","body":"<p>I can't read a resource file inside spring flat file.\nI've put my resource file inside\n<code>src/main/resources</code>\nfolder, and then in my <code>@Component</code> class:\n<code>@Value(&quot;classpath:Graphic.xlsx&quot;) private Resource excelTemplateFile;</code></p>\n<p>It works if I run my app using:\n<code>mvn spring-boot:run</code>\nbut if I build my flat jar:\n<code>mvn package</code></p>\n<p><code>java -jar target\\myapp-0.0.2-SNAPSHOT.jar</code></p>\n<p>and I run it, IT does not work!</p>\n<p>The result is surprising:\n<code>11:07:18.894 ERROR - class path resource [Graphic.xlsx] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/hp/Projects/myApp/target/myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx</code></p>\n<p>It is surprising because the file is exactly included in the jar file in that position (myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx)</p>\n<p>So, why?\nI'm trying to use ResourceUtils, or read it in other ways, but the result is the same.\nHow can I solve it?\nthx.</p>\n<p>Environment:\nwindows 64 bit.</p>\n<p>java 17.0.2 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>Spring boot:\nPom parent : spring-boot-starter-parent 2.6.7\nspring dependencies:  spring-shell-starter 2.1.0 and spring-boot-starter-data-jpa</p>\n"},{"tags":["java","facebook","facebook-graph-api","facebook-marketing-api"],"answers":[{"tags":[],"owner":{"account_id":2907723,"reputation":1350,"user_id":2492620,"accept_rate":94,"display_name":"Michael Queue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449813606,"creation_date":1449253164,"answer_id":34094900,"question_id":34094253,"body_markdown":"You can use \r\n\r\n   [RestFB](http://restfb.com/)\r\n\r\n&gt; The Marketing API support is currently in a beta state and you may use\r\n&gt; it at your own risk. We would like to hear your feedback and hope you\r\n&gt; open any issue at Github or write a message to Google Groups.\r\n\r\nHere are the Java Docs &lt;br&gt;\r\nhttp://restfb.com/javadoc/index.html&lt;br&gt;\r\nhttp://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html\r\nhttp://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html\r\n\r\nBesides RestFB, Spring Social seems to be the best contender:\r\n\r\n\r\n* [Java (Spring) by Spring Social](http://www.springsource.org/spring-social/) - Looks like there is a pull request to integrate the ads management api, but, it hasn&#39;t been merged. https://github.com/spring-projects/spring-social-facebook/pull/155/files\r\n\r\n\r\nAdditionally, there is also Facebook4j\r\nhttp://facebook4j.org/en/index.html","title":"Accessing Facebook Marketing API from Java","body":"<p>You can use </p>\n\n<p><a href=\"http://restfb.com/\" rel=\"nofollow\">RestFB</a></p>\n\n<blockquote>\n  <p>The Marketing API support is currently in a beta state and you may use\n  it at your own risk. We would like to hear your feedback and hope you\n  open any issue at Github or write a message to Google Groups.</p>\n</blockquote>\n\n<p>Here are the Java Docs <br>\n<a href=\"http://restfb.com/javadoc/index.html\" rel=\"nofollow\">http://restfb.com/javadoc/index.html</a><br>\n<a href=\"http://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html\" rel=\"nofollow\">http://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html</a>\n<a href=\"http://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html\" rel=\"nofollow\">http://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html</a></p>\n\n<p>Besides RestFB, Spring Social seems to be the best contender:</p>\n\n<ul>\n<li><a href=\"http://www.springsource.org/spring-social/\" rel=\"nofollow\">Java (Spring) by Spring Social</a> - Looks like there is a pull request to integrate the ads management api, but, it hasn't been merged. <a href=\"https://github.com/spring-projects/spring-social-facebook/pull/155/files\" rel=\"nofollow\">https://github.com/spring-projects/spring-social-facebook/pull/155/files</a></li>\n</ul>\n\n<p>Additionally, there is also Facebook4j\n<a href=\"http://facebook4j.org/en/index.html\" rel=\"nofollow\">http://facebook4j.org/en/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1755126,"reputation":31445,"user_id":1603357,"accept_rate":59,"display_name":"Tobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449843246,"creation_date":1449843246,"answer_id":34225554,"question_id":34094253,"body_markdown":"Well, the Marketing API docs are here:\r\n\r\n* https://developers.facebook.com/docs/marketing-apis\r\n\r\nThe quickstart is here:\r\n\r\n* https://developers.facebook.com/docs/marketing-api/quickstart\r\n\r\nThe reference is here:\r\n\r\n* https://developers.facebook.com/docs/marketing-api/reference/v2.5\r\n\r\nEven if maybe RestFb does not support this, you can always use direct HTTP calls to the Marketing API (for example via [Apache HttpComponents](https://hc.apache.org/)).","title":"Accessing Facebook Marketing API from Java","body":"<p>Well, the Marketing API docs are here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-apis\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-apis</a></li>\n</ul>\n\n<p>The quickstart is here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-api/quickstart\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-api/quickstart</a></li>\n</ul>\n\n<p>The reference is here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-api/reference/v2.5\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-api/reference/v2.5</a></li>\n</ul>\n\n<p>Even if maybe RestFb does not support this, you can always use direct HTTP calls to the Marketing API (for example via <a href=\"https://hc.apache.org/\" rel=\"nofollow\">Apache HttpComponents</a>).</p>\n"},{"tags":[],"owner":{"account_id":2450305,"reputation":121,"user_id":2136763,"display_name":"Jiaming"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1450335833,"creation_date":1450335833,"answer_id":34328547,"question_id":34094253,"body_markdown":"There is newly released Java SDK (beta) for Marketing API: https://github.com/facebook/facebook-java-ads-sdk. You can give a try.\r\n\r\n","title":"Accessing Facebook Marketing API from Java","body":"<p>There is newly released Java SDK (beta) for Marketing API: <a href=\"https://github.com/facebook/facebook-java-ads-sdk\" rel=\"nofollow\">https://github.com/facebook/facebook-java-ads-sdk</a>. You can give a try.</p>\n"}],"owner":{"account_id":429057,"reputation":1624,"user_id":811750,"accept_rate":59,"display_name":"Faisal Basra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3953,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34328547,"answer_count":3,"score":2,"last_activity_date":1667996486,"creation_date":1449250795,"question_id":34094253,"body_markdown":"We have Java based CRM and want to integrate facebook campaign management. I checked facebook marketing api and they provide PHP and Python based SDKs. I&#39;m wondering how we can access/consume facebook marketing api in Java, there should be some rest interface which I could not find. \r\n\r\nAnyone have idea? ","title":"Accessing Facebook Marketing API from Java","body":"<p>We have Java based CRM and want to integrate facebook campaign management. I checked facebook marketing api and they provide PHP and Python based SDKs. I'm wondering how we can access/consume facebook marketing api in Java, there should be some rest interface which I could not find. </p>\n\n<p>Anyone have idea? </p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1466266993,"creation_date":1466266523,"answer_id":37899074,"question_id":37898797,"body_markdown":"Type annotations in Java 8 are mainly around to support stronger type checking.\r\n\r\nFrom https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html:\r\n\r\n&gt; Type annotations were created to support improved analysis of Java\r\n&gt; programs way of ensuring stronger type checking. The Java SE 8 release\r\n&gt; does not provide a type checking framework, but it allows you to write\r\n&gt; (or download) a type checking framework that is implemented as one or\r\n&gt; more pluggable modules that are used in conjunction with the Java\r\n&gt; compiler.\r\n\r\nFrom your above example, you should use the `@EmailField` field annotation, and you should also add `@Retention(RetentionPolicy.RUNTIME)` so that you can use reflection to check for this annotation at runtime as follows:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface EmailField {}\r\n\r\n","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Type annotations in Java 8 are mainly around to support stronger type checking.</p>\n\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html</a>:</p>\n\n<blockquote>\n  <p>Type annotations were created to support improved analysis of Java\n  programs way of ensuring stronger type checking. The Java SE 8 release\n  does not provide a type checking framework, but it allows you to write\n  (or download) a type checking framework that is implemented as one or\n  more pluggable modules that are used in conjunction with the Java\n  compiler.</p>\n</blockquote>\n\n<p>From your above example, you should use the <code>@EmailField</code> field annotation, and you should also add <code>@Retention(RetentionPolicy.RUNTIME)</code> so that you can use reflection to check for this annotation at runtime as follows:</p>\n\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@interface EmailField {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466295394,"creation_date":1466295394,"answer_id":37902773,"question_id":37898797,"body_markdown":"Here is the difference between declaration annotations and type annotations:\r\n\r\n * A declaration annotation on a field gives information about the *variable*, such as that the field is deprecated and clients should use a getter method instead.\r\n * A type annotation gives information about the *value*, such as that an integer value is greater than zero.\r\n\r\nYour annotation gives information about the values:  the string should be a legal email address.  Therefore, you should use a type annotation, `@EmailType` (though I would just name it `@Email`).\r\n\r\nYou can validate a type annotation at compile time, run time, or both.\r\n","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Here is the difference between declaration annotations and type annotations:</p>\n\n<ul>\n<li>A declaration annotation on a field gives information about the <em>variable</em>, such as that the field is deprecated and clients should use a getter method instead.</li>\n<li>A type annotation gives information about the <em>value</em>, such as that an integer value is greater than zero.</li>\n</ul>\n\n<p>Your annotation gives information about the values:  the string should be a legal email address.  Therefore, you should use a type annotation, <code>@EmailType</code> (though I would just name it <code>@Email</code>).</p>\n\n<p>You can validate a type annotation at compile time, run time, or both.</p>\n"},{"tags":[],"owner":{"account_id":19723983,"reputation":1,"user_id":14440951,"display_name":"vobino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996315,"creation_date":1667996315,"answer_id":74374779,"question_id":37898797,"body_markdown":"Simple example is still much easier to understand than many explanations.\r\n\r\nTYPE_USE is use for this purpose :\r\n\r\nprivate List&lt;**@ValidEmail** String&gt; emails;","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Simple example is still much easier to understand than many explanations.</p>\n<p>TYPE_USE is use for this purpose :</p>\n<p>private List&lt;<strong>@ValidEmail</strong> String&gt; emails;</p>\n"}],"owner":{"account_id":1503831,"reputation":1088,"user_id":1407698,"accept_rate":57,"display_name":"ieXcept"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3046,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37899074,"answer_count":3,"score":2,"last_activity_date":1667996315,"creation_date":1466264657,"question_id":37898797,"body_markdown":"I not fully understand the difference between annotating variable and annotating its type. \r\nShould I prefer type annotation over declaration annotation in this scenario?\r\n\r\n    @EmailField // can be used on String or Array/Collection of String-s\r\n    private String email;\r\n    private @EmailType String email2;\r\n    @EmailField\r\n    private List&lt;@EmailType String&gt; emails;\r\n\r\n    @Target(ElementType.TYPE_USE)\r\n    @interface EmailType {}\r\n\r\n    @Target(ElementType.FIELD)\r\n    @interface EmailField {}","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>I not fully understand the difference between annotating variable and annotating its type. \nShould I prefer type annotation over declaration annotation in this scenario?</p>\n\n<pre><code>@EmailField // can be used on String or Array/Collection of String-s\nprivate String email;\nprivate @EmailType String email2;\n@EmailField\nprivate List&lt;@EmailType String&gt; emails;\n\n@Target(ElementType.TYPE_USE)\n@interface EmailType {}\n\n@Target(ElementType.FIELD)\n@interface EmailField {}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1602810073,"post_id":64381510,"comment_id":113844523,"body_markdown":"When you create and share a pre-signed URL, *you* dictate the object&#39;s bucket and key (nothing else would be sensible). If you want to give the client the opportunity to propose a key then have them send you that in advance, validate it, and include it in your pre-signed calculation.","body":"When you create and share a pre-signed URL, <i>you</i> dictate the object&#39;s bucket and key (nothing else would be sensible). If you want to give the client the opportunity to propose a key then have them send you that in advance, validate it, and include it in your pre-signed calculation."}],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222466,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1602810315,"creation_date":1602810315,"answer_id":64381596,"question_id":64381510,"body_markdown":"Object key is integral part of the pre-signed url and is required by the algorithm which generates the url:\r\n\r\n - [Authenticating Requests: Using Query Parameters (AWS Signature Version 4)](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html)\r\n\r\nThus, you **can&#39;t change** the key.","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>Object key is integral part of the pre-signed url and is required by the algorithm which generates the url:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html\" rel=\"nofollow noreferrer\">Authenticating Requests: Using Query Parameters (AWS Signature Version 4)</a></li>\n</ul>\n<p>Thus, you <strong>can't change</strong> the key.</p>\n"},{"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667996191,"creation_date":1667921285,"answer_id":74363244,"question_id":64381510,"body_markdown":"S3 can use the user-provided filename if you put `${filename}` in the signed key.\r\n\r\nDocs are at https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\r\n\r\nPerhaps your problem is PUT vs POST?\r\n\r\nThere is a worked example here that uses this in an HTML form with `${filename}` in the `key`: https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>S3 can use the user-provided filename if you put <code>${filename}</code> in the signed key.</p>\n<p>Docs are at <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html</a></p>\n<p>Perhaps your problem is PUT vs POST?</p>\n<p>There is a worked example here that uses this in an HTML form with <code>${filename}</code> in the <code>key</code>: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html</a></p>\n"}],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667996191,"creation_date":1602809442,"question_id":64381510,"body_markdown":"I am trying to upload files into S3 bucket using presigned PUT URL like below\r\n\r\n    String tempFileKey = UUID.randomUUID().toString();\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n                        new GeneratePresignedUrlRequest(tempBucketName, tempFileKey)\r\n                                .withMethod(HttpMethod.PUT)\r\n                                .withExpiration(expiration);\r\n        URL fileUrl = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\nThe problem with above approach is if the user uploads a file named &#39;xyz.jpg&#39;, I am not able to retain the file name (or extension) in the s3 bucket. The file gets saved with the tempFileKey as name. I won&#39;t be knowing the file name or extension while creating the presigned url.\r\n\r\nI tried using ${filename} as tempFilekey as suggested in https://stackoverflow.com/questions/26386520/sending-file-direct-from-browser-to-s3-but-changing-file-name but it is just getting saved under the name ${filename} (literally)","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>I am trying to upload files into S3 bucket using presigned PUT URL like below</p>\n<pre><code>String tempFileKey = UUID.randomUUID().toString();\n    GeneratePresignedUrlRequest generatePresignedUrlRequest =\n                    new GeneratePresignedUrlRequest(tempBucketName, tempFileKey)\n                            .withMethod(HttpMethod.PUT)\n                            .withExpiration(expiration);\n    URL fileUrl = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n</code></pre>\n<p>The problem with above approach is if the user uploads a file named 'xyz.jpg', I am not able to retain the file name (or extension) in the s3 bucket. The file gets saved with the tempFileKey as name. I won't be knowing the file name or extension while creating the presigned url.</p>\n<p>I tried using ${filename} as tempFilekey as suggested in <a href=\"https://stackoverflow.com/questions/26386520/sending-file-direct-from-browser-to-s3-but-changing-file-name\">Sending file direct from browser to S3 but changing file name</a> but it is just getting saved under the name ${filename} (literally)</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667997274,"post_id":74374546,"comment_id":131300166,"body_markdown":"Yes and no. The date in your database hasnt got a format, only an internal binary format that we dont want to know about. So it depends on your RDBMS (database engine/brand) how it prints the date when you retrieve it, but I would suppose that if you use data type `date` instead of `timestamp without time zone`, then it will print exactly `2022-11-09`.","body":"Yes and no. The date in your database hasnt got a format, only an internal binary format that we dont want to know about. So it depends on your RDBMS (database engine/brand) how it prints the date when you retrieve it, but I would suppose that if you use data type <code>date</code> instead of <code>timestamp without time zone</code>, then it will print exactly <code>2022-11-09</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667997389,"post_id":74374546,"comment_id":131300208,"body_markdown":"In Java I strongly recommend that you dont use any of the two `Date` classes nor `SimpleDateFormat` since they are all troublesome and outdated. Use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And a `DateTimeFormatter` in case you need to format or parse dates. Hibernate supports java.time at least since version 5.","body":"In Java I strongly recommend that you dont use any of the two <code>Date</code> classes nor <code>SimpleDateFormat</code> since they are all troublesome and outdated. Use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And a <code>DateTimeFormatter</code> in case you need to format or parse dates. Hibernate supports java.time at least since version 5."}],"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667996130,"creation_date":1667995233,"question_id":74374546,"body_markdown":"I have a Date object like 2022-11-09 in my Reservation class, but whenever it gets added to the database and I run the query select * from reservations. I get an output like:\r\n2022-11-09 01:00:00\r\n\r\nNow this causes a lot of problems since I would like to return all objects that have date 2022-11-09 . Every time no objects are returned since JPARepo doesn&#39;t return anything probably because my Date object doesn&#39;t match the SQL&#39;s Date (with time).\r\n\r\nTo give you more information I will add some screenshots and code:\r\n```\r\n\r\n@Entity(name = &quot;reservations&quot;)\r\npublic class Reservation {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Date date;\r\n\r\n    private Boolean voormiddag;\r\n    private Boolean namiddag;\r\n\r\n    private Long roomId;\r\n    private String username;\r\n```\r\nselect * from reservations returns: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs there a way to just store the java Date-Object (yyyy-MM-dd) as the same format (so without time) in the database?\r\n\r\nI found these solutions, but they change my Date object to type String and this is NOT what I want:\r\n[![https://stackoverflow.com/questions/67794434/spring-boot-insert-date-in-database-in-dd-mm-yyyy-format8][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NcuaZ.png\r\n  [2]: https://i.stack.imgur.com/1k3ZT.png","title":"Springboot add yyyy-MM-dd to database using hibernate","body":"<p>I have a Date object like 2022-11-09 in my Reservation class, but whenever it gets added to the database and I run the query select * from reservations. I get an output like:\n2022-11-09 01:00:00</p>\n<p>Now this causes a lot of problems since I would like to return all objects that have date 2022-11-09 . Every time no objects are returned since JPARepo doesn't return anything probably because my Date object doesn't match the SQL's Date (with time).</p>\n<p>To give you more information I will add some screenshots and code:</p>\n<pre><code>\n@Entity(name = &quot;reservations&quot;)\npublic class Reservation {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Date date;\n\n    private Boolean voormiddag;\n    private Boolean namiddag;\n\n    private Long roomId;\n    private String username;\n</code></pre>\n<p>select * from reservations returns:\n<a href=\"https://i.stack.imgur.com/NcuaZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcuaZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to just store the java Date-Object (yyyy-MM-dd) as the same format (so without time) in the database?</p>\n<p>I found these solutions, but they change my Date object to type String and this is NOT what I want:\n<a href=\"https://i.stack.imgur.com/1k3ZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1k3ZT.png\" alt=\"https://stackoverflow.com/questions/67794434/spring-boot-insert-date-in-database-in-dd-mm-yyyy-format8\" /></a></p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":3164780,"reputation":79,"user_id":2675040,"accept_rate":43,"display_name":"user2675040"},"score":1,"creation_date":1433741721,"post_id":30701852,"comment_id":49461605,"body_markdown":"I haven&#39;t added the code for beyond long because it always end up in error so please suggest me something.","body":"I haven&#39;t added the code for beyond long because it always end up in error so please suggest me something."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1433741869,"post_id":30701852,"comment_id":49461662,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1433742526,"creation_date":1433741922,"answer_id":30701904,"question_id":30701852,"body_markdown":"`Long.parseLong` throws a `NumberFormatException` if you pass to it a number that can&#39;t be parsed as long. You can catch that exception and try to parse it as a `BigInteger`. If you succeed, you&#39;ll know that the input is a valid number that simply doesn&#39;t fit as long.\r\n\r\nFor example :\r\n\r\n        try {\r\n          System.out.println(&quot;Valid Long: &quot; + Long.parseLong(&quot;1234567890123456789012345&quot;));\r\n        } catch (NumberFormatException n) {\r\n          System.out.println(&quot;Valid Big Integer: &quot; + new BigInteger (&quot;1234567890123456789012345&quot;).toString());\r\n        }\r\n\r\nThis prints :\r\n\r\n    Valid Big Integer: 1234567890123456789012345\r\n\r\nwhich means 1234567890123456789012345 is not a valid long.\r\n\r\nIf the `BigInteger` constructor also throws a `NumberFormatException`, you know that the input can&#39;t be parsed as a valid number (this will happen, for example, if the parsed `String` contains non-numeric characters).","title":"How to check the range that exists beyond Long range in Java?","body":"<p><code>Long.parseLong</code> throws a <code>NumberFormatException</code> if you pass to it a number that can't be parsed as long. You can catch that exception and try to parse it as a <code>BigInteger</code>. If you succeed, you'll know that the input is a valid number that simply doesn't fit as long.</p>\n\n<p>For example :</p>\n\n<pre><code>    try {\n      System.out.println(\"Valid Long: \" + Long.parseLong(\"1234567890123456789012345\"));\n    } catch (NumberFormatException n) {\n      System.out.println(\"Valid Big Integer: \" + new BigInteger (\"1234567890123456789012345\").toString());\n    }\n</code></pre>\n\n<p>This prints :</p>\n\n<pre><code>Valid Big Integer: 1234567890123456789012345\n</code></pre>\n\n<p>which means 1234567890123456789012345 is not a valid long.</p>\n\n<p>If the <code>BigInteger</code> constructor also throws a <code>NumberFormatException</code>, you know that the input can't be parsed as a valid number (this will happen, for example, if the parsed <code>String</code> contains non-numeric characters).</p>\n"},{"tags":[],"owner":{"account_id":6407271,"reputation":1338,"user_id":4968030,"accept_rate":100,"display_name":"Kalyan Chavali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433742428,"creation_date":1433741984,"answer_id":30701913,"question_id":30701852,"body_markdown":"Use BigInteger and compare it with Long.MAX_VALUE . Practically BigInteger doesn&#39;t have any limit.","title":"How to check the range that exists beyond Long range in Java?","body":"<p>Use BigInteger and compare it with Long.MAX_VALUE . Practically BigInteger doesn't have any limit.</p>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433743710,"creation_date":1433743710,"answer_id":30702230,"question_id":30701852,"body_markdown":"when number exceed Long.MAX_VALUE, Long.parseLong  throws a NumberFormatException [issue][1]\r\nyou can assign variable as BigInteger and compare with Long.MAX_VALUE. \r\n \r\n\r\n    public void check(String data){\r\n\tdata = &quot;1234567890123456789012345&quot;;\r\n\tBigInteger bg = new BigInteger (data);\r\n    \r\n    try{\r\n     //check number is in long.MAX_VALUE\r\n     System.out.println(bg.compareTo(new BigInteger (String.valueOf(Long.MAX_VALUE))));\r\n    }catch (NumberFormatException n) {\r\n        System.out.println(&quot;not a valid number&quot;);\r\n    }}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25922439/java-long-parselong-throwing-number-format-exception","title":"How to check the range that exists beyond Long range in Java?","body":"<p>when number exceed Long.MAX_VALUE, Long.parseLong  throws a NumberFormatException <a href=\"https://stackoverflow.com/questions/25922439/java-long-parselong-throwing-number-format-exception\">issue</a>\nyou can assign variable as BigInteger and compare with Long.MAX_VALUE. </p>\n\n<pre><code>public void check(String data){\ndata = \"1234567890123456789012345\";\nBigInteger bg = new BigInteger (data);\n\ntry{\n //check number is in long.MAX_VALUE\n System.out.println(bg.compareTo(new BigInteger (String.valueOf(Long.MAX_VALUE))));\n}catch (NumberFormatException n) {\n    System.out.println(\"not a valid number\");\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996109,"creation_date":1667986027,"answer_id":74372562,"question_id":30701852,"body_markdown":"I used as   \r\n\r\n    public  static boolean isNumberLargerThan(Number a, double maxValue) {\r\n            return new BigDecimal(String.valueOf(a.toString())).compareTo(new BigDecimal(maxValue))==1 ? true : false;\r\n        } \r\nOn a note this way is expensive","title":"How to check the range that exists beyond Long range in Java?","body":"<p>I used as</p>\n<pre><code>public  static boolean isNumberLargerThan(Number a, double maxValue) {\n        return new BigDecimal(String.valueOf(a.toString())).compareTo(new BigDecimal(maxValue))==1 ? true : false;\n    } \n</code></pre>\n<p>On a note this way is expensive</p>\n"}],"owner":{"account_id":3164780,"reputation":79,"user_id":2675040,"accept_rate":43,"display_name":"user2675040"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6633,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30701904,"answer_count":4,"score":6,"last_activity_date":1667996109,"creation_date":1433741643,"question_id":30701852,"body_markdown":"So I want to check the number that is beyond the range of Long Datatype in Java. I have written some code but it does not go beyond the range of Long . What if I have given the number more than range of Long and it is supposed to be print that it is beyond long range or something.\r\nhere is my code :\r\n\r\n\timport java.math.BigInteger;\r\n\timport java.util.Scanner;\r\n\t\r\n\tpublic class Solution {\r\n\t\r\n\t\tpublic void check(String data) {\r\n\t\t\tSystem.out.println(data + &quot; can be fitted in:&quot;);\r\n\t\t\tLong bInt = Long.parseLong(data);\r\n\t\t\tif (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* byte&quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* short &quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* int &quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* long &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSolution solution = new Solution();\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint data = Integer.parseInt(sc.nextLine());\r\n\t\t\tString[] array = new String[data];\r\n\t\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; data; i++) {\r\n\t\t\t\tarray[i] = sc1.nextLine();\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\t\tsolution.check(array[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nwith the help of `Eran` i changed the code slightly and it works.\r\n\r\n**Updated code :**\r\n\r\n\timport java.math.BigInteger;\r\n\timport java.util.Scanner;\r\n\t\r\n\t/**\r\n\t * \r\n\t * @author pez\r\n\t */\r\n\tpublic class Solution {\r\n\t\r\n\t\tpublic void check(String data) {\r\n\t\t\ttry {\r\n\t\t\t\tLong bInt = Long.parseLong(data);\r\n\t\t\t\tSystem.out.println(data + &quot; can be fitted in:&quot;);\r\n\t\t\t\tif (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* byte&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* short &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* int &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* long &quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\tSystem.out.println(data + &quot; can&#39;t be fitted anywhere beyond long &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSolution solution = new Solution();\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint data = Integer.parseInt(sc.nextLine());\r\n\t\t\tString[] array = new String[data];\r\n\t\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; data; i++) {\r\n\t\t\t\tarray[i] = sc1.nextLine();\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\t\tsolution.check(array[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to check the range that exists beyond Long range in Java?","body":"<p>So I want to check the number that is beyond the range of Long Datatype in Java. I have written some code but it does not go beyond the range of Long . What if I have given the number more than range of Long and it is supposed to be print that it is beyond long range or something.\nhere is my code :</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public void check(String data) {\n        System.out.println(data + \" can be fitted in:\");\n        Long bInt = Long.parseLong(data);\n        if (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\n            System.out.println(\"* byte\");\n        }\n        if (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\n            System.out.println(\"* short \");\n        }\n        if (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\n            System.out.println(\"* int \");\n        }\n        if (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\n            System.out.println(\"* long \");\n        }\n    }\n\n    public static void main(String args[]) {\n        Solution solution = new Solution();\n        Scanner sc = new Scanner(System.in);\n        int data = Integer.parseInt(sc.nextLine());\n        String[] array = new String[data];\n\n        Scanner sc1 = new Scanner(System.in);\n\n        for (int i = 0; i &lt; data; i++) {\n            array[i] = sc1.nextLine();\n        }\n\n        for (int j = 0; j &lt; array.length; j++) {\n            solution.check(array[j]);\n        }\n    }\n}\n</code></pre>\n\n<p>with the help of <code>Eran</code> i changed the code slightly and it works.</p>\n\n<p><strong>Updated code :</strong></p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\n/**\n * \n * @author pez\n */\npublic class Solution {\n\n    public void check(String data) {\n        try {\n            Long bInt = Long.parseLong(data);\n            System.out.println(data + \" can be fitted in:\");\n            if (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\n                System.out.println(\"* byte\");\n            }\n            if (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\n                System.out.println(\"* short \");\n            }\n            if (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\n                System.out.println(\"* int \");\n            }\n            if (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\n                System.out.println(\"* long \");\n            }\n        } catch (NumberFormatException e) {\n            System.out.println(data + \" can't be fitted anywhere beyond long \");\n        }\n    }\n\n    public static void main(String args[]) {\n        Solution solution = new Solution();\n        Scanner sc = new Scanner(System.in);\n        int data = Integer.parseInt(sc.nextLine());\n        String[] array = new String[data];\n\n        Scanner sc1 = new Scanner(System.in);\n\n        for (int i = 0; i &lt; data; i++) {\n            array[i] = sc1.nextLine();\n        }\n\n        for (int j = 0; j &lt; array.length; j++) {\n            solution.check(array[j]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","camera","android-camera"],"answers":[{"tags":[],"owner":{"account_id":16816589,"reputation":13,"user_id":12158252,"display_name":"Furkan Meydan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996037,"creation_date":1667996037,"answer_id":74374707,"question_id":74374384,"body_markdown":"background service is not recommended. You can use foreground service for this job.\r\n\r\nYou need to give media and camera access permission in the code. Then you can run the capture function with n second delay and while loop as many times as you want.\r\n\r\nthere are some examples, i don&#39;t want to repeat them.\r\n[capture, save and show example][1]\r\n[take photo without ui][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5991319/capture-image-from-camera-and-display-in-activity\r\n  [2]: https://stackoverflow.com/questions/17859777/how-to-take-pictures-in-android-application-without-the-user-interface/17859926#17859926","title":"Looking for an easy way to capture images on an Android phone as a background service","body":"<p>background service is not recommended. You can use foreground service for this job.</p>\n<p>You need to give media and camera access permission in the code. Then you can run the capture function with n second delay and while loop as many times as you want.</p>\n<p>there are some examples, i don't want to repeat them.\n<a href=\"https://stackoverflow.com/questions/5991319/capture-image-from-camera-and-display-in-activity\">capture, save and show example</a>\n<a href=\"https://stackoverflow.com/questions/17859777/how-to-take-pictures-in-android-application-without-the-user-interface/17859926#17859926\">take photo without ui</a></p>\n"}],"owner":{"account_id":18857531,"reputation":9,"user_id":13757734,"display_name":"Selfish Stoic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667996037,"creation_date":1667994419,"question_id":74374384,"body_markdown":"I&#39;m trying to create an application that automatically clicks pictures as you carry your phone around, the point is that it clicks pictures as you do your own business.\r\n\r\n[This question][1] is basically what I&#39;m looking for with the added functionality of taking pictures every n seconds. I wanted to know if there was something more efficient than this method (shrinking the preview window to 1x1).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2386025/taking-picture-from-camera-without-preview?noredirect=1&amp;lq=1","title":"Looking for an easy way to capture images on an Android phone as a background service","body":"<p>I'm trying to create an application that automatically clicks pictures as you carry your phone around, the point is that it clicks pictures as you do your own business.</p>\n<p><a href=\"https://stackoverflow.com/questions/2386025/taking-picture-from-camera-without-preview?noredirect=1&amp;lq=1\">This question</a> is basically what I'm looking for with the added functionality of taking pictures every n seconds. I wanted to know if there was something more efficient than this method (shrinking the preview window to 1x1).</p>\n"},{"tags":["java","android","android-developer-api","android-mediaprojection","image-reader"],"owner":{"account_id":26824694,"reputation":11,"user_id":20413479,"display_name":"Subham Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667995745,"creation_date":1667969552,"question_id":74370062,"body_markdown":"I am trying to take multiple images but the ImageAvailabeListener function is not moving forward. I guess it is waiting for next image. I tried aquireNextImage() but it is also not working.\r\n\r\nI&#39;m taking images while MediaProjection.\r\n\r\n\r\n    class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            Image image = null;\r\n            FileOutputStream fos = null;\r\n            bitmap = null;\r\n            try {\r\n                image = mImageReader.acquireLatestImage();\r\n                Log.d(&quot;servicecheck&quot;, &quot;image&quot; + image);\r\n                Log.d(&quot;imagecheck&quot;, &quot;&quot; + image);\r\n                if (image != null) {\r\n                   \r\n\r\n                    Image.Plane[] planes = image.getPlanes();\r\n                    ByteBuffer buffer = planes[2].getBuffer();\r\n                    int pixelStride = planes[2].getPixelStride();\r\n                    int rowStride = planes[2].getRowStride();\r\n                    int rowPadding = rowStride - pixelStride * mWidth;\r\n\r\n                    // create bitmap\r\n                    bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\r\n                    \r\n                    bitmap.copyPixelsFromBuffer(buffer);\r\n                   \r\n                    // fix the extra width from Image\r\n                    Bitmap croppedBitmap;\r\n                    try {\r\n                        croppedBitmap = Bitmap.createBitmap(bitmap, 0, 0, mWidth, mHeight);\r\n                    } catch (OutOfMemoryError e) {\r\n                       \r\n                        croppedBitmap = bitmap;\r\n                    }\r\n                    if (croppedBitmap != bitmap) {\r\n                        bitmap.recycle();\r\n                    }\r\n\r\n                    // write bitmap to a file\r\n                   \r\n                    storeDirectory = new File(mStoreDir);\r\n                    storeDirectory.mkdir();\r\n                 \r\n\r\n                    fos = new FileOutputStream(storeDirectory.getAbsolutePath() + &quot;/myscreen_&quot; + Calendar.getInstance().getTime() + &quot;.png&quot;);\r\n                    croppedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n                \r\n\r\n                    //IMAGES_PRODUCED++;\r\n                    fos.flush();\r\n                    fos.close();\r\n                    \r\n                    stopProjection();\r\n                    stopSelf();\r\n                    scanFile(getApplicationContext(), Uri.fromFile(storeDirectory));\r\n                    Log.d(&quot;stoptaskcheck&quot;, &quot;stopSelf&quot;);\r\n\r\n                } else {\r\n                    Log.d(&quot;servicecheck&quot;, &quot;null image&quot; + image);\r\n\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                if (bitmap != null) {\r\n                    bitmap.recycle();\r\n                }\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n//In the below function I have created set maxImages to 20(more than 1)\r\n\r\n    @SuppressLint(&quot;WrongConstant&quot;)\r\n    private void createVirtualDisplay() {\r\n\r\n        // start capture reader\r\n\r\n        mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 20);\r\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\r\n                mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, null);\r\n        mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), null);\r\n    }\r\n\r\n","title":"In Android how can I take multiple images using ImageReader class","body":"<p>I am trying to take multiple images but the ImageAvailabeListener function is not moving forward. I guess it is waiting for next image. I tried aquireNextImage() but it is also not working.</p>\n<p>I'm taking images while MediaProjection.</p>\n<pre><code>class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\n    @Override\n    public void onImageAvailable(ImageReader reader) {\n        Image image = null;\n        FileOutputStream fos = null;\n        bitmap = null;\n        try {\n            image = mImageReader.acquireLatestImage();\n            Log.d(&quot;servicecheck&quot;, &quot;image&quot; + image);\n            Log.d(&quot;imagecheck&quot;, &quot;&quot; + image);\n            if (image != null) {\n               \n\n                Image.Plane[] planes = image.getPlanes();\n                ByteBuffer buffer = planes[2].getBuffer();\n                int pixelStride = planes[2].getPixelStride();\n                int rowStride = planes[2].getRowStride();\n                int rowPadding = rowStride - pixelStride * mWidth;\n\n                // create bitmap\n                bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\n                \n                bitmap.copyPixelsFromBuffer(buffer);\n               \n                // fix the extra width from Image\n                Bitmap croppedBitmap;\n                try {\n                    croppedBitmap = Bitmap.createBitmap(bitmap, 0, 0, mWidth, mHeight);\n                } catch (OutOfMemoryError e) {\n                   \n                    croppedBitmap = bitmap;\n                }\n                if (croppedBitmap != bitmap) {\n                    bitmap.recycle();\n                }\n\n                // write bitmap to a file\n               \n                storeDirectory = new File(mStoreDir);\n                storeDirectory.mkdir();\n             \n\n                fos = new FileOutputStream(storeDirectory.getAbsolutePath() + &quot;/myscreen_&quot; + Calendar.getInstance().getTime() + &quot;.png&quot;);\n                croppedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n            \n\n                //IMAGES_PRODUCED++;\n                fos.flush();\n                fos.close();\n                \n                stopProjection();\n                stopSelf();\n                scanFile(getApplicationContext(), Uri.fromFile(storeDirectory));\n                Log.d(&quot;stoptaskcheck&quot;, &quot;stopSelf&quot;);\n\n            } else {\n                Log.d(&quot;servicecheck&quot;, &quot;null image&quot; + image);\n\n            }\n\n        } catch (Exception e) {\n            if (bitmap != null) {\n                bitmap.recycle();\n            }\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>//In the below function I have created set maxImages to 20(more than 1)</p>\n<pre><code>@SuppressLint(&quot;WrongConstant&quot;)\nprivate void createVirtualDisplay() {\n\n    // start capture reader\n\n    mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 20);\n    mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\n            mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, null);\n    mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), null);\n}\n</code></pre>\n"},{"tags":["java","junit","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1668010058,"post_id":74373306,"comment_id":131305242,"body_markdown":"The answer depends on ... who is using this runtime configuration? (Jetty? your webapp? your 3rd party deps?) and how? (via `System.getProperty()`? or servlet APIs? or other?)","body":"The answer depends on ... who is using this runtime configuration? (Jetty? your webapp? your 3rd party deps?) and how? (via <code>System.getProperty()</code>? or servlet APIs? or other?)"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667995571,"creation_date":1667989604,"question_id":74373306,"body_markdown":"I&#39;m using Jetty server to test my app in junit tests. I need to set some properties in tests which my app use. I&#39;m using some standart configuration for Jetty server:\r\n```\r\nServer server = new Server(0);\r\nWebAppContext webAppContext = new WebAppContext();\r\nwebAppContext.setResourceBase(&quot;some path&quot;);\r\nserver.setHandler(webAppContext);\r\n```\r\nIn my tests I just add required properties to System.property as:\r\n\r\n    System.setProperty(&quot;myProperty&quot;, &quot;propertyValue&quot;);\r\n\r\nAnd my app in jetty server use it. But I want don&#39;t add these props to System properties. How I can configure jetty server to use these props from another source? I tried to add props as :\r\n\r\n```\r\nwebAppContext.getInitParams().putAll(Map.of(&quot;...&quot;,&quot;...&quot;,....);\r\n```\r\n\r\nBut it doesn&#39;t work.","title":"How to set temporary System.property for Jetty server in test","body":"<p>I'm using Jetty server to test my app in junit tests. I need to set some properties in tests which my app use. I'm using some standart configuration for Jetty server:</p>\n<pre><code>Server server = new Server(0);\nWebAppContext webAppContext = new WebAppContext();\nwebAppContext.setResourceBase(&quot;some path&quot;);\nserver.setHandler(webAppContext);\n</code></pre>\n<p>In my tests I just add required properties to System.property as:</p>\n<pre><code>System.setProperty(&quot;myProperty&quot;, &quot;propertyValue&quot;);\n</code></pre>\n<p>And my app in jetty server use it. But I want don't add these props to System properties. How I can configure jetty server to use these props from another source? I tried to add props as :</p>\n<pre><code>webAppContext.getInitParams().putAll(Map.of(&quot;...&quot;,&quot;...&quot;,....);\n</code></pre>\n<p>But it doesn't work.</p>\n"},{"tags":["java","spring","spring-boot","ssl"],"comments":[{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":4,"creation_date":1565271649,"post_id":57411516,"comment_id":101308100,"body_markdown":"Replace `server.ssl.key-password` with `server.ssl.key-store-password`","body":"Replace <code>server.ssl.key-password</code> with <code>server.ssl.key-store-password</code>"},{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1565272987,"post_id":57411516,"comment_id":101308945,"body_markdown":"@MadhuBhat Thanks for the help, after changing property as you said the server get started but I&#39; getting error `The client and server don&#39;t support a common SSL protocol version or cipher suite.` in the browser. I think it&#39;s some issue with the certificate signin. Anyway thanks for the help.","body":"@MadhuBhat Thanks for the help, after changing property as you said the server get started but I&#39; getting error <code>The client and server don&#39;t support a common SSL protocol version or cipher suite.</code> in the browser. I think it&#39;s some issue with the certificate signin. Anyway thanks for the help."},{"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1565281647,"post_id":57411516,"comment_id":101313831,"body_markdown":"cheers happy to help :)","body":"cheers happy to help :)"}],"answers":[{"tags":[],"owner":{"account_id":26877896,"reputation":1,"user_id":20458836,"display_name":"Akshay Khandagale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667995417,"creation_date":1667995417,"answer_id":74374582,"question_id":57411516,"body_markdown":"Please check certificate format, some time format is not properly arrange. Open certificate in Notepad and check it properly arranged or not.if not arrange it properly and then try.","title":"Configure SSL certificate in JKS Format - Spring Boot","body":"<p>Please check certificate format, some time format is not properly arrange. Open certificate in Notepad and check it properly arranged or not.if not arrange it properly and then try.</p>\n"}],"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667995417,"creation_date":1565263681,"question_id":57411516,"body_markdown":"I have created a keystore using following command\r\n```\r\nkeytool -keystore clientkeystore -genkey -alias client\r\n```\r\nThe I created CSR as follows,\r\n```\r\nkeytool -keystore clientkeystore -certreq -alias client -keyalg rsa -file client.csr\r\n```\r\nThen I have signed that `csr` from https://getacert.com/signacert.html and added the `cer` to the keystore\r\n```\r\nkeytool -import -keystore clientkeystore -file CARoot.cer -alias theCARoot\r\nkeytool -import -keystore clientkeystore -file client.cer -alias client\r\n```\r\nIn my spring `application.properties` I have following configurations,\r\n```\r\nserver.port=8443\r\n\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=client\r\nserver.ssl.key-store-type=JKS\r\nserver.ssl.key-password=********\r\nserver.ssl.key-store=classpath:clientkeystore\r\n```\r\nI&#39;m getting the following error when running the spring boot application\r\n```\r\norg.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:263) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:195) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552) [spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat com.example.demo.HttpsDemoApplication.main(HttpsDemoApplication.java:10) [classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:585) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\t... 14 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\r\n\tat java.security.KeyStore.setKeyEntry(KeyStore.java:1136) ~[na:1.8.0_144]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:354) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\t... 20 common frames omitted\r\n\r\n2019-08-08 16:35:53.004  INFO 21040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2019-08-08 16:35:53.011  INFO 21040 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-08-08 16:35:53.014 ERROR 21040 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe Tomcat connector configured to listen on port 8443 failed to start. The port may already be in use or the connector may be misconfigured.\r\n\r\nAction:\r\n\r\nVerify the connector&#39;s configuration, identify and stop any process that&#39;s listening on port 8443, or configure this application to listen on another port.\r\n\r\n2019-08-08 16:35:53.017  INFO 21040 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n```\r\nNOTE: once I remove properties from `application.properties` the application will start normally (there is no problem in the port)","title":"Configure SSL certificate in JKS Format - Spring Boot","body":"<p>I have created a keystore using following command</p>\n\n<pre><code>keytool -keystore clientkeystore -genkey -alias client\n</code></pre>\n\n<p>The I created CSR as follows,</p>\n\n<pre><code>keytool -keystore clientkeystore -certreq -alias client -keyalg rsa -file client.csr\n</code></pre>\n\n<p>Then I have signed that <code>csr</code> from <a href=\"https://getacert.com/signacert.html\" rel=\"nofollow noreferrer\">https://getacert.com/signacert.html</a> and added the <code>cer</code> to the keystore</p>\n\n<pre><code>keytool -import -keystore clientkeystore -file CARoot.cer -alias theCARoot\nkeytool -import -keystore clientkeystore -file client.cer -alias client\n</code></pre>\n\n<p>In my spring <code>application.properties</code> I have following configurations,</p>\n\n<pre><code>server.port=8443\n\nserver.ssl.enabled=true\nserver.ssl.key-alias=client\nserver.ssl.key-store-type=JKS\nserver.ssl.key-password=********\nserver.ssl.key-store=classpath:clientkeystore\n</code></pre>\n\n<p>I'm getting the following error when running the spring boot application</p>\n\n<pre><code>org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:263) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:195) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552) [spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at com.example.demo.HttpsDemoApplication.main(HttpsDemoApplication.java:10) [classes/:na]\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:585) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    ... 14 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\n    at java.security.KeyStore.setKeyEntry(KeyStore.java:1136) ~[na:1.8.0_144]\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:354) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    ... 20 common frames omitted\n\n2019-08-08 16:35:53.004  INFO 21040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2019-08-08 16:35:53.011  INFO 21040 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-08-08 16:35:53.014 ERROR 21040 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe Tomcat connector configured to listen on port 8443 failed to start. The port may already be in use or the connector may be misconfigured.\n\nAction:\n\nVerify the connector's configuration, identify and stop any process that's listening on port 8443, or configure this application to listen on another port.\n\n2019-08-08 16:35:53.017  INFO 21040 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n\n<p>NOTE: once I remove properties from <code>application.properties</code> the application will start normally (there is no problem in the port)</p>\n"},{"tags":["java","oop","caching","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667995398,"creation_date":1667995398,"answer_id":74374579,"question_id":74373311,"body_markdown":"```\r\npublic class C{\r\n    private boolean wasCalled = false;\r\n    private int cachedValue;\r\n\r\n    public int longRunningMethod(){\r\n        if (!wasCalled) {\r\n            // do your long running job here and set result to cachedValue\r\n            wasCalled = true;\r\n        }\r\n        return cachedValue;\r\n    }\r\n}\r\n```\r\n","title":"Caching techniques for objects","body":"<pre><code>public class C{\n    private boolean wasCalled = false;\n    private int cachedValue;\n\n    public int longRunningMethod(){\n        if (!wasCalled) {\n            // do your long running job here and set result to cachedValue\n            wasCalled = true;\n        }\n        return cachedValue;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8385212,"reputation":257,"user_id":6537259,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667995398,"creation_date":1667989650,"question_id":74373311,"body_markdown":"Suppose i have classes `A`,`B`,`C`. `C` has a method `longRunningMethod`, which takes a long time to run and returns an `int`. Classes `A` and `B` both have `C` as a dependency and need to call method `longRunningMethod`: \r\n```\r\npublic class A{\r\n\tprivate C c;\r\n\tpublic A(C c){\r\n\t\tthis.c = c;\r\n\t}\r\n\t\r\n\tpublic void method1(){\r\n\t\tthis.c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\n```\r\npublic class B{\r\n\tprivate C c;\r\n\tpublic A(C c){\r\n\t\tthis.c = c;\r\n\t}\r\n\t\r\n\tpublic void method2(){\r\n\t\tthis.c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\n```\r\npublic class C{\r\n\t\r\n\tpublic int longRunningMethod(){\r\n\t\t...\r\n\t}\r\n}\r\n```\r\n```\r\npublic class MyProgram{\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tC c = new C();\r\n\t\tA a = new A(c);\r\n\t\tB b = new B(c);\r\n\t\ta.method1();\r\n\t\tb.method2()//avoid calling c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\nWhat approaches can be taken to avoid calling `longRunningMethod` twice? Of course, the simple approach is to change the constructor argument of `A` and `B` to `int` and call `longRunningMethod` once in `MyProgram`. But then, it is not that obvious to what to pass to `A` and `B` (which `int`s are allowed?). ","title":"Caching techniques for objects","body":"<p>Suppose i have classes <code>A</code>,<code>B</code>,<code>C</code>. <code>C</code> has a method <code>longRunningMethod</code>, which takes a long time to run and returns an <code>int</code>. Classes <code>A</code> and <code>B</code> both have <code>C</code> as a dependency and need to call method <code>longRunningMethod</code>:</p>\n<pre><code>public class A{\n    private C c;\n    public A(C c){\n        this.c = c;\n    }\n    \n    public void method1(){\n        this.c.longRunningMethod();\n    }\n}\n</code></pre>\n<pre><code>public class B{\n    private C c;\n    public A(C c){\n        this.c = c;\n    }\n    \n    public void method2(){\n        this.c.longRunningMethod();\n    }\n}\n</code></pre>\n<pre><code>public class C{\n    \n    public int longRunningMethod(){\n        ...\n    }\n}\n</code></pre>\n<pre><code>public class MyProgram{\n\n    public static void main(String[] args){\n        C c = new C();\n        A a = new A(c);\n        B b = new B(c);\n        a.method1();\n        b.method2()//avoid calling c.longRunningMethod();\n    }\n}\n</code></pre>\n<p>What approaches can be taken to avoid calling <code>longRunningMethod</code> twice? Of course, the simple approach is to change the constructor argument of <code>A</code> and <code>B</code> to <code>int</code> and call <code>longRunningMethod</code> once in <code>MyProgram</code>. But then, it is not that obvious to what to pass to <code>A</code> and <code>B</code> (which <code>int</code>s are allowed?).</p>\n"},{"tags":["java","database","spring-boot","loops","arraylist"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667479404,"post_id":74301768,"comment_id":131179223,"body_markdown":"1. the description is too long and meandering. please edit the question and specify expected result. 2, post should contain only one question","body":"1. the description is too long and meandering. please edit the question and specify expected result. 2, post should contain only one question"},{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1667491221,"post_id":74301768,"comment_id":131184175,"body_markdown":"My apologies but I&#39;ve seen much longer descriptions on here, I&#39;ve added a question.","body":"My apologies but I&#39;ve seen much longer descriptions on here, I&#39;ve added a question."}],"answers":[{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667525442,"creation_date":1667525442,"answer_id":74311230,"question_id":74301768,"body_markdown":"In this line:\r\n```\r\nemployeeProjectService.saveEmployeeProject(employee, ids, month);\r\n```\r\nit was supposed to save ```employee``` or ```employeeProject```?\r\nBecause in the code you didn&#39;t use the variable ```employeeProject``` explicitly. Where it was supposed to be saved?","title":"For loop on 2 lists and add to an object","body":"<p>In this line:</p>\n<pre><code>employeeProjectService.saveEmployeeProject(employee, ids, month);\n</code></pre>\n<p>it was supposed to save <code>employee</code> or <code>employeeProject</code>?\nBecause in the code you didn't use the variable <code>employeeProject</code> explicitly. Where it was supposed to be saved?</p>\n"},{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667615430,"creation_date":1667615430,"answer_id":74324661,"question_id":74301768,"body_markdown":"Did you consider that you&#39;re declaring ``` EmployeeProject employeeProject = new EmployeeProject(employee);``` inside  ``` if (projectIds != null) {``` scope, so if you do println in the ```employeeProject```, right above ```return &quot;redirect:/ines/employees&quot;;``` (outside the scope) you won&#39;t see it? In order to don&#39;t loose the data you need to declare ```employeeProject``` at the beginning of the method.\r\n\r\nThe follow code could correct this:\r\n```java\r\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n        List&lt;EmployeeProject&gt; listOfEmployeeProjects = ArrayList&lt;&gt;();\r\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n        for (Double month : months) {\r\n            if (month != null) {\r\n                monthList.add(month);\r\n                System.out.println(&quot;Month:&quot; + month);\r\n            }\r\n        }\r\n        employeeService.saveEmployee(employee);\r\n        if (projectIds != null) {\r\n            EmployeeProject employeeProject = new EmployeeProject(employee);\r\n            for (Project ids : projectIds) {\r\n                for (Double month : monthList) {\r\n                    employeeProject.setEmployeeBookedMonths(month);\r\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\r\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\r\n                }\r\n            }\r\n\t    listOfEmployeeProjects.add(employeeProject);\r\n        }\r\n\t//Here you might see the data inside listOfEmployeeProjects, once it was declared in a outter scope\r\n   //Maybe do a assign of your data to other field, for example: \r\n   // mainData.setAllOfTheEmployeeProjects(listOfEmployeeProjects);\r\n        return &quot;redirect:/ines/employees&quot;;\r\n    }\r\n```\r\nDid it help? If didn&#39;t please post the rest of your code.","title":"For loop on 2 lists and add to an object","body":"<p>Did you consider that you're declaring <code> EmployeeProject employeeProject = new EmployeeProject(employee);</code> inside  <code> if (projectIds != null) {</code> scope, so if you do println in the <code>employeeProject</code>, right above <code>return &quot;redirect:/ines/employees&quot;;</code> (outside the scope) you won't see it? In order to don't loose the data you need to declare <code>employeeProject</code> at the beginning of the method.</p>\n<p>The follow code could correct this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n        List&lt;EmployeeProject&gt; listOfEmployeeProjects = ArrayList&lt;&gt;();\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n        employeeService.saveEmployee(employee);\n        if (projectIds != null) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            for (Project ids : projectIds) {\n                for (Double month : monthList) {\n                    employeeProject.setEmployeeBookedMonths(month);\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\n                }\n            }\n        listOfEmployeeProjects.add(employeeProject);\n        }\n    //Here you might see the data inside listOfEmployeeProjects, once it was declared in a outter scope\n   //Maybe do a assign of your data to other field, for example: \n   // mainData.setAllOfTheEmployeeProjects(listOfEmployeeProjects);\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>Did it help? If didn't please post the rest of your code.</p>\n"},{"tags":[],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667995314,"creation_date":1667995314,"answer_id":74374561,"question_id":74301768,"body_markdown":"Its not the prettiest but it works, I feel a bit dumb after this one but if anyone has a more elegant approach I&#39;m happy to see it.\r\n```\r\n@PostMapping(&quot;/saveEmployee&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n\r\n\t\tList&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n\t\tfor (Double month : months) {\r\n\t\t\tif (month != null) {\r\n\t\t\t\tmonthList.add(month);\r\n\t\t\t\tSystem.out.println(&quot;Month:&quot; + month);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tList&lt;Project&gt; projectList = new ArrayList&lt;&gt;();\r\n\t\tfor (Project project : projectIds) {\r\n\t\t\tif (project != null) {\r\n\t\t\t\tprojectList.add(project);\r\n\t\t\t\tSystem.out.println(&quot;Project:&quot; + project);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\temployeeService.saveEmployee(employee);\r\n\t\tfor (int i=0; i&lt;= monthList.size(); i++) {\r\n\t\t\tEmployeeProject employeeProject = new EmployeeProject(employee);\r\n\t\t\temployeeProject.setEmployeeBookedMonths(monthList.get(i));\r\n\t\t\temployeeProject.setProject(new Project(projectList.get(i).getId()));\r\n\t\t\temployeeProjectService.saveEmployeeProjectEmployeeOnly(employeeProject);\r\n\t\t}\r\n\t\treturn &quot;redirect:/ines/employees&quot;;\r\n\t}\r\n```\r\n\r\nThe problem was I was getting the list of projectIds which also had the null values (not selected ones), so I had to create a list of the projects then use the i loop to set each Project and employeeProjectMonths.","title":"For loop on 2 lists and add to an object","body":"<p>Its not the prettiest but it works, I feel a bit dumb after this one but if anyone has a more elegant approach I'm happy to see it.</p>\n<pre><code>@PostMapping(&quot;/saveEmployee&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n\n        List&lt;Project&gt; projectList = new ArrayList&lt;&gt;();\n        for (Project project : projectIds) {\n            if (project != null) {\n                projectList.add(project);\n                System.out.println(&quot;Project:&quot; + project);\n            }\n        }\n\n        employeeService.saveEmployee(employee);\n        for (int i=0; i&lt;= monthList.size(); i++) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            employeeProject.setEmployeeBookedMonths(monthList.get(i));\n            employeeProject.setProject(new Project(projectList.get(i).getId()));\n            employeeProjectService.saveEmployeeProjectEmployeeOnly(employeeProject);\n        }\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>The problem was I was getting the list of projectIds which also had the null values (not selected ones), so I had to create a list of the projects then use the i loop to set each Project and employeeProjectMonths.</p>\n"}],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74374561,"answer_count":3,"score":1,"last_activity_date":1667995314,"creation_date":1667472267,"question_id":74301768,"body_markdown":"Im looping over two lists and want to add the objects to a custom object. So Im getting an ```Employee``` a list of ```Projects``` and a list of ```Doubles``` from Thymeleaf and save them to a database. I want to save them to the object ```EmployeeProject``` which takes an Employee, a Project and a double (employeeBookedMonths). My problem is I either get the multiple projects saved to the EmployeeProject but all the project months are the same (the last double value one in the list) or I save the multiple projects to the employeeProject with correct employeeBookedMonths but there is dupicates, for example if I save 3 projects with 3 employeeBookedMonths, I get 3 times each saved (so 9 saved). I&#39;ve tried moving the ```employeeProjectService.saveEmployeeProject``` but can&#39;t make it work plus many other variations but I need some help. \r\n\r\nQuestion: how can I loop through the 2 lists and add and them to the EmployeeProject object? Without getting multiples or only getting the last employeeBookedMonths.\r\n\r\nThanks in advance.\r\n\r\nAlso the ```System.println``` prints the wanted values, they just don&#39;t save.\r\n\r\n```@PostMapping(&quot;/saveEmployee&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n\t\tList&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n\t\tfor (Double month : months) {\r\n\t\t\tif (month != null) {\r\n\t\t\t\tmonthList.add(month);\r\n\t\t\t\tSystem.out.println(&quot;Month:&quot; + month);\r\n\t\t\t}\r\n\t\t}\r\n\t\temployeeService.saveEmployee(employee);\r\n\t\tif (projectIds != null) {\r\n\t\t\tEmployeeProject employeeProject = new EmployeeProject(employee);\r\n\t\t\tfor (Project ids : projectIds) {\r\n\t\t\t\tfor (Double month : monthList) {\r\n\t\t\t\t\temployeeProject.setEmployeeBookedMonths(month);\r\n\t\t\t\t\tSystem.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\r\n\t\t\t\t\temployeeProjectService.saveEmployeeProject(employee, ids, month);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;redirect:/ines/employees&quot;;\r\n\t}\r\n```\r\nNew Employee form\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployeeMeeting}&quot; th:object=&quot;${employee}&quot;\r\n\t\t\tmethod=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;label&gt;Email:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\r\n\t\t\t\t\t   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;th:block th:object=&quot;${meetingInfo}&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Start Time:&lt;/label&gt;\r\n\t\t\t\t\t&lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker1&quot; data-target-input=&quot;nearest&quot;&gt;\r\n\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot;\r\n\t\t\t\t\t\t\t   th:field=&quot;*{meetingStartDateTime}&quot; id=&quot;meetingStartDateTime&quot;/&gt;\r\n\t\t\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt;\r\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;End Time:&lt;/label&gt;\r\n\t\t\t\t\t&lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker2&quot; data-target-input=&quot;nearest&quot;&gt;\r\n\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot; data-target=&quot;#datetimepicker1&quot;\r\n\t\t\t\t\t\t\t   th:field=&quot;*{meetingEndDateTime}&quot; id=&quot;meetingEndDateTime&quot; placeholder=&quot;Date&quot;/&gt;\r\n\t\t\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt;\r\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;\r\n\t\t\t\t\t   placeholder=&quot;Message&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/th:block&gt;\r\n\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee/Meeting&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n```\r\nEmployee\r\n```\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;employee_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_from&quot;)\r\n\tprivate String contractedFrom;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_to&quot;)\r\n\tprivate String contractedTo;\r\n\r\n\t@OneToMany(mappedBy = &quot;employee&quot;,\r\n\t\t\tcascade = CascadeType.ALL\r\n//\t\t\tfetch=FetchType.EAGER\r\n\t)\r\n\tprivate Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n// constructores getters and setters\r\n```\r\nProject\r\n```\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\npublic class Project implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Long projectNumber;\r\n\r\n    @Column(nullable = false, length = 45)\r\n    private String name;\r\n\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;start_date&quot;, nullable = false)\r\n    private String startDate;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;end_date&quot;, nullable = false)\r\n    private String endDate;\r\n\r\n    @Column(name = &quot;project_length_months&quot;)\r\n    private double projectLengthInMonths;\r\n\r\n    @Column(name = &quot;project_booked_months&quot;)\r\n    private double currentBookedMonths;\r\n\r\n    @Column(name = &quot;remaining_booked_months&quot;)\r\n    private double remainingBookedMonths;\r\n\r\n    private int numberOfEmployees;\r\n    \r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n// constructores getters and setters\r\n```\r\nEmployeeProject\r\n```\r\n@Entity\r\n@Table(name = &quot;employee_projects&quot;)\r\npublic class EmployeeProject implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;employee_project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;project_id&quot;)\r\n    private Project project;\r\n\r\n    @Column(name = &quot;employee_booked_months&quot;)\r\n    private double employeeBookedMonths;\r\n// constructores getters and setters\r\n```\r\n","title":"For loop on 2 lists and add to an object","body":"<p>Im looping over two lists and want to add the objects to a custom object. So Im getting an <code>Employee</code> a list of <code>Projects</code> and a list of <code>Doubles</code> from Thymeleaf and save them to a database. I want to save them to the object <code>EmployeeProject</code> which takes an Employee, a Project and a double (employeeBookedMonths). My problem is I either get the multiple projects saved to the EmployeeProject but all the project months are the same (the last double value one in the list) or I save the multiple projects to the employeeProject with correct employeeBookedMonths but there is dupicates, for example if I save 3 projects with 3 employeeBookedMonths, I get 3 times each saved (so 9 saved). I've tried moving the <code>employeeProjectService.saveEmployeeProject</code> but can't make it work plus many other variations but I need some help.</p>\n<p>Question: how can I loop through the 2 lists and add and them to the EmployeeProject object? Without getting multiples or only getting the last employeeBookedMonths.</p>\n<p>Thanks in advance.</p>\n<p>Also the <code>System.println</code> prints the wanted values, they just don't save.</p>\n<pre><code>    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n        employeeService.saveEmployee(employee);\n        if (projectIds != null) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            for (Project ids : projectIds) {\n                for (Double month : monthList) {\n                    employeeProject.setEmployeeBookedMonths(month);\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\n                }\n            }\n        }\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>New Employee form</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployeeMeeting}&quot; th:object=&quot;${employee}&quot;\n            method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label&gt;Email:&lt;/label&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\n                       placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;/div&gt;\n            &lt;th:block th:object=&quot;${meetingInfo}&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Start Time:&lt;/label&gt;\n                    &lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker1&quot; data-target-input=&quot;nearest&quot;&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot;\n                               th:field=&quot;*{meetingStartDateTime}&quot; id=&quot;meetingStartDateTime&quot;/&gt;\n                        &lt;span class=&quot;input-group-addon&quot;&gt;\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;End Time:&lt;/label&gt;\n                    &lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker2&quot; data-target-input=&quot;nearest&quot;&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot; data-target=&quot;#datetimepicker1&quot;\n                               th:field=&quot;*{meetingEndDateTime}&quot; id=&quot;meetingEndDateTime&quot; placeholder=&quot;Date&quot;/&gt;\n                        &lt;span class=&quot;input-group-addon&quot;&gt;\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;\n                       placeholder=&quot;Message&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;/div&gt;\n            &lt;/th:block&gt;\n\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee/Meeting&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>Employee</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n    @Id\n    @Column(name = &quot;employee_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_from&quot;)\n    private String contractedFrom;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_to&quot;)\n    private String contractedTo;\n\n    @OneToMany(mappedBy = &quot;employee&quot;,\n            cascade = CascadeType.ALL\n//          fetch=FetchType.EAGER\n    )\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n// constructores getters and setters\n</code></pre>\n<p>Project</p>\n<pre><code>@Entity\n@Table(name = &quot;projects&quot;)\npublic class Project implements Serializable {\n    @Id\n    @Column(name = &quot;project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long projectNumber;\n\n    @Column(nullable = false, length = 45)\n    private String name;\n\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    private String startDate;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private String endDate;\n\n    @Column(name = &quot;project_length_months&quot;)\n    private double projectLengthInMonths;\n\n    @Column(name = &quot;project_booked_months&quot;)\n    private double currentBookedMonths;\n\n    @Column(name = &quot;remaining_booked_months&quot;)\n    private double remainingBookedMonths;\n\n    private int numberOfEmployees;\n    \n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n// constructores getters and setters\n</code></pre>\n<p>EmployeeProject</p>\n<pre><code>@Entity\n@Table(name = &quot;employee_projects&quot;)\npublic class EmployeeProject implements Serializable {\n\n    @Id\n    @Column(name = &quot;employee_project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;project_id&quot;)\n    private Project project;\n\n    @Column(name = &quot;employee_booked_months&quot;)\n    private double employeeBookedMonths;\n// constructores getters and setters\n</code></pre>\n"},{"tags":["java","spring-mvc","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667995215,"creation_date":1615827732,"answer_id":66642383,"question_id":66641634,"body_markdown":"The key word in `MockMvc` is _mock_. This framework does not set up a full Servlet container with a JSP engine. As such, it doesn&#39;t render the view that your controller returns and the `MockHttpServletResponse` does not contain a body (for this use case).\r\n\r\nYou can use [`MockHttpServletResponse#getForwardedUrl()`][1] to get the url of the JSP that the Servlet container would&#39;ve forwarded the request to, constructed from your view name and the prefix and suffix of your `InternalResourceViewResolver`.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html#getForwardedUrl--","title":"Spring Controller ModelAndView test MockMvc empty Response","body":"<p>The key word in <code>MockMvc</code> is <em>mock</em>. This framework does not set up a full Servlet container with a JSP engine. As such, it doesn't render the view that your controller returns and the <code>MockHttpServletResponse</code> does not contain a body (for this use case).</p>\n<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html#getForwardedUrl--\" rel=\"nofollow noreferrer\"><code>MockHttpServletResponse#getForwardedUrl()</code></a> to get the url of the JSP that the Servlet container would've forwarded the request to, constructed from your view name and the prefix and suffix of your <code>InternalResourceViewResolver</code>.</p>\n"}],"owner":{"account_id":1473199,"reputation":370,"user_id":1384237,"accept_rate":69,"display_name":"RASMiranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":859,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66642383,"answer_count":1,"score":0,"last_activity_date":1667995215,"creation_date":1615824737,"question_id":66641634,"body_markdown":"I have this simple example setup to unit test spring Controller ModelAndView with MockMvc, but the response is always empty, even though in debug I can see that the controller code is executed.\r\n\r\nHere&#39;s the code:\r\n\r\n**/src/main/java/controller/MvcController.java**\r\n```\r\npackage controller;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n@Controller\r\npublic class MvcController {\r\n\r\n    @RequestMapping(&quot;/hello/{id}&quot;)\r\n    public ModelAndView hello(@PathVariable(&quot;id&quot;) String id) {\r\n        Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\r\n        ModelAndView modelAndView = new ModelAndView(&quot;hello&quot;, model);\r\n        return modelAndView;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**/src/main/webapp/WEB-INF/jsp/hello.jsp**\r\n```\r\n&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;e&quot;\r\n\turi=&quot;https://www.owasp.org/index.php/OWASP_Java_Encoder_Project&quot;%&gt;\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;HELLO WORLD\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**/src/test/java/controller/MvcControllerTest.java**\r\n```\r\npackage controller;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.RequestBuilder;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = { MvcController.class })\r\npublic class MvcControllerTest {\r\n\r\n    @Autowired\r\n    private MvcController mvcController;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void init() {\r\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n        resolver.setSuffix(&quot;.jsp&quot;);\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup(mvcController).setViewResolvers(resolver).build();\r\n    }\r\n\r\n    @Test\r\n    public void testHello() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/hello/XWQHEDg9e72t&quot;);\r\n        ResultActions result = mockMvc.perform(requestBuilder);\r\n        MvcResult mvcResult = result.andReturn();\r\n        MockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\r\n        String response = mockHttpServletResponse.getContentAsString();\r\n        assertThat(response).contains(&quot;HELLO WORLD&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Spring Controller ModelAndView test MockMvc empty Response","body":"<p>I have this simple example setup to unit test spring Controller ModelAndView with MockMvc, but the response is always empty, even though in debug I can see that the controller code is executed.</p>\n<p>Here's the code:</p>\n<p><strong>/src/main/java/controller/MvcController.java</strong></p>\n<pre><code>package controller;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class MvcController {\n\n    @RequestMapping(&quot;/hello/{id}&quot;)\n    public ModelAndView hello(@PathVariable(&quot;id&quot;) String id) {\n        Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\n        ModelAndView modelAndView = new ModelAndView(&quot;hello&quot;, model);\n        return modelAndView;\n    }\n\n}\n</code></pre>\n<p><strong>/src/main/webapp/WEB-INF/jsp/hello.jsp</strong></p>\n<pre><code>&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@ taglib prefix=&quot;e&quot;\n    uri=&quot;https://www.owasp.org/index.php/OWASP_Java_Encoder_Project&quot;%&gt;\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;HELLO WORLD\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>/src/test/java/controller/MvcControllerTest.java</strong></p>\n<pre><code>package controller;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\nimport org.springframework.test.web.servlet.ResultActions;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { MvcController.class })\npublic class MvcControllerTest {\n\n    @Autowired\n    private MvcController mvcController;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void init() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\n        resolver.setSuffix(&quot;.jsp&quot;);\n        this.mockMvc = MockMvcBuilders.standaloneSetup(mvcController).setViewResolvers(resolver).build();\n    }\n\n    @Test\n    public void testHello() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/hello/XWQHEDg9e72t&quot;);\n        ResultActions result = mockMvc.perform(requestBuilder);\n        MvcResult mvcResult = result.andReturn();\n        MockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\n        String response = mockHttpServletResponse.getContentAsString();\n        assertThat(response).contains(&quot;HELLO WORLD&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","parsing","yaml"],"comments":[{"owner":{"account_id":6009045,"reputation":12376,"user_id":4720018,"accept_rate":75,"display_name":"djvg"},"score":0,"creation_date":1604074725,"post_id":26235350,"comment_id":114245516,"body_markdown":"According to the [YAML spec (section 1.3)](https://yaml.org/spec/1.2/spec.html), &quot;YAML can therefore be viewed as a natural superset of JSON ...&quot;, and &quot;... every JSON file is also a valid YAML file.&quot;","body":"According to the <a href=\"https://yaml.org/spec/1.2/spec.html\" rel=\"nofollow noreferrer\">YAML spec (section 1.3)</a>, &quot;YAML can therefore be viewed as a natural superset of JSON ...&quot;, and &quot;... every JSON file is also a valid YAML file.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":399491,"reputation":551,"user_id":764869,"display_name":"bystander"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1412685148,"creation_date":1412685148,"answer_id":26236102,"question_id":26235350,"body_markdown":"[http://jsontoyaml.com/][1]\r\n\r\nthis website may can help you. It can be used in\r\nBash,\r\nJavaScript,\r\nJavaScript (browser only),\r\nRuby,\r\nPython,\r\nPerl,\r\nJava..\r\n\r\n\r\n  [1]: http://jsontoyaml.com/","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p><a href=\"http://jsontoyaml.com/\" rel=\"nofollow\">http://jsontoyaml.com/</a></p>\n\n<p>this website may can help you. It can be used in\nBash,\nJavaScript,\nJavaScript (browser only),\nRuby,\nPython,\nPerl,\nJava..</p>\n"},{"tags":[],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"down_vote_count":5,"up_vote_count":1,"is_accepted":true,"score":-4,"last_activity_date":1458049723,"creation_date":1413546512,"answer_id":26424373,"question_id":26235350,"body_markdown":"If you need convert JSONobject to yaml (string). you need. Firstly get json string, then map, after that you can convert to yaml.\r\nHere the code:\r\n\r\n      // this is your json object\r\n      JSONObject jsonobject = new JSONObject(map);\r\n      // get json string\r\n      String prettyJSONString = jsonobject.toString(4);\r\n      // mapping\r\n      Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(prettyJSONString);\r\n      // convert to yaml string (yaml formatted string)\r\n      String output = yaml.dump(map2);\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>If you need convert JSONobject to yaml (string). you need. Firstly get json string, then map, after that you can convert to yaml.\nHere the code:</p>\n\n<pre><code>  // this is your json object\n  JSONObject jsonobject = new JSONObject(map);\n  // get json string\n  String prettyJSONString = jsonobject.toString(4);\n  // mapping\n  Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(prettyJSONString);\n  // convert to yaml string (yaml formatted string)\n  String output = yaml.dump(map2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2362309,"reputation":666,"user_id":2068744,"display_name":"Tanya"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1583525789,"creation_date":1485537865,"answer_id":41899647,"question_id":26235350,"body_markdown":"You can convert JSON to YAML with two lines of code in [Jackson][1]:\r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\r\n    \r\n    public class Library {\r\n    \r\n        public String asYaml(String jsonString) throws JsonProcessingException, IOException {\r\n            // parse JSON\r\n            JsonNode jsonNodeTree = new ObjectMapper().readTree(jsonString);\r\n            // save it as YAML\r\n            String jsonAsYaml = new YAMLMapper().writeValueAsString(jsonNodeTree);\r\n            return jsonAsYaml;\r\n        }\r\n    \r\n    }\r\n\r\nYou will need to add dependencies to Jackson Core, DataBind and DataFormat YAML. Below is a snippet for Gradle:\r\n\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.8.6&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.6&#39;\r\n    compile &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.8.6&#39;\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>You can convert JSON to YAML with two lines of code in <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>:</p>\n\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\n\npublic class Library {\n\n    public String asYaml(String jsonString) throws JsonProcessingException, IOException {\n        // parse JSON\n        JsonNode jsonNodeTree = new ObjectMapper().readTree(jsonString);\n        // save it as YAML\n        String jsonAsYaml = new YAMLMapper().writeValueAsString(jsonNodeTree);\n        return jsonAsYaml;\n    }\n\n}\n</code></pre>\n\n<p>You will need to add dependencies to Jackson Core, DataBind and DataFormat YAML. Below is a snippet for Gradle:</p>\n\n<pre><code>compile 'com.fasterxml.jackson.core:jackson-core:2.8.6'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.8.6'\ncompile 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.8.6'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":312775,"reputation":11835,"user_id":627042,"accept_rate":0,"display_name":"Erik Aronesty"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1588154496,"creation_date":1556639682,"answer_id":55924692,"question_id":26235350,"body_markdown":"Here&#39;s a one liner for a file, suitable for sticking in a bash script.  This should work on most default pythons on most systems:\r\n\r\n```\r\npython -c &#39;import json; import yaml; print(yaml.dump(json.load(open(&quot;inputfile&quot;))))&#39;\r\n```","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>Here's a one liner for a file, suitable for sticking in a bash script.  This should work on most default pythons on most systems:</p>\n\n<pre><code>python -c 'import json; import yaml; print(yaml.dump(json.load(open(\"inputfile\"))))'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15560523,"reputation":101,"user_id":11225766,"display_name":"Geo Systems"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578716250,"creation_date":1578716250,"answer_id":59691591,"question_id":26235350,"body_markdown":"I&#39;d suggest you consider [Data Transformer][1] (disclaimer - I&#39;m its developer). It converts between JSON, YML, and other formats.\r\n\r\nYou can get it from the [Mac App Store][2] or the [Microsoft Store][3].\r\n\r\n\r\n  [1]: https://geosystemsdev.com/products/data-transformer/\r\n  [2]: https://apps.apple.com/us/app/data-transformer/id1490843070\r\n  [3]: https://www.microsoft.com/en-au/p/data-transformer/9p2xp6nt2pv2\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>I'd suggest you consider <a href=\"https://geosystemsdev.com/products/data-transformer/\" rel=\"nofollow noreferrer\">Data Transformer</a> (disclaimer - I'm its developer). It converts between JSON, YML, and other formats.</p>\n\n<p>You can get it from the <a href=\"https://apps.apple.com/us/app/data-transformer/id1490843070\" rel=\"nofollow noreferrer\">Mac App Store</a> or the <a href=\"https://www.microsoft.com/en-au/p/data-transformer/9p2xp6nt2pv2\" rel=\"nofollow noreferrer\">Microsoft Store</a>.</p>\n"},{"tags":[],"owner":{"account_id":24437,"reputation":5745,"user_id":62131,"accept_rate":82,"display_name":"Richard Gomes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583908442,"creation_date":1583908442,"answer_id":60630422,"question_id":26235350,"body_markdown":"```bash\r\nfunction yaml_validate {\r\n  python -c &#39;import sys, yaml, json; yaml.safe_load(sys.stdin.read())&#39;\r\n}\r\n\r\nfunction yaml2json {\r\n  python -c &#39;import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read())))&#39;\r\n}\r\n\r\nfunction yaml2json_pretty {\r\n  python -c &#39;import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read()), indent=2, sort_keys=False))&#39;\r\n}\r\n\r\nfunction json_validate {\r\n  python -c &#39;import sys, yaml, json; json.loads(sys.stdin.read())&#39;\r\n}\r\n\r\nfunction json2yaml {\r\n  python -c &#39;import sys, yaml, json; print(yaml.dump(json.loads(sys.stdin.read())))&#39;\r\n}\r\n```\r\n\r\nMore Bash tricks at http://github.com/frgomes/bash-scripts\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<pre class=\"lang-sh prettyprint-override\"><code>function yaml_validate {\n  python -c 'import sys, yaml, json; yaml.safe_load(sys.stdin.read())'\n}\n\nfunction yaml2json {\n  python -c 'import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read())))'\n}\n\nfunction yaml2json_pretty {\n  python -c 'import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read()), indent=2, sort_keys=False))'\n}\n\nfunction json_validate {\n  python -c 'import sys, yaml, json; json.loads(sys.stdin.read())'\n}\n\nfunction json2yaml {\n  python -c 'import sys, yaml, json; print(yaml.dump(json.loads(sys.stdin.read())))'\n}\n</code></pre>\n\n<p>More Bash tricks at <a href=\"http://github.com/frgomes/bash-scripts\" rel=\"nofollow noreferrer\">http://github.com/frgomes/bash-scripts</a></p>\n"},{"tags":[],"owner":{"account_id":22071747,"reputation":1728,"user_id":16332641,"display_name":"jpseng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667995151,"creation_date":1667995151,"answer_id":74374534,"question_id":26235350,"body_markdown":"[yq](https://mikefarah.gitbook.io/yq/) can be used to convert between JSON and YAML\r\n\r\n```bash\r\nyq -o yaml --indent 2 --prettyPrint --colors\r\n```\r\n\r\n```yaml\r\nfoo: bar\r\nbaz:\r\n  - qux\r\n  - quxx\r\ncorge: null\r\ngrault: 1\r\ngarply: true\r\nwaldo: &quot;false&quot;\r\nfred: undefined\r\nemptyArray: []\r\nemptyObject: {}\r\nemptyString: &quot;&quot;\r\n```\r\n\r\n(XML and property files can also be transformed using `yq`)","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p><a href=\"https://mikefarah.gitbook.io/yq/\" rel=\"nofollow noreferrer\">yq</a> can be used to convert between JSON and YAML</p>\n<pre class=\"lang-bash prettyprint-override\"><code>yq -o yaml --indent 2 --prettyPrint --colors\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>foo: bar\nbaz:\n  - qux\n  - quxx\ncorge: null\ngrault: 1\ngarply: true\nwaldo: &quot;false&quot;\nfred: undefined\nemptyArray: []\nemptyObject: {}\nemptyString: &quot;&quot;\n</code></pre>\n<p>(XML and property files can also be transformed using <code>yq</code>)</p>\n"}],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41749,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":26424373,"answer_count":7,"score":21,"last_activity_date":1667995151,"creation_date":1412682678,"question_id":26235350,"body_markdown":"I&#39;m working with configuration files so I need to convert JSON to YAML.\r\nFor example I have this JSON file:\r\n\r\n    {\r\n      &quot;foo&quot;: &quot;bar&quot;,\r\n      &quot;baz&quot;: [ &quot;qux&quot;,&quot;quxx&quot;],\r\n      &quot;corge&quot;: null,\r\n      &quot;grault&quot;: 1,\r\n      &quot;garply&quot;: true,\r\n      &quot;waldo&quot;: &quot;false&quot;,\r\n      &quot;fred&quot;: &quot;undefined&quot;,\r\n      &quot;emptyArray&quot;: [],\r\n      &quot;emptyObject&quot;: {},\r\n      &quot;emptyString&quot;: &quot;&quot;\r\n    }\r\n\r\nThe result should be YAML:\r\n\r\n    foo: &quot;bar&quot;\r\n    baz: \r\n      - &quot;qux&quot;\r\n      - &quot;quxx&quot;\r\n    corge: null\r\n    grault: 1\r\n    garply: true\r\n    waldo: &quot;false&quot;\r\n    fred: &quot;undefined&quot;\r\n    emptyArray: []\r\n    emptyObject: {}\r\n    emptyString: &quot;&quot;\r\n\r\nCould you help me?","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>I'm working with configuration files so I need to convert JSON to YAML.\nFor example I have this JSON file:</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: [ &quot;qux&quot;,&quot;quxx&quot;],\n  &quot;corge&quot;: null,\n  &quot;grault&quot;: 1,\n  &quot;garply&quot;: true,\n  &quot;waldo&quot;: &quot;false&quot;,\n  &quot;fred&quot;: &quot;undefined&quot;,\n  &quot;emptyArray&quot;: [],\n  &quot;emptyObject&quot;: {},\n  &quot;emptyString&quot;: &quot;&quot;\n}\n</code></pre>\n<p>The result should be YAML:</p>\n<pre><code>foo: &quot;bar&quot;\nbaz: \n  - &quot;qux&quot;\n  - &quot;quxx&quot;\ncorge: null\ngrault: 1\ngarply: true\nwaldo: &quot;false&quot;\nfred: &quot;undefined&quot;\nemptyArray: []\nemptyObject: {}\nemptyString: &quot;&quot;\n</code></pre>\n<p>Could you help me?</p>\n"},{"tags":["javascript","java","jquery","google-chrome","webrtc"],"answers":[{"tags":[],"owner":{"account_id":2569702,"reputation":16087,"user_id":4352772,"display_name":"Philipp Hancke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667995135,"creation_date":1667995135,"answer_id":74374531,"question_id":74370665,"body_markdown":"You can not. This is behind a flag because it is an experimental feature that is not yet ready for production and end users.\r\nYou can star the chrome issue for updates: https://bugs.chromium.org/p/chromium/issues/detail?id=1215049","title":"Update Chrome flag programatically using javascript","body":"<p>You can not. This is behind a flag because it is an experimental feature that is not yet ready for production and end users.\nYou can star the chrome issue for updates: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=1215049\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=1215049</a></p>\n"}],"owner":{"account_id":26856298,"reputation":1,"user_id":20440551,"display_name":"Manish Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667995135,"creation_date":1667974945,"question_id":74370665,"body_markdown":"I want to enable &quot;chrome-wide-echo-cancellation&quot; flag of Google Chrome programmatically. Can we do it programmatically and how?\r\n","title":"Update Chrome flag programatically using javascript","body":"<p>I want to enable &quot;chrome-wide-echo-cancellation&quot; flag of Google Chrome programmatically. Can we do it programmatically and how?</p>\n"},{"tags":["java","ebcdic"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667990989,"post_id":74373623,"comment_id":131297977,"body_markdown":"Just to clearify your question, you&#39;re not asking how to check if a character is EBCDIC encoded, because Java uses Unicode, you&#39;re asking if the Unicode character also existing in the EBCDIC character encoding?","body":"Just to clearify your question, you&#39;re not asking how to check if a character is EBCDIC encoded, because Java uses Unicode, you&#39;re asking if the Unicode character also existing in the EBCDIC character encoding?"},{"owner":{"account_id":23247288,"reputation":63,"user_id":17335689,"display_name":"Daniel Brunner"},"score":0,"creation_date":1667993862,"post_id":74373623,"comment_id":131298959,"body_markdown":"yes exactly, checking if the Unicode character also exists in the EBCDIC encoding","body":"yes exactly, checking if the Unicode character also exists in the EBCDIC encoding"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667995073,"creation_date":1667991266,"answer_id":74373709,"question_id":74373623,"body_markdown":"    boolean canEncode(char ch) {\r\n        Charset charset = Charset.forName(&quot;EBCDIC&quot;);\r\n        return charset.newEncoder().canEncode(ch);\r\n    }\r\n\r\nThe [`CharsetEncoder`][1] can also check entire Strings.\r\n\r\nAnd there is more conversion support around Charset.\r\n\r\n-----------------\r\nThanks to @BruceMartin and @0x1C1B\r\n\r\nNote that there are more than one EBCDIC variants, just like 8 bit ASCII ((US) ASCII being 7 bits). Pick the right code page:\r\n`&quot;Cp037&quot; for US EBCDIC, &quot;Cp1047&quot;, ...\r\n\r\nYou will need the Charset to convert to EBCDIC bytes.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/charset/CharsetEncoder.html","title":"Simple Way in Java to check if char is in EBCDIC","body":"<pre><code>boolean canEncode(char ch) {\n    Charset charset = Charset.forName(&quot;EBCDIC&quot;);\n    return charset.newEncoder().canEncode(ch);\n}\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/charset/CharsetEncoder.html\" rel=\"nofollow noreferrer\"><code>CharsetEncoder</code></a> can also check entire Strings.</p>\n<p>And there is more conversion support around Charset.</p>\n<hr />\n<p>Thanks to @BruceMartin and @0x1C1B</p>\n<p>Note that there are more than one EBCDIC variants, just like 8 bit ASCII ((US) ASCII being 7 bits). Pick the right code page:\n`&quot;Cp037&quot; for US EBCDIC, &quot;Cp1047&quot;, ...</p>\n<p>You will need the Charset to convert to EBCDIC bytes.</p>\n"}],"owner":{"account_id":23247288,"reputation":63,"user_id":17335689,"display_name":"Daniel Brunner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373709,"answer_count":1,"score":1,"last_activity_date":1667995073,"creation_date":1667990868,"question_id":74373623,"body_markdown":"I&#39;m trying to figure out how to check if a char is in EBCDIC. \r\n\r\nOne approach would be to have a predefined array with all possible EBCDIC signs, and check if the character can be found in that array. \r\n\r\nIs there a better/cleaner way?","title":"Simple Way in Java to check if char is in EBCDIC","body":"<p>I'm trying to figure out how to check if a char is in EBCDIC.</p>\n<p>One approach would be to have a predefined array with all possible EBCDIC signs, and check if the character can be found in that array.</p>\n<p>Is there a better/cleaner way?</p>\n"},{"tags":["java","profiling","jmx","visualvm","jmxmp"],"comments":[{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":6,"creation_date":1341920512,"post_id":11412560,"comment_id":15050007,"body_markdown":"Anyone else think this is a sorry state? Surely remote profiling on a firewalled server shouldn&#39;t be this hard?","body":"Anyone else think this is a sorry state? Surely remote profiling on a firewalled server shouldn&#39;t be this hard?"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlovi"},"score":0,"creation_date":1341920663,"post_id":11412560,"comment_id":15050074,"body_markdown":"http://www.java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm","body":"<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm</a>"},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":1,"creation_date":1341920839,"post_id":11412560,"comment_id":15050150,"body_markdown":"@BorisPavlovi Thanks, I&#39;ll try it, but there should be an official download somewhere too, or Oracle/Sun has dropped the ball.","body":"@BorisPavlovi Thanks, I&#39;ll try it, but there should be an official download somewhere too, or Oracle/Sun has dropped the ball."}],"answers":[{"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341924252,"creation_date":1341924252,"answer_id":11413595,"question_id":11412560,"body_markdown":"http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html\r\n\r\n...has a download button for **JMX Remote API 1.0.1_04 Reference Implementation**. This links to...\r\n\r\nhttp://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html\r\n\r\n... which only offers **Java Management Extensions (JMX) Remote API Reference Implementation 1.0.1_03**. So still a bit flaky.\r\n","title":"Where to download JMXMP?","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html</a></p>\n\n<p>...has a download button for <strong>JMX Remote API 1.0.1_04 Reference Implementation</strong>. This links to...</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html</a></p>\n\n<p>... which only offers <strong>Java Management Extensions (JMX) Remote API Reference Implementation 1.0.1_03</strong>. So still a bit flaky.</p>\n"},{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341924327,"creation_date":1341924327,"answer_id":11413613,"question_id":11412560,"body_markdown":"See OpenDMK at https://github.com/nickman/OpenDMK.\r\nIt&#39;s a maven build. You need the jmx-optional module.","title":"Where to download JMXMP?","body":"<p>See OpenDMK at <a href=\"https://github.com/nickman/OpenDMK\" rel=\"nofollow\">https://github.com/nickman/OpenDMK</a>.\nIt's a maven build. You need the jmx-optional module.</p>\n"},{"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342622253,"creation_date":1342622253,"answer_id":11543910,"question_id":11412560,"body_markdown":"The easiest solution would to create socks proxy with `ssh -D`. See [this post][1] for more details. Than start VisualVM and set this proxy in Tools-&gt;Options-&gt;Network. You don&#39;t need to use `-J-Dnetbeans.system_socks_proxy -J-Djava.net.useSystemProxies` on VisualVM command line.\r\n\r\n\r\n  [1]: https://bowerstudios.com/node/731","title":"Where to download JMXMP?","body":"<p>The easiest solution would to create socks proxy with <code>ssh -D</code>. See <a href=\"https://bowerstudios.com/node/731\" rel=\"nofollow\">this post</a> for more details. Than start VisualVM and set this proxy in Tools->Options->Network. You don't need to use <code>-J-Dnetbeans.system_socks_proxy -J-Djava.net.useSystemProxies</code> on VisualVM command line.</p>\n"},{"tags":[],"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1667995048,"creation_date":1351601230,"answer_id":13139299,"question_id":11412560,"body_markdown":"\r\nThe canonical javax.management:jmxremote_optional appears to have been removed from Maven Central [1].  (I wonder why... legions of Larry&#39;s lawyers?)\r\n\r\nFortunately the following appears to be a drop-in replacement which *is* on Maven Central [2]:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.external&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opendmk_jmxremote_optional_jar&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-b01-ea&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy JMXMP/TLS code continues to work with this, secured and with authentication on both sides.  May your mileage be equally good. :)\r\n\r\n[1] https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/\r\n\r\n[2] https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/","title":"Where to download JMXMP?","body":"<p>The canonical javax.management:jmxremote_optional appears to have been removed from Maven Central [1].  (I wonder why... legions of Larry's lawyers?)</p>\n<p>Fortunately the following appears to be a drop-in replacement which <em>is</em> on Maven Central [2]:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.external&lt;/groupId&gt;\n    &lt;artifactId&gt;opendmk_jmxremote_optional_jar&lt;/artifactId&gt;\n    &lt;version&gt;1.0-b01-ea&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My JMXMP/TLS code continues to work with this, secured and with authentication on both sides.  May your mileage be equally good. :)</p>\n<p>[1] <a href=\"https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/</a></p>\n<p>[2] <a href=\"https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/</a></p>\n"},{"tags":[],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407422357,"creation_date":1407422357,"answer_id":25185360,"question_id":11412560,"body_markdown":"v4.0 came out in May 2013\r\n\r\n[jmxremote_optional-repackaged jar][1]\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.glassfish.main.external/jmxremote_optional-repackaged\r\n\r\n","title":"Where to download JMXMP?","body":"<p>v4.0 came out in May 2013</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.glassfish.main.external/jmxremote_optional-repackaged\" rel=\"nofollow\">jmxremote_optional-repackaged jar</a></p>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7491,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1667995048,"creation_date":1341920453,"question_id":11412560,"body_markdown":"I want to profile a Java application with VisualVM, remotely via JMX. Because it&#39;s a NAT&#39;ted and firewalled EC2 instance, I can&#39;t use the default RMI approach and need to use the optional JMXMP extensions, which I must first download.\r\n\r\n&gt; NOTE  IF YOU WANT TO USE A JMXMP CONNECTOR, DOWNLOAD THE JSR 160\r\n&gt; REFERENCE IMPLEMENTATION FROM\r\n&gt; HTTP://JAVA.SUN.COM/PRODUCTS/JAVAMANAGEMENT/DOWNLOAD.HTML, AND ADD THE\r\n&gt; JMXREMOTE_OPTIONAL.JAR FILE TO YOUR CLASSPATH. YOU WILL FIND EXAMPLES\r\n&gt; OF USE OF THE JMXMP CONNECTORS IN THE JMX REMOTE API TUTORIAL INCLUDED\r\n&gt; WITH THE JSR 160 REFERENCE IMPLEMENTATION.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html\r\n\r\nBut when I go to that page, I cannot find the download. In fact, Google cannot find the download. Where can I get these extensions?","title":"Where to download JMXMP?","body":"<p>I want to profile a Java application with VisualVM, remotely via JMX. Because it's a NAT'ted and firewalled EC2 instance, I can't use the default RMI approach and need to use the optional JMXMP extensions, which I must first download.</p>\n\n<blockquote>\n  <p>NOTE  IF YOU WANT TO USE A JMXMP CONNECTOR, DOWNLOAD THE JSR 160\n  REFERENCE IMPLEMENTATION FROM\n  , AND ADD THE\n  JMXREMOTE_OPTIONAL.JAR FILE TO YOUR CLASSPATH. YOU WILL FIND EXAMPLES\n  OF USE OF THE JMXMP CONNECTORS IN THE JMX REMOTE API TUTORIAL INCLUDED\n  WITH THE JSR 160 REFERENCE IMPLEMENTATION.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html</a></p>\n\n<p>But when I go to that page, I cannot find the download. In fact, Google cannot find the download. Where can I get these extensions?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667891269,"post_id":74356718,"comment_id":131269250,"body_markdown":"add full log4j file content","body":"add full log4j file content"},{"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"score":0,"creation_date":1667891423,"post_id":74356718,"comment_id":131269287,"body_markdown":"check now added","body":"check now added"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1667891506,"post_id":74356718,"comment_id":131269307,"body_markdown":"Use `${sys:logFilePath}` instead of `${logFilePath}`.","body":"Use <code>${sys:logFilePath}</code> instead of <code>${logFilePath}</code>."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":1,"creation_date":1667892466,"post_id":74356718,"comment_id":131269596,"body_markdown":"Does this answer your question? [Use system properties OR variables in log4j](https://stackoverflow.com/questions/14332525/use-system-properties-or-variables-in-log4j)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14332525/use-system-properties-or-variables-in-log4j\">Use system properties OR variables in log4j</a>"}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667994797,"creation_date":1667890601,"question_id":74356718,"body_markdown":"I am trying to generate log file at a location using Java code, but it is not getting generated where it should get generated.\r\n\r\nSnippet:\r\n\r\n```java\r\nstatic {\r\n    try {\r\n        System.setProperty(&quot;logFilePath&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/app.log&quot;);\r\n        configLevelData = HelperMethods.getGlobalVarsFromConfig(configFilePath);\r\n        log = LogManager.getLogger(Runner.class);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nlog4j2.xml \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n    &lt;Appenders&gt;\r\n\r\n        &lt;RollingFile name=&quot;LogToFile&quot;\r\n                     fileName=&quot;${logFilePath}&quot;\r\n                     filePattern=&quot;{DEFAULT}&quot; append=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.vodafone.tv.runner&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.vodafone.tv.utils.CollectFiles&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n","title":"Log file is not getting generated at a desired location","body":"<p>I am trying to generate log file at a location using Java code, but it is not getting generated where it should get generated.</p>\n<p>Snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n    try {\n        System.setProperty(&quot;logFilePath&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/app.log&quot;);\n        configLevelData = HelperMethods.getGlobalVarsFromConfig(configFilePath);\n        log = LogManager.getLogger(Runner.class);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>log4j2.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n\n        &lt;RollingFile name=&quot;LogToFile&quot;\n                     fileName=&quot;${logFilePath}&quot;\n                     filePattern=&quot;{DEFAULT}&quot; append=&quot;false&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.vodafone.tv.runner&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.vodafone.tv.utils.CollectFiles&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","multithreading","interrupt","parallelstream"],"owner":{"account_id":26876537,"reputation":1,"user_id":20457708,"display_name":"Fr&#233;d&#233;ric Lartigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667994542,"answer_count":0,"score":0,"last_activity_date":1667994533,"creation_date":1667988251,"question_id":74373005,"body_markdown":"I would like to interrupt all threads (substreams) of a Java **parallelStream**  according to a condition verified by one of them.\r\n\r\nExemple : a little piece of code to assess time needed to find a six characters password. I iterate from 1 to \\~19 billion (a to Z =\\&gt; pow(52,6)) and convert the long toward a string with my function ln.toAString(long), &quot;passwd&quot;=\\&gt;5705641243).\r\n\r\n```\r\nlong limit = 19_770_609_664L;\r\nLongStream.range(0, limit)\t\t\t\t\t\r\n\t\t\t.parallel()\r\n\t\t\t.mapToObj(i -&gt; ln.toAString(i))\r\n\t\t\t.filter(s -&gt; s.equals(&quot;passwd&quot;))\r\n\t\t\t.findFirst();\r\n```\r\n\r\nWhen one of the substream = thread-worker find the password the others continue to run even if they have no chance to succeed : such a pity ! \r\na way to stop all of the threads workers of the parallelStream when one of them has **completed the global goal** ?\r\n\r\nI tried using a global variable (flag) to consult before continuing or using a Future or a CompletableFuture but :\r\n1) I know how global variable, side effects ...   are bad so I look for an other way\r\n2) I didnt really found the way to do this.\r\n\r\nI expect that the parallelStream stop as soon as one fork (one the threads workers of the parallelStream) finds the password.\r\n","title":"Stop all threads of a parallelStream","body":"<p>I would like to interrupt all threads (substreams) of a Java <strong>parallelStream</strong>  according to a condition verified by one of them.</p>\n<p>Exemple : a little piece of code to assess time needed to find a six characters password. I iterate from 1 to ~19 billion (a to Z =&gt; pow(52,6)) and convert the long toward a string with my function ln.toAString(long), &quot;passwd&quot;=&gt;5705641243).</p>\n<pre><code>long limit = 19_770_609_664L;\nLongStream.range(0, limit)                  \n            .parallel()\n            .mapToObj(i -&gt; ln.toAString(i))\n            .filter(s -&gt; s.equals(&quot;passwd&quot;))\n            .findFirst();\n</code></pre>\n<p>When one of the substream = thread-worker find the password the others continue to run even if they have no chance to succeed : such a pity !\na way to stop all of the threads workers of the parallelStream when one of them has <strong>completed the global goal</strong> ?</p>\n<p>I tried using a global variable (flag) to consult before continuing or using a Future or a CompletableFuture but :</p>\n<ol>\n<li>I know how global variable, side effects ...   are bad so I look for an other way</li>\n<li>I didnt really found the way to do this.</li>\n</ol>\n<p>I expect that the parallelStream stop as soon as one fork (one the threads workers of the parallelStream) finds the password.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"score":5,"creation_date":1411470092,"post_id":25993225,"comment_id":40705284,"body_markdown":"http://bugs.java.com/view_bug.do?bug_id=6587184","body":"<a href=\"http://bugs.java.com/view_bug.do?bug_id=6587184\" rel=\"nofollow noreferrer\">bugs.java.com/view_bug.do?bug_id=6587184</a>"},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470401,"post_id":25993225,"comment_id":40705448,"body_markdown":"@hsz I just tried it on Linux too with JDK 1.6.0_15. I can reproduce it there too.","body":"@hsz I just tried it on Linux too with JDK 1.6.0_15. I can reproduce it there too."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470431,"post_id":25993225,"comment_id":40705461,"body_markdown":"@hsz And I can reproduce this on my local Windows which had JDK 1.6.0_45.","body":"@hsz And I can reproduce this on my local Windows which had JDK 1.6.0_45."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470452,"post_id":25993225,"comment_id":40705476,"body_markdown":"So... is this fixed in Java 7 or in Java 8?","body":"So... is this fixed in Java 7 or in Java 8?"},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1411470951,"post_id":25993225,"comment_id":40705706,"body_markdown":"Host = [stackoverflow.com].\nHost = [mail.yahoo.com].\ni got this output when i execute your code and changing first url to stackoverflow.com...","body":"Host = [stackoverflow.com]. Host = [mail.yahoo.com]. i got this output when i execute your code and changing first url to stackoverflow.com..."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411471138,"post_id":25993225,"comment_id":40705793,"body_markdown":"@GVSharma Good. How is this relevant to my question?","body":"@GVSharma Good. How is this relevant to my question?"},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1411471366,"post_id":25993225,"comment_id":40705893,"body_markdown":"you said it is giving null na...just i copied that part of your code and i run it in my pc it is giving host name right..?same result i posted in above comment.","body":"you said it is giving null na...just i copied that part of your code and i run it in my pc it is giving host name right..?same result i posted in above comment."},{"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411471430,"post_id":25993225,"comment_id":40705923,"body_markdown":"@GVSharma The example you give is irrelevant. Read the answers below.","body":"@GVSharma The example you give is irrelevant. Read the answers below."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1667992704,"creation_date":1411470609,"answer_id":25993570,"question_id":25993225,"body_markdown":"As mentioned in the comments by @hsz it is a known [bug][1].\r\n\r\nBut, let&#39;s debug and look inside the sources of `URI` class. The problem is inside the method:\r\n\r\n`private int parseHostname(int start, int n)`:\r\n\r\nparsing first URI fails at lines `if ((p &lt; n) &amp;&amp; !at(p, n, &#39;:&#39;))\r\n                fail(&quot;Illegal character in hostname&quot;, p);`\r\n\r\nthis is because `_` symbol isn&#39;t foreseen inside the scan block, so it allows only alphas, digits and `-`symbol (`L_ALPHANUM`, `H_ALPHANUM`, `L_DASH` and `H_DASH`).\r\n\r\nAnd yes, this is not yet fixed in `Java 7`.\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6587184","title":"URI - getHost returns null. Why?","body":"<p>As mentioned in the comments by @hsz it is a known <a href=\"http://bugs.java.com/view_bug.do?bug_id=6587184\" rel=\"nofollow noreferrer\">bug</a>.</p>\n<p>But, let's debug and look inside the sources of <code>URI</code> class. The problem is inside the method:</p>\n<p><code>private int parseHostname(int start, int n)</code>:</p>\n<p>parsing first URI fails at lines <code>if ((p &lt; n) &amp;&amp; !at(p, n, ':')) fail(&quot;Illegal character in hostname&quot;, p);</code></p>\n<p>this is because <code>_</code> symbol isn't foreseen inside the scan block, so it allows only alphas, digits and <code>-</code>symbol (<code>L_ALPHANUM</code>, <code>H_ALPHANUM</code>, <code>L_DASH</code> and <code>H_DASH</code>).</p>\n<p>And yes, this is not yet fixed in <code>Java 7</code>.</p>\n"},{"tags":[],"owner":{"account_id":4038747,"reputation":2488,"user_id":3322203,"accept_rate":20,"display_name":"Danial Hussain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411470910,"creation_date":1411470910,"answer_id":25993664,"question_id":25993225,"body_markdown":"It&#39;s because of underscore in base uri.\r\nJust Remove underscore to check that out.It&#39;s working.\r\n\r\nLike given below :\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n    java.net.URI uri = new java.net.URI(&quot;http://brokenarrow.huntingtonhelps.com&quot;);\r\n    String host = uri.getHost();\r\n    System.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\r\n    uri = new java.net.URI(&quot;http://mail.yahoo.com&quot;);\r\n    host = uri.getHost();\r\n    System.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n}","title":"URI - getHost returns null. Why?","body":"<p>It's because of underscore in base uri.\nJust Remove underscore to check that out.It's working.</p>\n\n<p>Like given below :</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\njava.net.URI uri = new java.net.URI(\"http://brokenarrow.huntingtonhelps.com\");\nString host = uri.getHost();\nSystem.out.println(\"Host = [\" + host + \"].\");\n\nuri = new java.net.URI(\"http://mail.yahoo.com\");\nhost = uri.getHost();\nSystem.out.println(\"Host = [\" + host + \"].\");\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":507466,"reputation":29,"user_id":1604599,"display_name":"Paul Loy"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415149495,"creation_date":1415149495,"answer_id":26748054,"question_id":25993225,"body_markdown":"I don&#39;t think it&#39;s a bug in Java, I think Java is parsing hostnames correctly according to the spec, there are good explanations of the spec here: http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names and here: http://www.netregister.biz/faqit.htm#1\r\n\r\nSpecifically hostnames MUST NOT contain underscores.","title":"URI - getHost returns null. Why?","body":"<p>I don't think it's a bug in Java, I think Java is parsing hostnames correctly according to the spec, there are good explanations of the spec here: <a href=\"http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names</a> and here: <a href=\"http://www.netregister.biz/faqit.htm#1\" rel=\"nofollow\">http://www.netregister.biz/faqit.htm#1</a></p>\n\n<p>Specifically hostnames MUST NOT contain underscores.</p>\n"},{"tags":[],"owner":{"account_id":468974,"reputation":3420,"user_id":875265,"display_name":"fycth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465920102,"creation_date":1465919505,"answer_id":37816748,"question_id":25993225,"body_markdown":"As mentioned, it is a known JVM bug.\r\nAlthough, if you want to do an HTTP request to such a host, you still can try to use a workaround.\r\nThe main idea is to construct request basing on the IP, not on the &#39;wrong&#39; hostname. But in that case you also need to add &quot;Host&quot; header to the request, with the correct (original) hostname.\r\n\r\n1: Cut hostname from the URL (it&#39;s a rough example, you can use some more smart way):\r\n\r\n    int n = url.indexOf(&quot;://&quot;);  \r\n    if (n &gt; 0) { n += 3; } else { n = 0; }  \r\n    int m = url.indexOf(&quot;:&quot;, n);\r\n    int k = url.indexOf(&quot;/&quot;, n);  \r\n    if (-1 == m) { m = k; }  \r\n    String hostHeader;  \r\n    if (k &gt; -1) {  \r\n      hostHeader = url.substring(n, k);  \r\n    } else {  \r\n      hostHeader = url.substring(n);  \r\n    }\r\n    String hostname;  \r\n    if (m &gt; -1) {  \r\n      hostname = url.substring(n, m);  \r\n    } else {  \r\n      hostname = url.substring(n);  \r\n    }  \r\n\r\n2: Get hostname&#39;s IP:\r\n\r\n    String IP = InetAddress.getByName(hostname).getHostAddress();\r\n\r\n3: Construct new URL basing on the IP:\r\n\r\n    String newURL = url.substring(0, n) + IP + url.substring(m);\r\n\r\n4: Now use an HTTP library for preparing request on the new URL (pseudocode):\r\n\r\n    HttpRequest req = ApacheHTTP.get(newUrl);\r\n\r\n5: And now you should add &quot;Host&quot; header with the correct (original) hostname:\r\n\r\n    req.addHeader(&quot;Host&quot;, hostHeader);\r\n\r\n6: Now you can do the request (pseudocode):\r\n\r\n    String resp = req.getResponse().asString();\r\n\r\n\r\n","title":"URI - getHost returns null. Why?","body":"<p>As mentioned, it is a known JVM bug.\nAlthough, if you want to do an HTTP request to such a host, you still can try to use a workaround.\nThe main idea is to construct request basing on the IP, not on the 'wrong' hostname. But in that case you also need to add \"Host\" header to the request, with the correct (original) hostname.</p>\n\n<p>1: Cut hostname from the URL (it's a rough example, you can use some more smart way):</p>\n\n<pre><code>int n = url.indexOf(\"://\");  \nif (n &gt; 0) { n += 3; } else { n = 0; }  \nint m = url.indexOf(\":\", n);\nint k = url.indexOf(\"/\", n);  \nif (-1 == m) { m = k; }  \nString hostHeader;  \nif (k &gt; -1) {  \n  hostHeader = url.substring(n, k);  \n} else {  \n  hostHeader = url.substring(n);  \n}\nString hostname;  \nif (m &gt; -1) {  \n  hostname = url.substring(n, m);  \n} else {  \n  hostname = url.substring(n);  \n}  \n</code></pre>\n\n<p>2: Get hostname's IP:</p>\n\n<pre><code>String IP = InetAddress.getByName(hostname).getHostAddress();\n</code></pre>\n\n<p>3: Construct new URL basing on the IP:</p>\n\n<pre><code>String newURL = url.substring(0, n) + IP + url.substring(m);\n</code></pre>\n\n<p>4: Now use an HTTP library for preparing request on the new URL (pseudocode):</p>\n\n<pre><code>HttpRequest req = ApacheHTTP.get(newUrl);\n</code></pre>\n\n<p>5: And now you should add \"Host\" header with the correct (original) hostname:</p>\n\n<pre><code>req.addHeader(\"Host\", hostHeader);\n</code></pre>\n\n<p>6: Now you can do the request (pseudocode):</p>\n\n<pre><code>String resp = req.getResponse().asString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247716,"reputation":1009,"user_id":2047385,"display_name":"xorcus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553795148,"creation_date":1553795148,"answer_id":55403924,"question_id":25993225,"body_markdown":"Consider using: `new java.net.URL(&quot;http://broken_arrow.huntingtonhelps.com&quot;).getHost()` instead. It has alternative parsing implementation. If you have an `URI myUri` instance, then call `myUri.toURL().getHost()`.\r\n\r\nI faced this `URI` issue in OpenJDK 1.8 and it worked fine with `URL`.","title":"URI - getHost returns null. Why?","body":"<p>Consider using: <code>new java.net.URL(\"http://broken_arrow.huntingtonhelps.com\").getHost()</code> instead. It has alternative parsing implementation. If you have an <code>URI myUri</code> instance, then call <code>myUri.toURL().getHost()</code>.</p>\n\n<p>I faced this <code>URI</code> issue in OpenJDK 1.8 and it worked fine with <code>URL</code>.</p>\n"}],"owner":{"account_id":2660877,"reputation":38533,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11793,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":25993570,"answer_count":5,"score":20,"last_activity_date":1667992704,"creation_date":1411469507,"question_id":25993225,"body_markdown":"Why is the 1st one returning `null`, while the 2nd one is returning `mail.yahoo.com`?\r\n\r\nIsn&#39;t this weird? If not, what&#39;s the logic behind this behavior?  \r\n\r\nIs the underscore the culprit? Why? \r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tjava.net.URI uri = new java.net.URI(&quot;http://broken_arrow.huntingtonhelps.com&quot;);\r\n\t\tString host = uri.getHost();\r\n\t\tSystem.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\t\t\r\n\t\turi = new java.net.URI(&quot;http://mail.yahoo.com&quot;);\r\n\t\thost = uri.getHost();\r\n\t\tSystem.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\t}\r\n\r\n\r\n","title":"URI - getHost returns null. Why?","body":"<p>Why is the 1st one returning <code>null</code>, while the 2nd one is returning <code>mail.yahoo.com</code>?</p>\n\n<p>Isn't this weird? If not, what's the logic behind this behavior?  </p>\n\n<p>Is the underscore the culprit? Why? </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    java.net.URI uri = new java.net.URI(\"http://broken_arrow.huntingtonhelps.com\");\n    String host = uri.getHost();\n    System.out.println(\"Host = [\" + host + \"].\");\n\n    uri = new java.net.URI(\"http://mail.yahoo.com\");\n    host = uri.getHost();\n    System.out.println(\"Host = [\" + host + \"].\");\n}\n</code></pre>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":286782,"reputation":3674,"user_id":586229,"accept_rate":20,"display_name":"hoijui"},"score":0,"creation_date":1436353837,"post_id":31290875,"comment_id":50572811,"body_markdown":"why not use the java api for printing?","body":"why not use the java api for printing?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1436353894,"post_id":31290875,"comment_id":50572846,"body_markdown":"You can start by writing a printer driver. Drivers are _required_ to provide an API to talk to hardware. Whether you _want_ to install one or not is not relevant.","body":"You can start by writing a printer driver. Drivers are <i>required</i> to provide an API to talk to hardware. Whether you <i>want</i> to install one or not is not relevant."},{"owner":{"account_id":6544596,"reputation":442,"user_id":5061004,"accept_rate":100,"display_name":"Altay Mazlum"},"score":1,"creation_date":1436353931,"post_id":31290875,"comment_id":50572870,"body_markdown":"See http://stackoverflow.com/help/how-to-ask. Your typing made me dizzy.","body":"See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Your typing made me dizzy."},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436353966,"post_id":31290875,"comment_id":50572890,"body_markdown":"java api is useful whenever I will install printer Driver but I don&#39;t want to install printer driver","body":"java api is useful whenever I will install printer Driver but I don&#39;t want to install printer driver"},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436354060,"post_id":31290875,"comment_id":50572957,"body_markdown":"can i Use java pos for this task","body":"can i Use java pos for this task"}],"answers":[{"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436355944,"creation_date":1436355944,"answer_id":31291673,"question_id":31290875,"body_markdown":"What you may want is to use Java Communications API. This API allows you to access Parallel port, serial ports etc.\r\n\r\nHave a look at oracle site: http://www.oracle.com/technetwork/java/index-jsp-141752.html\r\n","title":"how to connect printer to java application without using printer driver","body":"<p>What you may want is to use Java Communications API. This API allows you to access Parallel port, serial ports etc.</p>\n\n<p>Have a look at oracle site: <a href=\"http://www.oracle.com/technetwork/java/index-jsp-141752.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/index-jsp-141752.html</a></p>\n"}],"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2985,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667992507,"creation_date":1436353687,"question_id":31290875,"body_markdown":"I am developing an application in  JAVA swing in which I have to use a printer to print receipt and my printer name is `EPSON thermal printer` model is `TM-TM-T88IV` (Running on parallel port `LPT1`).\r\n\r\nI want to connect this printer in My JAVA app but the condition is that I don&#39;t want to install printer driver, I want to manually operate Printer. But have no idea how to start.","title":"how to connect printer to java application without using printer driver","body":"<p>I am developing an application in  JAVA swing in which I have to use a printer to print receipt and my printer name is <code>EPSON thermal printer</code> model is <code>TM-TM-T88IV</code> (Running on parallel port <code>LPT1</code>).</p>\n\n<p>I want to connect this printer in My JAVA app but the condition is that I don't want to install printer driver, I want to manually operate Printer. But have no idea how to start.</p>\n"},{"tags":["java","bytecode","javap"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667992438,"creation_date":1667990155,"answer_id":74373444,"question_id":74373395,"body_markdown":"First: The &quot;name&quot; of that class is effectively irrelevant, since it&#39;s an anonymous name, i.e. it&#39;s generated and not for the developer to know or care about.\r\n\r\nSecond: `AnonymousTestApp$1` is used (by this compiler, that&#39;s not defined in the standard) to indicate the first anonymous subclass *contained in* the code of `AnonymousTestApp`.\r\n\r\n`TestClass$1` would be the name if the anonymous class was defined inside of `TestClass`.\r\n\r\nThink about this problem: If multiple classes in the same package created anonymous subclasses of the same base class, how would they coordinat to avoid name clashes? Using the name of the current top-level class as the prefix avoids such a potential clash.\r\n\r\nWhile `$` *can* be apart of a normal Java identifier, it is [explicitly discouraged in the JLS][1]:\r\n\r\n&gt; The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.8","title":"Why does an anonymous inner class have such type when I disassemble the class file using javac?","body":"<p>First: The &quot;name&quot; of that class is effectively irrelevant, since it's an anonymous name, i.e. it's generated and not for the developer to know or care about.</p>\n<p>Second: <code>AnonymousTestApp$1</code> is used (by this compiler, that's not defined in the standard) to indicate the first anonymous subclass <em>contained in</em> the code of <code>AnonymousTestApp</code>.</p>\n<p><code>TestClass$1</code> would be the name if the anonymous class was defined inside of <code>TestClass</code>.</p>\n<p>Think about this problem: If multiple classes in the same package created anonymous subclasses of the same base class, how would they coordinat to avoid name clashes? Using the name of the current top-level class as the prefix avoids such a potential clash.</p>\n<p>While <code>$</code> <em>can</em> be apart of a normal Java identifier, it is <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">explicitly discouraged in the JLS</a>:</p>\n<blockquote>\n<p>The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems.</p>\n</blockquote>\n"}],"owner":{"account_id":12319723,"reputation":33,"user_id":8989302,"display_name":"ChpokHead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373444,"answer_count":1,"score":0,"last_activity_date":1667992438,"creation_date":1667989928,"question_id":74373395,"body_markdown":"When I disassembled the code given below, I noticed that the TestClass&#39;s anonymous inner class in constant pool is displayed as &#39;AnonymousTestApp$1&#39;, but shouldn&#39;t it be &#39;TestClass$1&#39;?\r\n\r\nThe code:\r\n```\r\npublic class AnonymousTestApp {\r\n    public static void main(String[] args) {\r\n        TestClass tc = new TestClass(){\r\n\r\n        };\r\n    }\r\n}\r\n```\r\nCompiled using Oracle JDK 17 and disassembled using &#39;javap -c -p -v&#39;.","title":"Why does an anonymous inner class have such type when I disassemble the class file using javac?","body":"<p>When I disassembled the code given below, I noticed that the TestClass's anonymous inner class in constant pool is displayed as 'AnonymousTestApp$1', but shouldn't it be 'TestClass$1'?</p>\n<p>The code:</p>\n<pre><code>public class AnonymousTestApp {\n    public static void main(String[] args) {\n        TestClass tc = new TestClass(){\n\n        };\n    }\n}\n</code></pre>\n<p>Compiled using Oracle JDK 17 and disassembled using 'javap -c -p -v'.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1667987445,"post_id":74372535,"comment_id":131296733,"body_markdown":"It doesn&#39;t work, the name of the method is not ok","body":"It doesn&#39;t work, the name of the method is not ok"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667991089,"post_id":74372535,"comment_id":131298018,"body_markdown":"Could you show us `executeStoredProcedure` signature - on my machine your code works perfectly fine - the type of anyMap() is inferred desired Map&lt;String, Object&gt;","body":"Could you show us <code>executeStoredProcedure</code> signature - on my machine your code works perfectly fine - the type of anyMap() is inferred desired Map&lt;String, Object&gt;"},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1667991991,"post_id":74372535,"comment_id":131298300,"body_markdown":"`@Override\n    public void executeStoredProcedure(String query, Map&lt;String, Object&gt; parameters) throws RepositoryException { }`","body":"<code>@Override     public void executeStoredProcedure(String query, Map&lt;String, Object&gt; parameters) throws RepositoryException { }</code>"}],"answers":[{"tags":[],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667991808,"creation_date":1667991808,"answer_id":74373837,"question_id":74372535,"body_markdown":"After a bit of research I founded how to do that: instead of using *anyMap* I have to use *ArgumentMatchers.&lt;String, Object&gt;anyMap()*","title":"Mockito Map type","body":"<p>After a bit of research I founded how to do that: instead of using <em>anyMap</em> I have to use <em>ArgumentMatchers.&lt;String, Object&gt;anyMap()</em></p>\n"}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667991808,"creation_date":1667985880,"question_id":74372535,"body_markdown":"That&#39;s my code:\r\n\r\n```\r\n@Test(expected = ThirdLevelException.class) public void buildChMarginStockTest3() throws Exception{\r\n\t\t\r\n\twhen(clhCategoryHistoryDAO.countById(anyString() , any(Date.class), any(Date.class), anyInt()))\r\n\t\t.thenReturn(0L);\r\n\tdoThrow(new RepositoryException()).when(genericDAO).executeStoredProcedure(anyString(), anyMap());\r\n\t\t\r\n\tupdateMatViewNInfoTradesPaiNpvIccBean.elabThirdLevel(clhCategoryLoad, envelopeBean);\r\n\t\t\r\n}\r\n```\r\n\r\nThe problem is that *genericDAO.executeStoredProcedure()* needs two parameters: a String and a Map&lt;String, Object&gt;. The code as it is now is not good cause has an error: *The method executeStoredProcedure(String, Map&lt;String,Object&gt;) in the type GenericDAO is not applicable for the arguments (String, Map&lt;Object,Object&gt;)*.\r\n\r\nHow can I solve this?","title":"Mockito Map type","body":"<p>That's my code:</p>\n<pre><code>@Test(expected = ThirdLevelException.class) public void buildChMarginStockTest3() throws Exception{\n        \n    when(clhCategoryHistoryDAO.countById(anyString() , any(Date.class), any(Date.class), anyInt()))\n        .thenReturn(0L);\n    doThrow(new RepositoryException()).when(genericDAO).executeStoredProcedure(anyString(), anyMap());\n        \n    updateMatViewNInfoTradesPaiNpvIccBean.elabThirdLevel(clhCategoryLoad, envelopeBean);\n        \n}\n</code></pre>\n<p>The problem is that <em>genericDAO.executeStoredProcedure()</em> needs two parameters: a String and a Map&lt;String, Object&gt;. The code as it is now is not good cause has an error: <em>The method executeStoredProcedure(String, Map&lt;String,Object&gt;) in the type GenericDAO is not applicable for the arguments (String, Map&lt;Object,Object&gt;)</em>.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1668006233,"post_id":74373735,"comment_id":131303664,"body_markdown":"In G1, besides eden/survivor/old regions, there are humongous regions. jstat numbers make sense mostly for old-fashioned collectors; with a modern JVM, it&#39;s better to use JMX for monitoring.","body":"In G1, besides eden/survivor/old regions, there are humongous regions. jstat numbers make sense mostly for old-fashioned collectors; with a modern JVM, it&#39;s better to use JMX for monitoring."},{"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"score":0,"creation_date":1668078536,"post_id":74373735,"comment_id":131322004,"body_markdown":"@apangin Then I still don&#39;t understand. Using JMXTERM I do `get -b java.lang:type=Memory *` and get 15082496248 bytes for heap usage. When I do the same for Eden space with `get java.lang:name=G1\\\\ Eden\\\\ Space,type=MemoryPool *` I get 17968398336 for usage, which is larger than the whole heap. What am I doing wrong?","body":"@apangin Then I still don&#39;t understand. Using JMXTERM I do <code>get -b java.lang:type=Memory *</code> and get 15082496248 bytes for heap usage. When I do the same for Eden space with <code>get java.lang:name=G1\\\\ Eden\\\\ Space,type=MemoryPool *</code> I get 17968398336 for usage, which is larger than the whole heap. What am I doing wrong?"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667991376,"creation_date":1667991376,"question_id":74373735,"body_markdown":"I&#39;m trying to understand the output of various JVM memory diagnostics. First thing I do,\r\n\r\n```\r\n$ jcmd 27263 GC.heap_info\r\n27263:\r\n garbage-first heap   total 29319168K, used 16150310K [0x00000000c3000000, 0x00000000c3806fd8, 0x00000007c0800000)\r\n  region size 8192K, 1132 young (9273344K), 8 survivors (65536K)\r\n Metaspace       used 457222K, capacity 526687K, committed 526848K, reserved 1507328K\r\n  class space    used 50629K, capacity 68310K, committed 68352K, reserved 1048576K\r\n```\r\n\r\nSo the used heap size is 16150310k/(1024^2) = 15.4GB. And now I do:\r\n```\r\n$ jstat -gc 27263\r\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\r\n 0.0   65536.0  0.0   65536.0 2547712.0 1736704.0 26705920.0 6794156.1  527104.0 457297.5 68352.0 50635.9   1876  212.356   0      0.000  212.356\r\n```\r\n\r\nAnd I add up S1U (S1 survivor space utilization), EU (Eden space utilization), OU (Old gen utilization): 65536.0 + 1736704.0 + 6794156.1 = 8,596,396.1K = 8.2GB.\r\n\r\nWhat am I missing here? Why does Eden + survivor + Old gen  heap?","title":"JVM memory stats don&#39;t make sense to me","body":"<p>I'm trying to understand the output of various JVM memory diagnostics. First thing I do,</p>\n<pre><code>$ jcmd 27263 GC.heap_info\n27263:\n garbage-first heap   total 29319168K, used 16150310K [0x00000000c3000000, 0x00000000c3806fd8, 0x00000007c0800000)\n  region size 8192K, 1132 young (9273344K), 8 survivors (65536K)\n Metaspace       used 457222K, capacity 526687K, committed 526848K, reserved 1507328K\n  class space    used 50629K, capacity 68310K, committed 68352K, reserved 1048576K\n</code></pre>\n<p>So the used heap size is 16150310k/(1024^2) = 15.4GB. And now I do:</p>\n<pre><code>$ jstat -gc 27263\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\n 0.0   65536.0  0.0   65536.0 2547712.0 1736704.0 26705920.0 6794156.1  527104.0 457297.5 68352.0 50635.9   1876  212.356   0      0.000  212.356\n</code></pre>\n<p>And I add up S1U (S1 survivor space utilization), EU (Eden space utilization), OU (Old gen utilization): 65536.0 + 1736704.0 + 6794156.1 = 8,596,396.1K = 8.2GB.</p>\n<p>What am I missing here? Why does Eden + survivor + Old gen  heap?</p>\n"},{"tags":["java","selenium","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667886564,"creation_date":1667886564,"answer_id":74356186,"question_id":74352979,"body_markdown":"Instead of \r\n\r\n    @IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\r\n\r\ntry\r\n\r\n    @IncludeTags({&quot;CC&amp;USERMENU&quot;})","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>Instead of</p>\n<pre><code>@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\n</code></pre>\n<p>try</p>\n<pre><code>@IncludeTags({&quot;CC&amp;USERMENU&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26860384,"reputation":3,"user_id":20443992,"display_name":"Hazel Egan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667991329,"creation_date":1667991329,"answer_id":74373726,"question_id":74352979,"body_markdown":"Thank you johanneslink! You put me on the right track!\r\n\r\nAs CC and USERMENU are constant Strings I needed to edit your suggestion slightly and this now works for me:\r\n\r\n```\r\n@IncludeTags({CC+&quot;&amp;&quot;+USERMENU})\r\n```\r\n\r\nThanks so much, I have much cleaner Suites now!","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>Thank you johanneslink! You put me on the right track!</p>\n<p>As CC and USERMENU are constant Strings I needed to edit your suggestion slightly and this now works for me:</p>\n<pre><code>@IncludeTags({CC+&quot;&amp;&quot;+USERMENU})\n</code></pre>\n<p>Thanks so much, I have much cleaner Suites now!</p>\n"}],"owner":{"account_id":26860384,"reputation":3,"user_id":20443992,"display_name":"Hazel Egan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356186,"answer_count":2,"score":0,"last_activity_date":1667991329,"creation_date":1667855405,"question_id":74352979,"body_markdown":"I have a selenium project in Java using JUnit5. I have some suites and several tests with tags. I want to have a suite that runs all tests with **both** tags\r\n\r\nAn example of a suite is:\r\n\r\n```\r\n@SelectClasses(ScreenshotComparisonTests.class)\r\n@IncludeTags({&quot;CC&quot;})\r\n@ExcludeTags({&quot;CASH&quot;, &quot;FINANCIAL&quot;, &quot;HACCP&quot;, &quot;HRM&quot;, &quot;INVENTORY&quot;, &quot;OPERATIONS&quot;, &quot;PURCHASING&quot;, &quot;REPORTING&quot;})\r\n@Suite\r\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\r\npublic class CUserMenuScreenshotComparisonSuite {\r\n}\r\n```\r\n\r\n\r\nBut instead of listing all of the tags to exclude, I&#39;d rather have something like:\r\n\r\n\r\n\r\n```\r\n@SelectClasses(ScreenshotComparisonTests.class)\r\n@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\r\n@Suite\r\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\r\npublic class CUserMenuScreenshotComparisonSuite {\r\n}\r\n```\r\n\r\nBut intellij highlights that &amp; as not allowed here. I have read that this is acceptable here https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\r\n\r\nTried using:\r\n- @IncludeTags(&quot;CC&quot; &amp; &quot;USERMENU&quot;)\r\n- @IncludeTags{(&quot;CC&quot; &amp; &quot;USERMENU&quot;)}\r\n- @IncludeTags{&quot;CC&quot; &amp; &quot;USERMENU&quot;}\r\n- @IncludeTags{(&quot;CC&quot; &amp;&amp; &quot;USERMENU&quot;)}\r\n\r\n\r\n\r\n```\r\n\r\njava: bad operand types for binary operator &#39;&amp;&#39;\r\n  first type:  java.lang.String\r\n  second type: java.lang.String\r\n\r\n```\r\n","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>I have a selenium project in Java using JUnit5. I have some suites and several tests with tags. I want to have a suite that runs all tests with <strong>both</strong> tags</p>\n<p>An example of a suite is:</p>\n<pre><code>@SelectClasses(ScreenshotComparisonTests.class)\n@IncludeTags({&quot;CC&quot;})\n@ExcludeTags({&quot;CASH&quot;, &quot;FINANCIAL&quot;, &quot;HACCP&quot;, &quot;HRM&quot;, &quot;INVENTORY&quot;, &quot;OPERATIONS&quot;, &quot;PURCHASING&quot;, &quot;REPORTING&quot;})\n@Suite\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\npublic class CUserMenuScreenshotComparisonSuite {\n}\n</code></pre>\n<p>But instead of listing all of the tags to exclude, I'd rather have something like:</p>\n<pre><code>@SelectClasses(ScreenshotComparisonTests.class)\n@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\n@Suite\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\npublic class CUserMenuScreenshotComparisonSuite {\n}\n</code></pre>\n<p>But intellij highlights that &amp; as not allowed here. I have read that this is acceptable here <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions</a></p>\n<p>Tried using:</p>\n<ul>\n<li>@IncludeTags(&quot;CC&quot; &amp; &quot;USERMENU&quot;)</li>\n<li>@IncludeTags{(&quot;CC&quot; &amp; &quot;USERMENU&quot;)}</li>\n<li>@IncludeTags{&quot;CC&quot; &amp; &quot;USERMENU&quot;}</li>\n<li>@IncludeTags{(&quot;CC&quot; &amp;&amp; &quot;USERMENU&quot;)}</li>\n</ul>\n<pre><code>\njava: bad operand types for binary operator '&amp;'\n  first type:  java.lang.String\n  second type: java.lang.String\n\n</code></pre>\n"},{"tags":["java","object","wso2"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1667990040,"post_id":74373373,"comment_id":131297633,"body_markdown":"You need to convert your string first to an object that contains name and marks attributes using Json converters. There are many...","body":"You need to convert your string first to an object that contains name and marks attributes using Json converters. There are many..."},{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1667999992,"post_id":74373373,"comment_id":131301127,"body_markdown":"@YoucefLaidani What are you trying to do here? Can you explain your full use case?","body":"@YoucefLaidani What are you trying to do here? Can you explain your full use case?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668000526,"post_id":74373373,"comment_id":131301326,"body_markdown":"@ycr I mean create a class that has a name and marks attributes, then use for example ObjectMapper to convert the JSON to this type, so after you can use `myObj.getName()`","body":"@ycr I mean create a class that has a name and marks attributes, then use for example ObjectMapper to convert the JSON to this type, so after you can use <code>myObj.getName()</code>"},{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1668000987,"post_id":74373373,"comment_id":131301494,"body_markdown":"I mean what is your real business use case? If you just need the name and marks in your Class mediator why don&#39;t you just pass the two as separate properties to the class mediator?","body":"I mean what is your real business use case? If you just need the name and marks in your Class mediator why don&#39;t you just pass the two as separate properties to the class mediator?"}],"answers":[{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667990567,"creation_date":1667990204,"answer_id":74373453,"question_id":74373373,"body_markdown":"It seems like `obj` is a JSON string. You will need to use a library like GSON (https://github.com/google/gson) to parse it, either to another object or to a map. \r\n\r\nExamples for map:\r\n```java\r\nclass Main {\r\n    private Gson gson = new Gson();\r\n    public boolean mediate(MessageContext synCtx) {\r\n        String obj = synCtx.getProperty(&quot;RequestPayload&quot;).toString();       \r\n        Map&lt;String, Object&gt; result = gson.fromJson(obj, Map.class);\r\n        System.out.println(result.get(&quot;name&quot;));        \r\n        return true;\r\n    }\r\n}\r\n```","title":"How to get value from java object?","body":"<p>It seems like <code>obj</code> is a JSON string. You will need to use a library like GSON (<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a>) to parse it, either to another object or to a map.</p>\n<p>Examples for map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    private Gson gson = new Gson();\n    public boolean mediate(MessageContext synCtx) {\n        String obj = synCtx.getProperty(&quot;RequestPayload&quot;).toString();       \n        Map&lt;String, Object&gt; result = gson.fromJson(obj, Map.class);\n        System.out.println(result.get(&quot;name&quot;));        \n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20449264"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373453,"answer_count":1,"score":0,"last_activity_date":1667991157,"creation_date":1667989832,"question_id":74373373,"body_markdown":"\r\n\r\n```java  \r\npublic boolean mediate(MessageContext synCtx) {\r\n    Object obj = synCtx.getProperty(&quot;RequestPayload&quot;);       \r\n    System.out.println(obj);        \r\n    return true;\r\n}\r\n```\r\n\r\nFrom above code I can see output like below.\r\n\r\n\r\n```json\r\n{\r\n    &quot;name&quot; : &quot;Jone&quot;,\r\n    &quot;marks&quot; : &quot;45&quot;\r\n}\r\n```\r\n\r\nCan I know how I print name from that object.\r\nI tried like below but its not working.\r\n```java\r\nSystem.out.println(obj.get(&quot;name&quot;).toString());\r\n```\r\nCan anyone help me I am new to this.","title":"How to get value from java object?","body":"<pre class=\"lang-java prettyprint-override\"><code>public boolean mediate(MessageContext synCtx) {\n    Object obj = synCtx.getProperty(&quot;RequestPayload&quot;);       \n    System.out.println(obj);        \n    return true;\n}\n</code></pre>\n<p>From above code I can see output like below.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot; : &quot;Jone&quot;,\n    &quot;marks&quot; : &quot;45&quot;\n}\n</code></pre>\n<p>Can I know how I print name from that object.\nI tried like below but its not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(obj.get(&quot;name&quot;).toString());\n</code></pre>\n<p>Can anyone help me I am new to this.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":20788081,"reputation":100,"user_id":15266877,"display_name":"Ezekiela Rakotoarijaona"},"score":0,"creation_date":1641893223,"post_id":70664191,"comment_id":124920104,"body_markdown":"I tried &quot;/synchro/task**&quot; and still the same result the &quot;/synchro/task&quot; works but not the &quot;/synchro/task/1&quot; where 1 is an id does not work. When I should get a 401 when there is no Authorization I get a 200 instead.","body":"I tried &quot;/synchro/task**&quot; and still the same result the &quot;/synchro/task&quot; works but not the &quot;/synchro/task/1&quot; where 1 is an id does not work. When I should get a 401 when there is no Authorization I get a 200 instead."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1641901960,"post_id":70664191,"comment_id":124923536,"body_markdown":"@EzekielaRakotoarijaona `.antMatcher(&quot;/synchro/task/**&quot;)` is the right way, to match all sub paths. But the URL `/synchro/task` is not a sub path. It should work if you use the URL `/synchro/task/`. That&#39;s a workaround.","body":"@EzekielaRakotoarijaona <code>.antMatcher(&quot;&#47;synchro&#47;task&#47;**&quot;)</code> is the right way, to match all sub paths. But the URL <code>&#47;synchro&#47;task</code> is not a sub path. It should work if you use the URL <code>&#47;synchro&#47;task&#47;</code>. That&#39;s a workaround."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1641902792,"post_id":70664191,"comment_id":124923851,"body_markdown":"@EzekielaRakotoarijaona If you really need to match both paths, you should replace `.antMatcher(&quot;/synchro/task/**&quot;)` with `.requestMatchers().antMatchers(&quot;&quot;/synchro/task&quot;&quot;, &quot;/synchro/task/**&quot;)`.","body":"@EzekielaRakotoarijaona If you really need to match both paths, you should replace <code>.antMatcher(&quot;&#47;synchro&#47;task&#47;**&quot;)</code> with <code>.requestMatchers().antMatchers(&quot;&quot;&#47;synchro&#47;task&quot;&quot;, &quot;&#47;synchro&#47;task&#47;**&quot;)</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641902879,"post_id":70664191,"comment_id":124923887,"body_markdown":"&quot;Spring Boot app that has 2 security entrypoints&quot;...what does it mean??","body":"&quot;Spring Boot app that has 2 security entrypoints&quot;...what does it mean??"},{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1641908088,"post_id":70664191,"comment_id":124925893,"body_markdown":"Is there any error? Add `logging.level.org.springframework.security=TRACE` to your `application.properties` and paste the trace here","body":"Is there any error? Add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and paste the trace here"},{"owner":{"account_id":12921582,"reputation":115,"user_id":9343850,"display_name":"kiloton"},"score":0,"creation_date":1667912121,"post_id":70664191,"comment_id":131276453,"body_markdown":"@dur your upvoted comment is the actual answer and helped me finally figure this out in my project. if you make an answer out of the comment i will upvote. unsure whether there is a question with more votes where you could also put it.","body":"@dur your upvoted comment is the actual answer and helped me finally figure this out in my project. if you make an answer out of the comment i will upvote. unsure whether there is a question with more votes where you could also put it."}],"answers":[{"tags":[],"owner":{"account_id":23972504,"reputation":340,"user_id":17961007,"display_name":"Ashwini Karnale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667983948,"creation_date":1642651107,"answer_id":70780635,"question_id":70664191,"body_markdown":"Try this code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable();\r\n        \r\n    http\r\n        .antMatcher(&quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/synchro/task/**&quot;).hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\n","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p>Try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable();\n    \nhttp\n    .antMatcher(&quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .antMatchers(&quot;/synchro/task/**&quot;).hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667991149,"creation_date":1667990202,"answer_id":74373452,"question_id":70664191,"body_markdown":"`/synchro/task/**` matches only directories in the path `/synchro/task/`, see [`AntPathMatcher`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html):\r\n\r\n&gt; The mapping matches URLs using the following rules:\r\n&gt; \r\n&gt; - ? matches one character\r\n&gt; - \\* matches zero or more characters\r\n&gt; - ** matches zero or more directories in a path\r\n&gt; - {spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;\r\n\r\nBut `/synchro/task` is not a directory in path `/synchro/task/`, so you need to add your parent `/synchro/task` directory.\r\n\r\nYour modified code:\r\n\r\n&lt;!--langaugee: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .requestMatchers()\r\n            .antMatchers(&quot;/synchro/task&quot;, &quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p><code>/synchro/task/**</code> matches only directories in the path <code>/synchro/task/</code>, see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\"><code>AntPathMatcher</code></a>:</p>\n<blockquote>\n<p>The mapping matches URLs using the following rules:</p>\n<ul>\n<li>? matches one character</li>\n<li>* matches zero or more characters</li>\n<li>** matches zero or more directories in a path</li>\n<li>{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;</li>\n</ul>\n</blockquote>\n<p>But <code>/synchro/task</code> is not a directory in path <code>/synchro/task/</code>, so you need to add your parent <code>/synchro/task</code> directory.</p>\n<p>Your modified code:</p>\n\n<pre><code>http\n    .csrf().disable()\n    .requestMatchers()\n        .antMatchers(&quot;/synchro/task&quot;, &quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n"}],"owner":{"account_id":20788081,"reputation":100,"user_id":15266877,"display_name":"Ezekiela Rakotoarijaona"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667991149,"creation_date":1641892361,"question_id":70664191,"body_markdown":"I&#39;m configuring a Spring Boot app that has 2 security entrypoints and I configured the first one which is a Basic Auth to match the ant pattern `/synchro/task/**`. But when I test it, it works when I try the URL with just `/synchro/task` but not when I get the task id such as `/synchro/task/1`. \r\n\r\nMy code is as below : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\nI also tried to use `requestMatchers` and two `antmatchers` to match `/synchro/task/*` and `/synchro/task/**` but it only takes the `/synchro/task` but not when there is an id. \r\n\r\nThe fun fact is that when I set as below : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/synchro/task/*&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\nIt works but only with the `/synchro/task/1` for example but no more with the `/synchro/task`.\r\n\r\nSo how could I combine both even if I really thought that the `antMatcher(&quot;/synchro/task/**&quot;)` would cover both paths with ids and without.\r\n\r\nHere is my controller class : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/synchro&quot;)\r\n    public class SynchroResource extends GenericResource {\r\n        @Autowired\r\n        private IndexationService indexationService;\r\n        @Autowired\r\n        private SynchroService synchroService;\r\n\r\n        @RequestMapping(value = &quot;/task&quot;, method = RequestMethod.GET)\r\n        public IndexationTaskResponse getNextTask() {\r\n            return this.indexationService.getNextTask();\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/task/{taskId}&quot;, method = RequestMethod.PUT)\r\n        public void updateTaskState(@PathVariable long taskId,\r\n                                @RequestBody(required = false) String errorMessage) {\r\n            this.indexationService.updateTaskState(taskId, errorMessage);\r\n        }\r\n    }\r\n\r\n","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p>I'm configuring a Spring Boot app that has 2 security entrypoints and I configured the first one which is a Basic Auth to match the ant pattern <code>/synchro/task/**</code>. But when I test it, it works when I try the URL with just <code>/synchro/task</code> but not when I get the task id such as <code>/synchro/task/1</code>.</p>\n<p>My code is as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .antMatcher(&quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n<p>I also tried to use <code>requestMatchers</code> and two <code>antmatchers</code> to match <code>/synchro/task/*</code> and <code>/synchro/task/**</code> but it only takes the <code>/synchro/task</code> but not when there is an id.</p>\n<p>The fun fact is that when I set as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .antMatcher(&quot;/synchro/task/*&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n<p>It works but only with the <code>/synchro/task/1</code> for example but no more with the <code>/synchro/task</code>.</p>\n<p>So how could I combine both even if I really thought that the <code>antMatcher(&quot;/synchro/task/**&quot;)</code> would cover both paths with ids and without.</p>\n<p>Here is my controller class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/synchro&quot;)\npublic class SynchroResource extends GenericResource {\n    @Autowired\n    private IndexationService indexationService;\n    @Autowired\n    private SynchroService synchroService;\n\n    @RequestMapping(value = &quot;/task&quot;, method = RequestMethod.GET)\n    public IndexationTaskResponse getNextTask() {\n        return this.indexationService.getNextTask();\n    }\n\n    @RequestMapping(value = &quot;/task/{taskId}&quot;, method = RequestMethod.PUT)\n    public void updateTaskState(@PathVariable long taskId,\n                            @RequestBody(required = false) String errorMessage) {\n        this.indexationService.updateTaskState(taskId, errorMessage);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security","session-timeout"],"answers":[{"tags":[],"owner":{"account_id":1012552,"reputation":8534,"user_id":1024796,"accept_rate":100,"display_name":"Ravi Kadaboina"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344436864,"creation_date":1344390858,"answer_id":11856611,"question_id":11843010,"body_markdown":"You can use [SimpleRedirectInvalidSessionStrategy](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/SimpleRedirectInvalidSessionStrategy.html) to redirect to a URL when an invalid requested session is detected by the SessionManagementFilter.\r\n\r\nSample applicationContext would be like this:\r\n\r\n    &lt;http&gt;\r\n\t\t&lt;custom-filter ref=&quot;sessionManagementFilter&quot; before=&quot;SESSION_MANAGEMENT_FILTER&quot; /&gt;\r\n\t&lt;http&gt;\r\n\r\n\r\n\t&lt;beans:bean id=&quot;sessionManagementFilter&quot; class=&quot;org.springframework.security.web.session.SessionManagementFilter&quot;&gt;\r\n\t\t&lt;beans:constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;httpSessionSecurityContextRepository&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;invalidSessionStrategy&quot; ref=&quot;simpleRedirectInvalidSessionStrategy &quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;simpleRedirectInvalidSessionStrategy&quot; class=&quot;org.springframework.security.web.session.SimpleRedirectInvalidSessionStrategy&quot;&gt;\r\n\t  &lt;beans:constructor-arg name=&quot;invalidSessionUrl&quot; value=&quot;/general/logins/sessionExpired.jsf&quot; /&gt;\r\n\t  &lt;beans:property name=&quot;createNewSession&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t&lt;beans:bean id=&quot;httpSessionSecurityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\r\n\r\nIf you are using JSF, also refer to https://stackoverflow.com/questions/10143539/jsf-2-spring-security-3-x-and-richfaces-4-redirect-to-login-page-on-session-tim/10156398#10156398 on how to handle Ajax requests as well.\r\n\r\n**UPDATE**: In such a case, you can extend the HttpSessionEventPublisher and listen for sessionDestroyed events like this:\r\n\r\n    package com.examples;\r\n\timport javax.servlet.http.HttpSessionEvent;\r\n\r\n\timport org.springframework.security.web.session.HttpSessionEventPublisher;\r\n\r\n\r\n\tpublic class MyHttpSessionEventPublisher extends HttpSessionEventPublisher {\r\n\r\n\t   @Override\r\n\t   public void sessionCreated(HttpSessionEvent event) {\r\n\t\t  super.sessionCreated(event);\r\n\t   }\r\n\r\n\t   @Override\r\n\t   public void sessionDestroyed(HttpSessionEvent event) {\r\n\t\t  //do something\r\n\t\t  super.sessionDestroyed(event);\r\n\t   }\r\n\t   \r\n\t}\r\n\r\nand then register this listener in your web.xml like this:\r\n\r\n    &lt;listener&gt;\r\n\t\t&lt;listener-class&gt;com.examples.MyHttpSessionEventPublisher&lt;/listener-class&gt;\r\n\t &lt;/listener&gt;","title":"Logout/Session timeout catching with spring security","body":"<p>You can use <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/SimpleRedirectInvalidSessionStrategy.html\" rel=\"nofollow noreferrer\">SimpleRedirectInvalidSessionStrategy</a> to redirect to a URL when an invalid requested session is detected by the SessionManagementFilter.</p>\n\n<p>Sample applicationContext would be like this:</p>\n\n<pre><code>&lt;http&gt;\n    &lt;custom-filter ref=\"sessionManagementFilter\" before=\"SESSION_MANAGEMENT_FILTER\" /&gt;\n&lt;http&gt;\n\n\n&lt;beans:bean id=\"sessionManagementFilter\" class=\"org.springframework.security.web.session.SessionManagementFilter\"&gt;\n    &lt;beans:constructor-arg name=\"securityContextRepository\" ref=\"httpSessionSecurityContextRepository\" /&gt;\n    &lt;beans:property name=\"invalidSessionStrategy\" ref=\"simpleRedirectInvalidSessionStrategy \" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"simpleRedirectInvalidSessionStrategy\" class=\"org.springframework.security.web.session.SimpleRedirectInvalidSessionStrategy\"&gt;\n  &lt;beans:constructor-arg name=\"invalidSessionUrl\" value=\"/general/logins/sessionExpired.jsf\" /&gt;\n  &lt;beans:property name=\"createNewSession\" value=\"false\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"httpSessionSecurityContextRepository\" class=\"org.springframework.security.web.context.HttpSessionSecurityContextRepository\"/&gt;\n</code></pre>\n\n<p>If you are using JSF, also refer to <a href=\"https://stackoverflow.com/questions/10143539/jsf-2-spring-security-3-x-and-richfaces-4-redirect-to-login-page-on-session-tim/10156398#10156398\">JSF 2, Spring Security 3.x and Richfaces 4 redirect to login page on session time out for ajax requests</a> on how to handle Ajax requests as well.</p>\n\n<p><strong>UPDATE</strong>: In such a case, you can extend the HttpSessionEventPublisher and listen for sessionDestroyed events like this:</p>\n\n<pre><code>package com.examples;\nimport javax.servlet.http.HttpSessionEvent;\n\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\n\n\npublic class MyHttpSessionEventPublisher extends HttpSessionEventPublisher {\n\n   @Override\n   public void sessionCreated(HttpSessionEvent event) {\n      super.sessionCreated(event);\n   }\n\n   @Override\n   public void sessionDestroyed(HttpSessionEvent event) {\n      //do something\n      super.sessionDestroyed(event);\n   }\n\n}\n</code></pre>\n\n<p>and then register this listener in your web.xml like this:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.examples.MyHttpSessionEventPublisher&lt;/listener-class&gt;\n &lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344510765,"creation_date":1344510765,"answer_id":11882150,"question_id":11843010,"body_markdown":"Ok, I got a solution working, it&#39;s not as good as I&#39;d like, but it get&#39;s me to the result.\r\n\r\nI create a bean from which I can get a hold of the ApplicationContext. \r\n\r\n    public class AppCtxProvider implements ApplicationContextAware {\r\n\tprivate static WeakReference&lt;ApplicationContext&gt; APP_CTX;\r\n\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext applicationContext)\r\n\t\t\tthrows BeansException {\r\n\t\tAPP_CTX = new WeakReference&lt;ApplicationContext&gt;(applicationContext);\r\n\t}\r\n\r\n\tpublic static ApplicationContext getAppCtx() {\r\n\t\treturn APP_CTX.get();\r\n\t}\r\n    }\r\n\r\n\r\nI implement HttpSessionEventPublisher and on destroy, i get the UserDetails via sessionRegistry.getSessionInfo(sessionId)\r\n\r\nNow I have the spring beans which I need to do the cleanup of the session and the user for whom the session timed out for.\r\n\r\n    public class SessionTimeoutHandler extends HttpSessionEventPublisher {\r\n\t@Override\r\n\tpublic void sessionCreated(HttpSessionEvent event) {\r\n\t\tsuper.sessionCreated(event);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void sessionDestroyed(HttpSessionEvent event) {\r\n\t\tSessionRegistry sessionRegistry = getSessionRegistry();\r\n\t\tSessionInformation sessionInfo = (sessionRegistry != null ? sessionRegistry\r\n\t\t\t\t.getSessionInformation(event.getSession().getId()) : null);\r\n\t\tUserDetails ud = null;\r\n\t\tif (sessionInfo != null) {\r\n\t\t\tud = (UserDetails) sessionInfo.getPrincipal();\r\n\t\t}\r\n\t\tif (ud != null) {\r\n                   // Do my stuff\r\n\t\t}\r\n\t\tsuper.sessionDestroyed(event);\r\n\t}\r\n\r\n\tprivate SessionRegistry getSessionRegistry() {\r\n\t\tApplicationContext appCtx = AppCtxProvider.getAppCtx();\r\n\t\treturn appCtx.getBean(&quot;sessionRegistry&quot;, SessionRegistry.class);\r\n\t}\r\n","title":"Logout/Session timeout catching with spring security","body":"<p>Ok, I got a solution working, it's not as good as I'd like, but it get's me to the result.</p>\n\n<p>I create a bean from which I can get a hold of the ApplicationContext. </p>\n\n<pre><code>public class AppCtxProvider implements ApplicationContextAware {\nprivate static WeakReference&lt;ApplicationContext&gt; APP_CTX;\n\n@Override\npublic void setApplicationContext(ApplicationContext applicationContext)\n        throws BeansException {\n    APP_CTX = new WeakReference&lt;ApplicationContext&gt;(applicationContext);\n}\n\npublic static ApplicationContext getAppCtx() {\n    return APP_CTX.get();\n}\n}\n</code></pre>\n\n<p>I implement HttpSessionEventPublisher and on destroy, i get the UserDetails via sessionRegistry.getSessionInfo(sessionId)</p>\n\n<p>Now I have the spring beans which I need to do the cleanup of the session and the user for whom the session timed out for.</p>\n\n<pre><code>public class SessionTimeoutHandler extends HttpSessionEventPublisher {\n@Override\npublic void sessionCreated(HttpSessionEvent event) {\n    super.sessionCreated(event);\n}\n\n@Override\npublic void sessionDestroyed(HttpSessionEvent event) {\n    SessionRegistry sessionRegistry = getSessionRegistry();\n    SessionInformation sessionInfo = (sessionRegistry != null ? sessionRegistry\n            .getSessionInformation(event.getSession().getId()) : null);\n    UserDetails ud = null;\n    if (sessionInfo != null) {\n        ud = (UserDetails) sessionInfo.getPrincipal();\n    }\n    if (ud != null) {\n               // Do my stuff\n    }\n    super.sessionDestroyed(event);\n}\n\nprivate SessionRegistry getSessionRegistry() {\n    ApplicationContext appCtx = AppCtxProvider.getAppCtx();\n    return appCtx.getBean(\"sessionRegistry\", SessionRegistry.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1375971619,"creation_date":1375971619,"answer_id":18128496,"question_id":11843010,"body_markdown":"I&#39;ve got a simpler solution. This works for both logout and session timeout.\r\n\r\n    @Component\r\n    public class LogoutListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void onApplicationEvent(SessionDestroyedEvent event)\r\n    \t{\r\n    \t\tList&lt;SecurityContext&gt; lstSecurityContext = event.getSecurityContexts();\r\n    \t\tUserDetails ud;\r\n    \t\tfor (SecurityContext securityContext : lstSecurityContext)\r\n    \t\t{\r\n    \t\t\tud = (UserDetails) securityContext.getAuthentication().getPrincipal();\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nweb.xml:\r\n\r\n    &lt;listener&gt;\r\n    \t&lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\r\n    &lt;/listener&gt;","title":"Logout/Session timeout catching with spring security","body":"<p>I've got a simpler solution. This works for both logout and session timeout.</p>\n\n<pre><code>@Component\npublic class LogoutListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(SessionDestroyedEvent event)\n    {\n        List&lt;SecurityContext&gt; lstSecurityContext = event.getSecurityContexts();\n        UserDetails ud;\n        for (SecurityContext securityContext : lstSecurityContext)\n        {\n            ud = (UserDetails) securityContext.getAuthentication().getPrincipal();\n            // ...\n        }\n    }\n\n}\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16125781,"reputation":1,"user_id":11723733,"display_name":"Ankur Raj Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667990923,"creation_date":1667990923,"answer_id":74373636,"question_id":11843010,"body_markdown":"While session getting created at the time of one microservice application with setMaxInactive interval to 60 sec suppose . Session gets timedout after 60sec but after using your suggested change it should come to sessionDestroyed event but still it gets under session created and session again doesnot gets invalidated. ","title":"Logout/Session timeout catching with spring security","body":"<p>While session getting created at the time of one microservice application with setMaxInactive interval to 60 sec suppose . Session gets timedout after 60sec but after using your suggested change it should come to sessionDestroyed event but still it gets under session created and session again doesnot gets invalidated.</p>\n"}],"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93557,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":18128496,"answer_count":4,"score":35,"last_activity_date":1667990923,"creation_date":1344331817,"question_id":11843010,"body_markdown":"I&#39;m using spring/spring-security 3.1 and want to take some action whenever the user logs out (or if the session is timed out). I managed to get the action done for logout but for session timeout, I can&#39;t get it working.\r\n\r\nIn web.xml I only have the ContextLoaderListener specified ( can this be the issue? ) and of course the DelegatingFilterProxy.\r\n\r\nI use the auto config like this.\r\n\r\n    \t&lt;security:http auto-config=&quot;false&quot; use-expressions=&quot;false&quot;&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/dialog/*&quot;\r\n\t\t\taccess=&quot;ROLE_USERS&quot; /&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/boa/*&quot;\r\n\t\t\taccess=&quot;ROLE-USERS&quot; /&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/*.html&quot;\r\n\t\t\taccess=&quot;ROLE-USERS&quot; /&gt;\r\n\r\n\t\t&lt;security:form-login login-page=&quot;/auth/login.html&quot;\r\n\t\t\tdefault-target-url=&quot;/index.html&quot; /&gt;\r\n\t\t&lt;security:logout logout-url=&quot;/logout&quot;\r\n\t\t\t invalidate-session=&quot;true&quot;\r\n\t\t\tdelete-cookies=&quot;JSESSIONID&quot; success-handler-ref=&quot;logoutHandler&quot; /&gt;\r\n\t&lt;/security:http&gt;\r\n\r\n\t&lt;bean id=&quot;logoutHandler&quot; class=&quot;com.bla.bla.bla.LogoutHandler&quot;&gt;\r\n\t\t&lt;property name=&quot;logoutUrl&quot; value=&quot;/auth/logout.html&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe logout handler is called when user clicks logout, which will make some calls to a database. \r\n\r\nBut how do I handle the session timeout ??? \r\n\r\nOne way to handle it would be to inject the username into the session when user logs in and then use an ordinary httpsessionlistener and do the same thing on session timeout. \r\n\r\nIs there a similar way with spring security, so that when spring discovers that the session is to timeout, I can hook in there, access the Authentication and get the UserDetails from there and do the clean up.\r\n\r\n","title":"Logout/Session timeout catching with spring security","body":"<p>I'm using spring/spring-security 3.1 and want to take some action whenever the user logs out (or if the session is timed out). I managed to get the action done for logout but for session timeout, I can't get it working.</p>\n\n<p>In web.xml I only have the ContextLoaderListener specified ( can this be the issue? ) and of course the DelegatingFilterProxy.</p>\n\n<p>I use the auto config like this.</p>\n\n<pre><code>    &lt;security:http auto-config=\"false\" use-expressions=\"false\"&gt;\n    &lt;security:intercept-url pattern=\"/dialog/*\"\n        access=\"ROLE_USERS\" /&gt;\n    &lt;security:intercept-url pattern=\"/boa/*\"\n        access=\"ROLE-USERS\" /&gt;\n    &lt;security:intercept-url pattern=\"/*.html\"\n        access=\"ROLE-USERS\" /&gt;\n\n    &lt;security:form-login login-page=\"/auth/login.html\"\n        default-target-url=\"/index.html\" /&gt;\n    &lt;security:logout logout-url=\"/logout\"\n         invalidate-session=\"true\"\n        delete-cookies=\"JSESSIONID\" success-handler-ref=\"logoutHandler\" /&gt;\n&lt;/security:http&gt;\n\n&lt;bean id=\"logoutHandler\" class=\"com.bla.bla.bla.LogoutHandler\"&gt;\n    &lt;property name=\"logoutUrl\" value=\"/auth/logout.html\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The logout handler is called when user clicks logout, which will make some calls to a database. </p>\n\n<p>But how do I handle the session timeout ??? </p>\n\n<p>One way to handle it would be to inject the username into the session when user logs in and then use an ordinary httpsessionlistener and do the same thing on session timeout. </p>\n\n<p>Is there a similar way with spring security, so that when spring discovers that the session is to timeout, I can hook in there, access the Authentication and get the UserDetails from there and do the clean up.</p>\n"},{"tags":["javascript","java","android","input","webview"],"answers":[{"tags":[],"owner":{"account_id":872415,"reputation":257,"user_id":922961,"accept_rate":46,"display_name":"Mazz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667990865,"creation_date":1667990865,"answer_id":74373620,"question_id":73849937,"body_markdown":"I managed to solve this issue by selecting the input first then adding the value then deselecting.\r\n\r\n        \r\n\r\n        //Loop through the saved inputs and create javaScript code.\r\n        for (int i = 0; i &lt; payInputs.size(); i++) {\r\n            String id = payInputs.get(i).getId();\r\n            String value = payInputs.get(i).getValue();\r\n\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).select()&quot;).append(&quot;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).value = &#39;&quot;).append(value).append(&quot;&#39;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).blur()&quot;).append(&quot;;&quot;);\r\n        }","title":"Input values disappearing when selecting another input - android webView JavaScript injection","body":"<p>I managed to solve this issue by selecting the input first then adding the value then deselecting.</p>\n<pre><code>    //Loop through the saved inputs and create javaScript code.\n    for (int i = 0; i &lt; payInputs.size(); i++) {\n        String id = payInputs.get(i).getId();\n        String value = payInputs.get(i).getValue();\n\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').select()&quot;).append(&quot;;&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').value = '&quot;).append(value).append(&quot;';&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').blur()&quot;).append(&quot;;&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":872415,"reputation":257,"user_id":922961,"accept_rate":46,"display_name":"Mazz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373620,"answer_count":1,"score":0,"last_activity_date":1667990865,"creation_date":1664170374,"question_id":73849937,"body_markdown":"I&#39;m creating some code which saves form data from any website and the fills it in when the user requests. \r\n\r\nI am using java with webView to load a web page and inject JavaScript to perform the operation.\r\n\r\nEverything works as expected, but in some webpages, after the inputs have been filled, the data disappears when selecting another input field.\r\n\r\n    private void injectScriptInputValue(){\r\n        //Current web address\r\n        String address = myWebView.getUrl();\r\n        ArrayList&lt;PayInputs&gt; payInputs = new ArrayList&lt;&gt;();\r\n\r\n        //Check for data which matches the current web address.\r\n        for (int i = 0; i &lt; payPages.size(); i++) {\r\n            //Stored web address.\r\n            String payPageAddy = payPages.get(i).getAddress();\r\n\r\n            if (payPageAddy.compareTo(address) == 0) {\r\n                payInputs = payPages.get(i).getPayInputs();\r\n                break;\r\n            }\r\n        }\r\n\r\n        StringBuilder javaScriptInputs = new StringBuilder();\r\n\r\n        //Loop through the saved inputs and create javaScript code.\r\n        for (int i = 0; i &lt; payInputs.size(); i++) {\r\n            String id = payInputs.get(i).getId();\r\n            String value = payInputs.get(i).getValue();\r\n\r\n            //javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).focus()&quot;).append(&quot;;&quot;);\r\n            //javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).select()&quot;).append(&quot;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).value = &#39;&quot;).append(value).append(&quot;&#39;;&quot;);\r\n\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;(function()&quot;);\r\n        sb.append(&quot;{&quot;);\r\n        sb.append(javaScriptInputs);\r\n        sb.append(&quot;}&quot;);\r\n        sb.append(&quot;)&quot;);\r\n        sb.append(&quot;()&quot;);\r\n\r\n        myWebView.loadUrl(&quot;javascript:&quot; + sb.toString());\r\n    }\r\n\r\nIs there something that could be causing this on the website and is there a way to overcome this issue? Is the input checking the data is formatted in a certain way and can this be overridden? ","title":"Input values disappearing when selecting another input - android webView JavaScript injection","body":"<p>I'm creating some code which saves form data from any website and the fills it in when the user requests.</p>\n<p>I am using java with webView to load a web page and inject JavaScript to perform the operation.</p>\n<p>Everything works as expected, but in some webpages, after the inputs have been filled, the data disappears when selecting another input field.</p>\n<pre><code>private void injectScriptInputValue(){\n    //Current web address\n    String address = myWebView.getUrl();\n    ArrayList&lt;PayInputs&gt; payInputs = new ArrayList&lt;&gt;();\n\n    //Check for data which matches the current web address.\n    for (int i = 0; i &lt; payPages.size(); i++) {\n        //Stored web address.\n        String payPageAddy = payPages.get(i).getAddress();\n\n        if (payPageAddy.compareTo(address) == 0) {\n            payInputs = payPages.get(i).getPayInputs();\n            break;\n        }\n    }\n\n    StringBuilder javaScriptInputs = new StringBuilder();\n\n    //Loop through the saved inputs and create javaScript code.\n    for (int i = 0; i &lt; payInputs.size(); i++) {\n        String id = payInputs.get(i).getId();\n        String value = payInputs.get(i).getValue();\n\n        //javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').focus()&quot;).append(&quot;;&quot;);\n        //javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').select()&quot;).append(&quot;;&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').value = '&quot;).append(value).append(&quot;';&quot;);\n\n    }\n\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(&quot;(function()&quot;);\n    sb.append(&quot;{&quot;);\n    sb.append(javaScriptInputs);\n    sb.append(&quot;}&quot;);\n    sb.append(&quot;)&quot;);\n    sb.append(&quot;()&quot;);\n\n    myWebView.loadUrl(&quot;javascript:&quot; + sb.toString());\n}\n</code></pre>\n<p>Is there something that could be causing this on the website and is there a way to overcome this issue? Is the input checking the data is formatted in a certain way and can this be overridden?</p>\n"},{"tags":["java","docker","scala","apache-spark","kubernetes-helm"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1667993219,"post_id":74373618,"comment_id":131298753,"body_markdown":"A Helm chart can&#39;t change the code inside an image, and especially not the base image you&#39;re building from.  If you need to do major updates to an image like changing the JVM version, you&#39;ll have to recreate that image from its Dockerfile (or find a different base image or write your own Dockerfile), this isn&#39;t something that&#39;s easily changed on an already-built image.","body":"A Helm chart can&#39;t change the code inside an image, and especially not the base image you&#39;re building from.  If you need to do major updates to an image like changing the JVM version, you&#39;ll have to recreate that image from its Dockerfile (or find a different base image or write your own Dockerfile), this isn&#39;t something that&#39;s easily changed on an already-built image."},{"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"score":0,"creation_date":1667994867,"post_id":74373618,"comment_id":131299316,"body_markdown":"Thanks for the comment.\nThis particular Helm chart provides a way to override the base image by supplying arguments (image.repository and image.tag), so I believe I can create a new image from the original base image and still use the chart without updating the chart itself.","body":"Thanks for the comment. This particular Helm chart provides a way to override the base image by supplying arguments (image.repository and image.tag), so I believe I can create a new image from the original base image and still use the chart without updating the chart itself."},{"owner":{"account_id":10560717,"reputation":181,"user_id":7780577,"display_name":"cauthon"},"score":0,"creation_date":1681967832,"post_id":74373618,"comment_id":134142585,"body_markdown":"Did you figure this out?  I was also trying to do this.","body":"Did you figure this out?  I was also trying to do this."},{"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"score":0,"creation_date":1682089147,"post_id":74373618,"comment_id":134165619,"body_markdown":"Unfortunately, I had to fork the Bitnami repo and create a custom Image.","body":"Unfortunately, I had to fork the Bitnami repo and create a custom Image."}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667990845,"creation_date":1667990845,"question_id":74373618,"body_markdown":"I am using [bitnami/spark Helm chart][1] to manage a Spark cluster on Kubernetes which uses [bitnami/spark docker image][2].\r\n\r\nThe latest version of the Helm chart uses Spark 3.3.1 with Scala 2.12.\r\nMy application jar that needs to run on the cluster requires Java 17 and Scala 2.13 ([packaged with Spark 3.3.1][3]).\r\n\r\nWhat is the best way to update the base Docker image to use Java 17 with Spark 3.3.1 with Scala 2.13?\r\n\r\n\r\n  [1]: https://github.com/bitnami/charts/tree/main/bitnami/spark\r\n  [2]: https://hub.docker.com/r/bitnami/spark/\r\n  [3]: https://www.apache.org/dyn/closer.lua/spark/spark-3.3.1/spark-3.3.1-bin-hadoop3-scala2.13.tgz","title":"Best way to extend Docker image to update Java and Spark","body":"<p>I am using <a href=\"https://github.com/bitnami/charts/tree/main/bitnami/spark\" rel=\"nofollow noreferrer\">bitnami/spark Helm chart</a> to manage a Spark cluster on Kubernetes which uses <a href=\"https://hub.docker.com/r/bitnami/spark/\" rel=\"nofollow noreferrer\">bitnami/spark docker image</a>.</p>\n<p>The latest version of the Helm chart uses Spark 3.3.1 with Scala 2.12.\nMy application jar that needs to run on the cluster requires Java 17 and Scala 2.13 (<a href=\"https://www.apache.org/dyn/closer.lua/spark/spark-3.3.1/spark-3.3.1-bin-hadoop3-scala2.13.tgz\" rel=\"nofollow noreferrer\">packaged with Spark 3.3.1</a>).</p>\n<p>What is the best way to update the base Docker image to use Java 17 with Spark 3.3.1 with Scala 2.13?</p>\n"},{"tags":["java","xml","spring-boot","filter"],"answers":[{"tags":[],"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667990419,"creation_date":1667990419,"answer_id":74373514,"question_id":74371766,"body_markdown":"As I can see you&#39;re using Jackson already for serializing to JSON. I&#39;d recommend to use the Jackson XML extension:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease note that this only works for Spring MVC out of the box. If you wish to use the `XmlMapper`, the counterpart of the `ObjectMapper`, in Spring Security, you have to inject a bean. Problem is, that Spring doesn&#39;t register a bean of type `XmlMapper` by default.\r\n\r\nIf you just want to use XML serialization you can do the following:\r\n\r\n    @Bean\r\n    @Primary\r\n    public XmlMapper xmlMapper(MappingJackson2XmlHttpMessageConverter converter) {\r\n        return (XmlMapper) converter.getObjectMapper();\r\n    }\r\n\r\nAfter this you can inject a bean of type `XmlMapper` in your filter.\r\n\r\n**EDIT**\r\n\r\nI answered first and then thought/researched. There already seems to be questions that deal with the problem, take a look at them:\r\n\r\n - [How to autowire default XmlMapper in Spring Boot application][1]\r\n - [Spring Web Jackson ObjectMapper reference][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28812065/how-to-autowire-default-xmlmapper-in-spring-boot-application\r\n  [2]: https://stackoverflow.com/questions/72995871/spring-web-jackson-objectmapper-reference","title":"how to return response with body in xml format from filter in springboot?","body":"<p>As I can see you're using Jackson already for serializing to JSON. I'd recommend to use the Jackson XML extension:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please note that this only works for Spring MVC out of the box. If you wish to use the <code>XmlMapper</code>, the counterpart of the <code>ObjectMapper</code>, in Spring Security, you have to inject a bean. Problem is, that Spring doesn't register a bean of type <code>XmlMapper</code> by default.</p>\n<p>If you just want to use XML serialization you can do the following:</p>\n<pre><code>@Bean\n@Primary\npublic XmlMapper xmlMapper(MappingJackson2XmlHttpMessageConverter converter) {\n    return (XmlMapper) converter.getObjectMapper();\n}\n</code></pre>\n<p>After this you can inject a bean of type <code>XmlMapper</code> in your filter.</p>\n<p><strong>EDIT</strong></p>\n<p>I answered first and then thought/researched. There already seems to be questions that deal with the problem, take a look at them:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28812065/how-to-autowire-default-xmlmapper-in-spring-boot-application\">How to autowire default XmlMapper in Spring Boot application</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72995871/spring-web-jackson-objectmapper-reference\">Spring Web Jackson ObjectMapper reference</a></li>\n</ul>\n"}],"owner":{"account_id":1991302,"reputation":724,"user_id":1785263,"accept_rate":48,"display_name":"Nitish Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667990419,"creation_date":1667982052,"question_id":74371766,"body_markdown":"Unable to get the response with body in xml format from filter in springboot. I can get in JSON format correctly by using below code:\r\n\r\n                HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n                response.reset();\r\n                response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                response.setHeader(HttpHeaders.CONTENT_TYPE, request.getHeader(HttpHeaders.ACCEPT));\r\n                response.setContentType(request.getHeader(HttpHeaders.ACCEPT));\r\n                objectMapper.writeValue(response.getWriter(), ErrorUtil.createErrorsVO(ErrorTypeEnum.HEADER_NOT_SET, INTUIT_OFFERING_ID));","title":"how to return response with body in xml format from filter in springboot?","body":"<p>Unable to get the response with body in xml format from filter in springboot. I can get in JSON format correctly by using below code:</p>\n<pre><code>            HttpServletRequest request = (HttpServletRequest) servletRequest;\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            response.reset();\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.setHeader(HttpHeaders.CONTENT_TYPE, request.getHeader(HttpHeaders.ACCEPT));\n            response.setContentType(request.getHeader(HttpHeaders.ACCEPT));\n            objectMapper.writeValue(response.getWriter(), ErrorUtil.createErrorsVO(ErrorTypeEnum.HEADER_NOT_SET, INTUIT_OFFERING_ID));\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","jdbc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667989528,"post_id":74373248,"comment_id":131297448,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667990093,"creation_date":1667990093,"answer_id":74373428,"question_id":74373248,"body_markdown":"`java.sql.Driver` is **an interface**, which means you cannot instantiate it like that. You may want to review the basics of Java before starting with Spring Boot. \r\n\r\nIn any case, you need to use `new mongodb.jdbc.MongoDriver()` instead of `new Driver()`, or use `setDriverClass` and pass it the class reference (`mongodb.jdbc.MongoDriver.class`) instead of a `Driver` instance.\r\n\r\nAlso, please be aware that `SimpleDriverDataSource` is probably the wrong choice, as - for example - it doesn&#39;t provide connection pooling.","title":"Object initialization error SimpleDriverDataSource object with MongoDB","body":"<p><code>java.sql.Driver</code> is <strong>an interface</strong>, which means you cannot instantiate it like that. You may want to review the basics of Java before starting with Spring Boot.</p>\n<p>In any case, you need to use <code>new mongodb.jdbc.MongoDriver()</code> instead of <code>new Driver()</code>, or use <code>setDriverClass</code> and pass it the class reference (<code>mongodb.jdbc.MongoDriver.class</code>) instead of a <code>Driver</code> instance.</p>\n<p>Also, please be aware that <code>SimpleDriverDataSource</code> is probably the wrong choice, as - for example - it doesn't provide connection pooling.</p>\n"}],"owner":{"account_id":26320929,"reputation":21,"user_id":19982941,"display_name":"Himanshu Chugh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667990170,"creation_date":1667989396,"question_id":74373248,"body_markdown":"I need to set SimpleDriverDataSource object in order to create datasource with MongoDB, however I am not able to figure out what I should pass as &quot;Driver&quot;.\r\n\r\nI searched and found out that this is the JDBC driver for MongoDB &quot;mongodb.jdbc.MongoDriver&quot;, but how do I set it up while initializing SimpleDriverDataSource object?\r\n\r\nI have tried doing the below, but it shows error mentioned below\r\n\r\n    @Bean\r\n    protected DataSource dataSource() {\r\n        SimpleDriverDataSource ds = new SimpleDriverDataSource(); \r\n        Driver driver = new Driver(&quot;mongodb.jdbc.MongoDriver&quot;);     \t\r\n        \r\n        ds.setDriverClass(driver);\r\n        ds.setUrl(&quot;jdbc:mongodb://localhost:27017:spring-security-sampledb&quot;);\r\n        ds.setUsername(&quot;root&quot;);\r\n        ds.setPassword(&quot;secret&quot;);\r\n        return ds;\r\n    }\r\n\r\nerror\r\n\r\n&gt; Cannot instantiate the type Driver\r\n\r\nI am new to Spring Boot. Can you please help me in implementing this?\r\n","title":"Object initialization error SimpleDriverDataSource object with MongoDB","body":"<p>I need to set SimpleDriverDataSource object in order to create datasource with MongoDB, however I am not able to figure out what I should pass as &quot;Driver&quot;.</p>\n<p>I searched and found out that this is the JDBC driver for MongoDB &quot;mongodb.jdbc.MongoDriver&quot;, but how do I set it up while initializing SimpleDriverDataSource object?</p>\n<p>I have tried doing the below, but it shows error mentioned below</p>\n<pre><code>@Bean\nprotected DataSource dataSource() {\n    SimpleDriverDataSource ds = new SimpleDriverDataSource(); \n    Driver driver = new Driver(&quot;mongodb.jdbc.MongoDriver&quot;);         \n    \n    ds.setDriverClass(driver);\n    ds.setUrl(&quot;jdbc:mongodb://localhost:27017:spring-security-sampledb&quot;);\n    ds.setUsername(&quot;root&quot;);\n    ds.setPassword(&quot;secret&quot;);\n    return ds;\n}\n</code></pre>\n<p>error</p>\n<blockquote>\n<p>Cannot instantiate the type Driver</p>\n</blockquote>\n<p>I am new to Spring Boot. Can you please help me in implementing this?</p>\n"},{"tags":["java","selenium-webdriver","automation","junit5","nebular"],"answers":[{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621582888,"creation_date":1621582888,"answer_id":67632666,"question_id":67632243,"body_markdown":"Try this:\r\n\r\n    WebElement checkbox = driver.findElement(By.cssSelector(&quot;input[type=&#39;checkbox&#39;]&quot;));\r\n    checkbox.click();","title":"How to automate toggle button using Selenium?","body":"<p>Try this:</p>\n<pre><code>WebElement checkbox = driver.findElement(By.cssSelector(&quot;input[type='checkbox']&quot;));\ncheckbox.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052975,"reputation":84,"user_id":5401398,"display_name":"user5401398"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667989649,"creation_date":1667988896,"answer_id":74373136,"question_id":67632243,"body_markdown":"I was able to interact with the toggle button through the surrounding parent element:\r\n\r\n    WebElement togName = driver.findElement(By.className(&quot;custom-control&quot;));\r\n    togName.click();","title":"How to automate toggle button using Selenium?","body":"<p>I was able to interact with the toggle button through the surrounding parent element:</p>\n<pre><code>WebElement togName = driver.findElement(By.className(&quot;custom-control&quot;));\ntogName.click();\n</code></pre>\n"}],"owner":{"account_id":15441786,"reputation":1,"user_id":11140125,"display_name":"Nimesha Nadeeshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667989649,"creation_date":1621580689,"question_id":67632243,"body_markdown":"How to automate the toggle button using selenium? How to find the path? Please help me.\r\n\r\nHere the code for the nb-toggle selector. What should I get to use Selenium Automation? I took xpath, cssSelector. Any solution?\r\n\r\n\r\n    &lt;div _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control custom-switch&quot;&gt;\r\n       &lt;input _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-input&quot; type=&quot;checkbox&quot;id=&quot;6045c1fe1c189e17311821aa&quot;&gt;\r\n    &lt;label _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-label&quot; for=&quot;6045c1fe1c189e17311821aa&quot;&gt;\r\n        :before\r\n        :after\r\n    &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n[![toggle button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeXvY.png","title":"How to automate toggle button using Selenium?","body":"<p>How to automate the toggle button using selenium? How to find the path? Please help me.</p>\n<p>Here the code for the nb-toggle selector. What should I get to use Selenium Automation? I took xpath, cssSelector. Any solution?</p>\n<pre><code>&lt;div _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control custom-switch&quot;&gt;\n   &lt;input _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-input&quot; type=&quot;checkbox&quot;id=&quot;6045c1fe1c189e17311821aa&quot;&gt;\n&lt;label _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-label&quot; for=&quot;6045c1fe1c189e17311821aa&quot;&gt;\n    :before\n    :after\n&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JeXvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeXvY.png\" alt=\"toggle button\" /></a></p>\n"},{"tags":["java","process","inputstream","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984466,"creation_date":1667984466,"answer_id":74372255,"question_id":74372114,"body_markdown":"I use Scanner to read the process when executing the command, here is my code\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;ls&quot;); // \r\n       Process process = processBuilder.start();\r\n        Scanner sc = new Scanner(process.getInputStream());\r\n        while (sc.hasNext()) {            \r\n            System.out.println(sc.nextLine());\r\n        }","title":"How to get InputStream from underlying process when using Java Process","body":"<p>I use Scanner to read the process when executing the command, here is my code</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;ls&quot;); // \n   Process process = processBuilder.start();\n    Scanner sc = new Scanner(process.getInputStream());\n    while (sc.hasNext()) {            \n        System.out.println(sc.nextLine());\n    }\n</code></pre>\n"}],"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667988861,"creation_date":1667983830,"question_id":74372114,"body_markdown":"I&#39;m not able to get command execution result from Java process.getInputStream() from processes underlying process. That is &#39;cmd.exe&#39; is called (or any other terminal), then &#39;mysql\\\\n&#39; is typed, so we start an underlying process (or any other command, like &#39;sqlcmd&#39;), and then execute any MySQL command inside that internal shell and can&#39;t get command execution results from the input stream.\r\n\r\nI understand that input stream waits for some termination char for it to be able to be read, but for it it&#39;s necessary to exit the MySQL shell (or when main method finishes, it also outputs the results), but I can&#39;t do it due to requirements, it&#39;s going to be a running REST app.\r\nCan I force somehow to read input stream up to the last point and not close it?\r\nOr maybe any other ideas how to get the command execution result?\r\n\r\nCode:\r\n\r\n```\r\n\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\nString line, commandInput;\r\n\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;\\\\bin\\\\bash&quot;);\r\n\r\n//        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;);\r\nprocessBuilder.redirectErrorStream(true);\r\nProcess process = processBuilder.start();\r\nBufferedReader input = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\nBufferedWriter output = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\r\n// entering MySQL shell\r\ncommandInput = &quot;mysql -u root\\\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// providing command to the MySQL shell\r\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// can&#39;t read the result, input is never ready\r\nwhile (input.ready()) {\r\nline = input.readLine();\r\nif (line == null) {\r\nbreak;\r\n}\r\nSystem.out.println(line);\r\n}\r\n\r\n// providing 2nd command to the MySQL shell\r\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// same here, input is never ready\r\nwhile (input.ready()) {\r\nline = input.readLine();\r\nif (line == null) {\r\nbreak;\r\n}\r\nSystem.out.println(line);\r\n}\r\n\r\n// if use exit from MySQL shell, so then of course input is ready to be read\r\n//        commandInput = &quot;exit\\\\n&quot;;\r\n//        output.write(commandInput);\r\n//        output.flush();\r\n//        while (input.ready()) {\r\n//            line = input.readLine();\r\n//            if (line == null) {\r\n//                break;\r\n//            }\r\n//            System.out.println(line);\r\n//        }\r\nSystem.out.println();\r\n}\r\n```\r\n\r\nI&#39;ve tried to redirect input, output streams to be INHERITED, but also wasn&#39;t able to get command results then. I was trying to find a way to read the input stream up to the last point, but wasn&#39;t able to find it.","title":"How to get InputStream from underlying process when using Java Process","body":"<p>I'm not able to get command execution result from Java process.getInputStream() from processes underlying process. That is 'cmd.exe' is called (or any other terminal), then 'mysql\\n' is typed, so we start an underlying process (or any other command, like 'sqlcmd'), and then execute any MySQL command inside that internal shell and can't get command execution results from the input stream.</p>\n<p>I understand that input stream waits for some termination char for it to be able to be read, but for it it's necessary to exit the MySQL shell (or when main method finishes, it also outputs the results), but I can't do it due to requirements, it's going to be a running REST app.\nCan I force somehow to read input stream up to the last point and not close it?\nOr maybe any other ideas how to get the command execution result?</p>\n<p>Code:</p>\n<pre><code>\npublic static void main(String[] args) throws IOException, InterruptedException {\nString line, commandInput;\n\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;\\\\bin\\\\bash&quot;);\n\n//        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;);\nprocessBuilder.redirectErrorStream(true);\nProcess process = processBuilder.start();\nBufferedReader input = new BufferedReader(new InputStreamReader(process.getInputStream()));\nBufferedWriter output = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n\n// entering MySQL shell\ncommandInput = &quot;mysql -u root\\\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// providing command to the MySQL shell\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// can't read the result, input is never ready\nwhile (input.ready()) {\nline = input.readLine();\nif (line == null) {\nbreak;\n}\nSystem.out.println(line);\n}\n\n// providing 2nd command to the MySQL shell\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// same here, input is never ready\nwhile (input.ready()) {\nline = input.readLine();\nif (line == null) {\nbreak;\n}\nSystem.out.println(line);\n}\n\n// if use exit from MySQL shell, so then of course input is ready to be read\n//        commandInput = &quot;exit\\\\n&quot;;\n//        output.write(commandInput);\n//        output.flush();\n//        while (input.ready()) {\n//            line = input.readLine();\n//            if (line == null) {\n//                break;\n//            }\n//            System.out.println(line);\n//        }\nSystem.out.println();\n}\n</code></pre>\n<p>I've tried to redirect input, output streams to be INHERITED, but also wasn't able to get command results then. I was trying to find a way to read the input stream up to the last point, but wasn't able to find it.</p>\n"},{"tags":["java","c#","oop","debugging","neural-network"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925855,"post_id":74364187,"comment_id":131282274,"body_markdown":"1. Why is this tagged java and c#? Are you unsure what language you are coding in? 2. Please show how you print out those values. The error might be there and if you don&#39;t show all code for a complete example that demonstrates the problem, figuring out where you made a mistake is kind of hard. See [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"1. Why is this tagged java and c#? Are you unsure what language you are coding in? 2. Please show how you print out those values. The error might be there and if you don&#39;t show all code for a complete example that demonstrates the problem, figuring out where you made a mistake is kind of hard. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":26869491,"reputation":3,"user_id":20451720,"display_name":"Sultan Delen"},"score":0,"creation_date":1667925985,"post_id":74364187,"comment_id":131282331,"body_markdown":"it is written in java, and this is the full code.  https://replit.com/@mutludev/EveryVengefulPiracy weights are printed before and after changing them @oh-god-spiders","body":"it is written in java, and this is the full code.  <a href=\"https://replit.com/@mutludev/EveryVengefulPiracy\" rel=\"nofollow noreferrer\">replit.com/@mutludev/EveryVengefulPiracy</a> weights are printed before and after changing them @oh-god-spiders"}],"answers":[{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667988727,"creation_date":1667927503,"answer_id":74364650,"question_id":74364187,"body_markdown":"weights change, but finally the result is the same for maths ops.\r\nTry modify you method with more log:\r\n\r\n\t  public void decreaseWeight(double[] inputs) {\r\n\t    double[] newWeights = new double[inputs.length];\r\n\t    for (int i = 0; i &lt; this.weights.length; i++) {\r\n\t      newWeights[i] = this.weights[i] - learningRate;\r\n\t    }\r\n\t    this.weights = newWeights;\r\n      System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\r\n\r\n\t  }\r\n\r\n\t  public void increaseWeight(double[] inputs) {\r\n\t    double[] newWeights = new double[inputs.length];\r\n\t    for (int i = 0; i &lt; this.weights.length; i++) {\r\n\t      newWeights[i] = this.weights[i] + learningRate;\r\n\t    }\r\n\t    this.weights = newWeights;\r\n\t    System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\r\n\t}\r\n\r\nand study the result.\r\n\r\n[![debug][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BxTuY.png\r\n\r\nFor each neurons iterator you are increasing and then decreasing weights whith the same value, so finally neuron weights are the same","title":"Java, Class&#39; s property is not updated when it is changed with method","body":"<p>weights change, but finally the result is the same for maths ops.\nTry modify you method with more log:</p>\n<pre><code>  public void decreaseWeight(double[] inputs) {\n    double[] newWeights = new double[inputs.length];\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      newWeights[i] = this.weights[i] - learningRate;\n    }\n    this.weights = newWeights;\n  System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\n\n  }\n\n  public void increaseWeight(double[] inputs) {\n    double[] newWeights = new double[inputs.length];\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      newWeights[i] = this.weights[i] + learningRate;\n    }\n    this.weights = newWeights;\n    System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\n}\n</code></pre>\n<p>and study the result.</p>\n<p><a href=\"https://i.stack.imgur.com/BxTuY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BxTuY.png\" alt=\"debug\" /></a></p>\n<p>For each neurons iterator you are increasing and then decreasing weights whith the same value, so finally neuron weights are the same</p>\n"}],"owner":{"account_id":26869491,"reputation":3,"user_id":20451720,"display_name":"Sultan Delen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74364650,"answer_count":1,"score":-1,"last_activity_date":1667988727,"creation_date":1667925487,"question_id":74364187,"body_markdown":"App Link: [Replit](https://replit.com/@mutludev/EveryVengefulPiracy)\r\n\r\nI have a Neuron_ class\r\n```\r\npublic class Neuron_ {\r\n  private double[] weights;\r\n  double learningRate;\r\n\r\n  public Neuron_ (int inputNeurons, double learningRate) {\r\n    this.weights = new double[inputNeurons];\r\n    this.learningRate = learningRate;\r\n    for (int i = 0; i &lt; inputNeurons; i++) {\r\n      this.weights[i] = Math.random();\r\n    }\r\n  }\r\n\r\n  public double calculate(double[] inputs) {\r\n    double output = 0;\r\n    for(int i = 0; i &lt; inputs.length; i++) {\r\n      output += inputs[i] * this.weights[i];\r\n    }\r\n    return output;\r\n  }\r\n\r\n  public void decreaseWeight(double[] inputs) {    \r\n    for (int i = 0; i &lt; this.weights.length; i++) {\r\n      this.weights[i] -= learningRate * inputs[i] ;\r\n    }\r\n  }\r\n\r\n  public void increaseWeight(double[] inputs) {\r\n    for (int i = 0; i &lt; this.weights.length; i++) {\r\n      this.weights[i] += learningRate * inputs[i] ;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand I call increaseWeight and decreaseWeight methods from NeuralNetwork class\r\n\r\n```\r\nif(biggestIndex != correctIndex) {\r\n      System.out.println(&quot;Wrong output, changing weights&quot;);\r\n      for (int i = 0; i &lt; this.neurons.length; i++) {\r\n        for (int j = 0; j &lt; outputNeurons.length; j++) {\r\n          System.out.println(&quot;Changing weights for neuron &quot; + i + &quot; for output &quot; + outputNeurons[j]);\r\n          if (j == correctIndex) {\r\n            this.neurons[i].increaseWeight(inputs);\r\n          } else if (j == biggestIndex) {\r\n            this.neurons[i].decreaseWeight(inputs);\r\n          }\r\n        }\r\n    }\r\n    }\r\n```\r\nneurons array is created like this\r\n\r\n```\r\n  public NeuralNetwork_ (int inputNeurons, String[] outputNeurons, double learningRate) {\r\n    this.outputNeurons = outputNeurons;\r\n    this.neurons = new Neuron_[outputNeurons.length];\r\n    for(int i = 0; i&lt;outputNeurons.length; i++) {\r\n      this.neurons[i] = new Neuron_(inputNeurons, learningRate);\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\nWhen I call decreaseWeight and increaseWeight methods from another class, Logs show like they were changed but when I log weights at the beginning and at the end of the training, they were same every time.\r\n\r\nweights array is not updating.\r\n","title":"Java, Class&#39; s property is not updated when it is changed with method","body":"<p>App Link: <a href=\"https://replit.com/@mutludev/EveryVengefulPiracy\" rel=\"nofollow noreferrer\">Replit</a></p>\n<p>I have a Neuron_ class</p>\n<pre><code>public class Neuron_ {\n  private double[] weights;\n  double learningRate;\n\n  public Neuron_ (int inputNeurons, double learningRate) {\n    this.weights = new double[inputNeurons];\n    this.learningRate = learningRate;\n    for (int i = 0; i &lt; inputNeurons; i++) {\n      this.weights[i] = Math.random();\n    }\n  }\n\n  public double calculate(double[] inputs) {\n    double output = 0;\n    for(int i = 0; i &lt; inputs.length; i++) {\n      output += inputs[i] * this.weights[i];\n    }\n    return output;\n  }\n\n  public void decreaseWeight(double[] inputs) {    \n    for (int i = 0; i &lt; this.weights.length; i++) {\n      this.weights[i] -= learningRate * inputs[i] ;\n    }\n  }\n\n  public void increaseWeight(double[] inputs) {\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      this.weights[i] += learningRate * inputs[i] ;\n    }\n  }\n}\n</code></pre>\n<p>and I call increaseWeight and decreaseWeight methods from NeuralNetwork class</p>\n<pre><code>if(biggestIndex != correctIndex) {\n      System.out.println(&quot;Wrong output, changing weights&quot;);\n      for (int i = 0; i &lt; this.neurons.length; i++) {\n        for (int j = 0; j &lt; outputNeurons.length; j++) {\n          System.out.println(&quot;Changing weights for neuron &quot; + i + &quot; for output &quot; + outputNeurons[j]);\n          if (j == correctIndex) {\n            this.neurons[i].increaseWeight(inputs);\n          } else if (j == biggestIndex) {\n            this.neurons[i].decreaseWeight(inputs);\n          }\n        }\n    }\n    }\n</code></pre>\n<p>neurons array is created like this</p>\n<pre><code>  public NeuralNetwork_ (int inputNeurons, String[] outputNeurons, double learningRate) {\n    this.outputNeurons = outputNeurons;\n    this.neurons = new Neuron_[outputNeurons.length];\n    for(int i = 0; i&lt;outputNeurons.length; i++) {\n      this.neurons[i] = new Neuron_(inputNeurons, learningRate);\n    }\n  }\n</code></pre>\n<p>When I call decreaseWeight and increaseWeight methods from another class, Logs show like they were changed but when I log weights at the beginning and at the end of the training, they were same every time.</p>\n<p>weights array is not updating.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"tags":[],"owner":{"account_id":13214732,"reputation":443,"user_id":9543676,"display_name":"Duc Vo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667752103,"creation_date":1667752103,"answer_id":74337685,"question_id":74330865,"body_markdown":"If you use flyway only for `insert data` don&#39;t do that. Try to use this:\r\n\r\n[With Hibernate][1]:\r\n\r\n&gt; In addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop).\r\n\r\n[With Basic SQL Scripts][1]:\r\n\r\n&gt; Spring Boot can automatically create the schema (DDL scripts) of your JDBC DataSource or R2DBC ConnectionFactory and initialize it (DML scripts). It loads SQL from the standard root classpath locations: schema.sql and data.sql\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>If you use flyway only for <code>insert data</code> don't do that. Try to use this:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">With Hibernate</a>:</p>\n<blockquote>\n<p>In addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop).</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">With Basic SQL Scripts</a>:</p>\n<blockquote>\n<p>Spring Boot can automatically create the schema (DDL scripts) of your JDBC DataSource or R2DBC ConnectionFactory and initialize it (DML scripts). It loads SQL from the standard root classpath locations: schema.sql and data.sql</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22150081,"reputation":444,"user_id":16398766,"display_name":"Barry"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667988627,"creation_date":1667988627,"answer_id":74373077,"question_id":74330865,"body_markdown":"The issue here is that Hibernate does not automatically create tables. Additionally, if using Spring Boot, Flyway will run before the service using hibernate has started. As a result, your Flyway script are interacting with a table that does not exist.\r\n\r\nThe recommended way to do this is to use Flyway to manage both your database structure, your create tables etc, and static data. This will mean your database is versioned and provisioned ready for your service and hibernate can connect. ","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>The issue here is that Hibernate does not automatically create tables. Additionally, if using Spring Boot, Flyway will run before the service using hibernate has started. As a result, your Flyway script are interacting with a table that does not exist.</p>\n<p>The recommended way to do this is to use Flyway to manage both your database structure, your create tables etc, and static data. This will mean your database is versioned and provisioned ready for your service and hibernate can connect.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667988627,"creation_date":1667676385,"question_id":74330865,"body_markdown":"In a Spring Boot app, I am using Hibernate and 2 tables is created properly. However, I also need to insert data one of these tables and for this purpose I thought I should use Flyway. \r\n\r\nThen I just added insert clauses to the Flyway and use the following parameters for Hibernate and Flyway in application.properties:v\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto= update # also tried none\r\n\r\nspring.flyway.url=jdbc:mysql://localhost:3306\r\nspring.flyway.schemas=demo-db\r\nspring.flyway.user=root\r\nspring.flyway.password=******\r\n```\r\n\r\nI have not used Flyway for initializing database and I am not sure if I can use Flyway with Hibernate as I mentioned above. Or, should I disable Hibernate table creation and create another migration script for table creation? \r\n\r\n","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>In a Spring Boot app, I am using Hibernate and 2 tables is created properly. However, I also need to insert data one of these tables and for this purpose I thought I should use Flyway.</p>\n<p>Then I just added insert clauses to the Flyway and use the following parameters for Hibernate and Flyway in application.properties:v</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto= update # also tried none\n\nspring.flyway.url=jdbc:mysql://localhost:3306\nspring.flyway.schemas=demo-db\nspring.flyway.user=root\nspring.flyway.password=******\n</code></pre>\n<p>I have not used Flyway for initializing database and I am not sure if I can use Flyway with Hibernate as I mentioned above. Or, should I disable Hibernate table creation and create another migration script for table creation?</p>\n"},{"tags":["java","java-8","java-stream","peek"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":71,"creation_date":1447175920,"post_id":33635717,"comment_id":55045456,"body_markdown":"Any time I find myself needing a multi-line lambda, I move the lines to a private method and pass the method reference instead of the lambda.","body":"Any time I find myself needing a multi-line lambda, I move the lines to a private method and pass the method reference instead of the lambda."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447176947,"post_id":33635717,"comment_id":55046093,"body_markdown":"Yeah I understand this. I was just trying to more clearly demonstrate what I&#39;m trying to achieve. Thanks though :)","body":"Yeah I understand this. I was just trying to more clearly demonstrate what I&#39;m trying to achieve. Thanks though :)"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1447177432,"post_id":33635717,"comment_id":55046368,"body_markdown":"What&#39;s the intent - are you trying to log all accounts in *and* filter them based on if they&#39;re logged in (which may be trivially true)?  Or, do you want to log them in, *then* filter them based on whether or not they&#39;ve logged in?  I&#39;m asking this in this order because `forEach` may be the operation you want as opposed to `peek`.  Just because it&#39;s in the API doesn&#39;t mean it&#39;s not open for abuse (like `Optional.of`).","body":"What&#39;s the intent - are you trying to log all accounts in <i>and</i> filter them based on if they&#39;re logged in (which may be trivially true)?  Or, do you want to log them in, <i>then</i> filter them based on whether or not they&#39;ve logged in?  I&#39;m asking this in this order because <code>forEach</code> may be the operation you want as opposed to <code>peek</code>.  Just because it&#39;s in the API doesn&#39;t mean it&#39;s not open for abuse (like <code>Optional.of</code>)."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":1,"creation_date":1447177593,"post_id":33635717,"comment_id":55046460,"body_markdown":"Filter based in if they have actually logged in. For example if the username is wrong it won&#39;t log in. So I then want to check if it is or isn&#39;t logged in. If it&#39;s not then it&#39;ll get tossed by the filter.","body":"Filter based in if they have actually logged in. For example if the username is wrong it won&#39;t log in. So I then want to check if it is or isn&#39;t logged in. If it&#39;s not then it&#39;ll get tossed by the filter."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":13,"creation_date":1447191170,"post_id":33635717,"comment_id":55054025,"body_markdown":"Also note that your code could just be `.peek(Account::login)` and `.filter(Account::loggedIn)`;  there&#39;s no reason to write a Consumer and Predicate that just calls another method like that.","body":"Also note that your code could just be <code>.peek(Account::login)</code> and <code>.filter(Account::loggedIn)</code>;  there&#39;s no reason to write a Consumer and Predicate that just calls another method like that."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1447194463,"post_id":33635717,"comment_id":55055747,"body_markdown":"Also note that the stream API [explicitly discourages side-effects](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness) in _behavioural parameters_.","body":"Also note that the stream API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">explicitly discourages side-effects</a> in <i>behavioural parameters</i>."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447198906,"post_id":33635717,"comment_id":55057611,"body_markdown":"@DidierL Okay so would the following be discourage? Consumer&lt;Account&gt; login = account -&gt; getWebsite(account.getUrl()).login(account.getUsername(), account.getPassword())","body":"@DidierL Okay so would the following be discourage? Consumer&lt;Account&gt; login = account -&gt; getWebsite(account.getUrl()).login(account.getUsername(), account.getPassword())"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":8,"creation_date":1447199590,"post_id":33635717,"comment_id":55057880,"body_markdown":"Useful consumers always have side-effects, those are not discouraged of course. This is actually mentioned in the same section: _A small number of stream operations, such as `forEach()` and `peek()`, can operate only via side-effects; these should be used with care._. My remark was more to remind that the `peek` operation (which is designed for debugging purposes) should not be replaced by doing the same thing inside another operation like `map()` or `filter()`.","body":"Useful consumers always have side-effects, those are not discouraged of course. This is actually mentioned in the same section: <i>A small number of stream operations, such as <code>forEach()</code> and <code>peek()</code>, can operate only via side-effects; these should be used with care.</i>. My remark was more to remind that the <code>peek</code> operation (which is designed for debugging purposes) should not be replaced by doing the same thing inside another operation like <code>map()</code> or <code>filter()</code>."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447199746,"post_id":33635717,"comment_id":55057935,"body_markdown":"@DidierL Okay thanks. So I would call forEach(login) on the accounts. Then when I want to do something with the logged in accounts filter using a loggedIn predicate? Starting to make more sense now. Thanks","body":"@DidierL Okay thanks. So I would call forEach(login) on the accounts. Then when I want to do something with the logged in accounts filter using a loggedIn predicate? Starting to make more sense now. Thanks"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1447199944,"post_id":33635717,"comment_id":55058005,"body_markdown":"Yep, exactly as in @Makoto&#39;s answer :-)","body":"Yep, exactly as in @Makoto&#39;s answer :-)"},{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1605891131,"post_id":33635717,"comment_id":114800551,"body_markdown":"A kitchen knife can kill a person, but you don&#39;t go to a war with that! :).  Java 8 streams are cool. But, try not to achieve everything using streams when regular loops can do better. A `forEach` would be more intuitive here. We are so obsessed with java 8 streams and try to solve everything using them. I observe lot of people(including me) try to achieve something like the above using `peek()` thought the API clearly mentions not to use it.","body":"A kitchen knife can kill a person, but you don&#39;t go to a war with that! :).  Java 8 streams are cool. But, try not to achieve everything using streams when regular loops can do better. A <code>forEach</code> would be more intuitive here. We are so obsessed with java 8 streams and try to solve everything using them. I observe lot of people(including me) try to achieve something like the above using <code>peek()</code> thought the API clearly mentions not to use it."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":164,"is_accepted":false,"score":164,"last_activity_date":1584029275,"creation_date":1447177830,"answer_id":33636377,"question_id":33635717,"body_markdown":"The important thing you have to understand is that streams are driven by the *terminal operation*. The terminal operation determines whether all elements have to be processed or any at all. So `collect` is an operation that processes each item, whereas `findAny` may stop processing items once it encountered a matching element.\r\n\r\nAnd `count()` may not process any elements at all when it can determine the size of the stream without processing the items. Since this is an optimization not made in Java&#160;8, but which will be in Java&#160;9, there might be surprises when you switch to Java&#160;9 and have code relying on `count()` processing all items. This is also connected to other implementation-dependent details, e.g. even in Java&#160;9, the reference implementation will not be able to predict the size of an infinite stream source combined with `limit` while there is no fundamental limitation preventing such prediction.\r\n\r\nSince [`peek`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-) allows performing the provided action on each element *as elements are consumed from the resulting stream*, it does not mandate processing of elements but will perform the action depending on what the terminal operation needs. This implies that you have to use it with great care if you need a particular processing, e.g. want to apply an action on all elements. It works if the terminal operation is guaranteed to process all items, but even then, you must be sure that not the next developer changes the terminal operation (or you forget that subtle aspect).\r\n\r\nFurther, while streams guarantee to maintain the encounter order for a certain combination of operations even for parallel streams, these guarantees do not apply to `peek`. When collecting into a list, the resulting list will have the right order for ordered parallel streams, but the `peek` action may get invoked in an arbitrary order and concurrently.\r\n\r\nSo the most useful thing you can do with `peek` is to find out whether a stream element has been processed which is exactly what the API documentation says:\r\n\r\n&gt; This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline","title":"In Java streams is peek really only for debugging?","body":"<p>The important thing you have to understand is that streams are driven by the <em>terminal operation</em>. The terminal operation determines whether all elements have to be processed or any at all. So <code>collect</code> is an operation that processes each item, whereas <code>findAny</code> may stop processing items once it encountered a matching element.</p>\n\n<p>And <code>count()</code> may not process any elements at all when it can determine the size of the stream without processing the items. Since this is an optimization not made in Java8, but which will be in Java9, there might be surprises when you switch to Java9 and have code relying on <code>count()</code> processing all items. This is also connected to other implementation-dependent details, e.g. even in Java9, the reference implementation will not be able to predict the size of an infinite stream source combined with <code>limit</code> while there is no fundamental limitation preventing such prediction.</p>\n\n<p>Since <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\" rel=\"noreferrer\"><code>peek</code></a> allows performing the provided action on each element <em>as elements are consumed from the resulting stream</em>, it does not mandate processing of elements but will perform the action depending on what the terminal operation needs. This implies that you have to use it with great care if you need a particular processing, e.g. want to apply an action on all elements. It works if the terminal operation is guaranteed to process all items, but even then, you must be sure that not the next developer changes the terminal operation (or you forget that subtle aspect).</p>\n\n<p>Further, while streams guarantee to maintain the encounter order for a certain combination of operations even for parallel streams, these guarantees do not apply to <code>peek</code>. When collecting into a list, the resulting list will have the right order for ordered parallel streams, but the <code>peek</code> action may get invoked in an arbitrary order and concurrently.</p>\n\n<p>So the most useful thing you can do with <code>peek</code> is to find out whether a stream element has been processed which is exactly what the API documentation says:</p>\n\n<blockquote>\n  <p>This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":3,"up_vote_count":115,"is_accepted":true,"score":112,"last_activity_date":1447178435,"creation_date":1447178122,"answer_id":33636457,"question_id":33635717,"body_markdown":"The key takeaway from this:\r\n\r\n**Don&#39;t use the API in an unintended way, even if it accomplishes your immediate goal.** That approach may break in the future, and it is also unclear to future maintainers.\r\n\r\n---\r\n\r\n\r\nThere is no harm in breaking this out to multiple operations, as they are distinct operations.  There *is* harm in using the API in an unclear and unintended way, which may have ramifications if this particular behavior is modified in future versions of Java.\r\n\r\nUsing `forEach` on this operation would make it clear to the maintainer that there is an *intended* side effect on each element of `accounts`, and that you are performing some operation that can mutate it.\r\n\r\nIt&#39;s also more conventional in the sense that `peek` is an intermediate operation which doesn&#39;t operate on the entire collection until the terminal operation runs, but `forEach` is indeed a terminal operation.  This way, you can make strong arguments around the behavior and the flow of your code as opposed to asking questions about if `peek` would behave the same as `forEach` does in this context.\r\n\r\n    accounts.forEach(a -&gt; a.login());\r\n    List&lt;Account&gt; loggedInAccounts = accounts.stream()\r\n                                             .filter(Account::loggedIn)\r\n                                             .collect(Collectors.toList());\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>The key takeaway from this:</p>\n\n<p><strong>Don't use the API in an unintended way, even if it accomplishes your immediate goal.</strong> That approach may break in the future, and it is also unclear to future maintainers.</p>\n\n<hr>\n\n<p>There is no harm in breaking this out to multiple operations, as they are distinct operations.  There <em>is</em> harm in using the API in an unclear and unintended way, which may have ramifications if this particular behavior is modified in future versions of Java.</p>\n\n<p>Using <code>forEach</code> on this operation would make it clear to the maintainer that there is an <em>intended</em> side effect on each element of <code>accounts</code>, and that you are performing some operation that can mutate it.</p>\n\n<p>It's also more conventional in the sense that <code>peek</code> is an intermediate operation which doesn't operate on the entire collection until the terminal operation runs, but <code>forEach</code> is indeed a terminal operation.  This way, you can make strong arguments around the behavior and the flow of your code as opposed to asking questions about if <code>peek</code> would behave the same as <code>forEach</code> does in this context.</p>\n\n<pre><code>accounts.forEach(a -&gt; a.login());\nList&lt;Account&gt; loggedInAccounts = accounts.stream()\n                                         .filter(Account::loggedIn)\n                                         .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9626769,"reputation":347,"user_id":7146132,"display_name":"chimera8"},"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1478868721,"creation_date":1478868721,"answer_id":40548432,"question_id":33635717,"body_markdown":"Perhaps a rule of thumb should be that if you do use peek outside the &quot;debug&quot; scenario, you should only do so if you&#39;re sure of what the terminating and intermediate filtering conditions are. For example:\r\n\r\n    return list.stream().map(foo-&gt;foo.getBar())\r\n                        .peek(bar-&gt;bar.publish(&quot;HELLO&quot;))\r\n                        .collect(Collectors.toList());\r\n\r\nseems to be a valid case where you want, in one operation to transform all Foos to Bars and tell them all hello.\r\n\r\nSeems more efficient and elegant than something like:\r\n    \r\n    List&lt;Bar&gt; bars = list.stream().map(foo-&gt;foo.getBar()).collect(Collectors.toList());\r\n    bars.forEach(bar-&gt;bar.publish(&quot;HELLO&quot;));\r\n    return bars;\r\n\r\nand you don&#39;t end up iterating a collection twice.\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>Perhaps a rule of thumb should be that if you do use peek outside the \"debug\" scenario, you should only do so if you're sure of what the terminating and intermediate filtering conditions are. For example:</p>\n\n<pre><code>return list.stream().map(foo-&gt;foo.getBar())\n                    .peek(bar-&gt;bar.publish(\"HELLO\"))\n                    .collect(Collectors.toList());\n</code></pre>\n\n<p>seems to be a valid case where you want, in one operation to transform all Foos to Bars and tell them all hello.</p>\n\n<p>Seems more efficient and elegant than something like:</p>\n\n<pre><code>List&lt;Bar&gt; bars = list.stream().map(foo-&gt;foo.getBar()).collect(Collectors.toList());\nbars.forEach(bar-&gt;bar.publish(\"HELLO\"));\nreturn bars;\n</code></pre>\n\n<p>and you don't end up iterating a collection twice.</p>\n"},{"tags":[],"owner":{"account_id":4693886,"reputation":700,"user_id":3799290,"display_name":"UltimaWeapon"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1509029135,"creation_date":1509029135,"answer_id":46957376,"question_id":33635717,"body_markdown":"Although I agree with most answers above, I have one case in which using peek actually seems like the cleanest way to go. \r\n\r\nSimilar to your use case, suppose you want to filter only on active accounts and then perform a login on these accounts. \r\n\r\n    accounts.stream()\r\n        .filter(Account::isActive)\r\n        .peek(login)\r\n        .collect(Collectors.toList());\r\n\r\nPeek is helpful to avoid the redundant call while not having to iterate the collection twice: \r\n\r\n    accounts.stream()\r\n        .filter(Account::isActive)\r\n        .map(account -&gt; {\r\n            account.login();\r\n            return account;\r\n        })\r\n        .collect(Collectors.toList());","title":"In Java streams is peek really only for debugging?","body":"<p>Although I agree with most answers above, I have one case in which using peek actually seems like the cleanest way to go. </p>\n\n<p>Similar to your use case, suppose you want to filter only on active accounts and then perform a login on these accounts. </p>\n\n<pre><code>accounts.stream()\n    .filter(Account::isActive)\n    .peek(login)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Peek is helpful to avoid the redundant call while not having to iterate the collection twice: </p>\n\n<pre><code>accounts.stream()\n    .filter(Account::isActive)\n    .map(account -&gt; {\n        account.login();\n        return account;\n    })\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1667987932,"creation_date":1529590495,"answer_id":50970747,"question_id":33635717,"body_markdown":"I would say that `peek` provides the ability to **decentralize code that can mutate stream objects, or modify global state** (based on them), instead of stuffing everything into a **simple or composed function** passed to a terminal method.\r\n\r\nNow the question might be: **should we mutate stream objects or change global state from within functions in functional style java programming**?\r\n\r\nIf the answer to any of the the above 2 questions is yes (or: in some cases yes) then `peek()` is **definitely not only for debugging purposes**, **for the same reason that `forEach()` isn&#39;t only for debugging purposes**.\r\n\r\nFor me when choosing between `forEach()` and `peek()`, is choosing the following: Do I want pieces of code that mutate stream objects (or change global state) to be attached to a composable, or do I want them to attach directly to stream?\r\n\r\nI think `peek()` will better pair with java9 methods. e.g. `takeWhile()` may need to decide when to stop iteration based on an already mutated object, so paring it with `forEach()` would not have the same effect.\r\n\r\n**P.S.** I have not mentioned `map()` anywhere because in case we want to  mutate objects (or global state), rather than generating new objects, it works exactly like `peek()`.\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>I would say that <code>peek</code> provides the ability to <strong>decentralize code that can mutate stream objects, or modify global state</strong> (based on them), instead of stuffing everything into a <strong>simple or composed function</strong> passed to a terminal method.</p>\n<p>Now the question might be: <strong>should we mutate stream objects or change global state from within functions in functional style java programming</strong>?</p>\n<p>If the answer to any of the the above 2 questions is yes (or: in some cases yes) then <code>peek()</code> is <strong>definitely not only for debugging purposes</strong>, <strong>for the same reason that <code>forEach()</code> isn't only for debugging purposes</strong>.</p>\n<p>For me when choosing between <code>forEach()</code> and <code>peek()</code>, is choosing the following: Do I want pieces of code that mutate stream objects (or change global state) to be attached to a composable, or do I want them to attach directly to stream?</p>\n<p>I think <code>peek()</code> will better pair with java9 methods. e.g. <code>takeWhile()</code> may need to decide when to stop iteration based on an already mutated object, so paring it with <code>forEach()</code> would not have the same effect.</p>\n<p><strong>P.S.</strong> I have not mentioned <code>map()</code> anywhere because in case we want to  mutate objects (or global state), rather than generating new objects, it works exactly like <code>peek()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1551384696,"creation_date":1551384696,"answer_id":54933527,"question_id":33635717,"body_markdown":"The functional solution is to make account object immutable. So account.login() must return a new account object. This will mean that the map operation can be used for login instead of peek.","title":"In Java streams is peek really only for debugging?","body":"<p>The functional solution is to make account object immutable. So account.login() must return a new account object. This will mean that the map operation can be used for login instead of peek.</p>\n"},{"tags":[],"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1612450451,"creation_date":1612450135,"answer_id":66047984,"question_id":33635717,"body_markdown":"A lot of answers made good points, and especially the (accepted) answer by Makoto describes the possible problems in quite some detail. But no one actually showed how it can go wrong:\r\n\r\n\r\n    [1]-&gt; IntStream.range(1, 10).peek(System.out::println).count();\r\n    |  $6 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [2]-&gt; IntStream.range(1, 10).filter(i -&gt; i%2==0).peek(System.out::println).count();\r\n    |  $9 ==&gt; 4\r\n\r\nOutputs numbers 2, 4, 6, 8.\r\n\r\n    [3]-&gt; IntStream.range(1, 10).filter(i -&gt; i &gt; 0).peek(System.out::println).count();\r\n    |  $12 ==&gt; 9\r\n\r\nOutputs numbers 1 to 9.\r\n\r\n    [4]-&gt; IntStream.range(1, 10).map(i -&gt; i * 2).peek(System.out::println).count();\r\n    |  $16 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [5]-&gt; Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9).peek(System.out::println).count();\r\n    |  $23 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [6]-&gt; Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9).stream().peek(System.out::println).count();\r\n    |  $25 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [7]-&gt; IntStream.range(1, 10).filter(i -&gt; true).peek(System.out::println).count();\r\n    |  $30 ==&gt; 9\r\n\r\nOutputs numbers 1 to 9.\r\n\r\n    [1]-&gt; List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    |  list ==&gt; []\r\n    [2]-&gt; Stream.of(1, 5, 2, 7, 3, 9, 8, 4, 6).sorted().peek(list::add).count();\r\n    |  $7 ==&gt; 9\r\n    [3]-&gt; list\r\n    |  list ==&gt; []\r\n\r\n(You get the idea.)\r\n\r\nThe examples were run in jshell (Java 15.0.2) and mimic the use case of converting data (replace `System.out::println` by `list::add` for example as also done in some answers) and returning how much data was added. The current observation is that any operation that could filter elements (such as filter or skip) seems to force handling of all remaining elements, but it need not stay that way.","title":"In Java streams is peek really only for debugging?","body":"<p>A lot of answers made good points, and especially the (accepted) answer by Makoto describes the possible problems in quite some detail. But no one actually showed how it can go wrong:</p>\n<pre><code>[1]-&gt; IntStream.range(1, 10).peek(System.out::println).count();\n|  $6 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[2]-&gt; IntStream.range(1, 10).filter(i -&gt; i%2==0).peek(System.out::println).count();\n|  $9 ==&gt; 4\n</code></pre>\n<p>Outputs numbers 2, 4, 6, 8.</p>\n<pre><code>[3]-&gt; IntStream.range(1, 10).filter(i -&gt; i &gt; 0).peek(System.out::println).count();\n|  $12 ==&gt; 9\n</code></pre>\n<p>Outputs numbers 1 to 9.</p>\n<pre><code>[4]-&gt; IntStream.range(1, 10).map(i -&gt; i * 2).peek(System.out::println).count();\n|  $16 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[5]-&gt; Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9).peek(System.out::println).count();\n|  $23 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[6]-&gt; Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9).stream().peek(System.out::println).count();\n|  $25 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[7]-&gt; IntStream.range(1, 10).filter(i -&gt; true).peek(System.out::println).count();\n|  $30 ==&gt; 9\n</code></pre>\n<p>Outputs numbers 1 to 9.</p>\n<pre><code>[1]-&gt; List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n|  list ==&gt; []\n[2]-&gt; Stream.of(1, 5, 2, 7, 3, 9, 8, 4, 6).sorted().peek(list::add).count();\n|  $7 ==&gt; 9\n[3]-&gt; list\n|  list ==&gt; []\n</code></pre>\n<p>(You get the idea.)</p>\n<p>The examples were run in jshell (Java 15.0.2) and mimic the use case of converting data (replace <code>System.out::println</code> by <code>list::add</code> for example as also done in some answers) and returning how much data was added. The current observation is that any operation that could filter elements (such as filter or skip) seems to force handling of all remaining elements, but it need not stay that way.</p>\n"},{"tags":[],"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619160418,"creation_date":1619158211,"answer_id":67224776,"question_id":33635717,"body_markdown":"Despite the documentation note for `.peek` saying the _&quot;method exists mainly to support debugging&quot;_ I think it has general relevance. For one thing the documentation says &quot;mainly&quot;, so leaves room for other use cases. It is not deprecated since years, and speculations about its removal are futile IMO.\r\n\r\nI would say in a world where we still have to handle side-effectful methods it has a valid place and utility. There are many valid operations in streams that use side-effects. Many have been mentioned in other answers, I&#39;ll just add here to set a flag on a collection of objects, or register them with a registry, on objects which are then further processed in the stream. Not to mention creating log messages during stream processing.\r\n\r\nI support the idea to have separate actions in separate stream operations, so I avoid pushing everything into a final `.forEach`. I favor `.peek` over an equivalent `.map` with a lambda who&#39;s only purpose, besides calling the side-effect method, is to return the passed in argument. `.peek` tells me that what goes in also goes out as soon as I encounter this operation, and I don&#39;t need to read a lambda to find out. In that sense it is succinct, expressive and improves readability of the code.\r\n\r\nHaving said that I agree with all the considerations when using `.peek`, e.g. being aware of the effect of the terminal operation of the stream it is used in.","title":"In Java streams is peek really only for debugging?","body":"<p>Despite the documentation note for <code>.peek</code> saying the <em>&quot;method exists mainly to support debugging&quot;</em> I think it has general relevance. For one thing the documentation says &quot;mainly&quot;, so leaves room for other use cases. It is not deprecated since years, and speculations about its removal are futile IMO.</p>\n<p>I would say in a world where we still have to handle side-effectful methods it has a valid place and utility. There are many valid operations in streams that use side-effects. Many have been mentioned in other answers, I'll just add here to set a flag on a collection of objects, or register them with a registry, on objects which are then further processed in the stream. Not to mention creating log messages during stream processing.</p>\n<p>I support the idea to have separate actions in separate stream operations, so I avoid pushing everything into a final <code>.forEach</code>. I favor <code>.peek</code> over an equivalent <code>.map</code> with a lambda who's only purpose, besides calling the side-effect method, is to return the passed in argument. <code>.peek</code> tells me that what goes in also goes out as soon as I encounter this operation, and I don't need to read a lambda to find out. In that sense it is succinct, expressive and improves readability of the code.</p>\n<p>Having said that I agree with all the considerations when using <code>.peek</code>, e.g. being aware of the effect of the terminal operation of the stream it is used in.</p>\n"},{"tags":[],"owner":{"account_id":1812830,"reputation":1461,"user_id":1648546,"display_name":"Jay Ehsaniara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660501787,"creation_date":1660501485,"answer_id":73354169,"question_id":33635717,"body_markdown":"It seems like a helper class is needed:\r\n\r\n    public static class OneBranchOnly&lt;T&gt; {\r\n        public Function&lt;T, T&gt; apply(Predicate&lt;? super T&gt; test,\r\n                                    Consumer&lt;? super T&gt; t) {\r\n            return o -&gt; {\r\n                if (test.test(o)) t.accept(o);\r\n                return o;\r\n            };\r\n        }\r\n    }\r\n\r\nthen switch `peek` with `map`:\r\n\r\n    .map(new OneBranchOnly&lt; Account &gt;().apply(                   \r\n                        account -&gt; account.isTestAccount(),\r\n                        account -&gt; account.setName(&quot;Test Account&quot;))\r\n    )\r\nresults: Collections of accounts that only test accounts got renamed (no reference gets maintained)","title":"In Java streams is peek really only for debugging?","body":"<p>It seems like a helper class is needed:</p>\n<pre><code>public static class OneBranchOnly&lt;T&gt; {\n    public Function&lt;T, T&gt; apply(Predicate&lt;? super T&gt; test,\n                                Consumer&lt;? super T&gt; t) {\n        return o -&gt; {\n            if (test.test(o)) t.accept(o);\n            return o;\n        };\n    }\n}\n</code></pre>\n<p>then switch <code>peek</code> with <code>map</code>:</p>\n<pre><code>.map(new OneBranchOnly&lt; Account &gt;().apply(                   \n                    account -&gt; account.isTestAccount(),\n                    account -&gt; account.setName(&quot;Test Account&quot;))\n)\n</code></pre>\n<p>results: Collections of accounts that only test accounts got renamed (no reference gets maintained)</p>\n"},{"tags":[],"owner":{"account_id":1281759,"reputation":1068,"user_id":1235724,"accept_rate":40,"display_name":"Jens Jensen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666534602,"creation_date":1666534602,"answer_id":74171844,"question_id":33635717,"body_markdown":"To get rid of warnings, I use functor `tee`, named after [Unix&#39; tee][1]:\r\n\r\n```java\r\npublic static &lt;T&gt; Function&lt;T,T&gt; tee(Consumer&lt;T&gt; after) {\r\n\treturn arg -&gt; {\r\n\t\tf.accept(arg);\r\n\t\treturn arg;\r\n\t};\r\n}\r\n```\r\n\r\nYou can replace:\r\n\r\n```java\r\n  .peek(f)\r\n```\r\n\r\nwith\r\n\r\n```java\r\n  .map(tee(f))\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tee_(Unix)","title":"In Java streams is peek really only for debugging?","body":"<p>To get rid of warnings, I use functor <code>tee</code>, named after <a href=\"https://en.wikipedia.org/wiki/Tee_(Unix)\" rel=\"nofollow noreferrer\">Unix' tee</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Function&lt;T,T&gt; tee(Consumer&lt;T&gt; after) {\n    return arg -&gt; {\n        f.accept(arg);\n        return arg;\n    };\n}\n</code></pre>\n<p>You can replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .peek(f)\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .map(tee(f))\n</code></pre>\n"}],"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99647,"favorite_count":0,"down_vote_count":0,"up_vote_count":218,"accepted_answer_id":33636457,"answer_count":10,"score":218,"last_activity_date":1667987932,"creation_date":1447175578,"question_id":33635717,"body_markdown":"I&#39;m reading up about Java streams and discovering new things as I go along. One of the new things I found was the `peek()` function. Almost everything I&#39;ve read on peek says it should be used to debug your Streams.\r\n\r\nWhat if I had a Stream&lt;Account&gt; where each Account has a username, password field and a login() and loggedIn() method.\r\n\r\nI also have\r\n\r\n    Consumer&lt;Account&gt; login = account -&gt; account.login();\r\n\r\nand\r\n\r\n    Predicate&lt;Account&gt; loggedIn = account -&gt; account.loggedIn();\r\n\r\nWhy would this be so bad?\r\n\r\n    List&lt;Account&gt; accounts; //assume it&#39;s been setup\r\n    List&lt;Account&gt; loggedInAccount = \r\n    accounts.stream()\r\n        .peek(login)\r\n        .filter(loggedIn)\r\n        .collect(Collectors.toList());\r\n\r\nNow as far as I can tell this does exactly what it&#39;s intended to do. It;\r\n\r\n- Takes a list of accounts\r\n- Tries to log in to each account\r\n- Filters out any account which aren&#39;t logged in\r\n- Collects the logged in accounts into a new list\r\n\r\nWhat is the downside of doing something like this? Any reason I shouldn&#39;t proceed? Lastly, if not this solution then what?\r\n\r\nThe original version of this used the .filter() method as follows;\r\n\r\n    .filter(account -&gt; {\r\n            account.login();\r\n            return account.loggedIn();\r\n        })","title":"In Java streams is peek really only for debugging?","body":"<p>I'm reading up about Java streams and discovering new things as I go along. One of the new things I found was the <code>peek()</code> function. Almost everything I've read on peek says it should be used to debug your Streams.</p>\n\n<p>What if I had a Stream where each Account has a username, password field and a login() and loggedIn() method.</p>\n\n<p>I also have</p>\n\n<pre><code>Consumer&lt;Account&gt; login = account -&gt; account.login();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Predicate&lt;Account&gt; loggedIn = account -&gt; account.loggedIn();\n</code></pre>\n\n<p>Why would this be so bad?</p>\n\n<pre><code>List&lt;Account&gt; accounts; //assume it's been setup\nList&lt;Account&gt; loggedInAccount = \naccounts.stream()\n    .peek(login)\n    .filter(loggedIn)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Now as far as I can tell this does exactly what it's intended to do. It;</p>\n\n<ul>\n<li>Takes a list of accounts</li>\n<li>Tries to log in to each account</li>\n<li>Filters out any account which aren't logged in</li>\n<li>Collects the logged in accounts into a new list</li>\n</ul>\n\n<p>What is the downside of doing something like this? Any reason I shouldn't proceed? Lastly, if not this solution then what?</p>\n\n<p>The original version of this used the .filter() method as follows;</p>\n\n<pre><code>.filter(account -&gt; {\n        account.login();\n        return account.loggedIn();\n    })\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1533496645,"post_id":51697485,"comment_id":90356362,"body_markdown":"Can you change `int` to `Integer` or `Long` please","body":"Can you change <code>int</code> to <code>Integer</code> or <code>Long</code> please"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1533496708,"post_id":51697485,"comment_id":90356375,"body_markdown":"Wha tis the difference in int and Integer when I use them with JPA?","body":"Wha tis the difference in int and Integer when I use them with JPA?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1533496888,"post_id":51697485,"comment_id":90356425,"body_markdown":"int is a primitive type not an Object","body":"int is a primitive type not an Object"},{"owner":{"account_id":11146802,"reputation":117,"user_id":8181241,"display_name":"Anupama Karunarathna"},"score":1,"creation_date":1594221442,"post_id":51697485,"comment_id":111052293,"body_markdown":"Though int and Integer are used to store integer type data the major difference between both is type of int is primitive while Integer is of class type. So int can not be null.","body":"Though int and Integer are used to store integer type data the major difference between both is type of int is primitive while Integer is of class type. So int can not be null."}],"answers":[{"tags":[],"owner":{"account_id":5009368,"reputation":611,"user_id":4026070,"display_name":"Kikkirej"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1667986793,"creation_date":1533496713,"answer_id":51697522,"question_id":51697485,"body_markdown":"The primitive datatype **int** isn&#39;t **nullable**. You need to use the Wrapper class `Integer` in this case. So just replace the type.","title":"Can not set int field to null value","body":"<p>The primitive datatype <strong>int</strong> isn't <strong>nullable</strong>. You need to use the Wrapper class <code>Integer</code> in this case. So just replace the type.</p>\n"},{"tags":[],"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667987149,"creation_date":1593452919,"answer_id":62643900,"question_id":51697485,"body_markdown":"use `Integer` instead of `int` \r\n\r\nex-:\r\n\r\n`private Integer contract_owner_id;`","title":"Can not set int field to null value","body":"<p>use <code>Integer</code> instead of <code>int</code></p>\n<p>ex-:</p>\n<p><code>private Integer contract_owner_id;</code></p>\n"},{"tags":[],"owner":{"account_id":21881565,"reputation":1,"user_id":16169748,"display_name":"eliax421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654293048,"creation_date":1654293048,"answer_id":72495493,"question_id":51697485,"body_markdown":"Could be because you are using primitive datatype, try to use Wrapper instead (Long, Integer, Double)","title":"Can not set int field to null value","body":"<p>Could be because you are using primitive datatype, try to use Wrapper instead (Long, Integer, Double)</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31222,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":51697522,"answer_count":3,"score":15,"last_activity_date":1667987149,"creation_date":1533496407,"question_id":51697485,"body_markdown":"I have this `int` column:\r\n\r\n    @Column(length = 4)\r\n    private int contract_owner_id;\r\n\r\nI don&#39;t need to set always value for every table row. I get this exception when I make select query:\r\n\r\n    Can not set int field org.entity.contracts.contract_owner_id to null value\r\n\r\nIs there some way to set numb setups when there is no data into the table column?","title":"Can not set int field to null value","body":"<p>I have this <code>int</code> column:</p>\n\n<pre><code>@Column(length = 4)\nprivate int contract_owner_id;\n</code></pre>\n\n<p>I don't need to set always value for every table row. I get this exception when I make select query:</p>\n\n<pre><code>Can not set int field org.entity.contracts.contract_owner_id to null value\n</code></pre>\n\n<p>Is there some way to set numb setups when there is no data into the table column?</p>\n"},{"tags":["java","spring-boot","spring-security","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1667940448,"post_id":74366468,"comment_id":131287216,"body_markdown":"Well it will be good if you put you code and depedencies and logs but in your application.properties you can customize the acces url of swagger3 by : `spring.swagger-ui.path=/swagger/index.html` and also  `spring.api-docs=what you want`","body":"Well it will be good if you put you code and depedencies and logs but in your application.properties you can customize the acces url of swagger3 by : <code>spring.swagger-ui.path=&#47;swagger&#47;index.html</code> and also  <code>spring.api-docs=what you want</code>"}],"answers":[{"tags":[],"owner":{"account_id":26646938,"reputation":29,"user_id":20261750,"display_name":"peetahGriffin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667986732,"creation_date":1667986732,"answer_id":74372693,"question_id":74366468,"body_markdown":"what url are you trying for ui page ?\r\nTry using `localhost:YourPort/swagger-ui.html` .","title":"localhost:8080/abc/swagger-ui/index.html showing 404 not found after migrating from swagger2 to openApi3","body":"<p>what url are you trying for ui page ?\nTry using <code>localhost:YourPort/swagger-ui.html</code> .</p>\n"}],"owner":{"account_id":26871108,"reputation":1,"user_id":20453107,"display_name":"Spartan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667986732,"creation_date":1667937536,"question_id":74366468,"body_markdown":"Migrated to openApi3 SpringBoot project. But I&#39;m not able to get swagger ui page while /v3/api-docs/ url working. But swagger url showing 404 not found. I&#39;m also able to access /v3/api-docs/swagger-config/.\r\n\r\nI&#39;m using springdoc-openapi-ui dependency having version 1.6.11. I tried every possible way. For one time UI was displaying somehow but after restarting server it disappears. FYI, I&#39;ve implemented SwaggerConfig.java and ConfigWebSecurity.java for ignoring url from spring security.In short i have implemented all those things which is mentioned for migration from swagger to openApi3 in official documentation. \r\nFYI -\r\nI have migrated 2 other applications by following same process. But for this app I&#39;m facing this issue.\r\nThank in advance","title":"localhost:8080/abc/swagger-ui/index.html showing 404 not found after migrating from swagger2 to openApi3","body":"<p>Migrated to openApi3 SpringBoot project. But I'm not able to get swagger ui page while /v3/api-docs/ url working. But swagger url showing 404 not found. I'm also able to access /v3/api-docs/swagger-config/.</p>\n<p>I'm using springdoc-openapi-ui dependency having version 1.6.11. I tried every possible way. For one time UI was displaying somehow but after restarting server it disappears. FYI, I've implemented SwaggerConfig.java and ConfigWebSecurity.java for ignoring url from spring security.In short i have implemented all those things which is mentioned for migration from swagger to openApi3 in official documentation.\nFYI -\nI have migrated 2 other applications by following same process. But for this app I'm facing this issue.\nThank in advance</p>\n"},{"tags":["java","sql","sorting"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667980559,"creation_date":1667980559,"answer_id":74371527,"question_id":74371446,"body_markdown":"There&#39;s an overload of `thenComparing()` which takes a `Comparator` so you can compose them as wanted. Actually, `thenComparing(function)` is just a convenience method for `thenComparing(comparing(function))`\r\n\r\nThus you can use this: \r\n``` \r\nComparator.comparing(Stuff::getName)\r\n          .thenComparing(Comparator.comparing(Stuff::getLastName).reversed())\r\n```\r\n\r\nWhich is equal to \r\n\r\n    Comparator&lt;Stuff&gt; nameAscComparator = Comparator.comparing(Stuff::getName);\r\n    Comparator&lt;Stuff&gt; lastNameDescComparator = Comparator.comparing(Stuff::getLastName).reversed();\r\n\r\n    Comparator&lt;Stuff&gt; combined = nameAscComparator.thenComparing(lastNameDescComparator);\r\n","title":"Java sort with independent reversed","body":"<p>There's an overload of <code>thenComparing()</code> which takes a <code>Comparator</code> so you can compose them as wanted. Actually, <code>thenComparing(function)</code> is just a convenience method for <code>thenComparing(comparing(function))</code></p>\n<p>Thus you can use this:</p>\n<pre><code>Comparator.comparing(Stuff::getName)\n          .thenComparing(Comparator.comparing(Stuff::getLastName).reversed())\n</code></pre>\n<p>Which is equal to</p>\n<pre><code>Comparator&lt;Stuff&gt; nameAscComparator = Comparator.comparing(Stuff::getName);\nComparator&lt;Stuff&gt; lastNameDescComparator = Comparator.comparing(Stuff::getLastName).reversed();\n\nComparator&lt;Stuff&gt; combined = nameAscComparator.thenComparing(lastNameDescComparator);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667986344,"creation_date":1667983723,"answer_id":74372085,"question_id":74371446,"body_markdown":"I always have the same problem. So I defined three helper methods (`orderBy`, `asc` and `desc`) to simply describe comparators.\r\n\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Comparator&lt;T&gt; orderBy(Comparator&lt;T&gt; first, Comparator&lt;? super T&gt;... rest) {\r\n        for (Comparator&lt;? super T&gt; e : rest)\r\n            first = first.thenComparing(e);\r\n        return first;\r\n    }\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; asc(Function&lt;? super T, ? extends U&gt; f) {\r\n        return Comparator.comparing(f);\r\n    }\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; desc(Function&lt;? super T, ? extends U&gt; f) {\r\n        return Collections.reverseOrder(Comparator.comparing(f));\r\n    }\r\n\r\nHere&#39;s an example usage:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Stuff&gt; list = Arrays.asList(\r\n            new Stuff(&quot;A&quot;, &quot;a&quot;),\r\n            new Stuff(&quot;B&quot;, &quot;b&quot;),\r\n            new Stuff(&quot;A&quot;, &quot;c&quot;));\r\n        list.sort(orderBy(asc(Stuff::getName), desc(Stuff::getLastName)));\r\n        list.forEach(System.out::println);\r\n    }\r\n\r\noutput:\r\n\r\n    Stuff [name=A, lastName=c]\r\n    Stuff [name=A, lastName=a]\r\n    Stuff [name=B, lastName=b]\r\n\r\nIf you want to sort by a single property, you can also do something like `list.sort(desc(Stuff::getLastName))` without `orderBy()`.","title":"Java sort with independent reversed","body":"<p>I always have the same problem. So I defined three helper methods (<code>orderBy</code>, <code>asc</code> and <code>desc</code>) to simply describe comparators.</p>\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Comparator&lt;T&gt; orderBy(Comparator&lt;T&gt; first, Comparator&lt;? super T&gt;... rest) {\n    for (Comparator&lt;? super T&gt; e : rest)\n        first = first.thenComparing(e);\n    return first;\n}\n\npublic static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; asc(Function&lt;? super T, ? extends U&gt; f) {\n    return Comparator.comparing(f);\n}\n\npublic static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; desc(Function&lt;? super T, ? extends U&gt; f) {\n    return Collections.reverseOrder(Comparator.comparing(f));\n}\n</code></pre>\n<p>Here's an example usage:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Stuff&gt; list = Arrays.asList(\n        new Stuff(&quot;A&quot;, &quot;a&quot;),\n        new Stuff(&quot;B&quot;, &quot;b&quot;),\n        new Stuff(&quot;A&quot;, &quot;c&quot;));\n    list.sort(orderBy(asc(Stuff::getName), desc(Stuff::getLastName)));\n    list.forEach(System.out::println);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Stuff [name=A, lastName=c]\nStuff [name=A, lastName=a]\nStuff [name=B, lastName=b]\n</code></pre>\n<p>If you want to sort by a single property, you can also do something like <code>list.sort(desc(Stuff::getLastName))</code> without <code>orderBy()</code>.</p>\n"}],"owner":{"account_id":4401529,"reputation":35,"user_id":3587082,"display_name":"Arwinnd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371527,"answer_count":2,"score":1,"last_activity_date":1667986344,"creation_date":1667980067,"question_id":74371446,"body_markdown":"I have the issue with Java sort. In SQL, I can sort independently on each field. I need something similar in Java.\r\n```sql\r\nSELECT * FROM Stuff ORDER BY name ASC,last_name DSC;\r\n```\r\nWhen using `sort(Comparator.comparing(Stuff::getName).thenComparing(Stuff::getLastName).reversed()` I get the whole sort reversed, and I want only for the second sort to be in reversed order. Is there a library for it, or a simple way to solve that?","title":"Java sort with independent reversed","body":"<p>I have the issue with Java sort. In SQL, I can sort independently on each field. I need something similar in Java.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM Stuff ORDER BY name ASC,last_name DSC;\n</code></pre>\n<p>When using <code>sort(Comparator.comparing(Stuff::getName).thenComparing(Stuff::getLastName).reversed()</code> I get the whole sort reversed, and I want only for the second sort to be in reversed order. Is there a library for it, or a simple way to solve that?</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1517257834,"creation_date":1517257834,"answer_id":48509482,"question_id":48509231,"body_markdown":"You have answered your own question, and I am not sure if I understood you correctly. You want to type `@Mapping(ignore = true, target = &quot;otherField&quot;)` only once?\r\n\r\nIf this field is in some common base class you can use [Shared Configurations](http://mapstruct.org/documentation/stable/reference/html/#shared-configurations). Otherwise the way you are doing with `@Mapping(ignore = true)` is the way to go.\r\n\r\nOne side note. You don&#39;t have to add `@Mapping(source = &quot;say&quot;, target = &quot;say&quot;)` MapStruct automatically maps properties with the same name","title":"exclude specific fields in mapstruct","body":"<p>You have answered your own question, and I am not sure if I understood you correctly. You want to type <code>@Mapping(ignore = true, target = \"otherField\")</code> only once?</p>\n\n<p>If this field is in some common base class you can use <a href=\"http://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"noreferrer\">Shared Configurations</a>. Otherwise the way you are doing with <code>@Mapping(ignore = true)</code> is the way to go.</p>\n\n<p>One side note. You don't have to add <code>@Mapping(source = \"say\", target = \"say\")</code> MapStruct automatically maps properties with the same name</p>\n"},{"tags":[],"owner":{"account_id":18885007,"reputation":11,"user_id":13776649,"display_name":"Bluexin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667986197,"creation_date":1667986197,"answer_id":74372588,"question_id":48509231,"body_markdown":"I know it might not answer the original question, but I can&#39;t answer the comment about repeating @Mapping annotation because I&#39;m lacking reputation and I figured other people would land here looking for this.\r\n\r\nYou can totally combine annotations :\r\n\r\n```kotlin\r\n@Mapping(ignore = true, target = &quot;version&quot;)\r\n@Mapping(ignore = true, target = &quot;created&quot;)\r\n@Mapping(ignore = true, target = &quot;updated&quot;)\r\nfun toModel(json: JsonClass): ModelClass\r\n```\r\n\r\nIf you have a set of fields you reuse commonly, you can also combine them by making your own annotations :\r\n```kotlin\r\n@Mapping(source = &quot;version&quot;, ignore = true, target = &quot;version&quot;)\r\n@Mapping(source = &quot;created&quot;, ignore = true, target = &quot;created&quot;)\r\n@Mapping(source = &quot;updated&quot;, ignore = true, target = &quot;updated&quot;)\r\nannotation class ToModelMapping\r\n```\r\n","title":"exclude specific fields in mapstruct","body":"<p>I know it might not answer the original question, but I can't answer the comment about repeating @Mapping annotation because I'm lacking reputation and I figured other people would land here looking for this.</p>\n<p>You can totally combine annotations :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Mapping(ignore = true, target = &quot;version&quot;)\n@Mapping(ignore = true, target = &quot;created&quot;)\n@Mapping(ignore = true, target = &quot;updated&quot;)\nfun toModel(json: JsonClass): ModelClass\n</code></pre>\n<p>If you have a set of fields you reuse commonly, you can also combine them by making your own annotations :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Mapping(source = &quot;version&quot;, ignore = true, target = &quot;version&quot;)\n@Mapping(source = &quot;created&quot;, ignore = true, target = &quot;created&quot;)\n@Mapping(source = &quot;updated&quot;, ignore = true, target = &quot;updated&quot;)\nannotation class ToModelMapping\n</code></pre>\n"}],"owner":{"account_id":1887647,"reputation":5261,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28324,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48509482,"answer_count":2,"score":9,"last_activity_date":1667986197,"creation_date":1517256717,"question_id":48509231,"body_markdown":"While I am trying to create a `mapper` between two `classes` in [`mapstruct`][1],  \r\nI am getting a `warning` when I compile my code : \r\n\r\n    src/main/java/mapstruct/DogMapper.java:15: warning: Unmapped target property: &quot;otherField&quot;.\r\n        Cat convert(Dog dog);\r\n            ^\r\n    1 warning\r\n\r\nThis are the two objects I am trying to map between :  \r\n      \r\n**Dog**\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Dog {\r\n        private String say;\r\n    }\r\n\r\n\r\n**Cat**\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Cat {\r\n        private String say;\r\n        private String otherField;\r\n    }\r\n\r\n\r\nAnd this is my **Mapper**\r\n\r\n    @Mapper\r\n    public interface DogMapper {\r\n        DogMapper mapper = Mappers.getMapper( DogMapper.class );\r\n    \r\n        @Mapping(source = &quot;say&quot;, target = &quot;say&quot;)\r\n        Cat convert(Dog dog);\r\n    }\r\n\r\n\r\nI read the [`mapstruct docs`][2], and I know i can exclude this specific field in many ways : \r\n\r\n    @Mapping(ignore = true, target = &quot;otherField&quot;)\r\n\r\nOr by this way : \r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n\r\nBut my purpose in the end is to exclude the specific field called `otherField`,  \r\nfrom all my mappers, but not to exclude other field that I am not using.\r\n\r\nIs there any way to achieve that?\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: http://mapstruct.org/documentation/stable/reference/html/\r\n","title":"exclude specific fields in mapstruct","body":"<p>While I am trying to create a <code>mapper</code> between two <code>classes</code> in <a href=\"http://mapstruct.org/\" rel=\"noreferrer\"><code>mapstruct</code></a>,<br>\nI am getting a <code>warning</code> when I compile my code : </p>\n\n<pre><code>src/main/java/mapstruct/DogMapper.java:15: warning: Unmapped target property: \"otherField\".\n    Cat convert(Dog dog);\n        ^\n1 warning\n</code></pre>\n\n<p>This are the two objects I am trying to map between :  </p>\n\n<p><strong>Dog</strong></p>\n\n<pre><code>@Getter\n@Setter\npublic class Dog {\n    private String say;\n}\n</code></pre>\n\n<p><strong>Cat</strong></p>\n\n<pre><code>@Getter\n@Setter\npublic class Cat {\n    private String say;\n    private String otherField;\n}\n</code></pre>\n\n<p>And this is my <strong>Mapper</strong></p>\n\n<pre><code>@Mapper\npublic interface DogMapper {\n    DogMapper mapper = Mappers.getMapper( DogMapper.class );\n\n    @Mapping(source = \"say\", target = \"say\")\n    Cat convert(Dog dog);\n}\n</code></pre>\n\n<p>I read the <a href=\"http://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\"><code>mapstruct docs</code></a>, and I know i can exclude this specific field in many ways : </p>\n\n<pre><code>@Mapping(ignore = true, target = \"otherField\")\n</code></pre>\n\n<p>Or by this way : </p>\n\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n\n<p>But my purpose in the end is to exclude the specific field called <code>otherField</code>,<br>\nfrom all my mappers, but not to exclude other field that I am not using.</p>\n\n<p>Is there any way to achieve that?</p>\n"},{"tags":["java","logging","javac","annotation-processing"],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985978,"creation_date":1667985978,"question_id":74372548,"body_markdown":"I have an annotation processor from which I want sometimes to log errors. \r\nThese errors are logged as such: \r\n\r\n    processingEnv.getMessager().printMessage(kind, msg, element)\r\n\r\n... where `processingEnv` is an instance of `JavacProcessingEnvironment` that is injected by the compiler over compilation on the abstract method `init` of `AbstractProcessor`.\r\n\r\nThe problem I&#39;m having is that my message `msg` is a multi-line message and I want to print it all on the logs when the compilation fails. \r\n\r\nHowever, this doesn&#39;t happen. I&#39;ve debugged a bit, and realized that the concrete instance of `JavacMessager` behind the `getMessager()` has an instance of `com.sun.tools.javac.util.Log`, that is initialized with an instance of `JCDiagnostic.Factory`, that wraps my error in the following diagnostic: \r\n\r\n    public JCDiagnostic create(LintCategory lc, Set&lt;DiagnosticFlag&gt; flags, DiagnosticSource source, DiagnosticPosition pos, DiagnosticInfo diagnosticInfo) {\r\n        return new JCDiagnostic(formatter, normalize(diagnosticInfo), lc, flags, source, pos);\r\n    }\r\n\r\nMy problem is that this `new JCDiagnostic` is by default a non-multiline diagnostic and so when the logger parses my message, it will only print the first line. \r\n\r\nI&#39;ve seen that the class `JCDiagnostic` is extended by `MultilineDiagnostic` which I guess is what I want, but I&#39;m not managing to use it nor to find any information on the web about how to use it (even when searching the exact classes that I mentioned in this thread).\r\n\r\nAnyone has any idea? I feel like I should configure the `ProcessingEnvironment` that I receive from the compiler at initialization of my annotation processor, but I don&#39;t find any method to do so.\r\n\r\nOver simplified skeleton of my annotation processor: \r\n\r\n    public final class MyProcessor extends AbstractProcessor {\r\n    \r\n        @Override\r\n        public synchronized void init(ProcessingEnvironment processingEnv) {\r\n            super(processingEnv);\r\n            //I guess I should do something here to configure the logger?\r\n        }\r\n\r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n            //do stuff\r\n            //and in case of log needed: \r\n            processingEnv.getMessager().printMessage(kind, msg, element);\r\n        }\r\n\r\n    }\r\n\r\nIf more information is needed to answer the question don&#39;t hesitate to ask. Thanks in advance","title":"How to configure JavacProcessingEnvironment to print log messages in multi-line mode?","body":"<p>I have an annotation processor from which I want sometimes to log errors.\nThese errors are logged as such:</p>\n<pre><code>processingEnv.getMessager().printMessage(kind, msg, element)\n</code></pre>\n<p>... where <code>processingEnv</code> is an instance of <code>JavacProcessingEnvironment</code> that is injected by the compiler over compilation on the abstract method <code>init</code> of <code>AbstractProcessor</code>.</p>\n<p>The problem I'm having is that my message <code>msg</code> is a multi-line message and I want to print it all on the logs when the compilation fails.</p>\n<p>However, this doesn't happen. I've debugged a bit, and realized that the concrete instance of <code>JavacMessager</code> behind the <code>getMessager()</code> has an instance of <code>com.sun.tools.javac.util.Log</code>, that is initialized with an instance of <code>JCDiagnostic.Factory</code>, that wraps my error in the following diagnostic:</p>\n<pre><code>public JCDiagnostic create(LintCategory lc, Set&lt;DiagnosticFlag&gt; flags, DiagnosticSource source, DiagnosticPosition pos, DiagnosticInfo diagnosticInfo) {\n    return new JCDiagnostic(formatter, normalize(diagnosticInfo), lc, flags, source, pos);\n}\n</code></pre>\n<p>My problem is that this <code>new JCDiagnostic</code> is by default a non-multiline diagnostic and so when the logger parses my message, it will only print the first line.</p>\n<p>I've seen that the class <code>JCDiagnostic</code> is extended by <code>MultilineDiagnostic</code> which I guess is what I want, but I'm not managing to use it nor to find any information on the web about how to use it (even when searching the exact classes that I mentioned in this thread).</p>\n<p>Anyone has any idea? I feel like I should configure the <code>ProcessingEnvironment</code> that I receive from the compiler at initialization of my annotation processor, but I don't find any method to do so.</p>\n<p>Over simplified skeleton of my annotation processor:</p>\n<pre><code>public final class MyProcessor extends AbstractProcessor {\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super(processingEnv);\n        //I guess I should do something here to configure the logger?\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        //do stuff\n        //and in case of log needed: \n        processingEnv.getMessager().printMessage(kind, msg, element);\n    }\n\n}\n</code></pre>\n<p>If more information is needed to answer the question don't hesitate to ask. Thanks in advance</p>\n"},{"tags":["java","apache-commons-io"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667984128,"post_id":74371533,"comment_id":131295534,"body_markdown":"Use HttpURLConnection and check response code","body":"Use HttpURLConnection and check response code"}],"answers":[{"tags":[],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667985631,"creation_date":1667985631,"answer_id":74372477,"question_id":74371533,"body_markdown":"So, basically your URL is returning 500 error upon requesting for invalid date. You can simply use the another method available in FileUtils\r\n\r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\r\n\r\nExample code : (Adjust timeouts as per your requirement)\r\n\r\n    var url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip&quot;);\r\n        var f = new File(&quot;NSEData.zip&quot;);\r\n        try {\r\n            FileUtils.copyURLToFile(url, f, 5000, 5000);\r\n        } catch (Exception e) {\r\n        }","title":"FileUtils.copyURLToFile Getting Stuck","body":"<p>So, basically your URL is returning 500 error upon requesting for invalid date. You can simply use the another method available in FileUtils</p>\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)</a></p>\n<p>Example code : (Adjust timeouts as per your requirement)</p>\n<pre><code>var url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip&quot;);\n    var f = new File(&quot;NSEData.zip&quot;);\n    try {\n        FileUtils.copyURLToFile(url, f, 5000, 5000);\n    } catch (Exception e) {\n    }\n</code></pre>\n"}],"owner":{"account_id":12735189,"reputation":99,"user_id":9250350,"display_name":"Vebby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74372477,"answer_count":1,"score":0,"last_activity_date":1667985819,"creation_date":1667980575,"question_id":74371533,"body_markdown":"I&#39;m using a Jave program to get NSE share price data from NSE&#39;s website like this for example:\r\n\r\n```\r\nurl = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR071122.zip&quot;);\r\nf = new File(&quot;NSEData.zip&quot;);\r\ntry {\r\n     FileUtils.copyURLToFile(url, f);\r\n} catch (Exception e) {\r\n}\r\n```\r\n\r\nThe above code works for dates where market data exists, like 07/11/22 . However, where data does not exist, like on 08/11/22, the url is broken and the copyURLToFile line gets stuck indefinitely during runtime (replacing 071122 with 081122 in the url/code above will cause it to get stuck). Is there an easy way to get the program to recognize that the url for a certain date is broken (eg. https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip) and therefore ignore and continue past the `try` block without getting stuck?\r\n\r\n\r\n\r\nMy current workaround is to check whether a certain date is a market holiday using a DayOfWeek check as well as a HashSet containing a list of public holidays, but this is not perfect.","title":"FileUtils.copyURLToFile Getting Stuck","body":"<p>I'm using a Jave program to get NSE share price data from NSE's website like this for example:</p>\n<pre><code>url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR071122.zip&quot;);\nf = new File(&quot;NSEData.zip&quot;);\ntry {\n     FileUtils.copyURLToFile(url, f);\n} catch (Exception e) {\n}\n</code></pre>\n<p>The above code works for dates where market data exists, like 07/11/22 . However, where data does not exist, like on 08/11/22, the url is broken and the copyURLToFile line gets stuck indefinitely during runtime (replacing 071122 with 081122 in the url/code above will cause it to get stuck). Is there an easy way to get the program to recognize that the url for a certain date is broken (eg. <a href=\"https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip\" rel=\"nofollow noreferrer\">https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip</a>) and therefore ignore and continue past the <code>try</code> block without getting stuck?</p>\n<p>My current workaround is to check whether a certain date is a market holiday using a DayOfWeek check as well as a HashSet containing a list of public holidays, but this is not perfect.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","javers"],"owner":{"account_id":26758836,"reputation":1,"user_id":20357084,"display_name":"Nick Apostolides"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985806,"creation_date":1667985806,"question_id":74372517,"body_markdown":"I have a Spring Java microservice using Mongodb and Javers for versioning. The document being persisted is large and includes a list of value objects. At it&#39;s simplest level the data structure looks as below.\r\n```\r\nclass MyEntity {\r\n   String id,\r\n   Map&lt;String, ItemA&gt; items,\r\n}\r\n\r\nclass ItemA {\r\n   List&lt;ItemB&gt; values\r\n \r\n}\r\n\r\nclass ItemB {\r\n   String name,\r\n   LocalDate startDate\r\n}\r\n\r\n```\r\n\r\nI am trying to get the versions of the list.\r\n\r\nI tried the following code\r\n```\r\nString path = &quot;items/&quot; +  key + &quot;/values&quot;;\r\n\r\nJqlQuery query = QueryBuilder.byValueObjectId(id, MyEntity.class, path)\r\n        .withShadowScope(ShadowScope.DEEP_PLUS)\r\n        .build();\r\n\r\nList&lt;Shadow&lt;List&lt;ItemB&gt;&gt;&gt; shadows = javers.findShadows(query);\r\n```\r\n \r\nHowever it returns no shadows. I tried annotating ItemB as a @ValueObject and tried changing the ShadowScope but had no improvement.\r\n","title":"Can&#39;t Retrieve shadows for a list of Value Objects","body":"<p>I have a Spring Java microservice using Mongodb and Javers for versioning. The document being persisted is large and includes a list of value objects. At it's simplest level the data structure looks as below.</p>\n<pre><code>class MyEntity {\n   String id,\n   Map&lt;String, ItemA&gt; items,\n}\n\nclass ItemA {\n   List&lt;ItemB&gt; values\n \n}\n\nclass ItemB {\n   String name,\n   LocalDate startDate\n}\n\n</code></pre>\n<p>I am trying to get the versions of the list.</p>\n<p>I tried the following code</p>\n<pre><code>String path = &quot;items/&quot; +  key + &quot;/values&quot;;\n\nJqlQuery query = QueryBuilder.byValueObjectId(id, MyEntity.class, path)\n        .withShadowScope(ShadowScope.DEEP_PLUS)\n        .build();\n\nList&lt;Shadow&lt;List&lt;ItemB&gt;&gt;&gt; shadows = javers.findShadows(query);\n</code></pre>\n<p>However it returns no shadows. I tried annotating ItemB as a @ValueObject and tried changing the ShadowScope but had no improvement.</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667861794,"post_id":74351083,"comment_id":131264756,"body_markdown":"Why are you not using a schema registry? Without that, you&#39;ll not know if data is truly backwards compatible","body":"Why are you not using a schema registry? Without that, you&#39;ll not know if data is truly backwards compatible"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667861898,"post_id":74351083,"comment_id":131264781,"body_markdown":"Also, I don&#39;t think you need `SpecificDatumWriter` if you are going to be using `GenericRecord`, anyway","body":"Also, I don&#39;t think you need <code>SpecificDatumWriter</code> if you are going to be using <code>GenericRecord</code>, anyway"},{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":0,"creation_date":1667864687,"post_id":74351083,"comment_id":131265374,"body_markdown":"Adding an optional field should be fine, {&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}  Am curious of the extra double quotes in the example pasted. More at : https://docs.confluent.io/platform/current/schema-registry/avro.html#full-compatibility","body":"Adding an optional field should be fine, {&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}  Am curious of the extra double quotes in the example pasted. More at : <a href=\"https://docs.confluent.io/platform/current/schema-registry/avro.html#full-compatibility\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/&hellip;</a>"},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667897561,"post_id":74351083,"comment_id":131271210,"body_markdown":"@OneCricketeer: I don&#39;t want to use Schema Registry, I want to use only apache libs not Confluent.","body":"@OneCricketeer: I don&#39;t want to use Schema Registry, I want to use only apache libs not Confluent."},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667897904,"post_id":74351083,"comment_id":131271326,"body_markdown":"@OneCricketeer: is there any other way than with a `SpecificDatumWriter` ? In this test I used a `GenericRecord` but I also tried with a bean generated from avro-maven-plugin, with the same error.","body":"@OneCricketeer: is there any other way than with a <code>SpecificDatumWriter</code> ? In this test I used a <code>GenericRecord</code> but I also tried with a bean generated from avro-maven-plugin, with the same error."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667916863,"post_id":74351083,"comment_id":131278469,"body_markdown":"I didn&#39;t say Confluent. I said a registry. This one is Apache licensed https://www.apicur.io/registry/ or https://karapace.io/. In any case, `GenericDatumWriter` is a superclass of specific one. The specific one should only be used for the generated SpecificRecord subclasses","body":"I didn&#39;t say Confluent. I said a registry. This one is Apache licensed <a href=\"https://www.apicur.io/registry/\" rel=\"nofollow noreferrer\">apicur.io/registry</a> or <a href=\"https://karapace.io/\" rel=\"nofollow noreferrer\">karapace.io</a>. In any case, <code>GenericDatumWriter</code> is a superclass of specific one. The specific one should only be used for the generated SpecificRecord subclasses"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667917257,"post_id":74351083,"comment_id":131278618,"body_markdown":"Also, I suggest you remove Kafka dependency while you test. You can do the exact same thing here with local byte arrays in one Junit method","body":"Also, I suggest you remove Kafka dependency while you test. You can do the exact same thing here with local byte arrays in one Junit method"},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667918665,"post_id":74351083,"comment_id":131279236,"body_markdown":"@OneCricketeer: I just tried with a `GenericDatumWriter` instead of the `SpecificDatumWriter` but I have exactly the same error :(\nAbout the schema registry, thanks for links but I want to do that without any if possible. Maybe it&#39;s that, can I have a schema backward compatibility without schema registry ?","body":"@OneCricketeer: I just tried with a <code>GenericDatumWriter</code> instead of the <code>SpecificDatumWriter</code> but I have exactly the same error :( About the schema registry, thanks for links but I want to do that without any if possible. Maybe it&#39;s that, can I have a schema backward compatibility without schema registry ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667940741,"post_id":74351083,"comment_id":131287309,"body_markdown":"You can, but it will be centrally checked by the server, and prevent runtime errors like those that you are getting... More specifically, each test that you are running, are you clearing the topic? Or are you producing new events over and over? Or do you keep running the consumer, and only changing the schema there? In other words - it&#39;s difficult to know where your error is happening because you have multiple schemas shown here, and we don&#39;t know what is `SCHEMA` in your producer.","body":"You can, but it will be centrally checked by the server, and prevent runtime errors like those that you are getting... More specifically, each test that you are running, are you clearing the topic? Or are you producing new events over and over? Or do you keep running the consumer, and only changing the schema there? In other words - it&#39;s difficult to know where your error is happening because you have multiple schemas shown here, and we don&#39;t know what is <code>SCHEMA</code> in your producer."},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":1,"creation_date":1667984970,"post_id":74351083,"comment_id":131295876,"body_markdown":"The Producer produce the old one the `v1_0.avsc`.  \nThe consumer read with the new one `v2_0.avsc`.","body":"The Producer produce the old one the <code>v1_0.avsc</code>.   The consumer read with the new one <code>v2_0.avsc</code>."}],"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985293,"creation_date":1667844807,"question_id":74351083,"body_markdown":"I try to add a new field to my avro schema and I expect a retrocompatibility for the old messages as specified in the avro specification: [Source](https://avro.apache.org/docs/1.8.2/spec.html#Schema+Resolution).\r\n\r\nI updated my Avro schema with a new field `v2_0.avsc`.  \r\nI try to consume an old message, written with the old schema `v1_0.avsc`, it throws the error `java.io.EOFException: null`.  \r\nI added a default value for the new field but without success.\r\n\r\n\r\nOld schema `v1_0.avsc`:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Test&quot;,\r\n  &quot;fields&quot;: [\r\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\r\n    ]\r\n}\r\n```\r\nThe new one `v2_0.avsc`:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Test&quot;,\r\n  &quot;fields&quot;: [\r\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\r\n    ]\r\n}\r\n```\r\n\r\nI tried also, several combinaisons of union type, for the new schema and the default value:\r\n\r\nWith default strings and different union order\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;string&quot;, &quot;null&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\r\n```\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;null&quot;}\r\n```\r\n\r\nOr just `null`\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}\r\n```\r\n\r\nBut all of them produce the same error:\r\n\r\n```\r\njava.io.EOFException: null\r\n\tat org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:542)\r\n\tat org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:173)\r\n\tat org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:493)\r\n\tat org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n\tat org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\r\n\tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:142)\r\n\tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\r\n\tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123)\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\r\n```\r\n\r\nMy consumer use the new schema `v2_0.avsc`:\r\n\r\n```java\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.avro.io.DatumReader;\r\nimport org.apache.avro.io.Decoder;\r\nimport org.apache.avro.io.DecoderFactory;\r\nimport org.apache.avro.specific.SpecificDatumReader;\r\nimport org.apache.kafka.clients.CommonClientConfigs;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\r\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\r\nimport org.apache.kafka.common.config.SaslConfigs;\r\nimport org.apache.kafka.common.errors.SerializationException;\r\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\n....\r\n\r\n\t\t\r\n\t\t// Create consumer configs\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n\t\tproperties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tproperties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\r\n\t\tproperties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\tproperties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\t\t// Kerberos\r\n\t\t...\r\n\t\t\r\n\t\t// Create consumer and subscribe to the topic\r\n\t\tKafkaConsumer&lt;String,  byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n\t\tconsumer.subscribe(Collections.singletonList(topic));\r\n\t\t\r\n\r\n\t\tConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(Duration.ofMillis(1000));\r\n\t\t\t\r\n\r\n\t\tbyte[] data = record.value();\r\n\t\tDatumReader&lt;GenericRecord&gt; reader = new SpecificDatumReader&lt;&gt;(SCHEMA);\r\n\t\tDecoder decoder = DecoderFactory.get().binaryDecoder(data, null);\r\n\t\tGenericRecord message;\r\n\t\t\t\t\t\r\n\r\n\t\tmessage = reader.read(null, decoder);\r\n```\r\n\r\nMy producer use the old schema `v1_0.avsc` to try backward compatibility:\r\n\r\n```java\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.avro.io.BinaryEncoder;\r\nimport org.apache.avro.io.DatumWriter;\r\nimport org.apache.avro.io.EncoderFactory;\r\nimport org.apache.avro.specific.SpecificDatumWriter;\r\nimport org.apache.kafka.clients.CommonClientConfigs;\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\nimport org.apache.kafka.common.config.SaslConfigs;\r\nimport org.apache.kafka.common.security.auth.SecurityProtocol;\r\nimport org.apache.kafka.common.serialization.ByteArraySerializer;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\n....\r\n\r\n\r\n\t\tproperties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n\t\tproperties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\t\tproperties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class.getName());\r\n\t\tproperties.setProperty(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\r\n\t\t// Kerberos\r\n\t\t...\r\n\t\t\r\n\t\ttry ( KafkaProducer&lt;String, byte[]&gt; producer = new KafkaProducer&lt;&gt;(properties) ) {\r\n\t\t\t\r\n\r\n\t\t\tGenericRecord payload = new GenericData.Record(SCHEMA);\r\n\t\t\tpayload.put(&quot;field_1&quot;, &quot;001&quot;);\r\n\t\t\tpayload.put(&quot;field_2&quot;, &quot;002&quot;);\r\n\t\t\tDatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(SCHEMA);\r\n\t\t\tbyte[] serializedBytes;\r\n\t\t\ttry ( ByteArrayOutputStream out = new ByteArrayOutputStream() ) {\r\n\t\t\t\tBinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\r\n\t\t\t\twriter.write(payload, encoder);\r\n\t\t\t\tencoder.flush();\r\n\t\t\t\tserializedBytes = out.toByteArray();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tProducerRecord&lt;String, byte[]&gt; message = new ProducerRecord&lt;&gt;(TOPIC, serializedBytes);\r\n\t\t\tproducer.send(message);\r\n```\r\n\r\nI tried with libs `org.apache.avro:avro` 1.8.1 and 1.11.0 with the same bad result.\r\n\r\n\r\n\r\nCould you please tell me what am I doing wrong ?","title":"Avro schema backward compatibility error in Java","body":"<p>I try to add a new field to my avro schema and I expect a retrocompatibility for the old messages as specified in the avro specification: <a href=\"https://avro.apache.org/docs/1.8.2/spec.html#Schema+Resolution\" rel=\"nofollow noreferrer\">Source</a>.</p>\n<p>I updated my Avro schema with a new field <code>v2_0.avsc</code>.<br />\nI try to consume an old message, written with the old schema <code>v1_0.avsc</code>, it throws the error <code>java.io.EOFException: null</code>.<br />\nI added a default value for the new field but without success.</p>\n<p>Old schema <code>v1_0.avsc</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Test&quot;,\n  &quot;fields&quot;: [\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\n    ]\n}\n</code></pre>\n<p>The new one <code>v2_0.avsc</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Test&quot;,\n  &quot;fields&quot;: [\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\n    ]\n}\n</code></pre>\n<p>I tried also, several combinaisons of union type, for the new schema and the default value:</p>\n<p>With default strings and different union order</p>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;string&quot;, &quot;null&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;null&quot;}\n</code></pre>\n<p>Or just <code>null</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}\n</code></pre>\n<p>But all of them produce the same error:</p>\n<pre><code>java.io.EOFException: null\n    at org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:542)\n    at org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:173)\n    at org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:493)\n    at org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:142)\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\n</code></pre>\n<p>My consumer use the new schema <code>v2_0.avsc</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.specific.SpecificDatumReader;\nimport org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.config.SaslConfigs;\nimport org.apache.kafka.common.errors.SerializationException;\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n....\n\n        \n        // Create consumer configs\n        Properties properties = new Properties();\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        // Kerberos\n        ...\n        \n        // Create consumer and subscribe to the topic\n        KafkaConsumer&lt;String,  byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        consumer.subscribe(Collections.singletonList(topic));\n        \n\n        ConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(Duration.ofMillis(1000));\n            \n\n        byte[] data = record.value();\n        DatumReader&lt;GenericRecord&gt; reader = new SpecificDatumReader&lt;&gt;(SCHEMA);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(data, null);\n        GenericRecord message;\n                    \n\n        message = reader.read(null, decoder);\n</code></pre>\n<p>My producer use the old schema <code>v1_0.avsc</code> to try backward compatibility:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.BinaryEncoder;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.specific.SpecificDatumWriter;\nimport org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.common.config.SaslConfigs;\nimport org.apache.kafka.common.security.auth.SecurityProtocol;\nimport org.apache.kafka.common.serialization.ByteArraySerializer;\nimport org.apache.kafka.common.serialization.StringSerializer;\n....\n\n\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class.getName());\n        properties.setProperty(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\n        // Kerberos\n        ...\n        \n        try ( KafkaProducer&lt;String, byte[]&gt; producer = new KafkaProducer&lt;&gt;(properties) ) {\n            \n\n            GenericRecord payload = new GenericData.Record(SCHEMA);\n            payload.put(&quot;field_1&quot;, &quot;001&quot;);\n            payload.put(&quot;field_2&quot;, &quot;002&quot;);\n            DatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(SCHEMA);\n            byte[] serializedBytes;\n            try ( ByteArrayOutputStream out = new ByteArrayOutputStream() ) {\n                BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\n                writer.write(payload, encoder);\n                encoder.flush();\n                serializedBytes = out.toByteArray();\n            }\n            \n            ProducerRecord&lt;String, byte[]&gt; message = new ProducerRecord&lt;&gt;(TOPIC, serializedBytes);\n            producer.send(message);\n</code></pre>\n<p>I tried with libs <code>org.apache.avro:avro</code> 1.8.1 and 1.11.0 with the same bad result.</p>\n<p>Could you please tell me what am I doing wrong ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":4,"creation_date":1667919230,"post_id":74362677,"comment_id":131279477,"body_markdown":"you can&#39;t use the for-each syntax, as you need two items of the list at the same time. Use `for(var i = 0, j=Test2.size()-1; i&lt;j; i++) { var c1 = Test2.get(i); var c2 = Test2.get(i+i); ...` and compare c1 to c2","body":"you can&#39;t use the for-each syntax, as you need two items of the list at the same time. Use <code>for(var i = 0, j=Test2.size()-1; i&lt;j; i++) { var c1 = Test2.get(i); var c2 = Test2.get(i+i); ...</code> and compare c1 to c2"}],"answers":[{"tags":[],"owner":{"account_id":6321227,"reputation":21,"user_id":4909220,"display_name":"Phil"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667920092,"creation_date":1667920092,"answer_id":74362960,"question_id":74362677,"body_markdown":"You could do something like this:\r\n\r\n    var values = asList(1, 2, 3, 4);\r\n\r\n    for (int i = 0; i &lt; values.size(); i++) {\r\n        if (i &lt; values.size()-1) {\r\n            var current = values.get(i);\r\n            var next = values.get(i+1);\r\n\r\n            //TODO do your logik\r\n            boolean isNextHigher = next &gt; current;\r\n        }\r\n    }","title":"Compare ArrayList entry with the next ArrayList entry","body":"<p>You could do something like this:</p>\n<pre><code>var values = asList(1, 2, 3, 4);\n\nfor (int i = 0; i &lt; values.size(); i++) {\n    if (i &lt; values.size()-1) {\n        var current = values.get(i);\n        var next = values.get(i+1);\n\n        //TODO do your logik\n        boolean isNextHigher = next &gt; current;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26858416,"reputation":1,"user_id":20442353,"display_name":"Flowerboy1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1667985150,"creation_date":1667918938,"question_id":74362677,"body_markdown":"I want to compare the first ArrayList entry with the second one. The second one with the thirt one and so one. The comparison should be that the second entry that should be compared has to be higher than the first one.\r\n\r\nI wrote the following code: \r\n\r\n```java\r\nfor (double x : Test2) // my ArrayList is called Test2\r\n{\r\n    if (x &lt; x + 1) // for example compare entry one with entry one+1, that makes entry two (i think atleast)\r\n    {\r\n        variable3 = true;       \r\n        break;\r\n    }\r\n}\r\n```\r\n","title":"Compare ArrayList entry with the next ArrayList entry","body":"<p>I want to compare the first ArrayList entry with the second one. The second one with the thirt one and so one. The comparison should be that the second entry that should be compared has to be higher than the first one.</p>\n<p>I wrote the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (double x : Test2) // my ArrayList is called Test2\n{\n    if (x &lt; x + 1) // for example compare entry one with entry one+1, that makes entry two (i think atleast)\n    {\n        variable3 = true;       \n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1421821513,"post_id":28059563,"comment_id":44502889,"body_markdown":"As far as document creation is concerned, PDFBox mainly is an equivalent to the low level API of iText. What you are missing is something replacing iText&#39;s high level API on top of that. I&#39;m not aware of something like that available to the public.","body":"As far as document creation is concerned, PDFBox mainly is an equivalent to the low level API of iText. What you are missing is something replacing iText&#39;s high level API on top of that. I&#39;m not aware of something like that available to the public."},{"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"score":0,"creation_date":1421821992,"post_id":28059563,"comment_id":44503040,"body_markdown":"Yeah, you nailed it. High level API for PDFBox for creating all these tables is what is missing. A lot of dev community is migrating from iText to other open source pdf libraries and I am sure someone will have an elegant solution.","body":"Yeah, you nailed it. High level API for PDFBox for creating all these tables is what is missing. A lot of dev community is migrating from iText to other open source pdf libraries and I am sure someone will have an elegant solution."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":4,"creation_date":1421824278,"post_id":28059563,"comment_id":44504018,"body_markdown":"Here&#39;s another: https://github.com/dhorions/boxable","body":"Here&#39;s another: <a href=\"https://github.com/dhorions/boxable\" rel=\"nofollow noreferrer\">github.com/dhorions/boxable</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421825449,"post_id":28059563,"comment_id":44504494,"body_markdown":"And another: https://stackoverflow.com/questions/3871879/apache-pdfbox-java-library-is-there-an-api-for-creating-tables","body":"And another: <a href=\"https://stackoverflow.com/questions/3871879/apache-pdfbox-java-library-is-there-an-api-for-creating-tables\" title=\"apache pdfbox java library is there an api for creating tables\">stackoverflow.com/questions/3871879/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1421828573,"post_id":28059563,"comment_id":44505725,"body_markdown":"@TilmanHausherr I&#39;m afraid all those samples IMO meely are proofs of concept, probably of use in limited use cases but by far not for generic use. PDFBox has its strengths, e.g. a quite versatile content extraction framework and a content rendering capability, but the absence a proper layouting API  is a serious weakness.","body":"@TilmanHausherr I&#39;m afraid all those samples IMO meely are proofs of concept, probably of use in limited use cases but by far not for generic use. PDFBox has its strengths, e.g. a quite versatile content extraction framework and a content rendering capability, but the absence a proper layouting API  is a serious weakness."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421832940,"post_id":28059563,"comment_id":44507967,"body_markdown":"I know... I just don&#39;t want to create another iText. We&#39;re not the Samwer brothers. But I&#39;ll write something about that topic on the dev list tonight.","body":"I know... I just don&#39;t want to create another iText. We&#39;re not the Samwer brothers. But I&#39;ll write something about that topic on the dev list tonight."},{"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"score":0,"creation_date":1421844902,"post_id":28059563,"comment_id":44515054,"body_markdown":"Thanks Tilman for the suggestions. I&#39;ll go through them and update my comments here. iText is an awesome library but their licensing really sucks. I myself am writing a lot of wrappers around pdfbox, when time permits, I&#39;ll publish the same.","body":"Thanks Tilman for the suggestions. I&#39;ll go through them and update my comments here. iText is an awesome library but their licensing really sucks. I myself am writing a lot of wrappers around pdfbox, when time permits, I&#39;ll publish the same."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421874683,"post_id":28059563,"comment_id":44532683,"body_markdown":"I&#39;ve posted my thoughts not in the dev list but in a JIRA issue here: https://issues.apache.org/jira/browse/PDFBOX-2618","body":"I&#39;ve posted my thoughts not in the dev list but in a JIRA issue here: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-2618\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-2618</a>"},{"owner":{"display_name":"user17432086"},"score":0,"creation_date":1661191896,"post_id":28059563,"comment_id":129708591,"body_markdown":"@Anil `I am sure someone will have an elegant solution` 7 years later and we still don&#39;t have that elegant solution","body":"@Anil <code>I am sure someone will have an elegant solution</code> 7 years later and we still don&#39;t have that elegant solution"}],"answers":[{"tags":[],"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1421863692,"creation_date":1421862397,"answer_id":28073600,"question_id":28059563,"body_markdown":"Thanks to the links provided by Tilman. Using the boxable API (https://github.com/dhorions/boxable) I was able to create the table I wanted to. Just an FYI I wanted to create the table with variable number of cells. For example row 1 would have 2 cells, row 2 could have 5 cells and row 3 could have just 3 cells. I was able to do with ease. I followed Example1.java in the link mentioned above.","title":"How to create Table using Apache PDFBox","body":"<p>Thanks to the links provided by Tilman. Using the boxable API (<a href=\"https://github.com/dhorions/boxable\" rel=\"noreferrer\">https://github.com/dhorions/boxable</a>) I was able to create the table I wanted to. Just an FYI I wanted to create the table with variable number of cells. For example row 1 would have 2 cells, row 2 could have 5 cells and row 3 could have just 3 cells. I was able to do with ease. I followed Example1.java in the link mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1548258999,"creation_date":1488739503,"answer_id":42612456,"question_id":28059563,"body_markdown":"Since I also needed table drawing functionality for a side project, I implemented a small &quot;table drawer&quot; library myself, which I uploaded to [github](https://github.com/vandeseer/easytable). \r\n\r\nIn order to produce such a table  for instance  ... \r\n[![enter image description here][1]][1]\r\n\r\n... you would need [this code][2].\r\nIn the same file you find the code for that table as well:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe current &quot;feature list&quot; includes:\r\n\r\n - set font and font size on table level as well as on cell level\r\n - define single cells with bottom-, top-, left- and right-border width separately\r\n - define the background color on row or cell level\r\n - define padding (top, bottom, left, right) on cell level\r\n - define border color (on table, row or cell level)\r\n - specify text alignment (vertical and horizontal)\r\n - cell spanning and row spanning\r\n - text wrapping and line spacing\r\n\r\nAlso it should not be too hard to add missing stuff like having different border colors for borders on top, bottom, left and right-borders, if needed.\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\r\n  [2]: https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/ExcelLikeExampleTest.java\r\n\r\n  [4]:https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png","title":"How to create Table using Apache PDFBox","body":"<p>Since I also needed table drawing functionality for a side project, I implemented a small \"table drawer\" library myself, which I uploaded to <a href=\"https://github.com/vandeseer/easytable\" rel=\"noreferrer\">github</a>. </p>\n\n<p>In order to produce such a table  for instance  ... \n<a href=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\" rel=\"noreferrer\"><img src=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\" alt=\"enter image description here\"></a></p>\n\n<p>... you would need <a href=\"https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/ExcelLikeExampleTest.java\" rel=\"noreferrer\">this code</a>.\nIn the same file you find the code for that table as well:</p>\n\n<p><a href=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png\" rel=\"noreferrer\"><img src=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png\" alt=\"enter image description here\"></a></p>\n\n<p>The current \"feature list\" includes:</p>\n\n<ul>\n<li>set font and font size on table level as well as on cell level</li>\n<li>define single cells with bottom-, top-, left- and right-border width separately</li>\n<li>define the background color on row or cell level</li>\n<li>define padding (top, bottom, left, right) on cell level</li>\n<li>define border color (on table, row or cell level)</li>\n<li>specify text alignment (vertical and horizontal)</li>\n<li>cell spanning and row spanning</li>\n<li>text wrapping and line spacing</li>\n</ul>\n\n<p>Also it should not be too hard to add missing stuff like having different border colors for borders on top, bottom, left and right-borders, if needed.</p>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667985134,"creation_date":1667985134,"answer_id":74372381,"question_id":28059563,"body_markdown":"**This example code works for me. I think this would be helpful to you**\r\n\r\n    public static void creteTablePdf() throws IOException {\r\n        PDDocument document = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        document.addPage(page);\r\n\r\n        int pageWidth = (int)page.getTrimBox().getWidth(); //get width of the page\r\n        int pageHeight = (int)page.getTrimBox().getHeight(); //get height of the page\r\n\r\n        PDPageContentStream contentStream = new PDPageContentStream(document,page);\r\n        contentStream.setStrokingColor(Color.DARK_GRAY);\r\n        contentStream.setLineWidth(1);\r\n\r\n        int initX = 50;\r\n        int initY = pageHeight-50;\r\n        int cellHeight = 20;\r\n        int cellWidth = 100;\r\n\r\n        int colCount = 3;\r\n        int rowCount = 3;\r\n\r\n        for(int i = 1; i&lt;=rowCount;i++){\r\n            for(int j = 1; j&lt;=colCount;j++){\r\n                if(j == 2){\r\n                    contentStream.addRect(initX,initY,cellWidth+30,-cellHeight);\r\n\r\n                    contentStream.beginText();\r\n                    contentStream.newLineAtOffset(initX+30,initY-cellHeight+10);\r\n                    contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\r\n                    contentStream.showText(&quot;Dinuka&quot;);\r\n                    contentStream.endText();\r\n\r\n                    initX+=cellWidth+30;\r\n                }else{\r\n                    contentStream.addRect(initX,initY,cellWidth,-cellHeight);\r\n\r\n                    contentStream.beginText();\r\n                    contentStream.newLineAtOffset(initX+10,initY-cellHeight+10);\r\n                    contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\r\n                    contentStream.showText(&quot;Dinuka&quot;);\r\n                    contentStream.endText();\r\n\r\n                    initX+=cellWidth;\r\n                }\r\n            }\r\n            initX = 50;\r\n            initY -=cellHeight;\r\n        }\r\n\r\n        contentStream.stroke();\r\n        contentStream.close();\r\n\r\n\r\n        document.save(&quot;C:\\\\table.pdf&quot;);\r\n        document.close();\r\n        System.out.println(&quot;table pdf created&quot;);\r\n    }","title":"How to create Table using Apache PDFBox","body":"<p><strong>This example code works for me. I think this would be helpful to you</strong></p>\n<pre><code>public static void creteTablePdf() throws IOException {\n    PDDocument document = new PDDocument();\n    PDPage page = new PDPage();\n    document.addPage(page);\n\n    int pageWidth = (int)page.getTrimBox().getWidth(); //get width of the page\n    int pageHeight = (int)page.getTrimBox().getHeight(); //get height of the page\n\n    PDPageContentStream contentStream = new PDPageContentStream(document,page);\n    contentStream.setStrokingColor(Color.DARK_GRAY);\n    contentStream.setLineWidth(1);\n\n    int initX = 50;\n    int initY = pageHeight-50;\n    int cellHeight = 20;\n    int cellWidth = 100;\n\n    int colCount = 3;\n    int rowCount = 3;\n\n    for(int i = 1; i&lt;=rowCount;i++){\n        for(int j = 1; j&lt;=colCount;j++){\n            if(j == 2){\n                contentStream.addRect(initX,initY,cellWidth+30,-cellHeight);\n\n                contentStream.beginText();\n                contentStream.newLineAtOffset(initX+30,initY-cellHeight+10);\n                contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\n                contentStream.showText(&quot;Dinuka&quot;);\n                contentStream.endText();\n\n                initX+=cellWidth+30;\n            }else{\n                contentStream.addRect(initX,initY,cellWidth,-cellHeight);\n\n                contentStream.beginText();\n                contentStream.newLineAtOffset(initX+10,initY-cellHeight+10);\n                contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\n                contentStream.showText(&quot;Dinuka&quot;);\n                contentStream.endText();\n\n                initX+=cellWidth;\n            }\n        }\n        initX = 50;\n        initY -=cellHeight;\n    }\n\n    contentStream.stroke();\n    contentStream.close();\n\n\n    document.save(&quot;C:\\\\table.pdf&quot;);\n    document.close();\n    System.out.println(&quot;table pdf created&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72675,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":28073600,"answer_count":3,"score":39,"last_activity_date":1667985134,"creation_date":1421813902,"question_id":28059563,"body_markdown":"We are planning to migrate our pdf generation utilities from iText to PDFBox (Due to licensing issues in iText).  With some effort, I was able to write and position text, draw lines etc. But creating Tables with text embedded in Table cells is a challenge, I went through the documentation, examples, Google, Stackoverflow couldn&#39;t find a thing. Was wondering if PDFBox provides native support for creating Tables with embedded text. My last resort would be to use this link https://github.com/eduardohl/Paginated-PDFBox-Table-Sample","title":"How to create Table using Apache PDFBox","body":"<p>We are planning to migrate our pdf generation utilities from iText to PDFBox (Due to licensing issues in iText).  With some effort, I was able to write and position text, draw lines etc. But creating Tables with text embedded in Table cells is a challenge, I went through the documentation, examples, Google, Stackoverflow couldn't find a thing. Was wondering if PDFBox provides native support for creating Tables with embedded text. My last resort would be to use this link <a href=\"https://github.com/eduardohl/Paginated-PDFBox-Table-Sample\">https://github.com/eduardohl/Paginated-PDFBox-Table-Sample</a></p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667915529,"post_id":74361519,"comment_id":131277950,"body_markdown":"checkout this answer https://stackoverflow.com/a/48140893/3651739 ,","body":"checkout this answer <a href=\"https://stackoverflow.com/a/48140893/3651739\">stackoverflow.com/a/48140893/3651739</a> ,"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1667918302,"post_id":74361519,"comment_id":131279077,"body_markdown":"You can skip the database name, however then it defaults to https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470","body":"You can skip the database name, however then it defaults to <a href=\"https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470\" title=\"authentication failure while trying to save to mongodb\">stackoverflow.com/questions/63754742/&hellip;</a>"}],"owner":{"account_id":15611730,"reputation":31,"user_id":13296532,"display_name":"Anna315"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667985103,"creation_date":1667914009,"question_id":74361519,"body_markdown":"I&#39;m using spring boot and database mongo. Our database is placed on AWS cluster. Inside data source we have couples databases(AccountsDB, SubscriptionsDB etc). I did realization, when in Spring boot I connected to 2 databases using disable autoconfiguration in application.properties file and connect to mongoDB twice: ones, to database AccountsDB(\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{AccountsDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\n), and second connection to SubscriptionDB(\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{SubscriptionDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\n). \r\nBut my manager unhappy with this realization... There is any way to connect to data source without clarification of data base name? I couldn&#39;t find any solution for this, if we are not clarify its not showing any data. Thank you for any replying\r\n\r\nI tried to connect without clarification, and it doesn&#39;t display any data\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\nMight be any way to connect to datasource and after using SpringJPA make connection?","title":"Connecting to data source without specifying database name","body":"<p>I'm using spring boot and database mongo. Our database is placed on AWS cluster. Inside data source we have couples databases(AccountsDB, SubscriptionsDB etc). I did realization, when in Spring boot I connected to 2 databases using disable autoconfiguration in application.properties file and connect to mongoDB twice: ones, to database AccountsDB(</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{AccountsDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>), and second connection to SubscriptionDB(</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{SubscriptionDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>).\nBut my manager unhappy with this realization... There is any way to connect to data source without clarification of data base name? I couldn't find any solution for this, if we are not clarify its not showing any data. Thank you for any replying</p>\n<p>I tried to connect without clarification, and it doesn't display any data</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>Might be any way to connect to datasource and after using SpringJPA make connection?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":10438739,"reputation":537,"user_id":7696140,"display_name":"Meccano"},"score":2,"creation_date":1492036194,"post_id":43380636,"comment_id":73823416,"body_markdown":"you can print all elements except the last one and then print the last element seperately","body":"you can print all elements except the last one and then print the last element seperately"},{"owner":{"account_id":1623866,"reputation":5200,"user_id":1499877,"accept_rate":86,"display_name":"WOUNDEDStevenJones"},"score":0,"creation_date":1492036195,"post_id":43380636,"comment_id":73823417,"body_markdown":"truncate the last 3 characters and then append &quot;]&quot; back.  Or better yet, instead of blindly appending the `&quot;, &quot;`, check the length of `myArray` and the value of `i` to determine if you need to append `&quot;, &quot;`.","body":"truncate the last 3 characters and then append &quot;]&quot; back.  Or better yet, instead of blindly appending the <code>&quot;, &quot;</code>, check the length of <code>myArray</code> and the value of <code>i</code> to determine if you need to append <code>&quot;, &quot;</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1492036640,"post_id":43380636,"comment_id":73823555,"body_markdown":"I also sometimes build the output in a `StringBuilder`, then just always remove the last space and comma.  `StringBuilder` is just a `char[]` under the hood, so removing two characters from the end is easy.  The resulting code is pretty compact and efficient too.","body":"I also sometimes build the output in a <code>StringBuilder</code>, then just always remove the last space and comma.  <code>StringBuilder</code> is just a <code>char[]</code> under the hood, so removing two characters from the end is easy.  The resulting code is pretty compact and efficient too."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1492038406,"post_id":43380636,"comment_id":73824097,"body_markdown":"To avoid confusion, I suggest your `printArray` method, only print the array.  Having it also initialise the array is a confusing complication missed by some answering the question. You could call the method `initialiseAndPrintArray`","body":"To avoid confusion, I suggest your <code>printArray</code> method, only print the array.  Having it also initialise the array is a confusing complication missed by some answering the question. You could call the method <code>initialiseAndPrintArray</code>"}],"answers":[{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1492036256,"creation_date":1492036256,"answer_id":43380662,"question_id":43380636,"body_markdown":"Don&#39;t print it in the first place. Print the comma before the string and only when `i &gt; 0`.\r\n\r\n    public static void printArray(int[] myArray)\r\n    {\r\n\r\n        System.out.print(&quot;[&quot;);\r\n        for(int i = 0; i &lt; myArray.length; i++)\r\n        {\r\n            myArray[i] = i + 1;\r\n            if (i &gt; 0)\r\n            {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            System.out.print(myArray[i]);\r\n        }\r\n        System.out.println(&quot;]&quot;);\r\n    }","title":"How to remove last comma and space in array? Java","body":"<p>Don't print it in the first place. Print the comma before the string and only when <code>i &gt; 0</code>.</p>\n\n<pre><code>public static void printArray(int[] myArray)\n{\n\n    System.out.print(\"[\");\n    for(int i = 0; i &lt; myArray.length; i++)\n    {\n        myArray[i] = i + 1;\n        if (i &gt; 0)\n        {\n            System.out.print(\", \");\n        }\n        System.out.print(myArray[i]);\n    }\n    System.out.println(\"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7857907,"reputation":441,"user_id":5939139,"display_name":"Gabe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492037324,"creation_date":1492036403,"answer_id":43380690,"question_id":43380636,"body_markdown":"I would modify it as such _(printing the comma before the next item, for index &gt; 0)_\r\n\r\n    System.out.print(&quot;[&quot;);\r\n    for(int i = 0; i &lt; myArray.length; i++) {\r\n      myArray[i] = i + 1;\r\n      System.out.print(((i &gt; 0) ? &quot;, &quot; : &quot;&quot;) + myArray[i]);\r\n    }\r\n    System.out.print(&quot;]&quot;);\r\n\r\nOr, in Java 8,\r\n\r\n    System.out.println(\r\n      &quot;[&quot; + \r\n      Arrays.stream(array)\r\n          .mapToObj(String::valueOf)\r\n          .collect(Collectors.joining(&quot;, &quot;))\r\n      + &quot;]&quot;\r\n    );","title":"How to remove last comma and space in array? Java","body":"<p>I would modify it as such <em>(printing the comma before the next item, for index > 0)</em></p>\n\n<pre><code>System.out.print(\"[\");\nfor(int i = 0; i &lt; myArray.length; i++) {\n  myArray[i] = i + 1;\n  System.out.print(((i &gt; 0) ? \", \" : \"\") + myArray[i]);\n}\nSystem.out.print(\"]\");\n</code></pre>\n\n<p>Or, in Java 8,</p>\n\n<pre><code>System.out.println(\n  \"[\" + \n  Arrays.stream(array)\n      .mapToObj(String::valueOf)\n      .collect(Collectors.joining(\", \"))\n  + \"]\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1492037885,"creation_date":1492036919,"answer_id":43380792,"question_id":43380636,"body_markdown":"The easy way to do this is just use `Arrays.toString`\r\n\r\n    public static void printArray(int[] myArray)\r\n    {\r\n        System.out.print( Arrays.toString( myArray ) );\r\n    }\r\n\r\nNote this prints brackets instead of braces.  In the interest of completeness, if you do implement this yourself, don&#39;t forget to check for the array being `null` in addition to other boundary conditions like length = 0.\r\n\r\nHere is an example using `StringBuilder`, where I just always remove the last two characters after checking for `null` and length = 0.  If you have a very complicated string to calculate for each item in a list/array, this can be easier than copying the code to make each item outside the loop, and can be slightly faster than checking for `i==array.length-1` each time through the loop.\r\n\r\n    public class MyArraysToString\r\n    {\r\n    \r\n       public static void main( String[] args )\r\n       {\r\n          int[] test = { 8, 7, 6, 5, 4, };\r\n          printArray( test );\r\n          System.out.println( myToString( null ) );\r\n          System.out.println( myToString( new int[0] ) );\r\n          System.out.println( myToString( test ) );\r\n       }\r\n    \r\n       public static void printArray( int[] myArray )\r\n       {\r\n          System.out.println( Arrays.toString( myArray ) );\r\n       }\r\n    \r\n       public static String myToString( int[] a ) {\r\n          if( a == null ) return &quot;null&quot;;\r\n          if( a.length == 0 ) return &quot;{}&quot;;\r\n          StringBuilder sb = new StringBuilder();\r\n          sb.append( &#39;{&#39; );\r\n          for (int i = 0; i &lt; a.length; i++) {\r\n             sb.append( a[i] );\r\n             sb.append( &quot;, &quot; );\r\n          }\r\n          sb.setLength( sb.length()-2 );\r\n          sb.append( &#39;}&#39; );\r\n          return sb.toString();\r\n       }\r\n    }\r\n\r\n","title":"How to remove last comma and space in array? Java","body":"<p>The easy way to do this is just use <code>Arrays.toString</code></p>\n\n<pre><code>public static void printArray(int[] myArray)\n{\n    System.out.print( Arrays.toString( myArray ) );\n}\n</code></pre>\n\n<p>Note this prints brackets instead of braces.  In the interest of completeness, if you do implement this yourself, don't forget to check for the array being <code>null</code> in addition to other boundary conditions like length = 0.</p>\n\n<p>Here is an example using <code>StringBuilder</code>, where I just always remove the last two characters after checking for <code>null</code> and length = 0.  If you have a very complicated string to calculate for each item in a list/array, this can be easier than copying the code to make each item outside the loop, and can be slightly faster than checking for <code>i==array.length-1</code> each time through the loop.</p>\n\n<pre><code>public class MyArraysToString\n{\n\n   public static void main( String[] args )\n   {\n      int[] test = { 8, 7, 6, 5, 4, };\n      printArray( test );\n      System.out.println( myToString( null ) );\n      System.out.println( myToString( new int[0] ) );\n      System.out.println( myToString( test ) );\n   }\n\n   public static void printArray( int[] myArray )\n   {\n      System.out.println( Arrays.toString( myArray ) );\n   }\n\n   public static String myToString( int[] a ) {\n      if( a == null ) return \"null\";\n      if( a.length == 0 ) return \"{}\";\n      StringBuilder sb = new StringBuilder();\n      sb.append( '{' );\n      for (int i = 0; i &lt; a.length; i++) {\n         sb.append( a[i] );\n         sb.append( \", \" );\n      }\n      sb.setLength( sb.length()-2 );\n      sb.append( '}' );\n      return sb.toString();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10435196,"reputation":119,"user_id":7693723,"accept_rate":100,"display_name":"IDK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10373,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1492036995,"accepted_answer_id":43380662,"answer_count":3,"score":6,"last_activity_date":1667984954,"creation_date":1492036115,"question_id":43380636,"body_markdown":"guys I was wondering how to remove the extra comma and space from the array? When I run the program it gives me {1, 2, 3, 4, 5, }. What I want is \r\n{1, 2, 3, 4, 5}. Main must stay the same. PrintArray method is the one I need help with. \r\n\r\nReferring to duplicate question statement.\r\nThis is different because it asks a user for a number and prints the array accordingly. This is not a duplicate question.\r\n\r\n    public static void printArray(int[] myArray) {\r\n    \tSystem.out.print(&quot;[&quot;);\r\n    \tfor(int i = 0; i &lt; myArray.length; i++) {\r\n    \t\tmyArray[i] = i + 1;\r\n    \t\tSystem.out.print(myArray[i] + &quot;, &quot;);\r\n    \t}\r\n\r\n    \tSystem.out.println(&quot;]&quot;);\r\n    }","title":"How to remove last comma and space in array? Java","body":"<p>guys I was wondering how to remove the extra comma and space from the array? When I run the program it gives me {1, 2, 3, 4, 5, }. What I want is\n{1, 2, 3, 4, 5}. Main must stay the same. PrintArray method is the one I need help with.</p>\n<p>Referring to duplicate question statement.\nThis is different because it asks a user for a number and prints the array accordingly. This is not a duplicate question.</p>\n<pre><code>public static void printArray(int[] myArray) {\n    System.out.print(&quot;[&quot;);\n    for(int i = 0; i &lt; myArray.length; i++) {\n        myArray[i] = i + 1;\n        System.out.print(myArray[i] + &quot;, &quot;);\n    }\n\n    System.out.println(&quot;]&quot;);\n}\n</code></pre>\n"},{"tags":["java","cryptography","rsa"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1521716483,"post_id":49426844,"comment_id":85854829,"body_markdown":"You did not specify the algorithm used, but maybe this is helpful: https://stackoverflow.com/questions/4428236/given-two-ssh2-keys-how-do-i-check-that-they-belong-to-the-same-key-pair-in-java","body":"You did not specify the algorithm used, but maybe this is helpful: <a href=\"https://stackoverflow.com/questions/4428236/given-two-ssh2-keys-how-do-i-check-that-they-belong-to-the-same-key-pair-in-java\" title=\"given two ssh2 keys how do i check that they belong to the same key pair in java\">stackoverflow.com/questions/4428236/&hellip;</a>"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1521717109,"post_id":49426844,"comment_id":85855274,"body_markdown":"Its RSA algorithm, specified in the tags and updated the question. And thanks for the link.","body":"Its RSA algorithm, specified in the tags and updated the question. And thanks for the link."}],"answers":[{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1667818138,"creation_date":1521717315,"answer_id":49427242,"question_id":49426844,"body_markdown":"You can verify if a key pair matches by\r\n\r\n - creating a **challenge** (random byte sequence of sufficient length)\r\n - **signing** the challenge with the **private key**\r\n - **verifying** the signature using the **public key**\r\n\r\nThis gives you a sufficiently high confidence (almost certainity) that a key pair matches if the signature verification is ok, and an absolute certainity that a key pair does not match otherwise.\r\n\r\nExample code:\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyGen.initialize(2048);\r\n\r\n    KeyPair keyPair = keyGen.generateKeyPair();\r\n    PublicKey publicKey = keyPair.getPublic();\r\n    PrivateKey privateKey = keyPair.getPrivate();\r\n\r\n    // create a challenge\r\n    byte[] challenge = new byte[10000];\r\n    ThreadLocalRandom.current().nextBytes(challenge);\r\n\r\n    // sign using the private key\r\n    Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n    sig.initSign(privateKey);\r\n    sig.update(challenge);\r\n    byte[] signature = sig.sign();\r\n\r\n    // verify signature using the public key\r\n    sig.initVerify(publicKey);\r\n    sig.update(challenge);\r\n    \r\n    boolean keyPairMatches = sig.verify(signature);\r\n\r\nThis also works with **Elliptic Curve (EC)** key pairs, but you need to use a different signature algorithm (`SHA256withECDSA`):\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    keyGen.initialize(new ECGenParameterSpec(&quot;sect571k1&quot;));\r\n    ...\r\n    Signature sig = Signature.getInstance(&quot;SHA256withECDSA&quot;);","title":"How to validate a public and private key pair in Java","body":"<p>You can verify if a key pair matches by</p>\n<ul>\n<li>creating a <strong>challenge</strong> (random byte sequence of sufficient length)</li>\n<li><strong>signing</strong> the challenge with the <strong>private key</strong></li>\n<li><strong>verifying</strong> the signature using the <strong>public key</strong></li>\n</ul>\n<p>This gives you a sufficiently high confidence (almost certainity) that a key pair matches if the signature verification is ok, and an absolute certainity that a key pair does not match otherwise.</p>\n<p>Example code:</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkeyGen.initialize(2048);\n\nKeyPair keyPair = keyGen.generateKeyPair();\nPublicKey publicKey = keyPair.getPublic();\nPrivateKey privateKey = keyPair.getPrivate();\n\n// create a challenge\nbyte[] challenge = new byte[10000];\nThreadLocalRandom.current().nextBytes(challenge);\n\n// sign using the private key\nSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\nsig.initSign(privateKey);\nsig.update(challenge);\nbyte[] signature = sig.sign();\n\n// verify signature using the public key\nsig.initVerify(publicKey);\nsig.update(challenge);\n\nboolean keyPairMatches = sig.verify(signature);\n</code></pre>\n<p>This also works with <strong>Elliptic Curve (EC)</strong> key pairs, but you need to use a different signature algorithm (<code>SHA256withECDSA</code>):</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\nkeyGen.initialize(new ECGenParameterSpec(&quot;sect571k1&quot;));\n...\nSignature sig = Signature.getInstance(&quot;SHA256withECDSA&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659691773,"creation_date":1612330213,"answer_id":66021798,"question_id":49426844,"body_markdown":"The answer that was marked as being correct wastes a lot of CPU cycles. This answer is waaaay more CPU efficient:\r\n\r\n```\r\nKeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\nkeyGen.initialize(2048);\r\n\r\nKeyPair keyPair = keyGen.generateKeyPair();\r\nRSAPrivateCrtKey privateKey = (RSAPrivateCrtKey) keyPair.getPrivate();\r\nRSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\n// comment this out to verify the behavior when the keys are different\r\n//keyPair = keyGen.generateKeyPair();\r\n//publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\nboolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\r\n\tprivateKey.getPublicExponent().equals(publicKey.getPublicExponent());\r\n```\r\n(the other answer signs a message with the private key and then verifies it with the public key whereas my answer checks to see if the modulus and public exponent are the same)","title":"How to validate a public and private key pair in Java","body":"<p>The answer that was marked as being correct wastes a lot of CPU cycles. This answer is waaaay more CPU efficient:</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkeyGen.initialize(2048);\n\nKeyPair keyPair = keyGen.generateKeyPair();\nRSAPrivateCrtKey privateKey = (RSAPrivateCrtKey) keyPair.getPrivate();\nRSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n\n// comment this out to verify the behavior when the keys are different\n//keyPair = keyGen.generateKeyPair();\n//publicKey = (RSAPublicKey) keyPair.getPublic();\n\nboolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\n    privateKey.getPublicExponent().equals(publicKey.getPublicExponent());\n</code></pre>\n<p>(the other answer signs a message with the private key and then verifies it with the public key whereas my answer checks to see if the modulus and public exponent are the same)</p>\n"},{"tags":[],"owner":{"account_id":26815284,"reputation":1,"user_id":20405322,"display_name":"cyberhorse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984915,"creation_date":1667462476,"answer_id":74299733,"question_id":49426844,"body_markdown":"`boolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\r\n    privateKey.getPublicExponent().equals(publicKey.getPublicExponent()); `\r\n\r\n\r\n`java.security.interfaces.RSAPrivateKey` doesn&#39;t have getPublicExponent() method.\r\n\r\n`org.bouncycastle.asn1.pkcs.RSAPrivateKey` has getPublicExponent() method.\r\n\r\nSo,if you don&#39;t want to use `bouncycastle`, you have to use the `sign&amp;verify` answer.","title":"How to validate a public and private key pair in Java","body":"<p><code>boolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp; privateKey.getPublicExponent().equals(publicKey.getPublicExponent()); </code></p>\n<p><code>java.security.interfaces.RSAPrivateKey</code> doesn't have getPublicExponent() method.</p>\n<p><code>org.bouncycastle.asn1.pkcs.RSAPrivateKey</code> has getPublicExponent() method.</p>\n<p>So,if you don't want to use <code>bouncycastle</code>, you have to use the <code>sign&amp;verify</code> answer.</p>\n"}],"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14190,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49427242,"answer_count":3,"score":9,"last_activity_date":1667984915,"creation_date":1521716136,"question_id":49426844,"body_markdown":"Is there a way to validate in java if the given private key, say certain *.key file matches with the certain public key, to a certain .pub file using RSA algorithm?\r\n","title":"How to validate a public and private key pair in Java","body":"<p>Is there a way to validate in java if the given private key, say certain *.key file matches with the certain public key, to a certain .pub file using RSA algorithm?</p>\n"},{"tags":["java","serialization","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984665,"creation_date":1667918785,"answer_id":74362641,"question_id":74354339,"body_markdown":"I believe this can be resolved with what https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/ calls to use a `@DataTypeHint` annotation\r\n\r\n&gt; Data type hints can parameterize or replace the default extraction logic of individual function parameters and return types, structured classes, or fields of structured classes. An implementer can choose to what extent the default extraction logic should be modified by declaring a` @DataTypeHint` annotation.\r\n&gt;\r\n&gt; The `@DataTypeHint` annotation provides a set of optional hint parameters. Some of those parameters are shown in the following example. More information can be found in the documentation of the annotation class.","title":"Is there a way to &quot;legally&quot; eliminate TypeExtractor warnings in flink?","body":"<p>I believe this can be resolved with what <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/</a> calls to use a <code>@DataTypeHint</code> annotation</p>\n<blockquote>\n<p>Data type hints can parameterize or replace the default extraction logic of individual function parameters and return types, structured classes, or fields of structured classes. An implementer can choose to what extent the default extraction logic should be modified by declaring a<code> @DataTypeHint</code> annotation.</p>\n<p>The <code>@DataTypeHint</code> annotation provides a set of optional hint parameters. Some of those parameters are shown in the following example. More information can be found in the documentation of the annotation class.</p>\n</blockquote>\n"}],"owner":{"account_id":2695321,"reputation":629,"user_id":2327550,"accept_rate":82,"display_name":"Yar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667984665,"creation_date":1667865742,"question_id":74354339,"body_markdown":"I changed my durations in profiling data I drag around all the flink data pipeline (*we are using flink 1.13*) from `Long` representation to `java.time.Duration`. Now my test output is littered with A LOT of \r\n\r\n```\r\n2022-11-07T23:34:46,247 INFO  TypeExtractor - class java.time.Duration does not contain a setter for field seconds\r\n2022-11-07T23:34:46,247 INFO  TypeExtractor - Class class java.time.Duration cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on &quot;Data Types &amp; Serialization&quot; for details of the effect on performance.\r\n```\r\nand a few similar warnings about `com.google.protobuf.ByteString`. \r\nGoogle turned up few results on this, one of which suggested registering the non-POJO types as Kryo, so I tried `env.getConfig.registerKryoType(classOf[Duration])` but it didn&#39;t help. \r\n\r\nI understand these `TypeExtractor` messages are trying to warn me about a potential performance hit, but I am not worried unless I understand how big it is, what I&#39;m worried about is they are so plentiful it is hard to scroll up or down to meaningful logs, so I am tempted to just disable them in logger config.\r\n\r\nIs there a way to *solve* them? ","title":"Is there a way to &quot;legally&quot; eliminate TypeExtractor warnings in flink?","body":"<p>I changed my durations in profiling data I drag around all the flink data pipeline (<em>we are using flink 1.13</em>) from <code>Long</code> representation to <code>java.time.Duration</code>. Now my test output is littered with A LOT of</p>\n<pre><code>2022-11-07T23:34:46,247 INFO  TypeExtractor - class java.time.Duration does not contain a setter for field seconds\n2022-11-07T23:34:46,247 INFO  TypeExtractor - Class class java.time.Duration cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on &quot;Data Types &amp; Serialization&quot; for details of the effect on performance.\n</code></pre>\n<p>and a few similar warnings about <code>com.google.protobuf.ByteString</code>.\nGoogle turned up few results on this, one of which suggested registering the non-POJO types as Kryo, so I tried <code>env.getConfig.registerKryoType(classOf[Duration])</code> but it didn't help.</p>\n<p>I understand these <code>TypeExtractor</code> messages are trying to warn me about a potential performance hit, but I am not worried unless I understand how big it is, what I'm worried about is they are so plentiful it is hard to scroll up or down to meaningful logs, so I am tempted to just disable them in logger config.</p>\n<p>Is there a way to <em>solve</em> them?</p>\n"},{"tags":["java","dart","byte","24-bit"],"comments":[{"owner":{"account_id":60124,"reputation":83589,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":0,"creation_date":1668009630,"post_id":74372147,"comment_id":131305081,"body_markdown":"The [`int.toSigned`](https://api.dart.dev/stable/dart-core/int/toSigned.html) method might be useful to you.","body":"The <a href=\"https://api.dart.dev/stable/dart-core/int/toSigned.html\" rel=\"nofollow noreferrer\"><code>int.toSigned</code></a> method might be useful to you."}],"answers":[{"tags":[],"owner":{"account_id":16554897,"reputation":307,"user_id":11962301,"display_name":"LacticWhale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667984396,"creation_date":1667984396,"answer_id":74372234,"question_id":74372147,"body_markdown":"There is ```Int8List``` type in ```dart:typed_data```.\r\n\r\nAnd by accessing ```Int8List::buffer``` you can read any number you want. \r\n","title":"Read a signed integer of 24 bit on Dart","body":"<p>There is <code>Int8List</code> type in <code>dart:typed_data</code>.</p>\n<p>And by accessing <code>Int8List::buffer</code> you can read any number you want.</p>\n"}],"owner":{"account_id":19294873,"reputation":119,"user_id":14104023,"display_name":"SciFi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667984396,"creation_date":1667983965,"question_id":74372147,"body_markdown":"I need help to read data from an external device. In the specifications is written that every single fetched value is a 24bit signed integer, but I can&#39;t correctly read data from Dart (while I can on Java).\r\n\r\nStarting from Java (just because it works), I fetch the data as a byte array, then reading a byte give me the correct value:\r\n\r\n```java\r\n byte[] data  = call.argument(&quot;mydata&quot;);\r\n Log.d(&quot;CONVERT_DATA_datai&quot;, String.valueOf(data[4]));\r\n```\r\n\r\nIn this case, the output is `-1` and it&#39;s correct.\r\n\r\nIn Dart i&#39;ve seen that there isn&#39;t a byte array type but I should use a `List&lt;int&gt;` instead, so my code is:\r\n\r\n```dart\r\n List&lt;int&gt; data = value as List&lt;int&gt;;\r\n print(data[4].toString());\r\n```\r\n\r\nIn this case I get the value `255` which is incorrect, I think because I&#39;ve to convert it to signed 24bit integer.\r\n\r\nOther samples are:\r\n\r\n`-6` in java, `250` in dart (incorrect)\r\n\r\n`3` in java, `3` in dart (correct)\r\n\r\nHow can i solve this problem?\r\n\r\nThanks in advance.\r\n","title":"Read a signed integer of 24 bit on Dart","body":"<p>I need help to read data from an external device. In the specifications is written that every single fetched value is a 24bit signed integer, but I can't correctly read data from Dart (while I can on Java).</p>\n<p>Starting from Java (just because it works), I fetch the data as a byte array, then reading a byte give me the correct value:</p>\n<pre class=\"lang-java prettyprint-override\"><code> byte[] data  = call.argument(&quot;mydata&quot;);\n Log.d(&quot;CONVERT_DATA_datai&quot;, String.valueOf(data[4]));\n</code></pre>\n<p>In this case, the output is <code>-1</code> and it's correct.</p>\n<p>In Dart i've seen that there isn't a byte array type but I should use a <code>List&lt;int&gt;</code> instead, so my code is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code> List&lt;int&gt; data = value as List&lt;int&gt;;\n print(data[4].toString());\n</code></pre>\n<p>In this case I get the value <code>255</code> which is incorrect, I think because I've to convert it to signed 24bit integer.</p>\n<p>Other samples are:</p>\n<p><code>-6</code> in java, <code>250</code> in dart (incorrect)</p>\n<p><code>3</code> in java, <code>3</code> in dart (correct)</p>\n<p>How can i solve this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","pdf","pdfbox","pdfcompare"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667900871,"post_id":74356729,"comment_id":131272402,"body_markdown":"There&#39;s some code for this in TestPDFToImage.java in the source code download. This renders two PDFs and compares the rendering output and produces visual diff files. But this isn&#39;t very elegant to look at.","body":"There&#39;s some code for this in TestPDFToImage.java in the source code download. This renders two PDFs and compares the rendering output and produces visual diff files. But this isn&#39;t very elegant to look at."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1667903734,"post_id":74356729,"comment_id":131273490,"body_markdown":"Thanks for that - are you aware of any link to its repo or anything to which I can refer to?","body":"Thanks for that - are you aware of any link to its repo or anything to which I can refer to?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667907098,"post_id":74356729,"comment_id":131274643,"body_markdown":"It&#39;s here: https://svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/java/org/apache/pdfbox/rendering/TestPDFToImage.java?view=markup The source code in full is here (you don&#39;t really need the repo but you can get it at http://svn.apache.org/repos/asf/pdfbox/branches/2.0/ ) https://pdfbox.apache.org/download.html","body":"It&#39;s here: <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/java/org/apache/pdfbox/rendering/TestPDFToImage.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/ja&zwnj;&#8203;va/&hellip;</a> The source code in full is here (you don&#39;t really need the repo but you can get it at <a href=\"http://svn.apache.org/repos/asf/pdfbox/branches/2.0/\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/pdfbox/branches/2.0</a> ) <a href=\"https://pdfbox.apache.org/download.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/download.html</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667907317,"post_id":74356729,"comment_id":131274724,"body_markdown":"Note that it isn&#39;t part of the build tests, you have to explicitly start it. This is because renderings slightly differ in different OS / different jdk versions. So it&#39;s only used by individual developers on their own machine. This is &quot;developer code&quot; i.e. not ready to use as an application, but you can modify that code to make something for yourself (if you think the output is useful).","body":"Note that it isn&#39;t part of the build tests, you have to explicitly start it. This is because renderings slightly differ in different OS / different jdk versions. So it&#39;s only used by individual developers on their own machine. This is &quot;developer code&quot; i.e. not ready to use as an application, but you can modify that code to make something for yourself (if you think the output is useful)."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1667916694,"post_id":74356729,"comment_id":131278407,"body_markdown":"Sure, thanks! I&#39;ll give it a try and let you know.","body":"Sure, thanks! I&#39;ll give it a try and let you know."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984250,"creation_date":1667984250,"answer_id":74372204,"question_id":74356729,"body_markdown":"We are using [pdfcompare][1] for this. It is based on pdfbox but can do exactly this...\r\n\r\n\r\n  [1]: https://github.com/red6/pdfcompare","title":"Compare two PDFs side by side and highlighting the differences in them, separately in Java","body":"<p>We are using <a href=\"https://github.com/red6/pdfcompare\" rel=\"nofollow noreferrer\">pdfcompare</a> for this. It is based on pdfbox but can do exactly this...</p>\n"}],"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667984250,"creation_date":1667890634,"question_id":74356729,"body_markdown":"I am currently trying to compare two PDFs with minor differences in Java, and storing the result in an output PDF. Generally whichever solution available out there merges the two PDFs into one, and highlights the differences then and there, which is not the business requirement. \r\nFor this purpose, I am looking for some open source solution or any form of suggestion to this, where the differences of the two PDFs are highlighted, and stored in an output PDF with the two PDFs retained and the differences are highlighted in them separately. \r\n\r\nI have tried compare functionality of PDFBox, but the issue I found there with respect to my requirement is that, it is merging the two PDFs into one, and the differences are highlighted in that single PDF, which appears kind of messy. \r\n\r\nAspose&#39;s solution seemed impressive although it again returns in a single PDF file but is more structured - but my organisation doesn&#39;t allow access to their API due to security reasons.\r\n","title":"Compare two PDFs side by side and highlighting the differences in them, separately in Java","body":"<p>I am currently trying to compare two PDFs with minor differences in Java, and storing the result in an output PDF. Generally whichever solution available out there merges the two PDFs into one, and highlights the differences then and there, which is not the business requirement.\nFor this purpose, I am looking for some open source solution or any form of suggestion to this, where the differences of the two PDFs are highlighted, and stored in an output PDF with the two PDFs retained and the differences are highlighted in them separately.</p>\n<p>I have tried compare functionality of PDFBox, but the issue I found there with respect to my requirement is that, it is merging the two PDFs into one, and the differences are highlighted in that single PDF, which appears kind of messy.</p>\n<p>Aspose's solution seemed impressive although it again returns in a single PDF file but is more structured - but my organisation doesn't allow access to their API due to security reasons.</p>\n"},{"tags":["java","localdate","localdatetime"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667979736,"post_id":74371346,"comment_id":131294261,"body_markdown":"When the time is converted to json it&#39;s probably not `toString()` that&#39;s called albeit I&#39;d have to guess here. More likely an explicit formatter will be used that has less than nano-second precision.","body":"When the time is converted to json it&#39;s probably not <code>toString()</code> that&#39;s called albeit I&#39;d have to guess here. More likely an explicit formatter will be used that has less than nano-second precision."},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1667979965,"post_id":74371346,"comment_id":131294309,"body_markdown":"How can I modify test case without changing JSON and JPA core implementation of the application","body":"How can I modify test case without changing JSON and JPA core implementation of the application"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667980206,"post_id":74371346,"comment_id":131294387,"body_markdown":"Well, I would try one of the following: 1) figure out the exact format used when creating the json and use that format on `anyLinkTime.format(DateTimeFormatter.ofPattern(theFormat))` 2) parse `_embedded.positionsSnapshotDToes.linkTime` to a proper `LocalDateTime` instance and compare with `anyLinkTime` directly.","body":"Well, I would try one of the following: 1) figure out the exact format used when creating the json and use that format on <code>anyLinkTime.format(DateTimeFormatter.ofPattern(theFormat))</code> 2) parse <code>_embedded.positionsSnapshotDToes.linkTime</code> to a proper <code>LocalDateTime</code> instance and compare with <code>anyLinkTime</code> directly."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667980267,"post_id":74371346,"comment_id":131294399,"body_markdown":"You should avoid comparing the string representation of LocalDateTime, because actually both strings address the same time. Convert time string from JSON into another LocalDateTime instance and use .equals oder .compareTo","body":"You should avoid comparing the string representation of LocalDateTime, because actually both strings address the same time. Convert time string from JSON into another LocalDateTime instance and use .equals oder .compareTo"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1667980791,"post_id":74371346,"comment_id":131294543,"body_markdown":"but how is it possible without using String, body() contains only String value","body":"but how is it possible without using String, body() contains only String value"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667982070,"post_id":74371346,"comment_id":131294909,"body_markdown":"Are you trying to compare a value in hand to a value retrieved from database?","body":"Are you trying to compare a value in hand to a value retrieved from database?"}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667980514,"creation_date":1667980514,"answer_id":74371521,"question_id":74371346,"body_markdown":"Use:\r\n\r\n```java\r\n\r\n// ...\r\n\r\n.statusCode(200)\r\n.log().ifValidationFails()\r\n.and().body(LocalDateTime.parse(_embedded.positionsSnapshotDToes.linkTime), equalTo(Arrays.asList(anyLinkTime)))\r\n\r\n//...\r\n\r\n```\r\n","title":"LocalDateTime Integration Testing","body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// ...\n\n.statusCode(200)\n.log().ifValidationFails()\n.and().body(LocalDateTime.parse(_embedded.positionsSnapshotDToes.linkTime), equalTo(Arrays.asList(anyLinkTime)))\n\n//...\n\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667983926,"creation_date":1667979433,"question_id":74371346,"body_markdown":"I am having assertion Error\r\n\r\nWhy the lenght of `second` is different in `toString()` and `DB Stored Value`\r\n\r\n    java.lang.AssertionError: 1 expectation failed.\r\n    JSON path _embedded.positionsSnapshotDToes.linkTime doesn&#39;t match.\r\n    Expected: &lt;[2022-11-09T10:01:03.152146400]&gt;\r\n      Actual: [2022-11-09T10:01:03.152146]\r\n\r\nUsing JPA to store entities basically I have following Pojo \r\n\r\n   \r\n\r\n    @Column(name = &quot;LINK_TIME&quot;)\r\n        private LocalDateTime linkTime;\r\n\r\n**Here is the test code**\r\n\r\n    @Test\r\n    shouldPassLinkTime()\r\n    {\r\n    \r\n            final LocalDateTime anyLinkTime = LocalDateTime.now();\r\n    \r\n            posSnapshotRepo.save(\r\n                    PositionsSnapshot.builder()\r\n                            .linkTime(anyLinkTime)\r\n                            .build()\r\n            );\r\n    \r\n           SnapshotFilterDTO dto = SnapshotFilterDTO.builder()\r\n                    .build();\r\n    \r\n            given()\r\n                    .spec(correctCredentialsAndPortSpec)\r\n                    .log().ifValidationFails()\r\n                    .contentType(&quot;application/json&quot;)\r\n                    .body(MAPPER_HELPER.writeValueAsString(dto))\r\n                    .when()\r\n                    .post(&quot;service/unmatched&quot;)\r\n                    .then()\r\n                    .statusCode(200)\r\n                    .log().ifValidationFails()\r\n                    .and().body(&quot;_embedded.positionsSnapshotDToes.linkTime&quot;, equalTo(Arrays.asList(anyLinkTime.toString())))\r\n    \r\n    \r\n                    .and().body(&quot;page.totalPages&quot;, equalTo(1))\r\n                    .and().body(&quot;page.totalElements&quot;, equalTo(1))\r\n                    .and().body(&quot;page.number&quot;, equalTo(0));\r\n        }","title":"LocalDateTime Integration Testing","body":"<p>I am having assertion Error</p>\n<p>Why the lenght of <code>second</code> is different in <code>toString()</code> and <code>DB Stored Value</code></p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nJSON path _embedded.positionsSnapshotDToes.linkTime doesn't match.\nExpected: &lt;[2022-11-09T10:01:03.152146400]&gt;\n  Actual: [2022-11-09T10:01:03.152146]\n</code></pre>\n<p>Using JPA to store entities basically I have following Pojo</p>\n<pre><code>@Column(name = &quot;LINK_TIME&quot;)\n    private LocalDateTime linkTime;\n</code></pre>\n<p><strong>Here is the test code</strong></p>\n<pre><code>@Test\nshouldPassLinkTime()\n{\n\n        final LocalDateTime anyLinkTime = LocalDateTime.now();\n\n        posSnapshotRepo.save(\n                PositionsSnapshot.builder()\n                        .linkTime(anyLinkTime)\n                        .build()\n        );\n\n       SnapshotFilterDTO dto = SnapshotFilterDTO.builder()\n                .build();\n\n        given()\n                .spec(correctCredentialsAndPortSpec)\n                .log().ifValidationFails()\n                .contentType(&quot;application/json&quot;)\n                .body(MAPPER_HELPER.writeValueAsString(dto))\n                .when()\n                .post(&quot;service/unmatched&quot;)\n                .then()\n                .statusCode(200)\n                .log().ifValidationFails()\n                .and().body(&quot;_embedded.positionsSnapshotDToes.linkTime&quot;, equalTo(Arrays.asList(anyLinkTime.toString())))\n\n\n                .and().body(&quot;page.totalPages&quot;, equalTo(1))\n                .and().body(&quot;page.totalElements&quot;, equalTo(1))\n                .and().body(&quot;page.number&quot;, equalTo(0));\n    }\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667983596,"creation_date":1667767682,"answer_id":74339640,"question_id":74334691,"body_markdown":"[`ChartFactory::createCandlestickChart`][1] uses a [`DateAxis`][2] [internally][3], which sees each data item&#39;s `Date` as the number of milliseconds since the epoch. As a result, you can\r\n\r\n- Specify the desired format in `setDateFormatOverride()` as shown [here][4], or\r\n\r\n- Use a `NumberAxis` in your own factory, perhaps modeled on the one [cited][3], or simply substitute a `NumberAxis`:\r\n\r\n        XYPlot xyplot = chart.getXYPlot();\r\n        NumberAxis domain = new NumberAxis();\r\n        domain.setAutoRangeIncludesZero(false);\r\n        domain.setNumberFormatOverride(NumberFormat.getInstance());\r\n        xyplot.setDomainAxis(domain);\r\n\r\n[![Axis image][5]][5]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html#createCandlestickChart(java.lang.String,java.lang.String,java.lang.String,org.jfree.data.xy.OHLCDataset,boolean)\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\r\n  [4]: https://stackoverflow.com/search?q=user%3A230513%20%5Bjfreechart%5D%20setDateFormatOverride\r\n  [5]: https://i.stack.imgur.com/9KkG4.png","title":"JFreeChart: Candlestick chart with different x-axis?","body":"<p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html#createCandlestickChart(java.lang.String,java.lang.String,java.lang.String,org.jfree.data.xy.OHLCDataset,boolean)\" rel=\"nofollow noreferrer\"><code>ChartFactory::createCandlestickChart</code></a> uses a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\" rel=\"nofollow noreferrer\"><code>DateAxis</code></a> <a href=\"https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\" rel=\"nofollow noreferrer\">internally</a>, which sees each data item's <code>Date</code> as the number of milliseconds since the epoch. As a result, you can</p>\n<ul>\n<li><p>Specify the desired format in <code>setDateFormatOverride()</code> as shown <a href=\"https://stackoverflow.com/search?q=user%3A230513%20%5Bjfreechart%5D%20setDateFormatOverride\">here</a>, or</p>\n</li>\n<li><p>Use a <code>NumberAxis</code> in your own factory, perhaps modeled on the one <a href=\"https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\" rel=\"nofollow noreferrer\">cited</a>, or simply substitute a <code>NumberAxis</code>:</p>\n<pre><code>  XYPlot xyplot = chart.getXYPlot();\n  NumberAxis domain = new NumberAxis();\n  domain.setAutoRangeIncludesZero(false);\n  domain.setNumberFormatOverride(NumberFormat.getInstance());\n  xyplot.setDomainAxis(domain);\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/9KkG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9KkG4.png\" alt=\"Axis image\" /></a></p>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74339640,"answer_count":1,"score":1,"last_activity_date":1667983596,"creation_date":1667727553,"question_id":74334691,"body_markdown":"Is it possible to draw a candlestick chart with the x-axis being of the type number/integer, instead of time? Currently i&#39;m using `ChartFactory#createCandlestickChart` which takes an OHLCDataset, which uses a timestamps for the x-axis.","title":"JFreeChart: Candlestick chart with different x-axis?","body":"<p>Is it possible to draw a candlestick chart with the x-axis being of the type number/integer, instead of time? Currently i'm using <code>ChartFactory#createCandlestickChart</code> which takes an OHLCDataset, which uses a timestamps for the x-axis.</p>\n"},{"tags":["java","selenium","selenium-webdriver","file-upload"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667979818,"creation_date":1667979818,"answer_id":74371393,"question_id":74370533,"body_markdown":"No, you don&#39;t click on the upload file prompt, you are just sending it the file&#39;s path. Later, click on the send / upload file button.\r\n        \r\n \r\n \r\n \r\n \r\n\r\n    upload_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    upload_button = driver.findElement(By.Xpath, &#39;//*[text()=&quot;upload&quot;]&#39;);\r\n    upload_button.click();\r\n\r\n","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>No, you don't click on the upload file prompt, you are just sending it the file's path. Later, click on the send / upload file button.</p>\n<pre><code>upload_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\nupload_button = driver.findElement(By.Xpath, '//*[text()=&quot;upload&quot;]');\nupload_button.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667983489,"creation_date":1667983489,"answer_id":74372047,"question_id":74370533,"body_markdown":"Uploading file by Selenium is normally done as following:   \r\nYou can send the uploading file full path to the special element on the web page. This is not the &quot;Upload&quot; visible button but a special element with `input` tag name and `type` attribute with `file` value. As a user you can&#39;t see it on the page but can find it with use of dev tools. So, this element can be located by the following XPath: `//input[@type=&#39;file&#39;]`.  \r\nSo, to upload your file try this:\r\n```java\r\ndriver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;)).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n```","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>Uploading file by Selenium is normally done as following:<br />\nYou can send the uploading file full path to the special element on the web page. This is not the &quot;Upload&quot; visible button but a special element with <code>input</code> tag name and <code>type</code> attribute with <code>file</code> value. As a user you can't see it on the page but can find it with use of dev tools. So, this element can be located by the following XPath: <code>//input[@type='file']</code>.<br />\nSo, to upload your file try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//input[@type='file']&quot;)).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n</code></pre>\n"}],"owner":{"account_id":26874747,"reputation":1,"user_id":20456170,"display_name":"Suraj Jibhakate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667983517,"creation_date":1667973875,"question_id":74370533,"body_markdown":"trying to upload a an image file using Java selenium    \r\n\r\nHi all, I am trying to upload a an image file using Java selenium\r\n    \r\nbelow is the code:   \r\nfirst approach:\r\n    \r\n    WebElement upload_file = driver.findElement(By.xpath(&quot;xpath of upload button&quot;));\r\n    upload_file .click();\r\n    // just passed a delay, it does not crate a problem I can remove it\r\n    java.lang.Thread.sleep(2000); \r\n    //full file path present in my local machine\r\n    \t\tuplaod_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    \t\tSystem.out.println(&quot;File is Uploaded Successfully&quot;);\r\n    \r\nIssue observed :org.openqa.selenium.ElementNotInteractableException: element not interactable\r\n    \r\n\r\n\r\nSecond approach:\r\n                     \r\n    \t\tBy upload_file_button = By.xpath(&quot;xpath of upload button&quot;);\r\n    \t\texplicit_wait.until(ExpectedConditions.elementToBeClickable(upload_file_button));\r\n    \t\tdriver.findElement(upload_file_button).click();\r\n    \t\tjava.lang.Thread.sleep(2000);\r\n    \t\t((WebElement) upload_file_button).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    \t\tSystem.out.println(&quot;File is Uploaded Successfully&quot;);\r\n    \r\nIssue observed : org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: xpath of upload button (tried for 20 second(s) with 500 milliseconds interval)\r\n    \r\nneed help for same, please do correct me If I am wrong.","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>trying to upload a an image file using Java selenium</p>\n<p>Hi all, I am trying to upload a an image file using Java selenium</p>\n<p>below is the code:<br />\nfirst approach:</p>\n<pre><code>WebElement upload_file = driver.findElement(By.xpath(&quot;xpath of upload button&quot;));\nupload_file .click();\n// just passed a delay, it does not crate a problem I can remove it\njava.lang.Thread.sleep(2000); \n//full file path present in my local machine\n        uplaod_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n        System.out.println(&quot;File is Uploaded Successfully&quot;);\n</code></pre>\n<p>Issue observed :org.openqa.selenium.ElementNotInteractableException: element not interactable</p>\n<p>Second approach:</p>\n<pre><code>        By upload_file_button = By.xpath(&quot;xpath of upload button&quot;);\n        explicit_wait.until(ExpectedConditions.elementToBeClickable(upload_file_button));\n        driver.findElement(upload_file_button).click();\n        java.lang.Thread.sleep(2000);\n        ((WebElement) upload_file_button).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n        System.out.println(&quot;File is Uploaded Successfully&quot;);\n</code></pre>\n<p>Issue observed : org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: xpath of upload button (tried for 20 second(s) with 500 milliseconds interval)</p>\n<p>need help for same, please do correct me If I am wrong.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667971714,"creation_date":1667971714,"answer_id":74370294,"question_id":74370269,"body_markdown":"Is this what you want?\r\n\r\n    if(p1S &gt; p2S &amp;&amp; p1S &gt; p3S)\r\n    \r\n    }\r\n\r\nThe reason the previous code didn&#39;t work is that the first part\r\n\r\n    if(p1S &gt; p2S &amp;&amp; p3S)\r\n    \r\n    }\r\n\r\nevaluates to:\r\n\r\n    if(boolean &amp;&amp; p3S)\r\n    \r\n    }\r\n\r\nAnd you can&#39;t do an &amp;&amp; between a boolean and an int.","title":"If statements with 3+ variable comparisons using &amp;&amp; or alternate options","body":"<p>Is this what you want?</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p1S &gt; p3S)\n\n}\n</code></pre>\n<p>The reason the previous code didn't work is that the first part</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>evaluates to:</p>\n<pre><code>if(boolean &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>And you can't do an &amp;&amp; between a boolean and an int.</p>\n"}],"owner":{"account_id":26874690,"reputation":1,"user_id":20456111,"display_name":"Wranderous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74370294,"answer_count":1,"score":-1,"last_activity_date":1667983439,"creation_date":1667971464,"question_id":74370269,"body_markdown":"I&#39;m attempting the below:\r\n\r\n```\r\nif(p1S &gt; p2S &amp;&amp; p3S)\r\n\r\n}\r\n```\r\n\r\nBut the IDE doesn&#39;t like the &amp;&amp; here. \r\n\r\nSo, how would I compare these 3 ints to find the one with the highest value, thus moving forward. \r\n\r\nAka: If Int 1 is greater than int 2, and int 3, then do this. . .\r\n\r\nI suspect I just don&#39;t know the syntax well enough just yet (I&#39;ve only just started college for CS).","title":"If statements with 3+ variable comparisons using &amp;&amp; or alternate options","body":"<p>I'm attempting the below:</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>But the IDE doesn't like the &amp;&amp; here.</p>\n<p>So, how would I compare these 3 ints to find the one with the highest value, thus moving forward.</p>\n<p>Aka: If Int 1 is greater than int 2, and int 3, then do this. . .</p>\n<p>I suspect I just don't know the syntax well enough just yet (I've only just started college for CS).</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":153994,"reputation":1136,"user_id":3062879,"display_name":"Steve Sowerby"},"score":1,"creation_date":1388825410,"post_id":20918825,"comment_id":31406220,"body_markdown":"Have you actually just tried this?  It should work in Spring 2.5 and beyond.  The key will be the bean name.","body":"Have you actually just tried this?  It should work in Spring 2.5 and beyond.  The key will be the bean name."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388842459,"post_id":20918825,"comment_id":31411281,"body_markdown":"No, you can&#39;t inject them into a Map where the key is the return value of a method call on a bean.","body":"No, you can&#39;t inject them into a Map where the key is the return value of a method call on a bean."},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1458571865,"post_id":20918825,"comment_id":59907026,"body_markdown":"Possible duplicate of [Spring can&#39;t autowire Map bean](http://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean\">Spring can&#39;t autowire Map bean</a>"}],"answers":[{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1388828932,"creation_date":1388825533,"answer_id":20918905,"question_id":20918825,"body_markdown":"Try with something like [@Resource](http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html) - I have not tested this code.\r\n\r\n    @Resource(name=&quot;converters&quot;)\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nor\r\n\r\n    @Value(&quot;#{converters}&quot;)\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nFrom [Spring Docs](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-autowired-annotation-qualifiers)\r\n\r\n&gt;&gt; (..) beans that are themselves defined as a collection or map type cannot be injected through @Autowired, because type matching is not properly applicable to them. Use [@Resource](http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html) for such beans, referring to the specific collection or map bean by unique name.\r\n\r\nThis should work, only if you prepare `converters` bean like this:\r\n\r\n    &lt;util:map id=&quot;converters&quot; scope=&quot;prototype&quot; map-class=&quot;java.util.HashMap&quot; \r\n              key-type=&quot;java.lang.String&quot; value-type=&quot;...ISendableConverter&quot;&gt;\r\n        &lt;entry key=&quot;VOICE&quot; value=&quot;sendableVoiceMsgConverter&quot; /&gt;\r\n    &lt;/util:map&gt;\r\n\r\nThis is also similar question: \r\n\r\n * https://stackoverflow.com/questions/1363310/auto-wiring-a-list-using-util-schema-gives-nosuchbeandefinitionexception\r\n * https://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean","title":"Can spring @Autowired Map?","body":"<p>Try with something like <a href=\"http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html\" rel=\"noreferrer\">@Resource</a> - I have not tested this code.</p>\n\n<pre><code>@Resource(name=\"converters\")\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Value(\"#{converters}\")\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>From <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-autowired-annotation-qualifiers\" rel=\"noreferrer\">Spring Docs</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>(..) beans that are themselves defined as a collection or map type cannot be injected through @Autowired, because type matching is not properly applicable to them. Use <a href=\"http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html\" rel=\"noreferrer\">@Resource</a> for such beans, referring to the specific collection or map bean by unique name.</p>\n  </blockquote>\n</blockquote>\n\n<p>This should work, only if you prepare <code>converters</code> bean like this:</p>\n\n<pre><code>&lt;util:map id=\"converters\" scope=\"prototype\" map-class=\"java.util.HashMap\" \n          key-type=\"java.lang.String\" value-type=\"...ISendableConverter\"&gt;\n    &lt;entry key=\"VOICE\" value=\"sendableVoiceMsgConverter\" /&gt;\n&lt;/util:map&gt;\n</code></pre>\n\n<p>This is also similar question: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1363310/auto-wiring-a-list-using-util-schema-gives-nosuchbeandefinitionexception\">Auto-wiring a List using util schema gives NoSuchBeanDefinitionException</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean\">Spring can&#39;t autowire Map bean</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":339128,"reputation":11053,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1606232551,"creation_date":1437646505,"answer_id":31584390,"question_id":20918825,"body_markdown":"You can create an automatically initialized map with keys of your choice using Spring Java configuration:\r\n\r\nIn class annotated with `@Configuration` annotation:\r\n\r\n    @Autowired\r\n    private List&lt;ISendableConverter&gt; sendableConverters;\r\n\r\n\t@Bean\r\n\tpublic Map&lt;String, ISendableConverter&gt; sendableConvertersMap() {\r\n\t\tMap&lt;String, ISendableConverter&gt; sendableConvertersMap = new HashMap&lt;&gt;();\r\n\t\tfor (ISendableConverter converter : sendableConverters) {\r\n\t\t\tsendableConvertersMap.put(converter.getType(), converter);\r\n\t\t}\r\n\t\treturn sendableConvertersMap;\r\n\t}\r\n\r\nThan you inject this map with:\r\n\r\n\t@Resource()\r\n\tprivate Map&lt;String, ISendableConverter&gt; sendableConverters;\r\n\r\nYou can optionally add some selector string to your `@Resource` annotation if you have defined more maps of the same type.\r\n\r\nThis way all you have to do is implement `ISendableConverter` by your spring bean and it will automatically appear in Map defined above. \r\nYou don&#39;t need to create map items by hand for each implementation. \r\n","title":"Can spring @Autowired Map?","body":"<p>You can create an automatically initialized map with keys of your choice using Spring Java configuration:</p>\n<p>In class annotated with <code>@Configuration</code> annotation:</p>\n<pre><code>@Autowired\nprivate List&lt;ISendableConverter&gt; sendableConverters;\n\n@Bean\npublic Map&lt;String, ISendableConverter&gt; sendableConvertersMap() {\n    Map&lt;String, ISendableConverter&gt; sendableConvertersMap = new HashMap&lt;&gt;();\n    for (ISendableConverter converter : sendableConverters) {\n        sendableConvertersMap.put(converter.getType(), converter);\n    }\n    return sendableConvertersMap;\n}\n</code></pre>\n<p>Than you inject this map with:</p>\n<pre><code>@Resource()\nprivate Map&lt;String, ISendableConverter&gt; sendableConverters;\n</code></pre>\n<p>You can optionally add some selector string to your <code>@Resource</code> annotation if you have defined more maps of the same type.</p>\n<p>This way all you have to do is implement <code>ISendableConverter</code> by your spring bean and it will automatically appear in Map defined above.\nYou don't need to create map items by hand for each implementation.</p>\n"},{"tags":[],"owner":{"account_id":7687078,"reputation":441,"user_id":5824474,"display_name":"TimYi"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1453435852,"creation_date":1453435852,"answer_id":34938869,"question_id":20918825,"body_markdown":"you can do something like this:    \r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n\tprivate List&lt;OneTypeImageLoader&gt; imageLoaders;\r\n\tprivate Map&lt;String, OneTypeImageLoader&gt; imageLoaderMap=new HashMap&lt;&gt;();\r\n\t\r\n\t@Autowired\r\n\tpublic void setImageLoaders(List&lt;OneTypeImageLoader&gt; imageLoaders) {\r\n\t\tthis.imageLoaders = imageLoaders;\r\n\t\timageLoaders.forEach(l-&gt; {\r\n\t\t\timageLoaderMap.put(l.getType(), l);\r\n\t\t});\r\n\t}","title":"Can spring @Autowired Map?","body":"<p>you can do something like this:    </p>\n\n<pre><code>@SuppressWarnings(\"unused\")\nprivate List&lt;OneTypeImageLoader&gt; imageLoaders;\nprivate Map&lt;String, OneTypeImageLoader&gt; imageLoaderMap=new HashMap&lt;&gt;();\n\n@Autowired\npublic void setImageLoaders(List&lt;OneTypeImageLoader&gt; imageLoaders) {\n    this.imageLoaders = imageLoaders;\n    imageLoaders.forEach(l-&gt; {\n        imageLoaderMap.put(l.getType(), l);\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1484846433,"creation_date":1460535997,"answer_id":36592662,"question_id":20918825,"body_markdown":"Try something like this, it works for me\r\n\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n\tpublic void setUploadServices(Set&lt;ISendableConverter&gt; converters){\r\n        this.conveters = converters.stream()\r\n            .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\r\n    }\r\n\r\nThe same result can be achieved using constructor injection:\r\n\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n    public Foo(Set&lt;ISendableConverter&gt; converters) {\r\n        this.conveters = converters.stream()\r\n            .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\r\n    }","title":"Can spring @Autowired Map?","body":"<p>Try something like this, it works for me</p>\n\n<pre><code>private Map&lt;String, ISendableConverter&gt; converters;\n\n@Autowired\npublic void setUploadServices(Set&lt;ISendableConverter&gt; converters){\n    this.conveters = converters.stream()\n        .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\n}\n</code></pre>\n\n<p>The same result can be achieved using constructor injection:</p>\n\n<pre><code>private Map&lt;String, ISendableConverter&gt; converters;\n\n@Autowired\npublic Foo(Set&lt;ISendableConverter&gt; converters) {\n    this.conveters = converters.stream()\n        .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4260593,"reputation":356,"user_id":3485048,"display_name":"Rigeborod"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556620995,"creation_date":1556620995,"answer_id":55919248,"question_id":20918825,"body_markdown":"    @Component(&quot;VOICE&quot;)\r\n    public class SendableVoiceMsgConverter implements ISendableConverter {\r\n    \r\n        @Override\r\n        public ISendableMsg convert(BaseMessage baseMessage) {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    }\r\n\r\nYou may want to just add the type name directly into the component annotation, that will do the job.","title":"Can spring @Autowired Map?","body":"<pre><code>@Component(\"VOICE\")\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n\n<p>You may want to just add the type name directly into the component annotation, that will do the job.</p>\n"},{"tags":[],"owner":{"account_id":3578252,"reputation":19,"user_id":2987011,"display_name":"Borys Rudenko"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566269395,"creation_date":1558676089,"answer_id":56286394,"question_id":20918825,"body_markdown":"You can make it more generic and build something like this:\r\n\r\n        public interface BasicStrategy {\r\n            String getKey();\r\n        }\r\n       \r\n        public final class StrategyMap&lt;K extends BasicStrategy&gt; extends HashMap&lt;String, K&gt; {\r\n    \r\n        public StrategyMap(List&lt;K&gt; strategies) {\r\n            super(strategies.stream().collect(Collectors.toMap(K::getKey, Function.identity())));\r\n        }\r\n    \r\n        @Override\r\n        public K get(Object key) {\r\n            BasicStrategy basicStrategy = super.get(key);\r\n            if (basicStrategy == null) {\r\n                throw new RuntimeException(&quot;No strategy found for key: &#39;&quot; + key + &quot;&#39;&quot;);\r\n            }\r\n            return (K) basicStrategy;\r\n        }\r\n    }\r\n\r\nNow you can use this `StrategyMap` everywhere around your code like this:\r\n\r\n    private StrategyMap&lt;ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n    public Foo(List&lt;ISendableConverter&gt; converters) {\r\n        this.conveters = new StrategyMap&lt;&gt;(converters);\r\n    }\r\n\r\nThis approach generify the creation of a `StrategyMap` and also logic for the case where value is not found can be centralized.\r\n\r\nPS: Of course `ISendableConverter` has to extend `BasicStrategy` interface.\r\n","title":"Can spring @Autowired Map?","body":"<p>You can make it more generic and build something like this:</p>\n\n<pre><code>    public interface BasicStrategy {\n        String getKey();\n    }\n\n    public final class StrategyMap&lt;K extends BasicStrategy&gt; extends HashMap&lt;String, K&gt; {\n\n    public StrategyMap(List&lt;K&gt; strategies) {\n        super(strategies.stream().collect(Collectors.toMap(K::getKey, Function.identity())));\n    }\n\n    @Override\n    public K get(Object key) {\n        BasicStrategy basicStrategy = super.get(key);\n        if (basicStrategy == null) {\n            throw new RuntimeException(\"No strategy found for key: '\" + key + \"'\");\n        }\n        return (K) basicStrategy;\n    }\n}\n</code></pre>\n\n<p>Now you can use this <code>StrategyMap</code> everywhere around your code like this:</p>\n\n<pre><code>private StrategyMap&lt;ISendableConverter&gt; converters;\n\n@Autowired\npublic Foo(List&lt;ISendableConverter&gt; converters) {\n    this.conveters = new StrategyMap&lt;&gt;(converters);\n}\n</code></pre>\n\n<p>This approach generify the creation of a <code>StrategyMap</code> and also logic for the case where value is not found can be centralized.</p>\n\n<p>PS: Of course <code>ISendableConverter</code> has to extend <code>BasicStrategy</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":14972824,"reputation":31,"user_id":10809105,"display_name":"shaoqiang yan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625201877,"creation_date":1625201877,"answer_id":68219806,"question_id":20918825,"body_markdown":"First, set Bean name like the return value of `getType()` \r\n```\r\n@Component(&quot;VOICE&quot;)\r\npublic class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n    @Override\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n}\r\n```\r\nAnd you can use like this:\r\n```\r\n@Autowired\r\nprivate Map&lt;String, ISendableConverter&gt; converters;\r\n```\r\nthis map&#39;s V type is instance of Bean , and K type is Bean&#39;s name","title":"Can spring @Autowired Map?","body":"<p>First, set Bean name like the return value of <code>getType()</code></p>\n<pre><code>@Component(&quot;VOICE&quot;)\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n<p>And you can use like this:</p>\n<pre><code>@Autowired\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n<p>this map's V type is instance of Bean , and K type is Bean's name</p>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667983269,"creation_date":1667983269,"answer_id":74371993,"question_id":20918825,"body_markdown":"This can be achieved with `spring-componentmap` (https://github.com/krud-dev/spring-componentmap)\r\n\r\nBased on your example:\r\n```java\r\npublic interface ISendableConverter {\r\n\r\n    ISendableMsg convert(BaseMessage baseMessage);\r\n\r\n    @ComponentMapKey\r\n    String getType();\r\n}\r\n\r\n@Component\r\npublic class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n    @Override\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getType() {\r\n        return &quot;VOICE&quot;;\r\n    }\r\n}\r\n\r\n// Call the converter by type\r\n@Component\r\nclass SendableMsgConverter {\r\n\r\n    // @ComponentMap replaces @Autowired in this case\r\n    @ComponentMap\r\n    private Map&lt;String, ISendableConverter&gt; converterMap;\r\n\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        ISendableConverter converter = converterMap.get(baseMessage.getType());\r\n        return converter.convert(baseMessage);\r\n    }\r\n}\r\n```\r\n\r\nDisclaimer: I co-developed `spring-componentmap`","title":"Can spring @Autowired Map?","body":"<p>This can be achieved with <code>spring-componentmap</code> (<a href=\"https://github.com/krud-dev/spring-componentmap\" rel=\"nofollow noreferrer\">https://github.com/krud-dev/spring-componentmap</a>)</p>\n<p>Based on your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ISendableConverter {\n\n    ISendableMsg convert(BaseMessage baseMessage);\n\n    @ComponentMapKey\n    String getType();\n}\n\n@Component\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String getType() {\n        return &quot;VOICE&quot;;\n    }\n}\n\n// Call the converter by type\n@Component\nclass SendableMsgConverter {\n\n    // @ComponentMap replaces @Autowired in this case\n    @ComponentMap\n    private Map&lt;String, ISendableConverter&gt; converterMap;\n\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        ISendableConverter converter = converterMap.get(baseMessage.getType());\n        return converter.convert(baseMessage);\n    }\n}\n</code></pre>\n<p>Disclaimer: I co-developed <code>spring-componentmap</code></p>\n"}],"owner":{"account_id":2069263,"reputation":3591,"user_id":1844078,"accept_rate":28,"display_name":"Joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74298,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":8,"score":52,"last_activity_date":1667983269,"creation_date":1388824967,"question_id":20918825,"body_markdown":"Here&#39;s the Map\r\n\r\n    @Autowired\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nand `ISendableConverter`\r\n\r\n    public interface ISendableConverter {\r\n\r\n        ISendableMsg convert(BaseMessage baseMessage);\r\n\r\n        String getType();\r\n    }\r\n\r\nThere are some classes that implements `ISendableConverter`\r\n\r\nI want to inject them into the variable `converters` by using spring `@Autowried` annotation.\r\n\r\nThe instance of class as value, and the result of method `getType()` as key.\r\n\r\nlike this one\r\n\r\n    @Component\r\n    public class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n        @Override\r\n        public ISendableMsg convert(BaseMessage baseMessage) {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public String getType() {\r\n            return &quot;VOICE&quot;;\r\n        }\r\n    }\r\n\r\nIs this possible? and how?","title":"Can spring @Autowired Map?","body":"<p>Here's the Map</p>\n\n<pre><code>@Autowired\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>and <code>ISendableConverter</code></p>\n\n<pre><code>public interface ISendableConverter {\n\n    ISendableMsg convert(BaseMessage baseMessage);\n\n    String getType();\n}\n</code></pre>\n\n<p>There are some classes that implements <code>ISendableConverter</code></p>\n\n<p>I want to inject them into the variable <code>converters</code> by using spring <code>@Autowried</code> annotation.</p>\n\n<p>The instance of class as value, and the result of method <code>getType()</code> as key.</p>\n\n<p>like this one</p>\n\n<pre><code>@Component\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String getType() {\n        return \"VOICE\";\n    }\n}\n</code></pre>\n\n<p>Is this possible? and how?</p>\n"},{"tags":["java","amazon-web-services","spring-cloud","spring-cloud-config","spring-cloud-aws"],"comments":[{"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"score":0,"creation_date":1678186166,"post_id":74131638,"comment_id":133480663,"body_markdown":"Where are you running your application? If you are on AWS you should rather use an IAM role instead of access keys and secret.","body":"Where are you running your application? If you are on AWS you should rather use an IAM role instead of access keys and secret."},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1689821722,"post_id":74131638,"comment_id":135268700,"body_markdown":"@DennisKieselhorst I am running this in on prem. See this repo to reproduce the error https://github.com/pavankjadda/springboot-aws-s3-bug","body":"@DennisKieselhorst I am running this in on prem. See this repo to reproduce the error <a href=\"https://github.com/pavankjadda/springboot-aws-s3-bug\" rel=\"nofollow noreferrer\">github.com/pavankjadda/springboot-aws-s3-bug</a>"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667983090,"creation_date":1666211991,"question_id":74131638,"body_markdown":"All, I am trying to use secrets manager in Spring Boot and Spring Cloud AWS. Here is my `application.yml`:\r\n\r\n```yaml\r\ncloud:\r\n  aws:\r\n    stack:\r\n      auto: false\r\n    credentials:\r\n      accessKey: ${aws_access_key}\r\n      secretKey: ${aws_secret_key}\r\n      instanceProfile: false\r\n    region:\r\n      static: us-east-1\r\n\r\nspring:\r\n  profiles:\r\n    active: &#39;aws-dev&#39;\r\n  config:\r\n    import: aws-secretsmanager:/dev/onprem/mib-air/backend\r\n\r\naws:\r\n  secretsmanager:\r\n    prefix: /dev/onprem/mib-air\r\n    name: backend\r\n    region: us-east-1\r\n```\r\n\r\nWhen I start the application I get error:\r\n\r\n```\r\nCaused by: com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)),\r\nSystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey),\r\nWebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path.,\r\ncom.amazonaws.auth.profile.ProfileCredentialsProvider@55ecfe1d: profile file cannot be null,\r\ncom.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@5b16b260: Failed to connect to service endpoint: \r\n```\r\n\r\nIt seems, the Spring Boot failing to load AWS access key and secret key despite mentioning them earlier.\r\n","title":"Spring Cloud AWS unable to load AWS AccessKey and Secret Key","body":"<p>All, I am trying to use secrets manager in Spring Boot and Spring Cloud AWS. Here is my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>cloud:\n  aws:\n    stack:\n      auto: false\n    credentials:\n      accessKey: ${aws_access_key}\n      secretKey: ${aws_secret_key}\n      instanceProfile: false\n    region:\n      static: us-east-1\n\nspring:\n  profiles:\n    active: 'aws-dev'\n  config:\n    import: aws-secretsmanager:/dev/onprem/mib-air/backend\n\naws:\n  secretsmanager:\n    prefix: /dev/onprem/mib-air\n    name: backend\n    region: us-east-1\n</code></pre>\n<p>When I start the application I get error:</p>\n<pre><code>Caused by: com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)),\nSystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey),\nWebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path.,\ncom.amazonaws.auth.profile.ProfileCredentialsProvider@55ecfe1d: profile file cannot be null,\ncom.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@5b16b260: Failed to connect to service endpoint: \n</code></pre>\n<p>It seems, the Spring Boot failing to load AWS access key and secret key despite mentioning them earlier.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1667977513,"post_id":74371029,"comment_id":131293704,"body_markdown":"Does this answer your question? [Scanner is never closed](https://stackoverflow.com/questions/15613626/scanner-is-never-closed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15613626/scanner-is-never-closed\">Scanner is never closed</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667982773,"post_id":74371029,"comment_id":131295113,"body_markdown":"Generally, for a `Scanner` wrapping `System.in`, this should be considered a false positive. If you close `sc`, you will also close `System.in`, which means you can no longer use it for any user input.","body":"Generally, for a <code>Scanner</code> wrapping <code>System.in</code>, this should be considered a false positive. If you close <code>sc</code>, you will also close <code>System.in</code>, which means you can no longer use it for any user input."}],"owner":{"account_id":26875408,"reputation":1,"user_id":20456738,"display_name":"Subhadeep Dutta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982918,"answer_count":0,"score":0,"last_activity_date":1667982927,"creation_date":1667977335,"question_id":74371029,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/jaa21.png)](https://i.stack.imgur.com/jaa21.png)\r\n\r\nsc function is never closed. What to do to avoid this error?\r\n\r\nI tried to input integer data using scanner function in java, but the sc line is facing some error. Although the code runs properly. But I want to know why it showing error. Thanks in advance.\r\n","title":"Resource leak: &#39;sc&#39; is never closedJava(536871799)","body":"<p><a href=\"https://i.stack.imgur.com/jaa21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaa21.png\" alt=\"enter image description here\" /></a></p>\n<p>sc function is never closed. What to do to avoid this error?</p>\n<p>I tried to input integer data using scanner function in java, but the sc line is facing some error. Although the code runs properly. But I want to know why it showing error. Thanks in advance.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667981039,"post_id":74371579,"comment_id":131294612,"body_markdown":"No, `me` in line 7 is a _reference_ (you can think of it as a pointer but there&#39;s still a difference) to the _next_ entry in the map, i.e. a very specific entry. That entry consists of a key and a value which is why lines 8 and 9 work. Note that line 4 establishes an iterator, line 6 checks if there is one more entry and line 7 gets that entry.","body":"No, <code>me</code> in line 7 is a <i>reference</i> (you can think of it as a pointer but there&#39;s still a difference) to the <i>next</i> entry in the map, i.e. a very specific entry. That entry consists of a key and a value which is why lines 8 and 9 work. Note that line 4 establishes an iterator, line 6 checks if there is one more entry and line 7 gets that entry."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667981283,"post_id":74371579,"comment_id":131294692,"body_markdown":"Btw, since Java 5 (which is very old now) there are generics and maps should not be used without those generics anymore. Hence the code should become `Map&lt;String, Double&gt; hm = new HashMap&lt;&gt;();` (also using the &quot;program to interface&quot; principle) as well as `Set&lt;Map.Entry&lt;String, Double&gt;&gt; set = hm.entrySet(); Iterator&lt;Map.Entry&lt;String, Double&gt;&gt; i = set.iterator(); ... Map.Entry&lt;String, Double&gt; me = i.next();` (note the cast is missing now).","body":"Btw, since Java 5 (which is very old now) there are generics and maps should not be used without those generics anymore. Hence the code should become <code>Map&lt;String, Double&gt; hm = new HashMap&lt;&gt;();</code> (also using the &quot;program to interface&quot; principle) as well as <code>Set&lt;Map.Entry&lt;String, Double&gt;&gt; set = hm.entrySet(); Iterator&lt;Map.Entry&lt;String, Double&gt;&gt; i = set.iterator(); ... Map.Entry&lt;String, Double&gt; me = i.next();</code> (note the cast is missing now)."}],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667982739,"creation_date":1667981827,"answer_id":74371727,"question_id":74371579,"body_markdown":"For easy understanding I have updated the code.  `i.next()` is saved to Object variable before type casting to `Map.Entry`\r\n\r\n    while(i.hasNext()) {\r\n        \t Object obj = i.next();\r\n             Map.Entry me = (Map.Entry)obj;\r\n             System.out.print(me.getKey() + &quot;: &quot;);\r\n             System.out.println(me.getValue());\r\n          }\r\n\r\nFrom the below image captured in debug mode, you can see obj contains key-value before type casting.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo sum up, `i.next()` is returning a `Map.Entry` but we are storing it in an `Object` Class reference variable because java allows super class reference variable to hold the sub class object and `Object` class is super class to all. \r\n\r\nWhy typecasting? because we can&#39;t invoke sub class methods on a super class variable.\r\n\r\nIf you want the iterator to return Map.Entry without type casting, declare  Iterator as `Map.Entry` Iterator like this `Iterator&lt;Map.Entry&gt; i`. Happy learning!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFE6f.png","title":"How does compiler understand the key and value part of an object during casting?","body":"<p>For easy understanding I have updated the code.  <code>i.next()</code> is saved to Object variable before type casting to <code>Map.Entry</code></p>\n<pre><code>while(i.hasNext()) {\n         Object obj = i.next();\n         Map.Entry me = (Map.Entry)obj;\n         System.out.print(me.getKey() + &quot;: &quot;);\n         System.out.println(me.getValue());\n      }\n</code></pre>\n<p>From the below image captured in debug mode, you can see obj contains key-value before type casting.</p>\n<p><a href=\"https://i.stack.imgur.com/XFE6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFE6f.png\" alt=\"enter image description here\" /></a></p>\n<p>To sum up, <code>i.next()</code> is returning a <code>Map.Entry</code> but we are storing it in an <code>Object</code> Class reference variable because java allows super class reference variable to hold the sub class object and <code>Object</code> class is super class to all.</p>\n<p>Why typecasting? because we can't invoke sub class methods on a super class variable.</p>\n<p>If you want the iterator to return Map.Entry without type casting, declare  Iterator as <code>Map.Entry</code> Iterator like this <code>Iterator&lt;Map.Entry&gt; i</code>. Happy learning!</p>\n"}],"owner":{"account_id":14243610,"reputation":95,"user_id":10289312,"display_name":"Chirayu Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371727,"answer_count":1,"score":1,"last_activity_date":1667982739,"creation_date":1667980890,"question_id":74371579,"body_markdown":"I was going through https://www.tutorialspoint.com/java/java_hashmap_class.htm .\r\nIt gives following code\r\n\r\n```\r\n1       // Get a set of the entries\r\n2       Set set = hm.entrySet();\r\n\r\n3       // Get an iterator\r\n4       Iterator i = set.iterator();\r\n\r\n5       // Display elements\r\n6       while(i.hasNext()) {\r\n7           Map.Entry me = (Map.Entry)i.next();\r\n8           System.out.print(me.getKey() + &quot;: &quot;);\r\n9            System.out.println(me.getValue());\r\n10        }\r\n```\r\n\r\nI was wondering that in line 7 the coder has done i.next() which returns *java.lang.Object* which has been cast to Map.Entry type.Remember in line 7 *me* variable has pointer to the keys of map that had been defined in earlier lines.\r\nIn line 9 we call me.getValue() ,so how does jvm know that a particular value is associated with a particular key?","title":"How does compiler understand the key and value part of an object during casting?","body":"<p>I was going through <a href=\"https://www.tutorialspoint.com/java/java_hashmap_class.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/java_hashmap_class.htm</a> .\nIt gives following code</p>\n<pre><code>1       // Get a set of the entries\n2       Set set = hm.entrySet();\n\n3       // Get an iterator\n4       Iterator i = set.iterator();\n\n5       // Display elements\n6       while(i.hasNext()) {\n7           Map.Entry me = (Map.Entry)i.next();\n8           System.out.print(me.getKey() + &quot;: &quot;);\n9            System.out.println(me.getValue());\n10        }\n</code></pre>\n<p>I was wondering that in line 7 the coder has done i.next() which returns <em>java.lang.Object</em> which has been cast to Map.Entry type.Remember in line 7 <em>me</em> variable has pointer to the keys of map that had been defined in earlier lines.\nIn line 9 we call me.getValue() ,so how does jvm know that a particular value is associated with a particular key?</p>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"score":5,"creation_date":1517959793,"post_id":47900670,"comment_id":84305327,"body_markdown":"I had a similar problem with log4j2 incurring java.lang.AbstractMethodError errors. The following stackoverflow post helped solve my problem: https://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven  I removed all xerces and xml_apis mentions from my pom file, including adding xerces and xml_apis exclusion elements from third party dependencies (so that they would use the default versions that come with java api)","body":"I had a similar problem with log4j2 incurring java.lang.AbstractMethodError errors. The following stackoverflow post helped solve my problem: <a href=\"https://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven\" title=\"dealing with xerces hell in java maven\">stackoverflow.com/questions/11677572/&hellip;</a>  I removed all xerces and xml_apis mentions from my pom file, including adding xerces and xml_apis exclusion elements from third party dependencies (so that they would use the default versions that come with java api)"}],"answers":[{"tags":[],"owner":{"account_id":13171602,"reputation":178,"user_id":9513756,"display_name":"Ayyoub"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1521416970,"creation_date":1521416970,"answer_id":49354017,"question_id":47900670,"body_markdown":"Try adding \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nto your pom.xml","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>Try adding </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633629070,"creation_date":1633629070,"answer_id":69485705,"question_id":47900670,"body_markdown":"For me it was resolved by excluding xercesImpl dependency:\r\n\r\n    implementation (group: &#39;com.github.mkolisnyk&#39;, name: &#39;cucumber-runner&#39;, version: &#39;X.X.X&#39;) {\r\n                exclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;\r\n    }\r\n\r\nYou can check your project dependencies tree by:\r\n\r\n    gradlew &lt;project&gt;: dependencies --configuration\r\n\r\n[Gradle][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>For me it was resolved by excluding xercesImpl dependency:</p>\n<pre><code>implementation (group: 'com.github.mkolisnyk', name: 'cucumber-runner', version: 'X.X.X') {\n            exclude group: 'xerces', module: 'xercesImpl'\n}\n</code></pre>\n<p>You can check your project dependencies tree by:</p>\n<pre><code>gradlew &lt;project&gt;: dependencies --configuration\n</code></pre>\n<p><a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">Gradle</a></p>\n"},{"tags":[],"owner":{"account_id":13275737,"reputation":109,"user_id":9585152,"display_name":"R.Wedisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667982589,"creation_date":1667982589,"answer_id":74371862,"question_id":47900670,"body_markdown":"In my case, adding the dependency to the pom file did not work. However, it was resolved after adding the below 2 jars to my runtime lib folder\r\n\r\n 1. xercesImpl.jar  \r\n 2. xml-resolver.jar\r\n\r\n\r\n\r\n","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>In my case, adding the dependency to the pom file did not work. However, it was resolved after adding the below 2 jars to my runtime lib folder</p>\n<ol>\n<li>xercesImpl.jar</li>\n<li>xml-resolver.jar</li>\n</ol>\n"}],"owner":{"account_id":11709740,"reputation":81,"user_id":8572019,"display_name":"zhaodazzle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21482,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1667982589,"creation_date":1513754226,"question_id":47900670,"body_markdown":"I have an application that used log4j1.2.17.Now I want to change it to log4j2.\r\nSo i changed the pom.xml (I&#39;m sure that i have remove the log4j1 in any dependency), add the log4j2.xml. The log4j2 works fine, and it log the infomation that i want.But i got the below error at the begining.\r\n\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-general-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:205)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-parameter-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:206)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://apache.org/xml/features/nonvalidating/load-external-dtd to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:207)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/log4j-slf4j-impl-2.9.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/slf4j-log4j12-1.6.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n\r\nMy jdk version is 1.8.0_102.  \r\nMaven version is 3.3.9.  \r\nlog4j2 version is 2.9.1.  \r\n\r\nI view the issue of log4j. The [LOG4J2-2026][LOG4J2-2026] seems to fix it, but version of log4j2 that i used is already 2.9.1 . I don&#39;t know what cause this error.\r\n\r\n[LOG4J2-2026]: https://issues.apache.org/jira/browse/LOG4J2-2026","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>I have an application that used log4j1.2.17.Now I want to change it to log4j2.\nSo i changed the pom.xml (I'm sure that i have remove the log4j1 in any dependency), add the log4j2.xml. The log4j2 works fine, and it log the infomation that i want.But i got the below error at the begining.</p>\n\n<pre><code>ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-general-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:205)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-parameter-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:206)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://apache.org/xml/features/nonvalidating/load-external-dtd to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:207)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/log4j-slf4j-impl-2.9.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/slf4j-log4j12-1.6.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n</code></pre>\n\n<p>My jdk version is 1.8.0_102.<br>\nMaven version is 3.3.9.<br>\nlog4j2 version is 2.9.1.  </p>\n\n<p>I view the issue of log4j. The <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2026\" rel=\"noreferrer\">LOG4J2-2026</a> seems to fix it, but version of log4j2 that i used is already 2.9.1 . I don't know what cause this error.</p>\n"},{"tags":["java","java-io"],"owner":{"account_id":26875969,"reputation":1,"user_id":20457225,"display_name":"H Gia Khang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982391,"answer_count":0,"score":0,"last_activity_date":1667982422,"creation_date":1667981901,"question_id":74371744,"body_markdown":"[![the directory of the image](https://i.stack.imgur.com/z5JIv.png)](https://i.stack.imgur.com/z5JIv.png)\r\n\r\nI&#39;m practicing for my project by trying to replicate the PvZ game. Why the getResourceAsStream() keep returning null.\r\n\r\nI have tried `&quot;/PvZ/data/gfx/mainMenu.png&quot;` and `&quot;PvZ/data/gfx/mainMenu.png&quot;`, but none of them worked.\r\n","title":"Why the getResourceAsStream() in my project always returns null?","body":"<p><a href=\"https://i.stack.imgur.com/z5JIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5JIv.png\" alt=\"the directory of the image\" /></a></p>\n<p>I'm practicing for my project by trying to replicate the PvZ game. Why the getResourceAsStream() keep returning null.</p>\n<p>I have tried <code>&quot;/PvZ/data/gfx/mainMenu.png&quot;</code> and <code>&quot;PvZ/data/gfx/mainMenu.png&quot;</code>, but none of them worked.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1667985877,"post_id":74371809,"comment_id":131296215,"body_markdown":"What have you already tried, what are you stuck on? Stack Overflow is used to help debug problems in ones code. Please also check https://stackoverflow.com/help/how-to-ask","body":"What have you already tried, what are you stuck on? Stack Overflow is used to help debug problems in ones code. Please also check <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"display_name":"user19346309"},"score":0,"creation_date":1668062858,"post_id":74371809,"comment_id":131317111,"body_markdown":"as i mentioned above i don&#39;t know how to add the animation i have the fragment and a viewpager2 but can&#39;t add the animation so iam asking here so that someone may mention a library or a way to do so","body":"as i mentioned above i don&#39;t know how to add the animation i have the fragment and a viewpager2 but can&#39;t add the animation so iam asking here so that someone may mention a library or a way to do so"},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1668076464,"post_id":74371809,"comment_id":131321329,"body_markdown":"I don&#39;t have any experience with Android development but after a quick Google search I get things like this: https://www.androidauthority.com/how-to-add-flip-animations-to-your-android-app-814902/ and https://stackoverflow.com/questions/4817900/android-fragments-and-animation other than that I am afraid I cannot help any further.","body":"I don&#39;t have any experience with Android development but after a quick Google search I get things like this: <a href=\"https://www.androidauthority.com/how-to-add-flip-animations-to-your-android-app-814902/\" rel=\"nofollow noreferrer\">androidauthority.com/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/4817900/android-fragments-and-animation\" title=\"android fragments and animation\">stackoverflow.com/questions/4817900/&hellip;</a> other than that I am afraid I cannot help any further."}],"owner":{"display_name":"user19346309"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667982321,"creation_date":1667982321,"question_id":74371809,"body_markdown":"I&#39;m developing an app which will mostly look like a book \r\nI&#39;m using fragments in the app \r\nSo I need to animate the transition between fragments to look like flipping a book page \r\nSo how can I achieve that.","title":"Add book page flip animation with fragment","body":"<p>I'm developing an app which will mostly look like a book\nI'm using fragments in the app\nSo I need to animate the transition between fragments to look like flipping a book page\nSo how can I achieve that.</p>\n"},{"tags":["java","quarkus","reactive-streams","mutiny","smallrye"],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667982317,"creation_date":1667982317,"answer_id":74371806,"question_id":74293356,"body_markdown":"This is because the underlying Reactive Streams specification that SmallRye Mutiny implements has a built-in backpressure mechanism. The client (in your case your subscriber) needs to request the next item manually from the producer (events) otherwise, no item is sent down the reactive pipeline.\r\n\r\nYou need to save the Subscription object you receive in the onSubscribe method and call its `request(long)` method when you can process next item(s):\r\n\r\n    .withSubscriber(\r\n        new Subscriber&lt;String&gt;() {\r\n            private Subscription subscription;\r\n\r\n            @Override\r\n            public void onSubscribe(Subscription s) {\r\n                    System.out.println(&quot;OnSubscription Method&quot;);\r\n                    System.out.println(&quot;ON SUBS END&quot;);\r\n                    subscription = s;\r\n                    subscription.request(1);\r\n                }\r\n\r\n                @Override\r\n                public void onNext(String event) {\r\n                    System.out.println(&quot;On Next Method&quot;);\r\n                    subscription.request(1);\r\n                }\r\n\r\n                @Override\r\n                public void onError(Throwable t) {\r\n                    System.out.println(&quot;OnError Method&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n                    System.out.println(&quot;On Complete Method&quot;);\r\n                }\r\n            });\r\n\r\nIn SmallRye there is also an easier way to do this:\r\n\r\n    events\r\n        .onSubscription()\r\n            .invoke(() -&gt; {\r\n                System.out.println(&quot;OnSubscription Method&quot;);\r\n                System.out.println(&quot;ON SUBS END&quot;);\r\n            })\r\n        .onItem()\r\n            .invoke(event -&gt; System.out.println(&quot;On Next Method&quot;))\r\n        .onFailure()\r\n            .invoke(t -&gt; System.out.println(&quot;OnError Method&quot;))\r\n        .onCompletion()\r\n            .invoke(() -&gt; System.out.println(&quot;On Complete Method&quot;))\r\n        .subscribe()\r\n            .with(value -&gt; {});\r\n\r\n","title":"SmallRye Mutiny unable to process events asynchronously using subscription","body":"<p>This is because the underlying Reactive Streams specification that SmallRye Mutiny implements has a built-in backpressure mechanism. The client (in your case your subscriber) needs to request the next item manually from the producer (events) otherwise, no item is sent down the reactive pipeline.</p>\n<p>You need to save the Subscription object you receive in the onSubscribe method and call its <code>request(long)</code> method when you can process next item(s):</p>\n<pre><code>.withSubscriber(\n    new Subscriber&lt;String&gt;() {\n        private Subscription subscription;\n\n        @Override\n        public void onSubscribe(Subscription s) {\n                System.out.println(&quot;OnSubscription Method&quot;);\n                System.out.println(&quot;ON SUBS END&quot;);\n                subscription = s;\n                subscription.request(1);\n            }\n\n            @Override\n            public void onNext(String event) {\n                System.out.println(&quot;On Next Method&quot;);\n                subscription.request(1);\n            }\n\n            @Override\n            public void onError(Throwable t) {\n                System.out.println(&quot;OnError Method&quot;);\n            }\n\n            @Override\n            public void onComplete() {\n                System.out.println(&quot;On Complete Method&quot;);\n            }\n        });\n</code></pre>\n<p>In SmallRye there is also an easier way to do this:</p>\n<pre><code>events\n    .onSubscription()\n        .invoke(() -&gt; {\n            System.out.println(&quot;OnSubscription Method&quot;);\n            System.out.println(&quot;ON SUBS END&quot;);\n        })\n    .onItem()\n        .invoke(event -&gt; System.out.println(&quot;On Next Method&quot;))\n    .onFailure()\n        .invoke(t -&gt; System.out.println(&quot;OnError Method&quot;))\n    .onCompletion()\n        .invoke(() -&gt; System.out.println(&quot;On Complete Method&quot;))\n    .subscribe()\n        .with(value -&gt; {});\n</code></pre>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667982317,"creation_date":1667409936,"question_id":74293356,"body_markdown":"I am developing an application that returns `Multi&lt;String&gt;`, I would like to make some modifications to it, so I have added some methods, but for some reason it does not enter the `next` method at all.\r\n\r\nMy other methods are working absolutely fine. Because I am able to collect it and add it to a `List`, but I want to do some execution asynchronously, so using this approach.\r\n\r\n```\r\nprivate final ManagedExecutor managedExecutor;\r\n\r\npublic void writeTo(StreamingInfo streamingInfo) {\r\n            streamingInfo\r\n                .getEvents()\r\n                .runSubscriptionOn(managedExecutor)\r\n                .subscribe()\r\n                .withSubscriber(\r\n                    new Subscriber &lt; String &gt; () {\r\n                        @Override\r\n                        public void onSubscribe(Subscription s) {\r\n                            System.out.println(&quot;OnSubscription Method&quot;);\r\n                            System.out.println(&quot;ON SUBS END&quot;);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onNext(String event) {\r\n                            System.out.println(&quot;On Next Method&quot;);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onError(Throwable t) {\r\n                            System.out.println(&quot;OnError Method&quot;);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onComplete() {\r\n                            System.out.println(&quot;On Complete Method&quot;);\r\n                        }\r\n                    });\r\n        }\r\n```\r\n\r\nI get the following output:\r\n```\r\n\r\nOnSubscription Method\r\nON SUBS END\r\n```\r\n\r\nWhich means that your subscription is not working for some reason. If I do not add subscription and directly collect to List then everything works as expected. Can anyone suggest what am I doing wrong here?","title":"SmallRye Mutiny unable to process events asynchronously using subscription","body":"<p>I am developing an application that returns <code>Multi&lt;String&gt;</code>, I would like to make some modifications to it, so I have added some methods, but for some reason it does not enter the <code>next</code> method at all.</p>\n<p>My other methods are working absolutely fine. Because I am able to collect it and add it to a <code>List</code>, but I want to do some execution asynchronously, so using this approach.</p>\n<pre><code>private final ManagedExecutor managedExecutor;\n\npublic void writeTo(StreamingInfo streamingInfo) {\n            streamingInfo\n                .getEvents()\n                .runSubscriptionOn(managedExecutor)\n                .subscribe()\n                .withSubscriber(\n                    new Subscriber &lt; String &gt; () {\n                        @Override\n                        public void onSubscribe(Subscription s) {\n                            System.out.println(&quot;OnSubscription Method&quot;);\n                            System.out.println(&quot;ON SUBS END&quot;);\n                        }\n\n                        @Override\n                        public void onNext(String event) {\n                            System.out.println(&quot;On Next Method&quot;);\n                        }\n\n                        @Override\n                        public void onError(Throwable t) {\n                            System.out.println(&quot;OnError Method&quot;);\n                        }\n\n                        @Override\n                        public void onComplete() {\n                            System.out.println(&quot;On Complete Method&quot;);\n                        }\n                    });\n        }\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>\nOnSubscription Method\nON SUBS END\n</code></pre>\n<p>Which means that your subscription is not working for some reason. If I do not add subscription and directly collect to List then everything works as expected. Can anyone suggest what am I doing wrong here?</p>\n"},{"tags":["java","hashmap","capacity"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1352632440,"post_id":13329819,"comment_id":18187974,"body_markdown":"I don&#39;t understand what the problem is because the HashMap does as you say it should do.","body":"I don&#39;t understand what the problem is because the HashMap does as you say it should do."},{"owner":{"account_id":2643,"reputation":5555,"user_id":3707,"display_name":"jackrabbit"},"score":1,"creation_date":1352639794,"post_id":13329819,"comment_id":18189493,"body_markdown":"The overload with just a number specifies the size including the free space. Venkata wanted it to be the number of entries before rehashing. The library developers made the other choice. No point debating this now anymore.","body":"The overload with just a number specifies the size including the free space. Venkata wanted it to be the number of entries before rehashing. The library developers made the other choice. No point debating this now anymore."},{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":0,"creation_date":1352645787,"post_id":13329819,"comment_id":18190764,"body_markdown":"@jackrabit You got it right. I just wanted to know is there any technical reason, why it is designed such a way.","body":"@jackrabit You got it right. I just wanted to know is there any technical reason, why it is designed such a way."}],"answers":[{"tags":[],"owner":{"account_id":2643,"reputation":5555,"user_id":3707,"display_name":"jackrabbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352624915,"creation_date":1352624915,"answer_id":13329848,"question_id":13329819,"body_markdown":"Most implementations grow automatically as you add more elements. The performance of most implementations also tends to decrease when the containers get fuller. That&#39;s why there is a load factor in the first place: to leave some empty space available.","title":"Why HashMap initial capacity is not properly handled by the library?","body":"<p>Most implementations grow automatically as you add more elements. The performance of most implementations also tends to decrease when the containers get fuller. That's why there is a load factor in the first place: to leave some empty space available.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352630080,"creation_date":1352625496,"answer_id":13329884,"question_id":13329819,"body_markdown":"## Update\r\n\r\nUpdating to reflect changed question. No, there is no such standard API but it seems there is a method [`Maps.newHashMapWithExpectedSize(int)`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#newHashMapWithExpectedSize(int)) in [tag:guava]:\r\n\r\n&gt; Creates a `HashMap` instance, with a high enough &quot;initial capacity&quot; that it *should* hold `expectedSize` elements without growth.\r\n\r\n---\r\n\r\n&gt; i have to initialize it to (int)(N/0.75F)+1\r\n\r\nNo you don&#39;t. If you create new `HashMap` from other `Map`, `HashMap` calculates capacity first by default:\r\n\r\n    public HashMap(Map&lt;? extends K, ? extends V&gt; m) {\r\n        this(Math.max((int) (m.size() / DEFAULT_LOAD_FACTOR) + 1,\r\n                      DEFAULT_INITIAL_CAPACITY), DEFAULT_LOAD_FACTOR);\r\n        putAllForCreate(m);\r\n    }\r\n\r\nIf you add elements one by one, the same process happens as well:\r\n\r\n    void addEntry(int hash, K key, V value, int bucketIndex) {\r\n        if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) {\r\n            resize(2 * table.length);\r\n            //...\r\n        }\r\n\r\n        createEntry(hash, key, value, bucketIndex);\r\n    }\r\n\r\nThe only reason to use `HashMap(int initialCapacity, float loadFactor)` constructor is when you know from the very beginning how many elements you want to store in the `HashMap`, thus avoiding resizing and rehashing later (map has correct size from the very beginning).\r\n\r\nOne interesting implementation detail is that initial capacity is trimmed to the nearest power of two (see: https://stackoverflow.com/questions/5040753):\r\n\r\n    // Find a power of 2 &gt;= initialCapacity\r\n    int capacity = 1;\r\n    while (capacity &lt; initialCapacity)\r\n        capacity &lt;&lt;= 1;\r\n\r\nSo if you want your `HashMap` to have exact capacity as defined, just use powers of two.\r\n\r\n\r\nChoosing different `loadFactor` allows you to trade space for performance - smaller value means more memory, but less collisions.\r\n","title":"Why HashMap initial capacity is not properly handled by the library?","body":"<h2>Update</h2>\n\n<p>Updating to reflect changed question. No, there is no such standard API but it seems there is a method <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Maps.html#newHashMapWithExpectedSize(int)\" rel=\"nofollow noreferrer\"><code>Maps.newHashMapWithExpectedSize(int)</code></a> in <a href=\"/questions/tagged/guava\" class=\"post-tag\" title=\"show questions tagged &#39;guava&#39;\" rel=\"tag\">guava</a>:</p>\n\n<blockquote>\n  <p>Creates a <code>HashMap</code> instance, with a high enough \"initial capacity\" that it <em>should</em> hold <code>expectedSize</code> elements without growth.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>i have to initialize it to (int)(N/0.75F)+1</p>\n</blockquote>\n\n<p>No you don't. If you create new <code>HashMap</code> from other <code>Map</code>, <code>HashMap</code> calculates capacity first by default:</p>\n\n<pre><code>public HashMap(Map&lt;? extends K, ? extends V&gt; m) {\n    this(Math.max((int) (m.size() / DEFAULT_LOAD_FACTOR) + 1,\n                  DEFAULT_INITIAL_CAPACITY), DEFAULT_LOAD_FACTOR);\n    putAllForCreate(m);\n}\n</code></pre>\n\n<p>If you add elements one by one, the same process happens as well:</p>\n\n<pre><code>void addEntry(int hash, K key, V value, int bucketIndex) {\n    if ((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) {\n        resize(2 * table.length);\n        //...\n    }\n\n    createEntry(hash, key, value, bucketIndex);\n}\n</code></pre>\n\n<p>The only reason to use <code>HashMap(int initialCapacity, float loadFactor)</code> constructor is when you know from the very beginning how many elements you want to store in the <code>HashMap</code>, thus avoiding resizing and rehashing later (map has correct size from the very beginning).</p>\n\n<p>One interesting implementation detail is that initial capacity is trimmed to the nearest power of two (see: <a href=\"https://stackoverflow.com/questions/5040753\">Why ArrayList grows at a rate of 1.5, but for Hashmap it&#39;s 2?</a>):</p>\n\n<pre><code>// Find a power of 2 &gt;= initialCapacity\nint capacity = 1;\nwhile (capacity &lt; initialCapacity)\n    capacity &lt;&lt;= 1;\n</code></pre>\n\n<p>So if you want your <code>HashMap</code> to have exact capacity as defined, just use powers of two.</p>\n\n<p>Choosing different <code>loadFactor</code> allows you to trade space for performance - smaller value means more memory, but less collisions.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352647689,"creation_date":1352632263,"answer_id":13330586,"question_id":13329819,"body_markdown":"I have run the following program\r\n\r\n    public static void main(String... args) throws IllegalAccessException, NoSuchFieldException {\r\n        for (int i = 12; i &lt; 80; i++) {\r\n            Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;((int) Math.ceil(i / 0.75));\r\n            int beforeAdding = Array.getLength(getField(map, &quot;table&quot;));\r\n            for (int j = 0; j &lt; i; j++) map.put(j, j);\r\n            int afterAdding = Array.getLength(getField(map, &quot;table&quot;));\r\n            map.put(i, i);\r\n            int oneMore = Array.getLength(getField(map, &quot;table&quot;));\r\n            System.out.printf(&quot;%,d: initial %,d, after N %,d, after N+1 %,d%n &quot;,\r\n                    i, beforeAdding, afterAdding, oneMore);\r\n        }\r\n    }\r\n\r\n    private static &lt;T&gt; T getField(Map&lt;Integer, Integer&gt; map, String fieldName) throws NoSuchFieldException, IllegalAccessException {\r\n        Field table = map.getClass().getDeclaredField(fieldName);\r\n        table.setAccessible(true);\r\n        return (T) table.get(map);\r\n    }\r\n\r\nwhich prints out\r\n\r\n     12: initial 16, after N 16, after N+1 32\r\n     13: initial 32, after N 32, after N+1 32\r\n     .. deleted ..\r\n     24: initial 32, after N 32, after N+1 64\r\n     25: initial 64, after N 64, after N+1 64\r\n     .. deleted ..\r\n     47: initial 64, after N 64, after N+1 64\r\n     48: initial 64, after N 64, after N+1 128\r\n     49: initial 128, after N 128, after N+1 128\r\n     .. deleted ..\r\n     79: initial 128, after N 128, after N+1 128\r\n\r\nThis shows that the default initialiser the initial capacity is rounded to the next power of two.  The problem with this value is that if you want this to be the eventual size, you have to take into account the load factor if you want to avoid resizing.  Ideally you shouldn&#39;t have to, in the way the Map copy constructor does for you.\r\n","title":"Why HashMap initial capacity is not properly handled by the library?","body":"<p>I have run the following program</p>\n\n<pre><code>public static void main(String... args) throws IllegalAccessException, NoSuchFieldException {\n    for (int i = 12; i &lt; 80; i++) {\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;((int) Math.ceil(i / 0.75));\n        int beforeAdding = Array.getLength(getField(map, \"table\"));\n        for (int j = 0; j &lt; i; j++) map.put(j, j);\n        int afterAdding = Array.getLength(getField(map, \"table\"));\n        map.put(i, i);\n        int oneMore = Array.getLength(getField(map, \"table\"));\n        System.out.printf(\"%,d: initial %,d, after N %,d, after N+1 %,d%n \",\n                i, beforeAdding, afterAdding, oneMore);\n    }\n}\n\nprivate static &lt;T&gt; T getField(Map&lt;Integer, Integer&gt; map, String fieldName) throws NoSuchFieldException, IllegalAccessException {\n    Field table = map.getClass().getDeclaredField(fieldName);\n    table.setAccessible(true);\n    return (T) table.get(map);\n}\n</code></pre>\n\n<p>which prints out</p>\n\n<pre><code> 12: initial 16, after N 16, after N+1 32\n 13: initial 32, after N 32, after N+1 32\n .. deleted ..\n 24: initial 32, after N 32, after N+1 64\n 25: initial 64, after N 64, after N+1 64\n .. deleted ..\n 47: initial 64, after N 64, after N+1 64\n 48: initial 64, after N 64, after N+1 128\n 49: initial 128, after N 128, after N+1 128\n .. deleted ..\n 79: initial 128, after N 128, after N+1 128\n</code></pre>\n\n<p>This shows that the default initialiser the initial capacity is rounded to the next power of two.  The problem with this value is that if you want this to be the eventual size, you have to take into account the load factor if you want to avoid resizing.  Ideally you shouldn't have to, in the way the Map copy constructor does for you.</p>\n"}],"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667982241,"creation_date":1352624579,"question_id":13329819,"body_markdown":"To create HashMap/HashSet for N elements, we generally do`new HashMap((int)(N/0.75F)+1)` which is annoying.  \r\n\r\nWhy the library has not taken care of this in the first place and allows initialization like `new HashMap(N)`(should not rehash till N elements) taking care of this calculation `(int)(N/0.75F)+1`?\r\n\r\n**Update 09 Nov 22:**\r\n\r\nJava 19 introduced [HashMap&lt;K,V&gt; newHashMap(int numMappings)][1]\r\n\r\nJavadoc: \r\n\r\n&gt; Creates a new, empty HashMap suitable for the expected number of mappings. The returned map uses the default load factor of 0.75, and its initial capacity is generally large enough so that the expected number of mappings can be added without resizing the map.\r\n\r\nSimilar methods were introduced in other Map classes too.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)","title":"Why HashMap initial capacity is not properly handled by the library?","body":"<p>To create HashMap/HashSet for N elements, we generally do<code>new HashMap((int)(N/0.75F)+1)</code> which is annoying.</p>\n<p>Why the library has not taken care of this in the first place and allows initialization like <code>new HashMap(N)</code>(should not rehash till N elements) taking care of this calculation <code>(int)(N/0.75F)+1</code>?</p>\n<p><strong>Update 09 Nov 22:</strong></p>\n<p>Java 19 introduced <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html#newHashMap(int)\" rel=\"nofollow noreferrer\">HashMap&lt;K,V&gt; newHashMap(int numMappings)</a></p>\n<p>Javadoc:</p>\n<blockquote>\n<p>Creates a new, empty HashMap suitable for the expected number of mappings. The returned map uses the default load factor of 0.75, and its initial capacity is generally large enough so that the expected number of mappings can be added without resizing the map.</p>\n</blockquote>\n<p>Similar methods were introduced in other Map classes too.</p>\n"},{"tags":["java","spring-boot","tomcat"],"owner":{"account_id":26612067,"reputation":11,"user_id":20232112,"display_name":"Aman Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667981594,"creation_date":1667981594,"question_id":74371698,"body_markdown":"Getting this error when trying to run my Java with Maven using STS:\r\n\r\nINFO 7428 --- [           main] utoConfigurationReportLoggingInitializer : \r\n\r\nError starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n2022-11-09 13:11:42.164 ERROR 7428 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n\r\nAny help appreciated!\r\n\r\n\r\nMAIN :\r\n\r\n```\r\npackage com.noesis.fileuploader;\r\n\r\nimport javax.persistence.EntityManager;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\nimport com.noesis.fileuploader.properties.DynamicSmsFileStorageProperties;\r\nimport com.noesis.fileuploader.properties.FileStorageProperties;\r\nimport com.noesis.fileuploader.properties.GroupSmsFileStorageProperties;\r\nimport com.noesis.fileuploader.properties.TemplateSmsFileStorageProperties;\r\nimport com.noesis.fileuploader.repository.DetailedAnalyticsRepository;\r\nimport com.noesis.fileuploader.repository.DetailedAnalyticsRepositoryImpl;\r\nimport com.noesis.fileuploader.repository.DetailedMisRepository;\r\nimport com.noesis.fileuploader.repository.DetailedMisRepositoryImpl;\r\n\r\n\r\n\r\n@ComponentScan (basePackages = &quot;com.noesis&quot;)\r\n@SpringBootApplication\r\n@EnableCaching\r\n@EnableJpaRepositories (basePackages = &quot;com.noesis&quot;)\r\n@EntityScan (basePackages = &quot;com.noesis&quot;)\r\n@EnableConfigurationProperties({\r\n    FileStorageProperties.class,\r\n    DynamicSmsFileStorageProperties.class,\r\n    TemplateSmsFileStorageProperties.class,\r\n    GroupSmsFileStorageProperties.class\r\n    \r\n})\r\npublic class App extends SpringBootServletInitializer {\r\n\t\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(App.class);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DetailedMisRepository detailedMisRepository(EntityManager em) {\r\n\t    return new DetailedMisRepositoryImpl();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic DetailedAnalyticsRepository detailedAnalyticsRepository(EntityManager em) {\r\n\t    return new DetailedAnalyticsRepositoryImpl();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(App.class, args);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nLOG-Trace after trying to run application:\r\n\r\n```\r\norg.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customJwtAuthenticationFilter&#39;: Unsatisfied dependency expressed through field &#39;customUserDetailsService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#7d3ef43b&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7d3ef43b&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:154) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:134) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:87) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5220) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.68]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.68]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.68]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.68]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.68]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap.jar:9.0.68]\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap.jar:9.0.68]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customJwtAuthenticationFilter&#39;: Unsatisfied dependency expressed through field &#39;customUserDetailsService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#7d3ef43b&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7d3ef43b&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:234) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:182) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:177) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:159) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:80) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans(EmbeddedWebApplicationContext.java:241) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize(EmbeddedWebApplicationContext.java:228) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000(EmbeddedWebApplicationContext.java:89) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup(EmbeddedWebApplicationContext.java:213) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:168) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\t... 38 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customUserDetailsService&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#7d3ef43b&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7d3ef43b&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 58 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#7d3ef43b&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7d3ef43b&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 71 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7d3ef43b&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 84 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 92 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n\tat org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:179) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:149) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:54) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 99 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412) ~[catalina.jar:9.0.68]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220) ~[catalina.jar:9.0.68]\r\n\t... 110 common frames omitted\r\n\r\n```","title":"Error starting ApplicationContext. How to handle these type of conditions report re-run your application with &#39;debug&#39; enabled","body":"<p>Getting this error when trying to run my Java with Maven using STS:</p>\n<p>INFO 7428 --- [           main] utoConfigurationReportLoggingInitializer :</p>\n<p>Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2022-11-09 13:11:42.164 ERROR 7428 --- [           main] o.s.boot.SpringApplication               : Application startup failed</p>\n<p>Any help appreciated!</p>\n<p>MAIN :</p>\n<pre><code>package com.noesis.fileuploader;\n\nimport javax.persistence.EntityManager;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport com.noesis.fileuploader.properties.DynamicSmsFileStorageProperties;\nimport com.noesis.fileuploader.properties.FileStorageProperties;\nimport com.noesis.fileuploader.properties.GroupSmsFileStorageProperties;\nimport com.noesis.fileuploader.properties.TemplateSmsFileStorageProperties;\nimport com.noesis.fileuploader.repository.DetailedAnalyticsRepository;\nimport com.noesis.fileuploader.repository.DetailedAnalyticsRepositoryImpl;\nimport com.noesis.fileuploader.repository.DetailedMisRepository;\nimport com.noesis.fileuploader.repository.DetailedMisRepositoryImpl;\n\n\n\n@ComponentScan (basePackages = &quot;com.noesis&quot;)\n@SpringBootApplication\n@EnableCaching\n@EnableJpaRepositories (basePackages = &quot;com.noesis&quot;)\n@EntityScan (basePackages = &quot;com.noesis&quot;)\n@EnableConfigurationProperties({\n    FileStorageProperties.class,\n    DynamicSmsFileStorageProperties.class,\n    TemplateSmsFileStorageProperties.class,\n    GroupSmsFileStorageProperties.class\n    \n})\npublic class App extends SpringBootServletInitializer {\n    \n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(App.class);\n    }\n\n    @Bean\n    public DetailedMisRepository detailedMisRepository(EntityManager em) {\n        return new DetailedMisRepositoryImpl();\n    }\n    \n    @Bean\n    public DetailedAnalyticsRepository detailedAnalyticsRepository(EntityManager em) {\n        return new DetailedAnalyticsRepositoryImpl();\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n    \n}\n</code></pre>\n<p>LOG-Trace after trying to run application:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customJwtAuthenticationFilter': Unsatisfied dependency expressed through field 'customUserDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#7d3ef43b' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7d3ef43b': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537) ~[spring-context-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:154) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:134) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:87) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169) ~[spring-web-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5220) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.68]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.68]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[catalina.jar:9.0.68]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-util.jar:9.0.68]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772) ~[catalina.jar:9.0.68]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345) ~[bootstrap.jar:9.0.68]\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476) ~[bootstrap.jar:9.0.68]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customJwtAuthenticationFilter': Unsatisfied dependency expressed through field 'customUserDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#7d3ef43b' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7d3ef43b': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:234) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:182) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:177) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:159) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:80) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.getServletContextInitializerBeans(EmbeddedWebApplicationContext.java:241) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.selfInitialize(EmbeddedWebApplicationContext.java:228) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.access$000(EmbeddedWebApplicationContext.java:89) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext$1.onStartup(EmbeddedWebApplicationContext.java:213) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:168) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:134) ~[spring-boot-1.5.9.RELEASE.jar:1.5.9.RELEASE]\n    ... 38 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#7d3ef43b' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7d3ef43b': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 58 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#7d3ef43b' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7d3ef43b': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 71 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7d3ef43b': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 84 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 92 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:179) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:149) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:54) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:360) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:382) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:371) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:336) ~[spring-orm-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n    ... 99 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412) ~[catalina.jar:9.0.68]\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220) ~[catalina.jar:9.0.68]\n    ... 110 common frames omitted\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":4603196,"reputation":1932,"user_id":3733369,"accept_rate":44,"display_name":"rodridevops"},"score":0,"creation_date":1547004710,"post_id":54102645,"comment_id":95038396,"body_markdown":"With some research you can find the answer","body":"With some research you can find the answer"},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1547009265,"post_id":54102645,"comment_id":95039309,"body_markdown":"what does `private Resource[] resources;` contains? does it contain array of each file path?","body":"what does <code>private Resource[] resources;</code> contains? does it contain array of each file path?"},{"owner":{"account_id":434539,"reputation":821,"user_id":820572,"accept_rate":54,"display_name":"ewom2468"},"score":0,"creation_date":1547025082,"post_id":54102645,"comment_id":95045359,"body_markdown":"it contains an array of all the file paths","body":"it contains an array of all the file paths"}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667981423,"creation_date":1547071053,"answer_id":54118970,"question_id":54102645,"body_markdown":"You can use the `MultiResourceItemReader` with a `JsonItemReader` as delegate. Here is a quick example:\r\n\r\n    @Bean\r\n    public JsonItemReader&lt;Person&gt; jsonItemReader(Resource[] resources) {\r\n       JsonItemReader&lt;Person&gt; delegate = new JsonItemReaderBuilder&lt;Person&gt;()\r\n          .jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Person.class))\r\n          .name(&quot;personItemReader&quot;)\r\n          .build();\r\n\r\n       MultiResourceItemReader&lt;Person&gt; reader = new MultiResourceItemReader&lt;Person&gt;();\r\n       reader.setDelegate(delegate);\r\n       reader.setResources(resources);\r\n       return reader;\r\n    }\r\n\r\nYou can find more details about the `JsonItemReader` in the [reference documentation](https://docs.spring.io/spring-batch/4.1.x/reference/html/readersAndWriters.html#JsonItemReader).\r\n\r\nHope this helps.","title":"Reading Multiple Json Files And Converting To POJO Springboot batch","body":"<p>You can use the <code>MultiResourceItemReader</code> with a <code>JsonItemReader</code> as delegate. Here is a quick example:</p>\n<pre><code>@Bean\npublic JsonItemReader&lt;Person&gt; jsonItemReader(Resource[] resources) {\n   JsonItemReader&lt;Person&gt; delegate = new JsonItemReaderBuilder&lt;Person&gt;()\n      .jsonObjectReader(new JacksonJsonObjectReader&lt;&gt;(Person.class))\n      .name(&quot;personItemReader&quot;)\n      .build();\n\n   MultiResourceItemReader&lt;Person&gt; reader = new MultiResourceItemReader&lt;Person&gt;();\n   reader.setDelegate(delegate);\n   reader.setResources(resources);\n   return reader;\n}\n</code></pre>\n<p>You can find more details about the <code>JsonItemReader</code> in the <a href=\"https://docs.spring.io/spring-batch/4.1.x/reference/html/readersAndWriters.html#JsonItemReader\" rel=\"nofollow noreferrer\">reference documentation</a>.</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":401667,"reputation":377,"user_id":768359,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571033146,"creation_date":1571033146,"answer_id":58370896,"question_id":54102645,"body_markdown":"https://docs.spring.io/spring-batch/4.0.x/reference/html/readersAndWriters.html#multiFileInput - I only found this after I found this answer","title":"Reading Multiple Json Files And Converting To POJO Springboot batch","body":"<p><a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/readersAndWriters.html#multiFileInput\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.0.x/reference/html/readersAndWriters.html#multiFileInput</a> - I only found this after I found this answer</p>\n"}],"owner":{"account_id":434539,"reputation":821,"user_id":820572,"accept_rate":54,"display_name":"ewom2468"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2333,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54118970,"answer_count":2,"score":0,"last_activity_date":1667981423,"creation_date":1547002470,"question_id":54102645,"body_markdown":"I have a folder with thousands of text files with JSON content that I need to read, convert into a POJO and then save into a MySQL database. I intend to use a Spring Batch application.\r\n\r\nHere is the issue so far, the research I have done only shows reading multiple CSV files or XML files and no JSON data. Specifically, I need to convert this method for parsing a CSV file into a JSON parser.\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;Person&gt; reader() {\r\n        FlatFileItemReader&lt;Person&gt; reader = new FlatFileItemReader&lt;Person&gt;();\r\n        reader.setLineMapper(new DefaultLineMapper&lt;Person&gt;() {{\r\n            setLineTokenizer(new DelimitedLineTokenizer() {{\r\n                setNames(new String[] {&quot;firstname&quot;, &quot;lastname&quot;, &quot;email&quot;, &quot;age&quot;});\r\n            }});\r\n            setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Person&gt;() {{\r\n                setTargetType(Person.class);\r\n            }});\r\n        }});\r\n        return reader;\r\n    }\r\n    \r\n\r\nThis code parses a JSON file:\r\n     \r\n    JSONParser parser = new JSONParser();\r\n    Object obj = parser.parse(new FileReader(&quot;C:\\\\path\\\\sample.json&quot;));\r\n\r\n\r\nThe method might be something like this \r\n \r\n    @Bean\r\n    Public FileReader&lt;Person&gt; reader() {\r\n        FileReader&lt;Person&gt; reader = new FileReader&lt;Person&gt;();\r\n\r\n        /**** need help on what to do here ****/\r\n\r\n        return reader;\r\n    }\r\n\r\n\r\nAlso seeing that I am reading all the files in a directory, I am passing the value of that directory in this format \r\n\r\n    @Value(value=&quot;C:\\\\path\\\\*.json&quot;)\r\n    private Resource[] resources;\r\n\r\n\r\nSo I need help on how to use this value (directory for all files) instead of what I showed earlier (single file location)\r\n \r\n    Object obj = parser.parse(new FileReader(&quot;C:\\\\path\\\\sample.json&quot;));\r\n\r\n","title":"Reading Multiple Json Files And Converting To POJO Springboot batch","body":"<p>I have a folder with thousands of text files with JSON content that I need to read, convert into a POJO and then save into a MySQL database. I intend to use a Spring Batch application.</p>\n\n<p>Here is the issue so far, the research I have done only shows reading multiple CSV files or XML files and no JSON data. Specifically, I need to convert this method for parsing a CSV file into a JSON parser.</p>\n\n<pre><code>@Bean\npublic FlatFileItemReader&lt;Person&gt; reader() {\n    FlatFileItemReader&lt;Person&gt; reader = new FlatFileItemReader&lt;Person&gt;();\n    reader.setLineMapper(new DefaultLineMapper&lt;Person&gt;() {{\n        setLineTokenizer(new DelimitedLineTokenizer() {{\n            setNames(new String[] {\"firstname\", \"lastname\", \"email\", \"age\"});\n        }});\n        setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Person&gt;() {{\n            setTargetType(Person.class);\n        }});\n    }});\n    return reader;\n}\n</code></pre>\n\n<p>This code parses a JSON file:</p>\n\n<pre><code>JSONParser parser = new JSONParser();\nObject obj = parser.parse(new FileReader(\"C:\\\\path\\\\sample.json\"));\n</code></pre>\n\n<p>The method might be something like this </p>\n\n<pre><code>@Bean\nPublic FileReader&lt;Person&gt; reader() {\n    FileReader&lt;Person&gt; reader = new FileReader&lt;Person&gt;();\n\n    /**** need help on what to do here ****/\n\n    return reader;\n}\n</code></pre>\n\n<p>Also seeing that I am reading all the files in a directory, I am passing the value of that directory in this format </p>\n\n<pre><code>@Value(value=\"C:\\\\path\\\\*.json\")\nprivate Resource[] resources;\n</code></pre>\n\n<p>So I need help on how to use this value (directory for all files) instead of what I showed earlier (single file location)</p>\n\n<pre><code>Object obj = parser.parse(new FileReader(\"C:\\\\path\\\\sample.json\"));\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667981272,"creation_date":1667981272,"answer_id":74371648,"question_id":74365005,"body_markdown":"I&#39;m not completely sure, but it looks like the mock mvc request runs in it&#39;s own thread and therefore transaction. Since you didn&#39;t commit the transaction of your integration test, mock mvc still sees the old data.\r\n\r\nIf this assumption is true you should be able to fix it by putting the first part of your integration test in a separate transaction.\r\nYou can do this by removing the `@Transactional` annotation and use [`TransactionTemplate`][1] instead. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html","title":"Changed entity found with old values in an integration test","body":"<p>I'm not completely sure, but it looks like the mock mvc request runs in it's own thread and therefore transaction. Since you didn't commit the transaction of your integration test, mock mvc still sees the old data.</p>\n<p>If this assumption is true you should be able to fix it by putting the first part of your integration test in a separate transaction.\nYou can do this by removing the <code>@Transactional</code> annotation and use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"nofollow noreferrer\"><code>TransactionTemplate</code></a> instead.</p>\n"}],"owner":{"account_id":7055162,"reputation":870,"user_id":5517820,"accept_rate":68,"display_name":"MehdiB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667981272,"creation_date":1667929233,"question_id":74365005,"body_markdown":"I have the following repository:\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {    \r\n    Optional&lt;User&gt; findUserByUniqueName(String uniqueName);\r\n}\r\n```\r\n\r\nIn an integration test, first, I change the uniqueName field of a user entity and save it to database. then I call an endpoint with mockMvc and add the oldUniqueName to the headers of the request.\r\n\r\n```\r\n@Test\r\n@Transactional\r\nvoid test() {\r\nUser user =\r\n    userRepository.findUserByUniqueName(&quot;oldUniqueName&quot;).orElse(null);\r\n\r\n    assertThat(user).isNotNull();\r\n\r\n    user.setUniqueName(&quot;newUniqueName&quot;);\r\n    userRepository.saveAndFlush(user);\r\n\r\n    headers = ... // adding oldUniqueName to the headers \r\n\r\n    mockMvc\r\n        .perform(get(endpointUrl).headers(headers))\r\n        .andExpect(status().isUnauthorized());\r\n\r\n}\r\n\r\n```\r\n\r\nThe request is then intercepted by a custom security filter to do some modifications in the security context. in this filter I extract the UniqueName from the request header and try to find the corresponding user in database:\r\n\r\n```\r\n@Override\r\n@Transactional\r\nprotected void doFilterInternal(\r\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n      throws ServletException, IOException {\r\n\r\n    String oldUniqueName = extractUniqueNameFromRequest(request);\r\n    try {\r\n        User user = userRepository.findUserByUniqueName(oldUniqueName).orElseThrow(new Exception());\r\n        // update security context\r\n    }\r\n    catch(Exception e) {\r\n        // handle exception     \r\n    }\r\n}\r\n```\r\n\r\nI am expecting that the call to the repository with the oldUniqueName returns an empty Optional and therefore an exception is thrown. However, something strange happens. Although I am querying the database with a non existing uniqueName (oldUniqueName), the User Entity is found but it&#39;s uniqueName field has the value &quot;newUniqueName&quot;. I guess it has something to do with transactions or maybe cache but can&#39;t figure it out. Does anybody know what I am doing wrong?","title":"Changed entity found with old values in an integration test","body":"<p>I have the following repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt; {    \n    Optional&lt;User&gt; findUserByUniqueName(String uniqueName);\n}\n</code></pre>\n<p>In an integration test, first, I change the uniqueName field of a user entity and save it to database. then I call an endpoint with mockMvc and add the oldUniqueName to the headers of the request.</p>\n<pre><code>@Test\n@Transactional\nvoid test() {\nUser user =\n    userRepository.findUserByUniqueName(&quot;oldUniqueName&quot;).orElse(null);\n\n    assertThat(user).isNotNull();\n\n    user.setUniqueName(&quot;newUniqueName&quot;);\n    userRepository.saveAndFlush(user);\n\n    headers = ... // adding oldUniqueName to the headers \n\n    mockMvc\n        .perform(get(endpointUrl).headers(headers))\n        .andExpect(status().isUnauthorized());\n\n}\n\n</code></pre>\n<p>The request is then intercepted by a custom security filter to do some modifications in the security context. in this filter I extract the UniqueName from the request header and try to find the corresponding user in database:</p>\n<pre><code>@Override\n@Transactional\nprotected void doFilterInternal(\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n\n    String oldUniqueName = extractUniqueNameFromRequest(request);\n    try {\n        User user = userRepository.findUserByUniqueName(oldUniqueName).orElseThrow(new Exception());\n        // update security context\n    }\n    catch(Exception e) {\n        // handle exception     \n    }\n}\n</code></pre>\n<p>I am expecting that the call to the repository with the oldUniqueName returns an empty Optional and therefore an exception is thrown. However, something strange happens. Although I am querying the database with a non existing uniqueName (oldUniqueName), the User Entity is found but it's uniqueName field has the value &quot;newUniqueName&quot;. I guess it has something to do with transactions or maybe cache but can't figure it out. Does anybody know what I am doing wrong?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667989846,"post_id":74371633,"comment_id":131297576,"body_markdown":"I cannot reproduce your issue. try to `clean` before `test`","body":"I cannot reproduce your issue. try to <code>clean</code> before <code>test</code>"},{"owner":{"account_id":22010341,"reputation":59,"user_id":16280717,"display_name":"Robert Ilin"},"score":0,"creation_date":1667991500,"post_id":74371633,"comment_id":131298133,"body_markdown":"Still not working. What version of TestNG are you using? I&#39;m using 7.4.0","body":"Still not working. What version of TestNG are you using? I&#39;m using 7.4.0"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667991546,"post_id":74371633,"comment_id":131298144,"body_markdown":"I&#39;m using 7.6.0","body":"I&#39;m using 7.6.0"},{"owner":{"account_id":22010341,"reputation":59,"user_id":16280717,"display_name":"Robert Ilin"},"score":0,"creation_date":1667993055,"post_id":74371633,"comment_id":131298698,"body_markdown":"And you&#39;re running it directly from the class? Or do you have an .xml file? Because when I try to run it from .xml file, it works for me too.","body":"And you&#39;re running it directly from the class? Or do you have an .xml file? Because when I try to run it from .xml file, it works for me too."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667993656,"post_id":74371633,"comment_id":131298898,"body_markdown":"Both ways: from IDE and from maven command line","body":"Both ways: from IDE and from maven command line"},{"owner":{"account_id":22010341,"reputation":59,"user_id":16280717,"display_name":"Robert Ilin"},"score":0,"creation_date":1667993859,"post_id":74371633,"comment_id":131298957,"body_markdown":"That&#39;s strange. I found this post where it says that @BeforeGroups should only work when running the .xml file:\n\nhttps://github.com/cbeust/testng/issues/2319","body":"That&#39;s strange. I found this post where it says that @BeforeGroups should only work when running the .xml file:  <a href=\"https://github.com/cbeust/testng/issues/2319\" rel=\"nofollow noreferrer\">github.com/cbeust/testng/issues/2319</a>"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1667993920,"post_id":74371633,"comment_id":131298980,"body_markdown":"TestNG always creates `testng.xml` under the hood","body":"TestNG always creates <code>testng.xml</code> under the hood"},{"owner":{"account_id":22010341,"reputation":59,"user_id":16280717,"display_name":"Robert Ilin"},"score":0,"creation_date":1667994260,"post_id":74371633,"comment_id":131299085,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249448/discussion-between-robert-ilin-and-alexey-r).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249448/discussion-between-robert-ilin-and-alexey-r\">continue this discussion in chat</a>."}],"owner":{"account_id":22010341,"reputation":59,"user_id":16280717,"display_name":"Robert Ilin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667981189,"creation_date":1667981189,"question_id":74371633,"body_markdown":"I have the following code:\r\n\r\n    import org.testng.annotations.BeforeGroups;\r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class NewTest {\r\n    \r\n    \t@BeforeTest\r\n    \tprivate void beforeTest() {\r\n    \t\tSystem.out.println(&quot;BeforeTest!&quot;);\r\n    \t}\r\n    \r\n    \t@BeforeGroups(groups = &quot;demo&quot;)\r\n    \tprivate void initialize() {\r\n    \t\tSystem.out.println(&quot;BeforeGroups!&quot;);\r\n    \t}\r\n    \r\n    \t@Test(groups = { &quot;demo&quot; })\r\n    \tprivate void test() {\r\n    \t\tSystem.out.println(&quot;Test!&quot;);\r\n    \t}\r\n    }\r\n\r\nWhen I run the class, only &quot;BeforeTest!&quot; and &quot;Test!&quot; are being printed in the console. Does anybody know why the `@BeforeGroups` method is not called?\r\n\r\n    [RemoteTestNG] detected TestNG version 7.4.0\r\n    BeforeTest!\r\n    Test!\r\n    PASSED: test\r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n\r\n","title":"TestNG @BeforeGroups method is not executing","body":"<p>I have the following code:</p>\n<pre><code>import org.testng.annotations.BeforeGroups;\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Test;\n\npublic class NewTest {\n\n    @BeforeTest\n    private void beforeTest() {\n        System.out.println(&quot;BeforeTest!&quot;);\n    }\n\n    @BeforeGroups(groups = &quot;demo&quot;)\n    private void initialize() {\n        System.out.println(&quot;BeforeGroups!&quot;);\n    }\n\n    @Test(groups = { &quot;demo&quot; })\n    private void test() {\n        System.out.println(&quot;Test!&quot;);\n    }\n}\n</code></pre>\n<p>When I run the class, only &quot;BeforeTest!&quot; and &quot;Test!&quot; are being printed in the console. Does anybody know why the <code>@BeforeGroups</code> method is not called?</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\nBeforeTest!\nTest!\nPASSED: test\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 1, Failures: 0, Skips: 0\n===============================================\n</code></pre>\n"},{"tags":["java","intellij-idea","automated-refactoring"],"owner":{"account_id":1641927,"reputation":401,"user_id":2737142,"display_name":"Tobias Gierke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667981069,"creation_date":1667981069,"question_id":74371613,"body_markdown":"I&#39;m currently looking at a Hibernate 5 -&gt; Hibernate 6 migration and the org.hibernate.usertype.UserType interface (which just uses java.lang.Object in method signatures as it dates back from the good old days before generics got introduced) now got a generic type parameter.\r\n\r\nSo basically,\r\n\r\n    public interface UserType {\r\n        // lots of methods omitted\r\n         public Object deepCopy(Object value) throws HibernateException { /* .... */ }\r\n    }\r\n\r\nturned into\r\n\r\n\r\n    public interface UserType&lt;T&gt; {\r\n        // lots of methods omitted\r\n         public T deepCopy(T value) throws HibernateException { /* .... */ }\r\n    }\r\n\r\nSince our project has 70+ UserType implementations, it would be nice to have some automated way (a plugin maybe?) for doing the conversion. It would basically need to ask for the desired value of the newly introduced type parameter, compare all method signatures between the implementation and the generic interface and replace &quot;Object&quot; with the desired type when the only difference is that the return type/parameter types are &quot;Object&quot; instead of the type parameter.\r\n\r\nIs this possible ?","title":"IntellIJ refactoring: Automatically migrate an interface implementation after the implemented interface got &quot;generified&quot;?","body":"<p>I'm currently looking at a Hibernate 5 -&gt; Hibernate 6 migration and the org.hibernate.usertype.UserType interface (which just uses java.lang.Object in method signatures as it dates back from the good old days before generics got introduced) now got a generic type parameter.</p>\n<p>So basically,</p>\n<pre><code>public interface UserType {\n    // lots of methods omitted\n     public Object deepCopy(Object value) throws HibernateException { /* .... */ }\n}\n</code></pre>\n<p>turned into</p>\n<pre><code>public interface UserType&lt;T&gt; {\n    // lots of methods omitted\n     public T deepCopy(T value) throws HibernateException { /* .... */ }\n}\n</code></pre>\n<p>Since our project has 70+ UserType implementations, it would be nice to have some automated way (a plugin maybe?) for doing the conversion. It would basically need to ask for the desired value of the newly introduced type parameter, compare all method signatures between the implementation and the generic interface and replace &quot;Object&quot; with the desired type when the only difference is that the return type/parameter types are &quot;Object&quot; instead of the type parameter.</p>\n<p>Is this possible ?</p>\n"},{"tags":["java","php","spring","base64"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667888626,"post_id":74356386,"comment_id":131268698,"body_markdown":"Check https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllBytes-java.nio.file.Path-","body":"Check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllBytes-java.nio.file.Path-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667893387,"creation_date":1667893387,"answer_id":74357182,"question_id":74356386,"body_markdown":"When you read a file in bytes, there is no encoding.\r\nOnly when you convert/interprete the bytes as characters, encoding becomes important.\r\n\r\nSo if you want to stick to reading bytes, FileInputStream is the way.\r\nIf you want to read characters, a [FileReader][1] is the way.\r\n\r\nNote you can specify the encoding to be used on the [constructor][2] - which is necessary if the file is not in the system default encoding.\r\n\r\n**Edit**: \r\n*How can I read files 16 bytes at a time after setting up the encoding?* \r\n\r\nYou simply cannot. But you can read 16 bytes, then [when you convert to String specify the encoding][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.lang.String)","title":"Is there a way to read files in bytes?","body":"<p>When you read a file in bytes, there is no encoding.\nOnly when you convert/interprete the bytes as characters, encoding becomes important.</p>\n<p>So if you want to stick to reading bytes, FileInputStream is the way.\nIf you want to read characters, a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html\" rel=\"nofollow noreferrer\">FileReader</a> is the way.</p>\n<p>Note you can specify the encoding to be used on the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">constructor</a> - which is necessary if the file is not in the system default encoding.</p>\n<p><strong>Edit</strong>:\n<em>How can I read files 16 bytes at a time after setting up the encoding?</em></p>\n<p>You simply cannot. But you can read 16 bytes, then <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.lang.String)\" rel=\"nofollow noreferrer\">when you convert to String specify the encoding</a>.</p>\n"}],"owner":{"account_id":26136817,"reputation":1,"user_id":19826713,"display_name":"may"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667980750,"creation_date":1667888039,"question_id":74356386,"body_markdown":"I am working on changing the code completed with php to java.\r\nI have a test.tpf file encrypted with SEED and the file is encoded in ANSI.\r\nThe test.tpf file contains a string and image information for base64 encoding and output.\r\nI have to cut 16 bytes each and read the file to decrypt test.tpf.\r\nSo I used fileInputStream to save and decrypt the bytes that I read in a 16-size byte array.\r\n\r\n```\r\n    \t\tint nReadCur=0;\r\n    \t\tbyte[] outbuf = new byte[16];\r\n    \t\tint nRead =0;\r\n\r\n    \t\tFileInputStream fis = new FileInputStream(tpf);\r\n                while (true) {            \r\n                   byte[] fileContentArray=new byte[16];\r\n\r\n                   nRead = fis.read(fileContentArray);\r\n                   nReadCur = nReadCur + nRead;\r\n\r\n                   seed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf); //Decryption\r\n                   String dbgmsg =new String(outbuf,&quot;MS949&quot;);\r\n                   \r\n                   mergeStr+=dbgmsg; \r\n                   if(nFileSize&lt;=nReadCur || nRead==-1)\r\n                      break;\r\n                }//while\r\n```\r\n\r\nThen, they encoded the part corresponding to the image information in base64.\r\nIn js, the base64 code was changed to a string to receive the string and base64 information in json and display it on the screen.\r\n\r\n```\r\n                String[] dataExplode=mergeStr.split(&quot;&lt;TextData&gt;&quot;);\r\n                String[] dataExplode1=dataExplode[1].split(&quot;&lt;/FileInfo&gt;&quot;);\r\n                String[] dataExplode2=dataExplode1[0].split(&quot;&lt;/TextData&gt;&quot;);\r\n\r\n                String textData = null;\r\n                String imageData = null;\r\n                \r\n                textData=dataExplode2[0];\r\n                imageData=dataExplode1[1];\r\n\r\n        \t\r\n        \tEncoder encoder=Base64.getEncoder();\r\n        \timageData=encoder.encodeToString(imageData.getBytes());\r\n                \r\n                JSONArray ja=new JSONArray();\r\n                ja.put(textData);\r\n                ja.put(imageData);\r\n        \tresult.put(&quot;imageContent&quot;, ja);\r\n```\r\n\r\nHowever, it seems that the file cannot be read properly.\r\nCompared to the result value of the php code I have, the string is incorrectly entered.\r\nMy Eclipse basic encoding is UTF8, so I think this problem is due to encoding.When I read files using fileInputStream, I wanted to set up characters and read them.\r\nI don&#39;t know how to read bytes at this time.\r\n\r\nHow can I read files 16 bytes at a time after setting up the encoding?\r\nAlso, I would like to know if there is a mistake in my code.\r\n\r\nMy java version is 1.8 and I use spring 3.1.1\r\n  \r\n  \r\n    \r\n  \r\n++)add\r\n\r\nI succeeded in making a 16-size outbuf array into one array using the ByteArrayOutputStream. \r\n\r\n```\r\nByteArrayOutputStream baos =new ByteArrayOutputStream(); \r\n\r\n.\r\n.\r\n.\r\n\r\n\t\tseed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf);\r\n\r\n\t    baos.write(outbuf, 0, 16);\r\n\t\tbreak;   \r\n\t}\r\n}//while\r\n\r\nmergeStr=new String(baos.toByteArray(),&quot;MS949&quot;);\r\n.\r\n.\r\n.\r\n\r\n```\r\n\r\nHowever, compared to the php code I have, I found that the result value of php is different from the result value of java.\r\n\r\nin java:`System.out.println(&quot;mergeStr:&quot;+mergeStr.length()+&quot; / image:&quot;+imageData.length());`  \r\n\r\njava console: `mergeStr:69716 / image:168092`  \r\n\r\nin php:`alog(&quot;mergeStr: &quot;.strlen($mergeStr).&quot; / imageData : &quot;.strlen($imageData ));`  \r\n\r\nphp log: `mergeStr: 85552 / imageData: 111860  `  \r\n\r\n\r\nSince the result string decoded by java and php is different, the result of java and php is different for the value encoded by imageData as base64","title":"Is there a way to read files in bytes?","body":"<p>I am working on changing the code completed with php to java.\nI have a test.tpf file encrypted with SEED and the file is encoded in ANSI.\nThe test.tpf file contains a string and image information for base64 encoding and output.\nI have to cut 16 bytes each and read the file to decrypt test.tpf.\nSo I used fileInputStream to save and decrypt the bytes that I read in a 16-size byte array.</p>\n<pre><code>            int nReadCur=0;\n            byte[] outbuf = new byte[16];\n            int nRead =0;\n\n            FileInputStream fis = new FileInputStream(tpf);\n                while (true) {            \n                   byte[] fileContentArray=new byte[16];\n\n                   nRead = fis.read(fileContentArray);\n                   nReadCur = nReadCur + nRead;\n\n                   seed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf); //Decryption\n                   String dbgmsg =new String(outbuf,&quot;MS949&quot;);\n                   \n                   mergeStr+=dbgmsg; \n                   if(nFileSize&lt;=nReadCur || nRead==-1)\n                      break;\n                }//while\n</code></pre>\n<p>Then, they encoded the part corresponding to the image information in base64.\nIn js, the base64 code was changed to a string to receive the string and base64 information in json and display it on the screen.</p>\n<pre><code>                String[] dataExplode=mergeStr.split(&quot;&lt;TextData&gt;&quot;);\n                String[] dataExplode1=dataExplode[1].split(&quot;&lt;/FileInfo&gt;&quot;);\n                String[] dataExplode2=dataExplode1[0].split(&quot;&lt;/TextData&gt;&quot;);\n\n                String textData = null;\n                String imageData = null;\n                \n                textData=dataExplode2[0];\n                imageData=dataExplode1[1];\n\n            \n            Encoder encoder=Base64.getEncoder();\n            imageData=encoder.encodeToString(imageData.getBytes());\n                \n                JSONArray ja=new JSONArray();\n                ja.put(textData);\n                ja.put(imageData);\n            result.put(&quot;imageContent&quot;, ja);\n</code></pre>\n<p>However, it seems that the file cannot be read properly.\nCompared to the result value of the php code I have, the string is incorrectly entered.\nMy Eclipse basic encoding is UTF8, so I think this problem is due to encoding.When I read files using fileInputStream, I wanted to set up characters and read them.\nI don't know how to read bytes at this time.</p>\n<p>How can I read files 16 bytes at a time after setting up the encoding?\nAlso, I would like to know if there is a mistake in my code.</p>\n<p>My java version is 1.8 and I use spring 3.1.1</p>\n<p>++)add</p>\n<p>I succeeded in making a 16-size outbuf array into one array using the ByteArrayOutputStream.</p>\n<pre><code>ByteArrayOutputStream baos =new ByteArrayOutputStream(); \n\n.\n.\n.\n\n        seed.SeedDecrypt(fileContentArray, pdwRoundKey, outbuf);\n\n        baos.write(outbuf, 0, 16);\n        break;   \n    }\n}//while\n\nmergeStr=new String(baos.toByteArray(),&quot;MS949&quot;);\n.\n.\n.\n\n</code></pre>\n<p>However, compared to the php code I have, I found that the result value of php is different from the result value of java.</p>\n<p>in java:<code>System.out.println(&quot;mergeStr:&quot;+mergeStr.length()+&quot; / image:&quot;+imageData.length());</code></p>\n<p>java console: <code>mergeStr:69716 / image:168092</code></p>\n<p>in php:<code>alog(&quot;mergeStr: &quot;.strlen($mergeStr).&quot; / imageData : &quot;.strlen($imageData ));</code></p>\n<p>php log: <code>mergeStr: 85552 / imageData: 111860  </code></p>\n<p>Since the result string decoded by java and php is different, the result of java and php is different for the value encoded by imageData as base64</p>\n"},{"tags":["java","monitoring","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":9249686,"reputation":1373,"user_id":6870582,"display_name":"Ben Hall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667980632,"creation_date":1667930402,"answer_id":74365231,"question_id":74346682,"body_markdown":"There are receivers for the OpenTelemetry Collector in beta or alpha right now. You should be looking at the Collector anyway for any OpenTelemetry in production.\r\n\r\n - [Kubernetes Cluster Receiver][1]. This collects cluster-level **metrics** from the Kubernetes API server. It uses the K8s API to listen for updates. A single instance of this receiver can be used to monitor a cluster.\r\n- [Kubelet Stats Receiver][2]. This pulls pod **metrics** from the API server on a kubelet and sends it down the metric pipeline for further processing\r\n- [Kubernetes Events Receiver][3]. This receiver collects events (**logs**) from the Kubernetes API server.\r\n\r\nTo help you understand the [role of the Collector, see my post][4].\r\n\r\nThen you could export your metrics to something like Prometheus via [an exporter][5] plugin to the Collector.\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/k8sclusterreceiver\r\n  [2]: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kubeletstatsreceiver\r\n  [3]: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/k8seventsreceiver\r\n  [4]: https://failingfast.io/opentelemetry/#the-collector-a-vendor-neutral-proxy\r\n  [5]: https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/prometheusexporter","title":"How to monitor a Kubernetes Cluster using OpenTelemetry - Monitoring the cluster components itself","body":"<p>There are receivers for the OpenTelemetry Collector in beta or alpha right now. You should be looking at the Collector anyway for any OpenTelemetry in production.</p>\n<ul>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/k8sclusterreceiver\" rel=\"nofollow noreferrer\">Kubernetes Cluster Receiver</a>. This collects cluster-level <strong>metrics</strong> from the Kubernetes API server. It uses the K8s API to listen for updates. A single instance of this receiver can be used to monitor a cluster.</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/kubeletstatsreceiver\" rel=\"nofollow noreferrer\">Kubelet Stats Receiver</a>. This pulls pod <strong>metrics</strong> from the API server on a kubelet and sends it down the metric pipeline for further processing</li>\n<li><a href=\"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/k8seventsreceiver\" rel=\"nofollow noreferrer\">Kubernetes Events Receiver</a>. This receiver collects events (<strong>logs</strong>) from the Kubernetes API server.</li>\n</ul>\n<p>To help you understand the <a href=\"https://failingfast.io/opentelemetry/#the-collector-a-vendor-neutral-proxy\" rel=\"nofollow noreferrer\">role of the Collector, see my post</a>.</p>\n<p>Then you could export your metrics to something like Prometheus via <a href=\"https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/prometheusexporter\" rel=\"nofollow noreferrer\">an exporter</a> plugin to the Collector.</p>\n"}],"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74365231,"answer_count":1,"score":0,"last_activity_date":1667980632,"creation_date":1667824456,"question_id":74346682,"body_markdown":"I understand using OpenTelemetry in Kubernetes for monitoring the pod itself, like metrics and traces, but does OpenTelemetry support monitoring the Kubernetes Cluster itself, i.e etcd, apiserver, kublet.?\r\nAre there examples that can be shared that demonstrate this capability ? \r\nOr do I need to use Prometheus for same?\r\n\r\n","title":"How to monitor a Kubernetes Cluster using OpenTelemetry - Monitoring the cluster components itself","body":"<p>I understand using OpenTelemetry in Kubernetes for monitoring the pod itself, like metrics and traces, but does OpenTelemetry support monitoring the Kubernetes Cluster itself, i.e etcd, apiserver, kublet.?\nAre there examples that can be shared that demonstrate this capability ?\nOr do I need to use Prometheus for same?</p>\n"},{"tags":["java","google-api","google-api-java-client","google-directory-api"],"answers":[{"tags":[],"owner":{"account_id":4449509,"reputation":43,"user_id":3621877,"display_name":"user3621877"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578509852,"creation_date":1578509852,"answer_id":59652210,"question_id":59571257,"body_markdown":"I think .createDelegated was the fix.  Also, I simplified my code.\r\n\r\n```\r\npublic class DirectoryService {\r\n    private final String APPLICATION_NAME = &quot;GroupsMemberAutomation&quot;;\r\n    private final String SERVICE_ACCOUNT_USER = &quot;user@my.domain&quot;;\r\n    private final String SERVICE_ACCOUNT_KEY = &quot;groupsmemberautomation-hash.json&quot;;\r\n    private static Directory service;\r\n\r\n    public DirectoryService() throws IOException, GeneralSecurityException {\r\n        NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\r\n        JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\r\n        GoogleCredentials credentials = ServiceAccountCredentials.fromStream(DirectoryService.class.getResourceAsStream(SERVICE_ACCOUNT_KEY))\r\n                .createScoped(Arrays.asList(DirectoryScopes.ADMIN_DIRECTORY_GROUP_MEMBER))\r\n                .createDelegated(SERVICE_ACCOUNT_USER);\r\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\r\n        service = new Directory.Builder(httpTransport, jsonFactory, requestInitializer)\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    }\r\n\r\n    public void printGroupMembers(String groupKey) throws IOException {\r\n        Members members = service.members().list(groupKey).execute();\r\n\r\n        for(Member member : members.getMembers()) {\r\n            System.out.printf(&quot;{ email: %s, role: %s, delivery_settings: %s }\\n&quot;,\r\n                    member.getEmail(),\r\n                    member.getRole(),\r\n                    member.getDeliverySettings());\r\n        }\r\n    }\r\n}\r\n```","title":"members list giving &quot;Requested entity was not found&quot;","body":"<p>I think .createDelegated was the fix.  Also, I simplified my code.</p>\n\n<pre><code>public class DirectoryService {\n    private final String APPLICATION_NAME = \"GroupsMemberAutomation\";\n    private final String SERVICE_ACCOUNT_USER = \"user@my.domain\";\n    private final String SERVICE_ACCOUNT_KEY = \"groupsmemberautomation-hash.json\";\n    private static Directory service;\n\n    public DirectoryService() throws IOException, GeneralSecurityException {\n        NetHttpTransport httpTransport = GoogleNetHttpTransport.newTrustedTransport();\n        JacksonFactory jsonFactory = JacksonFactory.getDefaultInstance();\n        GoogleCredentials credentials = ServiceAccountCredentials.fromStream(DirectoryService.class.getResourceAsStream(SERVICE_ACCOUNT_KEY))\n                .createScoped(Arrays.asList(DirectoryScopes.ADMIN_DIRECTORY_GROUP_MEMBER))\n                .createDelegated(SERVICE_ACCOUNT_USER);\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n        service = new Directory.Builder(httpTransport, jsonFactory, requestInitializer)\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    }\n\n    public void printGroupMembers(String groupKey) throws IOException {\n        Members members = service.members().list(groupKey).execute();\n\n        for(Member member : members.getMembers()) {\n            System.out.printf(\"{ email: %s, role: %s, delivery_settings: %s }\\n\",\n                    member.getEmail(),\n                    member.getRole(),\n                    member.getDeliverySettings());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4449509,"reputation":43,"user_id":3621877,"display_name":"user3621877"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667980582,"creation_date":1578007166,"question_id":59571257,"body_markdown":"I am trying to write a Directory service class to work with Groups members and am having trouble. My service account has been granted domain-wide delegation and permitted the https://www.googleapis.com/auth/admin.directory.group.member and https://www.googleapis.com/auth/iam scopes.  I&#39;m impersonating a user account with Groups Admin role. \r\n\r\n```\r\npublic class DirectoryService {\r\n    private final String APPLICATION_NAME = &quot;GroupsMemberAutomation&quot;;\r\n    private final String SERVICE_ACCOUNT_KEY = &quot;groupsmemberautomation-hash.json&quot;;\r\n    private static Directory service;\r\n\r\n    public DirectoryService() throws IOException {\r\n        HttpTransport httpTransport = new NetHttpTransport();\r\n        JacksonFactory jsonFactory = new JacksonFactory();\r\n        ServiceAccountCredentials serviceAccountCredentials = ServiceAccountCredentials\r\n                .fromStream(DirectoryService.class.getResourceAsStream(SERVICE_ACCOUNT_KEY));\r\n        serviceAccountCredentials = (ServiceAccountCredentials) serviceAccountCredentials\r\n                .createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/iam&quot;));\r\n\r\n        ImpersonatedCredentials impersonatedCredentials = ImpersonatedCredentials.create(serviceAccountCredentials,\r\n                &quot;user@my.domain&quot;,\r\n                null,\r\n                Arrays.asList(DirectoryScopes.ADMIN_DIRECTORY_GROUP_MEMBER),\r\n                300);\r\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(impersonatedCredentials);\r\n\r\n        service = new Directory.Builder(httpTransport, jsonFactory, null)\r\n                .setHttpRequestInitializer(requestInitializer)\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n    }\r\n\r\n    public void printGroupMembers(String groupKey) throws IOException {\r\n        Members members = service.members().list(groupKey).execute();\r\n\r\n        for(Member member : members.getMembers()) {\r\n            System.out.printf(&quot;{ email: %s, role: %s, delivery_settings: %s }\\n&quot;,\r\n                    member.getEmail(),\r\n                    member.getRole(),\r\n                    member.getDeliverySettings());\r\n        }\r\n    }\r\n}\r\n```\r\nError returned is\r\n\r\n```\r\njava.io.IOException: Error requesting access token\r\n\tat com.google.auth.oauth2.ImpersonatedCredentials.refreshAccessToken(ImpersonatedCredentials.java:211)\r\n\tat com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:165)\r\n\tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:151)\r\n\tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96)\r\n\tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:397)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:515)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:448)\r\n\tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\r\n\tat sample.DirectoryService.printGroupMembers(DirectoryService.java:49)\r\n\tat sample.DirectoryServiceTest.printGroupMembers(DirectoryServiceTest.java:18)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:175)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:157)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: com.google.api.client.http.HttpResponseException: 404 Not Found\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: 404,\r\n    &quot;message&quot;: &quot;Requested entity was not found.&quot;,\r\n    &quot;errors&quot;: [\r\n      {\r\n        &quot;message&quot;: &quot;Requested entity was not found.&quot;,\r\n        &quot;domain&quot;: &quot;global&quot;,\r\n        &quot;reason&quot;: &quot;notFound&quot;\r\n      }\r\n    ],\r\n    &quot;status&quot;: &quot;NOT_FOUND&quot;\r\n  }\r\n}\r\n\r\n\tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1094)\r\n\tat com.google.auth.oauth2.ImpersonatedCredentials.refreshAccessToken(ImpersonatedCredentials.java:209)\r\n\t... 57 more\r\n```","title":"members list giving &quot;Requested entity was not found&quot;","body":"<p>I am trying to write a Directory service class to work with Groups members and am having trouble. My service account has been granted domain-wide delegation and permitted the <a href=\"https://www.googleapis.com/auth/admin.directory.group.member\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/admin.directory.group.member</a> and <a href=\"https://www.googleapis.com/auth/iam\" rel=\"nofollow noreferrer\">https://www.googleapis.com/auth/iam</a> scopes.  I'm impersonating a user account with Groups Admin role. </p>\n\n<pre><code>public class DirectoryService {\n    private final String APPLICATION_NAME = \"GroupsMemberAutomation\";\n    private final String SERVICE_ACCOUNT_KEY = \"groupsmemberautomation-hash.json\";\n    private static Directory service;\n\n    public DirectoryService() throws IOException {\n        HttpTransport httpTransport = new NetHttpTransport();\n        JacksonFactory jsonFactory = new JacksonFactory();\n        ServiceAccountCredentials serviceAccountCredentials = ServiceAccountCredentials\n                .fromStream(DirectoryService.class.getResourceAsStream(SERVICE_ACCOUNT_KEY));\n        serviceAccountCredentials = (ServiceAccountCredentials) serviceAccountCredentials\n                .createScoped(Arrays.asList(\"https://www.googleapis.com/auth/iam\"));\n\n        ImpersonatedCredentials impersonatedCredentials = ImpersonatedCredentials.create(serviceAccountCredentials,\n                \"user@my.domain\",\n                null,\n                Arrays.asList(DirectoryScopes.ADMIN_DIRECTORY_GROUP_MEMBER),\n                300);\n        HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(impersonatedCredentials);\n\n        service = new Directory.Builder(httpTransport, jsonFactory, null)\n                .setHttpRequestInitializer(requestInitializer)\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    }\n\n    public void printGroupMembers(String groupKey) throws IOException {\n        Members members = service.members().list(groupKey).execute();\n\n        for(Member member : members.getMembers()) {\n            System.out.printf(\"{ email: %s, role: %s, delivery_settings: %s }\\n\",\n                    member.getEmail(),\n                    member.getRole(),\n                    member.getDeliverySettings());\n        }\n    }\n}\n</code></pre>\n\n<p>Error returned is</p>\n\n<pre><code>java.io.IOException: Error requesting access token\n    at com.google.auth.oauth2.ImpersonatedCredentials.refreshAccessToken(ImpersonatedCredentials.java:211)\n    at com.google.auth.oauth2.OAuth2Credentials.refresh(OAuth2Credentials.java:165)\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:151)\n    at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96)\n    at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:88)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:397)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:515)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:448)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565)\n    at sample.DirectoryService.printGroupMembers(DirectoryService.java:49)\n    at sample.DirectoryServiceTest.printGroupMembers(DirectoryServiceTest.java:18)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:118)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:175)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:157)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: com.google.api.client.http.HttpResponseException: 404 Not Found\n{\n  \"error\": {\n    \"code\": 404,\n    \"message\": \"Requested entity was not found.\",\n    \"errors\": [\n      {\n        \"message\": \"Requested entity was not found.\",\n        \"domain\": \"global\",\n        \"reason\": \"notFound\"\n      }\n    ],\n    \"status\": \"NOT_FOUND\"\n  }\n}\n\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1094)\n    at com.google.auth.oauth2.ImpersonatedCredentials.refreshAccessToken(ImpersonatedCredentials.java:209)\n    ... 57 more\n</code></pre>\n"},{"tags":["java","spring","maven","javabeans"],"owner":{"account_id":14710490,"reputation":108,"user_id":10623971,"display_name":"Gayan Kodithuwakku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667980511,"creation_date":1667980511,"question_id":74371520,"body_markdown":"I am working on the microservice project with spring boot. So I simply write the integration test on the product service of my project. But when I write, this happens.\r\n[![enter image description here](https://i.stack.imgur.com/USTsl.png)](https://i.stack.imgur.com/USTsl.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/CFxj2.png)](https://i.stack.imgur.com/CFxj2.png)\r\n\r\nAnd also when I run the test, these errors appear\r\n`\r\n```\r\n============================\r\nCONDITIONS EVALUATION REPORT\r\n============================\r\n\r\n      - @ConditionalOnProperty (spring.dao.exceptiontranslation.enabled) matched (OnPropertyCondition)\r\n      - @ConditionalOnMissingBean (types: org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n\r\n   PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\r\n      - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n\r\n   \r\nUnconditional classes:\r\n----------------------\r\n\r\n    org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration\r\n\r\n    org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration\r\n\r\n    org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration\r\n\r\n    org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration\r\n\r\n    org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration\r\n\r\n\r\nProcess finished with exit code -1\r\n```\r\n`\r\n\r\nAnd this is my intergration test code,\r\n\r\n`\r\n```\r\npackage com.gayankod.productservice;\r\n\r\nimport ..\r\n\r\n@SpringBootTest\r\n@Testcontainers\r\n@AutoConfigureMockMvc\r\nclass ProductServiceApplicationTests {\r\n\r\n   @Container\r\n   static MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\r\n   //Test will start with the MongoDB Container by downloading the mongo version 4.4.2 image\r\n   //and then after starting the container it will set the replica url\r\n   //and added spring.data.mongodb.uri property dynamically at the time of creating the test\r\n   @Autowired\r\n   private MockMvc mockMvc;\r\n   @Autowired\r\n   private ObjectMapper objMapper;\r\n   @Autowired\r\n   private ProductRepository productRepository;\r\n   @DynamicPropertySource\r\n   static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry){\r\n      dynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;, mongoDBContainer::getReplicaSetUrl);\r\n   }\r\n\r\n   @Test\r\n   void shouldCreateProduct() throws Exception {\r\n      ProductRequest proReq= getProductRequest();\r\n      String proReqStr = objMapper.writeValueAsString(proReq);\r\n      mockMvc.perform(MockMvcRequestBuilders.post(&quot;api/product&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(proReqStr)\r\n      ).andExpect(status().isCreated());\r\n      Assertions.assertEquals(1, productRepository.findAll().size());\r\n   }\r\n\r\n   private ProductRequest getProductRequest(){\r\n      return ProductRequest.builder()\r\n            .name(&quot;Test Product&quot;)\r\n            .description(&quot;Test Description&quot;)\r\n            .price(BigDecimal.valueOf(1000))\r\n            .build();\r\n   }\r\n\r\n}\r\n\r\n```\r\n`\r\nYou you want to refer further my code, please find it on github, this is the link,\r\nhttps://github.com/GayanKod/TheShoeShop-microservices_backend\r\n\r\n\r\n\r\nI&#39;m expecting to pass these tests successfully. But it&#39;s given the above-mentioned errors and couldn&#39;t reach my goal. PS. I used test containers to write this integration test.","title":"Could not autowire. No beans of &#39;MockMvc&#39; type found. Could not autowire. No beans of &#39;ObjectMapper&#39; type found","body":"<p>I am working on the microservice project with spring boot. So I simply write the integration test on the product service of my project. But when I write, this happens.\n<a href=\"https://i.stack.imgur.com/USTsl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USTsl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CFxj2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CFxj2.png\" alt=\"enter image description here\" /></a></p>\n<p>And also when I run the test, these errors appear\n`</p>\n<pre><code>============================\nCONDITIONS EVALUATION REPORT\n============================\n\n      - @ConditionalOnProperty (spring.dao.exceptiontranslation.enabled) matched (OnPropertyCondition)\n      - @ConditionalOnMissingBean (types: org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\n      - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n   \nUnconditional classes:\n----------------------\n\n    org.springframework.boot.autoconfigure.context.ConfigurationPropertiesAutoConfiguration\n\n    org.springframework.boot.autoconfigure.context.LifecycleAutoConfiguration\n\n    org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration\n\n    org.springframework.boot.autoconfigure.availability.ApplicationAvailabilityAutoConfiguration\n\n    org.springframework.boot.autoconfigure.info.ProjectInfoAutoConfiguration\n\n\nProcess finished with exit code -1\n</code></pre>\n<p>`</p>\n<p>And this is my intergration test code,</p>\n<p>`</p>\n<pre><code>package com.gayankod.productservice;\n\nimport ..\n\n@SpringBootTest\n@Testcontainers\n@AutoConfigureMockMvc\nclass ProductServiceApplicationTests {\n\n   @Container\n   static MongoDBContainer mongoDBContainer = new MongoDBContainer(&quot;mongo:4.4.2&quot;);\n   //Test will start with the MongoDB Container by downloading the mongo version 4.4.2 image\n   //and then after starting the container it will set the replica url\n   //and added spring.data.mongodb.uri property dynamically at the time of creating the test\n   @Autowired\n   private MockMvc mockMvc;\n   @Autowired\n   private ObjectMapper objMapper;\n   @Autowired\n   private ProductRepository productRepository;\n   @DynamicPropertySource\n   static void setProperties(DynamicPropertyRegistry dynamicPropertyRegistry){\n      dynamicPropertyRegistry.add(&quot;spring.data.mongodb.uri&quot;, mongoDBContainer::getReplicaSetUrl);\n   }\n\n   @Test\n   void shouldCreateProduct() throws Exception {\n      ProductRequest proReq= getProductRequest();\n      String proReqStr = objMapper.writeValueAsString(proReq);\n      mockMvc.perform(MockMvcRequestBuilders.post(&quot;api/product&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(proReqStr)\n      ).andExpect(status().isCreated());\n      Assertions.assertEquals(1, productRepository.findAll().size());\n   }\n\n   private ProductRequest getProductRequest(){\n      return ProductRequest.builder()\n            .name(&quot;Test Product&quot;)\n            .description(&quot;Test Description&quot;)\n            .price(BigDecimal.valueOf(1000))\n            .build();\n   }\n\n}\n\n</code></pre>\n<p>`\nYou you want to refer further my code, please find it on github, this is the link,\n<a href=\"https://github.com/GayanKod/TheShoeShop-microservices_backend\" rel=\"nofollow noreferrer\">https://github.com/GayanKod/TheShoeShop-microservices_backend</a></p>\n<p>I'm expecting to pass these tests successfully. But it's given the above-mentioned errors and couldn't reach my goal. PS. I used test containers to write this integration test.</p>\n"},{"tags":["java",".net","windows","logging","trace"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":3,"creation_date":1417508880,"post_id":27244807,"comment_id":42964955,"body_markdown":"[Event Logging vs. Tracing](http://en.wikipedia.org/wiki/Tracing_%28software%29) sums it up nicely.","body":"<a href=\"http://en.wikipedia.org/wiki/Tracing_%28software%29\" rel=\"nofollow noreferrer\">Event Logging vs. Tracing</a> sums it up nicely."}],"answers":[{"tags":[],"owner":{"account_id":4805038,"reputation":1687,"user_id":3880437,"accept_rate":67,"display_name":"Stopfan"},"down_vote_count":3,"up_vote_count":63,"is_accepted":false,"score":60,"last_activity_date":1614282349,"creation_date":1417508778,"answer_id":27244884,"question_id":27244807,"body_markdown":"**`Logging`** is not **`Tracing`**!\r\n\r\n## `Logging`\r\n\r\nWhen you design a big application, you need to have good and flexible error reporting - perhaps across machines - to collect log data in a centralized way. That is a perfect use case for the `Logging Application Block` where you configure some remote trace listener, and send the log data to a central log server which stores its log messages in a database, log file or whatever. If you use out-of-process communication, you are limited by the network performance already, which in the best case is several thousand logs/s.\r\n\r\n## `Tracing`\r\n\r\nBesides Error Reporting, you also need to trace your program flow to find out where the performance bottlenecks are; even more importantly, when an error occurs, you have a chance to find out how you did get there. In an ideal world, every function would have some tracing enabled with the function duration, passed parameters, and how far you did get into your function.","title":"What is the difference between Tracing and Logging?","body":"<p><strong><code>Logging</code></strong> is not <strong><code>Tracing</code></strong>!</p>\n<h2><code>Logging</code></h2>\n<p>When you design a big application, you need to have good and flexible error reporting - perhaps across machines - to collect log data in a centralized way. That is a perfect use case for the <code>Logging Application Block</code> where you configure some remote trace listener, and send the log data to a central log server which stores its log messages in a database, log file or whatever. If you use out-of-process communication, you are limited by the network performance already, which in the best case is several thousand logs/s.</p>\n<h2><code>Tracing</code></h2>\n<p>Besides Error Reporting, you also need to trace your program flow to find out where the performance bottlenecks are; even more importantly, when an error occurs, you have a chance to find out how you did get there. In an ideal world, every function would have some tracing enabled with the function duration, passed parameters, and how far you did get into your function.</p>\n"},{"tags":[],"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlovi"},"down_vote_count":8,"up_vote_count":14,"is_accepted":false,"score":6,"last_activity_date":1614282234,"creation_date":1417508802,"answer_id":27244894,"question_id":27244807,"body_markdown":"**`Trace`** is the least filtered level of logging. Each logging statement has a level of filtering:\r\n\r\n - `trace`\r\n - `debug`\r\n - `warning`\r\n - `error`\r\n - `severe`\r\n\r\nFor example. if the logging library is configured to log with level `warning` then all `warning`, `error` and `severe` logging statements will be printing messages to the logging output.","title":"What is the difference between Tracing and Logging?","body":"<p><strong><code>Trace</code></strong> is the least filtered level of logging. Each logging statement has a level of filtering:</p>\n<ul>\n<li><code>trace</code></li>\n<li><code>debug</code></li>\n<li><code>warning</code></li>\n<li><code>error</code></li>\n<li><code>severe</code></li>\n</ul>\n<p>For example. if the logging library is configured to log with level <code>warning</code> then all <code>warning</code>, <code>error</code> and <code>severe</code> logging statements will be printing messages to the logging output.</p>\n"},{"tags":[],"owner":{"account_id":87714,"reputation":5897,"user_id":243104,"accept_rate":63,"display_name":"Graham Lea"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1629378342,"creation_date":1629378342,"answer_id":68848443,"question_id":27244807,"body_markdown":"If the context is developing an Observability capability across a **distributed architecture**, it&#39;s common for people to talk about metrics, logs, and tracing. In this context, tracing refers to *distributed tracing*.\r\n\r\nDistributed tracing is a specialised type of telemetry (similar to logging, but different), and is usually produced in a highly automated fashion through instrumentation frameworks. The telemetry is sent from the individual services in the system and aggregated by a central service (a distributed tracer), which is able to piece together telemetry from many individual services into a single trace for each request that entered the system. It can then provide a timeline and graph of how a request moved through the services in the system. The main purposes of distributed traces are to investigate performance degradations, error propagation, and dependency interactions throughout distributed systems.\r\n\r\nWhereas tracing in a more traditional monolithic context would typically be looking at tracing individual function calls within an application, distributed tracing is typically only concerned with the interactions *between* services. Telemetry of function-call-level details is possible but rarely implemented.\r\n\r\nFor more info about distributed tracing, a good intro can be found at: https://opentelemetry.lightstep.com/tracing/","title":"What is the difference between Tracing and Logging?","body":"<p>If the context is developing an Observability capability across a <strong>distributed architecture</strong>, it's common for people to talk about metrics, logs, and tracing. In this context, tracing refers to <em>distributed tracing</em>.</p>\n<p>Distributed tracing is a specialised type of telemetry (similar to logging, but different), and is usually produced in a highly automated fashion through instrumentation frameworks. The telemetry is sent from the individual services in the system and aggregated by a central service (a distributed tracer), which is able to piece together telemetry from many individual services into a single trace for each request that entered the system. It can then provide a timeline and graph of how a request moved through the services in the system. The main purposes of distributed traces are to investigate performance degradations, error propagation, and dependency interactions throughout distributed systems.</p>\n<p>Whereas tracing in a more traditional monolithic context would typically be looking at tracing individual function calls within an application, distributed tracing is typically only concerned with the interactions <em>between</em> services. Telemetry of function-call-level details is possible but rarely implemented.</p>\n<p>For more info about distributed tracing, a good intro can be found at: <a href=\"https://opentelemetry.lightstep.com/tracing/\" rel=\"noreferrer\">https://opentelemetry.lightstep.com/tracing/</a></p>\n"},{"tags":[],"owner":{"account_id":13698458,"reputation":1,"user_id":9884372,"display_name":"zsery"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667980236,"creation_date":1667729926,"answer_id":74334919,"question_id":27244807,"body_markdown":"Logging is for performance monitoring too. Does not need to be true that only trace is able to find out where the performance bottlenecks are. Both can work in distributed mode.","title":"What is the difference between Tracing and Logging?","body":"<p>Logging is for performance monitoring too. Does not need to be true that only trace is able to find out where the performance bottlenecks are. Both can work in distributed mode.</p>\n"}],"owner":{"account_id":46110,"reputation":51793,"user_id":136141,"accept_rate":67,"display_name":"pencilCake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37565,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":4,"score":64,"last_activity_date":1667980236,"creation_date":1417508479,"question_id":27244807,"body_markdown":"From the terminology point of view and in general, what is the difference between a `tracing` and a `logging` ?\r\n\r\nThanks!","title":"What is the difference between Tracing and Logging?","body":"<p>From the terminology point of view and in general, what is the difference between a <code>tracing</code> and a <code>logging</code> ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1660108976,"post_id":73300913,"comment_id":129451835,"body_markdown":"maybe get rid of `rc`","body":"maybe get rid of <code>rc</code>"},{"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"score":0,"creation_date":1660109212,"post_id":73300913,"comment_id":129451876,"body_markdown":"can you write completed answer or example?","body":"can you write completed answer or example?"}],"answers":[{"tags":[],"owner":{"account_id":8646527,"reputation":685,"user_id":6473557,"accept_rate":0,"display_name":"Thomson Ignesious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660109684,"creation_date":1660109684,"answer_id":73301075,"question_id":73300913,"body_markdown":"You need not to use alias for the table.\r\n\r\n    public interface ReportCommentRepository extends JpaRepository&lt;ReportComment, Long&gt; {\r\n        @Modifying\r\n        @Query(&quot;update ReportComment  set reportStatus = :status where relation.comment.id = :#{#comment.id}&quot;)\r\n        int updateAll(@Param(&quot;comment&quot;)Comment comment, @Param(&quot;status&quot;) ReportStatus status); }","title":"How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?","body":"<p>You need not to use alias for the table.</p>\n<pre><code>public interface ReportCommentRepository extends JpaRepository&lt;ReportComment, Long&gt; {\n    @Modifying\n    @Query(&quot;update ReportComment  set reportStatus = :status where relation.comment.id = :#{#comment.id}&quot;)\n    int updateAll(@Param(&quot;comment&quot;)Comment comment, @Param(&quot;status&quot;) ReportStatus status); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660155851,"creation_date":1660155851,"answer_id":73311057,"question_id":73300913,"body_markdown":"I added updateReportStatus function, since the &quot;updateAll&quot; function changes updates only report status.\r\n```java\r\n    @Transactional\r\n    public int updateAll(Posting posting, ReportStatus status) {\r\n        return reportPostingRepository.updateAll(posting, status);\r\n    }\r\n\r\n    @Transactional\r\n    public int updateReportStatus(ReportPosting report, ReportStatus status) {\r\n        return reportPostingRepository.updateReportStatus(report, status);\r\n    }\r\n```\r\n```java\r\n    @Modifying\r\n    @Query(&quot;update ReportPosting rp set rp.reportStatus = :status where rp.id = :#{#report.id}&quot;)\r\n    int updateReportStatus(@Param(&quot;report&quot;) ReportPosting report, @Param(&quot;status&quot;) ReportStatus status);\r\n```\r\n```java\r\n        ReportPosting report = adminReportPostingService.findById(reportId);\r\n//\t\tadminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus); // By this line, getting error.\r\n\t\tadminReportPostingService.updateReportStatus(report, reportStatus);\r\n```\r\nFinally, I could get reportPosting item updated by reportStatus.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?","body":"<p>I added updateReportStatus function, since the &quot;updateAll&quot; function changes updates only report status.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Transactional\n    public int updateAll(Posting posting, ReportStatus status) {\n        return reportPostingRepository.updateAll(posting, status);\n    }\n\n    @Transactional\n    public int updateReportStatus(ReportPosting report, ReportStatus status) {\n        return reportPostingRepository.updateReportStatus(report, status);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Modifying\n    @Query(&quot;update ReportPosting rp set rp.reportStatus = :status where rp.id = :#{#report.id}&quot;)\n    int updateReportStatus(@Param(&quot;report&quot;) ReportPosting report, @Param(&quot;status&quot;) ReportStatus status);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>        ReportPosting report = adminReportPostingService.findById(reportId);\n//      adminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus); // By this line, getting error.\n        adminReportPostingService.updateReportStatus(report, reportStatus);\n</code></pre>\n<p>Finally, I could get reportPosting item updated by reportStatus.</p>\n"},{"tags":[],"owner":{"account_id":25310052,"reputation":1,"user_id":19132923,"display_name":"Kayitare Audax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667980166,"creation_date":1667980166,"answer_id":74371465,"question_id":73300913,"body_markdown":"For me to solve this problem. I found that I did not create a default constructor of Entity POJO class. I solved it by creating default constructor(NoArgsConstructor).","title":"How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?","body":"<p>For me to solve this problem. I found that I did not create a default constructor of Entity POJO class. I solved it by creating default constructor(NoArgsConstructor).</p>\n"}],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15678,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":73311057,"answer_count":3,"score":5,"last_activity_date":1667980166,"creation_date":1660108349,"question_id":73300913,"body_markdown":"How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?\r\n\r\nI have got such this error while running my app. I share my code snippet related service and repository. When I change the reportStatus of comment and post, I get contrasted results of success and failure.\r\n\r\nThe configured yaml file is below.\r\n\r\n```yaml\r\n jpa:\r\n    open-in-view: false\r\n    database: MYSQL\r\n    generate-ddl: true\r\n    show-sql: true\r\n    hibernate:\r\n      ddl-auto: update\r\n      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\n    properties:\r\n      hibernate:\r\n        use-new-id-generator-mappings: false\r\n        enable_lazy_load_no_trans: true\r\n        format_sql: true\r\n        use_sql_comments: true\r\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n#       dialect: org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect\r\n        default_batch_fetch_size: 100\r\n        search:\r\n          autoregister_listeners: false\r\n          indexing_strategy: manual\r\n          default:\r\n            indexmanager: elasticsearch   #5.6.16\r\n          elasticsearch:\r\n            host: http://localhost:9200\r\n              index_schema_management_strategy: update   #update\r\n              #username: user\r\n              #password: password\r\n              log:\r\n                json_pretty_printing: true\r\n              required_index_status: yellow\r\n              dynamic_mapping: true\r\n              update_all_types: true\r\n```\r\n\r\n\r\n```java\r\n// RestAdminReportController //\r\n\r\n\t@JsonView(Views.WebAdminJsonView.class)\r\n  @PostMapping(path = &quot;/{id}/changeStatus&quot;)\r\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; changeStatus(@PathVariable long id, @RequestParam ReportStatus reportStatus, @RequestParam long reportId) {\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n    User loginUser = authUtils.getCurrentUser();\r\n    log.info(&quot;ReportID : {}, PostingID : {}, ChangeStatus : {}&quot;, reportId, id, reportStatus);\r\n    ReportPosting report = adminReportPostingService.findById(reportId);\r\n    adminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus);\r\n    boolean isBlind = reportStatus.equals(ReportStatus.BLOCK);\r\n    postingService.blindPosting(id, loginUser, isBlind);\r\n\r\n    map.put(&quot;resultCode&quot;, &quot;1000&quot;);\r\n    map.put(&quot;data&quot;, &quot;&quot;);\r\n    return new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\r\n  }\r\n\r\n  @JsonView(Views.WebAdminJsonView.class)\r\n  @PostMapping(path = &quot;/{id}/changeCommentStatus&quot;)\r\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; changeCommentStatus(@PathVariable long id, @RequestParam ReportStatus reportStatus, @RequestParam long reportId) {\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\n    User loginUser = authUtils.getCurrentUser();\r\n    log.info(&quot;ReportID : {}, CommentID : {}, ChangeStatus : {}&quot;, reportId, id, reportStatus);\r\n    ReportComment report = adminReportCommentService.findById(reportId);\r\n    adminReportCommentService.updateAll(report.getRelation().getComment(), reportStatus);\r\n\r\n\r\n    boolean isBlind = reportStatus.equals(ReportStatus.BLOCK);\r\n    postingService.blindComment(id, loginUser, isBlind);\r\n\r\n    map.put(&quot;resultCode&quot;, &quot;1000&quot;);\r\n    map.put(&quot;data&quot;, &quot;&quot;);\r\n    return new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\r\n  }\r\n\r\n// ReportCommentRepository //\r\npublic interface ReportCommentRepository extends JpaRepository&lt;ReportComment, Long&gt; {\r\n    ...\r\n\r\n    @Modifying\r\n    @Query(&quot;update ReportComment rc set rc.reportStatus = :status where rc.relation.comment.id = :#{#comment.id}&quot;)\r\n    int updateAll(@Param(&quot;comment&quot;)Comment comment, @Param(&quot;status&quot;) ReportStatus status);\r\n}\r\n\r\n// ReportPostingRepository //\r\n\r\npublic interface ReportPostingRepository extends JpaRepository&lt;ReportPosting, Long&gt; {\r\n\r\n    ...\r\n\r\n    @Modifying\r\n    @Query(&quot;update ReportPosting rc set rc.reportStatus = :status where rc.relation.posting.id = :#{#posting.id}&quot;)\r\n    int updateAll(@Param(&quot;posting&quot;) Posting posting, @Param(&quot;status&quot;) ReportStatus status);\r\n}\r\n\r\n// Posting Model //\r\n\r\n@Data\r\n@EqualsAndHashCode(callSuper = false)\r\n@Entity\r\n@DiscriminatorColumn(columnDefinition = &quot;char(2)&quot;, discriminatorType = DiscriminatorType.STRING)\r\n@DiscriminatorValue(&quot;PO&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString()\r\n@Where(clause = &quot;is_delete = false&quot;)\r\n@DynamicUpdate\r\n@AnalyzerDef(name = &quot;text_analyzer&quot;,\r\n        tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),\r\n        filters = {\r\n                @TokenFilterDef(factory = StandardFilterFactory.class),\r\n                @TokenFilterDef(factory = LowerCaseFilterFactory.class),\r\n                @TokenFilterDef(factory = StopFilterFactory.class),\r\n        }\r\n)\r\n@Table(indexes = {@Index(name = &quot;IDX_TYPE&quot;, columnList = &quot;dtype&quot;)})\r\npublic abstract class Posting extends BaseEntity implements INotification, WithCondition, IActivity, IYoutube, IPhotoAlbum {\r\n  ...\r\n}\r\n\r\n// Comment Model //\r\n\r\n@Data\r\n//@Indexed(index = ElasticsearchConfig.INDEX_NAME)\r\n@Entity\r\n@DynamicUpdate\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@EqualsAndHashCode(callSuper = false, of = {&quot;id&quot;})\r\n@ToString\r\n@Table(indexes = {@javax.persistence.Index(name = &quot;IDX_POSTING&quot;, columnList = &quot;posting_id&quot;)})\r\n@JsonIgnoreProperties({&quot;hibernateLazwyInitializer&quot;})\r\n@AnalyzerDef(name = &quot;comment&quot;,\r\n        tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),\r\n        filters = {\r\n                @TokenFilterDef(factory = StandardFilterFactory.class),\r\n                @TokenFilterDef(factory = LowerCaseFilterFactory.class),\r\n                @TokenFilterDef(factory = StopFilterFactory.class),\r\n        }\r\n)\r\n@AnalyzerDef(name = &quot;comment_remove_nickname_analyzer&quot;, charFilters =\r\n        {\r\n                @CharFilterDef(factory = PatternReplaceCharFilterFactory.class, params =\r\n                        {\r\n                                @Parameter(name = &quot;pattern&quot;, value = &quot;(\\\\[.*\\\\])&quot;),\r\n                                @Parameter(name = &quot;replacement&quot;, value = &quot;&quot;)\r\n                        })\r\n        }, tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), filters =\r\n        {\r\n                @TokenFilterDef(factory = StandardFilterFactory.class), @TokenFilterDef(factory = LowerCaseFilterFactory.class),\r\n        })\r\n\r\npublic class Comment extends BaseEntity implements INotification, IActivity {\r\n  ...\r\n}\r\n```\r\nAfter run the below function, I got the comment item updated successfully.\r\n```java\r\nadminReportCommentService.updateAll(report.getRelation().getComment(), reportStatus);\r\n```\r\n\r\nOn the contrary, there is another function but similar in logic. And after this function run, got a failure like below.\r\n```java\r\nadminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus);\r\n```\r\n\r\n```\r\n[Admin][2022-08-10 00:55:22][TRACE][BasicBinder.java][bind(64)] : binding parameter [1] as [INTEGER] - [2]\r\n[Admin][2022-08-10 00:55:22][TRACE][BasicBinder.java][bind(64)] : binding parameter [2] as [BIGINT] - [2003441]\r\n[Admin][2022-08-10 00:55:22][WARN ][SqlExceptionHelper.java][logExceptions(137)] : SQL Error: 1064, SQLState: 42000\r\n[Admin][2022-08-10 00:55:22][ERROR][SqlExceptionHelper.java][logExceptions(142)] : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;set report_status=2 where id=2003441&#39; at line 1\r\n[Admin][2022-08-10 00:55:22][INFO ][ProxyLeakTask.java][cancel(91)] : Previously reported leaked connection com.mysql.cj.jdbc.ConnectionImpl@20d18bbc on thread http-nio-8081-exec-6 was returned to the pool (unleaked)\r\n[Admin][2022-08-10 00:55:22][ERROR][CommonExceptionHandler.java][paramViolationError(99)] : paramViolationError\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\r\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n        at jdk.proxy2/jdk.proxy2.$Proxy233.updateAll(Unknown Source)\r\n        at net.infobank.moyamo.service.AdminReportPostingService.updateAll(AdminReportPostingService.java:44)\r\n        at net.infobank.moyamo.service.AdminReportPostingService$$FastClassBySpringCGLIB$$636acc8e.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n        at net.infobank.moyamo.service.AdminReportPostingService$$EnhancerBySpringCGLIB$$d8cddc1f.updateAll(&lt;generated&gt;)\r\n        at net.infobank.moyamo.controller.RestAdminReportController.changeStatus(RestAdminReportController.java:85)\r\n        at net.infobank.moyamo.controller.RestAdminReportController$$FastClassBySpringCGLIB$$b2100f08.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n        at net.infobank.moyamo.aop.AdminRestAspect.restApiControllerAdviceAround(AdminRestAspect.java:36)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n        at net.infobank.moyamo.controller.RestAdminReportController$$EnhancerBySpringCGLIB$$593eb73f.changeStatus(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n        at org.hibernate.hql.internal.ast.exec.BasicExecutor.doExecute(BasicExecutor.java:80)\r\n        at org.hibernate.hql.internal.ast.exec.BasicExecutor.execute(BasicExecutor.java:50)\r\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.executeUpdate(QueryTranslatorImpl.java:458)\r\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performExecuteUpdate(HQLQueryPlan.java:377)\r\n        at org.hibernate.internal.SessionImpl.executeUpdate(SessionImpl.java:1438)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.doExecuteUpdate(AbstractProducedQuery.java:1701)\r\n        at org.hibernate.query.internal.AbstractProducedQuery.executeUpdate(AbstractProducedQuery.java:1683)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:239)\r\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n        ... 133 common frames omitted\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;set report_status=2 where id=2003441&#39; at line 1\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n        ... 156 common frames omitted\r\n```\r\n\r\nThere are several types of models extended Posting model, such as Boast, Clinic, Free, Guide, Magazine, etc.\r\n\r\nI thought this errors turn on because Posting model is abstract class whereas Comment model is not abstract class.\r\nAm I right?\r\n\r\nI need your help.","title":"How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?","body":"<p>How to resolve &quot;could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement&quot;?</p>\n<p>I have got such this error while running my app. I share my code snippet related service and repository. When I change the reportStatus of comment and post, I get contrasted results of success and failure.</p>\n<p>The configured yaml file is below.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code> jpa:\n    open-in-view: false\n    database: MYSQL\n    generate-ddl: true\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\n\n    properties:\n      hibernate:\n        use-new-id-generator-mappings: false\n        enable_lazy_load_no_trans: true\n        format_sql: true\n        use_sql_comments: true\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n#       dialect: org.hibernate.spatial.dialect.mysql.MySQL5SpatialDialect\n        default_batch_fetch_size: 100\n        search:\n          autoregister_listeners: false\n          indexing_strategy: manual\n          default:\n            indexmanager: elasticsearch   #5.6.16\n          elasticsearch:\n            host: http://localhost:9200\n              index_schema_management_strategy: update   #update\n              #username: user\n              #password: password\n              log:\n                json_pretty_printing: true\n              required_index_status: yellow\n              dynamic_mapping: true\n              update_all_types: true\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// RestAdminReportController //\n\n    @JsonView(Views.WebAdminJsonView.class)\n  @PostMapping(path = &quot;/{id}/changeStatus&quot;)\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; changeStatus(@PathVariable long id, @RequestParam ReportStatus reportStatus, @RequestParam long reportId) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n    User loginUser = authUtils.getCurrentUser();\n    log.info(&quot;ReportID : {}, PostingID : {}, ChangeStatus : {}&quot;, reportId, id, reportStatus);\n    ReportPosting report = adminReportPostingService.findById(reportId);\n    adminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus);\n    boolean isBlind = reportStatus.equals(ReportStatus.BLOCK);\n    postingService.blindPosting(id, loginUser, isBlind);\n\n    map.put(&quot;resultCode&quot;, &quot;1000&quot;);\n    map.put(&quot;data&quot;, &quot;&quot;);\n    return new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\n  }\n\n  @JsonView(Views.WebAdminJsonView.class)\n  @PostMapping(path = &quot;/{id}/changeCommentStatus&quot;)\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; changeCommentStatus(@PathVariable long id, @RequestParam ReportStatus reportStatus, @RequestParam long reportId) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\n    User loginUser = authUtils.getCurrentUser();\n    log.info(&quot;ReportID : {}, CommentID : {}, ChangeStatus : {}&quot;, reportId, id, reportStatus);\n    ReportComment report = adminReportCommentService.findById(reportId);\n    adminReportCommentService.updateAll(report.getRelation().getComment(), reportStatus);\n\n\n    boolean isBlind = reportStatus.equals(ReportStatus.BLOCK);\n    postingService.blindComment(id, loginUser, isBlind);\n\n    map.put(&quot;resultCode&quot;, &quot;1000&quot;);\n    map.put(&quot;data&quot;, &quot;&quot;);\n    return new ResponseEntity&lt;&gt;(map, HttpStatus.OK);\n  }\n\n// ReportCommentRepository //\npublic interface ReportCommentRepository extends JpaRepository&lt;ReportComment, Long&gt; {\n    ...\n\n    @Modifying\n    @Query(&quot;update ReportComment rc set rc.reportStatus = :status where rc.relation.comment.id = :#{#comment.id}&quot;)\n    int updateAll(@Param(&quot;comment&quot;)Comment comment, @Param(&quot;status&quot;) ReportStatus status);\n}\n\n// ReportPostingRepository //\n\npublic interface ReportPostingRepository extends JpaRepository&lt;ReportPosting, Long&gt; {\n\n    ...\n\n    @Modifying\n    @Query(&quot;update ReportPosting rc set rc.reportStatus = :status where rc.relation.posting.id = :#{#posting.id}&quot;)\n    int updateAll(@Param(&quot;posting&quot;) Posting posting, @Param(&quot;status&quot;) ReportStatus status);\n}\n\n// Posting Model //\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@DiscriminatorColumn(columnDefinition = &quot;char(2)&quot;, discriminatorType = DiscriminatorType.STRING)\n@DiscriminatorValue(&quot;PO&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString()\n@Where(clause = &quot;is_delete = false&quot;)\n@DynamicUpdate\n@AnalyzerDef(name = &quot;text_analyzer&quot;,\n        tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),\n        filters = {\n                @TokenFilterDef(factory = StandardFilterFactory.class),\n                @TokenFilterDef(factory = LowerCaseFilterFactory.class),\n                @TokenFilterDef(factory = StopFilterFactory.class),\n        }\n)\n@Table(indexes = {@Index(name = &quot;IDX_TYPE&quot;, columnList = &quot;dtype&quot;)})\npublic abstract class Posting extends BaseEntity implements INotification, WithCondition, IActivity, IYoutube, IPhotoAlbum {\n  ...\n}\n\n// Comment Model //\n\n@Data\n//@Indexed(index = ElasticsearchConfig.INDEX_NAME)\n@Entity\n@DynamicUpdate\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@EqualsAndHashCode(callSuper = false, of = {&quot;id&quot;})\n@ToString\n@Table(indexes = {@javax.persistence.Index(name = &quot;IDX_POSTING&quot;, columnList = &quot;posting_id&quot;)})\n@JsonIgnoreProperties({&quot;hibernateLazwyInitializer&quot;})\n@AnalyzerDef(name = &quot;comment&quot;,\n        tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),\n        filters = {\n                @TokenFilterDef(factory = StandardFilterFactory.class),\n                @TokenFilterDef(factory = LowerCaseFilterFactory.class),\n                @TokenFilterDef(factory = StopFilterFactory.class),\n        }\n)\n@AnalyzerDef(name = &quot;comment_remove_nickname_analyzer&quot;, charFilters =\n        {\n                @CharFilterDef(factory = PatternReplaceCharFilterFactory.class, params =\n                        {\n                                @Parameter(name = &quot;pattern&quot;, value = &quot;(\\\\[.*\\\\])&quot;),\n                                @Parameter(name = &quot;replacement&quot;, value = &quot;&quot;)\n                        })\n        }, tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class), filters =\n        {\n                @TokenFilterDef(factory = StandardFilterFactory.class), @TokenFilterDef(factory = LowerCaseFilterFactory.class),\n        })\n\npublic class Comment extends BaseEntity implements INotification, IActivity {\n  ...\n}\n</code></pre>\n<p>After run the below function, I got the comment item updated successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>adminReportCommentService.updateAll(report.getRelation().getComment(), reportStatus);\n</code></pre>\n<p>On the contrary, there is another function but similar in logic. And after this function run, got a failure like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>adminReportPostingService.updateAll(report.getRelation().getPosting(), reportStatus);\n</code></pre>\n<pre><code>[Admin][2022-08-10 00:55:22][TRACE][BasicBinder.java][bind(64)] : binding parameter [1] as [INTEGER] - [2]\n[Admin][2022-08-10 00:55:22][TRACE][BasicBinder.java][bind(64)] : binding parameter [2] as [BIGINT] - [2003441]\n[Admin][2022-08-10 00:55:22][WARN ][SqlExceptionHelper.java][logExceptions(137)] : SQL Error: 1064, SQLState: 42000\n[Admin][2022-08-10 00:55:22][ERROR][SqlExceptionHelper.java][logExceptions(142)] : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'set report_status=2 where id=2003441' at line 1\n[Admin][2022-08-10 00:55:22][INFO ][ProxyLeakTask.java][cancel(91)] : Previously reported leaked connection com.mysql.cj.jdbc.ConnectionImpl@20d18bbc on thread http-nio-8081-exec-6 was returned to the pool (unleaked)\n[Admin][2022-08-10 00:55:22][ERROR][CommonExceptionHandler.java][paramViolationError(99)] : paramViolationError\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n        at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n        at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at jdk.proxy2/jdk.proxy2.$Proxy233.updateAll(Unknown Source)\n        at net.infobank.moyamo.service.AdminReportPostingService.updateAll(AdminReportPostingService.java:44)\n        at net.infobank.moyamo.service.AdminReportPostingService$$FastClassBySpringCGLIB$$636acc8e.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at net.infobank.moyamo.service.AdminReportPostingService$$EnhancerBySpringCGLIB$$d8cddc1f.updateAll(&lt;generated&gt;)\n        at net.infobank.moyamo.controller.RestAdminReportController.changeStatus(RestAdminReportController.java:85)\n        at net.infobank.moyamo.controller.RestAdminReportController$$FastClassBySpringCGLIB$$b2100f08.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n        at net.infobank.moyamo.aop.AdminRestAspect.restApiControllerAdviceAround(AdminRestAspect.java:36)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at net.infobank.moyamo.controller.RestAdminReportController$$EnhancerBySpringCGLIB$$593eb73f.changeStatus(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:97)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n        at org.hibernate.hql.internal.ast.exec.BasicExecutor.doExecute(BasicExecutor.java:80)\n        at org.hibernate.hql.internal.ast.exec.BasicExecutor.execute(BasicExecutor.java:50)\n        at org.hibernate.hql.internal.ast.QueryTranslatorImpl.executeUpdate(QueryTranslatorImpl.java:458)\n        at org.hibernate.engine.query.spi.HQLQueryPlan.performExecuteUpdate(HQLQueryPlan.java:377)\n        at org.hibernate.internal.SessionImpl.executeUpdate(SessionImpl.java:1438)\n        at org.hibernate.query.internal.AbstractProducedQuery.doExecuteUpdate(AbstractProducedQuery.java:1701)\n        at org.hibernate.query.internal.AbstractProducedQuery.executeUpdate(AbstractProducedQuery.java:1683)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution$ModifyingExecution.doExecute(JpaQueryExecution.java:239)\n        at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n        at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n        ... 133 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'set report_status=2 where id=2003441' at line 1\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:97)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1347)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n        ... 156 common frames omitted\n</code></pre>\n<p>There are several types of models extended Posting model, such as Boast, Clinic, Free, Guide, Magazine, etc.</p>\n<p>I thought this errors turn on because Posting model is abstract class whereas Comment model is not abstract class.\nAm I right?</p>\n<p>I need your help.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":23270105,"reputation":1,"user_id":17355076,"display_name":"lauytao fing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667980068,"creation_date":1667980068,"answer_id":74371447,"question_id":74365435,"body_markdown":"err this line code:\r\n        at com.freshop.android.consumer.adapter.DepartmentsAdapter$CustomViewHolder$1.onScrollStateChanged(DepartmentsAdapter.java:526)\r\n\r\nwrite your DepartmentsAdapter class,see.....","title":"How to resolve java.lang.IndexOutOfBoundsException: Index: 43, Size: 36 in Android recyclerview?","body":"<p>err this line code:\nat com.freshop.android.consumer.adapter.DepartmentsAdapter$CustomViewHolder$1.onScrollStateChanged(DepartmentsAdapter.java:526)</p>\n<p>write your DepartmentsAdapter class,see.....</p>\n"}],"owner":{"account_id":9207551,"reputation":21,"user_id":6842190,"display_name":"Hemal Adani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667980068,"creation_date":1667931497,"question_id":74365435,"body_markdown":"**I am getting below error on scrolling very fast on recyclerview. It doesn&#39;t occur if I scroll slow.**\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.freshop.android.adhoc.consumer, PID: 12225\r\n        java.lang.IndexOutOfBoundsException: Index: 43, Size: 36\r\n            at java.util.ArrayList.get(ArrayList.java:437)\r\n            at com.freshop.android.consumer.adapter.DepartmentsAdapter$CustomViewHolder$1.onScrollStateChanged(DepartmentsAdapter.java:526)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchOnScrollStateChanged(RecyclerView.java:5210)\r\n            at androidx.recyclerview.widget.RecyclerView.setScrollState(RecyclerView.java:1550)\r\n            at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5397)\r\n\r\nHere is code snippet of DepartmentsAdapter.\r\n\r\n    public class CustomViewHolder extends RecyclerView.ViewHolder {\r\n            private final TextView departmentTitle;\r\n            private final TextView moreProducts;\r\n            private final RecyclerView mHorizontalRecyclerView;\r\n            private ProductShowcaseAdapter showcaseAdapter;\r\n            private final ProgressBar progress;\r\n            private final FrameLayout item_framelayout;\r\n            private final LinearLayout pr_row;\r\n    \r\n            public CustomViewHolder(View itemView) {\r\n                super(itemView);\r\n                pr_row = itemView.findViewById(R.id.pr_row);\r\n                departmentTitle = itemView.findViewById(R.id.department);\r\n                moreProducts = itemView.findViewById(R.id.moreProducts);\r\n                progress = itemView.findViewById(R.id.progress);\r\n                item_framelayout = itemView.findViewById(R.id.item);\r\n                mHorizontalRecyclerView = itemView.findViewById(R.id.products_collection_row);\r\n            }\r\n    \r\n            public void bind(final CustomViewHolder holder,\r\n                             final Department department,\r\n                             final int position, final OnItemClickListener listener) {\r\n                Log.d(TAG,&quot;bind&quot;);\r\n                if (department == null) { return; }\r\n                if (department.getDepartmentProducts() != null &amp;&amp; department.getDepartmentProducts().size() &gt; 0) {\r\n                    holder.departmentTitle.setText(department.getName());\r\n                    if (!department.getHasViewMore()) {\r\n                        holder.moreProducts.setVisibility(View.GONE);\r\n                    } else {\r\n                        holder.moreProducts.setVisibility(View.VISIBLE);\r\n                        holder.moreProducts.setText(R.string.lbl_more);\r\n                        holder.moreProducts.setContentDescription(department.getName() + context.get().getString(R.string.lbl_more));\r\n                        holder.moreProducts.setTextColor(Theme.primaryColor);\r\n                        holder.moreProducts.setOnClickListener(v -&gt; {\r\n                            if(fragment != null) {\r\n                                (((ProductShowcaseFragment)fragment)).updateDataScrollToTopListener();\r\n                            }\r\n                            listener.onItemClick(null, department, AppConstants.PRODUCTBTNTYPEMORE, null, null, 0, 0);\r\n                        });\r\n                    }\r\n    \r\n                    List&lt;Product&gt; products1 = DataHelper.updateProductsWithFavAndListItems(department.getDepartmentProducts(), shoppingListItems);\r\n    \r\n                    if (showcaseAdapter == null &amp;&amp; context != null) {\r\n                        //Log.d(TAG,&quot;showcaseAdapter == null&quot;);\r\n                        showcaseAdapter = new ProductShowcaseAdapter(context.get(), imageConfig, products1, shoppingListItems,\r\n                                (data, product, holder1, type, pos) -&gt; listener.onItemClick(product, department, type, holder1, data, position, pos),\r\n                                DataHelper::trackUrlOnLoad);\r\n    \r\n                        mHorizontalRecyclerView.setNestedScrollingEnabled(false);\r\n                        ((SimpleItemAnimator) Objects.requireNonNull(mHorizontalRecyclerView.getItemAnimator())).setSupportsChangeAnimations(false);\r\n    \r\n                        if (context != null) {\r\n                            LinearLayoutManager llm = new LinearLayoutManager(context.get());\r\n                            llm.setOrientation(LinearLayoutManager.HORIZONTAL);\r\n                            mHorizontalRecyclerView.setLayoutManager(llm);\r\n                        }\r\n                        mHorizontalRecyclerView.setAdapter(holder.showcaseAdapter);\r\n                    } else {\r\n                        //Log.d(TAG,&quot;showcaseAdapter != null&quot;);\r\n                        if (showcaseAdapter != null)\r\n                            showcaseAdapter.updateDataSet(products1, shoppingListItems);\r\n                    }\r\n    \r\n                    holder.item_framelayout.setVisibility(View.VISIBLE);\r\n                    holder.progress.setVisibility(View.GONE);\r\n    \r\n                    if (products1 != null &amp;&amp; products1.size() &gt;= Integer.parseInt(department.getLimit())) {\r\n                        mHorizontalRecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                            @Override\r\n                            public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\r\n                                super.onScrollStateChanged(recyclerView, newState);\r\n                                //Log.d(TAG,&quot;onScrollStateChanged&quot;);\r\n    \r\n                                if (!recyclerView.canScrollHorizontally(1) &amp;&amp; !mScrolled) {\r\n                                    if (scrollListener != null) {\r\n                                        //Log.d(TAG,&quot;scrollListener&quot;);\r\n                                        scrollListener.onScrollListener(true, department, position);\r\n                                    }\r\n                                }\r\n                                if (recyclerView.getLayoutManager() != null &amp;&amp;\r\n                                        department.getDepartmentProducts().size() &gt; 0 &amp;&amp;\r\n                                        ((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition() &gt;= 0) {\r\n                                    if (department.getDepartmentProducts().contains(department.getDepartmentProducts()\r\n\r\n**//Line 526 from stacktrace points here** \r\n\r\n        .get(((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition()))) {\r\n    DataHelper.trackUrlOnView(department.getDepartmentProducts().get(((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition()));\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n\r\nhere is DataHelper.trackUrlOnView\r\n\r\n    public static void trackUrlOnView(Product product) {\r\n            Log.d(TAG,&quot;trackUrlOnView&quot;);\r\n            if (product == null) return;\r\n    \r\n            if (DataHelper.isNullOrEmpty(product.getOnViewProductUrl())) return;\r\n    \r\n            if (product.getIsAd() &amp;&amp; !product.isHasViewedAd()\r\n                    &amp;&amp; !DataHelper.isNullOrEmpty(product.getOnViewProductUrl())) {\r\n                final Request request = new Request.Builder()\r\n                        .url(product.getOnViewProductUrl())\r\n                        .build();\r\n    \r\n                new Thread(() -&gt; {\r\n                    try {\r\n                        httpClient.newCall(request).execute();\r\n                        product.setHasViewedAd(true);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }).start();\r\n            }\r\n        }\r\n\r\n\r\nPlease let me know if you need anymore details. Any help would be appreciated. Thank you so much!\r\n","title":"How to resolve java.lang.IndexOutOfBoundsException: Index: 43, Size: 36 in Android recyclerview?","body":"<p><strong>I am getting below error on scrolling very fast on recyclerview. It doesn't occur if I scroll slow.</strong></p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.freshop.android.adhoc.consumer, PID: 12225\n    java.lang.IndexOutOfBoundsException: Index: 43, Size: 36\n        at java.util.ArrayList.get(ArrayList.java:437)\n        at com.freshop.android.consumer.adapter.DepartmentsAdapter$CustomViewHolder$1.onScrollStateChanged(DepartmentsAdapter.java:526)\n        at androidx.recyclerview.widget.RecyclerView.dispatchOnScrollStateChanged(RecyclerView.java:5210)\n        at androidx.recyclerview.widget.RecyclerView.setScrollState(RecyclerView.java:1550)\n        at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5397)\n</code></pre>\n<p>Here is code snippet of DepartmentsAdapter.</p>\n<pre><code>public class CustomViewHolder extends RecyclerView.ViewHolder {\n        private final TextView departmentTitle;\n        private final TextView moreProducts;\n        private final RecyclerView mHorizontalRecyclerView;\n        private ProductShowcaseAdapter showcaseAdapter;\n        private final ProgressBar progress;\n        private final FrameLayout item_framelayout;\n        private final LinearLayout pr_row;\n\n        public CustomViewHolder(View itemView) {\n            super(itemView);\n            pr_row = itemView.findViewById(R.id.pr_row);\n            departmentTitle = itemView.findViewById(R.id.department);\n            moreProducts = itemView.findViewById(R.id.moreProducts);\n            progress = itemView.findViewById(R.id.progress);\n            item_framelayout = itemView.findViewById(R.id.item);\n            mHorizontalRecyclerView = itemView.findViewById(R.id.products_collection_row);\n        }\n\n        public void bind(final CustomViewHolder holder,\n                         final Department department,\n                         final int position, final OnItemClickListener listener) {\n            Log.d(TAG,&quot;bind&quot;);\n            if (department == null) { return; }\n            if (department.getDepartmentProducts() != null &amp;&amp; department.getDepartmentProducts().size() &gt; 0) {\n                holder.departmentTitle.setText(department.getName());\n                if (!department.getHasViewMore()) {\n                    holder.moreProducts.setVisibility(View.GONE);\n                } else {\n                    holder.moreProducts.setVisibility(View.VISIBLE);\n                    holder.moreProducts.setText(R.string.lbl_more);\n                    holder.moreProducts.setContentDescription(department.getName() + context.get().getString(R.string.lbl_more));\n                    holder.moreProducts.setTextColor(Theme.primaryColor);\n                    holder.moreProducts.setOnClickListener(v -&gt; {\n                        if(fragment != null) {\n                            (((ProductShowcaseFragment)fragment)).updateDataScrollToTopListener();\n                        }\n                        listener.onItemClick(null, department, AppConstants.PRODUCTBTNTYPEMORE, null, null, 0, 0);\n                    });\n                }\n\n                List&lt;Product&gt; products1 = DataHelper.updateProductsWithFavAndListItems(department.getDepartmentProducts(), shoppingListItems);\n\n                if (showcaseAdapter == null &amp;&amp; context != null) {\n                    //Log.d(TAG,&quot;showcaseAdapter == null&quot;);\n                    showcaseAdapter = new ProductShowcaseAdapter(context.get(), imageConfig, products1, shoppingListItems,\n                            (data, product, holder1, type, pos) -&gt; listener.onItemClick(product, department, type, holder1, data, position, pos),\n                            DataHelper::trackUrlOnLoad);\n\n                    mHorizontalRecyclerView.setNestedScrollingEnabled(false);\n                    ((SimpleItemAnimator) Objects.requireNonNull(mHorizontalRecyclerView.getItemAnimator())).setSupportsChangeAnimations(false);\n\n                    if (context != null) {\n                        LinearLayoutManager llm = new LinearLayoutManager(context.get());\n                        llm.setOrientation(LinearLayoutManager.HORIZONTAL);\n                        mHorizontalRecyclerView.setLayoutManager(llm);\n                    }\n                    mHorizontalRecyclerView.setAdapter(holder.showcaseAdapter);\n                } else {\n                    //Log.d(TAG,&quot;showcaseAdapter != null&quot;);\n                    if (showcaseAdapter != null)\n                        showcaseAdapter.updateDataSet(products1, shoppingListItems);\n                }\n\n                holder.item_framelayout.setVisibility(View.VISIBLE);\n                holder.progress.setVisibility(View.GONE);\n\n                if (products1 != null &amp;&amp; products1.size() &gt;= Integer.parseInt(department.getLimit())) {\n                    mHorizontalRecyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n                        @Override\n                        public void onScrollStateChanged(@NonNull RecyclerView recyclerView, int newState) {\n                            super.onScrollStateChanged(recyclerView, newState);\n                            //Log.d(TAG,&quot;onScrollStateChanged&quot;);\n\n                            if (!recyclerView.canScrollHorizontally(1) &amp;&amp; !mScrolled) {\n                                if (scrollListener != null) {\n                                    //Log.d(TAG,&quot;scrollListener&quot;);\n                                    scrollListener.onScrollListener(true, department, position);\n                                }\n                            }\n                            if (recyclerView.getLayoutManager() != null &amp;&amp;\n                                    department.getDepartmentProducts().size() &gt; 0 &amp;&amp;\n                                    ((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition() &gt;= 0) {\n                                if (department.getDepartmentProducts().contains(department.getDepartmentProducts()\n</code></pre>\n<p><strong>//Line 526 from stacktrace points here</strong></p>\n<pre><code>    .get(((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition()))) {\nDataHelper.trackUrlOnView(department.getDepartmentProducts().get(((LinearLayoutManager) recyclerView.getLayoutManager()).findFirstCompletelyVisibleItemPosition()));\n                                    }\n                                }\n                            }\n                        });\n                    }\n                }\n</code></pre>\n<p>here is DataHelper.trackUrlOnView</p>\n<pre><code>public static void trackUrlOnView(Product product) {\n        Log.d(TAG,&quot;trackUrlOnView&quot;);\n        if (product == null) return;\n\n        if (DataHelper.isNullOrEmpty(product.getOnViewProductUrl())) return;\n\n        if (product.getIsAd() &amp;&amp; !product.isHasViewedAd()\n                &amp;&amp; !DataHelper.isNullOrEmpty(product.getOnViewProductUrl())) {\n            final Request request = new Request.Builder()\n                    .url(product.getOnViewProductUrl())\n                    .build();\n\n            new Thread(() -&gt; {\n                try {\n                    httpClient.newCall(request).execute();\n                    product.setHasViewedAd(true);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }).start();\n        }\n    }\n</code></pre>\n<p>Please let me know if you need anymore details. Any help would be appreciated. Thank you so much!</p>\n"},{"tags":["java","generics","inheritance","types","interface"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1667931259,"post_id":74365354,"comment_id":131284295,"body_markdown":"What would you expect to happen if you called `new WorkerPrinter().print(new Student())`? I believe you should make `Printer` generic *as an interface* rather than having a generic method - so `WorkerPrinter` would implement `Printer&lt;Worker&gt;`.","body":"What would you expect to happen if you called <code>new WorkerPrinter().print(new Student())</code>? I believe you should make <code>Printer</code> generic <i>as an interface</i> rather than having a generic method - so <code>WorkerPrinter</code> would implement <code>Printer&lt;Worker&gt;</code>."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1667931281,"post_id":74365354,"comment_id":131284302,"body_markdown":"Declare your Print method as an `abstract` method in Person.  This will require implementers of classes extending Person to override the Print method, and the correct Print method will be called automatically via runtime polymorphism.","body":"Declare your Print method as an <code>abstract</code> method in Person.  This will require implementers of classes extending Person to override the Print method, and the correct Print method will be called automatically via runtime polymorphism."},{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1667979051,"post_id":74365354,"comment_id":131294087,"body_markdown":"You can make your code work by simply doing a case distinction for the type of person and then cast it correspondingly:\n`if (person instanceof Worker) {System.out.println(((Worker)person).getSalary());}`\nand so on. I&#39;m not posting this as an answer, as it&#39;s not very elegant and as it&#39;s also not clear to me whether this is the kind of solution you are looking for.","body":"You can make your code work by simply doing a case distinction for the type of person and then cast it correspondingly: <code>if (person instanceof Worker) {System.out.println(((Worker)person).getSalary());}</code> and so on. I&#39;m not posting this as an answer, as it&#39;s not very elegant and as it&#39;s also not clear to me whether this is the kind of solution you are looking for."}],"answers":[{"tags":[],"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667980002,"creation_date":1667980002,"answer_id":74371432,"question_id":74365354,"body_markdown":"As @Jon Skeet already suggested (that&#39;s why I made this answer a community wiki answer, so feel free to improve further), you might want to make your interface have a generic type parameter T instead of having only a method with generic argument type T. Then you could write:\r\n\r\n    interface Printer&lt;T extends Person&gt; {\r\n        void print (T person);   \r\n    }\r\n    \r\n    class WorkerPrinter implements Printer&lt;Worker&gt; {\r\n    \r\n        @Override\r\n        public void print(Worker person) {\r\n            System.out.println(person.getName());\r\n            System.out.println(person.getSalary());\r\n        }\r\n    }\r\n\r\n","title":"Interface for 2 classes of same super class in Java","body":"<p>As @Jon Skeet already suggested (that's why I made this answer a community wiki answer, so feel free to improve further), you might want to make your interface have a generic type parameter T instead of having only a method with generic argument type T. Then you could write:</p>\n<pre><code>interface Printer&lt;T extends Person&gt; {\n    void print (T person);   \n}\n\nclass WorkerPrinter implements Printer&lt;Worker&gt; {\n\n    @Override\n    public void print(Worker person) {\n        System.out.println(person.getName());\n        System.out.println(person.getSalary());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26869925,"reputation":1,"user_id":20452094,"display_name":"Exeption_Error"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74371432,"answer_count":1,"score":-1,"last_activity_date":1667980002,"creation_date":1667931077,"question_id":74365354,"body_markdown":"Is there a way to write an interface whose method gets implemented by classes with the same super class? What I tried was using generic methods.\r\n\r\n```\r\nclass person{\r\n\tprivate String name;\r\n\t//getter and setter\r\n\t.\r\n}\r\n\r\n\r\nclass Student extends Person{\r\n\tprivate int points;\r\n\t//getter and setter\r\n\t.\r\n}\r\n\r\nclass Worker extends Person{\r\n\tprivate int salary;\r\n\t//getter and setter\r\n\t.\r\n}\r\n\r\ninterface Printer{\r\n\t&lt;T extends Person&gt; void print (T person); \t\r\n}\r\n\r\nclass WorkerPrinter implements Printer {\r\n\r\n    @Override\r\n    public &lt;T extends Person&gt; void print(T person) {\r\n        System.out.println(person.getName());\r\n        System.out.println(person.getSalary());\r\n    }\r\n}\r\n```\r\nThe compiler cannot resolve `person.getSalary()` even though the generic type T extends from `Person`.\r\n\r\nI want to use this interface in a similar way with a class `StudentPrinter` and the implemented Method `print(T Person)`\r\n\r\nSo basicly what I want is to use the Interface for different &quot;printerclasses&quot; which are inheriting from `Person`. This is just an example of course. I want to use this in a bigger example. Is this somehow possible? Does it even make sense?","title":"Interface for 2 classes of same super class in Java","body":"<p>Is there a way to write an interface whose method gets implemented by classes with the same super class? What I tried was using generic methods.</p>\n<pre><code>class person{\n    private String name;\n    //getter and setter\n    .\n}\n\n\nclass Student extends Person{\n    private int points;\n    //getter and setter\n    .\n}\n\nclass Worker extends Person{\n    private int salary;\n    //getter and setter\n    .\n}\n\ninterface Printer{\n    &lt;T extends Person&gt; void print (T person);   \n}\n\nclass WorkerPrinter implements Printer {\n\n    @Override\n    public &lt;T extends Person&gt; void print(T person) {\n        System.out.println(person.getName());\n        System.out.println(person.getSalary());\n    }\n}\n</code></pre>\n<p>The compiler cannot resolve <code>person.getSalary()</code> even though the generic type T extends from <code>Person</code>.</p>\n<p>I want to use this interface in a similar way with a class <code>StudentPrinter</code> and the implemented Method <code>print(T Person)</code></p>\n<p>So basicly what I want is to use the Interface for different &quot;printerclasses&quot; which are inheriting from <code>Person</code>. This is just an example of course. I want to use this in a bigger example. Is this somehow possible? Does it even make sense?</p>\n"},{"tags":["java","java-stream","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1643402500,"post_id":70897747,"comment_id":125339623,"body_markdown":"You could already improve the first solution using `join()` instead of `get()`, however the return type is constraining you to wait for all completions to be able to build the list. I can only advise to change the return type to something more meaningful, either `CompletableFuture&lt;List&lt;SomeObject&gt;&gt;` or `Stream&lt;SomeObject&gt;`, possibly using my [`flattenStreamOfFutures()`](https://stackoverflow.com/a/40225858/525036) if you dont care about order.","body":"You could already improve the first solution using <code>join()</code> instead of <code>get()</code>, however the return type is constraining you to wait for all completions to be able to build the list. I can only advise to change the return type to something more meaningful, either <code>CompletableFuture&lt;List&lt;SomeObject&gt;&gt;</code> or <code>Stream&lt;SomeObject&gt;</code>, possibly using my <a href=\"https://stackoverflow.com/a/40225858/525036\"><code>flattenStreamOfFutures()</code></a> if you dont care about order."}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643400125,"creation_date":1643399112,"answer_id":70899459,"question_id":70897747,"body_markdown":"If you absolutely must keep the return type you can map back from `List&lt;SomeObject&gt;` to `List&lt;CompletableFuture&lt;SomeObject&gt;&gt;` in your second approach: \r\n\r\n    stream\r\n        .map(CompletableFuture::join)\r\n        .filter(object -&gt; object.getSomeAttribute().equals(&quot;SOMETHING&quot;))\r\n        .map(CompletableFuture::completedFuture)\r\n        .toList();\r\n\r\nNote that this approach is still blocking though. A simple way to obtain a unblocking solution is wrapping your second approach itself into a `CompletableFuture`. However this would also impact the return type and turn it into `CompletableFuture&lt;List&lt;SomeObject&gt;&gt;`.\r\n\r\n","title":"Filtering a stream of CompletableFuture&lt;SomeObject&gt; on some attribute of SomeObject","body":"<p>If you absolutely must keep the return type you can map back from <code>List&lt;SomeObject&gt;</code> to <code>List&lt;CompletableFuture&lt;SomeObject&gt;&gt;</code> in your second approach:</p>\n<pre><code>stream\n    .map(CompletableFuture::join)\n    .filter(object -&gt; object.getSomeAttribute().equals(&quot;SOMETHING&quot;))\n    .map(CompletableFuture::completedFuture)\n    .toList();\n</code></pre>\n<p>Note that this approach is still blocking though. A simple way to obtain a unblocking solution is wrapping your second approach itself into a <code>CompletableFuture</code>. However this would also impact the return type and turn it into <code>CompletableFuture&lt;List&lt;SomeObject&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":11482810,"reputation":481,"user_id":8416360,"display_name":"jeanpic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667979955,"creation_date":1643897056,"answer_id":70972673,"question_id":70897747,"body_markdown":"As pointed out in the comments it seems this is the way I was looking for:\r\n\r\n```java\r\npublic List&lt;CompletableFuture&lt;SomeObject&gt;&gt; filterStream(Stream&lt;CompletableFuture&lt;SomeObject&gt;&gt; stream) {\r\n   return stream.filter(f -&gt; f.join().getSomeAttribute().equals(&quot;SOMETHING&quot;)).toList()\r\n}\r\n```","title":"Filtering a stream of CompletableFuture&lt;SomeObject&gt; on some attribute of SomeObject","body":"<p>As pointed out in the comments it seems this is the way I was looking for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;CompletableFuture&lt;SomeObject&gt;&gt; filterStream(Stream&lt;CompletableFuture&lt;SomeObject&gt;&gt; stream) {\n   return stream.filter(f -&gt; f.join().getSomeAttribute().equals(&quot;SOMETHING&quot;)).toList()\n}\n</code></pre>\n"}],"owner":{"account_id":11482810,"reputation":481,"user_id":8416360,"display_name":"jeanpic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70972673,"answer_count":2,"score":1,"last_activity_date":1667979955,"creation_date":1643390635,"question_id":70897747,"body_markdown":"I have a Stream of CompletableFuture of SomeObject and I&#39;m trying to filter this on some attribute of SomeObject and I can&#39;t seem to find a satisfying way to filter this.\r\n\r\n\r\n```java\r\npublic class SomeObject {\r\n    private String someAttribute;\r\n\r\n    public String getSomeAttribute() {\r\n        return someAttribute;\r\n    } \r\n}\r\n```\r\n\r\nI tried this, but I&#39;m wondering if there is a non-blocking way ?\r\n\r\n```java\r\n  public List&lt;CompletableFuture&lt;SomeObject&gt;&gt; filterStream(Stream&lt;CompletableFuture&lt;SomeObject&gt;&gt; stream) {\r\n        return stream.filter(futureSomeObject -&gt; {\r\n            try {\r\n                return futureSomeObject.get().getSomeAttribute().equals(&quot;SOMETHING&quot;);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                return false;\r\n            }\r\n        }).toList();\r\n  }\r\n```\r\n\r\nI also thought of something like this, but I&#39;ll need to change the return signature :\r\n\r\n```java\r\nstream.map(CompletableFuture::join).filter(object -&gt; object.getSomeAttribute().equals(&quot;SOMETHING&quot;)).toList();\r\n```\r\n","title":"Filtering a stream of CompletableFuture&lt;SomeObject&gt; on some attribute of SomeObject","body":"<p>I have a Stream of CompletableFuture of SomeObject and I'm trying to filter this on some attribute of SomeObject and I can't seem to find a satisfying way to filter this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeObject {\n    private String someAttribute;\n\n    public String getSomeAttribute() {\n        return someAttribute;\n    } \n}\n</code></pre>\n<p>I tried this, but I'm wondering if there is a non-blocking way ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public List&lt;CompletableFuture&lt;SomeObject&gt;&gt; filterStream(Stream&lt;CompletableFuture&lt;SomeObject&gt;&gt; stream) {\n        return stream.filter(futureSomeObject -&gt; {\n            try {\n                return futureSomeObject.get().getSomeAttribute().equals(&quot;SOMETHING&quot;);\n            } catch (InterruptedException | ExecutionException e) {\n                return false;\n            }\n        }).toList();\n  }\n</code></pre>\n<p>I also thought of something like this, but I'll need to change the return signature :</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.map(CompletableFuture::join).filter(object -&gt; object.getSomeAttribute().equals(&quot;SOMETHING&quot;)).toList();\n</code></pre>\n"},{"tags":["java","spring-boot","servlets"],"answers":[{"tags":[],"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667979919,"creation_date":1667979919,"answer_id":74371414,"question_id":74317085,"body_markdown":"I have to comply an interface in order to get our product get certified. Therefore I solved it by an own custom dispatcher servlet and an partly own implemented multipart parsing implementation based on apache MultipartStream. This works and I could comply all tests. (The interface is old and obviously doesn&#39;t comply to all current standards)","title":"HttpServletRequest.getParts() returns empty parts list","body":"<p>I have to comply an interface in order to get our product get certified. Therefore I solved it by an own custom dispatcher servlet and an partly own implemented multipart parsing implementation based on apache MultipartStream. This works and I could comply all tests. (The interface is old and obviously doesn't comply to all current standards)</p>\n"}],"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667979919,"creation_date":1667564919,"question_id":74317085,"body_markdown":"I have a Spring-Boot 2.7.1 app.\r\nI need to forward Multipart-Request to Apache JaxRS legacy implementation. Therefore I need to call a method which receives \r\norg.apache.cxf.jaxrs.ext.multipart.MultipartBody as parameter.\r\n\r\nIn Spring mvc I call in my Post handler:\r\n\r\n    HttpServletRequest request = ....;\r\n    Collection&lt;Part&gt; parts = request.getParts();\r\n\r\nMy intention is to create an MultipartBody object with a list of org.apache.cxf.jaxrs.ext.multipart.Attachment. So far it works in normal cases.\r\nBut there is an edge case when I am requesting like this:\r\n\r\n    POST http://127.0.0.1:8083/mysServlet\r\n\r\nwith this headers\r\n\r\n    Content-Type: multipart/form-data; boundary=B57B89AB8EDB2ECBBB69CBC66BD4C7880\r\n\r\nand this body:\r\n\r\n    --B57B89AB8EDB2ECBBB69CBC66BD4C7880\r\n    Content-Length: 2\r\n    X-compId: data\r\n    \r\n    \r\n    \r\n    --B57B89AB8EDB2ECBBB69CBC66BD4C7880--\r\n\r\nIn this case getParts() returns 0 instead of 1.\r\n\r\n\r\nI found these similar issue: https://stackoverflow.com/questions/70984624/spring-boot-doesnt-recognize-multipart-form-data-element-when-filename-is-missi\r\n\r\n\r\nRFC2183 : \r\n\r\n&gt; It specifies the &quot;Content-Disposition&quot; header field, which is optional and valid for any MIME entity (&quot;message&quot; or &quot;body part&quot;).\r\n\r\n\r\nRFC2388 chapter 3:\r\n&gt; &quot;multipart/form-data&quot; contains a series of parts. Each part is\r\n   expected to contain a content-disposition header [RFC 2183] where the\r\n   disposition type is &quot;form-data&quot;, and where the disposition contains\r\n   an (additional) parameter of &quot;name&quot;, where the value of that\r\n   parameter is the original field name in the form. For example, a part\r\n   might contain a header:\r\n\r\n      Content-Disposition: form-data; name=&quot;user&quot;\r\n\r\nIs the Content-Disposition header according RFC inside parts required? \r\n\r\nHere the header is explained: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\r\n\r\nThe tomcat implementation, used by spring, requires such an header.\r\n\r\norg.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem()\r\n\r\nTherefore it seems, I need to parse the body by my self. Maybe be using apache MultipartStream: https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/MultipartStream.html\r\n\r\nWhich lib I could use to parse the multipart formdata, so that I can fulfill my task?","title":"HttpServletRequest.getParts() returns empty parts list","body":"<p>I have a Spring-Boot 2.7.1 app.\nI need to forward Multipart-Request to Apache JaxRS legacy implementation. Therefore I need to call a method which receives\norg.apache.cxf.jaxrs.ext.multipart.MultipartBody as parameter.</p>\n<p>In Spring mvc I call in my Post handler:</p>\n<pre><code>HttpServletRequest request = ....;\nCollection&lt;Part&gt; parts = request.getParts();\n</code></pre>\n<p>My intention is to create an MultipartBody object with a list of org.apache.cxf.jaxrs.ext.multipart.Attachment. So far it works in normal cases.\nBut there is an edge case when I am requesting like this:</p>\n<pre><code>POST http://127.0.0.1:8083/mysServlet\n</code></pre>\n<p>with this headers</p>\n<pre><code>Content-Type: multipart/form-data; boundary=B57B89AB8EDB2ECBBB69CBC66BD4C7880\n</code></pre>\n<p>and this body:</p>\n<pre><code>--B57B89AB8EDB2ECBBB69CBC66BD4C7880\nContent-Length: 2\nX-compId: data\n\n\n\n--B57B89AB8EDB2ECBBB69CBC66BD4C7880--\n</code></pre>\n<p>In this case getParts() returns 0 instead of 1.</p>\n<p>I found these similar issue: <a href=\"https://stackoverflow.com/questions/70984624/spring-boot-doesnt-recognize-multipart-form-data-element-when-filename-is-missi\">Spring Boot doesn&#39;t recognize multipart form-data element when filename is missing</a></p>\n<p>RFC2183 :</p>\n<blockquote>\n<p>It specifies the &quot;Content-Disposition&quot; header field, which is optional and valid for any MIME entity (&quot;message&quot; or &quot;body part&quot;).</p>\n</blockquote>\n<p>RFC2388 chapter 3:</p>\n<blockquote>\n<p>&quot;multipart/form-data&quot; contains a series of parts. Each part is\nexpected to contain a content-disposition header [RFC 2183] where the\ndisposition type is &quot;form-data&quot;, and where the disposition contains\nan (additional) parameter of &quot;name&quot;, where the value of that\nparameter is the original field name in the form. For example, a part\nmight contain a header:</p>\n</blockquote>\n<pre><code>  Content-Disposition: form-data; name=&quot;user&quot;\n</code></pre>\n<p>Is the Content-Disposition header according RFC inside parts required?</p>\n<p>Here the header is explained: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition</a></p>\n<p>The tomcat implementation, used by spring, requires such an header.</p>\n<p>org.apache.tomcat.util.http.fileupload.impl.FileItemIteratorImpl.findNextItem()</p>\n<p>Therefore it seems, I need to parse the body by my self. Maybe be using apache MultipartStream: <a href=\"https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/MultipartStream.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/MultipartStream.html</a></p>\n<p>Which lib I could use to parse the multipart formdata, so that I can fulfill my task?</p>\n"},{"tags":["java","spring","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":12787333,"reputation":489,"user_id":9253117,"display_name":"Kirill Sereda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588941384,"creation_date":1588941384,"answer_id":61679311,"question_id":61620137,"body_markdown":"The problem is solved as follows:\r\n\r\nadded this to the main api on the server that I was knocking on (i.e., on the receiving side, and not on the sending side request).\r\n\r\n    @RequestParam(value = &quot;code&quot;, required = false, defaultValue = &quot;AAA&quot;) String code\r\n\r\nRequired is **required = false** (instead of *required = true*).\r\n","title":"Java: default value in Feign client","body":"<p>The problem is solved as follows:</p>\n\n<p>added this to the main api on the server that I was knocking on (i.e., on the receiving side, and not on the sending side request).</p>\n\n<pre><code>@RequestParam(value = \"code\", required = false, defaultValue = \"AAA\") String code\n</code></pre>\n\n<p>Required is <strong>required = false</strong> (instead of <em>required = true</em>).</p>\n"},{"tags":[],"owner":{"account_id":4953201,"reputation":134,"user_id":3986565,"display_name":"Lewis Munene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667979909,"creation_date":1667973256,"answer_id":74370461,"question_id":61620137,"body_markdown":"If you want to do this on the client side, you could try adding a default method in your FeignClient interface that passes the fixed value. For example:\r\n```java\r\npublic interface PriceFeignClient {\r\n    @GetMapping\r\n    Price get(@RequestParam(&quot;price&quot;) String price,\r\n              @RequestParam(&quot;address&quot;) String Address,\r\n              @RequestParam(&quot;code&quot;) String code,\r\n              @RequestParam(&quot;currency&quot;) String currency\r\n    );\r\n\r\n    default Price get(String price, String address, String currency) {\r\n       return this.get(price, address, &quot;AAA&quot;, currency);\r\n    }\r\n}\r\n```\r\nand in your service you call it as follows:\r\n```java\r\npublic Price get(PricesRequest request) {\r\n   return priceFeignClient.get(\r\n                 request.getPrice(),\r\n                 request.getAddress(),\r\n                 request.getCurrency()\r\n          );\r\n}\r\n```","title":"Java: default value in Feign client","body":"<p>If you want to do this on the client side, you could try adding a default method in your FeignClient interface that passes the fixed value. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PriceFeignClient {\n    @GetMapping\n    Price get(@RequestParam(&quot;price&quot;) String price,\n              @RequestParam(&quot;address&quot;) String Address,\n              @RequestParam(&quot;code&quot;) String code,\n              @RequestParam(&quot;currency&quot;) String currency\n    );\n\n    default Price get(String price, String address, String currency) {\n       return this.get(price, address, &quot;AAA&quot;, currency);\n    }\n}\n</code></pre>\n<p>and in your service you call it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Price get(PricesRequest request) {\n   return priceFeignClient.get(\n                 request.getPrice(),\n                 request.getAddress(),\n                 request.getCurrency()\n          );\n}\n</code></pre>\n"}],"owner":{"account_id":12787333,"reputation":489,"user_id":9253117,"display_name":"Kirill Sereda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5054,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61679311,"answer_count":2,"score":0,"last_activity_date":1667979909,"creation_date":1588702623,"question_id":61620137,"body_markdown":"Tell me, how can I set the default value in a parameter in the Feign client or other?\r\n\r\nHere is my code. I indicated the default value, but it does not work :(\r\n\r\nService:\r\n\r\n    public Price get(PricesRequest request) {\r\n            return  priceFeignClient.get(\r\n                           request.getPrice(),\r\n                           request.getAddress(),\r\n                           request.getCode(),\r\n                           request.getCurrency()\r\n                    )\r\n    }\r\n\r\n\r\nFeign client:\r\n\r\n    public interface PriceFeignClient {\r\n        @GetMapping\r\n        Price get(@RequestParam(&quot;price&quot;) String price,\r\n                  @RequestParam(&quot;address&quot;) String Address,\r\n                  @RequestParam(value = &quot;code&quot;, required = true, defaultValue = &quot;AAA&quot;) String code,\r\n                  @RequestParam(&quot;currency&quot;) String currency\r\n        );\r\n\r\nI want to make a default value for the **&quot;code&quot;** parameter.\r\n","title":"Java: default value in Feign client","body":"<p>Tell me, how can I set the default value in a parameter in the Feign client or other?</p>\n\n<p>Here is my code. I indicated the default value, but it does not work :(</p>\n\n<p>Service:</p>\n\n<pre><code>public Price get(PricesRequest request) {\n        return  priceFeignClient.get(\n                       request.getPrice(),\n                       request.getAddress(),\n                       request.getCode(),\n                       request.getCurrency()\n                )\n}\n</code></pre>\n\n<p>Feign client:</p>\n\n<pre><code>public interface PriceFeignClient {\n    @GetMapping\n    Price get(@RequestParam(\"price\") String price,\n              @RequestParam(\"address\") String Address,\n              @RequestParam(value = \"code\", required = true, defaultValue = \"AAA\") String code,\n              @RequestParam(\"currency\") String currency\n    );\n</code></pre>\n\n<p>I want to make a default value for the <strong>\"code\"</strong> parameter.</p>\n"},{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667446298,"post_id":74297467,"comment_id":131170710,"body_markdown":"The crucial method here is `generateImplementation`, which clearly (as that&#39;s what the error means) somehow results in you calling `put`, or `computeIfAbsent`, or therefore this very `getImplementationOf` method. It&#39;s possible it&#39;s not and there is a bug in CHM&lt; but that is an extraordinary claim that requires extraordinary evidence. At the very least, that evidence would have to include the code of `generateImplementation`. Without it, I&#39;m going with the 99% bet, which is, that generateImpl modifies the map.","body":"The crucial method here is <code>generateImplementation</code>, which clearly (as that&#39;s what the error means) somehow results in you calling <code>put</code>, or <code>computeIfAbsent</code>, or therefore this very <code>getImplementationOf</code> method. It&#39;s possible it&#39;s not and there is a bug in CHM&lt; but that is an extraordinary claim that requires extraordinary evidence. At the very least, that evidence would have to include the code of <code>generateImplementation</code>. Without it, I&#39;m going with the 99% bet, which is, that generateImpl modifies the map."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1667527823,"post_id":74297467,"comment_id":131193227,"body_markdown":"In this instance, _recursive_ means that a thread performed a write operation while inside the scope of another write operation, to the same map instance. This assertion only occurs under the hash bin&#39;s exclusive lock, which a writer must acquire before it can proceed. Therefore unless this rule was violated by its author, the only thread that could trigger this assertion is one that held the lock previously from a write earlier on its call stack. The workaround is to compute [outside](https://github.com/ben-manes/caffeine/wiki/Faq#recursive-computations) of the mapping operation.","body":"In this instance, <i>recursive</i> means that a thread performed a write operation while inside the scope of another write operation, to the same map instance. This assertion only occurs under the hash bin&#39;s exclusive lock, which a writer must acquire before it can proceed. Therefore unless this rule was violated by its author, the only thread that could trigger this assertion is one that held the lock previously from a write earlier on its call stack. The workaround is to compute <a href=\"https://github.com/ben-manes/caffeine/wiki/Faq#recursive-computations\" rel=\"nofollow noreferrer\">outside</a> of the mapping operation."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667444572,"creation_date":1667444572,"answer_id":74297747,"question_id":74297467,"body_markdown":"## ConcurrentHashmap - computeIfAbsent\r\n    \r\n**Throws:**\r\nIllegalStateException  if the computation detectably attempts a recursive update to this map that would otherwise never complete\r\n\r\n-------\r\n\r\n\r\nDiving into the ConcurrentHashmap class file, the following code triggers the IllegalStateException.\r\n\r\n        Node&lt;K,V&gt; pred = e;\r\n        if ((e = e.next) == null) {\r\n            if ((val = mappingFunction.apply(key)) != null) {\r\n                if (pred.next != null)\r\n                    throw new IllegalStateException(&quot;Recursive update&quot;);\r\n                added = true;\r\n                pred.next = new Node&lt;K,V&gt;(h, key, val);\r\n            }\r\n            break;\r\n        }\r\n\r\nWe can see it throws the exception when the mapping function has altered the HashMap making the last node have a new node which it didn&#39;t just before in the `(e = e.next) == null` check.","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<h2>ConcurrentHashmap - computeIfAbsent</h2>\n<p><strong>Throws:</strong>\nIllegalStateException  if the computation detectably attempts a recursive update to this map that would otherwise never complete</p>\n<hr />\n<p>Diving into the ConcurrentHashmap class file, the following code triggers the IllegalStateException.</p>\n<pre><code>    Node&lt;K,V&gt; pred = e;\n    if ((e = e.next) == null) {\n        if ((val = mappingFunction.apply(key)) != null) {\n            if (pred.next != null)\n                throw new IllegalStateException(&quot;Recursive update&quot;);\n            added = true;\n            pred.next = new Node&lt;K,V&gt;(h, key, val);\n        }\n        break;\n    }\n</code></pre>\n<p>We can see it throws the exception when the mapping function has altered the HashMap making the last node have a new node which it didn't just before in the <code>(e = e.next) == null</code> check.</p>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667979734,"creation_date":1667979734,"answer_id":74371387,"question_id":74297467,"body_markdown":"Alright, mea culpa, false alarm, after some further debugging it turns out that `ConcurrentHashMap` works as designed. There was a rarely executed code branch, where the runtime code generator made use of itself to create certain classes (I should have foreseen that this would cause trouble at some point). The problem only surfaced when the particular class was not in the cache yet, i.e. there was a _recursive_ call but no _update_, which made it look like a race condition (which it technically was).\r\n\r\nMy fallacy when analyzing the stack traces was that the offending update (of course!) had already popped of the stack since it already had already been completed. The first update (which caused the problem) succeeded just fine, but it was the second update that threw the exception, and, by then, the offending earlier update was no longer on the stack.\r\n\r\nThe way I tracked it down in the end was by using an instrumented anonymous subclass of `CHM`. Instead of just initializing the map with `new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;();`, I used:\r\n\r\n    new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;()\r\n    {\r\n        @Override\r\n        public Class&lt;? extends _Artifact_&gt; computeIfAbsent(Class&lt;_Artifact_&gt; key, Function&lt;? super Class&lt;_Artifact_&gt;, ? extends Class&lt;? extends _Artifact_&gt;&gt; mappingFunction)\r\n        {\r\n            Stream&lt;StackTraceElement&gt; stack = Stream.of(new Throwable().getStackTrace());\r\n            if (stack.filter(element -&gt; element.getMethodName().equals(&quot;computeIfAbsent&quot;)).count() &gt; 2)\r\n            {\r\n                throw new RuntimeException(&quot;recursive update happening!&quot;);\r\n            }\r\n            return super.computeIfAbsent(key, mappingFunction);\r\n        }   \r\n    };\r\n\r\nNormally, there should only be two occurrences of `computeIfAbsent` in the stack (one for the modified implementation in the subclass, and one for the original implementation called via `super`). If there were more than two, this means there was a recursive update (unless there happened to be multiple different maps involved). This pinpointed the source of the problem pretty quickly, and I thought it might be worth sharing (alternatively, some debuggers may have a feature that can be used to the same effect).","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<p>Alright, mea culpa, false alarm, after some further debugging it turns out that <code>ConcurrentHashMap</code> works as designed. There was a rarely executed code branch, where the runtime code generator made use of itself to create certain classes (I should have foreseen that this would cause trouble at some point). The problem only surfaced when the particular class was not in the cache yet, i.e. there was a <em>recursive</em> call but no <em>update</em>, which made it look like a race condition (which it technically was).</p>\n<p>My fallacy when analyzing the stack traces was that the offending update (of course!) had already popped of the stack since it already had already been completed. The first update (which caused the problem) succeeded just fine, but it was the second update that threw the exception, and, by then, the offending earlier update was no longer on the stack.</p>\n<p>The way I tracked it down in the end was by using an instrumented anonymous subclass of <code>CHM</code>. Instead of just initializing the map with <code>new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;();</code>, I used:</p>\n<pre><code>new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;()\n{\n    @Override\n    public Class&lt;? extends _Artifact_&gt; computeIfAbsent(Class&lt;_Artifact_&gt; key, Function&lt;? super Class&lt;_Artifact_&gt;, ? extends Class&lt;? extends _Artifact_&gt;&gt; mappingFunction)\n    {\n        Stream&lt;StackTraceElement&gt; stack = Stream.of(new Throwable().getStackTrace());\n        if (stack.filter(element -&gt; element.getMethodName().equals(&quot;computeIfAbsent&quot;)).count() &gt; 2)\n        {\n            throw new RuntimeException(&quot;recursive update happening!&quot;);\n        }\n        return super.computeIfAbsent(key, mappingFunction);\n    }   \n};\n</code></pre>\n<p>Normally, there should only be two occurrences of <code>computeIfAbsent</code> in the stack (one for the modified implementation in the subclass, and one for the original implementation called via <code>super</code>). If there were more than two, this means there was a recursive update (unless there happened to be multiple different maps involved). This pinpointed the source of the problem pretty quickly, and I thought it might be worth sharing (alternatively, some debuggers may have a feature that can be used to the same effect).</p>\n"}],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371387,"answer_count":2,"score":1,"last_activity_date":1667979734,"creation_date":1667441117,"question_id":74297467,"body_markdown":"First of all, I am aware of several similar ([53998845][1], [71087512][2], [71269113][3]) and related ([28840047][4], [44224952][5]) questions, but I believe that none of them exactly captures the same situation that I am encountering.\r\n\r\nI am using a `ConcurrentHashMap` as a cache for some runtime-generated Java classes. Specifically, I use `computeIfAbsent` to either return a previously generated class, or generate the class on the fly. In some circumstances, this call throws an `IllegalStateException: Recursive update`. An example stack trace looks like this:\r\n\r\n    java.lang.IllegalStateException: Recursive update\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1742)\r\n    at pro.projo.internal.rcg.RuntimeCodeGenerationHandler.getImplementationOf(RuntimeCodeGenerationHandler.java:151)\r\n    at pro.projo.Projo.getImplementationClass(Projo.java:451)\r\n    at pro.projo.Projo.getImplementationClass(Projo.java:438)\r\n    at fxxx.natives.bootstrap.Bootstrap$1.lambda$configure$2(Bootstrap.java:63)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    at fxxx.natives.bootstrap.Bootstrap$1.configure(Bootstrap.java:76)\r\n    at com.google.inject.AbstractModule.configure(AbstractModule.java:66)\r\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\r\n    at com.google.inject.spi.Elements.getElements(Elements.java:108)\r\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\r\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\r\n    at com.google.inject.Guice.createInjector(Guice.java:87)\r\n    at com.google.inject.Guice.createInjector(Guice.java:69)\r\n    at com.google.inject.Guice.createInjector(Guice.java:59)\r\n    at fxxx.natives.bootstrap.Bootstrap.&lt;init&gt;(Bootstrap.java:89)\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:782)\r\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:724)\r\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\r\n    at java.base/java.util.ServiceLoader.findFirst(ServiceLoader.java:1811)\r\n    at fxxx.bootstrap.Bootstrap.load(Bootstrap.java:34)\r\n    at fxxx.test.junit.FxxxTestClassTestDescriptor.instantiateTestClass(FxxxTestClassTestDescriptor.java:27)\r\n\r\nAs far as I am aware, I am not violating `ConcurrentHashMap.computeIfAbsent`&#39;s requirement that &quot;_The mapping function must not modify this map during computation_&quot;, as that function is a pure function without side effects.\r\nFor the other requirement, that &quot;_the computation should be short and simple_&quot;, my code&#39;s compliance is not as clear cut, since generating the classes on the fly is definitely an involved and expensive process (hence the caching).\r\n\r\nI do, however, believe that the exception&#39;s claimed &quot;_Recursive update_&quot; is an incorrect assessment of what is actually going on here. If that were indeed the case, I would expect to see multiple occurrences of my code&#39;s call to `CHM.computeIfAbsent` in the stack trace, but this is not what I see (not in the example stack trace, or any other stack trace that I&#39;ve seen with this problem).\r\n\r\nThe code in `CHM` is as follows:\r\n\r\n    1738            Node&lt;K,V&gt; pred = e;\r\n    1739            if ((e = e.next) == null) {\r\n    1740                if ((val = mappingFunction.apply(key)) != null) {\r\n    1741                    if (pred.next != null)\r\n    1742                        throw new IllegalStateException(&quot;Recursive update&quot;);\r\n    1743                    added = true;\r\n    1744                    pred.next = new Node&lt;K,V&gt;(h, key, val);\r\n    1745                }\r\n    1746                break;\r\n    1747            }\r\n\r\nFrom the stack trace, I already know that this is not a recursive call to `computeIfAbsent` from within another `computeIfAbsent` invocation. The code saves a reference to the previous node as `pred` (line 1738) and then updates `e` to the next node (line 1739). Since we made it past the `if` check, we know that the original `e`&#39;s `next` value was `null`, therefore `pred.next` should at this point also be `null`.\r\nHowever, a subsequent check (line 1741) reveals that `pred` next is no longer `null` (which triggers the exception).\r\nAs a _recursive_ update is not corroborated by the stack trace, I am assuming that this must actually be a _concurrent_ update instead. It appears that the original `e` object, now known as `pred`, has its `next` pointer changed by another thread (`java.util.concurrent.ConcurrentHashMap.Node` produces mutable objects, unfortunately).\r\n\r\nI am using `CHM` for the one reason that this caching mechanism must be thread-safe and have low overhead (i.e., no blanket locking). I would expect concurrent update of the cache to work. However, in this particular scenario, _concurrent_ access does _not_ work, and seems to be incorrectly classified as a _recursive_ update instead.\r\n\r\nFor further context, my own code that invokes `computeIfAbsent` looks like this:\r\n\r\n    public Class&lt;? extends _Artifact_&gt; getImplementationOf(Class&lt;_Artifact_&gt; type, boolean defaultPackage)\r\n    {\r\n        return implementationClassCache.computeIfAbsent(type, it -&gt; generateImplementation(it, defaultPackage));\r\n    }\r\n\r\nThis code is from a utility library that needs to work on Java 8, but I&#39;ve only ever seen the exception happen when the code is used from another project that&#39;s running on Java 11.\r\n\r\nIs this another bug in `ConcurrentHashMap` or am I overlooking something regarding the proper use of this class?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53998845\r\n  [2]: https://stackoverflow.com/questions/71087512\r\n  [3]: https://stackoverflow.com/questions/71269113\r\n  [4]: https://stackoverflow.com/questions/28840047\r\n  [5]: https://stackoverflow.com/questions/44224952","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<p>First of all, I am aware of several similar (<a href=\"https://stackoverflow.com/questions/53998845\">53998845</a>, <a href=\"https://stackoverflow.com/questions/71087512\">71087512</a>, <a href=\"https://stackoverflow.com/questions/71269113\">71269113</a>) and related (<a href=\"https://stackoverflow.com/questions/28840047\">28840047</a>, <a href=\"https://stackoverflow.com/questions/44224952\">44224952</a>) questions, but I believe that none of them exactly captures the same situation that I am encountering.</p>\n<p>I am using a <code>ConcurrentHashMap</code> as a cache for some runtime-generated Java classes. Specifically, I use <code>computeIfAbsent</code> to either return a previously generated class, or generate the class on the fly. In some circumstances, this call throws an <code>IllegalStateException: Recursive update</code>. An example stack trace looks like this:</p>\n<pre><code>java.lang.IllegalStateException: Recursive update\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1742)\nat pro.projo.internal.rcg.RuntimeCodeGenerationHandler.getImplementationOf(RuntimeCodeGenerationHandler.java:151)\nat pro.projo.Projo.getImplementationClass(Projo.java:451)\nat pro.projo.Projo.getImplementationClass(Projo.java:438)\nat fxxx.natives.bootstrap.Bootstrap$1.lambda$configure$2(Bootstrap.java:63)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\nat fxxx.natives.bootstrap.Bootstrap$1.configure(Bootstrap.java:76)\nat com.google.inject.AbstractModule.configure(AbstractModule.java:66)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\nat com.google.inject.spi.Elements.getElements(Elements.java:108)\nat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\nat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\nat com.google.inject.Guice.createInjector(Guice.java:87)\nat com.google.inject.Guice.createInjector(Guice.java:69)\nat com.google.inject.Guice.createInjector(Guice.java:59)\nat fxxx.natives.bootstrap.Bootstrap.&lt;init&gt;(Bootstrap.java:89)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\nat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:782)\nat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:724)\nat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\nat java.base/java.util.ServiceLoader.findFirst(ServiceLoader.java:1811)\nat fxxx.bootstrap.Bootstrap.load(Bootstrap.java:34)\nat fxxx.test.junit.FxxxTestClassTestDescriptor.instantiateTestClass(FxxxTestClassTestDescriptor.java:27)\n</code></pre>\n<p>As far as I am aware, I am not violating <code>ConcurrentHashMap.computeIfAbsent</code>'s requirement that &quot;<em>The mapping function must not modify this map during computation</em>&quot;, as that function is a pure function without side effects.\nFor the other requirement, that &quot;<em>the computation should be short and simple</em>&quot;, my code's compliance is not as clear cut, since generating the classes on the fly is definitely an involved and expensive process (hence the caching).</p>\n<p>I do, however, believe that the exception's claimed &quot;<em>Recursive update</em>&quot; is an incorrect assessment of what is actually going on here. If that were indeed the case, I would expect to see multiple occurrences of my code's call to <code>CHM.computeIfAbsent</code> in the stack trace, but this is not what I see (not in the example stack trace, or any other stack trace that I've seen with this problem).</p>\n<p>The code in <code>CHM</code> is as follows:</p>\n<pre><code>1738            Node&lt;K,V&gt; pred = e;\n1739            if ((e = e.next) == null) {\n1740                if ((val = mappingFunction.apply(key)) != null) {\n1741                    if (pred.next != null)\n1742                        throw new IllegalStateException(&quot;Recursive update&quot;);\n1743                    added = true;\n1744                    pred.next = new Node&lt;K,V&gt;(h, key, val);\n1745                }\n1746                break;\n1747            }\n</code></pre>\n<p>From the stack trace, I already know that this is not a recursive call to <code>computeIfAbsent</code> from within another <code>computeIfAbsent</code> invocation. The code saves a reference to the previous node as <code>pred</code> (line 1738) and then updates <code>e</code> to the next node (line 1739). Since we made it past the <code>if</code> check, we know that the original <code>e</code>'s <code>next</code> value was <code>null</code>, therefore <code>pred.next</code> should at this point also be <code>null</code>.\nHowever, a subsequent check (line 1741) reveals that <code>pred</code> next is no longer <code>null</code> (which triggers the exception).\nAs a <em>recursive</em> update is not corroborated by the stack trace, I am assuming that this must actually be a <em>concurrent</em> update instead. It appears that the original <code>e</code> object, now known as <code>pred</code>, has its <code>next</code> pointer changed by another thread (<code>java.util.concurrent.ConcurrentHashMap.Node</code> produces mutable objects, unfortunately).</p>\n<p>I am using <code>CHM</code> for the one reason that this caching mechanism must be thread-safe and have low overhead (i.e., no blanket locking). I would expect concurrent update of the cache to work. However, in this particular scenario, <em>concurrent</em> access does <em>not</em> work, and seems to be incorrectly classified as a <em>recursive</em> update instead.</p>\n<p>For further context, my own code that invokes <code>computeIfAbsent</code> looks like this:</p>\n<pre><code>public Class&lt;? extends _Artifact_&gt; getImplementationOf(Class&lt;_Artifact_&gt; type, boolean defaultPackage)\n{\n    return implementationClassCache.computeIfAbsent(type, it -&gt; generateImplementation(it, defaultPackage));\n}\n</code></pre>\n<p>This code is from a utility library that needs to work on Java 8, but I've only ever seen the exception happen when the code is used from another project that's running on Java 11.</p>\n<p>Is this another bug in <code>ConcurrentHashMap</code> or am I overlooking something regarding the proper use of this class?</p>\n"},{"tags":["java","web-services","rest","soap","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1471127380,"creation_date":1308523600,"answer_id":6405548,"question_id":6405517,"body_markdown":"There&#39;s nothing stopping you from send POST filled with XML to get results filled with XML back.\r\n\r\nThe simplest thing to do is somehow capture the SOAP requests going back and forth, and simply turn the request in to a template with the blanks being your parameters, and then using XPath on the resulting XML to pull your results out.\r\n\r\nThe only nit being you might need SOAPAction header in your POST, but likely not. \r\n\r\nIt&#39;s really no big deal. If you have dozens of methods, it&#39;s more of a pain. Also, if you&#39;re using any of the encryption parts of SOAP, then it&#39;s more of a pain. But if just a few, in the end it&#39;s just XML, and a bulk of that XML is boilerplate, so looked at that way, it&#39;s pretty straightforward.\r\n\r\nAddenda:\r\n\r\nIf you have back end logic that you want to front with a more HTTP friendly service, then JAX-RS can to that quite easily, but it would require coding on the server end.\r\n\r\nIf you have an existing SOAP web service that you wish to use, then forget the whole SOAP part of the equation, and simply treat it as an HTTP web service that uses XML payloads. It&#39;s still SOAP, but you&#39;re not using any SOAP tooling on the client side. You&#39;re simply assembling XML payloads on the client requests (from templates would be easiest, IMHO), and consuming XML payloads as a result, and trading these over HTTP.\r\n\r\nDepending on how many different methods on the existing web service you intend to call gives you an idea of the scope of the work involved. It&#39;s simple work (once you can view the payloads easily), but it&#39;s still work. If you only have a few methods, especially if the interface is stable and not changing, it&#39;s far easier to just work with the raw XML than learn and fight some new unfamiliar framework.","title":"Convert SOAP to a virtual Restful service?","body":"<p>There's nothing stopping you from send POST filled with XML to get results filled with XML back.</p>\n\n<p>The simplest thing to do is somehow capture the SOAP requests going back and forth, and simply turn the request in to a template with the blanks being your parameters, and then using XPath on the resulting XML to pull your results out.</p>\n\n<p>The only nit being you might need SOAPAction header in your POST, but likely not. </p>\n\n<p>It's really no big deal. If you have dozens of methods, it's more of a pain. Also, if you're using any of the encryption parts of SOAP, then it's more of a pain. But if just a few, in the end it's just XML, and a bulk of that XML is boilerplate, so looked at that way, it's pretty straightforward.</p>\n\n<p>Addenda:</p>\n\n<p>If you have back end logic that you want to front with a more HTTP friendly service, then JAX-RS can to that quite easily, but it would require coding on the server end.</p>\n\n<p>If you have an existing SOAP web service that you wish to use, then forget the whole SOAP part of the equation, and simply treat it as an HTTP web service that uses XML payloads. It's still SOAP, but you're not using any SOAP tooling on the client side. You're simply assembling XML payloads on the client requests (from templates would be easiest, IMHO), and consuming XML payloads as a result, and trading these over HTTP.</p>\n\n<p>Depending on how many different methods on the existing web service you intend to call gives you an idea of the scope of the work involved. It's simple work (once you can view the payloads easily), but it's still work. If you only have a few methods, especially if the interface is stable and not changing, it's far easier to just work with the raw XML than learn and fight some new unfamiliar framework.</p>\n"},{"tags":[],"owner":{"account_id":418377,"reputation":534,"user_id":794902,"display_name":"Al Baker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308532683,"creation_date":1308532683,"answer_id":6406098,"question_id":6405517,"body_markdown":"Spring-WS just adds some annotations to your beans and then you have Spring beans doing most of the heavy lifting.  Presumably you have some classes annotated with @Endpoint, @PayloadRoot and the like.  You should be able to re-use all of these in one of three ways.\r\n\r\nIf your Spring-WS endpoint classes are adapter pattern style (e.g. your Endpoint class is injected with a POJO service that does the real work), then you could do a similar adapter-style Spring MVC Controller (where REST exists in Spring 3.0).\r\n\r\nIf you have your annotations directly on your business logic class, then in theory, you should be able to just sprinkle on some more annotations (might get a little busy-looking).\r\n\r\nIf you have Spring-WS beans that are POX (and not SOAP), then you might be able to get away with some fancy URL mappings to give them more RESTful looking URLs\r\n\r\nTo migrate to the Spring 3 for REST support, add the appropriate @RequestMapping and another annotations to expose them as REST services to match specific URLs.  While you&#39;re adding, you might as well remove the old @PayloadRoots and @Endpoint, but that may not be a big deal.  Of course if you leave old Spring-WS annotations around, you&#39;ll still need the Spring-WS jars on your classpath, but as long as you are not using a Spring-WS servlet nor any other other beans in your Spring file - you should be okay (in theory...).\r\n\r\nThe biggest gotchas will be:\r\n\r\n - Don&#39;t forget to remove Spring-WS beans from your Spring file\r\n - DO remember to add the Spring MVC beans to your Spring file, and most importantly different Dispatcher servlet\r\n - REST security in Spring will be provided by Spring Security, not the same SOAP interceptors found in Spring-WS, so that will be a complete overhaul.  The good news is that Spring Security is actually pretty easy to work with\r\n\r\n","title":"Convert SOAP to a virtual Restful service?","body":"<p>Spring-WS just adds some annotations to your beans and then you have Spring beans doing most of the heavy lifting.  Presumably you have some classes annotated with @Endpoint, @PayloadRoot and the like.  You should be able to re-use all of these in one of three ways.</p>\n\n<p>If your Spring-WS endpoint classes are adapter pattern style (e.g. your Endpoint class is injected with a POJO service that does the real work), then you could do a similar adapter-style Spring MVC Controller (where REST exists in Spring 3.0).</p>\n\n<p>If you have your annotations directly on your business logic class, then in theory, you should be able to just sprinkle on some more annotations (might get a little busy-looking).</p>\n\n<p>If you have Spring-WS beans that are POX (and not SOAP), then you might be able to get away with some fancy URL mappings to give them more RESTful looking URLs</p>\n\n<p>To migrate to the Spring 3 for REST support, add the appropriate @RequestMapping and another annotations to expose them as REST services to match specific URLs.  While you're adding, you might as well remove the old @PayloadRoots and @Endpoint, but that may not be a big deal.  Of course if you leave old Spring-WS annotations around, you'll still need the Spring-WS jars on your classpath, but as long as you are not using a Spring-WS servlet nor any other other beans in your Spring file - you should be okay (in theory...).</p>\n\n<p>The biggest gotchas will be:</p>\n\n<ul>\n<li>Don't forget to remove Spring-WS beans from your Spring file</li>\n<li>DO remember to add the Spring MVC beans to your Spring file, and most importantly different Dispatcher servlet</li>\n<li>REST security in Spring will be provided by Spring Security, not the same SOAP interceptors found in Spring-WS, so that will be a complete overhaul.  The good news is that Spring Security is actually pretty easy to work with</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308564342,"creation_date":1308564342,"answer_id":6409640,"question_id":6405517,"body_markdown":"Looking at your code, it&#39;s very difficult to tell what the best approach would be. REST and SOAP are really quite different ways of imagining how a web-based service interface could work: SOAP is all about method calls, and REST is all about resources, representations and links. To convert, you have to start from your underlying abstract API.\r\n\r\nIf your basic API is one of I give you a document, you give me a response document and there&#39;s no exposure of anything other than that, it&#39;s a _very_ SOAP-oriented model. You can model that in REST through POSTing a document and getting a response, but it&#39;s not at all elegant. If you can instead think of your interface in terms of here&#39;s an overall resource, with properties I can set, and certain operations I can do then that maps to REST far more easily (the overall resource is represented as a document full of links to individual property resources and operations, and the individual properties can be GET and PUT  and possibly DELETEd  as necessary). Which style you&#39;ve got well, it looks a lot like you&#39;ve got the first, but I&#39;m only guessing because determining it for real would require looking at more of your code than you&#39;ve shown.","title":"Convert SOAP to a virtual Restful service?","body":"<p>Looking at your code, it's very difficult to tell what the best approach would be. REST and SOAP are really quite different ways of imagining how a web-based service interface could work: SOAP is all about method calls, and REST is all about resources, representations and links. To convert, you have to start from your underlying abstract API.</p>\n\n<p>If your basic API is one of I give you a document, you give me a response document and there's no exposure of anything other than that, it's a <em>very</em> SOAP-oriented model. You can model that in REST through POSTing a document and getting a response, but it's not at all elegant. If you can instead think of your interface in terms of here's an overall resource, with properties I can set, and certain operations I can do then that maps to REST far more easily (the overall resource is represented as a document full of links to individual property resources and operations, and the individual properties can be GET and PUT  and possibly DELETEd  as necessary). Which style you've got well, it looks a lot like you've got the first, but I'm only guessing because determining it for real would require looking at more of your code than you've shown.</p>\n"},{"tags":[],"owner":{"account_id":5358157,"reputation":153,"user_id":4270288,"display_name":"jony.buzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605816059,"creation_date":1605814428,"answer_id":64918764,"question_id":6405517,"body_markdown":"This is how I solved that problem, using Spring Boot + Spring Integration.\r\n\r\n- Having a WSDL of the SOAP WS, I used maven-jaxb2-plugin to have my Java POJO&#39;s generated at build time.\r\n- Optionally, you could create transformations to adapt those classes and attributes to what the REST client expected.\r\n- Using Spring Integration, I mapped every REST endpoint to a SOAP gateway like this:\r\n\r\n```java\r\n@Bean\r\npublic IntegrationFlow myFlow(GenericTransformer reqTransformer, GenericTransformer resTransformer) {\r\n    return IntegrationFlows\r\n        .from(this.getRestGateway(POST, &quot;/api/entity&quot;, MyRestResponse.class))\r\n        .transform(reqTransformer)\r\n        .handle(this.getSoapGateway(&quot;gwBean&quot;))\r\n        .enrichHeaders(h -&gt; h.header(HttpHeaders.STATUS_CODE, HttpStatus.OK))\r\n        .transform(resTransformer)\r\n        .logAndReply();\r\n}\r\n\r\nprivate HttpRequestHandlingMessagingGateway getRestGateway(HttpMethod method, String path, Class payloadType) {\r\n    HttpRequestHandlingMessagingGateway httpGateway = new HttpRequestHandlingMessagingGateway();\r\n    RequestMapping requestMapping = new RequestMapping();\r\n    requestMapping.setMethods(method);\r\n    requestMapping.setPathPatterns(path);\r\n    httpGateway.setRequestMapping(requestMapping);\r\n    httpGateway.setReplyTimeout(timeout);\r\n    httpGateway.setRequestPayloadTypeClass(payloadType);\r\n    httpGateway.setMessageConverters(asList(jsonConverter));\r\n    return httpGateway;\r\n}\r\n\r\nprivate MarshallingWebServiceOutboundGateway getSoapGateway(String nameBean) {\r\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n    marshaller.setContextPath(generatedClassesPackage);\r\n    SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\r\n    messageFactory.setSoapVersion(SoapVersion.SOAP_12);\r\n    messageFactory.afterPropertiesSet();\r\n    MarshallingWebServiceOutboundGateway webServiceGateway = new MarshallingWebServiceOutboundGateway(soapUri, marshaller);\r\n    webServiceGateway.setMessageFactory(messageFactory);\r\n    webServiceGateway.setBeanName(nombreBean);\r\n    return webServiceGateway;\r\n}\r\n```","title":"Convert SOAP to a virtual Restful service?","body":"<p>This is how I solved that problem, using Spring Boot + Spring Integration.</p>\n<ul>\n<li>Having a WSDL of the SOAP WS, I used maven-jaxb2-plugin to have my Java POJO's generated at build time.</li>\n<li>Optionally, you could create transformations to adapt those classes and attributes to what the REST client expected.</li>\n<li>Using Spring Integration, I mapped every REST endpoint to a SOAP gateway like this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic IntegrationFlow myFlow(GenericTransformer reqTransformer, GenericTransformer resTransformer) {\n    return IntegrationFlows\n        .from(this.getRestGateway(POST, &quot;/api/entity&quot;, MyRestResponse.class))\n        .transform(reqTransformer)\n        .handle(this.getSoapGateway(&quot;gwBean&quot;))\n        .enrichHeaders(h -&gt; h.header(HttpHeaders.STATUS_CODE, HttpStatus.OK))\n        .transform(resTransformer)\n        .logAndReply();\n}\n\nprivate HttpRequestHandlingMessagingGateway getRestGateway(HttpMethod method, String path, Class payloadType) {\n    HttpRequestHandlingMessagingGateway httpGateway = new HttpRequestHandlingMessagingGateway();\n    RequestMapping requestMapping = new RequestMapping();\n    requestMapping.setMethods(method);\n    requestMapping.setPathPatterns(path);\n    httpGateway.setRequestMapping(requestMapping);\n    httpGateway.setReplyTimeout(timeout);\n    httpGateway.setRequestPayloadTypeClass(payloadType);\n    httpGateway.setMessageConverters(asList(jsonConverter));\n    return httpGateway;\n}\n\nprivate MarshallingWebServiceOutboundGateway getSoapGateway(String nameBean) {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(generatedClassesPackage);\n    SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\n    messageFactory.setSoapVersion(SoapVersion.SOAP_12);\n    messageFactory.afterPropertiesSet();\n    MarshallingWebServiceOutboundGateway webServiceGateway = new MarshallingWebServiceOutboundGateway(soapUri, marshaller);\n    webServiceGateway.setMessageFactory(messageFactory);\n    webServiceGateway.setBeanName(nombreBean);\n    return webServiceGateway;\n}\n</code></pre>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6405548,"answer_count":4,"score":2,"last_activity_date":1667979677,"creation_date":1308523147,"question_id":6405517,"body_markdown":"Is there a way to use my SOAP web service(spring-ws, java) as a XML based RESTful service virtually?\r\n\r\nI don&#39;t want to re-write whole my SOAP web service into RESTful from scratch in java, but I need to access it through iphone using REST, which they already have easy native support.\r\n\r\nXMLGateway, Proxys..? or some extra java code? since my SOAP request and response is simply an XML file why can&#39;t I modify it to be used by a REST service?\r\n\r\nOr without changing changing any logic and xml parsing in my application is that easy to add jax-rs annotations and create a rest request xml?\r\n\r\nmy config spring file is like this:\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;bean id=&quot;webServicePluginDescriptor&quot;\r\n\t\tclass=&quot;com.mysite.ws.configuration.MyWebservicePluginDescriptor&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;payloadMapping&quot;\r\n\t\tclass=&quot;org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping&quot;&gt;\r\n\t\t&lt;property name=&quot;defaultEndpoint&quot; ref=&quot;inferenceEndPoint&quot; /&gt;\r\n\t\t&lt;property name=&quot;interceptors&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;ref local=&quot;validatingInterceptor&quot; /&gt;\r\n\t\t\t\t&lt;ref local=&quot;payLoadInterceptor&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;payLoadInterceptor&quot;\r\n\t\tclass=&quot;org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;validatingInterceptor&quot;\r\n\t\tclass=&quot;org.springframework.ws.soap.server.endpoint.interceptor.PayloadValidatingInterceptor&quot;&gt;\r\n\t\t&lt;property name=&quot;schema&quot;\r\n\t\t\tvalue=&quot;classpath:/wsdl/Request.xsd&quot; /&gt;\r\n\t\t&lt;property name=&quot;validateRequest&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;validateResponse&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;PropertyResource&quot; class=&quot;com.mysite.ws.im.PropertyResource&quot;&gt;\r\n\t\t&lt;property name=&quot;resource&quot;\r\n\t\t\tvalue=&quot;/WEB-INF/client-specific/InferenceMachine.properties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;inferenceEndPoint&quot; class=&quot;com.mysite.ws.web.InferenceEndPoint&quot;&gt;\r\n\t\t&lt;property name=&quot;messageWebService&quot; ref=&quot;messageWebService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;messageWebService&quot; class=&quot;com.mysite.ws.service.MessageWebService&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;inferenceService&quot; ref=&quot;inferenceService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;Request&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Request.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;Response&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Response.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;Error&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Error.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mwsid&quot;\r\n\t\tclass=&quot;org.springframework.ws.wsdl.wsdl11.SimpleWsdl11Definition&quot;&gt;\r\n\t\t&lt;constructor-arg value=&quot;classpath:/wsdl/mtchwsdl.wsdl&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;inferenceService&quot; class=&quot;com.mysite.ws.im.InferenceService&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;webServiceConfiguration&quot; ref=&quot;wsPlayerConfiguration&quot; /&gt;\r\n\r\n\t\t&lt;property name=&quot;properties&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.mysite.ws.im.PropertyResource&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;resource&quot;\r\n\t\t\t\t\tvalue=&quot;/WEB-INF/client-specific/InferenceMachine.properties&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- ~~~~~~~ Application beans ~~~~~~~ --&gt;\r\n\t&lt;bean id=&quot;wsPlayerConfiguration&quot;\r\n\t\tclass=&quot;com.mysite.ws.configuration.WebServiceConfiguration&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;playerConfiguration&quot; ref=&quot;playerConfiguration&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;configurationSetup&quot; ref=&quot;configurationSetup&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nand this is my endpoint class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    /**\r\n     * The EndPoint of the Web Service Application. This class gets the raw\r\n     * SOAP-body message from the Spring Payload Dispatcher and sends the message to\r\n     * the @see MessageService class. After it has gotten the response XML message\r\n     * it returns this back to the Spring Payload Dispatcher.\r\n     */\r\n    public class InferenceEndPoint extends AbstractJDomPayloadEndpoint {\r\n\r\n    \tprivate MessageWebService messageWebService;\r\n    \tpublic InferenceEndPoint() {\r\n    \t}\r\n\t\r\n    \t@Override\r\n    \tprotected Element invokeInternal(Element inferenceRequest) throws Exception {\r\n    \t\tElement ret = messageWebService.handleRequest(inferenceRequest);\r\n    \t\treturn ret;\r\n    \t}\r\n\r\n    \t/**\r\n    \t * @param messageWebService\r\n    \t */\r\n    \tpublic void setMessageWebService(MessageWebService messageWebService) {\r\n    \t\tthis.messageWebService = messageWebService;\r\n    \t}\r\n    }\r\n\r\n\r\nany ideas?","title":"Convert SOAP to a virtual Restful service?","body":"<p>Is there a way to use my SOAP web service(spring-ws, java) as a XML based RESTful service virtually?</p>\n\n<p>I don't want to re-write whole my SOAP web service into RESTful from scratch in java, but I need to access it through iphone using REST, which they already have easy native support.</p>\n\n<p>XMLGateway, Proxys..? or some extra java code? since my SOAP request and response is simply an XML file why can't I modify it to be used by a REST service?</p>\n\n<p>Or without changing changing any logic and xml parsing in my application is that easy to add jax-rs annotations and create a rest request xml?</p>\n\n<p>my config spring file is like this:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"webServicePluginDescriptor\"\n    class=\"com.mysite.ws.configuration.MyWebservicePluginDescriptor\" /&gt;\n\n&lt;bean id=\"payloadMapping\"\n    class=\"org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping\"&gt;\n    &lt;property name=\"defaultEndpoint\" ref=\"inferenceEndPoint\" /&gt;\n    &lt;property name=\"interceptors\"&gt;\n        &lt;list&gt;\n            &lt;ref local=\"validatingInterceptor\" /&gt;\n            &lt;ref local=\"payLoadInterceptor\" /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"payLoadInterceptor\"\n    class=\"org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor\" /&gt;\n\n&lt;bean id=\"validatingInterceptor\"\n    class=\"org.springframework.ws.soap.server.endpoint.interceptor.PayloadValidatingInterceptor\"&gt;\n    &lt;property name=\"schema\"\n        value=\"classpath:/wsdl/Request.xsd\" /&gt;\n    &lt;property name=\"validateRequest\" value=\"true\" /&gt;\n    &lt;property name=\"validateResponse\" value=\"false\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"PropertyResource\" class=\"com.mysite.ws.im.PropertyResource\"&gt;\n    &lt;property name=\"resource\"\n        value=\"/WEB-INF/client-specific/InferenceMachine.properties\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"inferenceEndPoint\" class=\"com.mysite.ws.web.InferenceEndPoint\"&gt;\n    &lt;property name=\"messageWebService\" ref=\"messageWebService\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"messageWebService\" class=\"com.mysite.ws.service.MessageWebService\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"inferenceService\" ref=\"inferenceService\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Request\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Request.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Response\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Response.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Error\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Error.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"mwsid\"\n    class=\"org.springframework.ws.wsdl.wsdl11.SimpleWsdl11Definition\"&gt;\n    &lt;constructor-arg value=\"classpath:/wsdl/mtchwsdl.wsdl\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"inferenceService\" class=\"com.mysite.ws.im.InferenceService\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"webServiceConfiguration\" ref=\"wsPlayerConfiguration\" /&gt;\n\n    &lt;property name=\"properties\"&gt;\n        &lt;bean class=\"com.mysite.ws.im.PropertyResource\"&gt;\n            &lt;property name=\"resource\"\n                value=\"/WEB-INF/client-specific/InferenceMachine.properties\" /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- ~~~~~~~ Application beans ~~~~~~~ --&gt;\n&lt;bean id=\"wsPlayerConfiguration\"\n    class=\"com.mysite.ws.configuration.WebServiceConfiguration\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"playerConfiguration\" ref=\"playerConfiguration\"&gt;&lt;/property&gt;\n    &lt;property name=\"configurationSetup\" ref=\"configurationSetup\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and this is my endpoint class:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * The EndPoint of the Web Service Application. This class gets the raw\n * SOAP-body message from the Spring Payload Dispatcher and sends the message to\n * the @see MessageService class. After it has gotten the response XML message\n * it returns this back to the Spring Payload Dispatcher.\n */\npublic class InferenceEndPoint extends AbstractJDomPayloadEndpoint {\n\n    private MessageWebService messageWebService;\n    public InferenceEndPoint() {\n    }\n\n    @Override\n    protected Element invokeInternal(Element inferenceRequest) throws Exception {\n        Element ret = messageWebService.handleRequest(inferenceRequest);\n        return ret;\n    }\n\n    /**\n     * @param messageWebService\n     */\n    public void setMessageWebService(MessageWebService messageWebService) {\n        this.messageWebService = messageWebService;\n    }\n}\n</code></pre>\n\n<p>any ideas?</p>\n"},{"tags":["java","hadoop","ftp"],"answers":[{"tags":[],"owner":{"account_id":2814311,"reputation":2660,"user_id":2918720,"display_name":"KhogaEslam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667979549,"creation_date":1667979549,"answer_id":74371358,"question_id":72677577,"body_markdown":"You may need to change the transfer and/or connection mode to one of the following\r\n\r\n```\r\n\r\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;COMPRESSED_TRANSFER_MODE&quot;);\r\n// OR\r\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;STREAM_TRANSFER_MODE&quot;);\r\n\r\n// AND\r\n\r\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\r\n// OR\r\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_REMOTE_DATA_CONNECTION_MODE&quot;);\r\n","title":"Hadoop FTPFileSystem fails to list files and throws SocketTimeOutException","body":"<p>You may need to change the transfer and/or connection mode to one of the following</p>\n<pre><code>\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;COMPRESSED_TRANSFER_MODE&quot;);\n// OR\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;STREAM_TRANSFER_MODE&quot;);\n\n// AND\n\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\n// OR\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_REMOTE_DATA_CONNECTION_MODE&quot;);\n</code></pre>\n"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74371358,"answer_count":1,"score":5,"last_activity_date":1667979549,"creation_date":1655648112,"question_id":72677577,"body_markdown":"I am using Apache Hadoop [FTPFileSystem][1] version 3.2.0 to list and read files from an FTP Server.\r\n\r\nHere is my test code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String host = &quot;some-host&quot;;\r\n        int port = 21;\r\n        Configuration conf = new Configuration(false);\r\n        conf.set(&quot;fs.ftp.host&quot;, host);\r\n        conf.setInt(&quot;fs.ftp.host.port&quot;, port);\r\n        conf.set(&quot;fs.ftp.user.&quot; + host, &quot;username&quot;);\r\n        conf.set(&quot;fs.ftp.password.&quot; + host, &quot;password&quot;);\r\n        conf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\r\n        conf.set(&quot;fs.ftp.impl&quot;, &quot;org.apache.hadoop.fs.ftp.FTPFileSystem&quot;);\r\n        \r\n        String fsURL = String.format(&quot;ftp://%s:%s&quot;, host, String.valueOf(port));\r\n        conf.set(&quot;fs.default.name&quot;, fsURL);\r\n        FileSystem fs =  FileSystem.newInstance(conf);\r\n        Path somePath = new Path(&quot;actual/path&quot;);\r\n        fs.getFileStatus(somePath).isDirectory(); // returns true\r\n        fs.listStatus(somePath); // keeps spinning then throws SocketTimeOutException\r\n    }\r\n\r\nAfter some debugging the deadlock or the delay happens at this method `org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPFileEntryParser, String)` at this method execution: `engine.readServerList(socket.getInputStream(), getControlEncoding());` as below:\r\n\r\n    private FTPListParseEngine initiateListParsing(\r\n            FTPFileEntryParser parser, String pathname)\r\n    throws IOException\r\n    {\r\n        Socket socket = _openDataConnection_(FTPCmd.LIST, getListArguments(pathname));\r\n\r\n        FTPListParseEngine engine = new FTPListParseEngine(parser, __configuration);\r\n        if (socket == null)\r\n        {\r\n            return engine;\r\n        }\r\n\r\n        try {\r\n            engine.readServerList(socket.getInputStream(), getControlEncoding());\r\n        }\r\n        finally {\r\n            Util.closeQuietly(socket);\r\n        }\r\n\r\n        completePendingCommand();\r\n        return engine;\r\n    }\r\n\r\nThe method call keeps blocked until it finally throws a socketTimeoutException, even-though using FileZilla with same credentials and properties I can list &amp; read files smoothly and in a much faster time.\r\n\r\nThe credentials I am using and properties are correct as the initial connection and `fs.getFileStatus(somePath).isDirectory();` call works and return correct value.\r\n\r\nIs there a property I can add to make things faster or is it a bug in apache hadoop FTPFileSystem version 3.2.0?\r\n\r\n\r\n  [1]: https://github.com/apache/hadoop/blob/branch-3.2.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java","title":"Hadoop FTPFileSystem fails to list files and throws SocketTimeOutException","body":"<p>I am using Apache Hadoop <a href=\"https://github.com/apache/hadoop/blob/branch-3.2.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java\" rel=\"noreferrer\">FTPFileSystem</a> version 3.2.0 to list and read files from an FTP Server.</p>\n<p>Here is my test code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String host = &quot;some-host&quot;;\n    int port = 21;\n    Configuration conf = new Configuration(false);\n    conf.set(&quot;fs.ftp.host&quot;, host);\n    conf.setInt(&quot;fs.ftp.host.port&quot;, port);\n    conf.set(&quot;fs.ftp.user.&quot; + host, &quot;username&quot;);\n    conf.set(&quot;fs.ftp.password.&quot; + host, &quot;password&quot;);\n    conf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\n    conf.set(&quot;fs.ftp.impl&quot;, &quot;org.apache.hadoop.fs.ftp.FTPFileSystem&quot;);\n    \n    String fsURL = String.format(&quot;ftp://%s:%s&quot;, host, String.valueOf(port));\n    conf.set(&quot;fs.default.name&quot;, fsURL);\n    FileSystem fs =  FileSystem.newInstance(conf);\n    Path somePath = new Path(&quot;actual/path&quot;);\n    fs.getFileStatus(somePath).isDirectory(); // returns true\n    fs.listStatus(somePath); // keeps spinning then throws SocketTimeOutException\n}\n</code></pre>\n<p>After some debugging the deadlock or the delay happens at this method <code>org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPFileEntryParser, String)</code> at this method execution: <code>engine.readServerList(socket.getInputStream(), getControlEncoding());</code> as below:</p>\n<pre><code>private FTPListParseEngine initiateListParsing(\n        FTPFileEntryParser parser, String pathname)\nthrows IOException\n{\n    Socket socket = _openDataConnection_(FTPCmd.LIST, getListArguments(pathname));\n\n    FTPListParseEngine engine = new FTPListParseEngine(parser, __configuration);\n    if (socket == null)\n    {\n        return engine;\n    }\n\n    try {\n        engine.readServerList(socket.getInputStream(), getControlEncoding());\n    }\n    finally {\n        Util.closeQuietly(socket);\n    }\n\n    completePendingCommand();\n    return engine;\n}\n</code></pre>\n<p>The method call keeps blocked until it finally throws a socketTimeoutException, even-though using FileZilla with same credentials and properties I can list &amp; read files smoothly and in a much faster time.</p>\n<p>The credentials I am using and properties are correct as the initial connection and <code>fs.getFileStatus(somePath).isDirectory();</code> call works and return correct value.</p>\n<p>Is there a property I can add to make things faster or is it a bug in apache hadoop FTPFileSystem version 3.2.0?</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667913533,"post_id":74361260,"comment_id":131277048,"body_markdown":"Dumping an unreadable screenshot is hardly asking a question. It is impossible to read the error.","body":"Dumping an unreadable screenshot is hardly asking a question. It is impossible to read the error."},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667914142,"post_id":74361260,"comment_id":131277349,"body_markdown":"I don&#39;t understand what is unreadable ?. If you click on the picture, the image will get maximized which is readable by all.","body":"I don&#39;t understand what is unreadable ?. If you click on the picture, the image will get maximized which is readable by all."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667914875,"post_id":74361260,"comment_id":131277659,"body_markdown":"Which, in my 40&quot; monitor, is still unreadable. Please post errors as text with proper formatting so that they are clearly readable (and searchable).","body":"Which, in my 40&quot; monitor, is still unreadable. Please post errors as text with proper formatting so that they are clearly readable (and searchable)."},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667915241,"post_id":74361260,"comment_id":131277826,"body_markdown":"I have a 23&#39;&#39; Monitor and is clear when the picture opens in maximized mode.","body":"I have a 23&#39;&#39; Monitor and is clear when the picture opens in maximized mode."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667915786,"post_id":74361260,"comment_id":131278070,"body_markdown":"Thanks for adding the text. You are missing poms in your repo. As you are on windows aren&#39;t you exceeding the maxlength of the paths?","body":"Thanks for adding the text. You are missing poms in your repo. As you are on windows aren&#39;t you exceeding the maxlength of the paths?"},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667916691,"post_id":74361260,"comment_id":131278406,"body_markdown":"The max length of path is 260 characters right.  The path length given in error message is 211. Also this is generated by Talend( GUI tool) which I don&#39;t have a control.","body":"The max length of path is 260 characters right.  The path length given in error message is 211. Also this is generated by Talend( GUI tool) which I don&#39;t have a control."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667916770,"post_id":74361260,"comment_id":131278438,"body_markdown":"Well not entirely because you decide where it starts and that is now somewher deep in the users directory.","body":"Well not entirely because you decide where it starts and that is now somewher deep in the users directory."}],"answers":[{"tags":[],"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667979525,"creation_date":1667979525,"answer_id":74371356,"question_id":74361260,"body_markdown":"I have force fully re-synchronized poms and applied the change as per the below screen shot and the issue got resolved.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EbHg7.png","title":"Exception related to pom while running a job in talend studio 7.3.1","body":"<p>I have force fully re-synchronized poms and applied the change as per the below screen shot and the issue got resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/EbHg7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbHg7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74371356,"answer_count":1,"score":-1,"last_activity_date":1667979525,"creation_date":1667912799,"question_id":74361260,"body_markdown":"When I try to run a job in talend studio 7.3.1, I get the following error.\r\nThere are many jobs in the repository but some jobs are displaying this issue when run. I cannot add the long error message which I got while running the job as stack overflow is not allowing me to copy the entire stack trace. I added the first part of the error message below the screen shot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JziSz.jpg\r\n\r\n\r\n    org.talend.designer.runprocess.ProcessorException: java.lang.Exception: [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [ERROR] Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]   \r\n    [ERROR]   The project org.talend:build.aggregator:7.0.0 (C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom) has 1 error\r\n    [ERROR]     Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException","title":"Exception related to pom while running a job in talend studio 7.3.1","body":"<p>When I try to run a job in talend studio 7.3.1, I get the following error.\nThere are many jobs in the repository but some jobs are displaying this issue when run. I cannot add the long error message which I got while running the job as stack overflow is not allowing me to copy the entire stack trace. I added the first part of the error message below the screen shot.</p>\n<p><a href=\"https://i.stack.imgur.com/JziSz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JziSz.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>org.talend.designer.runprocess.ProcessorException: java.lang.Exception: [ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project org.talend:build.aggregator:7.0.0 (C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom) has 1 error\n[ERROR]     Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n</code></pre>\n"},{"tags":["java","spring","inversion-of-control"],"comments":[{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1667974812,"post_id":74369524,"comment_id":131293126,"body_markdown":"I am unable to open the github link. For your code I have questions\nWhich is the concrete class for TestManager. ComponentScan?\nShould Component Scan should have a path to folder and not class file?","body":"I am unable to open the github link. For your code I have questions Which is the concrete class for TestManager. ComponentScan? Should Component Scan should have a path to folder and not class file?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1668038038,"post_id":74369524,"comment_id":131313450,"body_markdown":"Try git clone https://github.com/nicholaswkc34/Selenium-V4-Selenide.git.  TestManager is abstract class. No idea how to use Componentscan though..","body":"Try git clone <a href=\"https://github.com/nicholaswkc34/Selenium-V4-Selenide.git\" rel=\"nofollow noreferrer\">github.com/nicholaswkc34/Selenium-V4-Selenide.git</a>.  TestManager is abstract class. No idea how to use Componentscan though.."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1668049560,"post_id":74369524,"comment_id":131315142,"body_markdown":"What is your email address i will send you the source code?","body":"What is your email address i will send you the source code?"},{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1668055977,"post_id":74369524,"comment_id":131315967,"body_markdown":"It could be an access issue. Give me access on my github user \nhttps://github.com/CodeWarOdin","body":"It could be an access issue. Give me access on my github user  <a href=\"https://github.com/CodeWarOdin\" rel=\"nofollow noreferrer\">github.com/CodeWarOdin</a>"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667978813,"creation_date":1667963618,"question_id":74369524,"body_markdown":"I tried to do automation testing usign @ Autowired annotation but the beans that annotated with @autowired is null and cause NPE. What wrong with my code?\r\n\r\n```java\r\n@ComponentScan({&quot;com.nicholas.pages.LoginPages&quot;, &quot;com.nicholas.utils.Methods&quot;})\r\npublic abstract class TestManager {\r\n\r\n    protected ExtentTest extentTest;\r\n\r\n    @Autowired\r\n    protected LoginPages loginPages;\r\n}\r\n```\r\n```\r\n@Test // This is a class of GenericTestManager\r\npublic void testLogin() {\r\n    extentTest = extentManager.getExtentReports().createTest(&quot;Test 1&quot;);\r\n\r\n    loginPages.login();\r\n}\r\n```\r\n```\r\n@Component\r\npublic class LoginPages {\r\n\r\n    @Autowired\r\n    private Methods methods;\r\n\r\n    public void login() {\r\n        methods.waitUntilPageIsReady();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have other variable need to instantiate manually cause it using Singleton design pattern. \r\n\r\n[Source Code][1]\r\n\r\n\r\n  [1]: https://github.com/nicholaswkc34/Selenium-V4-Selenide","title":"Autowired return NPE","body":"<p>I tried to do automation testing usign @ Autowired annotation but the beans that annotated with @autowired is null and cause NPE. What wrong with my code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan({&quot;com.nicholas.pages.LoginPages&quot;, &quot;com.nicholas.utils.Methods&quot;})\npublic abstract class TestManager {\n\n    protected ExtentTest extentTest;\n\n    @Autowired\n    protected LoginPages loginPages;\n}\n</code></pre>\n<pre><code>@Test // This is a class of GenericTestManager\npublic void testLogin() {\n    extentTest = extentManager.getExtentReports().createTest(&quot;Test 1&quot;);\n\n    loginPages.login();\n}\n</code></pre>\n<pre><code>@Component\npublic class LoginPages {\n\n    @Autowired\n    private Methods methods;\n\n    public void login() {\n        methods.waitUntilPageIsReady();\n\n    }\n}\n</code></pre>\n<p>I have other variable need to instantiate manually cause it using Singleton design pattern.</p>\n<p><a href=\"https://github.com/nicholaswkc34/Selenium-V4-Selenide\" rel=\"nofollow noreferrer\">Source Code</a></p>\n"},{"tags":["java","methods","constructor"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667974915,"creation_date":1667974915,"answer_id":74370659,"question_id":74370544,"body_markdown":"    fgPercentage = numMade * 100 / numAttempt;\r\n\r\nOtherwise, your code is not working as expected, because you cast numMade into double while still dividing it by the integer numAttempt. ","title":"Percentage Output printing out 0","body":"<pre><code>fgPercentage = numMade * 100 / numAttempt;\n</code></pre>\n<p>Otherwise, your code is not working as expected, because you cast numMade into double while still dividing it by the integer numAttempt.</p>\n"},{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667977064,"creation_date":1667975528,"answer_id":74370748,"question_id":74370544,"body_markdown":"A couple of Things:\r\n\r\nFirstly, make sure you get your question precise. You are mentioning an array with no array to be found anywhere, you are not showing us how you are calling the Constructor etc.\r\n\r\nThat being said, your Constructor looks fine, other than that there are two unnecessary assignments in it, and you can give the Parameters of the Constructor the same names as the fields in your Class, like so:\r\n```\r\npublic Player(String name, int numMade, int numAttempt) {\r\n        this.name = name;\r\n        if (numAttempt &lt; numMade) {\r\n            this.numMade = numAttempt;\r\n            this.numAttempt = numMade;\r\n        } else {\r\n            this.numAttempt = numAttempt;\r\n            this.numMade = numMade;\r\n        }\r\n    }\r\n```\r\n\r\nThen, I recommend you change your `calculateFieldGoalPercentage()` method to this:\r\n```\r\n  public double calculateFieldGoalPercentage() {\r\n        if (numAttempt &gt; 0) {\r\n            return ((double) numMade / numAttempt) * 100;\r\n        }\r\n        return 0;\r\n    }\r\n```\r\n\r\nI would not have the assignment of the variable in an if clause and then return the field outside of it like you are currently doing, as that can lead to returning null, because the variable has never been instantiated.\r\n\r\nFinally, you can now use this Class in your main Method like so:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        Player[] team = {new Player(&quot;Tony&quot;, 3, 17),\r\n                new Player(&quot;Peter&quot;, 0, 12), new Player(&quot;Mary&quot;, 2, 3)};\r\n\r\n        for (Player p : team) {\r\n            p.printData();\r\n        }\r\n    }\r\n```\r\n\r\nThis example will give you the output:\r\n```\r\nName : Tony\r\nField Goals Made : 3\r\nFields Goals Attempted : 17\r\nField Goal Percentage :  17.65\r\nEffectiveness : 17.647058823529413\r\n____________________________________________\r\nName : Peter\r\nField Goals Made : 0\r\nFields Goals Attempted : 12\r\nField Goal Percentage :  0.00\r\nEffectiveness : 0.0\r\n____________________________________________\r\nName : Mary\r\nField Goals Made : 2\r\nFields Goals Attempted : 3\r\nField Goal Percentage :  66.67\r\nEffectiveness : 66.66666666666666\r\n____________________________________________\r\n```\r\n\r\n**EDIT**\r\n\r\nThe problem is, that you are never calling the function that calculates the field `fieldGoalPercentage`. Here is what you need to change, alongside the above:\r\n```\r\npublic void printData() {\r\n        System.out.println(&quot;Name : &quot; + name);\r\n        System.out.println(&quot;Field Goals Made : &quot; + numMade);\r\n        System.out.println(&quot;Fields Goals Attempted : &quot; + numAttempt);\r\n        System.out.printf(&quot;%8s %.2f%n&quot;, &quot;Field Goal Percentage : &quot;, calculateFieldGoalPercentage());\r\n        System.out.println(&quot;Effectiveness : &quot; + calculateFieldGoalPercentage());\r\n        System.out.println(&quot;____________________________________________&quot;);\r\n    }\r\n```\r\n","title":"Percentage Output printing out 0","body":"<p>A couple of Things:</p>\n<p>Firstly, make sure you get your question precise. You are mentioning an array with no array to be found anywhere, you are not showing us how you are calling the Constructor etc.</p>\n<p>That being said, your Constructor looks fine, other than that there are two unnecessary assignments in it, and you can give the Parameters of the Constructor the same names as the fields in your Class, like so:</p>\n<pre><code>public Player(String name, int numMade, int numAttempt) {\n        this.name = name;\n        if (numAttempt &lt; numMade) {\n            this.numMade = numAttempt;\n            this.numAttempt = numMade;\n        } else {\n            this.numAttempt = numAttempt;\n            this.numMade = numMade;\n        }\n    }\n</code></pre>\n<p>Then, I recommend you change your <code>calculateFieldGoalPercentage()</code> method to this:</p>\n<pre><code>  public double calculateFieldGoalPercentage() {\n        if (numAttempt &gt; 0) {\n            return ((double) numMade / numAttempt) * 100;\n        }\n        return 0;\n    }\n</code></pre>\n<p>I would not have the assignment of the variable in an if clause and then return the field outside of it like you are currently doing, as that can lead to returning null, because the variable has never been instantiated.</p>\n<p>Finally, you can now use this Class in your main Method like so:</p>\n<pre><code> public static void main(String[] args) {\n        Player[] team = {new Player(&quot;Tony&quot;, 3, 17),\n                new Player(&quot;Peter&quot;, 0, 12), new Player(&quot;Mary&quot;, 2, 3)};\n\n        for (Player p : team) {\n            p.printData();\n        }\n    }\n</code></pre>\n<p>This example will give you the output:</p>\n<pre><code>Name : Tony\nField Goals Made : 3\nFields Goals Attempted : 17\nField Goal Percentage :  17.65\nEffectiveness : 17.647058823529413\n____________________________________________\nName : Peter\nField Goals Made : 0\nFields Goals Attempted : 12\nField Goal Percentage :  0.00\nEffectiveness : 0.0\n____________________________________________\nName : Mary\nField Goals Made : 2\nFields Goals Attempted : 3\nField Goal Percentage :  66.67\nEffectiveness : 66.66666666666666\n____________________________________________\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The problem is, that you are never calling the function that calculates the field <code>fieldGoalPercentage</code>. Here is what you need to change, alongside the above:</p>\n<pre><code>public void printData() {\n        System.out.println(&quot;Name : &quot; + name);\n        System.out.println(&quot;Field Goals Made : &quot; + numMade);\n        System.out.println(&quot;Fields Goals Attempted : &quot; + numAttempt);\n        System.out.printf(&quot;%8s %.2f%n&quot;, &quot;Field Goal Percentage : &quot;, calculateFieldGoalPercentage());\n        System.out.println(&quot;Effectiveness : &quot; + calculateFieldGoalPercentage());\n        System.out.println(&quot;____________________________________________&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":26874988,"reputation":1,"user_id":20456375,"display_name":"marior21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667978632,"creation_date":1667973940,"question_id":74370544,"body_markdown":"I am new to Java, and I am trying to get a Field Goal percentage calculation, and the output keeps giving me 0. Not sure if it has something to do with my constructor, or if it is not pulling the correct info out of my array.\r\n\r\n```\r\npublic Player(String newName, int newnumMade, int newnumAttempt)\r\n\t{\r\n\t\tname = newName;\r\n\t\t\r\n\t\tnumAttempt = newnumAttempt;\r\n\t\tnumMade = newnumMade;\r\n\t\t\r\n\t\tif(newnumAttempt &lt; newnumMade)\r\n\t\t{\r\n\t\t\tnumMade = newnumAttempt;\r\n\t\t\tnumAttempt = newnumMade;\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tnumAttempt = newnumAttempt;\r\n\t\t\tnumMade = newnumMade;\r\n\t\t}\r\n\t}\r\n```\r\n``` \r\npublic double getfgPercentage()\r\n\t{\r\n\t\t\r\n\t\t if(numAttempt &gt; 0)\r\n\t\t{\r\n\t\t\tdouble first = (double)numMade / numAttempt;\r\n\t\t\tfgPercentage = first * 100;\r\n\t\t}\r\n\t\treturn fgPercentage;\r\n\t}\r\n```\r\n\r\n\r\nI understand that int division always gives an int so I converted one of my ints into a double. Ive tested out multiple ways adding two numbers just to see if it would work, but the output is constantly giving me 0.","title":"Percentage Output printing out 0","body":"<p>I am new to Java, and I am trying to get a Field Goal percentage calculation, and the output keeps giving me 0. Not sure if it has something to do with my constructor, or if it is not pulling the correct info out of my array.</p>\n<pre><code>public Player(String newName, int newnumMade, int newnumAttempt)\n    {\n        name = newName;\n        \n        numAttempt = newnumAttempt;\n        numMade = newnumMade;\n        \n        if(newnumAttempt &lt; newnumMade)\n        {\n            numMade = newnumAttempt;\n            numAttempt = newnumMade;\n        }\n        else \n        {\n            numAttempt = newnumAttempt;\n            numMade = newnumMade;\n        }\n    }\n</code></pre>\n<pre><code>public double getfgPercentage()\n    {\n        \n         if(numAttempt &gt; 0)\n        {\n            double first = (double)numMade / numAttempt;\n            fgPercentage = first * 100;\n        }\n        return fgPercentage;\n    }\n</code></pre>\n<p>I understand that int division always gives an int so I converted one of my ints into a double. Ive tested out multiple ways adding two numbers just to see if it would work, but the output is constantly giving me 0.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1667977569,"post_id":74371019,"comment_id":131293717,"body_markdown":"Java is already telling you what the issue is, you need to add the type of the parameters in the method signature.","body":"Java is already telling you what the issue is, you need to add the type of the parameters in the method signature."},{"owner":{"account_id":22529197,"reputation":1,"user_id":16721568,"display_name":"Jack Sparrow"},"score":0,"creation_date":1667978217,"post_id":74371019,"comment_id":131293855,"body_markdown":"Thanks for helping me out as I am new to Java language.","body":"Thanks for helping me out as I am new to Java language."}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667978495,"creation_date":1667977997,"answer_id":74371128,"question_id":74371019,"body_markdown":"As @Bahij.Mik mentioned in the comments, you are missing the [types][1] in the method signature. So change the `search` method to:\r\n\r\n    public static int search(int[] num, int target_value) {\r\n      ..\r\n    }\r\n\r\n\r\n*N.B. Check also this [Guide to the Static Keyword][2] in Java!*\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_data_types.asp\r\n  [2]: https://www.baeldung.com/java-static","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<p>As @Bahij.Mik mentioned in the comments, you are missing the <a href=\"https://www.w3schools.com/java/java_data_types.asp\" rel=\"nofollow noreferrer\">types</a> in the method signature. So change the <code>search</code> method to:</p>\n<pre><code>public static int search(int[] num, int target_value) {\n  ..\n}\n</code></pre>\n<p><em>N.B. Check also this <a href=\"https://www.baeldung.com/java-static\" rel=\"nofollow noreferrer\">Guide to the Static Keyword</a> in Java!</em></p>\n"},{"tags":[],"owner":{"account_id":21354378,"reputation":91,"user_id":15723533,"display_name":"Eric Kong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667978333,"creation_date":1667978333,"answer_id":74371173,"question_id":74371019,"body_markdown":"You have to add type parameters in the method\r\n\r\n    public static int search(int[] num, int target_value)\r\n\r\nand if you make the method static you dont have to declaration the object\r\n\r\nyou can call the method directly\r\n\r\n    int result = search(num,target_value);","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<p>You have to add type parameters in the method</p>\n<pre><code>public static int search(int[] num, int target_value)\n</code></pre>\n<p>and if you make the method static you dont have to declaration the object</p>\n<p>you can call the method directly</p>\n<pre><code>int result = search(num,target_value);\n</code></pre>\n"}],"owner":{"account_id":22529197,"reputation":1,"user_id":16721568,"display_name":"Jack Sparrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667978495,"creation_date":1667977278,"question_id":74371019,"body_markdown":"```\r\npublic class binarysearch {\r\n    public static int search(num, target_value) {\r\n        int low = 0;\r\n        int mid;\r\n        int high = num.length - 1;\r\n        \r\n        while (low &lt; high) {\r\n            mid = (low + high) / 2;\r\n\r\n            if (num[mid] == target_value) {\r\n                return mid;\r\n            }\r\n\r\n            if (num[mid] &lt; target_value){\r\n                low = mid + 1;\r\n            } else {\r\n                high = mid - 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        binarysearch ob = new binarysearch();\r\n        int target_value = 69;\r\n        int[] num = {10,23,45,11,69,81};\r\n        int result = ob.search(num,target_value);\r\n        \r\n        if (result == -1) {\r\n          System.out.println(&quot;Element not present&quot;);\r\n        } else {\r\n          System.out.println(&quot;Element is present&quot; + mid);\r\n        }\r\n    }\r\n}\r\n```\r\nCould someone help me what exactly I am doing wrong here. I am facing a compilation error while executing my code.\r\n\r\nI was trying to implement Binary Search and I am receiving this error : \r\n\r\n```\r\n/binarysearch.java:2: error: &lt;identifier&gt; expected\r\n    public static int search(num,target_value)\r\n                                ^\r\n/binarysearch.java:2: error: &lt;identifier&gt; expected\r\n    public static int search(num,target_value)\r\n                                             ^\r\n2 errors\r\n```\r\n","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<pre><code>public class binarysearch {\n    public static int search(num, target_value) {\n        int low = 0;\n        int mid;\n        int high = num.length - 1;\n        \n        while (low &lt; high) {\n            mid = (low + high) / 2;\n\n            if (num[mid] == target_value) {\n                return mid;\n            }\n\n            if (num[mid] &lt; target_value){\n                low = mid + 1;\n            } else {\n                high = mid - 1;\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        binarysearch ob = new binarysearch();\n        int target_value = 69;\n        int[] num = {10,23,45,11,69,81};\n        int result = ob.search(num,target_value);\n        \n        if (result == -1) {\n          System.out.println(&quot;Element not present&quot;);\n        } else {\n          System.out.println(&quot;Element is present&quot; + mid);\n        }\n    }\n}\n</code></pre>\n<p>Could someone help me what exactly I am doing wrong here. I am facing a compilation error while executing my code.</p>\n<p>I was trying to implement Binary Search and I am receiving this error :</p>\n<pre><code>/binarysearch.java:2: error: &lt;identifier&gt; expected\n    public static int search(num,target_value)\n                                ^\n/binarysearch.java:2: error: &lt;identifier&gt; expected\n    public static int search(num,target_value)\n                                             ^\n2 errors\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","dependency-injection"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":1,"creation_date":1667740712,"post_id":74336186,"comment_id":131234112,"body_markdown":"Is this bean is in under component scan?","body":"Is this bean is in under component scan?"},{"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"score":1,"creation_date":1667821841,"post_id":74336186,"comment_id":131251438,"body_markdown":"@RohitAgarwal, amidst of all the analysis, this is what I missed. After adding, the package of the class which I saw after decompiling the jar, I could get the bean. I think the 3rd party library should provide all this details. thanks for pointing this out.","body":"@RohitAgarwal, amidst of all the analysis, this is what I missed. After adding, the package of the class which I saw after decompiling the jar, I could get the bean. I think the 3rd party library should provide all this details. thanks for pointing this out."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667826103,"post_id":74336186,"comment_id":131252955,"body_markdown":"Good to hear that issue is resolved :)","body":"Good to hear that issue is resolved :)"}],"answers":[{"tags":[],"owner":{"account_id":21055927,"reputation":1,"user_id":15475196,"display_name":"Pushpendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667752499,"creation_date":1667752499,"answer_id":74337750,"question_id":74336186,"body_markdown":"This is information is not enough, can you please share your pom file of library that contains CustomObject. \r\n\r\nI need to see pom file build section code. ","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>This is information is not enough, can you please share your pom file of library that contains CustomObject.</p>\n<p>I need to see pom file build section code.</p>\n"},{"tags":[],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667978381,"creation_date":1667978381,"answer_id":74371185,"question_id":74336186,"body_markdown":"as suggested by @Rohit in comments, I missed to add the package of the class in the 3rd party lib jar under  component scan. After adding the package under component scan, issue is resolved.","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>as suggested by @Rohit in comments, I missed to add the package of the class in the 3rd party lib jar under  component scan. After adding the package under component scan, issue is resolved.</p>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74371185,"answer_count":2,"score":0,"last_activity_date":1667978381,"creation_date":1667740569,"question_id":74336186,"body_markdown":"I have a spring boot app in which I have added another library (in pom.xml).\r\n\r\nThis library is also a spring boot library which has created some beans and made the beans available using @Bean. The code snippet in 3rd party library is like this  :\r\n\r\n    @Bean\r\n    public CustomObject customObject() {\r\n        return new CustomObject();\r\n    }\r\n\r\nNow, I am using this library in my application, but I dont see this bean registered with my application.\r\nI checked all the beans registered with application Context and also tried loading from application context. But no luck.\r\n\r\nWhat am I missing here? The purpose of this 3rd party library is to check some config and create this bean, so if I have to manually create this bean, it takes away the whole purpose.\r\n","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>I have a spring boot app in which I have added another library (in pom.xml).</p>\n<p>This library is also a spring boot library which has created some beans and made the beans available using @Bean. The code snippet in 3rd party library is like this  :</p>\n<pre><code>@Bean\npublic CustomObject customObject() {\n    return new CustomObject();\n}\n</code></pre>\n<p>Now, I am using this library in my application, but I dont see this bean registered with my application.\nI checked all the beans registered with application Context and also tried loading from application context. But no luck.</p>\n<p>What am I missing here? The purpose of this 3rd party library is to check some config and create this bean, so if I have to manually create this bean, it takes away the whole purpose.</p>\n"},{"tags":["java","jdbc","trino"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667842569,"post_id":74350504,"comment_id":131259259,"body_markdown":"seems service is not running on 443 port. Can you recheck.","body":"seems service is not running on 443 port. Can you recheck."},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667843371,"post_id":74350504,"comment_id":131259549,"body_markdown":"trino-cluster                          NodePort       XXXXXXX     &lt;none&gt;            443:31212/TCP                                                                                                                  10d   Its running on 443 port .. tried with external port also same exception","body":"trino-cluster                          NodePort       XXXXXXX     &lt;none&gt;            443:31212/TCP                                                                                                                  10d   Its running on 443 port .. tried with external port also same exception"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667927604,"post_id":74350504,"comment_id":131282949,"body_markdown":"Inital default port is 8080 with http .. Then I was facing SSLHandshakeException .. so chnaged to https &amp; 443 then getting connection refused","body":"Inital default port is 8080 with http .. Then I was facing SSLHandshakeException .. so chnaged to https &amp; 443 then getting connection refused"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667927853,"post_id":74350504,"comment_id":131283038,"body_markdown":"Documentation doesn&#39;t seem to have any mention of SSL error if you run with 8080. Can you check if you are running this code inside proxy","body":"Documentation doesn&#39;t seem to have any mention of SSL error if you run with 8080. Can you check if you are running this code inside proxy"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667978391,"post_id":74350504,"comment_id":131293890,"body_markdown":"Updated now Ashish , Currently no proxy / gateway is configured inside the cluster","body":"Updated now Ashish , Currently no proxy / gateway is configured inside the cluster"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1668014156,"post_id":74350504,"comment_id":131306762,"body_markdown":"Properties properties = new Properties();\n\t\tproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\n\t\tproperties.setProperty(&quot;SSL&quot;, &quot;false&quot;);\n\t\t\n\t\tConnection connection = DriverManager.getConnection(url,properties);\n\t\tStatement stmt=connection.createStatement();   This worked to bypass SSL Exception and currently connection is established through http ..","body":"Properties properties = new Properties(); \t\tproperties.setProperty(&quot;user&quot;, &quot;user&quot;); \t\tproperties.setProperty(&quot;SSL&quot;, &quot;false&quot;); \t\t \t\tConnection connection = DriverManager.getConnection(url,properties); \t\tStatement stmt=connection.createStatement();   This worked to bypass SSL Exception and currently connection is established through http .."}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982673,"answer_count":0,"score":0,"last_activity_date":1667978349,"creation_date":1667841817,"question_id":74350504,"body_markdown":"I am getting below exception when executing sql query through trino Java API \r\n\r\n\r\n```\r\n[] threw exception [Request processing failed; nested exception is java.sql.SQLException: Error executing query: java.net.ConnectException: **Failed to connect to /clusterIP:port]** with root cause\r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\r\n        at io.trino.jdbc.$internal.okhttp3.internal.platform.Platform.connectSocket(Platform.java:130) ~[trino-jdbc-402.jar!/:402]\r\n        at io.trino.jdbc.$internal.okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263) ~[trino-jdbc-402.jar!/:402]\r\n\r\nwith http &amp; 8080 port below is the message :\r\n&quot;message&quot;: &quot;Error executing query: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake&quot;,\r\n\r\n```\r\n\r\nMaven dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.trino&lt;/groupId&gt;\r\n    &lt;artifactId&gt;trino-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;402&lt;/version&gt;\r\n    \r\n```\r\n\r\n\r\n\r\nCode snippet:   \r\n```\r\nString url = &quot;jdbc:trino://trino-cluster:443&quot;;\r\nString sql = &quot;select * from keyspace.tableName&quot;;\r\n\t \r\nProperties properties = new Properties();\r\nproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\r\nproperties.setProperty(&quot;SSL&quot;, &quot;true&quot;);\r\n\r\nConnection connection = DriverManager.getConnection(url,properties);\r\nStatement stmt=connection.createStatement();\r\n\r\nResultSet rs=stmt.executeQuery(sql);\r\nwhile(rs.next()){\r\n     System.out.println(rs.getString(1));\r\n}\r\nSystem.out.println(connection.getCatalog());\r\n```\r\n\r\n\r\nFollowed this ref to deploy trino-cluster with 8080 port and updated it to 443 for SSL Handshake issue resolution.\r\n\r\nhttps://trino.io/docs/current/installation/kubernetes.html\r\n\r\nI am able to exec the pod and run cassandra queries, but from java while executeQuery() its giving exception.\r\n\r\nI have deployed trino using helm as one service and created another micro service with above code snippet to connect to trino service and run the queries in kubernetes cluster\r\n\r\nKindly suggest if any changes needed. Couldn&#39;t get much docs w.r.t trino Java Integration.\r\n\r\nMy requirement to connect to trino to fetch records from cassandra connector through Java API","title":"Connection refused while connecting to trino","body":"<p>I am getting below exception when executing sql query through trino Java API</p>\n<pre><code>[] threw exception [Request processing failed; nested exception is java.sql.SQLException: Error executing query: java.net.ConnectException: **Failed to connect to /clusterIP:port]** with root cause\n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\n        at io.trino.jdbc.$internal.okhttp3.internal.platform.Platform.connectSocket(Platform.java:130) ~[trino-jdbc-402.jar!/:402]\n        at io.trino.jdbc.$internal.okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263) ~[trino-jdbc-402.jar!/:402]\n\nwith http &amp; 8080 port below is the message :\n&quot;message&quot;: &quot;Error executing query: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake&quot;,\n\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.trino&lt;/groupId&gt;\n    &lt;artifactId&gt;trino-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;402&lt;/version&gt;\n    \n</code></pre>\n<p>Code snippet:</p>\n<pre><code>String url = &quot;jdbc:trino://trino-cluster:443&quot;;\nString sql = &quot;select * from keyspace.tableName&quot;;\n     \nProperties properties = new Properties();\nproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\nproperties.setProperty(&quot;SSL&quot;, &quot;true&quot;);\n\nConnection connection = DriverManager.getConnection(url,properties);\nStatement stmt=connection.createStatement();\n\nResultSet rs=stmt.executeQuery(sql);\nwhile(rs.next()){\n     System.out.println(rs.getString(1));\n}\nSystem.out.println(connection.getCatalog());\n</code></pre>\n<p>Followed this ref to deploy trino-cluster with 8080 port and updated it to 443 for SSL Handshake issue resolution.</p>\n<p><a href=\"https://trino.io/docs/current/installation/kubernetes.html\" rel=\"nofollow noreferrer\">https://trino.io/docs/current/installation/kubernetes.html</a></p>\n<p>I am able to exec the pod and run cassandra queries, but from java while executeQuery() its giving exception.</p>\n<p>I have deployed trino using helm as one service and created another micro service with above code snippet to connect to trino service and run the queries in kubernetes cluster</p>\n<p>Kindly suggest if any changes needed. Couldn't get much docs w.r.t trino Java Integration.</p>\n<p>My requirement to connect to trino to fetch records from cassandra connector through Java API</p>\n"},{"tags":["java","spring-data-jpa"],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667978185,"creation_date":1667978185,"question_id":74371157,"body_markdown":"So currently I am trying to select elements where their key has to be inside the list provided as the parameter. This is simple enough but I have two factors that make this problem more complex:\r\n\r\n1\\.The Key I am selecting by is a composite key represented by following class\r\n\r\n```java\r\n@Embeddable\r\n@Getter\r\n@Setter\r\n@ToString\r\n@EqualsAndHashCode\r\npublic class BueroPKey implements Serializable {\r\n\r\n   @NotNull\r\n   @Column(name = COL_B_AGENTUR_ID)\r\n   private UUID agenturIdentitaetId;\r\n\r\n   @NotNull\r\n   @Column(name = COL_B_STANDORT_ID)\r\n   private UUID standortid;\r\n\r\n   public BueroPKey() {\r\n   }\r\n\r\n   public BueroPKey(UUID agenturIdentitaetId, UUID standortid) {\r\n      this.agenturIdentitaetId = agenturIdentitaetId;\r\n      this.standortid = standortid;\r\n   }\r\n}\r\n```\r\n\r\n2. The original query I want to use this in is too complex to just let spring generate my sql and has to be a native query.\r\n\r\nI tried using this simple approach:\r\n\r\n```java\r\n@Query(value = &quot;SELECT * from ao.buero b where (b.agentur_id, b.standort_id) in (?1)&quot;, nativeQuery = true)\r\nList&lt;Buero&gt; findAllByIdIn(List&lt;BueroPKey&gt; keys);\r\n```\r\n\r\nbut that just throws an exception:\r\n\r\n```\r\nsql=SELECT * from ao.buero b where (b.agentur_id, b.standort_id) in ({Array}, {Array})\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\r\n  Hinweis: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n  Position: 62\r\nState: 42883 Errorcode: 0\r\n```\r\n\r\nI am unsure why this happens since postgres supports the following construct perfectly fine:\r\n\r\n```sql\r\nSELECT * FROM ao.buero as b\r\nWHERE (b.agentur_id, b.standort_id) in\r\n    (\r\n     (&#39;a31bf521-0d64-4d37-a925-b3a9ae8dd214&#39;,&#39;c5d7b069-acef-4643-9023-f40bb31a97b0&#39;),\r\n     (&#39;41d0bacb-89e2-4966-9054-09f0259ffa16&#39;, &#39;f6a3212c-9f75-4624-b823-13614c41f47e&#39;)\r\n    )\r\n```\r\n\r\nWhich is what I would expect the statement to be expanded to...","title":"Spring Data JPA Select where composite key is in dynamic List","body":"<p>So currently I am trying to select elements where their key has to be inside the list provided as the parameter. This is simple enough but I have two factors that make this problem more complex:</p>\n<p>1.The Key I am selecting by is a composite key represented by following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\n@Getter\n@Setter\n@ToString\n@EqualsAndHashCode\npublic class BueroPKey implements Serializable {\n\n   @NotNull\n   @Column(name = COL_B_AGENTUR_ID)\n   private UUID agenturIdentitaetId;\n\n   @NotNull\n   @Column(name = COL_B_STANDORT_ID)\n   private UUID standortid;\n\n   public BueroPKey() {\n   }\n\n   public BueroPKey(UUID agenturIdentitaetId, UUID standortid) {\n      this.agenturIdentitaetId = agenturIdentitaetId;\n      this.standortid = standortid;\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>The original query I want to use this in is too complex to just let spring generate my sql and has to be a native query.</li>\n</ol>\n<p>I tried using this simple approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * from ao.buero b where (b.agentur_id, b.standort_id) in (?1)&quot;, nativeQuery = true)\nList&lt;Buero&gt; findAllByIdIn(List&lt;BueroPKey&gt; keys);\n</code></pre>\n<p>but that just throws an exception:</p>\n<pre><code>sql=SELECT * from ao.buero b where (b.agentur_id, b.standort_id) in ({Array}, {Array})\norg.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\n  Hinweis: No operator matches the given name and argument types. You might need to add explicit type casts.\n  Position: 62\nState: 42883 Errorcode: 0\n</code></pre>\n<p>I am unsure why this happens since postgres supports the following construct perfectly fine:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM ao.buero as b\nWHERE (b.agentur_id, b.standort_id) in\n    (\n     ('a31bf521-0d64-4d37-a925-b3a9ae8dd214','c5d7b069-acef-4643-9023-f40bb31a97b0'),\n     ('41d0bacb-89e2-4966-9054-09f0259ffa16', 'f6a3212c-9f75-4624-b823-13614c41f47e')\n    )\n</code></pre>\n<p>Which is what I would expect the statement to be expanded to...</p>\n"},{"tags":["java","spring","inputstream","resttemplate","java-memory-leaks"],"owner":{"account_id":25226419,"reputation":25,"user_id":19062211,"display_name":"Pavel Ryabykh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667977962,"creation_date":1667977962,"question_id":74371120,"body_markdown":"I have to send an HTTP request from my code which sends a PDF file to another backend service, which consumes multipart form data.\r\nI have found the following example how to do this: https://stackoverflow.com/a/44461661/19062211\r\nI implemented this approach almost in the same way.\r\nHere I extend InputStreamResource\r\n\r\n```\r\npublic final class MultipartInputStreamFileResource extends InputStreamResource {\r\n\r\n    private final String filename;\r\n\r\n    public MultipartInputStreamFileResourceV1(InputStream inputStream, String filename) {\r\n        super(inputStream);\r\n        this.filename = filename;\r\n    }\r\n\r\n    @Override\r\n    public String getFilename() {\r\n        return this.filename;\r\n    }\r\n\r\n    @Override\r\n    public long contentLength() throws IOException {\r\n        return -1; // we do not want to generally read the whole stream into memory ...\r\n    }\r\n}\r\n```\r\nAnd here I actually use it (to send post http request with multipart body)\r\n\r\n```\r\npublic void sendPdf(byte[] pdf) {\r\n    MultiValueMap&lt;String, Object&gt; params = new LinkedMultiValueMap&lt;&gt;();\r\n    String fileName = &quot;fileName.pdf&quot;;\r\n    params.add(&quot;file&quot;, new MultipartInputStreamFileResource(new ByteArrayInputStream(pdf), fileName));\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(params, headers);\r\n    String targetUri = &quot;http://foo.bar&quot;;\r\n    restTemplateClient.postForEntity(targetUri , requestEntity, Void.class);\r\n}\r\n```\r\nAnd the question is should I close InputStreamResource (which I extended with MultipartInputStreamFileResource) somewhere or somehow or maybe I should close at least ByteArrayInputStream, which I create above.\r\n\r\nI was looking for examples of using this approach and I didn&#39;t find any of them where I could see close invocations. But I am not sure that it&#39;s safe and won&#39;t result in memory or resource leak.\r\n\r\nThank you very much for your time and your answers. I really appriciate it.","title":"Should I close InputStreamResource (Spring) somehow when sending http request by RestTemplate","body":"<p>I have to send an HTTP request from my code which sends a PDF file to another backend service, which consumes multipart form data.\nI have found the following example how to do this: <a href=\"https://stackoverflow.com/a/44461661/19062211\">https://stackoverflow.com/a/44461661/19062211</a>\nI implemented this approach almost in the same way.\nHere I extend InputStreamResource</p>\n<pre><code>public final class MultipartInputStreamFileResource extends InputStreamResource {\n\n    private final String filename;\n\n    public MultipartInputStreamFileResourceV1(InputStream inputStream, String filename) {\n        super(inputStream);\n        this.filename = filename;\n    }\n\n    @Override\n    public String getFilename() {\n        return this.filename;\n    }\n\n    @Override\n    public long contentLength() throws IOException {\n        return -1; // we do not want to generally read the whole stream into memory ...\n    }\n}\n</code></pre>\n<p>And here I actually use it (to send post http request with multipart body)</p>\n<pre><code>public void sendPdf(byte[] pdf) {\n    MultiValueMap&lt;String, Object&gt; params = new LinkedMultiValueMap&lt;&gt;();\n    String fileName = &quot;fileName.pdf&quot;;\n    params.add(&quot;file&quot;, new MultipartInputStreamFileResource(new ByteArrayInputStream(pdf), fileName));\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(params, headers);\n    String targetUri = &quot;http://foo.bar&quot;;\n    restTemplateClient.postForEntity(targetUri , requestEntity, Void.class);\n}\n</code></pre>\n<p>And the question is should I close InputStreamResource (which I extended with MultipartInputStreamFileResource) somewhere or somehow or maybe I should close at least ByteArrayInputStream, which I create above.</p>\n<p>I was looking for examples of using this approach and I didn't find any of them where I could see close invocations. But I am not sure that it's safe and won't result in memory or resource leak.</p>\n<p>Thank you very much for your time and your answers. I really appriciate it.</p>\n"},{"tags":["java","mysql","mariadb","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667977870,"creation_date":1482331730,"answer_id":41265541,"question_id":41264116,"body_markdown":"This is a known limitation in jOOQ 3.9: https://github.com/jOOQ/jOOQ/issues/2943\r\n\r\nYou currently cannot use the `RETURNING` clause in jOOQ when using [plain SQL tables and fields][1] (as opposed to generated ones), because jOOQ needs to know the identity column name to bind to JDBC (in most databases), and that meta data is not available from your `table(&quot;users&quot;)` object.\r\n\r\nUnfortunately, passing the `ID` column to the `RETURNING` clause isn&#39;t sufficient, because there&#39;s no guarantee that this is the identity column. You might also pass several columns to the `RETURNING` clause, in case of which jOOQ wouldn&#39;t know which one would be the identity column.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/","title":"INSERT..RETURNING is not working in JOOQ","body":"<p>This is a known limitation in jOOQ 3.9: <a href=\"https://github.com/jOOQ/jOOQ/issues/2943\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2943</a></p>\n<p>You currently cannot use the <code>RETURNING</code> clause in jOOQ when using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\" rel=\"nofollow noreferrer\">plain SQL tables and fields</a> (as opposed to generated ones), because jOOQ needs to know the identity column name to bind to JDBC (in most databases), and that meta data is not available from your <code>table(&quot;users&quot;)</code> object.</p>\n<p>Unfortunately, passing the <code>ID</code> column to the <code>RETURNING</code> clause isn't sufficient, because there's no guarantee that this is the identity column. You might also pass several columns to the <code>RETURNING</code> clause, in case of which jOOQ wouldn't know which one would be the identity column.</p>\n"}],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2577,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41265541,"answer_count":1,"score":5,"last_activity_date":1667977870,"creation_date":1482327482,"question_id":41264116,"body_markdown":"I have a MariaDB database and I&#39;m trying to insert a row in my table `users`. It has a generated `id` and I want to get it after insert. I have seen [this][1] but it&#39;s not working for me:\r\n\r\n    public Integer addNewUser(String name) {\r\n        Record record = context.insertInto(table(&quot;users&quot;), field(&quot;name&quot;))\r\n            .values(name)\r\n            .returning(field(&quot;id&quot;))\r\n            .fetchOne();\r\n        return record.into(Integer.class);\r\n    }\r\n\r\nNew row is inserted but `record` is always `null`. I&#39;m not using JOOQ code generation.\r\n\r\n  [1]: http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/insert-statement/insert-returning/","title":"INSERT..RETURNING is not working in JOOQ","body":"<p>I have a MariaDB database and I'm trying to insert a row in my table <code>users</code>. It has a generated <code>id</code> and I want to get it after insert. I have seen <a href=\"http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/insert-statement/insert-returning/\" rel=\"noreferrer\">this</a> but it's not working for me:</p>\n\n<pre><code>public Integer addNewUser(String name) {\n    Record record = context.insertInto(table(\"users\"), field(\"name\"))\n        .values(name)\n        .returning(field(\"id\"))\n        .fetchOne();\n    return record.into(Integer.class);\n}\n</code></pre>\n\n<p>New row is inserted but <code>record</code> is always <code>null</code>. I'm not using JOOQ code generation.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9095,"page":897,"page_size":100}
