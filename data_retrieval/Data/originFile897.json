{"items":[{"tags":["java","spring","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668049126,"creation_date":1668049126,"answer_id":74383688,"question_id":74265432,"body_markdown":"Personally I always use public factory methods. Not sure why you would use other ones intentionally.\r\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.","title":"Factory methods visibility in Spring Java configuration","body":"<p>Personally I always use public factory methods. Not sure why you would use other ones intentionally.\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.</p>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668049126,"creation_date":1667229480,"question_id":74265432,"body_markdown":"Let&#39;s consider a Spring 5 project using **only Java configuration**.\r\n\r\n    @Configuration\r\n    class AppConfig{\r\n    \r\n      @Bean\r\n      &lt;visibility-modifier&gt; MyComponent first(){\r\n        return new MyComponent();\r\n      }\r\n    \r\n      // other @Bean annotated methods\r\n    }\r\n\r\n    // multiple configuration classes following similar structure\r\n\r\nTrying to figure out what is the impact of `&lt;visibility-modifier&gt;` I&#39;ve found that there could be visibility effects while mixing XML config and Java config ([example][1]).\r\n\r\nIt is a bit confusing that documentation mostly uses `public` modifier everywhere\r\n(e.g. https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html)\r\n\r\n\r\n**What is the difference between using `public` and other visibility modifiers on `@Bean` methods?**\r\n(when only Java configuration is used)\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html","title":"Factory methods visibility in Spring Java configuration","body":"<p>Let's consider a Spring 5 project using <strong>only Java configuration</strong>.</p>\n<pre><code>@Configuration\nclass AppConfig{\n\n  @Bean\n  &lt;visibility-modifier&gt; MyComponent first(){\n    return new MyComponent();\n  }\n\n  // other @Bean annotated methods\n}\n\n// multiple configuration classes following similar structure\n</code></pre>\n<p>Trying to figure out what is the impact of <code>&lt;visibility-modifier&gt;</code> I've found that there could be visibility effects while mixing XML config and Java config (<a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html\" rel=\"nofollow noreferrer\">example</a>).</p>\n<p>It is a bit confusing that documentation mostly uses <code>public</code> modifier everywhere\n(e.g. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html</a>)</p>\n<p><strong>What is the difference between using <code>public</code> and other visibility modifiers on <code>@Bean</code> methods?</strong>\n(when only Java configuration is used)</p>\n"},{"tags":["java","spring","solr","log4j","solrj"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668064664,"post_id":74383680,"comment_id":131317558,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668099897,"post_id":74383680,"comment_id":131330047,"body_markdown":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the `log4j-1.2-api` bridge (cf. [migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html)). You just need to try using it with Solr 4.6.","body":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the <code>log4j-1.2-api</code> bridge (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration guide</a>). You just need to try using it with Solr 4.6."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668101483,"post_id":74383680,"comment_id":131330597,"body_markdown":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. [mvnrepository](https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0)","body":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. <a href=\"https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0\" rel=\"nofollow noreferrer\">mvnrepository</a>"}],"owner":{"account_id":26407997,"reputation":1,"user_id":20057439,"display_name":"John Zidrex Andag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668049041,"creation_date":1668049041,"question_id":74383680,"body_markdown":"We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.\r\n\r\nI tried upgrading the solr but this will takes a lot of time because our application code is really old","title":"Is it possible to upgrade log4j to 2.17+ when using Solr 4.6","body":"<p>We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.</p>\n<p>I tried upgrading the solr but this will takes a lot of time because our application code is really old</p>\n"},{"tags":["java","android","mobile","mobile-application"],"comments":[{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668050693,"post_id":74383567,"comment_id":131315282,"body_markdown":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand.","body":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand."},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668051641,"post_id":74383567,"comment_id":131315380,"body_markdown":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText","body":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668051705,"post_id":74383567,"comment_id":131315387,"body_markdown":"I see. In what condition/event you are calling `scannedCardNumber` method?","body":"I see. In what condition/event you are calling <code>scannedCardNumber</code> method?"},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668054310,"post_id":74383567,"comment_id":131315738,"body_markdown":"@Ankur Yes, but the error it just rarely appears do you know the problem?","body":"@Ankur Yes, but the error it just rarely appears do you know the problem?"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668059136,"post_id":74383567,"comment_id":131316418,"body_markdown":"Can not say for sure yet, but I see few problems. Like you are adding `addTextChangedListener`. So if you call this method more than one time, `scannedCardNumber` it will add multiple text change listeners which will cause problems. I am also curious about this line `sb.setLength(sb.length() - 1)`","body":"Can not say for sure yet, but I see few problems. Like you are adding <code>addTextChangedListener</code>. So if you call this method more than one time, <code>scannedCardNumber</code> it will add multiple text change listeners which will cause problems. I am also curious about this line <code>sb.setLength(sb.length() - 1)</code>"},{"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"score":0,"creation_date":1668149021,"post_id":74383567,"comment_id":131340021,"body_markdown":"i guess you always set the text in after text change. put breakpoints over there","body":"i guess you always set the text in after text change. put breakpoints over there"}],"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668048295,"creation_date":1668047781,"question_id":74383567,"body_markdown":"I&#39;ve been confused why my EditText can&#39;t delete my text manually.When I tried to scan the image that converts to text and display the text to editText or `OCR` sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can&#39;t delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can&#39;t find the error yet since it just rarely appears, thanks in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Java file**\r\n\r\n     private int prevCount = 0;\r\n\r\n     // to have space after 4 number\r\n     private boolean isAtSpaceDelimiter(int currCount) {\r\n        return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\r\n    }\r\n\r\n    //declared on onCreate()\r\n    scannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\r\n\r\n    public void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\r\n        card_number.addTextChangedListener(new TextWatcher() {\r\n\r\n\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n                String cardNumber = card_number.getText().toString();\r\n                if(s.toString().length() != 23){\r\n                    tilCard.setError(required_field);\r\n                }\r\n                else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\r\n                    tilCard.setError(&quot;Invalid Format&quot;);\r\n                }\r\n                else{\r\n                    tilCard.setError(null);\r\n                }\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String field = editable.toString();\r\n                int currCount = field.length();\r\n\r\n                if (shouldIncrementOrDecrement(currCount, true)){\r\n                    appendOrStrip(field, true);\r\n                } else if (shouldIncrementOrDecrement(currCount, false)) {\r\n                    appendOrStrip(field, false);\r\n                }\r\n                prevCount = card_number.getText().toString().length();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void appendOrStrip(String field, boolean shouldAppend) {\r\n        StringBuilder sb = new StringBuilder(field);\r\n        if (shouldAppend) {\r\n            sb.append(&quot; &quot;);\r\n        } else {\r\n            sb.setLength(sb.length() - 1);\r\n        }\r\n        edt_card_number_inputted.setText(sb.toString());\r\n        edt_card_number_inputted.setSelection(sb.length());\r\n    }\r\n\r\n    private boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\r\n        if (shouldIncrement) {\r\n            return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        } else {\r\n            return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/VKE9U.png","title":"EditText cannot delete manually in Android java","body":"<p>I've been confused why my EditText can't delete my text manually.When I tried to scan the image that converts to text and display the text to editText or <code>OCR</code> sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can't delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can't find the error yet since it just rarely appears, thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/VKE9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKE9U.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java file</strong></p>\n<pre><code> private int prevCount = 0;\n\n // to have space after 4 number\n private boolean isAtSpaceDelimiter(int currCount) {\n    return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\n}\n\n//declared on onCreate()\nscannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\n\npublic void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\n    card_number.addTextChangedListener(new TextWatcher() {\n\n\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n        }\n        @Override\n        public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n            String cardNumber = card_number.getText().toString();\n            if(s.toString().length() != 23){\n                tilCard.setError(required_field);\n            }\n            else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\n                tilCard.setError(&quot;Invalid Format&quot;);\n            }\n            else{\n                tilCard.setError(null);\n            }\n        }\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String field = editable.toString();\n            int currCount = field.length();\n\n            if (shouldIncrementOrDecrement(currCount, true)){\n                appendOrStrip(field, true);\n            } else if (shouldIncrementOrDecrement(currCount, false)) {\n                appendOrStrip(field, false);\n            }\n            prevCount = card_number.getText().toString().length();\n        }\n    });\n}\n\n\nprivate void appendOrStrip(String field, boolean shouldAppend) {\n    StringBuilder sb = new StringBuilder(field);\n    if (shouldAppend) {\n        sb.append(&quot; &quot;);\n    } else {\n        sb.setLength(sb.length() - 1);\n    }\n    edt_card_number_inputted.setText(sb.toString());\n    edt_card_number_inputted.setSelection(sb.length());\n}\n\nprivate boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\n    if (shouldIncrement) {\n        return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    } else {\n        return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":485185,"reputation":136,"user_id":901352,"display_name":"Derek F"},"score":1,"creation_date":1668036624,"post_id":74382777,"comment_id":131313607,"body_markdown":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. [so] is probably where you meant to go instead.","body":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. <a href=\"https://stackoverflow.com\">Stack Overflow</a> is probably where you meant to go instead."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1670684419,"post_id":74382777,"comment_id":131932440,"body_markdown":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts","body":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts"}],"answers":[{"tags":[],"owner":{"account_id":21762563,"reputation":1,"user_id":16066935,"display_name":"immatur1ty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668047654,"creation_date":1668047654,"answer_id":74383553,"question_id":74382777,"body_markdown":"A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.\r\n\r\nI would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.\r\n\r\nYou can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.</p>\n<p>I would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.</p>\n<p>You can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.</p>\n"}],"owner":{"display_name":"Fraser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670684381,"answer_count":1,"score":0,"last_activity_date":1668047654,"creation_date":1668036161,"question_id":74382777,"body_markdown":"I am wanting to develop a game where it uses an executor single thread. \r\n\r\nI have 3 types of tasks that need to be created:\r\n1. Soft task\r\n2. Normal task\r\n3. Hard task\r\n\r\nA soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.\r\n\r\nWhen a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed. \r\n\r\nWhen a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue. \r\n\r\nWhen a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).\r\n\r\n\r\nI am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn&#39;t find an example online/understand it for my scenario.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>I am wanting to develop a game where it uses an executor single thread.</p>\n<p>I have 3 types of tasks that need to be created:</p>\n<ol>\n<li>Soft task</li>\n<li>Normal task</li>\n<li>Hard task</li>\n</ol>\n<p>A soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.</p>\n<p>When a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed.</p>\n<p>When a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue.</p>\n<p>When a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).</p>\n<p>I am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn't find an example online/understand it for my scenario.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"comments":[{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1668036320,"post_id":74382460,"comment_id":131313159,"body_markdown":"Thanks, I&#39;ll try that. Are you saying that  :pages should be a literal string, and not an attributeValue object?","body":"Thanks, I&#39;ll try that. Are you saying that  :pages should be a literal string, and not an attributeValue object?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1668036592,"post_id":74382460,"comment_id":131313204,"body_markdown":"A literal string could possibly work, but I&#39;m thinking more along the lines of parsing the values in the list to individual expressionAttributeValues like you can see in this JS example: https://stackoverflow.com/a/40294674/7909676","body":"A literal string could possibly work, but I&#39;m thinking more along the lines of parsing the values in the list to individual expressionAttributeValues like you can see in this JS example: <a href=\"https://stackoverflow.com/a/40294674/7909676\">stackoverflow.com/a/40294674/7909676</a>"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1668047800,"post_id":74382460,"comment_id":131314893,"body_markdown":"Tried your suggestions and still no luck.  I updated my question with this additional information","body":"Tried your suggestions and still no luck.  I updated my question with this additional information"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668035793,"creation_date":1668035793,"answer_id":74382460,"question_id":74381309,"body_markdown":"Try it like this:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\r\n\r\n`:pages` would need to be a comma separated list of values. Which should essentially map to:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\r\n\r\n","title":"DynamoDb IN operator in Java","body":"<p>Try it like this:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\n</code></pre>\n<p><code>:pages</code> would need to be a comma separated list of values. Which should essentially map to:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668047483,"creation_date":1668027571,"question_id":74381309,"body_markdown":"I have a working DynamoDb query, but I&#39;m trying to add an IN operator and can&#39;t figure out the syntax for the FilterExpression.\r\n\r\n`pages` is a List&amp;lt;Integer&amp;gt; and I have an attribute in my table which is an Integer, so I&#39;m doing something like this\r\n```\r\nattrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\r\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\r\n                     .collect(Collectors.toList())));\r\n\r\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\r\n\r\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\r\n                .tableName(Parameters.addPrefix(TABLE_NAME))\r\n                .keyConditionExpression(keyConditionExpression)\r\n                .expressionAttributeNames(attrNameAlias)\r\n                .expressionAttributeValues(attrValues)\r\n                .filterExpression(filterExpression);\r\n\r\n```\r\n(this is not the complete code.  Just the relevant parts)\r\n\r\nBut it doesn&#39;t like my syntax at all.  I&#39;ve tried `originalPageNumber in :pages` and other variations as well.\r\n\r\n# Update\r\n\r\nOther things I tried\r\n\r\nTried setting `:pages` to \r\n```\r\nfinal String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\r\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\r\nattrValues.put(&quot;:pages&quot;, pagesAttr);\r\n```\r\nor `AttributeValue(S=(1, 2))`\r\n\r\nI then got rid of `:pages` altogether and just set filterExpression to `in(originalPageNumber, (1, 2))`.  Still no luck.\r\nAlso tried `originalPageNumber in (1, 2)`","title":"DynamoDb IN operator in Java","body":"<p>I have a working DynamoDb query, but I'm trying to add an IN operator and can't figure out the syntax for the FilterExpression.</p>\n<p><code>pages</code> is a List&lt;Integer&gt; and I have an attribute in my table which is an Integer, so I'm doing something like this</p>\n<pre><code>attrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\n                     .collect(Collectors.toList())));\n\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\n\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\n                .tableName(Parameters.addPrefix(TABLE_NAME))\n                .keyConditionExpression(keyConditionExpression)\n                .expressionAttributeNames(attrNameAlias)\n                .expressionAttributeValues(attrValues)\n                .filterExpression(filterExpression);\n\n</code></pre>\n<p>(this is not the complete code.  Just the relevant parts)</p>\n<p>But it doesn't like my syntax at all.  I've tried <code>originalPageNumber in :pages</code> and other variations as well.</p>\n<h1>Update</h1>\n<p>Other things I tried</p>\n<p>Tried setting <code>:pages</code> to</p>\n<pre><code>final String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\nattrValues.put(&quot;:pages&quot;, pagesAttr);\n</code></pre>\n<p>or <code>AttributeValue(S=(1, 2))</code></p>\n<p>I then got rid of <code>:pages</code> altogether and just set filterExpression to <code>in(originalPageNumber, (1, 2))</code>.  Still no luck.\nAlso tried <code>originalPageNumber in (1, 2)</code></p>\n"},{"tags":["java","spring","spring-boot","deployment"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667928687,"post_id":74364700,"comment_id":131283343,"body_markdown":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem.","body":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem."},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1667929102,"post_id":74364700,"comment_id":131283523,"body_markdown":"Dependency by another jar file or in the source code? I am not able to find anything..","body":"Dependency by another jar file or in the source code? I am not able to find anything.."}],"answers":[{"comments":[{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1668438177,"post_id":74383475,"comment_id":131398513,"body_markdown":"Hi, can you explain what&#39;s not true. Can java 8 work with spring 2.x/3.x?","body":"Hi, can you explain what&#39;s not true. Can java 8 work with spring 2.x/3.x?"},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1668442023,"post_id":74383475,"comment_id":131399999,"body_markdown":"if I deploy my project in Java 8 with  springframework 2.5.6 jars (which work in Java 6), I get this error: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]","body":"if I deploy my project in Java 8 with  springframework 2.5.6 jars (which work in Java 6), I get this error: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]"},{"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"score":0,"creation_date":1669762754,"post_id":74383475,"comment_id":131715929,"body_markdown":"As far as I remember we had Spring 2 apps running on java while ago. Thought I do advice to upgrade Spring as opposed to trying to make your app working with old Spring. If you still need help , ping me","body":"As far as I remember we had Spring 2 apps running on java while ago. Thought I do advice to upgrade Spring as opposed to trying to make your app working with old Spring. If you still need help , ping me"}],"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046913,"creation_date":1668046913,"answer_id":74383475,"question_id":74364700,"body_markdown":"Several thing s you stated are not exactly true.\r\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>Several thing s you stated are not exactly true.\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.</p>\n"}],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046913,"creation_date":1667927736,"question_id":74364700,"body_markdown":"My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files. \r\n\r\nI am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because &#39;CollectionFactory&#39; has been removed from the new version of spring core jar file. How do I fix this issue?\r\n\r\nBelow is the error in the tomcat logs:\r\n```\r\njava.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n\t\tat org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is my application context file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\r\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\r\n        \r\n    \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\r\n\r\n    &lt;!-- VIEW INTERCEPTOR --&gt;\r\n   \r\n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\r\n\r\n   \r\n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\r\n        &lt;property name=&quot;spatialBinder&quot;&gt;\r\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\r\n                &lt;property name=&quot;paramOrder&quot;&gt;\r\n                    &lt;list&gt;\r\n                        &lt;value&gt;clientId&lt;/value&gt;\r\n                     \r\n                    &lt;/list&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\r\n\r\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\r\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\r\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- ACCESS CONTROL BEANS --&gt;    \r\n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;transactionManager&quot;&gt;\r\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\r\n    each method call needs to know what permission to check for --&gt;\r\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- audit trial stuff --&gt;\r\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n       &lt;property name=&quot;transactionManager&quot;&gt;\r\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;target&quot;&gt;\r\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\r\n           &lt;props&gt;\r\n               &lt;prop key=&quot;*&quot;&gt;\r\n                   PROPAGATION_MANDATORY\r\n               &lt;/prop&gt;\r\n           &lt;/props&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\r\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \r\n&lt;!-- LOGIN BEANS --&gt;    \r\n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;  \r\n\r\n\r\n&lt;!-- IMPORT BEANS --&gt;        \r\n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\r\n     &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- MESSAGE AND LOB BEANS --&gt;\r\n    \r\n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    \r\n\r\n    &lt;!-- WebSphere specific--&gt;\r\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\r\n    \r\n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\r\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;!-- INSTRUCTION BEANS --&gt;    \r\n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \r\n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\r\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\r\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\r\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    \r\n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n       \r\n&lt;!-- SHARED CONTROLLERS --&gt;\r\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\r\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\r\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\r\n            &lt;property name=&quot;items&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\r\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\r\n    &lt;/property&gt;   \r\n&lt;/bean&gt;\r\n\r\n\r\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \r\n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\r\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n        &lt;/tx:attributes&gt;\r\n    &lt;/tx:advice&gt;\r\n&lt;/beans&gt;\r\n```","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files.</p>\n<p>I am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because 'CollectionFactory' has been removed from the new version of spring core jar file. How do I fix this issue?</p>\n<p>Below is the error in the tomcat logs:</p>\n<pre><code>java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n        at org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\n        at org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is my application context file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\n        \n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\n\n    &lt;!-- VIEW INTERCEPTOR --&gt;\n   \n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\n\n   \n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\n        &lt;property name=&quot;spatialBinder&quot;&gt;\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\n                &lt;property name=&quot;paramOrder&quot;&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;clientId&lt;/value&gt;\n                     \n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\n\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\n    \n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- ACCESS CONTROL BEANS --&gt;    \n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\n    each method call needs to know what permission to check for --&gt;\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\n    &lt;/bean&gt;\n\n\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- audit trial stuff --&gt;\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n       &lt;property name=&quot;transactionManager&quot;&gt;\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;target&quot;&gt;\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\n           &lt;props&gt;\n               &lt;prop key=&quot;*&quot;&gt;\n                   PROPAGATION_MANDATORY\n               &lt;/prop&gt;\n           &lt;/props&gt;\n       &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\n    &lt;/bean&gt;\n    \n    \n&lt;!-- LOGIN BEANS --&gt;    \n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n \n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\n    \n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;  \n\n\n&lt;!-- IMPORT BEANS --&gt;        \n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\n     &lt;/bean&gt;\n\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- MESSAGE AND LOB BEANS --&gt;\n    \n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    \n\n    &lt;!-- WebSphere specific--&gt;\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\n    \n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;!-- INSTRUCTION BEANS --&gt;    \n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    \n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n       \n&lt;!-- SHARED CONTROLLERS --&gt;\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\n            &lt;property name=&quot;items&quot;&gt;\n                &lt;map&gt;\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\n                &lt;/map&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\n    &lt;/property&gt;   \n&lt;/bean&gt;\n\n\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":5764092,"reputation":51945,"user_id":4549554,"accept_rate":59,"display_name":"Andersson"},"score":0,"creation_date":1456738093,"post_id":35695647,"comment_id":59068723,"body_markdown":"you can try to find text for a link `By.xpath`: `//a[contains(href, &quot;DetailsZZ-&quot;)]`","body":"you can try to find text for a link <code>By.xpath</code>: <code>&#47;&#47;a[contains(href, &quot;DetailsZZ-&quot;)]</code>"}],"answers":[{"comments":[{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456741130,"post_id":35695951,"comment_id":59070622,"body_markdown":"it works almost great, I just get the NullPointerException on the `String[] data = text.split(&quot;-&quot;);` line, so I&#39;m making to find out what&#39;s happens :)","body":"it works almost great, I just get the NullPointerException on the <code>String[] data = text.split(&quot;-&quot;);</code> line, so I&#39;m making to find out what&#39;s happens :)"},{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1456743366,"post_id":35695951,"comment_id":59072078,"body_markdown":"@Michal with both versions of text extracting?","body":"@Michal with both versions of text extracting?"}],"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456739453,"creation_date":1456738168,"answer_id":35695951,"question_id":35695647,"body_markdown":"To locate the element you can use\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(&quot;ZZ&quot;));\r\n    // or\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(&quot;[href*=&#39;ZZ&#39;]&quot;));\r\n\r\nTo get the href and text you can do\r\n\r\n    for (WebElement element : elements) {\r\n        String href = element.getAttribute(&quot;href&quot;);\r\n        String text = element.getText();\r\n        // or\r\n        String text = element.getAttribute(&quot;innerText&quot;);\r\n\r\n        // and to get the number\r\n        String[] data = text.split(&quot;-&quot;);\r\n        String number = data[1];\r\n    }","title":"Get link text using Selenium and Java","body":"<p>To locate the element you can use</p>\n\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(\"ZZ\"));\n// or\nList&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(\"[href*='ZZ']\"));\n</code></pre>\n\n<p>To get the href and text you can do</p>\n\n<pre><code>for (WebElement element : elements) {\n    String href = element.getAttribute(\"href\");\n    String text = element.getText();\n    // or\n    String text = element.getAttribute(\"innerText\");\n\n    // and to get the number\n    String[] data = text.split(\"-\");\n    String number = data[1];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456741266,"post_id":35696258,"comment_id":59070732,"body_markdown":"works almost great, I think I know what you want to show :) I just got `&quot;java.lang.ArrayIndexOutOfBoundsException: 1&quot;` error on the return, so I just need to find out what&#39;s happend (but thanks for a rod :) )","body":"works almost great, I think I know what you want to show :) I just got <code>&quot;java.lang.ArrayIndexOutOfBoundsException: 1&quot;</code> error on the return, so I just need to find out what&#39;s happend (but thanks for a rod :) )"},{"owner":{"account_id":5248884,"reputation":4394,"user_id":4193730,"display_name":"Subh"},"score":1,"creation_date":1456741922,"post_id":35696258,"comment_id":59071192,"body_markdown":"@Michal : I am guessing there are some `a` element(s) without **the numerical value** in their `href` attribute; something like: &quot;DetailsZZ&quot; or &quot;DetailsZZ-&quot; or &quot;&lt;some other random text&gt;&quot;, and that&#39;s why it throws **ArrayOutOfBoundsException** since there is no second value in the array to display. Try in the above code, as **@Andersson** commented, by replacing with either of these `List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[contains(@href, &quot;DetailsZZ-&quot;)]&quot;));`\n**or**\n `List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[starts-with(href, &quot;DetailsZZ-&quot;)]&quot;));`","body":"@Michal : I am guessing there are some <code>a</code> element(s) without <b>the numerical value</b> in their <code>href</code> attribute; something like: &quot;DetailsZZ&quot; or &quot;DetailsZZ-&quot; or &quot;&lt;some other random text&gt;&quot;, and that&#39;s why it throws <b>ArrayOutOfBoundsException</b> since there is no second value in the array to display. Try in the above code, as <b>@Andersson</b> commented, by replacing with either of these <code>List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;&#47;&#47;a[contains(@href, &quot;DetailsZZ-&quot;)]&quot;));</code> <b>or</b>  <code>List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;&#47;&#47;a[starts-with(href, &quot;DetailsZZ-&quot;)]&quot;));</code>"},{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456743569,"post_id":35696258,"comment_id":59072207,"body_markdown":"You guys are great, that&#39;s what it should do! :D Thank you!\n\nBut for the future if somebody will look here, it should be `&#39;DetailsZZ-&#39;` instead of `&quot;DetailsZZ-&quot;` :)","body":"You guys are great, that&#39;s what it should do! :D Thank you!  But for the future if somebody will look here, it should be <code>&#39;DetailsZZ-&#39;</code> instead of <code>&quot;DetailsZZ-&quot;</code> :)"},{"owner":{"account_id":3118078,"reputation":123,"user_id":2638437,"display_name":"Ankur Gupta"},"score":0,"creation_date":1456743726,"post_id":35696258,"comment_id":59072294,"body_markdown":"@Michael....thats sounds an array problem to me i.e Array[1]...it may happen when the value does not exist for an array and we trying to fetch it..","body":"@Michael....thats sounds an array problem to me i.e Array[1]...it may happen when the value does not exist for an array and we trying to fetch it.."}],"tags":[],"owner":{"account_id":3118078,"reputation":123,"user_id":2638437,"display_name":"Ankur Gupta"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668046813,"creation_date":1456739037,"answer_id":35696258,"question_id":35695647,"body_markdown":"You can use the following code to extract the number:\r\n\r\n    public String splitfunc(String str)\r\n    {\r\n        str = str.replace(&quot;.html&quot;, &quot;&quot;);\r\n        String[] array = str.split(&quot;-&quot;);\r\n        return array[1];\r\n    }\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n        System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\r\n    }\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>You can use the following code to extract the number:</p>\n<pre><code>public String splitfunc(String str)\n{\n    str = str.replace(&quot;.html&quot;, &quot;&quot;);\n    String[] array = str.split(&quot;-&quot;);\n    return array[1];\n}\n\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n    System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469306205,"creation_date":1469306205,"answer_id":38546203,"question_id":35695647,"body_markdown":"Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is **always** in the form of `ZZ-someNumber` then you can make the parsing fairly simple.\r\n\r\nExample using Java 8 (assuming the driver has already been created and has loaded the correct page):\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = driver.findElements(By.tagName(&quot;a&quot;))\r\n                                    .stream()\r\n                                    .map(WebElement::getText)\r\n                                    .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\r\n                                    .map(str -&gt; str.replace(leadingStr,&quot;&quot;).trim())\r\n                                    .filter(str -&gt; !str.isEmpty())\r\n                                    .map(Integer::valueOf)\r\n                                    .collect(Collectors.toList());\r\n\r\nExample without streams:\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\r\n    for (WebElement elem : driver.findElements(By.tagName(&quot;a&quot;))) {\r\n        String text = elem.getText();\r\n        if (text.startsWith(leadingStr)) {\r\n            numbers.add(Integer.valueOf(text.replace(leadingStr,&quot;&quot;).trim()));\r\n        }\r\n    }\r\n\r\nOf course both of the above would need a bit more error handling if the assumption that they are always in the form of `ZZ-someNumber` isn&#39;t valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.\r\n","title":"Get link text using Selenium and Java","body":"<p>Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is <strong>always</strong> in the form of <code>ZZ-someNumber</code> then you can make the parsing fairly simple.</p>\n\n<p>Example using Java 8 (assuming the driver has already been created and has loaded the correct page):</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = driver.findElements(By.tagName(\"a\"))\n                                .stream()\n                                .map(WebElement::getText)\n                                .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\n                                .map(str -&gt; str.replace(leadingStr,\"\").trim())\n                                .filter(str -&gt; !str.isEmpty())\n                                .map(Integer::valueOf)\n                                .collect(Collectors.toList());\n</code></pre>\n\n<p>Example without streams:</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\nfor (WebElement elem : driver.findElements(By.tagName(\"a\"))) {\n    String text = elem.getText();\n    if (text.startsWith(leadingStr)) {\n        numbers.add(Integer.valueOf(text.replace(leadingStr,\"\").trim()));\n    }\n}\n</code></pre>\n\n<p>Of course both of the above would need a bit more error handling if the assumption that they are always in the form of <code>ZZ-someNumber</code> isn't valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.</p>\n"},{"tags":[],"owner":{"account_id":378731,"reputation":3103,"user_id":731636,"accept_rate":94,"display_name":"robx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474934873,"creation_date":1474934873,"answer_id":39714164,"question_id":35695647,"body_markdown":"A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.\r\n\r\nThis will allow you to get the text of the link as you requested, and not the href and do so much parsing.\r\n\r\nThe trim is just extra defensive coding. \r\n\r\n    List&lt;WebElement&gt; links = driver.findElements(By.tagName(&quot;a&quot;)); \r\n    for (WebElement link : links ) {\r\n       System.out.println(link.getText().replace(&quot;ZZ-&quot;,&quot;&quot;).trim());\r\n    }","title":"Get link text using Selenium and Java","body":"<p>A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.</p>\n\n<p>This will allow you to get the text of the link as you requested, and not the href and do so much parsing.</p>\n\n<p>The trim is just extra defensive coding. </p>\n\n<pre><code>List&lt;WebElement&gt; links = driver.findElements(By.tagName(\"a\")); \nfor (WebElement link : links ) {\n   System.out.println(link.getText().replace(\"ZZ-\",\"\").trim());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":508927,"reputation":2023,"user_id":1251613,"accept_rate":100,"display_name":"Markus"},"score":0,"creation_date":1496838536,"post_id":44411623,"comment_id":75824217,"body_markdown":"I am not sure, but element.element.getText() should not compile because element is not a public field in WebElement.","body":"I am not sure, but element.element.getText() should not compile because element is not a public field in WebElement."}],"tags":[],"owner":{"account_id":8843079,"reputation":127,"user_id":6604897,"display_name":"K.Krishnakanth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847852,"creation_date":1496835596,"answer_id":44411623,"question_id":35695647,"body_markdown":"    WebElement element = driver.findElement(By.partialLinkText(&quot;ZZ-10048&quot;));\r\n    String txt = element.getText();\r\n    String[] words = txt.split(&quot;-&quot;);\r\n    System.out.println(words[1]);","title":"Get link text using Selenium and Java","body":"<pre><code>WebElement element = driver.findElement(By.partialLinkText(\"ZZ-10048\"));\nString txt = element.getText();\nString[] words = txt.split(\"-\");\nSystem.out.println(words[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13976402,"reputation":1,"user_id":10093723,"display_name":"Suraj Choudhary"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531840342,"creation_date":1531834947,"answer_id":51382967,"question_id":35695647,"body_markdown":"I think this is one of the simplest ways to fetch text, available from an anchor.\r\n\r\n    WebElement link  = driver.findElement(By.partialLinkText(&quot;ZZ&quot;));\r\n    System.out.println(link.getText());","title":"Get link text using Selenium and Java","body":"<p>I think this is one of the simplest ways to fetch text, available from an anchor.</p>\n\n<pre><code>WebElement link  = driver.findElement(By.partialLinkText(\"ZZ\"));\nSystem.out.println(link.getText());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668046998,"post_id":51385486,"comment_id":131314775,"body_markdown":"This will not compile.","body":"This will not compile."}],"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531843262,"creation_date":1531842206,"answer_id":51385486,"question_id":35695647,"body_markdown":"There exact solution of this problem would be something like :  \r\n\r\nAs you have mentioned you want to get the **number** after **-** \r\n\r\nFor that, you can use start-with which is available in xpath for matching the start text.  \r\n\r\n     List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[starts-with(text(),&#39;ZZ-&#39;)]&quot;)); \r\n      for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;)));  \r\n\r\n@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.","title":"Get link text using Selenium and Java","body":"<p>There exact solution of this problem would be something like :  </p>\n\n<p>As you have mentioned you want to get the <strong>number</strong> after <strong>-</strong> </p>\n\n<p>For that, you can use start-with which is available in xpath for matching the start text.  </p>\n\n<pre><code> List&lt;WebElement&gt; elements = driver.findElements(By.xpath(\"//a[starts-with(text(),'ZZ-')]\")); \n  for (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(\"href\")));  \n</code></pre>\n\n<p>@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.</p>\n"}],"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35696258,"answer_count":7,"score":2,"last_activity_date":1668046813,"creation_date":1456737192,"question_id":35695647,"body_markdown":"I have a problem with getting the text of a link.\r\n\r\nOn a site, I have the text link\r\n`&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;`. The part with `ZZ-` is static, the number increments and it isn&#39;t known for me earlier. I need to get this number.\r\n\r\nI used looking at: *https://stackoverflow.com/questions/20036485/get-link-text-selenium-java*, but there I have all links, URLs (not the text of the links).\r\n\r\nI also tried: *https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver*, but I got output *Printing null* every time I changed and looked for a solution.\r\n\r\nAnd the solution: *https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement* is not good either, because it doesn&#39;t recognise `&quot;a[href*=&#39;ZZ-&#39;]&quot;`.\r\n\r\nSo, the closest one is:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\r\n    }\r\n\r\nBut how can I change to view not only URLs, but names of the link? (especially one which starts from `ZZ-`)\r\n\r\n\r\n\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>I have a problem with getting the text of a link.</p>\n<p>On a site, I have the text link\n<code>&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;</code>. The part with <code>ZZ-</code> is static, the number increments and it isn't known for me earlier. I need to get this number.</p>\n<p>I used looking at: <em><a href=\"https://stackoverflow.com/questions/20036485/get-link-text-selenium-java\">Get link text - Selenium, Java</a></em>, but there I have all links, URLs (not the text of the links).</p>\n<p>I also tried: <em><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></em>, but I got output <em>Printing null</em> every time I changed and looked for a solution.</p>\n<p>And the solution: <em><a href=\"https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement\">Java Selenium, how to get linkText (anchor) from link WebElement</a></em> is not good either, because it doesn't recognise <code>&quot;a[href*='ZZ-']&quot;</code>.</p>\n<p>So, the closest one is:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\n}\n</code></pre>\n<p>But how can I change to view not only URLs, but names of the link? (especially one which starts from <code>ZZ-</code>)</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046358,"creation_date":1668046358,"answer_id":74383424,"question_id":74370708,"body_markdown":"Instead of:\r\n```\r\ngetApplication().setTheme(R.style.Theme_Defaults);\r\n```\r\nTry using:\r\n```\r\ngetLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\r\n```\r\n\r\nThis should work.\r\n","title":"Android theme is not changing","body":"<p>Instead of:</p>\n<pre><code>getApplication().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>Try using:</p>\n<pre><code>getLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":25201724,"reputation":155,"user_id":19040512,"display_name":"redevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046358,"creation_date":1667975217,"question_id":74370708,"body_markdown":"I made a splash screen using two styles first is the default style without &#39;windowBackground&#39; and the second is splash screen style with &#39;windowBackground&#39;. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:\r\n\r\n\r\n\r\n    @Override\r\n    protected final void onCreate(@Nullable Bundle savedInstanceState) {\r\n\r\n        // this line of code is not changing theme\r\n        getApplication().setTheme(R.style.Theme_Defaults);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\nThe splash screen is not disappearing (&#39;windowBackground&#39; is not removed from &#39;SpScreen&#39; style)\r\n\r\n\r\n**Manifest:**\r\n   \r\n\r\n     &lt;application\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/SpScreen&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:extractNativeLibs=&quot;false&quot;\r\n            tools:ignore=&quot;UnusedAttribute&quot;&gt;\r\n\r\n\r\n**Theme.xml:**\r\n\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nThe only difference between the styles is:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n\r\n","title":"Android theme is not changing","body":"<p>I made a splash screen using two styles first is the default style without 'windowBackground' and the second is splash screen style with 'windowBackground'. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:</p>\n<pre><code>@Override\nprotected final void onCreate(@Nullable Bundle savedInstanceState) {\n\n    // this line of code is not changing theme\n    getApplication().setTheme(R.style.Theme_Defaults);\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n</code></pre>\n<p>The splash screen is not disappearing ('windowBackground' is not removed from 'SpScreen' style)</p>\n<p><strong>Manifest:</strong></p>\n<pre><code> &lt;application\n        android:hardwareAccelerated=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/SpScreen&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:largeHeap=&quot;true&quot;\n        android:extractNativeLibs=&quot;false&quot;\n        tools:ignore=&quot;UnusedAttribute&quot;&gt;\n</code></pre>\n<p><strong>Theme.xml:</strong></p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    \n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>The only difference between the styles is:</p>\n<pre><code>&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","google-api","google-bigquery","google-cloud-platform"],"comments":[{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1478641980,"post_id":40484030,"comment_id":68238210,"body_markdown":"Possible duplicate of [How to safely inject parameter into string DB query java?](http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java\">How to safely inject parameter into string DB query java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3944798,"reputation":616,"user_id":3257867,"display_name":"Matthew Wesley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478624404,"creation_date":1478624404,"answer_id":40492491,"question_id":40484030,"body_markdown":"Query parameter type names are required to be in canonical, fully-capitalized form: &quot;STRING&quot; instead of &quot;string&quot;.","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>Query parameter type names are required to be in canonical, fully-capitalized form: \"STRING\" instead of \"string\".</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668045623,"creation_date":1478599520,"question_id":40484030,"body_markdown":"I try to programaticaly inject params to my bigQuery query:\r\n\r\nThis is my code:\r\n\r\n\r\n    List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\r\n\r\n    QueryParameter param = new QueryParameter();\r\n    param.setName(&quot;@country&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    param = new QueryParameter();\r\n    param.setName(&quot;countryAbbr&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    List&lt;String&gt; brands =  brandChangeDataUi.brands;\r\n    List&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; brands.size(); i++) {\r\n\r\n        param = new QueryParameter();\r\n        param.setName(&quot;brand&quot; + i);\r\n        param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\r\n        param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n        params.add(param);\r\n\r\n        brands2.add(&quot;@brand&quot; + i);\r\n    }\r\n\r\n    JobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\r\n    jobConfigurationQuery.setQueryParameters(params);\r\n    jobConfigurationQuery.setUseLegacySql(false);\r\n\r\n    String listString = brands2.stream().map(brand -&gt; &quot;venue3.brand.value=&#39;&quot;+ brand +&quot;&#39;&quot;).collect(Collectors.joining(&quot; or &quot;));\r\n\r\n    jobConfigurationQuery.setQuery(&quot;select * from [--table---] &quot; +\r\n            &quot;where (country = @country or country = @countryAbbr) and &quot; +\r\n            &quot;(&quot;+listString+&quot;) order by venue3.brand.value&quot;);\r\n   \r\n\r\n\r\n    System.out.format(&quot;\\nInserting Query Job: %s\\n&quot;, jobConfigurationQuery.getQuery());\r\n\r\n    Job job = new Job();\r\n    JobConfiguration config = new JobConfiguration();\r\n    config.setQuery(jobConfigurationQuery);\r\n\r\n    job.setConfiguration(config);\r\n\r\n    Insert insert = bigquery.jobs().insert(projectId, job);\r\n    insert.setProjectId(projectId);\r\n    JobReference jobId = insert.execute().getJobReference();\r\n\r\n    System.out.format(&quot;\\nJob ID of Query Job is: %s\\n&quot;, jobId.getJobId());\r\n\r\n    return jobId;\r\n\r\n\r\n\r\n\r\nWhat should I change? As i get an error and not sure if my syntax is correct anyhow\r\n\r\n@conuntry is the way to inject?\r\n\r\nI saw this [json][1] and thought `&quot;string&quot;` is a valid value for `type`\r\n\r\n\r\n\r\n\r\nI see this in my console:\r\n\r\n\r\n    Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value=&#39;@brand0&#39;) order by venue3.brand.value\r\n    \r\n    com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Invalid query parameter type&quot;,\r\n        &quot;reason&quot; : &quot;invalid&quot;,\r\n        &quot;debugInfo&quot; : &quot;[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Invalid query parameter type&quot;\r\n    }\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>I try to programaticaly inject params to my bigQuery query:</p>\n\n<p>This is my code:</p>\n\n<pre><code>List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\n\nQueryParameter param = new QueryParameter();\nparam.setName(\"@country\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nparam = new QueryParameter();\nparam.setName(\"countryAbbr\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nList&lt;String&gt; brands =  brandChangeDataUi.brands;\nList&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; brands.size(); i++) {\n\n    param = new QueryParameter();\n    param.setName(\"brand\" + i);\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\n    param.setParameterType(new QueryParameterType().setType(\"string\"));\n    params.add(param);\n\n    brands2.add(\"@brand\" + i);\n}\n\nJobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\njobConfigurationQuery.setQueryParameters(params);\njobConfigurationQuery.setUseLegacySql(false);\n\nString listString = brands2.stream().map(brand -&gt; \"venue3.brand.value='\"+ brand +\"'\").collect(Collectors.joining(\" or \"));\n\njobConfigurationQuery.setQuery(\"select * from [--table---] \" +\n        \"where (country = @country or country = @countryAbbr) and \" +\n        \"(\"+listString+\") order by venue3.brand.value\");\n\n\n\nSystem.out.format(\"\\nInserting Query Job: %s\\n\", jobConfigurationQuery.getQuery());\n\nJob job = new Job();\nJobConfiguration config = new JobConfiguration();\nconfig.setQuery(jobConfigurationQuery);\n\njob.setConfiguration(config);\n\nInsert insert = bigquery.jobs().insert(projectId, job);\ninsert.setProjectId(projectId);\nJobReference jobId = insert.execute().getJobReference();\n\nSystem.out.format(\"\\nJob ID of Query Job is: %s\\n\", jobId.getJobId());\n\nreturn jobId;\n</code></pre>\n\n<p>What should I change? As i get an error and not sure if my syntax is correct anyhow</p>\n\n<p>@conuntry is the way to inject?</p>\n\n<p>I saw this <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query\" rel=\"nofollow noreferrer\">json</a> and thought <code>\"string\"</code> is a valid value for <code>type</code></p>\n\n<p>I see this in my console:</p>\n\n<pre><code>Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value='@brand0') order by venue3.brand.value\n\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Invalid query parameter type\",\n    \"reason\" : \"invalid\",\n    \"debugInfo\" : \"[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n\"\n  } ],\n  \"message\" : \"Invalid query parameter type\"\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1667601503,"post_id":74323470,"comment_id":131213476,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path.","body":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path."},{"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"score":0,"creation_date":1668041680,"post_id":74323470,"comment_id":131314011,"body_markdown":"@nitind Post this as the answer and I&#39;ll accept it.","body":"@nitind Post this as the answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668043625,"creation_date":1668043625,"answer_id":74383193,"question_id":74323470,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the `cleanEclipse` and `eclipse` tasks).","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the <code>cleanEclipse</code> and <code>eclipse</code> tasks).</p>\n"}],"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74383193,"answer_count":1,"score":0,"last_activity_date":1668043625,"creation_date":1667599969,"question_id":74323470,"body_markdown":"I&#39;m working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can&#39;t figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What&#39;s causing this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4EIM3.png","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>I'm working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can't figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What's causing this?</p>\n<p><a href=\"https://i.stack.imgur.com/4EIM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4EIM3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":0,"creation_date":1608308380,"post_id":65360357,"comment_id":115552043,"body_markdown":"why dont you clone the object instead?","body":"why dont you clone the object instead?"},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308441,"post_id":65360357,"comment_id":115552067,"body_markdown":"As I said, I want it to update an existing object not create a new one.","body":"As I said, I want it to update an existing object not create a new one."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608308463,"post_id":65360357,"comment_id":115552072,"body_markdown":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it.","body":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308640,"post_id":65360357,"comment_id":115552153,"body_markdown":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this.","body":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308724,"post_id":65360357,"comment_id":115552189,"body_markdown":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either.","body":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608309129,"post_id":65360357,"comment_id":115552363,"body_markdown":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble.","body":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608310216,"post_id":65360357,"comment_id":115552868,"body_markdown":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the `@RequiredArgsConstructor` as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like `@Exclude` which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes.","body":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the <code>@RequiredArgsConstructor</code> as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like <code>@Exclude</code> which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes."}],"answers":[{"comments":[{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608383715,"post_id":65364775,"comment_id":115569928,"body_markdown":"Thanks for putting in the effort! This solution does indeed seem like it would do the trick, even though there are probably still some edge cases we haven&#39;t thought about yet ;-). I won&#39;t mark it as accepted as it requires manual reflection code (which I&#39;d rather stay away from) but if there are no other solution, I&#39;ll try it out on Monday for our code. Thanks you!","body":"Thanks for putting in the effort! This solution does indeed seem like it would do the trick, even though there are probably still some edge cases we haven&#39;t thought about yet ;-). I won&#39;t mark it as accepted as it requires manual reflection code (which I&#39;d rather stay away from) but if there are no other solution, I&#39;ll try it out on Monday for our code. Thanks you!"},{"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"score":0,"creation_date":1608389766,"post_id":65364775,"comment_id":115571627,"body_markdown":"@schrobe Fair enough :) I almost want to build it into a lib and push it to Maven central but then I&#39;d need to test it completely and that feels like too much work. :D","body":"@schrobe Fair enough :) I almost want to build it into a lib and push it to Maven central but then I&#39;d need to test it completely and that feels like too much work. :D"}],"tags":[],"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608330774,"creation_date":1608330774,"answer_id":65364775,"question_id":65360357,"body_markdown":"I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields. \r\n\r\nDisclaimer: I haven&#39;t thoroughly tested this, only lightly. It may need some work. It also doesn&#39;t use setter methods but instead just sets the field value.\r\n\r\nAttribute copying method:\r\n\r\n    public class AttrCopy {\r\n    \r\n        public void copyAttributes(Object from, Object to) throws IllegalAccessException {\r\n            Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\r\n            for(Field f : to.getClass().getDeclaredFields()) {\r\n                toFieldNameMap.put(f.getName(), f);\r\n            }\r\n            for(Field f : from.getClass().getDeclaredFields()) {\r\n                Field ff = toFieldNameMap.get(f.getName());\r\n                f.setAccessible(true);\r\n                boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\r\n                if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\r\n                    ff.setAccessible(true);\r\n                    ff.set(to, f.get(from));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnnotation to exclude fields:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface AttrCopyExclude {\r\n    }\r\n\r\nTest classes:\r\n\r\n    public class ClassA {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private int attribute3;\r\n        private String attribute4;\r\n        private String attribute5;\r\n    \r\n        // toString()\r\n    }\r\n    \r\n    public class ClassB {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private String attribute3;\r\n        @AttrCopyExclude\r\n        private String attribute4;\r\n        private String attribute6;\r\n    \r\n        // toString()\r\n    }\r\n\r\nTest code:\r\n\r\n    public class Tester {\r\n        public static void main(String[] args) throws IllegalAccessException {\r\n            ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\r\n            ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\r\n    \r\n            System.out.println(&quot;Before&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n    \r\n            new AttrCopy().copyAttributes(classB, classA);\r\n    \r\n            System.out.println(&quot;After copy A -&gt; B&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n        }\r\n    }\r\n\r\nTest output:\r\n```\r\nBefore\r\nClassA{attribute1=&#39;aaa&#39;, attribute2=123, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\nAfter copy B -&gt; A\r\nClassA{attribute1=&#39;111&#39;, attribute2=789, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\n```\r\n\r\nAttributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn&#39;t match. \r\n","title":"How to update all field of one java object with the values from another one?","body":"<p>I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields.</p>\n<p>Disclaimer: I haven't thoroughly tested this, only lightly. It may need some work. It also doesn't use setter methods but instead just sets the field value.</p>\n<p>Attribute copying method:</p>\n<pre><code>public class AttrCopy {\n\n    public void copyAttributes(Object from, Object to) throws IllegalAccessException {\n        Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\n        for(Field f : to.getClass().getDeclaredFields()) {\n            toFieldNameMap.put(f.getName(), f);\n        }\n        for(Field f : from.getClass().getDeclaredFields()) {\n            Field ff = toFieldNameMap.get(f.getName());\n            f.setAccessible(true);\n            boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\n            if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\n                ff.setAccessible(true);\n                ff.set(to, f.get(from));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Annotation to exclude fields:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AttrCopyExclude {\n}\n</code></pre>\n<p>Test classes:</p>\n<pre><code>public class ClassA {\n    private String attribute1;\n    private int attribute2;\n    private int attribute3;\n    private String attribute4;\n    private String attribute5;\n\n    // toString()\n}\n\npublic class ClassB {\n    private String attribute1;\n    private int attribute2;\n    private String attribute3;\n    @AttrCopyExclude\n    private String attribute4;\n    private String attribute6;\n\n    // toString()\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public class Tester {\n    public static void main(String[] args) throws IllegalAccessException {\n        ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\n        ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\n\n        System.out.println(&quot;Before&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n\n        new AttrCopy().copyAttributes(classB, classA);\n\n        System.out.println(&quot;After copy A -&gt; B&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n    }\n}\n</code></pre>\n<p>Test output:</p>\n<pre><code>Before\nClassA{attribute1='aaa', attribute2=123, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\nAfter copy B -&gt; A\nClassA{attribute1='111', attribute2=789, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\n</code></pre>\n<p>Attributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn't match.</p>\n"},{"tags":[],"owner":{"account_id":13874958,"reputation":77,"user_id":10016867,"display_name":"sone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042191,"creation_date":1668042191,"answer_id":74383057,"question_id":65360357,"body_markdown":"you might want to use [mapstruct][1] to copy between java object. Great example [here][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://reflectoring.io/java-mapping-with-mapstruct/","title":"How to update all field of one java object with the values from another one?","body":"<p>you might want to use <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> to copy between java object. Great example <a href=\"https://reflectoring.io/java-mapping-with-mapstruct/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668042191,"creation_date":1608308088,"question_id":65360357,"body_markdown":"Assume the following class:\r\n```\r\npublic class TestClass {\r\n    String attr1;\r\n    String attr2;\r\n    String attr3;\r\n}\r\n```\r\nand a client code like:\r\n```\r\nfinal TestClass testClassA = new TestClass();\r\ntestClassA.attr1 = &quot;1&quot;;\r\ntestClassA.attr1 = &quot;2&quot;;\r\ntestClassA.attr1 = &quot;3&quot;;\r\n\r\nfinal TestClass testClassB = new TestClass();\r\n```\r\nI would like to find way/method that updates `testClassB` with all the values of `testClassA`.\r\n\r\n\r\n```\r\ntestClassB.updateAll(testClassA)\r\n```\r\nOne such solution would be:\r\n```\r\npublic void updateAll(TestClass testClass) {\r\n    this.attr1 = testClass.attr1;\r\n    this.attr2 = testClass.attr2;\r\n    this.attr3 = testClass.attr3;\r\n}\r\n```\r\nNow, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.\r\n\r\nThe solution does not need to assign the values directly, in fact I&#39;d prefer it to call setter methods.\r\n\r\nIt is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the `@RequiredArgsConstructor`, however I need the new object to be *updated* and not created. \r\n\r\nSo something like a `@RequiredArgsSetter` or a `Object.updateInto(Object1 o, Object2 o)` method, but again, it should not create a new object but simply update all the fields of an existing object.\r\n\r\nBonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.","title":"How to update all field of one java object with the values from another one?","body":"<p>Assume the following class:</p>\n<pre><code>public class TestClass {\n    String attr1;\n    String attr2;\n    String attr3;\n}\n</code></pre>\n<p>and a client code like:</p>\n<pre><code>final TestClass testClassA = new TestClass();\ntestClassA.attr1 = &quot;1&quot;;\ntestClassA.attr1 = &quot;2&quot;;\ntestClassA.attr1 = &quot;3&quot;;\n\nfinal TestClass testClassB = new TestClass();\n</code></pre>\n<p>I would like to find way/method that updates <code>testClassB</code> with all the values of <code>testClassA</code>.</p>\n<pre><code>testClassB.updateAll(testClassA)\n</code></pre>\n<p>One such solution would be:</p>\n<pre><code>public void updateAll(TestClass testClass) {\n    this.attr1 = testClass.attr1;\n    this.attr2 = testClass.attr2;\n    this.attr3 = testClass.attr3;\n}\n</code></pre>\n<p>Now, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.</p>\n<p>The solution does not need to assign the values directly, in fact I'd prefer it to call setter methods.</p>\n<p>It is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the <code>@RequiredArgsConstructor</code>, however I need the new object to be <em>updated</em> and not created.</p>\n<p>So something like a <code>@RequiredArgsSetter</code> or a <code>Object.updateInto(Object1 o, Object2 o)</code> method, but again, it should not create a new object but simply update all the fields of an existing object.</p>\n<p>Bonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.</p>\n"},{"tags":["java","ibm-mq","message-queue"],"comments":[{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1667948887,"post_id":74368056,"comment_id":131289333,"body_markdown":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases.","body":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases."},{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1667950943,"post_id":74368056,"comment_id":131289731,"body_markdown":"@Roger: The installation version is 9.2.","body":"@Roger: The installation version is 9.2."},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1668042152,"post_id":74368056,"comment_id":131314080,"body_markdown":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6.","body":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6."}],"answers":[{"comments":[{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1667996422,"post_id":74372649,"comment_id":131299874,"body_markdown":"Indeed, that&#39;s it. Just need to use msg2Text from the responder module. Sometime, all you need is a second pair of eyes. Thank you!","body":"Indeed, that&#39;s it. Just need to use msg2Text from the responder module. Sometime, all you need is a second pair of eyes. Thank you!"}],"tags":[],"owner":{"account_id":25908232,"reputation":46,"user_id":19632961,"display_name":"Rich"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667986820,"creation_date":1667986514,"answer_id":74372649,"question_id":74368056,"body_markdown":"It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.\r\n\r\nIn retrieveMessage:\r\n\r\n    byte[] buf = new byte[msg.getDataLength()];\r\n    String message = new String(buf, charset);\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\r\nYou might need to call the readFully (or similar) method to get the data.","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.</p>\n<p>In retrieveMessage:</p>\n<pre><code>byte[] buf = new byte[msg.getDataLength()];\nString message = new String(buf, charset);\nSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\n</code></pre>\n<p>You might need to call the readFully (or similar) method to get the data.</p>\n"},{"comments":[{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1668047396,"post_id":74383039,"comment_id":131314832,"body_markdown":"Is solved the problem by calling Msg2Text(MQMessage msg) from Responder.java in RetrieveMsg() - Rich/Goldcat hinted me to my omission. Thank you!","body":"Is solved the problem by calling Msg2Text(MQMessage msg) from Responder.java in RetrieveMsg() - Rich/Goldcat hinted me to my omission. Thank you!"}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042048,"creation_date":1668042048,"answer_id":74383039,"question_id":74368056,"body_markdown":"If you know that your message payload is text (string) then you can do this:\r\n\r\n    String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>If you know that your message payload is text (string) then you can do this:</p>\n<pre><code>String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\nSystem.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\n</code></pre>\n"}],"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74372649,"answer_count":2,"score":2,"last_activity_date":1668042048,"creation_date":1667948033,"question_id":74368056,"body_markdown":"A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.\r\n\r\nFor each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.\r\n\r\nRequester.java:\r\n```\r\npackage com.hellerim.imq.comm.requester;\r\n\r\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\r\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\r\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Requester \r\n{\r\n\tprivate static final int WAIT_WHILE_EMPTY = 100; // ms\r\n\tprivate static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\r\n\tprivate static int LONG_WIDTH_IN_HEX_CHARS = 16;\r\n\tprivate static final Charset charset = CharsetUtil.ISO_8859_1;\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate final MQQueue requestQueue;\r\n\tprivate final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\r\n\tprivate String replyQueueName;\r\n\tprivate final MQQueue replyQueue;\r\n\tprivate final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \r\n\r\n\tprivate static final String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tprivate static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\tprivate static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\r\n\t\r\n    final private Object locker = new Object();\r\n    @GuardedBy(&quot;this&quot;)\r\n    boolean stopped = false;\r\n    \r\n    int rcvd = 0;\r\n    \r\n    public static void main(String[] args) {\r\n    \ttry {\r\n\t\t\tRequester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; poem = writePoem();\r\n\t\t\tRandom requestIds = new Random();\r\n\t\t\tRandom delays = new Random(1000);\r\n\t\t\t\r\n\t\t\tint cnt = 0;\r\n\t\t\tint position = 0;\r\n\t\t\tfor (int i = 0; i &lt; 50; ++i) {\r\n\t\t\t\tif (i == poem.size()) {\r\n\t\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\t\tString text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\t\t\tString request = appRequestFrom(text, requestId);\r\n\t\t\t\t\trq.write(request);\r\n\t\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\t}\r\n\t\t\t\tposition %= poem.size();\r\n\t\t\t\tString line = poem.get(position);\r\n\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\tString request = appRequestFrom(line, requestId);\r\n\t\t\t\trq.write(request);\r\n\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\tposition++;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep((long) Math.ceil((Math.pow(\r\n\t\t\t\t\t\tdelays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(2000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\trq.close();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\n\tpublic Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\r\n\t\tsuper();\r\n\t\tSystem.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\t// get request queue\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n\t\t// get dynamic reply queue\r\n\t\tint inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\r\n\t\treplyQueue = new MQQueue(qMgr,\r\n\t\t\t\tmodelQueueName,\r\n\t\t\t\tinputOptions,\r\n\t\t\t    &quot;&quot;,\r\n\t\t\t    queueNamePattern,\r\n\t\t\t    &quot;&quot;);\r\n\t\treplyQueueName = replyQueue.getName();\r\n\t\tSystem.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\r\n    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t      MQGMO_NO_WAIT +\r\n\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\r\n        // catch-up (for those replies not retrieved after a request was put)\r\n\t\tExecutors.newSingleThreadExecutor().execute(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// read options\r\n\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (!retrieveMessage(getOptions)) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(getOptions.waitInterval);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n    }\r\n\t\r\n\tprivate boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\r\n\t\tMQMessage msg = new MQMessage();\r\n\t\ttry {\r\n\t\t\tmsg.clearMessage();\r\n\t\t\tmsg.seek(0);\r\n\t\t\treplyQueue.get(msg, getOptions);\r\n\t\t\tSystem.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\r\n\t\t\t\tLong.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\r\n\t\t\tbyte[] buf = new byte[msg.getDataLength()];\r\n\t\t\tString message = new String(buf, charset);\r\n\t\t\tSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\t\t} catch (MQException e) {\r\n\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic byte[] write(String message) {\r\n\t\tint positionRequestId = 24;\r\n\t\tint endIndex = positionRequestId + 16;\r\n\t\tCharSequence requestId = message.substring(positionRequestId, endIndex);\r\n\t\tStringBuffer sb = new StringBuffer(&quot;00000000&quot;);\r\n\t\tsb.append(requestId);\r\n\t\tbyte[] id = sb.toString().getBytes(charset);\r\n\t\tMQMessage mqMsg = new MQMessage();\r\n\t\tmqMsg.characterSet = 819;\r\n\t\tmqMsg.encoding = MQENC_INTEGER_NORMAL;\r\n\t\tmqMsg.format = MQFMT_STRING;\r\n\t\tmqMsg.messageType = MQMT_REQUEST;\r\n\t\tmqMsg.messageId = id;\r\n\t\tmqMsg.correlationId = id;\r\n\t\tmqMsg.replyToQueueName = replyQueueName;\r\n\t\ttry {\r\n\t\t\tmqMsg.writeString(message);\r\n\t\t\tmqMsg.seek(0);\r\n\t\t    MQPutMessageOptions pmo = new MQPutMessageOptions();\r\n\t\t    pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\trequestQueue.put(mqMsg, pmo);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// try to read from reply queue fail immediately\r\n\t\ttry {\r\n\t\t\tretrieveMessage(getOptions);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\t\tstop();\r\n\t\ttry {\r\n\t\t\tThread.sleep(2 * WAIT_WHILE_EMPTY);\r\n\t\t} catch (InterruptedException e1) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (requestQueue != null) {\r\n\t\t\t\trequestQueue.close();\r\n\t\t\t}\r\n\t\t\tif (qMgr != null) {\r\n\t\t\t\tqMgr.disconnect();\r\n\t\t\t}\r\n\t\t} catch (MQException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void stop() {\r\n\t\tsynchronized(locker) {\r\n\t\t\tstopped = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static List&lt;String&gt; writePoem() {\r\n\t\tList&lt;String&gt; poem = new ArrayList&lt;&gt;();\r\n\t\tpoem.add(&quot;Das Nasobem&quot;);\r\n\t\tpoem.add(&quot;von Joachim Ringelnatz&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem,&quot;);\r\n\t\tpoem.add(&quot;von seineme Kind begleitet -&quot;);\r\n\t\tpoem.add(&quot;es steht noch nicht im Brehm.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Es steht noch nicht im Meyer&quot;);\r\n\t\tpoem.add(&quot;und auch im Brockhaus nicht -&quot;);\r\n\t\tpoem.add(&quot;es tritt aus meiner Leier&quot;);\r\n\t\tpoem.add(&quot;zum ersten Mal ans Licht.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;- wie schon gesagt - seitdem&quot;);\r\n\t\tpoem.add(&quot;von seinem Kind begleitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\treturn poem;\r\n\t}\r\n\r\n\tprivate static String iToHex(int num, int places) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tchar[] digits = new char[] { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\t\tfor (int i = 0; i &lt; places; ++i) {\r\n\t\t\tsb.append(digits[num % places]);\r\n\t\t\tnum /= places;\r\n\t\t}\r\n\t\treturn sb.reverse().toString();\r\n\t}\r\n\t\r\n\tprivate static String iToHex(int num) {\r\n\t\treturn iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\r\n\t}\r\n\t\r\n\r\n\tprivate static String appRequestFrom(String msgBody, int requestId) {\r\n\t\tint headerLength = 72;\r\n        // includes message body length field here!\r\n\t\tint bodyLength = msgBody.length();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append(&quot;GHI &quot;);                            // magic\r\n\t\tsb.append(&quot;1&quot;);                               // version major\r\n\t\tsb.append(&quot;0&quot;);                               // version minor\r\n\t\tsb.append(&quot;0&quot;);                               // flags\r\n\t\tsb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\r\n\t\tsb.append(iToHex(headerLength + bodyLength)); // message length\r\n\t\tsb.append(iToHex(requestId));                 // request id\r\n\t\tsb.append(iToHex(0));                         // timeout\r\n\t\tsb.append(iToHex(bodyLength));                // message body length\r\n\t\tsb.append(msgBody);                           // message body\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nResponder.java:\r\n\r\n```\r\npackage com.hellerim.imq.comm.responder;\r\n\r\nimport static com.ibm.mq.constants.CMQC.*;\r\n\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Responder\r\n{\r\n\t\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate MQQueue requestQueue;\r\n\tprivate Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\r\n\tprivate final Object locker = new Object();\r\n\tstatic final private int WAIT_WHILE_EMPTY = 100; // ms\r\n\t@GuardedBy(&quot;locker&quot;)\r\n\tprivate boolean stopped = false;\r\n\tThread fetcherThread = null;\r\n\tprivate final static byte MESSAGE_TYPE_REPLY = 52; // &#39;4&#39;\r\n\t\r\n\tpublic final static String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tpublic final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\t\r\n    public static void main( String[] args ) throws MQException, IOException\r\n    {\r\n        System.out.println( &quot;running reponder application&quot; );\r\n        try {\r\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\r\n        } catch(Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\r\n\t\tSystem.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\tint openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n    }\r\n    \r\n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\r\n    \t\r\n    \tif (replyQueues.containsKey(replyQueueName)) {\r\n    \t\treturn replyQueues.get(replyQueueName);\r\n    \t}\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\r\n        \r\n        replyQueues.put(replyQueueName, replyQueue);\r\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\r\n        return replyQueue;\r\n    }\r\n    \r\n    private void start() throws IOException {\r\n    \t\r\n        Runnable fetcher = new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tint cnt = 0;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\tMQMessage msg = new MQMessage();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//msg.clearMessage();\r\n\t\t\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t\t\t\t    \r\n\t\t\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\t\t\trequestQueue.get(msg, getOptions);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMQQueue replyQueue = null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treplyQueue = getReplyQueue(msg.replyToQueueName);\r\n\t\t\t\t\t\t} catch(MQException e) {\r\n\t\t\t\t\t\t\tif (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\r\n\t\t\t\t\t\t\t\t// dynamic reply queue does not exist any more =&gt; message out of date\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// set message type for reply\r\n\t\t\t\t\t\tif (msg.getDataLength() &lt; 56) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;invalid message:&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\tint typePosition = 7;\r\n\t\t\t\t\t\tmsg.seek(typePosition);\r\n\t\t\t\t\t\tmsg.writeByte(MESSAGE_TYPE_REPLY);\r\n\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString text = Msg2Text(msg);\r\n\t\t\t\t\t\tMQMessage msgOut = new MQMessage();\r\n\t\t\t\t\t\tmsgOut.characterSet = 819;\r\n\t\t\t\t\t\tmsgOut.encoding = MQENC_INTEGER_NORMAL;\r\n\t\t\t\t\t\tmsgOut.format = MQFMT_STRING;\r\n\t\t\t\t\t\tmsgOut.messageType = MQMT_REPLY;\r\n\t\t\t\t\t\tmsgOut.messageId = msg.messageId;\r\n\t\t\t\t\t\tmsgOut.correlationId = msg.correlationId;\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tmsgOut.writeString(text);\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tSystem.out.println(text);\r\n\t\t\t\t\t\t\r\n//\t\t\t\t\t\tSystem.out.println(&quot;Responder: message received&quot;);\r\n\t\t\t\t        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\r\n\t\t\t\t        pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\t\t\t\treplyQueue.put(msgOut, pmo);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\r\n\t\t\t\t\t} catch (MQException e) {\r\n\t\t\t\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\t\t\t\t; // NOOP\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\t\tSystem.out.println(msg);\r\n\t\t\t\t\t\t\t} catch (EOFException e2) {\r\n\t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tshutdown();\r\n\t\t\t}\r\n\r\n        };\r\n        \r\n        Thread task = new Thread(fetcher);\r\n        task.run();\r\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\r\n        System.in.read();\r\n        System.out.println();\r\n        synchronized(locker) {\r\n        \tstopped = true;\r\n        }\r\n        try {\r\n\t\t\ttask.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    private static String Msg2Text(MQMessage msg) {\r\n    \t\r\n\t\tint length;\r\n\t\tString text = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tlength = msg.getDataLength();\r\n\t\t\tbyte[] buf = new byte[length];\r\n\t\t\tmsg.seek(0);\r\n\t\t\tmsg.readFully(buf);\r\n\t\t\ttext = new String(buf, CharsetUtil.ISO_8859_1);\r\n\t\t\tmsg.seek(0);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn text;\r\n    }\r\n    \r\n    private boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n    \t\r\n    }\r\n    \r\n\tprivate void shutdown() {\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\nshutting down responder... &quot;);\r\n\t\t\r\n\t\tfor (MQQueue queue : replyQueues.values()) {\r\n\t\t\ttry {\r\n\t\t\t\tqueue.close();\r\n\t\t\t} catch (MQException e) { }\r\n\t\t}\r\n\t\treplyQueues.clear();\r\n\t\ttry {\r\n\t\t\tqMgr.close();\r\n\t\t} catch (MQException e) { }\r\n\t\r\n\t\tSystem.out.println(&quot;done.&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nIs there any idea what might be wrong?\r\n\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.</p>\n<p>For each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.</p>\n<p>Requester.java:</p>\n<pre><code>package com.hellerim.imq.comm.requester;\n\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\n\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\nimport java.util.stream.Collectors;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Requester \n{\n    private static final int WAIT_WHILE_EMPTY = 100; // ms\n    private static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\n    private static int LONG_WIDTH_IN_HEX_CHARS = 16;\n    private static final Charset charset = CharsetUtil.ISO_8859_1;\n    private MQQueueManager qMgr;\n    private final MQQueue requestQueue;\n    private final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\n    private String replyQueueName;\n    private final MQQueue replyQueue;\n    private final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \n\n    private static final String MQ_MANAGER = &quot;MY_QM&quot;;\n    private static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    private static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\n    \n    final private Object locker = new Object();\n    @GuardedBy(&quot;this&quot;)\n    boolean stopped = false;\n    \n    int rcvd = 0;\n    \n    public static void main(String[] args) {\n        try {\n            Requester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\n            \n            List&lt;String&gt; poem = writePoem();\n            Random requestIds = new Random();\n            Random delays = new Random(1000);\n            \n            int cnt = 0;\n            int position = 0;\n            for (int i = 0; i &lt; 50; ++i) {\n                if (i == poem.size()) {\n                    int requestId = requestIds.nextInt(99999) + 1;\n                    String text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\n                    String request = appRequestFrom(text, requestId);\n                    rq.write(request);\n                    System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                }\n                position %= poem.size();\n                String line = poem.get(position);\n                int requestId = requestIds.nextInt(99999) + 1;\n                String request = appRequestFrom(line, requestId);\n                rq.write(request);\n                System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                position++;\n                try {\n                    Thread.sleep((long) Math.ceil((Math.pow(\n                        delays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\n                } catch (InterruptedException e) {\n                    // ignore\n                }\n\n            }\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                // ignore\n            }\n            rq.close();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\n        super();\n        System.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        // get request queue\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n        // get dynamic reply queue\n        int inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\n        replyQueue = new MQQueue(qMgr,\n                modelQueueName,\n                inputOptions,\n                &quot;&quot;,\n                queueNamePattern,\n                &quot;&quot;);\n        replyQueueName = replyQueue.getName();\n        System.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\n        getOptions.options = MQGMO_NO_SYNCPOINT +\n                  MQGMO_NO_WAIT +\n                  MQGMO_FAIL_IF_QUIESCING;\n        \n        // catch-up (for those replies not retrieved after a request was put)\n        Executors.newSingleThreadExecutor().execute(new Runnable() {\n\n            @Override\n            public void run() {\n                // read options\n                MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                getOptions.options = MQGMO_NO_SYNCPOINT +\n                      MQGMO_WAIT +\n                      MQGMO_FAIL_IF_QUIESCING;\n                getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                while(proceed()) {\n                    try {\n                        if (!retrieveMessage(getOptions)) {\n                            try {\n                                Thread.sleep(getOptions.waitInterval);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }           \n        });\n    }\n    \n    private boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\n        MQMessage msg = new MQMessage();\n        try {\n            msg.clearMessage();\n            msg.seek(0);\n            replyQueue.get(msg, getOptions);\n            System.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\n                Long.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\n            byte[] buf = new byte[msg.getDataLength()];\n            String message = new String(buf, charset);\n            System.out.println(&quot;Requester: message received:\\n&quot; + message);\n        } catch (MQException e) {\n            if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n    public byte[] write(String message) {\n        int positionRequestId = 24;\n        int endIndex = positionRequestId + 16;\n        CharSequence requestId = message.substring(positionRequestId, endIndex);\n        StringBuffer sb = new StringBuffer(&quot;00000000&quot;);\n        sb.append(requestId);\n        byte[] id = sb.toString().getBytes(charset);\n        MQMessage mqMsg = new MQMessage();\n        mqMsg.characterSet = 819;\n        mqMsg.encoding = MQENC_INTEGER_NORMAL;\n        mqMsg.format = MQFMT_STRING;\n        mqMsg.messageType = MQMT_REQUEST;\n        mqMsg.messageId = id;\n        mqMsg.correlationId = id;\n        mqMsg.replyToQueueName = replyQueueName;\n        try {\n            mqMsg.writeString(message);\n            mqMsg.seek(0);\n            MQPutMessageOptions pmo = new MQPutMessageOptions();\n            pmo.options = MQPMO_NO_SYNCPOINT;\n            requestQueue.put(mqMsg, pmo);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n        // try to read from reply queue fail immediately\n        try {\n            retrieveMessage(getOptions);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return id;\n    }\n    \n    public void close() {\n        stop();\n        try {\n            Thread.sleep(2 * WAIT_WHILE_EMPTY);\n        } catch (InterruptedException e1) {\n            // ignore\n        }\n        try {\n            if (requestQueue != null) {\n                requestQueue.close();\n            }\n            if (qMgr != null) {\n                qMgr.disconnect();\n            }\n        } catch (MQException e) {\n            // ignore\n        }\n    }\n    \n    public boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n    }\n    \n    public void stop() {\n        synchronized(locker) {\n            stopped = true;\n        }\n    }\n    \n    private static List&lt;String&gt; writePoem() {\n        List&lt;String&gt; poem = new ArrayList&lt;&gt;();\n        poem.add(&quot;Das Nasobem&quot;);\n        poem.add(&quot;von Joachim Ringelnatz&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;einher das Nasobem,&quot;);\n        poem.add(&quot;von seineme Kind begleitet -&quot;);\n        poem.add(&quot;es steht noch nicht im Brehm.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Es steht noch nicht im Meyer&quot;);\n        poem.add(&quot;und auch im Brockhaus nicht -&quot;);\n        poem.add(&quot;es tritt aus meiner Leier&quot;);\n        poem.add(&quot;zum ersten Mal ans Licht.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;- wie schon gesagt - seitdem&quot;);\n        poem.add(&quot;von seinem Kind begleitet&quot;);\n        poem.add(&quot;einher das Nasobem.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;&quot;);\n        return poem;\n    }\n\n    private static String iToHex(int num, int places) {\n        StringBuilder sb = new StringBuilder();\n        char[] digits = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };\n        for (int i = 0; i &lt; places; ++i) {\n            sb.append(digits[num % places]);\n            num /= places;\n        }\n        return sb.reverse().toString();\n    }\n    \n    private static String iToHex(int num) {\n        return iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\n    }\n    \n\n    private static String appRequestFrom(String msgBody, int requestId) {\n        int headerLength = 72;\n        // includes message body length field here!\n        int bodyLength = msgBody.length();\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;GHI &quot;);                            // magic\n        sb.append(&quot;1&quot;);                               // version major\n        sb.append(&quot;0&quot;);                               // version minor\n        sb.append(&quot;0&quot;);                               // flags\n        sb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\n        sb.append(iToHex(headerLength + bodyLength)); // message length\n        sb.append(iToHex(requestId));                 // request id\n        sb.append(iToHex(0));                         // timeout\n        sb.append(iToHex(bodyLength));                // message body length\n        sb.append(msgBody);                           // message body\n        return sb.toString();\n    }\n    \n\n}\n</code></pre>\n<p>Responder.java:</p>\n<pre><code>package com.hellerim.imq.comm.responder;\n\nimport static com.ibm.mq.constants.CMQC.*;\n\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Responder\n{\n    \n    private MQQueueManager qMgr;\n    private MQQueue requestQueue;\n    private Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\n    private final Object locker = new Object();\n    static final private int WAIT_WHILE_EMPTY = 100; // ms\n    @GuardedBy(&quot;locker&quot;)\n    private boolean stopped = false;\n    Thread fetcherThread = null;\n    private final static byte MESSAGE_TYPE_REPLY = 52; // '4'\n    \n    public final static String MQ_MANAGER = &quot;MY_QM&quot;;\n    public final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    \n    public static void main( String[] args ) throws MQException, IOException\n    {\n        System.out.println( &quot;running reponder application&quot; );\n        try {\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\n        System.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        int openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n    }\n    \n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\n        \n        if (replyQueues.containsKey(replyQueueName)) {\n            return replyQueues.get(replyQueueName);\n        }\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\n        \n        replyQueues.put(replyQueueName, replyQueue);\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\n        return replyQueue;\n    }\n    \n    private void start() throws IOException {\n        \n        Runnable fetcher = new Runnable() {\n\n            @Override\n            public void run() {\n                int cnt = 0;\n                while(proceed()) {\n                    MQMessage msg = new MQMessage();\n                    try {\n                        //msg.clearMessage();\n                        MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                        \n                        getOptions.options = MQGMO_NO_SYNCPOINT +\n                          MQGMO_WAIT +\n                          MQGMO_FAIL_IF_QUIESCING;\n                        getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                        requestQueue.get(msg, getOptions);\n                        System.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\n                        \n                        MQQueue replyQueue = null;\n                        try {\n                            replyQueue = getReplyQueue(msg.replyToQueueName);\n                        } catch(MQException e) {\n                            if (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\n                                // dynamic reply queue does not exist any more =&gt; message out of date\n                                continue;\n                            }\n                            throw e;\n                        }\n                        // set message type for reply\n                        if (msg.getDataLength() &lt; 56) {\n                            System.out.println(&quot;invalid message:&quot;);\n                            System.out.println(Msg2Text(msg));\n                            continue;\n                        }\n                        System.out.println(Msg2Text(msg));\n                        int typePosition = 7;\n                        msg.seek(typePosition);\n                        msg.writeByte(MESSAGE_TYPE_REPLY);\n                        msg.seek(0);\n                        \n                        String text = Msg2Text(msg);\n                        MQMessage msgOut = new MQMessage();\n                        msgOut.characterSet = 819;\n                        msgOut.encoding = MQENC_INTEGER_NORMAL;\n                        msgOut.format = MQFMT_STRING;\n                        msgOut.messageType = MQMT_REPLY;\n                        msgOut.messageId = msg.messageId;\n                        msgOut.correlationId = msg.correlationId;\n                        msgOut.seek(0);\n                        msgOut.writeString(text);\n                        msgOut.seek(0);\n                        System.out.println(text);\n                        \n//                      System.out.println(&quot;Responder: message received&quot;);\n                        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\n                        pmo.options = MQPMO_NO_SYNCPOINT;\n                        replyQueue.put(msgOut, pmo);\n                        System.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\n                    } catch (MQException e) {\n                        if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                            ; // NOOP\n                        } else {\n                            try {\n                                msg.seek(0);\n                                System.out.println(msg);\n                            } catch (EOFException e2) {\n                                // TODO Auto-generated catch block\n                                e2.printStackTrace();\n                            }\n                            e.printStackTrace();\n                            try {\n                                Thread.sleep(1000);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                shutdown();\n            }\n\n        };\n        \n        Thread task = new Thread(fetcher);\n        task.run();\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\n        System.in.read();\n        System.out.println();\n        synchronized(locker) {\n            stopped = true;\n        }\n        try {\n            task.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    private static String Msg2Text(MQMessage msg) {\n        \n        int length;\n        String text = &quot;&quot;;\n        try {\n            length = msg.getDataLength();\n            byte[] buf = new byte[length];\n            msg.seek(0);\n            msg.readFully(buf);\n            text = new String(buf, CharsetUtil.ISO_8859_1);\n            msg.seek(0);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return text;\n    }\n    \n    private boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n        \n    }\n    \n    private void shutdown() {\n        \n        System.out.print(&quot;\\nshutting down responder... &quot;);\n        \n        for (MQQueue queue : replyQueues.values()) {\n            try {\n                queue.close();\n            } catch (MQException e) { }\n        }\n        replyQueues.clear();\n        try {\n            qMgr.close();\n        } catch (MQException e) { }\n    \n        System.out.println(&quot;done.&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Is there any idea what might be wrong?</p>\n"},{"tags":["java","ssl","tls1.2","filezilla","edtftpj"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1668017448,"post_id":74378457,"comment_id":131307960,"body_markdown":"What about the used runtime and OS environment of client and server (platform and versions used)?","body":"What about the used runtime and OS environment of client and server (platform and versions used)?"}],"answers":[{"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1668068401,"post_id":74382979,"comment_id":131318591,"body_markdown":"Yes I change the auto generate certificat with my own and it&#39;s work thanks.","body":"Yes I change the auto generate certificat with my own and it&#39;s work thanks."}],"tags":[],"owner":{"account_id":54536,"reputation":1375,"user_id":163168,"accept_rate":67,"display_name":"HansA"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668041354,"creation_date":1668041354,"answer_id":74382979,"question_id":74378457,"body_markdown":"This is probably happening because FileZilla Server is using an ECC certificate, which isn&#39;t yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>This is probably happening because FileZilla Server is using an ECC certificate, which isn't yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.</p>\n"}],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74382979,"answer_count":1,"score":0,"last_activity_date":1668041354,"creation_date":1668012274,"question_id":74378457,"body_markdown":"We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).\r\n\r\nI get that logs in filezilla server\r\n\r\n```\r\n FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\r\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\r\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\r\n```\r\nAnd that exception in java client :\r\n```\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\r\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\r\n\tat com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\r\n\tat com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\r\n```\r\n\r\nClient code (adding all the cipher)\r\n\r\n  \r\n\r\n    ftpClient = new SSLFTPClient();\r\n    ftpClient.setRemoteHost(host);\r\n    ftpClient.setRemotePort(port);\r\n    //add all ciphers\r\n    ftpClient.disableAllCipherSuites();\r\n    ftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\r\n    \r\n    ftpClient.setValidateServer(false);\r\n    ftpClient.connect();\r\n    ftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\r\n\r\n","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).</p>\n<p>I get that logs in filezilla server</p>\n<pre><code> FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\n</code></pre>\n<p>And that exception in java client :</p>\n<pre><code>DEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\n    at com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\n    at com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\n</code></pre>\n<p>Client code (adding all the cipher)</p>\n<pre><code>ftpClient = new SSLFTPClient();\nftpClient.setRemoteHost(host);\nftpClient.setRemotePort(port);\n//add all ciphers\nftpClient.disableAllCipherSuites();\nftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\n\nftpClient.setValidateServer(false);\nftpClient.connect();\nftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data","jedis"],"answers":[{"tags":[],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668040804,"creation_date":1668040804,"answer_id":74382913,"question_id":74382587,"body_markdown":"I figured out this is not a bug but a feature. \r\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties\r\n\r\n```\r\n&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n```","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I figured out this is not a bug but a feature.\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties</p>\n<pre><code>&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74382913,"answer_count":1,"score":-1,"last_activity_date":1668040931,"creation_date":1668037023,"question_id":74382587,"body_markdown":"I have reached a conflict situation between Spring @Repository and @Cacheable.\r\n\r\n1. I&#39;m using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.\r\n\r\n```\r\n@Service\r\npublic class ServiceA{\r\n\r\n  @Cacheable(&quot;cacheName&quot;)\r\n    public Response getResponse(){\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EnableCaching\r\npublic class SpringBootApplication {\r\n...\r\n}\r\n```\r\n\r\n2. I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.\r\n\r\n```\r\n@Repository\r\npublic class RedisRepository{\r\n\r\n    public void setSomething(){\r\n    }\r\n\r\n    public Something getSomething(){\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableRedisRepositories\r\npublic class RedisConfig {\r\n  @Bean\r\n  public JedisConnectionFactory connectionFactory() {\r\n  }\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n  }\r\n}\r\n```\r\n\r\nThe case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.\r\n\r\nHow can I keep the in-memory cache and don&#39;t use remote Redis for caching?\r\n","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I have reached a conflict situation between Spring @Repository and @Cacheable.</p>\n<ol>\n<li>I'm using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.</li>\n</ol>\n<pre><code>@Service\npublic class ServiceA{\n\n  @Cacheable(&quot;cacheName&quot;)\n    public Response getResponse(){\n\n    }\n}\n</code></pre>\n<pre><code>@EnableCaching\npublic class SpringBootApplication {\n...\n}\n</code></pre>\n<ol start=\"2\">\n<li>I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.</li>\n</ol>\n<pre><code>@Repository\npublic class RedisRepository{\n\n    public void setSomething(){\n    }\n\n    public Something getSomething(){\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n  @Bean\n  public JedisConnectionFactory connectionFactory() {\n  }\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n  }\n}\n</code></pre>\n<p>The case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.</p>\n<p>How can I keep the in-memory cache and don't use remote Redis for caching?</p>\n"},{"tags":["java","arrays","partition"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037015,"post_id":74382528,"comment_id":131313278,"body_markdown":"hi &amp; welcome! `partition` looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more","body":"hi &amp; welcome! <code>partition</code> looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037585,"post_id":74382528,"comment_id":131313383,"body_markdown":"..so, there&#39;s nothing to fix: `[5, 3, 8, 9, 12]` is correct output!","body":"..so, there&#39;s nothing to fix: <code>[5, 3, 8, 9, 12]</code> is correct output!"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668038167,"post_id":74382528,"comment_id":131313470,"body_markdown":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it.","body":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038409,"post_id":74382528,"comment_id":131313506,"body_markdown":"No, pivot element is last (`12` for the given input)...if you want another pivot, you need to adjust (initialization+ loop)","body":"No, pivot element is last (<code>12</code> for the given input)...if you want another pivot, you need to adjust (initialization+ loop)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038632,"post_id":74382528,"comment_id":131313543,"body_markdown":"`int left=1, right=a.length-1, pivot=0;` could work with same loop","body":"<code>int left=1, right=a.length-1, pivot=0;</code> could work with same loop"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039338,"post_id":74382528,"comment_id":131313641,"body_markdown":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;","body":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039472,"post_id":74382528,"comment_id":131313654,"body_markdown":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?","body":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039585,"post_id":74382528,"comment_id":131313675,"body_markdown":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a).","body":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a)."},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039594,"post_id":74382528,"comment_id":131313677,"body_markdown":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot.","body":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668074631,"post_id":74382528,"comment_id":131320745,"body_markdown":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)","body":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)"}],"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668039809,"creation_date":1668036429,"question_id":74382528,"body_markdown":"I&#39;m working on this program that is essentially using the partition algorithm but it&#39;s meant to run from the right and not the left. However, I am having problems as it&#39;s not running the correct code.\r\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I&#39;m getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class PartitionPivotOnRight {\r\n\r\n\tpublic static int partition(int[] a) {\r\n\t\tint left = 0;\r\n\t\tint right = a.length - 2;\r\n\t\tint pivot = a.length - 1;\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\twhile (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\r\n\t\t\t\t++left;\r\n\t\t\twhile (a[right] &gt; a[pivot])\r\n\t\t\t\t--right;\r\n\t\t\tif (left &lt;= right)\r\n\t\t\t\tswap(a, left++, right--);\r\n\t\t}\r\n\t\tswap(a, left, pivot);\r\n\t\treturn left;\r\n\t}\r\n\r\n\tpublic static void swap(int[] a, int i, int j) {\r\n\t\tint temp = a[i];\r\n\t\ta[i] = a[j];\r\n\t\ta[j] = temp;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint N = 10;\r\n\t\tint[] a = new int[N];\r\n\r\n\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\ta[i] = (int) (Math.random() * 100);\r\n\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tSystem.out.println(partition(a));\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}\r\n}","title":"How can I partition from the right and not the left?","body":"<p>I'm working on this program that is essentially using the partition algorithm but it's meant to run from the right and not the left. However, I am having problems as it's not running the correct code.\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I'm getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.</p>\n<pre><code>import java.util.Arrays;\n\npublic class PartitionPivotOnRight {\n\n    public static int partition(int[] a) {\n        int left = 0;\n        int right = a.length - 2;\n        int pivot = a.length - 1;\n\n        while (left &lt;= right) {\n            while (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\n                ++left;\n            while (a[right] &gt; a[pivot])\n                --right;\n            if (left &lt;= right)\n                swap(a, left++, right--);\n        }\n        swap(a, left, pivot);\n        return left;\n    }\n\n    public static void swap(int[] a, int i, int j) {\n        int temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static void main(String[] args) {\n        int N = 10;\n        int[] a = new int[N];\n\n        for (int i = 0; i &lt; N; i++)\n            a[i] = (int) (Math.random() * 100);\n\n        System.out.println(Arrays.toString(a));\n        System.out.println(partition(a));\n        System.out.println(Arrays.toString(a));\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","testng","cucumber-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633986397,"post_id":69529914,"comment_id":122901275,"body_markdown":"I am not sure how you use testng.xml. Normally cucumber run does not require that file.","body":"I am not sure how you use testng.xml. Normally cucumber run does not require that file."},{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1634057391,"post_id":69529914,"comment_id":122922275,"body_markdown":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )","body":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )"}],"answers":[{"comments":[{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1634057435,"post_id":69534982,"comment_id":122922289,"body_markdown":"Thanks, do I need to modify anything in pom.xml? ,  am still struck in the same step","body":"Thanks, do I need to modify anything in pom.xml? ,  am still struck in the same step"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1634088715,"post_id":69534982,"comment_id":122930395,"body_markdown":"Not required. This is running fine for me.","body":"Not required. This is running fine for me."}],"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634021953,"creation_date":1634011758,"answer_id":69534982,"question_id":69529914,"body_markdown":"please use the following command, we should not use single quote \r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @temp&quot;\r\n\r\nfor multiple,\r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;","title":"How to execute cucumber feature using tags from maven?","body":"<p>please use the following command, we should not use single quote</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @temp&quot;\n</code></pre>\n<p>for multiple,</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;\n</code></pre>\n"}],"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668039703,"creation_date":1633971415,"question_id":69529914,"body_markdown":"How to execute cucumber from maven with tags?\r\n\r\nwhat I have tried is \r\n\r\n1. mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;\r\n2. mvn test -Dcucumber.options=&quot;--tags &#39;@TestTag&#39;&quot;\r\n\r\nmy pom.xml has for  testng.xml files, ( *is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?* ) \r\n```\r\n             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n*Am using cucumber.io 7.0.0*\r\n","title":"How to execute cucumber feature using tags from maven?","body":"<p>How to execute cucumber from maven with tags?</p>\n<p>what I have tried is</p>\n<ol>\n<li>mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;</li>\n<li>mvn test -Dcucumber.options=&quot;--tags '@TestTag'&quot;</li>\n</ol>\n<p>my pom.xml has for  testng.xml files, ( <em>is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?</em> )</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\n                        &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><em>Am using cucumber.io 7.0.0</em></p>\n"},{"tags":["java","sql-server","google-bigquery","google-cloud-dataflow"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1667568997,"post_id":74301263,"comment_id":131203468,"body_markdown":"Hi @alex-mont, for your requirement, you can check this [StackOverflow question](https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja) . Let me know if that helps.","body":"Hi @alex-mont, for your requirement, you can check this <a href=\"https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja\">StackOverflow question</a> . Let me know if that helps."},{"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"score":0,"creation_date":1667579450,"post_id":74301263,"comment_id":131207586,"body_markdown":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work.","body":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2476175,"reputation":1309,"user_id":2156784,"display_name":"Rathish Kumar B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667722438,"creation_date":1667722438,"answer_id":74334228,"question_id":74301263,"body_markdown":"I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.\r\n\r\nFor me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.\r\n\r\n\r\n\r\n\r\n    import pyodbc \r\n    import sqlalchemy\r\n    from sqlalchemy.engine import URL\r\n    import datetime\r\n    from google.cloud import bigquery\r\n    from google.oauth2 import service_account\r\n    \r\n    print(&quot;Sync job started at :&quot;, datetime.datetime.now())\r\n    \r\n    credentials = service_account.Credentials.from_service_account_file(&#39;sa-key.json&#39;)\r\n    projectid = &quot;myproject&quot;\r\n    tableid = &quot;projectid.dataset.table&quot;\r\n    client = bigquery.Client(credentials= credentials,project=projectid)\r\n    \r\n    server = &#39;cloudsql-proxyip&#39; \r\n    database = &#39;db&#39; \r\n    username = &#39;user&#39; \r\n    password = &#39;pwd&#39; \r\n    driver = &quot;{ODBC Driver 18 for SQL Server}&quot;\r\n    port = 1433\r\n    \r\n    cnxn = pyodbc.connect(&#39;DRIVER={ODBC Driver 18 for SQL Server};SERVER=&#39;+server+&#39;;DATABASE=&#39;+database+&#39;;UID=&#39;+username+&#39;;PWD=&#39;+ password+&#39;;TrustServerCertificate=YES;&#39;)\r\n    cursor = cnxn.cursor()\r\n    \r\n    def HandleHierarchyId(v):\r\n        return str(v)\r\n    \r\n    connection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\r\n    connection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\r\n    sql_engine = sqlalchemy.create_engine(connection_url)\r\n    \r\n    select_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\r\n    \r\n    print(&quot;Creating connetion&quot;)\r\n    db = sql_engine.connect().connection\r\n    db.add_output_converter(-151, HandleHierarchyId)\r\n        \r\n    print(&quot;Fetching data&quot;)\r\n    data = db.execute(select_stmt).fetchall()\r\n    md = sqlalchemy.MetaData()\r\n    table = sqlalchemy.Table(&#39;view&#39;, md, autoload=True, autoload_with=sql_engine)\r\n    columns = table.c\r\n    \r\n    column_list = []\r\n    for column in columns:\r\n        column_list.append(column.name)\r\n    \r\n    \r\n    def split(a, n):\r\n        k, m = divmod(len(a), n)\r\n        return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\r\n    \r\n    \r\n    def to_json(row, columns):\r\n        newlist = list(row)\r\n        newdicts = dict(zip(columns, newlist))\r\n        return newdicts\r\n    \r\n    def ingestdata(tableid, data):\r\n        table = bigquery.Table.from_string(tableid)\r\n        print(&quot;Data ingestion started&quot;)\r\n        errors = client.insert_rows_json(table, data)  # Make an API request.\r\n        if errors == []:\r\n            print(&quot;New rows have been added.&quot;)\r\n        else:\r\n            print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\r\n    \r\n    insertdata = []\r\n    for row in data:\r\n        newdict = to_json(row, column_list)\r\n        insertdata.append(newdict)\r\n    \r\n    print(&quot;Total record count :&quot;, len(insertdata))\r\n    \r\n    # BigQuery POST API limitations - split the list into multiple smaller chunks\r\n    records = split(insertdata, 10)\r\n    \r\n    \r\n    for r in records:\r\n        print(&quot;Batch record count :&quot;, len(r))\r\n        ingestdata(tableid=tableid, data=r)\r\n    \r\n    \r\n    print(&quot;Total records inserted : &quot;, len(insertdata))\r\n    print(&quot;Sync job ended at :&quot;, datetime.datetime.now())\r\n\r\n\r\n","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.</p>\n<p>For me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.</p>\n<pre><code>import pyodbc \nimport sqlalchemy\nfrom sqlalchemy.engine import URL\nimport datetime\nfrom google.cloud import bigquery\nfrom google.oauth2 import service_account\n\nprint(&quot;Sync job started at :&quot;, datetime.datetime.now())\n\ncredentials = service_account.Credentials.from_service_account_file('sa-key.json')\nprojectid = &quot;myproject&quot;\ntableid = &quot;projectid.dataset.table&quot;\nclient = bigquery.Client(credentials= credentials,project=projectid)\n\nserver = 'cloudsql-proxyip' \ndatabase = 'db' \nusername = 'user' \npassword = 'pwd' \ndriver = &quot;{ODBC Driver 18 for SQL Server}&quot;\nport = 1433\n\ncnxn = pyodbc.connect('DRIVER={ODBC Driver 18 for SQL Server};SERVER='+server+';DATABASE='+database+';UID='+username+';PWD='+ password+';TrustServerCertificate=YES;')\ncursor = cnxn.cursor()\n\ndef HandleHierarchyId(v):\n    return str(v)\n\nconnection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\nconnection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\nsql_engine = sqlalchemy.create_engine(connection_url)\n\nselect_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\n\nprint(&quot;Creating connetion&quot;)\ndb = sql_engine.connect().connection\ndb.add_output_converter(-151, HandleHierarchyId)\n    \nprint(&quot;Fetching data&quot;)\ndata = db.execute(select_stmt).fetchall()\nmd = sqlalchemy.MetaData()\ntable = sqlalchemy.Table('view', md, autoload=True, autoload_with=sql_engine)\ncolumns = table.c\n\ncolumn_list = []\nfor column in columns:\n    column_list.append(column.name)\n\n\ndef split(a, n):\n    k, m = divmod(len(a), n)\n    return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\n\n\ndef to_json(row, columns):\n    newlist = list(row)\n    newdicts = dict(zip(columns, newlist))\n    return newdicts\n\ndef ingestdata(tableid, data):\n    table = bigquery.Table.from_string(tableid)\n    print(&quot;Data ingestion started&quot;)\n    errors = client.insert_rows_json(table, data)  # Make an API request.\n    if errors == []:\n        print(&quot;New rows have been added.&quot;)\n    else:\n        print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\n\ninsertdata = []\nfor row in data:\n    newdict = to_json(row, column_list)\n    insertdata.append(newdict)\n\nprint(&quot;Total record count :&quot;, len(insertdata))\n\n# BigQuery POST API limitations - split the list into multiple smaller chunks\nrecords = split(insertdata, 10)\n\n\nfor r in records:\n    print(&quot;Batch record count :&quot;, len(r))\n    ingestdata(tableid=tableid, data=r)\n\n\nprint(&quot;Total records inserted : &quot;, len(insertdata))\nprint(&quot;Sync job ended at :&quot;, datetime.datetime.now())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668036633,"creation_date":1667830282,"answer_id":74347960,"question_id":74301263,"body_markdown":"Solved in this way:\r\n\r\n 1. Parse datetime columns when reading tables with SQL function `CONVERT`.\r\n 2. Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.\r\n3. Bigquery will cast that columns automatically.\r\n\r\nConsider this example. You have the SQL Server table\r\n    \r\n    CREATE TABLE User(id varchar(N), date_insert datatime);\r\n\r\nStep n.1: \r\n\r\n    SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \r\naccording to: [date &amp; time conversion][1].\r\n\r\nStep n.2 Create User table in BigQuery with `id` as `STRING(N)` and `date_insert` as `DATETIME`. \r\n\r\nStep n.3 Ingest your data.\r\n\r\n  [1]: https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>Solved in this way:</p>\n<ol>\n<li>Parse datetime columns when reading tables with SQL function <code>CONVERT</code>.</li>\n<li>Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.</li>\n<li>Bigquery will cast that columns automatically.</li>\n</ol>\n<p>Consider this example. You have the SQL Server table</p>\n<pre><code>CREATE TABLE User(id varchar(N), date_insert datatime);\n</code></pre>\n<p>Step n.1:</p>\n<pre><code>SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \n</code></pre>\n<p>according to: <a href=\"https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/\" rel=\"nofollow noreferrer\">date &amp; time conversion</a>.</p>\n<p>Step n.2 Create User table in BigQuery with <code>id</code> as <code>STRING(N)</code> and <code>date_insert</code> as <code>DATETIME</code>.</p>\n<p>Step n.3 Ingest your data.</p>\n"}],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74347960,"answer_count":2,"score":0,"last_activity_date":1668036633,"creation_date":1667470192,"question_id":74301263,"body_markdown":"I&#39;m trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I&#39;ve mapped with Bigquery DATETIME. I&#39;m using Dataflow to ingest the table with default template (JDBC to Bigquery).  \r\nThis is the connection string:  \r\n`jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;`  \r\nI&#39;ve also added user and pwd (my credentials) in the job&#39;s parameters.   \r\nBut Dataflow gives me the following error: \r\n```\r\nError message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader &#39;platform&#39;; java.time.temporal.TemporalAccessor is in module java.base of loader &#39;bootstrap&#39;)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\r\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \r\n```\r\nI&#39;ve also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I&#39;ve got the same error.  \r\nIt&#39;s not a connection problem, because I&#39;ve tried to read other columns (except the datetime column) and the dataflow job works.\r\n\r\nWhat do I have to do? What&#39;s the problem?\r\n\r\nI&#39;m using `com.microsoft.sqlserver.jdbc.SQLServerDriver` as JDBC Driver name and I&#39;ve downloaded from Maven the jar version `mssql-jdbc-11.2.1.jre8.jar`.","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I'm trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I've mapped with Bigquery DATETIME. I'm using Dataflow to ingest the table with default template (JDBC to Bigquery).<br />\nThis is the connection string:<br />\n<code>jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;</code><br />\nI've also added user and pwd (my credentials) in the job's parameters.<br />\nBut Dataflow gives me the following error:</p>\n<pre><code>Error message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader 'platform'; java.time.temporal.TemporalAccessor is in module java.base of loader 'bootstrap')\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \n</code></pre>\n<p>I've also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I've got the same error.<br />\nIt's not a connection problem, because I've tried to read other columns (except the datetime column) and the dataflow job works.</p>\n<p>What do I have to do? What's the problem?</p>\n<p>I'm using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> as JDBC Driver name and I've downloaded from Maven the jar version <code>mssql-jdbc-11.2.1.jre8.jar</code>.</p>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":1,"creation_date":1668036480,"post_id":74381784,"comment_id":131313189,"body_markdown":"`RestTemplate` is for `HTTP` Requests, but your Server expects a `WebSocket` connection, those are 2 completely different things:\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client","body":"<code>RestTemplate</code> is for <code>HTTP</code> Requests, but your Server expects a <code>WebSocket</code> connection, those are 2 completely different things: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1668067886,"post_id":74381784,"comment_id":131318435,"body_markdown":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?","body":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1668092437,"post_id":74381784,"comment_id":131327192,"body_markdown":"In general a Socket Connection has 2 channels, one to read and one to write.\nIn `HTTP` you write once and then read once (`Request` -&gt; `Response`).\n\nIn `WebSocket` you can `read`/`write` multiple times (`Publish`/`Subscribe`).\n\nSo if you send a `HTTP` Request with header `&quot;Upgrade: websocket&quot;` the server should keep both channels open and dispatch the connection to a `WebWocket` handler.","body":"In general a Socket Connection has 2 channels, one to read and one to write. In <code>HTTP</code> you write once and then read once (<code>Request</code> -&gt; <code>Response</code>).  In <code>WebSocket</code> you can <code>read</code>/<code>write</code> multiple times (<code>Publish</code>/<code>Subscribe</code>).  So if you send a <code>HTTP</code> Request with header <code>&quot;Upgrade: websocket&quot;</code> the server should keep both channels open and dispatch the connection to a <code>WebWocket</code> handler."}],"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668036607,"creation_date":1668030715,"question_id":74381784,"body_markdown":"I have 2 services: \r\n\r\nService Web on http://localhost:8080 and Service Engine on http://localhost:8081\r\n\r\nService Web sends a `POST` request to Service Engine through this code :\r\n\r\n        String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\r\n\t\t\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\r\n\t\t\t\t\tcheckWinUrl, \r\n\t\t\t\t\tHttpMethod.POST, \r\n\t\t\t\t\trequest, \r\n\t\t\t\t\tCheckWinResult.class);\r\n\t\t\t\r\n\t\t\tCheckWinResult checkWinResult = response.getBody();\r\n\t\t\tif (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;Move&gt; result = new HashSet&lt;&gt;();\r\n\t\t\t\tfor (MoveDto move : checkWinResult.getWinMoves()) {\r\n\t\t\t\t\tresult.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t} catch (RestClientException e) {\r\n\t\t\tlog.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\r\n\t\t}\r\n\r\n-----\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/checkWin&quot;)\r\n\tpublic CheckWinResult checkWin(@RequestBody GameDto game) {\r\n\t\treturn engineService.checkWin(game);\r\n\t}\r\n\r\nand it works fine, Engine Service receives the request properly.\r\n\r\nBut when Engine Service sends a request to Web Service :\r\n\r\n\t\tString webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\r\n\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\r\n\r\n\t\trestTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\r\n\r\n---------\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/engineMessage&quot;)\r\n    public void engineMessage(@RequestBody String engineMessage) {\r\n\t\t\r\n\t\tJSONObject jsonMessage = new JSONObject(engineMessage);\r\n\r\n\t\tWebSocketMessage webSocketMessage = new WebSocketMessage();\r\n\t\t\r\n\t\twebSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\r\n\t\twebSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\r\n\t\t\r\n\t\twebSocketController.sendMessage(webSocketMessage);\r\n    }\r\nWeb Service just never receives the request.\r\n\r\nAny ideas? \r\n\r\nThank you.","title":"Cannot send POST request with RestTemplate","body":"<p>I have 2 services:</p>\n<p>Service Web on http://localhost:8080 and Service Engine on http://localhost:8081</p>\n<p>Service Web sends a <code>POST</code> request to Service Engine through this code :</p>\n<pre><code>    String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\n    \n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\n    \n    try {\n        ResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\n                checkWinUrl, \n                HttpMethod.POST, \n                request, \n                CheckWinResult.class);\n        \n        CheckWinResult checkWinResult = response.getBody();\n        if (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\n            \n            Set&lt;Move&gt; result = new HashSet&lt;&gt;();\n            for (MoveDto move : checkWinResult.getWinMoves()) {\n                result.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\n            }\n            \n            return result;\n        }\n    } catch (RestClientException e) {\n        log.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\n    }\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/checkWin&quot;)\npublic CheckWinResult checkWin(@RequestBody GameDto game) {\n    return engineService.checkWin(game);\n}\n</code></pre>\n<p>and it works fine, Engine Service receives the request properly.</p>\n<p>But when Engine Service sends a request to Web Service :</p>\n<pre><code>    String webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\n\n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\n\n    restTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/engineMessage&quot;)\npublic void engineMessage(@RequestBody String engineMessage) {\n    \n    JSONObject jsonMessage = new JSONObject(engineMessage);\n\n    WebSocketMessage webSocketMessage = new WebSocketMessage();\n    \n    webSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\n    webSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\n    \n    webSocketController.sendMessage(webSocketMessage);\n}\n</code></pre>\n<p>Web Service just never receives the request.</p>\n<p>Any ideas?</p>\n<p>Thank you.</p>\n"},{"tags":["c#","java",".net","language-features","enumerable"],"answers":[{"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275401630,"post_id":2950460,"comment_id":3007117,"body_markdown":"Thanks Andreas. So there isn&#39;t?","body":"Thanks Andreas. So there isn&#39;t?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1275401704,"post_id":2950460,"comment_id":3007128,"body_markdown":"Not in the basic Java API, afaik, but there maybe something in one of the numerous apache commons libraries. That&#39;s where I would look first.","body":"Not in the basic Java API, afaik, but there maybe something in one of the numerous apache commons libraries. That&#39;s where I would look first."},{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275401889,"post_id":2950460,"comment_id":3007157,"body_markdown":"Ok... add your comment to your answer, so I can upvote it and mark it as answer. :)","body":"Ok... add your comment to your answer, so I can upvote it and mark it as answer. :)"},{"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"score":5,"creation_date":1275402611,"post_id":2950460,"comment_id":3007273,"body_markdown":"Note that this solution will actually take up space proportional to the length of the range (unlike Enumerable.Range which only stores the start and the end value), which might not be acceptable for large ranges.","body":"Note that this solution will actually take up space proportional to the length of the range (unlike Enumerable.Range which only stores the start and the end value), which might not be acceptable for large ranges."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1275403104,"post_id":2950460,"comment_id":3007358,"body_markdown":"There are much more withdraws (and I wouldn&#39;t use that code in own projects) but the OP didn&#39;t tell why he wants to use/emulate the Enumerable type from C#. Better requirements, better solutions.","body":"There are much more withdraws (and I wouldn&#39;t use that code in own projects) but the OP didn&#39;t tell why he wants to use/emulate the Enumerable type from C#. Better requirements, better solutions."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1275406141,"post_id":2950460,"comment_id":3007872,"body_markdown":"@sepp2k: No, the memory usage is only deferred.  As soon as you call `GetEnumerator` or use it in a `foreach`, the `IEnumerable` is populated with actual values.  MSDN docs: http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx","body":"@sepp2k: No, the memory usage is only deferred.  As soon as you call <code>GetEnumerator</code> or use it in a <code>foreach</code>, the <code>IEnumerable</code> is populated with actual values.  MSDN docs: <a href=\"http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"},{"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"score":0,"creation_date":1275414145,"post_id":2950460,"comment_id":3009019,"body_markdown":"@R.Bemrose: I&#39;ve just run `foreach(int i in Enumerable.Range(0, 1000000000)) {/*...*/}` without any visible increase in memory consumption, so I&#39;m convinced that it doesn&#39;t store all the values between 0 and 1000000000 in memory.","body":"@R.Bemrose: I&#39;ve just run <code>foreach(int i in Enumerable.Range(0, 1000000000)) {&#47;*...*&#47;}</code> without any visible increase in memory consumption, so I&#39;m convinced that it doesn&#39;t store all the values between 0 and 1000000000 in memory."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275403325,"creation_date":1275401496,"answer_id":2950460,"question_id":2950386,"body_markdown":"You could subclass an Arraylist to achieve the same:\r\n\r\n    public class Enumerable extends ArrayList&lt;Integer&gt; {   \r\n       public Enumerable(int min, int max) {\r\n         for (int i=min; i&lt;=max; i++) {\r\n           add(i);\r\n         }\r\n       }    \r\n    }\r\n\r\nThen use the iterator to get a sequence of Integers from min to max (both including)\r\n\r\n**EDIT**\r\n\r\nAs sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I&#39;d rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>You could subclass an Arraylist to achieve the same:</p>\n\n<pre><code>public class Enumerable extends ArrayList&lt;Integer&gt; {   \n   public Enumerable(int min, int max) {\n     for (int i=min; i&lt;=max; i++) {\n       add(i);\n     }\n   }    \n}\n</code></pre>\n\n<p>Then use the iterator to get a sequence of Integers from min to max (both including)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I'd rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).</p>\n"},{"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275402907,"post_id":2950638,"comment_id":3007323,"body_markdown":"Yeah, you&#39;re right. Just wanted to know if there&#39;s something built-in.","body":"Yeah, you&#39;re right. Just wanted to know if there&#39;s something built-in."}],"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275407909,"creation_date":1275402798,"answer_id":2950638,"question_id":2950386,"body_markdown":"**There is no built in support for this in Java**, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. \r\n\r\nJava takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).\r\n\r\nOther language API&#39;s (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. \r\n\r\nA typical example of the problem with the Java approach can be seen in the [Java IO][1] library. The canonical way to create a text file for output is: \r\n\r\n    BufferedWriter out = new BufferedWriter(new FileWriter(&quot;out.txt&quot;));\r\n\r\nThe Java IO library uses the [Decorator Pattern][2] which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:\r\n\r\n    out = file(&quot;out.txt&quot;,&quot;w&quot;)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\r\n  [2]: http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p><strong>There is no built in support for this in Java</strong>, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. </p>\n\n<p>Java takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).</p>\n\n<p>Other language API's (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. </p>\n\n<p>A typical example of the problem with the Java approach can be seen in the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\" rel=\"nofollow noreferrer\">Java IO</a> library. The canonical way to create a text file for output is: </p>\n\n<pre><code>BufferedWriter out = new BufferedWriter(new FileWriter(\"out.txt\"));\n</code></pre>\n\n<p>The Java IO library uses the <a href=\"http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm\" rel=\"nofollow noreferrer\">Decorator Pattern</a> which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:</p>\n\n<pre><code>out = file(\"out.txt\",\"w\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1331258491,"post_id":9627911,"comment_id":12219575,"body_markdown":"Nicely done.  Find an old question and provide a superior answer. :)","body":"Nicely done.  Find an old question and provide a superior answer. :)"},{"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"score":1,"creation_date":1410267391,"post_id":9627911,"comment_id":40254805,"body_markdown":"A small addition, the contract for `next()` is to throw a `NoSuchElementException` in case the method is being invoked while the iterator has no more element, so my suggestion is to add `if (!hasNext()) throw new NoSuchElementException()` as the first thing to do on `next()`. :)","body":"A small addition, the contract for <code>next()</code> is to throw a <code>NoSuchElementException</code> in case the method is being invoked while the iterator has no more element, so my suggestion is to add <code>if (!hasNext()) throw new NoSuchElementException()</code> as the first thing to do on <code>next()</code>. :)"}],"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1668036134,"creation_date":1331258053,"answer_id":9627911,"question_id":2950386,"body_markdown":"As Java 8, this is possible with `java.util.stream.IntStream.range(int startInclusive, int endExclusive)`\r\n\r\nBefore Java8:\r\n----\r\n**There is not such thing in Java** but you can have something like this:\r\n\r\n\timport java.util.Iterator;\r\n\t\r\n\tpublic class Range implements Iterable&lt;Integer&gt; {\r\n\t\tprivate int min;\r\n\t\tprivate int count;\r\n\t\r\n\t\tpublic Range(int min, int count) {\r\n\t\t\tthis.min = min;\r\n\t\t\tthis.count = count;\r\n\t\t}\r\n\t\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\t\t\t\tprivate int cur = min;\r\n\t\t\t\tprivate int count = Range.this.count;\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn count != 0;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\treturn cur++; // first return the cur, then increase it.\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nFor example you can use Range by this way:\r\n\r\n\tpublic class TestRange {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : new Range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nAlso if you don&#39;t like use `new Range(1, 10)` directly, you can use factory class for it:\r\n\r\n\tpublic final class RangeFactory {\r\n\t\tpublic static Iterable&lt;Integer&gt; range(int a, int b) {\r\n\t\t\treturn new Range(a, b);\r\n\t\t}\r\n\t}\r\n\r\nAnd here is our factory test:\r\n\r\n\tpublic class TestRangeFactory {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : RangeFactory.range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>As Java 8, this is possible with <code>java.util.stream.IntStream.range(int startInclusive, int endExclusive)</code></p>\n<h2>Before Java8:</h2>\n<p><strong>There is not such thing in Java</strong> but you can have something like this:</p>\n<pre><code>import java.util.Iterator;\n\npublic class Range implements Iterable&lt;Integer&gt; {\n    private int min;\n    private int count;\n\n    public Range(int min, int count) {\n        this.min = min;\n        this.count = count;\n    }\n\n    public Iterator&lt;Integer&gt; iterator() {\n        return new Iterator&lt;Integer&gt;() {\n            private int cur = min;\n            private int count = Range.this.count;\n            public boolean hasNext() {\n                return count != 0;\n            }\n\n            public Integer next() {\n                count--;\n                return cur++; // first return the cur, then increase it.\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n}\n</code></pre>\n<p>For example you can use Range by this way:</p>\n<pre><code>public class TestRange {\n\n    public static void main(String[] args) {\n        for (int i : new Range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n<p>Also if you don't like use <code>new Range(1, 10)</code> directly, you can use factory class for it:</p>\n<pre><code>public final class RangeFactory {\n    public static Iterable&lt;Integer&gt; range(int a, int b) {\n        return new Range(a, b);\n    }\n}\n</code></pre>\n<p>And here is our factory test:</p>\n<pre><code>public class TestRangeFactory {\n\n    public static void main(String[] args) {\n        for (int i : RangeFactory.range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":9627911,"answer_count":3,"score":16,"last_activity_date":1668036134,"creation_date":1275400917,"question_id":2950386,"body_markdown":"Is there something like C#/.NET&#39;s\r\n\r\n    IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\r\n\r\nin Java?","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>Is there something like C#/.NET's</p>\n\n<pre><code>IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\n</code></pre>\n\n<p>in Java?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1668024699,"post_id":74380235,"comment_id":131310156,"body_markdown":"You should create some concurrent queue (e.g. https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue `queue.take()` . No other synchronization is required","body":"You should create some concurrent queue (e.g. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue <code>queue.take()</code> . No other synchronization is required"}],"answers":[{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1668026301,"post_id":74380888,"comment_id":131310683,"body_markdown":"The `ExecutorService` already has a `BlockingQueue` which can be used per my solution.  Creating another collection seems wasteful.","body":"The <code>ExecutorService</code> already has a <code>BlockingQueue</code> which can be used per my solution.  Creating another collection seems wasteful."},{"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"score":0,"creation_date":1668102933,"post_id":74380888,"comment_id":131331019,"body_markdown":"Using queue made the job much easier.Thank you so much for helping.","body":"Using queue made the job much easier.Thank you so much for helping."}],"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668025414,"creation_date":1668025088,"answer_id":74380888,"question_id":74380235,"body_markdown":"```java\r\npublic static void main(String[]args){\r\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\r\n    // fill the queue\r\n    // ...\r\n\r\n    final String s = ...; //\r\n\r\n    Runnable runnable=()-&gt;{\r\n        try {\r\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\r\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\r\n            System.out.println(Thread.currentThread().getName());\r\n            System.out.println();\r\n          }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    };\r\n    \r\n    ExecutorService pool=Executors.newFixedThreadPool(10);\r\n\r\n    for(int i=0;i&lt;10;i++){\r\n        pool.execute(runnable);\r\n    }\r\n}\r\n\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[]args){\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\n    // fill the queue\n    // ...\n\n    final String s = ...; //\n\n    Runnable runnable=()-&gt;{\n        try {\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\n            System.out.println(Thread.currentThread().getName());\n            System.out.println();\n          }\n        } catch (Exception e){\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }\n    };\n    \n    ExecutorService pool=Executors.newFixedThreadPool(10);\n\n    for(int i=0;i&lt;10;i++){\n        pool.execute(runnable);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668035885,"creation_date":1668025851,"answer_id":74381030,"question_id":74380235,"body_markdown":"I&#39;d do something like the following.  You submit one `Runnable` per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService pool = Executors.newFixedThreadPool(10);\r\n        List&lt;String&gt; stringList = listExe.getStringList();\r\n        for (String str : stringList) {\r\n            pool.submit(new SimilarityRunnable(str, stringList));\r\n        }\r\n        // after we submit the last job to the pool we should shut it down\r\n        pool.shutdown();\r\n    }\r\n\r\n    private static class SimilarityRunnable implements Runnable {\r\n        private final String str;\r\n        private final List&lt;String&gt; stringList;\r\n\r\n        public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\r\n            this.str = str;\r\n            this.stringList = stringList;\r\n        }\r\n\r\n        public void run() {\r\n            for (String listStr : stringList) {\r\n                // we deliberately use == here to skip the same list element\r\n                if (listStr == str) {\r\n                    continue;\r\n                }\r\n                // if solution object is not reentrant, synchronize on it here\r\n                System.out.println(Thread.currentThread().getName()\r\n                    + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\r\n                    + solution.findSimilarityRatio(str, listStr));\r\n            }\r\n        }\r\n    }\r\n","title":"Run the function in thread(Multi-Thread)","body":"<p>I'd do something like the following.  You submit one <code>Runnable</code> per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.</p>\n<pre><code>public static void main(String[] args) {\n    ExecutorService pool = Executors.newFixedThreadPool(10);\n    List&lt;String&gt; stringList = listExe.getStringList();\n    for (String str : stringList) {\n        pool.submit(new SimilarityRunnable(str, stringList));\n    }\n    // after we submit the last job to the pool we should shut it down\n    pool.shutdown();\n}\n\nprivate static class SimilarityRunnable implements Runnable {\n    private final String str;\n    private final List&lt;String&gt; stringList;\n\n    public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\n        this.str = str;\n        this.stringList = stringList;\n    }\n\n    public void run() {\n        for (String listStr : stringList) {\n            // we deliberately use == here to skip the same list element\n            if (listStr == str) {\n                continue;\n            }\n            // if solution object is not reentrant, synchronize on it here\n            System.out.println(Thread.currentThread().getName()\n                + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\n                + solution.findSimilarityRatio(str, listStr));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380888,"answer_count":2,"score":0,"last_activity_date":1668035885,"creation_date":1668021330,"question_id":74380235,"body_markdown":"I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.\r\n\r\nEach thread does the whole task by itself. I want to do the task once, with multiple thread\r\n\r\n```\r\n public class Runn implements Runnable {\r\n public void run() {\r\n\r\n      synchronized (LOCK){\r\n          \r\n          newList=listExe.getStringList();\r\n          try {\r\n\r\n              int i=1;\r\n              for (String s: newList) {\r\n                  //System.out.println(s);\r\n                  //System.out.println(newList.get(i));\r\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\r\n                  System.out.println(Thread.currentThread().getName());\r\n                  System.out.println();\r\n                  i++;\r\n                  if(i==newList.size()){\r\n                      break;\r\n                  }\r\n\r\n              }\r\n              Thread.sleep(200);\r\n          }\r\n          catch (Exception e){\r\n              e.printStackTrace();\r\n              System.out.println(e.getMessage());\r\n          }\r\n          \r\n      }\r\n      \r\n    }\r\n }\r\n\r\npublic static void main(String[] args) {\r\n\r\n\r\n   Runn runnable=new Runn();\r\n        ExecutorService pool= Executors.newFixedThreadPool(10);\r\n\r\n        for (int i=0;i&lt;10;i++){\r\n\r\n\r\n            pool.execute(runnable);\r\n        }\r\n        }\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<p>I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.</p>\n<p>Each thread does the whole task by itself. I want to do the task once, with multiple thread</p>\n<pre><code> public class Runn implements Runnable {\n public void run() {\n\n      synchronized (LOCK){\n          \n          newList=listExe.getStringList();\n          try {\n\n              int i=1;\n              for (String s: newList) {\n                  //System.out.println(s);\n                  //System.out.println(newList.get(i));\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\n                  System.out.println(Thread.currentThread().getName());\n                  System.out.println();\n                  i++;\n                  if(i==newList.size()){\n                      break;\n                  }\n\n              }\n              Thread.sleep(200);\n          }\n          catch (Exception e){\n              e.printStackTrace();\n              System.out.println(e.getMessage());\n          }\n          \n      }\n      \n    }\n }\n\npublic static void main(String[] args) {\n\n\n   Runn runnable=new Runn();\n        ExecutorService pool= Executors.newFixedThreadPool(10);\n\n        for (int i=0;i&lt;10;i++){\n\n\n            pool.execute(runnable);\n        }\n        }\n</code></pre>\n"},{"tags":["java","list","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668032430,"creation_date":1668031723,"answer_id":74381931,"question_id":74380294,"body_markdown":"While using Collector [`toMap()`][1] you need to provide at least two arguments:\r\n\r\n * *keyMapper* - a function generating a *Key* from the stream element;\r\n * *valueMapper* - a function that produces a *Value* from the stream element.\r\n\r\nAnd there are overloaded versions which allows you to specify *mergeFunction* and *mapFactory*. A *mergeFunction* would be useful if `productKeyList` can contain duplicates, and consequently there would be more than one element producing the identical *key*.\r\n\r\nThe call `findProductKey()` should be done in stream (before the collector). You can place into a `map()` operation. Then filter out empty optionals, extract the values, and apply `collect()`.\r\n\r\n```\r\nList&lt;ProductKey&gt; productKeyList = // initilizing the list\r\n        \r\nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\r\n        \r\nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\r\n    .map(productKey -&gt;\r\n        findProductKey(productKey.getProductCode(), productKeyList)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\r\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\r\n    ));\r\n```\r\n\r\nIn order to set the `ProductDetail` from the Map to the `Product` with the corresponding product key `Iterable.forEach()` would be more suitable than a stream.\r\n\r\n```\r\nList&lt;Product&gt; products = service.readProducts();\r\n    \r\nproducts.forEach(product -&gt; \r\n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\r\n);\r\n```\r\n\r\nRegarding the `null` Values, they can be easily eliminated from any Map:\r\n\r\n```\r\nproductDetailMap.values().removeIf(Objects::isNull);\r\n```\r\n\r\n**Note** that if a particular product key is not present is the Map, there&#39;s little you can do. The call `get()` would return `null` and `productDetail` property would remain unchanged.\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>While using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> you need to provide at least two arguments:</p>\n<ul>\n<li><em>keyMapper</em> - a function generating a <em>Key</em> from the stream element;</li>\n<li><em>valueMapper</em> - a function that produces a <em>Value</em> from the stream element.</li>\n</ul>\n<p>And there are overloaded versions which allows you to specify <em>mergeFunction</em> and <em>mapFactory</em>. A <em>mergeFunction</em> would be useful if <code>productKeyList</code> can contain duplicates, and consequently there would be more than one element producing the identical <em>key</em>.</p>\n<p>The call <code>findProductKey()</code> should be done in stream (before the collector). You can place into a <code>map()</code> operation. Then filter out empty optionals, extract the values, and apply <code>collect()</code>.</p>\n<pre><code>List&lt;ProductKey&gt; productKeyList = // initilizing the list\n        \nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\n        \nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\n    .map(productKey -&gt;\n        findProductKey(productKey.getProductCode(), productKeyList)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toMap(\n        Function.identity(),\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\n    ));\n</code></pre>\n<p>In order to set the <code>ProductDetail</code> from the Map to the <code>Product</code> with the corresponding product key <code>Iterable.forEach()</code> would be more suitable than a stream.</p>\n<pre><code>List&lt;Product&gt; products = service.readProducts();\n    \nproducts.forEach(product -&gt; \n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\n);\n</code></pre>\n<p>Regarding the <code>null</code> Values, they can be easily eliminated from any Map:</p>\n<pre><code>productDetailMap.values().removeIf(Objects::isNull);\n</code></pre>\n<p><strong>Note</strong> that if a particular product key is not present is the Map, there's little you can do. The call <code>get()</code> would return <code>null</code> and <code>productDetail</code> property would remain unchanged.</p>\n"}],"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74381931,"answer_count":1,"score":0,"last_activity_date":1668032430,"creation_date":1668021610,"question_id":74380294,"body_markdown":"I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.\r\n\r\n```java\r\n\r\n                    @Data\r\n                    static class ProductKey{\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productCode;\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productDetailCode;\r\n                    }\r\n                   \r\n                    @Data\r\n                    class Product {\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductKey productKey;\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductDetail productDetail;\r\n                   }\r\n\r\n                   @Data\r\n                   class ProductDetail{\r\n                     @EqualsAndHashCode.Include\r\n                     private Long productCode;\r\n                     private String description;\r\n                     private BigDecimal price;\r\n                     private String category;\r\n                  }\r\n\r\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \r\n                    List&lt;ProductKey&gt; productKeys){\r\n            \r\n                   return  productKeys.stream().\r\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\r\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\r\n                  }\r\n\r\n\r\n```\r\nHere is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.\r\n\r\nHere is my attempt:\r\n\r\n``` java\r\n\r\n           public static void main(String[] args) {\r\n          //Service that uses database configuration to obtain ProductDetails based on \r\n          //ProductCodes\r\n            \r\n            ProductDetailLookUpService service = ....\r\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\r\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \r\n       55009L});\r\n             List&lt;ProductDetail&gt; productDetailList = \r\n                                   service.getProductDetailList(productCodes);\r\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \r\n                                         \r\n                          mapProductCodeToProductDetail(productDetailList);\r\n           \r\n            // At start Product does not have ProductDetails\r\n            // Products may share ProductDetails\r\n            // Products which do not yet have ProductDetails defined will return a null \r\n            // value in the productDetailMap\r\n           \r\n               Map&lt;ProductKey, ProductDetail&gt; map = \r\n                    productKeyList.stream().collect(toMap(productKey -&gt; {\r\n                \r\n                Optional&lt;ProductKey&gt; optKey = \r\n                                     findProductKey(productKey.getProductCode(),            \r\n                                                                        productKeyList)\r\n                           optKey.isEmpty()? null :\r\n                                                    optKey.get(), \r\n                                   productDetailMap.get(productKey.getProductCode());\r\n        });\r\n    }\r\n\r\n\r\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \r\n         productCode, List&lt;ProductKey&gt; productKeys){\r\n         return  productKeys.stream().\r\n                filter(productKey -&gt; \r\n                   productCode.equals(productKey.getProductCode()))\r\n                .takeWhile(productKey -&gt; productKey != \r\n              null).findFirst();\r\n    }\r\n\r\n```\r\nI want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;\r\n\r\n```java\r\n\r\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\r\n          \r\n       productKeyList.stream().forEach( productKey -&gt; {\r\n            Optional&lt;ProductKey&gt; optKey = \r\n                      findProductKey(productKey.getProductCode(), \r\n                                                     productKeyList);\r\n            if(optKey.isPresent()) {\r\n                hashMap.put(optKey.get(), \r\n                                productDetailMap.get(optKey.get()));\r\n            }\r\n        });\r\n\r\n```\r\nFinally I want to use the map to add the ProductDetail to Product like this:\r\n\r\n```java\r\n\r\n   \r\n\r\n    List&lt;Product&gt; products = service.readProducts();\r\n       \r\n      products.stream().map( product -&gt; {                                     \r\n       \r\n      product.setProductDetail(hashMap.get(product.getProductKey()));\r\n                        return product;\r\n       }        \r\n     ).collect(toList());\r\n\r\n\r\n```","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n                    @Data\n                    static class ProductKey{\n                      @EqualsAndHashCode.Include\n                      private Long productCode;\n                      @EqualsAndHashCode.Include\n                      private Long productDetailCode;\n                    }\n                   \n                    @Data\n                    class Product {\n                      @EqualsAndHashCode.Include\n                      private ProductKey productKey;\n                      @EqualsAndHashCode.Include\n                      private ProductDetail productDetail;\n                   }\n\n                   @Data\n                   class ProductDetail{\n                     @EqualsAndHashCode.Include\n                     private Long productCode;\n                     private String description;\n                     private BigDecimal price;\n                     private String category;\n                  }\n\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \n                    List&lt;ProductKey&gt; productKeys){\n            \n                   return  productKeys.stream().\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\n                  }\n\n\n</code></pre>\n<p>Here is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.</p>\n<p>Here is my attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n           public static void main(String[] args) {\n          //Service that uses database configuration to obtain ProductDetails based on \n          //ProductCodes\n            \n            ProductDetailLookUpService service = ....\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \n       55009L});\n             List&lt;ProductDetail&gt; productDetailList = \n                                   service.getProductDetailList(productCodes);\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \n                                         \n                          mapProductCodeToProductDetail(productDetailList);\n           \n            // At start Product does not have ProductDetails\n            // Products may share ProductDetails\n            // Products which do not yet have ProductDetails defined will return a null \n            // value in the productDetailMap\n           \n               Map&lt;ProductKey, ProductDetail&gt; map = \n                    productKeyList.stream().collect(toMap(productKey -&gt; {\n                \n                Optional&lt;ProductKey&gt; optKey = \n                                     findProductKey(productKey.getProductCode(),            \n                                                                        productKeyList)\n                           optKey.isEmpty()? null :\n                                                    optKey.get(), \n                                   productDetailMap.get(productKey.getProductCode());\n        });\n    }\n\n\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \n         productCode, List&lt;ProductKey&gt; productKeys){\n         return  productKeys.stream().\n                filter(productKey -&gt; \n                   productCode.equals(productKey.getProductCode()))\n                .takeWhile(productKey -&gt; productKey != \n              null).findFirst();\n    }\n\n</code></pre>\n<p>I want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\n          \n       productKeyList.stream().forEach( productKey -&gt; {\n            Optional&lt;ProductKey&gt; optKey = \n                      findProductKey(productKey.getProductCode(), \n                                                     productKeyList);\n            if(optKey.isPresent()) {\n                hashMap.put(optKey.get(), \n                                productDetailMap.get(optKey.get()));\n            }\n        });\n\n</code></pre>\n<p>Finally I want to use the map to add the ProductDetail to Product like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   \n\n    List&lt;Product&gt; products = service.readProducts();\n       \n      products.stream().map( product -&gt; {                                     \n       \n      product.setProductDetail(hashMap.get(product.getProductKey()));\n                        return product;\n       }        \n     ).collect(toList());\n\n\n</code></pre>\n"},{"tags":["java","html","render","doc","aspose"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1668028817,"post_id":74381421,"comment_id":131311451,"body_markdown":"Why are you returning the html in a textarea?  They don&#39;t render the html.","body":"Why are you returning the html in a textarea?  They don&#39;t render the html."},{"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"score":0,"creation_date":1668058844,"post_id":74381421,"comment_id":131316358,"body_markdown":"The question is not actually related to Aspose.Words. You put HTML into `&lt;textarea&gt;` control, which do not actually render HTML, but is multiline text input control:\nhttps://www.w3schools.com/tags/tag_textarea.asp Try using `&lt;embed&gt;` or `&lt;iframe&gt;` controls.","body":"The question is not actually related to Aspose.Words. You put HTML into <code>&lt;textarea&gt;</code> control, which do not actually render HTML, but is multiline text input control: <a href=\"https://www.w3schools.com/tags/tag_textarea.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/tag_textarea.asp</a> Try using <code>&lt;embed&gt;</code> or <code>&lt;iframe&gt;</code> controls."}],"owner":{"account_id":26882704,"reputation":1,"user_id":20462848,"display_name":"Luize Casaretti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668032303,"creation_date":1668028194,"question_id":74381421,"body_markdown":"I&#39;m trying to render a doc in browse, I used aspose.words to a ByteArrayInputStream and saved it as HTML_FIXED.\r\nBut I get html instead of an MS WORD layout\r\n\r\n**1) JAVA CONTROLLER**\r\n```\r\npublic static final String EXAMPLE_HTML = &quot;exHtmlFile&quot;;\r\n...\r\n@GetMapping(value = &quot;/example/{code}/{version}&quot;)\r\n public String example(@PathVariable(&quot;code&quot;) final Long code, @PathVariable(&quot;version&quot;) final Long version, final Model model) {\r\n      String viewExampleHtml = exampleService.viewExample(code, version);\r\n\t  model.addAttribute(ModelAttributes.EXAMPLE_HTML, viewExampleHtml );\r\n\t  model.addAttribute(ModelAttributes.URL_RAIZ, url_raiz);\r\n\r\n      return Views.VIEW_EXAMPLE;\r\n    }\r\n\r\n```\r\n\r\n**2) JAVA SERVICE**\r\n\r\n```\r\npublic String viewExample(Long code, Long version)\r\n {\r\n  DownloadResponse response = getResponseExample(code, version);\r\n  //response.getContent() type is ByteArrayInputStream\r\n\r\n  com.aspose.words.Document document = new com.aspose.words.Document(response.getContent());\r\n  String filePath = fileServerPath + SEPARATOR + response.getFileName() + &quot;.html&quot;;\r\n  //this filePath is correct\r\n  document.save(filePath, SaveFormat.HTML_FIXED);\r\n\r\n   FileInputStream entrada = new FileInputStream(filePath);\r\n   InputStreamReader entradaFormatada = new InputStreamReader(entrada);\r\n   BufferedReader entradaString = new BufferedReader(entradaFormatada);\r\n\r\n  String linha = entradaString.readLine();\r\n  String html = new String(&quot;&quot;);\r\n  while (linha != null) {\r\n\thtml += linha;\r\n\tlinha = entradaString.readLine();\r\n  }\r\n  entradaString.close();\r\n\t\t\t\r\n  new File(filePath).delete();\r\n\t\t\t\r\n  html = removeBackgroungImageFromHtml(html);\r\n\t\t\t\r\n\t\t\t\r\n  return html;\r\n}\r\n\r\n```\r\n**3)HTML**\r\n\r\n\r\n```\r\n&lt;div class=&quot;row&quot;&gt;\r\n &lt;div class=&quot;col mb-2&quot;&gt;\r\n   &lt;textarea name=&quot;exHtml&quot; id=&quot;exHtml&quot; rows=&quot;10&quot; cols=&quot;80&quot; th:text=&quot;${exHtmlFile}&quot;&gt;&lt;/textarea&gt;\r\n &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XLE6A.png","title":"How to render word .doc in browse - ASPOSE","body":"<p>I'm trying to render a doc in browse, I used aspose.words to a ByteArrayInputStream and saved it as HTML_FIXED.\nBut I get html instead of an MS WORD layout</p>\n<p><strong>1) JAVA CONTROLLER</strong></p>\n<pre><code>public static final String EXAMPLE_HTML = &quot;exHtmlFile&quot;;\n...\n@GetMapping(value = &quot;/example/{code}/{version}&quot;)\n public String example(@PathVariable(&quot;code&quot;) final Long code, @PathVariable(&quot;version&quot;) final Long version, final Model model) {\n      String viewExampleHtml = exampleService.viewExample(code, version);\n      model.addAttribute(ModelAttributes.EXAMPLE_HTML, viewExampleHtml );\n      model.addAttribute(ModelAttributes.URL_RAIZ, url_raiz);\n\n      return Views.VIEW_EXAMPLE;\n    }\n\n</code></pre>\n<p><strong>2) JAVA SERVICE</strong></p>\n<pre><code>public String viewExample(Long code, Long version)\n {\n  DownloadResponse response = getResponseExample(code, version);\n  //response.getContent() type is ByteArrayInputStream\n\n  com.aspose.words.Document document = new com.aspose.words.Document(response.getContent());\n  String filePath = fileServerPath + SEPARATOR + response.getFileName() + &quot;.html&quot;;\n  //this filePath is correct\n  document.save(filePath, SaveFormat.HTML_FIXED);\n\n   FileInputStream entrada = new FileInputStream(filePath);\n   InputStreamReader entradaFormatada = new InputStreamReader(entrada);\n   BufferedReader entradaString = new BufferedReader(entradaFormatada);\n\n  String linha = entradaString.readLine();\n  String html = new String(&quot;&quot;);\n  while (linha != null) {\n    html += linha;\n    linha = entradaString.readLine();\n  }\n  entradaString.close();\n            \n  new File(filePath).delete();\n            \n  html = removeBackgroungImageFromHtml(html);\n            \n            \n  return html;\n}\n\n</code></pre>\n<p><strong>3)HTML</strong></p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n &lt;div class=&quot;col mb-2&quot;&gt;\n   &lt;textarea name=&quot;exHtml&quot; id=&quot;exHtml&quot; rows=&quot;10&quot; cols=&quot;80&quot; th:text=&quot;${exHtmlFile}&quot;&gt;&lt;/textarea&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/XLE6A.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","unsafe"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1580915781,"post_id":60075337,"comment_id":106256099,"body_markdown":"Instead of trying to hack the String class, why not use `s.codePoints().allMatch(c -&gt; c &lt; 256)`?","body":"Instead of trying to hack the String class, why not use <code>s.codePoints().allMatch(c -&gt; c &lt; 256)</code>?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":1,"creation_date":1580936878,"post_id":60075337,"comment_id":106266296,"body_markdown":"@VGR I suppose `String.codePoints()` has O(n) complexity e.g. the longer String we have the more code points must be checked in general case. And unlike `String.codePoints()` `String.isLatin1()` has O(1) complexity.","body":"@VGR I suppose <code>String.codePoints()</code> has O(n) complexity e.g. the longer String we have the more code points must be checked in general case. And unlike <code>String.codePoints()</code> <code>String.isLatin1()</code> has O(1) complexity."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1580937244,"post_id":60075337,"comment_id":106266444,"body_markdown":"Comparing a series of 32-bit values to a constant is a pretty fast operation.  Are you sure this is something that needs to be optimized?","body":"Comparing a series of 32-bit values to a constant is a pretty fast operation.  Are you sure this is something that needs to be optimized?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1580991554,"post_id":60075337,"comment_id":106284892,"body_markdown":"@VGR Comparing is executed with Stream API.","body":"@VGR Comparing is executed with Stream API."}],"answers":[{"comments":[{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1580978614,"post_id":60076533,"comment_id":106277688,"body_markdown":"You are right, it turned out that in this case particular functionality must be added to `SharedSecrets`.","body":"You are right, it turned out that in this case particular functionality must be added to <code>SharedSecrets</code>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1580940112,"creation_date":1580908039,"answer_id":60076533,"question_id":60075337,"body_markdown":"It is not going to work.  The shared secrets mechanism provides a way to *specific* package private methods.  If you look at the source code, you will see that there is an &quot;access&quot; interface that exposes a fixed set of methods.  The shared secrets interface for the `java.lang` package exposes some methods for getting a string&#39;s internal byte array without copying it.  But it doesn&#39;t provide a method that does what you want.\r\n\r\nFurthermore, the `isLatin1()` method that you are trying to access is `private` rather than package private, so it cannot be exposed anyway ... unless you change that.\r\n\r\nIn short, you can&#39;t use `SharedSecrets` for this unless you are prepared to *modify the OpenJDK source code and build your own JVM*.  It might be acceptable to do that as an experiment, but there are lots of red flags for production use.\r\n\r\nUse reflection.  It is more practical ... modulo that you risk causing future portability problems for your application.  (Consider that the internal representation of `String` have changed 2 or 3 times *so far* since Java 1.1.  It could happen again.)","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>It is not going to work.  The shared secrets mechanism provides a way to <em>specific</em> package private methods.  If you look at the source code, you will see that there is an \"access\" interface that exposes a fixed set of methods.  The shared secrets interface for the <code>java.lang</code> package exposes some methods for getting a string's internal byte array without copying it.  But it doesn't provide a method that does what you want.</p>\n\n<p>Furthermore, the <code>isLatin1()</code> method that you are trying to access is <code>private</code> rather than package private, so it cannot be exposed anyway ... unless you change that.</p>\n\n<p>In short, you can't use <code>SharedSecrets</code> for this unless you are prepared to <em>modify the OpenJDK source code and build your own JVM</em>.  It might be acceptable to do that as an experiment, but there are lots of red flags for production use.</p>\n\n<p>Use reflection.  It is more practical ... modulo that you risk causing future portability problems for your application.  (Consider that the internal representation of <code>String</code> have changed 2 or 3 times <em>so far</em> since Java 1.1.  It could happen again.)</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668031799,"creation_date":1667844490,"answer_id":74351019,"question_id":60075337,"body_markdown":"At last replace old reflect solution to transformed of @VGR\r\n\r\n    static boolean isLatin(String s) {\r\n        return s.codePoints().allMatch(ch -&gt; (ch &amp; 0xFF00) == 0);\r\n    }\r\n","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>At last replace old reflect solution to transformed of @VGR</p>\n<pre><code>static boolean isLatin(String s) {\n    return s.codePoints().allMatch(ch -&gt; (ch &amp; 0xFF00) == 0);\n}\n</code></pre>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60076533,"answer_count":2,"score":1,"last_activity_date":1668031799,"creation_date":1580903924,"question_id":60075337,"body_markdown":"I&#39;m trying to access `String.isLatin1()` which is declared (as of JDK 14) as \r\n```java\r\nboolean isLatin1() {\r\n    return COMPACT_STRINGS &amp;&amp; coder == LATIN1;\r\n}\r\n```\r\nI can do this with reflection\r\n```java\r\nMethod isLatin1 = String.class.getDeclaredMethod(&quot;isLatin1&quot;);\r\nisLatin1.setAccessible(true);\r\nisLatin1.invoke(&quot;&quot;); //true\r\n```\r\nbut I wonder whether I can do the same with `SharedSecrets`?\r\n\r\nI&#39;ve tried\r\n```java\r\nSharedSecrets.getJavaLangAccess().getDeclaredPublicMethods(String.class, &quot;isLatin1&quot;);\r\n```\r\nbut for obvious reason it returns an empty list. Also I&#39;ve tried to utilize `jdk.internal.access.JavaLangReflectAccess` available from `SharedSecredts`, but it doesn&#39;t have any suitable method.","title":"Is there a way to access package-private String.isLatin1() from java.util package using jdk.internal.access.SharedSecrets?","body":"<p>I'm trying to access <code>String.isLatin1()</code> which is declared (as of JDK 14) as </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>boolean isLatin1() {\n    return COMPACT_STRINGS &amp;&amp; coder == LATIN1;\n}\n</code></pre>\n\n<p>I can do this with reflection</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Method isLatin1 = String.class.getDeclaredMethod(\"isLatin1\");\nisLatin1.setAccessible(true);\nisLatin1.invoke(\"\"); //true\n</code></pre>\n\n<p>but I wonder whether I can do the same with <code>SharedSecrets</code>?</p>\n\n<p>I've tried</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>SharedSecrets.getJavaLangAccess().getDeclaredPublicMethods(String.class, \"isLatin1\");\n</code></pre>\n\n<p>but for obvious reason it returns an empty list. Also I've tried to utilize <code>jdk.internal.access.JavaLangReflectAccess</code> available from <code>SharedSecredts</code>, but it doesn't have any suitable method.</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668032467,"post_id":74381831,"comment_id":131312432,"body_markdown":"Thanks a lot for these wonderful explanations, voted up (but cannot I need 4 point). From the documentation, I see that &gt;&gt;&gt;","body":"Thanks a lot for these wonderful explanations, voted up (but cannot I need 4 point). From the documentation, I see that &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668032493,"post_id":74381831,"comment_id":131312435,"body_markdown":"**1.** whenever I run `docker-compose up`, only `docker-compose.override.yml` is executed if both of them are present. Right?","body":"<b>1.</b> whenever I run <code>docker-compose up</code>, only <code>docker-compose.override.yml</code> is executed if both of them are present. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668032585,"post_id":74381831,"comment_id":131312455,"body_markdown":"**2.** And when I need to execute production one(s), but not `docker-compose.override.yml`, then I should use `docker compose -f docker-compose.yml up -d` or `docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d`. Right?","body":"<b>2.</b> And when I need to execute production one(s), but not <code>docker-compose.override.yml</code>, then I should use <code>docker compose -f docker-compose.yml up -d</code> or <code>docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d</code>. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668033156,"post_id":74381831,"comment_id":131312573,"body_markdown":"Any confirmation please?","body":"Any confirmation please?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1668074492,"post_id":74381831,"comment_id":131320696,"body_markdown":"Just don&#39;t copy the override file to your production environment.","body":"Just don&#39;t copy the override file to your production environment."}],"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668030967,"creation_date":1668030967,"answer_id":74381831,"question_id":74381498,"body_markdown":"Name the developer-oriented file `docker-compose.override.yml`.  If this file is present, Compose will use its settings to augment and override the settings in the main `docker-compose.yml`.  See [Multiple Compose files](https://docs.docker.com/compose/extends/#multiple-compose-files) in the Docker documentation for more details.\r\n\r\nTypically if you have this file, you&#39;ll do pre-production testing and deployment using only the main `docker-compose.yml` file but not the override file.  This works better if the settings in the override file are purely additive.\r\n\r\nYou might have a production-oriented Compose file like, for example,\r\n\r\n```yaml\r\n# docker-compose.yml\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  app:\r\n    image: registry.example.com/app:${APP_TAG:-latest}\r\n    environment: [MYSQL_HOST, MYSQL_DATABASE MYSQL_USER, MYSQL_PASSWORD]\r\n```\r\n\r\nwhere most of the interesting settings are injected from host environment variables, and expecting to interface with an external database.  In development, though, you might want to build this image from source and install a database as part of the setup\r\n\r\n```yaml\r\nversion: &#39;3.8&#39;\r\nservices:\r\n  app:\r\n    build: .\r\n    environment:\r\n      MYSQL_HOST: mysql\r\n      ET: cetera\r\n  mysql:\r\n    image: mysql\r\n    volumes: [&#39;mysql:/var/lib/mysql/data&#39;]\r\n    environment: {...}\r\nvolumes:\r\n  mysql:\r\n```\r\n\r\nThe settings from the two files are combined, so if you\r\n\r\n```sh\r\nAPP_TAG=20221109 docker-compose build\r\n```\r\n\r\nyou&#39;ll wind up with an image name `registry.example.com/app:20221109`, for example.","title":"Development version of docker-compose.yml in Spring Boot?","body":"<p>Name the developer-oriented file <code>docker-compose.override.yml</code>.  If this file is present, Compose will use its settings to augment and override the settings in the main <code>docker-compose.yml</code>.  See <a href=\"https://docs.docker.com/compose/extends/#multiple-compose-files\" rel=\"nofollow noreferrer\">Multiple Compose files</a> in the Docker documentation for more details.</p>\n<p>Typically if you have this file, you'll do pre-production testing and deployment using only the main <code>docker-compose.yml</code> file but not the override file.  This works better if the settings in the override file are purely additive.</p>\n<p>You might have a production-oriented Compose file like, for example,</p>\n<pre class=\"lang-yaml prettyprint-override\"><code># docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    image: registry.example.com/app:${APP_TAG:-latest}\n    environment: [MYSQL_HOST, MYSQL_DATABASE MYSQL_USER, MYSQL_PASSWORD]\n</code></pre>\n<p>where most of the interesting settings are injected from host environment variables, and expecting to interface with an external database.  In development, though, you might want to build this image from source and install a database as part of the setup</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3.8'\nservices:\n  app:\n    build: .\n    environment:\n      MYSQL_HOST: mysql\n      ET: cetera\n  mysql:\n    image: mysql\n    volumes: ['mysql:/var/lib/mysql/data']\n    environment: {...}\nvolumes:\n  mysql:\n</code></pre>\n<p>The settings from the two files are combined, so if you</p>\n<pre class=\"lang-bash prettyprint-override\"><code>APP_TAG=20221109 docker-compose build\n</code></pre>\n<p>you'll wind up with an image name <code>registry.example.com/app:20221109</code>, for example.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668030967,"creation_date":1668028739,"question_id":74381498,"body_markdown":"In my Spring Boot app, I have a `docker-compose.yml` file that is used Dockerizing my app with `Dockerfile`. On the other hand, for the local development, other developers would also need a `docker-compose.yml` file for creating MySQL on a local Docker environment. \r\n\r\nFor this kind of general situations, what is the proper way to provide the configuration for local development besides Dockerizing? I look but there seems to be no `docker-compose-dev.yml` file usage as far as I see. So, what should I do? Where keep my compose config? I think I can use any whatever file name but in this case should it be a differennt location than the default one? ","title":"Development version of docker-compose.yml in Spring Boot?","body":"<p>In my Spring Boot app, I have a <code>docker-compose.yml</code> file that is used Dockerizing my app with <code>Dockerfile</code>. On the other hand, for the local development, other developers would also need a <code>docker-compose.yml</code> file for creating MySQL on a local Docker environment.</p>\n<p>For this kind of general situations, what is the proper way to provide the configuration for local development besides Dockerizing? I look but there seems to be no <code>docker-compose-dev.yml</code> file usage as far as I see. So, what should I do? Where keep my compose config? I think I can use any whatever file name but in this case should it be a differennt location than the default one?</p>\n"},{"tags":["java","audio-player"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1668030551,"post_id":74381734,"comment_id":131311969,"body_markdown":"since you mention &quot;end of the file&quot;: did you make triply-sure that the file itself doesn&#39;t have a few ms of fade in/out or silence at the start and/or end?","body":"since you mention &quot;end of the file&quot;: did you make triply-sure that the file itself doesn&#39;t have a few ms of fade in/out or silence at the start and/or end?"},{"owner":{"account_id":15171271,"reputation":21,"user_id":10947224,"display_name":"Asher Coates"},"score":0,"creation_date":1668032561,"post_id":74381734,"comment_id":131312450,"body_markdown":"Yes I thought of that just before posting and checked. The file ends with the waves way up.","body":"Yes I thought of that just before posting and checked. The file ends with the waves way up."}],"owner":{"account_id":15171271,"reputation":21,"user_id":10947224,"display_name":"Asher Coates"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668030302,"creation_date":1668030302,"question_id":74381734,"body_markdown":"I have written a function in Java that plays a .wav file and has an option to loop that clip infinitely. For some songs, I want to loop from a specific portion in the song for an uninterrupted audio file. This code nearly achieves that. However, there is a very brief pause (maybe 2-3 tenths of a second) between the end of the file and the beginning of the loop. The thread is not sleeping so I&#39;m not sure why the pause in music is there. How can I remove this pause?\r\n\r\n\r\n```\r\n    public synchronized void playSound(final String url, boolean repeat, float volume, double loopAt) {\r\n        Thread t1 = new Thread(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    Clip clip = AudioSystem.getClip();\r\n                    AudioInputStream inputStream = AudioSystem.getAudioInputStream(\r\n                            Main.class.getResourceAsStream(&quot;/&quot; + url));\r\n                    clip.open(inputStream);\r\n                    clip.setMicrosecondPosition((long)loopAt*1000 *1000);\r\n                    clip.setLoopPoints(clip.getFramePosition(), -1);\r\n                    clip.setMicrosecondPosition(0);\r\n                    currentTrack = clip;\r\n                    Music.this.setVolume(volume);\r\n                    if (repeat == true)\r\n                        clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n                    else\r\n                        clip.start();\r\n                } catch (Exception e) {\r\n                    System.err.println(e.getMessage());\r\n                }\r\n            }\r\n        });\r\n        t1.start();\r\n```","title":"Remove small pause between loops in audio clip in Java","body":"<p>I have written a function in Java that plays a .wav file and has an option to loop that clip infinitely. For some songs, I want to loop from a specific portion in the song for an uninterrupted audio file. This code nearly achieves that. However, there is a very brief pause (maybe 2-3 tenths of a second) between the end of the file and the beginning of the loop. The thread is not sleeping so I'm not sure why the pause in music is there. How can I remove this pause?</p>\n<pre><code>    public synchronized void playSound(final String url, boolean repeat, float volume, double loopAt) {\n        Thread t1 = new Thread(new Runnable() {\n            public void run() {\n                try {\n                    Clip clip = AudioSystem.getClip();\n                    AudioInputStream inputStream = AudioSystem.getAudioInputStream(\n                            Main.class.getResourceAsStream(&quot;/&quot; + url));\n                    clip.open(inputStream);\n                    clip.setMicrosecondPosition((long)loopAt*1000 *1000);\n                    clip.setLoopPoints(clip.getFramePosition(), -1);\n                    clip.setMicrosecondPosition(0);\n                    currentTrack = clip;\n                    Music.this.setVolume(volume);\n                    if (repeat == true)\n                        clip.loop(Clip.LOOP_CONTINUOUSLY);\n                    else\n                        clip.start();\n                } catch (Exception e) {\n                    System.err.println(e.getMessage());\n                }\n            }\n        });\n        t1.start();\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","mssql-jdbc","java-17"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1668020490,"post_id":74379860,"comment_id":131308892,"body_markdown":"Probably that is the default version where com.microsoft.sqlserver:mssql-jdbc  points to. \nThe driver should be backward compatible and for any version go to\nhttps://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc/10.2.1.jre17","body":"Probably that is the default version where com.microsoft.sqlserver:mssql-jdbc  points to.  The driver should be backward compatible and for any version go to <a href=\"https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc/10.2.1.jre17\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdb&zwnj;&#8203;c/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668029996,"creation_date":1668029996,"answer_id":74381695,"question_id":74379860,"body_markdown":"The minimum version of Java that Spring Boot 2.7 support is Java 8. For this reason the `jre8` dependency is used by default. In Spring Boot 3.0, which will require Java 17, the `jre17` dependency is used by default. If you&#39;re using Java 17 with Spring Boot 2.7, there&#39;s no problem with using the `jre17` dependency.\r\n\r\n&gt; Similarly, is there a problem with using the latest version of the driver, 11.2.1?\r\n\r\nThere shouldn&#39;t be a problem. Spring Boot 2.7 uses 10.2.x of the MSSQL driver because 10.2.x was the latest version that was available when Spring Boot 2.7 was released. Spring Boot&#39;s maintenance policy is such that a maintenance release of Spring Boot won&#39;t upgrade to a new minor or major version of a dependency. The soon-to-be-released Spring Boot 3.0 has upgraded to 11.2.x.\r\n","title":"Why does Spring Boot 2.7.5 use SQL Server JRE 8 driver?","body":"<p>The minimum version of Java that Spring Boot 2.7 support is Java 8. For this reason the <code>jre8</code> dependency is used by default. In Spring Boot 3.0, which will require Java 17, the <code>jre17</code> dependency is used by default. If you're using Java 17 with Spring Boot 2.7, there's no problem with using the <code>jre17</code> dependency.</p>\n<blockquote>\n<p>Similarly, is there a problem with using the latest version of the driver, 11.2.1?</p>\n</blockquote>\n<p>There shouldn't be a problem. Spring Boot 2.7 uses 10.2.x of the MSSQL driver because 10.2.x was the latest version that was available when Spring Boot 2.7 was released. Spring Boot's maintenance policy is such that a maintenance release of Spring Boot won't upgrade to a new minor or major version of a dependency. The soon-to-be-released Spring Boot 3.0 has upgraded to 11.2.x.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74381695,"answer_count":1,"score":1,"last_activity_date":1668029996,"creation_date":1668019214,"question_id":74379860,"body_markdown":"I have a gradle build file as follows:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.5&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;1.0&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    ext {\r\n    \tset(&#39;springBootAdminVersion&#39;, &quot;2.7.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;de.codecentric:spring-boot-admin-starter-client&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\r\n    \t}\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nAfter refreshing my gradle project, I see `mssql-jdbc-10.2.1.jre8.jar` in my classpath. My project is using Java 17 though. \r\n\r\nWhy doesn&#39;t Spring Boot import the Java 17 version, `mssql-jdbc-10.2.1.jre17.jar`, since I&#39;m using Java 17? Is there a problem using that jar? \r\n\r\nSimilarly, is there a problem with using the latest version of the driver, 11.2.1?\r\n\r\nPerhaps, only `mssql-jdbc-10.2.1.jre8.jar` is approved / fully tested to work with Spring Boot 2.7.5. If so, is it OK to use that jar when my project is using JRE 17?\r\n","title":"Why does Spring Boot 2.7.5 use SQL Server JRE 8 driver?","body":"<p>I have a gradle build file as follows:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.5'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springBootAdminVersion', &quot;2.7.4&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'de.codecentric:spring-boot-admin-starter-client'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;de.codecentric:spring-boot-admin-dependencies:${springBootAdminVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>After refreshing my gradle project, I see <code>mssql-jdbc-10.2.1.jre8.jar</code> in my classpath. My project is using Java 17 though.</p>\n<p>Why doesn't Spring Boot import the Java 17 version, <code>mssql-jdbc-10.2.1.jre17.jar</code>, since I'm using Java 17? Is there a problem using that jar?</p>\n<p>Similarly, is there a problem with using the latest version of the driver, 11.2.1?</p>\n<p>Perhaps, only <code>mssql-jdbc-10.2.1.jre8.jar</code> is approved / fully tested to work with Spring Boot 2.7.5. If so, is it OK to use that jar when my project is using JRE 17?</p>\n"},{"tags":["java","spring-boot","unit-testing","completable-future"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667861735,"post_id":74353791,"comment_id":131264740,"body_markdown":"Yes, the issue is likely a problem with `taskExecutor`.  Just use a real executor.","body":"Yes, the issue is likely a problem with <code>taskExecutor</code>.  Just use a real executor."}],"answers":[{"tags":[],"owner":{"account_id":26819783,"reputation":124,"user_id":20409306,"display_name":"Jared Renzullo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668029461,"creation_date":1667863670,"answer_id":74354128,"question_id":74353791,"body_markdown":"You are mocking the ThreadPoolTaskExecutor so when it&#39;s told to execute the task, it is not doing anything. The CompletableFuture will never be completed, which is why things are hanging. You would need to either use a real ThreadPoolTaskExecutor, or implement the `execute()` method in the mocked Executor so it calls the `run()` method on the runnable passed to it. I don&#39;t understand what you&#39;re actually trying to accomplish in this unit test though. There doesn&#39;t seem to be a point to using an Executor at all. Also there is an error in the code since you call join on a variable called `zipCode` which does not exist, the future is called `vip`.","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>You are mocking the ThreadPoolTaskExecutor so when it's told to execute the task, it is not doing anything. The CompletableFuture will never be completed, which is why things are hanging. You would need to either use a real ThreadPoolTaskExecutor, or implement the <code>execute()</code> method in the mocked Executor so it calls the <code>run()</code> method on the runnable passed to it. I don't understand what you're actually trying to accomplish in this unit test though. There doesn't seem to be a point to using an Executor at all. Also there is an error in the code since you call join on a variable called <code>zipCode</code> which does not exist, the future is called <code>vip</code>.</p>\n"},{"tags":[],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668029105,"creation_date":1668029105,"answer_id":74381563,"question_id":74353791,"body_markdown":"Like Jared mentioned, I built an executor, and it worked.\r\n```\r\n@Spy\r\nprivate ThreadPoolTaskExecutor spyTaskExecutor = new ThreadPoolTaskExecutor();\r\n\r\nspyTaskExecutor.setCorePoolSize(1);\r\nspyTaskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\nspyTaskExecutor.initialize();\r\n```","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>Like Jared mentioned, I built an executor, and it worked.</p>\n<pre><code>@Spy\nprivate ThreadPoolTaskExecutor spyTaskExecutor = new ThreadPoolTaskExecutor();\n\nspyTaskExecutor.setCorePoolSize(1);\nspyTaskExecutor.setWaitForTasksToCompleteOnShutdown(true);\nspyTaskExecutor.initialize();\n</code></pre>\n"}],"owner":{"account_id":12190203,"reputation":444,"user_id":8898054,"display_name":"Meilan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668029461,"creation_date":1667861077,"question_id":74353791,"body_markdown":"I&#39;m writing the unit tests for the old method, which uses `CompletableFuture.supplyAsync()`. The method is not complex, but my unit test keeps running and does not stop when executing the `join()`. I believe `supplyAsync()` should return the value very quickly. Is it because I set up the `taskExecutor` incorrectly? I&#39;m new to Spring and Java, so please advise anything. Thank you.\r\n\r\nCode:\r\n```\r\n  public Response getReponse(Request request) {\r\n    CompletableFuture&lt;String&gt; vip = CompletableFuture.supplyAsync(() -&gt; {\r\n      if(StringUtils.isBlank(request.getAddress())\r\n      ){ return &quot;&quot;;}\r\n        Request newRequest = Request.builder().\r\n                userId(request.getUserId()).\r\n                address(request.getZipCode()).\r\n                build();\r\n        Response newResult =  getResult(newRequest);\r\n        return (&quot;12345&quot;.equals(newResult.getZipCode()) + &quot;&quot;;\r\n    }, taskExecutor);\r\n    final Response result =  getResult(request);\r\n    result.setVIP(zipCode.join());\r\n    return result;\r\n  }\r\n```\r\n\r\nMy unit test:\r\n```\r\n  @Mock\r\n  private ThreadPoolTaskExecutor taskExecutor;\r\n\r\n  @Test\r\n  void getReponseTest(){\r\n    SomeService someService = new SomeService(Constants, logService, taskExecutor);\r\n    final SomeService someServiceSpy = Mockito.spy(someService);\r\n    final Request request = TestHelper.buildRequest();\r\n    final Response response = TestTestHelper.buildResponse();\r\n\r\n    doReturn(response).when(someServiceSpy).getResult(any(Request.class));\r\n\r\n    Response result = taxServiceSpy.getQuotationV2(taxRequest);\r\n\r\n    // assertion\r\n    ...\r\n  }\r\n```","title":"Why the CompletableFuture takes forever in my unit test?","body":"<p>I'm writing the unit tests for the old method, which uses <code>CompletableFuture.supplyAsync()</code>. The method is not complex, but my unit test keeps running and does not stop when executing the <code>join()</code>. I believe <code>supplyAsync()</code> should return the value very quickly. Is it because I set up the <code>taskExecutor</code> incorrectly? I'm new to Spring and Java, so please advise anything. Thank you.</p>\n<p>Code:</p>\n<pre><code>  public Response getReponse(Request request) {\n    CompletableFuture&lt;String&gt; vip = CompletableFuture.supplyAsync(() -&gt; {\n      if(StringUtils.isBlank(request.getAddress())\n      ){ return &quot;&quot;;}\n        Request newRequest = Request.builder().\n                userId(request.getUserId()).\n                address(request.getZipCode()).\n                build();\n        Response newResult =  getResult(newRequest);\n        return (&quot;12345&quot;.equals(newResult.getZipCode()) + &quot;&quot;;\n    }, taskExecutor);\n    final Response result =  getResult(request);\n    result.setVIP(zipCode.join());\n    return result;\n  }\n</code></pre>\n<p>My unit test:</p>\n<pre><code>  @Mock\n  private ThreadPoolTaskExecutor taskExecutor;\n\n  @Test\n  void getReponseTest(){\n    SomeService someService = new SomeService(Constants, logService, taskExecutor);\n    final SomeService someServiceSpy = Mockito.spy(someService);\n    final Request request = TestHelper.buildRequest();\n    final Response response = TestTestHelper.buildResponse();\n\n    doReturn(response).when(someServiceSpy).getResult(any(Request.class));\n\n    Response result = taxServiceSpy.getQuotationV2(taxRequest);\n\n    // assertion\n    ...\n  }\n</code></pre>\n"},{"tags":["java","json","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668027446,"post_id":74381216,"comment_id":131311049,"body_markdown":"by &quot;String,&quot; do you mean XML? An example of the desired output format would be helpful.","body":"by &quot;String,&quot; do you mean XML? An example of the desired output format would be helpful."},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668027576,"post_id":74381216,"comment_id":131311089,"body_markdown":"@JesseBarnum The format doesn&#39;t really matter as at the end of the day the string is going to be turned back into a java object by the client.","body":"@JesseBarnum The format doesn&#39;t really matter as at the end of the day the string is going to be turned back into a java object by the client."},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668027894,"post_id":74381216,"comment_id":131311183,"body_markdown":"if the format doesn&#39;t matter, then is it necessary to make it a String at all? Does it need to be BASE64 encoded? I&#39;d say just use an ObjectOutputStream and serialize the Java object to a byte[] array.","body":"if the format doesn&#39;t matter, then is it necessary to make it a String at all? Does it need to be BASE64 encoded? I&#39;d say just use an ObjectOutputStream and serialize the Java object to a byte[] array."},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668028251,"post_id":74381216,"comment_id":131311304,"body_markdown":"@JesseBarnum why do you think this idea was applied to the ccbs legacy code in the first place?. We were not able to serialize jaba objects into strings easily 10 years ago?","body":"@JesseBarnum why do you think this idea was applied to the ccbs legacy code in the first place?. We were not able to serialize jaba objects into strings easily 10 years ago?"},{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668028784,"post_id":74381216,"comment_id":131311440,"body_markdown":"@JesseBarnum I just mean legacy code","body":"@JesseBarnum I just mean legacy code"}],"answers":[{"comments":[{"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"score":0,"creation_date":1668028108,"post_id":74381366,"comment_id":131311255,"body_markdown":"How do you get there from a object?","body":"How do you get there from a object?"},{"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"score":0,"creation_date":1668031491,"post_id":74381366,"comment_id":131312203,"body_markdown":"Here originalInput is the Object.","body":"Here originalInput is the Object."}],"tags":[],"owner":{"account_id":1643695,"reputation":1322,"user_id":1515665,"accept_rate":75,"display_name":"Sajith Vijesekara"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668027896,"creation_date":1668027896,"answer_id":74381366,"question_id":74381216,"body_markdown":"\r\n\r\n    String encodedString =  Base64.getEncoder().encodeToString(originalInput.getBytes());\r\n\r\nThis way you can convert to a base 64 encoded string. Base64 comes with ***java.util*** package.  ","title":"How to serialize a java object into a string?","body":"<pre><code>String encodedString =  Base64.getEncoder().encodeToString(originalInput.getBytes());\n</code></pre>\n<p>This way you can convert to a base 64 encoded string. Base64 comes with <em><strong>java.util</strong></em> package.</p>\n"},{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668029256,"creation_date":1668029256,"answer_id":74381586,"question_id":74381216,"body_markdown":"This writes to an ObjectOutputStream, which then writes to a Base64 encoding converter, which then writes to a byte array, which is then converted to a String.\r\n\r\n    public class EncodeToBase64 {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tList&lt;?&gt; someObjectToSerialize = new ArrayList&lt;&gt;();\r\n    \t\tSystem.out.println( serializeToBase64( someObjectToSerialize ) );\r\n    \t}\r\n    \r\n    \tprivate static String serializeToBase64( Object someObjectToSerialize ) throws IOException {\r\n    \t\ttry( final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\t ObjectOutputStream objectOutputStream = new ObjectOutputStream( Base64.getEncoder().wrap( baos ) ) ) {\r\n    \t\t\tobjectOutputStream.writeObject( someObjectToSerialize );\r\n    \t\t\treturn baos.toString();\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to serialize a java object into a string?","body":"<p>This writes to an ObjectOutputStream, which then writes to a Base64 encoding converter, which then writes to a byte array, which is then converted to a String.</p>\n<pre><code>public class EncodeToBase64 {\n    public static void main(String[] args) throws Exception {\n        List&lt;?&gt; someObjectToSerialize = new ArrayList&lt;&gt;();\n        System.out.println( serializeToBase64( someObjectToSerialize ) );\n    }\n\n    private static String serializeToBase64( Object someObjectToSerialize ) throws IOException {\n        try( final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n             ObjectOutputStream objectOutputStream = new ObjectOutputStream( Base64.getEncoder().wrap( baos ) ) ) {\n            objectOutputStream.writeObject( someObjectToSerialize );\n            return baos.toString();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10734227,"reputation":393,"user_id":7899320,"display_name":"Fernando"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74381586,"answer_count":2,"score":0,"last_activity_date":1668029256,"creation_date":1668026926,"question_id":74381216,"body_markdown":"I am working on the migration of a legacy API to microservice. The legacy API is encoding a java object into a base64 String. The following code is used:\r\n\r\n    public String serialize() throws Exception {\r\n        String mementoXml = null;\r\n        Document document = DocumentHelper.createDocument();\r\n        Element dictionary = document.addElement(&quot;Dictionary&quot;);\r\n        dictionary.add(this.addChildren());\r\n        StringWriter sw = new StringWriter();\r\n        OutputFormat format = OutputFormat.createPrettyPrint();\r\n        format.setIndent(&quot; &quot;);\r\n        format.setTrimText(false);\r\n        XMLWriter writer = new XMLWriter(sw, format);\r\n\r\n        try {\r\n            writer.write(document);\r\n            writer.flush();\r\n        }\r\n        catch (Exception var8) {\r\n\r\n        }\r\n        mementoXml = sw.toString().replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;, &quot;&quot;);\r\n        return encodeString(mementoXml);\r\n    }\r\n    \r\n    public Element addChildren(){\r\n        Element response DocumentHelper.createElement(&quot;response&quot;);\r\n        Element el1 = response.addElement(&quot;element&quot;);\r\n        el1.setText(this.javaObject.getValue());\r\n        return response;\r\n    }\r\n\r\nThe method for encoding is:\r\n\r\n    public String encodeString(String in) throws EncoderException {\r\n        CompressedBase64Impl impl = new CompressedBase64Impl();\r\n        String output = null;\r\n        output = impl.encodeBytes(in.getBytes());\r\n        return output;\r\n    }\r\n\r\nWhat would be the modernized way in Spring boot to encode an object into a base64String. Is there something like `JSONWriter`?","title":"How to serialize a java object into a string?","body":"<p>I am working on the migration of a legacy API to microservice. The legacy API is encoding a java object into a base64 String. The following code is used:</p>\n<pre><code>public String serialize() throws Exception {\n    String mementoXml = null;\n    Document document = DocumentHelper.createDocument();\n    Element dictionary = document.addElement(&quot;Dictionary&quot;);\n    dictionary.add(this.addChildren());\n    StringWriter sw = new StringWriter();\n    OutputFormat format = OutputFormat.createPrettyPrint();\n    format.setIndent(&quot; &quot;);\n    format.setTrimText(false);\n    XMLWriter writer = new XMLWriter(sw, format);\n\n    try {\n        writer.write(document);\n        writer.flush();\n    }\n    catch (Exception var8) {\n\n    }\n    mementoXml = sw.toString().replace(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;, &quot;&quot;);\n    return encodeString(mementoXml);\n}\n\npublic Element addChildren(){\n    Element response DocumentHelper.createElement(&quot;response&quot;);\n    Element el1 = response.addElement(&quot;element&quot;);\n    el1.setText(this.javaObject.getValue());\n    return response;\n}\n</code></pre>\n<p>The method for encoding is:</p>\n<pre><code>public String encodeString(String in) throws EncoderException {\n    CompressedBase64Impl impl = new CompressedBase64Impl();\n    String output = null;\n    output = impl.encodeBytes(in.getBytes());\n    return output;\n}\n</code></pre>\n<p>What would be the modernized way in Spring boot to encode an object into a base64String. Is there something like <code>JSONWriter</code>?</p>\n"},{"tags":["java","spring","spring-data-jpa","entitymanager"],"comments":[{"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"score":0,"creation_date":1414494157,"post_id":26606608,"comment_id":41825620,"body_markdown":"Please post the full stacktraces including caused by.","body":"Please post the full stacktraces including caused by."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1414494211,"post_id":26606608,"comment_id":41825645,"body_markdown":"Don&#39;t use `@Autowired` use `@PersistenceContext` instead.","body":"Don&#39;t use <code>@Autowired</code> use <code>@PersistenceContext</code> instead."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414494386,"post_id":26606608,"comment_id":41825759,"body_markdown":"`@PersistenceContext` did not change anything. Stacktrace updated above.","body":"<code>@PersistenceContext</code> did not change anything. Stacktrace updated above."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414494731,"post_id":26606608,"comment_id":41825951,"body_markdown":"You shouldn&#39;t start a transaction yourself... The `@Transactional` should start it... Have you actually tried that after the change?","body":"You shouldn&#39;t start a transaction yourself... The <code>@Transactional</code> should start it... Have you actually tried that after the change?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414495796,"post_id":26606608,"comment_id":41826614,"body_markdown":"I tried both the `@Transactional` and the `em.getTransaction().begin();` explicit, both lead each to the same errors as above.","body":"I tried both the <code>@Transactional</code> and the <code>em.getTransaction().begin();</code> explicit, both lead each to the same errors as above."},{"owner":{"account_id":1342671,"reputation":1605,"user_id":1284054,"accept_rate":87,"display_name":"pomkine"},"score":0,"creation_date":1414497650,"post_id":26606608,"comment_id":41827702,"body_markdown":"do you have a transaction manager bean declared?","body":"do you have a transaction manager bean declared?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1414497846,"post_id":26606608,"comment_id":41827827,"body_markdown":"Yes I have, see update","body":"Yes I have, see update"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1414499870,"post_id":26606608,"comment_id":41829083,"body_markdown":"Can you see the transaction managager bean in the list of beans created (debug log of Spring application context initialization) ?","body":"Can you see the transaction managager bean in the list of beans created (debug log of Spring application context initialization) ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414575672,"post_id":26606608,"comment_id":41863099,"body_markdown":"You are using Spring boot then why have you configured things yourself instead of using Spring Boot (currently looks like you are trying to work around it instead of using it).","body":"You are using Spring boot then why have you configured things yourself instead of using Spring Boot (currently looks like you are trying to work around it instead of using it)."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1414575623,"post_id":26607311,"comment_id":41863070,"body_markdown":"There is no reason why `@Transactional` shouldn&#39;t work, there must be something wrong with your setup. Also both solutions are workarounds instead of actually solving the problem. One thing I wonder is have you used the correct `@Transactional` the one from spring and not the newer from JEE7?","body":"There is no reason why <code>@Transactional</code> shouldn&#39;t work, there must be something wrong with your setup. Also both solutions are workarounds instead of actually solving the problem. One thing I wonder is have you used the correct <code>@Transactional</code> the one from spring and not the newer from JEE7?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414583274,"post_id":26607311,"comment_id":41867579,"body_markdown":"And is the API in your classpath or only as a provided dependency? Also you aren&#39;t using interfaces so make sure that you enable classbased proxies... Finally could you add the full stacktrace to your post?","body":"And is the API in your classpath or only as a provided dependency? Also you aren&#39;t using interfaces so make sure that you enable classbased proxies... Finally could you add the full stacktrace to your post?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1414583587,"post_id":26607311,"comment_id":41867743,"body_markdown":"Instead of the `javax.transaction.Transactional` try using the Spring `@Transactional`. Depending on the available classes the the `javax.transaction.Transactional` is enabled or disabled.","body":"Instead of the <code>javax.transaction.Transactional</code> try using the Spring <code>@Transactional</code>. Depending on the available classes the the <code>javax.transaction.Transactional</code> is enabled or disabled."},{"owner":{"account_id":923384,"reputation":336,"user_id":954627,"accept_rate":86,"display_name":"Rajesh"},"score":8,"creation_date":1522416492,"post_id":26607311,"comment_id":86158046,"body_markdown":"&quot;works for the moment&quot; might the most used sentence in software engineering","body":"&quot;works for the moment&quot; might the most used sentence in software engineering"},{"owner":{"account_id":4015651,"reputation":1323,"user_id":5504607,"display_name":"finx"},"score":0,"creation_date":1591308931,"post_id":26607311,"comment_id":110015636,"body_markdown":"In my case, I needed to start a transaction inside an integration test. This saved me a couple hours. Thanks!","body":"In my case, I needed to start a transaction inside an integration test. This saved me a couple hours. Thanks!"}],"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1585773036,"creation_date":1414496083,"answer_id":26607311,"question_id":26606608,"body_markdown":"As a workaround I now created a new `EntityManager` explicit using the `EMF`, and starting the transaction manually.\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n    \r\n    public void clearTable() {\r\n    \tEntityManager em = emf.createEntityManager();\r\n    \tEntityTransaction tx = em.getTransaction();\r\n    \ttx.begin();\r\n    \tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    \ttx.commit();\r\n    \tem.close();\r\n    }\r\n\r\nThat&#39;s probably not ideal, but works for the moment.","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>As a workaround I now created a new <code>EntityManager</code> explicit using the <code>EMF</code>, and starting the transaction manually.</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory emf;\n\npublic void clearTable() {\n    EntityManager em = emf.createEntityManager();\n    EntityTransaction tx = em.getTransaction();\n    tx.begin();\n    em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    tx.commit();\n    em.close();\n}\n</code></pre>\n\n<p>That's probably not ideal, but works for the moment.</p>\n"},{"tags":[],"owner":{"account_id":3617484,"reputation":13834,"user_id":3017003,"accept_rate":81,"display_name":"Jakub Kubrynski"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1668029211,"creation_date":1414499355,"answer_id":26608403,"question_id":26606608,"body_markdown":"You should use `TransactionTemplate` object to manage transaction imperatively:\r\n\r\n    transactionTemplate.execute(\r\n        status -&gt; em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate());\r\n\r\nTo create `TransactionTemplate` just use injected `PlatformTransactionManager`:\r\n\r\n    transactionTemplate = new TransactionTemplate(platformTransactionManager);\r\n\r\nAnd if you want to use new transaction just invoke\r\n\r\n    transactionTemplate.setPropagationBehavior(\r\n        TransactionDefinition.PROPAGATION_REQUIRES_NEW);","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>You should use <code>TransactionTemplate</code> object to manage transaction imperatively:</p>\n<pre><code>transactionTemplate.execute(\n    status -&gt; em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate());\n</code></pre>\n<p>To create <code>TransactionTemplate</code> just use injected <code>PlatformTransactionManager</code>:</p>\n<pre><code>transactionTemplate = new TransactionTemplate(platformTransactionManager);\n</code></pre>\n<p>And if you want to use new transaction just invoke</p>\n<pre><code>transactionTemplate.setPropagationBehavior(\n    TransactionDefinition.PROPAGATION_REQUIRES_NEW);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"score":0,"creation_date":1448311932,"post_id":26671891,"comment_id":55525228,"body_markdown":"I think using @transactional means spring will automatically handle your commits and flushes though.","body":"I think using @transactional means spring will automatically handle your commits and flushes though."},{"owner":{"account_id":20410,"reputation":167,"user_id":48770,"display_name":"Tom Dibble"},"score":0,"creation_date":1459889693,"post_id":26671891,"comment_id":60488407,"body_markdown":"I suspect that the key was &lt;tx:annotation-driven/&gt; not being set up in Spring. Basically, Spring is managing the entity manager for you (so won&#39;t let you manage your own transactions), but you didn&#39;t tell it how to manage transactions.","body":"I suspect that the key was &lt;tx:annotation-driven/&gt; not being set up in Spring. Basically, Spring is managing the entity manager for you (so won&#39;t let you manage your own transactions), but you didn&#39;t tell it how to manage transactions."}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1414749606,"creation_date":1414749606,"answer_id":26671891,"question_id":26606608,"body_markdown":"Spring Data JPA automatically runs CRUD method in transactions for you (without needing to set up anything except a transaction manager). If you want to use transactions for your query methods, you can simply add `@Transactional` to these:\r\n\r\n    interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\r\n\r\n      @Transactional\r\n      @Modifying\r\n      @Query(value = &quot;TRUNCATE TABLE MyTable&quot;, nativeQuery = true)\r\n      void clear();\r\n    }\r\n\r\nOn a more general note, what you have declared here is logically equivalent to `CrudRepository.deleteAll()`, except that it (your declaration) doesn&#39;t honor JPA-level cascades. So I wondered that&#39;s really what you intended to do. If you&#39;re using Spring Boot, the activation and transaction manager setup should be taken care of for you.\r\n\r\nIf you want to use `@Transactional` on the service level, you need to setup both a `JpaTransactionManager` *and* activate annotation based transaction management through either `&lt;tx:annotation-driven /&gt;` or `@EnableTransactionManagement` (looks like the activation was the missing piece on your attempt to create transactions on the service layer).","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>Spring Data JPA automatically runs CRUD method in transactions for you (without needing to set up anything except a transaction manager). If you want to use transactions for your query methods, you can simply add <code>@Transactional</code> to these:</p>\n\n<pre><code>interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\n\n  @Transactional\n  @Modifying\n  @Query(value = \"TRUNCATE TABLE MyTable\", nativeQuery = true)\n  void clear();\n}\n</code></pre>\n\n<p>On a more general note, what you have declared here is logically equivalent to <code>CrudRepository.deleteAll()</code>, except that it (your declaration) doesn't honor JPA-level cascades. So I wondered that's really what you intended to do. If you're using Spring Boot, the activation and transaction manager setup should be taken care of for you.</p>\n\n<p>If you want to use <code>@Transactional</code> on the service level, you need to setup both a <code>JpaTransactionManager</code> <em>and</em> activate annotation based transaction management through either <code>&lt;tx:annotation-driven /&gt;</code> or <code>@EnableTransactionManagement</code> (looks like the activation was the missing piece on your attempt to create transactions on the service layer).</p>\n"},{"tags":[],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546429737,"creation_date":1546429737,"answer_id":54005813,"question_id":26606608,"body_markdown":"`@Transactional` annotation should not be applied on Dao method but on a service method. Although your code says `DatabaseService` is a service, but by inserting `EntityManger` inside a service does not make any sense.\r\n\r\nCorrect way to implement is to create a Dao like below.\r\n\r\n    @Repository\r\n    public class DatabaseDao {\r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public void clear() {\r\n            em.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n        }\r\n    }\r\n\r\nThen call the dao method from a service method with `@Transactional` annotation.\r\n\r\n    @Service\r\n    public class DatabaseService {\r\n        @Autowired\r\n        private DatabaseDao dao;\r\n    \r\n        @Transactional\r\n        public void clear() {\r\n            dao.clear();\r\n        }\r\n    }\r\n\r\nAlso, add `@EnableTransactionManagement` in your `Configuration` class","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p><code>@Transactional</code> annotation should not be applied on Dao method but on a service method. Although your code says <code>DatabaseService</code> is a service, but by inserting <code>EntityManger</code> inside a service does not make any sense.</p>\n\n<p>Correct way to implement is to create a Dao like below.</p>\n\n<pre><code>@Repository\npublic class DatabaseDao {\n    @PersistenceContext\n    private EntityManager em;\n\n    public void clear() {\n        em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    }\n}\n</code></pre>\n\n<p>Then call the dao method from a service method with <code>@Transactional</code> annotation.</p>\n\n<pre><code>@Service\npublic class DatabaseService {\n    @Autowired\n    private DatabaseDao dao;\n\n    @Transactional\n    public void clear() {\n        dao.clear();\n    }\n}\n</code></pre>\n\n<p>Also, add <code>@EnableTransactionManagement</code> in your <code>Configuration</code> class</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51367,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":26608403,"answer_count":4,"score":31,"last_activity_date":1668029211,"creation_date":1414494049,"question_id":26606608,"body_markdown":"I have a `LocalContainerEntityManagerFactoryBean` as `EntityManager` instance.\r\n\r\nTo quickly drop a full tables&#39; content, I want to run the following code:\r\n\r\n    @Service\r\n    public class DatabaseService {\r\n    \t@Autowired\r\n    \tprivate EntityManager em;\r\n    \r\n    \t@Transactional\r\n    \tpublic void clear() {\r\n    \t\tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    \t}\r\n    }\r\n\r\nResult:\r\n\r\n    ERROR org.springframework.integration.handler.LoggingHandler: javax.persistence.TransactionRequiredException: Executing an update/delete query\r\n    \tat org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:71)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\n\r\nIf I make this change:\r\n\r\n    public void clear() {\r\n    \tem.getTransaction().begin();\r\n    \tem.createNativeQuery(&quot;TRUNCATE TABLE MyTable&quot;).executeUpdate();\r\n    }\r\n\r\nResult:\r\n\r\n    ERROR org.springframework.integration.handler.LoggingHandler: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:245)\r\n    \tat com.sun.proxy.$Proxy84.getTransaction(Unknown Source)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n    \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    \tat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nI also tried spring-data-jpa, but also fails:\r\n\r\n    public interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\r\n    \t@Query(value = &quot;TRUNCATE TABLE MyTable&quot;, nativeQuery = true)\r\n    \t@Modifying\r\n    \tpublic void clear();\r\n    }\r\n\r\nSo, how can I create a transaction and run the truncate in a shared spring context?\r\n\r\nThe Spring application is started using:\r\n`SpringApplication.run(AppConfig.class, args);` having:\r\n\r\n    @Bean\r\n    public JpaTransactionManager transactionManager() {\r\n    \treturn new JpaTransactionManager(emf);\r\n    }\r\n","title":"How to manually start a transaction on a shared EntityManager in Spring?","body":"<p>I have a <code>LocalContainerEntityManagerFactoryBean</code> as <code>EntityManager</code> instance.</p>\n\n<p>To quickly drop a full tables' content, I want to run the following code:</p>\n\n<pre><code>@Service\npublic class DatabaseService {\n    @Autowired\n    private EntityManager em;\n\n    @Transactional\n    public void clear() {\n        em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>ERROR org.springframework.integration.handler.LoggingHandler: javax.persistence.TransactionRequiredException: Executing an update/delete query\n    at org.hibernate.jpa.spi.AbstractQueryImpl.executeUpdate(AbstractQueryImpl.java:71)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>If I make this change:</p>\n\n<pre><code>public void clear() {\n    em.getTransaction().begin();\n    em.createNativeQuery(\"TRUNCATE TABLE MyTable\").executeUpdate();\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>ERROR org.springframework.integration.handler.LoggingHandler: java.lang.IllegalStateException: Not allowed to create transaction on shared EntityManager - use Spring transactions or EJB CMT instead\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:245)\n    at com.sun.proxy.$Proxy84.getTransaction(Unknown Source)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:304)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:178)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>I also tried spring-data-jpa, but also fails:</p>\n\n<pre><code>public interface MyRepository extends CrudRepository&lt;MyEntity, Integer&gt; {\n    @Query(value = \"TRUNCATE TABLE MyTable\", nativeQuery = true)\n    @Modifying\n    public void clear();\n}\n</code></pre>\n\n<p>So, how can I create a transaction and run the truncate in a shared spring context?</p>\n\n<p>The Spring application is started using:\n<code>SpringApplication.run(AppConfig.class, args);</code> having:</p>\n\n<pre><code>@Bean\npublic JpaTransactionManager transactionManager() {\n    return new JpaTransactionManager(emf);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593783501,"post_id":62716597,"comment_id":110907947,"body_markdown":"Are you testing in Android &gt;= 7 ?","body":"Are you testing in Android &gt;= 7 ?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593783798,"post_id":62716597,"comment_id":110908109,"body_markdown":"It works on Android 7 no problem, forgot to mention that, however newer devices Android 8/9/10 have the issue.","body":"It works on Android 7 no problem, forgot to mention that, however newer devices Android 8/9/10 have the issue."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1593783807,"post_id":62716597,"comment_id":110908115,"body_markdown":"createNewFile() fails. It has nothing to do with your intent. Further you should not try to create an empty file already.","body":"createNewFile() fails. It has nothing to do with your intent. Further you should not try to create an empty file already."},{"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"score":0,"creation_date":1593783864,"post_id":62716597,"comment_id":110908144,"body_markdown":"Are you asking WRITE_EXTERNAL_STORAGE permission ?","body":"Are you asking WRITE_EXTERNAL_STORAGE permission ?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593783920,"post_id":62716597,"comment_id":110908175,"body_markdown":"Yes, these are being asked ; `Manifest.permission.READ_EXTERNAL_STORAGE,\n\t\t\t\t\t\t\t\tManifest.permission.CAMERA,\n\t\t\t\t\t\t\t\tManifest.permission.INTERNET,\n\t\t\t\t\t\t\t\tManifest.permission.ACCESS_NETWORK_STATE,\n\t\t\t\t\t\t\t\tManifest.permission.ACCESS_WIFI_STATE,\n\t\t\t\t\t\t\t\tManifest.permission.WRITE_EXTERNAL_STORAGE`&#39;","body":"Yes, these are being asked ; <code>Manifest.permission.READ_EXTERNAL_STORAGE, \t\t\t\t\t\t\t\tManifest.permission.CAMERA, \t\t\t\t\t\t\t\tManifest.permission.INTERNET, \t\t\t\t\t\t\t\tManifest.permission.ACCESS_NETWORK_STATE, \t\t\t\t\t\t\t\tManifest.permission.ACCESS_WIFI_STATE, \t\t\t\t\t\t\t\tManifest.permission.WRITE_EXTERNAL_STORAGE</code>&#39;"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1593784103,"post_id":62716597,"comment_id":110908276,"body_markdown":"What&#39;s the exception stacktrace that you get?","body":"What&#39;s the exception stacktrace that you get?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593784366,"post_id":62716597,"comment_id":110908410,"body_markdown":"`java.io.UnixFileSystem.createFileExclusively0(Native Method)\njava.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:317)\nat java.io.File.createNewFile(File.java:1008)`","body":"<code>java.io.UnixFileSystem.createFileExclusively0(Native Method) java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.&zwnj;&#8203;java:317) at java.io.File.createNewFile(File.java:1008)</code>"}],"answers":[{"comments":[{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593786147,"post_id":62717229,"comment_id":110909329,"body_markdown":"Thank you Liang, the method now is \n\n\t`public void cameraClicked(View view) {\n\t\tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n\n\n\t\tString path=this.getExternalCacheDir()+&quot;file.png&quot;;\n\t\tFile file=new File(path);\n\t\t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n\t\t\tstartActivityForResult(takePictureIntent, 2);`\n\nI open the camera, and it will allow photograph to be taken, however the file is blank, the permissions I already have set to ask at runtime so that is fine.","body":"Thank you Liang, the method now is   \t<code>public void cameraClicked(View view) { \t\tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);   \t\tString path=this.getExternalCacheDir()+&quot;file.png&quot;; \t\tFile file=new File(path); \t\t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri); \t\t\tstartActivityForResult(takePictureIntent, 2);</code>  I open the camera, and it will allow photograph to be taken, however the file is blank, the permissions I already have set to ask at runtime so that is fine."},{"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"score":0,"creation_date":1593786521,"post_id":62717229,"comment_id":110909506,"body_markdown":"This means that you could not save image to external storage till yet?","body":"This means that you could not save image to external storage till yet?"},{"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"score":0,"creation_date":1593786594,"post_id":62717229,"comment_id":110909546,"body_markdown":"No I believe it still needs me to tell it the Uri path?","body":"No I believe it still needs me to tell it the Uri path?"},{"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"score":0,"creation_date":1593789766,"post_id":62717229,"comment_id":110911042,"body_markdown":"I update code and image saved to /saved_images directory.","body":"I update code and image saved to /saved_images directory."},{"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"score":0,"creation_date":1593790217,"post_id":62717229,"comment_id":110911277,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/217166/discussion-between-liang-zhenbo-and-user1695971).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/217166/discussion-between-liang-zhenbo-and-user1695971\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668029052,"creation_date":1593785629,"answer_id":62717229,"question_id":62716597,"body_markdown":"&gt; W/System.err: java.io.IOException: Permission denied\r\n\r\nThis happened because you create file to external storage over Android8/9/10.\r\n\r\n&gt; If your targetSdk is 23 or higher, you should request permissions\r\n&gt; dynamically. to know more : Requesting Permissions at Run Time\r\n&gt; \r\n&gt; to get File path you can use\r\n&gt; Context.getExternalFilesDir()/Context.getExternalCacheDir() for\r\n&gt; example String path=Context.getExternalCacheDir()+&quot;file.text&quot;; File\r\n&gt; file=new File(path) it doesnt need permission if the filepath is\r\n&gt; &quot;Android/data/app package/file name&quot;\r\n\r\nAs in the Android Documentation, you need to write to the external storage, you must request the WRITE_EXTERNAL_STORAGE permission in your manifest file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n       ...\r\n    &lt;/manifest&gt;\r\nIf you use API 23 (Marshmallow) and above, you need to Requesting Permissions at Run Time because it&#39;s a Dangerous Permission.\r\n\r\n    if (ContextCompat.checkSelfPermission(\r\n            CONTEXT, Manifest.permission.REQUESTED_PERMISSION) ==\r\n            PackageManager.PERMISSION_GRANTED) {\r\n        // You can use the API that requires the permission.\r\n        performAction(...);\r\n    } else if (shouldShowRequestPermissionRationale(...)) {\r\n        // In an educational UI, explain to the user why your app requires this\r\n        // permission for a specific feature to behave as expected. In this UI,\r\n        // include a &quot;cancel&quot; or &quot;no thanks&quot; button that allows the user to\r\n        // continue using your app without granting the permission.\r\n        showInContextUI(...);\r\n    } else {\r\n        // You can directly ask for the permission.\r\n        // The registered ActivityResultCallback gets the result of this request.\r\n        requestPermissionLauncher.launch(\r\n                Manifest.permission.REQUESTED_PERMISSION);\r\n    }\r\n\r\n&gt; Reference source link\r\n\r\n[reference][1]\r\n\r\n\r\n[make file to external][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview#normal-dangerous\r\n  [2]: https://stackoverflow.com/q/44791536/\r\n\r\n&gt; **Edit answer**\r\n\r\n    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    startActivityForResult(intent, 0);\r\n    \r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {        \r\n        switch (requestCode){\r\n            case 0:\r\n                if (resultCode == Activity.RESULT_OK){\r\n                    Bitmap thumbnail = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                    SaveImage(thumbnail);                    \r\n                }\r\n                break;\r\n        }\r\n    }\r\n    \r\n    \r\n    private static void SaveImage(Bitmap finalBitmap) {\r\n    \r\n        String root = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n        File myDir = new File(root + &quot;/saved_images&quot;);\r\n        myDir.mkdirs();\r\n    \r\n        String fname = &quot;Image-&quot;+ Math.random() +&quot;.jpg&quot;;\r\n        File file = new File (myDir, fname);\r\n        if (file.exists ()) file.delete ();\r\n        try {\r\n            FileOutputStream out = new FileOutputStream(file);\r\n            finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n            out.flush();\r\n            out.close();\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<blockquote>\n<p>W/System.err: java.io.IOException: Permission denied</p>\n</blockquote>\n<p>This happened because you create file to external storage over Android8/9/10.</p>\n<blockquote>\n<p>If your targetSdk is 23 or higher, you should request permissions\ndynamically. to know more : Requesting Permissions at Run Time</p>\n<p>to get File path you can use\nContext.getExternalFilesDir()/Context.getExternalCacheDir() for\nexample String path=Context.getExternalCacheDir()+&quot;file.text&quot;; File\nfile=new File(path) it doesnt need permission if the filepath is\n&quot;Android/data/app package/file name&quot;</p>\n</blockquote>\n<p>As in the Android Documentation, you need to write to the external storage, you must request the WRITE_EXTERNAL_STORAGE permission in your manifest file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n   ...\n&lt;/manifest&gt;\n</code></pre>\n<p>If you use API 23 (Marshmallow) and above, you need to Requesting Permissions at Run Time because it's a Dangerous Permission.</p>\n<pre><code>if (ContextCompat.checkSelfPermission(\n        CONTEXT, Manifest.permission.REQUESTED_PERMISSION) ==\n        PackageManager.PERMISSION_GRANTED) {\n    // You can use the API that requires the permission.\n    performAction(...);\n} else if (shouldShowRequestPermissionRationale(...)) {\n    // In an educational UI, explain to the user why your app requires this\n    // permission for a specific feature to behave as expected. In this UI,\n    // include a &quot;cancel&quot; or &quot;no thanks&quot; button that allows the user to\n    // continue using your app without granting the permission.\n    showInContextUI(...);\n} else {\n    // You can directly ask for the permission.\n    // The registered ActivityResultCallback gets the result of this request.\n    requestPermissionLauncher.launch(\n            Manifest.permission.REQUESTED_PERMISSION);\n}\n</code></pre>\n<blockquote>\n<p>Reference source link</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/guide/topics/permissions/overview#normal-dangerous\" rel=\"nofollow noreferrer\">reference</a></p>\n<p><a href=\"https://stackoverflow.com/q/44791536/\">make file to external</a></p>\n<blockquote>\n<p><strong>Edit answer</strong></p>\n</blockquote>\n<pre><code>Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\nstartActivityForResult(intent, 0);\n\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {        \n    switch (requestCode){\n        case 0:\n            if (resultCode == Activity.RESULT_OK){\n                Bitmap thumbnail = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                SaveImage(thumbnail);                    \n            }\n            break;\n    }\n}\n\n\nprivate static void SaveImage(Bitmap finalBitmap) {\n\n    String root = Environment.getExternalStorageDirectory().getAbsolutePath();\n    File myDir = new File(root + &quot;/saved_images&quot;);\n    myDir.mkdirs();\n\n    String fname = &quot;Image-&quot;+ Math.random() +&quot;.jpg&quot;;\n    File file = new File (myDir, fname);\n    if (file.exists ()) file.delete ();\n    try {\n        FileOutputStream out = new FileOutputStream(file);\n        finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n        out.flush();\n        out.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18691316,"reputation":835,"user_id":13625577,"display_name":"Sunn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628826290,"creation_date":1628826290,"answer_id":68766510,"question_id":62716597,"body_markdown":"I also faced this issue before, seems like adding this inside the `Application` tag under `AndroidManifest.xml` file solve the problem for me:\r\n\r\n```\r\n&lt;application\r\n    ...\r\n    android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n&lt;/application&gt;\r\n```","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<p>I also faced this issue before, seems like adding this inside the <code>Application</code> tag under <code>AndroidManifest.xml</code> file solve the problem for me:</p>\n<pre><code>&lt;application\n    ...\n    android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n&lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":1874468,"reputation":103,"user_id":1695971,"accept_rate":85,"display_name":"user1695971"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1392,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1668029052,"creation_date":1593783407,"question_id":62716597,"body_markdown":"I have confirmed that the permissions are correct for Camera access, however on the later OS versions (perhaps API 25 and above) the camera does not open, it just gives the errror in debug console;\r\n\r\n    W/System.err: java.io.IOException: Permission denied\r\n\r\n\r\nThis is the method;\r\n\r\n    public void cameraClicked(View view) {\r\n    \tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    \tFile tempFile = new File(Environment.getExternalStorageDirectory().getPath()+ &quot;/photoTemp.png&quot;);\r\n    \ttry {\r\n    \t\ttempFile.createNewFile();\r\n    \t\tUri uri = Uri.fromFile(tempFile);\r\n    \t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\r\n    \t\tstartActivityForResult(takePictureIntent, 2);\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }\r\n\t\r\nIt does work on Android 7 and below.\r\n\r\n\r\nEDIT - The following code is now opening the camera correctly, however once the photo is taken it progresses to the next screen but does not show the captured image... Just a black image.\r\n\r\n    public void cameraClicked(View view) {\r\n    \t\tIntent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    \t\tString path=this.getExternalCacheDir()+&quot;file.png&quot;;\r\n    \t\tFile file=new File(path);\r\n    \tUri uri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,file);\r\n    \t\ttakePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\r\n    \t\t\tstartActivityForResult(takePictureIntent, 2);\r\n    \t}","title":"java.io.IOException: Permission denied when using Camera on Andoid?","body":"<p>I have confirmed that the permissions are correct for Camera access, however on the later OS versions (perhaps API 25 and above) the camera does not open, it just gives the errror in debug console;</p>\n<pre><code>W/System.err: java.io.IOException: Permission denied\n</code></pre>\n<p>This is the method;</p>\n<pre><code>public void cameraClicked(View view) {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    File tempFile = new File(Environment.getExternalStorageDirectory().getPath()+ &quot;/photoTemp.png&quot;);\n    try {\n        tempFile.createNewFile();\n        Uri uri = Uri.fromFile(tempFile);\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n        startActivityForResult(takePictureIntent, 2);\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It does work on Android 7 and below.</p>\n<p>EDIT - The following code is now opening the camera correctly, however once the photo is taken it progresses to the next screen but does not show the captured image... Just a black image.</p>\n<pre><code>public void cameraClicked(View view) {\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        String path=this.getExternalCacheDir()+&quot;file.png&quot;;\n        File file=new File(path);\n    Uri uri = FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID + &quot;.provider&quot;,file);\n        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, uri);\n            startActivityForResult(takePictureIntent, 2);\n    }\n</code></pre>\n"},{"tags":["java","imap","attachment"],"answers":[{"tags":[],"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1401173570,"creation_date":1401173570,"answer_id":23882860,"question_id":23882797,"body_markdown":"First, to determine if a message may contain attachments using the following code:\r\n\r\n    // suppose &#39;message&#39; is an object of type Message\r\n    String contentType = message.getContentType();\r\n     \r\n    if (contentType.contains(&quot;multipart&quot;)) {\r\n        // this message may contain attachment\r\n    }\r\n\r\nThen we must iterate through each part in the multipart to identify which part contains the attachment, as follows:\r\n\r\n    Multipart multiPart = (Multipart) message.getContent();\r\n     \r\n    for (int i = 0; i &lt; multiPart.getCount(); i++) {\r\n        MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\r\n        if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n            // this part is attachment\r\n            // code to save attachment...\r\n        }\r\n    }\r\n\r\nAnd to save the file, you could do:\r\n\r\n    part.saveFile(&quot;D:/Attachment/&quot; + part.getFileName());\r\n\r\n[Source](http://www.codejava.net/java-ee/javamail/download-attachments-in-e-mail-messages-using-javamail)","title":"How to get filename of all attachements of email?","body":"<p>First, to determine if a message may contain attachments using the following code:</p>\n\n<pre><code>// suppose 'message' is an object of type Message\nString contentType = message.getContentType();\n\nif (contentType.contains(\"multipart\")) {\n    // this message may contain attachment\n}\n</code></pre>\n\n<p>Then we must iterate through each part in the multipart to identify which part contains the attachment, as follows:</p>\n\n<pre><code>Multipart multiPart = (Multipart) message.getContent();\n\nfor (int i = 0; i &lt; multiPart.getCount(); i++) {\n    MimeBodyPart part = (MimeBodyPart) multiPart.getBodyPart(i);\n    if (Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n        // this part is attachment\n        // code to save attachment...\n    }\n}\n</code></pre>\n\n<p>And to save the file, you could do:</p>\n\n<pre><code>part.saveFile(\"D:/Attachment/\" + part.getFileName());\n</code></pre>\n\n<p><a href=\"http://www.codejava.net/java-ee/javamail/download-attachments-in-e-mail-messages-using-javamail\" rel=\"noreferrer\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":183659,"reputation":1449,"user_id":419156,"accept_rate":33,"display_name":"dukethrash"},"score":0,"creation_date":1661491508,"post_id":61060152,"comment_id":129789388,"body_markdown":"The problem with using this is that it will get the content as a byte[] and load attachments in to memory. This is inefficient if all you need is to determine if there&#39;s attachments or read attachment file names.","body":"The problem with using this is that it will get the content as a byte[] and load attachments in to memory. This is inefficient if all you need is to determine if there&#39;s attachments or read attachment file names."}],"tags":[],"owner":{"account_id":12361240,"reputation":31,"user_id":9015402,"display_name":"l0wacska"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586177019,"creation_date":1586177019,"answer_id":61060152,"question_id":23882797,"body_markdown":"there is an easier way with apache commons mail:\r\n\r\n    final MimeMessageParser mimeParser = new MimeMessageParser(mimeMessage).parse();\r\n    final List&lt;DataSource&gt; attachmentList = mimeParser.getAttachmentList();\r\n    for (DataSource dataSource: attachmentList) {\r\n                final String fileName = dataSource.getName();\r\n    \t\t\tSystem.out.println(&quot;filename: &quot; + fileName);\r\n    }","title":"How to get filename of all attachements of email?","body":"<p>there is an easier way with apache commons mail:</p>\n\n<pre><code>final MimeMessageParser mimeParser = new MimeMessageParser(mimeMessage).parse();\nfinal List&lt;DataSource&gt; attachmentList = mimeParser.getAttachmentList();\nfor (DataSource dataSource: attachmentList) {\n            final String fileName = dataSource.getName();\n            System.out.println(\"filename: \" + fileName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11768823,"reputation":46,"user_id":10605740,"display_name":"Manish Biyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668028907,"creation_date":1596920198,"answer_id":63320155,"question_id":23882797,"body_markdown":"I was facing the same issue when the email contained another email as an attachment. The content-disposition of such an attachment does not contain fileName. \r\n\r\n    String contentType = message.getContentType(); \r\n    List&lt;String&gt; attachmentFiles = new ArrayList&lt;String&gt;();\r\n    if(contentType.contains(&quot;multipart&quot;))\r\n\t    {\r\n\t    \tMultipart multiPart = (Multipart)message.getContent(); \r\n\t    \tint numberOfParts = multiPart.getCount(); \r\n\t    \tfor(int partCount = 0; partCount &lt; numberOfParts; partCount++)\r\n\t    \t{\r\n\t    \t\tMimeBodyPart part = (MimeBodyPart)multiPart.getBodyPart(partCount); \r\n\t    \t\tif(Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\r\n                    String fileName = part.getFileName();\r\n                    String extension = FilenameUtils.getExtension(fileName);\r\n                    //If the attachment is an email, fileName will be null.\r\n                    if (&quot;message/rfc822&quot;.equalsIgnoreCase(part.getContentType())) {\r\n                        MimeMessage tempMessage = new MimeMessage(null, part.getInputStream());\r\n                        fileName = tempMessage.getSubject()+&quot;.eml&quot;; //all the email attachments will be converted to .eml format.\r\n                        extension = &quot;eml&quot;;\r\n                    }\r\n\t    \t\t\tFile tempEmailFile = File.createTempFile(messageId + &quot;_&quot; + partCount , &quot;.&quot; + extension);\r\n\t    \t\t\tpart.saveFile(tempEmailFile); \r\n\t    \t\t\tattachmentFiles.add(fileName);\r\n\t    \t\t\tattachmentFiles.add(tempEmailFile.getAbsolutePath()); \r\n\t    \t\t}\r\n\t    \t}\r\n\t    \t\r\n\t    }\r\n\r\nReference: https://stackoverflow.com/q/38874376/","title":"How to get filename of all attachements of email?","body":"<p>I was facing the same issue when the email contained another email as an attachment. The content-disposition of such an attachment does not contain fileName.</p>\n<pre><code>String contentType = message.getContentType(); \nList&lt;String&gt; attachmentFiles = new ArrayList&lt;String&gt;();\nif(contentType.contains(&quot;multipart&quot;))\n    {\n        Multipart multiPart = (Multipart)message.getContent(); \n        int numberOfParts = multiPart.getCount(); \n        for(int partCount = 0; partCount &lt; numberOfParts; partCount++)\n        {\n            MimeBodyPart part = (MimeBodyPart)multiPart.getBodyPart(partCount); \n            if(Part.ATTACHMENT.equalsIgnoreCase(part.getDisposition())) {\n                String fileName = part.getFileName();\n                String extension = FilenameUtils.getExtension(fileName);\n                //If the attachment is an email, fileName will be null.\n                if (&quot;message/rfc822&quot;.equalsIgnoreCase(part.getContentType())) {\n                    MimeMessage tempMessage = new MimeMessage(null, part.getInputStream());\n                    fileName = tempMessage.getSubject()+&quot;.eml&quot;; //all the email attachments will be converted to .eml format.\n                    extension = &quot;eml&quot;;\n                }\n                File tempEmailFile = File.createTempFile(messageId + &quot;_&quot; + partCount , &quot;.&quot; + extension);\n                part.saveFile(tempEmailFile); \n                attachmentFiles.add(fileName);\n                attachmentFiles.add(tempEmailFile.getAbsolutePath()); \n            }\n        }\n        \n    }\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/q/38874376/\">javamail also extract attachments of encapsulated message Content-Type: message/rfc822</a></p>\n"}],"owner":{"account_id":4494286,"reputation":676,"user_id":3654540,"accept_rate":57,"display_name":"cooljohny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12859,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":23882860,"answer_count":3,"score":9,"last_activity_date":1668028907,"creation_date":1401173329,"question_id":23882797,"body_markdown":"I am trying to get the filename of all the attachements of emails using java and imap.My code is:\r\n\r\n    MimeMessage msg = (MimeMessage) messages[i];\r\n    String fileName = msg.getFileName();\r\n    System.out.println(&quot;The file name of this attachment is &quot; + fileName);\r\n\r\nbut it prints null always even if email contain attachment..I have seen different codes on SO but none worked...and I don&#39;t know what to do if attachment is more than one .&lt;br/&gt;\r\nPS:I only want to get the filename and don&#39;t want to download attachments.","title":"How to get filename of all attachements of email?","body":"<p>I am trying to get the filename of all the attachements of emails using java and imap.My code is:</p>\n\n<pre><code>MimeMessage msg = (MimeMessage) messages[i];\nString fileName = msg.getFileName();\nSystem.out.println(\"The file name of this attachment is \" + fileName);\n</code></pre>\n\n<p>but it prints null always even if email contain attachment..I have seen different codes on SO but none worked...and I don't know what to do if attachment is more than one .<br/>\nPS:I only want to get the filename and don't want to download attachments.</p>\n"},{"tags":["java","macos","environment-variables","macos-monterey"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1668027108,"post_id":74381211,"comment_id":131310929,"body_markdown":"Can you execute the java executable directly. Ie. `sudo /Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home/bin/java -version` I might not have the bin/java bits correct as I don&#39;t have osx handy to check.","body":"Can you execute the java executable directly. Ie. <code>sudo &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;8&#47;jdk8&#47;zulu-8.jdk&#47;Contents&zwnj;&#8203;&#47;Home&#47;bin&#47;java -version</code> I might not have the bin/java bits correct as I don&#39;t have osx handy to check."}],"answers":[{"comments":[{"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"score":1,"creation_date":1668028144,"post_id":74381236,"comment_id":131311273,"body_markdown":"Just tested it right now and it works, thanks for the answer and for the link to the documentation.","body":"Just tested it right now and it works, thanks for the answer and for the link to the documentation."}],"tags":[],"owner":{"account_id":2981463,"reputation":845,"user_id":2531336,"display_name":"thecarpy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668028760,"creation_date":1668027140,"answer_id":74381236,"question_id":74381211,"body_markdown":"If it works with as a normal user, it has nothing to do with the platform/CPU. It cannot find the Java executable since it is not on the `PATH`.\r\n\r\nYou need to preserve the environment, use `sudo -E` for that.\r\n\r\n`sudo -E java -version`\r\n\r\nThe full documentation to the BSD sudo command can be found [here][1]:\r\n\r\n&gt; -E, --preserve-env - Indicates to the security policy that \r\n&gt; the user\twishes to preserve their existing environment \r\n&gt; variables. \r\n&gt; The security \t\t policy\tmay return an error if the user\tdoes not have\r\n&gt; permission to preserve the environment.\r\n\r\n\r\n  [1]: https://www.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html","title":"mac m1 error when using sudo in terminal to execute java","body":"<p>If it works with as a normal user, it has nothing to do with the platform/CPU. It cannot find the Java executable since it is not on the <code>PATH</code>.</p>\n<p>You need to preserve the environment, use <code>sudo -E</code> for that.</p>\n<p><code>sudo -E java -version</code></p>\n<p>The full documentation to the BSD sudo command can be found <a href=\"https://www.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>-E, --preserve-env - Indicates to the security policy that\nthe user  wishes to preserve their existing environment\nvariables.\nThe security       policy may return an error if the user does not have\npermission to preserve the environment.</p>\n</blockquote>\n"}],"owner":{"account_id":19601528,"reputation":59,"user_id":14346231,"display_name":"JcAm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668028760,"creation_date":1668026897,"question_id":74381211,"body_markdown":"I have this problem in mac when trying to run a mvn command as admin by using sudo i am getting this error :\r\n\r\n    The operation couldnt be completed. Unable to locate a Java Runtime.\r\n    Please visit http://www.java.com for information on installing Java.\r\n\r\nyet when i execute the command without sudo its working fine.\r\nthe same its happening when using java in the terminal, using something as simple as java -version its returning the same error when using sudo. But working fine without using  sudo.\r\n\r\ncan someone give me a hit or explain why is happening ?.\r\n \r\n\r\nwhen using sudo to retrieve $JAVA_HOME variable its working fine its returning its path \r\n\r\n    /Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home\r\n\r\n\r\n","title":"mac m1 error when using sudo in terminal to execute java","body":"<p>I have this problem in mac when trying to run a mvn command as admin by using sudo i am getting this error :</p>\n<pre><code>The operation couldnt be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>yet when i execute the command without sudo its working fine.\nthe same its happening when using java in the terminal, using something as simple as java -version its returning the same error when using sudo. But working fine without using  sudo.</p>\n<p>can someone give me a hit or explain why is happening ?.</p>\n<p>when using sudo to retrieve $JAVA_HOME variable its working fine its returning its path</p>\n<pre><code>/Library/Java/JavaVirtualMachines/8/jdk8/zulu-8.jdk/Contents/Home\n</code></pre>\n"},{"tags":["java","mysql","hibernate","maven"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1668025175,"post_id":74380398,"comment_id":131310294,"body_markdown":"Welcome to SO.  First of all, your example is waaaay too long and complicated.  You need to boil it down.  Also, you should always include the exception if you are getting one because it provides critical information about where the NPE is happening.  See: https://stackoverflow.com/help/minimal-reproducible-example","body":"Welcome to SO.  First of all, your example is waaaay too long and complicated.  You need to boil it down.  Also, you should always include the exception if you are getting one because it provides critical information about where the NPE is happening.  See: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"score":0,"creation_date":1668028548,"post_id":74380398,"comment_id":131311378,"body_markdown":"@Gray I figured more info is better than too little. I&#39;ll keep that in mind. Meanwhile, I added the exception","body":"@Gray I figured more info is better than too little. I&#39;ll keep that in mind. Meanwhile, I added the exception"}],"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668028682,"creation_date":1668022204,"question_id":74380398,"body_markdown":"I&#39;m making an application in Java using Hibernate, Maven, and JUnit for testing. I&#39;ve had quite a few errors, and my latest one is a nullpointerexception that I&#39;m not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information (the terminal output?). The exception occurs when I try to test the getById method in the PcBuildDao class.\r\n\r\nthe exception:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\r\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can&#39;t post here]&quot;\r\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\r\n\r\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\r\n\r\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuild POJO\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;PcBuild&quot;)\r\n@Table(name = &quot;computer_builds&quot;)\r\npublic class PcBuild {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int buildId;\r\n\r\n    @Column(name = &quot;cpu_model&quot;)\r\n    private String cpuModel;\r\n\r\n    @Column(name = &quot;gpu_model&quot;)\r\n    private String gpuModel;\r\n\r\n    @Column(name = &quot;cpu_cooler_model&quot;)\r\n    private String cpuCoolerModel;\r\n\r\n    @Column(name = &quot;Motherboard_model&quot;)\r\n    private String motherboardModel;\r\n\r\n    @Column(name = &quot;psu_model&quot;)\r\n    private String psuModel;\r\n\r\n    @Column(name = &quot;case_model&quot;)\r\n    private String caseModel;\r\n\r\n    @Column(name = &quot;data_storage_model&quot;)\r\n    private String dataStorageModel;\r\n\r\n    @Column(name = &quot;ram_model&quot;)\r\n    private String ramModel;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    public PcBuild() {\r\n    }\r\n\r\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\r\n            String cpuCoolerModel, String motherboardModel, String psuModel,\r\n            String caseModel, String dataStorageModel, String ramModel,\r\n            User user) {\r\n        this.buildId = buildId;\r\n        this.cpuModel = cpuModel;\r\n        this.gpuModel = gpuModel;\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n        this.motherboardModel = motherboardModel;\r\n        this.psuModel = psuModel;\r\n        this.caseModel = caseModel;\r\n        this.dataStorageModel = dataStorageModel;\r\n        this.ramModel = ramModel;\r\n        this.user = user;\r\n    }\r\n\r\n    public int getBuildId() {\r\n        return buildId;\r\n    }\r\n\r\n    public void setBuildId(int buildId) {\r\n        this.buildId = buildId;\r\n    }\r\n\r\n    public String getCpuModel() {\r\n        return cpuModel;\r\n    }\r\n\r\n    public void setCpuModel(String cpuModel) {\r\n        this.cpuModel = cpuModel;\r\n    }\r\n\r\n    public String getGpuModel() {\r\n        return gpuModel;\r\n    }\r\n\r\n    public void setGpuModel(String gpuModel) {\r\n        this.gpuModel = gpuModel;\r\n    }\r\n\r\n    public String getCpuCoolerModel() {\r\n        return cpuCoolerModel;\r\n    }\r\n\r\n    public void setCpuCoolerModel(String cpuCoolerModel) {\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n    }\r\n\r\n    public String getMotherboardModel() {\r\n        return motherboardModel;\r\n    }\r\n\r\n    public void setMotherboardModel(String motherboardModel) {\r\n        this.motherboardModel = motherboardModel;\r\n    }\r\n\r\n    public String getPsuModel() {\r\n        return psuModel;\r\n    }\r\n\r\n    public void setPsuModel(String psuModel) {\r\n        this.psuModel = psuModel;\r\n    }\r\n\r\n    public String getCase_Model() {\r\n        return caseModel;\r\n    }\r\n\r\n    public void setCase_Model(String caseModel) {\r\n        this.caseModel = caseModel;\r\n    }\r\n\r\n    public String getDataStorageModel() {\r\n        return dataStorageModel;\r\n    }\r\n\r\n    public void setDataStorageModel(String dataStorageModel) {\r\n        this.dataStorageModel = dataStorageModel;\r\n    }\r\n\r\n    public String getRamModel() {\r\n        return ramModel;\r\n    }\r\n\r\n    public void setRamModel(String ramModel) {\r\n        this.ramModel = ramModel;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUserId(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PcBuild{&quot; +\r\n                &quot;buildId=&quot; + buildId +\r\n                &quot;, cpuModel=&#39;&quot; + cpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, gpuModel=&#39;&quot; + gpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, cpuCoolerModel=&#39;&quot; + cpuCoolerModel + &#39;\\&#39;&#39; +\r\n                &quot;, motherboardModel=&#39;&quot; + motherboardModel + &#39;\\&#39;&#39; +\r\n                &quot;, psuModel=&#39;&quot; + psuModel + &#39;\\&#39;&#39; +\r\n                &quot;, caseModel=&#39;&quot; + caseModel + &#39;\\&#39;&#39; +\r\n                &quot;, dataStorageModel=&#39;&quot; + dataStorageModel + &#39;\\&#39;&#39; +\r\n                &quot;, ramModel=&#39;&quot; + ramModel + &#39;\\&#39;&#39; +\r\n                &quot;, user=&quot; + user +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nPcBuild DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\nUser POJO\r\n\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity(name = &quot;User&quot;)\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int userId;\r\n\r\n    @Column(name = &quot;username&quot;)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.userId = userId;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    public int getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(int userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Set&lt;PcBuild&gt; getPcBuilds() {\r\n        return pcBuilds;\r\n    }\r\n\r\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\r\n        this.pcBuilds = pcBuilds;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;userId=&quot; + userId +\r\n                &quot;, username=&#39;&quot; + username + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUser DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport javax.persistence.criteria.CriteriaBuilder;\r\nimport javax.persistence.criteria.CriteriaQuery;\r\nimport javax.persistence.criteria.Expression;\r\nimport javax.persistence.criteria.Root;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.User;\r\n\r\npublic class UserDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public User getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        CriteriaBuilder builder = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\r\n        Root&lt;User&gt; root = query.from(User.class);\r\n        Expression&lt;String&gt; propertyPath = root.get(&quot;id&quot;);\r\n        query.where(builder.equal(propertyPath, id));\r\n        User user = session.createQuery(query).getSingleResult();\r\n        session.close();\r\n        return user;\r\n    }\r\n\r\n    public void saveOrUpdate(User user) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(user);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(User user) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int)session.save(user);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(User user) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(user);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\nThe mySQL script I run before every test\r\n\r\n```\r\ndelete from computer_builds;\r\n\r\ndelete from users;\r\n\r\ninsert into users (userId, username, password) VALUES (1, &#39;fchristian&#39;, &#39;student&#39;);\r\n\r\ninsert into users (userId, username, password) VALUES (2, &#39;achristian&#39;, &#39;lollipop&#39;);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 7 5800X3D&#39;, &#39;PowerColor Red Devil OC Radeon RX 6950 XT&#39;, &#39;Deepcool AK620&#39;, &#39;MSI MAG B550 Tomahawk&#39;,\r\n        &#39;Thermaltake Toughpower GF1 PE 850 W&#39;, &#39;Corsair 4000D Airflow ATX Mid Tower&#39;, &#39;Samsung 970 Evo Plus 2 TB NVMe SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18&#39;, 1);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 3 3200G&#39;, &#39;Gigabyte GAMING OC Radeon RX 5700 XT&#39;, &#39;Stock&#39;, &#39;Gigabyte B450M DS3H Wifi&#39;,\r\n        &#39;Fractal Design Ion SFX 650 W&#39;, &#39;Thermaltake Core G3 ATX Mid Tower&#39;, &#39;Teamgroup GX2 512 GB SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16&#39;, 2);\r\n```\r\n\r\n\r\nI tried running the getById method in the PcBuildDao by passing in &quot;1&quot; and apparently it&#39;s just returning nothing instead of the returned PcBuild object&#39;s GPU model which I&#39;m trying to get by calling its getGpuModel method.","title":"Trying to do JUnit testing on a java hibernate application, and I&#39;m getting a NullPointerAcception","body":"<p>I'm making an application in Java using Hibernate, Maven, and JUnit for testing. I've had quite a few errors, and my latest one is a nullpointerexception that I'm not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information (the terminal output?). The exception occurs when I try to test the getById method in the PcBuildDao class.</p>\n<p>the exception:</p>\n<pre><code>java.lang.NullPointerException\n    at persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can't post here]&quot;\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\n\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\n\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;webResources&gt;\n              &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n              &lt;/resource&gt;\n            &lt;/webResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuild POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\n\n@Entity(name = &quot;PcBuild&quot;)\n@Table(name = &quot;computer_builds&quot;)\npublic class PcBuild {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int buildId;\n\n    @Column(name = &quot;cpu_model&quot;)\n    private String cpuModel;\n\n    @Column(name = &quot;gpu_model&quot;)\n    private String gpuModel;\n\n    @Column(name = &quot;cpu_cooler_model&quot;)\n    private String cpuCoolerModel;\n\n    @Column(name = &quot;Motherboard_model&quot;)\n    private String motherboardModel;\n\n    @Column(name = &quot;psu_model&quot;)\n    private String psuModel;\n\n    @Column(name = &quot;case_model&quot;)\n    private String caseModel;\n\n    @Column(name = &quot;data_storage_model&quot;)\n    private String dataStorageModel;\n\n    @Column(name = &quot;ram_model&quot;)\n    private String ramModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\n    private User user;\n\n    public PcBuild() {\n    }\n\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\n            String cpuCoolerModel, String motherboardModel, String psuModel,\n            String caseModel, String dataStorageModel, String ramModel,\n            User user) {\n        this.buildId = buildId;\n        this.cpuModel = cpuModel;\n        this.gpuModel = gpuModel;\n        this.cpuCoolerModel = cpuCoolerModel;\n        this.motherboardModel = motherboardModel;\n        this.psuModel = psuModel;\n        this.caseModel = caseModel;\n        this.dataStorageModel = dataStorageModel;\n        this.ramModel = ramModel;\n        this.user = user;\n    }\n\n    public int getBuildId() {\n        return buildId;\n    }\n\n    public void setBuildId(int buildId) {\n        this.buildId = buildId;\n    }\n\n    public String getCpuModel() {\n        return cpuModel;\n    }\n\n    public void setCpuModel(String cpuModel) {\n        this.cpuModel = cpuModel;\n    }\n\n    public String getGpuModel() {\n        return gpuModel;\n    }\n\n    public void setGpuModel(String gpuModel) {\n        this.gpuModel = gpuModel;\n    }\n\n    public String getCpuCoolerModel() {\n        return cpuCoolerModel;\n    }\n\n    public void setCpuCoolerModel(String cpuCoolerModel) {\n        this.cpuCoolerModel = cpuCoolerModel;\n    }\n\n    public String getMotherboardModel() {\n        return motherboardModel;\n    }\n\n    public void setMotherboardModel(String motherboardModel) {\n        this.motherboardModel = motherboardModel;\n    }\n\n    public String getPsuModel() {\n        return psuModel;\n    }\n\n    public void setPsuModel(String psuModel) {\n        this.psuModel = psuModel;\n    }\n\n    public String getCase_Model() {\n        return caseModel;\n    }\n\n    public void setCase_Model(String caseModel) {\n        this.caseModel = caseModel;\n    }\n\n    public String getDataStorageModel() {\n        return dataStorageModel;\n    }\n\n    public void setDataStorageModel(String dataStorageModel) {\n        this.dataStorageModel = dataStorageModel;\n    }\n\n    public String getRamModel() {\n        return ramModel;\n    }\n\n    public void setRamModel(String ramModel) {\n        this.ramModel = ramModel;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUserId(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PcBuild{&quot; +\n                &quot;buildId=&quot; + buildId +\n                &quot;, cpuModel='&quot; + cpuModel + '\\'' +\n                &quot;, gpuModel='&quot; + gpuModel + '\\'' +\n                &quot;, cpuCoolerModel='&quot; + cpuCoolerModel + '\\'' +\n                &quot;, motherboardModel='&quot; + motherboardModel + '\\'' +\n                &quot;, psuModel='&quot; + psuModel + '\\'' +\n                &quot;, caseModel='&quot; + caseModel + '\\'' +\n                &quot;, dataStorageModel='&quot; + dataStorageModel + '\\'' +\n                &quot;, ramModel='&quot; + ramModel + '\\'' +\n                &quot;, user=&quot; + user +\n                '}';\n    }\n}\n</code></pre>\n<p>PcBuild DAO</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>User POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Entity(name = &quot;User&quot;)\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int userId;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private Set&lt;PcBuild&gt; pcBuilds = new HashSet&lt;&gt;();\n\n    public User() {\n    }\n\n    public User(int userId, String username, String password, Set&lt;PcBuild&gt; pcBuilds) {\n        this.userId = userId;\n        this.username = username;\n        this.password = password;\n        this.pcBuilds = pcBuilds;\n    }\n\n    public int getUserId() {\n        return userId;\n    }\n\n    public void setUserId(int userId) {\n        this.userId = userId;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Set&lt;PcBuild&gt; getPcBuilds() {\n        return pcBuilds;\n    }\n\n    public void setPcBuilds(Set&lt;PcBuild&gt; pcBuilds) {\n        this.pcBuilds = pcBuilds;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;userId=&quot; + userId +\n                &quot;, username='&quot; + username + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>User DAO</p>\n<pre><code>package persistence;\n\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport javax.persistence.criteria.Expression;\nimport javax.persistence.criteria.Root;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.User;\n\npublic class UserDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public User getById(int id) {\n        Session session = sessionFactory.openSession();\n        CriteriaBuilder builder = session.getCriteriaBuilder();\n        CriteriaQuery&lt;User&gt; query = builder.createQuery(User.class);\n        Root&lt;User&gt; root = query.from(User.class);\n        Expression&lt;String&gt; propertyPath = root.get(&quot;id&quot;);\n        query.where(builder.equal(propertyPath, id));\n        User user = session.createQuery(query).getSingleResult();\n        session.close();\n        return user;\n    }\n\n    public void saveOrUpdate(User user) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(user);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(User user) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int)session.save(user);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(User user) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(user);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>The mySQL script I run before every test</p>\n<pre><code>delete from computer_builds;\n\ndelete from users;\n\ninsert into users (userId, username, password) VALUES (1, 'fchristian', 'student');\n\ninsert into users (userId, username, password) VALUES (2, 'achristian', 'lollipop');\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 7 5800X3D', 'PowerColor Red Devil OC Radeon RX 6950 XT', 'Deepcool AK620', 'MSI MAG B550 Tomahawk',\n        'Thermaltake Toughpower GF1 PE 850 W', 'Corsair 4000D Airflow ATX Mid Tower', 'Samsung 970 Evo Plus 2 TB NVMe SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18', 1);\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 3 3200G', 'Gigabyte GAMING OC Radeon RX 5700 XT', 'Stock', 'Gigabyte B450M DS3H Wifi',\n        'Fractal Design Ion SFX 650 W', 'Thermaltake Core G3 ATX Mid Tower', 'Teamgroup GX2 512 GB SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16', 2);\n</code></pre>\n<p>I tried running the getById method in the PcBuildDao by passing in &quot;1&quot; and apparently it's just returning nothing instead of the returned PcBuild object's GPU model which I'm trying to get by calling its getGpuModel method.</p>\n"},{"tags":["java","datetime","java-time","localdate"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1668014499,"post_id":74378826,"comment_id":131306879,"body_markdown":"How about not converting back to local date at the end?","body":"How about not converting back to local date at the end?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668015730,"post_id":74378826,"comment_id":131307336,"body_markdown":"This makes absolutely no sense, because time **atStartOfDay** is always 00:00:00.","body":"This makes absolutely no sense, because time <b>atStartOfDay</b> is always 00:00:00."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668015850,"post_id":74378826,"comment_id":131307383,"body_markdown":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00.","body":"@ChristophDahlen No, not in a zoned date-time. Some days on some dates in some zones start at another time such as 01:00:00."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668016042,"post_id":74378826,"comment_id":131307461,"body_markdown":"But not from a &quot;local&quot; perspektive, isn&#39;t it?","body":"But not from a &quot;local&quot; perspektive, isn&#39;t it?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668016052,"post_id":74378826,"comment_id":131307467,"body_markdown":"Append to your expression: `.atTime(LocalTime.MIDNIGHT)`. Yields a `LocalDateTime`, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isnt valid for your time zone.","body":"Append to your expression: <code>.atTime(LocalTime.MIDNIGHT)</code>. Yields a <code>LocalDateTime</code>, that is with time of day. Only as Basil Bourque said, it will in some cases give you a time that isnt valid for your time zone."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668016911,"post_id":74378826,"comment_id":131307776,"body_markdown":"Are you trying to go back 8 days, or go back to previous Monday?","body":"Are you trying to go back 8 days, or go back to previous Monday?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668017648,"post_id":74378826,"comment_id":131308039,"body_markdown":" or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday.","body":" or go back to the start of the previous week? Not everywhere in the world does the week begin on Monday."}],"answers":[{"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1668014855,"post_id":74378868,"comment_id":131307025,"body_markdown":"This looks like Spring annotations, but since you give zero context for your answer I couldn&#39;t say for sure. OP does not mention using Spring in the question. This also does not address the problem that there is no time because OP is using LocalDate instead of LocalDateTime.","body":"This looks like Spring annotations, but since you give zero context for your answer I couldn&#39;t say for sure. OP does not mention using Spring in the question. This also does not address the problem that there is no time because OP is using LocalDate instead of LocalDateTime."}],"tags":[],"owner":{"account_id":26863921,"reputation":43,"user_id":20446959,"display_name":"Arkady Dymkov"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668014236,"creation_date":1668014236,"answer_id":74378868,"question_id":74378826,"body_markdown":"    @DateTimeFormat(&quot;HH:MM:SS&quot;)\r\n    @JsonFormat(&quot;HH:MM:SS&quot;)","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>@DateTimeFormat(&quot;HH:MM:SS&quot;)\n@JsonFormat(&quot;HH:MM:SS&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1668014504,"post_id":74378877,"comment_id":131306884,"body_markdown":"`LocalDateTime` does **not** include timezone - very first line of its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html): &quot;A date-time without a time-zone ...&quot;","body":"<code>LocalDateTime</code> does <b>not</b> include timezone - very first line of its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">documentation</a>: &quot;A date-time without a time-zone ...&quot;"}],"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014281,"creation_date":1668014281,"answer_id":74378877,"question_id":74378826,"body_markdown":"What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).\r\n\r\nLocalDate does as it says on the tin, it gives you a date, not a date and time.","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<p>What you want is a LocalDateTime, which is a LocalDate with a time component (including timezone).</p>\n<p>LocalDate does as it says on the tin, it gives you a date, not a date and time.</p>\n"},{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668036948,"post_id":74379096,"comment_id":131313268,"body_markdown":"Very instructive answer. Didn&#39;t pay attention that there&#39;s an overloaded flavor of `now()` expecting zone id.","body":"Very instructive answer. Didn&#39;t pay attention that there&#39;s an overloaded flavor of <code>now()</code> expecting zone id."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668040481,"post_id":74379096,"comment_id":131313824,"body_markdown":"@AlexanderIvanchenko Indeed there is. I recommend always using that method, **always passing a `ZoneId`**. Do so even when you want the default; pass  `ZoneId.systemDefault()`. I believe that with date-time work it&#39;s generally better to be explicit to make your intentions quite clear. Ditto with always passing a `Locale`, even if `Locale.getDefault()`.  So many programmers are either ignorant or forgetful of time zone &amp; locale issues that using implicit defaults raises ambiguity.","body":"@AlexanderIvanchenko Indeed there is. I recommend always using that method, <b>always passing a <code>ZoneId</code></b>. Do so even when you want the default; pass  <code>ZoneId.systemDefault()</code>. I believe that with date-time work it&#39;s generally better to be explicit to make your intentions quite clear. Ditto with always passing a <code>Locale</code>, even if <code>Locale.getDefault()</code>.  So many programmers are either ignorant or forgetful of time zone &amp; locale issues that using implicit defaults raises ambiguity."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668028363,"creation_date":1668015265,"answer_id":74379096,"question_id":74378826,"body_markdown":"# tl;dr\r\n\r\n    LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \r\n    .now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \r\n    .minusDays( 8 )                             // Returns another `LocalDate` object. \r\n    .atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \r\n    .toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \r\n\r\nSee this code [run at Ideone.com][1]. Notice that on that date in that zone, the day began at 01:00, *not* 00:00. \r\n\r\n&gt; 2022-02-22T01:00+03:00[Asia/Amman]\r\n\r\n# No format involved \r\n\r\nDate-time objects do not have a format. Text has a format. Date-time objects are not text. \r\n\r\n# `LocalDate` has no time of day\r\n\r\nYou said:\r\n\r\n&gt; add HH:MM:SS format to [a `LocalDate` object]\r\n\r\nA `LocalDate` represents a date only, without a time of day, without a time zone or offset.\r\n\r\n# `ZonedDateTime`\r\n\r\nApparently you want the first moment of the day eight days ago as seen in your locality. \r\n\r\nFirst, specify your desired/expected time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n\r\nOr use your JVMs current default time zone. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ; \r\n\r\nCapture the current date as seen in that zone. \r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\nGo back eight days. \r\n\r\n    LocalDate eightDaysAgo = today.minusDays( 8 ) ;\r\n\r\nIf you meant to go back to the previous Monday, use a `TemporalAdjuster`. \r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n\r\nGet the first moment of that day. Pass your time zone. \r\n\r\n    ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\r\n\r\nThe time-of-day *may* be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00. \r\n\r\n\r\nAll of this has been covered many times already on Stack Overflow. Search to learn more. \r\n\r\n  [1]: https://ideone.com/y3JnxS","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate                                   // Represents a date only, without a time of day, without a time zone or offset. \n.now( ZoneId.of( &quot;Asia/Amman&quot; ) )           // Returns a `LocalDate`. \n.minusDays( 8 )                             // Returns another `LocalDate` object. \n.atStartOfDay( ZoneId.of( &quot;Asia/Amman&quot; ) )  // Returns a `ZonedDateTime`. \n.toString()                                 // Returns a `String` object, with text in standard ISO 8601 format wisely extended to append the name of time zone in brackets. \n</code></pre>\n<p>See this code <a href=\"https://ideone.com/y3JnxS\" rel=\"nofollow noreferrer\">run at Ideone.com</a>. Notice that on that date in that zone, the day began at 01:00, <em>not</em> 00:00.</p>\n<blockquote>\n<p>2022-02-22T01:00+03:00[Asia/Amman]</p>\n</blockquote>\n<h1>No format involved</h1>\n<p>Date-time objects do not have a format. Text has a format. Date-time objects are not text.</p>\n<h1><code>LocalDate</code> has no time of day</h1>\n<p>You said:</p>\n<blockquote>\n<p>add HH:MM:SS format to [a <code>LocalDate</code> object]</p>\n</blockquote>\n<p>A <code>LocalDate</code> represents a date only, without a time of day, without a time zone or offset.</p>\n<h1><code>ZonedDateTime</code></h1>\n<p>Apparently you want the first moment of the day eight days ago as seen in your locality.</p>\n<p>First, specify your desired/expected time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\n</code></pre>\n<p>Or use your JVMs current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ; \n</code></pre>\n<p>Capture the current date as seen in that zone.</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<p>Go back eight days.</p>\n<pre><code>LocalDate eightDaysAgo = today.minusDays( 8 ) ;\n</code></pre>\n<p>If you meant to go back to the previous Monday, use a <code>TemporalAdjuster</code>.</p>\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\n</code></pre>\n<p>Get the first moment of that day. Pass your time zone.</p>\n<pre><code>ZonedDateTime zdt = eightDaysAgo.atStartOfDay( z ) ;\n</code></pre>\n<p>The time-of-day <em>may</em> be 00:00:00, but not necessarily. Some days on some dates in some zones start at another time such as 01:00:00.</p>\n<p>All of this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668016658,"post_id":74379269,"comment_id":131307667,"body_markdown":"This code ignores the crucial issue of time zones. The result could be incorrect in some localities.","body":"This code ignores the crucial issue of time zones. The result could be incorrect in some localities."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016133,"creation_date":1668016133,"answer_id":74379269,"question_id":74378826,"body_markdown":"```java\r\nLocalDateTime\r\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\r\n .minusWeeks(1)\r\n```\r\n\r\nGives you start of last week at midnight (local time).\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime\n .of(LocalDate.now().with(ChronoField.DAY_OF_WEEK, 1), LocalTime.MIDNIGHT)\n .minusWeeks(1)\n</code></pre>\n<p>Gives you start of last week at midnight (local time).</p>\n"}],"owner":{"account_id":26817038,"reputation":7,"user_id":20406891,"display_name":"sgsg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668028363,"creation_date":1668014072,"question_id":74378826,"body_markdown":"```\r\nLocalDate beginDate = LocalDate.now()\r\n        .with(ChronoField.DAY_OF_WEEK, 1)\r\n        .atStartOfDay()\r\n        .minusDays(8)\r\n        .toLocalDate();\r\n```\r\n\r\nI am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find ```atStartOfDay()``` method for LocalDateTime. Help me to add HH:MM:SS to ```beginDate``` variable\r\n","title":"How to add HH:MM:SS format to the LocalDate in java?","body":"<pre><code>LocalDate beginDate = LocalDate.now()\n        .with(ChronoField.DAY_OF_WEEK, 1)\n        .atStartOfDay()\n        .minusDays(8)\n        .toLocalDate();\n</code></pre>\n<p>I am getting the previous week begin date using the above code line. However I want to add HH:MM:SS format to this. I have tried different ways to get this. Tried using LocalDateTime instead of Localdate. But could not find <code>atStartOfDay()</code> method for LocalDateTime. Help me to add HH:MM:SS to <code>beginDate</code> variable</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1410444724,"post_id":25789176,"comment_id":40335672,"body_markdown":"i assume this is a bug in hibernate : https://hibernate.atlassian.net/browse/HHH-9111","body":"i assume this is a bug in hibernate : <a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9111</a>"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412761729,"post_id":25789176,"comment_id":41184047,"body_markdown":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?","body":"hibernate.atlassian.net down for me ( its always down :( ). Mind pasting the information ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412836533,"post_id":25789176,"comment_id":41217412,"body_markdown":"it works now. if not i can paste content here","body":"it works now. if not i can paste content here"},{"owner":{"account_id":197413,"reputation":2603,"user_id":441478,"accept_rate":86,"display_name":"MikePatel"},"score":0,"creation_date":1412849376,"post_id":25789176,"comment_id":41224137,"body_markdown":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?","body":"Yeah I saw, we had to rewrite our queries to be named. Did you manage another solution ?"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1412852095,"post_id":25789176,"comment_id":41225616,"body_markdown":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache","body":"For me the result set was quite low and we had more than enough memory. So used maps to manage the cache"},{"owner":{"account_id":3088591,"reputation":464,"user_id":2615253,"accept_rate":75,"display_name":"Kunal"},"score":0,"creation_date":1477318666,"post_id":25789176,"comment_id":67704789,"body_markdown":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back","body":"@dinesh707  can please tell me, how it is working? what changes you did? I have facing the same issue. Please revert back"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1478075474,"post_id":25789176,"comment_id":68003305,"body_markdown":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map.","body":"@Kunal we just disabled caching (as shown in code above we are not suing it any more). Instead of caching it in hibernate layer we manually cache it in a LRU map."}],"answers":[{"comments":[{"owner":{"account_id":1257182,"reputation":469,"user_id":1216410,"accept_rate":20,"display_name":"Mohsin"},"score":0,"creation_date":1456813376,"post_id":31072851,"comment_id":59108185,"body_markdown":"is this the solutions, we are facing same issue,","body":"is this the solutions, we are facing same issue,"},{"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"score":0,"creation_date":1463408221,"post_id":31072851,"comment_id":62039299,"body_markdown":"As its in the comment in for the qestion, its a bug in hibernate ( not a feature ). https://hibernate.atlassian.net/browse/HHH-9111","body":"As its in the comment in for the qestion, its a bug in hibernate ( not a feature ). <a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-9111</a>"}],"tags":[],"owner":{"account_id":2839356,"reputation":2154,"user_id":2439249,"display_name":"ozeray"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435320588,"creation_date":1435320588,"answer_id":31072851,"question_id":25789176,"body_markdown":"I think this happens when the queried table does not have a primary key.","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>I think this happens when the queried table does not have a primary key.</p>\n"},{"tags":[],"owner":{"account_id":19422105,"reputation":11,"user_id":14204424,"display_name":"nrd_000002"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668027890,"creation_date":1598984155,"answer_id":63693277,"question_id":25789176,"body_markdown":"So, this happened to me too and after searching / researching a possible solution I&#39;ve\r\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\r\nupon a solution. \r\n\r\nAnd so... The environment\r\n\r\n&gt; hibernate-core 5.3.0.Final\r\n&gt; \r\n&gt; Wildfly 20.0.1 Final\r\n&gt; \r\n&gt; Java 11\r\n&gt;\r\n&gt; PostgreSql 9.4 ? (don&#39;t know the exact version, sorry)\r\n&gt;\r\n&gt; Infinispan for caching\r\n&gt;\r\n\r\nSo, first using \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .getResultList()\r\n\r\nI received an error similar to this\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nbut, of course, with different numbers (instead of 0 and 1)\r\n\r\n\r\nNote: my native sql was like this\r\n\r\n&gt; select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0\r\n\r\nAnd so, something smelly hit the fan...\r\n\r\nTried this \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nand I failed... Tried this same stuff with all addSynchronized methods available in\r\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.\r\n\r\n\r\nThen I tried rewriting my query with HQL, but good luck with that... Rewriting all these\r\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\r\ncase. Note that resources I have are limited).\r\n\r\nGot back to where I&#39;ve started... And changed this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\r\n                .getResultList()\r\n\r\nto \r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;)\r\n                .getResultList()\r\n\r\nand got the same error similar to\r\n\r\n&gt; aliases expected length is 0; actual length is 1\r\n\r\nAnd then I tried this\r\n\r\n    em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\r\n                .setParameter(0, declarationDate)\r\n                .setHint(&quot;org.hibernate.cacheable&quot;, true)\r\n                .unwrap(NativeQuery.class)\r\n                .addScalar(&quot;mydate&quot;, new DateType())\r\n                .getResultList()\r\n\r\nAnd BAAAAAAM finally it started working. \r\n\r\nTo sum it up it started working then I unwrapped query to NativeQuery and added scalar\r\nwith a type!!!\r\n\r\nNote if your native query does not have aliases then add them!!!\r\n\r\nRelated threads (to name a few)\r\n\r\n&gt; https://hibernate.atlassian.net/browse/HHH-9111\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\r\n&gt; \r\n&gt; https://stackoverflow.com/questions/54801806/cache-jpa-native-query\r\n","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<p>So, this happened to me too and after searching / researching a possible solution I've\ndecided to give up, but after a very long debug session (not Session.class) I stumbled\nupon a solution.</p>\n<p>And so... The environment</p>\n<blockquote>\n<p>hibernate-core 5.3.0.Final</p>\n<p>Wildfly 20.0.1 Final</p>\n<p>Java 11</p>\n<p>PostgreSql 9.4 ? (don't know the exact version, sorry)</p>\n<p>Infinispan for caching</p>\n</blockquote>\n<p>So, first using</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .getResultList()\n</code></pre>\n<p>I received an error similar to this</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>but, of course, with different numbers (instead of 0 and 1)</p>\n<p>Note: my native sql was like this</p>\n<blockquote>\n<p>select a.date as mydate, a.id as myid, a.test as mytest from mytable a where date = ?0</p>\n</blockquote>\n<p>And so, something smelly hit the fan...</p>\n<p>Tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>and I failed... Tried this same stuff with all addSynchronized methods available in\nNativeQuery.class, but each and every time hibernate was telling me to go and fun myself.</p>\n<p>Then I tried rewriting my query with HQL, but good luck with that... Rewriting all these\nsubselects, joins and what not in HQL was just a wishful thinking - NOT POSSIBLE (in my\ncase. Note that resources I have are limited).</p>\n<p>Got back to where I've started... And changed this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addSynchronizedQuerySpace(&quot;myQuery_space&quot;)\n            .getResultList()\n</code></pre>\n<p>to</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;)\n            .getResultList()\n</code></pre>\n<p>and got the same error similar to</p>\n<blockquote>\n<p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n<p>And then I tried this</p>\n<pre><code>em.createNamedQuery(&quot;MyClass.findMyStuff&quot;, Tuple.class)\n            .setParameter(0, declarationDate)\n            .setHint(&quot;org.hibernate.cacheable&quot;, true)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;mydate&quot;, new DateType())\n            .getResultList()\n</code></pre>\n<p>And BAAAAAAM finally it started working.</p>\n<p>To sum it up it started working then I unwrapped query to NativeQuery and added scalar\nwith a type!!!</p>\n<p>Note if your native query does not have aliases then add them!!!</p>\n<p>Related threads (to name a few)</p>\n<blockquote>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-9111\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-9111</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40221978/hibernate-ehcache-not-working-for-sql-native-query-cache\">Hibernate Ehcache NOT working for SQL Native query cache</a></p>\n<p><a href=\"https://stackoverflow.com/questions/15595627/hibernate-query-cache-applicable-for-native-queries\">Hibernate query cache applicable for native queries?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/54801806/cache-jpa-native-query\">Cache JPA Native Query</a></p>\n</blockquote>\n"}],"owner":{"account_id":168280,"reputation":12236,"user_id":393639,"accept_rate":84,"display_name":"dinesh707"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4681,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1668027890,"creation_date":1410443300,"question_id":25789176,"body_markdown":"    String q1Str = &quot;SELECT parent_id FROM meta WHERE st_id = &quot;+childIds+&quot;;&quot;;\r\n    Query q1 = em.createNativeQuery(q1Str);\r\n    //q1.setHint(&quot;org.hibernate.cacheable&quot;, true);\r\n    Object parentId = null;\r\n    try{\r\n    parentId = q1.getSingleResult();\r\n    }catch(NoResultException nre){\r\n    \t//nope\r\n    }\r\n\r\nenabling `hibernate.cacheable` will throw me the following exception\r\n\r\n&gt; aliases expected length is 0; actual length is 1","title":"Aliases expected length is 0; actual length is 1 on hibernate query cache","body":"<pre><code>String q1Str = \"SELECT parent_id FROM meta WHERE st_id = \"+childIds+\";\";\nQuery q1 = em.createNativeQuery(q1Str);\n//q1.setHint(\"org.hibernate.cacheable\", true);\nObject parentId = null;\ntry{\nparentId = q1.getSingleResult();\n}catch(NoResultException nre){\n    //nope\n}\n</code></pre>\n\n<p>enabling <code>hibernate.cacheable</code> will throw me the following exception</p>\n\n<blockquote>\n  <p>aliases expected length is 0; actual length is 1</p>\n</blockquote>\n"},{"tags":["java","json","hibernate","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668027539,"creation_date":1668027539,"answer_id":74381301,"question_id":74371917,"body_markdown":"Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.\r\n\r\nHowever, using different mapper (orika did not work because of java 17), but using mapstruct and it&#39;s default, the result were the same, as expected.\r\n\r\nThe proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\r\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:\r\n\r\n    Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\r\n\r\nWith this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.\r\n\r\n\r\nHowever, i am still curious why the 2nd Level test does not fall into this StackOverflow.\r\n\r\n","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>Okay, after evaluating different mapping tools, and making thoughs on this topic, i could really not understand why the layer 1 test do run, but not the layer 2 test.</p>\n<p>However, using different mapper (orika did not work because of java 17), but using mapstruct and it's default, the result were the same, as expected.</p>\n<p>The proper solution, which takes a slight more effort, is simply to add on one of these @ManyToMany associations the @JsonIgnore Attribute.\nNow, when a transfer via Rest is required, i simply added a query on Company-Repository, like this:</p>\n<pre><code>Set&lt;Company&gt; findCompaniesBySupplierProductsContaining(final Product product);\n</code></pre>\n<p>With this approach, i can load them for products seperatly, serialize them and add the Set of Company to the product requested.</p>\n<p>However, i am still curious why the 2nd Level test does not fall into this StackOverflow.</p>\n"}],"owner":{"account_id":1323466,"reputation":344,"user_id":1268786,"accept_rate":33,"display_name":"Tony B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027539,"creation_date":1667982900,"question_id":74371917,"body_markdown":"currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI. \r\n\r\nTo test those mappings and the results, i am writing for each layer several test:\r\n\r\n 1. Layer 0 Test: Simple conversion (okay)\r\n 2. Layer 1 Test: Conversion of the Structure, where objects having\r\n    relations (okay)\r\n 3. Layer 2 Test: Same as Layer 1, but this time with persistence - here\r\n    the error occurs.\r\n 4. Layer 3 Test: (at this point irrelevant)\r\n\r\nAs a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.\r\n\r\nOne solution would maybe write a custom converter, but i want to understand the problem here.\r\n\r\nThe Structure is as follows:\r\n\r\nProduct-Class\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class Product extends ProductBase {\r\n    \r\n    // some more unrelated\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;fk_manufacturer&quot;)\r\n    \tprivate Company manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\r\n    \tprivate Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\r\n    // .. some more unrelated\r\n    }\r\n\r\nPojo-Class\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class ProductPojo extends ProductBase {\r\n    \r\n    //.. some unrelated stuff\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate CompanyPojo manufacturer;\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\r\n    \r\n    \r\n    //.. more..\r\n    \r\n    }\r\n\r\n\r\nOn the Company Object we have:\r\n\r\n    @Entity\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Product.class)\r\n    public class Company extends CompanyBase {\r\n    // .. other fields\r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@OneToMany(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;fk_product_manufacturer&quot;)\r\n    \tprivate Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \t@Column\r\n    \t@ManyToMany(fetch = FetchType.LAZY)\r\n    \t@JoinTable(name = &quot;supplier_products&quot;,\r\n    \t\t\tjoinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\r\n    \t\t\tinverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\r\n    \tprivate Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    // .. other fields\r\n    }\r\n\r\nand it&#39;s counter-part:\r\n\r\n    @JsonIdentityInfo(\r\n    \t\tgenerator = ObjectIdGenerators.PropertyGenerator.class,\r\n    \t\tproperty = &quot;id&quot;, scope = Company.class)\r\n    public class CompanyPojo extends CompanyBase {\r\n    //.. code\r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\r\n    \r\n    \t@Getter\r\n    \t@Setter\r\n    \tprivate Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\r\n    //.. as usual, some more code...\r\n    }\r\n\r\nEvaluation of the debugger shows this:\r\n\r\nDebuger-Eval without DB-Access and successfully converting objects:\r\n\r\n[![Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)][1]][1]\r\n\r\nDebuger-Eval with DB-Access and failing converting objects: \r\n\r\n[![Fail conversion: Converting with / after DB Access (Product is shown)][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QEBsi.png\r\n  [2]: https://i.stack.imgur.com/Ha6iJ.png\r\n\r\n\r\nLast but not least, the error message:\r\n\r\n    java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\r\n\r\n\r\nI have no idea and i don&#39;t see any difference between those objects. It would be easier to understand if both would fail to convert.","title":"Infinite recursion with Serialization Jackson on @ManyToMany - Only in relation when using Database calls","body":"<p>currently i am working on a project, where i use EntityBeans (Hibernate) for Database Access and using Jackson ObjectMapper for Mapping those Objects to Pojo for UI.</p>\n<p>To test those mappings and the results, i am writing for each layer several test:</p>\n<ol>\n<li>Layer 0 Test: Simple conversion (okay)</li>\n<li>Layer 1 Test: Conversion of the Structure, where objects having\nrelations (okay)</li>\n<li>Layer 2 Test: Same as Layer 1, but this time with persistence - here\nthe error occurs.</li>\n<li>Layer 3 Test: (at this point irrelevant)</li>\n</ol>\n<p>As a solution, I did not want to use @JsonBackreference and @JsonManagedReference on the @ManyToMany Relations, i need those infos on both objects. For the @ManyToOne and @OneToMany relation no problem occurs.</p>\n<p>One solution would maybe write a custom converter, but i want to understand the problem here.</p>\n<p>The Structure is as follows:</p>\n<p>Product-Class</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class Product extends ProductBase {\n\n// some more unrelated\n    @Getter\n    @Setter\n    @ManyToOne\n    @JoinColumn(name = &quot;fk_manufacturer&quot;)\n    private Company manufacturer;\n\n    @Getter\n    @Setter\n    @ManyToMany(fetch = FetchType.LAZY, mappedBy = &quot;supplierProducts&quot;)\n    private Set&lt;Company&gt; supplier = new HashSet&lt;&gt;();\n// .. some more unrelated\n}\n</code></pre>\n<p>Pojo-Class</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class ProductPojo extends ProductBase {\n\n//.. some unrelated stuff\n\n    @Getter\n    @Setter\n    private CompanyPojo manufacturer;\n\n    @Getter\n    @Setter\n    private Set&lt;CompanyPojo&gt; supplier = new HashSet&lt;&gt;();\n\n\n//.. more..\n\n}\n</code></pre>\n<p>On the Company Object we have:</p>\n<pre><code>@Entity\n@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Product.class)\npublic class Company extends CompanyBase {\n// .. other fields\n    @Getter\n    @Setter\n    @Column\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;fk_product_manufacturer&quot;)\n    private Set&lt;Product&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    @Column\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;supplier_products&quot;,\n            joinColumns = {@JoinColumn(name = &quot;fk_company_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;fk_product_id&quot;)})\n    private Set&lt;Product&gt; supplierProducts = new HashSet&lt;&gt;();\n// .. other fields\n}\n</code></pre>\n<p>and it's counter-part:</p>\n<pre><code>@JsonIdentityInfo(\n        generator = ObjectIdGenerators.PropertyGenerator.class,\n        property = &quot;id&quot;, scope = Company.class)\npublic class CompanyPojo extends CompanyBase {\n//.. code\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; manufacturerProducts = new HashSet&lt;&gt;();\n\n    @Getter\n    @Setter\n    private Set&lt;ProductPojo&gt; supplierProducts = new HashSet&lt;&gt;();\n//.. as usual, some more code...\n}\n</code></pre>\n<p>Evaluation of the debugger shows this:</p>\n<p>Debuger-Eval without DB-Access and successfully converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/QEBsi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QEBsi.png\" alt=\"Working conversion: Converting solely on Objects itself, without db access (Product and ProductPojo is shown)\" /></a></p>\n<p>Debuger-Eval with DB-Access and failing converting objects:</p>\n<p><a href=\"https://i.stack.imgur.com/Ha6iJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ha6iJ.png\" alt=\"Fail conversion: Converting with / after DB Access (Product is shown)\" /></a></p>\n<p>Last but not least, the error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Infinite recursion (StackOverflowError) (through reference chain: de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.product.Product[&quot;supplier&quot;]-&gt;org.hibernate.collection.internal.PersistentSet[0]-&gt;de.bloise.data.persistence.unities.Company[&quot;supplierProducts&quot;]-&gt;.....\n</code></pre>\n<p>I have no idea and i don't see any difference between those objects. It would be easier to understand if both would fail to convert.</p>\n"},{"tags":["java","heap-memory","ignite"],"answers":[{"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1667575072,"post_id":74319228,"comment_id":131205896,"body_markdown":"We have done that but have not see a memory leak.  We are not running any ContinuousQuerys, just using put and get operations.","body":"We have done that but have not see a memory leak.  We are not running any ContinuousQuerys, just using put and get operations."}],"tags":[],"owner":{"account_id":26830765,"reputation":11,"user_id":20418775,"display_name":"windy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667575003,"creation_date":1667575003,"answer_id":74319228,"question_id":74318802,"body_markdown":"Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.","title":"Apache Ignite cache heap space increases without any activity","body":"<p>Try use jmap to dump memory, and use MAT to dig if there was something like memory leak, i have met such issue when use Apache Ignite ContinuousQuery, especially when some node of the cluster restart, will cause memory leak.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668027254,"creation_date":1667573019,"question_id":74318802,"body_markdown":"We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.  \r\n\r\nIs this behavior normal and or is there a way to prevent it?\r\n\r\nThe added memory footprint of the client node is causing our application to got out of memory.\r\n\r\nBefore:\r\n```\r\n\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n\r\n```\r\nAfter: \r\n```\r\nCache &#39;ENTRIES_CACHE(@c8)&#39;:\r\n+--------------------------------------------------------------+\r\n| Name(@)                         | ENTRIES_CACHE(@c8) |\r\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\r\n| Nodes                           | 2                          |\r\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\r\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\r\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\r\n+--------------------------------------------------------------+\r\n\r\nNodes for: ENTRIES_CACHE(@c8)\r\n+================================================================================================================+\r\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\r\n+================================================================================================================+\r\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\r\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\r\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\r\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\r\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\r\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\r\n+----------------------------------------------------------------------------------------------------------------+\r\n```\r\n\r\n","title":"Apache Ignite cache heap space increases without any activity","body":"<p>We have been using Ignite 2.11 and have observed that sporadically the heap space used by all the caches can increase by a factor of 2 or 3 across all caches on both server and client nodes (in the case of near caches) without any additional entries being added across ANY of the caches.</p>\n<p>Is this behavior normal and or is there a way to prevent it?</p>\n<p>The added memory footprint of the client node is causing our application to got out of memory.</p>\n<p>Before:</p>\n<pre><code>\nCache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 22.86 %   | 0.23 %   | 04:31:12.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 18.70 %   | 5.33 %   | 23:01:35.501 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n\n</code></pre>\n<p>After:</p>\n<pre><code>Cache 'ENTRIES_CACHE(@c8)':\n+--------------------------------------------------------------+\n| Name(@)                         | ENTRIES_CACHE(@c8) |\n| Total entries (Heap / Off-heap) | 21 (14 / 7)                |\n| Nodes                           | 2                          |\n| Total size Min/Avg/Max          | 7 / 10.50 / 14             |\n|   Heap size Min/Avg/Max         | 7 / 7.00 / 7               |\n|   Off-heap size Min/Avg/Max     | 0 / 3.50 / 7               |\n+--------------------------------------------------------------+\n\nNodes for: ENTRIES_CACHE(@c8)\n+================================================================================================================+\n|     Node ID8(@), IP      | CPUs | Heap Used | CPU Load |   Up Time    | Size (Primary / Backup)  | Hi/Mi/Rd/Wr |\n+================================================================================================================+\n| 9C82B7D0(@n1), 127.0.0.1 | 16   | 30.79 %   | 14.73 %  | 04:36:30.703 | Total: 7 (7 / 0)         | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 0 (0 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: 0     | Wr: 0       |\n+--------------------------+------+-----------+----------+--------------+--------------------------+-------------+\n| 7116937A(@n0), 127.0.0.1 | 1    | 31.67 %   | 58.67 %  | 23:06:54.534 | Total: 14 (14 / 0)       | Hi: 0       |\n|                          |      |           |          |              |   Heap: 7 (7 / &lt;n/a&gt;)    | Mi: 0       |\n|                          |      |           |          |              |   Off-Heap: 7 (7 / 0)    | Rd: 0       |\n|                          |      |           |          |              |   Off-Heap Memory: &lt;n/a&gt; | Wr: 0       |\n+----------------------------------------------------------------------------------------------------------------+\n</code></pre>\n"},{"tags":["java","sql-server","sqlexception","raiserror"],"comments":[{"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"score":0,"creation_date":1591732160,"post_id":62289975,"comment_id":110166809,"body_markdown":"That looks like it should be an issue here: https://github.com/microsoft/mssql-jdbc/issues","body":"That looks like it should be an issue here: <a href=\"https://github.com/microsoft/mssql-jdbc/issues\" rel=\"nofollow noreferrer\">github.com/microsoft/mssql-jdbc/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591818147,"creation_date":1591818147,"answer_id":62311858,"question_id":62289975,"body_markdown":"Thank you https://stackoverflow.com/users/7297700/david-browne-microsoft \r\n\r\nI started to post the Github issue and one of the outputs they request is a JDBC trace.\r\n\r\nWhen I did this and compared the 2 trace outputs for:\r\n\r\n1. Unique Key Violation\r\n2. Divide By Zero error\r\n\r\nthe following lines were present for the Divide By Zero test case:\r\n\r\n - **Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet &lt;init&gt;**\r\n - **FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)**\r\n\r\nHaving read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the **uspTestRE** Stored Procedure:\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SELECT 1/0;\r\n  END;\r\n```\r\n\r\nto\r\n\r\n```\r\nIF @inDBZ = &#39;Y&#39;\r\n  BEGIN\r\n    SET @dbz = 1/0;\r\n  END;\r\n```\r\n\r\nThis solved my problem.\r\n\r\nNow, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/7297700/david-browne-microsoft\">https://stackoverflow.com/users/7297700/david-browne-microsoft</a> </p>\n\n<p>I started to post the Github issue and one of the outputs they request is a JDBC trace.</p>\n\n<p>When I did this and compared the 2 trace outputs for:</p>\n\n<ol>\n<li>Unique Key Violation</li>\n<li>Divide By Zero error</li>\n</ol>\n\n<p>the following lines were present for the Divide By Zero test case:</p>\n\n<ul>\n<li><strong>Jun 10, 2020 5:28:50 PM com.microsoft.sqlserver.jdbc.SQLServerResultSet </strong></li>\n<li><strong>FINE: SQLServerResultSet:1 created by (SQLServerCallableStatement:1)</strong></li>\n</ul>\n\n<p>Having read in another post that RAISERROR behaves differently when the SP returns a resultset (unintentionally in my case), I changed the following code in the <strong>uspTestRE</strong> Stored Procedure:</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SELECT 1/0;\n  END;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>IF @inDBZ = 'Y'\n  BEGIN\n    SET @dbz = 1/0;\n  END;\n</code></pre>\n\n<p>This solved my problem.</p>\n\n<p>Now, I just need to work out what changes to make to trap Errors where Results Sets are returned in the Stored Procedure</p>\n"},{"tags":[],"owner":{"account_id":5488485,"reputation":71,"user_id":5126996,"display_name":"thesarahryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026685,"creation_date":1668026685,"answer_id":74381179,"question_id":62289975,"body_markdown":"You can use &#39;set nocount on&#39; instead of changing select to set","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>You can use 'set nocount on' instead of changing select to set</p>\n"}],"owner":{"account_id":9816031,"reputation":51,"user_id":7272518,"display_name":"andrewtindle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668026685,"creation_date":1591729108,"question_id":62289975,"body_markdown":"I&#39;m seeing differences in behaviour in how Java handles SQL Server errors thrown by `RAISERROR`, depending upon what the actual error is, in that:\r\n\r\n - Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block\r\n - Divide by Zero: The SQL Exception is not trapped\r\n\r\nTo demonstrate:\r\n\r\n**1. Stored Procedure: uspTestRE**\r\n```\r\nALTER PROCEDURE demo.uspTestRE (\r\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\r\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\r\n)\r\nAS\r\nBEGIN\r\n\r\n  SET XACT_ABORT, NOCOUNT ON;\r\n\r\n  BEGIN TRY\r\n    BEGIN TRANSACTION\r\n      \r\n      --Insert record into TestRE table\r\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\r\n\r\n      --Trigger DBZ error\r\n      IF @inDBZ = &#39;Y&#39;\r\n       BEGIN\r\n         SELECT 1/0;\r\n       END;\r\n\r\n    --Transaction is in a state to be committed\r\n    IF (XACT_STATE())=1\r\n      BEGIN\r\n        COMMIT TRANSACTION;\r\n      END;\r\n  END TRY\r\n\r\n  BEGIN CATCH\r\n    DECLARE\r\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\r\n      @errorState    INT           = ERROR_STATE(),\r\n      @errorSeverity INT           = ERROR_SEVERITY();\r\n\r\n    --Transaction is uncommitable so rollback\r\n    IF (XACT_STATE()) = -1\r\n      BEGIN\r\n        ROLLBACK TRANSACTION;\r\n      END;\r\n\r\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\r\n    \r\n    RETURN 23;\r\n  END CATCH\r\n\r\nEND;\r\n```\r\n\r\nWhen executing the SP from SQLCMD, it generates the following error messages:\r\n\r\nTest 1: Key Violation\r\n```\r\nMsg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\r\nViolation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero\r\n```\r\nMsg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\r\nDivide by zero error encountered.\r\n```\r\n\r\ni.e. expected behaviour for both.\r\n\r\n\r\nHowever, my Java program doesn&#39;t give the same behaviour.\r\n\r\n**2. Java Program: uspTestRE.java**\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.sql.CallableStatement;\r\n\r\npublic class uspTestRE {\r\n\r\n    // Connect to DEMO_INST database as svcDemoInst Login\r\n    public static void main(String[] args) {\r\n        String connectionUrl =\r\n                &quot;jdbc:sqlserver://localhost:1433;&quot;\r\n                + &quot;database=DEMO;&quot;\r\n                + &quot;user=svcDemoLogin;&quot;\r\n                + &quot;password=Demo;&quot;\r\n                + &quot;trustServerCertificate=true;&quot;\r\n                + &quot;loginTimeout=30;&quot;;\r\n\r\n        ResultSet resultSet = null;\r\n        CallableStatement cstmt = null;\r\n\r\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(&quot;{? = call demo.uspTestRE(?,?)}&quot;);\r\n             int i = 0;\r\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\r\n\r\n             cstmt.setString(++i,args[0]);\r\n             cstmt.setString(++i,args[1]);\r\n             cstmt.execute();\r\n\r\n             int returnCode = cstmt.getInt(1);\r\n             System.out.println(&quot;Success: Stored Procedure Return Status: &quot; + returnCode);\r\n        }\r\n        catch (SQLException e) {\r\n              System.out.println(&quot;Error Code: &quot; + e.getErrorCode() +&quot;, Error Message: &quot;+e.getMessage());\r\n              // e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run the same test cases here, I get the following:\r\n\r\nTest 1: Key Violation (Behaves as Expected)\r\n```\r\nC:\\&gt;java uspTestRE UKV N\r\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint &#39;PK__TestRE__0FEE01A3EEF4E2AE&#39;. Cannot insert duplicate key in object &#39;dbo.TestRE&#39;. The duplicate key value is (UKV).\r\n```\r\n\r\nTest 2: Divide by Zero (Does not get trapped)\r\n```\r\nC:\\&gt;java uspTestRE DBV Y\r\nSuccess: Stored Procedure Return Status: 23\r\n```\r\n\r\nCan anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?\r\n\r\nThe only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.\r\n","title":"RAISERROR - differences in SQLException behaviour in Java Client","body":"<p>I'm seeing differences in behaviour in how Java handles SQL Server errors thrown by <code>RAISERROR</code>, depending upon what the actual error is, in that:</p>\n\n<ul>\n<li>Unique Constraint Violation: The SQL Exception is trapped and handled by the Java Catch block</li>\n<li>Divide by Zero: The SQL Exception is not trapped</li>\n</ul>\n\n<p>To demonstrate:</p>\n\n<p><strong>1. Stored Procedure: uspTestRE</strong></p>\n\n<pre><code>ALTER PROCEDURE demo.uspTestRE (\n  @inKey    VARCHAR(5),    --Primary Key value in TestRE table\n  @inDBZ    VARCHAR(1)     --Y/N flag to trigger Divide By Zero error\n)\nAS\nBEGIN\n\n  SET XACT_ABORT, NOCOUNT ON;\n\n  BEGIN TRY\n    BEGIN TRANSACTION\n\n      --Insert record into TestRE table\n      INSERT INTO TestRE (tREKey) VALUES (@inKey);\n\n      --Trigger DBZ error\n      IF @inDBZ = 'Y'\n       BEGIN\n         SELECT 1/0;\n       END;\n\n    --Transaction is in a state to be committed\n    IF (XACT_STATE())=1\n      BEGIN\n        COMMIT TRANSACTION;\n      END;\n  END TRY\n\n  BEGIN CATCH\n    DECLARE\n      @errorMessage  NVARCHAR(MAX) = ERROR_MESSAGE(),\n      @errorState    INT           = ERROR_STATE(),\n      @errorSeverity INT           = ERROR_SEVERITY();\n\n    --Transaction is uncommitable so rollback\n    IF (XACT_STATE()) = -1\n      BEGIN\n        ROLLBACK TRANSACTION;\n      END;\n\n    RAISERROR(@errorMessage,@errorSeverity,@errorState);\n\n    RETURN 23;\n  END CATCH\n\nEND;\n</code></pre>\n\n<p>When executing the SP from SQLCMD, it generates the following error messages:</p>\n\n<p>Test 1: Key Violation</p>\n\n<pre><code>Msg 50000, Level 14, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 44\nViolation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero</p>\n\n<pre><code>Msg 50000, Level 16, State 1, Server WW-HV5FQV2, Procedure demo.uspTestRE, Line 42\nDivide by zero error encountered.\n</code></pre>\n\n<p>i.e. expected behaviour for both.</p>\n\n<p>However, my Java program doesn't give the same behaviour.</p>\n\n<p><strong>2. Java Program: uspTestRE.java</strong></p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.sql.CallableStatement;\n\npublic class uspTestRE {\n\n    // Connect to DEMO_INST database as svcDemoInst Login\n    public static void main(String[] args) {\n        String connectionUrl =\n                \"jdbc:sqlserver://localhost:1433;\"\n                + \"database=DEMO;\"\n                + \"user=svcDemoLogin;\"\n                + \"password=Demo;\"\n                + \"trustServerCertificate=true;\"\n                + \"loginTimeout=30;\";\n\n        ResultSet resultSet = null;\n        CallableStatement cstmt = null;\n\n        try {cstmt = DriverManager.getConnection(connectionUrl).prepareCall(\"{? = call demo.uspTestRE(?,?)}\");\n             int i = 0;\n             cstmt.registerOutParameter(++i,java.sql.Types.INTEGER);\n\n             cstmt.setString(++i,args[0]);\n             cstmt.setString(++i,args[1]);\n             cstmt.execute();\n\n             int returnCode = cstmt.getInt(1);\n             System.out.println(\"Success: Stored Procedure Return Status: \" + returnCode);\n        }\n        catch (SQLException e) {\n              System.out.println(\"Error Code: \" + e.getErrorCode() +\", Error Message: \"+e.getMessage());\n              // e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>When I run the same test cases here, I get the following:</p>\n\n<p>Test 1: Key Violation (Behaves as Expected)</p>\n\n<pre><code>C:\\&gt;java uspTestRE UKV N\nError Code: 50000, Error Message: Violation of PRIMARY KEY constraint 'PK__TestRE__0FEE01A3EEF4E2AE'. Cannot insert duplicate key in object 'dbo.TestRE'. The duplicate key value is (UKV).\n</code></pre>\n\n<p>Test 2: Divide by Zero (Does not get trapped)</p>\n\n<pre><code>C:\\&gt;java uspTestRE DBV Y\nSuccess: Stored Procedure Return Status: 23\n</code></pre>\n\n<p>Can anyone explain to me why the Divide By Zero error - which is being trapped in SQL Server and handled in the SP Catch block - is not being trapped by the Java code?</p>\n\n<p>The only differences I can see between the 2 errors is that the Divide by Zero error is Severity 16.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1668023030,"post_id":74380471,"comment_id":131309656,"body_markdown":"Are you sure you tried to add a rules button?  I dont see any code that tries to add a rules button.","body":"Are you sure you tried to add a rules button?  I dont see any code that tries to add a rules button."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1668027476,"post_id":74380471,"comment_id":131311057,"body_markdown":"What is `Playscene`? Why do you set the scene of `primary` to one thing, and then immediately replace it with another scene?","body":"What is <code>Playscene</code>? Why do you set the scene of <code>primary</code> to one thing, and then immediately replace it with another scene?"}],"answers":[{"tags":[],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026519,"creation_date":1668026519,"answer_id":74381152,"question_id":74380471,"body_markdown":"If this line\r\n\r\n    layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\nis where you add the rules button, my guess it&#39;s because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change \r\n\r\n    VBox layout1 = new VBox(250.0);\r\n\r\nto\r\n\r\n    VBox layout1 = new VBox(25.0);\r\n\r\nAnd then add your button again. I&#39;m guessing this is the issue because like @VGR said, the button isn&#39;t there, nor do you have a tabpane yet.","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>If this line</p>\n<pre><code>layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n</code></pre>\n<p>is where you add the rules button, my guess it's because your layout1 gap is huge. The spacing your suggesting is 250. So adding another component in this list might exceed your stage size. For a test, change</p>\n<pre><code>VBox layout1 = new VBox(250.0);\n</code></pre>\n<p>to</p>\n<pre><code>VBox layout1 = new VBox(25.0);\n</code></pre>\n<p>And then add your button again. I'm guessing this is the issue because like @VGR said, the button isn't there, nor do you have a tabpane yet.</p>\n"}],"owner":{"account_id":21734674,"reputation":1,"user_id":16042841,"display_name":"Francisco Erramuspe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668026519,"creation_date":1668022599,"question_id":74380471,"body_markdown":"I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:\r\n\r\n\r\n```\r\npackage com.example.jaxafx_practice;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n//import com.example.jaxafx_practice.Playscene.playscence;\r\n\r\n\r\npublic class Main extends Application {\r\n    Scene StartScene;\r\n    @Override\r\n    public void start(Stage primary) throws IOException {\r\n\r\n        // ********Start scene************\r\n        Button PlayButton = new Button(&quot;Play&quot;);\r\n        PlayButton.setMinWidth(55);\r\n        PlayButton.setMinHeight(30);\r\n        \r\n        VBox layout1 = new VBox(250.0);\r\n        layout1.setAlignment(Pos.CENTER);\r\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\r\n         StartSceneLabel.setMinWidth(55);\r\n        StartSceneLabel.setMinHeight(30);\r\n        StartSceneLabel.setAlignment(Pos.CENTER);\r\n\r\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\r\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\r\n        primary.setTitle(&quot;Start screen&quot;);\r\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\r\n        HBox user_interface=new HBox();\r\n\r\n\r\n        // Creates Start scene\r\n        StartScene = new Scene(layout1, 500, 750.0);\r\n\r\n        // ********Start scene************\r\n\r\n\r\n\r\n        //????????Play scene?????????????\r\n        Playscene playscene = new Playscene();\r\n        //????????Play scene?????????????\r\n\r\n        //Create the word to be guessed\r\n        Choose_word Choose_word = new Choose_word();\r\n        String wordToGuess = Choose_word.getWord();\r\n\r\n\r\n        //Button actions\r\n        PlayButton.setOnAction((e) -&gt; {\r\n            primary.setScene(playscene.playscence());\r\n            primary.setTitle(&quot;Game Screen&quot;);});\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n        playscene.enterButton.setOnAction((e) -&gt; {\r\n            String userWord=playscene.guessField.getText();\r\n            if(userWord.length()==4)\r\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\r\n                playscene.count+=1;}\r\n        });\r\n        primary.setScene(StartScene);\r\n        primary.show();\r\n    }\r\n    public static void main() {\r\n        launch();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n","title":"Create a Button that Opens a new Tab in JavaFX","body":"<p>I am creating a game. For that game, there should be a &quot;Play&quot; Button (already added) and a rules button (the one I am trying to add). For some reason, when I try to add the rules button, it never shows up in the screen. Inside the rules tab I just want to add the rule content of the game. Any suggestions? Here is my code:</p>\n<pre><code>package com.example.jaxafx_practice;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n//import com.example.jaxafx_practice.Playscene.playscence;\n\n\npublic class Main extends Application {\n    Scene StartScene;\n    @Override\n    public void start(Stage primary) throws IOException {\n\n        // ********Start scene************\n        Button PlayButton = new Button(&quot;Play&quot;);\n        PlayButton.setMinWidth(55);\n        PlayButton.setMinHeight(30);\n        \n        VBox layout1 = new VBox(250.0);\n        layout1.setAlignment(Pos.CENTER);\n        Label StartSceneLabel = new Label(&quot;Wordle&quot;);\n         StartSceneLabel.setMinWidth(55);\n        StartSceneLabel.setMinHeight(30);\n        StartSceneLabel.setAlignment(Pos.CENTER);\n\n        StartSceneLabel.setStyle(&quot;-fx-background-color: #FFFFFF;&quot;);\n        layout1.getChildren().addAll(StartSceneLabel, PlayButton);\n        primary.setTitle(&quot;Start screen&quot;);\n        layout1.setStyle(&quot;-fx-background-color:#800000&quot;);\n        HBox user_interface=new HBox();\n\n\n        // Creates Start scene\n        StartScene = new Scene(layout1, 500, 750.0);\n\n        // ********Start scene************\n\n\n\n        //????????Play scene?????????????\n        Playscene playscene = new Playscene();\n        //????????Play scene?????????????\n\n        //Create the word to be guessed\n        Choose_word Choose_word = new Choose_word();\n        String wordToGuess = Choose_word.getWord();\n\n\n        //Button actions\n        PlayButton.setOnAction((e) -&gt; {\n            primary.setScene(playscene.playscence());\n            primary.setTitle(&quot;Game Screen&quot;);});\n        primary.setScene(StartScene);\n        primary.show();\n        playscene.enterButton.setOnAction((e) -&gt; {\n            String userWord=playscene.guessField.getText();\n            if(userWord.length()==4)\n                {playscene.displayWord(userWord.toLowerCase(),wordToGuess);\n                playscene.count+=1;}\n        });\n        primary.setScene(StartScene);\n        primary.show();\n    }\n    public static void main() {\n        launch();\n    }\n}\n\n\n\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","api","rest"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1668020216,"post_id":74379681,"comment_id":131308830,"body_markdown":"The wrapper `500` isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?","body":"The wrapper <code>500</code> isn&#39;t helpful for debugging purposes.  What is the actual error that the server is generating (perhaps captured in the application logs)?"}],"answers":[{"comments":[{"owner":{"account_id":24603643,"reputation":1,"user_id":18506159,"display_name":"Rohit Khemka"},"score":0,"creation_date":1668058416,"post_id":74381039,"comment_id":131316297,"body_markdown":"The updateCourse and delete methods are not working as expected.","body":"The updateCourse and delete methods are not working as expected."}],"tags":[],"owner":{"account_id":18073155,"reputation":28,"user_id":13137259,"display_name":"beyzanur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025925,"creation_date":1668025925,"answer_id":74381039,"question_id":74379681,"body_markdown":"Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>Are you getting an error in get and save operations? Because although you inject CourseService in controller, you did not override get and save operations methods in CourseServiceimpl class.</p>\n"}],"owner":{"account_id":24603643,"reputation":1,"user_id":18506159,"display_name":"Rohit Khemka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668025925,"creation_date":1668018096,"question_id":74379681,"body_markdown":"I am trying to create a CRUD application using Spring-boot and Mongo DB.\r\nI am getting error the in the update and delete operations\r\n\r\nDuring Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes. \r\nCan anyone please find a solution for this.\r\n\r\n \r\n\r\nController Layer\r\n\r\n```\r\npackage com.springrest.springrest.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.PutMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.services.CourseService;\r\n\r\n@CrossOrigin\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class MyController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate CourseService courseService;\r\n\t\r\n\t@GetMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourses(){\r\n\t\treturn ResponseEntity.ok(this.courseService.GetCourses());\r\n\t}\t\t\r\n\t\r\n\t\r\n\t@PostMapping(&quot;/courses&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\r\n\t{\r\n\t\tCourse save=this.courseService.addCourse(course);\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\r\n\t\tOptional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\r\n\t\treturn ResponseEntity.ok(save);\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@PutMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\r\n\t@RequestBody Course course)\r\n\t{\r\n\t\tOptional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\r\n\t\t\t\t(courseId),course));\r\n\t\treturn ResponseEntity.ok(save);\r\n\t}\t\r\n\t\r\n\t@DeleteMapping(&quot;/courses/{courseId}&quot;)\r\n\tpublic void deleteCourse(@PathVariable String courseId)\r\n\t{\r\n\t\tthis.courseService.deleteCourse(Integer.parseInt(courseId));\r\n\t\t//return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nService Layer\r\n\r\n\r\n```\r\npackage com.springrest.springrest.services;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.springrest.springrest.entities.Course;\r\nimport com.springrest.springrest.repository.CourseRepository;\r\n\r\n\r\n@Service\r\npublic class CourseServiceimpl implements CourseService \r\n{\r\n\t@Autowired\r\n\tprivate CourseRepository userlist;\r\n\t\r\n\tpublic List&lt;Course&gt; GetCourses() {\r\n\t\treturn this.userlist.findAll();\r\n\t}\r\n\t\r\n\tpublic Course addCourse(Course course) {\r\n\t\treturn this.userlist.save(course);\r\n\t}\r\n\t\r\n\tpublic Optional&lt;Course&gt; getCourse(int courseId)\r\n\t{\r\n\t\tOptional&lt;Course&gt; c=this.userlist.findById(courseId);\r\n\t\treturn c;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Course updateCourse(int courseId, Course course) \r\n\t{\r\n\t\tCourse c=this.userlist.findById(courseId).get();\r\n\t\tc.setId(course.getId());\r\n\t\tc.setTitle(course.getTitle());\r\n\t\tc.setDescription(course.getDescription());\r\n\t\treturn this.userlist.save(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void deleteCourse(int courseId) \r\n\t{\r\n\t\t//Course c= this.userlist.findById(courseId).get();\r\n\t\tthis.userlist.deleteById(courseId);\t\t\r\n\t}\r\n\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\nEntity Layer\r\n\r\n```\r\npackage com.springrest.springrest.entities;\r\n\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\n\r\n@Document(collection=&quot;Course&quot;)\r\npublic class Course {\r\n\r\n\t@Field( name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Field(name=&quot;title&quot;)\r\n\tprivate String title;\r\n\t\r\n\t@Field(name=&quot;description&quot;)\r\n\tprivate String description;\r\n\t\r\n\tpublic Course(int id, String title, String description) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.title = title;\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic Course() {\r\n\t\tsuper();\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nThis is the error I am getting on a Delete Request\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;path&quot;: &quot;/api/courses/147&quot;\r\n}\r\n\r\n","title":"Update and Delete error in Spring-boot and mongo db CRUD application","body":"<p>I am trying to create a CRUD application using Spring-boot and Mongo DB.\nI am getting error the in the update and delete operations</p>\n<p>During Delete, there is a timestamp error showing and on update a new object is getting created instead of updating the existing object. I have attached the controller and service layer codes.\nCan anyone please find a solution for this.</p>\n<p>Controller Layer</p>\n<pre><code>package com.springrest.springrest.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.PutMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.services.CourseService;\n\n@CrossOrigin\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n    \n    \n    @Autowired\n    private CourseService courseService;\n    \n    @GetMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; getCourses(){\n        return ResponseEntity.ok(this.courseService.GetCourses());\n    }       \n    \n    \n    @PostMapping(&quot;/courses&quot;)\n    public ResponseEntity&lt;?&gt; addCourse(@RequestBody Course course)\n    {\n        Course save=this.courseService.addCourse(course);\n        return ResponseEntity.ok(save);\n    }\n    \n    @GetMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; getCourse(@PathVariable String courseId ){\n        Optional&lt;Course&gt; save=this.courseService.getCourse(Integer.parseInt(courseId));\n        return ResponseEntity.ok(save); \n    }\n    \n    \n    \n    @PutMapping(&quot;/courses/{courseId}&quot;)\n    public ResponseEntity&lt;?&gt; updateCourse(@PathVariable String courseId,\n    @RequestBody Course course)\n    {\n        Optional&lt;Course&gt; save=Optional.ofNullable(this.courseService.updateCourse(Integer.parseInt\n                (courseId),course));\n        return ResponseEntity.ok(save);\n    }   \n    \n    @DeleteMapping(&quot;/courses/{courseId}&quot;)\n    public void deleteCourse(@PathVariable String courseId)\n    {\n        this.courseService.deleteCourse(Integer.parseInt(courseId));\n        //return ResponseEntity.ok(this.courseService.deleteCourse(Integer.parseInt(courseId)));\n    }\n}\n\n</code></pre>\n<p>Service Layer</p>\n<pre><code>package com.springrest.springrest.services;\nimport java.util.List;\nimport java.util.Optional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.springrest.springrest.entities.Course;\nimport com.springrest.springrest.repository.CourseRepository;\n\n\n@Service\npublic class CourseServiceimpl implements CourseService \n{\n    @Autowired\n    private CourseRepository userlist;\n    \n    public List&lt;Course&gt; GetCourses() {\n        return this.userlist.findAll();\n    }\n    \n    public Course addCourse(Course course) {\n        return this.userlist.save(course);\n    }\n    \n    public Optional&lt;Course&gt; getCourse(int courseId)\n    {\n        Optional&lt;Course&gt; c=this.userlist.findById(courseId);\n        return c;\n    }\n\n    @Override\n    public Course updateCourse(int courseId, Course course) \n    {\n        Course c=this.userlist.findById(courseId).get();\n        c.setId(course.getId());\n        c.setTitle(course.getTitle());\n        c.setDescription(course.getDescription());\n        return this.userlist.save(c);\n    }\n\n    @Override\n    public void deleteCourse(int courseId) \n    {\n        //Course c= this.userlist.findById(courseId).get();\n        this.userlist.deleteById(courseId);     \n    }\n\n    \n}\n\n</code></pre>\n<p>Entity Layer</p>\n<pre><code>package com.springrest.springrest.entities;\n\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\n\n@Document(collection=&quot;Course&quot;)\npublic class Course {\n\n    @Field( name=&quot;id&quot;)\n    private int id;\n    \n    @Field(name=&quot;title&quot;)\n    private String title;\n    \n    @Field(name=&quot;description&quot;)\n    private String description;\n    \n    public Course(int id, String title, String description) {\n        super();\n        this.id = id;\n        this.title = title;\n        this.description = description;\n    }\n\n    public Course() {\n        super();\n        \n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course [id=&quot; + id + &quot;, title=&quot; + title + &quot;, description=&quot; + description + &quot;]&quot;;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n}\n\n</code></pre>\n<p>This is the error I am getting on a Delete Request\n{\n&quot;timestamp&quot;: &quot;2022-11-09T18:45:58.630+00:00&quot;,\n&quot;status&quot;: 500,\n&quot;error&quot;: &quot;Internal Server Error&quot;,\n&quot;path&quot;: &quot;/api/courses/147&quot;\n}</p>\n"},{"tags":["java","switch-statement","case"],"comments":[{"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"score":0,"creation_date":1435755275,"post_id":31161784,"comment_id":50332246,"body_markdown":"you can try `String.toUpperCase()` before feeding into the `Switch`","body":"you can try <code>String.toUpperCase()</code> before feeding into the <code>Switch</code>"},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1435755609,"post_id":31161784,"comment_id":50332522,"body_markdown":"Consider to replace the arrays and switch statement with enums.","body":"Consider to replace the arrays and switch statement with enums."}],"answers":[{"tags":[],"owner":{"account_id":1217986,"reputation":1256,"user_id":1185211,"accept_rate":79,"display_name":"Bgvv1983"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435755144,"creation_date":1435755144,"answer_id":31161867,"question_id":31161784,"body_markdown":"I think I wouldn&#39;t youse a switch in this case.\r\nI would do probably something like this\r\n\r\n    if(Arrays.asList(yourArray).contains(yourValue)){\r\n       //do something\r\n    }else{\r\n       //do something else\r\n    }","title":"Switch case with multiple values","body":"<p>I think I wouldn't youse a switch in this case.\nI would do probably something like this</p>\n\n<pre><code>if(Arrays.asList(yourArray).contains(yourValue)){\n   //do something\n}else{\n   //do something else\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1217986,"reputation":1256,"user_id":1185211,"accept_rate":79,"display_name":"Bgvv1983"},"score":0,"creation_date":1435756476,"post_id":31161870,"comment_id":50333239,"body_markdown":"Here you have your cases decoupled from your array. i don&#39;t think this is desirable here.","body":"Here you have your cases decoupled from your array. i don&#39;t think this is desirable here."}],"tags":[],"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435755149,"creation_date":1435755149,"answer_id":31161870,"question_id":31161784,"body_markdown":"switch case statements don&#39;t break unless you specifically ask it to.\r\n\r\nHence for your case, you can use this as a work around,\r\n\r\n    switch(code){\r\n     case &quot;height&quot;:\r\n     case &quot;HEIGHT&quot;: \r\n     case &quot;weight&quot;:\r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\n","title":"Switch case with multiple values","body":"<p>switch case statements don't break unless you specifically ask it to.</p>\n\n<p>Hence for your case, you can use this as a work around,</p>\n\n<pre><code>switch(code){\n case \"height\":\n case \"HEIGHT\": \n case \"weight\":\n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4532124,"reputation":615,"user_id":3682254,"accept_rate":33,"display_name":"dsk"},"score":0,"creation_date":1435755325,"post_id":31161889,"comment_id":50332286,"body_markdown":"What if am reading that array of values from Database or it&#39;s values are generated while runtime","body":"What if am reading that array of values from Database or it&#39;s values are generated while runtime"},{"owner":{"account_id":1217986,"reputation":1256,"user_id":1185211,"accept_rate":79,"display_name":"Bgvv1983"},"score":0,"creation_date":1435755473,"post_id":31161889,"comment_id":50332399,"body_markdown":"See my solution @JayKadam","body":"See my solution @JayKadam"}],"tags":[],"owner":{"account_id":96438,"reputation":2390,"user_id":262114,"accept_rate":69,"display_name":"HamoriZ"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1435755196,"creation_date":1435755196,"answer_id":31161889,"question_id":31161784,"body_markdown":"You can remove the break to get OR\r\n\r\n    switch(code){\r\n     case case1:   \r\n     case case2:\r\n        doSomething();\r\n      break;\r\n    }","title":"Switch case with multiple values","body":"<p>You can remove the break to get OR</p>\n\n<pre><code>switch(code){\n case case1:   \n case case2:\n    doSomething();\n  break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418980,"reputation":76,"user_id":4976495,"display_name":"Eddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435755251,"creation_date":1435755251,"answer_id":31161908,"question_id":31161784,"body_markdown":"According to the [Java Documentation][1]:\r\n \r\n\r\n&gt; A switch works with the byte, short, char, and int primitive data\r\n&gt; types. It also works with enumerated types (discussed in Enum Types),\r\n&gt; the String class, and a few special classes that wrap certain\r\n&gt; primitive types: Character, Byte, Short, and Integer (discussed in\r\n&gt; Numbers and Strings).\r\n\r\nUnless you can boil your data down to one of these, that&#39;s all you can use. You can always break out what you would have in the statement array, but you wouldn&#39;t be able to make switch dynamic using an array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"Switch case with multiple values","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">Java Documentation</a>:</p>\n\n<blockquote>\n  <p>A switch works with the byte, short, char, and int primitive data\n  types. It also works with enumerated types (discussed in Enum Types),\n  the String class, and a few special classes that wrap certain\n  primitive types: Character, Byte, Short, and Integer (discussed in\n  Numbers and Strings).</p>\n</blockquote>\n\n<p>Unless you can boil your data down to one of these, that's all you can use. You can always break out what you would have in the statement array, but you wouldn't be able to make switch dynamic using an array.</p>\n"},{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668025510,"creation_date":1668025510,"answer_id":74380974,"question_id":31161784,"body_markdown":"Switch statements and expressions (available since Java SE 14) don&#39;t support matching values from an array. For such cases, the construct you are looking for is a chain of `if`, `else if`, and `else`. You can use `Stream` to easily check if an array contains a given element.\r\n```java\r\nprivate boolean contains(String[] array, String value) {\r\n    return Arrays.stream(array).anyMatch(value::equals);\r\n}\r\n```\r\n```java\r\nif (contains(statements, code)) {\r\n    // do something with a code\r\n} else if(contains(otherStatements, code)) {\r\n    // do something with another code\r\n} else {\r\n    // do something with other codes\r\n}\r\n```","title":"Switch case with multiple values","body":"<p>Switch statements and expressions (available since Java SE 14) don't support matching values from an array. For such cases, the construct you are looking for is a chain of <code>if</code>, <code>else if</code>, and <code>else</code>. You can use <code>Stream</code> to easily check if an array contains a given element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean contains(String[] array, String value) {\n    return Arrays.stream(array).anyMatch(value::equals);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>if (contains(statements, code)) {\n    // do something with a code\n} else if(contains(otherStatements, code)) {\n    // do something with another code\n} else {\n    // do something with other codes\n}\n</code></pre>\n"}],"owner":{"account_id":4532124,"reputation":615,"user_id":3682254,"accept_rate":33,"display_name":"dsk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22991,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":31161889,"answer_count":5,"score":5,"last_activity_date":1668025510,"creation_date":1435754923,"question_id":31161784,"body_markdown":"Is there something like array of case statement and put it as single case statement into switch- suppose\r\n\r\n    String[] statements={&quot;height&quot;,&quot;HEIGHT&quot;};\r\nand then\r\n\r\n    switch(code){\r\n     case statements: \r\n      //code here\r\n      break;\r\n     case something_else:\r\n      break;\r\n    }\r\n\r\nso if we add values into String array then it will automatically matched from that array in switch? like \r\n\r\n      var1||var2||whatever //accessed from array or anything else for matching\r\nis there any implementation similar like this?","title":"Switch case with multiple values","body":"<p>Is there something like array of case statement and put it as single case statement into switch- suppose</p>\n\n<pre><code>String[] statements={\"height\",\"HEIGHT\"};\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>switch(code){\n case statements: \n  //code here\n  break;\n case something_else:\n  break;\n}\n</code></pre>\n\n<p>so if we add values into String array then it will automatically matched from that array in switch? like </p>\n\n<pre><code>  var1||var2||whatever //accessed from array or anything else for matching\n</code></pre>\n\n<p>is there any implementation similar like this?</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020704,"post_id":74380087,"comment_id":131308965,"body_markdown":"The error message is telling you that you didn&#39;t define a method in class `emergencyButton` called `emergencyButtonToggled`.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look [here](https://linuxhint.com/call-invoke-method-from-another-class-java/).","body":"The error message is telling you that you didn&#39;t define a method in class <code>emergencyButton</code> called <code>emergencyButtonToggled</code>.  To correct the problem, you need to understand how classes, object instances and method calls work.  Have a look <a href=\"https://linuxhint.com/call-invoke-method-from-another-class-java/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1668020796,"post_id":74380087,"comment_id":131308995,"body_markdown":"Also, there should only be one `main()` method in your program, not two.","body":"Also, there should only be one <code>main()</code> method in your program, not two."},{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":2,"creation_date":1668020830,"post_id":74380087,"comment_id":131309005,"body_markdown":"You have a class called `emergencyButtonToggled`, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like `EmergencyButton`","body":"You have a class called <code>emergencyButtonToggled</code>, but a class is not a function, a class often contains functions. Also class names are typically written in PascalCase, like <code>EmergencyButton</code>"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668020888,"post_id":74380087,"comment_id":131309026,"body_markdown":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation).","body":"You don&#39;t &quot;call&quot; classes, you call methods, which exist in specific instances of classes (or are static members).  This may be the root of your misunderstanding.  Also, you might need to review program structure -- a &#39;main&#39; per class is unusual (even if one of them is not a canonical &#39;public static void&#39; implementation)."}],"answers":[{"tags":[],"owner":{"account_id":7228623,"reputation":290,"user_id":5516338,"accept_rate":50,"display_name":"ore Milanovi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668024475,"creation_date":1668021287,"answer_id":74380224,"question_id":74380087,"body_markdown":"You can&#39;t call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods. \r\n\r\nYou probably want to call method that outputs those three messages about emergency. To do that you can do two things:\r\n\r\n 1. Create an object of type `emergencyButtonToggled` and call method on that object\r\n\r\n    `emergencyButtonToggled text = new emergencyButtonToggled();\r\n    text.main(null);`\r\n  \r\n\r\n 2. Add keyword `static` to the method, so you can call it directly on the class\r\n\r\n    `emergencyButtonToggled.main(null);`\r\n\r\nBut you shouldn&#39;t do any of those things. Instead, it is better to create a static method in `emergencyButton` class and call it.\r\n\r\n    \r\n    public class emergencyButton {\r\n        private static void emergency() {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner value = new Scanner(System.in);\r\n            System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n            String button = value.nextLine();\r\n            if (&quot;Yes&quot;.equals(button)) {\r\n                System.out.println(&quot;The emergency button is pressed.&quot;);\r\n                emergency();\r\n            } else if (&quot;No&quot;.equals(button)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nP.S. Function main in your newly created class doesn&#39;t have return value, so you should add `void` before name of the method (like you can see in my example).","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>You can't call class. Class is like a group of members. And members can be fields (representing state) or methods (representing actions). So, you can only call class methods.</p>\n<p>You probably want to call method that outputs those three messages about emergency. To do that you can do two things:</p>\n<ol>\n<li><p>Create an object of type <code>emergencyButtonToggled</code> and call method on that object</p>\n<p><code>emergencyButtonToggled text = new emergencyButtonToggled(); text.main(null);</code></p>\n</li>\n<li><p>Add keyword <code>static</code> to the method, so you can call it directly on the class</p>\n<p><code>emergencyButtonToggled.main(null);</code></p>\n</li>\n</ol>\n<p>But you shouldn't do any of those things. Instead, it is better to create a static method in <code>emergencyButton</code> class and call it.</p>\n<pre><code>public class emergencyButton {\n    private static void emergency() {\n        System.out.println(&quot;Buzzer is buzzing&quot;);\n        System.out.println(&quot;Emergency, Manual Stop&quot;);\n        System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n    }\n\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (&quot;Yes&quot;.equals(button)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergency();\n        } else if (&quot;No&quot;.equals(button)) {\n            System.out.println(&quot;Buzzer is not buzzing&quot;);\n            System.out.println(&quot;No emergency&quot;);\n            break;\n        }\n    }\n}\n</code></pre>\n<p>P.S. Function main in your newly created class doesn't have return value, so you should add <code>void</code> before name of the method (like you can see in my example).</p>\n"}],"owner":{"account_id":26881771,"reputation":11,"user_id":20462070,"display_name":"ohgoditdoesntwork"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74380224,"answer_count":1,"score":-1,"last_activity_date":1668024475,"creation_date":1668020450,"question_id":74380087,"body_markdown":"Apologies in advance if the title doesn&#39;t make any sense. \r\nI&#39;m trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn&#39;t want to run. The error I am getting is as follows:\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method emergencyButtonToggled() is undefined for the type emergencyButton\r\n\r\n        at emergencyButton.main(emergencybutton.java:10)\r\n\r\n```\r\nMy code is as such: \r\n\r\n\r\n```\r\nimport java.util.*;\r\n\r\npublic class emergencyButton {\r\n    public static void main(String[] args) {\r\n        Scanner value = new Scanner(System.in);\r\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\r\n        String button = value.nextLine();\r\n        if (button.equals(&quot;Yes&quot;)) {\r\n            System.out.println(&quot;The emergency button is pressed.&quot;);\r\n            emergencyButtonToggled();\r\n        } else {\r\n            if (button.equals(&quot;No&quot;)) {\r\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\r\n                System.out.println(&quot;No emergency&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    class emergencyButtonToggled {\r\n        public main(String[] args) {\r\n            System.out.println(&quot;Buzzer is buzzing&quot;);\r\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\r\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nThank you in advance.","title":"New to Java, can&#39;t call a different class from an existing class","body":"<p>Apologies in advance if the title doesn't make any sense.\nI'm trying to call a function named &quot;emergencyButtonToggled&quot; from a variable called &quot;emergencyButton&quot; but for some reason the code doesn't want to run. The error I am getting is as follows:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method emergencyButtonToggled() is undefined for the type emergencyButton\n\n        at emergencyButton.main(emergencybutton.java:10)\n\n</code></pre>\n<p>My code is as such:</p>\n<pre><code>import java.util.*;\n\npublic class emergencyButton {\n    public static void main(String[] args) {\n        Scanner value = new Scanner(System.in);\n        System.out.println(&quot;Is the emergency button pressed? (Yes/No)&quot;);\n        String button = value.nextLine();\n        if (button.equals(&quot;Yes&quot;)) {\n            System.out.println(&quot;The emergency button is pressed.&quot;);\n            emergencyButtonToggled();\n        } else {\n            if (button.equals(&quot;No&quot;)) {\n                System.out.println(&quot;Buzzer is not buzzing&quot;);\n                System.out.println(&quot;No emergency&quot;);\n                break;\n            }\n        }\n    }\n\n    class emergencyButtonToggled {\n        public main(String[] args) {\n            System.out.println(&quot;Buzzer is buzzing&quot;);\n            System.out.println(&quot;Emergency, Manual Stop&quot;);\n            System.out.println(&quot;Emergency, Water Reservoirs empty&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","queue","anylogic"],"answers":[{"tags":[],"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380558,"question_id":74380350,"body_markdown":"you use &quot;select true output&quot; if condition is true\r\n\r\nand then, assuming that queue1 is on the true exit, you do\r\n\r\n    queue1.size()&lt;=queue2.size()\r\n\r\nthat will be the condition\r\n","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>you use &quot;select true output&quot; if condition is true</p>\n<p>and then, assuming that queue1 is on the true exit, you do</p>\n<pre><code>queue1.size()&lt;=queue2.size()\n</code></pre>\n<p>that will be the condition</p>\n"}],"owner":{"account_id":26138571,"reputation":13,"user_id":19828278,"display_name":"Pedro Sousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74380558,"answer_count":1,"score":-1,"last_activity_date":1668023094,"creation_date":1668021942,"question_id":74380350,"body_markdown":"I want that the select output direct each agent to the queue with the shortest size.\r\n\r\nI know that we can use queue.size to know the length but i don&#39;t know how to use it in the conditions of the select output.\r\n\r\nThank you A LOT","title":"How can we select, in the output select, the queue with the shortest size in anylogic?","body":"<p>I want that the select output direct each agent to the queue with the shortest size.</p>\n<p>I know that we can use queue.size to know the length but i don't know how to use it in the conditions of the select output.</p>\n<p>Thank you A LOT</p>\n"},{"tags":["java","spring-boot","maven","kotlin","gradle"],"comments":[{"owner":{"account_id":6463623,"reputation":981,"user_id":5544978,"accept_rate":60,"display_name":"Don Hosek"},"score":0,"creation_date":1614572191,"post_id":66416425,"comment_id":117416728,"body_markdown":"Did you also do `compileJava.inputs.files(processResources)` in your gradle file?","body":"Did you also do <code>compileJava.inputs.files(processResources)</code> in your gradle file?"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573275,"post_id":66416425,"comment_id":117416913,"body_markdown":"@DonHosek Yes, and `compileJava.dependsOn(processResources)`","body":"@DonHosek Yes, and <code>compileJava.dependsOn(processResources)</code>"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1614573339,"post_id":66416425,"comment_id":117416927,"body_markdown":"@DonHosek Even I run tast `processResources`, no generated in META-INF","body":"@DonHosek Even I run tast <code>processResources</code>, no generated in META-INF"}],"answers":[{"tags":[],"owner":{"account_id":2534361,"reputation":1,"user_id":2201881,"display_name":"unsafeheaven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629456784,"creation_date":1629456194,"answer_id":68860964,"question_id":66416425,"body_markdown":"Along with the steps you have mentioned you also need to add a class mapping. Something like below.\r\n\r\n    import lombok.Data;    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n    @ConfigurationProperties(prefix = &quot;my.props&quot;)\r\n    @Data\r\n    public class MyProperties {\r\n\r\n      /**\r\n       * Prop1 description.\r\n       */\r\n       private String prop1;\r\n\r\n       /**\r\n       * Prop2 description.\r\n       */\r\n       private String prop2;\r\n    }\r\n\r\n\r\nIt&#39;s okay to add a class without props but it&#39;s needed.\r\n\r\n\r\nSample content of resources/META-INF/additional-spring-configuration-metadata.json\r\n\r\n    {\r\n       &quot;properties&quot;: [\r\n          {\r\n             &quot;name&quot;: &quot;my.props.prop1&quot;,\r\n             &quot;type&quot;: &quot;java.lang.String&quot;,\r\n             &quot;description&quot;: &quot;Prop1 description&quot;,\r\n             &quot;defaultValue&quot;: &quot;property 1&quot;\r\n          }\r\n        ]\r\n     }","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>Along with the steps you have mentioned you also need to add a class mapping. Something like below.</p>\n<pre><code>import lombok.Data;    \nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = &quot;my.props&quot;)\n@Data\npublic class MyProperties {\n\n  /**\n   * Prop1 description.\n   */\n   private String prop1;\n\n   /**\n   * Prop2 description.\n   */\n   private String prop2;\n}\n</code></pre>\n<p>It's okay to add a class without props but it's needed.</p>\n<p>Sample content of resources/META-INF/additional-spring-configuration-metadata.json</p>\n<pre><code>{\n   &quot;properties&quot;: [\n      {\n         &quot;name&quot;: &quot;my.props.prop1&quot;,\n         &quot;type&quot;: &quot;java.lang.String&quot;,\n         &quot;description&quot;: &quot;Prop1 description&quot;,\n         &quot;defaultValue&quot;: &quot;property 1&quot;\n      }\n    ]\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272131,"reputation":917,"user_id":563045,"accept_rate":67,"display_name":"Jacob Wallace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668023094,"creation_date":1668023094,"answer_id":74380557,"question_id":66416425,"body_markdown":"I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:\r\n\r\n- Rename `src/main/kotlin` to `src/main/java`.\r\n- Use an explicit version for the dependency, e.g.:\r\n\r\n```\r\ndependencies {\r\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\r\n}\r\n```","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I had to do two things to get it working in my Kotlin + Spring Boot + Gradle project:</p>\n<ul>\n<li>Rename <code>src/main/kotlin</code> to <code>src/main/java</code>.</li>\n<li>Use an explicit version for the dependency, e.g.:</li>\n</ul>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor:2.7.5&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":706,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668023094,"creation_date":1614570903,"question_id":66416425,"body_markdown":"I want to generate Spring Boot configuration metadata, with this way:\r\n\r\n[configuration-metadata-annotation-processor-setup][1]\r\n\r\nIn maven, its ok:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut in gradle, no generated:\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n    }\r\n\r\nThere is same problem with `spring-boot-configuration-processor`, maven is OK but gradle not.\r\n\r\nPlugins I used is `java` or `org.jetbrains.kotlin.jvm`, not `org.springframework.boot`, but I don&#39;t think here is the problem (with plugin `org.springframework.boot`, the problem still exists).\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup","title":"Cannot generate Spring Boot configuration metadata with gradle","body":"<p>I want to generate Spring Boot configuration metadata, with this way:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html#configuration-metadata-annotation-processor-setup\" rel=\"nofollow noreferrer\">configuration-metadata-annotation-processor-setup</a></p>\n<p>In maven, its ok:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But in gradle, no generated:</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n}\n</code></pre>\n<p>There is same problem with <code>spring-boot-configuration-processor</code>, maven is OK but gradle not.</p>\n<p>Plugins I used is <code>java</code> or <code>org.jetbrains.kotlin.jvm</code>, not <code>org.springframework.boot</code>, but I don't think here is the problem (with plugin <code>org.springframework.boot</code>, the problem still exists).</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1669005916,"post_id":74380468,"comment_id":131535887,"body_markdown":"using @Lazy gives ```LazyInitializationException```, when I access ```fraud.getFraudActions()```. How should we eliminate it.","body":"using @Lazy gives <code>LazyInitializationException</code>, when I access <code>fraud.getFraudActions()</code>. How should we eliminate it."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1669046461,"post_id":74380468,"comment_id":131548483,"body_markdown":"Lazy means it is unfetched, and Hibernate throws this exception if you try to fetch it after the context (EntityManager) is closed. Other providers can extend it, but best practice is to fetch what you need while the context is still open. If you know you need to call fraud.getFraudActions, you can use join fetch in your queries, or fetch/load graphs to specify what needs to be loaded in the returned entities. Or you can just call fraud.getFraudActions directly before returning the fraud instance(s) to make sure they are fetched in the transaction/EM scope.","body":"Lazy means it is unfetched, and Hibernate throws this exception if you try to fetch it after the context (EntityManager) is closed. Other providers can extend it, but best practice is to fetch what you need while the context is still open. If you know you need to call fraud.getFraudActions, you can use join fetch in your queries, or fetch/load graphs to specify what needs to be loaded in the returned entities. Or you can just call fraud.getFraudActions directly before returning the fraud instance(s) to make sure they are fetched in the transaction/EM scope."}],"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668022916,"creation_date":1668022574,"answer_id":74380468,"question_id":74375315,"body_markdown":"These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn&#39;t detailed exactly in the specification, but that they work pretty much is. \r\n\r\nYou&#39;ve only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:\r\n\r\n    Fraud fraudA = em.find(1, Fraud.class);\r\n    Fraud fraudAPrime = em.find(1, Fraud.class);\r\n    assertTrue(fraudA == fraudAPrime)\r\n\r\nJPA requires that fraudA and fraudAPrime must be the same object instance. \r\n\r\nJPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the &#39;fraudA&#39; instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.\r\n\r\nLazy is one other method JPA allows for providers to deal with large object graphs: If it doesn&#39;t need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn&#39;t map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you&#39;d have to write your own find by action method). \r\n\r\nWhere problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don&#39;t have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>These are JPA annotations and cycles, which providers know about and so knows how to deal with it - how isn't detailed exactly in the specification, but that they work pretty much is.</p>\n<p>You've only got one cycle, the bidirectional Fraud-FraudActionEntity relationship. Some level of entity caching is required by JPA providers for entity identity management already. if you peform:</p>\n<pre><code>Fraud fraudA = em.find(1, Fraud.class);\nFraud fraudAPrime = em.find(1, Fraud.class);\nassertTrue(fraudA == fraudAPrime)\n</code></pre>\n<p>JPA requires that fraudA and fraudAPrime must be the same object instance.</p>\n<p>JPA mandated that references (FKs) reference only an entities primary key, making cache lookups to build these references manageable. So when building a Fraud and fetching FraudActionEntity, it can check the cache for each and just return that instance if it is already there. Same if it is building a FraudActionEntity instance - it can check if the Fraud referenced by the FK value already exists and return if from the cache instead of having to build it from the DB. This short circuits problems with bidirectional and cyclic references, and ensure that you only ever get the 'fraudA' instance when traversing any object graph read from a context, no matter how you traverse the graph or fetch it. Object identity is fundamental to JPA.</p>\n<p>Lazy is one other method JPA allows for providers to deal with large object graphs: If it doesn't need to fetch something, that solves the problem too. This can help with cycles, but is more aimed at pruning large object graphs. Reading in a Fraud might be a problem if you had the Actions have a 1:M to FraudActionEntity. You just didn't map the relationship, pruning the graph when fetching frauds similar to how lazy does, but without the hooks to fetch it later (you'd have to write your own find by action method).</p>\n<p>Where problems with cycles usually occur is when some other form of serialization is involved. Common with REST/Spring and the like is that these entity instances will be serialized into JSON. These serialization tools (Jackson is common) are NOT JPA implementations, so do not know about or even look at JPA annotations. They are what would hit issues with this circular object reference, and you can easily find questions and solutions on how to deal with that here - in short, this level of serialization needs to be looked at and dealt with, and the solutions can be quite different from the model you need to read from the database. They don't have the same entity caching mechanisms built in, so should be tuned independently based on application performance needs and requirements.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380468,"answer_count":1,"score":0,"last_activity_date":1668022916,"creation_date":1667998948,"question_id":74375315,"body_markdown":"I have 3 tables in the DB and 3 JPA entities respectively in Java application.\r\n    \r\n    @Data\r\n    @Entity\r\n    public class Fraud {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;fraud_type&quot;)\r\n        private String fraudType;\r\n    \r\n        @Column(name = &quot;fraud_value&quot;)\r\n        private String fraudValue;\r\n    \r\n        @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\r\n        private List&lt;FraudActionEntity&gt; fraudActions;\r\n        \r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class FraudActionEntity {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;fraud_id&quot;)\r\n        private Fraud fraud;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;action_id&quot;)\r\n        private Action action;\r\n    \r\n        @Column(name = &quot;enabled&quot;)\r\n        private Boolean enabled;\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    public class Action {\r\n\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Integer id;\r\n   \r\n        @Column(name = &quot;attribute_key&quot;)\r\n        private String attributeKey;\r\n    \r\n        @Column(name = &quot;attribute_value&quot;)\r\n        private String attributeValue;\r\n    \r\n    }\r\n\r\n    @Repository\r\n    public interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\r\n    \r\n        public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\r\n    \r\n    }\r\n\r\n#### My use case\r\n\r\nOn a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.\r\n\r\n#### Access code\r\n\r\n    Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\r\n    log.info(fraud.getFraudActions().get(0).getAction());  \r\n\r\nWhen I above code runs, everything works OK.  I get the `fraud` and `fraudActions` associations as well, without getting any error. \r\n\r\nI was under the impression that as both entities `Fraud` and `FraudActionEntity` are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn&#39;t!\r\n\r\nWhy did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;fraud_id&quot;)\r\n    private Fraud fraud;\r\n\r\n","title":"Bi-directional EagerFetch @oneTomany mapping worked","body":"<p>I have 3 tables in the DB and 3 JPA entities respectively in Java application.</p>\n<pre><code>@Data\n@Entity\npublic class Fraud {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;fraud_type&quot;)\n    private String fraudType;\n\n    @Column(name = &quot;fraud_value&quot;)\n    private String fraudValue;\n\n    @OneToMany(mappedBy = &quot;fraud&quot;, fetch = FetchType.EAGER)\n    private List&lt;FraudActionEntity&gt; fraudActions;\n    \n}\n\n@Data\n@Entity\npublic class FraudActionEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;fraud_id&quot;)\n    private Fraud fraud;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;action_id&quot;)\n    private Action action;\n\n    @Column(name = &quot;enabled&quot;)\n    private Boolean enabled;\n}\n\n@Data\n@Entity\npublic class Action {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;attribute_key&quot;)\n    private String attributeKey;\n\n    @Column(name = &quot;attribute_value&quot;)\n    private String attributeValue;\n\n}\n\n@Repository\npublic interface FraudRepository extends JpaRepository&lt;Fraud, Integer&gt; {\n\n    public Fraud findByFraudTypeAndFraudValue(String fraudType, String fraudValue);\n\n}\n</code></pre>\n<h4>My use case</h4>\n<p>On a certain type of fraud, I want to traverse all the actions that triggers from that type of fraud and act on them.</p>\n<h4>Access code</h4>\n<pre><code>Fraud fraud = fraudRepository.findByFraudTypeAndFraudValue(&quot;Type&quot;, &quot;Value&quot;);\nlog.info(fraud.getFraudActions().get(0).getAction());  \n</code></pre>\n<p>When I above code runs, everything works OK.  I get the <code>fraud</code> and <code>fraudActions</code> associations as well, without getting any error.</p>\n<p>I was under the impression that as both entities <code>Fraud</code> and <code>FraudActionEntity</code> are fetching each other eagerly, so it should give some error like cyclic fetch/infinite fetch loop, but it didn't!</p>\n<p>Why did it work? And when exactly will give it error like cyclic fetch error OR infinite fetch loop error? And if it does give a cyclic fetch error, can we fix it using lazy fetch at @ManyToOne side as given below:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;fraud_id&quot;)\nprivate Fraud fraud;\n</code></pre>\n"},{"tags":["java","android","mobile","automation","appium"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1506419805,"post_id":46423194,"comment_id":79803735,"body_markdown":"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp","body":"<a href=\"http://www.seleniumhq.org/exceptions/invalid_selector_exception.jsp\" rel=\"nofollow noreferrer\">seleniumhq.org/exceptions/invalid_selector_exception.jsp</a>"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420316,"post_id":46423194,"comment_id":79804101,"body_markdown":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like:\n`TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker);\ntimePicker.setHour(hour);\ntimePicker.setMinute(minute);`\nIs that what you need?","body":"I&#39;m not sure if this is what you are asking for, but If you need to set a time in a time picker you can do something like: <code>TimePicker timePicker = (TimePicker) findViewById(R.id.time_picker); timePicker.setHour(hour); timePicker.setMinute(minute);</code> Is that what you need?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420648,"post_id":46423194,"comment_id":79804315,"body_markdown":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0","body":"@MaxPower: Actually you are referring to the development, What I need to know is how to automate the time picker in Android 5.0"},{"owner":{"account_id":5741569,"reputation":636,"user_id":4534129,"display_name":"xstmpx"},"score":0,"creation_date":1506420735,"post_id":46423194,"comment_id":79804368,"body_markdown":"What do you mean by automate?","body":"What do you mean by automate?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1506420868,"post_id":46423194,"comment_id":79804480,"body_markdown":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that.","body":"@MaxPower: Using an Automation script, I need to set the time for the time picker. I am using Appium for that."}],"answers":[{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1506423683,"creation_date":1506423683,"answer_id":46424663,"question_id":46423194,"body_markdown":"I have solved this issue by using findElementByAccessibilityId\r\n\r\n    androidDriver.findElementByAccessibilityId(&quot;6&quot;).click();","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I have solved this issue by using findElementByAccessibilityId</p>\n\n<pre><code>androidDriver.findElementByAccessibilityId(\"6\").click();\n</code></pre>\n"}],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46424663,"answer_count":1,"score":1,"last_activity_date":1668022841,"creation_date":1506419541,"question_id":46423194,"body_markdown":"I need to automate the Android 5.0 Native Time Picker to select a time parameterized. \r\n\r\n![Android 5.0 Native Time Picker][1] \r\n\r\nI have searched in several threads and blogs, but I can not find a way to do this.\r\n\r\nI have tried with this,\r\n\r\n    androidDriver.findElement(By.name(&quot;6&quot;)).click();\r\n    androidDriver.findElement(By.name(&quot;45&quot;)).click();\r\n\r\nBut it will give an error like below.\r\n\r\n![Error log][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iDDrd.png\r\n  [2]: https://i.stack.imgur.com/E6FuZ.png","title":"How to Automate Time Picker on Android 5.0 using Appium Java","body":"<p>I need to automate the Android 5.0 Native Time Picker to select a time parameterized. </p>\n\n<p><img src=\"https://i.stack.imgur.com/iDDrd.png\" alt=\"Android 5.0 Native Time Picker\"> </p>\n\n<p>I have searched in several threads and blogs, but I can not find a way to do this.</p>\n\n<p>I have tried with this,</p>\n\n<pre><code>androidDriver.findElement(By.name(\"6\")).click();\nandroidDriver.findElement(By.name(\"45\")).click();\n</code></pre>\n\n<p>But it will give an error like below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/E6FuZ.png\" alt=\"Error log\"></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":241437,"reputation":5355,"user_id":512251,"accept_rate":59,"display_name":"user"},"score":2,"creation_date":1379558759,"post_id":6225537,"comment_id":27874129,"body_markdown":"possible duplicate of [How do I &quot;decompile&quot; Java class files?](http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a>"},{"owner":{"account_id":11219534,"reputation":1,"user_id":8231095,"display_name":"Anu"},"score":0,"creation_date":1500955622,"post_id":6225537,"comment_id":77551871,"body_markdown":"Try below online tool. It also seems good: **www.showmycode.com/**","body":"Try below online tool. It also seems good: <b>www.showmycode.com/</b>"}],"answers":[{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":7,"creation_date":1361990303,"post_id":6225559,"comment_id":21278072,"body_markdown":"I strongly disagree that `javap -c Classname` is a correct answer. You don&#39;t use `javap` to decompile files (translate the binary into source code). `javap` is merely a disassembler. This does not produce Java source code for you. You need a proper java decompiler such as jad or the likes.\nMaybe I&#39;m not understanding something about `javap` after all these years, but I believe all the answers pointing it, are simply incorrect.","body":"I strongly disagree that <code>javap -c Classname</code> is a correct answer. You don&#39;t use <code>javap</code> to decompile files (translate the binary into source code). <code>javap</code> is merely a disassembler. This does not produce Java source code for you. You need a proper java decompiler such as jad or the likes. Maybe I&#39;m not understanding something about <code>javap</code> after all these years, but I believe all the answers pointing it, are simply incorrect."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":3,"creation_date":1361990974,"post_id":6225559,"comment_id":21278429,"body_markdown":"Did you read the question? Did you read the part that says *&quot;I have the same error `ERROR:Could not find ClassName.class` Do you guys have any idea of what might be the cause?&quot;* Also, did you read the part of my answer which addresses how to actually decompile .class-files? Could you please clarify what you find incorrect about my answer?","body":"Did you read the question? Did you read the part that says <i>&quot;I have the same error <code>ERROR:Could not find ClassName.class</code> Do you guys have any idea of what might be the cause?&quot;</i> Also, did you read the part of my answer which addresses how to actually decompile .class-files? Could you please clarify what you find incorrect about my answer?"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":2,"down_vote_count":3,"up_vote_count":53,"is_accepted":true,"score":50,"last_activity_date":1470928220,"creation_date":1307094953,"answer_id":6225559,"question_id":6225537,"body_markdown":"Invoking `javap` to read the bytecode\r\n-------------------------------------\r\nThe `javap` command takes class-names without the `.class` extension. Try\r\n\r\n    javap -c ClassName\r\n\r\nConverting .class files back to .java files\r\n----------\r\n\r\n`javap` will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.\r\n\r\nTo actually *decompile* (i.e., do the reverse of `javac`) you will have to use proper decompiler. See for instance the following related question:\r\n\r\n- https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files","title":"Convert .class to .java","body":"<h2>Invoking <code>javap</code> to read the bytecode</h2>\n\n<p>The <code>javap</code> command takes class-names without the <code>.class</code> extension. Try</p>\n\n<pre><code>javap -c ClassName\n</code></pre>\n\n<h2>Converting .class files back to .java files</h2>\n\n<p><code>javap</code> will however not give you the implementations of the methods in java-syntax. It will at most give it to you in JVM bytecode format.</p>\n\n<p>To actually <em>decompile</em> (i.e., do the reverse of <code>javac</code>) you will have to use proper decompiler. See for instance the following related question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/272535/how-do-i-decompile-java-class-files\">How do I &quot;decompile&quot; Java class files?</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":2,"creation_date":1307095113,"post_id":6225571,"comment_id":7252071,"body_markdown":"`javap` takes arguments without the `.class` extension. (If you provide the `.class` extension it will yield that exact error message.) (And actually, it accepts non-fully qualified class names as long as it can find the .class file in the current directory)","body":"<code>javap</code> takes arguments without the <code>.class</code> extension. (If you provide the <code>.class</code> extension it will yield that exact error message.) (And actually, it accepts non-fully qualified class names as long as it can find the .class file in the current directory)"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307095016,"creation_date":1307095016,"answer_id":6225571,"question_id":6225537,"body_markdown":"I&#39;m guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it&#39;s not in the CLASSPATH so javap can&#39;t find it.\r\n\r\n","title":"Convert .class to .java","body":"<p>I'm guessing that either the class name is wrong - be sure to use the fully-resolved class name, with all packages - or it's not in the CLASSPATH so javap can't find it.</p>\n"},{"comments":[{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":1,"creation_date":1378089137,"post_id":15119331,"comment_id":27314124,"body_markdown":"The only thing you&#39;ve added to OP is to make sure that he&#39;s in the correct directory.  I sincerely hope that wasn&#39;t the original problem.  And you don&#39;t address the actual problem: he needs to leave `.class` off the end.","body":"The only thing you&#39;ve added to OP is to make sure that he&#39;s in the correct directory.  I sincerely hope that wasn&#39;t the original problem.  And you don&#39;t address the actual problem: he needs to leave <code>.class</code> off the end."}],"tags":[],"owner":{"account_id":2424348,"reputation":9,"user_id":2116624,"display_name":"user2116624"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1361990181,"creation_date":1361989056,"answer_id":15119331,"question_id":6225537,"body_markdown":"This is for Mac users:\r\n\r\nfirst of all you have to clarify where the class file is... so for example, in &#39;Terminal&#39; (A Mac Application) you would type:\r\n\r\n    cd\r\n\r\nthen wherever you file is e.g:\r\n\r\n\r\n    cd /Users/CollarBlast/Desktop/JavaFiles/\r\n\r\n\r\nthen you would hit enter. After that you would do the command.\r\ne.g:\r\n\r\n\r\n`cd /Users/CollarBlast/Desktop/JavaFiles/`     (then i would press enter...)\r\n\r\n\r\nThen i would type the command:\r\n\r\n\r\n`javap -c JavaTestClassFile.class`      (then i would press enter again...)\r\n\r\n\r\nand hopefully it should work!\r\n\r\n","title":"Convert .class to .java","body":"<p>This is for Mac users:</p>\n\n<p>first of all you have to clarify where the class file is... so for example, in 'Terminal' (A Mac Application) you would type:</p>\n\n<pre><code>cd\n</code></pre>\n\n<p>then wherever you file is e.g:</p>\n\n<pre><code>cd /Users/CollarBlast/Desktop/JavaFiles/\n</code></pre>\n\n<p>then you would hit enter. After that you would do the command.\ne.g:</p>\n\n<p><code>cd /Users/CollarBlast/Desktop/JavaFiles/</code>     (then i would press enter...)</p>\n\n<p>Then i would type the command:</p>\n\n<p><code>javap -c JavaTestClassFile.class</code>      (then i would press enter again...)</p>\n\n<p>and hopefully it should work!</p>\n"},{"tags":[],"owner":{"account_id":12445000,"reputation":59,"user_id":9061448,"display_name":"Renato Espinoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607964155,"creation_date":1607964155,"answer_id":65292888,"question_id":6225537,"body_markdown":"I used the http://www.javadecompilers.com but in some classes it gives you the message &quot;could not load this classes...&quot;\r\n\r\nINSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there","title":"Convert .class to .java","body":"<p>I used the <a href=\"http://www.javadecompilers.com\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com</a> but in some classes it gives you the message &quot;could not load this classes...&quot;</p>\n<p>INSTEAD download Android Studio, navigate to the folder containing the java class file and double click it.  The code will show in the right pane and I guess you can copy it an save it as a java file from there</p>\n"},{"tags":[],"owner":{"account_id":21411832,"reputation":31,"user_id":15771851,"display_name":"Shiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022516,"creation_date":1668022516,"answer_id":74380455,"question_id":6225537,"body_markdown":"Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\r\nStep 2: Using the below online decompiler, upload your .class file and read the contents\r\nhttp://www.javadecompilers.com/","title":"Convert .class to .java","body":"<p>Step 1: If your class file is inside a jar, rename the .jar extension to .zip and extract the zip folder\nStep 2: Using the below online decompiler, upload your .class file and read the contents\n<a href=\"http://www.javadecompilers.com/\" rel=\"nofollow noreferrer\">http://www.javadecompilers.com/</a></p>\n"}],"owner":{"account_id":336165,"reputation":1739,"user_id":663672,"accept_rate":75,"display_name":"fabricemarcelin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310151,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":6225559,"answer_count":5,"score":40,"last_activity_date":1668022516,"creation_date":1307094811,"question_id":6225537,"body_markdown":"I have some .class files that I need to convert to .java so I did:\r\n\r\n    javap -c ClassName.class\r\n\r\nand all the time I have the same error\r\n```\r\nERROR:Could not find ClassName.class\r\n```\r\nDo you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try. ","title":"Convert .class to .java","body":"<p>I have some .class files that I need to convert to .java so I did:</p>\n<pre><code>javap -c ClassName.class\n</code></pre>\n<p>and all the time I have the same error</p>\n<pre><code>ERROR:Could not find ClassName.class\n</code></pre>\n<p>Do you guys have any idea of what might be the cause? I did man javap and as far as I know, the syntax is correct. If there is another way to convert it to a .java file, I am more than willing to try.</p>\n"},{"tags":["java","graphics","geometry","trigonometry","segment"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1389819724,"post_id":21148084,"comment_id":31829988,"body_markdown":"Less a Java problem and more a Math problem.","body":"Less a Java problem and more a Math problem."},{"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"score":0,"creation_date":1389819946,"post_id":21148084,"comment_id":31830115,"body_markdown":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing..","body":"I was thinking that at first. But it&#39;s not really the geometry that is the problem, it&#39;s rather the coordinate-system that makes it all confusing.."},{"owner":{"account_id":525694,"reputation":5632,"user_id":1010405,"accept_rate":73,"display_name":"NoChance"},"score":1,"creation_date":1389822162,"post_id":21148084,"comment_id":31831406,"body_markdown":"Take a look at: http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm","body":"Take a look at: <a href=\"http://www.regentsprep.org/Regents/math/geometry/GCG6/RCir.htm\" rel=\"nofollow noreferrer\">regentsprep.org/Regents/math/geometry/GCG6/RCir.htm</a>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668022230,"creation_date":1389821165,"answer_id":21148558,"question_id":21148084,"body_markdown":"There&#39;s a well-known relationship (see [here][1], for instance) between the chord half length, the height of the arc (also called the _sagitta_), and the radius. Let the chord length (the distance between p&lt;sub&gt;1&lt;/sub&gt; and p&lt;sub&gt;2&lt;/sub&gt; be _l_ = 2 _d_, let the arc height be _h_, and let the radius be _r_. Then\r\n\r\n&gt; _r_ = (_d_ &lt;sup&gt;2&lt;/sup&gt; + _h_ &lt;sup&gt;2&lt;/sup&gt;) / (2 _h_)\r\n\r\nThe center is on the perpendicular bisector of the chord, at a distance _r_ - _h_ from the chord, on the opposite side from the arc.&lt;sup&gt;1&lt;/sup&gt; You can then use standard inverse trig functions to get the start and end angles for the chord.\r\n\r\n&lt;sub&gt;&amp;nbsp;&lt;sup&gt;1&lt;/sup&gt; Note that it is not enough to know _p_&lt;sub&gt;1&lt;/sub&gt;, _p_&lt;sub&gt;2&lt;/sub&gt;, and _h_; you need some way of identifying which side of the chord has the center and which side has the arc.&lt;/sub&gt;\r\n\r\n  [1]: https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>There's a well-known relationship (see <a href=\"https://web.archive.org/web/20171223110118/http://mathforum.org/library/drmath/view/55037.html\" rel=\"nofollow noreferrer\">here</a>, for instance) between the chord half length, the height of the arc (also called the <em>sagitta</em>), and the radius. Let the chord length (the distance between p<sub>1</sub> and p<sub>2</sub> be <em>l</em> = 2 <em>d</em>, let the arc height be <em>h</em>, and let the radius be <em>r</em>. Then</p>\n<blockquote>\n<p><em>r</em> = (<em>d</em> <sup>2</sup> + <em>h</em> <sup>2</sup>) / (2 <em>h</em>)</p>\n</blockquote>\n<p>The center is on the perpendicular bisector of the chord, at a distance <em>r</em> - <em>h</em> from the chord, on the opposite side from the arc.<sup>1</sup> You can then use standard inverse trig functions to get the start and end angles for the chord.</p>\n<p><sub><sup>1</sup> Note that it is not enough to know <em>p</em><sub>1</sub>, <em>p</em><sub>2</sub>, and <em>h</em>; you need some way of identifying which side of the chord has the center and which side has the arc.</sub></p>\n"}],"owner":{"account_id":2981191,"reputation":1927,"user_id":2531105,"accept_rate":70,"display_name":"Robin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6262,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21148558,"answer_count":1,"score":4,"last_activity_date":1668022230,"creation_date":1389819643,"question_id":21148084,"body_markdown":"I&#39;m trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.\r\n\r\n    drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\r\n\r\nFirst I observe that the x, y, width and height values describes a rectangle containing the circle.\r\n\r\n&gt; The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html)\r\n\r\nSo first I start by calculating the x,y,width and height values. The picture below describes how I would do this.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sCCuT.png\r\n\r\nThe first picture shows what values I&#39;ve already got. The arc in the first picture is exactly what I&#39;m trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:\r\n\r\n    int dx = p1.x- p2.x;\r\n    int dy = p1.y - p2.y;\r\n    double len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\r\n\r\nAs shown in picture three I can now calculate the radius of the circle by using the following function.\r\n\r\n    radius = h/2 + len^2 / 8h\r\n\r\nThe first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.\r\n\r\nIf I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.\r\n\r\n    x = centerPoint.x - radius;\r\n    y = centerPoint.y - radius;\r\n    width = radius * 2;\r\n    height = radius * 2;\r\n\r\nThe last part is to calculate the startAngle and arcAngle based on the values we already calculated. \r\n\r\n**TL;DR** I need help with calculating the angles and the center point.\r\n\r\nThanks in advance!","title":"How do I draw an arc based on two given points and a given height describing a circle segment?","body":"<p>I'm trying to draw an arc based on two given points and a given height describing a circle segment. To acomplish this I would use the following method from java.awt.Graphics.</p>\n\n<pre><code>drawArc(int x, int y, int width, int height, int startAngle, int arcAngle)\n</code></pre>\n\n<p>First I observe that the x, y, width and height values describes a rectangle containing the circle.</p>\n\n<blockquote>\n  <p>The center of the arc is the center of the rectangle whose origin is (x, y) and whose size is specified by the width and height arguments. (<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html</a>)</p>\n</blockquote>\n\n<p>So first I start by calculating the x,y,width and height values. The picture below describes how I would do this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/sCCuT.png\" alt=\"enter image description here\"></p>\n\n<p>The first picture shows what values I've already got. The arc in the first picture is exactly what I'm trying to draw. In picture number two I calculate the lenght of a line between the two points. My code to perform this step would look like this:</p>\n\n<pre><code>int dx = p1.x- p2.x;\nint dy = p1.y - p2.y;\ndouble len = Math.sqrt(Math.pow((double)dx, 2) + Math.pow((double)dy, 2));\n</code></pre>\n\n<p>As shown in picture three I can now calculate the radius of the circle by using the following function.</p>\n\n<pre><code>radius = h/2 + len^2 / 8h\n</code></pre>\n\n<p>The first problem I encounter is to calculate the CenterPoint of the circle. This is partly where I need help.</p>\n\n<p>If I was to calculate the Center Point I can then easily find the x, y, whith and height coordinates.</p>\n\n<pre><code>x = centerPoint.x - radius;\ny = centerPoint.y - radius;\nwidth = radius * 2;\nheight = radius * 2;\n</code></pre>\n\n<p>The last part is to calculate the startAngle and arcAngle based on the values we already calculated. </p>\n\n<p><strong>TL;DR</strong> I need help with calculating the angles and the center point.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","for-loop","sum","big-o","time-complexity"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1376393303,"post_id":18207510,"comment_id":26686192,"body_markdown":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this.","body":"Hello and welcome to Stack Overflow. To get maximum attention to your question, and to get the correct code color formatting, always specify the programming language used. I added a C tag to fix this."},{"owner":{"account_id":2573628,"reputation":138441,"user_id":2231815,"display_name":"rakib_"},"score":0,"creation_date":1376395123,"post_id":18207510,"comment_id":26687294,"body_markdown":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1).","body":"The first example and the SUM notation (1 = N) you&#39;ve shown - isn&#39;t correct. In SUM notation, N is a variable, can be any integer. N=1 it&#39;s not because a = i cost&#39;s 1. Cost will be dependent upon N, so cost would be something like - total_cost = N * 1 (since a = i cost&#39;s 1)."},{"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"score":1,"creation_date":1376396032,"post_id":18207510,"comment_id":26687818,"body_markdown":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1","body":"The first example is correct. N is just a variable as you say and the cost for the operation inside the loop is 1. a is not a=a+i, it just a constant operation of a=i, costs 1. It&#39;s not even interesting to in this case, just think of it as a cost of 1. And if you write out the complete sum for the example, 1+1+1+1+1+1+1+1+1 n number of times and sum thoses 1s up, it will be equal to n. Go check on wolfram alpha and use Sum 1, i=0 to n-1"}],"answers":[{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022186,"creation_date":1376429959,"answer_id":18219686,"question_id":18207510,"body_markdown":"Logarithmic\r\n-----------\r\n\r\nThe second for-loop will never stop (`0 * 2 = 0`). I guess, you were asking about this loop:\r\n\r\n    for (int i = 1; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\nIn this case the complexity expressed via the sum notation will be:\r\n\r\n **Sum 1, i=1 to log(n-1) == O(log n)**\r\n\r\n\r\nTriple nested\r\n-----------\r\nIn this case it will be the summation of:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   1   1   1   1   1   .       n\r\n     2   2   2   2   2   .           2(n-1)\r\n     3   3   3   3   .               3(n-2)\r\n     4   4   4   .                   4(n-3)\r\n     .   .   .                       .\r\n    n-1 n-1                          2(n-1)\r\n     n                               n\r\n\r\nor alternatively if I transpose the triangle:\r\n\r\n     number of steps                 sum\r\n     --------------------------------------\r\n     1   2   3   4   .  n-1   n      n(n+1)/2 \r\n     1   2   3   4   .  n-1          (n-1)(n)/2\r\n     1   2   3   4   .               (n-2)(n-1)/2\r\n     1   2   3   .                   4(n-3)\r\n     1   2   .                       .\r\n     1   .                           3\r\n     .                               1\r\n\r\nThe numbers on the right side (in the second triangle) are also called [triangle numbers][1]. So the question is equivalent to \r\n\r\n&quot;*What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).*&quot;\r\n\r\nThe answer to this question is\r\n\r\n**f(n) = n(n+1)(n+2)/6**\r\n\r\nThe proof is [here][2].\r\n\r\nSo the resulting complexity in big-o is **O(n^3)**\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Triangular_number\r\n  [2]: https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html","title":"Logarithmic and other for loop converted to sum notation","body":"<h2>Logarithmic</h2>\n<p>The second for-loop will never stop (<code>0 * 2 = 0</code>). I guess, you were asking about this loop:</p>\n<pre><code>for (int i = 1; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n<p>In this case the complexity expressed via the sum notation will be:</p>\n<p><strong>Sum 1, i=1 to log(n-1) == O(log n)</strong></p>\n<h2>Triple nested</h2>\n<p>In this case it will be the summation of:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   1   1   1   1   1   .       n\n 2   2   2   2   2   .           2(n-1)\n 3   3   3   3   .               3(n-2)\n 4   4   4   .                   4(n-3)\n .   .   .                       .\nn-1 n-1                          2(n-1)\n n                               n\n</code></pre>\n<p>or alternatively if I transpose the triangle:</p>\n<pre><code> number of steps                 sum\n --------------------------------------\n 1   2   3   4   .  n-1   n      n(n+1)/2 \n 1   2   3   4   .  n-1          (n-1)(n)/2\n 1   2   3   4   .               (n-2)(n-1)/2\n 1   2   3   .                   4(n-3)\n 1   2   .                       .\n 1   .                           3\n .                               1\n</code></pre>\n<p>The numbers on the right side (in the second triangle) are also called <a href=\"https://en.wikipedia.org/wiki/Triangular_number\" rel=\"nofollow noreferrer\">triangle numbers</a>. So the question is equivalent to</p>\n<p>&quot;<em>What is the sum of triangle numbers lower or equal than f(n). (f(1) + f(2) + f(n), where f(x) = x(x+1)/2).</em>&quot;</p>\n<p>The answer to this question is</p>\n<p><strong>f(n) = n(n+1)(n+2)/6</strong></p>\n<p>The proof is <a href=\"https://web.archive.org/web/20171227155102/http://mathforum.org/library/drmath/view/56926.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So the resulting complexity in big-o is <strong>O(n^3)</strong></p>\n"},{"comments":[{"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"score":0,"creation_date":1376469561,"post_id":18221106,"comment_id":26719841,"body_markdown":"Thanks for the answer. I do however need a more exact answer, I knew it was n^3 and it&#39;s not the exact answer. Thanks again.","body":"Thanks for the answer. I do however need a more exact answer, I knew it was n^3 and it&#39;s not the exact answer. Thanks again."}],"tags":[],"owner":{"account_id":916158,"reputation":5567,"user_id":948918,"accept_rate":43,"display_name":"pkacprzak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376437923,"creation_date":1376437923,"answer_id":18221106,"question_id":18207510,"body_markdown":"The triple nested loop\r\n=\r\n&lt;br/&gt;\r\nI&#39;ll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. \r\n\r\nThis is a very general method, you can use it to bound many multiple index summations without a big effort.\r\n\r\nUpper bound\r\n-\r\n\r\nFirst of all, let&#39;s derive an upper bound for the sum. It&#39;s quite easy:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLower bound\r\n-\r\n\r\nThe trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It&#39;s also pretty easy:\r\n\r\n![enter image description here][2]\r\n\r\nPutting it together\r\n-\r\nFrom both inequalities, you can deduce that:\r\n\r\n![enter image description here][3]\r\n\r\nWhich in terms of the asymptotic analysis gives:\r\n\r\n![enter image description here][4]\r\n\r\n\r\nAs you can see, your triple nested loop has the same asymptotic time complexity as:\r\n\r\n    for(int i = 0; i &lt; n; i = i + 1)  \r\n       for(int j = 0; j &lt; n; j = j + 1)  \r\n          for(int k = 0; k &lt; n; k = k + 1)  \r\n             //operations of cost 1\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GHLBz.gif\r\n  [2]: http://i.stack.imgur.com/PCCCe.gif\r\n  [3]: http://i.stack.imgur.com/nRVCr.gif\r\n  [4]: http://i.stack.imgur.com/AKrQg.gif","title":"Logarithmic and other for loop converted to sum notation","body":"<h1>The triple nested loop</h1>\n\n<p><br/>\nI'll give a simple, but a very useful method to analyze such summations in terms of the asymptotic notation. </p>\n\n<p>This is a very general method, you can use it to bound many multiple index summations without a big effort.</p>\n\n<h2>Upper bound</h2>\n\n<p>First of all, let's derive an upper bound for the sum. It's quite easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GHLBz.gif\" alt=\"enter image description here\"></p>\n\n<h2>Lower bound</h2>\n\n<p>The trick in this case is to derive the lower bound. The rule of thumb is to reduce the summation range incrementing the lower summation index to the fraction of the upper index and then substitute the new lower index as the upper index in the nested loop. It's also pretty easy:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PCCCe.gif\" alt=\"enter image description here\"></p>\n\n<h2>Putting it together</h2>\n\n<p>From both inequalities, you can deduce that:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nRVCr.gif\" alt=\"enter image description here\"></p>\n\n<p>Which in terms of the asymptotic analysis gives:</p>\n\n<p><img src=\"https://i.stack.imgur.com/AKrQg.gif\" alt=\"enter image description here\"></p>\n\n<p>As you can see, your triple nested loop has the same asymptotic time complexity as:</p>\n\n<pre><code>for(int i = 0; i &lt; n; i = i + 1)  \n   for(int j = 0; j &lt; n; j = j + 1)  \n      for(int k = 0; k &lt; n; k = k + 1)  \n         //operations of cost 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394809609,"creation_date":1394769911,"answer_id":22395882,"question_id":18207510,"body_markdown":"**For the logarithmic loop:**\r\n\r\nFirst, you can&#39;t initialize the index with zero when dealing with logarithmic loops.\r\n\r\nSecond, the following is the way to present the algorithmic loop using Sigma notation:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nLook at the last slide of [this document][2] of Dr. Jauhar.\r\n\r\n**For the three nested loops:**\r\n\r\n![enter image description here][3]\r\n\r\n\r\nMark Allen Weiss work may help you considerably. See this [link][4].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/6t804.png\r\n  [2]: http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\r\n  [3]: http://i.stack.imgur.com/9xV7M.png\r\n  [4]: http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt","title":"Logarithmic and other for loop converted to sum notation","body":"<p><strong>For the logarithmic loop:</strong></p>\n\n<p>First, you can't initialize the index with zero when dealing with logarithmic loops.</p>\n\n<p>Second, the following is the way to present the algorithmic loop using Sigma notation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/6t804.png\" alt=\"enter image description here\"></p>\n\n<p>Look at the last slide of <a href=\"http://faculty.kfupm.edu.sa/ics/jauhar/ics202/Unit03_ComplexityAnalysis1.ppt\" rel=\"nofollow noreferrer\">this document</a> of Dr. Jauhar.</p>\n\n<p><strong>For the three nested loops:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/9xV7M.png\" alt=\"enter image description here\"></p>\n\n<p>Mark Allen Weiss work may help you considerably. See this <a href=\"http://homes.ieu.edu.tr/cevrendilek/CE221_week_4_Chapter2_AlgorithmAnalysisPart2.ppt\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}],"owner":{"account_id":3165866,"reputation":41,"user_id":2675904,"display_name":"user2675904"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3937,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1668022186,"creation_date":1376392122,"question_id":18207510,"body_markdown":"I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.\r\n\r\nLike this: (Correct for example loop)\r\n\r\n![Image][1]\r\n\r\n\r\nAs an example:\r\n     \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n      a = i; //cost 1\r\n\r\nSum 1, i=0 to n-1 == n.   \r\n\r\n\r\nI need help with following:\r\n\r\n\r\nLogarithmic (just the correct sum notation)   \r\n    \r\n    for (int i = 0; i &lt; n; i = 2 * i)  \r\n      a = i; //cost 1\r\n\r\n\r\nSum 1, i=0 to log(n)-1 == log n. Correct??\r\n\r\nTriple nested (both sum notation and step by step why it ends up like it)   \r\n   \r\n    for (int i = 0; i &lt; n; i = i + 1)  \r\n    for (int j = 0; j &lt;= i; j = j + 1)  \r\n    for (int k = 0; k &lt;= j; k = k + 1)  \r\n      a=i; //cost 1\r\n\r\n\r\n![Image][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/YAMwe.png\r\n  [2]: http://i.stack.imgur.com/hUxdH.png","title":"Logarithmic and other for loop converted to sum notation","body":"<p>I need help with for loops converted to a sum nations. Some of are easy but others are a bit tricky. I need getting the sum notation setup correctly.</p>\n\n<p>Like this: (Correct for example loop)</p>\n\n<p><img src=\"https://i.stack.imgur.com/YAMwe.png\" alt=\"Image\"></p>\n\n<p>As an example:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to n-1 == n.   </p>\n\n<p>I need help with following:</p>\n\n<p>Logarithmic (just the correct sum notation)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = 2 * i)  \n  a = i; //cost 1\n</code></pre>\n\n<p>Sum 1, i=0 to log(n)-1 == log n. Correct??</p>\n\n<p>Triple nested (both sum notation and step by step why it ends up like it)   </p>\n\n<pre><code>for (int i = 0; i &lt; n; i = i + 1)  \nfor (int j = 0; j &lt;= i; j = j + 1)  \nfor (int k = 0; k &lt;= j; k = k + 1)  \n  a=i; //cost 1\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/hUxdH.png\" alt=\"Image\"></p>\n"},{"tags":["java","calendar"],"answers":[{"comments":[{"owner":{"account_id":1016938,"reputation":187,"user_id":2631632,"accept_rate":75,"display_name":"Michael Dornisch"},"score":0,"creation_date":1375135466,"post_id":17934259,"comment_id":26206694,"body_markdown":"the leap method was only for another part of the program that was not written yet, where All I needed to do was print if the year used was a leap year or not. It runs independently of the other 2 methods. But thanks for the help","body":"the leap method was only for another part of the program that was not written yet, where All I needed to do was print if the year used was a leap year or not. It runs independently of the other 2 methods. But thanks for the help"}],"tags":[],"owner":{"account_id":2989156,"reputation":340,"user_id":2537147,"display_name":"Maxime Piraux"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375132241,"creation_date":1375132241,"answer_id":17934259,"question_id":17934093,"body_markdown":"The `leap` method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before =&gt; because last year was a leap year)\r\n","title":"Java: calculating day of week works for all dates except this month","body":"<p>The <code>leap</code> method is never called. That could be that. Because the first day of this month is Monday not Tuesday (just a day before => because last year was a leap year)</p>\n"},{"comments":[{"owner":{"account_id":1016938,"reputation":187,"user_id":2631632,"accept_rate":75,"display_name":"Michael Dornisch"},"score":0,"creation_date":1375135663,"post_id":17934587,"comment_id":26206758,"body_markdown":"thanks for your help, I found that I was missing a case needed for that formula. When dealing with January and February, you need to make them months 13 and 14, respectively, of the previous year. so 1/2013 would be 13/2012.","body":"thanks for your help, I found that I was missing a case needed for that formula. When dealing with January and February, you need to make them months 13 and 14, respectively, of the previous year. so 1/2013 would be 13/2012."}],"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668022182,"creation_date":1375133538,"answer_id":17934587,"question_id":17934093,"body_markdown":"Not sure if you&#39;re formula is correct and the numbers to day matches up with it.  [Link](https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html)\r\n\r\nN = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n\r\n\r\ni would also make this method more generic\r\n\r\n     public int firstDayOfYear(int day, int month, int year) {\r\n            int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\r\n            return day % 7;\r\n        }\r\n\r\n     System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\r\n   ","title":"Java: calculating day of week works for all dates except this month","body":"<p>Not sure if you're formula is correct and the numbers to day matches up with it.  <a href=\"https://web.archive.org/web/20171220175657/http://mathforum.org/library/drmath/view/55837.html\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2</p>\n<p>i would also make this method more generic</p>\n<pre><code> public int firstDayOfYear(int day, int month, int year) {\n        int day = day + (2*month) + ((3*(month+1))/5) + year + (year/4) - (year/100) + (year/ 400) +2;\n        return day % 7;\n    }\n\n System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(1, 1, inYear));\n</code></pre>\n"}],"owner":{"account_id":1016938,"reputation":187,"user_id":2631632,"accept_rate":75,"display_name":"Michael Dornisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3728,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17934587,"answer_count":2,"score":2,"last_activity_date":1668022182,"creation_date":1375131561,"question_id":17934093,"body_markdown":"I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.\r\n\r\nMy code works with any month/year I supply, except for this month(7/2013). I can&#39;t figure out why that would be. Can anybody help with this?\r\nExamples of the outputs are as follows:\r\n\r\nWrong example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2013\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 2\r\n    First day of the year: 1\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nRight Example\r\n\r\n    run:\r\n    Gregorian Calendar Creator\r\n    Enter a month: 7\r\n    Enter a year: 2012\r\n    0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\r\n    Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date\r\n    First day of the month: 1\r\n    First day of the year: 0\r\n    BUILD SUCCESSFUL (total time: 5 seconds)\r\n\r\nI have linked a downloadable Java file [here][1]\r\n\r\n    package calendar;\r\n\r\n    /**\r\n     *\r\n     * @author Michael Dornisch\r\n     */\r\n    import java.util.Scanner;\r\n\r\n    public class Calendar {\r\n\r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            //Initiating vars\r\n            int inMonth;\r\n            int inYear;\r\n\r\n            //Initiating Scanner\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.println(&quot;Gregorian Calendar Creator&quot;); //Just a print line\r\n\r\n            /* This block gets a month. Instead of exiting when the user inputs an \r\n             * invalid month, it instead asks again untl a proper month is used.\r\n             */\r\n            System.out.print(&quot;Enter a month: &quot;);\r\n            inMonth = input.nextInt();\r\n            while (inMonth &gt; 12 || inMonth &lt;= 0) {\r\n                System.out.println(&quot;ERROR: Improper month. Please enter a proper numerical month (1-12).&quot;);\r\n                System.out.print(&quot;Enter a month: &quot;);\r\n                inMonth = input.nextInt();\r\n            }\r\n            /* This block gets a year. Instead of exiting when the user inputs an \r\n             * invalid year, it instead asks again untl a proper year is used.\r\n             */\r\n            System.out.print(&quot;Enter a year: &quot;);\r\n            inYear = input.nextInt();\r\n            while (inYear &lt; 1752) {\r\n                System.out.println(&quot;ERROR: Improper Year. Please enter a year that is 1753 or greater.&quot;);\r\n                System.out.print(&quot;Enter a year: &quot;);\r\n                inYear = input.nextInt();\r\n            }\r\n            /* Here is where I am testing everything\r\n             * \r\n             */\r\n            Calendar newCal = new Calendar();\r\n            System.out.println(&quot;0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat&quot;);\r\n            System.out.println(&quot;Test this in a UNIX terminal by typing &#39;cal July 2013&#39; or similar date&quot;);\r\n            System.out.println(&quot;First day of the month: &quot; + newCal.firstDayOfMonth(inMonth, inYear));\r\n            System.out.println(&quot;First day of the year: &quot; + newCal.firstDayOfYear(inYear));\r\n        }\r\n\r\n        public boolean leap(int inputYear) {\r\n\r\n            /* This IF is checked first. If the year is divisible by 100, it isn&#39;t a \r\n             * leap year unless it is also divisible by 400. \r\n             */\r\n            if (inputYear % 100 == 0) {\r\n                if (inputYear % 400 == 0) {\r\n                    return (true);\r\n                } else {\r\n                    return (false);\r\n                }\r\n            }\r\n            //Any other number that&#39;s divisible by 4 is also a leap year\r\n            if (inputYear % 4 == 0) {\r\n                return (true);\r\n            } else {\r\n                return (false);\r\n            }\r\n        }\r\n\r\n        public int firstDayOfYear(int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n\r\n        public int firstDayOfMonth(int inputMonth, int inputYear) {\r\n            /*\r\n             * Here is a formula for finding the day of the week for ANY date.\r\n             * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\r\n             * N = day of week\r\n             * d = day of month\r\n             * m = number of month\r\n             * y = year\r\n             *  mod 7 for answer\r\n             * 0 = sunday, 1 = monday, etc.\r\n             */\r\n            int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\r\n            day = day % 7;\r\n            return (day);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://app.box.com/s/su6oaufutyikmg2nqmvo","title":"Java: calculating day of week works for all dates except this month","body":"<p>I am writing a program for my programming class, where the objective is to calculate the day of the week of a day and month entered. I must do this without using the Calendar class.</p>\n\n<p>My code works with any month/year I supply, except for this month(7/2013). I can't figure out why that would be. Can anybody help with this?\nExamples of the outputs are as follows:</p>\n\n<p>Wrong example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2013\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 2\nFirst day of the year: 1\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>Right Example</p>\n\n<pre><code>run:\nGregorian Calendar Creator\nEnter a month: 7\nEnter a year: 2012\n0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\nTest this in a UNIX terminal by typing 'cal July 2013' or similar date\nFirst day of the month: 1\nFirst day of the year: 0\nBUILD SUCCESSFUL (total time: 5 seconds)\n</code></pre>\n\n<p>I have linked a downloadable Java file <a href=\"https://app.box.com/s/su6oaufutyikmg2nqmvo\" rel=\"nofollow\">here</a></p>\n\n<pre><code>package calendar;\n\n/**\n *\n * @author Michael Dornisch\n */\nimport java.util.Scanner;\n\npublic class Calendar {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        //Initiating vars\n        int inMonth;\n        int inYear;\n\n        //Initiating Scanner\n        Scanner input = new Scanner(System.in);\n\n        System.out.println(\"Gregorian Calendar Creator\"); //Just a print line\n\n        /* This block gets a month. Instead of exiting when the user inputs an \n         * invalid month, it instead asks again untl a proper month is used.\n         */\n        System.out.print(\"Enter a month: \");\n        inMonth = input.nextInt();\n        while (inMonth &gt; 12 || inMonth &lt;= 0) {\n            System.out.println(\"ERROR: Improper month. Please enter a proper numerical month (1-12).\");\n            System.out.print(\"Enter a month: \");\n            inMonth = input.nextInt();\n        }\n        /* This block gets a year. Instead of exiting when the user inputs an \n         * invalid year, it instead asks again untl a proper year is used.\n         */\n        System.out.print(\"Enter a year: \");\n        inYear = input.nextInt();\n        while (inYear &lt; 1752) {\n            System.out.println(\"ERROR: Improper Year. Please enter a year that is 1753 or greater.\");\n            System.out.print(\"Enter a year: \");\n            inYear = input.nextInt();\n        }\n        /* Here is where I am testing everything\n         * \n         */\n        Calendar newCal = new Calendar();\n        System.out.println(\"0=Sun, 1=Mon, 2=Tues, 3=Wed, 4=Thu, 5=Fri, 6=Sat\");\n        System.out.println(\"Test this in a UNIX terminal by typing 'cal July 2013' or similar date\");\n        System.out.println(\"First day of the month: \" + newCal.firstDayOfMonth(inMonth, inYear));\n        System.out.println(\"First day of the year: \" + newCal.firstDayOfYear(inYear));\n    }\n\n    public boolean leap(int inputYear) {\n\n        /* This IF is checked first. If the year is divisible by 100, it isn't a \n         * leap year unless it is also divisible by 400. \n         */\n        if (inputYear % 100 == 0) {\n            if (inputYear % 400 == 0) {\n                return (true);\n            } else {\n                return (false);\n            }\n        }\n        //Any other number that's divisible by 4 is also a leap year\n        if (inputYear % 4 == 0) {\n            return (true);\n        } else {\n            return (false);\n        }\n    }\n\n    public int firstDayOfYear(int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 5 + (6 / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n\n    public int firstDayOfMonth(int inputMonth, int inputYear) {\n        /*\n         * Here is a formula for finding the day of the week for ANY date.\n         * N = d + 2m + [3(m+1)/5] + y + [y/4] - [y/100] + [y/400] + 2\n         * N = day of week\n         * d = day of month\n         * m = number of month\n         * y = year\n         *  mod 7 for answer\n         * 0 = sunday, 1 = monday, etc.\n         */\n        int day = 3 + (2 * inputMonth) + ((3 * (inputMonth + 1)) / 5) + inputYear + (inputYear / 4) - (inputYear / 100) + (inputYear / 400);\n        day = day % 7;\n        return (day);\n    }\n}\n</code></pre>\n"},{"tags":["java","drools","rule-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923857,"post_id":74358461,"comment_id":131281511,"body_markdown":"`second condition stays same even tho I change panicMode field` -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager.","body":"<code>second condition stays same even tho I change panicMode field</code> -&gt; can you please show how you &quot;change the panicMode field&quot;? Your example is only changing the state of the TradeEvent, but not the state of the PanicButtonManager."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1667923989,"post_id":74358461,"comment_id":131281556,"body_markdown":"Also a bit more detail on these models would be helpful in understanding how they relate to each other.","body":"Also a bit more detail on these models would be helpful in understanding how they relate to each other."},{"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"score":0,"creation_date":1668014203,"post_id":74358461,"comment_id":131306781,"body_markdown":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade.","body":"State of the PanicButtonManager is changed outside of drools. Whenever I invoke new TradeEvent I pass panicMode field value to the message and it works. The value passed is changing and printed correctly. The thing is that the state of PanicButtonManager inside the drools stays the same. Even tho the field is changed for the drools it stays the same. For the more details on the models. Basically you can imagine that Trade Event is what name says. Whenever something is getting traded event is created. Panic mode is restriction to those trades. When it&#39;s on not everyone is allowed to trade."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1668021850,"post_id":74358461,"comment_id":131309322,"body_markdown":"External changes are not visible if you don&#39;t call `update` on PanicButtonManager. `modify` is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state.","body":"External changes are not visible if you don&#39;t call <code>update</code> on PanicButtonManager. <code>modify</code> is making the trade event changes visible, but the PanicButtonManager&#39;s previous state is retained because you&#39;ve not informed Drools of new state."}],"answers":[{"comments":[{"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"score":0,"creation_date":1668111346,"post_id":74380370,"comment_id":131333518,"body_markdown":"The thing is that since it&#39;s updated outside of drools i need to have the new state in &quot;when&quot; section. If it&#39;s updated in &quot;then&quot; the other rules would evaluate inappropriate. TradeEvent on the other side is always new and created with factory and injected. What i did to temporary fix the issue with panic button manager is I inject it into TradeEvent but I feel like it&#39;s inappropriate","body":"The thing is that since it&#39;s updated outside of drools i need to have the new state in &quot;when&quot; section. If it&#39;s updated in &quot;then&quot; the other rules would evaluate inappropriate. TradeEvent on the other side is always new and created with factory and injected. What i did to temporary fix the issue with panic button manager is I inject it into TradeEvent but I feel like it&#39;s inappropriate"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1668208259,"post_id":74380370,"comment_id":131357843,"body_markdown":"That&#39;s what `update` does. It updates the value in working memory (&quot;in the when&quot;) and refires all of the rules to see what is now valid to match on. Changing it &quot;in the then&quot; is inappropriate.","body":"That&#39;s what <code>update</code> does. It updates the value in working memory (&quot;in the when&quot;) and refires all of the rules to see what is now valid to match on. Changing it &quot;in the then&quot; is inappropriate."}],"tags":[],"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668022072,"creation_date":1668022072,"answer_id":74380370,"question_id":74358461,"body_markdown":"From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call `update` to trigger a reevaluation of the rules with the new value. The `modify` is only making the new state of the TradeEvent visible.\r\n\r\nThe syntax would be like this:\r\n\r\n```\r\nrule &quot;...&quot;\r\nwhen\r\n  // ...\r\n  p: PanicButtonManager( panicModeEnabled )\r\nthen\r\n  // ...\r\n  update(p);\r\nend\r\n```\r\n\r\nNote that `update` will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>From the comments, the state of PanicButtonManager is modified outside of Drools. Therefore to make the changed state visible, you need to call <code>update</code> to trigger a reevaluation of the rules with the new value. The <code>modify</code> is only making the new state of the TradeEvent visible.</p>\n<p>The syntax would be like this:</p>\n<pre><code>rule &quot;...&quot;\nwhen\n  // ...\n  p: PanicButtonManager( panicModeEnabled )\nthen\n  // ...\n  update(p);\nend\n</code></pre>\n<p>Note that <code>update</code> will reevaluate all of the rules with the new condition(s), not just the remaining rules in the previous set of matches.</p>\n"}],"owner":{"account_id":26865051,"reputation":1,"user_id":20447940,"display_name":"Rubdys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668022072,"creation_date":1667900024,"question_id":74358461,"body_markdown":"Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;)\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\n```\r\n\r\nThe thing is that when I change field panicModeEnabled value in drools it&#39;s not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it&#39;s working fine:\r\n\r\n\r\n```\r\nwhen\r\n   $tradeEvent : TradeEvent(\r\n   bookShortName == &quot;FMBTHQLA&quot;);\r\n   p : PanicButtonManager(\r\n      panicModeEnabled)\r\nthen      \r\n   modify ($tradeEvent){\r\n      messageCode = &quot;PM003&quot;,\r\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\r\n      tradeValidationStatus = STATUS.ERROR\r\n   }\r\n```\r\n\r\nThis code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).\r\n\r\nWhy in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn&#39;t update with change of field, but field prints correctly in message. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHow do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).","title":"Drools not working as intended. In when section object status doesn&#39;t change. How do I make it update?","body":"<p>Intention is to rule to activate when TradeEvent with specific book name appears, and PanicButtonManager panic mode is enabled:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;)\n   p : PanicButtonManager(\n      panicModeEnabled)\n</code></pre>\n<p>The thing is that when I change field panicModeEnabled value in drools it's not updated. The field value is constant from time of PanicButtonManager creation. But when I try to &quot;print&quot; it it's working fine:</p>\n<pre><code>when\n   $tradeEvent : TradeEvent(\n   bookShortName == &quot;FMBTHQLA&quot;);\n   p : PanicButtonManager(\n      panicModeEnabled)\nthen      \n   modify ($tradeEvent){\n      messageCode = &quot;PM003&quot;,\n      message = &quot;HQLA: FMBTHQLA is restricted to HQLA mode. Panic status: &quot; + p.isPanicModeEnabled(),\n      tradeValidationStatus = STATUS.ERROR\n   }\n</code></pre>\n<p>This code activated whenever new TradeEvent appears with specific book name, but second condition stays same even tho I change panicMode field. But at the same time in message it prints correct status(it changes).</p>\n<p>Why in &quot;when&quot; section evaluation of panicModeEnabled stays same? It keeps value from creation of class PanicButtonManager and doesn't update with change of field, but field prints correctly in message.</p>\n<p>How do I make PanicButtonManager evaluate correctly in when section(Not keep state from creation time but update with field update).</p>\n"},{"tags":["java","maven","jenkins","jenkins-pipeline","maven-3"],"answers":[{"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1628785167,"post_id":68760561,"comment_id":121520367,"body_markdown":"I actually think you can: https://maven.apache.org/maven-ci-friendly.html#multi-module-setup","body":"I actually think you can: <a href=\"https://maven.apache.org/maven-ci-friendly.html#multi-module-setup\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html#multi-module-setup</a>"},{"owner":{"account_id":17490217,"reputation":161,"user_id":12682515,"display_name":"Faisal Khan"},"score":1,"creation_date":1628785243,"post_id":68760561,"comment_id":121520400,"body_markdown":"I was referring to the documentation https://maven.apache.org/maven-ci-friendly.html#multi-module-setup. The sample in the documentation uses ${revision} for version as well. And in my local it was failing initially and when I added the flatten maven plugin it started working locally.","body":"I was referring to the documentation <a href=\"https://maven.apache.org/maven-ci-friendly.html#multi-module-setup\" rel=\"nofollow noreferrer\">maven.apache.org/maven-ci-friendly.html#multi-module-setup</a>. The sample in the documentation uses ${revision} for version as well. And in my local it was failing initially and when I added the flatten maven plugin it started working locally."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1628799709,"post_id":68760561,"comment_id":121524946,"body_markdown":"The given answer is not correct because that&#39;s the intended thing to get rid of that hard coded version... But the most important part is the usage of the flatten maven plugin .... otherwise it will fail (You have to read the docs until the end of the page).","body":"The given answer is not correct because that&#39;s the intended thing to get rid of that hard coded version... But the most important part is the usage of the flatten maven plugin .... otherwise it will fail (You have to read the docs until the end of the page)."}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1628783312,"creation_date":1628783312,"answer_id":68760561,"question_id":68760474,"body_markdown":"In\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n```\r\n\r\nyou can&#39;t have `${revision}` for `version`. Maven don&#39;t know where to get it. You need to use actual version.\r\n\r\nPS: I don&#39;t know how you manage to build it locally.","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>In</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>you can't have <code>${revision}</code> for <code>version</code>. Maven don't know where to get it. You need to use actual version.</p>\n<p>PS: I don't know how you manage to build it locally.</p>\n"},{"tags":[],"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647116235,"creation_date":1647116235,"answer_id":71452650,"question_id":68760474,"body_markdown":"The following configuration is missing in your parent pom.xml for the flatten plugin:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\r\n      &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\r\n    &lt;/configuration&gt;  \r\n\r\nI believe you have to add this configuration for ci-friendly projects, as explained [here](https://maven.apache.org/maven-ci-friendly.html#install-deploy).\r\n\r\n\r\n","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>The following configuration is missing in your parent pom.xml for the flatten plugin:</p>\n<pre><code>&lt;configuration&gt;\n  &lt;updatePomFile&gt;true&lt;/updatePomFile&gt;\n  &lt;flattenMode&gt;resolveCiFriendliesOnly&lt;/flattenMode&gt;\n&lt;/configuration&gt;  \n</code></pre>\n<p>I believe you have to add this configuration for ci-friendly projects, as explained <a href=\"https://maven.apache.org/maven-ci-friendly.html#install-deploy\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":17490217,"reputation":161,"user_id":12682515,"display_name":"Faisal Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2122,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668021704,"creation_date":1628782956,"question_id":68760474,"body_markdown":"I&#39;m trying to use [maven friendly ci][1] for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.\r\n\r\nI have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn&#39;t work. And I get the below error\r\n\r\nError\r\n\r\n&gt; [ERROR] [ERROR] Some problems were encountered while processing the\r\n&gt; POMs: [FATAL] Non-resolvable parent POM for\r\n&gt; com.faskan:child-module:[unknown-version]:\r\n&gt; Could not transfer artifact\r\n&gt; com.faskan:parent-module:pom:${revision} from/to nexus\r\n\r\nParent project&#39;s pom.xml\r\n\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n        &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;project parent pom&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\r\n        &lt;/properties&gt;\r\n\r\n       &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;configuration&gt;                \r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- enable flattening --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;flatten&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- ensure proper cleanup --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;flatten.clean&lt;/id&gt;\r\n                        &lt;phase&gt;clean&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;clean&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n    ...\r\n    &lt;/project&gt;\r\n\r\nChild project&#39;s pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;name&gt;child admin&lt;/name&gt;\r\n    \r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nChild of child project (grand child)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;child of child module&lt;/name&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.faskan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;child-module&lt;/artifactId&gt;\r\n            &lt;version&gt;${revision}&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    ..\r\n    &lt;/project&gt;\r\n\r\nI found a similar question https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v. Not sure if mine is the same because I don&#39;t get any parse failure errors.\r\n\r\n\r\n  [1]: https://maven.apache.org/maven-ci-friendly.html","title":"Maven friendly CI - revision property doesn&#39;t work with Jenkins build","body":"<p>I'm trying to use <a href=\"https://maven.apache.org/maven-ci-friendly.html\" rel=\"nofollow noreferrer\">maven friendly ci</a> for my multi-module project. My project has three levels of parent child hierarchy, i.e., my parent project has few child projects and those child projects has many other child projects within them.</p>\n<p>I have added a sample of my pom files below. My parent pom has a flatten plugin as well, everything works fine in my local machine. But when I build it from Jenkins, it doesn't work. And I get the below error</p>\n<p>Error</p>\n<blockquote>\n<p>[ERROR] [ERROR] Some problems were encountered while processing the\nPOMs: [FATAL] Non-resolvable parent POM for\ncom.faskan:child-module:[unknown-version]:\nCould not transfer artifact\ncom.faskan:parent-module:pom:${revision} from/to nexus</p>\n</blockquote>\n<p>Parent project's pom.xml</p>\n<pre><code>&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;global-parent-dependency&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n    &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;project parent pom&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;revision&gt;21.15.0-SNAPSHOT&lt;/revision&gt;\n    &lt;/properties&gt;\n\n   &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;flatten-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n            &lt;configuration&gt;                \n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;!-- enable flattening --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten&lt;/id&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;flatten&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;!-- ensure proper cleanup --&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;flatten.clean&lt;/id&gt;\n                    &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n...\n&lt;/project&gt;\n</code></pre>\n<p>Child project's pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;parent-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;child admin&lt;/name&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>Child of child project (grand child)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;grand-child-module&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;child of child module&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.faskan&lt;/groupId&gt;\n        &lt;artifactId&gt;child-module&lt;/artifactId&gt;\n        &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;/parent&gt;\n..\n&lt;/project&gt;\n</code></pre>\n<p>I found a similar question <a href=\"https://stackoverflow.com/questions/58608128/how-do-you-get-maven-child-projects-to-build-in-jenkins-when-using-ci-friendly-v\">How do you get maven child projects to build in Jenkins when using CI Friendly versions?</a>. Not sure if mine is the same because I don't get any parse failure errors.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":20933387,"reputation":84,"user_id":15379171,"display_name":"HittingMyCode"},"score":0,"creation_date":1668073077,"post_id":74380293,"comment_id":131320178,"body_markdown":"This not works, when retrieve the value in controller the value not changed","body":"This not works, when retrieve the value in controller the value not changed"}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668021603,"creation_date":1668021603,"answer_id":74380293,"question_id":74379690,"body_markdown":"In your `Filter` you can create an anonymous subclass of `HttpServletRequestWrapper`, override the method `public String getHeader(String name)` so that it returns a specific value for the header name you care about (and delegates to `super.getHeader(String)` if it&#39;s not the header name you care about).\r\n\r\nSomething like this:\r\n\r\n```java\r\n  @Override\r\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n      throws IOException, ServletException {\r\n   HttpServletRequest servletRequest = (HttpServletRequest) request;\r\n\r\n   HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper(servletRequest) {\r\n      @Override\r\n      public String getHeader(String name) {\r\n        if (&quot;myHeader&quot;.equalsIgnoreCase(name)) {\r\n          return &quot;Some value&quot;;\r\n        }\r\n\r\n        return super.getHeader(name);\r\n      }\r\n    };\r\n\r\n    chain.doFilter(requestWrapper, response);\r\n  }\r\n```","title":"Update request headers before goind to controller","body":"<p>In your <code>Filter</code> you can create an anonymous subclass of <code>HttpServletRequestWrapper</code>, override the method <code>public String getHeader(String name)</code> so that it returns a specific value for the header name you care about (and delegates to <code>super.getHeader(String)</code> if it's not the header name you care about).</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n      throws IOException, ServletException {\n   HttpServletRequest servletRequest = (HttpServletRequest) request;\n\n   HttpServletRequestWrapper requestWrapper = new HttpServletRequestWrapper(servletRequest) {\n      @Override\n      public String getHeader(String name) {\n        if (&quot;myHeader&quot;.equalsIgnoreCase(name)) {\n          return &quot;Some value&quot;;\n        }\n\n        return super.getHeader(name);\n      }\n    };\n\n    chain.doFilter(requestWrapper, response);\n  }\n</code></pre>\n"}],"owner":{"account_id":20933387,"reputation":84,"user_id":15379171,"display_name":"HittingMyCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668021603,"creation_date":1668018167,"question_id":74379690,"body_markdown":"I can&#39;t update a header inside my interceptor before it gets to my controller, through the interceptor I would like to modify an already present header\r\n\r\n```\r\npublic class MyInterceptor implements Filter {\r\n   \r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest req = (HttpServletRequest) servletRequest;\r\n        HttpServletResponse res = (HttpServletResponse) servletResponse;\r\n        //something\r\n        //myHeaders is still present when send a request\r\n        req.setAttribute(&quot;myHeaders&quot;,&quot;someValue&quot;);\r\n        chain.doFilter(req, rest);\r\n    }\r\n}\r\n```\r\n\r\nSo that inside the controller I can get the modified header:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class FooClass{\r\n    \r\n        @Autowired\r\n        private Service service;\r\n\r\n        @GetMapping(&quot;/foo&quot;)\r\n        public ResponseEntity&lt;Void&gt; fooApi(\r\n                @RequestHeader(value = &quot;myHeaders&quot;) String myHeaders,\r\n        ) {\r\n            service.doSomething(myHeaders);\r\n            return ResponseEntity.ok().build();\r\n        }\r\n}\r\n\r\n```\r\n\r\nHow could I do? I tried to do some research but failed.","title":"Update request headers before goind to controller","body":"<p>I can't update a header inside my interceptor before it gets to my controller, through the interceptor I would like to modify an already present header</p>\n<pre><code>public class MyInterceptor implements Filter {\n   \n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) servletRequest;\n        HttpServletResponse res = (HttpServletResponse) servletResponse;\n        //something\n        //myHeaders is still present when send a request\n        req.setAttribute(&quot;myHeaders&quot;,&quot;someValue&quot;);\n        chain.doFilter(req, rest);\n    }\n}\n</code></pre>\n<p>So that inside the controller I can get the modified header:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class FooClass{\n    \n        @Autowired\n        private Service service;\n\n        @GetMapping(&quot;/foo&quot;)\n        public ResponseEntity&lt;Void&gt; fooApi(\n                @RequestHeader(value = &quot;myHeaders&quot;) String myHeaders,\n        ) {\n            service.doSomething(myHeaders);\n            return ResponseEntity.ok().build();\n        }\n}\n\n</code></pre>\n<p>How could I do? I tried to do some research but failed.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2","http-status-code-403"],"comments":[{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1496153006,"post_id":44256527,"comment_id":75536844,"body_markdown":"I am pretty sure this is issue with your &quot;credential file&quot; accessibility (those myaccesskey() methods), just to prove, replace these with real accesskey &amp; security key.","body":"I am pretty sure this is issue with your &quot;credential file&quot; accessibility (those myaccesskey() methods), just to prove, replace these with real accesskey &amp; security key."},{"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"score":0,"creation_date":1496220289,"post_id":44256527,"comment_id":75566587,"body_markdown":"I&#39;ve checked with provider.getCredentials() after creating the AWSStaticCredentialsProvider, and it returns the correct credentials...\nSo I guess those methods are correct (apart from their horrible, temporary name :P )","body":"I&#39;ve checked with provider.getCredentials() after creating the AWSStaticCredentialsProvider, and it returns the correct credentials... So I guess those methods are correct (apart from their horrible, temporary name :P )"},{"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"score":0,"creation_date":1496237797,"post_id":44256527,"comment_id":75579370,"body_markdown":"When you change the order, PUT and then check existence, does that work fine on EC2? If so, we can conclude that NOT a policy issue. Can we check your full code and what version of aws-sdk you are using?","body":"When you change the order, PUT and then check existence, does that work fine on EC2? If so, we can conclude that NOT a policy issue. Can we check your full code and what version of aws-sdk you are using?"},{"owner":{"account_id":1648007,"reputation":331,"user_id":2049369,"accept_rate":86,"display_name":"FullTimeCoderPartTimeSysAdmin"},"score":0,"creation_date":1501542806,"post_id":44256527,"comment_id":77814567,"body_markdown":"I&#39;ve run into the same problem.  Did you ever find a solution?  (I&#39;m using aws-java-sdk 1.11.170.)","body":"I&#39;ve run into the same problem.  Did you ever find a solution?  (I&#39;m using aws-java-sdk 1.11.170.)"},{"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"score":0,"creation_date":1501573573,"post_id":44256527,"comment_id":77824633,"body_markdown":"Hi @FullTimeCoderPartTimeSysAdmin.\nUnfortunately the only solution I have found so far is to upload an empty file at server boot and immediately remove it.\nAfter that, all other S3 interactions can be performed.\nIt&#39;s an ugly gimmick but it kinda works.","body":"Hi @FullTimeCoderPartTimeSysAdmin. Unfortunately the only solution I have found so far is to upload an empty file at server boot and immediately remove it. After that, all other S3 interactions can be performed. It&#39;s an ugly gimmick but it kinda works."}],"answers":[{"comments":[{"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"score":0,"creation_date":1496220352,"post_id":44256998,"comment_id":75566634,"body_markdown":"But if it was an IAM policy issue, why whould it &quot;magically&quot; disappear after I perform an upload? :/","body":"But if it was an IAM policy issue, why whould it &quot;magically&quot; disappear after I perform an upload? :/"}],"tags":[],"owner":{"account_id":4276592,"reputation":309,"user_id":3497056,"display_name":"S&#233;bastien Coste"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496132189,"creation_date":1496132189,"answer_id":44256998,"question_id":44256527,"body_markdown":"I really look like an IAM policy issue. \r\nWhat is your user&#39;s policies on your local machine vs what is your IAM role with which policy(ies)? \r\nFor your EC2 instance, when you create it, create a role with &quot;AmazonS3FullAccess&quot; policy, if it solves the problem you&#39;ll remove the useless rights. ","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>I really look like an IAM policy issue. \nWhat is your user's policies on your local machine vs what is your IAM role with which policy(ies)? \nFor your EC2 instance, when you create it, create a role with \"AmazonS3FullAccess\" policy, if it solves the problem you'll remove the useless rights. </p>\n"},{"comments":[{"owner":{"account_id":1813160,"reputation":989,"user_id":1648825,"accept_rate":10,"display_name":"user1648825"},"score":0,"creation_date":1509038367,"post_id":44632220,"comment_id":80867834,"body_markdown":"This works for me only with &quot;Resource&quot;:[&quot;*&quot;] for &quot;s3:ListBucket&quot; action. (The key here is &quot;s3:ListBucket&quot; action.)","body":"This works for me only with &quot;Resource&quot;:[&quot;*&quot;] for &quot;s3:ListBucket&quot; action. (The key here is &quot;s3:ListBucket&quot; action.)"},{"owner":{"account_id":2140129,"reputation":2408,"user_id":1898994,"accept_rate":83,"display_name":"lznt"},"score":4,"creation_date":1608085099,"post_id":44632220,"comment_id":115473056,"body_markdown":"the Resource for ListBucket needs to be the bucket, not the files, i.e. no &quot;/*&quot; at the end.","body":"the Resource for ListBucket needs to be the bucket, not the files, i.e. no &quot;/*&quot; at the end."},{"owner":{"account_id":4489291,"reputation":3295,"user_id":3650835,"accept_rate":58,"display_name":"KayakinKoder"},"score":0,"creation_date":1668021532,"post_id":44632220,"comment_id":131309223,"body_markdown":"@Iznt thanks, that edit has been made, hopefully SO will show it soon","body":"@Iznt thanks, that edit has been made, hopefully SO will show it soon"}],"tags":[],"owner":{"account_id":9612864,"reputation":86,"user_id":7136672,"display_name":"tormodatt"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668021507,"creation_date":1497879671,"answer_id":44632220,"question_id":44256527,"body_markdown":"Your credentials may be correct, but you will still get FORBIDDEN if you do not set the correct IAM polices. To check for objects in s3 you need the following:\r\n\r\n    {\r\n        &quot;Version&quot;:&quot;2012-10-17&quot;,\r\n        &quot;Statement&quot;:[\r\n            {\r\n                &quot;Effect&quot;:&quot;Allow&quot;,\r\n                &quot;Action&quot;:[\r\n                &quot;s3:ListBucket&quot;\r\n                ],\r\n                &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket&quot;]\r\n            },\r\n            {\r\n                &quot;Effect&quot;:&quot;Allow&quot;,\r\n                &quot;Action&quot;:[\r\n                &quot;s3:GetObject&quot;\r\n                ],\r\n              &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket/*&quot;]\r\n            }\r\n        ]\r\n    }","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>Your credentials may be correct, but you will still get FORBIDDEN if you do not set the correct IAM polices. To check for objects in s3 you need the following:</p>\n<pre><code>{\n    &quot;Version&quot;:&quot;2012-10-17&quot;,\n    &quot;Statement&quot;:[\n        {\n            &quot;Effect&quot;:&quot;Allow&quot;,\n            &quot;Action&quot;:[\n            &quot;s3:ListBucket&quot;\n            ],\n            &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket&quot;]\n        },\n        {\n            &quot;Effect&quot;:&quot;Allow&quot;,\n            &quot;Action&quot;:[\n            &quot;s3:GetObject&quot;\n            ],\n          &quot;Resource&quot;:[&quot;arn:aws:s3:::examplebucket/*&quot;]\n        }\n    ]\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":935669,"reputation":904,"user_id":964628,"accept_rate":74,"display_name":"Bjorn"},"score":0,"creation_date":1611241308,"post_id":46239262,"comment_id":116392374,"body_markdown":"I&#39;m using Docker on Windows and often experience a clock drift when my laptop comes back from sleep. This drove me nuts, thanks for pointing in the right direction!","body":"I&#39;m using Docker on Windows and often experience a clock drift when my laptop comes back from sleep. This drove me nuts, thanks for pointing in the right direction!"}],"tags":[],"owner":{"account_id":11771824,"reputation":21,"user_id":8614653,"display_name":"Andy Barlow"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505477437,"creation_date":1505477437,"answer_id":46239262,"question_id":44256527,"body_markdown":"Make sure the date time is set correctly on the machine you  are making the request from, otherwise you will get a 403.","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>Make sure the date time is set correctly on the machine you  are making the request from, otherwise you will get a 403.</p>\n"},{"tags":[],"owner":{"account_id":15474818,"reputation":21,"user_id":11163749,"display_name":"user11163749"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551939947,"creation_date":1551939947,"answer_id":55037323,"question_id":44256527,"body_markdown":"You need an action &quot;ListBucket&quot; for your bucket but not for the file in your bucket like:\r\n       {\r\n            &quot;Action&quot;: [\r\n                &quot;s3:ListBucket&quot;\r\n            ],\r\n            &quot;Resource&quot;: &quot;arn:aws:s3:::bucketName&quot;,\r\n            &quot;Effect&quot;: &quot;Allow&quot;\r\n        }","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>You need an action \"ListBucket\" for your bucket but not for the file in your bucket like:\n       {\n            \"Action\": [\n                \"s3:ListBucket\"\n            ],\n            \"Resource\": \"arn:aws:s3:::bucketName\",\n            \"Effect\": \"Allow\"\n        }</p>\n"}],"owner":{"account_id":8545078,"reputation":1001,"user_id":6403864,"accept_rate":43,"display_name":"Andrea Rossi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7057,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1668021507,"creation_date":1496130637,"question_id":44256527,"body_markdown":"I&#39;m having trouble with my Java program using the AWS SDK to interact with an S3 bucket.\r\n\r\nThis is the code I use to create an S3 client:\r\n\r\n    public S3StorageManager(S3Config config) throws StorageException {\r\n\r\n       BasicAWSCredentials credentials = new BasicAWSCredentials(myAccessKey(), mySecretKey());\r\n       AWSStaticCredentialsProvider provider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n       this.s3Client = AmazonS3ClientBuilder\r\n            .standard()\r\n            .withCredentials(provider)\r\n            .withRegion(myRegion)\r\n            .build();\r\n    \r\nWhen I try to download a file, before starting the download I check wether the file exists or not with:\r\n\r\n    s3Client.doesObjectExists(bucketName, objectName);\r\n\r\nThis is where I get 403: FORBIDDEN.\r\nThe weird thing is this problem is raised only when I try to perform an object existence check before performing uploads in the same session.\r\nIn other words, after initializing the s3Client:\r\n - if I first try to check if an object exists, it raises the FORBIDDEN problem;\r\n - if I first perform file upload, it works fine and after that any object existence check works fine as well;\r\n\r\nHere is my stacktrace:\r\n\r\n    com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Reques\r\n    t ID: A23BB805491E411F)\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1588) ~[aws-java-sdk-core-1.\r\n    11.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1258) ~[aws-java-sdk-core-1.11\r\n    .128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030) ~[aws-java-sdk-core-1.11.128\r\n    .jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742) ~[aws-java-sdk-core-1.11.128.jar:\r\n    ?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716) ~[aws-java-sdk-core-1.11.1\r\n    28.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.128.jar\r\n    :?]\r\n            at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.1\r\n    1.128.jar:?]\r\n            at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4169) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4116) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1237) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1213) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n            at com.amazonaws.services.s3.AmazonS3Client.doesObjectExist(AmazonS3Client.java:1272) ~[aws-java-sdk-s3-1.11.128.jar:?]\r\n\r\n\r\nAnother weird thing is that all these problems started when I moved my Java program an EC2 remote machine.\r\nIf I execute it on my local machine, the S3 interaction works fine.\r\nHowever I don&#39;t think the problem depends on the IAM roles, since I use the AWSStaticCredentialsProvider.","title":"AWS S3 Java: doesObjectExist results in 403: FORBIDDEN","body":"<p>I'm having trouble with my Java program using the AWS SDK to interact with an S3 bucket.</p>\n\n<p>This is the code I use to create an S3 client:</p>\n\n<pre><code>public S3StorageManager(S3Config config) throws StorageException {\n\n   BasicAWSCredentials credentials = new BasicAWSCredentials(myAccessKey(), mySecretKey());\n   AWSStaticCredentialsProvider provider = new AWSStaticCredentialsProvider(credentials);\n\n   this.s3Client = AmazonS3ClientBuilder\n        .standard()\n        .withCredentials(provider)\n        .withRegion(myRegion)\n        .build();\n</code></pre>\n\n<p>When I try to download a file, before starting the download I check wether the file exists or not with:</p>\n\n<pre><code>s3Client.doesObjectExists(bucketName, objectName);\n</code></pre>\n\n<p>This is where I get 403: FORBIDDEN.\nThe weird thing is this problem is raised only when I try to perform an object existence check before performing uploads in the same session.\nIn other words, after initializing the s3Client:\n - if I first try to check if an object exists, it raises the FORBIDDEN problem;\n - if I first perform file upload, it works fine and after that any object existence check works fine as well;</p>\n\n<p>Here is my stacktrace:</p>\n\n<pre><code>com.amazonaws.services.s3.model.AmazonS3Exception: Forbidden (Service: Amazon S3; Status Code: 403; Error Code: 403 Forbidden; Reques\nt ID: A23BB805491E411F)\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1588) ~[aws-java-sdk-core-1.\n11.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1258) ~[aws-java-sdk-core-1.11\n.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1030) ~[aws-java-sdk-core-1.11.128\n.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:742) ~[aws-java-sdk-core-1.11.128.jar:\n?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:716) ~[aws-java-sdk-core-1.11.1\n28.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.128.jar\n:?]\n        at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.1\n1.128.jar:?]\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4169) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:4116) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1237) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.getObjectMetadata(AmazonS3Client.java:1213) ~[aws-java-sdk-s3-1.11.128.jar:?]\n        at com.amazonaws.services.s3.AmazonS3Client.doesObjectExist(AmazonS3Client.java:1272) ~[aws-java-sdk-s3-1.11.128.jar:?]\n</code></pre>\n\n<p>Another weird thing is that all these problems started when I moved my Java program an EC2 remote machine.\nIf I execute it on my local machine, the S3 interaction works fine.\nHowever I don't think the problem depends on the IAM roles, since I use the AWSStaticCredentialsProvider.</p>\n"},{"tags":["java","spring-boot","mockito","jax-rs"],"comments":[{"owner":{"account_id":9791674,"reputation":87,"user_id":7256070,"display_name":"Anand Singh"},"score":0,"creation_date":1668055370,"post_id":74380226,"comment_id":131315891,"body_markdown":"I&#39;m also facing the same issue... did you find the solution?","body":"I&#39;m also facing the same issue... did you find the solution?"}],"owner":{"account_id":26881132,"reputation":11,"user_id":20461550,"display_name":"shivam gera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668021292,"creation_date":1668021292,"question_id":74380226,"body_markdown":"I have class in my project that is annotated with **@Path** annotation and below is the code snippet \r\n\r\n\r\nAnnotations used in my class:\r\n\r\n\r\n```\r\n@Slf4j\r\n@Service\r\n@Path(&quot;/manageOffer&quot;)\r\n@Api(&quot;Manage Services&quot;)\r\npublic class BffProductOfferServiceApi implements RestService {\r\n\r\n```\r\nMethod in above class:\r\n\r\n```\r\n@POST\r\n@Path(&quot;/fetchOfferDetails&quot;)\r\n@ApiOperation(value = &quot;Get offer details&quot;)\r\n@ApiResponses(value = {@ApiResponse(code = 200, message = &quot;Ok&quot;, response = BffOfferDetails.class)})\r\n//@TLogger(appName = &quot;BFF&quot;, source = &quot;APP2BFF&quot;,skipRequestResponseDownstream=true)\r\n@LogMetric(enableMetrics = true,metricName = &quot;metric_server_request&quot;,apiName = &quot;fetchOfferDetails&quot;, customTags = {&quot;flow&quot;,&quot;magenta&quot;})\r\npublic BffOfferDetails fetchOfferDetails(@RequestBody BffOfferDetails offerDetails,\r\n\r\n```\r\nMy task is to write test for this particular class. \r\nBelow is my test method which I have written. If I try to hit the above end-point(annotated with @Path) it is not being hit and gives **404 client error**. Below is the test snippet which I have written.\r\n\r\n\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\r\npublic void fetchOfferDetailsControllerStatus2XX() throws Exception {\r\n\r\n    BffOfferDetails offerDetails = new BffOfferDetails();\r\n\r\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/manageOffer/fetchOfferDetails&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\r\n                    .characterEncoding(&quot;utf-8&quot;)\r\n                    .queryParams(queryParams)\r\n                    .header(&quot;x-tenant&quot;,&quot;de&quot;))\r\n            .andDo(print())\r\n            .andExpect(result -&gt; result.getResponse())\r\n            .andExpect(status().is2xxSuccessful());\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nNow to debug whether there is error in my test method or not, I made a separate TestController(Just to verify if I have written the tests correctly or not). This TestController is annotated with **@RestController.**\r\n\r\n\r\n\r\n\r\n```\r\n@RestController\r\npublic class TestController {\r\n    @Autowired\r\n    TestService testService;\r\n\r\n    @PostMapping(value = &quot;api1/getText&quot;)\r\n    public BffOfferDetails getText(@RequestBody BffOfferDetails offerDetails){\r\n\r\n        return testService.getText(offerDetails);\r\n    }\r\n\r\n```\r\n\r\nI also wrote test for the above class annotated with @RestController. Below is the test method\r\nTo my surprise the below test **works fine as expected**\r\n\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\r\npublic void testSampleControllerStatus2XX() throws Exception {\r\n\r\n    BffOfferDetails offerDetails = new BffOfferDetails();\r\n\r\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api1/getText&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\r\n                    .characterEncoding(&quot;utf-8&quot;))\r\n            .andDo(print())\r\n            .andExpect(result -&gt; result.getResponse())\r\n            .andExpect(status().is2xxSuccessful());\r\n}\r\n```\r\n\r\n\r\nFollowing are the annotations which I am using on my Test Class.\r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc(addFilters = false)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class BffProductOfferServiceApiTest{\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n**Note:** I am using Mockito for writing my tests.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhat I have concluded from above is: @Path is uses jax-rs specifications, whereas @Restcontroller does not. \r\n\r\n**My question is How should I write my tests such that classes annotated with @Service and methods annotated with @Path works correctly.**\r\n\r\n","title":"Not able to hit endpoint of class annotated with @Service and method inside it annotated with @Path using mockito","body":"<p>I have class in my project that is annotated with <strong>@Path</strong> annotation and below is the code snippet</p>\n<p>Annotations used in my class:</p>\n<pre><code>@Slf4j\n@Service\n@Path(&quot;/manageOffer&quot;)\n@Api(&quot;Manage Services&quot;)\npublic class BffProductOfferServiceApi implements RestService {\n\n</code></pre>\n<p>Method in above class:</p>\n<pre><code>@POST\n@Path(&quot;/fetchOfferDetails&quot;)\n@ApiOperation(value = &quot;Get offer details&quot;)\n@ApiResponses(value = {@ApiResponse(code = 200, message = &quot;Ok&quot;, response = BffOfferDetails.class)})\n//@TLogger(appName = &quot;BFF&quot;, source = &quot;APP2BFF&quot;,skipRequestResponseDownstream=true)\n@LogMetric(enableMetrics = true,metricName = &quot;metric_server_request&quot;,apiName = &quot;fetchOfferDetails&quot;, customTags = {&quot;flow&quot;,&quot;magenta&quot;})\npublic BffOfferDetails fetchOfferDetails(@RequestBody BffOfferDetails offerDetails,\n\n</code></pre>\n<p>My task is to write test for this particular class.\nBelow is my test method which I have written. If I try to hit the above end-point(annotated with @Path) it is not being hit and gives <strong>404 client error</strong>. Below is the test snippet which I have written.</p>\n<pre><code>@Test\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\npublic void fetchOfferDetailsControllerStatus2XX() throws Exception {\n\n    BffOfferDetails offerDetails = new BffOfferDetails();\n\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/manageOffer/fetchOfferDetails&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\n                    .characterEncoding(&quot;utf-8&quot;)\n                    .queryParams(queryParams)\n                    .header(&quot;x-tenant&quot;,&quot;de&quot;))\n            .andDo(print())\n            .andExpect(result -&gt; result.getResponse())\n            .andExpect(status().is2xxSuccessful());\n}\n\n</code></pre>\n<p>Now to debug whether there is error in my test method or not, I made a separate TestController(Just to verify if I have written the tests correctly or not). This TestController is annotated with <strong>@RestController.</strong></p>\n<pre><code>@RestController\npublic class TestController {\n    @Autowired\n    TestService testService;\n\n    @PostMapping(value = &quot;api1/getText&quot;)\n    public BffOfferDetails getText(@RequestBody BffOfferDetails offerDetails){\n\n        return testService.getText(offerDetails);\n    }\n\n</code></pre>\n<p>I also wrote test for the above class annotated with @RestController. Below is the test method\nTo my surprise the below test <strong>works fine as expected</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Positive case: when all required  params are passed and response code is 200&quot;)\npublic void testSampleControllerStatus2XX() throws Exception {\n\n    BffOfferDetails offerDetails = new BffOfferDetails();\n\n    this.mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api1/getText&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .content(new ObjectMapper().writeValueAsString(offerDetails))\n                    .characterEncoding(&quot;utf-8&quot;))\n            .andDo(print())\n            .andExpect(result -&gt; result.getResponse())\n            .andExpect(status().is2xxSuccessful());\n}\n</code></pre>\n<p>Following are the annotations which I am using on my Test Class.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ActiveProfiles(&quot;test&quot;)\npublic class BffProductOfferServiceApiTest{\n\n}\n\n</code></pre>\n<p><strong>Note:</strong> I am using Mockito for writing my tests.</p>\n<p>What I have concluded from above is: @Path is uses jax-rs specifications, whereas @Restcontroller does not.</p>\n<p><strong>My question is How should I write my tests such that classes annotated with @Service and methods annotated with @Path works correctly.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":960579,"reputation":2855,"user_id":985026,"accept_rate":52,"display_name":"MalcolmOcean"},"score":0,"creation_date":1342316911,"post_id":11488754,"comment_id":15173943,"body_markdown":"See this answer: http://stackoverflow.com/a/1099370/985026\n(Question asked was What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?)","body":"See this answer: <a href=\"http://stackoverflow.com/a/1099370/985026\">stackoverflow.com/a/1099370/985026</a> (Question asked was What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?)"}],"answers":[{"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":7,"creation_date":1342317032,"post_id":11488774,"comment_id":15173950,"body_markdown":"Consider improving this answer to contain more than just a link. See http://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers","body":"Consider improving this answer to contain more than just a link. See <a href=\"http://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers\" title=\"are answers that just contain links elsewhere really good answers\">meta.stackexchange.com/questions/8231/&hellip;</a>"}],"tags":[],"owner":{"account_id":411670,"reputation":3171,"user_id":784277,"accept_rate":77,"display_name":"jamjam"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342335792,"creation_date":1342316969,"answer_id":11488774,"question_id":11488754,"body_markdown":"There can be many absolute paths to a file. However there can only be one canonical path to a file. [Read this][1]\r\n\r\n\r\n  [1]: http://www.xyzws.com/Javafaq/what-is-the-difference-between-absolute-relative-and-canonical-path-of-file-or-directory/60","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>There can be many absolute paths to a file. However there can only be one canonical path to a file. <a href=\"http://www.xyzws.com/Javafaq/what-is-the-difference-between-absolute-relative-and-canonical-path-of-file-or-directory/60\" rel=\"nofollow\">Read this</a></p>\n"},{"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":1,"creation_date":1342318830,"post_id":11488781,"comment_id":15174114,"body_markdown":"Maybe a quick word about sym- and hardlinks would help too.","body":"Maybe a quick word about sym- and hardlinks would help too."},{"owner":{"account_id":4996579,"reputation":42299,"user_id":5353461,"accept_rate":51,"display_name":"Tom Hale"},"score":1,"creation_date":1508159786,"post_id":11488781,"comment_id":80487944,"body_markdown":"If your system supports hard-linking directories, there may be more than one canonical path.","body":"If your system supports hard-linking directories, there may be more than one canonical path."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1508163908,"post_id":11488781,"comment_id":80490911,"body_markdown":"@TomHale - That&#39;s true; hadn&#39;t thought about that. However, there should still be only one canonical path for any particular path defined by a `File` object.","body":"@TomHale - That&#39;s true; hadn&#39;t thought about that. However, there should still be only one canonical path for any particular path defined by a <code>File</code> object."},{"owner":{"account_id":9592667,"reputation":595,"user_id":7122994,"display_name":"Umar Tahir"},"score":0,"creation_date":1600413420,"post_id":11488781,"comment_id":113085558,"body_markdown":"what do you think if I am developing an application for production and on production, UNIX based server is running should I use a canonical path or absolute path. Asking in terms of which will be best approach","body":"what do you think if I am developing an application for production and on production, UNIX based server is running should I use a canonical path or absolute path. Asking in terms of which will be best approach"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1600432267,"post_id":11488781,"comment_id":113094309,"body_markdown":"@UmarTahir - It depends on why you need the path string. It often makes no difference to functionality; if it does, then of course use the one that is required for proper function. I believe (without having done the research to back this up) that `getCanonicalPath()` is a bit more expensive to evaluate than `getAbsolutePath()`.","body":"@UmarTahir - It depends on why you need the path string. It often makes no difference to functionality; if it does, then of course use the one that is required for proper function. I believe (without having done the research to back this up) that <code>getCanonicalPath()</code> is a bit more expensive to evaluate than <code>getAbsolutePath()</code>."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1668020855,"creation_date":1342317100,"answer_id":11488781,"question_id":11488754,"body_markdown":"The difference is that there is only one canonical path to a file&lt;sup&gt;[1]&lt;/sup&gt;, while there can be many absolute paths to a file (depending on the system). For instance, on a Unix system, `/usr/local/../bin` is the same as `/usr/bin`. `getCanonicalPath()` resolves those ambiguities and returns the (unique) canonical path. So if the current directory was `/usr/local`, then:\r\n\r\n    File file = new File(&quot;../bin&quot;);\r\n    System.out.println(file.getPath());\r\n    System.out.println(file.getAbsolutePath());\r\n    System.out.println(file.getCanonicalPath());\r\n\r\nwould print:\r\n\r\n&gt;../bin  \r\n&gt;/usr/local/../bin  \r\n&gt;/usr/bin\r\n\r\nPer Voo&#39;s suggestion: on Unix systems, `getCanonicalPath()` will also resolve symbolic links if the symbolic link exists. Hard links are treated like normal files (which is basically what they are). Note, however, that a file need not exist for these methods to succeed.\r\n\r\n&lt;sup&gt;[1]&lt;/sup&gt; &lt;sub&gt;Well, not quite. As @Tom Hale points out in a comment, if the file system supports hard-linked directories, there may be multiple canonical paths to a given file.&lt;/sub&gt;","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>The difference is that there is only one canonical path to a file<sup>[1]</sup>, while there can be many absolute paths to a file (depending on the system). For instance, on a Unix system, <code>/usr/local/../bin</code> is the same as <code>/usr/bin</code>. <code>getCanonicalPath()</code> resolves those ambiguities and returns the (unique) canonical path. So if the current directory was <code>/usr/local</code>, then:</p>\n<pre><code>File file = new File(&quot;../bin&quot;);\nSystem.out.println(file.getPath());\nSystem.out.println(file.getAbsolutePath());\nSystem.out.println(file.getCanonicalPath());\n</code></pre>\n<p>would print:</p>\n<blockquote>\n<p>../bin<br />\n/usr/local/../bin<br />\n/usr/bin</p>\n</blockquote>\n<p>Per Voo's suggestion: on Unix systems, <code>getCanonicalPath()</code> will also resolve symbolic links if the symbolic link exists. Hard links are treated like normal files (which is basically what they are). Note, however, that a file need not exist for these methods to succeed.</p>\n<p><sup>[1]</sup> <sub>Well, not quite. As @Tom Hale points out in a comment, if the file system supports hard-linked directories, there may be multiple canonical paths to a given file.</sub></p>\n"},{"tags":[],"owner":{"account_id":298708,"reputation":11365,"user_id":604864,"accept_rate":98,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1512387659,"creation_date":1342318679,"answer_id":11488878,"question_id":11488754,"body_markdown":"Here is a **canonical** path.\r\n\r\n&gt; C:/files/foo.txt\r\n\r\nHere are **absolute** paths\r\n\r\n  - C:/files/FOO.TXT\r\n\r\n  - C:/files/FOO.txt\r\n\r\n  - C:/files/foo.TXT\r\n\r\n  - C:/FILES/FOO.TXT\r\n\r\nA canonical path is an *absolute unique path* to the file.\r\nA file can have only one canonical path and many absolute paths.\r\n\r\nA file can have only have one canonical path which is the file path of the file.\r\nA file can have many absolute paths to the file.\r\n","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<p>Here is a <strong>canonical</strong> path.</p>\n\n<blockquote>\n  <p>C:/files/foo.txt</p>\n</blockquote>\n\n<p>Here are <strong>absolute</strong> paths</p>\n\n<ul>\n<li><p>C:/files/FOO.TXT</p></li>\n<li><p>C:/files/FOO.txt</p></li>\n<li><p>C:/files/foo.TXT</p></li>\n<li><p>C:/FILES/FOO.TXT</p></li>\n</ul>\n\n<p>A canonical path is an <em>absolute unique path</em> to the file.\nA file can have only one canonical path and many absolute paths.</p>\n\n<p>A file can have only have one canonical path which is the file path of the file.\nA file can have many absolute paths to the file.</p>\n"}],"owner":{"account_id":232243,"reputation":83887,"user_id":496949,"accept_rate":86,"display_name":"user496949"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28435,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"closed_date":1342319386,"accepted_answer_id":11488781,"answer_count":3,"score":28,"last_activity_date":1668020855,"creation_date":1342316629,"question_id":11488754,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [What&amp;#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?](https://stackoverflow.com/questions/1099300/whats-the-difference-between-getpath-getabsolutepath-and-getcanonicalpath)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nAny difference between those two?\r\n\r\ncanonicalpath and absolutepath? \r\n\r\nIf having difference, a real world example will be needed.","title":"what&#39;s the difference between canonicalpath and absolutepath?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1099300/whats-the-difference-between-getpath-getabsolutepath-and-getcanonicalpath\">What&#39;s the difference between getPath(), getAbsolutePath(), and getCanonicalPath() in Java?</a>  </p>\n</blockquote>\n\n\n\n<p>Any difference between those two?</p>\n\n<p>canonicalpath and absolutepath? </p>\n\n<p>If having difference, a real world example will be needed.</p>\n"},{"tags":["java","spring-boot","api","rest","postman"],"answers":[{"comments":[{"owner":{"account_id":18373590,"reputation":173,"user_id":13383185,"display_name":"readJohn"},"score":0,"creation_date":1668026057,"post_id":74380130,"comment_id":131310605,"body_markdown":"ok thanks for the answer Peter, what do you think, can I do it with the help of Mock servers, like Mockapi or Mock Server of Postman?","body":"ok thanks for the answer Peter, what do you think, can I do it with the help of Mock servers, like Mockapi or Mock Server of Postman?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1668102708,"post_id":74380130,"comment_id":131330932,"body_markdown":"Take an Oracle Free Tier root vserver and deploy what you want https://www.oracle.com/cloud/free/ .","body":"Take an Oracle Free Tier root vserver and deploy what you want <a href=\"https://www.oracle.com/cloud/free/\" rel=\"nofollow noreferrer\">oracle.com/cloud/free</a> ."}],"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668020738,"creation_date":1668020738,"answer_id":74380130,"question_id":74379885,"body_markdown":"You can test this too on your local machine with an entry in the `hosts` file of your OS.\r\n\r\n    127.0.0.1 magicServer.com\r\n\r\nAnd listen on port 80.\r\n\r\nserver.port = 80\r\n\r\nIf not, of course you need a server on the internet and a domain of your ownership, than you can point the Internet DNS to your server.","title":"Test REST APIs on a real server (without localhost )","body":"<p>You can test this too on your local machine with an entry in the <code>hosts</code> file of your OS.</p>\n<pre><code>127.0.0.1 magicServer.com\n</code></pre>\n<p>And listen on port 80.</p>\n<p>server.port = 80</p>\n<p>If not, of course you need a server on the internet and a domain of your ownership, than you can point the Internet DNS to your server.</p>\n"}],"owner":{"account_id":18373590,"reputation":173,"user_id":13383185,"display_name":"readJohn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380130,"answer_count":1,"score":0,"last_activity_date":1668020738,"creation_date":1668019365,"question_id":74379885,"body_markdown":"I have a @RestController class in my Spring Boot app.I tested my api&#39;s with postman on localhost and everything seems to be ok.\r\nSo now I want to test it from another computer.\r\nIs there a server/technology  which will allow me to test my api&#39;s without localhost.\r\nSo instead of:\r\nhttp://localhost:8095/api/all-users   \r\nI have:\r\nhttp://magicServer.com/api/all-users\r\n\r\n","title":"Test REST APIs on a real server (without localhost )","body":"<p>I have a @RestController class in my Spring Boot app.I tested my api's with postman on localhost and everything seems to be ok.\nSo now I want to test it from another computer.\nIs there a server/technology  which will allow me to test my api's without localhost.\nSo instead of:\nhttp://localhost:8095/api/all-users<br />\nI have:\n<a href=\"http://magicServer.com/api/all-users\" rel=\"nofollow noreferrer\">http://magicServer.com/api/all-users</a></p>\n"},{"tags":["java","grpc","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6115,"reputation":3184,"user_id":10161,"accept_rate":50,"display_name":"drfloob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668020257,"creation_date":1668020257,"answer_id":74380040,"question_id":74361514,"body_markdown":"Those environment variables work for the C-core library, not gRPC-Java (a separate repository, see https://github.com/grpc/grpc-java). gRPC-Java does all its logging via java.util.logging, so you can turn up the verbosity in the log config.","title":"Troubles debugging gRPC within a Quarkus app","body":"<p>Those environment variables work for the C-core library, not gRPC-Java (a separate repository, see <a href=\"https://github.com/grpc/grpc-java\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java</a>). gRPC-Java does all its logging via java.util.logging, so you can turn up the verbosity in the log config.</p>\n"}],"owner":{"account_id":26866868,"reputation":3,"user_id":20449507,"display_name":"Daniel Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380040,"answer_count":1,"score":0,"last_activity_date":1668020257,"creation_date":1667913983,"question_id":74361514,"body_markdown":"We&#39;re implementing a gRPC Client inside a Quarkus environment, however the request is not being completed.\r\n\r\n```\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\r\n\tat io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\t... 4 more\r\n```\r\n\r\nWe know that the message being built and the client configs are right because we can replicate it successfully using `grpcurl`.  \r\n**  \r\nWe have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically `GRPC_TRACE` and `GRPC_VERBOSITY`. But there were no changes in the output.  \r\n  \r\nWe also tried setting `quarkus.log.level=DEBUG` and `quarkus.log.category.&quot;grpc&quot;.level=DEBUG`\r\n\r\n```\r\njava.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\r\n\tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\r\n\tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\r\n\tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\r\n\tat io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\r\n\tat io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\r\n\tat io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\t... 4 more\r\n\r\nWe know that the message being built and the client configs are right because we can replicate it successfully using grpcurl. We have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically GRPC_TRACE and GRPC_VERBOSITY. But there were no changes in the output.We also tried setting quarkus.log.level=DEBUG and quarkus.log.category.&quot;grpc&quot;.level=DEBUG\r\n\r\n022-11-08 10:08:42,074 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-6) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\r\n2022-11-08 10:08:42,087 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ - R:test.grpc.dev] OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\r\n2022-11-08 10:08:42,088 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ ! R:test.grpc.dev] Sending GOAWAY failed: lastStreamId &#39;2147483647&#39;, errorCode &#39;2&#39;, debugData &#39;An existing connection was forcibly closed by the remote host&#39;. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\r\n\tat io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,090 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) Network channel is closed\r\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n2022-11-08 10:08:42,139 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,140 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-7) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\r\n2022-11-08 10:08:42,140 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\r\n2022-11-08 10:08:42,141 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ ! R:test.grpc.dev Sending GOAWAY failed: lastStreamId &#39;2147483647&#39;, errorCode &#39;2&#39;, debugData &#39;An existing connection was forcibly closed by the remote host&#39;. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\r\n\tat java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\r\n\tat io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\r\n\tat io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2022-11-08 10:08:42,141 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Network channel is closed\r\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\r\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\r\n2022-11-08 10:08:42,182 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\r\n\tat java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\r\n\tat java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\r\n\tat java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\nWhat I would like to know is:\r\n- Why gRPC environment variables are not taking effect?\r\n- What can we do to get more insight on why the connection is being closed?","title":"Troubles debugging gRPC within a Quarkus app","body":"<p>We're implementing a gRPC Client inside a Quarkus environment, however the request is not being completed.</p>\n<pre><code>java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    ... 4 more\n</code></pre>\n<p>We know that the message being built and the client configs are right because we can replicate it successfully using <code>grpcurl</code>.<br />\n**<br />\nWe have also tried to use grpc env vars described in here <a href=\"https://github.com/grpc/grpc/blob/master/doc/environment_variables.md\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc/blob/master/doc/environment_variables.md</a>. More specifically <code>GRPC_TRACE</code> and <code>GRPC_VERBOSITY</code>. But there were no changes in the output.</p>\n<p>We also tried setting <code>quarkus.log.level=DEBUG</code> and <code>quarkus.log.category.&quot;grpc&quot;.level=DEBUG</code></p>\n<pre><code>java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nResulted in: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)\n    at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)\n    at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)\n    at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)\n    at io.quarkus.grpc.runtime.supports.IOThreadClientInterceptor$1$1.lambda$onClose$3(IOThreadClientInterceptor.java:70)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264)\n    at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246)\n    at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    ... 4 more\n\nWe know that the message being built and the client configs are right because we can replicate it successfully using grpcurl. We have also tried to use grpc env vars described in here https://github.com/grpc/grpc/blob/master/doc/environment_variables.md. More specifically GRPC_TRACE and GRPC_VERBOSITY. But there were no changes in the output.We also tried setting quarkus.log.level=DEBUG and quarkus.log.category.&quot;grpc&quot;.level=DEBUG\n\n022-11-08 10:08:42,074 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-6) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\n2022-11-08 10:08:42,087 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ - R:test.grpc.dev] OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\n2022-11-08 10:08:42,088 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-6) [id: 0x34d9ce18, L:/ ! R:test.grpc.dev] Sending GOAWAY failed: lastStreamId '2147483647', errorCode '2', debugData 'An existing connection was forcibly closed by the remote host'. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\n    at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\n    at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\n    at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\n    at io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\n    at io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,090 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-6) Network channel is closed\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n2022-11-08 10:08:42,119 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n2022-11-08 10:08:42,139 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,140 FINE  [io.grp.net.Utils] (grpc-nio-worker-ELG-2-7) Using custom allocator: forceHeapBuffer=false, defaultPreferDirect=true\n2022-11-08 10:08:42,140 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ - R:test.grpc.dev OUTBOUND GO_AWAY: lastStreamId=2147483647 errorCode=2 length=70 bytes=466f6920666f72c3a761646f206f2063616e63656c616d656e746f20646520756d6120636f6e6578c3a36f206578697374656e74652070656c6f20686f737420...\n2022-11-08 10:08:42,141 DEBUG [io.net.han.cod.htt.Http2ConnectionHandler] (grpc-nio-worker-ELG-2-7) [id: 0x788c8189, L:/ ! R:test.grpc.dev Sending GOAWAY failed: lastStreamId '2147483647', errorCode '2', debugData 'An existing connection was forcibly closed by the remote host'. Forcing shutdown of the connection.: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:55)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:182)\n    at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:130)\n    at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:496)\n    at io.netty.channel.socket.nio.NioSocketChannel.doWrite(NioSocketChannel.java:430)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush0(AbstractChannel.java:931)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.flush0(AbstractNioChannel.java:354)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.flush(AbstractChannel.java:895)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.flush(DefaultChannelPipeline.java:1372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush0(AbstractChannelHandlerContext.java:750)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeFlush(AbstractChannelHandlerContext.java:742)\n    at io.netty.channel.AbstractChannelHandlerContext.flush(AbstractChannelHandlerContext.java:728)\n    at io.netty.handler.codec.http2.Http2ConnectionHandler.onError(Http2ConnectionHandler.java:658)\n    at io.grpc.netty.AbstractNettyHandler.exceptionCaught(AbstractNettyHandler.java:94)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:273)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1377)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:302)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:907)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:125)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:177)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n\n2022-11-08 10:08:42,141 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-7) Network channel is closed\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND SETTINGS: ack=false settings={ENABLE_PUSH=0, MAX_CONCURRENT_STREAMS=0, INITIAL_WINDOW_SIZE=1048576, MAX_HEADER_LIST_SIZE=8192}\n2022-11-08 10:08:42,161 DEBUG [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) [id: 0x5f369dc9, L:/ - R:test.grpc.dev] OUTBOUND WINDOW_UPDATE: streamId=0 windowSizeIncrement=983041\n2022-11-08 10:08:42,182 FINE  [io.grp.net.NettyClientHandler] (grpc-nio-worker-ELG-2-8) Caught a connection error: java.io.IOException: An existing connection was forcibly closed by the remote host\n    at java.base/sun.nio.ch.SocketDispatcher.read0(Native Method)\n    at java.base/sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:43)\n    at java.base/sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:276)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:233)\n    at java.base/sun.nio.ch.IOUtil.read(IOUtil.java:223)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:358)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>What I would like to know is:</p>\n<ul>\n<li>Why gRPC environment variables are not taking effect?</li>\n<li>What can we do to get more insight on why the connection is being closed?</li>\n</ul>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","webclient"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1668294620,"post_id":74379839,"comment_id":131371412,"body_markdown":"Never use `block()` and must not also to block the thread in the reactive environment!","body":"Never use <code>block()</code> and must not also to block the thread in the reactive environment!"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1668294952,"post_id":74379839,"comment_id":131371464,"body_markdown":"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.util.function.Consumer-","body":"<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnError-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/api/reactor/core/publish&zwnj;&#8203;er/&hellip;</a>"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1673006346,"post_id":74379839,"comment_id":132405838,"body_markdown":"doOnError() actualy does not handle your exception but just applies some side effect (just for logging something and etc.). To actually handle exceptions you should use operators like onErrorResume/Return/Continue()","body":"doOnError() actualy does not handle your exception but just applies some side effect (just for logging something and etc.). To actually handle exceptions you should use operators like onErrorResume/Return/Continue()"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668019049,"creation_date":1668019049,"question_id":74379839,"body_markdown":"I am using `WebClient` to make an api call. In few of the error responses from API, **response body is empty** and in few errors **there is an error body**, I need to extract certain text from the error response body and send it in the `Throwable` for logging. I am using `exchangeToMono()` to serve this purpose as below. In cases when `there is an error body`, my `WebClientResponseException` is getting thrown, However even after handling it the `throwable` in `doOnError()`, same exception is getting thrown and the outside `catch` block is also getting executed. Is the exception being thrown even after `doOnError()`? \r\n\r\n\r\n    try{\r\n    \r\n        getWebClient().\r\n        patch().\r\n        uri(uri).\r\n        body(fromValue(getBody())).\r\n        exchangeToMono (clientResponse -&gt; {\r\n        \r\n        if(clientResponse.statusCode().isError()){\r\n        \r\n        return clientResponse.\r\n        bodyToMono(APIresponse.class).\r\n        switchIfEmpty(Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), clientResponse.statusCode().getReasonPhrase(),null,null,CharSet.defaultCharset()))).\r\n        flatmap(apiresponse -&gt; Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), apiresponse.getResponseMessage(),null,null,CharSet.defaultCharset())));        \r\n          }    \r\n         }\r\n        ).\r\n         doOnError(throwable -&gt; log.error(&quot;Error Text {}&quot;,throwable.getMessage())).\r\n         block();\r\n    }\r\n    \r\n    catch(Exception exception){\r\n    log.error(&quot;Exception from api call&quot;);\r\n    }\r\n\r\n","title":"Error thrown in Webclient even after doOnError","body":"<p>I am using <code>WebClient</code> to make an api call. In few of the error responses from API, <strong>response body is empty</strong> and in few errors <strong>there is an error body</strong>, I need to extract certain text from the error response body and send it in the <code>Throwable</code> for logging. I am using <code>exchangeToMono()</code> to serve this purpose as below. In cases when <code>there is an error body</code>, my <code>WebClientResponseException</code> is getting thrown, However even after handling it the <code>throwable</code> in <code>doOnError()</code>, same exception is getting thrown and the outside <code>catch</code> block is also getting executed. Is the exception being thrown even after <code>doOnError()</code>?</p>\n<pre><code>try{\n\n    getWebClient().\n    patch().\n    uri(uri).\n    body(fromValue(getBody())).\n    exchangeToMono (clientResponse -&gt; {\n    \n    if(clientResponse.statusCode().isError()){\n    \n    return clientResponse.\n    bodyToMono(APIresponse.class).\n    switchIfEmpty(Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), clientResponse.statusCode().getReasonPhrase(),null,null,CharSet.defaultCharset()))).\n    flatmap(apiresponse -&gt; Mono.error(new WebClientResponseException(clientResponse.statusCode().value(), apiresponse.getResponseMessage(),null,null,CharSet.defaultCharset())));        \n      }    \n     }\n    ).\n     doOnError(throwable -&gt; log.error(&quot;Error Text {}&quot;,throwable.getMessage())).\n     block();\n}\n\ncatch(Exception exception){\nlog.error(&quot;Exception from api call&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-annotations","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668011506,"creation_date":1668011506,"answer_id":74378322,"question_id":74378187,"body_markdown":"This should work\r\n\r\n    @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \r\n    @Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @Constraint(validatedBy = {})\r\n    public @interface NameId {\r\n           String nameId() default &quot;&quot;;\r\n    }\r\n\r\nI think the Constraint was missing, and the Valid annotation is not necessary.\r\n\r\nRead more here: https://www.baeldung.com/java-bean-validation-constraint-composition","title":"Composing validation annotations into a single annotation","body":"<p>This should work</p>\n<pre><code>@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \n@Target({ METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = {})\npublic @interface NameId {\n       String nameId() default &quot;&quot;;\n}\n</code></pre>\n<p>I think the Constraint was missing, and the Valid annotation is not necessary.</p>\n<p>Read more here: <a href=\"https://www.baeldung.com/java-bean-validation-constraint-composition\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bean-validation-constraint-composition</a></p>\n"}],"owner":{"account_id":26880314,"reputation":23,"user_id":20460866,"display_name":"theFlyingRaijin04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74378322,"answer_count":1,"score":0,"last_activity_date":1668019002,"creation_date":1668010895,"question_id":74378187,"body_markdown":"I have the below method which uses nameId as a RequestHeader and there are other methods that use the same variable declaration. Is there a way that the `nameId` validations can be grouped into an interface so that we can annotate instead of adding @Valid &amp; @Pattern every time?\r\n\r\n```\r\npublic ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\r\n\t    @RequestHeader(value = &quot;name_id&quot;, required = true) @Valid @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) String nameId,\r\n\t    @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\r\n\t    @Validated({\r\n\t\t    OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\r\n\t    throws ServiceException { ... }\r\n```\r\n\r\nExpecting something like `@NameId` annotation. \r\n\r\n```\r\npublic ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\r\n\t    @RequestHeader(value = &quot;name_id&quot;, required = true) @NameId String nameId,\r\n\t    @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\r\n\t    @Validated({\r\n\t\t    OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\r\n\t    throws ServiceException { ... }\r\n```\r\n\r\nI tried creating an interface like the one below, but the validation didn&#39;t seem to work.\r\n```\r\n@Valid \r\n@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface NameId {\r\n       String nameId() default &quot;&quot;;\r\n}\r\n```\r\n\r\n","title":"Composing validation annotations into a single annotation","body":"<p>I have the below method which uses nameId as a RequestHeader and there are other methods that use the same variable declaration. Is there a way that the <code>nameId</code> validations can be grouped into an interface so that we can annotate instead of adding @Valid &amp; @Pattern every time?</p>\n<pre><code>public ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\n        @RequestHeader(value = &quot;name_id&quot;, required = true) @Valid @Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) String nameId,\n        @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\n        @Validated({\n            OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\n        throws ServiceException { ... }\n</code></pre>\n<p>Expecting something like <code>@NameId</code> annotation.</p>\n<pre><code>public ResponseEntity&lt;PlanResponse&gt; updatePlanProductByPlanId(\n        @RequestHeader(value = &quot;name_id&quot;, required = true) @NameId String nameId,\n        @PathVariable(value = &quot;planid&quot;) @Valid @Pattern(regexp = REGEX_PATTERN_ONLY_NUMBERS, message = &quot;{error.invalid.plan.id}&quot;) String planId,\n        @Validated({\n            OnPlanProductUpdate.class }) @RequestBody(required = true) SavePlanProductRequest updateProductRequest)\n        throws ServiceException { ... }\n</code></pre>\n<p>I tried creating an interface like the one below, but the validation didn't seem to work.</p>\n<pre><code>@Valid \n@Pattern(regexp = REGEX_PATTERN_ALPHANUMERIC, message = &quot;{error.invalid.name.id.header}&quot;) \n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NameId {\n       String nameId() default &quot;&quot;;\n}\n</code></pre>\n"},{"tags":["java","excel","ms-word","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":16049252,"reputation":63,"user_id":11583617,"display_name":"Harpreet"},"score":0,"creation_date":1592340587,"post_id":62404421,"comment_id":110390294,"body_markdown":"Thank you very much Axel. This is wonderful! Really appreciate your help.","body":"Thank you very much Axel. This is wonderful! Really appreciate your help."},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1669799241,"post_id":62404421,"comment_id":131722855,"body_markdown":"I am using POI 3.17 and getting error on XSSFWorkbook workbook = new XSSFWorkbook(part). The constructor with XSSFWorkbook(PackagePart) is not defined","body":"I am using POI 3.17 and getting error on XSSFWorkbook workbook = new XSSFWorkbook(part). The constructor with XSSFWorkbook(PackagePart) is not defined"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1592296816,"creation_date":1592296816,"answer_id":62404421,"question_id":62398450,"body_markdown":"The `OLEObject`s are contained in `XWPFRun`s. So one could check each `XWPFRun` whether it contains `OLEObject`s. If so, then get the `rId` attribute out of the `OLEObject`. This ID links to a document part of the `Office Open XML` document. The content type of the package part behind that document part determines what kind of object is embedded. So dependent of the content type one could get the `XSSFWorkbook`, `HSSFWorkbook` or other embedded `OLEObject`s then.\r\n\r\nThe following methods demonstrate this approach:\r\n\r\n    ...\r\n    import org.apache.poi.ooxml.*;\r\n    import org.apache.poi.openxml4j.opc.*;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.hssf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    import org.apache.xmlbeans.XmlObject;\r\n    ...\r\n    \r\n     void handleOLEObjects(XWPFRun run) {\r\n      CTR ctr = run.getCTR();\r\n      String declareNameSpaces = &quot;declare namespace o=&#39;urn:schemas-microsoft-com:office:office&#39;&quot;;\r\n      XmlObject[] oleObjects = ctr.selectPath(declareNameSpaces + &quot;.//o:OLEObject&quot;);\r\n      for (XmlObject oleObject : oleObjects) {\r\n       XmlObject rIdAttribute = oleObject.selectAttribute(&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;, &quot;id&quot;);\r\n       if (rIdAttribute != null) {\r\n        String rId = rIdAttribute.newCursor().getTextValue();\r\n        handleOLEObject(run.getDocument(), rId);\r\n       }\r\n      }\r\n     }\r\n    \r\n     void handleOLEObject(XWPFDocument document, String rId) {\r\n      POIXMLDocumentPart documentPart = document.getRelationById(rId);\r\n      if (&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;.equals(documentPart.getPackagePart().getContentType())) {\r\n       handleXSSFWorkbook(documentPart.getPackagePart());\r\n      } else if (&quot;application/vnd.ms-excel&quot;.equals(documentPart.getPackagePart().getContentType())) {\r\n       handleHSSFWorkbook(documentPart.getPackagePart());\r\n      } //else if ...\r\n     }\r\n    \r\n     void handleXSSFWorkbook(PackagePart part) {\r\n      try {\r\n       XSSFWorkbook workbook = new XSSFWorkbook(part);\r\n       for (Sheet sheet : workbook) {\r\n        for (Row row : sheet) {\r\n         for (Cell cell : row) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         }\r\n         System.out.println();\r\n        }\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n     }\r\n    \r\n     void handleHSSFWorkbook(PackagePart part) {\r\n      try {\r\n       HSSFWorkbook workbook = new HSSFWorkbook(part.getInputStream());\r\n       for (Sheet sheet : workbook) {\r\n        for (Row row : sheet) {\r\n         for (Cell cell : row) {\r\n          System.out.print(cell + &quot;\\t&quot;);\r\n         }\r\n         System.out.println();\r\n        }\r\n       }\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();\r\n      }\r\n     }\r\n\r\n\r\n\r\nThe method `handleOLEObjects` uses `XPath` to get all the `OLEObject` `XML` objects out of the `XWPFRun`. It also gets the `rId` attribute. If a such is present, then it calls `handleOLEObject`. This method gets the linked `POIXMLDocumentPart` from `XWPFDocument` by the `rId`. Then it determines by the content types which kinds of `OLEObjects` are embedded and calls different handler methods for those objects.","title":"Apache POI library : How to read Excel sheet embedded in Word document","body":"<p>The <code>OLEObject</code>s are contained in <code>XWPFRun</code>s. So one could check each <code>XWPFRun</code> whether it contains <code>OLEObject</code>s. If so, then get the <code>rId</code> attribute out of the <code>OLEObject</code>. This ID links to a document part of the <code>Office Open XML</code> document. The content type of the package part behind that document part determines what kind of object is embedded. So dependent of the content type one could get the <code>XSSFWorkbook</code>, <code>HSSFWorkbook</code> or other embedded <code>OLEObject</code>s then.</p>\n\n<p>The following methods demonstrate this approach:</p>\n\n<pre><code>...\nimport org.apache.poi.ooxml.*;\nimport org.apache.poi.openxml4j.opc.*;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.hssf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\nimport org.apache.xmlbeans.XmlObject;\n...\n\n void handleOLEObjects(XWPFRun run) {\n  CTR ctr = run.getCTR();\n  String declareNameSpaces = \"declare namespace o='urn:schemas-microsoft-com:office:office'\";\n  XmlObject[] oleObjects = ctr.selectPath(declareNameSpaces + \".//o:OLEObject\");\n  for (XmlObject oleObject : oleObjects) {\n   XmlObject rIdAttribute = oleObject.selectAttribute(\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\", \"id\");\n   if (rIdAttribute != null) {\n    String rId = rIdAttribute.newCursor().getTextValue();\n    handleOLEObject(run.getDocument(), rId);\n   }\n  }\n }\n\n void handleOLEObject(XWPFDocument document, String rId) {\n  POIXMLDocumentPart documentPart = document.getRelationById(rId);\n  if (\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\".equals(documentPart.getPackagePart().getContentType())) {\n   handleXSSFWorkbook(documentPart.getPackagePart());\n  } else if (\"application/vnd.ms-excel\".equals(documentPart.getPackagePart().getContentType())) {\n   handleHSSFWorkbook(documentPart.getPackagePart());\n  } //else if ...\n }\n\n void handleXSSFWorkbook(PackagePart part) {\n  try {\n   XSSFWorkbook workbook = new XSSFWorkbook(part);\n   for (Sheet sheet : workbook) {\n    for (Row row : sheet) {\n     for (Cell cell : row) {\n      System.out.print(cell + \"\\t\");\n     }\n     System.out.println();\n    }\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n }\n\n void handleHSSFWorkbook(PackagePart part) {\n  try {\n   HSSFWorkbook workbook = new HSSFWorkbook(part.getInputStream());\n   for (Sheet sheet : workbook) {\n    for (Row row : sheet) {\n     for (Cell cell : row) {\n      System.out.print(cell + \"\\t\");\n     }\n     System.out.println();\n    }\n   }\n  } catch (Exception ex) {\n   ex.printStackTrace();\n  }\n }\n</code></pre>\n\n<p>The method <code>handleOLEObjects</code> uses <code>XPath</code> to get all the <code>OLEObject</code> <code>XML</code> objects out of the <code>XWPFRun</code>. It also gets the <code>rId</code> attribute. If a such is present, then it calls <code>handleOLEObject</code>. This method gets the linked <code>POIXMLDocumentPart</code> from <code>XWPFDocument</code> by the <code>rId</code>. Then it determines by the content types which kinds of <code>OLEObjects</code> are embedded and calls different handler methods for those objects.</p>\n"}],"owner":{"account_id":16049252,"reputation":63,"user_id":11583617,"display_name":"Harpreet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62404421,"answer_count":1,"score":1,"last_activity_date":1668018650,"creation_date":1592262579,"question_id":62398450,"body_markdown":"I am using Apache POI library to read a Word document and convert it to HTML. I have a Word document that includes an embedded Excel worksheet. Is there a way to read that embedded Excel sheet when reading the XWPF document?\r\n\r\nThe OOXML contains below code:\r\n```\r\n&lt;w:object w:dxaOrig=&quot;6942&quot; w:dyaOrig=&quot;3234&quot; w14:anchorId=&quot;071813E3&quot;&gt;\r\n                &lt;v:shapetype id=&quot;_x0000_t75&quot; coordsize=&quot;21600,21600&quot; o:spt=&quot;75&quot; o:preferrelative=&quot;t&quot; path=&quot;m@4@5l@4@11@9@11@9@5xe&quot; filled=&quot;f&quot; stroked=&quot;f&quot;&gt;\r\n                  &lt;v:stroke joinstyle=&quot;miter&quot;/&gt;\r\n                  &lt;v:formulas&gt;\r\n                    &lt;v:f eqn=&quot;if lineDrawn pixelLineWidth 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @0 1 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum 0 0 @1&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @2 1 2&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @3 21600 pixelWidth&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @3 21600 pixelHeight&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @0 0 1&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @6 1 2&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @7 21600 pixelWidth&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @8 21600 0&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;prod @7 21600 pixelHeight&quot;/&gt;\r\n                    &lt;v:f eqn=&quot;sum @10 21600 0&quot;/&gt;\r\n                  &lt;/v:formulas&gt;\r\n                  &lt;v:path o:extrusionok=&quot;f&quot; gradientshapeok=&quot;t&quot; o:connecttype=&quot;rect&quot;/&gt;\r\n                  &lt;o:lock v:ext=&quot;edit&quot; aspectratio=&quot;t&quot;/&gt;\r\n                &lt;/v:shapetype&gt;\r\n                &lt;v:shape id=&quot;_x0000_i1037&quot; type=&quot;#_x0000_t75&quot; style=&quot;width:347.4pt;height:162pt&quot; o:ole=&quot;&quot;&gt;\r\n                  &lt;v:imagedata r:id=&quot;rId7&quot; o:title=&quot;&quot;/&gt;\r\n                &lt;/v:shape&gt;\r\n                &lt;o:OLEObject Type=&quot;Embed&quot; ProgID=&quot;Excel.Sheet.12&quot; ShapeID=&quot;_x0000_i1037&quot; DrawAspect=&quot;Content&quot; ObjectID=&quot;_1653752874&quot; r:id=&quot;rId8&quot;/&gt;\r\n              &lt;/w:object&gt;\r\n```\r\n\r\nI see there is OLEObject embedded in there. But not sure how to read its contents. Any help is greatly appreciated.\r\n\r\n","title":"Apache POI library : How to read Excel sheet embedded in Word document","body":"<p>I am using Apache POI library to read a Word document and convert it to HTML. I have a Word document that includes an embedded Excel worksheet. Is there a way to read that embedded Excel sheet when reading the XWPF document?</p>\n\n<p>The OOXML contains below code:</p>\n\n<pre><code>&lt;w:object w:dxaOrig=\"6942\" w:dyaOrig=\"3234\" w14:anchorId=\"071813E3\"&gt;\n                &lt;v:shapetype id=\"_x0000_t75\" coordsize=\"21600,21600\" o:spt=\"75\" o:preferrelative=\"t\" path=\"m@4@5l@4@11@9@11@9@5xe\" filled=\"f\" stroked=\"f\"&gt;\n                  &lt;v:stroke joinstyle=\"miter\"/&gt;\n                  &lt;v:formulas&gt;\n                    &lt;v:f eqn=\"if lineDrawn pixelLineWidth 0\"/&gt;\n                    &lt;v:f eqn=\"sum @0 1 0\"/&gt;\n                    &lt;v:f eqn=\"sum 0 0 @1\"/&gt;\n                    &lt;v:f eqn=\"prod @2 1 2\"/&gt;\n                    &lt;v:f eqn=\"prod @3 21600 pixelWidth\"/&gt;\n                    &lt;v:f eqn=\"prod @3 21600 pixelHeight\"/&gt;\n                    &lt;v:f eqn=\"sum @0 0 1\"/&gt;\n                    &lt;v:f eqn=\"prod @6 1 2\"/&gt;\n                    &lt;v:f eqn=\"prod @7 21600 pixelWidth\"/&gt;\n                    &lt;v:f eqn=\"sum @8 21600 0\"/&gt;\n                    &lt;v:f eqn=\"prod @7 21600 pixelHeight\"/&gt;\n                    &lt;v:f eqn=\"sum @10 21600 0\"/&gt;\n                  &lt;/v:formulas&gt;\n                  &lt;v:path o:extrusionok=\"f\" gradientshapeok=\"t\" o:connecttype=\"rect\"/&gt;\n                  &lt;o:lock v:ext=\"edit\" aspectratio=\"t\"/&gt;\n                &lt;/v:shapetype&gt;\n                &lt;v:shape id=\"_x0000_i1037\" type=\"#_x0000_t75\" style=\"width:347.4pt;height:162pt\" o:ole=\"\"&gt;\n                  &lt;v:imagedata r:id=\"rId7\" o:title=\"\"/&gt;\n                &lt;/v:shape&gt;\n                &lt;o:OLEObject Type=\"Embed\" ProgID=\"Excel.Sheet.12\" ShapeID=\"_x0000_i1037\" DrawAspect=\"Content\" ObjectID=\"_1653752874\" r:id=\"rId8\"/&gt;\n              &lt;/w:object&gt;\n</code></pre>\n\n<p>I see there is OLEObject embedded in there. But not sure how to read its contents. Any help is greatly appreciated.</p>\n"},{"tags":["java","html","excel","csv"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598025907,"creation_date":1598025907,"answer_id":63526288,"question_id":63526151,"body_markdown":"The unicode symbol 244 is &amp;#244;. The ASCII table goes from 0 to 127, more or less.\r\n\r\nTherefore, this statement:\r\n\r\n&gt; What does the paragraph symbol (ASCII : ALT-244)\r\n\r\nindicates you are confused. There is no ascii 244. If you meant unicode: 244 is not the paragraph symbol. If you meant ISO-8859-1: That one also has &amp;#244; in the 244 spot. As Does Cp1252. MacRoman has &#217;. I&#39;m starting to run out of commonly used encodings, so whatever you have is a weirder variant I&#39;m not aware.\r\n\r\n__IBM852 and IBM850 has &#167;, but at 245.__ - so presumably you&#39;ve miscopied something or misunderstood something, and it&#39;s IBM852, because that is too much of a coincidence.\r\n\r\nNote that the IBM850 charset is from the DOS era. Are you talking to a machine that&#39;s in a museum, perhaps? That&#39;s.. one heck of a dated charset!\r\n\r\nWhat you have is text, encoded as bytes. That&#39;s.. normal, computers do bytes. However, anytime you take your bytes and interpret them as chars, you have to tell the computer how. If you don&#39;t, the computer will guess, and you may safely assume that the computer is going to guess wrong exactly to screw you over: It&#39;ll work on your machine and pass in your tests and then fail at runtime. The solution is to __never let the computer guess__. Whenever bytes are turned into chars or vice versa, always specify a charset or ensure that the method you use is explicitly documented to pick a set, defined charset.\r\n\r\nFor example, if you have the response from the webserver in a byte array and you&#39;re turning it into a string, then:\r\n\r\n```\r\nbyte[] data = htmlResponse.getAllData();\r\nString html = new String(bytes); // Don&#39;t ever call this constructor.\r\nString html = new String(bytes, &quot;IBM-852&quot;); // Correct!\r\n```\r\n\r\n\r\nIf you&#39;re fetching this stuff from HTML, the charset will be in the response header. HTMLUnit should be taking care of this for you; apparently it is not, sounds like the web server in question is bugged and is sending the wrong charset data. That, or your code is bugged and you&#39;ve messed up the encoding conversion yourself.\r\n\r\nIt&#39;s just a symbol, strings in java are more or less unicode. Once you&#39;ve read it in properly (and I bet you haven&#39;t, that&#39;s part of the problem here), if you want to remove it, that&#39;s trivial:\r\n\r\n```\r\nbyte[] data = htmlResponse.getAllData();\r\nString html = new String(bytes, &quot;IBM-852&quot;);\r\n\r\n// replace the &#167; symbol with nothing (i.e. remove it)\r\nhtml = html.replace(&quot;&#167;&quot;, &quot;&quot;);\r\n```\r\n\r\nNB: The easy way to do charsets is to encode everything in UTF-8, everywhere. Especially the web. If you can talk to the owner of that website or whomever wrote the software for it, you should tell them to do that.","title":"Removing paragraph tags in Java","body":"<p>The unicode symbol 244 is . The ASCII table goes from 0 to 127, more or less.</p>\n<p>Therefore, this statement:</p>\n<blockquote>\n<p>What does the paragraph symbol (ASCII : ALT-244)</p>\n</blockquote>\n<p>indicates you are confused. There is no ascii 244. If you meant unicode: 244 is not the paragraph symbol. If you meant ISO-8859-1: That one also has  in the 244 spot. As Does Cp1252. MacRoman has . I'm starting to run out of commonly used encodings, so whatever you have is a weirder variant I'm not aware.</p>\n<p><strong>IBM852 and IBM850 has , but at 245.</strong> - so presumably you've miscopied something or misunderstood something, and it's IBM852, because that is too much of a coincidence.</p>\n<p>Note that the IBM850 charset is from the DOS era. Are you talking to a machine that's in a museum, perhaps? That's.. one heck of a dated charset!</p>\n<p>What you have is text, encoded as bytes. That's.. normal, computers do bytes. However, anytime you take your bytes and interpret them as chars, you have to tell the computer how. If you don't, the computer will guess, and you may safely assume that the computer is going to guess wrong exactly to screw you over: It'll work on your machine and pass in your tests and then fail at runtime. The solution is to <strong>never let the computer guess</strong>. Whenever bytes are turned into chars or vice versa, always specify a charset or ensure that the method you use is explicitly documented to pick a set, defined charset.</p>\n<p>For example, if you have the response from the webserver in a byte array and you're turning it into a string, then:</p>\n<pre><code>byte[] data = htmlResponse.getAllData();\nString html = new String(bytes); // Don't ever call this constructor.\nString html = new String(bytes, &quot;IBM-852&quot;); // Correct!\n</code></pre>\n<p>If you're fetching this stuff from HTML, the charset will be in the response header. HTMLUnit should be taking care of this for you; apparently it is not, sounds like the web server in question is bugged and is sending the wrong charset data. That, or your code is bugged and you've messed up the encoding conversion yourself.</p>\n<p>It's just a symbol, strings in java are more or less unicode. Once you've read it in properly (and I bet you haven't, that's part of the problem here), if you want to remove it, that's trivial:</p>\n<pre><code>byte[] data = htmlResponse.getAllData();\nString html = new String(bytes, &quot;IBM-852&quot;);\n\n// replace the  symbol with nothing (i.e. remove it)\nhtml = html.replace(&quot;&quot;, &quot;&quot;);\n</code></pre>\n<p>NB: The easy way to do charsets is to encode everything in UTF-8, everywhere. Especially the web. If you can talk to the owner of that website or whomever wrote the software for it, you should tell them to do that.</p>\n"}],"owner":{"account_id":18554022,"reputation":1,"user_id":13519604,"display_name":"Aaron P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668018601,"creation_date":1598025337,"question_id":63526151,"body_markdown":"Ive got a java program that downloads some files from the internet using HTMLUnit.\r\n\r\nI&#39;m trying to format these files into a CSV/Excel sheet.\r\n\r\nMy issue is that I cant seem to get the formatting quite right; One datum is sorted into a header rather than an instance. \r\n\r\nI can tell in Microsoft word that the paragraph symbol is the issue. However I&#39;m not sure what this translates to in Java. It isn&#39;t /n for newline.\r\n\r\nWhat does the paragraph symbol (ASCII : ALT-244) translate to in java? How can I remove or add this symbol for proper formatting?\r\n\r\nps- trim() isnt doin it.\r\n\r\nThank you.","title":"Removing paragraph tags in Java","body":"<p>Ive got a java program that downloads some files from the internet using HTMLUnit.</p>\n<p>I'm trying to format these files into a CSV/Excel sheet.</p>\n<p>My issue is that I cant seem to get the formatting quite right; One datum is sorted into a header rather than an instance.</p>\n<p>I can tell in Microsoft word that the paragraph symbol is the issue. However I'm not sure what this translates to in Java. It isn't /n for newline.</p>\n<p>What does the paragraph symbol (ASCII : ALT-244) translate to in java? How can I remove or add this symbol for proper formatting?</p>\n<p>ps- trim() isnt doin it.</p>\n<p>Thank you.</p>\n"},{"tags":["java","mockito","jira-rest-java-api"],"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668018340,"creation_date":1668018340,"question_id":74379727,"body_markdown":"We are integrating our application with JIRA, to create an issue with attachment.\r\n\r\n**Method 1:**\r\n\r\n        public JSONObject createIssue() {\r\n        \r\n        \t\t\tIssueRestClient issueClient = restClient.getIssueClient();\r\n        \t\t\tMetadataRestClient metadataClient = restClient.getMetadataClient();\r\n        \t\t\t\r\n        \t\t\tMap&lt;String, Long&gt; priorityMap = new HashMap&lt;&gt;();\r\n        \t\t\tMap&lt;String, Long&gt; issueMap = new HashMap&lt;&gt;();\r\n        \t\t\tMap&lt;String, String&gt; fieldsMap = new HashMap&lt;&gt;();\r\n        \r\n        \t\t\t// To get the list of all types of priorities\r\n        \t\t\tmetadataClient.getPriorities().claim().forEach(priorityType -&gt; priorityMap.put(priorityType.getName(), priorityType.getId()));\r\n        \t\t\t// To get the list of all issue types\r\n        \t\t\tmetadataClient.getIssueTypes().claim().forEach(issueType -&gt; issueMap.put(issueType.getName(), issueType.getId()));\r\n        \t\t\t// To get the list of all fields, which includes the custom fields\r\n        \t\t\tmetadataClient.getFields().claim().forEach(fieldType -&gt; fieldsMap.put(fieldType.getName(), fieldType.getId()));\r\n    \r\n    // skipped the remaining code\r\n    \r\n    \r\n        }\r\n\r\n**Method 2:**\r\n\r\n    public void addAttachmentToIssue(String issueId, InputStream inputStream, String fileNameWithExtension) {\r\n    \r\n    Issue issue = null;\r\n    \r\n    IssueRestClient issueClient = restClient.getIssueClient();\r\n    \r\n    &#160; Promise&lt;Issue&gt; promiseIssue = issueClient.getIssue(issueId);\r\n    &#160; issue = promiseIssue.claim();\r\n    \r\n    &#160; issueClient.addAttachment(issue.getAttachmentsUri(), inputStream, fileNameWithExtension);\r\n    \r\n    }\r\n\r\nI&#39;m writing unit tests using Mockito.\r\n\r\n    public class JIRATest{\r\n    \r\n    \t@InjectMocks\r\n    \tJIRAService mockJiraService;\t\r\n    \tJiraRestClient mockJiraRestClient;\t\r\n    \tIssueRestClient mockIssueRestClient;\r\n    \tPromise mockPromise;\t\r\n    \tIssue mockIssue;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup() {\r\n    \t\tmockJiraService = new JIRAService();\r\n    \t\tmockJiraRestClient = mock(JiraRestClient.class);\r\n    \t\tmockIssueRestClient = mock(IssueRestClient.class);\t\t\t\t\r\n    \t\tmockJiraService.setRestClient(mockJiraRestClient);\r\n    \t\tmockPromise = mock(Promise.class);\r\n    \t\tmockIssue = mock(Issue.class);\r\n    \r\n    \t}\r\n    \r\n    @Test\r\n    public void addAttachmentTest(){\r\n    \r\n    \t\tMockito.when(mockJiraRestClient.getIssueClient()).thenReturn(mockIssueRestClient);\r\n    \t\t\r\n    \t\tMockito.when(mockIssueRestClient.getIssue(&quot;DCU&quot;)).thenReturn(mockPromise);\r\n    \t\tMockito.when(mockPromise.claim()).thenReturn(mockIssue);\r\n    \t\tMockito.when(mockIssueRestClient.addAttachment(any(), any(), any()));\r\n    \t\t\r\n    \t\tString webSite = &quot;https://www.google.com&quot;;\r\n           \t URL url = new URL(webSite);\r\n          \t\t InputStream stream = url.openStream();\r\n    \t\tmockJiraService.addAttachmentToIssue(&quot;issueId&quot;, stream, &quot;lowes-webpage.html&quot;);\r\n    }\r\n    \r\n    }\r\n\r\nHow to mock these below objects, so that i wanted to use it in `thenReturn()` of Mockito?\r\n\r\n    1. Promise&lt;Issue&gt;\r\n    2. metadataClient.getPriorities() return Promise&lt;Iterable&lt;Priority&gt;&gt; \r\n    3. metadataClient.getPriorities().claim() return Iterable&lt;Priority&gt;\r\n    4. metadataClient.getIssueTypes() return Promise&lt;Iterable&lt;IssueType&gt;&gt;\r\n    5. metadataClient.getPriorities().claim()  return Iterable&lt;IssueType&gt;\r\n    6. metadataClient.getFields() return Promise&lt;Iterable&lt;Field&gt;&gt;\r\n    7. metadataClient.getFields().claim() return Iterable&lt;Field&gt;","title":"Mocking JIRA java client objects using mockito","body":"<p>We are integrating our application with JIRA, to create an issue with attachment.</p>\n<p><strong>Method 1:</strong></p>\n<pre><code>    public JSONObject createIssue() {\n    \n                IssueRestClient issueClient = restClient.getIssueClient();\n                MetadataRestClient metadataClient = restClient.getMetadataClient();\n                \n                Map&lt;String, Long&gt; priorityMap = new HashMap&lt;&gt;();\n                Map&lt;String, Long&gt; issueMap = new HashMap&lt;&gt;();\n                Map&lt;String, String&gt; fieldsMap = new HashMap&lt;&gt;();\n    \n                // To get the list of all types of priorities\n                metadataClient.getPriorities().claim().forEach(priorityType -&gt; priorityMap.put(priorityType.getName(), priorityType.getId()));\n                // To get the list of all issue types\n                metadataClient.getIssueTypes().claim().forEach(issueType -&gt; issueMap.put(issueType.getName(), issueType.getId()));\n                // To get the list of all fields, which includes the custom fields\n                metadataClient.getFields().claim().forEach(fieldType -&gt; fieldsMap.put(fieldType.getName(), fieldType.getId()));\n\n// skipped the remaining code\n\n\n    }\n</code></pre>\n<p><strong>Method 2:</strong></p>\n<pre><code>public void addAttachmentToIssue(String issueId, InputStream inputStream, String fileNameWithExtension) {\n\nIssue issue = null;\n\nIssueRestClient issueClient = restClient.getIssueClient();\n\n Promise&lt;Issue&gt; promiseIssue = issueClient.getIssue(issueId);\n issue = promiseIssue.claim();\n\n issueClient.addAttachment(issue.getAttachmentsUri(), inputStream, fileNameWithExtension);\n\n}\n</code></pre>\n<p>I'm writing unit tests using Mockito.</p>\n<pre><code>public class JIRATest{\n\n    @InjectMocks\n    JIRAService mockJiraService;    \n    JiraRestClient mockJiraRestClient;  \n    IssueRestClient mockIssueRestClient;\n    Promise mockPromise;    \n    Issue mockIssue;\n\n    @BeforeEach\n    public void setup() {\n        mockJiraService = new JIRAService();\n        mockJiraRestClient = mock(JiraRestClient.class);\n        mockIssueRestClient = mock(IssueRestClient.class);              \n        mockJiraService.setRestClient(mockJiraRestClient);\n        mockPromise = mock(Promise.class);\n        mockIssue = mock(Issue.class);\n\n    }\n\n@Test\npublic void addAttachmentTest(){\n\n        Mockito.when(mockJiraRestClient.getIssueClient()).thenReturn(mockIssueRestClient);\n        \n        Mockito.when(mockIssueRestClient.getIssue(&quot;DCU&quot;)).thenReturn(mockPromise);\n        Mockito.when(mockPromise.claim()).thenReturn(mockIssue);\n        Mockito.when(mockIssueRestClient.addAttachment(any(), any(), any()));\n        \n        String webSite = &quot;https://www.google.com&quot;;\n         URL url = new URL(webSite);\n             InputStream stream = url.openStream();\n        mockJiraService.addAttachmentToIssue(&quot;issueId&quot;, stream, &quot;lowes-webpage.html&quot;);\n}\n\n}\n</code></pre>\n<p>How to mock these below objects, so that i wanted to use it in <code>thenReturn()</code> of Mockito?</p>\n<pre><code>1. Promise&lt;Issue&gt;\n2. metadataClient.getPriorities() return Promise&lt;Iterable&lt;Priority&gt;&gt; \n3. metadataClient.getPriorities().claim() return Iterable&lt;Priority&gt;\n4. metadataClient.getIssueTypes() return Promise&lt;Iterable&lt;IssueType&gt;&gt;\n5. metadataClient.getPriorities().claim()  return Iterable&lt;IssueType&gt;\n6. metadataClient.getFields() return Promise&lt;Iterable&lt;Field&gt;&gt;\n7. metadataClient.getFields().claim() return Iterable&lt;Field&gt;\n</code></pre>\n"},{"tags":["javascript","java","selenium","xpath","javascriptexecutor"],"comments":[{"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"score":0,"creation_date":1668011960,"post_id":74377933,"comment_id":131305935,"body_markdown":"What do you want to do after clicking the Upload button?","body":"What do you want to do after clicking the Upload button?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012059,"post_id":74377933,"comment_id":131305974,"body_markdown":"Hey @JaSON after clicking on that button another button is shown and it allows me to update a file, do you get me?","body":"Hey @JaSON after clicking on that button another button is shown and it allows me to update a file, do you get me?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012111,"post_id":74377933,"comment_id":131305994,"body_markdown":"@JaSON is my XPATH correct?","body":"@JaSON is my XPATH correct?"},{"owner":{"account_id":14791486,"reputation":4847,"user_id":10682289,"display_name":"JaSON"},"score":0,"creation_date":1668012537,"post_id":74377933,"comment_id":131306142,"body_markdown":"It&#39;s hard to tell whether your XPath is correct since you use absolute XPath while shared HTML of button only... BTW don&#39;t use XPaths generated by browser dev tools or similar tools - they are not reliable and uninformative... Do you know that Selenium doesn&#39;t allow to operate with OS file uploading popup?","body":"It&#39;s hard to tell whether your XPath is correct since you use absolute XPath while shared HTML of button only... BTW don&#39;t use XPaths generated by browser dev tools or similar tools - they are not reliable and uninformative... Do you know that Selenium doesn&#39;t allow to operate with OS file uploading popup?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668012899,"post_id":74377933,"comment_id":131306297,"body_markdown":"My code did work a few days ago but now it thrown that error message :/","body":"My code did work a few days ago but now it thrown that error message :/"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":1,"creation_date":1668015968,"post_id":74377933,"comment_id":131307435,"body_markdown":"mmm Maybe something changed in your page and now your absolute path is not valid. What if you try this xpath? `//button[text()=&#39;Upload FILE&#39;]` or `//button[@class=&#39;btn btn-sm btn-link add-row&#39;]`","body":"mmm Maybe something changed in your page and now your absolute path is not valid. What if you try this xpath? <code>&#47;&#47;button[text()=&#39;Upload FILE&#39;]</code> or <code>&#47;&#47;button[@class=&#39;btn btn-sm btn-link add-row&#39;]</code>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668016190,"post_id":74377933,"comment_id":131307514,"body_markdown":"@JakyRuby hey pal, you mean this?: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Upload FILE&#39;]&quot;)));","body":"@JakyRuby hey pal, you mean this?: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToB&zwnj;&#8203;eClickable(By.xpath(&zwnj;&#8203;&quot;//button[text()=&#39;Up&zwnj;&#8203;load FILE&#39;]&quot;)));"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668016290,"post_id":74377933,"comment_id":131307542,"body_markdown":"@JakyRuby it worked!. I used: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Upload FILE&#39;]&quot;))); Why this happened?","body":"@JakyRuby it worked!. I used: WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToB&zwnj;&#8203;eClickable(By.xpath(&zwnj;&#8203;&quot;//button[text()=&#39;Up&zwnj;&#8203;load FILE&#39;]&quot;))); Why this happened?"}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668018799,"post_id":74379545,"comment_id":131308393,"body_markdown":"Hey pal, thanks for replying!. You said &quot;In this case I used the text of the element.&quot;, which are the other ways to solve this?","body":"Hey pal, thanks for replying!. You said &quot;In this case I used the text of the element.&quot;, which are the other ways to solve this?"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1668019133,"post_id":74379545,"comment_id":131308499,"body_markdown":"You can use any attribute of the element like class as I said here: `//button[@class=&#39;btn btn-sm btn-link add-row&#39;]`. Problem is that maybe there are some other elements that match with that criteria, so it is because of that is better to use ids, because there are usually uniques. Here a small guide how to locate elements by xpath: https://www.guru99.com/xpath-selenium.html","body":"You can use any attribute of the element like class as I said here: <code>&#47;&#47;button[@class=&#39;btn btn-sm btn-link add-row&#39;]</code>. Problem is that maybe there are some other elements that match with that criteria, so it is because of that is better to use ids, because there are usually uniques. Here a small guide how to locate elements by xpath: <a href=\"https://www.guru99.com/xpath-selenium.html\" rel=\"nofollow noreferrer\">guru99.com/xpath-selenium.html</a>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668019337,"post_id":74379545,"comment_id":131308555,"body_markdown":"Can i ask you something, I have this XPATH from developer tools: //*[@id=&quot;Datatable_ReceiptListModel&quot;]/tbody/tr[3]/td[1]/span/i. What would it be the right way to use it?","body":"Can i ask you something, I have this XPATH from developer tools: //*[@id=&quot;Datatable_ReceiptListModel&quot;]/tbody/tr[3]/td[1]/span&zwnj;&#8203;/i. What would it be the right way to use it?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668019382,"post_id":74379545,"comment_id":131308571,"body_markdown":"Is it alright?: driver.findElement(By.xpath(&quot;//*[@id=\\&quot;Datatable_ReceiptListModel\\&quot;]/tbody/tr[3]/td[1]/span/i&quot;)).click();","body":"Is it alright?: driver.findElement(By.xpath(&quot;//*[@id=\\&quot;Datatable_ReceiptList&zwnj;&#8203;Model\\&quot;]/tbody/tr[3]&zwnj;&#8203;/td[1]/span/i&quot;)).cli&zwnj;&#8203;ck();"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1668019539,"post_id":74379545,"comment_id":131308624,"body_markdown":"I need to see the html element to decide what xpath I would use.","body":"I need to see the html element to decide what xpath I would use."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1668019631,"post_id":74379545,"comment_id":131308647,"body_markdown":"&lt;i class=&quot;fa fa-plus-square receipt-items-action plus&quot;&gt;&lt;/i&gt;","body":"&lt;i class=&quot;fa fa-plus-square receipt-items-action plus&quot;&gt;&lt;/i&gt;"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1668019909,"post_id":74379545,"comment_id":131308729,"body_markdown":"You could try `//i[class=&quot;fa fa-plus-square receipt-items-action plus&quot;]` problem is that maybe a lot of elements match with that xpath, because it looks like the element is inside a table.","body":"You could try <code>&#47;&#47;i[class=&quot;fa fa-plus-square receipt-items-action plus&quot;]</code> problem is that maybe a lot of elements match with that xpath, because it looks like the element is inside a table."}],"tags":[],"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668018289,"creation_date":1668017494,"answer_id":74379545,"question_id":74377933,"body_markdown":"If you use the xpath:\r\n\r\n    //button[text()=&#39;Upload FILE&#39;]\r\n\r\nShould work.\r\n\r\nWhy this happened?\r\n------------------\r\n\r\n\r\nThe problem is that you were using the xpath: \r\n\r\n    xpath //*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button\r\n\r\nWith that xpath what you are doing is:\r\n\r\n 1. Locating an element with `id=&quot;documentation&quot;`\r\n 2. Then go to the first div child of that element\r\n 3. Then go to second div child of the previous div\r\n 4. Then go to the first div child of the previous div\r\n 5. Then go to the button\r\n\r\nAs you can see your final element (The button) is depending on several other parent elements to be located. Once one of those parent elements changes, your xpath is not valid anymore.\r\n\r\nIs much better to locate your xpath based on the properties of your element itself, not on the elements that surround it.\r\n\r\nIn this case I used the text of the element.\r\n\r\nI don&#39;t know if it is possible or not, but if it is possible, a good idea is to talk with developers for using ids for all the elements you will use with your automation. This is a team work!","title":"Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button","body":"<p>If you use the xpath:</p>\n<pre><code>//button[text()='Upload FILE']\n</code></pre>\n<p>Should work.</p>\n<h2>Why this happened?</h2>\n<p>The problem is that you were using the xpath:</p>\n<pre><code>xpath //*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button\n</code></pre>\n<p>With that xpath what you are doing is:</p>\n<ol>\n<li>Locating an element with <code>id=&quot;documentation&quot;</code></li>\n<li>Then go to the first div child of that element</li>\n<li>Then go to second div child of the previous div</li>\n<li>Then go to the first div child of the previous div</li>\n<li>Then go to the button</li>\n</ol>\n<p>As you can see your final element (The button) is depending on several other parent elements to be located. Once one of those parent elements changes, your xpath is not valid anymore.</p>\n<p>Is much better to locate your xpath based on the properties of your element itself, not on the elements that surround it.</p>\n<p>In this case I used the text of the element.</p>\n<p>I don't know if it is possible or not, but if it is possible, a good idea is to talk with developers for using ids for all the elements you will use with your automation. This is a team work!</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74379545,"answer_count":1,"score":-2,"last_activity_date":1668018289,"creation_date":1668009790,"question_id":74377933,"body_markdown":"I am trying without success to click on a particular button using SELENIUM &amp; JAVA but i am getting this error message:\r\n\r\n    Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button (tried for 10 second(s) with 500 milliseconds interval)\r\n\r\nThat button has this:\r\n\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload FILE&lt;/button&gt;\r\n\r\nThe XPATH is:\r\n\r\n    //*[@id=&quot;documentation&quot;]/div/div[2]/div/div/button\r\n\r\n\r\nI did this:\r\n\r\n    WebDriverWait wait10735\t= new WebDriverWait(driver,Duration.ofSeconds(10));\r\n    \t\tJavascriptExecutor executor3735\t = (JavascriptExecutor)driver;\r\n    \t\tWebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)));\r\n\r\n\r\nWhat am i doing wrong in here?","title":"Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button","body":"<p>I am trying without success to click on a particular button using SELENIUM &amp; JAVA but i am getting this error message:</p>\n<pre><code>Expected condition failed: waiting for element to be clickable: By.xpath: //*[@id=&quot;documentation&quot;]/div/div[2]/div/button (tried for 10 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>That button has this:</p>\n<pre><code>&lt;button type=&quot;button&quot; class=&quot;btn btn-sm btn-link add-row&quot;&gt;Upload FILE&lt;/button&gt;\n</code></pre>\n<p>The XPATH is:</p>\n<pre><code>//*[@id=&quot;documentation&quot;]/div/div[2]/div/div/button\n</code></pre>\n<p>I did this:</p>\n<pre><code>WebDriverWait wait10735 = new WebDriverWait(driver,Duration.ofSeconds(10));\n        JavascriptExecutor executor3735  = (JavascriptExecutor)driver;\n        WebElement elementCat4735=wait10735.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[@id=\\&quot;documentation\\&quot;]/div/div[2]/div/button&quot;)));\n</code></pre>\n<p>What am i doing wrong in here?</p>\n"},{"tags":["java","math","statistics","apache-commons","percentile"],"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1483254393,"post_id":41413544,"comment_id":70031703,"body_markdown":"Note that not only does your `percentiles` method compute the percentile values (not always correctly--see my answer) and return the values, it also leaves the `latencies` array sorted, which is a side effect that may not be desirable.  This is probably harmless in the small program you&#39;re trying to write, but in general it&#39;s not good practice for a method to have a side effect that isn&#39;t the purpose of the method.","body":"Note that not only does your <code>percentiles</code> method compute the percentile values (not always correctly--see my answer) and return the values, it also leaves the <code>latencies</code> array sorted, which is a side effect that may not be desirable.  This is probably harmless in the small program you&#39;re trying to write, but in general it&#39;s not good practice for a method to have a side effect that isn&#39;t the purpose of the method."}],"answers":[{"tags":[],"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483249429,"creation_date":1483249429,"answer_id":41413614,"question_id":41413544,"body_markdown":"According to [Wikipedia](https://en.wikipedia.org/wiki/Percentile#Definitions), there is no standard definition of percentile; however, they give a few possible definitions.  The code you&#39;ve posted appears to be closest to the Nearest Rank Method, but it&#39;s not quite the same.\r\n\r\nThe formula they give is\r\n\r\n    n = ceiling((P / 100) x N)\r\n\r\nwhere `N` is the length of the list, `P` is the percentile, and `n` will be the ordinal rank.  You&#39;ve already done the division by 100.  Looking at the examples they give, it&#39;s clear that the &quot;ordinal rank&quot; is the index in the list, but it&#39;s 1-relative.  Thus, to get an index into a Java array, you&#39;d have to subtract 1.  Therefore, the correct formula should be\r\n\r\n    n = ceiling(percentile * N) - 1\r\n\r\nUsing the variables in your code, the Java equivalent would be\r\n\r\n    (int) Math.ceil(percentiles[i] * latencies.length) - 1\r\n\r\nThis is not quite the code you&#39;ve written.  When you cast a `double` to an `int`, the result is rounded toward 0, i.e. it&#39;s the equivalent of the &quot;floor&quot; function.  So your code computes\r\n\r\n    floor(percentiles[i] * latencies.length)\r\n\r\nIf `percentiles[i] * latencies.length` is not an integer, the result is the same either way.  However, if it is an integer, so that &quot;floor&quot; and &quot;ceiling&quot; are the same value, then the result will be different.\r\n\r\nAn example from Wikipedia is to compute the 40th percentile when the list is {15, 20, 35, 40, 50}.  Their answer is to find the second item in the list, i.e. 20, because 0.40 * 5 = 2.0, and ceiling(2.0) = 2.0.\r\n\r\nHowever, your code:\r\n\r\n    int index = (int) (percentiles[i] * latencies.length);\r\n\r\nwill result in `index` being 2, which isn&#39;t what you want, because that will give you the third item in the list, instead of the second.\r\n\r\nSo in order to match the Wikipedia definition, your computation of the index will need to be modified a little.  (On the other hand, I wouldn&#39;t be surprised if someone comes along and says your computation is correct and Wikipedia is wrong.  We&#39;ll see...)\r\n","title":"Calculate percentile from a long array?","body":"<p>According to <a href=\"https://en.wikipedia.org/wiki/Percentile#Definitions\" rel=\"nofollow noreferrer\">Wikipedia</a>, there is no standard definition of percentile; however, they give a few possible definitions.  The code you've posted appears to be closest to the Nearest Rank Method, but it's not quite the same.</p>\n\n<p>The formula they give is</p>\n\n<pre><code>n = ceiling((P / 100) x N)\n</code></pre>\n\n<p>where <code>N</code> is the length of the list, <code>P</code> is the percentile, and <code>n</code> will be the ordinal rank.  You've already done the division by 100.  Looking at the examples they give, it's clear that the \"ordinal rank\" is the index in the list, but it's 1-relative.  Thus, to get an index into a Java array, you'd have to subtract 1.  Therefore, the correct formula should be</p>\n\n<pre><code>n = ceiling(percentile * N) - 1\n</code></pre>\n\n<p>Using the variables in your code, the Java equivalent would be</p>\n\n<pre><code>(int) Math.ceil(percentiles[i] * latencies.length) - 1\n</code></pre>\n\n<p>This is not quite the code you've written.  When you cast a <code>double</code> to an <code>int</code>, the result is rounded toward 0, i.e. it's the equivalent of the \"floor\" function.  So your code computes</p>\n\n<pre><code>floor(percentiles[i] * latencies.length)\n</code></pre>\n\n<p>If <code>percentiles[i] * latencies.length</code> is not an integer, the result is the same either way.  However, if it is an integer, so that \"floor\" and \"ceiling\" are the same value, then the result will be different.</p>\n\n<p>An example from Wikipedia is to compute the 40th percentile when the list is {15, 20, 35, 40, 50}.  Their answer is to find the second item in the list, i.e. 20, because 0.40 * 5 = 2.0, and ceiling(2.0) = 2.0.</p>\n\n<p>However, your code:</p>\n\n<pre><code>int index = (int) (percentiles[i] * latencies.length);\n</code></pre>\n\n<p>will result in <code>index</code> being 2, which isn't what you want, because that will give you the third item in the list, instead of the second.</p>\n\n<p>So in order to match the Wikipedia definition, your computation of the index will need to be modified a little.  (On the other hand, I wouldn't be surprised if someone comes along and says your computation is correct and Wikipedia is wrong.  We'll see...)</p>\n"},{"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":7,"creation_date":1483254077,"post_id":41413629,"comment_id":70031662,"body_markdown":"Ummm, did you notice the Java tag on the question?","body":"Ummm, did you notice the Java tag on the question?"},{"owner":{"account_id":6642768,"reputation":424,"user_id":5127974,"display_name":"LD Robillard"},"score":1,"creation_date":1542388618,"post_id":41413629,"comment_id":93563957,"body_markdown":"Quick translation to java:\n`public static double percentile(List&lt;Double&gt; values, double percentile) {\n    Collections.sort(values);\n    int index = (int) Math.ceil((percentile / 100) * values.size());\n    return values.get(index - 1);\n  }`","body":"Quick translation to java: <code>public static double percentile(List&lt;Double&gt; values, double percentile) {     Collections.sort(values);     int index = (int) Math.ceil((percentile &#47; 100) * values.size());     return values.get(index - 1);   }</code>"},{"owner":{"account_id":9614522,"reputation":496,"user_id":7137792,"display_name":"Jan Moravec"},"score":2,"creation_date":1555188013,"post_id":41413629,"comment_id":98025569,"body_markdown":"Its gonna crash when percentile is 0, but that is edge case I guess.","body":"Its gonna crash when percentile is 0, but that is edge case I guess."}],"tags":[],"owner":{"account_id":9942670,"reputation":513,"user_id":7358693,"display_name":"user7358693"},"comment_count":3,"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1633877085,"creation_date":1483249659,"answer_id":41413629,"question_id":41413544,"body_markdown":"This is what you are looking for:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Long&gt; latencies = new List&lt;Long&gt;() { 3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20 };\r\n        Collections.sort(latencies);\r\n\r\n        System.out.println(percentile(latencies, 25));\r\n        System.out.println(percentile(latencies, 50));\r\n        System.out.println(percentile(latencies, 75));\r\n        System.out.println(percentile(latencies, 100));\r\n    }\r\n\r\n    public static long percentile(List&lt;Long&gt; latencies, double percentile) {\r\n        int index = (int) Math.ceil(percentile / 100.0 * latencies.size());\r\n        return latencies.get(index-1);\r\n    }\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/empSB.jpg","title":"Calculate percentile from a long array?","body":"<p>This is what you are looking for:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Long&gt; latencies = new List&lt;Long&gt;() { 3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20 };\n    Collections.sort(latencies);\n\n    System.out.println(percentile(latencies, 25));\n    System.out.println(percentile(latencies, 50));\n    System.out.println(percentile(latencies, 75));\n    System.out.println(percentile(latencies, 100));\n}\n\npublic static long percentile(List&lt;Long&gt; latencies, double percentile) {\n    int index = (int) Math.ceil(percentile / 100.0 * latencies.size());\n    return latencies.get(index-1);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/empSB.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/empSB.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":133137,"reputation":13350,"user_id":334270,"accept_rate":100,"display_name":"Zsolt Safrany"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607063419,"creation_date":1591836925,"answer_id":62315412,"question_id":41413544,"body_markdown":"```\r\npublic static double percentile(double percentile, List&lt;Double&gt; items) {\r\n    Preconditions.checkArgument(percentile &gt;= 0);\r\n    Preconditions.checkArgument(percentile &lt;= 100);\r\n    Preconditions.checkArgument(!items.isEmpty());\r\n\r\n    Collections.sort(items);\r\n    return items.get((int) Math.round(percentile / 100.0 * (items.size() - 1)));\r\n}\r\n\r\n\r\n@Test\r\npublic void test1() {\r\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0);\r\n    assertThat(percentile(0, list)).isEqualTo(0.0);\r\n    assertThat(percentile(20, list)).isEqualTo(2.0);\r\n    assertThat(percentile(80, list)).isEqualTo(8.0);\r\n    assertThat(percentile(100, list)).isEqualTo(10.0);\r\n}\r\n\r\n@Test\r\npublic void test2() {\r\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0);\r\n    assertThat(percentile(51, list)).isEqualTo(2.0);\r\n    assertThat(percentile(49, list)).isEqualTo(1.0);\r\n}\r\n\r\n@Test\r\npublic void test3() {\r\n    List&lt;Double&gt; list = Arrays.asList(42.0);     \r\n    assertThat(percentile(0, list)).isEqualTo(42.0);\r\n    assertThat(percentile(100, list)).isEqualTo(42.0);\r\n}\r\n```","title":"Calculate percentile from a long array?","body":"<pre><code>public static double percentile(double percentile, List&lt;Double&gt; items) {\n    Preconditions.checkArgument(percentile &gt;= 0);\n    Preconditions.checkArgument(percentile &lt;= 100);\n    Preconditions.checkArgument(!items.isEmpty());\n\n    Collections.sort(items);\n    return items.get((int) Math.round(percentile / 100.0 * (items.size() - 1)));\n}\n\n\n@Test\npublic void test1() {\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0);\n    assertThat(percentile(0, list)).isEqualTo(0.0);\n    assertThat(percentile(20, list)).isEqualTo(2.0);\n    assertThat(percentile(80, list)).isEqualTo(8.0);\n    assertThat(percentile(100, list)).isEqualTo(10.0);\n}\n\n@Test\npublic void test2() {\n    List&lt;Double&gt; list = Arrays.asList(0.0, 1.0, 2.0, 3.0);\n    assertThat(percentile(51, list)).isEqualTo(2.0);\n    assertThat(percentile(49, list)).isEqualTo(1.0);\n}\n\n@Test\npublic void test3() {\n    List&lt;Double&gt; list = Arrays.asList(42.0);     \n    assertThat(percentile(0, list)).isEqualTo(42.0);\n    assertThat(percentile(100, list)).isEqualTo(42.0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":560191,"reputation":1880,"user_id":922340,"display_name":"Moshe Bixenshpaner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668018188,"creation_date":1668018188,"answer_id":74379694,"question_id":41413544,"body_markdown":"If the array is sorted, you should just return the relative element in your array (e.g., p99 in a 1000-elements array is the 990th element).\r\n\r\nIf the array is unsorted, and in order to calculate percentiles more *efficiently*, you should probably use something like [Quickselect][1].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quickselect","title":"Calculate percentile from a long array?","body":"<p>If the array is sorted, you should just return the relative element in your array (e.g., p99 in a 1000-elements array is the 990th element).</p>\n<p>If the array is unsorted, and in order to calculate percentiles more <em>efficiently</em>, you should probably use something like <a href=\"https://en.wikipedia.org/wiki/Quickselect\" rel=\"nofollow noreferrer\">Quickselect</a>.</p>\n"}],"owner":{"display_name":"user5447339"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41603,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1668018188,"creation_date":1483247960,"question_id":41413544,"body_markdown":"Given a long array of latencies which are in milliseconds, I want to calculate percentile from them. I got below method which does the work but I am not sure how I can verify whether this gives me accurate result?\r\n\r\n\t  public static long[] percentiles(long[] latencies, double... percentiles) {\r\n\t\tArrays.sort(latencies, 0, latencies.length);\r\n\t\tlong[] values = new long[percentiles.length];\r\n\t\tfor (int i = 0; i &lt; percentiles.length; i++) {\r\n\t\t  int index = (int) (percentiles[i] * latencies.length);\r\n\t\t  values[i] = latencies[index];\r\n\t\t}\r\n\t\treturn values;\r\n\t  }\r\n\t  \r\nI would like to get 50th, 95th, 99th and 99.9th percentile from `latencies` array.\r\n\r\n\tlong[] percs = percentiles(latencies, 0.5, 0.95, 0.99, 0.999);\r\n\t\r\nIs this the right way to get percentile given a long array of latencies? I am working with Java 7.","title":"Calculate percentile from a long array?","body":"<p>Given a long array of latencies which are in milliseconds, I want to calculate percentile from them. I got below method which does the work but I am not sure how I can verify whether this gives me accurate result?</p>\n\n<pre><code>  public static long[] percentiles(long[] latencies, double... percentiles) {\n    Arrays.sort(latencies, 0, latencies.length);\n    long[] values = new long[percentiles.length];\n    for (int i = 0; i &lt; percentiles.length; i++) {\n      int index = (int) (percentiles[i] * latencies.length);\n      values[i] = latencies[index];\n    }\n    return values;\n  }\n</code></pre>\n\n<p>I would like to get 50th, 95th, 99th and 99.9th percentile from <code>latencies</code> array.</p>\n\n<pre><code>long[] percs = percentiles(latencies, 0.5, 0.95, 0.99, 0.999);\n</code></pre>\n\n<p>Is this the right way to get percentile given a long array of latencies? I am working with Java 7.</p>\n"},{"tags":["java","swing","cloud","dropbox-api","java-client"],"answers":[{"comments":[{"owner":{"account_id":14714528,"reputation":21,"user_id":10626865,"display_name":"Mostafa Hajjat"},"score":0,"creation_date":1668016962,"post_id":74379326,"comment_id":131307792,"body_markdown":"Thank you\nBut where do I get the refresh token? when I click on Generate access token it only gives me one token","body":"Thank you But where do I get the refresh token? when I click on Generate access token it only gives me one token"}],"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016441,"creation_date":1668016441,"answer_id":74379326,"question_id":74379227,"body_markdown":"When you get the access token, you should also receive a refresh token. When the access token expires, you make an API call with the refresh token to get a new one.","title":"upload file to dropbox by java","body":"<p>When you get the access token, you should also receive a refresh token. When the access token expires, you make an API call with the refresh token to get a new one.</p>\n"},{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017824,"creation_date":1668017824,"answer_id":74379629,"question_id":74379227,"body_markdown":"Dropbox is no longer offering the option for creating new long-lived access tokens. Dropbox is switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find [more information on this migration here][1].\r\n\r\nApps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. It&#39;s not possible to get a refresh token from the &quot;Generate&quot; button; you need to use the OAuth flow. You can find more information in the [OAuth Guide][2] and [authorization documentation][3]. There&#39;s a basic outline of processing this flow in [this blog post][4] which may serve as a useful example. \r\n \r\nThe [official Dropbox Java SDK][5] can actually handle the process for you automatically, as long as you supply the necessary credentials, e.g., as shown retrieved in [the examples][6].\r\n\r\n\r\n  [1]: https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens#updating-access-token-type\r\n  [2]: https://developers.dropbox.com/oauth-guide\r\n  [3]: https://www.dropbox.com/developers/documentation/http/documentation#authorization\r\n  [4]: https://dropbox.tech/developers/using-oauth-2-0-with-offline-access\r\n  [5]: https://github.com/dropbox/dropbox-sdk-java\r\n  [6]: https://github.com/dropbox/dropbox-sdk-java/tree/main/examples/examples/src/main/java/com/dropbox/core/examples/authorize","title":"upload file to dropbox by java","body":"<p>Dropbox is no longer offering the option for creating new long-lived access tokens. Dropbox is switching to only issuing short-lived access tokens (and optional refresh tokens) instead of long-lived access tokens. You can find <a href=\"https://dropbox.tech/developers/migrating-app-permissions-and-access-tokens#updating-access-token-type\" rel=\"nofollow noreferrer\">more information on this migration here</a>.</p>\n<p>Apps can still get long-term access by requesting &quot;offline&quot; access though, in which case the app receives a &quot;refresh token&quot; that can be used to retrieve new short-lived access tokens as needed, without further manual user intervention. It's not possible to get a refresh token from the &quot;Generate&quot; button; you need to use the OAuth flow. You can find more information in the <a href=\"https://developers.dropbox.com/oauth-guide\" rel=\"nofollow noreferrer\">OAuth Guide</a> and <a href=\"https://www.dropbox.com/developers/documentation/http/documentation#authorization\" rel=\"nofollow noreferrer\">authorization documentation</a>. There's a basic outline of processing this flow in <a href=\"https://dropbox.tech/developers/using-oauth-2-0-with-offline-access\" rel=\"nofollow noreferrer\">this blog post</a> which may serve as a useful example.</p>\n<p>The <a href=\"https://github.com/dropbox/dropbox-sdk-java\" rel=\"nofollow noreferrer\">official Dropbox Java SDK</a> can actually handle the process for you automatically, as long as you supply the necessary credentials, e.g., as shown retrieved in <a href=\"https://github.com/dropbox/dropbox-sdk-java/tree/main/examples/examples/src/main/java/com/dropbox/core/examples/authorize\" rel=\"nofollow noreferrer\">the examples</a>.</p>\n"}],"owner":{"account_id":14714528,"reputation":21,"user_id":10626865,"display_name":"Mostafa Hajjat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668017824,"creation_date":1668015931,"question_id":74379227,"body_markdown":"I am working on creating a simple desktop program in Java, and I want to upload files via this program to Dropbox, but the problem is that the access token has a short life (temporary), how can I make the access token have a long life, or if I can use the App key and App secret?\r\n\r\nI need a simple solution like a method or a java example.\r\n\r\nIs there anything better than Dropbox in this aspect and more flexible?\r\n\r\nThanks for any help.\r\n\r\nThis method works fine but the access token expires after a few hours\r\n\r\n\r\n```\r\n    private void testUplaod() throws FileNotFoundException, IOException, DbxException {\r\n        DbxClientV2 client;\r\n        DbxRequestConfig config = new DbxRequestConfig(&quot;dropbox/TestUplaod&quot;);\r\n        \r\n        try (InputStream in = new FileInputStream(&quot;D:\\\\t1.txt&quot;)) {\r\n            client = new DbxClientV2(config, ACCESS_TOKEN);\r\n\r\n            FileMetadata metadata = client.files().uploadBuilder(&quot;/t1.txt&quot;)\r\n                    .uploadAndFinish(in);\r\n        }\r\n```\r\nI was expecting it would work sustainably.","title":"upload file to dropbox by java","body":"<p>I am working on creating a simple desktop program in Java, and I want to upload files via this program to Dropbox, but the problem is that the access token has a short life (temporary), how can I make the access token have a long life, or if I can use the App key and App secret?</p>\n<p>I need a simple solution like a method or a java example.</p>\n<p>Is there anything better than Dropbox in this aspect and more flexible?</p>\n<p>Thanks for any help.</p>\n<p>This method works fine but the access token expires after a few hours</p>\n<pre><code>    private void testUplaod() throws FileNotFoundException, IOException, DbxException {\n        DbxClientV2 client;\n        DbxRequestConfig config = new DbxRequestConfig(&quot;dropbox/TestUplaod&quot;);\n        \n        try (InputStream in = new FileInputStream(&quot;D:\\\\t1.txt&quot;)) {\n            client = new DbxClientV2(config, ACCESS_TOKEN);\n\n            FileMetadata metadata = client.files().uploadBuilder(&quot;/t1.txt&quot;)\n                    .uploadAndFinish(in);\n        }\n</code></pre>\n<p>I was expecting it would work sustainably.</p>\n"},{"tags":["java","windows","jar","configuration","kiosk-mode"],"comments":[{"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"score":0,"creation_date":1668009446,"post_id":74370273,"comment_id":131305006,"body_markdown":"I created a ticket for Microsoft Support regarding the issue and was told it is a bug they may fix in the future.... I am hoping for ideas on a workaround, so that I can trigger my jar to launch in kiosk mode.\n\nAny ideas?","body":"I created a ticket for Microsoft Support regarding the issue and was told it is a bug they may fix in the future.... I am hoping for ideas on a workaround, so that I can trigger my jar to launch in kiosk mode.  Any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017716,"creation_date":1668017716,"answer_id":74379599,"question_id":74370273,"body_markdown":"I have found a work around (Although it is not Ideal) \r\n\r\nI still use the provisioning package which is generated by Windows 11 Configuration Designer from ADK 22h2 to ensure that Windows boots in brand friendly kiosk mode but I then also schedule a task to run the jar on login for the kiosk user:\r\n\r\n`Open Start menu &gt; Task Scheduler &gt; ENTER &gt; Action &gt; Create Task &gt; Change User or Group &gt; select the Kiosk User Account to run the task &gt; Select &quot;Run only when user is logged on&quot; &gt; Task profile &gt; Windows 10 &gt; Triggers &gt; New &gt; &quot;Begin the task&quot; menu &gt; At log on &gt; Select Specific user &gt; OK &gt; Actions tab &gt; Browse &gt; locate executable jar at path C:\\myJarFolder\\myJarFile.jar &gt; OK &gt; Log on` with the selected kiosk mode user to test.\r\n\r\nReference: https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral","title":"How to configure Windows 11 Configuration Designer from ADK to launch executable jar file","body":"<p>I have found a work around (Although it is not Ideal)</p>\n<p>I still use the provisioning package which is generated by Windows 11 Configuration Designer from ADK 22h2 to ensure that Windows boots in brand friendly kiosk mode but I then also schedule a task to run the jar on login for the kiosk user:</p>\n<p><code>Open Start menu &gt; Task Scheduler &gt; ENTER &gt; Action &gt; Create Task &gt; Change User or Group &gt; select the Kiosk User Account to run the task &gt; Select &quot;Run only when user is logged on&quot; &gt; Task profile &gt; Windows 10 &gt; Triggers &gt; New &gt; &quot;Begin the task&quot; menu &gt; At log on &gt; Select Specific user &gt; OK &gt; Actions tab &gt; Browse &gt; locate executable jar at path C:\\myJarFolder\\myJarFile.jar &gt; OK &gt; Log on</code> with the selected kiosk mode user to test.</p>\n<p>Reference: <a href=\"https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral\" rel=\"nofollow noreferrer\">https://social.technet.microsoft.com/Forums/windows/en-US/b44f3310-774d-48a4-ad8f-3ec54a7c08b9/prevent-windows-explorer-from-starting?forum=w7itprogeneral</a></p>\n"}],"owner":{"account_id":5580553,"reputation":51,"user_id":4422546,"display_name":"Thornack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668017716,"creation_date":1667971495,"question_id":74370273,"body_markdown":"My Goal is to configure Windows 11 Configuration Designer from ADK to launch an executable jar file which is located in `C:\\MyExecutableJarFolder\\executableJarFile.jar`\r\n\r\nI downloaded the Windows Imaging and Configuration Designer app and dependencies from adk for Windows 11 \r\n\r\n&gt; https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2\r\n\r\nWith the intent to use it to set up a provisioning package so that I can configure my machine to run in a brand friendly kiosk mode (where windows startup logo and login screens are never seen). The kiosk mode which is enabled by the Configuration Designer achieves the brand friendly auto login nicely but it never launches the jar. \r\n\r\nI filled in all the required settings in Configuration Designer for \r\n\r\n`Setup device` (I added a 15 character Device Name),\r\n\r\n`Set up network` (I set to Off), \r\n\r\n`Account managment` (I set to local admin), \r\n\r\n`Add applications` (I left blank), \r\n\r\n`Add certificate` (I left blank), and under \r\n\r\n`Configure kiosk account and app` (I created a &quot;Kiosk&quot; user account with password and auto sign in enabled) and under \r\n\r\n`Configure the kiosk mode app` &gt; `Username` = `Kiosk` &gt; `App type` = `Classic Windows App` &gt; `Enter either the full path to the app or a filename in the Path environment variable` = `C:\\MyExecutableJarFolder\\executableJarFile.jar`\r\n\r\n`Configure kiosk common settings` &gt; `Set tablet mode` &gt; `No` \r\n\r\n`Customize user experience` &gt; `Yes` &gt; `Configure Welcome Screen buttons` &gt; `1` &gt; `Disable status messages during startup, signin, and shut down` &gt; `1` \r\n\r\n`Hide Welcome screen when auto sign in is enabled` &gt; `yes` \r\n\r\n`Disable lock screen` &gt; `yes` \r\n\r\n`Configure Power settings` &gt; `yes` \r\n\r\n`Turn off screen timeout` &gt; `yes` &gt; `turn off sleep timeout` &gt; `yes`\r\n\r\nThe provisioning package installs correctly and automatically logs in but does not launch the executable jar in the file path (and the file path is correct). I then tried to point the configuration manager to a batch file instead (which when double clicked does actually launch the jar) and that still did not work. \r\n\r\nI also tried to move the batch file to `C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup` and this did not work either. Curiosly when I exit kiosk mode through `ctrl + alt + delete &gt; run new task &gt; explorer.exe` the jar does launch when the batch file is in this directory.\r\n\r\nThe goal is to launch the executable jar in kiosk mode.\r\n\r\nWhat am I doing incorrectly?","title":"How to configure Windows 11 Configuration Designer from ADK to launch executable jar file","body":"<p>My Goal is to configure Windows 11 Configuration Designer from ADK to launch an executable jar file which is located in <code>C:\\MyExecutableJarFolder\\executableJarFile.jar</code></p>\n<p>I downloaded the Windows Imaging and Configuration Designer app and dependencies from adk for Windows 11</p>\n<blockquote>\n<p><a href=\"https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows-hardware/get-started/adk-install#download-the-adk-for-windows-11-version-22h2</a></p>\n</blockquote>\n<p>With the intent to use it to set up a provisioning package so that I can configure my machine to run in a brand friendly kiosk mode (where windows startup logo and login screens are never seen). The kiosk mode which is enabled by the Configuration Designer achieves the brand friendly auto login nicely but it never launches the jar.</p>\n<p>I filled in all the required settings in Configuration Designer for</p>\n<p><code>Setup device</code> (I added a 15 character Device Name),</p>\n<p><code>Set up network</code> (I set to Off),</p>\n<p><code>Account managment</code> (I set to local admin),</p>\n<p><code>Add applications</code> (I left blank),</p>\n<p><code>Add certificate</code> (I left blank), and under</p>\n<p><code>Configure kiosk account and app</code> (I created a &quot;Kiosk&quot; user account with password and auto sign in enabled) and under</p>\n<p><code>Configure the kiosk mode app</code> &gt; <code>Username</code> = <code>Kiosk</code> &gt; <code>App type</code> = <code>Classic Windows App</code> &gt; <code>Enter either the full path to the app or a filename in the Path environment variable</code> = <code>C:\\MyExecutableJarFolder\\executableJarFile.jar</code></p>\n<p><code>Configure kiosk common settings</code> &gt; <code>Set tablet mode</code> &gt; <code>No</code></p>\n<p><code>Customize user experience</code> &gt; <code>Yes</code> &gt; <code>Configure Welcome Screen buttons</code> &gt; <code>1</code> &gt; <code>Disable status messages during startup, signin, and shut down</code> &gt; <code>1</code></p>\n<p><code>Hide Welcome screen when auto sign in is enabled</code> &gt; <code>yes</code></p>\n<p><code>Disable lock screen</code> &gt; <code>yes</code></p>\n<p><code>Configure Power settings</code> &gt; <code>yes</code></p>\n<p><code>Turn off screen timeout</code> &gt; <code>yes</code> &gt; <code>turn off sleep timeout</code> &gt; <code>yes</code></p>\n<p>The provisioning package installs correctly and automatically logs in but does not launch the executable jar in the file path (and the file path is correct). I then tried to point the configuration manager to a batch file instead (which when double clicked does actually launch the jar) and that still did not work.</p>\n<p>I also tried to move the batch file to <code>C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup</code> and this did not work either. Curiosly when I exit kiosk mode through <code>ctrl + alt + delete &gt; run new task &gt; explorer.exe</code> the jar does launch when the batch file is in this directory.</p>\n<p>The goal is to launch the executable jar in kiosk mode.</p>\n<p>What am I doing incorrectly?</p>\n"},{"tags":["java","cucumber"],"answers":[{"tags":[],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625349657,"creation_date":1625349657,"answer_id":68240235,"question_id":68239302,"body_markdown":"I solved it by clone the cucumber-java-skeleton. ","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>I solved it by clone the cucumber-java-skeleton.</p>\n"},{"tags":[],"owner":{"account_id":3623129,"reputation":3773,"user_id":3021395,"accept_rate":40,"display_name":"PowerStat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668017569,"creation_date":1668017569,"answer_id":74379565,"question_id":68239302,"body_markdown":"Just for info, I had the same error and while comparing everything with the cucumber-java skeleton I found that I only had a type within the `RunCucumberTest`:\r\n\r\n    @ConfigurationParameter(key = Constants.GLUE_PROPERTY_NAME, value = &quot;de.powerstat.phplib.templateengine&quot;)\r\n\r\nWithin the packagename I had a typo - after fixing it the error was gone.\r\n","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>Just for info, I had the same error and while comparing everything with the cucumber-java skeleton I found that I only had a type within the <code>RunCucumberTest</code>:</p>\n<pre><code>@ConfigurationParameter(key = Constants.GLUE_PROPERTY_NAME, value = &quot;de.powerstat.phplib.templateengine&quot;)\n</code></pre>\n<p>Within the packagename I had a typo - after fixing it the error was gone.</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668017569,"creation_date":1625339887,"question_id":68239302,"body_markdown":"I had tried to code cucumber 6 and its step definitions not detected. II using Alt + Enter to generate the step definitions. \r\n\r\nTestRunner.java\r\n\r\n    @CucumberOptions(\r\n            features = {&quot;src/test/resources/Features/&quot;},\r\n            glue = {&quot;com.nicholas.StepDefs&quot;},\r\n            plugin = {&quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\r\n    \r\n    )\r\n    public class TestRunner extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\nStep Definitions: \r\n\r\n    public class Login_FE {\r\n        @Given(&quot;Launch the homepage and login&quot;)\r\n        public void launchTheHomepageAndLogin() {\r\n            System.out.println(&quot;Launch browser&quot;);\r\n        }\r\n    \r\n        @Given(&quot;user landing on phptravels.net&quot;)\r\n        public void userLandingOnPhptravelsNet() {\r\n            System.out.println(&quot;Launch browser&quot;);\r\n        }\r\n    }\r\n\r\nErrors: \r\n\r\n    Scenario: Login to website                      # src/test/resources/Features/Login.feature:6\r\n      Given Launch the homepage and login           # null\r\n      Given user landing on phptravels.net          # null\r\n      When enter login credential and click login   # null\r\n      Then user redirect to phptravels.net homepage # null\r\n\r\n    at io.cucumber.core.runtime.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:69)\r\n    \tat io.cucumber.testng.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:23)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:118)\r\n    \tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\r\n    \tat io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:114)\r\n    \tat io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:77)\r\n    \tat org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:15)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n\r\nPlease help me as i have no clue to solve this issue. Thanks. \r\n\r\n","title":"IntelliJ Cucumber Java step definition not recognised","body":"<p>I had tried to code cucumber 6 and its step definitions not detected. II using Alt + Enter to generate the step definitions.</p>\n<p>TestRunner.java</p>\n<pre><code>@CucumberOptions(\n        features = {&quot;src/test/resources/Features/&quot;},\n        glue = {&quot;com.nicholas.StepDefs&quot;},\n        plugin = {&quot;pretty&quot;, &quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;}\n\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p>Step Definitions:</p>\n<pre><code>public class Login_FE {\n    @Given(&quot;Launch the homepage and login&quot;)\n    public void launchTheHomepageAndLogin() {\n        System.out.println(&quot;Launch browser&quot;);\n    }\n\n    @Given(&quot;user landing on phptravels.net&quot;)\n    public void userLandingOnPhptravelsNet() {\n        System.out.println(&quot;Launch browser&quot;);\n    }\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>Scenario: Login to website                      # src/test/resources/Features/Login.feature:6\n  Given Launch the homepage and login           # null\n  Given user landing on phptravels.net          # null\n  When enter login credential and click login   # null\n  Then user redirect to phptravels.net homepage # null\n\nat io.cucumber.core.runtime.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:69)\n    at io.cucumber.testng.TestCaseResultObserver.assertTestCasePassed(TestCaseResultObserver.java:23)\n    at io.cucumber.testng.TestNGCucumberRunner.lambda$runScenario$0(TestNGCucumberRunner.java:118)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:117)\n    at io.cucumber.testng.TestNGCucumberRunner.runScenario(TestNGCucumberRunner.java:114)\n    at io.cucumber.testng.AbstractTestNGCucumberTests.runScenario(AbstractTestNGCucumberTests.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:77)\n    at org.testng.internal.TestMethodWithDataProviderMethodWorker.call(TestMethodWithDataProviderMethodWorker.java:15)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Please help me as i have no clue to solve this issue. Thanks.</p>\n"},{"tags":["java","arrays","visual-studio","for-loop"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":2,"creation_date":1668016553,"post_id":74379302,"comment_id":131307632,"body_markdown":"Welcome to Stack Overflow.  You don&#39;t want the line that prints `&quot;is a constant&quot;` to be inside the `for` loop.","body":"Welcome to Stack Overflow.  You don&#39;t want the line that prints <code>&quot;is a constant&quot;</code> to be inside the <code>for</code> loop."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668018849,"post_id":74379302,"comment_id":131308407,"body_markdown":"Isn&#39;t it &quot;consonant&quot; and not &quot;constant&quot;?","body":"Isn&#39;t it &quot;consonant&quot; and not &quot;constant&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":26881156,"reputation":64,"user_id":20461571,"display_name":"Dean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016808,"creation_date":1668016808,"answer_id":74379402,"question_id":74379302,"body_markdown":"first of all: we usually dont capitalize variable names, but that aint no problem rn. There are a few approaches to solve this question: i would create a bool. \r\nTake a look at the code:\r\n\r\n    public static void main(String[] args){\r\n            Scanner g = new Scanner(System.in);\r\n            char[] Vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n            System.out.println(&quot;Enter a letter: &quot;);\r\n            char L = g.next().charAt(0);\r\n            boolean isVowel = false;\r\n            for(int i = 0;i&lt;Vowels.length;i++){\r\n                if(L==Vowels[i]){\r\n                    System.out.println(L+&quot; is a vowel&quot;);\r\n                    isVowel = true;\r\n                    break;\r\n                }\r\n    \r\n            }\r\n            if (!isVowel) {\r\n                System.out.println(L+&quot; is a constant&quot;);\r\n            }\r\n        }\r\n\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>first of all: we usually dont capitalize variable names, but that aint no problem rn. There are a few approaches to solve this question: i would create a bool.\nTake a look at the code:</p>\n<pre><code>public static void main(String[] args){\n        Scanner g = new Scanner(System.in);\n        char[] Vowels = {'A','I','O','U','E'};\n        System.out.println(&quot;Enter a letter: &quot;);\n        char L = g.next().charAt(0);\n        boolean isVowel = false;\n        for(int i = 0;i&lt;Vowels.length;i++){\n            if(L==Vowels[i]){\n                System.out.println(L+&quot; is a vowel&quot;);\n                isVowel = true;\n                break;\n            }\n\n        }\n        if (!isVowel) {\n            System.out.println(L+&quot; is a constant&quot;);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26433382,"reputation":1,"user_id":20079157,"display_name":"Dana Alanazi"},"score":0,"creation_date":1668021501,"post_id":74379432,"comment_id":131309213,"body_markdown":"You did exactly what i wanted thank you so much ! Just a quick question how are you comparing &#39;i&#39; which is still not initialized to the vowels.length","body":"You did exactly what i wanted thank you so much ! Just a quick question how are you comparing &#39;i&#39; which is still not initialized to the vowels.length"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1668022335,"post_id":74379432,"comment_id":131309464,"body_markdown":"`i` is initialized by the `for` loop.  After the loop, it will contain the index of the vowel that was matched, if one was.  Otherwise, it will have a value of `vowels.length` because that condition was what caused the loop to exit.","body":"<code>i</code> is initialized by the <code>for</code> loop.  After the loop, it will contain the index of the vowel that was matched, if one was.  Otherwise, it will have a value of <code>vowels.length</code> because that condition was what caused the loop to exit."}],"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668016927,"creation_date":1668016927,"answer_id":74379432,"question_id":74379302,"body_markdown":"Here&#39;s a version of your code that does what you want.  Note that the print statement for a consonant has been moved out of the loop.  I also changed the variable names to use correct case, and I made a minor tweak to allow the code to work with both uppercase and lowercase input.  I also moved the line that prints the prompt for input.  I assume you want that to print before the user is expected to enter a letter.\r\n\r\n    public static void main(String[] args){\r\n        System.out.println(&quot;Enter a letter: &quot;);\r\n        Scanner g = new Scanner(System.in);\r\n        char[] vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n        char l = g.next().toUpperCase(Locale.ROOT).charAt(0);\r\n        int i;\r\n        for (i = 0;i&lt;vowels.length;i++) {\r\n            if (l == vowels[i]) {\r\n                System.out.println(l + &quot; is a vowel&quot;);\r\n                break;\r\n            }\r\n        }\r\n        if (i == vowels.length)\r\n            System.out.println(l + &quot; is a constant&quot;);\r\n    }\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>Here's a version of your code that does what you want.  Note that the print statement for a consonant has been moved out of the loop.  I also changed the variable names to use correct case, and I made a minor tweak to allow the code to work with both uppercase and lowercase input.  I also moved the line that prints the prompt for input.  I assume you want that to print before the user is expected to enter a letter.</p>\n<pre><code>public static void main(String[] args){\n    System.out.println(&quot;Enter a letter: &quot;);\n    Scanner g = new Scanner(System.in);\n    char[] vowels = {'A','I','O','U','E'};\n    char l = g.next().toUpperCase(Locale.ROOT).charAt(0);\n    int i;\n    for (i = 0;i&lt;vowels.length;i++) {\n        if (l == vowels[i]) {\n            System.out.println(l + &quot; is a vowel&quot;);\n            break;\n        }\n    }\n    if (i == vowels.length)\n        System.out.println(l + &quot; is a constant&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26433382,"reputation":1,"user_id":20079157,"display_name":"Dana Alanazi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668016927,"creation_date":1668016311,"question_id":74379302,"body_markdown":"I have an array of the vowels in the alphabet and the user should enter a letter.\r\nThis letter has to be checked if its in the array of vowels or not\r\nIf it is found in the array of vowels then print letter is a vowel\r\nelse print letter is a constant.\r\n# **My problem is that**\r\nwhen I enter a letter it tests this letter 5 times (the size of the array) until it finds it and prints letter is a vowel \r\nbut it also prints 4 times letter is a constant because it goes through the array letter by letter.\r\nCheck the code: \r\n\r\n\r\n\r\n\r\n```\r\n    public static void main(String[] args){\r\n    Scanner g = new Scanner(System.in);\r\n    char[] Vowels = {&#39;A&#39;,&#39;I&#39;,&#39;O&#39;,&#39;U&#39;,&#39;E&#39;};\r\n    System.out.println(&quot;Enter a letter: &quot;);\r\n    char L = g.next().charAt(0);\r\nfor(int i = 0;i&lt;Vowels.length;i++){\r\n    if(L==Vowels[i]){\r\n        System.out.println(L+&quot; is a vowel&quot;);\r\n        break;\r\n    }\r\n    else\r\n    System.out.println(L+&quot; is a constant&quot;);\r\n}\r\n    }\r\n}\r\n```\r\n","title":"User has to enter a letter and if the letter is found at the array then it should print &quot;is a vowel&quot; otherwise &quot;is a constant&quot;","body":"<p>I have an array of the vowels in the alphabet and the user should enter a letter.\nThis letter has to be checked if its in the array of vowels or not\nIf it is found in the array of vowels then print letter is a vowel\nelse print letter is a constant.</p>\n<h1><strong>My problem is that</strong></h1>\n<p>when I enter a letter it tests this letter 5 times (the size of the array) until it finds it and prints letter is a vowel\nbut it also prints 4 times letter is a constant because it goes through the array letter by letter.\nCheck the code:</p>\n<pre><code>    public static void main(String[] args){\n    Scanner g = new Scanner(System.in);\n    char[] Vowels = {'A','I','O','U','E'};\n    System.out.println(&quot;Enter a letter: &quot;);\n    char L = g.next().charAt(0);\nfor(int i = 0;i&lt;Vowels.length;i++){\n    if(L==Vowels[i]){\n        System.out.println(L+&quot; is a vowel&quot;);\n        break;\n    }\n    else\n    System.out.println(L+&quot; is a constant&quot;);\n}\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes-helm","snakeyaml","spring-expression-language"],"comments":[{"owner":{"account_id":338186,"reputation":2467,"user_id":666906,"accept_rate":54,"display_name":"simou"},"score":0,"creation_date":1668008618,"post_id":74373123,"comment_id":131304649,"body_markdown":"Hi just wanted to add that I&#39;m facing the exact same issue ( SpringBoot 2.7.5 )  :)","body":"Hi just wanted to add that I&#39;m facing the exact same issue ( SpringBoot 2.7.5 )  :)"}],"answers":[{"tags":[],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668016435,"creation_date":1668016435,"answer_id":74379325,"question_id":74373123,"body_markdown":"I was able to fix it by adding `| quote` in applicationConfig.yaml file. \r\n\r\nEx: \r\n```\r\nuser:\r\n    apiKey: {{ .Values.user.apiKey | quote }}\r\n```","title":"Configure map data in Helm chart values.yaml file","body":"<p>I was able to fix it by adding <code>| quote</code> in applicationConfig.yaml file.</p>\n<p>Ex:</p>\n<pre><code>user:\n    apiKey: {{ .Values.user.apiKey | quote }}\n</code></pre>\n"}],"owner":{"account_id":1900128,"reputation":1273,"user_id":1716141,"accept_rate":65,"display_name":"Sathesh S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668016435,"creation_date":1667988824,"question_id":74373123,"body_markdown":"I&#39;m trying to deploy my Spring Boot application in Minikube using Helm charts. I have a configuration class where I map all the `@value` variables. If keep my map value in `application.yaml` or `applicationConfig.yaml` file then \r\n```\r\n@Value(&quot;#{${user.apiKey}}&quot;)\r\nprivate Map&lt;String, String&gt; userApiKeyMap;\r\n````\r\nworks fine.\r\n\r\nBut if I want to pass this map from `values.yaml` then it&#39;s not working. Below are the things I tried and errors I got.\r\nTry 1:\r\n````\r\nuser:\r\n    apiKey: \r\n      key1: &quot;value1&quot;\r\n      key2: &quot;value2&quot;\r\n\r\n\r\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;colon(:)&#39;\r\n````\r\nTry 2:\r\n````\r\nuser:\r\n    apiKey: |-\r\n      key1: &quot;value1&quot;\r\n      key2: &quot;value2&quot;\r\n\r\nError: UPGRADE FAILED: YAML parse error on user-service/templates/applicationConfig.yaml: error converting YAML to JSON: yaml: line 29: did not find expected key\r\n````\r\nTry 3:\r\n````\r\nuser:\r\n    apiKey: { key1: &quot;value1&quot;,\r\n      \t\tkey2: &quot;value2&quot; }\r\n\r\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected &#39;rsquare(])&#39; but was &#39;colon(:)&#39;\r\n````\r\nTry 4:\r\n````\r\nuser:\r\n    apiKey: &#39;{ &quot;key1&quot;: &quot;value1&quot;,\r\n                &quot;key2&quot;: &quot;value2&quot; }&#39;\r\n\r\nnested exception is java.lang.IllegalArgumentException: Could not resolve placeholkey2r &#39;user.apiKey&#39; in value &quot;#{${user.apiKey}}&quot;\r\n````\r\nTry 5:\r\n````\r\nuser:\r\n    apiKey:\r\n      - &quot;key1&quot;: &quot;value1&quot;\r\n      - &quot;key2&quot;: &quot;value2&quot;\r\n\r\n\r\n\r\nERROR 2022-11-09 09:51:01,614 [main] [SpringApplication] Application run failed\r\n org.yaml.snakeyaml.parser.ParserException: while parsing a flow sequence\r\n in &#39;reader&#39;, line 22, column 13:\r\n        apiKey: [map[key1:value1 ... \r\n                ^\r\nexpected &#39;,&#39; or &#39;]&#39;, but got [\r\n in &#39;reader&#39;, line 22, column 17:\r\n        apiKey: [map[key1:value1 ... \r\n                    ^\r\n````","title":"Configure map data in Helm chart values.yaml file","body":"<p>I'm trying to deploy my Spring Boot application in Minikube using Helm charts. I have a configuration class where I map all the <code>@value</code> variables. If keep my map value in <code>application.yaml</code> or <code>applicationConfig.yaml</code> file then</p>\n<pre><code>@Value(&quot;#{${user.apiKey}}&quot;)\nprivate Map&lt;String, String&gt; userApiKeyMap;\n</code></pre>\n<p>works fine.</p>\n<p>But if I want to pass this map from <code>values.yaml</code> then it's not working. Below are the things I tried and errors I got.\nTry 1:</p>\n<pre><code>user:\n    apiKey: \n      key1: &quot;value1&quot;\n      key2: &quot;value2&quot;\n\n\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected 'rsquare(])' but was 'colon(:)'\n</code></pre>\n<p>Try 2:</p>\n<pre><code>user:\n    apiKey: |-\n      key1: &quot;value1&quot;\n      key2: &quot;value2&quot;\n\nError: UPGRADE FAILED: YAML parse error on user-service/templates/applicationConfig.yaml: error converting YAML to JSON: yaml: line 29: did not find expected key\n</code></pre>\n<p>Try 3:</p>\n<pre><code>user:\n    apiKey: { key1: &quot;value1&quot;,\n            key2: &quot;value2&quot; }\n\norg.springframework.expression.spel.SpelParseException: Expression [map[key1:value1 key2:value2]] @6: EL1043E: Unexpected token. Expected 'rsquare(])' but was 'colon(:)'\n</code></pre>\n<p>Try 4:</p>\n<pre><code>user:\n    apiKey: '{ &quot;key1&quot;: &quot;value1&quot;,\n                &quot;key2&quot;: &quot;value2&quot; }'\n\nnested exception is java.lang.IllegalArgumentException: Could not resolve placeholkey2r 'user.apiKey' in value &quot;#{${user.apiKey}}&quot;\n</code></pre>\n<p>Try 5:</p>\n<pre><code>user:\n    apiKey:\n      - &quot;key1&quot;: &quot;value1&quot;\n      - &quot;key2&quot;: &quot;value2&quot;\n\n\n\nERROR 2022-11-09 09:51:01,614 [main] [SpringApplication] Application run failed\n org.yaml.snakeyaml.parser.ParserException: while parsing a flow sequence\n in 'reader', line 22, column 13:\n        apiKey: [map[key1:value1 ... \n                ^\nexpected ',' or ']', but got [\n in 'reader', line 22, column 17:\n        apiKey: [map[key1:value1 ... \n                    ^\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1668015897,"post_id":74379199,"comment_id":131307403,"body_markdown":"Please post code, not a picture of code.  No-one can run a picture.","body":"Please post code, not a picture of code.  No-one can run a picture."},{"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"score":1,"creation_date":1668016087,"post_id":74379199,"comment_id":131307483,"body_markdown":"What do you mean? Should I copy paste my code as a comment here?","body":"What do you mean? Should I copy paste my code as a comment here?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1668016296,"post_id":74379199,"comment_id":131307543,"body_markdown":"You should [edit](https://stackoverflow.com/posts/74379199/edit) your question. Most probably you are either running different main method or running the old code.","body":"You should <a href=\"https://stackoverflow.com/posts/74379199/edit\">edit</a> your question. Most probably you are either running different main method or running the old code."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1668016328,"post_id":74379199,"comment_id":131307559,"body_markdown":"[Please post text, not images.](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557)","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question/285557#285557\">Please post text, not images.</a>"},{"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"score":0,"creation_date":1668016996,"post_id":74379199,"comment_id":131307804,"body_markdown":"Thanks, I will edit my question. The follow up question becomes how do I check my main method so that the correct code is running?","body":"Thanks, I will edit my question. The follow up question becomes how do I check my main method so that the correct code is running?"}],"answers":[{"tags":[],"owner":{"account_id":26881156,"reputation":64,"user_id":20461571,"display_name":"Dean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668016166,"creation_date":1668016166,"answer_id":74379274,"question_id":74379199,"body_markdown":"Try creating a new class in the /src directory\r\nThe hierachy would then be /YourProjectName/src/yourJavaClass\r\n\r\nkind regards!","title":"I cannot run my code in IntelliJ. Instead of printing my code it prints &quot;Hello World!&quot;","body":"<p>Try creating a new class in the /src directory\nThe hierachy would then be /YourProjectName/src/yourJavaClass</p>\n<p>kind regards!</p>\n"}],"owner":{"account_id":26314694,"reputation":9,"user_id":19977661,"display_name":"Jannis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668017542,"answer_count":1,"score":0,"last_activity_date":1668016381,"creation_date":1668015801,"question_id":74379199,"body_markdown":"This is my first time using IntelliJ and I am learning to code Java. When I am pressing the button &quot;run&quot;, my program does not print &quot;I love pizza!&quot; instead it prints &quot;Hello World!&quot;. Why is this and how  can I fix it?\r\n\r\n\r\nI have tried to run my code multiple times and I have added &quot;application&quot; as run configurations.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n  [1]: https://i.stack.imgur.com/lEXMB.png","title":"I cannot run my code in IntelliJ. Instead of printing my code it prints &quot;Hello World!&quot;","body":"<p>This is my first time using IntelliJ and I am learning to code Java. When I am pressing the button &quot;run&quot;, my program does not print &quot;I love pizza!&quot; instead it prints &quot;Hello World!&quot;. Why is this and how  can I fix it?</p>\n<p>I have tried to run my code multiple times and I have added &quot;application&quot; as run configurations.</p>\n<p><a href=\"https://i.stack.imgur.com/lEXMB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEXMB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","docker","kubernetes","aspose","aspose.words"],"answers":[{"comments":[{"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"score":0,"creation_date":1599538296,"post_id":51355746,"comment_id":112795960,"body_markdown":"Thanks for a well-explained answer :-) even though this wasn&#39;t the solution to my version of the problem.","body":"Thanks for a well-explained answer :-) even though this wasn&#39;t the solution to my version of the problem."}],"tags":[],"owner":{"account_id":1928282,"reputation":2847,"user_id":1738252,"accept_rate":73,"display_name":"phoenix7360"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1531722419,"creation_date":1531722419,"answer_id":51355746,"question_id":51307075,"body_markdown":"I think we found the problem.\r\n\r\nWhen running on Jenkins we use the `docker:dind` (Docker inside docker) Docker image to provide the `docker` command in the build. This image is based on `Alpine` linux. When running `docker info` we get the following:\r\n\r\nOn Mac:\r\n\r\n    Kernel Version: 4.9.87-linuxkit-aufs\r\n    Operating System: Docker for Mac\r\n\r\nOn Jenkins:\r\n\r\n    Kernel Version: 4.4.115-k8s\r\n    Operating System: Alpine Linux v3.7 (containerized)\r\n\r\n\r\n`Alpine` linux must be missing those fonts. We fixed the problem by manually installing them in the `Dockerfile`:\r\n\r\n    RUN apt-get update \\\r\n     &amp;&amp; apt-get install --assume-yes apt-utils \\\r\n     &amp;&amp; apt-get install --assume-yes software-properties-common \\\r\n     &amp;&amp; apt-get install --assume-yes dbus \\\r\n     &amp;&amp; apt-get install --assume-yes cgmanager \\\r\n     &amp;&amp; apt-get install --assume-yes glib-networking \\\r\n     &amp;&amp; apt-get install --assume-yes libnih-dbus-dev \\\r\n     &amp;&amp; apt-get install --assume-yes dconf-cli \\\r\n     &amp;&amp; apt-get install --assume-yes fontconfig\r\n\r\nNot sure this is the minimum required libraries but those did the trick :D","title":"Docker and Java - FontConfiguration issue","body":"<p>I think we found the problem.</p>\n\n<p>When running on Jenkins we use the <code>docker:dind</code> (Docker inside docker) Docker image to provide the <code>docker</code> command in the build. This image is based on <code>Alpine</code> linux. When running <code>docker info</code> we get the following:</p>\n\n<p>On Mac:</p>\n\n<pre><code>Kernel Version: 4.9.87-linuxkit-aufs\nOperating System: Docker for Mac\n</code></pre>\n\n<p>On Jenkins:</p>\n\n<pre><code>Kernel Version: 4.4.115-k8s\nOperating System: Alpine Linux v3.7 (containerized)\n</code></pre>\n\n<p><code>Alpine</code> linux must be missing those fonts. We fixed the problem by manually installing them in the <code>Dockerfile</code>:</p>\n\n<pre><code>RUN apt-get update \\\n &amp;&amp; apt-get install --assume-yes apt-utils \\\n &amp;&amp; apt-get install --assume-yes software-properties-common \\\n &amp;&amp; apt-get install --assume-yes dbus \\\n &amp;&amp; apt-get install --assume-yes cgmanager \\\n &amp;&amp; apt-get install --assume-yes glib-networking \\\n &amp;&amp; apt-get install --assume-yes libnih-dbus-dev \\\n &amp;&amp; apt-get install --assume-yes dconf-cli \\\n &amp;&amp; apt-get install --assume-yes fontconfig\n</code></pre>\n\n<p>Not sure this is the minimum required libraries but those did the trick :D</p>\n"},{"comments":[{"owner":{"account_id":1377472,"reputation":836,"user_id":1311188,"display_name":"Juan Ignacio"},"score":0,"creation_date":1595937154,"post_id":58713958,"comment_id":111640506,"body_markdown":"I tested with openjdk:8u111-jdk-alpine.","body":"I tested with openjdk:8u111-jdk-alpine."},{"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"score":0,"creation_date":1599538262,"post_id":58713958,"comment_id":112795946,"body_markdown":"Works for me as well with openjdk:16-alpine","body":"Works for me as well with openjdk:16-alpine"},{"owner":{"account_id":4184816,"reputation":153,"user_id":3428827,"display_name":"batero"},"score":0,"creation_date":1603216165,"post_id":58713958,"comment_id":113964970,"body_markdown":"Worked for me using `openjdk:8-jdk-alpine` and without the `ENV LANG en_GB.UTF-8` declaration","body":"Worked for me using <code>openjdk:8-jdk-alpine</code> and without the <code>ENV LANG en_GB.UTF-8</code> declaration"}],"tags":[],"owner":{"account_id":1377472,"reputation":836,"user_id":1311188,"display_name":"Juan Ignacio"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595937356,"creation_date":1572965719,"answer_id":58713958,"question_id":51307075,"body_markdown":"With openjdk:8u111-jdk-alpine, installing dejavu fix the problem:\r\n\r\nFor example:\r\n\r\nDockerfile:\r\n```\r\nFROM openjdk:8u111-jdk-alpine\r\n# Needed to fix &#39;Fontconfig warning: ignoring C.UTF-8: not a valid language tag&#39;\r\nENV LANG en_GB.UTF-8\r\n\r\n# JRE fails to load fonts if there are no standard fonts in the image; DejaVu is a good choice,\r\n# see https://github.com/docker-library/openjdk/issues/73#issuecomment-207816707\r\nRUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\r\n\r\nVOLUME /tmp\r\nCOPY /target/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx100m&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```","title":"Docker and Java - FontConfiguration issue","body":"<p>With openjdk:8u111-jdk-alpine, installing dejavu fix the problem:</p>\n<p>For example:</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:8u111-jdk-alpine\n# Needed to fix 'Fontconfig warning: ignoring C.UTF-8: not a valid language tag'\nENV LANG en_GB.UTF-8\n\n# JRE fails to load fonts if there are no standard fonts in the image; DejaVu is a good choice,\n# see https://github.com/docker-library/openjdk/issues/73#issuecomment-207816707\nRUN apk add --update ttf-dejavu &amp;&amp; rm -rf /var/cache/apk/*\n\nVOLUME /tmp\nCOPY /target/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-Xmx100m&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583449282,"creation_date":1583449282,"answer_id":60555222,"question_id":51307075,"body_markdown":"Installing `libfontconfig1` solved the problem for me ([source](https://github.com/AdoptOpenJDK/openjdk-docker/issues/75#issue-372523811)):\r\n```docker\r\nRUN apt-get install -y libfontconfig1 &amp;&amp; rm -rf /var/lib/apt/lists/*\r\n```","title":"Docker and Java - FontConfiguration issue","body":"<p>Installing <code>libfontconfig1</code> solved the problem for me (<a href=\"https://github.com/AdoptOpenJDK/openjdk-docker/issues/75#issue-372523811\" rel=\"noreferrer\">source</a>):</p>\n\n<pre><code>RUN apt-get install -y libfontconfig1 &amp;&amp; rm -rf /var/lib/apt/lists/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20849274,"reputation":1,"user_id":15314169,"display_name":"Katwal Surjeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614683555,"creation_date":1614683555,"answer_id":66438254,"question_id":51307075,"body_markdown":"If you are running it on local with Docker Desktop and using docker file to create the image. \r\nPlease make changes in Dockerfile from FROM openjdk:8-jdk-alpine to FROM adoptopenjdk/openjdk11:ubi","title":"Docker and Java - FontConfiguration issue","body":"<p>If you are running it on local with Docker Desktop and using docker file to create the image.\nPlease make changes in Dockerfile from FROM openjdk:8-jdk-alpine to FROM adoptopenjdk/openjdk11:ubi</p>\n"},{"tags":[],"owner":{"account_id":1891952,"reputation":2743,"user_id":1709793,"accept_rate":0,"display_name":"craftsmannadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627189345,"creation_date":1627189345,"answer_id":68515645,"question_id":51307075,"body_markdown":"Just add the following in your Dockerfile\r\n\r\n    RUN apk add --no-cache fontconfig ttf-dejavu\r\n\r\n","title":"Docker and Java - FontConfiguration issue","body":"<p>Just add the following in your Dockerfile</p>\n<pre><code>RUN apk add --no-cache fontconfig ttf-dejavu\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3274085,"reputation":3571,"user_id":2756662,"accept_rate":94,"display_name":"Subin Chalil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637567337,"creation_date":1631709929,"answer_id":69193409,"question_id":51307075,"body_markdown":"If you trying to do in Java/Spring boot , adding following in `Dockerfile` worked for me in java 11.\r\n\r\n    # Font packages to be added for java 11\r\n    RUN apk update \\\r\n     &amp;&amp; apk add fontconfig \\\r\n     &amp;&amp; apk add ttf-dejavu\r\n    RUN ln -s /usr/lib/libfontconfig.so.1 /usr/lib/libfontconfig.so &amp;&amp; \\\r\n        ln -s /lib/libuuid.so.1 /usr/lib/libuuid.so.1 &amp;&amp; \\\r\n        ln -s /lib/libc.musl-x86_64.so.1 /usr/lib/libc.musl-x86_64.so.1\r\n    ENV LD_LIBRARY_PATH /usr/lib","title":"Docker and Java - FontConfiguration issue","body":"<p>If you trying to do in Java/Spring boot , adding following in <code>Dockerfile</code> worked for me in java 11.</p>\n<pre><code># Font packages to be added for java 11\nRUN apk update \\\n &amp;&amp; apk add fontconfig \\\n &amp;&amp; apk add ttf-dejavu\nRUN ln -s /usr/lib/libfontconfig.so.1 /usr/lib/libfontconfig.so &amp;&amp; \\\n    ln -s /lib/libuuid.so.1 /usr/lib/libuuid.so.1 &amp;&amp; \\\n    ln -s /lib/libc.musl-x86_64.so.1 /usr/lib/libc.musl-x86_64.so.1\nENV LD_LIBRARY_PATH /usr/lib\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17426473,"reputation":990,"user_id":12631293,"display_name":"Tomasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659429632,"creation_date":1659429632,"answer_id":73204461,"question_id":51307075,"body_markdown":"Problem NullPointerException with fonts occurs when you use openjdk docker image in &lt;b&gt;alpine&lt;/b&gt; version for example :\r\n\r\nadoptopenjdk/openjdk11:jre-11.0.11_9-alpine.\r\n\r\n**You need change image to full version: adoptopenjdk/openjdk11:jre-11.0.11_9**","title":"Docker and Java - FontConfiguration issue","body":"<p>Problem NullPointerException with fonts occurs when you use openjdk docker image in <b>alpine</b> version for example :</p>\n<p>adoptopenjdk/openjdk11:jre-11.0.11_9-alpine.</p>\n<p><strong>You need change image to full version: adoptopenjdk/openjdk11:jre-11.0.11_9</strong></p>\n"},{"tags":[],"owner":{"account_id":196189,"reputation":2128,"user_id":439506,"accept_rate":28,"display_name":"Dhrumil Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016361,"creation_date":1668016361,"answer_id":74379310,"question_id":51307075,"body_markdown":"I also got the same issue while running below command and restart app server resolved this issue.\r\nYup install fontconfig","title":"Docker and Java - FontConfiguration issue","body":"<p>I also got the same issue while running below command and restart app server resolved this issue.\nYup install fontconfig</p>\n"}],"owner":{"account_id":1928282,"reputation":2847,"user_id":1738252,"accept_rate":73,"display_name":"phoenix7360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28535,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":51355746,"answer_count":8,"score":23,"last_activity_date":1668016361,"creation_date":1531402448,"question_id":51307075,"body_markdown":" We&#39;ve got a Java application that generates word documents using a 3rd party (Asposee but I don&#39;t think it matters here). The app is built from a simple Docker file:\r\n\r\n    FROM openjdk:10-jdk-slim\r\n    COPY target/*.jar /opt/\r\n    CMD $JAVA_HOME/bin/java $JAVA_OPTS -jar /opt/*.jar\r\n\r\nWhen we build the application locally (`mvn package` then `docker build`) and run the application inside `k8s` it works well.\r\n\r\nHowever, when we build the image in our CI/CD pipeline with Jenkins we get a runtime exception when running through a specific process which apparently requires additional fonts:\r\n\r\n    Caused by: java.lang.NullPointerException: null\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1288)\r\n        at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\r\n        at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n        at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:765)\r\n        at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:440)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:385)\r\n        at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\r\n        at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\r\n\r\nIn that case the project is buit in Jenkins, compiled by the docker image `maven:3.5.4-jdk-10-slim`.\r\n\r\nI&#39;ve checked both jar files (locally and from jenkins) and the class files are the same (as expected).\r\n\r\nIn both cases it&#39;s the same base image so I don&#39;t understand what could be the difference. Is something different in Docker when building locally vs inside another Docker container?\r\n\r\n**EDIT**\r\n\r\nWe&#39;ve looked into both docker images and found the following difference.\r\n\r\nSince locally built image `ls -l /usr/lib` returns:\r\n\r\n    drwxr-xr-x  2 root root  4096 May  3  2017 X11\r\n    drwxr-xr-x  5 root root  4096 Apr 26 00:00 apt\r\n    drwxr-xr-x  2 root root  4096 May 26 08:31 binfmt.d\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 cgmanager\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 dbus-1.0\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:51 dconf\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:51 debug\r\n    drwxr-xr-x  3 root root  4096 Apr 20 10:08 dpkg\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 environment.d\r\n    drwxr-xr-x  3 root root  4096 Apr 25 04:56 gcc\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:51 glib-networking\r\n    drwxr-xr-x  2 root root  4096 Apr 26 00:00 init\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:51 jvm\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:50 kernel\r\n    lrwxrwxrwx  1 root root    20 Mar  4 09:49 libnih-dbus.so.1 -&gt; libnih-dbus.so.1.0.0\r\n    -rw-r--r--  1 root root 34824 Mar  4 09:49 libnih-dbus.so.1.0.0\r\n    lrwxrwxrwx  1 root root    15 Mar  4 09:49 libnih.so.1 -&gt; libnih.so.1.0.0\r\n    -rw-r--r--  1 root root 92184 Mar  4 09:49 libnih.so.1.0.0\r\n    drwxr-xr-x  3 root root  4096 Mar 29 19:47 locale\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:50 lsb\r\n    drwxr-xr-x  1 root root  4096 Jul 21  2017 mime\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 modprobe.d\r\n    drwxr-xr-x  2 root root  4096 May 26 08:31 modules-load.d\r\n    -rw-r--r--  1 root root   198 Jan 13 23:36 os-release\r\n    drwxr-xr-x  3 root root  4096 Jun  6 01:51 ssl\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:50 systemd\r\n    drwxr-xr-x  2 root root  4096 Jun  6 01:50 sysusers.d\r\n    drwxr-xr-x  2 root root  4096 Jul 21  2017 tar\r\n    drwxr-xr-x 15 root root  4096 Feb 11 20:06 terminfo\r\n    drwxr-xr-x  1 root root  4096 Jun  6 01:50 tmpfiles.d\r\n    drwxr-xr-x  1 root root  4096 Apr 26 00:00 udev\r\n    drwxr-xr-x  1 root root 16384 Jun  6 01:51 x86_64-linux-gnu\r\n\r\nBut inside Jenkins built image `ls -l /usr/lib` returns:\r\n\r\n    drwxr-xr-x  5 root root 4096 Jun 25 00:00 apt\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 debug\r\n    drwxr-xr-x  3 root root 4096 Apr 20 10:08 dpkg\r\n    drwxr-xr-x  3 root root 4096 Jun 17 03:36 gcc\r\n    drwxr-xr-x  2 root root 4096 Jun 25 00:00 init\r\n    drwxr-xr-x  1 root root 4096 Jul  3 01:00 jvm\r\n    drwxr-xr-x  1 root root 4096 Jul 12 11:00 locale\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 lsb\r\n    drwxr-xr-x  1 root root 4096 May 16 07:47 mime\r\n    -rw-r--r--  1 root root  198 Jan 13 23:36 os-release\r\n    drwxr-xr-x  3 root root 4096 Jul  3 01:00 ssl\r\n    drwxr-xr-x  3 root root 4096 Apr 20 10:08 systemd\r\n    drwxr-xr-x  2 root root 4096 May 16 07:47 tar\r\n    drwxr-xr-x 15 root root 4096 May 21 08:54 terminfo\r\n    drwxr-xr-x  2 root root 4096 Jun 25 00:00 tmpfiles.d\r\n    drwxr-xr-x  3 root root 4096 Jun 25 00:00 udev\r\n    drwxr-xr-x  2 root root 4096 May  3  2017 X11\r\n    drwxr-xr-x  1 root root 4096 Jul  3 01:00 x86_64-linux-gnu\r\n\r\nThis is really puzzling as I thought Docker would always produce the same image from identical Dockerfiles","title":"Docker and Java - FontConfiguration issue","body":"<p>We've got a Java application that generates word documents using a 3rd party (Asposee but I don't think it matters here). The app is built from a simple Docker file:</p>\n\n<pre><code>FROM openjdk:10-jdk-slim\nCOPY target/*.jar /opt/\nCMD $JAVA_HOME/bin/java $JAVA_OPTS -jar /opt/*.jar\n</code></pre>\n\n<p>When we build the application locally (<code>mvn package</code> then <code>docker build</code>) and run the application inside <code>k8s</code> it works well.</p>\n\n<p>However, when we build the image in our CI/CD pipeline with Jenkins we get a runtime exception when running through a specific process which apparently requires additional fonts:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: null\n    at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1288)\n    at java.desktop/sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:225)\n    at java.desktop/sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n    at java.desktop/sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:765)\n    at java.desktop/sun.font.SunFontManager$2.run(SunFontManager.java:440)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.desktop/sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:385)\n    at java.desktop/sun.awt.FcFontManager.&lt;init&gt;(FcFontManager.java:35)\n    at java.desktop/sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:56)\n</code></pre>\n\n<p>In that case the project is buit in Jenkins, compiled by the docker image <code>maven:3.5.4-jdk-10-slim</code>.</p>\n\n<p>I've checked both jar files (locally and from jenkins) and the class files are the same (as expected).</p>\n\n<p>In both cases it's the same base image so I don't understand what could be the difference. Is something different in Docker when building locally vs inside another Docker container?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>We've looked into both docker images and found the following difference.</p>\n\n<p>Since locally built image <code>ls -l /usr/lib</code> returns:</p>\n\n<pre><code>drwxr-xr-x  2 root root  4096 May  3  2017 X11\ndrwxr-xr-x  5 root root  4096 Apr 26 00:00 apt\ndrwxr-xr-x  2 root root  4096 May 26 08:31 binfmt.d\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 cgmanager\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 dbus-1.0\ndrwxr-xr-x  2 root root  4096 Jun  6 01:51 dconf\ndrwxr-xr-x  3 root root  4096 Jun  6 01:51 debug\ndrwxr-xr-x  3 root root  4096 Apr 20 10:08 dpkg\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 environment.d\ndrwxr-xr-x  3 root root  4096 Apr 25 04:56 gcc\ndrwxr-xr-x  2 root root  4096 Jun  6 01:51 glib-networking\ndrwxr-xr-x  2 root root  4096 Apr 26 00:00 init\ndrwxr-xr-x  1 root root  4096 Jun  6 01:51 jvm\ndrwxr-xr-x  3 root root  4096 Jun  6 01:50 kernel\nlrwxrwxrwx  1 root root    20 Mar  4 09:49 libnih-dbus.so.1 -&gt; libnih-dbus.so.1.0.0\n-rw-r--r--  1 root root 34824 Mar  4 09:49 libnih-dbus.so.1.0.0\nlrwxrwxrwx  1 root root    15 Mar  4 09:49 libnih.so.1 -&gt; libnih.so.1.0.0\n-rw-r--r--  1 root root 92184 Mar  4 09:49 libnih.so.1.0.0\ndrwxr-xr-x  3 root root  4096 Mar 29 19:47 locale\ndrwxr-xr-x  3 root root  4096 Jun  6 01:50 lsb\ndrwxr-xr-x  1 root root  4096 Jul 21  2017 mime\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 modprobe.d\ndrwxr-xr-x  2 root root  4096 May 26 08:31 modules-load.d\n-rw-r--r--  1 root root   198 Jan 13 23:36 os-release\ndrwxr-xr-x  3 root root  4096 Jun  6 01:51 ssl\ndrwxr-xr-x  1 root root  4096 Jun  6 01:50 systemd\ndrwxr-xr-x  2 root root  4096 Jun  6 01:50 sysusers.d\ndrwxr-xr-x  2 root root  4096 Jul 21  2017 tar\ndrwxr-xr-x 15 root root  4096 Feb 11 20:06 terminfo\ndrwxr-xr-x  1 root root  4096 Jun  6 01:50 tmpfiles.d\ndrwxr-xr-x  1 root root  4096 Apr 26 00:00 udev\ndrwxr-xr-x  1 root root 16384 Jun  6 01:51 x86_64-linux-gnu\n</code></pre>\n\n<p>But inside Jenkins built image <code>ls -l /usr/lib</code> returns:</p>\n\n<pre><code>drwxr-xr-x  5 root root 4096 Jun 25 00:00 apt\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 debug\ndrwxr-xr-x  3 root root 4096 Apr 20 10:08 dpkg\ndrwxr-xr-x  3 root root 4096 Jun 17 03:36 gcc\ndrwxr-xr-x  2 root root 4096 Jun 25 00:00 init\ndrwxr-xr-x  1 root root 4096 Jul  3 01:00 jvm\ndrwxr-xr-x  1 root root 4096 Jul 12 11:00 locale\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 lsb\ndrwxr-xr-x  1 root root 4096 May 16 07:47 mime\n-rw-r--r--  1 root root  198 Jan 13 23:36 os-release\ndrwxr-xr-x  3 root root 4096 Jul  3 01:00 ssl\ndrwxr-xr-x  3 root root 4096 Apr 20 10:08 systemd\ndrwxr-xr-x  2 root root 4096 May 16 07:47 tar\ndrwxr-xr-x 15 root root 4096 May 21 08:54 terminfo\ndrwxr-xr-x  2 root root 4096 Jun 25 00:00 tmpfiles.d\ndrwxr-xr-x  3 root root 4096 Jun 25 00:00 udev\ndrwxr-xr-x  2 root root 4096 May  3  2017 X11\ndrwxr-xr-x  1 root root 4096 Jul  3 01:00 x86_64-linux-gnu\n</code></pre>\n\n<p>This is really puzzling as I thought Docker would always produce the same image from identical Dockerfiles</p>\n"},{"tags":["java","spring-boot","logging","log4j","logback"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1667988287,"post_id":74372687,"comment_id":131297028,"body_markdown":"Can you show us your conf in logback.xml ?","body":"Can you show us your conf in logback.xml ?"},{"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"score":0,"creation_date":1667988434,"post_id":74372687,"comment_id":131297076,"body_markdown":"resources/logback.xml looks like this               \n&lt;configuration&gt;\n    &lt;appender name=&quot;console&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatter&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;trace&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;","body":"resources/logback.xml looks like this                &lt;configuration&gt;     &lt;appender name=&quot;console&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatter&quot;&gt;         &lt;encoder&gt;             &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;         &lt;/encoder&gt;     &lt;/appender&gt;      &lt;root level=&quot;trace&quot;&gt;         &lt;appender-ref ref=&quot;console&quot; /&gt;     &lt;/root&gt; &lt;/configuration&gt;"}],"answers":[{"tags":[],"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002323,"creation_date":1668002323,"answer_id":74376063,"question_id":74372687,"body_markdown":"I resolved this issue by modifying `resources/log4j2.properties` by adding this line `appender.console.layout.pattern = %d{ISO8601} - info: %msg%n`\r\n\r\nFile looks like this \r\n\r\n```\r\nname = requestlogger\r\n\r\n# Console appender configuration\r\nappender.console.type = Console\r\nappender.console.name = consoleLogger\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = %d{ISO8601} - info: %msg%n\r\n\r\n# Root logger level\r\nrootLogger.level = info\r\n# Root logger referring to console appender\r\nrootLogger.appenderRef.stdout.ref = consoleLogger\r\n```","title":"How to output logs in custom pattern using logbook-spring-boot-starter","body":"<p>I resolved this issue by modifying <code>resources/log4j2.properties</code> by adding this line <code>appender.console.layout.pattern = %d{ISO8601} - info: %msg%n</code></p>\n<p>File looks like this</p>\n<pre><code>name = requestlogger\n\n# Console appender configuration\nappender.console.type = Console\nappender.console.name = consoleLogger\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{ISO8601} - info: %msg%n\n\n# Root logger level\nrootLogger.level = info\n# Root logger referring to console appender\nrootLogger.appenderRef.stdout.ref = consoleLogger\n</code></pre>\n"}],"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668016118,"creation_date":1667986705,"question_id":74372687,"body_markdown":"I have a spring application, which is using logbook logger for request/response logging\r\n\r\npom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.zalando&lt;/groupId&gt;\r\n   &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\r\n   &lt;version&gt;2.14.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\napplication.yml\r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.zalando.logbook: TRACE\r\n```\r\n\r\nlogback is  logging the incoming and outgoing response as below\r\n\r\n```\r\n2022-11-09T09:00:51,084Z {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74....}\r\n```\r\n\r\nhow can I make it log  this way? \r\n\r\n```\r\n2022-11-09T09:00:51.036210Z - info: {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74...}\r\n```\r\n\r\nTried using the pattern in logback.xml nothing seems to work \r\n\r\n    &lt;configuration&gt;\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatte&quot;&gt;\r\n        &lt;encoder&gt;\r\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n      &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n      &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"How to output logs in custom pattern using logbook-spring-boot-starter","body":"<p>I have a spring application, which is using logbook logger for request/response logging</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n   &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\n   &lt;version&gt;2.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>application.yml</p>\n<pre><code>logging:\n  level:\n    org.zalando.logbook: TRACE\n</code></pre>\n<p>logback is  logging the incoming and outgoing response as below</p>\n<pre><code>2022-11-09T09:00:51,084Z {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74....}\n</code></pre>\n<p>how can I make it log  this way?</p>\n<pre><code>2022-11-09T09:00:51.036210Z - info: {&quot;origin&quot;:&quot;remote&quot;,&quot;type&quot;:&quot;request&quot;,&quot;correlation&quot;:&quot;c6d7a74...}\n</code></pre>\n<p>Tried using the pattern in logback.xml nothing seems to work</p>\n<pre><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;org.zalando.logbook.json.JsonHttpLogFormatte&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n  &lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","string","validation","multidimensional-array","bubble-sort"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1667920316,"post_id":74355188,"comment_id":131279995,"body_markdown":"&quot;all answers seemed to say true regardless of my input&quot; For us to help with that, you should provide example code. But, to avoid risk of having the question closed for lack of focus, I suggest you first fix the bubble sort. When that is working, if something still doesn&#39;t work, ask a new question. Reference this question in the new, and add a comment here to reference the new question.","body":"&quot;all answers seemed to say true regardless of my input&quot; For us to help with that, you should provide example code. But, to avoid risk of having the question closed for lack of focus, I suggest you first fix the bubble sort. When that is working, if something still doesn&#39;t work, ask a new question. Reference this question in the new, and add a comment here to reference the new question."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668120728,"post_id":74355188,"comment_id":131335791,"body_markdown":"There are similar questions on Stack Overflow. [This question](https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together) also uses names of states and names of their capitals.","body":"There are similar questions on Stack Overflow. <a href=\"https://stackoverflow.com/questions/31641638/shuffling-a-2d-array-while-keeping-columns-elements-together\">This question</a> also uses names of states and names of their capitals."}],"answers":[{"comments":[{"owner":{"account_id":26848083,"reputation":3,"user_id":20433523,"display_name":"SasuKev"},"score":0,"creation_date":1667932951,"post_id":74355379,"comment_id":131284844,"body_markdown":"So I have re-arranged the array the same way you would do it in a 1d array, States first: {Alabama, Alaska...}, and then capitols: {Montgomery, Juneau....}. And now I see that my array is of length  [1][49], 2 columns and 50 rows. When trying to compare using &quot;i&quot; and &quot;j&quot;, I get an error saying &quot;cannot resolve symbol i&quot;, how do I identify those two variables? Do I just identify them as int i = 0; and int j = 0;?","body":"So I have re-arranged the array the same way you would do it in a 1d array, States first: {Alabama, Alaska...}, and then capitols: {Montgomery, Juneau....}. And now I see that my array is of length  [1][49], 2 columns and 50 rows. When trying to compare using &quot;i&quot; and &quot;j&quot;, I get an error saying &quot;cannot resolve symbol i&quot;, how do I identify those two variables? Do I just identify them as int i = 0; and int j = 0;?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1667935193,"post_id":74355379,"comment_id":131285575,"body_markdown":"Your array was already properly declared.  1st dimension is # of rows, 2nd dimension  is # of columns.  So each row is a single dimension array of length 2 to hold the state and capital. So you need to iterate over the # of rows which go from `0 to StateAndCapital.length`.  And as noted in the other answer, variables and methods should start with lowercase to conform to Java coding standards.","body":"Your array was already properly declared.  1st dimension is # of rows, 2nd dimension  is # of columns.  So each row is a single dimension array of length 2 to hold the state and capital. So you need to iterate over the # of rows which go from <code>0 to StateAndCapital.length</code>.  And as noted in the other answer, variables and methods should start with lowercase to conform to Java coding standards."},{"owner":{"account_id":26848083,"reputation":3,"user_id":20433523,"display_name":"SasuKev"},"score":0,"creation_date":1667937806,"post_id":74355379,"comment_id":131286337,"body_markdown":"So create a for loop for stateAndCapital.length? Yes I am aware of the lowercase for variables and methods now, thank you","body":"So create a for loop for stateAndCapital.length? Yes I am aware of the lowercase for variables and methods now, thank you"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667952493,"post_id":74355379,"comment_id":131289977,"body_markdown":"&quot;cannot resolve symbol i&quot; sounds like a typo somewhere. Or you forgot to declare it: `int i;`","body":"&quot;cannot resolve symbol i&quot; sounds like a typo somewhere. Or you forgot to declare it: <code>int i;</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1667998231,"post_id":74355379,"comment_id":131300485,"body_markdown":"Our answers have been trying to push you in the right direction.  However, we can&#39;t keep commenting on errors (especially syntax errors) as you try recommendations from the comments.  If something isn&#39;t working, then post a new question and included a  [mre] that will demonstrate the problem.  If it doesn&#39;t compile it doesn&#39;t qualify as an mre.  For additional help, check out [ask].   And as you haven&#39;t taken the [tour] I suggest you do so as it gives more information about the site.","body":"Our answers have been trying to push you in the right direction.  However, we can&#39;t keep commenting on errors (especially syntax errors) as you try recommendations from the comments.  If something isn&#39;t working, then post a new question and included a  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that will demonstrate the problem.  If it doesn&#39;t compile it doesn&#39;t qualify as an mre.  For additional help, check out <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>.   And as you haven&#39;t taken the <a href=\"https://stackoverflow.com/tour\">tour</a> I suggest you do so as it gives more information about the site."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1668015145,"post_id":74355379,"comment_id":131307122,"body_markdown":"I prefer the array as in the original question. By _de facto_ standard, that would have 50 rows and 2 columns. Left subscript specifies the row, right subscript the column. So, `stateAndCapital [4][0]` is &quot;California&quot;. `stateAndCapital[4][1]` is &quot;Sacremento&quot;.","body":"I prefer the array as in the original question. By <i>de facto</i> standard, that would have 50 rows and 2 columns. Left subscript specifies the row, right subscript the column. So, <code>stateAndCapital [4][0]</code> is &quot;California&quot;. <code>stateAndCapital[4][1]</code> is &quot;Sacremento&quot;."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668015408,"post_id":74355379,"comment_id":131307220,"body_markdown":"You can specify a row by using 1 subscript: `stateAndCapital [4]` is a 1D array, `{&quot;California&quot;,&quot;Sacramento&quot;}`. But, `stateAndCapital [][1]` isn&#39;t valid.","body":"You can specify a row by using 1 subscript: <code>stateAndCapital [4]</code> is a 1D array, <code>{&quot;California&quot;,&quot;Sacramento&quot;}</code>. But, <code>stateAndCapital [][1]</code> isn&#39;t valid."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667941760,"creation_date":1667877980,"answer_id":74355379,"question_id":74355188,"body_markdown":"You sort the `&quot;2D&quot;` array just like a `&quot;1D&quot;` array.  You have `50` rows and `2` columns. Assuming you know how to sort a `&quot;1D&quot;` array and using `i and j` you would:\r\n\r\n- compare `arr[i][1]` against `a[j][1]` to sort by capital\r\n- then, when time swap `arr[i][1] and arr[j][1]` and also swap `arr[i][0] and arr[j][0]`.  (or just like your example sort, but you need to swap both columns on the same row to keep each state and its capital together).\r\n\r\nFor the quiz, if a state is presented asking for its capital, just prompt for the capital and compare to the correct answer.  Similarly for presenting a capital and asking for state. I recommend you compare everything using lower case to avoid problems in comparing.\r\n\r\nCheck out the [String](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html) class for information on using `compareTo` and `toLowerCase` or `toUpperCase`.\r\n\r\n**Updated**\r\n\r\nTesting along the way is a good idea, so to ensure you&#39;re iterating across them correctly do the following:\r\n```\r\nfor (int i = 0; i &lt; stateAndCapitals.length; i++){\r\n   System.out.println(Arrays.toString(stateAndCapitals[i]));\r\n}\r\n```\r\n        \r\n\r\n","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>You sort the <code>&quot;2D&quot;</code> array just like a <code>&quot;1D&quot;</code> array.  You have <code>50</code> rows and <code>2</code> columns. Assuming you know how to sort a <code>&quot;1D&quot;</code> array and using <code>i and j</code> you would:</p>\n<ul>\n<li>compare <code>arr[i][1]</code> against <code>a[j][1]</code> to sort by capital</li>\n<li>then, when time swap <code>arr[i][1] and arr[j][1]</code> and also swap <code>arr[i][0] and arr[j][0]</code>.  (or just like your example sort, but you need to swap both columns on the same row to keep each state and its capital together).</li>\n</ul>\n<p>For the quiz, if a state is presented asking for its capital, just prompt for the capital and compare to the correct answer.  Similarly for presenting a capital and asking for state. I recommend you compare everything using lower case to avoid problems in comparing.</p>\n<p>Check out the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> class for information on using <code>compareTo</code> and <code>toLowerCase</code> or <code>toUpperCase</code>.</p>\n<p><strong>Updated</strong></p>\n<p>Testing along the way is a good idea, so to ensure you're iterating across them correctly do the following:</p>\n<pre><code>for (int i = 0; i &lt; stateAndCapitals.length; i++){\n   System.out.println(Arrays.toString(stateAndCapitals[i]));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1667941851,"post_id":74355706,"comment_id":131287611,"body_markdown":"Inadvertently edited you answer.  Changed it back.  The order keeps switching.","body":"Inadvertently edited you answer.  Changed it back.  The order keeps switching."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667956754,"creation_date":1667881961,"answer_id":74355706,"question_id":74355188,"body_markdown":"(1) Java has primitives and reference types. The relational operators `&lt;`, `&lt;=`, `&gt;`, `&gt;=` are for primitives. The relational operators `==` and `!=` can be used for either primitives or reference types. For primitives, they compare the values, as expected. For reference types, they don&#39;t compare values. They answer the question &quot;Are the operands the _same_ reference, that is, the same `Object`?&quot; \r\n\r\nTo compare values of reference types, methods such as `.equals` or `.compareTo` are used. `String` is a reference type. Comparison of two `Object`s values (not references) typically looks like this:\r\n\r\n      Foo foo1, foo2;\r\n      ...\r\n      if (foo1.equals (foo2)) ... \r\n\r\nSometimes, greater-than or less-than comparisons of values are needed. If a class `implements` [`Comparable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html), objects have a `compareTo` method. The `compareTo` method returns a `int`, which will be a negative number, zero, or a positive to indicate which has the higher value, or that they are equal.\r\n\r\n      if (foo1.compareTo(foo2) &lt; 0) { \r\n          System.out.println (&quot;Foo1 is less than Foo2&quot;);\r\n       ...\r\n\r\n`String` does implement `Comparable`. \r\n\r\nThe [`String` API](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) offers some methods for comparison: \r\n - `.equals (String  other)`\r\n - `.equalsIgnoreCase (String other)` \r\n -  `.compareTo (String other)`\r\n -  `.compareToIgnoreCase (String other)`\r\n\r\n\r\n(2a) For a 2D array, an expression such as `array[j]` references an entire row of `array`, i.e. array[j][0], array[j][1], array[j][2], array[j][3], ...\r\n\r\n(2b) To access a single element, you need to specify each subscript. \r\n     \r\n      System.out.println (&quot;The capital of &quot; + stateAndCapital[i][0]\r\n          + &quot; is &quot; + stateAndCapital[i][1] + &quot;.&quot;);     \r\n\r\n\r\n(3) You want to sort by column 1. So, compare one `stateAndCapital[x][1]` to another `stateAndCapital[y][1]`. \r\n\r\n(Remember (2b): Specify both subscripts). \r\n\r\nUse `String.compareTo` or `String.compareToIgnoreCase`:\r\n\r\n      if (stateAndCapital[m][1].compareToIgnoreCase (stateAndCapital[n][1] &lt; 0) { \r\n          System.out.println (stateAndCapital[m][1] \r\n            + &quot; comes before &quot; + stateAndCapital[n][1]);\r\n\r\nWhen you need to swap, you need to swap both column 1 and column 0 for the indexed row. \r\n\r\nYou have only two columns to swap. There is a shortcut that becomes more useful the more columns there are: Swap the entire row the same way two Objects are swapped. One way to do that is to make `temp` a 1D array of `String`:\r\n\r\n       String[] temp;  \r\n       ... \r\n       temp = stateAndCapital[j];\r\n       stateAndCapital[j] = stateAndCapital[j - 1];\r\n       stateAndCapital[j - 1] = temp;\r\n\r\nWhy does that work? Remember (2a): Arrays are reference types. And a 2D array is really an array of array of the base type. \r\n\r\nAt least for testing purposes do these: \r\n - Fix the bubble sort using the 3 issues above.\r\n - Print the the state names and capitals from the original array.\r\n - Do the bubble sort. \r\n - Print the state names and capitals again.\r\n\r\nNote: I used `stateAndCapital` instead of `StateAndCapital` to conform to Java naming convention.      ","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>(1) Java has primitives and reference types. The relational operators <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> are for primitives. The relational operators <code>==</code> and <code>!=</code> can be used for either primitives or reference types. For primitives, they compare the values, as expected. For reference types, they don't compare values. They answer the question &quot;Are the operands the <em>same</em> reference, that is, the same <code>Object</code>?&quot;</p>\n<p>To compare values of reference types, methods such as <code>.equals</code> or <code>.compareTo</code> are used. <code>String</code> is a reference type. Comparison of two <code>Object</code>s values (not references) typically looks like this:</p>\n<pre><code>  Foo foo1, foo2;\n  ...\n  if (foo1.equals (foo2)) ... \n</code></pre>\n<p>Sometimes, greater-than or less-than comparisons of values are needed. If a class <code>implements</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, objects have a <code>compareTo</code> method. The <code>compareTo</code> method returns a <code>int</code>, which will be a negative number, zero, or a positive to indicate which has the higher value, or that they are equal.</p>\n<pre><code>  if (foo1.compareTo(foo2) &lt; 0) { \n      System.out.println (&quot;Foo1 is less than Foo2&quot;);\n   ...\n</code></pre>\n<p><code>String</code> does implement <code>Comparable</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a> offers some methods for comparison:</p>\n<ul>\n<li><code>.equals (String  other)</code></li>\n<li><code>.equalsIgnoreCase (String other)</code></li>\n<li><code>.compareTo (String other)</code></li>\n<li><code>.compareToIgnoreCase (String other)</code></li>\n</ul>\n<p>(2a) For a 2D array, an expression such as <code>array[j]</code> references an entire row of <code>array</code>, i.e. array[j][0], array[j][1], array[j][2], array[j][3], ...</p>\n<p>(2b) To access a single element, you need to specify each subscript.</p>\n<pre><code>  System.out.println (&quot;The capital of &quot; + stateAndCapital[i][0]\n      + &quot; is &quot; + stateAndCapital[i][1] + &quot;.&quot;);     \n</code></pre>\n<p>(3) You want to sort by column 1. So, compare one <code>stateAndCapital[x][1]</code> to another <code>stateAndCapital[y][1]</code>.</p>\n<p>(Remember (2b): Specify both subscripts).</p>\n<p>Use <code>String.compareTo</code> or <code>String.compareToIgnoreCase</code>:</p>\n<pre><code>  if (stateAndCapital[m][1].compareToIgnoreCase (stateAndCapital[n][1] &lt; 0) { \n      System.out.println (stateAndCapital[m][1] \n        + &quot; comes before &quot; + stateAndCapital[n][1]);\n</code></pre>\n<p>When you need to swap, you need to swap both column 1 and column 0 for the indexed row.</p>\n<p>You have only two columns to swap. There is a shortcut that becomes more useful the more columns there are: Swap the entire row the same way two Objects are swapped. One way to do that is to make <code>temp</code> a 1D array of <code>String</code>:</p>\n<pre><code>   String[] temp;  \n   ... \n   temp = stateAndCapital[j];\n   stateAndCapital[j] = stateAndCapital[j - 1];\n   stateAndCapital[j - 1] = temp;\n</code></pre>\n<p>Why does that work? Remember (2a): Arrays are reference types. And a 2D array is really an array of array of the base type.</p>\n<p>At least for testing purposes do these:</p>\n<ul>\n<li>Fix the bubble sort using the 3 issues above.</li>\n<li>Print the the state names and capitals from the original array.</li>\n<li>Do the bubble sort.</li>\n<li>Print the state names and capitals again.</li>\n</ul>\n<p>Note: I used <code>stateAndCapital</code> instead of <code>StateAndCapital</code> to conform to Java naming convention.</p>\n"},{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1668051112,"post_id":74368543,"comment_id":131315326,"body_markdown":"The O/P is required to use a 2D array. While creating a new class might be better design, it would fail to meet the requirements placed by the proessor.","body":"The O/P is required to use a 2D array. While creating a new class might be better design, it would fail to meet the requirements placed by the proessor."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668016068,"creation_date":1667952267,"answer_id":74368543,"question_id":74355188,"body_markdown":"An alternative is to create a class, so each Object has a state name and the name of the capital city.\r\n\r\n     public class StateAndCapital implements Comparable {\r\n         private String stateName;\r\n         private String capitalName;\r\n \r\n         public StateAndCapital (String state, String capital) {\r\n             stateName = state;\r\n             capitalName = capital;\r\n         }\r\n         public String getStateName () { return stateName; }\r\n         public String getCapitalName () { return capitalName; }\r\n         public int compareTo (StateAndCapital other) { \r\n             int i = this.capital.compareTo (other.capital);\r\n             if (i == 0) { \r\n                  i = this.stateName.compareTo (other.stateName );\r\n             }\r\n             return i;\r\n         }\r\n     }\r\n\r\nThen, you would have a 1D array. \r\n    \r\n      public static void main (String[] args) {\r\n         StateAndCapital [] stateCapital = { \r\n                new StateAndCapital (&quot;Alabama&quot;, &quot;Montgomery&quot;),\r\n                new StateAndCapital (&quot;Alaska&quot;, &quot;Juneau&quot;),\r\n                new StateAndCapital (&quot;Arizona&quot;, &quot;Phoenix&quot;),\r\n                new StateAndCapital (&quot;Arkansas&quot;, &quot;Little Rock&quot;),\r\n                ...\r\n                };\r\n                ... \r\n      }\r\n\r\nThen, in your bubble sort code, use the actual name of your array, and do a comparison like this:\r\n\r\n          if (stateCapital[j].compareTo(stateCapital [j - 1])) ...\r\n\r\n\r\n\r\n ","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>An alternative is to create a class, so each Object has a state name and the name of the capital city.</p>\n<pre><code> public class StateAndCapital implements Comparable {\n     private String stateName;\n     private String capitalName;\n\n     public StateAndCapital (String state, String capital) {\n         stateName = state;\n         capitalName = capital;\n     }\n     public String getStateName () { return stateName; }\n     public String getCapitalName () { return capitalName; }\n     public int compareTo (StateAndCapital other) { \n         int i = this.capital.compareTo (other.capital);\n         if (i == 0) { \n              i = this.stateName.compareTo (other.stateName );\n         }\n         return i;\n     }\n }\n</code></pre>\n<p>Then, you would have a 1D array.</p>\n<pre><code>  public static void main (String[] args) {\n     StateAndCapital [] stateCapital = { \n            new StateAndCapital (&quot;Alabama&quot;, &quot;Montgomery&quot;),\n            new StateAndCapital (&quot;Alaska&quot;, &quot;Juneau&quot;),\n            new StateAndCapital (&quot;Arizona&quot;, &quot;Phoenix&quot;),\n            new StateAndCapital (&quot;Arkansas&quot;, &quot;Little Rock&quot;),\n            ...\n            };\n            ... \n  }\n</code></pre>\n<p>Then, in your bubble sort code, use the actual name of your array, and do a comparison like this:</p>\n<pre><code>      if (stateCapital[j].compareTo(stateCapital [j - 1])) ...\n</code></pre>\n"}],"owner":{"account_id":26848083,"reputation":3,"user_id":20433523,"display_name":"SasuKev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668016068,"creation_date":1667875671,"question_id":74355188,"body_markdown":"I am in college and I have this assigment for data structures and algorithms, this is the project:\r\n&quot;Develop a program that asks the user to enter a capital for a U.S. state. Upon receiving the user input, the program reports whether the user input is correct. For this application, the 50 states and their capitals are stored in a two-dimensional array in order by state name. Display the current contents of the array then use a bubble sort to sort the content by capital. Next, prompt the user to enter answers for all the state capitals and then display the total correct count. The user&#39;s answer is not case-sensitive.&quot;\r\n\r\nThis is what I have done so far\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\nimport java.lang.String;\r\npublic class Assignment {\r\n// It begins with the creation of the two dimension array that includes state and capital.\r\n    public static void main (String[] args) {\r\n        String[][] StateAndCapital = {\r\n                {&quot;Alabama&quot;, &quot;Montgomery&quot;},\r\n                {&quot;Alaska&quot;, &quot;Juneau&quot;},\r\n                {&quot;Arizona&quot;, &quot;Phoenix&quot;},\r\n                {&quot;Arkansas&quot;, &quot;Little Rock&quot;},\r\n                {&quot;California&quot;, &quot;Sacramento&quot;},\r\n                {&quot;Colorado&quot;, &quot;Denver&quot;},\r\n                {&quot;Connecticut&quot;, &quot;Hartford&quot;},\r\n                {&quot;Delaware&quot;, &quot;Dover&quot;},\r\n                {&quot;Florida&quot;, &quot;Tallahassee&quot;},\r\n                {&quot;Georgia&quot;, &quot;Atlanta&quot;},\r\n                {&quot;Hawaii&quot;, &quot;Honolulu&quot;},\r\n                {&quot;Idaho&quot;, &quot;Boise&quot;},\r\n                {&quot;Illinois&quot;, &quot;Springfield&quot;},\r\n                {&quot;Indiana&quot;, &quot;Indianapolis&quot;},\r\n                {&quot;Iowa&quot;, &quot;Des Moines&quot;},\r\n                {&quot;Kansas&quot;, &quot;Topeka&quot;},\r\n                {&quot;Kentucky&quot;, &quot;Frankfort&quot;},\r\n                {&quot;Louisiana&quot;, &quot;Baton Rouge&quot;},\r\n                {&quot;Maine&quot;, &quot;Augusta&quot;},\r\n                {&quot;Maryland&quot;, &quot;Annapolis&quot;},\r\n                {&quot;Massachusetts&quot;, &quot;Boston&quot;},\r\n                {&quot;Michigan&quot;, &quot;Lansing&quot;},\r\n                {&quot;Minnesota&quot;, &quot;Saint Paul&quot;},\r\n                {&quot;Mississippi&quot;, &quot;Jackson&quot;},\r\n                {&quot;Missouri&quot;, &quot;Jefferson City&quot;},\r\n                {&quot;Montana&quot;, &quot;Helena&quot;},\r\n                {&quot;Nebraska&quot;, &quot;Lincoln&quot;},\r\n                {&quot;Nevada&quot;, &quot;Carson City&quot;},\r\n                {&quot;New Hampshire&quot;, &quot;Concord&quot;},\r\n                {&quot;New Jersey&quot;, &quot;Trenton&quot;},\r\n                {&quot;New Mexico&quot;, &quot;Santa Fe&quot;},\r\n                {&quot;New York&quot;, &quot;Albany&quot;},\r\n                {&quot;North Carolina&quot;, &quot;Raleigh&quot;},\r\n                {&quot;North Dakota&quot;, &quot;Bismarck&quot;},\r\n                {&quot;Ohio&quot;, &quot;Columbus&quot;},\r\n                {&quot;Oklahoma&quot;, &quot;Oklahoma City&quot;},\r\n                {&quot;Oregon&quot;, &quot;Salem&quot;},\r\n                {&quot;Pennsylvania&quot;, &quot;Harrisburg&quot;},\r\n                {&quot;Rhode Island&quot;, &quot;Providence&quot;},\r\n                {&quot;South Carolina&quot;, &quot;Columbia&quot;},\r\n                {&quot;South Dakota&quot;, &quot;Pierre&quot;},\r\n                {&quot;Tennessee&quot;, &quot;Nashville&quot;},\r\n                {&quot;Texas&quot;, &quot;Austin&quot;},\r\n                {&quot;Utah&quot;, &quot;Salt Lake City&quot;},\r\n                {&quot;Vermont&quot;, &quot;Montpelier&quot;},\r\n                {&quot;Virginia&quot;, &quot;Richmond&quot;},\r\n                {&quot;Washington&quot;, &quot;Olympia&quot;},\r\n                {&quot;West Virginia&quot;, &quot;Charleston&quot;},\r\n                {&quot;Wisconsin&quot;, &quot;Madison&quot;},\r\n                {&quot;Wyoming&quot;, &quot;Cheyenne&quot;}\r\n        };\r\n```\r\nSo far I have created the 2d array, I need to have a for loop so the system goes through the array. But I am not sure on how to create a for loop for a two dimension array, I have watched videos for bubble sorting (required for the assignment) and what my lessons mention but they mainly show how to do it on a single dimension array. \r\n\r\n```\r\n  for (int i = 1; i &lt; array.length; i++) {\r\n    for (int j = i; j &gt; 0; j--) {\r\n     if (array[j] &lt; array [j - 1]) {\r\n      temp = array[j];\r\n      array[j] = array[j - 1];\r\n      array[j - 1] = temp;\r\n```\r\nThat is from a lesson, using a single array, but not sure how to do it with a two dimension array.\r\n\r\n I also looked into how to convert string to boolean so whenever the user answered, the system would say either &quot;correct answer&quot; or &quot;incorrect answer&quot;. If I could get some advice please, I am starting and this may be a dumb question. \r\n\r\nI tried changing string value to boolean values so whenever I replied to the system I would get a &quot;correct&quot; or &quot;wrong&quot; answer according to the true/false values assigned to an array of only states, but all answers seemed to say true regardless of my input, which is odd. I am still looking for a way to validate string values.\r\nI have used the scanner to scan the answer given by the user, looked at boolean programs to see if I can see something that I could use but try to make it string-based.","title":"2D array for state and capitols, with system asking user input, and then validating answer","body":"<p>I am in college and I have this assigment for data structures and algorithms, this is the project:\n&quot;Develop a program that asks the user to enter a capital for a U.S. state. Upon receiving the user input, the program reports whether the user input is correct. For this application, the 50 states and their capitals are stored in a two-dimensional array in order by state name. Display the current contents of the array then use a bubble sort to sort the content by capital. Next, prompt the user to enter answers for all the state capitals and then display the total correct count. The user's answer is not case-sensitive.&quot;</p>\n<p>This is what I have done so far</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nimport java.lang.String;\npublic class Assignment {\n// It begins with the creation of the two dimension array that includes state and capital.\n    public static void main (String[] args) {\n        String[][] StateAndCapital = {\n                {&quot;Alabama&quot;, &quot;Montgomery&quot;},\n                {&quot;Alaska&quot;, &quot;Juneau&quot;},\n                {&quot;Arizona&quot;, &quot;Phoenix&quot;},\n                {&quot;Arkansas&quot;, &quot;Little Rock&quot;},\n                {&quot;California&quot;, &quot;Sacramento&quot;},\n                {&quot;Colorado&quot;, &quot;Denver&quot;},\n                {&quot;Connecticut&quot;, &quot;Hartford&quot;},\n                {&quot;Delaware&quot;, &quot;Dover&quot;},\n                {&quot;Florida&quot;, &quot;Tallahassee&quot;},\n                {&quot;Georgia&quot;, &quot;Atlanta&quot;},\n                {&quot;Hawaii&quot;, &quot;Honolulu&quot;},\n                {&quot;Idaho&quot;, &quot;Boise&quot;},\n                {&quot;Illinois&quot;, &quot;Springfield&quot;},\n                {&quot;Indiana&quot;, &quot;Indianapolis&quot;},\n                {&quot;Iowa&quot;, &quot;Des Moines&quot;},\n                {&quot;Kansas&quot;, &quot;Topeka&quot;},\n                {&quot;Kentucky&quot;, &quot;Frankfort&quot;},\n                {&quot;Louisiana&quot;, &quot;Baton Rouge&quot;},\n                {&quot;Maine&quot;, &quot;Augusta&quot;},\n                {&quot;Maryland&quot;, &quot;Annapolis&quot;},\n                {&quot;Massachusetts&quot;, &quot;Boston&quot;},\n                {&quot;Michigan&quot;, &quot;Lansing&quot;},\n                {&quot;Minnesota&quot;, &quot;Saint Paul&quot;},\n                {&quot;Mississippi&quot;, &quot;Jackson&quot;},\n                {&quot;Missouri&quot;, &quot;Jefferson City&quot;},\n                {&quot;Montana&quot;, &quot;Helena&quot;},\n                {&quot;Nebraska&quot;, &quot;Lincoln&quot;},\n                {&quot;Nevada&quot;, &quot;Carson City&quot;},\n                {&quot;New Hampshire&quot;, &quot;Concord&quot;},\n                {&quot;New Jersey&quot;, &quot;Trenton&quot;},\n                {&quot;New Mexico&quot;, &quot;Santa Fe&quot;},\n                {&quot;New York&quot;, &quot;Albany&quot;},\n                {&quot;North Carolina&quot;, &quot;Raleigh&quot;},\n                {&quot;North Dakota&quot;, &quot;Bismarck&quot;},\n                {&quot;Ohio&quot;, &quot;Columbus&quot;},\n                {&quot;Oklahoma&quot;, &quot;Oklahoma City&quot;},\n                {&quot;Oregon&quot;, &quot;Salem&quot;},\n                {&quot;Pennsylvania&quot;, &quot;Harrisburg&quot;},\n                {&quot;Rhode Island&quot;, &quot;Providence&quot;},\n                {&quot;South Carolina&quot;, &quot;Columbia&quot;},\n                {&quot;South Dakota&quot;, &quot;Pierre&quot;},\n                {&quot;Tennessee&quot;, &quot;Nashville&quot;},\n                {&quot;Texas&quot;, &quot;Austin&quot;},\n                {&quot;Utah&quot;, &quot;Salt Lake City&quot;},\n                {&quot;Vermont&quot;, &quot;Montpelier&quot;},\n                {&quot;Virginia&quot;, &quot;Richmond&quot;},\n                {&quot;Washington&quot;, &quot;Olympia&quot;},\n                {&quot;West Virginia&quot;, &quot;Charleston&quot;},\n                {&quot;Wisconsin&quot;, &quot;Madison&quot;},\n                {&quot;Wyoming&quot;, &quot;Cheyenne&quot;}\n        };\n</code></pre>\n<p>So far I have created the 2d array, I need to have a for loop so the system goes through the array. But I am not sure on how to create a for loop for a two dimension array, I have watched videos for bubble sorting (required for the assignment) and what my lessons mention but they mainly show how to do it on a single dimension array.</p>\n<pre><code>  for (int i = 1; i &lt; array.length; i++) {\n    for (int j = i; j &gt; 0; j--) {\n     if (array[j] &lt; array [j - 1]) {\n      temp = array[j];\n      array[j] = array[j - 1];\n      array[j - 1] = temp;\n</code></pre>\n<p>That is from a lesson, using a single array, but not sure how to do it with a two dimension array.</p>\n<p>I also looked into how to convert string to boolean so whenever the user answered, the system would say either &quot;correct answer&quot; or &quot;incorrect answer&quot;. If I could get some advice please, I am starting and this may be a dumb question.</p>\n<p>I tried changing string value to boolean values so whenever I replied to the system I would get a &quot;correct&quot; or &quot;wrong&quot; answer according to the true/false values assigned to an array of only states, but all answers seemed to say true regardless of my input, which is odd. I am still looking for a way to validate string values.\nI have used the scanner to scan the answer given by the user, looked at boolean programs to see if I can see something that I could use but try to make it string-based.</p>\n"},{"tags":["java","list","dictionary","hashmap"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668012750,"post_id":74378463,"comment_id":131306240,"body_markdown":"Why don&#39;t you use [Map.get()](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-) instead of iteration?","body":"Why don&#39;t you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">Map.get()</a> instead of iteration?"},{"owner":{"account_id":10043421,"reputation":51,"user_id":8815285,"display_name":"john"},"score":0,"creation_date":1668012928,"post_id":74378463,"comment_id":131306305,"body_markdown":"@Chaosfire Sorry, how would I use that in this scenario. Are you saying, inside the first for loop, I would do:  entry.get(&quot;age&quot;) ?","body":"@Chaosfire Sorry, how would I use that in this scenario. Are you saying, inside the first for loop, I would do:  entry.get(&quot;age&quot;) ?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668014015,"creation_date":1668014015,"answer_id":74378808,"question_id":74378463,"body_markdown":"You should use [Map.get()][1], instead of iteration to find the value of a key.\r\n```\r\nfor(var entry : data.entrySet()) {\r\n  var ages = entry.getValue().get(&quot;age&quot;);\r\n  if (ages == null) {\r\n    //key does not exist\r\n    //initialize or whatever you need\r\n  } else {\r\n    //key exists\r\n    //operate on list\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">Map.get()</a>, instead of iteration to find the value of a key.</p>\n<pre><code>for(var entry : data.entrySet()) {\n  var ages = entry.getValue().get(&quot;age&quot;);\n  if (ages == null) {\n    //key does not exist\n    //initialize or whatever you need\n  } else {\n    //key exists\n    //operate on list\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668015688,"creation_date":1668014028,"answer_id":74378815,"question_id":74378463,"body_markdown":"You don&#39;t need the second nested `for`-loop where you&#39;re iterating over the entry sets of the *inner Map* searching for the *key* `&quot;age&quot;`. Instead, you can retrieve a value that corresponds to this *key* from each *inner Map*.\r\n\r\nThat&#39;s how your logic can be implemented using Java 8 methods [`Map.computeIfAbsent()`][1] and [`Map.forEach()`][2].\r\n\r\nAs a precaution against the case when the *key* `&quot;age&quot;` is not present in the inner Map you can use [`Map.getOrDefault()`][3]\r\n\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\r\n        \r\nMap&lt;Integer, List&lt;String&gt;&gt; groupsByAge = new HashMap&lt;&gt;();\r\n\r\n\r\ndata.forEach((group, nestedMap) -&gt; {\r\n    nestedMap.getOrDefault(&quot;age&quot;, List.of()).forEach(age -&gt; \r\n        groupsByAge.computeIfAbsent(age, k -&gt; new ArrayList&lt;&gt;()).add(group)\r\n    );\r\n});\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\nIt&#39;s also worth to note that your data is **not dynamic**, i.e. **every** nested Map is expected to have Keys: `&quot;grades&quot;`, `&quot;age&quot;`, etc. Then it should be an object having properties `grades` and `age`. Because custom domain object allows to structure the data, utilize appropriate data types and manipulate with data using custom behavior. As an example, simple getters `getAge()` / `getGrades()` would be less error-prone and more readable than calls `get(&quot;age&quot;)` / `get(&quot;grades&quot;)`.\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>You don't need the second nested <code>for</code>-loop where you're iterating over the entry sets of the <em>inner Map</em> searching for the <em>key</em> <code>&quot;age&quot;</code>. Instead, you can retrieve a value that corresponds to this <em>key</em> from each <em>inner Map</em>.</p>\n<p>That's how your logic can be implemented using Java 8 methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Map.computeIfAbsent()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Map.forEach()</code></a>.</p>\n<p>As a precaution against the case when the <em>key</em> <code>&quot;age&quot;</code> is not present in the inner Map you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#getOrDefault(java.lang.Object,V)\" rel=\"nofollow noreferrer\"><code>Map.getOrDefault()</code></a></p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\n        \nMap&lt;Integer, List&lt;String&gt;&gt; groupsByAge = new HashMap&lt;&gt;();\n\n\ndata.forEach((group, nestedMap) -&gt; {\n    nestedMap.getOrDefault(&quot;age&quot;, List.of()).forEach(age -&gt; \n        groupsByAge.computeIfAbsent(age, k -&gt; new ArrayList&lt;&gt;()).add(group)\n    );\n});\n</code></pre>\n<h3>Note</h3>\n<p>It's also worth to note that your data is <strong>not dynamic</strong>, i.e. <strong>every</strong> nested Map is expected to have Keys: <code>&quot;grades&quot;</code>, <code>&quot;age&quot;</code>, etc. Then it should be an object having properties <code>grades</code> and <code>age</code>. Because custom domain object allows to structure the data, utilize appropriate data types and manipulate with data using custom behavior. As an example, simple getters <code>getAge()</code> / <code>getGrades()</code> would be less error-prone and more readable than calls <code>get(&quot;age&quot;)</code> / <code>get(&quot;grades&quot;)</code>.</p>\n"}],"owner":{"account_id":10043421,"reputation":51,"user_id":8815285,"display_name":"john"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74378815,"answer_count":2,"score":0,"last_activity_date":1668015688,"creation_date":1668012303,"question_id":74378463,"body_markdown":"I currently have some data in the form of a nested map like the following:\r\n\r\n```\r\nMap&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // intializing the Map\r\n    \r\n// data = {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\r\n```\r\n\r\nWhat I want to do is essentially remove grades and then reverse the map, so it would look something like:\r\n\r\n    {x={group1}, y={group1, group3}, z={group2}, someAge={some list of groupN}}\r\n\r\nI appreciate that the data may not make sense without context, but the problem remains the same. As it stands, I have a 3-nested for loops, but there must be a better way, since that would be very inefficient with a large dataset:\r\n\r\n```\r\nMap &lt;Integer, List&lt;String&gt;&gt; someMap = new HashMap&lt;&gt;();\r\n\r\nfor (var entry : data.entrySet()) {\r\n    for (var info : entry.getValue().entrySet()) {\r\n        if (info.getKey().equals(&quot;age&quot;)) {\r\n            List ages = info.getValue();\r\n            for (var age : ages) {\r\n                // if age not in someMap, add age as key // e.g add x so someMap={x={},y={}}\r\n                someMap.get(age).add(entry.getKey()) //e.g {x={entry key},y={}}\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there some kind of pre-processing I can do to remove grades which would cut the 2nd for loop in half at least, and remove the need to check if the key is &#39;age&#39; each iteration.","title":"Java removing subset of a nested map containing list, then reversing map","body":"<p>I currently have some data in the form of a nested map like the following:</p>\n<pre><code>Map&lt;String, Map&lt;String, List&lt;Integer&gt;&gt;&gt; data = // intializing the Map\n    \n// data = {group1={grades=[a,b,c], age=[x,y,z]}, group={....}} and so on\n</code></pre>\n<p>What I want to do is essentially remove grades and then reverse the map, so it would look something like:</p>\n<pre><code>{x={group1}, y={group1, group3}, z={group2}, someAge={some list of groupN}}\n</code></pre>\n<p>I appreciate that the data may not make sense without context, but the problem remains the same. As it stands, I have a 3-nested for loops, but there must be a better way, since that would be very inefficient with a large dataset:</p>\n<pre><code>Map &lt;Integer, List&lt;String&gt;&gt; someMap = new HashMap&lt;&gt;();\n\nfor (var entry : data.entrySet()) {\n    for (var info : entry.getValue().entrySet()) {\n        if (info.getKey().equals(&quot;age&quot;)) {\n            List ages = info.getValue();\n            for (var age : ages) {\n                // if age not in someMap, add age as key // e.g add x so someMap={x={},y={}}\n                someMap.get(age).add(entry.getKey()) //e.g {x={entry key},y={}}\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there some kind of pre-processing I can do to remove grades which would cut the 2nd for loop in half at least, and remove the need to check if the key is 'age' each iteration.</p>\n"},{"tags":["java","project-reactor","socket-timeout-exception"],"owner":{"account_id":9705583,"reputation":765,"user_id":7199110,"accept_rate":42,"display_name":"tyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668015642,"creation_date":1667958863,"question_id":74369108,"body_markdown":"I get lots of events to process in RabbitMq and then those get forward to service 1 to process and after some processing the data, there is an internal call to a micro service2. However, I do get java.net.SocketTimeoutException: timeout frequently when I call service2, so I tried to increase timeout limit from 2s to 10 sec as a first trial and it did minimise the timeout exceptions but still lot of them are still there, \r\nsecond change I made is removal of deprecated retry method of spring and replace the same with retryWhen method with back off and jitter factor introduced as shown below \r\n\r\n    .retryWhen(Retry.backoff(ServiceUtils.NUM_RETRIES, Duration.ofSeconds(2)).jitter(0.50)\r\n                            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                                throw new ServiceException(\r\n                                        ErrorBo.builder()\r\n                                                .message(&quot;Service failed to process after max retries&quot;)\r\n                                                .build());\r\n                            }))\r\n                    .onErrorResume(error -&gt; {\r\n                        // return and print the error only if all the retries have been exhausted\r\n                        log.error(error.getMessage() + &quot;. Error occurred while generating pdf&quot;);\r\n                        return Mono.error(ServiceUtils\r\n                                .returnServiceException(ServiceErrorCodes.SERVICE_FAILURE,\r\n                                        String.format(&quot;Service failed to process after max retries, failed to generate PDF)));\r\n                    })\r\n            );\r\n\r\nSo my questions are,\r\n1. I do get success for few service call and for some failure, does it mean some where there is still bottle neck for processing the request may be at server side that is does not process all the request.\r\n2. Do I need to still increase timeout limit if possible \r\n3. How do I make sure that there is no java.net.SocketTimeoutException: timeout\r\n\r\nThis issue has started coming recently. and it seems there is no change in ports or any connection level changes.\r\nBut still what all things I should check in order to make sure the connection level setting are correct. Could someone please guide on this.\r\n\r\n\r\n\r\nThanks in advance.\r\n","title":"What should I try next in order to minimise/eliminate java.net.SocketTimeoutException: timeout spring retry","body":"<p>I get lots of events to process in RabbitMq and then those get forward to service 1 to process and after some processing the data, there is an internal call to a micro service2. However, I do get java.net.SocketTimeoutException: timeout frequently when I call service2, so I tried to increase timeout limit from 2s to 10 sec as a first trial and it did minimise the timeout exceptions but still lot of them are still there,\nsecond change I made is removal of deprecated retry method of spring and replace the same with retryWhen method with back off and jitter factor introduced as shown below</p>\n<pre><code>.retryWhen(Retry.backoff(ServiceUtils.NUM_RETRIES, Duration.ofSeconds(2)).jitter(0.50)\n                        .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                            throw new ServiceException(\n                                    ErrorBo.builder()\n                                            .message(&quot;Service failed to process after max retries&quot;)\n                                            .build());\n                        }))\n                .onErrorResume(error -&gt; {\n                    // return and print the error only if all the retries have been exhausted\n                    log.error(error.getMessage() + &quot;. Error occurred while generating pdf&quot;);\n                    return Mono.error(ServiceUtils\n                            .returnServiceException(ServiceErrorCodes.SERVICE_FAILURE,\n                                    String.format(&quot;Service failed to process after max retries, failed to generate PDF)));\n                })\n        );\n</code></pre>\n<p>So my questions are,</p>\n<ol>\n<li>I do get success for few service call and for some failure, does it mean some where there is still bottle neck for processing the request may be at server side that is does not process all the request.</li>\n<li>Do I need to still increase timeout limit if possible</li>\n<li>How do I make sure that there is no java.net.SocketTimeoutException: timeout</li>\n</ol>\n<p>This issue has started coming recently. and it seems there is no change in ports or any connection level changes.\nBut still what all things I should check in order to make sure the connection level setting are correct. Could someone please guide on this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","date","datetime","compare"],"comments":[{"owner":{"account_id":4618313,"reputation":2530,"user_id":3744059,"accept_rate":35,"display_name":"bumbumpaw"},"score":1,"creation_date":1405654944,"post_id":24816853,"comment_id":38524742,"body_markdown":"work around with this format http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"work around with this format <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"},{"owner":{"account_id":3765055,"reputation":4487,"user_id":3128784,"accept_rate":42,"display_name":"Aniruddha"},"score":1,"creation_date":1405655001,"post_id":24816853,"comment_id":38524755,"body_markdown":"Check out this one http://www.mkyong.com/java/how-to-compare-dates-in-java/","body":"Check out this one <a href=\"http://www.mkyong.com/java/how-to-compare-dates-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-compare-dates-in-java</a>"}],"answers":[{"comments":[{"owner":{"account_id":429767,"reputation":12856,"user_id":812837,"accept_rate":100,"display_name":"Clockwork-Muse"},"score":2,"creation_date":1405657437,"post_id":24817132,"comment_id":38525267,"body_markdown":"You forgot that 1) The incoming date might also be midnight (so, equal - unfortunately you can&#39;t use the `.equals(...)` method due to it considering things like timezone, you&#39;d need `compareTo(...)` , which would also allow you to do the comparison in one go), 2) that timestamps have fractional seconds.","body":"You forgot that 1) The incoming date might also be midnight (so, equal - unfortunately you can&#39;t use the <code>.equals(...)</code> method due to it considering things like timezone, you&#39;d need <code>compareTo(...)</code> , which would also allow you to do the comparison in one go), 2) that timestamps have fractional seconds."},{"owner":{"account_id":160502,"reputation":360,"user_id":380611,"display_name":"fipple"},"score":1,"creation_date":1405658978,"post_id":24817132,"comment_id":38525600,"body_markdown":"Thanks for the feedback. I&#39;ve made a couple of edits to the code.  Calendar.HOUR was a typo, should have been Calendar.HOUR_OF_DAY.  Now using compareTo on Calendar for the date comparison.  I also cleared the milliseconds on the midnight value.","body":"Thanks for the feedback. I&#39;ve made a couple of edits to the code.  Calendar.HOUR was a typo, should have been Calendar.HOUR_OF_DAY.  Now using compareTo on Calendar for the date comparison.  I also cleared the milliseconds on the midnight value."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1546032308,"post_id":24817132,"comment_id":94766632,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":160502,"reputation":360,"user_id":380611,"display_name":"fipple"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1405658826,"creation_date":1405656884,"answer_id":24817132,"question_id":24816853,"body_markdown":"        final String stringDate = &quot;2014-07-17 23:59&quot;;\r\n\r\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n        Date date = inputFormat.parse(stringDate);\r\n\r\n        Calendar calendarDate = Calendar.getInstance();\r\n        calendarDate.setTime(date);\r\n\r\n        Calendar midnight = Calendar.getInstance();\r\n        midnight.set(Calendar.HOUR_OF_DAY, 0);\r\n        midnight.set(Calendar.MINUTE, 0);\r\n        midnight.set(Calendar.SECOND, 0);\r\n        midnight.set(Calendar.MILLISECOND, 0);\r\n\r\n        if (calendarDate.compareTo(midnight) &gt;= 0)\r\n        {\r\n            SimpleDateFormat timeFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n            System.out.println(timeFormat.format(date));\r\n        }\r\n        else\r\n        {\r\n            SimpleDateFormat dateTimeForm = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;);\r\n            System.out.println(dateTimeForm.format(date));\r\n        }","title":"Comparing string date with today&#39;s date","body":"<pre><code>    final String stringDate = \"2014-07-17 23:59\";\n\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm\");\n    Date date = inputFormat.parse(stringDate);\n\n    Calendar calendarDate = Calendar.getInstance();\n    calendarDate.setTime(date);\n\n    Calendar midnight = Calendar.getInstance();\n    midnight.set(Calendar.HOUR_OF_DAY, 0);\n    midnight.set(Calendar.MINUTE, 0);\n    midnight.set(Calendar.SECOND, 0);\n    midnight.set(Calendar.MILLISECOND, 0);\n\n    if (calendarDate.compareTo(midnight) &gt;= 0)\n    {\n        SimpleDateFormat timeFormat = new SimpleDateFormat(\"HH:mm\");\n        System.out.println(timeFormat.format(date));\n    }\n    else\n    {\n        SimpleDateFormat dateTimeForm = new SimpleDateFormat(\"dd/MM/yyyy HH:mm\");\n        System.out.println(dateTimeForm.format(date));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546032452,"creation_date":1476236225,"answer_id":39989220,"question_id":24816853,"body_markdown":"# `LocalDateTime`\r\n\r\nFirst parse the string as a [`LocalDateTime`][1]. Replace the SPACE in the middle with `T` to comply with standard ISO 8601 format. The java.time classes support ISO 8601 formats by default.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse ( &quot;2014-06-30 15:27&quot;.replace ( &quot; &quot; , &quot;T&quot; ) );\r\n\r\n&gt;ldt.toString(): 2014-06-30T15:27\r\n\r\nSuch a value has no real meaning. The input string lacked any clue about offset-from-UTC or time zone. So we do not know if this is 3 PM in Auckland NZ or 3 PM in Qu&#233;bec Canada, two very different moments. You should to assign the offset or time zone indicated by your business situation. Search Stack Overflow for how to do this, focussing on classes `OffsetDateTime` and `ZonedDateTime`. I&#39;ll skip over this crucial issue for now.\r\n\r\n# `LocalDate`\r\n\r\nExtract a date-only value. The [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\n    LocalDate ld = ldt.toLocalDate();\r\n\r\n# Today\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still yesterday in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# Comparison\r\n\r\nYou can compare [`LocalDate`][2] objects by calling methods such as `compareTo`, `equals`, `isEqual`, `isBefore`, `isAfter`.\r\n\r\n    if( today.isEqual( ld ) ) {\r\n        return ldt.toLocalTime();\r\n    } else {\r\n        return ld;\r\n    }\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html","title":"Comparing string date with today&#39;s date","body":"<h1><code>LocalDateTime</code></h1>\n\n<p>First parse the string as a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>. Replace the SPACE in the middle with <code>T</code> to comply with standard ISO 8601 format. The java.time classes support ISO 8601 formats by default.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse ( \"2014-06-30 15:27\".replace ( \" \" , \"T\" ) );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString(): 2014-06-30T15:27</p>\n</blockquote>\n\n<p>Such a value has no real meaning. The input string lacked any clue about offset-from-UTC or time zone. So we do not know if this is 3 PM in Auckland NZ or 3 PM in Qubec Canada, two very different moments. You should to assign the offset or time zone indicated by your business situation. Search Stack Overflow for how to do this, focussing on classes <code>OffsetDateTime</code> and <code>ZonedDateTime</code>. I'll skip over this crucial issue for now.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>Extract a date-only value. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<pre><code>LocalDate ld = ldt.toLocalDate();\n</code></pre>\n\n<h1>Today</h1>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still yesterday in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montral Qubec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1>Comparison</h1>\n\n<p>You can compare <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> objects by calling methods such as <code>compareTo</code>, <code>equals</code>, <code>isEqual</code>, <code>isBefore</code>, <code>isAfter</code>.</p>\n\n<pre><code>if( today.isEqual( ld ) ) {\n    return ldt.toLocalTime();\n} else {\n    return ld;\n}\n</code></pre>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":3669306,"reputation":421,"user_id":3056868,"display_name":"Howard J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547745339,"creation_date":1546024711,"answer_id":53963322,"question_id":24816853,"body_markdown":"Simply use the Date class...\r\n\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date exitdate = df.parse(&quot;2019-01-17&quot;);\r\n    Date currdate = new Date();\r\n    long diff = currdate.getTime() - exitdate.getTime();\r\n    long days = TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\r\n    \r\n    if(days==0)\r\n    {\r\n    \tSystem.out.println(&quot;IS TRUE&quot;+currdate.toString());\r\n    \treturn true;\r\n    }","title":"Comparing string date with today&#39;s date","body":"<p>Simply use the Date class...</p>\n\n<pre><code>SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\nDate exitdate = df.parse(\"2019-01-17\");\nDate currdate = new Date();\nlong diff = currdate.getTime() - exitdate.getTime();\nlong days = TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\n\nif(days==0)\n{\n    System.out.println(\"IS TRUE\"+currdate.toString());\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668016228,"post_id":74379092,"comment_id":131307527,"body_markdown":"Still clearer to read: `paresedStringDate.isEqual(currentDate)`.","body":"Still clearer to read: <code>paresedStringDate.isEqual(currentDate)</code>."}],"tags":[],"owner":{"account_id":16648394,"reputation":41,"user_id":12032079,"display_name":"Waqas Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668015236,"creation_date":1668015236,"answer_id":74379092,"question_id":24816853,"body_markdown":"As the `java.time` library is the recommended way to use date and time. So, to compare current date with a string date you need to first convert date in string format to `java.time.LocalDate` :\r\n\r\n    LocalDate paresedStringDate = LocalDate.parse(&quot;2022-11-10&quot;);\r\n\r\nAfter that you can get the current date using below code:\r\n\r\n    LocalDate currentDate = LocalDate.now();\r\n\r\nAnd then you can compare both the current date and parsed string date to check if both are same using below code:\r\n\r\n    if (paresedStringDate.compareTo(currentDate) == 0) {\r\n       //do what you want to do here\r\n    }","title":"Comparing string date with today&#39;s date","body":"<p>As the <code>java.time</code> library is the recommended way to use date and time. So, to compare current date with a string date you need to first convert date in string format to <code>java.time.LocalDate</code> :</p>\n<pre><code>LocalDate paresedStringDate = LocalDate.parse(&quot;2022-11-10&quot;);\n</code></pre>\n<p>After that you can get the current date using below code:</p>\n<pre><code>LocalDate currentDate = LocalDate.now();\n</code></pre>\n<p>And then you can compare both the current date and parsed string date to check if both are same using below code:</p>\n<pre><code>if (paresedStringDate.compareTo(currentDate) == 0) {\n   //do what you want to do here\n}\n</code></pre>\n"}],"owner":{"account_id":1555074,"reputation":622,"user_id":1446458,"accept_rate":87,"display_name":"sok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16596,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24817132,"answer_count":4,"score":3,"last_activity_date":1668015236,"creation_date":1405654762,"question_id":24816853,"body_markdown":"So I have a string which is &quot;2014-06-30 15:27&quot; and if it is today&#39;s date it should only return &quot;15:27&quot; else &quot;30/06/2014&quot;. I&#39;ve already tried simpleDateFormat.parse but it didn&#39;t work very well. \r\n\r\n    holder.data.setText(mensagem.getDate());","title":"Comparing string date with today&#39;s date","body":"<p>So I have a string which is \"2014-06-30 15:27\" and if it is today's date it should only return \"15:27\" else \"30/06/2014\". I've already tried simpleDateFormat.parse but it didn't work very well. </p>\n\n<pre><code>holder.data.setText(mensagem.getDate());\n</code></pre>\n"},{"tags":["java","postgresql","quarkus"],"answers":[{"comments":[{"owner":{"account_id":22063378,"reputation":67,"user_id":16325639,"display_name":"Veera"},"score":0,"creation_date":1657263517,"post_id":72898834,"comment_id":128773739,"body_markdown":"I don&#39;t have application.properties file.  quarkus-jdbc-postgresql this extension has in build.gradle file. like this \nimplementation &#39;io.quarkus:quarkus-jdbc-postgresql&#39;","body":"I don&#39;t have application.properties file.  quarkus-jdbc-postgresql this extension has in build.gradle file. like this  implementation &#39;io.quarkus:quarkus-jdbc-postgresql&#39;"}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657201039,"creation_date":1657201039,"answer_id":72898834,"question_id":72898457,"body_markdown":"Are you sure you don&#39;t have configuration properties coming from another source such as environment variables, an application.properties or a `.env` file?\r\n\r\nBecause Quarkus is complaining about `quarkus.datasource.url` being present and you don&#39;t have it in your YAML file. So it must come from somewhere else.\r\n\r\nSomething like that should be enough if you have the `quarkus-jdbc-postgresql` extension around:\r\n\r\n```yaml\r\nquarkus:\r\n  datasource:\r\n    db-kind: postgresql\r\n    username: username\r\n    password: password\r\n    jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      max-size: 10\r\n```","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>Are you sure you don't have configuration properties coming from another source such as environment variables, an application.properties or a <code>.env</code> file?</p>\n<p>Because Quarkus is complaining about <code>quarkus.datasource.url</code> being present and you don't have it in your YAML file. So it must come from somewhere else.</p>\n<p>Something like that should be enough if you have the <code>quarkus-jdbc-postgresql</code> extension around:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>quarkus:\n  datasource:\n    db-kind: postgresql\n    username: username\n    password: password\n    jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      max-size: 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16887399,"reputation":624,"user_id":12211826,"display_name":"bigLucas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668015162,"creation_date":1668015162,"answer_id":74379078,"question_id":72898457,"body_markdown":"I was facing the same error during a Quarkus course and I fixed it by adding some configs... \r\n\r\n**So the error message is giving us 3 options**:\r\n\r\n&gt; Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind &#39;postgresql&#39; for the default datasource. **Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource** by adding &#39;quarkus.datasource.jdbc=false&#39; to your configuration if you don&#39;t need it.\r\n\r\nSo I manually added this `quarkus.datasource.jdbc.driver=org.postgresql.Driver` to my `application.properties`. \r\n\r\n**In your case I believe you have to update your file to this:**\r\n\r\n```yml\r\ndatasource:\r\n db-kind: postgresql\r\n # driver: org.postgresql.Driver\r\n username: username\r\n password: password\r\n\r\n jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      driver: org.postgresql.Driver\r\n      max-size: 10\r\n```\r\n\r\n*Note:* In addition to that I also added the `quarkus-agroal` dependency to my `pom.xml` file and set the hibernate dialect, with this: `quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQL95Dialect`.","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>I was facing the same error during a Quarkus course and I fixed it by adding some configs...</p>\n<p><strong>So the error message is giving us 3 options</strong>:</p>\n<blockquote>\n<p>Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind 'postgresql' for the default datasource. <strong>Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource</strong> by adding 'quarkus.datasource.jdbc=false' to your configuration if you don't need it.</p>\n</blockquote>\n<p>So I manually added this <code>quarkus.datasource.jdbc.driver=org.postgresql.Driver</code> to my <code>application.properties</code>.</p>\n<p><strong>In your case I believe you have to update your file to this:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n db-kind: postgresql\n # driver: org.postgresql.Driver\n username: username\n password: password\n\n jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      driver: org.postgresql.Driver\n      max-size: 10\n</code></pre>\n<p><em>Note:</em> In addition to that I also added the <code>quarkus-agroal</code> dependency to my <code>pom.xml</code> file and set the hibernate dialect, with this: <code>quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQL95Dialect</code>.</p>\n"}],"owner":{"account_id":22063378,"reputation":67,"user_id":16325639,"display_name":"Veera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668015162,"creation_date":1657199532,"question_id":72898457,"body_markdown":"Getting this error when i run ./gradlew build -Dquarkus.package.type=native\r\n\r\nin application.yml file\r\nin \r\n```\r\ndatasource:\r\n db-kind: postgresql\r\n driver: org.postgresql.Driver\r\n username: username\r\n password: password\r\n\r\n jdbc:\r\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\r\n      max-size: 10\r\n```\r\n\r\n```\r\n[error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind &#39;postgresql&#39; for the default datasource. Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource by adding &#39;quarkus.datasource.jdbc=false&#39; to your configuration if you don&#39;t need it.\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.resolveDriver(AgroalProcessor.java:330)\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.getAggregatedConfigBuildItems(AgroalProcessor.java:276)\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:82)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nAfter getting this error i inserted `driver: org.postgresql.Driver`\r\n\r\n```\r\n&gt; io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: quarkus.datasource.url and quarkus.datasource.driver have been deprecated in Quarkus 1.3 and removed in 1.9. Please use the new datasource configuration as explained in https://quarkus.io/guides/datasource.\r\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:77)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\nAny suggestions for this\r\n","title":"io.quarkus.builder.BuildException: Build failure: Build failed due to errors","body":"<p>Getting this error when i run ./gradlew build -Dquarkus.package.type=native</p>\n<p>in application.yml file\nin</p>\n<pre><code>datasource:\n db-kind: postgresql\n driver: org.postgresql.Driver\n username: username\n password: password\n\n jdbc:\n      url: jdbc:postgresql://postgres_host_name:port/data_basename\n      max-size: 10\n</code></pre>\n<pre><code>[error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: Unable to find a JDBC driver corresponding to the database kind 'postgresql' for the default datasource. Either provide a suitable JDBC driver extension, define the driver manually, or disable the JDBC datasource by adding 'quarkus.datasource.jdbc=false' to your configuration if you don't need it.\n        at io.quarkus.agroal.deployment.AgroalProcessor.resolveDriver(AgroalProcessor.java:330)\n        at io.quarkus.agroal.deployment.AgroalProcessor.getAggregatedConfigBuildItems(AgroalProcessor.java:276)\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:82)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>After getting this error i inserted <code>driver: org.postgresql.Driver</code></p>\n<pre><code>&gt; io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.agroal.deployment.AgroalProcessor#build threw an exception: io.quarkus.runtime.configuration.ConfigurationException: quarkus.datasource.url and quarkus.datasource.driver have been deprecated in Quarkus 1.3 and removed in 1.9. Please use the new datasource configuration as explained in https://quarkus.io/guides/datasource.\n        at io.quarkus.agroal.deployment.AgroalProcessor.build(AgroalProcessor.java:77)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:944)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>Any suggestions for this</p>\n"},{"tags":["java","maven","azure-devops","azure-pipelines","azure-artifacts"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1668012535,"post_id":74378239,"comment_id":131306140,"body_markdown":"Can you share your pom?","body":"Can you share your pom?"},{"owner":{"account_id":221199,"reputation":5819,"user_id":479045,"accept_rate":62,"display_name":"Viktor Eriksson"},"score":0,"creation_date":1668013055,"post_id":74378239,"comment_id":131306351,"body_markdown":"Added the poms. I noticed that the username doesnt seem to be taken into consideration. I can change the username in settings.xml to whatever I want and it still works when build locally. I can even change it to AzureDevOps and it still works. I guess the password/token is what really matters.","body":"Added the poms. I noticed that the username doesnt seem to be taken into consideration. I can change the username in settings.xml to whatever I want and it still works when build locally. I can even change it to AzureDevOps and it still works. I guess the password/token is what really matters."}],"owner":{"account_id":221199,"reputation":5819,"user_id":479045,"accept_rate":62,"display_name":"Viktor Eriksson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668014106,"creation_date":1668011139,"question_id":74378239,"body_markdown":"I have this project (A) in devops that builds and publishes a library(.jar) to the projects artifacts feed. Then I have this other project(B) where I have a Java application which references this library. \r\n\r\nWhen running locally it works, it can connect to the repository and download the library, I have set up settings.xml so the authentication works to the feed.\r\n\r\nBut when running the build inside the pipeline which builds the java-application it is unable to find the artifact. First I got a 401 before realizing the maven-authenticate-task. After adding maven authenticate the 401 is gone but it keeps saying it cant find the artifact.\r\n\r\nThis is part of the log:\r\n\r\n    [DEBUG] Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=AzureDevOps, password=***\r\n    Downloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    [DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\r\n    Downloading from central: https://repo.maven.apache.org/maven2/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    [DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\r\n    [WARNING] The POM for com.company.maximo-requests:maximo-requests:jar:0.0.81 is missing, no dependency information available\r\n\r\n\r\nIf I click the link to the pom in the log: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom it is downloaded in the browser, so the file exists.\r\n\r\nAnd when running locally this is the log:\r\n\r\n    Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\r\n    [DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\r\n    [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=CompanyDevOps, password=***\r\n    Downloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\r\n    Downloaded from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 1.8 kB/s)\r\n    [DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\_remote.repositories\r\n    [DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\maximo-requests-0.0.81.pom.lastUpdated\r\n\r\n\r\nThe only difference I see is that username is AzureDevOps in the pipeline, probably generated by the maven authenticate task while the other one is a personal access token generated from within azure devops.\r\n\r\n\r\nI have also added permissions to the feed in project A to the build service of project B according to this page: https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mQAgz.png\r\n\r\nBut despite all this maven still outputs this at the end:\r\n \r\n\r\n    Failed to execute goal on project elinstallation: Could not resolve dependencies for project com.company.elinstallation:elinstallation:war:2.0.8-4-g0f575ca: Could not find artifact com.company.maximo-requests:maximo-requests:jar:0.0.81 in CompanyCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/BolidenCommon/maven/v1) -&gt; [Help 1]\r\n\r\nWhat am I doing wrong? :&#39;(\r\n\r\n\r\nUpdate.\r\nHere is Application B&#39;s Pom or at least the interesting parts I guess:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t....\r\n    \t&lt;dependencies&gt;\r\n    \t\t......\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.81&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;CompanyCommon&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;\r\n    \t\t\t\thttps://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n    \t\t\t&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n\r\n\r\nAnd here is library A&#39;s pom (interesting parts):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.81&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n           ...\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;CompanyCommon&lt;/id&gt;\r\n                &lt;url&gt;\r\n                    https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n                &lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/distributionManagement&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;CompanyCommon&lt;/id&gt;\r\n                &lt;url&gt;\r\n                    https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\r\n                &lt;/url&gt;\r\n                &lt;releases&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/releases&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMore Updates! pju this is a long post.\r\n\r\nHere is the last output when building the library A:\r\n\r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.jar (122 kB at 97 kB/s)           \r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 3.5 kB/s)\r\n    Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/maven-metadata.xml (2.6 kB at 31 kB/s)\r\n\r\n\r\n\r\nHere is an excerpt of library A&#39;s pipeline:\r\n\r\n    - task: MavenAuthenticate@0\r\n      inputs:\r\n        artifactsFeeds: &#39;CompanyCommon&#39;\r\n    - task: Maven@3\r\n      inputs:\r\n        mavenPomFile: &#39;pom.xml&#39;\r\n        publishJUnitResults: false\r\n        goals: &#39;package deploy&#39;\r\n        testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        mavenVersionOption: &#39;Default&#39;\r\n        mavenAuthenticateFeed: false\r\n        effectivePomSkip: false\r\n        sonarQubeRunAnalysis: false\r\n        options: &#39;-DskipTests=true&#39;\r\n\r\n\r\nHere is an excerpt of application B&#39;s pipeline:\r\n\r\n      - task: MavenAuthenticate@0\r\n        inputs:\r\n         artifactsFeeds: &#39;CompanyCommon&#39;    \r\n    \r\n      - task: Maven@3\r\n        inputs:\r\n          mavenPomFile: &#39;pom.xml&#39;\r\n          publishJUnitResults: true\r\n          testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n          javaHomeOption: &#39;JDKVersion&#39;\r\n          mavenVersionOption: &#39;Default&#39;\r\n          mavenAuthenticateFeed: false\r\n          effectivePomSkip: false\r\n          sonarQubeRunAnalysis: false\r\n\r\nI have tried with both mavenAuthenticateFeed: true/false.","title":"How to reference a library published in its artifacts feed from another project?","body":"<p>I have this project (A) in devops that builds and publishes a library(.jar) to the projects artifacts feed. Then I have this other project(B) where I have a Java application which references this library.</p>\n<p>When running locally it works, it can connect to the repository and download the library, I have set up settings.xml so the authentication works to the feed.</p>\n<p>But when running the build inside the pipeline which builds the java-application it is unable to find the artifact. First I got a 401 before realizing the maven-authenticate-task. After adding maven authenticate the 401 is gone but it keeps saying it cant find the artifact.</p>\n<p>This is part of the log:</p>\n<pre><code>[DEBUG] Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=AzureDevOps, password=***\nDownloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\n[DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://repo.maven.apache.org/maven2\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\nDownloading from central: https://repo.maven.apache.org/maven2/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\n[DEBUG] Writing tracking file /home/vsts/.m2/repository/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom.lastUpdated\n[WARNING] The POM for com.company.maximo-requests:maximo-requests:jar:0.0.81 is missing, no dependency information available\n</code></pre>\n<p>If I click the link to the pom in the log: <a href=\"https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\" rel=\"nofollow noreferrer\">https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom</a> it is downloaded in the browser, so the file exists.</p>\n<p>And when running locally this is the log:</p>\n<pre><code>Resolving artifact com.company.maximo-requests:maximo-requests:pom:0.0.81 from [ProjectCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1, default, releases+snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1 with username=CompanyDevOps, password=***\nDownloading from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom\nDownloaded from ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 1.8 kB/s)\n[DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\_remote.repositories\n[DEBUG] Writing tracking file C:\\Users\\veriksso\\.m2\\repository\\com\\company\\maximo-requests\\maximo-requests\\0.0.81\\maximo-requests-0.0.81.pom.lastUpdated\n</code></pre>\n<p>The only difference I see is that username is AzureDevOps in the pipeline, probably generated by the maven authenticate task while the other one is a personal access token generated from within azure devops.</p>\n<p>I have also added permissions to the feed in project A to the build service of project B according to this page: <a href=\"https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/devops/artifacts/feeds/feed-permissions?view=azure-devops#pipelines-permissions</a>.\n<a href=\"https://i.stack.imgur.com/mQAgz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQAgz.png\" alt=\"enter image description here\" /></a></p>\n<p>But despite all this maven still outputs this at the end:</p>\n<pre><code>Failed to execute goal on project elinstallation: Could not resolve dependencies for project com.company.elinstallation:elinstallation:war:2.0.8-4-g0f575ca: Could not find artifact com.company.maximo-requests:maximo-requests:jar:0.0.81 in CompanyCommon (https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/BolidenCommon/maven/v1) -&gt; [Help 1]\n</code></pre>\n<p>What am I doing wrong? :'(</p>\n<p>Update.\nHere is Application B's Pom or at least the interesting parts I guess:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ....\n    &lt;dependencies&gt;\n        ......\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\n            &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\n            &lt;version&gt;0.0.81&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>And here is library A's pom (interesting parts):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.company.maximo-requests&lt;/groupId&gt;\n    &lt;artifactId&gt;maximo-requests&lt;/artifactId&gt;\n    &lt;version&gt;0.0.81&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n       ...\n    &lt;/dependencies&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;CompanyCommon&lt;/id&gt;\n            &lt;url&gt;\n                https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/CompanyCommon/maven/v1\n            &lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>More Updates! pju this is a long post.</p>\n<p>Here is the last output when building the library A:</p>\n<pre><code>Uploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.jar (122 kB at 97 kB/s)           \nUploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/0.0.81/maximo-requests-0.0.81.pom (3.6 kB at 3.5 kB/s)\nUploaded to ProjectCommon: https://pkgs.dev.azure.com/CompanyDevOps/4a4b82f8-***/_packaging/ProjectCommon/maven/v1/com/company/maximo-requests/maximo-requests/maven-metadata.xml (2.6 kB at 31 kB/s)\n</code></pre>\n<p>Here is an excerpt of library A's pipeline:</p>\n<pre><code>- task: MavenAuthenticate@0\n  inputs:\n    artifactsFeeds: 'CompanyCommon'\n- task: Maven@3\n  inputs:\n    mavenPomFile: 'pom.xml'\n    publishJUnitResults: false\n    goals: 'package deploy'\n    testResultsFiles: '**/surefire-reports/TEST-*.xml'\n    javaHomeOption: 'JDKVersion'\n    mavenVersionOption: 'Default'\n    mavenAuthenticateFeed: false\n    effectivePomSkip: false\n    sonarQubeRunAnalysis: false\n    options: '-DskipTests=true'\n</code></pre>\n<p>Here is an excerpt of application B's pipeline:</p>\n<pre><code>  - task: MavenAuthenticate@0\n    inputs:\n     artifactsFeeds: 'CompanyCommon'    \n\n  - task: Maven@3\n    inputs:\n      mavenPomFile: 'pom.xml'\n      publishJUnitResults: true\n      testResultsFiles: '**/surefire-reports/TEST-*.xml'\n      javaHomeOption: 'JDKVersion'\n      mavenVersionOption: 'Default'\n      mavenAuthenticateFeed: false\n      effectivePomSkip: false\n      sonarQubeRunAnalysis: false\n</code></pre>\n<p>I have tried with both mavenAuthenticateFeed: true/false.</p>\n"},{"tags":["java","docker","dockerfile","jlink"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667940096,"post_id":74366634,"comment_id":131287089,"body_markdown":"I ran into a similar issue using JPackage (which internally calls JLink). Maybe the solution given to me helps you as well? https://stackoverflow.com/questions/71924648/jpackage-for-only-one-application","body":"I ran into a similar issue using JPackage (which internally calls JLink). Maybe the solution given to me helps you as well? <a href=\"https://stackoverflow.com/questions/71924648/jpackage-for-only-one-application\" title=\"jpackage for only one application\">stackoverflow.com/questions/71924648/&hellip;</a>"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1667940632,"post_id":74366634,"comment_id":131287277,"body_markdown":"I have tried to remove `--strip-debug --no-header-files --no-man-pages --compress` from jlink arguments but still the same :(","body":"I have tried to remove <code>--strip-debug --no-header-files --no-man-pages --compress</code> from jlink arguments but still the same :("}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014076,"creation_date":1668014076,"answer_id":74378828,"question_id":74366634,"body_markdown":"I&#39;ve got the solution changing the first stage image to `alpine-based` image as follow\r\n\r\n```bash\r\n# using image on alpine-based\r\nFROM gradle:7.5.1-jdk17-alpine As build\r\n\r\nWORKDIR /build\r\n\r\nCOPY my-source my-source\r\n\r\n# install required packages\r\nRUN apk update &amp;&amp; apk add gcompat binutils\r\n\r\nRUN gradle -p my-source clean build\r\n\r\nRUN jlink \\\r\n    --module-path /opt/java/openjdk/jmods \\\r\n    --add-modules $(jdeps --ignore-missing-deps --print-module-deps --multi-release 17 my-source/build/libs/*.jar ) \\\r\n    --output jre-custom \\\r\n    --strip-debug \\\r\n    --no-header-files \\\r\n    --no-man-pages \\\r\n    --compress 2\r\n\t\r\n# reduce image size a little bit more (-4MB)\r\nRUN strip -p --strip-unneeded jre-custom/lib/server/libjvm.so &amp;&amp; \\\r\n   find jre-custom -name &#39;*.so&#39; | xargs -i strip -p --strip-unneeded {}\r\n\r\nFROM alpine:latest\r\nWORKDIR /deployment\r\n\r\nCOPY --from=build /build/jre-custom jre-custom/\r\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\r\n\r\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \r\n  \r\nEXPOSE 3009\r\n\r\n```","title":"java command is not found using jlink in docker alpine","body":"<p>I've got the solution changing the first stage image to <code>alpine-based</code> image as follow</p>\n<pre class=\"lang-bash prettyprint-override\"><code># using image on alpine-based\nFROM gradle:7.5.1-jdk17-alpine As build\n\nWORKDIR /build\n\nCOPY my-source my-source\n\n# install required packages\nRUN apk update &amp;&amp; apk add gcompat binutils\n\nRUN gradle -p my-source clean build\n\nRUN jlink \\\n    --module-path /opt/java/openjdk/jmods \\\n    --add-modules $(jdeps --ignore-missing-deps --print-module-deps --multi-release 17 my-source/build/libs/*.jar ) \\\n    --output jre-custom \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --compress 2\n    \n# reduce image size a little bit more (-4MB)\nRUN strip -p --strip-unneeded jre-custom/lib/server/libjvm.so &amp;&amp; \\\n   find jre-custom -name '*.so' | xargs -i strip -p --strip-unneeded {}\n\nFROM alpine:latest\nWORKDIR /deployment\n\nCOPY --from=build /build/jre-custom jre-custom/\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\n\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \n  \nEXPOSE 3009\n\n</code></pre>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668014076,"creation_date":1667938395,"question_id":74366634,"body_markdown":"I&#39;m using `jlink` to create a customized JRE to be used in docker\r\n\r\n```bash\r\n\r\nFROM gradle:7.5.1-jdk17-jammy As build\r\n\r\nWORKDIR /build\r\n\r\nCOPY my-source my-source\r\n\r\nRUN cd my-source &amp;&amp; gradle clean build\r\n\r\nRUN jlink \\\r\n    --module-path /... \\\r\n    --add-modules ... \\\r\n    --output jre-custom \\\r\n    --strip-debug \\\r\n    --no-header-files \\\r\n    --no-man-pages \\\r\n    --compress 2\r\n\r\nFROM alpine:latest\r\nWORKDIR /deployment\r\n\r\nCOPY --from=build /build/jre-custom jre-custom/\r\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\r\n\r\n# ERROR at line bellow: /bin/sh: jre-custom/bin/java: not found\r\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \r\n  \r\nEXPOSE 3009\r\n\r\n```\r\n\r\nWhen I&#39;m running `jre-custom/bin/java -version` in `alpine` image I&#39;ve got:\r\n```bash\r\n /bin/sh: jre-custom/bin/java: not found\r\n```\r\n\r\nIs there anything in alpine image to be installed?\r\n\r\nNOTE: I can run `jre-custom/bin/java -version` in first stage docker successfully.","title":"java command is not found using jlink in docker alpine","body":"<p>I'm using <code>jlink</code> to create a customized JRE to be used in docker</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\nFROM gradle:7.5.1-jdk17-jammy As build\n\nWORKDIR /build\n\nCOPY my-source my-source\n\nRUN cd my-source &amp;&amp; gradle clean build\n\nRUN jlink \\\n    --module-path /... \\\n    --add-modules ... \\\n    --output jre-custom \\\n    --strip-debug \\\n    --no-header-files \\\n    --no-man-pages \\\n    --compress 2\n\nFROM alpine:latest\nWORKDIR /deployment\n\nCOPY --from=build /build/jre-custom jre-custom/\nCOPY --from=build /build/my-source/build/libs/*.jar build/app.jar\n\n# ERROR at line bellow: /bin/sh: jre-custom/bin/java: not found\nCMD [&quot;jre-custom/bin/java&quot;,&quot;-jar&quot;,&quot;build/app.jar&quot;] \n  \nEXPOSE 3009\n\n</code></pre>\n<p>When I'm running <code>jre-custom/bin/java -version</code> in <code>alpine</code> image I've got:</p>\n<pre class=\"lang-bash prettyprint-override\"><code> /bin/sh: jre-custom/bin/java: not found\n</code></pre>\n<p>Is there anything in alpine image to be installed?</p>\n<p>NOTE: I can run <code>jre-custom/bin/java -version</code> in first stage docker successfully.</p>\n"},{"tags":["java","android","scala","sbt"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668022434,"post_id":74378822,"comment_id":131309490,"body_markdown":"Java version should be defined outside of SBT. Via JAVA_HOME for instance. Or directly on the CLI when running SBT with something like `sbt -java-home=...` (not sure about the name of the argument, documentation should help).","body":"Java version should be defined outside of SBT. Via JAVA_HOME for instance. Or directly on the CLI when running SBT with something like <code>sbt -java-home=...</code> (not sure about the name of the argument, documentation should help)."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1668022497,"post_id":74378822,"comment_id":131309503,"body_markdown":"Note that the version SBT runs can be different than the version your project runs/compiles for though.","body":"Note that the version SBT runs can be different than the version your project runs/compiles for though."},{"owner":{"account_id":5331553,"reputation":11,"user_id":4251999,"display_name":"Raul-Angel Garc&#237;a"},"score":0,"creation_date":1668074475,"post_id":74378822,"comment_id":131320691,"body_markdown":"Thank you very much, -Ga&#233;l,\nsbt --java-home /path/to/my/jkd1.8.0_202 worked perfect for me!!\nKisses, zanks a lot, :)","body":"Thank you very much, -Ga&#233;l, sbt --java-home /path/to/my/jkd1.8.0_202 worked perfect for me!! Kisses, zanks a lot, :)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668074832,"post_id":74378822,"comment_id":131320826,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5331553,"reputation":11,"user_id":4251999,"display_name":"Raul-Angel Garc&#237;a"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668014066,"creation_date":1668014066,"question_id":74378822,"body_markdown":"For compatibility reasons with Android plugin for sbt and Scala, I have to use an old version of sbt, working with a JDK of a version not upper than 1.8.X....\r\nMy project/build.properties contents is,\r\n```\r\n`sbt.version=0.13.18\r\njava.home=/path/to/my/jdk1.8.0_202/jre`\r\n```\r\n\r\nThe result is that first line works, but the seccond (line for the supposed Java Home configuration...) doesn&#39;t make my desired effect\r\n&#191;Are there a command (for project/build.properties or perhaps another configuration place...), in what could I define de JDK version **for working in conjunction with** my sbt 0.13...?\r\n\r\n\r\nI tried to put in my build.sbt,\r\n\r\n`val java8Version: Option[File] = Option(file(&quot;/path/to/my/jdk1.8.0_202/jre&quot;))\r\n\r\njavaHome := java8Version`\r\n\r\nBut, when I try,\r\n`~/path/to/my/project$ sbt`\r\n\r\nThe output when sbt starts is,\r\n`[info] Loading global plugins from /path/to/my/.sbt/0.13/plugins\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by sbt.ivyint.ErrorMessageAuthenticator$ (file:/path/to/my/.sbt/boot/scala-2.10.7/org.scala-sbt/sbt/0.13.18/ivy-0.13.18.jar) to field java.net.Authenticator.theAuthenticator\r\nWARNING: Please consider reporting this to the maintainers of sbt.ivyint.ErrorMessageAuthenticator$\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[info] Loading project definition from /path/to/my/project/project\r\n[info] Set current project to project (in build file:/path/to/my/project/)`\r\n\r\nAnd doesn&#39;t appear any information abot my Java Home supposedly configured, like does when I don&#39;t configure anything\r\n\r\n`[info] welcome to sbt 1.6.2 (Debian Java 11.0.15)`\r\n\r\nThis line doesn&#39;t appear when I put the mentioned &quot;sbt.version=0.13.18&quot; in the mentioned /project/build.properties. Instead, appears the &quot;An illegal reflective access operation has occurred&quot; warning messages upperly cited, that I suspect is for the &quot;Debian Java 11.0.5&quot; **uncompatible** JDK version for my &quot;0.13.18&quot; sbt version................\r\n\r\nHow can I make the &quot;jdk1.8.0_2022&quot; JDK version would be used when my &quot;0.13.18&quot; sbt starts?","title":"Can I define a Java Home filesystem for my sbt project in the project/build.properties configuration file?","body":"<p>For compatibility reasons with Android plugin for sbt and Scala, I have to use an old version of sbt, working with a JDK of a version not upper than 1.8.X....\nMy project/build.properties contents is,</p>\n<pre><code>`sbt.version=0.13.18\njava.home=/path/to/my/jdk1.8.0_202/jre`\n</code></pre>\n<p>The result is that first line works, but the seccond (line for the supposed Java Home configuration...) doesn't make my desired effect\nAre there a command (for project/build.properties or perhaps another configuration place...), in what could I define de JDK version <strong>for working in conjunction with</strong> my sbt 0.13...?</p>\n<p>I tried to put in my build.sbt,</p>\n<p>`val java8Version: Option[File] = Option(file(&quot;/path/to/my/jdk1.8.0_202/jre&quot;))</p>\n<p>javaHome := java8Version`</p>\n<p>But, when I try,\n<code>~/path/to/my/project$ sbt</code></p>\n<p>The output when sbt starts is,\n<code>[info] Loading global plugins from /path/to/my/.sbt/0.13/plugins WARNING: An illegal reflective access operation has occurred WARNING: Illegal reflective access by sbt.ivyint.ErrorMessageAuthenticator$ (file:/path/to/my/.sbt/boot/scala-2.10.7/org.scala-sbt/sbt/0.13.18/ivy-0.13.18.jar) to field java.net.Authenticator.theAuthenticator WARNING: Please consider reporting this to the maintainers of sbt.ivyint.ErrorMessageAuthenticator$ WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations WARNING: All illegal access operations will be denied in a future release [info] Loading project definition from /path/to/my/project/project [info] Set current project to project (in build file:/path/to/my/project/)</code></p>\n<p>And doesn't appear any information abot my Java Home supposedly configured, like does when I don't configure anything</p>\n<p><code>[info] welcome to sbt 1.6.2 (Debian Java 11.0.15)</code></p>\n<p>This line doesn't appear when I put the mentioned &quot;sbt.version=0.13.18&quot; in the mentioned /project/build.properties. Instead, appears the &quot;An illegal reflective access operation has occurred&quot; warning messages upperly cited, that I suspect is for the &quot;Debian Java 11.0.5&quot; <strong>uncompatible</strong> JDK version for my &quot;0.13.18&quot; sbt version................</p>\n<p>How can I make the &quot;jdk1.8.0_2022&quot; JDK version would be used when my &quot;0.13.18&quot; sbt starts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667991400,"post_id":74373688,"comment_id":131298105,"body_markdown":"the result of what? Just instantiate two of them, and you&#39;llhave two of them","body":"the result of what? Just instantiate two of them, and you&#39;llhave two of them"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667991589,"post_id":74373688,"comment_id":131298168,"body_markdown":"How do I add two Octets (two binary numbers);","body":"How do I add two Octets (two binary numbers);"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1667992155,"post_id":74373688,"comment_id":131298367,"body_markdown":"Is this for a course assignment? Do you know how to add binary numbers? Try to think it through starting with two numbers that are both one bit long. There are four possibilities. What are they?","body":"Is this for a course assignment? Do you know how to add binary numbers? Try to think it through starting with two numbers that are both one bit long. There are four possibilities. What are they?"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667992416,"post_id":74373688,"comment_id":131298469,"body_markdown":"I know how to add two binary numbers sir but the problem is that I&#39;m not dealing with two binary integers it would be easy if it was like that. It&#39;s the octet that I have to add. so basically i have to add two binary octets and the function returns an Octet. That&#39;s why I&#39;m stuck and confused","body":"I know how to add two binary numbers sir but the problem is that I&#39;m not dealing with two binary integers it would be easy if it was like that. It&#39;s the octet that I have to add. so basically i have to add two binary octets and the function returns an Octet. That&#39;s why I&#39;m stuck and confused"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1667993273,"post_id":74373688,"comment_id":131298776,"body_markdown":"let&#39;s say I have Octet o1 and o2 both are 8 bits and I want to add them together I can use the method octetToString() to convert them from Octet to strings then I can add them but how do I return the result as an Octet not as a string without using another converstion method","body":"let&#39;s say I have Octet o1 and o2 both are 8 bits and I want to add them together I can use the method octetToString() to convert them from Octet to strings then I can add them but how do I return the result as an Octet not as a string without using another converstion method"},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668001160,"post_id":74373688,"comment_id":131301563,"body_markdown":"No answer guys?","body":"No answer guys?"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1668005238,"post_id":74373688,"comment_id":131303226,"body_markdown":"It appears that a given Octet is intended to represent a single 8-bit integer value.  You can use a single int rather than int[].  If you prefer to model the value as array then then consider using a boolean[] snice you are modeling bits rather than numbers.","body":"It appears that a given Octet is intended to represent a single 8-bit integer value.  You can use a single int rather than int[].  If you prefer to model the value as array then then consider using a boolean[] snice you are modeling bits rather than numbers."},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668005898,"post_id":74373688,"comment_id":131303518,"body_markdown":"Still doesn&#39;t answer my question sir but thank you anyway","body":"Still doesn&#39;t answer my question sir but thank you anyway"}],"answers":[{"comments":[{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668068791,"post_id":74378775,"comment_id":131318732,"body_markdown":"oooh, thank you so much man finally. You saved me. I don&#39;t know what&#39;s wrong with me every time feel like I&#39;m starting to understand programming something new blocks me it&#39;s so frustrating. thank you again @Jan Rozenbajgier","body":"oooh, thank you so much man finally. You saved me. I don&#39;t know what&#39;s wrong with me every time feel like I&#39;m starting to understand programming something new blocks me it&#39;s so frustrating. thank you again @Jan Rozenbajgier"},{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":0,"creation_date":1668074165,"post_id":74378775,"comment_id":131320570,"body_markdown":"@sam No problem! There&#39;s always something what&#39;s blocking (even if you are an expert, but then it happens less often). That&#39;s why this site is so awesome! Don&#39;t worry and practice. If you appreciate the help you can give vote up and accept my answer. (I&#39;ll earn the reputation) thx.","body":"@sam No problem! There&#39;s always something what&#39;s blocking (even if you are an expert, but then it happens less often). That&#39;s why this site is so awesome! Don&#39;t worry and practice. If you appreciate the help you can give vote up and accept my answer. (I&#39;ll earn the reputation) thx."},{"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"score":0,"creation_date":1668092621,"post_id":74378775,"comment_id":131327263,"body_markdown":"For sure you deserve it, been stuck for two days and it seemed like I&#39;ll never figure it out but you saved me","body":"For sure you deserve it, been stuck for two days and it seemed like I&#39;ll never figure it out but you saved me"}],"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668013863,"creation_date":1668013863,"answer_id":74378775,"question_id":74373688,"body_markdown":"You can do it like this:\r\n\r\n    Octet sum(Octet y){\r\n        \r\n        //Convert this octet and argument octet to decimal format\r\n        int o1 = Integer.parseInt(y.octetToString(), 2);\r\n        int o2 = Integer.parseInt(octetToString(), 2);\r\n\r\n        //Sum decimal numbers as usual\r\n        int sum = o1 + o2;\r\n        \r\n        //Convert sum to binary number\r\n        String binarySum = Integer.toBinaryString(sum);\r\n\r\n        //Check if result binary sum is ok\r\n        if(binarySum.length() &gt; 8){\r\n            //Sum of these 2 octets is not an octet (has more than 8 digits)\r\n            throw new RuntimeException(&quot;Shit&quot;);\r\n        }\r\n        \r\n        //Result binary sum may have less digits than 8, \r\n        //so fill missing places with zeros\r\n        StringBuilder result = new StringBuilder(binarySum);\r\n\r\n        while(result.length() &lt; 8)\r\n            result.insert(0, &quot;0&quot;);\r\n        \r\n        //Create octet\r\n        return new Octet(result.toString());\r\n    }\r\n\r\nNote that it can be done only when sum of 2 octets is also an octet.","title":"how to add two classes that contain integers and return the result in the form of that same class","body":"<p>You can do it like this:</p>\n<pre><code>Octet sum(Octet y){\n    \n    //Convert this octet and argument octet to decimal format\n    int o1 = Integer.parseInt(y.octetToString(), 2);\n    int o2 = Integer.parseInt(octetToString(), 2);\n\n    //Sum decimal numbers as usual\n    int sum = o1 + o2;\n    \n    //Convert sum to binary number\n    String binarySum = Integer.toBinaryString(sum);\n\n    //Check if result binary sum is ok\n    if(binarySum.length() &gt; 8){\n        //Sum of these 2 octets is not an octet (has more than 8 digits)\n        throw new RuntimeException(&quot;Shit&quot;);\n    }\n    \n    //Result binary sum may have less digits than 8, \n    //so fill missing places with zeros\n    StringBuilder result = new StringBuilder(binarySum);\n\n    while(result.length() &lt; 8)\n        result.insert(0, &quot;0&quot;);\n    \n    //Create octet\n    return new Octet(result.toString());\n}\n</code></pre>\n<p>Note that it can be done only when sum of 2 octets is also an octet.</p>\n"}],"owner":{"account_id":22829624,"reputation":79,"user_id":16978335,"display_name":"sam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74378775,"answer_count":1,"score":-2,"last_activity_date":1668013863,"creation_date":1667991164,"question_id":74373688,"body_markdown":"Hi everybody I need little help I&#39;m stuck\r\nI created a class called octet that consists of an array of 8 bits binary numbers and now I want to create a method that add 2 octet numbers but can&#39;t figure out a way to do so. this is the class: \r\n\r\n\r\n\r\n```\r\npublic class Octet {\r\n\t\r\n    int[] x = new int[8];\r\n      \r\n    // constructor that takes a binary number in the form of a string. \r\n\tOctet(String s){\r\n\t\tif (s.length() != 8) {\r\n\t\t\tSystem.out.println(&quot;Too few or too many characters&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tif (s.charAt(i) == &#39;1&#39;) {\r\n\t\t\t\tx[7 - i] = 1;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tx[7 - i] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// method to convert an octet to string\r\n\tString octetToString() {\r\n\t\tString result = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; 8; i++) {\r\n\t\t\tif (x[i] == 1) {\r\n\t\t\t\tresult = &quot;1&quot; + result;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresult = &quot;0&quot; + result;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t// this is where I got stuck\r\n\tOctet sum(Octet y){\r\n    \toctet result = new Octet(&quot;00000000&quot;)\r\n    \t// how do I add two octets and return the result in the form of octet?\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCan anyone one explain this to me. I tried to convert the two octets to string using the method octetToString() and I tried to use integers but there is always a type problem. I need to return Octet","title":"how to add two classes that contain integers and return the result in the form of that same class","body":"<p>Hi everybody I need little help I'm stuck\nI created a class called octet that consists of an array of 8 bits binary numbers and now I want to create a method that add 2 octet numbers but can't figure out a way to do so. this is the class:</p>\n<pre><code>public class Octet {\n    \n    int[] x = new int[8];\n      \n    // constructor that takes a binary number in the form of a string. \n    Octet(String s){\n        if (s.length() != 8) {\n            System.out.println(&quot;Too few or too many characters&quot;);\n            return;\n        }\n        for (int i = 0; i &lt; 8; i++) {\n            if (s.charAt(i) == '1') {\n                x[7 - i] = 1;\n            }\n            else {\n                x[7 - i] = 0;\n            }\n        }\n    }\n\n    // method to convert an octet to string\n    String octetToString() {\n        String result = &quot;&quot;;\n        for (int i = 0; i &lt; 8; i++) {\n            if (x[i] == 1) {\n                result = &quot;1&quot; + result;\n            }\n            else {\n                result = &quot;0&quot; + result;\n            }\n        }\n        return result;\n    }\n\n    // this is where I got stuck\n    Octet sum(Octet y){\n        octet result = new Octet(&quot;00000000&quot;)\n        // how do I add two octets and return the result in the form of octet?\n    }\n}\n</code></pre>\n<p>Can anyone one explain this to me. I tried to convert the two octets to string using the method octetToString() and I tried to use integers but there is always a type problem. I need to return Octet</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1668006512,"post_id":74376800,"comment_id":131303783,"body_markdown":"share the complete code","body":"share the complete code"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668013840,"creation_date":1668013840,"answer_id":74378774,"question_id":74376800,"body_markdown":"It appears to me that you looked at an old *Swing* tutorial. A *Swing* application does not need to extend class [JFrame][1] and it doesn&#39;t need to implement [WindowListener][2].\r\n\r\nI suggest that you display the data in a [JTable][3] rather than in a text field.\r\n\r\nYour `Phone` class can be a [Record][4].\r\n```java\r\nimport java.io.Serializable;\r\n\r\npublic record Phone(String make,\r\n                    String model,\r\n                    double memory,\r\n                    double camera,\r\n                    double screensize,\r\n                    String smart,\r\n                    int price) implements Serializable {\r\n\r\n    public static int getFieldCount() {\r\n        return 7;\r\n    }\r\n}\r\n```\r\nThe `fieldCount` method is used in the GUI code. (See below.)\r\n\r\nAnd I use a custom *table model* that displays a list of `Phone` objects.\r\n\r\nSince Java 8, I prefer to implement `ActionListener` using [method references][5].\r\n\r\nI create two *table model*s &amp;ndash; an empty one and a non-empty one. When the *Show Data* button is clicked, I set the non-empty model and when the *Hide Data* button is clicked, I set the empty model.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.AbstractTableModel;\r\n\r\npublic class DisplayGui {\r\n    private PhoneModel emptyModel;\r\n    private PhoneModel model;\r\n    private JTable table;\r\n\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame(&quot;Phones&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createTable(), BorderLayout.CENTER);\r\n        frame.add(createButtons(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createButtons() {\r\n        JPanel panel = new JPanel();\r\n        JButton showData = new JButton(&quot;Show Data&quot;);\r\n        showData.addActionListener(this::showData);\r\n        panel.add(showData);\r\n        JButton hideData = new JButton(&quot;Hide Data&quot;);\r\n        hideData.addActionListener(this::hideData);\r\n        panel.add(hideData);\r\n        return panel;\r\n    }\r\n\r\n    private void createModel() {\r\n        model = new PhoneModel(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150),\r\n                               new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175),\r\n                               new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180),\r\n                               new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90),\r\n                               new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100),\r\n                               new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250),\r\n                               new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n    }\r\n\r\n    private JScrollPane createTable() {\r\n        createModel();\r\n        emptyModel = new PhoneModel();\r\n        table = new JTable(emptyModel);\r\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\r\n        JScrollPane scrollPane = new JScrollPane(table);\r\n        return scrollPane;\r\n    }\r\n\r\n    private void hideData(ActionEvent event) {\r\n        table.setModel(emptyModel);\r\n    }\r\n\r\n    private void showData(ActionEvent event) {\r\n        table.setModel(model);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new DisplayGui().buildAndDisplayGui());\r\n    }\r\n}\r\n\r\nclass PhoneModel extends AbstractTableModel {\r\n    private List&lt;Phone&gt; phones;\r\n\r\n    public PhoneModel(Phone... phones) {\r\n        this(Arrays.asList(phones));\r\n    }\r\n\r\n    public PhoneModel(List&lt;Phone&gt; phones) {\r\n        this.phones = phones;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        Class&lt;?&gt; theClass;\r\n        switch (columnIndex) {\r\n            case 0:\r\n            case 1:\r\n            case 5:\r\n                theClass = String.class;\r\n                break;\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n                theClass = Double.class;\r\n                break;\r\n            case 6:\r\n                theClass = Integer.class;\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\r\n        }\r\n        return theClass;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return Phone.getFieldCount();\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int column) {\r\n        String name;\r\n        switch (column) {\r\n            case 0:\r\n                name = &quot;Make&quot;;\r\n                break;\r\n            case 1:\r\n                name = &quot;Model&quot;;\r\n                break;\r\n            case 2:\r\n                name = &quot;Memory&quot;;\r\n                break;\r\n            case 3:\r\n                name = &quot;Camera&quot;;\r\n                break;\r\n            case 4:\r\n                name = &quot;Screen Size&quot;;\r\n                break;\r\n            case 5:\r\n                name = &quot;Smart&quot;;\r\n                break;\r\n            case 6:\r\n                name = &quot;Price&quot;;\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(column);\r\n        }\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return phones == null ? 0 : phones.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        Phone phone = phones.get(rowIndex);\r\n        Object val;\r\n        switch (columnIndex) {\r\n            case 0:\r\n                val = phone.make();\r\n                break;\r\n            case 1:\r\n                val = phone.model();\r\n                break;\r\n            case 2:\r\n                val = Double.valueOf(phone.memory());\r\n                break;\r\n            case 3:\r\n                val = Double.valueOf(phone.camera());\r\n                break;\r\n            case 4:\r\n                val = Double.valueOf(phone.screensize());\r\n                break;\r\n            case 5:\r\n                val = phone.smart();\r\n                break;\r\n            case 6:\r\n                val = Integer.valueOf(phone.price());\r\n                break;\r\n            default:\r\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\r\n        }\r\n        return val;\r\n    }\r\n}\r\n```\r\nThis is how it looks with the data hidden:  \r\n(This is the initial display since I initially set the empty table model.)\r\n\r\n[![data hidden][6]][6]\r\n\r\nAnd with the data displayed:\r\n\r\n[![data displayed][7]][7]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [4]: https://openjdk.org/jeps/395\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://i.stack.imgur.com/zuM1j.png\r\n  [7]: https://i.stack.imgur.com/Kqzm4.png","title":"Show data in a text field from an advanced for loop","body":"<p>It appears to me that you looked at an old <em>Swing</em> tutorial. A <em>Swing</em> application does not need to extend class <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JFrame.html\" rel=\"nofollow noreferrer\">JFrame</a> and it doesn't need to implement <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">WindowListener</a>.</p>\n<p>I suggest that you display the data in a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a> rather than in a text field.</p>\n<p>Your <code>Phone</code> class can be a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Record</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\n\npublic record Phone(String make,\n                    String model,\n                    double memory,\n                    double camera,\n                    double screensize,\n                    String smart,\n                    int price) implements Serializable {\n\n    public static int getFieldCount() {\n        return 7;\n    }\n}\n</code></pre>\n<p>The <code>fieldCount</code> method is used in the GUI code. (See below.)</p>\n<p>And I use a custom <em>table model</em> that displays a list of <code>Phone</code> objects.</p>\n<p>Since Java 8, I prefer to implement <code>ActionListener</code> using <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</p>\n<p>I create two <em>table model</em>s  an empty one and a non-empty one. When the <em>Show Data</em> button is clicked, I set the non-empty model and when the <em>Hide Data</em> button is clicked, I set the empty model.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.AbstractTableModel;\n\npublic class DisplayGui {\n    private PhoneModel emptyModel;\n    private PhoneModel model;\n    private JTable table;\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame(&quot;Phones&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createTable(), BorderLayout.CENTER);\n        frame.add(createButtons(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtons() {\n        JPanel panel = new JPanel();\n        JButton showData = new JButton(&quot;Show Data&quot;);\n        showData.addActionListener(this::showData);\n        panel.add(showData);\n        JButton hideData = new JButton(&quot;Hide Data&quot;);\n        hideData.addActionListener(this::hideData);\n        panel.add(hideData);\n        return panel;\n    }\n\n    private void createModel() {\n        model = new PhoneModel(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150),\n                               new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175),\n                               new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180),\n                               new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90),\n                               new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100),\n                               new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250),\n                               new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n    }\n\n    private JScrollPane createTable() {\n        createModel();\n        emptyModel = new PhoneModel();\n        table = new JTable(emptyModel);\n        table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n        JScrollPane scrollPane = new JScrollPane(table);\n        return scrollPane;\n    }\n\n    private void hideData(ActionEvent event) {\n        table.setModel(emptyModel);\n    }\n\n    private void showData(ActionEvent event) {\n        table.setModel(model);\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new DisplayGui().buildAndDisplayGui());\n    }\n}\n\nclass PhoneModel extends AbstractTableModel {\n    private List&lt;Phone&gt; phones;\n\n    public PhoneModel(Phone... phones) {\n        this(Arrays.asList(phones));\n    }\n\n    public PhoneModel(List&lt;Phone&gt; phones) {\n        this.phones = phones;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        Class&lt;?&gt; theClass;\n        switch (columnIndex) {\n            case 0:\n            case 1:\n            case 5:\n                theClass = String.class;\n                break;\n            case 2:\n            case 3:\n            case 4:\n                theClass = Double.class;\n                break;\n            case 6:\n                theClass = Integer.class;\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\n        }\n        return theClass;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return Phone.getFieldCount();\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        String name;\n        switch (column) {\n            case 0:\n                name = &quot;Make&quot;;\n                break;\n            case 1:\n                name = &quot;Model&quot;;\n                break;\n            case 2:\n                name = &quot;Memory&quot;;\n                break;\n            case 3:\n                name = &quot;Camera&quot;;\n                break;\n            case 4:\n                name = &quot;Screen Size&quot;;\n                break;\n            case 5:\n                name = &quot;Smart&quot;;\n                break;\n            case 6:\n                name = &quot;Price&quot;;\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(column);\n        }\n        return name;\n    }\n\n    @Override\n    public int getRowCount() {\n        return phones == null ? 0 : phones.size();\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Phone phone = phones.get(rowIndex);\n        Object val;\n        switch (columnIndex) {\n            case 0:\n                val = phone.make();\n                break;\n            case 1:\n                val = phone.model();\n                break;\n            case 2:\n                val = Double.valueOf(phone.memory());\n                break;\n            case 3:\n                val = Double.valueOf(phone.camera());\n                break;\n            case 4:\n                val = Double.valueOf(phone.screensize());\n                break;\n            case 5:\n                val = phone.smart();\n                break;\n            case 6:\n                val = Integer.valueOf(phone.price());\n                break;\n            default:\n                throw new ArrayIndexOutOfBoundsException(columnIndex);\n        }\n        return val;\n    }\n}\n</code></pre>\n<p>This is how it looks with the data hidden:<br />\n(This is the initial display since I initially set the empty table model.)</p>\n<p><a href=\"https://i.stack.imgur.com/zuM1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuM1j.png\" alt=\"data hidden\" /></a></p>\n<p>And with the data displayed:</p>\n<p><a href=\"https://i.stack.imgur.com/Kqzm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kqzm4.png\" alt=\"data displayed\" /></a></p>\n"}],"owner":{"account_id":26879462,"reputation":3,"user_id":20460151,"display_name":"Evan Donelan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74378774,"answer_count":1,"score":-1,"last_activity_date":1668013840,"creation_date":1668005349,"question_id":74376800,"body_markdown":"A shown in the code below I want the data to be inputted into the textfield when the button is pressed at the moment I have it printing to console how do I add to the textfield ?? is it text.add ??\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowEvent;\r\nimport java.awt.event.WindowListener;\r\nimport java.util.ArrayList;\r\nimport javax.swing.*;\r\n\r\n\r\npublic class displayGui extends JFrame implements WindowListener, ActionListener {\r\n\r\n    JButton showData;\r\n\r\n    JButton hideData;\r\n\r\n    private static final int FRAME_WIDTH = 100;\r\n    private static final int FRAME_HEIGHT = 100;\r\n    JTextField text = new JTextField(20);\r\n    ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n    public displayGui() {\r\n\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n        JFrame frame = new JFrame();\r\n        JPanel panel = new JPanel();\r\n\r\n        addWindowListener(this);\r\n        showData = new JButton(&quot;Show Data&quot;);\r\n        add(showData);\r\n        panel.add(text);\r\n        showData.addActionListener(this);\r\n\r\n\r\n        panel.add(showData);\r\n        hideData = new JButton(&quot;Hide Data&quot;);\r\n        panel.add(hideData);\r\n        hideData.addActionListener(this);\r\n        frame.add(panel);\r\n\r\n        frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n    @Override\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if(e.getSource().equals(showData)) {\r\n            if (showData.isSelected()){\r\n\r\n                for (Phone phone : phones){\r\n                    System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                    System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                    System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                    System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                    System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                    System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                    System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n                };\r\n\r\n            }\r\n        }\r\n\r\n\r\n\r\n        for (Phone phone : phones){\r\n            System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n            System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n            System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n            System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n            System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n            System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n            System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n        }\r\n\r\n        text.setText(&quot;Testing&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowOpened(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowClosing(WindowEvent e) {\r\n        dispose();\r\n        System.exit(0);\r\n    }\r\n\r\n    @Override\r\n    public void windowClosed(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowIconified(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowDeiconified(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowActivated(WindowEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void windowDeactivated(WindowEvent e) {\r\n\r\n    }\r\n}\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Tester {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n\r\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n\r\n        try {\r\n            System.out.println(&quot;Check to see if file exists&quot;);\r\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n            System.out.println(&quot;It exists&quot;);\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n            System.out.println(&quot;Reading now&quot;);\r\n\r\n\r\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\r\n            for (Phone phone : phones){\r\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n            }\r\n\r\n            objectIn.close();\r\n            } catch (FileNotFoundException e1) {\r\n            System.out.println(&quot;file does not exist&quot;);\r\n\r\n            try {\r\n                System.out.println(&quot;Creating it now ....&quot;);\r\n                FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\r\n\r\n                ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\r\n\r\n                objectOut.writeObject(phones);\r\n\r\n                objectOut.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n            ///deserialization///\r\n            try {\r\n                FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n\r\n                ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n                Phone newPhone = (Phone) objectIn.readObject();\r\n\r\n                objectIn.close();\r\n                System.out.println(&quot;Phone Make: &quot; + newPhone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + newPhone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + newPhone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + newPhone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + newPhone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + newPhone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + newPhone.getPrice());\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n```\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainSer {\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        new displayGui();\r\n\r\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\r\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\r\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\r\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\r\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\r\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\r\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\r\n\r\n\r\n\r\n        //serialization//\r\n        try {\r\n            FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\r\n            ObjectOutputStream Out = new ObjectOutputStream(fileOut);\r\n            Out.writeObject(phones);\r\n            Out.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ////deserialization///\r\n        try {\r\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\r\n\r\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\r\n\r\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\r\n            for (Phone phone : phones){\r\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\r\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\r\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\r\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\r\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\r\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\r\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        }\r\n    }\r\n\r\n\r\n```\r\n```\r\nimport java.io.Serializable;\r\n\r\npublic class Phone implements Serializable {\r\n    private String make;\r\n    private String model;\r\n    private double memory;\r\n    private double camera;\r\n    private double screensize;\r\n    private String smart;\r\n    private int price;\r\n\r\n    public Phone(String make , String model , double memory , double camera, double screensize, String smart , int price){\r\n        this.make = make;\r\n        this.model = model;\r\n        this.memory = memory;\r\n        this.camera = camera;\r\n        this.screensize = screensize;\r\n        this.smart = smart;\r\n        this.price = price;\r\n\r\n    }\r\n\r\n    public String getMake() {\r\n        return make;\r\n    }\r\n\r\n    public String getModel() {\r\n        return model;\r\n    }\r\n\r\n    public double getMemory() {\r\n        return memory;\r\n    }\r\n\r\n    public double getCamera() {\r\n        return camera;\r\n    }\r\n\r\n    public double getScreensize() {\r\n        return screensize;\r\n    }\r\n\r\n    public String getSmart() {\r\n        return smart;\r\n    }\r\n\r\n    public int getPrice() {\r\n        return price;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run it I currently have it running onto the console. But needs to be entered into the text field. Thanks\r\n","title":"Show data in a text field from an advanced for loop","body":"<p>A shown in the code below I want the data to be inputted into the textfield when the button is pressed at the moment I have it printing to console how do I add to the textfield ?? is it text.add ??</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\nimport java.util.ArrayList;\nimport javax.swing.*;\n\n\npublic class displayGui extends JFrame implements WindowListener, ActionListener {\n\n    JButton showData;\n\n    JButton hideData;\n\n    private static final int FRAME_WIDTH = 100;\n    private static final int FRAME_HEIGHT = 100;\n    JTextField text = new JTextField(20);\n    ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n    public displayGui() {\n\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n\n        addWindowListener(this);\n        showData = new JButton(&quot;Show Data&quot;);\n        add(showData);\n        panel.add(text);\n        showData.addActionListener(this);\n\n\n        panel.add(showData);\n        hideData = new JButton(&quot;Hide Data&quot;);\n        panel.add(hideData);\n        hideData.addActionListener(this);\n        frame.add(panel);\n\n        frame.setSize(FRAME_WIDTH, FRAME_HEIGHT);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n    @Override\n\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource().equals(showData)) {\n            if (showData.isSelected()){\n\n                for (Phone phone : phones){\n                    System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                    System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                    System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                    System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                    System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                    System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                    System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n                };\n\n            }\n        }\n\n\n\n        for (Phone phone : phones){\n            System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n            System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n            System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n            System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n            System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n            System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n            System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n        }\n\n        text.setText(&quot;Testing&quot;);\n\n    }\n\n    @Override\n    public void windowOpened(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowClosing(WindowEvent e) {\n        dispose();\n        System.exit(0);\n    }\n\n    @Override\n    public void windowClosed(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowIconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeiconified(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowActivated(WindowEvent e) {\n\n    }\n\n    @Override\n    public void windowDeactivated(WindowEvent e) {\n\n    }\n}\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class Tester {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n\n        try {\n            System.out.println(&quot;Check to see if file exists&quot;);\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n            System.out.println(&quot;It exists&quot;);\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n            System.out.println(&quot;Reading now&quot;);\n\n\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\n            for (Phone phone : phones){\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n            }\n\n            objectIn.close();\n            } catch (FileNotFoundException e1) {\n            System.out.println(&quot;file does not exist&quot;);\n\n            try {\n                System.out.println(&quot;Creating it now ....&quot;);\n                FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\n\n                ObjectOutputStream objectOut = new ObjectOutputStream(fileOut);\n\n                objectOut.writeObject(phones);\n\n                objectOut.close();\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            ///deserialization///\n            try {\n                FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n\n                ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n                Phone newPhone = (Phone) objectIn.readObject();\n\n                objectIn.close();\n                System.out.println(&quot;Phone Make: &quot; + newPhone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + newPhone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + newPhone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + newPhone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + newPhone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + newPhone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + newPhone.getPrice());\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n</code></pre>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\n\npublic class MainSer {\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\n        new displayGui();\n\n        ArrayList&lt;Phone&gt; phones = new ArrayList&lt;&gt;();\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia X&quot;, 32, 12.5 , 4.6 , &quot;Yes&quot; , 150));\n        phones.add(new Phone(&quot;Sony&quot;, &quot;Experia Y&quot;, 64, 14.2 , 5.6 , &quot;Yes&quot; , 175));\n        phones.add(new Phone(&quot;Samsung&quot;, &quot;Galaxy M&quot;, 64, 14.5 , 5.4 , &quot;Yes&quot; , 180));\n        phones.add(new Phone(&quot;Nokia&quot;, &quot;3330&quot;, 16, 13.2 , 2.3 , &quot;No&quot; , 90));\n        phones.add(new Phone(&quot;Motorola&quot;, &quot;M1&quot;, 8, 11.3 , 4.9 , &quot;Yes&quot; , 100));\n        phones.add(new Phone(&quot;Iphone&quot;, &quot;6&quot;, 32, 13.5 , 6.4 , &quot;Yes&quot; , 250));\n        phones.add(new Phone(&quot;Alcatel&quot;, &quot;A3&quot;, 8, 9.3 , 2.4 , &quot;No&quot; , 50));\n\n\n\n        //serialization//\n        try {\n            FileOutputStream fileOut = new FileOutputStream(&quot;phone.ser&quot;);\n            ObjectOutputStream Out = new ObjectOutputStream(fileOut);\n            Out.writeObject(phones);\n            Out.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        ////deserialization///\n        try {\n            FileInputStream fileIn = new FileInputStream(&quot;phone.ser&quot;);\n\n            ObjectInputStream objectIn = new ObjectInputStream(fileIn);\n\n            phones = (ArrayList&lt;Phone&gt;) objectIn.readObject();\n            for (Phone phone : phones){\n                System.out.println(&quot;Phone Make: &quot; + phone.getMake());\n                System.out.println(&quot;Phone Model: &quot; + phone.getModel());\n                System.out.println(&quot;Phone Memory: &quot; + phone.getMemory());\n                System.out.println(&quot;Phone Camera: &quot; + phone.getCamera());\n                System.out.println(&quot;Phone screen-size: &quot; + phone.getScreensize());\n                System.out.println(&quot;Is the phone a smart phone: &quot; + phone.getSmart());\n                System.out.println(&quot;The phone costs: &quot; + phone.getPrice());\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        }\n    }\n\n\n</code></pre>\n<pre><code>import java.io.Serializable;\n\npublic class Phone implements Serializable {\n    private String make;\n    private String model;\n    private double memory;\n    private double camera;\n    private double screensize;\n    private String smart;\n    private int price;\n\n    public Phone(String make , String model , double memory , double camera, double screensize, String smart , int price){\n        this.make = make;\n        this.model = model;\n        this.memory = memory;\n        this.camera = camera;\n        this.screensize = screensize;\n        this.smart = smart;\n        this.price = price;\n\n    }\n\n    public String getMake() {\n        return make;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public double getMemory() {\n        return memory;\n    }\n\n    public double getCamera() {\n        return camera;\n    }\n\n    public double getScreensize() {\n        return screensize;\n    }\n\n    public String getSmart() {\n        return smart;\n    }\n\n    public int getPrice() {\n        return price;\n    }\n}\n\n</code></pre>\n<p>When I run it I currently have it running onto the console. But needs to be entered into the text field. Thanks</p>\n"},{"tags":["java","javadoc","checkstyle"],"comments":[{"owner":{"account_id":14306955,"reputation":61,"user_id":10334564,"display_name":"AndrewT"},"score":0,"creation_date":1537027209,"post_id":52346292,"comment_id":91638359,"body_markdown":"I&#39;m running it through Checkstyle as that is required of the course I am taking. We get styling points knocked off for any checkstyle errors.","body":"I&#39;m running it through Checkstyle as that is required of the course I am taking. We get styling points knocked off for any checkstyle errors."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1537029620,"post_id":52346292,"comment_id":91639014,"body_markdown":"Each project team should decide for themselves the level of Javadoc they need and want. Its very customary to leave Javadoc out for private variables, and private methods too. My style is to include it if I believe there is something the next programmer reading the code needs to know, and leave it out if I find it easy to get enough information from the variable name (method name) and the usage in the code.","body":"Each project team should decide for themselves the level of Javadoc they need and want. Its very customary to leave Javadoc out for private variables, and private methods too. My style is to include it if I believe there is something the next programmer reading the code needs to know, and leave it out if I find it easy to get enough information from the variable name (method name) and the usage in the code."}],"answers":[{"comments":[{"owner":{"account_id":14306955,"reputation":61,"user_id":10334564,"display_name":"AndrewT"},"score":0,"creation_date":1537027233,"post_id":52346310,"comment_id":91638362,"body_markdown":"So I have to type a multiple comment for each individual instance variable?","body":"So I have to type a multiple comment for each individual instance variable?"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1537027302,"post_id":52346310,"comment_id":91638383,"body_markdown":"@AndrewT under the checkstyle configuration you seem to be using, yes.","body":"@AndrewT under the checkstyle configuration you seem to be using, yes."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537026633,"creation_date":1537026633,"answer_id":52346310,"question_id":52346292,"body_markdown":"Javadoc comments start with `/**` and end with `*/`. It&#39;s also customary to start each new line with a `*`. E.g.:\r\n\r\n    /**\r\n     * The label to use.\r\n     */\r\n    private String label = &quot;&quot;;","title":"Do I write javadoc comments for each instance variable?","body":"<p>Javadoc comments start with <code>/**</code> and end with <code>*/</code>. It's also customary to start each new line with a <code>*</code>. E.g.:</p>\n\n<pre><code>/**\n * The label to use.\n */\nprivate String label = \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7680885,"reputation":1362,"user_id":5820158,"display_name":"Lindsay-Needs-Sleep"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568021459,"creation_date":1568021459,"answer_id":57851306,"question_id":52346292,"body_markdown":"You can do it in a single line if that makes it better.\r\n```\r\n/** The session that will be used. */\r\nprivate CastSession session;\r\n```","title":"Do I write javadoc comments for each instance variable?","body":"<p>You can do it in a single line if that makes it better.</p>\n\n<pre><code>/** The session that will be used. */\nprivate CastSession session;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22190037,"reputation":1,"user_id":16432382,"display_name":"Jahongir Hayitov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668013819,"creation_date":1668013773,"answer_id":74378756,"question_id":52346292,"body_markdown":"    /** Description of something. */\r\nThis is a simple JavaDoc, do not forget to put period at the end of the first line.\r\n\r\nYou can read more info: https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html","title":"Do I write javadoc comments for each instance variable?","body":"<pre><code>/** Description of something. */\n</code></pre>\n<p>This is a simple JavaDoc, do not forget to put period at the end of the first line.</p>\n<p>You can read more info: <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html</a></p>\n"}],"owner":{"account_id":14306955,"reputation":61,"user_id":10334564,"display_name":"AndrewT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10530,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1668013819,"creation_date":1537026532,"question_id":52346292,"body_markdown":"    private String label = &quot;&quot;;\r\n    private String color = &quot;&quot;;\r\n    private double edge = 0;\r\n \r\n    public Dodecahedron(String labelIn, String colorIn, double edgeIn)\r\n\r\n\r\n\r\nI am getting an error message stating missing Javadoc comment. [JavadocVariable] (the instance variable lines and [JavadocMethod]\r\n\r\nIs there a specific format or syntax I have to write to get rid of these errors?","title":"Do I write javadoc comments for each instance variable?","body":"<pre><code>private String label = &quot;&quot;;\nprivate String color = &quot;&quot;;\nprivate double edge = 0;\n\npublic Dodecahedron(String labelIn, String colorIn, double edgeIn)\n</code></pre>\n<p>I am getting an error message stating missing Javadoc comment. [JavadocVariable] (the instance variable lines and [JavadocMethod]</p>\n<p>Is there a specific format or syntax I have to write to get rid of these errors?</p>\n"},{"tags":["java","android","android-viewpager","android-tablayout","android-viewpager2"],"comments":[{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668016528,"post_id":74378683,"comment_id":131307622,"body_markdown":"Hi, I tried your code and its working fine at my end. Where did you apply `smoothscroll`?","body":"Hi, I tried your code and its working fine at my end. Where did you apply <code>smoothscroll</code>?"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668017298,"post_id":74378683,"comment_id":131307916,"body_markdown":"@AndroidEngineX  new TabLayoutMediator(tabLayout, viewPager, true, **true**,","body":"@AndroidEngineX  new TabLayoutMediator(tabLayout, viewPager, true, <b>true</b>,"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668017457,"post_id":74378683,"comment_id":131307965,"body_markdown":"@AndroidEngineX try selecting page-97 and it will go to page-99","body":"@AndroidEngineX try selecting page-97 and it will go to page-99"},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668032760,"post_id":74378683,"comment_id":131312490,"body_markdown":"Hi I tried the same. After trying only I have posted that this issue is not happening. Can you check in different device(ideally it should also work in your current device as well). Here is the video link: https://drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/view?usp=share_link","body":"Hi I tried the same. After trying only I have posted that this issue is not happening. Can you check in different device(ideally it should also work in your current device as well). Here is the video link: <a href=\"https://drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1VnYdAD6DwmGiC_eyi2EZL-_LEk_PP5xG/&hellip;</a>"},{"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"score":0,"creation_date":1668086936,"post_id":74378683,"comment_id":131324905,"body_markdown":"I have tried it on many devices. And the problem is still happening. This is only happening when the page load is large. The problem doesn&#39;t occur when I&#39;m using a GridLayoutManager with only 2 columns. Your device is so fast. Please try it on a low-end device.","body":"I have tried it on many devices. And the problem is still happening. This is only happening when the page load is large. The problem doesn&#39;t occur when I&#39;m using a GridLayoutManager with only 2 columns. Your device is so fast. Please try it on a low-end device."},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1668094599,"post_id":74378683,"comment_id":131328047,"body_markdown":"Can you share your recording as well? Also, your minimal reproducible project as well. You can find my project at https://drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/view?usp=share_link","body":"Can you share your recording as well? Also, your minimal reproducible project as well. You can find my project at <a href=\"https://drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/16NXEPBskySPT0720phGiFb7wnw7M7-WC/&hellip;</a>"},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1668225591,"post_id":74378683,"comment_id":131359995,"body_markdown":"check if this helps https://stackoverflow.com/questions/63756126/viewpager2-setoffscreenpagelimit-problem","body":"check if this helps <a href=\"https://stackoverflow.com/questions/63756126/viewpager2-setoffscreenpagelimit-problem\" title=\"viewpager2 setoffscreenpagelimit problem\">stackoverflow.com/questions/63756126/&hellip;</a>"},{"owner":{"account_id":6495279,"reputation":1061,"user_id":5028085,"display_name":"AndroidEngineX"},"score":0,"creation_date":1671810824,"post_id":74378683,"comment_id":132181939,"body_markdown":"@IsmailHossain by the way I am using, emulator and I am pretty much sure you can&#39;t have any device slower that the emulator :)","body":"@IsmailHossain by the way I am using, emulator and I am pretty much sure you can&#39;t have any device slower that the emulator :)"}],"owner":{"account_id":21466239,"reputation":11,"user_id":15816124,"display_name":"Ismail Hossain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668013386,"creation_date":1668013386,"question_id":74378683,"body_markdown":"ViewPager2 is scrolling to the wrong page when I am selecting a tab from a far position. Swiping and selecting tab of loaded pages working fine. The error is only happening when the page is not loaded and scrolling animation is active. I have created a large viewpager2 with 100 pages containing Recyclerview.\r\n[![enter image description here](https://i.stack.imgur.com/0dbwP.jpg)](https://i.stack.imgur.com/0dbwP.jpg)\r\n\r\nMy Activity\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TabLayout tabLayout = findViewById(R.id.tabLayout);\r\n        ViewPager2 viewPager = findViewById(R.id.viewPager2);\r\n        viewPager.setAdapter(new viewPagerAdapter(this));\r\n        new TabLayoutMediator(tabLayout, viewPager, true, true,\r\n                ((tab, position) -&gt; tab.setText(&quot;Page: &quot; + position))).attach();\r\n    }\r\n\r\n\r\n    private class viewPagerAdapter extends FragmentStateAdapter {\r\n        public viewPagerAdapter(FragmentActivity fa) {\r\n            super(fa);\r\n        }\r\n\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            Fragment fragment = new itemFragment();\r\n            Bundle args = new Bundle();\r\n            args.putInt(itemFragment.ARG_PARAM1, position);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return 100;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy Fragment\r\n\r\n```\r\npublic class itemFragment extends Fragment {\r\n    public static final String ARG_PARAM1 = &quot;parram1&quot;;\r\n    int pagePosition;\r\n\r\n    public itemFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        pagePosition = getArguments().getInt(ARG_PARAM1);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.frgment_item, container, false);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        TextView textView = view.findViewById(R.id.textView);\r\n        textView.setText(&quot;Page - &quot; + pagePosition);\r\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setAdapter(new myAdapter());\r\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 16));\r\n    }\r\n\r\n\r\n\r\n    private class myAdapter extends RecyclerView.Adapter&lt;Myvh&gt; {\r\n        @Override\r\n        public Myvh onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            return new Myvh(new TextView(getContext()));\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(Myvh holder, int position) {\r\n            int codepoint=pagePosition*700 + position;\r\n            char[] ch=Character.toChars(codepoint);\r\n            holder.textView.setText(String.valueOf(ch));\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() { return 700; }\r\n    }\r\n\r\n    private class Myvh extends RecyclerView.ViewHolder {\r\n        TextView textView;\r\n\r\n        public Myvh(View itemView) {\r\n            super(itemView);\r\n            textView = (TextView) itemView;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI have also tried Recyclerview adapter instead of FragmentStateAdapter and getting same problem.\r\nI have found some solution but not sufficient.\r\n**Those are:**\r\n1. Using old ViewPager(deprecated)\r\n2. Using `viewPager.setOffscreenPageLimit(100);` (taking huge time to load activity)\r\n3. Disabling smoothscroll ( looks awful when swiping)","title":"TabLayoutMediator with ViewPager2 is synchronizing wrong on tab selection -Android java","body":"<p>ViewPager2 is scrolling to the wrong page when I am selecting a tab from a far position. Swiping and selecting tab of loaded pages working fine. The error is only happening when the page is not loaded and scrolling animation is active. I have created a large viewpager2 with 100 pages containing Recyclerview.\n<a href=\"https://i.stack.imgur.com/0dbwP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0dbwP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My Activity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TabLayout tabLayout = findViewById(R.id.tabLayout);\n        ViewPager2 viewPager = findViewById(R.id.viewPager2);\n        viewPager.setAdapter(new viewPagerAdapter(this));\n        new TabLayoutMediator(tabLayout, viewPager, true, true,\n                ((tab, position) -&gt; tab.setText(&quot;Page: &quot; + position))).attach();\n    }\n\n\n    private class viewPagerAdapter extends FragmentStateAdapter {\n        public viewPagerAdapter(FragmentActivity fa) {\n            super(fa);\n        }\n\n        @Override\n        public Fragment createFragment(int position) {\n            Fragment fragment = new itemFragment();\n            Bundle args = new Bundle();\n            args.putInt(itemFragment.ARG_PARAM1, position);\n            fragment.setArguments(args);\n            return fragment;\n        }\n\n        @Override\n        public int getItemCount() {\n            return 100;\n        }\n    }\n}\n</code></pre>\n<p>My Fragment</p>\n<pre><code>public class itemFragment extends Fragment {\n    public static final String ARG_PARAM1 = &quot;parram1&quot;;\n    int pagePosition;\n\n    public itemFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        pagePosition = getArguments().getInt(ARG_PARAM1);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.frgment_item, container, false);\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        TextView textView = view.findViewById(R.id.textView);\n        textView.setText(&quot;Page - &quot; + pagePosition);\n        RecyclerView recyclerView = view.findViewById(R.id.recyclerView);\n        recyclerView.setAdapter(new myAdapter());\n        recyclerView.setLayoutManager(new GridLayoutManager(getContext(), 16));\n    }\n\n\n\n    private class myAdapter extends RecyclerView.Adapter&lt;Myvh&gt; {\n        @Override\n        public Myvh onCreateViewHolder(ViewGroup parent, int viewType) {\n            return new Myvh(new TextView(getContext()));\n        }\n\n        @Override\n        public void onBindViewHolder(Myvh holder, int position) {\n            int codepoint=pagePosition*700 + position;\n            char[] ch=Character.toChars(codepoint);\n            holder.textView.setText(String.valueOf(ch));\n        }\n\n        @Override\n        public int getItemCount() { return 700; }\n    }\n\n    private class Myvh extends RecyclerView.ViewHolder {\n        TextView textView;\n\n        public Myvh(View itemView) {\n            super(itemView);\n            textView = (TextView) itemView;\n        }\n    }\n}\n\n</code></pre>\n<p>I have also tried Recyclerview adapter instead of FragmentStateAdapter and getting same problem.\nI have found some solution but not sufficient.\n<strong>Those are:</strong></p>\n<ol>\n<li>Using old ViewPager(deprecated)</li>\n<li>Using <code>viewPager.setOffscreenPageLimit(100);</code> (taking huge time to load activity)</li>\n<li>Disabling smoothscroll ( looks awful when swiping)</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1651767174,"post_id":72130196,"comment_id":127446796,"body_markdown":"[Similar](https://stackoverflow.com/questions/3250280/ignore-sigint-in-java) [question](https://stackoverflow.com/questions/2975248/how-to-handle-a-sigterm), though since neither of those seems to provide a working *solution*, I wouldn&#39;t dare close this as a dup of either.","body":"<a href=\"https://stackoverflow.com/questions/3250280/ignore-sigint-in-java\">Similar</a> <a href=\"https://stackoverflow.com/questions/2975248/how-to-handle-a-sigterm\">question</a>, though since neither of those seems to provide a working <i>solution</i>, I wouldn&#39;t dare close this as a dup of either."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1651767322,"post_id":72130196,"comment_id":127446838,"body_markdown":"This isn&#39;t really so much a problem with java as with the way you are running it / the console. Java run as a background service for example doesn&#39;t have this issue. You just need a better replacement for the console","body":"This isn&#39;t really so much a problem with java as with the way you are running it / the console. Java run as a background service for example doesn&#39;t have this issue. You just need a better replacement for the console"},{"owner":{"account_id":22739853,"reputation":57,"user_id":19044875,"display_name":"hikaru jakafura"},"score":0,"creation_date":1651768660,"post_id":72130196,"comment_id":127447341,"body_markdown":"I want to know if there is way to  achieve this as a java console program or it&#39;s impossible...","body":"I want to know if there is way to  achieve this as a java console program or it&#39;s impossible..."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1668013794,"post_id":72130196,"comment_id":131306641,"body_markdown":"In Python you can catch `KeyboardInterrupt` and your program can keep going; it&#39;s not clear why Java fundamentally cannot do the same thing, but it does seem that it cannot. (At most you can register a shutdown hook, but you can&#39;t stop the program from shutting down.)","body":"In Python you can catch <code>KeyboardInterrupt</code> and your program can keep going; it&#39;s not clear why Java fundamentally cannot do the same thing, but it does seem that it cannot. (At most you can register a shutdown hook, but you can&#39;t stop the program from shutting down.)"}],"answers":[{"comments":[{"owner":{"account_id":22739853,"reputation":57,"user_id":19044875,"display_name":"hikaru jakafura"},"score":1,"creation_date":1651876372,"post_id":72139795,"comment_id":127477101,"body_markdown":"I&#39;m sorry but this have nothing to do with my question...\nI&#39;m not asking for how to run an application in the background...\nI&#39;m asking is there a way (in java) to ignore the interrupt signal while interacting with the program...\nwhen you send it to the background then you aren&#39;t going to interact with it (like asking your name, your age... after performing some manipulations [&lt;-example])\nI could do it with C language or c++... but I need to know if it&#39;s possible in java, not how to work around it...","body":"I&#39;m sorry but this have nothing to do with my question... I&#39;m not asking for how to run an application in the background... I&#39;m asking is there a way (in java) to ignore the interrupt signal while interacting with the program... when you send it to the background then you aren&#39;t going to interact with it (like asking your name, your age... after performing some manipulations [&lt;-example]) I could do it with C language or c++... but I need to know if it&#39;s possible in java, not how to work around it..."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1651831877,"creation_date":1651831877,"answer_id":72139795,"question_id":72130196,"body_markdown":"You can run the java application as a background process by using the `&amp;` in the end of the command. \r\n\r\nThis way the CTRL + C in your command line will not force the application to exit and you can still execute other commands in your command line tool.\r\n\r\n    #!/bin/sh\r\n    java -jar myApp.jar &amp; ","title":"How to tell Java to not exit when interrupt signal (Ctrl+C) is received","body":"<p>You can run the java application as a background process by using the <code>&amp;</code> in the end of the command.</p>\n<p>This way the CTRL + C in your command line will not force the application to exit and you can still execute other commands in your command line tool.</p>\n<pre><code>#!/bin/sh\njava -jar myApp.jar &amp; \n</code></pre>\n"}],"owner":{"account_id":22739853,"reputation":57,"user_id":19044875,"display_name":"hikaru jakafura"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":1,"score":4,"last_activity_date":1668013058,"creation_date":1651766141,"question_id":72130196,"body_markdown":"In a Java console application, I would like to handle Ctrl+C by printing:\r\n\r\n&gt;Do you really want to exit (y,N)?\r\n\r\nTerminate normally when &#39;y&#39; is pressed but continue running if anything else is pressed.\r\n\r\nIs this possible in Java?\r\n\r\n\r\n# Original\r\n\r\nI know how to shutdown Java application gracefully by adding shutdown hook, or how to handle signals like interrupt or TERM.\r\n\r\nThe problem here is, in C, when I handle the interrupt I can force the app to exit or to just print a message and continue working. I want to do something like this. When you press Ctrl+C, I ask you do you really want to exit (y,n).\r\n\r\nHowever, in Java I see that all I can do is write something before exiting, so I will always exit no matter what. What is the solution to this problem?","title":"How to tell Java to not exit when interrupt signal (Ctrl+C) is received","body":"<p>In a Java console application, I would like to handle Ctrl+C by printing:</p>\n<blockquote>\n<p>Do you really want to exit (y,N)?</p>\n</blockquote>\n<p>Terminate normally when 'y' is pressed but continue running if anything else is pressed.</p>\n<p>Is this possible in Java?</p>\n<h1>Original</h1>\n<p>I know how to shutdown Java application gracefully by adding shutdown hook, or how to handle signals like interrupt or TERM.</p>\n<p>The problem here is, in C, when I handle the interrupt I can force the app to exit or to just print a message and continue working. I want to do something like this. When you press Ctrl+C, I ask you do you really want to exit (y,n).</p>\n<p>However, in Java I see that all I can do is write something before exiting, so I will always exit no matter what. What is the solution to this problem?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"score":0,"creation_date":1527587355,"post_id":50581234,"comment_id":88171674,"body_markdown":"I tried Adding Java code in Kotiln using Streams but that is supported only on API  levels 24 and higher","body":"I tried Adding Java code in Kotiln using Streams but that is supported only on API  levels 24 and higher"}],"answers":[{"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":4,"creation_date":1527587758,"post_id":50581392,"comment_id":88171919,"body_markdown":"This way you&#39;ll create a new `Random` instance for each element, which is not very efficient","body":"This way you&#39;ll create a new <code>Random</code> instance for each element, which is not very efficient"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1644316463,"post_id":50581392,"comment_id":125568380,"body_markdown":"For the sake of readers in 202x using Kotlin 1.5 and above, @user2340612&#39;s comment is no longer true (in fact, I&#39;m not entirely sure it ever was). `Random` is a reference to a single instance of Random (declared as a companion object), so it doesn&#39;t create a new instance.","body":"For the sake of readers in 202x using Kotlin 1.5 and above, @user2340612&#39;s comment is no longer true (in fact, I&#39;m not entirely sure it ever was). <code>Random</code> is a reference to a single instance of Random (declared as a companion object), so it doesn&#39;t create a new instance."},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1644317915,"post_id":50581392,"comment_id":125568988,"body_markdown":"@k314159 in the past there used to be a default Random implementation that could be accessed calling methods on the companion object as described [here](https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/random.md#default-random-number-generator)","body":"@k314159 in the past there used to be a default Random implementation that could be accessed calling methods on the companion object as described <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/random.md#default-random-number-generator\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":1,"creation_date":1644401868,"post_id":50581392,"comment_id":125595161,"body_markdown":"I rolled back the last edit because it significantly changed the code: Kotlin&#39;s Random was used instead of Java&#39;s Random which turns it into a completely different answer. Only the OP should do such a change.","body":"I rolled back the last edit because it significantly changed the code: Kotlin&#39;s Random was used instead of Java&#39;s Random which turns it into a completely different answer. Only the OP should do such a change."}],"tags":[],"owner":{"account_id":4167652,"reputation":5072,"user_id":3416272,"accept_rate":84,"display_name":"Md Johirul Islam"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1658797306,"creation_date":1527587641,"answer_id":50581392,"question_id":50581234,"body_markdown":" One option is to use the array constructor as following:\r\n\r\n    var amplititudes  = IntArray(10) { Random().nextInt() }.asList()\r\n\r\nAnother strategy is:\r\n\r\n    var amplititudes  = (1..10).map { Random().nextInt() }\r\n\r\n**EDIT (OUTDATED!)**\r\n\r\n*You no longer need to do this, as Kotlin will only create a single instance of Random.*\r\n\r\nAs suggested in the comment instead of creating an instance of `Random` each time it is better to initialize it once:\r\n\r\n    var ran = Random()\r\n    var amplititudes  = (1..10).map { ran.nextInt() }\r\n","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>One option is to use the array constructor as following:</p>\n<pre><code>var amplititudes  = IntArray(10) { Random().nextInt() }.asList()\n</code></pre>\n<p>Another strategy is:</p>\n<pre><code>var amplititudes  = (1..10).map { Random().nextInt() }\n</code></pre>\n<p><strong>EDIT (OUTDATED!)</strong></p>\n<p><em>You no longer need to do this, as Kotlin will only create a single instance of Random.</em></p>\n<p>As suggested in the comment instead of creating an instance of <code>Random</code> each time it is better to initialize it once:</p>\n<pre><code>var ran = Random()\nvar amplititudes  = (1..10).map { ran.nextInt() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1631957583,"creation_date":1527588106,"answer_id":50581554,"question_id":50581234,"body_markdown":"Based to the answer of [@Md Johirul Islam][1] You can also use :\r\n\r\n    val from = 0\r\n    val to = 11\r\n    val random = Random\r\n    var amplititudes  = IntArray(10) { random.nextInt(to - from) +  from }.asList()\r\n\r\nin this solution you can specify the range of ints that you want, from 0 to 10 for example\r\n\r\n  [1]: https://stackoverflow.com/a/50581392/5558072","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Based to the answer of <a href=\"https://stackoverflow.com/a/50581392/5558072\">@Md Johirul Islam</a> You can also use :</p>\n<pre><code>val from = 0\nval to = 11\nval random = Random\nvar amplititudes  = IntArray(10) { random.nextInt(to - from) +  from }.asList()\n</code></pre>\n<p>in this solution you can specify the range of ints that you want, from 0 to 10 for example</p>\n"},{"comments":[{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":0,"creation_date":1527588721,"post_id":50581617,"comment_id":88172509,"body_markdown":"Using `let` is very &quot;kotlin-style&#39; IMHO. It could be also `Random().let { ... }`, couldn&#39;t it?","body":"Using <code>let</code> is very &quot;kotlin-style&#39; IMHO. It could be also <code>Random().let { ... }</code>, couldn&#39;t it?"},{"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"score":1,"creation_date":1527588742,"post_id":50581617,"comment_id":88172521,"body_markdown":"Yes you can use the normal Random class in that case","body":"Yes you can use the normal Random class in that case"},{"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"score":0,"creation_date":1527588928,"post_id":50581617,"comment_id":88172640,"body_markdown":"What is the importance of ThreadLocalRandom when compared to other methods mentioned in other answers?","body":"What is the importance of ThreadLocalRandom when compared to other methods mentioned in other answers?"},{"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"score":0,"creation_date":1527589056,"post_id":50581617,"comment_id":88172726,"body_markdown":"Taken from the docs &quot;When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention.&quot; -&gt; in this case it&#39;s rather unimportant. What is important though: I instantiate it only once instead of multiple times using the scope function let","body":"Taken from the docs &quot;When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention.&quot; -&gt; in this case it&#39;s rather unimportant. What is important though: I instantiate it only once instead of multiple times using the scope function let"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1527589282,"post_id":50581617,"comment_id":88172875,"body_markdown":"Repeated calls of `ThreadLocalRandom.get()` will yield the same instance anyway.","body":"Repeated calls of <code>ThreadLocalRandom.get()</code> will yield the same instance anyway."},{"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"score":0,"creation_date":1527589314,"post_id":50581617,"comment_id":88172900,"body_markdown":"Yeah that is true but I&#39;d recommend the shown usage instead of an unnecessary local variable for it","body":"Yeah that is true but I&#39;d recommend the shown usage instead of an unnecessary local variable for it"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1527589349,"post_id":50581617,"comment_id":88172915,"body_markdown":"You need neither `let` nor a local var if you call `ThreadLocalRandom.get()` repeatedly. OTOH there&#39;s still some small overhead you eliminate by calling it only once, the lookup code.","body":"You need neither <code>let</code> nor a local var if you call <code>ThreadLocalRandom.get()</code> repeatedly. OTOH there&#39;s still some small overhead you eliminate by calling it only once, the lookup code."},{"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"score":0,"creation_date":1527589927,"post_id":50581617,"comment_id":88173241,"body_markdown":"I can see that. Thank you","body":"I can see that. Thank you"}],"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527588310,"creation_date":1527588310,"answer_id":50581617,"question_id":50581234,"body_markdown":"Maybe something like this:\r\n\r\n    val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\r\n        IntArray(5) { rnd.nextInt() }\r\n    }\r\n\r\nOr this:\r\n\r\n    val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\r\n        (0..5).map { rnd.nextInt() }.toIntArray()\r\n    }","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Maybe something like this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    IntArray(5) { rnd.nextInt() }\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    (0..5).map { rnd.nextInt() }.toIntArray()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668012744,"creation_date":1547072462,"answer_id":54119252,"question_id":50581234,"body_markdown":"Since Kotlin 1.3 was released there is no need to use Java&#39;s [`java.util.Random`][1] which would restrict your code to the JVM. Instead [`kotlin.random.Random`][2] was introduced which is available on all platforms that support Kotlin.\r\n\r\n    val amplititudes  = IntArray(10) { Random.nextInt() }.asList()\r\n\r\nSince you work with a companion object, you don&#39;t need to worry about instanting a `Random` object each iteration (like it was with the Java one that you would have had to put in a variable).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>Since Kotlin 1.3 was released there is no need to use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>java.util.Random</code></a> which would restrict your code to the JVM. Instead <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html\" rel=\"nofollow noreferrer\"><code>kotlin.random.Random</code></a> was introduced which is available on all platforms that support Kotlin.</p>\n<pre><code>val amplititudes  = IntArray(10) { Random.nextInt() }.asList()\n</code></pre>\n<p>Since you work with a companion object, you don't need to worry about instanting a <code>Random</code> object each iteration (like it was with the Java one that you would have had to put in a variable).</p>\n"},{"tags":[],"owner":{"account_id":11711420,"reputation":55,"user_id":8573240,"display_name":"Mickey Mouse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557969040,"creation_date":1557943154,"answer_id":56155189,"question_id":50581234,"body_markdown":"To generate a random number of specified length of List and between certain limits, use:\r\n```\r\nval rnds = (1..10).map { (0..130).random() }\r\n```\r\nWhere `(1..0)` -&gt; return list of 10 items\r\n`(0..130)` -&gt; return random number between given range","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>To generate a random number of specified length of List and between certain limits, use:</p>\n\n<pre><code>val rnds = (1..10).map { (0..130).random() }\n</code></pre>\n\n<p>Where <code>(1..0)</code> -> return list of 10 items\n<code>(0..130)</code> -> return random number between given range</p>\n"},{"tags":[],"owner":{"account_id":1953309,"reputation":2211,"user_id":1756939,"display_name":"AndrewBloom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576087954,"creation_date":1576085557,"answer_id":59291193,"question_id":50581234,"body_markdown":"At this time, is not specified in your question the range of the Ints and how many do you need.\r\n\r\nSo I restrict the case to [n,m] interval, and I suppose you want all the m-n+1 elements.\r\n\r\nTaking advantage of method shuffle of ArrayList, \r\n     \r\n    var shuffledList = ArrayList((n..m).toList())\r\n    shuffledList.shuffle()","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>At this time, is not specified in your question the range of the Ints and how many do you need.</p>\n\n<p>So I restrict the case to [n,m] interval, and I suppose you want all the m-n+1 elements.</p>\n\n<p>Taking advantage of method shuffle of ArrayList, </p>\n\n<pre><code>var shuffledList = ArrayList((n..m).toList())\nshuffledList.shuffle()\n</code></pre>\n"}],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13529,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":50581392,"answer_count":6,"score":13,"last_activity_date":1668012744,"creation_date":1527587158,"question_id":50581234,"body_markdown":"I have an `ArrayList` like this :\r\n\r\n    var amplititudes : ArrayList&lt;Int&gt; = ArrayList()\r\n\r\nI want to populate this with random Ints. How can I do this?","title":"Kotlin - Create an ArrayList of random Integers of specified length?","body":"<p>I have an <code>ArrayList</code> like this :</p>\n\n<pre><code>var amplititudes : ArrayList&lt;Int&gt; = ArrayList()\n</code></pre>\n\n<p>I want to populate this with random Ints. How can I do this?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668012490,"creation_date":1668012490,"answer_id":74378513,"question_id":74378238,"body_markdown":"You have to make one side the &quot;owner&quot; and the other side the &quot;inverse side&quot;.\r\n\r\nWith your mapping, you have to separate relationships between User and Qualification.\r\n\r\nYou can do this with the mappedBy attribute:\r\n\r\n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)  \r\n    private Qualification qualification;\r\n\r\nSo mappedBy points to the owner side of the relationship.","title":"cascade all with one to one doesn&#39;t work on delete action as expected","body":"<p>You have to make one side the &quot;owner&quot; and the other side the &quot;inverse side&quot;.</p>\n<p>With your mapping, you have to separate relationships between User and Qualification.</p>\n<p>You can do this with the mappedBy attribute:</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;user&quot;)  \nprivate Qualification qualification;\n</code></pre>\n<p>So mappedBy points to the owner side of the relationship.</p>\n"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74378513,"answer_count":1,"score":0,"last_activity_date":1668012490,"creation_date":1668011135,"question_id":74378238,"body_markdown":"I would like when I delete an entity the other entity get deleted \r\n\r\nhere&#39;s the first entity\r\n\r\n    @Table(name = &quot;qualification&quot;)\r\n    public class Qualification {\r\n    \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;QUALIFICATION_PK_SEQ&quot;)\r\n            @SequenceGenerator(name = &quot;QUALIFICATION_PK_SEQ&quot;, sequenceName = &quot;QUALIFICATION_PK_SEQ&quot;, allocationSize = 1)\r\n            private Long id;\r\n    \r\n            @JsonManagedReference\r\n            @OneToOne(cascade = CascadeType.ALL)\r\n            private User user;\r\n    //attributes, getters, setters\r\n    }\r\n\r\nthe other entity\r\n\r\n    @Table(name = &quot;user&quot;)\r\n        public class User {\r\n        \r\n                @Id\r\n                @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USER_PK_SEQ&quot;)\r\n                @SequenceGenerator(name = &quot;USER_PK_SEQ&quot;, sequenceName = &quot;USER_PK_SEQ&quot;, allocationSize = 1)\r\n                private Long id;\r\n        \r\n      @OneToOne(cascade = CascadeType.ALL)\r\n        private Qualification qualification;\r\n    //attributes, getters, setters\r\n    }\r\n\r\n**so when I delete a user I got this error** \r\n\r\n&gt; oracle.jdbc.OracleDatabaseException: ora-02292 integrity constraint\r\n&gt; child record found\r\n\r\nthanks in advance","title":"cascade all with one to one doesn&#39;t work on delete action as expected","body":"<p>I would like when I delete an entity the other entity get deleted</p>\n<p>here's the first entity</p>\n<pre><code>@Table(name = &quot;qualification&quot;)\npublic class Qualification {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;QUALIFICATION_PK_SEQ&quot;)\n        @SequenceGenerator(name = &quot;QUALIFICATION_PK_SEQ&quot;, sequenceName = &quot;QUALIFICATION_PK_SEQ&quot;, allocationSize = 1)\n        private Long id;\n\n        @JsonManagedReference\n        @OneToOne(cascade = CascadeType.ALL)\n        private User user;\n//attributes, getters, setters\n}\n</code></pre>\n<p>the other entity</p>\n<pre><code>@Table(name = &quot;user&quot;)\n    public class User {\n    \n            @Id\n            @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;USER_PK_SEQ&quot;)\n            @SequenceGenerator(name = &quot;USER_PK_SEQ&quot;, sequenceName = &quot;USER_PK_SEQ&quot;, allocationSize = 1)\n            private Long id;\n    \n  @OneToOne(cascade = CascadeType.ALL)\n    private Qualification qualification;\n//attributes, getters, setters\n}\n</code></pre>\n<p><strong>so when I delete a user I got this error</strong></p>\n<blockquote>\n<p>oracle.jdbc.OracleDatabaseException: ora-02292 integrity constraint\nchild record found</p>\n</blockquote>\n<p>thanks in advance</p>\n"},{"tags":["java","elasticsearch","kibana"],"answers":[{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657561673,"creation_date":1657561673,"answer_id":72942676,"question_id":72942422,"body_markdown":"In Kibana, I just need to include it with the query\r\n\r\nIE\r\n\r\n    {\r\n      ...\r\n      ...\r\n      version : true\r\n    }","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>In Kibana, I just need to include it with the query</p>\n<p>IE</p>\n<pre><code>{\n  ...\n  ...\n  version : true\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23043078,"reputation":111,"user_id":17160974,"display_name":"Stuart Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668012444,"creation_date":1668012444,"answer_id":74378501,"question_id":72942422,"body_markdown":"This may have changed since the accepted answer, or it may have been about retrieving. But the issue is relevant for search.\r\n\r\nNormally, a GET on a document will return the version, the sequence number and the primary term. But a search does not. It only [returns the ID, index, document type and score (plus the document)][1].\r\n\r\nElasticSearch 7 and later have a [`version` parameter][2] that adds the document `_version` to the return and a [`seq_no_primary_term` parameter][3] that adds the `seq_no` and `primary_term` to the return. Both can be supplied as a parameter or a value in the body.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#search-api-response-body\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-version\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-seq-no-primary-term","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>This may have changed since the accepted answer, or it may have been about retrieving. But the issue is relevant for search.</p>\n<p>Normally, a GET on a document will return the version, the sequence number and the primary term. But a search does not. It only <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#search-api-response-body\" rel=\"nofollow noreferrer\">returns the ID, index, document type and score (plus the document)</a>.</p>\n<p>ElasticSearch 7 and later have a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-version\" rel=\"nofollow noreferrer\"><code>version</code> parameter</a> that adds the document <code>_version</code> to the return and a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html#request-body-search-seq-no-primary-term\" rel=\"nofollow noreferrer\"><code>seq_no_primary_term</code> parameter</a> that adds the <code>seq_no</code> and <code>primary_term</code> to the return. Both can be supplied as a parameter or a value in the body.</p>\n"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72942676,"answer_count":2,"score":0,"last_activity_date":1668012444,"creation_date":1657560278,"question_id":72942422,"body_markdown":"I am trying to retrieve the &quot;_seq_no&quot; and &quot;_primary_term&quot; from my elastic search cluster, however it is not displaying in Kibana or when I run a search through my Java application.  I KNOW there&#39;s a setting or param I am missing to get this info back.  I&#39;ve looked around, however I have not been able to find out where I need to make the changes.\r\n\r\nCan anyone point me in the right direction?","title":"Display &quot;Seq_no&quot; and &quot;primary_term&quot; in Elastic&#39;s response","body":"<p>I am trying to retrieve the &quot;_seq_no&quot; and &quot;_primary_term&quot; from my elastic search cluster, however it is not displaying in Kibana or when I run a search through my Java application.  I KNOW there's a setting or param I am missing to get this info back.  I've looked around, however I have not been able to find out where I need to make the changes.</p>\n<p>Can anyone point me in the right direction?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1668008163,"post_id":74377374,"comment_id":131304473,"body_markdown":"You don&#39;t need three loops. I can give you a suggestion: why don&#39;t you use another variable besides ``i`` for inserting the elements in the new array?","body":"You don&#39;t need three loops. I can give you a suggestion: why don&#39;t you use another variable besides <code>i</code> for inserting the elements in the new array?"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010869,"creation_date":1668010177,"answer_id":74378022,"question_id":74377374,"body_markdown":"[&quot;Keep it simple, stupid!&quot;](https://en.wikipedia.org/wiki/KISS_principle)\r\n\r\nFor this task, you absolutely don&#39;t need to have three cycles. One cycle is enough. All you needs is to properly increment resulting array index.\r\n\r\n```\r\npublic static int[] duplicateElements(final int[] origin) {\r\n        int[] result = new int[origin.length * 2];\r\n        int resultIndex = 0;\r\n\r\n        for (int i : origin) {\r\n            result[resultIndex++] = i;\r\n            result[resultIndex++] = i;\r\n        }\r\n        return result;\r\n    }\r\n```\r\nEDIT:\r\nJust for more clarity. At every step along the source array, you need to take two steps according to the resulting array.\r\n```\r\nfor (int i : origin) {\r\n    result[resultIndex] = i;\r\n    result[resultIndex + 1] = i;\r\n    resultIndex += 2;\r\n}\r\n```","title":"Duplicate elements of array in Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/KISS_principle\" rel=\"nofollow noreferrer\">&quot;Keep it simple, stupid!&quot;</a></p>\n<p>For this task, you absolutely don't need to have three cycles. One cycle is enough. All you needs is to properly increment resulting array index.</p>\n<pre><code>public static int[] duplicateElements(final int[] origin) {\n        int[] result = new int[origin.length * 2];\n        int resultIndex = 0;\n\n        for (int i : origin) {\n            result[resultIndex++] = i;\n            result[resultIndex++] = i;\n        }\n        return result;\n    }\n</code></pre>\n<p>EDIT:\nJust for more clarity. At every step along the source array, you need to take two steps according to the resulting array.</p>\n<pre><code>for (int i : origin) {\n    result[resultIndex] = i;\n    result[resultIndex + 1] = i;\n    resultIndex += 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668012374,"creation_date":1668012374,"answer_id":74378484,"question_id":74377374,"body_markdown":"You copied the original array into the first half, and in the second half you copied - reversing - the original array again.\r\n\r\nIntended:\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n        int duplicate = 0 ;\r\n        int [] newArray = new int [elements.length*2];\r\n        for (int i = 0; i &lt; elements.length; i++) {\r\n            newArray[2*i] = elements[i];  \r\n            newArray[2*i + 1] = elements[i];  \r\n        }\r\n        return newArray;\r\n    }\r\n\r\nOr use\r\n\r\n        for (int i = 0; i &lt; newArray.length; ++i) {\r\n            newArray[i] = elements[i / 2];  \r\n        }\r\n\r\nWhere `/` is the integer division: 2/2 == 1, 3/2 == 1.\r\n\r\nNow the class `Arrays` allows this to do more expressive\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n        int[] duplicates = new int[elements.length*2];\r\n        Arrays.setAll(duplicates, i -&gt; elements[i / 2]);\r\n        return duplicates;\r\n    }\r\n\r\nThe above uses an anonymous function with int parameter i.\r\n","title":"Duplicate elements of array in Java","body":"<p>You copied the original array into the first half, and in the second half you copied - reversing - the original array again.</p>\n<p>Intended:</p>\n<pre><code>public static int[] duplicateElements(final int[] elements){\n    int duplicate = 0 ;\n    int [] newArray = new int [elements.length*2];\n    for (int i = 0; i &lt; elements.length; i++) {\n        newArray[2*i] = elements[i];  \n        newArray[2*i + 1] = elements[i];  \n    }\n    return newArray;\n}\n</code></pre>\n<p>Or use</p>\n<pre><code>    for (int i = 0; i &lt; newArray.length; ++i) {\n        newArray[i] = elements[i / 2];  \n    }\n</code></pre>\n<p>Where <code>/</code> is the integer division: 2/2 == 1, 3/2 == 1.</p>\n<p>Now the class <code>Arrays</code> allows this to do more expressive</p>\n<pre><code>public static int[] duplicateElements(final int[] elements){\n    int[] duplicates = new int[elements.length*2];\n    Arrays.setAll(duplicates, i -&gt; elements[i / 2]);\n    return duplicates;\n}\n</code></pre>\n<p>The above uses an anonymous function with int parameter i.</p>\n"}],"owner":{"account_id":22684772,"reputation":1,"user_id":16854605,"display_name":"WhosWho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668012374,"creation_date":1668007597,"question_id":74377374,"body_markdown":"How to duplicate elements of an array in Java and add them to a new array in the same order of the original array?\r\n\r\n    // Pass an array of the form {4, 16, 8},\r\n    // The returned array should then contain {4, 4, 16, 16, 8, 8}.\r\n\r\n    public static int[] duplicateElements(final int[] elements){\r\n\t\tint duplicate = 0 ;\r\n\t\tint [] newArray = new int [elements.length*2];\r\n\t\tfor(int i = 0; i &lt; elements.length;i++) {\r\n\t\t\tnewArray[i] = elements[i];\t\r\n\t\t}\r\n\t\tfor(int j = 0; j &lt; newArray.length/2;j++) {\r\n\t\t\tnewArray[newArray.length-j-1] = newArray[j];\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i = 0; i &lt; (newArray.length/2) ;i++) {\r\n\t\t\tduplicate = newArray[i];\r\n\t\t\tnewArray[i+1] = newArray[newArray.length-i-1];\r\n\t\t\tnewArray[newArray.length-i-1] = duplicate;\t\r\n\t\t}\r\n\t\t\r\n\t\treturn newArray;\r\n\t}\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tint [] newArray = new int []{4, 16, 8};\r\n    \t\t\r\n    \t\tSystem.out.println(Arrays.toString(duplicateElements(newArray)));\r\n    \r\n    \t}\r\n\r\nPlease explain why the above code is not working.\r\n\r\nMy output is : `// [4, 4, 16, 16, 4, 4]` \r\n\r\nInstead of : `// [4, 4, 16, 16, 8, 8]` \r\n","title":"Duplicate elements of array in Java","body":"<p>How to duplicate elements of an array in Java and add them to a new array in the same order of the original array?</p>\n<pre><code>// Pass an array of the form {4, 16, 8},\n// The returned array should then contain {4, 4, 16, 16, 8, 8}.\n\npublic static int[] duplicateElements(final int[] elements){\n    int duplicate = 0 ;\n    int [] newArray = new int [elements.length*2];\n    for(int i = 0; i &lt; elements.length;i++) {\n        newArray[i] = elements[i];  \n    }\n    for(int j = 0; j &lt; newArray.length/2;j++) {\n        newArray[newArray.length-j-1] = newArray[j];\n        \n    }\n    for(int i = 0; i &lt; (newArray.length/2) ;i++) {\n        duplicate = newArray[i];\n        newArray[i+1] = newArray[newArray.length-i-1];\n        newArray[newArray.length-i-1] = duplicate;  \n    }\n    \n    return newArray;\n}\npublic static void main(String[] args) {\n        \n        int [] newArray = new int []{4, 16, 8};\n        \n        System.out.println(Arrays.toString(duplicateElements(newArray)));\n\n    }\n</code></pre>\n<p>Please explain why the above code is not working.</p>\n<p>My output is : <code>// [4, 4, 16, 16, 4, 4]</code></p>\n<p>Instead of : <code>// [4, 4, 16, 16, 8, 8]</code></p>\n"},{"tags":["java","spring-boot","repository"],"answers":[{"comments":[{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1668012546,"post_id":74378477,"comment_id":131306145,"body_markdown":"ok, but in this case, how can I retrieve this value, for a possible validation?","body":"ok, but in this case, how can I retrieve this value, for a possible validation?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1668013575,"post_id":74378477,"comment_id":131306561,"body_markdown":"You call AlterarSalarioSelecionadosPorPercentual and then you get the value","body":"You call AlterarSalarioSelecionadosPorPercentual and then you get the value"},{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1668014219,"post_id":74378477,"comment_id":131306787,"body_markdown":"my question is if I would do this in the Service or in the Controller\n\nI&#39;m just starting out in the area. could you please give me an example?","body":"my question is if I would do this in the Service or in the Controller  I&#39;m just starting out in the area. could you please give me an example?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1668015096,"post_id":74378477,"comment_id":131307105,"body_markdown":"I would do this in the service.","body":"I would do this in the service."}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668012349,"creation_date":1668012349,"answer_id":74378477,"question_id":74378401,"body_markdown":"Simply add an int as return value.\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Transactional\r\n    @Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n                      + &quot;WHERE id IN (:funcionarioId) &quot;\r\n                          + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\n    int AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n","title":"get method value from java spring boot repository","body":"<p>Simply add an int as return value.</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                  + &quot;WHERE id IN (:funcionarioId) &quot;\n                      + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nint AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n"}],"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668012349,"creation_date":1668011915,"question_id":74378401,"body_markdown":"my query returns an INT, which would be the number of rows affected.\r\n\r\nI would like to know, how do I retrieve this value in the controller or service, or in the repository itself\r\n\r\n```\r\n@Modifying(clearAutomatically = true)\r\n@Transactional\r\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n\t\t\t\t  + &quot;WHERE id IN (:funcionarioId) &quot;\r\n\t\t\t          + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n```\r\n\r\ni need get method value from java spring boot repository","title":"get method value from java spring boot repository","body":"<p>my query returns an INT, which would be the number of rows affected.</p>\n<p>I would like to know, how do I retrieve this value in the controller or service, or in the repository itself</p>\n<pre><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario+(salario * :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                  + &quot;WHERE id IN (:funcionarioId) &quot;\n                      + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n<p>i need get method value from java spring boot repository</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1668005272,"post_id":74376768,"comment_id":131303241,"body_markdown":"it is a shortcut for `sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));`\nThe loop goes through all the characters in `a`, transform them into numbers and sum them into the `sum` variable","body":"it is a shortcut for <code>sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));</code> The loop goes through all the characters in <code>a</code>, transform them into numbers and sum them into the <code>sum</code> variable"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1668005368,"post_id":74376768,"comment_id":131303275,"body_markdown":"Which part of that line confuses you? have you checked the official documentation of the methods used like [Integer.paseInt](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-), [the charAt method of String](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-) etc. pp?","body":"Which part of that line confuses you? have you checked the official documentation of the methods used like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">Integer.paseInt</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#charAt-int-\" rel=\"nofollow noreferrer\">the charAt method of String</a> etc. pp?"},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668005593,"post_id":74376768,"comment_id":131303363,"body_markdown":"I can&#39;t understand how this - Integer.parseInt(String.valueOf(a.charAt(x))), calculates sum of numbers","body":"I can&#39;t understand how this - Integer.parseInt(String.valueOf(a.charAt(x))), calculates sum of numbers"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1668005945,"post_id":74376768,"comment_id":131303541,"body_markdown":"@Celeron It doesn&#39;t, that grabs a character from `String a` at position `x`, converts the `char` back to a `String` and then converts it back to an `Integer`.  The calculation comes from `sum += num` which means `sum = sum + num`, where that entire expression is `num`.","body":"@Celeron It doesn&#39;t, that grabs a character from <code>String a</code> at position <code>x</code>, converts the <code>char</code> back to a <code>String</code> and then converts it back to an <code>Integer</code>.  The calculation comes from <code>sum += num</code> which means <code>sum = sum + num</code>, where that entire expression is <code>num</code>."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668007039,"post_id":74376768,"comment_id":131303990,"body_markdown":"@Celeron Well, you pretty much just repeated your original statement. `Integer.parseInt(String.valueOf(a.charAt(x)))` is multiple method calls. So it would be helpfull if you described at which call your confusion starts. Like, do you understand what `a.charAt(x)` does and returns? If yes then do you understand what that result passed into `String.valueOf` will result in etc. pp.","body":"@Celeron Well, you pretty much just repeated your original statement. <code>Integer.parseInt(String.valueOf(a.charAt(x)))</code> is multiple method calls. So it would be helpfull if you described at which call your confusion starts. Like, do you understand what <code>a.charAt(x)</code> does and returns? If yes then do you understand what that result passed into <code>String.valueOf</code> will result in etc. pp."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668008831,"post_id":74376768,"comment_id":131304747,"body_markdown":"Thats some overly complex computation of the checksum / sum of digits of 8313 (15 as result).","body":"Thats some overly complex computation of the checksum / sum of digits of 8313 (15 as result)."},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668055997,"post_id":74376768,"comment_id":131315970,"body_markdown":"@Nexevis but would it just mean that the sum would be just the same as we entered? `System.out.println(sum(8313))` wouldn&#39;t it give us 8313 then? if sum =sum + num (which just takes the next char and return it everytime?)","body":"@Nexevis but would it just mean that the sum would be just the same as we entered? <code>System.out.println(sum(8313))</code> wouldn&#39;t it give us 8313 then? if sum =sum + num (which just takes the next char and return it everytime?)"}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668009046,"creation_date":1668007094,"answer_id":74377242,"question_id":74376768,"body_markdown":"Let&#39;s break down the line `sum += Integer.parseInt(String.valueOf(a.charAt(x)));`\r\n\r\nFirst of all `sum += 1` is the same as `sum = sum + 1`, so `sum += Integer.parseInt(String.valueOf(a.charAt(x)));` is equal to `sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));`\r\n\r\n`Integer.parseInt(&quot;1&quot;)` transforms the String &quot;1&quot; into a number, so `&quot;1&quot; =&gt; 1`. Adding a variable of the type String to a number like `sum += &quot;1&quot;` would give an error\r\n\r\n`String.valueOf()` on the other hand can transform a number or other datatype into a String, so `1 =&gt; &quot;1&quot;`. In this case it is used to transform a Character to the String datatype\r\n\r\n`a.charAt(x)` takes the Character from the String `a` at the point `x`&lt;br&gt; So if you have `a = &quot;Brentspine&quot;` then `a.charAt(1)` would return `&quot;r&quot;`, since indexing starts at 0\r\n\r\nSo the line takes the character at position `x` from the String and makes it a string. `Character` is its own class so it has to be transformed into a String. Then this String is transformed into a number and added to the `sum` variable\r\n\r\n\r\nThe `fori loop` repeats itself the length of the String `a` times. For every time it run, the `x` variable gets increased by 1. This way it adds the number at the position `x` of the String `a` to the `sum` variable, which gets returned.&lt;br&gt;\r\nIt basically says for the input `&quot;8315&quot;`:&lt;br&gt;\r\nRepeat 4 times, increase `x=0` by 1 every time.&lt;br&gt;\r\nTake the Character of the String at position `a`, make it an `int` and add it to `sum`","title":"How does this code calculate sum of entered number","body":"<p>Let's break down the line <code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));</code></p>\n<p>First of all <code>sum += 1</code> is the same as <code>sum = sum + 1</code>, so <code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));</code> is equal to <code>sum = sum + Integer.parseInt(String.valueOf(a.charAt(x)));</code></p>\n<p><code>Integer.parseInt(&quot;1&quot;)</code> transforms the String &quot;1&quot; into a number, so <code>&quot;1&quot; =&gt; 1</code>. Adding a variable of the type String to a number like <code>sum += &quot;1&quot;</code> would give an error</p>\n<p><code>String.valueOf()</code> on the other hand can transform a number or other datatype into a String, so <code>1 =&gt; &quot;1&quot;</code>. In this case it is used to transform a Character to the String datatype</p>\n<p><code>a.charAt(x)</code> takes the Character from the String <code>a</code> at the point <code>x</code><br> So if you have <code>a = &quot;Brentspine&quot;</code> then <code>a.charAt(1)</code> would return <code>&quot;r&quot;</code>, since indexing starts at 0</p>\n<p>So the line takes the character at position <code>x</code> from the String and makes it a string. <code>Character</code> is its own class so it has to be transformed into a String. Then this String is transformed into a number and added to the <code>sum</code> variable</p>\n<p>The <code>fori loop</code> repeats itself the length of the String <code>a</code> times. For every time it run, the <code>x</code> variable gets increased by 1. This way it adds the number at the position <code>x</code> of the String <code>a</code> to the <code>sum</code> variable, which gets returned.<br>\nIt basically says for the input <code>&quot;8315&quot;</code>:<br>\nRepeat 4 times, increase <code>x=0</code> by 1 every time.<br>\nTake the Character of the String at position <code>a</code>, make it an <code>int</code> and add it to <code>sum</code></p>\n"},{"comments":[{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668055178,"post_id":74377317,"comment_id":131315879,"body_markdown":"Right now code I provided will give us the sum of this digits 8313 =  15 . But if we will get next char everytime and + to the sum doesn&#39;t it mean that it would just do something like 8+1, 3+2, 1+3 and then 3+4 and give us 9547 as the result?","body":"Right now code I provided will give us the sum of this digits 8313 =  15 . But if we will get next char everytime and + to the sum doesn&#39;t it mean that it would just do something like 8+1, 3+2, 1+3 and then 3+4 and give us 9547 as the result?"},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668055666,"post_id":74377317,"comment_id":131315928,"body_markdown":"And thanks for break down! It&#39;s a bit easier to grasp what&#39;s going on there","body":"And thanks for break down! It&#39;s a bit easier to grasp what&#39;s going on there"},{"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"score":0,"creation_date":1668058974,"post_id":74377317,"comment_id":131316383,"body_markdown":"No, it updates the sum value in each iteration. In the first round, it is `8`. Then `8 + 3` which is `11` is assigned to the `sum`. So in the next iteration, the value of the `sum` is `11`. Not `3`. We are doing integer additions. If you find the answer helpful, please accept is.","body":"No, it updates the sum value in each iteration. In the first round, it is <code>8</code>. Then <code>8 + 3</code> which is <code>11</code> is assigned to the <code>sum</code>. So in the next iteration, the value of the <code>sum</code> is <code>11</code>. Not <code>3</code>. We are doing integer additions. If you find the answer helpful, please accept is."},{"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"score":0,"creation_date":1668065104,"post_id":74377317,"comment_id":131317666,"body_markdown":"OH NOW I see how it works! So the first time it takes just 8, so sum = 8, then a.charAt(x) becomes 1 so it takes 3 and after that sum = 8+3 And after it sum will be = 11 + 1, and then 12 + 3 because it takes next char each time x is less then String&#39;s length. Thank you so much! I thought I will never understand it lol","body":"OH NOW I see how it works! So the first time it takes just 8, so sum = 8, then a.charAt(x) becomes 1 so it takes 3 and after that sum = 8+3 And after it sum will be = 11 + 1, and then 12 + 3 because it takes next char each time x is less then String&#39;s length. Thank you so much! I thought I will never understand it lol"}],"tags":[],"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668007384,"creation_date":1668007384,"answer_id":74377317,"question_id":74376768,"body_markdown":"Actually, what you understood was wrong. (Or at least how you put it into words). \r\n\r\nThe `for` loop is used to loop through a range of numbers. In this case, it loops through `0` to `a.length()`, which is the number of digits in your number (The `number` variable). So in each iteration (or the step of the loop), the value of the `x` increases. It&#39;s not `0` all the time.\r\n\r\nIn each iteration, the `for` loop checks whether the `x` is still lesser than the number of digits in your number. If it reaches the limit, the loop exits.\r\n\r\nBefore entering the loop, you convert the number to a `String`. So, inside the loop, you first get the character at the index of the value of `x`. Basically, you take the character by character in your number. Then you convert it back to a digit using:\r\n\r\n```\r\nInteger.parseInt(String.valueOf(a.charAt(x)))\r\n```\r\n\r\nThen, it is added to the sum. This is pretty much the same as this:\r\n\r\n```\r\nfor(int x = 0; x &lt; a.length(); x++) {\r\n  char c = a.charAt(x);\r\n  String s = String.valueOf(c);\r\n  int digit = Integer.parseInt(s);\r\n  sum = sum + digit;\r\n}\r\n```\r\n\r\nYour code just does all four steps in one line! When you come up with such cases, try to break down the code like this. That&#39;ll help you to understand it better.\r\n","title":"How does this code calculate sum of entered number","body":"<p>Actually, what you understood was wrong. (Or at least how you put it into words).</p>\n<p>The <code>for</code> loop is used to loop through a range of numbers. In this case, it loops through <code>0</code> to <code>a.length()</code>, which is the number of digits in your number (The <code>number</code> variable). So in each iteration (or the step of the loop), the value of the <code>x</code> increases. It's not <code>0</code> all the time.</p>\n<p>In each iteration, the <code>for</code> loop checks whether the <code>x</code> is still lesser than the number of digits in your number. If it reaches the limit, the loop exits.</p>\n<p>Before entering the loop, you convert the number to a <code>String</code>. So, inside the loop, you first get the character at the index of the value of <code>x</code>. Basically, you take the character by character in your number. Then you convert it back to a digit using:</p>\n<pre><code>Integer.parseInt(String.valueOf(a.charAt(x)))\n</code></pre>\n<p>Then, it is added to the sum. This is pretty much the same as this:</p>\n<pre><code>for(int x = 0; x &lt; a.length(); x++) {\n  char c = a.charAt(x);\n  String s = String.valueOf(c);\n  int digit = Integer.parseInt(s);\n  sum = sum + digit;\n}\n</code></pre>\n<p>Your code just does all four steps in one line! When you come up with such cases, try to break down the code like this. That'll help you to understand it better.</p>\n"}],"owner":{"account_id":11391306,"reputation":15,"user_id":20459874,"display_name":"Celeron"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74377317,"answer_count":2,"score":-1,"last_activity_date":1668011335,"creation_date":1668005173,"question_id":74376768,"body_markdown":"I&#39;ve been learning Java for one week now and I came across this solution for my homework, but I just can&#39;t understand how it calculates the sum of numbers.\r\n\r\nI&#39;ve tried to understand it for 1 hour now and I feel so dumb right now.\r\n\r\nI pretty much understand that `for` add to `x + 1` every time when the length of the entered number is lower than `x` which is `0`. But I just can&#39;t get what the code inside `for` does.\r\n\r\n```java\r\nsum += Integer.parseInt(String.valueOf(a.charAt(x)));\r\n```\r\n\r\nHere is the full code\r\n\r\n```java\r\npublic class Loader {\r\n    public static void main(String[] args) {\r\n        System.out.println(sum(8313));\r\n    }\r\n\r\n    public static Integer sum(Integer number){\r\n        String a = Integer.toString(number);\r\n        Integer sum = 0;\r\n        for(int x = 0; x &lt; a.length(); x++) {\r\n            sum += Integer.parseInt(String.valueOf(a.charAt(x)));\r\n        }\r\n        return sum;\r\n    }\r\n}\r\n```\r\n","title":"How does this code calculate sum of entered number","body":"<p>I've been learning Java for one week now and I came across this solution for my homework, but I just can't understand how it calculates the sum of numbers.</p>\n<p>I've tried to understand it for 1 hour now and I feel so dumb right now.</p>\n<p>I pretty much understand that <code>for</code> add to <code>x + 1</code> every time when the length of the entered number is lower than <code>x</code> which is <code>0</code>. But I just can't get what the code inside <code>for</code> does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sum += Integer.parseInt(String.valueOf(a.charAt(x)));\n</code></pre>\n<p>Here is the full code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Loader {\n    public static void main(String[] args) {\n        System.out.println(sum(8313));\n    }\n\n    public static Integer sum(Integer number){\n        String a = Integer.toString(number);\n        Integer sum = 0;\n        for(int x = 0; x &lt; a.length(); x++) {\n            sum += Integer.parseInt(String.valueOf(a.charAt(x)));\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","react-native","kotlin"],"answers":[{"comments":[{"owner":{"account_id":10913272,"reputation":495,"user_id":8021938,"display_name":"MasterPiece"},"score":2,"creation_date":1663095436,"post_id":57073604,"comment_id":130157673,"body_markdown":"It is worth to mention that signing data should be taken from another file (like keystore.properties) and this file should be added to gitignore, so others won&#39;t copy your signing.","body":"It is worth to mention that signing data should be taken from another file (like keystore.properties) and this file should be added to gitignore, so others won&#39;t copy your signing."},{"owner":{"account_id":23664162,"reputation":101,"user_id":17691860,"display_name":"Alihaydar"},"score":0,"creation_date":1673965079,"post_id":57073604,"comment_id":132610578,"body_markdown":"hi,if we add our fileName.keystore file to gitignore,it will prevent to copy yes you are right.But when we work in a team and other members will need it too,then what should we do?","body":"hi,if we add our fileName.keystore file to gitignore,it will prevent to copy yes you are right.But when we work in a team and other members will need it too,then what should we do?"},{"owner":{"account_id":3114711,"reputation":1122,"user_id":2635761,"display_name":"Devin Brown"},"score":0,"creation_date":1676564027,"post_id":57073604,"comment_id":133166295,"body_markdown":"@Alihaydar Each developer should have their own keystore for development. Only a few trusted people and your CI server should have access to the production keystore.","body":"@Alihaydar Each developer should have their own keystore for development. Only a few trusted people and your CI server should have access to the production keystore."},{"owner":{"account_id":23664162,"reputation":101,"user_id":17691860,"display_name":"Alihaydar"},"score":0,"creation_date":1676656365,"post_id":57073604,"comment_id":133188080,"body_markdown":"@DevinBrown,I see,thank you for your comment.King regards","body":"@DevinBrown,I see,thank you for your comment.King regards"}],"tags":[],"owner":{"account_id":7215544,"reputation":27289,"user_id":5508175,"display_name":"Andrew"},"comment_count":4,"down_vote_count":0,"up_vote_count":111,"is_accepted":true,"score":111,"last_activity_date":1668011330,"creation_date":1563358698,"answer_id":57073604,"question_id":57072558,"body_markdown":"Most of the answers that you are looking for can be found [here][1] \r\n\r\n# `assembleDebug`\r\n\r\nThis builds an *apk* for your project using the debug variant. \r\n\r\n&gt; This creates an APK named module_name-debug.apk in project_name/module_name/build/outputs/apk/. The file is already signed with the debug key and aligned with zipalign, so you can immediately install it on a device.\r\n\r\n# `installDebug`\r\n\r\nThis builds an *apk* for your project using the debug variant and then installs it on a connected device\r\n\r\n&gt; Or to build the APK and immediately install it on a running emulator or connected device, instead invoke `installDebug`\r\n\r\n# `assembleRelease`\r\n\r\nThis creates a release *apk* of your app. You would then need to sign it using the command line or by setting the signing details in your `build.gradle` (see below) and then you can install it on your device using `adb`. \r\n\r\nThe steps involved for signing an *apk* by the command line are fairly long and it can depend on how your project is set up. Steps for signing can be found [here][2] \r\n\r\n\r\n# `bundleRelease`\r\n\r\nThis creates a release *aab*, this is Google&#39;s preferred format for uploading to the Play Store. \r\n\r\n&gt; Android App Bundles include all your apps compiled code and resources, but defer APK generation and signing to Google Play. Unlike an APK, you can&#39;t deploy an app bundle directly to a device. So, if you want to quickly test or share an APK with someone else, you should instead build an APK.\r\n\r\n# Signing your apk/aab\r\n\r\nYou can configure your `app/build.gradle` so that signing will be done after your build has been completed. \r\n\r\nIn your `app/build.gradle`\r\n\r\n    android {\r\n        ...\r\n        defaultConfig { ... }\r\n        signingConfigs {\r\n            release {\r\n                // You need to specify either an absolute path or include the\r\n                // keystore file in the same directory as the build.gradle file.\r\n                storeFile file(&quot;my-release-key.jks&quot;)\r\n                storePassword &quot;password&quot;\r\n                keyAlias &quot;my-alias&quot;\r\n                keyPassword &quot;password&quot;\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nYou can read more about signing your app [here][3]\r\n\r\n&gt;Now, when you build your app by invoking a Gradle task, Gradle signs your app (and runs zipalign) for you.\r\n&gt;\r\n&gt; Additionally, because you&#39;ve configured the release build with your signing key, the &quot;install&quot; task is available for that build type. So you can build, align, sign, and install the release APK on an emulator or device all with the installRelease task.\r\n\r\n**NOTE** \r\n\r\nIt is best practice to not store your your signing data in your `app/build.gradle`. The following [answer](https://stackoverflow.com/questions/20562189/sign-apk-without-putting-keystore-info-in-build-gradle) shows you how to store the signing data.\r\n\r\n\r\n\r\n# `installRelease`\r\n\r\nYou will have to have set up the signing above for this to work for a release build. It is the same as the `installDebug` but it creates a signed release variant and installs it on a connected device.\r\n\r\n# Usage\r\n\r\n- I use `assembleRelease` to build an *apk* that I want to share with other people.\r\n- I use `installRelease` when I want to test a release build on a connected device.\r\n- I use `bundleRelease` when I am uploading my app to the Play Store.\r\n\r\n  [1]: https://developer.android.com/studio/build/building-cmdline\r\n  [2]: https://developer.android.com/studio/build/building-cmdline#sign_cmdline\r\n  [3]: https://developer.android.com/studio/build/building-cmdline#gradle_signing","title":"What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use which?","body":"<p>Most of the answers that you are looking for can be found <a href=\"https://developer.android.com/studio/build/building-cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>assembleDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant.</p>\n<blockquote>\n<p>This creates an APK named module_name-debug.apk in project_name/module_name/build/outputs/apk/. The file is already signed with the debug key and aligned with zipalign, so you can immediately install it on a device.</p>\n</blockquote>\n<h1><code>installDebug</code></h1>\n<p>This builds an <em>apk</em> for your project using the debug variant and then installs it on a connected device</p>\n<blockquote>\n<p>Or to build the APK and immediately install it on a running emulator or connected device, instead invoke <code>installDebug</code></p>\n</blockquote>\n<h1><code>assembleRelease</code></h1>\n<p>This creates a release <em>apk</em> of your app. You would then need to sign it using the command line or by setting the signing details in your <code>build.gradle</code> (see below) and then you can install it on your device using <code>adb</code>.</p>\n<p>The steps involved for signing an <em>apk</em> by the command line are fairly long and it can depend on how your project is set up. Steps for signing can be found <a href=\"https://developer.android.com/studio/build/building-cmdline#sign_cmdline\" rel=\"noreferrer\">here</a></p>\n<h1><code>bundleRelease</code></h1>\n<p>This creates a release <em>aab</em>, this is Google's preferred format for uploading to the Play Store.</p>\n<blockquote>\n<p>Android App Bundles include all your apps compiled code and resources, but defer APK generation and signing to Google Play. Unlike an APK, you can't deploy an app bundle directly to a device. So, if you want to quickly test or share an APK with someone else, you should instead build an APK.</p>\n</blockquote>\n<h1>Signing your apk/aab</h1>\n<p>You can configure your <code>app/build.gradle</code> so that signing will be done after your build has been completed.</p>\n<p>In your <code>app/build.gradle</code></p>\n<pre><code>android {\n    ...\n    defaultConfig { ... }\n    signingConfigs {\n        release {\n            // You need to specify either an absolute path or include the\n            // keystore file in the same directory as the build.gradle file.\n            storeFile file(&quot;my-release-key.jks&quot;)\n            storePassword &quot;password&quot;\n            keyAlias &quot;my-alias&quot;\n            keyPassword &quot;password&quot;\n        }\n    }\n    buildTypes {\n        release {\n            signingConfig signingConfigs.release\n            ...\n        }\n    }\n}\n</code></pre>\n<p>You can read more about signing your app <a href=\"https://developer.android.com/studio/build/building-cmdline#gradle_signing\" rel=\"noreferrer\">here</a></p>\n<blockquote>\n<p>Now, when you build your app by invoking a Gradle task, Gradle signs your app (and runs zipalign) for you.</p>\n<p>Additionally, because you've configured the release build with your signing key, the &quot;install&quot; task is available for that build type. So you can build, align, sign, and install the release APK on an emulator or device all with the installRelease task.</p>\n</blockquote>\n<p><strong>NOTE</strong></p>\n<p>It is best practice to not store your your signing data in your <code>app/build.gradle</code>. The following <a href=\"https://stackoverflow.com/questions/20562189/sign-apk-without-putting-keystore-info-in-build-gradle\">answer</a> shows you how to store the signing data.</p>\n<h1><code>installRelease</code></h1>\n<p>You will have to have set up the signing above for this to work for a release build. It is the same as the <code>installDebug</code> but it creates a signed release variant and installs it on a connected device.</p>\n<h1>Usage</h1>\n<ul>\n<li>I use <code>assembleRelease</code> to build an <em>apk</em> that I want to share with other people.</li>\n<li>I use <code>installRelease</code> when I want to test a release build on a connected device.</li>\n<li>I use <code>bundleRelease</code> when I am uploading my app to the Play Store.</li>\n</ul>\n"}],"owner":{"account_id":14260353,"reputation":1238,"user_id":10301357,"display_name":"zidniryi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24016,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":57073604,"answer_count":1,"score":46,"last_activity_date":1668011330,"creation_date":1563355296,"question_id":57072558,"body_markdown":"When I want to upload an Android application to the Play Store, which one should I use?\r\n\r\nI have tried the above but I am still confused about which one is the most effective?\r\n\r\n``` \r\n./gradlew assembleRelease\r\n./gradlew installRelease\r\n./gradlew bundleRelease\r\n```\r\n\r\nI expect the best way to do the above.","title":"What&#39;s the difference between gradlewAssembleRelease, gradlewInstallRelease, and gradlew bundleRelease and when to use which?","body":"<p>When I want to upload an Android application to the Play Store, which one should I use?</p>\n<p>I have tried the above but I am still confused about which one is the most effective?</p>\n<pre><code>./gradlew assembleRelease\n./gradlew installRelease\n./gradlew bundleRelease\n</code></pre>\n<p>I expect the best way to do the above.</p>\n"},{"tags":["java","grafana","spring-boot-actuator","spring-micrometer"],"comments":[{"owner":{"account_id":6482269,"reputation":13108,"user_id":5024726,"display_name":"Matt"},"score":0,"creation_date":1626460991,"post_id":68394394,"comment_id":120908484,"body_markdown":"Have a look here: https://grafana.com/blog/2020/06/23/how-to-visualize-prometheus-histograms-in-grafana/","body":"Have a look here: <a href=\"https://grafana.com/blog/2020/06/23/how-to-visualize-prometheus-histograms-in-grafana/\" rel=\"nofollow noreferrer\">grafana.com/blog/2020/06/23/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8617737,"reputation":96,"user_id":6453924,"display_name":"Sumit Chawla"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1668011127,"creation_date":1642391755,"answer_id":70736368,"question_id":68394394,"body_markdown":"you can find 99th percentile/95th percentile of the latency of given endpoint using this metric and can use histogram_quantile function for that.\r\ne.g. For 99th percentile : \r\n\r\n```\r\nhistogram_quantile(\r\n  0.99, \r\n  sum(\r\n    rate(\r\n      http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\r\n  ) by (le)\r\n)\r\n```\r\nFor 95th percentile : \r\n\r\n```\r\nhistogram_quantile(\r\n  0.95, \r\n  sum(\r\n    rate(http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\r\n  ) by (le)\r\n)\r\n```\r\n\r\nMore on it:\r\nA nice snippet from reference:\r\nhttps://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/\r\n\r\nThe histogram is a collection of buckets (or counters), each maintaining the number of events observed that took up to duration specified by the le tag. Let&#39;s have a look at a part of the histogram as published by our demo application:\r\n\r\n```\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.067108864&quot;,} 0.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.089478485&quot;,} 0.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.111848106&quot;,} 92382.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.134217727&quot;,} 99050.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.156587348&quot;,} 99703.0\r\n...\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.984263336&quot;,} 99987.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;1.0&quot;,} 99987.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;+Inf&quot;,} 100000.0\r\n```\r\n\r\nThe second line in the listing above indicates there were no requests observed that took up to ~89ms (specified by the `le` tag). This is expected given the 100ms sleep time when processing requests. Line #3 shows that 92,382 requests were observed whose duration took up to ~111ms. Note that the histogram is cumulative and that the entire count of requests falls in the last bucket with no upper limit `le=&quot;+Inf&quot;`.\r\n","title":"Java Micrometer - What to do with metrics of type *_bucket","body":"<p>you can find 99th percentile/95th percentile of the latency of given endpoint using this metric and can use histogram_quantile function for that.\ne.g. For 99th percentile :</p>\n<pre><code>histogram_quantile(\n  0.99, \n  sum(\n    rate(\n      http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\n  ) by (le)\n)\n</code></pre>\n<p>For 95th percentile :</p>\n<pre><code>histogram_quantile(\n  0.95, \n  sum(\n    rate(http_server_requests_seconds_bucket{exception=&quot;None&quot;, uri = &quot;/your-uri&quot;}[5m])\n  ) by (le)\n)\n</code></pre>\n<p>More on it:\nA nice snippet from reference:\n<a href=\"https://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/\" rel=\"nofollow noreferrer\">https://idanlupinsky.com/blog/application-monitoring-with-micrometer-prometheus-grafana-and-cloudwatch/</a></p>\n<p>The histogram is a collection of buckets (or counters), each maintaining the number of events observed that took up to duration specified by the le tag. Let's have a look at a part of the histogram as published by our demo application:</p>\n<pre><code>http_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.067108864&quot;,} 0.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.089478485&quot;,} 0.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.111848106&quot;,} 92382.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.134217727&quot;,} 99050.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.156587348&quot;,} 99703.0\n...\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;0.984263336&quot;,} 99987.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;1.0&quot;,} 99987.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/demo&quot;,le=&quot;+Inf&quot;,} 100000.0\n</code></pre>\n<p>The second line in the listing above indicates there were no requests observed that took up to ~89ms (specified by the <code>le</code> tag). This is expected given the 100ms sleep time when processing requests. Line #3 shows that 92,382 requests were observed whose duration took up to ~111ms. Note that the histogram is cumulative and that the entire count of requests falls in the last bucket with no upper limit <code>le=&quot;+Inf&quot;</code>.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5903,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70736368,"answer_count":1,"score":3,"last_activity_date":1668011127,"creation_date":1626354260,"question_id":68394394,"body_markdown":"Quick question regarding metrics of type *_bucket please.\r\n\r\nMy application generates metrics, like those below:\r\n\r\n```\r\n\r\n# HELP http_server_requests_seconds  \r\n# TYPE http_server_requests_seconds histogram\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.005592405&quot;,} 273.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.006990506&quot;,} 797.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.008388607&quot;,} 2638.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.009786708&quot;,} 3543.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.011184809&quot;,} 3932.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.01258291&quot;,} 4154.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.013981011&quot;,} 4279.0\r\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.015379112&quot;,} 4380.0\r\n\r\n```\r\n\r\nand \r\n\r\n```\r\n# HELP resilience4j_circuitbreaker_calls_seconds Total number of successful calls\r\n# TYPE resilience4j_circuitbreaker_calls_seconds histogram\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001048576&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001398101&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001747626&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002097151&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002446676&quot;,} 0.0\r\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002796201&quot;,} 0.0\r\n```\r\n\r\nI believe they are really useful, but unfortunately, I do not know what to do with them.\r\n\r\nI tried some queries such as ```rate(http_server_requests_seconds{_bucket_=\\&quot;+Inf\\&quot;, status=~\\&quot;2..\\&quot;}[5m])```, but does not seems to bring anything valuable out.\r\n\r\nMay I ask what is the proper way to use those metrics of type *_bucket, for instance, how to build Grafana dashboards and visuals that are the best suited for those *_bucket please?\r\n\r\nThank you","title":"Java Micrometer - What to do with metrics of type *_bucket","body":"<p>Quick question regarding metrics of type *_bucket please.</p>\n<p>My application generates metrics, like those below:</p>\n<pre><code>\n# HELP http_server_requests_seconds  \n# TYPE http_server_requests_seconds histogram\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.005592405&quot;,} 273.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.006990506&quot;,} 797.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.008388607&quot;,} 2638.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.009786708&quot;,} 3543.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.011184809&quot;,} 3932.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.01258291&quot;,} 4154.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.013981011&quot;,} 4279.0\nhttp_server_requests_seconds_bucket{exception=&quot;None&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/health&quot;,le=&quot;0.015379112&quot;,} 4380.0\n\n</code></pre>\n<p>and</p>\n<pre><code># HELP resilience4j_circuitbreaker_calls_seconds Total number of successful calls\n# TYPE resilience4j_circuitbreaker_calls_seconds histogram\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001048576&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001398101&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.001747626&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002097151&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002446676&quot;,} 0.0\nresilience4j_circuitbreaker_calls_seconds_bucket{kind=&quot;successful&quot;,name=&quot;someName&quot;,le=&quot;0.002796201&quot;,} 0.0\n</code></pre>\n<p>I believe they are really useful, but unfortunately, I do not know what to do with them.</p>\n<p>I tried some queries such as <code>rate(http_server_requests_seconds{_bucket_=\\&quot;+Inf\\&quot;, status=~\\&quot;2..\\&quot;}[5m])</code>, but does not seems to bring anything valuable out.</p>\n<p>May I ask what is the proper way to use those metrics of type *_bucket, for instance, how to build Grafana dashboards and visuals that are the best suited for those *_bucket please?</p>\n<p>Thank you</p>\n"},{"tags":["java","multithreading","synchronized","java-threads"],"comments":[{"owner":{"account_id":5545188,"reputation":188,"user_id":4400198,"display_name":"Girija Sankar Panda"},"score":0,"creation_date":1668010331,"post_id":74377403,"comment_id":131305354,"body_markdown":"the mentioned behavior is not true. If you run the code multiple times, you will not get  200000 in most of the cases. Even if you uncomment the synchronized block ,the answer will not be  200000 as you are putting lock on different object. The answer can only be 200000, if you put lock on a single object. ThreadLocal is the culprit for the above behavior.","body":"the mentioned behavior is not true. If you run the code multiple times, you will not get  200000 in most of the cases. Even if you uncomment the synchronized block ,the answer will not be  200000 as you are putting lock on different object. The answer can only be 200000, if you put lock on a single object. ThreadLocal is the culprit for the above behavior."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1668010854,"post_id":74377403,"comment_id":131305553,"body_markdown":"Be aware that the use of `System.out.println` will distort results as that obtains a lock, and thus influences visibility, potentially to the point that it might behave the same as the code using `synchronized` (though that might depend on the platform and other implementation details).","body":"Be aware that the use of <code>System.out.println</code> will distort results as that obtains a lock, and thus influences visibility, potentially to the point that it might behave the same as the code using <code>synchronized</code> (though that might depend on the platform and other implementation details)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668011128,"post_id":74377403,"comment_id":131305657,"body_markdown":"@GirijaSankarPanda, What you said is not guaranteed to be true. The outcome of running improperly synchronized code is indeterminate: Not guaranteed to be &quot;correct,&quot; and not guaranteed to be &quot;incorrect&quot; either.","body":"@GirijaSankarPanda, What you said is not guaranteed to be true. The outcome of running improperly synchronized code is indeterminate: Not guaranteed to be &quot;correct,&quot; and not guaranteed to be &quot;incorrect&quot; either."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668011212,"post_id":74377403,"comment_id":131305694,"body_markdown":"@elvis, no surprise that you see the same results with or without `synchronized` because your two threads are `synchronized` on two _different_ objects. Synchronization only means anything if the two threads both synchronize on the _same_ object.","body":"@elvis, no surprise that you see the same results with or without <code>synchronized</code> because your two threads are <code>synchronized</code> on two <i>different</i> objects. Synchronization only means anything if the two threads both synchronize on the <i>same</i> object."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668011936,"post_id":74377403,"comment_id":131305922,"body_markdown":"As @MarkRotteveel said, the printings internal synchronization may affect the result. But its also possible that starting the second thread is slow enough for the first to finish first. As mentioned by others, synchronizing on different objects can affect the result, while not guaranteeing the intended result. Also fetched from main memory is the wrong mindset. Thats not how it works.","body":"As @MarkRotteveel said, the printings internal synchronization may affect the result. But its also possible that starting the second thread is slow enough for the first to finish first. As mentioned by others, synchronizing on different objects can affect the result, while not guaranteeing the intended result. Also fetched from main memory is the wrong mindset. Thats not how it works."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668023210,"post_id":74377403,"comment_id":131309710,"body_markdown":"P.S., If you want two threads to do the same thing, you do not need two distinct functions for them to run. They both can run the same function. If you need two threads to do _almost_ the same thing or similar things, then it often makes sense to have them both run the same function, but with different arguments.","body":"P.S., If you want two threads to do the same thing, you do not need two distinct functions for them to run. They both can run the same function. If you need two threads to do <i>almost</i> the same thing or similar things, then it often makes sense to have them both run the same function, but with different arguments."}],"answers":[{"tags":[],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010224,"creation_date":1668010224,"answer_id":74378032,"question_id":74377403,"body_markdown":"Good that you are stepping into multithreaded world. Your program shouldn&#39;t print 200000 at the end. Please correct your program by adding these lines at the end (after thread2.start() )\r\n\r\n    thread1.join();  //asks main thread to wait until thread1 is finished\r\n    thread2.join();  //asks main thread to wait until thread1 is finished\r\n    System.out.println(obj.counter1);\r\n\r\nNow run this program for 3 or 4 times and you will see your program will print different values everytime. \r\n\r\nAlso, `incCounter1` and `incCounter2` methods should be synchronised on same Object (lets say `monitor1`) if they are updating same `counter1`. If `incCounter1` is updating `counter1` and `incCounter2` is updating `counter2`, then your way of synchronising `Object1` and `Object2` is correct.\r\n","title":"Where does the program know the exact value of the instance variable if I don&#39;t use synchronized in Java?","body":"<p>Good that you are stepping into multithreaded world. Your program shouldn't print 200000 at the end. Please correct your program by adding these lines at the end (after thread2.start() )</p>\n<pre><code>thread1.join();  //asks main thread to wait until thread1 is finished\nthread2.join();  //asks main thread to wait until thread1 is finished\nSystem.out.println(obj.counter1);\n</code></pre>\n<p>Now run this program for 3 or 4 times and you will see your program will print different values everytime.</p>\n<p>Also, <code>incCounter1</code> and <code>incCounter2</code> methods should be synchronised on same Object (lets say <code>monitor1</code>) if they are updating same <code>counter1</code>. If <code>incCounter1</code> is updating <code>counter1</code> and <code>incCounter2</code> is updating <code>counter2</code>, then your way of synchronising <code>Object1</code> and <code>Object2</code> is correct.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668010904,"creation_date":1668007679,"question_id":74377403,"body_markdown":"I&#39;m learning about Java multithreading and I&#39;m doing some simple tests with synchronized blocks and without synchronized block.\r\n\r\n    public class MultipleMonitorObjects {\r\n    \r\n        private Object monitor1 = new Object();\r\n        private Object monitor2 = new Object();\r\n    \r\n        private int counter1 = 0;\r\n    //    private int counter2 = 0;\r\n    \r\n        public void incCounter1() {\r\n    //        synchronized (this.monitor1) {\r\n                this.counter1++;\r\n                System.out.println(&quot;Inside incCounter1, counter1 = &quot; + counter1);\r\n    //        }\r\n        }\r\n    \r\n        public void incCounter2() {\r\n    //        synchronized (this.monitor2) {\r\n                this.counter1++;\r\n                System.out.println(&quot;Inside incCounter2, counter1 = &quot; + counter1);\r\n    //        }\r\n        }\r\n    } \r\n\r\nMain class:\r\n\r\n    public class MultipleMonitorObjectsMain {\r\n        public static void main(String[] args) {\r\n            MultipleMonitorObjects obj = new MultipleMonitorObjects();\r\n    \r\n            Thread thread1 = new Thread(\r\n                    new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            for (int i = 0; i &lt; 100000; i++) {\r\n                                    obj.incCounter1();\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            Thread thread2 = new Thread(\r\n                    new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            for (int i = 100000; i &lt; 200000; i++) {\r\n                                obj.incCounter2();\r\n                            }\r\n                        }\r\n                    }\r\n            );\r\n    \r\n            thread1.start();\r\n            thread2.start();\r\n        }\r\n    }\r\n\r\nWhat I don&#39;t understand is why if I comment the synchronized line, the counter is exactly 200000. I understand the case when I&#39;m using synchronized, the counter is 200000, because if there is synchronized block, the value of counter is added in main memory after every incrementation, and it is fetched from main memory before every incrementation, so the program knows the exact value for counter variable at any time. But if I comment the synchronized line, where does the program know the exact value? I thought the value will be different than 200000 at the end. \r\n","title":"Where does the program know the exact value of the instance variable if I don&#39;t use synchronized in Java?","body":"<p>I'm learning about Java multithreading and I'm doing some simple tests with synchronized blocks and without synchronized block.</p>\n<pre><code>public class MultipleMonitorObjects {\n\n    private Object monitor1 = new Object();\n    private Object monitor2 = new Object();\n\n    private int counter1 = 0;\n//    private int counter2 = 0;\n\n    public void incCounter1() {\n//        synchronized (this.monitor1) {\n            this.counter1++;\n            System.out.println(&quot;Inside incCounter1, counter1 = &quot; + counter1);\n//        }\n    }\n\n    public void incCounter2() {\n//        synchronized (this.monitor2) {\n            this.counter1++;\n            System.out.println(&quot;Inside incCounter2, counter1 = &quot; + counter1);\n//        }\n    }\n} \n</code></pre>\n<p>Main class:</p>\n<pre><code>public class MultipleMonitorObjectsMain {\n    public static void main(String[] args) {\n        MultipleMonitorObjects obj = new MultipleMonitorObjects();\n\n        Thread thread1 = new Thread(\n                new Runnable() {\n                    @Override\n                    public void run() {\n                        for (int i = 0; i &lt; 100000; i++) {\n                                obj.incCounter1();\n                        }\n                    }\n                }\n        );\n\n        Thread thread2 = new Thread(\n                new Runnable() {\n                    @Override\n                    public void run() {\n                        for (int i = 100000; i &lt; 200000; i++) {\n                            obj.incCounter2();\n                        }\n                    }\n                }\n        );\n\n        thread1.start();\n        thread2.start();\n    }\n}\n</code></pre>\n<p>What I don't understand is why if I comment the synchronized line, the counter is exactly 200000. I understand the case when I'm using synchronized, the counter is 200000, because if there is synchronized block, the value of counter is added in main memory after every incrementation, and it is fetched from main memory before every incrementation, so the program knows the exact value for counter variable at any time. But if I comment the synchronized line, where does the program know the exact value? I thought the value will be different than 200000 at the end.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":26241561,"reputation":13,"user_id":19915802,"display_name":"Lukas Jankauskas"},"score":0,"creation_date":1668010541,"post_id":74377122,"comment_id":131305431,"body_markdown":"Im using nodes for this BST, but this could work","body":"Im using nodes for this BST, but this could work"}],"tags":[],"owner":{"account_id":26565404,"reputation":28,"user_id":20192533,"display_name":"Omar Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668006629,"creation_date":1668006629,"answer_id":74377122,"question_id":74376779,"body_markdown":"If I&#39;m understanding correctly, you want to find the greatest element that is smaller than the input.\r\n\r\nI.e. if your tree was:\r\n```\r\n        5\r\n      /   \\\r\n     3     8\r\n    / \\   /\r\n   2   4 6\r\n          \\\r\n           7\r\n```\r\nYou&#39;d want the input `lower(8)` to return `7`.\r\n\r\nYou can do this via [in-order traversal](https://opendsa-server.cs.vt.edu/ODSA/Books/Everything/html/BinaryTreeTraversal.html#inorder-traversal). This will allow you to traverse the binary tree in a sorted order of elements. You can then use this to return the element before the input. One way to do this is to store the in-order traversal in an array and then print the index of the element 1 before the input&#39;s location. This will also allow you to return NULL if no such element exists.\r\n\r\nYou can find implementations of storing in-order traversals into an array [here.](https://stackoverflow.com/questions/41722212/storing-binarysearchtree-inorder-traversal-in-an-array)\r\n\r\n","title":"Binary Search Tree - lower() method implementation","body":"<p>If I'm understanding correctly, you want to find the greatest element that is smaller than the input.</p>\n<p>I.e. if your tree was:</p>\n<pre><code>        5\n      /   \\\n     3     8\n    / \\   /\n   2   4 6\n          \\\n           7\n</code></pre>\n<p>You'd want the input <code>lower(8)</code> to return <code>7</code>.</p>\n<p>You can do this via <a href=\"https://opendsa-server.cs.vt.edu/ODSA/Books/Everything/html/BinaryTreeTraversal.html#inorder-traversal\" rel=\"nofollow noreferrer\">in-order traversal</a>. This will allow you to traverse the binary tree in a sorted order of elements. You can then use this to return the element before the input. One way to do this is to store the in-order traversal in an array and then print the index of the element 1 before the input's location. This will also allow you to return NULL if no such element exists.</p>\n<p>You can find implementations of storing in-order traversals into an array <a href=\"https://stackoverflow.com/questions/41722212/storing-binarysearchtree-inorder-traversal-in-an-array\">here.</a></p>\n"},{"tags":[],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668007717,"creation_date":1668007717,"answer_id":74377416,"question_id":74376779,"body_markdown":"You can [iterate][1] the BT and store the largest number that is smaller than the input.\r\nYou can also make it more efficient by not exploring a subtree that has a root that is bigger than your value or smaller than the current largest value that is smaller than the input.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/binary-tree-iterator-for-inorder-traversal/","title":"Binary Search Tree - lower() method implementation","body":"<p>You can <a href=\"https://www.geeksforgeeks.org/binary-tree-iterator-for-inorder-traversal/\" rel=\"nofollow noreferrer\">iterate</a> the BT and store the largest number that is smaller than the input.\nYou can also make it more efficient by not exploring a subtree that has a root that is bigger than your value or smaller than the current largest value that is smaller than the input.</p>\n"},{"comments":[{"owner":{"account_id":26241561,"reputation":13,"user_id":19915802,"display_name":"Lukas Jankauskas"},"score":0,"creation_date":1668010479,"post_id":74377897,"comment_id":131305408,"body_markdown":"Could you give a code example? (If you code in Java?)","body":"Could you give a code example? (If you code in Java?)"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1668010596,"post_id":74377897,"comment_id":131305457,"body_markdown":"@LukasJankauskas I have intentionally declined to provide code.  It&#39;s *your* homework.  What I&#39;ve already given is probably more of a hint than is healthy for you.","body":"@LukasJankauskas I have intentionally declined to provide code.  It&#39;s <i>your</i> homework.  What I&#39;ve already given is probably more of a hint than is healthy for you."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668010549,"creation_date":1668009649,"answer_id":74377897,"question_id":74376779,"body_markdown":"Algorithm:\r\n\r\n   1. Let the current node be the root\r\n   2. Repeat:\r\n      - if the current node is greater than or equal to `e` and has a left child, move left.\r\n      - if the current node is less than `e` and has a right child, move right.\r\n      - if the above did not produce a movement then stop looping\r\n\r\n   Then,\r\n\r\n - if the resulting node is strictly less than `e` then it is the wanted result.  Otherwise,\r\n - if the resulting node is exactly `e`, is not the root node, and is greater than its parent node, then its parent is the wanted result.  Otherwise\r\n - there is no node lower than `e` in the tree.","title":"Binary Search Tree - lower() method implementation","body":"<p>Algorithm:</p>\n<ol>\n<li>Let the current node be the root</li>\n<li>Repeat:\n<ul>\n<li>if the current node is greater than or equal to <code>e</code> and has a left child, move left.</li>\n<li>if the current node is less than <code>e</code> and has a right child, move right.</li>\n<li>if the above did not produce a movement then stop looping</li>\n</ul>\n</li>\n</ol>\n<p>Then,</p>\n<ul>\n<li>if the resulting node is strictly less than <code>e</code> then it is the wanted result.  Otherwise,</li>\n<li>if the resulting node is exactly <code>e</code>, is not the root node, and is greater than its parent node, then its parent is the wanted result.  Otherwise</li>\n<li>there is no node lower than <code>e</code> in the tree.</li>\n</ul>\n"}],"owner":{"account_id":26241561,"reputation":13,"user_id":19915802,"display_name":"Lukas Jankauskas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668010668,"creation_date":1668005244,"question_id":74376779,"body_markdown":"I was trying to implement a `E lower(E e)` method to a BST (Binary Search Tree) data structure. It should work like this - (return the greatest element in this set strictly less than the given element, or null if there is no such element). I am stuck at this problem. Any tips?\r\n\r\nFor example, if I have a binary tree like: calling method lower(6), should return 5\r\n\r\n  5\r\n/   \\\r\n1     6\r\n\r\nMy code example (Java)\r\n\r\n```java\r\npublic E lower(E e)\r\n{\r\n    if (e== null) {\r\n        throw new IllegalArgumentException(&quot;Element is null in lower(E element)&quot;);\r\n    }\r\n    BstNode&lt;E&gt; node = root;\r\n    BstNode&lt;E&gt; parent = null;\r\n    BstNode&lt;E&gt; ch = null;\r\n    int cmp = c.compare(e, root.element);\r\n    while(node != null)\r\n    {\r\n        if (cmp &gt; 0)\r\n        {\r\n            if(node.right != null)\r\n            {\r\n                node = node.right;\r\n            }\r\n            else\r\n                return node.element;\r\n        }\r\n        else\r\n        {\r\n            if(node.left != null)\r\n            {\r\n                node = node.left;\r\n            }\r\n            else\r\n                ///DONT KNOW WHAT TO DO HERE\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```","title":"Binary Search Tree - lower() method implementation","body":"<p>I was trying to implement a <code>E lower(E e)</code> method to a BST (Binary Search Tree) data structure. It should work like this - (return the greatest element in this set strictly less than the given element, or null if there is no such element). I am stuck at this problem. Any tips?</p>\n<p>For example, if I have a binary tree like: calling method lower(6), should return 5</p>\n<p>5\n/   <br />\n1     6</p>\n<p>My code example (Java)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public E lower(E e)\n{\n    if (e== null) {\n        throw new IllegalArgumentException(&quot;Element is null in lower(E element)&quot;);\n    }\n    BstNode&lt;E&gt; node = root;\n    BstNode&lt;E&gt; parent = null;\n    BstNode&lt;E&gt; ch = null;\n    int cmp = c.compare(e, root.element);\n    while(node != null)\n    {\n        if (cmp &gt; 0)\n        {\n            if(node.right != null)\n            {\n                node = node.right;\n            }\n            else\n                return node.element;\n        }\n        else\n        {\n            if(node.left != null)\n            {\n                node = node.left;\n            }\n            else\n                ///DONT KNOW WHAT TO DO HERE\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","matcher","ioutils"],"comments":[{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":0,"creation_date":1667996567,"post_id":74374822,"comment_id":131299927,"body_markdown":"Please include an example with a string literal.","body":"Please include an example with a string literal."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1667998485,"post_id":74374822,"comment_id":131300594,"body_markdown":"no idea what `IOUtils` does, but the first snippet is *removing* newlines; `IOUtils` probably not","body":"no idea what <code>IOUtils</code> does, but the first snippet is <i>removing</i> newlines; <code>IOUtils</code> probably not"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1667999483,"post_id":74374822,"comment_id":131300940,"body_markdown":"@user16320675 what inside the first snippet is responsible for removal of new lines?","body":"@user16320675 what inside the first snippet is responsible for removal of new lines?"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1667999564,"post_id":74374822,"comment_id":131300976,"body_markdown":"@erip it can be the content of any webpage [too big to share it here]. For the same content, the first snippet can find the search string where as the second one doesn&#39;t.","body":"@erip it can be the content of any webpage [too big to share it here]. For the same content, the first snippet can find the search string where as the second one doesn&#39;t."},{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":0,"creation_date":1668000038,"post_id":74374822,"comment_id":131301143,"body_markdown":"Yes, but we can&#39;t debug &quot;any webpage&quot; so we need an example that you&#39;ve observed or can manufacture.","body":"Yes, but we can&#39;t debug &quot;any webpage&quot; so we need an example that you&#39;ve observed or can manufacture."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668000338,"post_id":74374822,"comment_id":131301262,"body_markdown":"line brakes will be the problem. Remove line brakes or try this pattern: &quot;(?m).*?My_PATTERN:(.*)&quot;","body":"line brakes will be the problem. Remove line brakes or try this pattern: &quot;(?m).*?My_PATTERN:(.*)&quot;"},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1668000359,"post_id":74374822,"comment_id":131301270,"body_markdown":"@erip I have attached the string for which the search is failing. As quoted above, the newline character might have something to do with this.","body":"@erip I have attached the string for which the search is failing. As quoted above, the newline character might have something to do with this."},{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1668000628,"post_id":74374822,"comment_id":131301369,"body_markdown":"@szeak I tried this pattern```pattern = Pattern.compile(&quot;(?m).*?HTTPSTATUS:(.*)&quot;);```. The line breaks were not removed (&quot;\\n&quot;) and the find() did not work with the second solution. Is there a waay to remove line breaks?","body":"@szeak I tried this pattern<code>pattern = Pattern.compile(&quot;(?m).*?HTTPSTATUS:(.*)&quot;);</code>. The line breaks were not removed (&quot;\\n&quot;) and the find() did not work with the second solution. Is there a waay to remove line breaks?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1668001087,"post_id":74374822,"comment_id":131301539,"body_markdown":"`.lines()` will *retrieve* each line, using newline or line break as separator, EXCLUDING it from the returned line (try it yourself `new BufferedReader(new StringReader(&quot;PATTERN:\\nnext line&quot;)).lines().collect(Collectors.joining())`)","body":"<code>.lines()</code> will <i>retrieve</i> each line, using newline or line break as separator, EXCLUDING it from the returned line (try it yourself <code>new BufferedReader(new StringReader(&quot;PATTERN:\\nnext line&quot;)).lines().collect(Collectors.joining())</code>)"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668002641,"post_id":74374822,"comment_id":131302207,"body_markdown":"@mang4521 try with &quot;(?sm)...&quot; or remove line brakes before matching: data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);","body":"@mang4521 try with &quot;(?sm)...&quot; or remove line brakes before matching: data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);"}],"answers":[{"comments":[{"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"score":0,"creation_date":1668003243,"post_id":74375788,"comment_id":131302426,"body_markdown":"Thank you. This works as expected. Do have a follow up question. Each pattern defined above [*1.*, *2.* etc], I would be able apply each one of them individually to exclude line breaks, correct?","body":"Thank you. This works as expected. Do have a follow up question. Each pattern defined above [<i>1.</i>, <i>2.</i> etc], I would be able apply each one of them individually to exclude line breaks, correct?"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668003748,"post_id":74375788,"comment_id":131302624,"body_markdown":"@mang4521 The two flag solution should work in the same way. In theory, [\\s\\S] should give the same result.","body":"@mang4521 The two flag solution should work in the same way. In theory, [\\s\\S] should give the same result."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1668004958,"post_id":74375788,"comment_id":131303095,"body_markdown":"@mang4521 Using the flags does not remove or exclude line brakes. But include line brakes in matching, it means the dot &#39;.&#39; matches line brake characters also.","body":"@mang4521 Using the flags does not remove or exclude line brakes. But include line brakes in matching, it means the dot &#39;.&#39; matches line brake characters also."}],"tags":[],"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668002246,"creation_date":1668001232,"answer_id":74375788,"question_id":74374822,"body_markdown":"The first code removes line brakes, the second doesn&#39;t.\r\n\r\nSo you should define multiline pattern matching:\r\n\r\n 1. In the pattern (starting with flags s=dotall, m=multiline)\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;(?sm).*My_PATTERN:(.*)&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 2. In the pattern v2\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;[\\\\s\\\\S]*My_PATTERN:([\\\\s\\\\S]*)&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 3. With flags\r\n\r\n&lt;pre&gt;&lt;code&gt;Pattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;, MULTILINE|DOTALL);&lt;/code&gt;&lt;/pre&gt;\r\n\r\nAll matches line brakes in the group&#39;s value.&lt;br&gt;\r\nOr remove line breaks ie: &lt;pre&gt;&lt;code&gt;data = data.replaceAll(&quot;\\\\\\\\r?\\\\\\\\n&quot;, &quot;&quot;);&lt;/code&gt;&lt;/pre&gt;\r\n\r\nSee:\r\n[https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)][1]\r\n\r\n[https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html","title":"java.util.regex.Matcher is unable to find anything inside a String obtained from Apache IOUtils","body":"<p>The first code removes line brakes, the second doesn't.</p>\n<p>So you should define multiline pattern matching:</p>\n<ol>\n<li>In the pattern (starting with flags s=dotall, m=multiline)</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\"(?sm).*My_PATTERN:(.*)\");</code></pre>\n<ol start=\"2\">\n<li>In the pattern v2</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\"[\\\\s\\\\S]*My_PATTERN:([\\\\s\\\\S]*)\");</code></pre>\n<ol start=\"3\">\n<li>With flags</li>\n</ol>\n<pre><code>Pattern pattern = Pattern.compile(\".*My_PATTERN:(.*)\", MULTILINE|DOTALL);</code></pre>\n<p>All matches line brakes in the group's value.<br>\nOr remove line breaks ie: <pre><code>data = data.replaceAll(&quot;\\\\r?\\\\n&quot;, &quot;&quot;);</code></pre></p>\n<p>See:\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#compile(java.lang.String,%20int)</a></p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/regex/pattern.html</a></p>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74375788,"answer_count":1,"score":0,"last_activity_date":1668010662,"creation_date":1667996491,"question_id":74374822,"body_markdown":"I have a code snippet to convert an input stream into a String. I then use java.util.regex.Matcher to find something inside the string.\r\n\r\nThe following *works for me*:\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nInputStream ins; // the InputStream data\r\nBufferedReader br = new BufferedReader(new InputStreamReader(ins));\r\nbr.lines().forEach(sb::append);\r\nbr.close();\r\n\r\nString data = sb.toString();\r\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\r\nMatcher matcher = pattern.matcher(data);\r\nif (matcher.find())\r\n   String searchedStr = matcher.group(1); // I find a match here\r\n```\r\n\r\nBut if I try to replace BufferedReader with *Apache IOUtils*, I do not find any matches with the same string.\r\n\r\n```\r\nInputStream ins; // the InputStream data\r\nString data = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\r\n\r\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\r\nMatcher matcher = pattern.matcher(data);\r\nif (matcher.find())\r\n   String searchedStr = matcher.group(1); // I cannot find a match here\r\n```\r\n\r\nI have tried with other &quot;StandardCharsets&quot; apart from UTF-8 but none have worked.\r\n\r\nI am unable to understand what is different here that would cause IOUtils to not match. Can someone kindly help me out here?","title":"java.util.regex.Matcher is unable to find anything inside a String obtained from Apache IOUtils","body":"<p>I have a code snippet to convert an input stream into a String. I then use java.util.regex.Matcher to find something inside the string.</p>\n<p>The following <em>works for me</em>:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nInputStream ins; // the InputStream data\nBufferedReader br = new BufferedReader(new InputStreamReader(ins));\nbr.lines().forEach(sb::append);\nbr.close();\n\nString data = sb.toString();\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\nMatcher matcher = pattern.matcher(data);\nif (matcher.find())\n   String searchedStr = matcher.group(1); // I find a match here\n</code></pre>\n<p>But if I try to replace BufferedReader with <em>Apache IOUtils</em>, I do not find any matches with the same string.</p>\n<pre><code>InputStream ins; // the InputStream data\nString data = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n\nPattern pattern = Pattern.compile(&quot;.*My_PATTERN:(.*)&quot;);\nMatcher matcher = pattern.matcher(data);\nif (matcher.find())\n   String searchedStr = matcher.group(1); // I cannot find a match here\n</code></pre>\n<p>I have tried with other &quot;StandardCharsets&quot; apart from UTF-8 but none have worked.</p>\n<p>I am unable to understand what is different here that would cause IOUtils to not match. Can someone kindly help me out here?</p>\n"},{"tags":["java","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668014615,"post_id":74377075,"comment_id":131306932,"body_markdown":"Hi &amp; welcome! The use case is no problem (using (&amp; overriding) classpath resources of &quot;dependencies&quot; ..as long you know their location/fqn) One confusion is: `src/main/java/resources` is rather uncommon and doesn&#39;t match `classpath:/...` (it matches `classpath:/resources/...`,) alternatively more convenient: `src/main/resources/` ..which results (with maven based build tools) in `classpath:/`","body":"Hi &amp; welcome! The use case is no problem (using (&amp; overriding) classpath resources of &quot;dependencies&quot; ..as long you know their location/fqn) One confusion is: <code>src&#47;main&#47;java&#47;resources</code> is rather uncommon and doesn&#39;t match <code>classpath:&#47;...</code> (it matches <code>classpath:&#47;resources&#47;...</code>,) alternatively more convenient: <code>src&#47;main&#47;resources&#47;</code> ..which results (with maven based build tools) in <code>classpath:&#47;</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668014945,"post_id":74377075,"comment_id":131307049,"body_markdown":"So best: 1. Introduce &quot;maven artifact&quot; (group:artifact:version), containing/publishing `src/main/resources/ValidationMessages.properties` (+i18n!?) 2. Introduce a (compile/runtime) dependency on 1. 3. Refer (1. from 2.) as `classpath:/ValidationMessages.properties`.","body":"So best: 1. Introduce &quot;maven artifact&quot; (group:artifact:version), containing/publishing <code>src&#47;main&#47;resources&#47;ValidationMessages.properties</code> (+i18n!?) 2. Introduce a (compile/runtime) dependency on 1. 3. Refer (1. from 2.) as <code>classpath:&#47;ValidationMessages.properties</code>."}],"owner":{"account_id":14696765,"reputation":11,"user_id":10613949,"display_name":"I. Dukan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668009771,"creation_date":1668006401,"question_id":74377075,"body_markdown":"I am working on multiple Spring Boot projects. However, I want to use same `ValidationMessages.properties` file for all projects.\r\n\r\nI have similar project structure can be seen below:\r\n\r\n\r\n```\r\nPROJECTS\r\n&gt; project-A\r\n &gt; src\r\n  &gt; main\r\n   &gt; java\r\n    &gt; com\r\n    &gt; resources\r\n     &gt; ValidationMessages.properties\r\n&gt;project-B\r\n &gt; src\r\n  &gt; main\r\n   &gt; java\r\n    &gt; come\r\n    &gt; resources\r\n     &gt; application.properties\r\n```\r\n\r\n\r\nSo, in project B, I want to use `ValidationMessages.properties` file that is located in project-A. Also, I have project-C, project-D.. so on.\r\n\r\nIs there any way to use one `ValidationMessages.properties` file from different Spring Boot projects.\r\n\r\nI have tried to specify by modifying `application.properties` file in project-B with `classpath_ValidationMessages=classpath:/ValidationMessages` line. Yet, it didn&#39;t work. I couldn&#39;t find the right way.","title":"Multiple Spring Boot project use same ValidationMessages.properites file","body":"<p>I am working on multiple Spring Boot projects. However, I want to use same <code>ValidationMessages.properties</code> file for all projects.</p>\n<p>I have similar project structure can be seen below:</p>\n<pre><code>PROJECTS\n&gt; project-A\n &gt; src\n  &gt; main\n   &gt; java\n    &gt; com\n    &gt; resources\n     &gt; ValidationMessages.properties\n&gt;project-B\n &gt; src\n  &gt; main\n   &gt; java\n    &gt; come\n    &gt; resources\n     &gt; application.properties\n</code></pre>\n<p>So, in project B, I want to use <code>ValidationMessages.properties</code> file that is located in project-A. Also, I have project-C, project-D.. so on.</p>\n<p>Is there any way to use one <code>ValidationMessages.properties</code> file from different Spring Boot projects.</p>\n<p>I have tried to specify by modifying <code>application.properties</code> file in project-B with <code>classpath_ValidationMessages=classpath:/ValidationMessages</code> line. Yet, it didn't work. I couldn't find the right way.</p>\n"},{"tags":["java","rest","swagger","swagger-2.0","swagger-codegen"],"answers":[{"comments":[{"owner":{"account_id":11082938,"reputation":616,"user_id":8137623,"display_name":"Thomas Joeisseint"},"score":1,"creation_date":1567703833,"post_id":41733145,"comment_id":102051944,"body_markdown":"Yes, but when doing that the generated code is not thread safe, meaning we only have one username/password for every request.\n\nIn the case you are proxying requests to another API and need to dynamically change authentication depending on the current user you cannot use that...\n\nIf the `authentications` Map was mutable you could at least add your own class (implementing Authentication interface) and authenticate anyway you want.\ne.g: calling a service to get current user username and password, and generating BasicAuth headers to add to the request.","body":"Yes, but when doing that the generated code is not thread safe, meaning we only have one username/password for every request.  In the case you are proxying requests to another API and need to dynamically change authentication depending on the current user you cannot use that...  If the <code>authentications</code> Map was mutable you could at least add your own class (implementing Authentication interface) and authenticate anyway you want. e.g: calling a service to get current user username and password, and generating BasicAuth headers to add to the request."},{"owner":{"account_id":366204,"reputation":510,"user_id":711598,"display_name":"Taylor"},"score":0,"creation_date":1567709253,"post_id":41733145,"comment_id":102054056,"body_markdown":"Adding your own authentication class sounds good to me. Do you have an example of how to do that?","body":"Adding your own authentication class sounds good to me. Do you have an example of how to do that?"},{"owner":{"account_id":11082938,"reputation":616,"user_id":8137623,"display_name":"Thomas Joeisseint"},"score":1,"creation_date":1567714921,"post_id":41733145,"comment_id":102056351,"body_markdown":"As suggested here https://github.com/swagger-api/swagger-codegen/issues/1435 I believe builder methods for the `APIClient` would solve the issue.\n\nFor now as a quick workaround, I am just customizing the mustache template and removing the  ```authentications = Collections.unmodifiableMap(authentications);``` part, and then replacing the basic auth implementation with my own in the `Map&lt;String, Authentication&gt; authentications`","body":"As suggested here <a href=\"https://github.com/swagger-api/swagger-codegen/issues/1435\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-codegen/issues/1435</a> I believe builder methods for the <code>APIClient</code> would solve the issue.  For now as a quick workaround, I am just customizing the mustache template and removing the  <code>authentications = Collections.unmodifiableMap(authentications);</code> part, and then replacing the basic auth implementation with my own in the <code>Map&lt;String, Authentication&gt; authentications</code>"}],"tags":[],"owner":{"account_id":366204,"reputation":510,"user_id":711598,"display_name":"Taylor"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1484796064,"creation_date":1484796064,"answer_id":41733145,"question_id":39724076,"body_markdown":"The issue is that your specification does not mention the types of Security you want to use (a.k.a. Security Definitions) or which Security Definition applies to which end point.\r\n\r\nThe swagger specification is [here][1], but it doesn&#39;t tell the whole story.\r\n\r\nWhat you need to do is 1. Set up the Security Definitions. Here is a simple basic http auth definition:\r\n\r\n    securityDefinitions:\r\n      basic:\r\n        type: basic\r\n        description: HTTP Basic Authentication. \r\n\r\n\r\nand 2. Use that security definition in the end point.\r\n\r\n    paths:\r\n      /:\r\n        get:\r\n          security:\r\n           - basic: []\r\n          responses:\r\n            200:\r\n              description:  OK\r\n\r\nThen regenerate your swagger client code.  It should set up the immutable map correctly and the authNames array.\r\n  [1]: http://swagger.io/specification/","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>The issue is that your specification does not mention the types of Security you want to use (a.k.a. Security Definitions) or which Security Definition applies to which end point.</p>\n\n<p>The swagger specification is <a href=\"http://swagger.io/specification/\" rel=\"noreferrer\">here</a>, but it doesn't tell the whole story.</p>\n\n<p>What you need to do is 1. Set up the Security Definitions. Here is a simple basic http auth definition:</p>\n\n<pre><code>securityDefinitions:\n  basic:\n    type: basic\n    description: HTTP Basic Authentication. \n</code></pre>\n\n<p>and 2. Use that security definition in the end point.</p>\n\n<pre><code>paths:\n  /:\n    get:\n      security:\n       - basic: []\n      responses:\n        200:\n          description:  OK\n</code></pre>\n\n<p>Then regenerate your swagger client code.  It should set up the immutable map correctly and the authNames array.</p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582652705,"creation_date":1582652705,"answer_id":60400452,"question_id":39724076,"body_markdown":"As already suggested, if you don&#39;t want to modify existing code, you can extend the `ApiClient` in your custom configuration, e.g.\r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n      @Value(&quot;${baseUrl}&quot;)\r\n      private String baseUrl;\r\n    \r\n      protected class AuthApiClient extends ApiClient {\r\n    \r\n        public AuthApiClient() {\r\n          super();\r\n        }\r\n    \r\n        @Override\r\n        public &lt;T&gt; T invokeAPI(final String path, final HttpMethod method,\r\n                final MultiValueMap&lt;String, String&gt; queryParams, final Object body,\r\n                final HttpHeaders headerParams, final MultiValueMap&lt;String, Object&gt; formParams,\r\n                final List&lt;MediaType&gt; accept, final MediaType contentType,\r\n                final String[] authNames, final ParameterizedTypeReference&lt;T&gt; returnType)\r\n                throws RestClientException {\r\n    \r\n                final HttpBasicAuth auth = new HttpBasicAuth();\r\n                auth.setUsername(&quot;myUsername&quot;);\r\n                auth.setPassword(&quot;myPassword&quot;);\r\n                auth.applyToParams(queryParams, headerParams);\r\n    \r\n          return super.invokeAPI(path, method, queryParams, body, headerParams, formParams,\r\n                    accept, contentType, authNames, returnType);\r\n        }\r\n      }\r\n    \r\n      @Bean\r\n      @Primary\r\n      @Qualifier(&quot;MyApiClient&quot;)\r\n      public AuthApiClient myApiClient() {\r\n        final AuthApiClient apiClient = new AuthApiClient();\r\n        apiClient.setBasePath(this.baseUrl);\r\n        return apiClient;\r\n      }\r\n    }\r\n\r\n","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>As already suggested, if you don't want to modify existing code, you can extend the <code>ApiClient</code> in your custom configuration, e.g.</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n  @Value(\"${baseUrl}\")\n  private String baseUrl;\n\n  protected class AuthApiClient extends ApiClient {\n\n    public AuthApiClient() {\n      super();\n    }\n\n    @Override\n    public &lt;T&gt; T invokeAPI(final String path, final HttpMethod method,\n            final MultiValueMap&lt;String, String&gt; queryParams, final Object body,\n            final HttpHeaders headerParams, final MultiValueMap&lt;String, Object&gt; formParams,\n            final List&lt;MediaType&gt; accept, final MediaType contentType,\n            final String[] authNames, final ParameterizedTypeReference&lt;T&gt; returnType)\n            throws RestClientException {\n\n            final HttpBasicAuth auth = new HttpBasicAuth();\n            auth.setUsername(\"myUsername\");\n            auth.setPassword(\"myPassword\");\n            auth.applyToParams(queryParams, headerParams);\n\n      return super.invokeAPI(path, method, queryParams, body, headerParams, formParams,\n                accept, contentType, authNames, returnType);\n    }\n  }\n\n  @Bean\n  @Primary\n  @Qualifier(\"MyApiClient\")\n  public AuthApiClient myApiClient() {\n    final AuthApiClient apiClient = new AuthApiClient();\n    apiClient.setBasePath(this.baseUrl);\n    return apiClient;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668009279,"creation_date":1668009279,"answer_id":74377811,"question_id":39724076,"body_markdown":"Just doing this works for me: \r\n\r\n     apiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Basic &quot; + base64Bearer);\r\n\r\nI am using swagger-codegen.version 3.0.35\r\nand API specification without any security definitions defined","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>Just doing this works for me:</p>\n<pre><code> apiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Basic &quot; + base64Bearer);\n</code></pre>\n<p>I am using swagger-codegen.version 3.0.35\nand API specification without any security definitions defined</p>\n"}],"owner":{"account_id":2035968,"reputation":400,"user_id":1818311,"display_name":"Matthias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15948,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":41733145,"answer_count":3,"score":22,"last_activity_date":1668009279,"creation_date":1474977530,"question_id":39724076,"body_markdown":"I&#39;m currently playing around with my jersey2 rest service. For a better overview of the given service (description, types and so on) I make heavily use of swagger (swagger-jersey2-jaxrs). \r\nSo I&#39;m able to genereate my service description (swagger.json) and I can view and explore them via swagger ui.\r\n\r\nNow I&#39;m at the point that I need to create some clients to make use of these services. I came across swagger codegen cli which is a nice tool to generate your client and many different languages (java in my case). I&#39;m able to generate the api client and the model in use.\r\n\r\nHere I face the first problem. The REST services and the swagger description are http basic auth protected. I read the [documentation][1]  which gave me some hint that there is a possibility to use basic auth. At this point I have to mention that from my point of view the documentation is very poor. It says:\r\n\r\n-a &lt;authorization&gt;, --auth &lt;authorization&gt;\r\nadds authorization headers when fetching the swagger definitions remotely. Pass in a URL-encoded string of name:header with a comma separating multiple values.\r\n\r\nFirst thing I thought of is to pass a string like in an http header but that doesn&#39;t work and even googling how to use basic auth with swagger cli didn&#39;t result in some clear answer. After a lot of try and errors I (I&#39;m using CLI 2.1.2) I finally came across the right format:\r\n\r\njava -jar swagger-codegen-cli-2.1.2.jar generate -a &quot;Authorization: Basic YWRtaW46YWRtaW4=&quot; -i http://localhost:8080/webproject/restapi/swagger.json -l java -o restclient\r\n\r\nwhere YWRtaW46YWRtaW4= is the the base64 encoded value of admin:admin in my case.\r\n\r\nSo far so good. The generated java client have to make use of basic auth as well. I took a look at the methods from the ApiClient and found setUsername and setPassword. I thought that this methods empowers the client to use basic auth but no luck. \r\n\r\nSo I took a deeper look at the generated classes especially the ApiClient and the several generated ApiService Classes.\r\nI found out that the setUsername and setPassword have no effect because of the following:\r\n\r\n\r\n  \r\n\r\n    /**\r\n       * Helper method to set username for the first HTTP basic authentication.\r\n       */\r\n      public void setUsername(String username) {\r\n        for (Authentication auth : authentications.values()) {\r\n          if (auth instanceof HttpBasicAuth) {\r\n            ((HttpBasicAuth) auth).setUsername(username);\r\n            return;\r\n          }\r\n        }\r\n        throw new RuntimeException(&quot;No HTTP basic authentication configured!&quot;);\r\n      }\r\n\r\nwhere at the same time the HashMap is defined as the following:\r\n\r\n    // Setup authentications (key: authentication name, value: authentication).\r\n    authentications = new HashMap&lt;String, Authentication&gt;();\r\n    // Prevent the authentications from being modified.\r\n    authentications = Collections.unmodifiableMap(authentications);\r\n\r\n\r\nThe authentication hashmap becomes immutable, but why? What is the purpose? Furthermore there are no helper methods inside the ApiClinet which generates the needed auth object so I did the following:\r\n\r\n1) comment out the line authentications Collections.unmodifiableMap(authentications) so the hashmap becomes \tmodifiable again\r\n\r\n2) create needed auth object manually\r\n\r\n    HttpBasicAuth authentication = new HttpBasicAuth(); \r\n    authentication.setUsername(&quot;admin&quot;);\r\n    authentication.setPassword(&quot;admin&quot;);\r\n\r\n3) add the auth object to the apiClients authentication hashmap:\r\n\r\n    ApiClient apiClient = new ApiClient();\r\n    apiClient.setBasePath(basePath);\r\n    apiClient.getAuthentications().put(&quot;basic&quot;, authentication);\r\n\r\n4) modifying invokeApi Method (ApiClient.java)\r\n\r\n    public String invokeAPI(String path, String method, Map&lt;String, String&gt; queryParams, Object body, Map&lt;String, String&gt; headerParams, Map&lt;String, String&gt; formParams, String accept, String contentType, String[] authNames) throws ApiException {\r\n    String authNames2[] = {&quot;basic&quot;};\r\n    updateParamsForAuth(authNames2, queryParams, headerParams);\r\n    //updateParamsForAuth(authNames, queryParams, headerParams);\r\n    ...\r\n\r\nStep 4 is necessary because the ApiServices invoke the apiClient method like the following:\r\n\r\n    String[] authNames = new String[] {  };\r\n    String response = apiClient.invokeAPI(path, &quot;POST&quot;, queryParams, postBody, headerParams, formParams, accept, contentType, authNames);\r\n\r\n\r\nAn other possible solution would be to define the Key of the authentications hashmap in every apiService like:\r\n\r\n    String[] authNames = new String[] { &quot;basic&quot; };\r\n\r\n\r\nAfter doing all the modifications everything works as expected but I cant think that this is the idea behind an autogenerated rest client. \r\nSo my question is: Am I missing some point or should I think of the swagger generated client (java in this case) more of a beta solution which is under development?\r\nPlease get me right, I think the whole swagger framework (jersey2 support, openapi, swaggerui, codegen) is a great thing and I appreciate the developers effort but I want to use the codegen right and I don&#39;t think that the idea behind is so have to customize the generated ApiClient and ApiServices in such a way.\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-codegen","title":"Swagger Codegen CLI Java Client - How to use it right","body":"<p>I'm currently playing around with my jersey2 rest service. For a better overview of the given service (description, types and so on) I make heavily use of swagger (swagger-jersey2-jaxrs). \nSo I'm able to genereate my service description (swagger.json) and I can view and explore them via swagger ui.</p>\n\n<p>Now I'm at the point that I need to create some clients to make use of these services. I came across swagger codegen cli which is a nice tool to generate your client and many different languages (java in my case). I'm able to generate the api client and the model in use.</p>\n\n<p>Here I face the first problem. The REST services and the swagger description are http basic auth protected. I read the <a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"noreferrer\">documentation</a>  which gave me some hint that there is a possibility to use basic auth. At this point I have to mention that from my point of view the documentation is very poor. It says:</p>\n\n<p>-a , --auth \nadds authorization headers when fetching the swagger definitions remotely. Pass in a URL-encoded string of name:header with a comma separating multiple values.</p>\n\n<p>First thing I thought of is to pass a string like in an http header but that doesn't work and even googling how to use basic auth with swagger cli didn't result in some clear answer. After a lot of try and errors I (I'm using CLI 2.1.2) I finally came across the right format:</p>\n\n<p>java -jar swagger-codegen-cli-2.1.2.jar generate -a \"Authorization: Basic YWRtaW46YWRtaW4=\" -i <a href=\"http://localhost:8080/webproject/restapi/swagger.json\" rel=\"noreferrer\">http://localhost:8080/webproject/restapi/swagger.json</a> -l java -o restclient</p>\n\n<p>where YWRtaW46YWRtaW4= is the the base64 encoded value of admin:admin in my case.</p>\n\n<p>So far so good. The generated java client have to make use of basic auth as well. I took a look at the methods from the ApiClient and found setUsername and setPassword. I thought that this methods empowers the client to use basic auth but no luck. </p>\n\n<p>So I took a deeper look at the generated classes especially the ApiClient and the several generated ApiService Classes.\nI found out that the setUsername and setPassword have no effect because of the following:</p>\n\n<pre><code>/**\n   * Helper method to set username for the first HTTP basic authentication.\n   */\n  public void setUsername(String username) {\n    for (Authentication auth : authentications.values()) {\n      if (auth instanceof HttpBasicAuth) {\n        ((HttpBasicAuth) auth).setUsername(username);\n        return;\n      }\n    }\n    throw new RuntimeException(\"No HTTP basic authentication configured!\");\n  }\n</code></pre>\n\n<p>where at the same time the HashMap is defined as the following:</p>\n\n<pre><code>// Setup authentications (key: authentication name, value: authentication).\nauthentications = new HashMap&lt;String, Authentication&gt;();\n// Prevent the authentications from being modified.\nauthentications = Collections.unmodifiableMap(authentications);\n</code></pre>\n\n<p>The authentication hashmap becomes immutable, but why? What is the purpose? Furthermore there are no helper methods inside the ApiClinet which generates the needed auth object so I did the following:</p>\n\n<p>1) comment out the line authentications Collections.unmodifiableMap(authentications) so the hashmap becomes     modifiable again</p>\n\n<p>2) create needed auth object manually</p>\n\n<pre><code>HttpBasicAuth authentication = new HttpBasicAuth(); \nauthentication.setUsername(\"admin\");\nauthentication.setPassword(\"admin\");\n</code></pre>\n\n<p>3) add the auth object to the apiClients authentication hashmap:</p>\n\n<pre><code>ApiClient apiClient = new ApiClient();\napiClient.setBasePath(basePath);\napiClient.getAuthentications().put(\"basic\", authentication);\n</code></pre>\n\n<p>4) modifying invokeApi Method (ApiClient.java)</p>\n\n<pre><code>public String invokeAPI(String path, String method, Map&lt;String, String&gt; queryParams, Object body, Map&lt;String, String&gt; headerParams, Map&lt;String, String&gt; formParams, String accept, String contentType, String[] authNames) throws ApiException {\nString authNames2[] = {\"basic\"};\nupdateParamsForAuth(authNames2, queryParams, headerParams);\n//updateParamsForAuth(authNames, queryParams, headerParams);\n...\n</code></pre>\n\n<p>Step 4 is necessary because the ApiServices invoke the apiClient method like the following:</p>\n\n<pre><code>String[] authNames = new String[] {  };\nString response = apiClient.invokeAPI(path, \"POST\", queryParams, postBody, headerParams, formParams, accept, contentType, authNames);\n</code></pre>\n\n<p>An other possible solution would be to define the Key of the authentications hashmap in every apiService like:</p>\n\n<pre><code>String[] authNames = new String[] { \"basic\" };\n</code></pre>\n\n<p>After doing all the modifications everything works as expected but I cant think that this is the idea behind an autogenerated rest client. \nSo my question is: Am I missing some point or should I think of the swagger generated client (java in this case) more of a beta solution which is under development?\nPlease get me right, I think the whole swagger framework (jersey2 support, openapi, swaggerui, codegen) is a great thing and I appreciate the developers effort but I want to use the codegen right and I don't think that the idea behind is so have to customize the generated ApiClient and ApiServices in such a way.</p>\n"},{"tags":["java","simulation","anylogic","agent-based-modeling"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1668006569,"post_id":74376631,"comment_id":131303803,"body_markdown":"add a picture of your process, and a picture of the properties of your service and resourcepool blocks... otherwise difficult to know the problem","body":"add a picture of your process, and a picture of the properties of your service and resourcepool blocks... otherwise difficult to know the problem"},{"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"score":0,"creation_date":1668009267,"post_id":74376631,"comment_id":131304939,"body_markdown":"added pictures of model and block properties","body":"added pictures of model and block properties"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1668012264,"post_id":74376631,"comment_id":131306035,"body_markdown":"maybe you didn&#39;t really connect the connectors correct? Try delete them all and redo carefully","body":"maybe you didn&#39;t really connect the connectors correct? Try delete them all and redo carefully"},{"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"score":0,"creation_date":1668013317,"post_id":74376631,"comment_id":131306464,"body_markdown":"Reconnected the blocks. Still facing the same issue.\nAny possibility that any of the agents is null?","body":"Reconnected the blocks. Still facing the same issue. Any possibility that any of the agents is null?"},{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1668015197,"post_id":74376631,"comment_id":131307143,"body_markdown":"very mysterious problem.. can you upload this same model somewhere?","body":"very mysterious problem.. can you upload this same model somewhere?"}],"owner":{"account_id":26816189,"reputation":1,"user_id":20406142,"display_name":"Shriram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668009230,"creation_date":1668004600,"question_id":74376631,"body_markdown":"I have created a very simple model in AnyLogic consisting of source, Service, sink and resourcepool blocks. The source is connected to service which is then connected to sink. The source block generates agents of type 1 and resourcepool has agent type 2. When I run the model, I am getting following runtime error. There are no attributes to both the agent types. Also, agent types are created and not population.\r\n\r\n    java.lang.NullPointerException\r\n    at com.anylogic.engine.Port.connect(Unknown Source)\r\n    at com.anylogic.libraries.processmodeling.Seize.doCreate(Unknown Source)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at com.anylogic.libraries.processmodeling.Service.doCreate(Unknown Source)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at model.Main.doCreate(Main.java.619)\r\n    at com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\r\n    at com.anylogic.engine.Agent.create(Unknown Source)\r\n    at com.anylogic.engine.Engine.start(Unknown Source)\r\n\r\n\r\nI tried debugging the model but no success and also verified that all the initializations are not null.\r\n\r\nModel:\r\n[enter image description here][1]\r\n\r\n\r\nSource properties:\r\n[enter image description here][2]\r\n\r\nService properties:\r\n[enter image description here][3]\r\n\r\nResourcepool properties:\r\n[enter image description here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nSkgT.png\r\n  [2]: https://i.stack.imgur.com/YOKPs.png\r\n  [3]: https://i.stack.imgur.com/EqHs8.png\r\n  [4]: https://i.stack.imgur.com/G0lO7.png","title":"Anylogic NullPointer Exception Process Modeling Blocks","body":"<p>I have created a very simple model in AnyLogic consisting of source, Service, sink and resourcepool blocks. The source is connected to service which is then connected to sink. The source block generates agents of type 1 and resourcepool has agent type 2. When I run the model, I am getting following runtime error. There are no attributes to both the agent types. Also, agent types are created and not population.</p>\n<pre><code>java.lang.NullPointerException\nat com.anylogic.engine.Port.connect(Unknown Source)\nat com.anylogic.libraries.processmodeling.Seize.doCreate(Unknown Source)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat com.anylogic.libraries.processmodeling.Service.doCreate(Unknown Source)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat model.Main.doCreate(Main.java.619)\nat com.anylogic.engine.Agent.createAsEmbedded(Unknown Source)\nat com.anylogic.engine.Agent.create(Unknown Source)\nat com.anylogic.engine.Engine.start(Unknown Source)\n</code></pre>\n<p>I tried debugging the model but no success and also verified that all the initializations are not null.</p>\n<p>Model:\n<a href=\"https://i.stack.imgur.com/nSkgT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Source properties:\n<a href=\"https://i.stack.imgur.com/YOKPs.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Service properties:\n<a href=\"https://i.stack.imgur.com/EqHs8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Resourcepool properties:\n<a href=\"https://i.stack.imgur.com/G0lO7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9326,"page":897,"page_size":100}
