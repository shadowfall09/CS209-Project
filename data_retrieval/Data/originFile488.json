{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1345274246,"post_id":12016704,"comment_id":16033271,"body_markdown":"You *did* compile that piece of code. The exception was thrown when you *executed* it.","body":"You <i>did</i> compile that piece of code. The exception was thrown when you <i>executed</i> it."},{"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"score":0,"creation_date":1345274857,"post_id":12016704,"comment_id":16033353,"body_markdown":"Yes exactly, but have an idea how can I proceed with this exception?","body":"Yes exactly, but have an idea how can I proceed with this exception?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1345526980,"post_id":12016704,"comment_id":16087511,"body_markdown":"My point is that you shouldn&#39;t mis-describe your problem. It just distracts and confuses. You could always edit your question you know.","body":"My point is that you shouldn&#39;t mis-describe your problem. It just distracts and confuses. You could always edit your question you know."}],"answers":[{"comments":[{"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"score":0,"creation_date":1345278045,"post_id":12016751,"comment_id":16033848,"body_markdown":"Thank you for your clarification.I have effectively a problem with the shared library in my system. But it&#39;s resolved now ;)","body":"Thank you for your clarification.I have effectively a problem with the shared library in my system. But it&#39;s resolved now ;)"}],"tags":[],"owner":{"account_id":184840,"reputation":1492,"user_id":421137,"display_name":"roni bar yanai"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345274700,"creation_date":1345274700,"answer_id":12016751,"question_id":12016704,"body_markdown":"This is a runtime exception, that means that the code uses shared library&#39;s (using jni probably) which it cannot load.\r\nhere you have two options:\r\n\r\n1. the shared library is not installed on you system.\r\n2. the path to the shared lib is not  included in the LD_LIBRARY_PATH (on linux, not sure how it called on windows)","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>This is a runtime exception, that means that the code uses shared library's (using jni probably) which it cannot load.\nhere you have two options:</p>\n\n<ol>\n<li>the shared library is not installed on you system.</li>\n<li>the path to the shared lib is not  included in the LD_LIBRARY_PATH (on linux, not sure how it called on windows)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"score":0,"creation_date":1345277741,"post_id":12016773,"comment_id":16033795,"body_markdown":"Thank you for this clarification. I copied the swt-win32-3235.dll to the &quot;.&quot; path and this work now. The probleme that I had is the incomplete jar library so I downloaded the library that contain this dll file.","body":"Thank you for this clarification. I copied the swt-win32-3235.dll to the &quot;.&quot; path and this work now. The probleme that I had is the incomplete jar library so I downloaded the library that contain this dll file."}],"tags":[],"owner":{"account_id":1453989,"reputation":756,"user_id":1370130,"display_name":"Nestor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1345274876,"creation_date":1345274876,"answer_id":12016773,"question_id":12016704,"body_markdown":"You need to add `swt-win32-3235.dll` to the `library_path` in your app. By default `library_path` equals to working dir (&quot;.&quot;) of your app. Or you may specify path to `library_path` in vm argument `-Djava.library.path=path`\r\n\r\nSo,\r\n1.Check existing `swt-win32-3235.dll` in your library_path.\r\n2. Check correct definition of `library_path` property.","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>You need to add <code>swt-win32-3235.dll</code> to the <code>library_path</code> in your app. By default <code>library_path</code> equals to working dir (\".\") of your app. Or you may specify path to <code>library_path</code> in vm argument <code>-Djava.library.path=path</code></p>\n\n<p>So,\n1.Check existing <code>swt-win32-3235.dll</code> in your library_path.\n2. Check correct definition of <code>library_path</code> property.</p>\n"},{"tags":[],"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410866374,"creation_date":1410864321,"answer_id":25866711,"question_id":12016704,"body_markdown":"I got the error while running my application. The exception was \r\n\r\n&gt; java.lang.UnsatisfiedLinkError exception :\r\n&gt; SK.gnome.twain.TwainManager.initialize(I[B[BZ)V\r\n\r\n \r\nI fix it in eclipse as below step, Windows&gt;Preferences&gt;Java&gt;Install JREs&gt;check jre6-32 (check the appropriate versions of jre that you have install in your system).","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>I got the error while running my application. The exception was </p>\n\n<blockquote>\n  <p>java.lang.UnsatisfiedLinkError exception :\n  SK.gnome.twain.TwainManager.initialize(I[B[BZ)V</p>\n</blockquote>\n\n<p>I fix it in eclipse as below step, Windows>Preferences>Java>Install JREs>check jre6-32 (check the appropriate versions of jre that you have install in your system).</p>\n"},{"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":1,"creation_date":1682343981,"post_id":76065351,"comment_id":134195634,"body_markdown":"It is better not to tamper this directory with user libraries. See https://stackoverflow.com/questions/29891114/must-i-place-all-dependent-dlls-into-the-jdks-bin-folder for other options.","body":"It is better not to tamper this directory with user libraries. See <a href=\"https://stackoverflow.com/questions/29891114/must-i-place-all-dependent-dlls-into-the-jdks-bin-folder\" title=\"must i place all dependent dlls into the jdks bin folder\">stackoverflow.com/questions/29891114/&hellip;</a> for other options."}],"tags":[],"owner":{"account_id":28361193,"reputation":1,"user_id":21691205,"display_name":"Milind Kaulgud"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682001621,"creation_date":1682001621,"answer_id":76065351,"question_id":12016704,"body_markdown":"I found that copying the SWT dll files to the Java&#39;s JRE bin directory solved this problem.","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>I found that copying the SWT dll files to the Java's JRE bin directory solved this problem.</p>\n"}],"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12016773,"answer_count":4,"score":1,"last_activity_date":1682001621,"creation_date":1345274164,"question_id":12016704,"body_markdown":"[this example of code][1] generates an exception :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no swt-win32-3235 in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n    \tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n    \tat java.lang.System.loadLibrary(Unknown Source)\r\n    \tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:134)\r\n    \tat org.eclipse.swt.internal.win32.OS.&lt;clinit&gt;(OS.java:18)\r\n    \tat org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:125)\r\n    \tat Snippet262.main(Snippet262.java:34)\r\n\r\nWhat does it mean please and how can I resolve it ?\r\nThank you\r\n\r\n\r\n  [1]: http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet262.java?view=co","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p><a href=\"http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet262.java?view=co\" rel=\"nofollow\">this example of code</a> generates an exception :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no swt-win32-3235 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.lang.System.loadLibrary(Unknown Source)\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:134)\n    at org.eclipse.swt.internal.win32.OS.&lt;clinit&gt;(OS.java:18)\n    at org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:125)\n    at Snippet262.main(Snippet262.java:34)\n</code></pre>\n\n<p>What does it mean please and how can I resolve it ?\nThank you</p>\n"},{"tags":["java","google-bigquery","liquibase"],"answers":[{"tags":[],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682001544,"creation_date":1682001544,"answer_id":76065339,"question_id":76055397,"body_markdown":"I got it working by add the below under the `&lt;configuration&gt;....&lt;/configuration&gt;`\r\n\r\n```\r\n&lt;changelogSchemaName&gt;dataset-name-goes-here&lt;/changelogSchemaName&gt;\r\n```","title":"Liquibase failing on BigQuery","body":"<p>I got it working by add the below under the <code>&lt;configuration&gt;....&lt;/configuration&gt;</code></p>\n<pre><code>&lt;changelogSchemaName&gt;dataset-name-goes-here&lt;/changelogSchemaName&gt;\n</code></pre>\n"}],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001544,"creation_date":1681912662,"question_id":76055397,"body_markdown":"When I run the Liquibase on BigQuery, I get the below error:\r\n\r\n\r\n&gt; liquibase.exception.DatabaseException:\r\n&gt; liquibase.exception.DatabaseException: Error executing SQL UPDATE\r\n&gt; DATABASECHANGELOGLOCK SET LOCKED = false, LOCKEDBY = NULL, LOCKGRANTED\r\n&gt; = NULL WHERE ID = 1: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Table &quot;DATABASECHANGELOGLOCK&quot; must be\r\n&gt; qualified with a dataset (e.g. dataset.table).\r\n\r\nI have seen posts saying I should drop the DATABASECHANGELOGLOCK tbl, but the problem is, this is the first time I am running the migration and it has not created any of the tables I wanted.\r\n\r\nTesting the BigQuery connection is fine, but I don&#39;t know how to resolve this issue.\r\n\r\nAny help will be appreciated.\r\n","title":"Liquibase failing on BigQuery","body":"<p>When I run the Liquibase on BigQuery, I get the below error:</p>\n<blockquote>\n<p>liquibase.exception.DatabaseException:\nliquibase.exception.DatabaseException: Error executing SQL UPDATE\nDATABASECHANGELOGLOCK SET LOCKED = false, LOCKEDBY = NULL, LOCKGRANTED\n= NULL WHERE ID = 1: [Simba]BigQueryJDBCDriver Error executing query job. Message: Table &quot;DATABASECHANGELOGLOCK&quot; must be\nqualified with a dataset (e.g. dataset.table).</p>\n</blockquote>\n<p>I have seen posts saying I should drop the DATABASECHANGELOGLOCK tbl, but the problem is, this is the first time I am running the migration and it has not created any of the tables I wanted.</p>\n<p>Testing the BigQuery connection is fine, but I don't know how to resolve this issue.</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","azul-zulu"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682002121,"post_id":76065286,"comment_id":134150196,"body_markdown":"Indeed, SDKMAN! works well on macOS for installing JDKs from your choice of multiple vendors.","body":"Indeed, SDKMAN! works well on macOS for installing JDKs from your choice of multiple vendors."}],"tags":[],"owner":{"account_id":28359904,"reputation":11,"user_id":21690077,"display_name":"Gon&#231;alo Montalv&#227;o Marques"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682001150,"creation_date":1682001150,"answer_id":76065286,"question_id":76065226,"body_markdown":"I would recommend using a tool like [jEnv][1] or [sdkman][2] that helps you install and manage different versions of Java.\r\n\r\n\r\njEnv in particular works only for Java, while sdkman allows multiple JDKs and SDKs.\r\n\r\n\r\n  [1]: https://www.jenv.be/\r\n  [2]: https://sdkman.io/","title":"how to change java version of Azul Zulu on MacOS with apple silicon","body":"<p>I would recommend using a tool like <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jEnv</a> or <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a> that helps you install and manage different versions of Java.</p>\n<p>jEnv in particular works only for Java, while sdkman allows multiple JDKs and SDKs.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001150,"creation_date":1682000734,"question_id":76065226,"body_markdown":"I have java 11 and java 8 installed, but cant find out how to change it.  11 is the default.  I need to downgrade to 8.\r\n\r\nJAVA_HOME is not set, so I dont know how its picking up the 11 version.\r\n```\r\n% ls -1 /Library/Java/JavaVirtualMachines/\r\nzulu-11.jdk\r\nzulu-8.jdk\r\n\r\n/usr/libexec/java_home -V               \r\nMatching Java Virtual Machines (2):\r\n    11.0.10 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 11.45.27&quot; /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n    1.8.0_362 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 8.68.0.21&quot; /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n     \r\njava -version\r\nopenjdk version &quot;11.0.10&quot; 2021-01-19 LTS\r\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\r\n\r\n```\r\n\r\nhow do you change versions withAzul?  I&#39;m using it as the oracle version doesn&#39;t support Arm directly.","title":"how to change java version of Azul Zulu on MacOS with apple silicon","body":"<p>I have java 11 and java 8 installed, but cant find out how to change it.  11 is the default.  I need to downgrade to 8.</p>\n<p>JAVA_HOME is not set, so I dont know how its picking up the 11 version.</p>\n<pre><code>% ls -1 /Library/Java/JavaVirtualMachines/\nzulu-11.jdk\nzulu-8.jdk\n\n/usr/libexec/java_home -V               \nMatching Java Virtual Machines (2):\n    11.0.10 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 11.45.27&quot; /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\n    1.8.0_362 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 8.68.0.21&quot; /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\n     \njava -version\nopenjdk version &quot;11.0.10&quot; 2021-01-19 LTS\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\n\n</code></pre>\n<p>how do you change versions withAzul?  I'm using it as the oracle version doesn't support Arm directly.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":12361682,"reputation":65,"user_id":9015656,"display_name":"Nathan"},"score":0,"creation_date":1682089679,"post_id":76065280,"comment_id":134165756,"body_markdown":"That makes sense. \n\nI was aware that i could declare roles in the authorities method as you suggested, but was not aware that one method would replace the other.","body":"That makes sense.   I was aware that i could declare roles in the authorities method as you suggested, but was not aware that one method would replace the other."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682001123,"creation_date":1682001123,"answer_id":76065280,"question_id":76062449,"body_markdown":"The problem is the construction of your `User`. \r\n\r\n```java\r\nUserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .roles(&quot;MANAGER&quot;)\r\n            .build();\r\n```\r\n\r\nIf you would have checked the code for the [`User`][1], or rather the [`UserBuilder`][2] and the corresponding [`authorities`][3] and [`roles`][4] methods you will see that each replaces the full authorities. So you use either one or the other. \r\n\r\nIf you look even closer you will see that both `authorities` and `roles` are actually just `authorities`. The only difference is that the `roles` are going to be prefixed with `ROLE_`. \r\n\r\nSo in your initial setup you are ending up with just 1 authority named `ROLE_MANAGER` / `ROLE_ADMIN` and not your `read` authority. \r\n\r\nInstead of calling both methods, just call `authorities` with both `read` and `ROLE_MANAGER`.\r\n\r\n```java\r\nUserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;, &quot;ROLE_MANAGER&quot;)\r\n            .build();\r\n``` \r\n\r\n[1]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java\r\n[2]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L326\r\n[3]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L411\r\n[4]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L456","title":"Spring Boot &amp; Spring Security : Issues with mixing roles and authorities for access control","body":"<p>The problem is the construction of your <code>User</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .roles(&quot;MANAGER&quot;)\n            .build();\n</code></pre>\n<p>If you would have checked the code for the <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java\" rel=\"nofollow noreferrer\"><code>User</code></a>, or rather the <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L326\" rel=\"nofollow noreferrer\"><code>UserBuilder</code></a> and the corresponding <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L411\" rel=\"nofollow noreferrer\"><code>authorities</code></a> and <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L456\" rel=\"nofollow noreferrer\"><code>roles</code></a> methods you will see that each replaces the full authorities. So you use either one or the other.</p>\n<p>If you look even closer you will see that both <code>authorities</code> and <code>roles</code> are actually just <code>authorities</code>. The only difference is that the <code>roles</code> are going to be prefixed with <code>ROLE_</code>.</p>\n<p>So in your initial setup you are ending up with just 1 authority named <code>ROLE_MANAGER</code> / <code>ROLE_ADMIN</code> and not your <code>read</code> authority.</p>\n<p>Instead of calling both methods, just call <code>authorities</code> with both <code>read</code> and <code>ROLE_MANAGER</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;, &quot;ROLE_MANAGER&quot;)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":12361682,"reputation":65,"user_id":9015656,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001123,"creation_date":1681982161,"question_id":76062449,"body_markdown":"I am using Spring Boot 2.7.2 and have set up a security configuration with roles and authorities for my users. However, I&#39;m having issues when mixing roles and authorities in my access control expression.\r\n\r\nHere&#39;s my configuration:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http\r\n            .httpBasic()\r\n            .and()\r\n            .authorizeRequests()\r\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority(&#39;read&#39;)&quot;)\r\n            .and()\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic UserDetailsService userDetailsService(){\r\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\r\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .roles(&quot;MANAGER&quot;)\r\n            .build();\r\n\r\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;write&quot;)\r\n            .roles(&quot;ADMIN&quot;)\r\n            .build();\r\n\r\n    udm.createUser(ud);\r\n    udm.createUser(ud1);\r\n\r\n    return udm;\r\n}\r\n\r\n```\r\n\r\nWith this configuration, both users are rejected when trying to access an endpoint. However, if I remove the roles and only use authorities when creating users, it works fine: bill can access the endpoint, and john cannot.\r\n\r\nWith this configuration it will work as expected:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http\r\n            .httpBasic()\r\n            .and()\r\n            .authorizeRequests()\r\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority(&#39;read&#39;)&quot;)\r\n            .and()\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic UserDetailsService userDetailsService(){\r\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\r\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .build();\r\n\r\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;write&quot;)\r\n            .build();\r\n\r\n    udm.createUser(ud);\r\n    udm.createUser(ud1);\r\n\r\n    return udm;\r\n}\r\n\r\n```\r\n\r\nI would like to understand why this issue occurs when I mix roles and authorities and how I can make it work with both roles and authorities in my configuration. Any help or suggestions would be appreciated.","title":"Spring Boot &amp; Spring Security : Issues with mixing roles and authorities for access control","body":"<p>I am using Spring Boot 2.7.2 and have set up a security configuration with roles and authorities for my users. However, I'm having issues when mixing roles and authorities in my access control expression.</p>\n<p>Here's my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority('read')&quot;)\n            .and()\n            .build();\n}\n\n@Bean\npublic UserDetailsService userDetailsService(){\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .roles(&quot;MANAGER&quot;)\n            .build();\n\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;write&quot;)\n            .roles(&quot;ADMIN&quot;)\n            .build();\n\n    udm.createUser(ud);\n    udm.createUser(ud1);\n\n    return udm;\n}\n\n</code></pre>\n<p>With this configuration, both users are rejected when trying to access an endpoint. However, if I remove the roles and only use authorities when creating users, it works fine: bill can access the endpoint, and john cannot.</p>\n<p>With this configuration it will work as expected:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority('read')&quot;)\n            .and()\n            .build();\n}\n\n@Bean\npublic UserDetailsService userDetailsService(){\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .build();\n\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;write&quot;)\n            .build();\n\n    udm.createUser(ud);\n    udm.createUser(ud1);\n\n    return udm;\n}\n\n</code></pre>\n<p>I would like to understand why this issue occurs when I mix roles and authorities and how I can make it work with both roles and authorities in my configuration. Any help or suggestions would be appreciated.</p>\n"},{"tags":["java","interface","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1682006708,"post_id":76065161,"comment_id":134151467,"body_markdown":"Create another abstract class that extends the original, and put all the common code/variables in there.","body":"Create another abstract class that extends the original, and put all the common code/variables in there."}],"owner":{"account_id":17438832,"reputation":13,"user_id":12648160,"display_name":"amayito37"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682000344,"creation_date":1682000344,"question_id":76065161,"body_markdown":"I have two java classes that do the same thing but their output depends on the value of two attributes that are of the same type, but each class has different values for the attributes. Also each class input and output type are different but they implement the same abstract class. How can I avoid duplicated code?\r\n\r\n\r\n```\r\npublic class ClassA {\r\n    private MyClass1 attr1;\r\n    private myClass2 attr2;\r\n    \r\n    public ResponseA doSomething(RequestA request) {\r\n        // do something with attr1 and attr2 and request\r\n        return ResponseA.builder().build();\r\n    }\r\n}\r\n\r\npublic class ClassB {\r\n    private myClass1 attr1;\r\n    private myClass2 attr2;\r\n    \r\n    public ResponseB doSomething(RequestB request) {\r\n        // do something with attr1 and attr2 and request\r\n        return ResponseB.builder().build();\r\n    }\r\n}\r\n\r\npublic abstract class RequestType {\r\n     \r\n}\r\n\r\npublic class RequestA extends RequestType {\r\n\r\n}\r\n\r\npublic class RequestB extends RequestType {\r\n\r\n}\r\n\r\npublic abstract class ResponseType {\r\n    // can&#39;t have a builder\r\n}\r\n\r\npublic class ResponseA extends ResponseType {\r\n    // has a builder\r\n}\r\n\r\npublic class ResponseB extends ResponseType {\r\n    // has a builder\r\n}\r\n```\r\n\r\nHow can I make it so that I don&#39;t have to repeat the implementation of `doSomething` twice (or more than twice in the future.\r\n\r\nI tried with an interface, but had problems because I need to access the value of the attributes inside `doSomething` so I couldn&#39;t just put the implementation of the method in the interface.\r\n\r\nThe problem I have for abstract class is that, since `ResponseType` doesn&#39;t have a builder (neither can I touch that class), I can&#39;t build the object from the abstract class, because I need to know which subclass I&#39;m working with to call that builder.","title":"How to avoid code duplication in java when working with two implementations of an abstract class","body":"<p>I have two java classes that do the same thing but their output depends on the value of two attributes that are of the same type, but each class has different values for the attributes. Also each class input and output type are different but they implement the same abstract class. How can I avoid duplicated code?</p>\n<pre><code>public class ClassA {\n    private MyClass1 attr1;\n    private myClass2 attr2;\n    \n    public ResponseA doSomething(RequestA request) {\n        // do something with attr1 and attr2 and request\n        return ResponseA.builder().build();\n    }\n}\n\npublic class ClassB {\n    private myClass1 attr1;\n    private myClass2 attr2;\n    \n    public ResponseB doSomething(RequestB request) {\n        // do something with attr1 and attr2 and request\n        return ResponseB.builder().build();\n    }\n}\n\npublic abstract class RequestType {\n     \n}\n\npublic class RequestA extends RequestType {\n\n}\n\npublic class RequestB extends RequestType {\n\n}\n\npublic abstract class ResponseType {\n    // can't have a builder\n}\n\npublic class ResponseA extends ResponseType {\n    // has a builder\n}\n\npublic class ResponseB extends ResponseType {\n    // has a builder\n}\n</code></pre>\n<p>How can I make it so that I don't have to repeat the implementation of <code>doSomething</code> twice (or more than twice in the future.</p>\n<p>I tried with an interface, but had problems because I need to access the value of the attributes inside <code>doSomething</code> so I couldn't just put the implementation of the method in the interface.</p>\n<p>The problem I have for abstract class is that, since <code>ResponseType</code> doesn't have a builder (neither can I touch that class), I can't build the object from the abstract class, because I need to know which subclass I'm working with to call that builder.</p>\n"},{"tags":["java","low-latency","jgroups"],"answers":[{"tags":[],"owner":{"account_id":9601390,"reputation":33,"user_id":7128777,"display_name":"Christophe Kamphaus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681999767,"creation_date":1681999767,"answer_id":76065059,"question_id":74813753,"body_markdown":"There is an open issue in the JGroups tracker to establish a JGroups config optimized for low latency: https://issues.redhat.com/browse/JGRP-2601\r\nThis issue mentions that by default JGroups is biased towards high throughput and links to a working document for this issue: https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt\r\n\r\nThe listed recommendations in this document are:\r\n\r\n    Recommendations\r\n    ---------------\r\n    \r\n    * General\r\n      * Use a JDK &gt;= 15. Changes to the networking code in 15 improved performance for TCP (and UDP datagram sockets)\r\n        a lot: http://belaban.blogspot.com/2020/07/double-your-performance-virtual-threads.html\r\n      * Use virtual threads (set use_virtual_threads=true in the transport). This reduces context switching when more\r\n        threads than cores are used.\r\n      * Remove TIME when up/down measurements are not needed anymore; every message sent/received requires a\r\n        System.nanoTime(), slowing things down a bit\r\n    \r\n    * TCP:\r\n      * Low latency:\r\n        * buffered_output_stream_size=0 (or a low value)\r\n        * bundler_type=&quot;no-bundler&quot;\r\n          * Investigate: use &quot;per-destination&quot; bunder_type, but also use OOB|DONT_BUNDLE\r\n    \r\n      * High throughput: set buffered_output_stream to a high value (e.g. 65k)\r\n    \r\n    * UNICAST3\r\n      * ack_threshold: &lt;investigate&gt;\r\n\r\nAfter upgrading to JDK 17 we indeed noticed that our latency issues were fixed.","title":"How can we provide low latency transmission of messages using jGroups?","body":"<p>There is an open issue in the JGroups tracker to establish a JGroups config optimized for low latency: <a href=\"https://issues.redhat.com/browse/JGRP-2601\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/JGRP-2601</a>\nThis issue mentions that by default JGroups is biased towards high throughput and links to a working document for this issue: <a href=\"https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt\" rel=\"nofollow noreferrer\">https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt</a></p>\n<p>The listed recommendations in this document are:</p>\n<pre><code>Recommendations\n---------------\n\n* General\n  * Use a JDK &gt;= 15. Changes to the networking code in 15 improved performance for TCP (and UDP datagram sockets)\n    a lot: http://belaban.blogspot.com/2020/07/double-your-performance-virtual-threads.html\n  * Use virtual threads (set use_virtual_threads=true in the transport). This reduces context switching when more\n    threads than cores are used.\n  * Remove TIME when up/down measurements are not needed anymore; every message sent/received requires a\n    System.nanoTime(), slowing things down a bit\n\n* TCP:\n  * Low latency:\n    * buffered_output_stream_size=0 (or a low value)\n    * bundler_type=&quot;no-bundler&quot;\n      * Investigate: use &quot;per-destination&quot; bunder_type, but also use OOB|DONT_BUNDLE\n\n  * High throughput: set buffered_output_stream to a high value (e.g. 65k)\n\n* UNICAST3\n  * ack_threshold: &lt;investigate&gt;\n</code></pre>\n<p>After upgrading to JDK 17 we indeed noticed that our latency issues were fixed.</p>\n"}],"owner":{"account_id":9601390,"reputation":33,"user_id":7128777,"display_name":"Christophe Kamphaus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065059,"answer_count":1,"score":0,"last_activity_date":1681999767,"creation_date":1671117523,"question_id":74813753,"body_markdown":"We have implemented message broadcasting between instances of the same API using jGroups to synchronize application state.\r\nWe use jGroups`5.2.4.Final` on JDK 11.0.17 on Linux 5.4.0.\r\nCurrently we observe that some messages take around 7 seconds (in some cases even up to 50s) to be transmitted from one API to another and we&#39;d like to achieve &lt;1s latencies.\r\n\r\nThis issue occurs even when both API instances run on the same machine.\r\n\r\nTo send we use\r\n```\r\nchannel = new org.jgroups.JChannel(networkConfig.getInputStream()); // channel created once at startup of api\r\nchannel.setName(&quot;XNetwork&quot;);\r\nchannel.connect(&quot;XCluster&quot;);\r\nchannel.setReceiver(receiver);\r\nchannel.addChannelListener(this);\r\nchannel.setDiscardOwnMessages(true);\r\n...\r\nMessage message = new org.jgroups.BytesMessage(null, command);\r\nchannel.send(message); // executed when needed to synchronize state\r\n```\r\nwith the following configuration `networkConfig`:\r\n```\r\n &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;urn:org:jgroups&quot;\r\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\r\n      &lt;TCP\r\n          external_addr=&quot;match-interface:eth0&quot;\r\n          bind_addr=&quot;site_local,match-interface:eth0&quot;\r\n          bind_port=&quot;${jgroups.tcp_bind_port:7800}&quot;\r\n          recv_buf_size=&quot;5M&quot;\r\n          send_buf_size=&quot;1M&quot;\r\n          thread_naming_pattern=&quot;cl&quot;\r\n          thread_pool.min_threads=&quot;0&quot;\r\n          thread_pool.max_threads=&quot;500&quot;\r\n          thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\r\n      &lt;TCPPING async_discovery=&quot;true&quot;\r\n             initial_hosts=&quot;${jgroups.tcpping.initial_hosts:localhost[7800],localhost[7801]}&quot;\r\n             return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:false}&quot;\r\n             port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\r\n      &lt;MERGE3 max_interval=&quot;30000&quot;\r\n              min_interval=&quot;10000&quot;/&gt;\r\n      &lt;FD_SOCK2/&gt;\r\n      &lt;FD_ALL3 timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\r\n      &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;  /&gt;\r\n      &lt;BARRIER /&gt;\r\n      &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\r\n                      xmit_table_num_rows=&quot;100&quot;\r\n                      xmit_table_msgs_per_row=&quot;2000&quot;\r\n                      xmit_table_max_compaction_time=&quot;30000&quot;\r\n                      use_mcast_xmit=&quot;false&quot;\r\n                      discard_delivered_msgs=&quot;true&quot; /&gt;\r\n      &lt;UNICAST3\r\n              xmit_table_num_rows=&quot;100&quot;\r\n              xmit_table_msgs_per_row=&quot;1000&quot;\r\n              xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\r\n      &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot; max_bytes=&quot;8m&quot;/&gt;\r\n      &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot; /&gt;\r\n      &lt;UFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\r\n      &lt;MFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\r\n      &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\r\n      &lt;pbcast.STATE_TRANSFER  /&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\nAre there any jGroups parameters we could tune to reduce the latency?\r\n\r\nHow can we troubleshoot this latency issue to determine the root cause?\r\ne.g. How can we find out where in the network stack any latency is coming from?\r\n\r\nWe tried changing the `max_bundle_size` unsuccessfully. Setting the `DONT_BUNDLE` on the message flag reduced the time slightly, but not enough. We also played with the `&lt;FRAG2&gt;` and `&lt;FRAG4&gt;` tags without any success.\r\nWe expect the message to be delivered within less than 1s.","title":"How can we provide low latency transmission of messages using jGroups?","body":"<p>We have implemented message broadcasting between instances of the same API using jGroups to synchronize application state.\nWe use jGroups<code>5.2.4.Final</code> on JDK 11.0.17 on Linux 5.4.0.\nCurrently we observe that some messages take around 7 seconds (in some cases even up to 50s) to be transmitted from one API to another and we'd like to achieve &lt;1s latencies.</p>\n<p>This issue occurs even when both API instances run on the same machine.</p>\n<p>To send we use</p>\n<pre><code>channel = new org.jgroups.JChannel(networkConfig.getInputStream()); // channel created once at startup of api\nchannel.setName(&quot;XNetwork&quot;);\nchannel.connect(&quot;XCluster&quot;);\nchannel.setReceiver(receiver);\nchannel.addChannelListener(this);\nchannel.setDiscardOwnMessages(true);\n...\nMessage message = new org.jgroups.BytesMessage(null, command);\nchannel.send(message); // executed when needed to synchronize state\n</code></pre>\n<p>with the following configuration <code>networkConfig</code>:</p>\n<pre><code> &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;urn:org:jgroups&quot;\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\n      &lt;TCP\n          external_addr=&quot;match-interface:eth0&quot;\n          bind_addr=&quot;site_local,match-interface:eth0&quot;\n          bind_port=&quot;${jgroups.tcp_bind_port:7800}&quot;\n          recv_buf_size=&quot;5M&quot;\n          send_buf_size=&quot;1M&quot;\n          thread_naming_pattern=&quot;cl&quot;\n          thread_pool.min_threads=&quot;0&quot;\n          thread_pool.max_threads=&quot;500&quot;\n          thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\n      &lt;TCPPING async_discovery=&quot;true&quot;\n             initial_hosts=&quot;${jgroups.tcpping.initial_hosts:localhost[7800],localhost[7801]}&quot;\n             return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:false}&quot;\n             port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\n      &lt;MERGE3 max_interval=&quot;30000&quot;\n              min_interval=&quot;10000&quot;/&gt;\n      &lt;FD_SOCK2/&gt;\n      &lt;FD_ALL3 timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\n      &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;  /&gt;\n      &lt;BARRIER /&gt;\n      &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\n                      xmit_table_num_rows=&quot;100&quot;\n                      xmit_table_msgs_per_row=&quot;2000&quot;\n                      xmit_table_max_compaction_time=&quot;30000&quot;\n                      use_mcast_xmit=&quot;false&quot;\n                      discard_delivered_msgs=&quot;true&quot; /&gt;\n      &lt;UNICAST3\n              xmit_table_num_rows=&quot;100&quot;\n              xmit_table_msgs_per_row=&quot;1000&quot;\n              xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\n      &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot; max_bytes=&quot;8m&quot;/&gt;\n      &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot; /&gt;\n      &lt;UFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\n      &lt;MFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\n      &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\n      &lt;pbcast.STATE_TRANSFER  /&gt;\n&lt;/config&gt;\n</code></pre>\n<p>Are there any jGroups parameters we could tune to reduce the latency?</p>\n<p>How can we troubleshoot this latency issue to determine the root cause?\ne.g. How can we find out where in the network stack any latency is coming from?</p>\n<p>We tried changing the <code>max_bundle_size</code> unsuccessfully. Setting the <code>DONT_BUNDLE</code> on the message flag reduced the time slightly, but not enough. We also played with the <code>&lt;FRAG2&gt;</code> and <code>&lt;FRAG4&gt;</code> tags without any success.\nWe expect the message to be delivered within less than 1s.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"score":0,"creation_date":1682005071,"post_id":76065010,"comment_id":134151013,"body_markdown":"ahh, yes, i&#39;ll use set here instead for splitData.","body":"ahh, yes, i&#39;ll use set here instead for splitData."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681999512,"creation_date":1681999512,"answer_id":76065010,"question_id":76064518,"body_markdown":"It&#39;s possible to convert this loop to a stream. You just need some intermediate object to hold the object and its&#39; score. Record is perfect for this job:\r\n```\r\npublic record MyObjWrapper(MyObj myObj, double score) {\r\n}\r\n```\r\nNow calculate the score and [map][1] each object and score to the wrapper, find the [max][2] element by providing appropriate comparator and extract `MyObj` from the wrapper.\r\n```\r\npublic MyObj determineMyObjForDataStream(String data) {\r\n  List&lt;MyObj&gt; myObjs = myRepository.findAll();\r\n  List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\r\n          .map(String::toLowerCase)\r\n          .toList();\r\n  return myObjs.stream()\r\n          .map(obj -&gt; {\r\n            long hits = obj.keywords().stream()\r\n                    .map(String::toLowerCase)\r\n                    .filter(splitData::contains)\r\n                    .count();\r\n            double currentScore = hits / (double) splitData.size();\r\n            return new MyObjWrapper(obj, currentScore);\r\n          })\r\n          .max(Comparator.comparing(MyObjWrapper::score))\r\n          .map(MyObjWrapper::myObj)\r\n          .orElse(null);\r\n}\r\n```\r\nAdditionally, i would change `splitData` to a `Set` (contains is more efficient for set), unless you have a reason not to use set (maybe you need those duplicates when getting the size?).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-","title":"converting the code to stream (would it make sense? worth the effort?)","body":"<p>It's possible to convert this loop to a stream. You just need some intermediate object to hold the object and its' score. Record is perfect for this job:</p>\n<pre><code>public record MyObjWrapper(MyObj myObj, double score) {\n}\n</code></pre>\n<p>Now calculate the score and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> each object and score to the wrapper, find the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-\" rel=\"nofollow noreferrer\">max</a> element by providing appropriate comparator and extract <code>MyObj</code> from the wrapper.</p>\n<pre><code>public MyObj determineMyObjForDataStream(String data) {\n  List&lt;MyObj&gt; myObjs = myRepository.findAll();\n  List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\n          .map(String::toLowerCase)\n          .toList();\n  return myObjs.stream()\n          .map(obj -&gt; {\n            long hits = obj.keywords().stream()\n                    .map(String::toLowerCase)\n                    .filter(splitData::contains)\n                    .count();\n            double currentScore = hits / (double) splitData.size();\n            return new MyObjWrapper(obj, currentScore);\n          })\n          .max(Comparator.comparing(MyObjWrapper::score))\n          .map(MyObjWrapper::myObj)\n          .orElse(null);\n}\n</code></pre>\n<p>Additionally, i would change <code>splitData</code> to a <code>Set</code> (contains is more efficient for set), unless you have a reason not to use set (maybe you need those duplicates when getting the size?).</p>\n"}],"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065010,"answer_count":1,"score":0,"last_activity_date":1681999512,"creation_date":1681996590,"question_id":76064518,"body_markdown":"I would like to know your opinion on converting the following code to streams instead of using the loop i have.\r\nAnd could you help me with it, as i am not sure how to combine the multiple loops that i have.\r\nIs it worth the effort and does it make sense?\r\n\r\n```\r\npublic MyObj determineMyObjForData(String data) {\r\n        List&lt;MyObj&gt; myObjs = myRepository.findAll();\r\n        List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\r\n                .map(String::toLowerCase)\r\n                .toList();\r\n        MyObj result = null;\r\n        double highestMatchScore = 0;\r\n        for (MyObj obj : myObjs) {\r\n            List&lt;String&gt; keywords = obj.getKeywords().stream()\r\n                    .map(String::toLowerCase)\r\n                    .toList();\r\n            long hits = keywords.stream()\r\n                    .filter(splitData::contains)\r\n                    .count();\r\n            double currentScore = hits / (double) splitData.size();\r\n            if (currentScore &gt; highestMatchScore) {\r\n                highestMatchScore = currentScore;\r\n                result = obj;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```","title":"converting the code to stream (would it make sense? worth the effort?)","body":"<p>I would like to know your opinion on converting the following code to streams instead of using the loop i have.\nAnd could you help me with it, as i am not sure how to combine the multiple loops that i have.\nIs it worth the effort and does it make sense?</p>\n<pre><code>public MyObj determineMyObjForData(String data) {\n        List&lt;MyObj&gt; myObjs = myRepository.findAll();\n        List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\n                .map(String::toLowerCase)\n                .toList();\n        MyObj result = null;\n        double highestMatchScore = 0;\n        for (MyObj obj : myObjs) {\n            List&lt;String&gt; keywords = obj.getKeywords().stream()\n                    .map(String::toLowerCase)\n                    .toList();\n            long hits = keywords.stream()\n                    .filter(splitData::contains)\n                    .count();\n            double currentScore = hits / (double) splitData.size();\n            if (currentScore &gt; highestMatchScore) {\n                highestMatchScore = currentScore;\n                result = obj;\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650973205,"creation_date":1650973205,"answer_id":72013298,"question_id":72010468,"body_markdown":"You need services to run in the background when your application is not visible to the user. Android automatically kills some apps especially when they are resource intensive. This can also be done by some antivirus software, task cleaners, memory cleaning apps etc. \r\n\r\nYou need to build your application around these challenges because users will not be required to optimize their settings for your application to run. \r\n\r\nThis services can be triggered by some android activity lifecycles. When you lock your screen, some life cycle methods like the `onPause()` and the `onStop()` could be called in your applications by default. You need to handle these events.\r\n\r\n\r\n\r\n\r\n# Services\r\nA Service is an application component that can perform long-running operations in the background. It does not provide a user interface. Once started, a service might continue running for some time, even after the user switches to another application. You need to create a service that will perform the tasks you want and periodically update the call back in your application.\r\n\r\nE.g. The app may fetch notifications from a remote backend and periodically show them to the user at the notifications panel.\r\n\r\n# Android activity life cycles\r\nAs a user navigates through, out of, and back to your app, the Activity instances in your app transition through different states in their lifecycle. The Activity class provides a number of callbacks that allow the activity to know that a state has changed: that the system is creating, stopping, or resuming an activity, or destroying the process in which the activity resides.\r\n\r\nWithin the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity.\r\n\r\n# References\r\n1. Android Services -&gt; [Learn about android services][1]\r\n2. Activity Life Cycles -&gt; [Learn about activity life cycles][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/services\r\n  [2]: https://developer.android.com/guide/components/activities/activity-lifecycle","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>You need services to run in the background when your application is not visible to the user. Android automatically kills some apps especially when they are resource intensive. This can also be done by some antivirus software, task cleaners, memory cleaning apps etc.</p>\n<p>You need to build your application around these challenges because users will not be required to optimize their settings for your application to run.</p>\n<p>This services can be triggered by some android activity lifecycles. When you lock your screen, some life cycle methods like the <code>onPause()</code> and the <code>onStop()</code> could be called in your applications by default. You need to handle these events.</p>\n<h1>Services</h1>\n<p>A Service is an application component that can perform long-running operations in the background. It does not provide a user interface. Once started, a service might continue running for some time, even after the user switches to another application. You need to create a service that will perform the tasks you want and periodically update the call back in your application.</p>\n<p>E.g. The app may fetch notifications from a remote backend and periodically show them to the user at the notifications panel.</p>\n<h1>Android activity life cycles</h1>\n<p>As a user navigates through, out of, and back to your app, the Activity instances in your app transition through different states in their lifecycle. The Activity class provides a number of callbacks that allow the activity to know that a state has changed: that the system is creating, stopping, or resuming an activity, or destroying the process in which the activity resides.</p>\n<p>Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity.</p>\n<h1>References</h1>\n<ol>\n<li>Android Services -&gt; <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">Learn about android services</a></li>\n<li>Activity Life Cycles -&gt; <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">Learn about activity life cycles</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681889796,"post_id":76025197,"comment_id":134128008,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76025197/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":20662147,"reputation":21,"user_id":15169891,"display_name":"odoojs"},"score":0,"creation_date":1685351013,"post_id":76025197,"comment_id":134643932,"body_markdown":"@trung, yes, I need to run that activity in background, I have a WebView, but after approximately 5 minutes, the app is destroyed...\n\nWhat kind of solutions did you discovered? How to implement a background service for a starting WebView in main activity? Is there a solution to send the activity in foreground when you put the app in background (or when you open other app)?\n\nI didn&#39;t find any solutions...","body":"@trung, yes, I need to run that activity in background, I have a WebView, but after approximately 5 minutes, the app is destroyed...  What kind of solutions did you discovered? How to implement a background service for a starting WebView in main activity? Is there a solution to send the activity in foreground when you put the app in background (or when you open other app)?  I didn&#39;t find any solutions..."}],"tags":[],"owner":{"account_id":1010615,"reputation":91,"user_id":1023265,"display_name":"trung"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681999398,"creation_date":1681601077,"answer_id":76025197,"question_id":72010468,"body_markdown":"You app can run in background (hidden view) but due to Background Service Limitations, an app is considered to be in the foreground if it has a foreground service running. \r\n\r\nYou need to start a Foreground service and call `startForeground()` to start it.\r\n\r\nAlso, if you are using a `Webview`, such as `Ionic Javascript`, I see the `Webview` can stop after 5 min regardless even there was a Foreground service running. I was using `Ionic Webview Javascript` with Foreground service but it still stop after 5 min, so I decided to use Native Android and it works fine.\r\n\r\n\r\n","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>You app can run in background (hidden view) but due to Background Service Limitations, an app is considered to be in the foreground if it has a foreground service running.</p>\n<p>You need to start a Foreground service and call <code>startForeground()</code> to start it.</p>\n<p>Also, if you are using a <code>Webview</code>, such as <code>Ionic Javascript</code>, I see the <code>Webview</code> can stop after 5 min regardless even there was a Foreground service running. I was using <code>Ionic Webview Javascript</code> with Foreground service but it still stop after 5 min, so I decided to use Native Android and it works fine.</p>\n"}],"owner":{"account_id":20662147,"reputation":21,"user_id":15169891,"display_name":"odoojs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681999398,"creation_date":1650960553,"question_id":72010468,"body_markdown":"I know that it is a real problem with running apps in background for different OEMs, but how can I solve this problem? \r\n\r\nMy app has a webview integrated from an online radio, everything is ok, but after 5 minutes (in locked screen mode), the player stop playing... I can configure my mobile settings, going to Apps, Special access, Optimize battery usage, search for my app and disable that button, but I win only 10 minutes (15 in total), and the app will stop again...\r\n\r\nI found something about services, but I&#39;m a really beginner, I don&#39;t understand why should I use a service to run in foreground... I have also a notification icon (+title+message) which is showing on display even if the mobile screen is locked. For my understandings, that means the app is running in foreground and in background. Can&#39;t figure out how to solve this.\r\n\r\nI&#39;m a beginner, but I want to go with this app in production (Google Play), and I want to be useful, not to be just another app... \r\n\r\nI hope somebody will have the patience to respond on my issue. Thank you! \r\n\r\n(At least some advice, what should I do...)","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>I know that it is a real problem with running apps in background for different OEMs, but how can I solve this problem?</p>\n<p>My app has a webview integrated from an online radio, everything is ok, but after 5 minutes (in locked screen mode), the player stop playing... I can configure my mobile settings, going to Apps, Special access, Optimize battery usage, search for my app and disable that button, but I win only 10 minutes (15 in total), and the app will stop again...</p>\n<p>I found something about services, but I'm a really beginner, I don't understand why should I use a service to run in foreground... I have also a notification icon (+title+message) which is showing on display even if the mobile screen is locked. For my understandings, that means the app is running in foreground and in background. Can't figure out how to solve this.</p>\n<p>I'm a beginner, but I want to go with this app in production (Google Play), and I want to be useful, not to be just another app...</p>\n<p>I hope somebody will have the patience to respond on my issue. Thank you!</p>\n<p>(At least some advice, what should I do...)</p>\n"},{"tags":["java","c++","zeromq","portforwarding","upnp"],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681999013,"creation_date":1678305655,"question_id":75677691,"body_markdown":"I am using jeromq pub-sub system over pgm which works well. My problem is that I want this connection to be visible in the external internet, hence I choose to use Upnp to port forward, but my problem is that all java libraries that i found use TCP or UDP. Any suggestion on how to port forward port with pgm??","title":"Java Port forward using Upnp with PGM/EPGM instead of TCP or UDP","body":"<p>I am using jeromq pub-sub system over pgm which works well. My problem is that I want this connection to be visible in the external internet, hence I choose to use Upnp to port forward, but my problem is that all java libraries that i found use TCP or UDP. Any suggestion on how to port forward port with pgm??</p>\n"},{"tags":["java","sql-server","spring-boot","azure-sql-database","spring-data-jdbc"],"comments":[{"owner":{"account_id":19139186,"reputation":5735,"user_id":13979487,"display_name":"Joseph  Xu"},"score":0,"creation_date":1603272704,"post_id":64458305,"comment_id":113982050,"body_markdown":"It seems that the issue caused by the **id** column .","body":"It seems that the issue caused by the <b>id</b> column ."}],"answers":[{"comments":[{"owner":{"account_id":2169162,"reputation":565,"user_id":1921614,"display_name":"Javali"},"score":0,"creation_date":1699424819,"post_id":64460748,"comment_id":136528188,"body_markdown":"Actually the BeforeConvertCallback did the trick.","body":"Actually the BeforeConvertCallback did the trick."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603273005,"creation_date":1603273005,"answer_id":64460748,"question_id":64458305,"body_markdown":"If I understand your Liquibase configuration correct, it sets up a sequence and sets the default value of the id to the `next` value of that sequence.\r\n\r\nThis in principle should work, since Spring Data JDBC does not include a `null` id in an insert, assuming it will be generated by the database and returned by the JDBC driver. \r\n\r\nThat last part is probably where things go wrong. \r\nThe exception basically says after inserting the data in the database and using whatever the JDBC driver returned to update the id, the id is still `null` (or `0` if you use a primitive number type).\r\nSo probably the driver doesn&#39;t return the id generated by the sequence.\r\n\r\nIn order to solve the problem you have the following options:\r\n\r\n 1. Don&#39;t use a sequence, but create the id on the client side, for example by using a UUID. The benefit of this is that it&#39;s easy to implement should scale pretty well. If you create the id upon instantiation of the entity, you may also refer to it before persisting the entity.\r\n\r\n 2. Use a separate query to select the value from the sequence and use it to set the id. This is probably best done in a `BeforeSaveCallback`, but could also happen in a factory method that creates your entities. This is a little more involved and requires an additional database roundtrip. Which could get mitigated by implementing an algorithm where you select values from a sequence multiply it with say 50 and then generate 50 ids from it locally. Which is basically the HiLo algorithm of Hibernate.\r\n\r\n 3. Teach Spring Data JDBC how to get the id from the database. This could take many forms and depends on Azure knowledge that I don&#39;t have. If Azure has a `SERIAL` or `AUTOINCREMENT` field, that could probably be used instead of the sequence and it should get returned by the JDBC driver.\r\n\r\n    Maybe it works when a different `IdGeneration` is used in the `Dialect` you are using. Or maybe a new `IdGeneration` could be implemented. This obviously is rather involved and would take a full new release (or a patched version) of Spring Data JDBC.\r\n","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>If I understand your Liquibase configuration correct, it sets up a sequence and sets the default value of the id to the <code>next</code> value of that sequence.</p>\n<p>This in principle should work, since Spring Data JDBC does not include a <code>null</code> id in an insert, assuming it will be generated by the database and returned by the JDBC driver.</p>\n<p>That last part is probably where things go wrong.\nThe exception basically says after inserting the data in the database and using whatever the JDBC driver returned to update the id, the id is still <code>null</code> (or <code>0</code> if you use a primitive number type).\nSo probably the driver doesn't return the id generated by the sequence.</p>\n<p>In order to solve the problem you have the following options:</p>\n<ol>\n<li><p>Don't use a sequence, but create the id on the client side, for example by using a UUID. The benefit of this is that it's easy to implement should scale pretty well. If you create the id upon instantiation of the entity, you may also refer to it before persisting the entity.</p>\n</li>\n<li><p>Use a separate query to select the value from the sequence and use it to set the id. This is probably best done in a <code>BeforeSaveCallback</code>, but could also happen in a factory method that creates your entities. This is a little more involved and requires an additional database roundtrip. Which could get mitigated by implementing an algorithm where you select values from a sequence multiply it with say 50 and then generate 50 ids from it locally. Which is basically the HiLo algorithm of Hibernate.</p>\n</li>\n<li><p>Teach Spring Data JDBC how to get the id from the database. This could take many forms and depends on Azure knowledge that I don't have. If Azure has a <code>SERIAL</code> or <code>AUTOINCREMENT</code> field, that could probably be used instead of the sequence and it should get returned by the JDBC driver.</p>\n<p>Maybe it works when a different <code>IdGeneration</code> is used in the <code>Dialect</code> you are using. Or maybe a new <code>IdGeneration</code> could be implemented. This obviously is rather involved and would take a full new release (or a patched version) of Spring Data JDBC.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23390276,"reputation":79,"user_id":17455016,"display_name":"Miroslav Petrovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681998707,"creation_date":1681998707,"answer_id":76064872,"question_id":64458305,"body_markdown":"It appears to be wrong annotation used \r\n\r\nshould be used \r\n\r\n    import org.springframework.data.annotation.Id\r\n\r\ninstead of \r\n\r\n    import javax.persistence.Id","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>It appears to be wrong annotation used</p>\n<p>should be used</p>\n<pre><code>import org.springframework.data.annotation.Id\n</code></pre>\n<p>instead of</p>\n<pre><code>import javax.persistence.Id\n</code></pre>\n"}],"owner":{"account_id":2933520,"reputation":11,"user_id":2513044,"display_name":"Balu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681998707,"creation_date":1603263912,"question_id":64458305,"body_markdown":"Could you help me please with the following error? I am using spring-data-jdbc with Liquibase and Azure SQL Database. I get this when I want to save an object to database with *UserRepository.save*\r\n&gt;java.lang.IllegalArgumentException: After saving the identifier must not be null!\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.data.jdbc.core.JdbcAggregateTemplate.store(JdbcAggregateTemplate.java:343)\r\n\tat org.springframework.data.jdbc.core.JdbcAggregateTemplate.save(JdbcAggregateTemplate.java:149)\r\n\tat org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.save(SimpleJdbcRepository.java:55)\r\n\r\nEntity:\r\n```\r\n@Table(&quot;user_details&quot;)\r\npublic class UserDetails {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @Column(&quot;email_address&quot;)\r\n    String emailAddress;\r\n\r\n    @Column(&quot;first_name&quot;)\r\n    String firstName;\r\n\r\n    @Column(&quot;last_name&quot;)\r\n    String lastName;\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;UserDetails, Long&gt; {\r\n}\r\n```\r\nLiquibase: \r\n```\r\n  &lt;changeSet id=&quot;0001_user_details&quot;&gt;\r\n        &lt;createSequence sequenceName=&quot;user_details_seq&quot; startValue=&quot;1&quot;/&gt;\r\n\r\n        &lt;createTable tableName=&quot;user_details&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; defaultValueSequenceNext=&quot;user_details_seq&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;email_address&quot; type=&quot;VARCHAR(1024)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;       \r\n\r\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;  \r\n\r\n        &lt;/createTable&gt;\r\n\r\n        &lt;addPrimaryKey tableName=&quot;user_details&quot; columnNames=&quot;id&quot;\r\n                       constraintName=&quot;user_details_pk&quot;/&gt;\r\n\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nGenerated Schema:\r\n```\r\ncreate sequence user_details_seq\r\ngo\r\n\r\ncreate table user_details\r\n(\r\n    id               bigint\r\n        constraint DF_user_details_id default NEXT VALUE FOR [user_details_seq] not null\r\n        constraint user_details_pk\r\n            primary key,\r\n    email_address    varchar(1024),\r\n    first_name       varchar(255),\r\n    last_name        varchar(255),\r\n)\r\ngo\r\n\r\n```\r\n\r\nMaven:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;8.4.1.jre14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>Could you help me please with the following error? I am using spring-data-jdbc with Liquibase and Azure SQL Database. I get this when I want to save an object to database with <em>UserRepository.save</em></p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: After saving the identifier must not be null!\nat org.springframework.util.Assert.notNull(Assert.java:201)\nat org.springframework.data.jdbc.core.JdbcAggregateTemplate.store(JdbcAggregateTemplate.java:343)\nat org.springframework.data.jdbc.core.JdbcAggregateTemplate.save(JdbcAggregateTemplate.java:149)\nat org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.save(SimpleJdbcRepository.java:55)</p>\n</blockquote>\n<p>Entity:</p>\n<pre><code>@Table(&quot;user_details&quot;)\npublic class UserDetails {\n\n    @Id\n    Long id;\n\n    @Column(&quot;email_address&quot;)\n    String emailAddress;\n\n    @Column(&quot;first_name&quot;)\n    String firstName;\n\n    @Column(&quot;last_name&quot;)\n    String lastName;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;UserDetails, Long&gt; {\n}\n</code></pre>\n<p>Liquibase:</p>\n<pre><code>  &lt;changeSet id=&quot;0001_user_details&quot;&gt;\n        &lt;createSequence sequenceName=&quot;user_details_seq&quot; startValue=&quot;1&quot;/&gt;\n\n        &lt;createTable tableName=&quot;user_details&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; defaultValueSequenceNext=&quot;user_details_seq&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;email_address&quot; type=&quot;VARCHAR(1024)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;       \n\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;  \n\n        &lt;/createTable&gt;\n\n        &lt;addPrimaryKey tableName=&quot;user_details&quot; columnNames=&quot;id&quot;\n                       constraintName=&quot;user_details_pk&quot;/&gt;\n\n    &lt;/changeSet&gt;\n</code></pre>\n<p>Generated Schema:</p>\n<pre><code>create sequence user_details_seq\ngo\n\ncreate table user_details\n(\n    id               bigint\n        constraint DF_user_details_id default NEXT VALUE FOR [user_details_seq] not null\n        constraint user_details_pk\n            primary key,\n    email_address    varchar(1024),\n    first_name       varchar(255),\n    last_name        varchar(255),\n)\ngo\n\n</code></pre>\n<p>Maven:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1.jre14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681886585,"post_id":76051368,"comment_id":134127262,"body_markdown":"It feels like you are trying to do a task which Spring Batch is designed for with Spring Integration.","body":"It feels like you are trying to do a task which Spring Batch is designed for with Spring Integration."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681887551,"post_id":76051368,"comment_id":134127467,"body_markdown":"Thanks for the hint. I did a short research and you are right spring batch could also used for such a task. But according to this statement spring integration is better suited:\n&quot;In summary, Spring Integration is a better fit for the use case of reading data from a database and publishing it to a RabbitMQ queue due to its support for integration with databases and message brokers.&quot;","body":"Thanks for the hint. I did a short research and you are right spring batch could also used for such a task. But according to this statement spring integration is better suited: &quot;In summary, Spring Integration is a better fit for the use case of reading data from a database and publishing it to a RabbitMQ queue due to its support for integration with databases and message brokers.&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681888057,"post_id":76051368,"comment_id":134127585,"body_markdown":"Where are you publishing? I see a process message so it just seems you are only using RabbitMQ as a means to couple tasks.","body":"Where are you publishing? I see a process message so it just seems you are only using RabbitMQ as a means to couple tasks."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681888495,"post_id":76051368,"comment_id":134127682,"body_markdown":"I left away the publishing part to get a simple use case for my problem.","body":"I left away the publishing part to get a simple use case for my problem."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681888803,"post_id":76051368,"comment_id":134127748,"body_markdown":"Spring Batch does have a writer for rabbitmq. However I do not really understand the issue you currently have, it will poll 100 messages, as soon as they are on the channel it will continue with the next, it isn&#39;t aware of the further handling of the messages.","body":"Spring Batch does have a writer for rabbitmq. However I do not really understand the issue you currently have, it will poll 100 messages, as soon as they are on the channel it will continue with the next, it isn&#39;t aware of the further handling of the messages."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681891748,"post_id":76051368,"comment_id":134128435,"body_markdown":"That is unfortunately not the case. I added  a Thread.sleep to the processMessage. After the first poll my 10 threads are &quot;busy&quot;. The poller still polls and updates the records in the background. All my 1000 rows are updated to load_status = 3 while the threads still processing the first 10 messages.","body":"That is unfortunately not the case. I added  a Thread.sleep to the processMessage. After the first poll my 10 threads are &quot;busy&quot;. The poller still polls and updates the records in the background. All my 1000 rows are updated to load_status = 3 while the threads still processing the first 10 messages."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681892742,"post_id":76051368,"comment_id":134128657,"body_markdown":"Which is exactly what I stated would happen, the poller puts them on the channel and proceeds.","body":"Which is exactly what I stated would happen, the poller puts them on the channel and proceeds."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681894605,"post_id":76051368,"comment_id":134129077,"body_markdown":"But I like to have it such as it takes the next 100 when the first 100 are processed :-)","body":"But I like to have it such as it takes the next 100 when the first 100 are processed :-)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681894835,"post_id":76051368,"comment_id":134129122,"body_markdown":"That is not how this works. It polls puts stuff on a channel and continues, that is its job. For what you want, Spring Batch seems more suitable. Or update as part of the processing (although that might be slower).","body":"That is not how this works. It polls puts stuff on a channel and continues, that is its job. For what you want, Spring Batch seems more suitable. Or update as part of the processing (although that might be slower)."}],"answers":[{"comments":[{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681911418,"post_id":76054885,"comment_id":134133316,"body_markdown":"You are right the poller works as it should. My problem is the @Async, it hands all messages to the taskExecutor (queuing the threads) and goes on polling.\n\nI&#39;m currently experimenting with ExecutorChannel and an own TaskExecutor with queueCapacity = 0. That seems to work so far but I assume there is an easier solution around.","body":"You are right the poller works as it should. My problem is the @Async, it hands all messages to the taskExecutor (queuing the threads) and goes on polling.  I&#39;m currently experimenting with ExecutorChannel and an own TaskExecutor with queueCapacity = 0. That seems to work so far but I assume there is an easier solution around."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1681911745,"post_id":76054885,"comment_id":134133431,"body_markdown":"There is a `fixedRate` option for the poller to schedule a new task while the current one is still in progress","body":"There is a <code>fixedRate</code> option for the poller to schedule a new task while the current one is still in progress"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681909571,"creation_date":1681909571,"answer_id":76054885,"question_id":76051368,"body_markdown":"There never was a `setTrigger` nor `setTaskDecorator` in the `JdbcPollingChannelAdapter`. You are missing the fact that `@InboundChannelAdapter` is a pollable channel adapter based on a scheduled task. By default it is done per second. The next polling cycle is started after one second of the previous is finished. \r\n\r\nSee the `poller` attribute of that `@InboundChannelAdapter`. This is the place where you can adjust polling cycle and threading.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>There never was a <code>setTrigger</code> nor <code>setTaskDecorator</code> in the <code>JdbcPollingChannelAdapter</code>. You are missing the fact that <code>@InboundChannelAdapter</code> is a pollable channel adapter based on a scheduled task. By default it is done per second. The next polling cycle is started after one second of the previous is finished.</p>\n<p>See the <code>poller</code> attribute of that <code>@InboundChannelAdapter</code>. This is the place where you can adjust polling cycle and threading.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681998650,"creation_date":1681998650,"answer_id":76064866,"question_id":76051368,"body_markdown":"So far the best way to limit the input is using a poller advice.\r\n\r\nThis pauses the poller once the thread queue is bigger than two times the core threads:\r\n\r\n```\r\npublic class ThreadQueueAwareReceiveMessageAdvice implements ReceiveMessageAdvice {\r\n    private final ThreadPoolTaskExecutor taskExecutor;\r\n    private int maxThreadQueue;\r\n\r\n    public ThreadQueueAwareReceiveMessageAdvice(ThreadPoolTaskExecutor taskExecutor) {\r\n        this.taskExecutor = taskExecutor;\r\n        this.maxThreadQueue = 2 * taskExecutor.getCorePoolSize();\r\n    }\r\n\r\n    @Override\r\n    public boolean beforeReceive(Object source) {\r\n        if (taskExecutor.getQueueSize() &gt;= maxThreadQueue) {\r\n            return false;\r\n        }\r\n        return ReceiveMessageAdvice.super.beforeReceive(source);\r\n    }\r\n\r\n    @Override\r\n    public Message&lt;?&gt; afterReceive(Message&lt;?&gt; result, Object source) {\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nThis is the poller using the advice:\r\n```\r\n    @Bean\r\n    public PollerMetadata dbPoller() {\r\n        return Pollers\r\n                .fixedRate(500)\r\n                .maxMessagesPerPoll(10)\r\n                .advice(new ThreadQueueAwareReceiveMessageAdvice(taskExecutor))\r\n                .get();\r\n    }\r\n```","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>So far the best way to limit the input is using a poller advice.</p>\n<p>This pauses the poller once the thread queue is bigger than two times the core threads:</p>\n<pre><code>public class ThreadQueueAwareReceiveMessageAdvice implements ReceiveMessageAdvice {\n    private final ThreadPoolTaskExecutor taskExecutor;\n    private int maxThreadQueue;\n\n    public ThreadQueueAwareReceiveMessageAdvice(ThreadPoolTaskExecutor taskExecutor) {\n        this.taskExecutor = taskExecutor;\n        this.maxThreadQueue = 2 * taskExecutor.getCorePoolSize();\n    }\n\n    @Override\n    public boolean beforeReceive(Object source) {\n        if (taskExecutor.getQueueSize() &gt;= maxThreadQueue) {\n            return false;\n        }\n        return ReceiveMessageAdvice.super.beforeReceive(source);\n    }\n\n    @Override\n    public Message&lt;?&gt; afterReceive(Message&lt;?&gt; result, Object source) {\n        return result;\n    }\n}\n</code></pre>\n<p>This is the poller using the advice:</p>\n<pre><code>    @Bean\n    public PollerMetadata dbPoller() {\n        return Pollers\n                .fixedRate(500)\n                .maxMessagesPerPoll(10)\n                .advice(new ThreadQueueAwareReceiveMessageAdvice(taskExecutor))\n                .get();\n    }\n</code></pre>\n"}],"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681998650,"creation_date":1681885893,"question_id":76051368,"body_markdown":"My application has the following input channel adapter:\r\n\r\n\r\n```\r\n    @Bean\r\n    @InboundChannelAdapter(value = &quot;databaseInputChannel&quot;)\r\n    public JdbcPollingChannelAdapter checkDbForInput() {\r\n        JdbcPollingChannelAdapter adapter = new JdbcPollingChannelAdapter(dataSource(), &quot;select * from users&quot;);\r\n        adapter.setUpdateSql(&quot;update users set load_status = &#39;3&#39; where id in (:id)&quot;);\r\n        adapter.setMaxRows(100);\r\n        return adapter;\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow pollingFlow() {\r\n        return IntegrationFlow.from(&quot;databaseInputChannel&quot;)\r\n                .split()\r\n                .channel(&quot;databaseRowInputChannel&quot;)\r\n                .get();\r\n    }\r\n\r\n    @Async\r\n    @ServiceActivator(inputChannel = &quot;databaseRowInputChannel&quot;)\r\n    public void processMessage(Message&lt;?&gt; message) {\r\n    }\r\n\r\n```\r\n\r\nHow do I get the poller to just poll the next 100 rows when the previous 100 are processed (limited by the thread pool)?\r\n\r\n\r\nI tried to use jdbcPollingChannelAdapter.setTrigger or jdbcPollingChannelAdapter.setTaskDecorator as suggested on some places. But it looks like these have been removed in spring 6. On the other hand I think there should be an easier way to achieve the wanted behaviour.","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>My application has the following input channel adapter:</p>\n<pre><code>    @Bean\n    @InboundChannelAdapter(value = &quot;databaseInputChannel&quot;)\n    public JdbcPollingChannelAdapter checkDbForInput() {\n        JdbcPollingChannelAdapter adapter = new JdbcPollingChannelAdapter(dataSource(), &quot;select * from users&quot;);\n        adapter.setUpdateSql(&quot;update users set load_status = '3' where id in (:id)&quot;);\n        adapter.setMaxRows(100);\n        return adapter;\n    }\n\n    @Bean\n    public IntegrationFlow pollingFlow() {\n        return IntegrationFlow.from(&quot;databaseInputChannel&quot;)\n                .split()\n                .channel(&quot;databaseRowInputChannel&quot;)\n                .get();\n    }\n\n    @Async\n    @ServiceActivator(inputChannel = &quot;databaseRowInputChannel&quot;)\n    public void processMessage(Message&lt;?&gt; message) {\n    }\n\n</code></pre>\n<p>How do I get the poller to just poll the next 100 rows when the previous 100 are processed (limited by the thread pool)?</p>\n<p>I tried to use jdbcPollingChannelAdapter.setTrigger or jdbcPollingChannelAdapter.setTaskDecorator as suggested on some places. But it looks like these have been removed in spring 6. On the other hand I think there should be an easier way to achieve the wanted behaviour.</p>\n"},{"tags":["java","encryption","jwt","rsa","wso2-api-manager"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1681984707,"post_id":76062496,"comment_id":134145779,"body_markdown":"No idea what is in *wso2carbon.jks*, but maybe no X.509/SPKI key. Check if your key is an X.509/SPKI key, e.g. with https://lapo.it/asn1js/ or post a sample key (preferably additionally an example for the token).","body":"No idea what is in <i>wso2carbon.jks</i>, but maybe no X.509/SPKI key. Check if your key is an X.509/SPKI key, e.g. with <a href=\"https://lapo.it/asn1js/\" rel=\"nofollow noreferrer\">lapo.it/asn1js</a> or post a sample key (preferably additionally an example for the token)."},{"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"score":0,"creation_date":1681998402,"post_id":76062496,"comment_id":134149151,"body_markdown":"I posted the publicKey and token in full. The key seems valid. @Topaco","body":"I posted the publicKey and token in full. The key seems valid. @Topaco"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1682000221,"post_id":76062496,"comment_id":134149668,"body_markdown":"`MIIDq...` is a certificate. Load the certificate, extract the public key, s. e.g. [Obtaining public key from certificate](https://stackoverflow.com/q/6358555/9014097).","body":"<code>MIIDq...</code> is a certificate. Load the certificate, extract the public key, s. e.g. <a href=\"https://stackoverflow.com/q/6358555/9014097\">Obtaining public key from certificate</a>."}],"owner":{"account_id":15152869,"reputation":183,"user_id":10934684,"display_name":"Luigi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681998301,"creation_date":1681982432,"question_id":76062496,"body_markdown":"I need to decode a token generated by wso2am. In the code, accessToken is the generated token, while publicKey is the string obtained by showing the contents of the wso2carbon.jks file at the path wso2carbon/wso2am-3.2.0/repository/resources/security.\r\n\r\n\r\n        String publicKey = &quot;MIIDqTCCApGgAwIBAgIEXbABozANBgkqhkiG9w0BAQsFADBkMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQ0ExFjAUBgNVBAcMDU1vdW50YWluIFZpZXcxDTALBgNVBAoMBFdTTzIxDTALBgNVBAsMBFdTTzIxEjAQBgNVBAMMCWxvY2FsaG9zdDAeFw0xOTEwMjMwNzMwNDNaFw0yMjAxMjUwNzMwNDNaMGQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJDQTEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzENMAsGA1UECgwEV1NPMjENMAsGA1UECwwEV1NPMjESMBAGA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxeqoZYbQ/Sr8DOFQ+/qbEbCp6Vzb5hzH7oa3hf2FZxRKF0H6b8COMzz8+0mvEdYVvb/31jMEL2CIQhkQRol1IruD6nBOmkjuXJSBficklMaJZORhuCrB4roHxzoG19aWmscA0gnfBKo2oGXSjJmnZxIh+2X6syHCfyMZZ00LzDyrgoXWQXyFvCA2ax54s7sKiHOM3P4A9W4QUwmoEi4HQmPgJjIM4eGVPh0GtIANN+BOQ1KkUI7OzteHCTLu3VjxM0sw8QRayZdhniPF+U9n3fa1mO4KLBsW4mDLjg8R/JuAGTX/SEEGj0B5HWQAP6myxKFz2xwDaCGvT+rdvkktOwIDAQABo2MwYTAUBgNVHREEDTALgglsb2NhbGhvc3QwHQYDVR0OBBYEFEDpLB4PDgzsdxD2FV3rVnOr/A0DMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjALBgNVHQ8EBAMCBPAwDQYJKoZIhvcNAQELBQADggEBAE8H/axAgXjt93HGCYGumULW2lKkgqEvXryP2QkRpbyQSsTYcL7ZLSVB7MVVHtIsHh8f1C4Xq6Qu8NUrqu5ZLC1pUByaqR2ZIzcj/OWLGYRjSTHSVmVIq9QqBq1j7r6f3BWqaOIiknmTzEuqIVlOTY0gO+SHdS62vr2FCz4yOrBEulGAvomsU8sqg4PhFnkhxI4M912Ly+2RgN9L7AkhzK+EzXY1/QtlI/VysNfS6zrHasKz6CrKKCGqQnBnSvSTyF9OR5KFHnkAwE995IZrcSQicMxsLhTMUHDLQ/gRyy7V/ZpDMfAWR+5OeQiNAp/bG4fjJoTdoqkul51+2bHHVrU=&quot;;\r\n        String accessToken = &quot;eyJ4NXQiOiJNell4TW1Ga09HWXdNV0kwWldObU5EY3hOR1l3WW1NNFpUQTNNV0kyTkRBelpHUXpOR00wWkdSbE5qSmtPREZrWkRSaU9URmtNV0ZoTXpVMlpHVmxOZyIsImtpZCI6Ik16WXhNbUZrT0dZd01XSTBaV05tTkRjeE5HWXdZbU00WlRBM01XSTJOREF6WkdRek5HTTBaR1JsTmpKa09ERmtaRFJpT1RGa01XRmhNelUyWkdWbE5nX1JTMjU2IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbkBjYXJib24uc3VwZXIiLCJhdWQiOiJ6VVJZbHd5NUJKR24xNUx4SFJPWkpmRUtjcFlhIiwibmJmIjoxNjgxOTIxOTIxLCJhenAiOiJ6VVJZbHd5NUJKR24xNUx4SFJPWkpmRUtjcFlhIiwic2NvcGUiOiJhbV9hcHBsaWNhdGlvbl9zY29wZSBkZWZhdWx0IiwiaXNzIjoiaHR0cHM6XC9cL2xvY2FsaG9zdDo5NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjoxNjgxOTI1NTIxLCJpYXQiOjE2ODE5MjE5MjEsImp0aSI6ImU3MTIxYjRmLWQyNzYtNDA5Mi1hNzEzLWEyY2I2MzkxMjNiZiJ9.uEA21GcgWaIt0tM3RA3rF9zhPigzcgSsSiQPn5SHq1qZCTe9R_2va2NTXCCza6MiYq6uWiQpXvlUlWEIkJkrLgRRc9oKw1DsdMTa9S8tSw4birr7QPBLUtMLgHae6ITiP7fAPQftHWwM5az5Z9p4zS0KkqXRQat42KsRwKL_7Sfi0ffQyGaBMHYacjviXgjTjaWmqnbvwLQTBmAlxvFLK91WmxwS9KUoWx4AK60aA3WGnp1ci65HmwFVLtu2t-Aev94VzGGzniYoyT17FzqZ1HupN3fqsgVf3-69-vHAcehu4P41Azzo6KjnhlmuE9F9jYD2Sa_MP79cJDYJE8XxUw&quot;;\r\n\r\n        byte[] decoded = Base64.getDecoder().decode(publicKey);\r\n        String algorithm = &quot;RSA&quot;;\r\n        KeyFactory kf = KeyFactory.getInstance(algorithm);\r\n        PublicKey generatedPublic = kf.generatePublic(new X509EncodedKeySpec(decoded));\r\n\r\n        String[] chunks = accessToken.split(&quot;\\\\.&quot;);\r\n\r\n        Base64.Decoder decoder = Base64.getDecoder();\r\n\r\n        String header = new String(decoder.decode(chunks[0]));\r\n        String payload = new String(decoder.decode(chunks[1]));\r\n        String signature = chunks[2];\r\n\r\n        SignatureAlgorithm sa = SignatureAlgorithm.RS256;\r\n        String tokenWithoutSignature = chunks[0] + &quot;.&quot; + chunks[1];\r\n\r\n        DefaultJwtSignatureValidator validator = new DefaultJwtSignatureValidator(sa, generatedPublic);\r\n\r\n        if (!validator.isValid(tokenWithoutSignature, signature)) {\r\n            System.out.println(&quot;=============== Invalid access token&quot;);\r\n        } else {\r\n            System.out.println(&quot;============= valid access token&quot;);\r\n        }\r\n\r\n\r\nI get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n\tat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:240)\r\n\tat java.security.KeyFactory.generatePublic(KeyFactory.java:334)\r\n\tat it.egeos.aware.dm.orchestrator.testMain.main(testMain.java:22)\r\n    Caused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)\r\n\tat sun.security.x509.X509Key.decode(X509Key.java:397)\r\n\tat sun.security.x509.X509Key.decode(X509Key.java:402)\r\n\tat sun.security.rsa.RSAPublicKeyImpl.&lt;init&gt;(RSAPublicKeyImpl.java:122)\r\n\tat sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:331)\r\n\tat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:236)\r\n\t... 2 more\r\n\r\nHow could I solve it?","title":"java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn&#39;t an object ID (tag = -96)","body":"<p>I need to decode a token generated by wso2am. In the code, accessToken is the generated token, while publicKey is the string obtained by showing the contents of the wso2carbon.jks file at the path wso2carbon/wso2am-3.2.0/repository/resources/security.</p>\n<pre><code>    String publicKey = &quot;MIIDqTCCApGgAwIBAgIEXbABozANBgkqhkiG9w0BAQsFADBkMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQ0ExFjAUBgNVBAcMDU1vdW50YWluIFZpZXcxDTALBgNVBAoMBFdTTzIxDTALBgNVBAsMBFdTTzIxEjAQBgNVBAMMCWxvY2FsaG9zdDAeFw0xOTEwMjMwNzMwNDNaFw0yMjAxMjUwNzMwNDNaMGQxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJDQTEWMBQGA1UEBwwNTW91bnRhaW4gVmlldzENMAsGA1UECgwEV1NPMjENMAsGA1UECwwEV1NPMjESMBAGA1UEAwwJbG9jYWxob3N0MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxeqoZYbQ/Sr8DOFQ+/qbEbCp6Vzb5hzH7oa3hf2FZxRKF0H6b8COMzz8+0mvEdYVvb/31jMEL2CIQhkQRol1IruD6nBOmkjuXJSBficklMaJZORhuCrB4roHxzoG19aWmscA0gnfBKo2oGXSjJmnZxIh+2X6syHCfyMZZ00LzDyrgoXWQXyFvCA2ax54s7sKiHOM3P4A9W4QUwmoEi4HQmPgJjIM4eGVPh0GtIANN+BOQ1KkUI7OzteHCTLu3VjxM0sw8QRayZdhniPF+U9n3fa1mO4KLBsW4mDLjg8R/JuAGTX/SEEGj0B5HWQAP6myxKFz2xwDaCGvT+rdvkktOwIDAQABo2MwYTAUBgNVHREEDTALgglsb2NhbGhvc3QwHQYDVR0OBBYEFEDpLB4PDgzsdxD2FV3rVnOr/A0DMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjALBgNVHQ8EBAMCBPAwDQYJKoZIhvcNAQELBQADggEBAE8H/axAgXjt93HGCYGumULW2lKkgqEvXryP2QkRpbyQSsTYcL7ZLSVB7MVVHtIsHh8f1C4Xq6Qu8NUrqu5ZLC1pUByaqR2ZIzcj/OWLGYRjSTHSVmVIq9QqBq1j7r6f3BWqaOIiknmTzEuqIVlOTY0gO+SHdS62vr2FCz4yOrBEulGAvomsU8sqg4PhFnkhxI4M912Ly+2RgN9L7AkhzK+EzXY1/QtlI/VysNfS6zrHasKz6CrKKCGqQnBnSvSTyF9OR5KFHnkAwE995IZrcSQicMxsLhTMUHDLQ/gRyy7V/ZpDMfAWR+5OeQiNAp/bG4fjJoTdoqkul51+2bHHVrU=&quot;;\n    String accessToken = &quot;eyJ4NXQiOiJNell4TW1Ga09HWXdNV0kwWldObU5EY3hOR1l3WW1NNFpUQTNNV0kyTkRBelpHUXpOR00wWkdSbE5qSmtPREZrWkRSaU9URmtNV0ZoTXpVMlpHVmxOZyIsImtpZCI6Ik16WXhNbUZrT0dZd01XSTBaV05tTkRjeE5HWXdZbU00WlRBM01XSTJOREF6WkdRek5HTTBaR1JsTmpKa09ERmtaRFJpT1RGa01XRmhNelUyWkdWbE5nX1JTMjU2IiwiYWxnIjoiUlMyNTYifQ.eyJzdWIiOiJhZG1pbkBjYXJib24uc3VwZXIiLCJhdWQiOiJ6VVJZbHd5NUJKR24xNUx4SFJPWkpmRUtjcFlhIiwibmJmIjoxNjgxOTIxOTIxLCJhenAiOiJ6VVJZbHd5NUJKR24xNUx4SFJPWkpmRUtjcFlhIiwic2NvcGUiOiJhbV9hcHBsaWNhdGlvbl9zY29wZSBkZWZhdWx0IiwiaXNzIjoiaHR0cHM6XC9cL2xvY2FsaG9zdDo5NDQzXC9vYXV0aDJcL3Rva2VuIiwiZXhwIjoxNjgxOTI1NTIxLCJpYXQiOjE2ODE5MjE5MjEsImp0aSI6ImU3MTIxYjRmLWQyNzYtNDA5Mi1hNzEzLWEyY2I2MzkxMjNiZiJ9.uEA21GcgWaIt0tM3RA3rF9zhPigzcgSsSiQPn5SHq1qZCTe9R_2va2NTXCCza6MiYq6uWiQpXvlUlWEIkJkrLgRRc9oKw1DsdMTa9S8tSw4birr7QPBLUtMLgHae6ITiP7fAPQftHWwM5az5Z9p4zS0KkqXRQat42KsRwKL_7Sfi0ffQyGaBMHYacjviXgjTjaWmqnbvwLQTBmAlxvFLK91WmxwS9KUoWx4AK60aA3WGnp1ci65HmwFVLtu2t-Aev94VzGGzniYoyT17FzqZ1HupN3fqsgVf3-69-vHAcehu4P41Azzo6KjnhlmuE9F9jYD2Sa_MP79cJDYJE8XxUw&quot;;\n\n    byte[] decoded = Base64.getDecoder().decode(publicKey);\n    String algorithm = &quot;RSA&quot;;\n    KeyFactory kf = KeyFactory.getInstance(algorithm);\n    PublicKey generatedPublic = kf.generatePublic(new X509EncodedKeySpec(decoded));\n\n    String[] chunks = accessToken.split(&quot;\\\\.&quot;);\n\n    Base64.Decoder decoder = Base64.getDecoder();\n\n    String header = new String(decoder.decode(chunks[0]));\n    String payload = new String(decoder.decode(chunks[1]));\n    String signature = chunks[2];\n\n    SignatureAlgorithm sa = SignatureAlgorithm.RS256;\n    String tokenWithoutSignature = chunks[0] + &quot;.&quot; + chunks[1];\n\n    DefaultJwtSignatureValidator validator = new DefaultJwtSignatureValidator(sa, generatedPublic);\n\n    if (!validator.isValid(tokenWithoutSignature, signature)) {\n        System.out.println(&quot;=============== Invalid access token&quot;);\n    } else {\n        System.out.println(&quot;============= valid access token&quot;);\n    }\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:240)\nat java.security.KeyFactory.generatePublic(KeyFactory.java:334)\nat it.egeos.aware.dm.orchestrator.testMain.main(testMain.java:22)\nCaused by: java.security.InvalidKeyException: IOException: ObjectIdentifier() -- data isn't an object ID (tag = -96)\nat sun.security.x509.X509Key.decode(X509Key.java:397)\nat sun.security.x509.X509Key.decode(X509Key.java:402)\nat sun.security.rsa.RSAPublicKeyImpl.&lt;init&gt;(RSAPublicKeyImpl.java:122)\nat sun.security.rsa.RSAKeyFactory.generatePublic(RSAKeyFactory.java:331)\nat sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:236)\n... 2 more\n</code></pre>\n<p>How could I solve it?</p>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1681993751,"post_id":76063931,"comment_id":134147861,"body_markdown":"Could you use a `RepositoryRestResource` like described in https://spring.io/guides/gs/accessing-data-rest/?","body":"Could you use a <code>RepositoryRestResource</code> like described in <a href=\"https://spring.io/guides/gs/accessing-data-rest/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/accessing-data-rest</a>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1681994637,"post_id":76063931,"comment_id":134148103,"body_markdown":"No transasction, nothing int he database.","body":"No transasction, nothing int he database."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681995093,"post_id":76063931,"comment_id":134148228,"body_markdown":"Hello, as stated before - new added data won&#39;t be seen in the SQL client until the transaction is committed. In your repository code you are using a simple CrudRepository which doesn&#39;t create any transaction at all. I suggest to use JPARepository instead. It will use transactions and commit the changes internally.","body":"Hello, as stated before - new added data won&#39;t be seen in the SQL client until the transaction is committed. In your repository code you are using a simple CrudRepository which doesn&#39;t create any transaction at all. I suggest to use JPARepository instead. It will use transactions and commit the changes internally."},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1681995636,"post_id":76063931,"comment_id":134148385,"body_markdown":"Is it a Springboot application or normal spring application since you are using @controller annotation instead of Rest Controller annotation. Also could you please put your request call for saving data and what is the response of your request as well which helps to see whether your request is missing something.","body":"Is it a Springboot application or normal spring application since you are using @controller annotation instead of Rest Controller annotation. Also could you please put your request call for saving data and what is the response of your request as well which helps to see whether your request is missing something."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681994654,"post_id":76064050,"comment_id":134148108,"body_markdown":"That won&#39;t help it will actually lead to different errors.","body":"That won&#39;t help it will actually lead to different errors."},{"owner":{"account_id":23939518,"reputation":11,"user_id":17932828,"display_name":"Der Dude"},"score":0,"creation_date":1681998212,"post_id":76064050,"comment_id":134149083,"body_markdown":"Then return only a list of users. I think that is the standard.","body":"Then return only a list of users. I think that is the standard."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681998459,"post_id":76064050,"comment_id":134149168,"body_markdown":"That won&#39;t change a thing either. Removing `@ResponseBody` from an `@Controller` will lead to other issues, so your answer won&#39;t solve anything only make things worse.","body":"That won&#39;t change a thing either. Removing <code>@ResponseBody</code> from an <code>@Controller</code> will lead to other issues, so your answer won&#39;t solve anything only make things worse."}],"tags":[],"owner":{"account_id":23939518,"reputation":11,"user_id":17932828,"display_name":"Der Dude"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681998238,"creation_date":1681993716,"answer_id":76064050,"question_id":76063931,"body_markdown":"You should just tell it what data type to return.\r\n\r\nChange this:  \r\n   \r\n    @GetMapping(path=&quot;/all&quot;)\r\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\r\n        // This returns a JSON or XML with the users\r\n        return userRepository.findAll();\r\n    }\r\n\r\nTo this:\r\n\r\n    @GetMapping(path=&quot;/all&quot;)\r\n    public List&lt;User&gt; getAllUsers() {\r\n        // This returns a JSON or XML with the users\r\n        return userRepository.findAll();\r\n    }\r\n\r\n","title":"how do i set up the database to work with spring","body":"<p>You should just tell it what data type to return.</p>\n<p>Change this:</p>\n<pre><code>@GetMapping(path=&quot;/all&quot;)\npublic @ResponseBody Iterable&lt;User&gt; getAllUsers() {\n    // This returns a JSON or XML with the users\n    return userRepository.findAll();\n}\n</code></pre>\n<p>To this:</p>\n<pre><code>@GetMapping(path=&quot;/all&quot;)\npublic List&lt;User&gt; getAllUsers() {\n    // This returns a JSON or XML with the users\n    return userRepository.findAll();\n}\n</code></pre>\n"}],"owner":{"account_id":28359732,"reputation":21,"user_id":21689930,"display_name":"EDUARD KLNK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681998238,"creation_date":1681992891,"question_id":76063931,"body_markdown":"I link database and spring, application works fine. But when sending data to the database, only the structure without the data appears.\r\n\r\nUser.class\r\n```\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n\r\n@Entity // This tells Hibernate to make a table out of this class\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    private String name;\r\n\r\n    private String email;\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n}\r\n\r\n```\r\n\r\nMainController.class\r\n\r\n```\r\nimport jakarta.transaction.Transactional;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller    // This means that this class is a Controller\r\npublic class MainController {\r\n    @Autowired // This means to get the bean called userRepository\r\n    // Which is auto-generated by Spring, we will use it to handle the data\r\n    private UserRepository userRepository;\r\n\r\n    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\r\n    public @ResponseBody String addNewUser (@RequestParam String name\r\n            , @RequestParam String email) {\r\n        // @ResponseBody means the returned String is the response, not a view name\r\n        // @RequestParam means it is a parameter from the GET or POST request\r\n\r\n        User n = new User();\r\n        n.setName(name);\r\n        n.setEmail(email);\r\n        userRepository.save(n);\r\n        return &quot;Saved&quot;;\r\n    }\r\n\r\n    @GetMapping(path=&quot;/all&quot;)\r\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\r\n        // This returns a JSON or XML with the users\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n```\r\nUserRepository.interface\r\n\r\n```\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n\r\n}\r\n```\r\nApplication.class\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI would be grateful if you explain what is the reason or point out the problem in the code.\r\n\r\n\r\n\r\nas a result, when sending data, I get an empty database\r\n\r\n[enter image description here](https://i.stack.imgur.com/Zj9gi.png)","title":"how do i set up the database to work with spring","body":"<p>I link database and spring, application works fine. But when sending data to the database, only the structure without the data appears.</p>\n<p>User.class</p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n\n@Entity // This tells Hibernate to make a table out of this class\npublic class User {\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private Integer id;\n\n    private String name;\n\n    private String email;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n\n</code></pre>\n<p>MainController.class</p>\n<pre><code>import jakarta.transaction.Transactional;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller    // This means that this class is a Controller\npublic class MainController {\n    @Autowired // This means to get the bean called userRepository\n    // Which is auto-generated by Spring, we will use it to handle the data\n    private UserRepository userRepository;\n\n    @PostMapping(path=&quot;/add&quot;) // Map ONLY POST Requests\n    public @ResponseBody String addNewUser (@RequestParam String name\n            , @RequestParam String email) {\n        // @ResponseBody means the returned String is the response, not a view name\n        // @RequestParam means it is a parameter from the GET or POST request\n\n        User n = new User();\n        n.setName(name);\n        n.setEmail(email);\n        userRepository.save(n);\n        return &quot;Saved&quot;;\n    }\n\n    @GetMapping(path=&quot;/all&quot;)\n    public @ResponseBody Iterable&lt;User&gt; getAllUsers() {\n        // This returns a JSON or XML with the users\n        return userRepository.findAll();\n    }\n}\n</code></pre>\n<p>UserRepository.interface</p>\n<pre><code>import org.springframework.data.repository.CrudRepository;\n\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p>Application.class</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>I would be grateful if you explain what is the reason or point out the problem in the code.</p>\n<p>as a result, when sending data, I get an empty database</p>\n<p><a href=\"https://i.stack.imgur.com/Zj9gi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","html","css","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681998216,"creation_date":1681995406,"answer_id":76064330,"question_id":76054595,"body_markdown":"In `assertEquals` method the expected value is the first argument.\r\n\r\n**Code example:**\r\n\r\n    package tests;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.junit.Assert;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    // custom class with driver init\r\n    import selenium.ChromeDriverSetup;\r\n    \r\n    public class Web20calc extends ChromeDriverSetup {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// wrapped driver init\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\t\r\n    \t\tdriver.get(&quot;https://web2.0calc.com/&quot;);\r\n    \t\t\r\n    \t\t// cookie consent\r\n    \t\tdriver.switchTo().activeElement();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;precmpdialog\\&quot;]/div/div/div[2]/form/div/div[2]/button&quot;)).click();\r\n    \t\t\r\n    \t\tWebElement btn2 = driver.findElement(By.id(&quot;Btn2&quot;));\r\n    \t\tWebElement btn3 = driver.findElement(By.id(&quot;Btn3&quot;));\r\n    \t\tWebElement btnPlus = driver.findElement(By.id(&quot;BtnPlus&quot;));\r\n    \t\tWebElement btnCalc = driver.findElement(By.id(&quot;BtnCalc&quot;));\r\n    \t\tWebElement btnClear = driver.findElement(By.id(&quot;BtnClear&quot;));\t\t\r\n    \t\tWebElement showHistory = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;hist\\&quot;]/button[2]&quot;));\r\n    \t\t\r\n    \t\tbtn2.click();\r\n    \t\tbtnPlus.click();\r\n    \t\tbtn2.click();\r\n    \t\tbtnCalc.click();\r\n    \t\t\r\n    \t\tbtnClear.click();\r\n    \t\t\r\n    \t\tbtn3.click();\r\n    \t\tbtnPlus.click();\r\n    \t\tbtn3.click();\r\n    \t\tbtnCalc.click();\r\n    \t\t\r\n    \t\tshowHistory.click();\r\n    \t\t\r\n    \t\tAssert.assertEquals(&quot;= 6&quot;, getHistoryResult(driver, 0));\r\n    \t\tAssert.assertEquals(&quot;= 4&quot;, getHistoryResult(driver, 1));\r\n    \t\tAssert.assertEquals(null, getHistoryResult(driver, 2));\r\n    \r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    \tpublic static String getHistoryResult(WebDriver driver, Integer lineNumber) {\r\n    \t\tString result = null;\r\n    \t\tWebElement histframe = driver.findElement(By.id(&quot;histframe&quot;));\r\n    \t\tWebElement ul = histframe.findElement(By.tagName(&quot;ul&quot;));\r\n    \t\tList&lt;WebElement&gt; lis = ul.findElements(By.tagName(&quot;li&quot;));\r\n    \t\tInteger lisSize = lis.size();\r\n    \t\tif (lineNumber &gt; lisSize - 1) {\r\n    \t\t\tSystem.out.println(&quot;Linenumber &quot; + lineNumber + &quot; is out of range. Size of List is: &quot; + lisSize);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tWebElement li = lis.get(lineNumber);\r\n    \t\t\tWebElement p = li.findElement(By.tagName(&quot;p&quot;));\r\n    \t\t\tresult = p.getText();\r\n    \t\t\tSystem.out.println(&quot;Result in line &quot; + lineNumber + &quot;: &quot; + result);\r\n    \t\t}\r\n    \t\treturn result;\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n**Output:**\r\n\r\n    Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 36109\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    [1681997766.849][WARNING]: This version of ChromeDriver has not been tested with Chrome version 112.\r\n    Dub 20, 2023 3:36:06 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Result in line 0: = 6\r\n    Result in line 1: = 4\r\n    Linenumber 2 is out of range. Size of List is: 2","title":"How to choose value from &lt;ul&gt; &lt;li&gt; tags using Selenium Java?","body":"<p>In <code>assertEquals</code> method the expected value is the first argument.</p>\n<p><strong>Code example:</strong></p>\n<pre><code>package tests;\n\nimport java.util.List;\n\nimport org.junit.Assert;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\n// custom class with driver init\nimport selenium.ChromeDriverSetup;\n\npublic class Web20calc extends ChromeDriverSetup {\n\n    public static void main(String[] args) {\n        \n        // wrapped driver init\n        WebDriver driver = startChromeDriver();\n        \n        driver.get(&quot;https://web2.0calc.com/&quot;);\n        \n        // cookie consent\n        driver.switchTo().activeElement();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;precmpdialog\\&quot;]/div/div/div[2]/form/div/div[2]/button&quot;)).click();\n        \n        WebElement btn2 = driver.findElement(By.id(&quot;Btn2&quot;));\n        WebElement btn3 = driver.findElement(By.id(&quot;Btn3&quot;));\n        WebElement btnPlus = driver.findElement(By.id(&quot;BtnPlus&quot;));\n        WebElement btnCalc = driver.findElement(By.id(&quot;BtnCalc&quot;));\n        WebElement btnClear = driver.findElement(By.id(&quot;BtnClear&quot;));        \n        WebElement showHistory = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;hist\\&quot;]/button[2]&quot;));\n        \n        btn2.click();\n        btnPlus.click();\n        btn2.click();\n        btnCalc.click();\n        \n        btnClear.click();\n        \n        btn3.click();\n        btnPlus.click();\n        btn3.click();\n        btnCalc.click();\n        \n        showHistory.click();\n        \n        Assert.assertEquals(&quot;= 6&quot;, getHistoryResult(driver, 0));\n        Assert.assertEquals(&quot;= 4&quot;, getHistoryResult(driver, 1));\n        Assert.assertEquals(null, getHistoryResult(driver, 2));\n\n        driver.quit();\n    }\n    \n    public static String getHistoryResult(WebDriver driver, Integer lineNumber) {\n        String result = null;\n        WebElement histframe = driver.findElement(By.id(&quot;histframe&quot;));\n        WebElement ul = histframe.findElement(By.tagName(&quot;ul&quot;));\n        List&lt;WebElement&gt; lis = ul.findElements(By.tagName(&quot;li&quot;));\n        Integer lisSize = lis.size();\n        if (lineNumber &gt; lisSize - 1) {\n            System.out.println(&quot;Linenumber &quot; + lineNumber + &quot; is out of range. Size of List is: &quot; + lisSize);\n        }\n        else {\n            WebElement li = lis.get(lineNumber);\n            WebElement p = li.findElement(By.tagName(&quot;p&quot;));\n            result = p.getText();\n            System.out.println(&quot;Result in line &quot; + lineNumber + &quot;: &quot; + result);\n        }\n        return result;      \n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 36109\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1681997766.849][WARNING]: This version of ChromeDriver has not been tested with Chrome version 112.\nDub 20, 2023 3:36:06 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nResult in line 0: = 6\nResult in line 1: = 4\nLinenumber 2 is out of range. Size of List is: 2\n</code></pre>\n"}],"owner":{"account_id":28349584,"reputation":1,"user_id":21681267,"display_name":"Karolina Rybak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681998216,"creation_date":1681907767,"question_id":76054595,"body_markdown":"I have a problem with one thing. I am doing two equations in https://web2.0calc.com/. First one 2+2 and assert it and second one 3+3 and assert it.\r\n\r\nFirst equation is done fine and I check it using:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;/html/body/div[3]/div[3]/ul/li[1]/p[1]&quot;));\r\n    String title = element.getAttribute(&quot;title&quot;);\r\n    System.out.println(title);\r\n    Assert.assertEquals(title, &quot;4&quot;);\r\n\r\nIt is passed.\r\n\r\nBut in the second one I cannot use xpath again, because it still takes me to the 4.. \r\n\r\nHow to do that? \r\n\r\nThe code is below:\r\n\r\n\r\n```\r\n&lt;ul&gt;\r\n&lt;li&gt;\r\n&lt;p title=&quot;6&quot; class=&quot;r&quot;&gt;=&amp;nbsp;6&lt;/p&gt;\r\n&lt;p data-inp=&quot;3+3&quot; title=&quot;3+3&quot; class=&quot;l&quot;&gt;3+3&lt;/p&gt;\r\n&lt;/li&gt;\r\n\r\n&lt;li&gt;\r\n&lt;p title=&quot;4&quot; class=&quot;r&quot;&gt;=&amp;nbsp;4&lt;/p&gt;\r\n&lt;p data-inp=&quot;2+2&quot; title=&quot;2+2&quot; class=&quot;l&quot;&gt;2+2&lt;/p&gt;\r\n&lt;/li&gt;\r\n\r\n&lt;/ul&gt;\r\n```\r\n\r\n\r\nExpect to localize element &quot;title=6&quot; and then use it to assert equation.","title":"How to choose value from &lt;ul&gt; &lt;li&gt; tags using Selenium Java?","body":"<p>I have a problem with one thing. I am doing two equations in <a href=\"https://web2.0calc.com/\" rel=\"nofollow noreferrer\">https://web2.0calc.com/</a>. First one 2+2 and assert it and second one 3+3 and assert it.</p>\n<p>First equation is done fine and I check it using:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;/html/body/div[3]/div[3]/ul/li[1]/p[1]&quot;));\nString title = element.getAttribute(&quot;title&quot;);\nSystem.out.println(title);\nAssert.assertEquals(title, &quot;4&quot;);\n</code></pre>\n<p>It is passed.</p>\n<p>But in the second one I cannot use xpath again, because it still takes me to the 4..</p>\n<p>How to do that?</p>\n<p>The code is below:</p>\n<pre><code>&lt;ul&gt;\n&lt;li&gt;\n&lt;p title=&quot;6&quot; class=&quot;r&quot;&gt;=&amp;nbsp;6&lt;/p&gt;\n&lt;p data-inp=&quot;3+3&quot; title=&quot;3+3&quot; class=&quot;l&quot;&gt;3+3&lt;/p&gt;\n&lt;/li&gt;\n\n&lt;li&gt;\n&lt;p title=&quot;4&quot; class=&quot;r&quot;&gt;=&amp;nbsp;4&lt;/p&gt;\n&lt;p data-inp=&quot;2+2&quot; title=&quot;2+2&quot; class=&quot;l&quot;&gt;2+2&lt;/p&gt;\n&lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre>\n<p>Expect to localize element &quot;title=6&quot; and then use it to assert equation.</p>\n"},{"tags":["java","caching","wildfly","infinispan"],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681998132,"creation_date":1681998132,"question_id":76064792,"body_markdown":"I am using wildFly22 with Java11 and am trying to configure Infinispan cache.\r\n\r\n**distributable-web.xml**\r\n\r\n    &lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\r\n        &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\r\n            &lt;primary-owner-affinity/&gt;\r\n        &lt;/infinispan-session-management&gt;\r\n    &lt;/distributable-web&gt;\r\n\r\n**standalone-ha.xml**\r\n\r\n      &lt;cache-container name=&quot;web&quot; default-cache=&quot;dist&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\r\n        &lt;!--&lt;transport lock-timeout=&quot;60000&quot;/&gt; --&gt;\r\n        &lt;replicated-cache name=&quot;sso&quot;&gt;\r\n          &lt;locking isolation=&quot;REPEATABLE_READ&quot;/&gt;\r\n          &lt;transaction mode=&quot;BATCH&quot;/&gt;\r\n          &lt;expiration interval=&quot;0&quot;/&gt;\r\n        &lt;/replicated-cache&gt;\r\n        &lt;replicated-cache name=&quot;routing&quot;&gt;\r\n          &lt;expiration interval=&quot;0&quot;/&gt;\r\n        &lt;/replicated-cache&gt;\r\n        &lt;distributed-cache name=&quot;dist&quot;&gt;\r\n          &lt;locking isolation=&quot;REPEATABLE_READ&quot;/&gt;\r\n          &lt;transaction mode=&quot;BATCH&quot;/&gt;\r\n          &lt;expiration interval=&quot;0&quot;/&gt;\r\n          &lt;file-store/&gt;\r\n        &lt;/distributed-cache&gt;\r\n        &lt;distributed-cache name=&quot;corpapp-session-cache-web&quot;&gt;\r\n          &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\r\n        &lt;/distributed-cache&gt;\r\n      &lt;/cache-container&gt;\r\n\r\n**Error**\r\n\r\n    13:32:45,362 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource &#39;/subsystem=infinispan/cache-container=web/replicated-cache=sso&#39; are not available:\r\n        org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \r\n                    /subsystem=infinispan/cache-container=*/transport=jgroups\r\n    13:32:45,366 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource &#39;/subsystem=infinispan/cache-container=web/replicated-cache=routing&#39; are not available:\r\n        org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \r\n                    /subsystem=infinispan/cache-container=*/transport=jgroups\r\n    13:32:45,368 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource &#39;/subsystem=infinispan/cache-container=web/distributed-cache=dist&#39; are not available:\r\n        org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \r\n                    /subsystem=infinispan/cache-container=*/transport=jgroups\r\n    13:32:45,370 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource &#39;/subsystem=infinispan/cache-container=web/distributed-cache=corpapp-session-cache-web&#39; are not available:\r\n        org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \r\n                    /subsystem=infinispan/cache-container=*/transport=jgroups\r\n    13:32:45,378 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\r\n\r\n","title":"WFLYCTL0362: Capabilities required by resource &#39;/subsystem=infinispan/cache-container=web/replicated-cache=sso&#39; are not available","body":"<p>I am using wildFly22 with Java11 and am trying to configure Infinispan cache.</p>\n<p><strong>distributable-web.xml</strong></p>\n<pre><code>&lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\n    &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\n        &lt;primary-owner-affinity/&gt;\n    &lt;/infinispan-session-management&gt;\n&lt;/distributable-web&gt;\n</code></pre>\n<p><strong>standalone-ha.xml</strong></p>\n<pre><code>  &lt;cache-container name=&quot;web&quot; default-cache=&quot;dist&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\n    &lt;!--&lt;transport lock-timeout=&quot;60000&quot;/&gt; --&gt;\n    &lt;replicated-cache name=&quot;sso&quot;&gt;\n      &lt;locking isolation=&quot;REPEATABLE_READ&quot;/&gt;\n      &lt;transaction mode=&quot;BATCH&quot;/&gt;\n      &lt;expiration interval=&quot;0&quot;/&gt;\n    &lt;/replicated-cache&gt;\n    &lt;replicated-cache name=&quot;routing&quot;&gt;\n      &lt;expiration interval=&quot;0&quot;/&gt;\n    &lt;/replicated-cache&gt;\n    &lt;distributed-cache name=&quot;dist&quot;&gt;\n      &lt;locking isolation=&quot;REPEATABLE_READ&quot;/&gt;\n      &lt;transaction mode=&quot;BATCH&quot;/&gt;\n      &lt;expiration interval=&quot;0&quot;/&gt;\n      &lt;file-store/&gt;\n    &lt;/distributed-cache&gt;\n    &lt;distributed-cache name=&quot;corpapp-session-cache-web&quot;&gt;\n      &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\n    &lt;/distributed-cache&gt;\n  &lt;/cache-container&gt;\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>13:32:45,362 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource '/subsystem=infinispan/cache-container=web/replicated-cache=sso' are not available:\n    org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \n                /subsystem=infinispan/cache-container=*/transport=jgroups\n13:32:45,366 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource '/subsystem=infinispan/cache-container=web/replicated-cache=routing' are not available:\n    org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \n                /subsystem=infinispan/cache-container=*/transport=jgroups\n13:32:45,368 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource '/subsystem=infinispan/cache-container=web/distributed-cache=dist' are not available:\n    org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \n                /subsystem=infinispan/cache-container=*/transport=jgroups\n13:32:45,370 ERROR [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0362: Capabilities required by resource '/subsystem=infinispan/cache-container=web/distributed-cache=corpapp-session-cache-web' are not available:\n    org.wildfly.clustering.infinispan.transport.channel.web; Possible registration points for this capability: \n                /subsystem=infinispan/cache-container=*/transport=jgroups\n13:32:45,378 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.\n</code></pre>\n"},{"tags":["java","android","kotlin","unit-testing","mockk"],"owner":{"account_id":2313483,"reputation":3401,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681997904,"creation_date":1681994824,"question_id":76064234,"body_markdown":"Trying to launch any UT using mockk library I&#39;m getting the following crash:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: getLogger(cls.java) must not be null\r\n\tat io.mockk.impl.log.Slf4jLogger.&lt;init&gt;(Slf4jLogger.kt:7)\r\n\tat io.mockk.impl.log.JvmLogging.slf4jOrJulLogging(JvmLogging.kt:10)\r\n\tat io.mockk.impl.JvmMockKGateway.&lt;clinit&gt;(JvmMockKGateway.kt:165)\r\n\t... 51 more\r\n```\r\n\r\n\r\nI&#39;ve tried a lot of things already. This is just happens when mockk() method is invoked. \r\nTried to lower the SL4J dependency, didn&#39;t help.\r\nMy dependencies are:\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.1&#39;\r\n    \r\n    testImplementation &#39;io.mockk:mockk:1.13.4&#39;\r\n\r\nAny help will be appreciated, thanks in advance.","title":"Android Unit Tests Kotlin library Mockk crashes with strange exception","body":"<p>Trying to launch any UT using mockk library I'm getting the following crash:</p>\n<pre><code>Caused by: java.lang.NullPointerException: getLogger(cls.java) must not be null\n    at io.mockk.impl.log.Slf4jLogger.&lt;init&gt;(Slf4jLogger.kt:7)\n    at io.mockk.impl.log.JvmLogging.slf4jOrJulLogging(JvmLogging.kt:10)\n    at io.mockk.impl.JvmMockKGateway.&lt;clinit&gt;(JvmMockKGateway.kt:165)\n    ... 51 more\n</code></pre>\n<p>I've tried a lot of things already. This is just happens when mockk() method is invoked.\nTried to lower the SL4J dependency, didn't help.\nMy dependencies are:</p>\n<pre><code>testImplementation 'junit:junit:4.13.2'\ntestImplementation 'org.mockito:mockito-inline:4.8.1'\n\ntestImplementation 'io.mockk:mockk:1.13.4'\n</code></pre>\n<p>Any help will be appreciated, thanks in advance.</p>\n"},{"tags":["java","docker","tomcat","servlets","war"],"owner":{"account_id":16311661,"reputation":47,"user_id":11780104,"display_name":"Emme Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681997880,"creation_date":1681640988,"question_id":76027195,"body_markdown":"I&#39;ve a web app application written in java that expose some servlet. In the same application there is an index.html which is connected with other pages.\r\nI deployed the war file, and when I run the server by using IntelliJ everything works properly. I see the index file exposed on localhost:8080/Project30\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when i try to run the war inside a docker container, i cannot reach servlets. I&#39;m able to get the page of index.html, but when i try to access to some urls exposed as servlet i got 404.\r\n\r\nThis is the code for docker compose\r\n\r\n```\r\n\r\n  version: &quot;3.9&quot; #version of docker-compose\r\n  services:\r\n    mysql:\r\n      container_name: mysql\r\n      image: mysql\r\n      ports:\r\n      - &quot;3307:3306&quot;\r\n      environment:\r\n        - MYSQL_ROOT_PASSWORD=admin                    #default password of the MySQL container\r\n      volumes:\r\n        - ./data:/var/lib/mysql                         #database data volume\r\n        - ./src/main/db:/docker-entrypoint-initdb.d  #database files called when the container is built and started for the first time\r\n    web:\r\n      container_name: tomcat\r\n      build: .\r\n      ports:\r\n        - &quot;8080:8080&quot;\r\n```\r\n\r\nand this is the docker file\r\n```\r\nFROM maven:3.6.3 AS build\r\n\r\n# Copy pom.xml to the image\r\nCOPY pom.xml /home/app/pom.xml\r\nRUN mvn -f /home/app/pom.xml verify clean --fail-never\r\n\r\n# Copy the source code\r\nCOPY src /home/app/src\r\nRUN mvn -f /home/app/pom.xml package\r\n\r\n#FROM tomcat:latest\r\nFROM tomcat:8.0-alpine\r\n\r\nLABEL maintainer=&quot;emme&quot;\r\nCOPY --from=build /home/app/target/Project30.war /usr/local/tomcat/webapps/\r\nEXPOSE 8080\r\n\r\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\r\n```\r\n\r\nWar is deployed in right way, as these are the file in container\r\n[![enter image description here][2]][2]\r\n\r\nTomcat is running in properly way, as if i go on localhost:8080 i see tomcat admin page.\r\nI don&#39;t understand what i&#39;m doing wrongly\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/se5SD.png\r\n  [2]: https://i.stack.imgur.com/FfcTg.png","title":".war on tomcat docker container controller not found","body":"<p>I've a web app application written in java that expose some servlet. In the same application there is an index.html which is connected with other pages.\nI deployed the war file, and when I run the server by using IntelliJ everything works properly. I see the index file exposed on localhost:8080/Project30</p>\n<p><a href=\"https://i.stack.imgur.com/se5SD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/se5SD.png\" alt=\"enter image description here\" /></a></p>\n<p>But when i try to run the war inside a docker container, i cannot reach servlets. I'm able to get the page of index.html, but when i try to access to some urls exposed as servlet i got 404.</p>\n<p>This is the code for docker compose</p>\n<pre><code>\n  version: &quot;3.9&quot; #version of docker-compose\n  services:\n    mysql:\n      container_name: mysql\n      image: mysql\n      ports:\n      - &quot;3307:3306&quot;\n      environment:\n        - MYSQL_ROOT_PASSWORD=admin                    #default password of the MySQL container\n      volumes:\n        - ./data:/var/lib/mysql                         #database data volume\n        - ./src/main/db:/docker-entrypoint-initdb.d  #database files called when the container is built and started for the first time\n    web:\n      container_name: tomcat\n      build: .\n      ports:\n        - &quot;8080:8080&quot;\n</code></pre>\n<p>and this is the docker file</p>\n<pre><code>FROM maven:3.6.3 AS build\n\n# Copy pom.xml to the image\nCOPY pom.xml /home/app/pom.xml\nRUN mvn -f /home/app/pom.xml verify clean --fail-never\n\n# Copy the source code\nCOPY src /home/app/src\nRUN mvn -f /home/app/pom.xml package\n\n#FROM tomcat:latest\nFROM tomcat:8.0-alpine\n\nLABEL maintainer=&quot;emme&quot;\nCOPY --from=build /home/app/target/Project30.war /usr/local/tomcat/webapps/\nEXPOSE 8080\n\nCMD [&quot;catalina.sh&quot;, &quot;run&quot;]\n</code></pre>\n<p>War is deployed in right way, as these are the file in container\n<a href=\"https://i.stack.imgur.com/FfcTg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FfcTg.png\" alt=\"enter image description here\" /></a></p>\n<p>Tomcat is running in properly way, as if i go on localhost:8080 i see tomcat admin page.\nI don't understand what i'm doing wrongly</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681833530,"post_id":76046531,"comment_id":134119089,"body_markdown":"That `e` seems to be the length, in the new dump, the length is not present, can you show the code that writes that dump?","body":"That <code>e</code> seems to be the length, in the new dump, the length is not present, can you show the code that writes that dump?"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681871274,"post_id":76046531,"comment_id":134125407,"body_markdown":"Hi @Andr&#233;sAlcarraz that is the question though, how do i generate e (first byte message) on my new system code, on my new system i&#39;m using the default BASE24Channel by JPOS Lib [link](https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/BASE24Channel.java) to generate the dump (without `e`)","body":"Hi @Andr&#233;sAlcarraz that is the question though, how do i generate e (first byte message) on my new system code, on my new system i&#39;m using the default BASE24Channel by JPOS Lib <a href=\"https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/BASE24Channel.java\" rel=\"nofollow noreferrer\">link</a> to generate the dump (without <code>e</code>)"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681907338,"post_id":76046531,"comment_id":134132105,"body_markdown":"And my question to you was, how do you know which value that prefix should have, will always be an e? Depends on other factors, etc, also I mentioned the second dump doesn&#39;t show the length, and that e seems to be the length or part of it, please provide more information so we can help you.","body":"And my question to you was, how do you know which value that prefix should have, will always be an e? Depends on other factors, etc, also I mentioned the second dump doesn&#39;t show the length, and that e seems to be the length or part of it, please provide more information so we can help you."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681953133,"post_id":76046531,"comment_id":134141177,"body_markdown":"Let&#39;s say we assume that the prefix was always fixed values which is `e` or maybe a message length, how can i make my second dump to generate an `e` in front of the header?","body":"Let&#39;s say we assume that the prefix was always fixed values which is <code>e</code> or maybe a message length, how can i make my second dump to generate an <code>e</code> in front of the header?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681957714,"post_id":76046531,"comment_id":134141615,"body_markdown":"Add it to the message header, that as a header for the channel, but I&#39;m 100% positive that&#39;s not what you need. Also, you continue to not completely show the dump for the new system, I don&#39;t see the length there","body":"Add it to the message header, that as a header for the channel, but I&#39;m 100% positive that&#39;s not what you need. Also, you continue to not completely show the dump for the new system, I don&#39;t see the length there"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681958260,"post_id":76046531,"comment_id":134141667,"body_markdown":"hmm the `e` will work if i added it to header, but what if it&#39;s a length of the message? \nalso what do you mean the completely show the dump? that&#39;s is the complete dump of the new system though, it shows no length because it is a BASE24Channel from Jpos, it got no length prefix","body":"hmm the <code>e</code> will work if i added it to header, but what if it&#39;s a length of the message?  also what do you mean the completely show the dump? that&#39;s is the complete dump of the new system though, it shows no length because it is a BASE24Channel from Jpos, it got no length prefix"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681958933,"post_id":76046531,"comment_id":134141721,"body_markdown":"That&#39;s the thing, I don&#39;t think you should in the channel header, I think it&#39;s part of the header, but you are not showing the prefix with the length for the new system dump, so, your comparation between systems seems to be wrong, tha `e` seems to be the length because the length of the old system dump is 67. If it&#39;s a length, it seems you are missing a byte from that dump, because I doubt the maximum length could be 255.","body":"That&#39;s the thing, I don&#39;t think you should in the channel header, I think it&#39;s part of the header, but you are not showing the prefix with the length for the new system dump, so, your comparation between systems seems to be wrong, tha <code>e</code> seems to be the length because the length of the old system dump is 67. If it&#39;s a length, it seems you are missing a byte from that dump, because I doubt the maximum length could be 255."},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681958980,"post_id":76046531,"comment_id":134141727,"body_markdown":"Please show complete log and complete dumps, including the length part in the second dump.","body":"Please show complete log and complete dumps, including the length part in the second dump."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681959478,"post_id":76046531,"comment_id":134141786,"body_markdown":"that&#39;s already a complete dumps tho, but let me give the pcap file to you [filelink](https://www.file.io/yWdK/download/2y5MRpNZ2M1l)","body":"that&#39;s already a complete dumps tho, but let me give the pcap file to you <a href=\"https://www.file.io/yWdK/download/2y5MRpNZ2M1l\" rel=\"nofollow noreferrer\">filelink</a>"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681959582,"post_id":76046531,"comment_id":134141796,"body_markdown":"Ohh sorry, Base24 channel does not send the length","body":"Ohh sorry, Base24 channel does not send the length"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681959661,"post_id":76046531,"comment_id":134141801,"body_markdown":"yeah, i was using the BASE24Channel by JPOS [source code lib](https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/BASE24Channel.java)","body":"yeah, i was using the BASE24Channel by JPOS <a href=\"https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/BASE24Channel.java\" rel=\"nofollow noreferrer\">source code lib</a>"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681959926,"post_id":76046531,"comment_id":134141824,"body_markdown":"You would need to override the send message length and receive message length, if that `e` is indeed the message length, If not it goes in the header, But if you don&#39;t knoew where it belongs, I cannot tell you what&#39;s the best way to generate it and consume it","body":"You would need to override the send message length and receive message length, if that <code>e</code> is indeed the message length, If not it goes in the header, But if you don&#39;t knoew where it belongs, I cannot tell you what&#39;s the best way to generate it and consume it"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681960104,"post_id":76046531,"comment_id":134141840,"body_markdown":"That e seems to be the length in BCD, but it&#39;s off by two bytes (2 bytes short), and probably there is a previous byte which is 0 that is part of the message too","body":"That e seems to be the length in BCD, but it&#39;s off by two bytes (2 bytes short), and probably there is a previous byte which is 0 that is part of the message too"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681960150,"post_id":76046531,"comment_id":134141844,"body_markdown":"Yeah thats the problem, i&#39;m haven&#39;t got any experience about byte manipulation thing, is there any guide about how to manipulate the message?","body":"Yeah thats the problem, i&#39;m haven&#39;t got any experience about byte manipulation thing, is there any guide about how to manipulate the message?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681960186,"post_id":76046531,"comment_id":134141846,"body_markdown":"I could add an answer tomorrow with that.","body":"I could add an answer tomorrow with that."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681960423,"post_id":76046531,"comment_id":134141878,"body_markdown":"Alright thanks for the help @Andr&#233;sAlcarraz, i&#39;ll wait for your guide","body":"Alright thanks for the help @Andr&#233;sAlcarraz, i&#39;ll wait for your guide"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1681960999,"post_id":76046531,"comment_id":134141935,"body_markdown":"I just posted something that should do the trick :) untested but to get you going.","body":"I just posted something that should do the trick :) untested but to get you going."}],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681997658,"creation_date":1681960802,"answer_id":76060316,"question_id":76046531,"body_markdown":"I haven&#39;t time to test this, but to get you the idea, you would need to extend `BCDChannel` to read and send the message length in BCD. And add some code to generate and consume the extra byte (0x03), like this:\r\n\r\n```java\r\npublic class MyCustomChannel extends BCDChannel {\r\n    protected void sendMessageTrailler(ISOMsg m, int len) throws IOException {\r\n        serverOut.write(0x03); //write the extra trailer byte (0x03)\r\n    }\r\n    protected void getMessageTrailer() throws IOException {\r\n        serverIn.read(); //read the extra trailer byte (0x03).\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen configure your channel XML to use your custom class.\r\n\r\nYou may need to override the `sendMessageLength` and `getMessageLength` also if you need to add or subtract 2.","title":"How to make a Custom Channel for BASE24Channel JPOS - ISO8583","body":"<p>I haven't time to test this, but to get you the idea, you would need to extend <code>BCDChannel</code> to read and send the message length in BCD. And add some code to generate and consume the extra byte (0x03), like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomChannel extends BCDChannel {\n    protected void sendMessageTrailler(ISOMsg m, int len) throws IOException {\n        serverOut.write(0x03); //write the extra trailer byte (0x03)\n    }\n    protected void getMessageTrailer() throws IOException {\n        serverIn.read(); //read the extra trailer byte (0x03).\n    }\n}\n\n</code></pre>\n<p>Then configure your channel XML to use your custom class.</p>\n<p>You may need to override the <code>sendMessageLength</code> and <code>getMessageLength</code> also if you need to add or subtract 2.</p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76060316,"answer_count":1,"score":-1,"last_activity_date":1681997658,"creation_date":1681832425,"question_id":76046531,"body_markdown":"allow me to ask my issues about iso8583 with Java, so i&#39;m having a trouble while generating ISO8583 Message with a new system with JPOS Java (the system that i&#39;m developing), so i&#39;m trying to match the generated iso8583 message by the old system and when i tried to compare the iso8583 message that generated by a new system with a network sniffer tool (wireshark) , it doesn&#39;t match the message.\r\n\r\nOld System Hex Dump\r\n```\r\n00000000  65                                                 e\r\n00000001  49 53 4f 30 30 36 30 30  30 30 36 30 30 38 30 30   ISO00600 00600800\r\n00000011  38 32 32 30 30 30 30 30  30 30 30 30 30 30 30 30   82200000 00000000\r\n00000021  30 34 30 30 30 30 30 30  30 30 30 30 30 30 30 30   04000000 00000000\r\n00000031  30 34 31 38 30 37 34 32  31 37 30 30 30 30 30 31   04180742 17000001\r\n00000041  30 30 31 03                                        001.\r\n``` \r\n\r\nNew System Hex Dump\r\n```\r\n00000000  49 53 4f 30 30 36 30 30  30 30 31 30 30 38 30 30   ISO00600 00100800\r\n00000010  38 32 32 30 30 30 30 30  30 30 30 30 30 30 30 30   82200000 00000000\r\n00000020  30 34 30 30 30 30 30 30  30 30 30 30 30 30 30 30   04000000 00000000\r\n00000030  30 34 31 38 31 30 30 31  33 39 31 37 30 31 33 39   04181001 39170139\r\n00000040  31 36 31 03                                        161.\r\n\r\n```\r\n\r\nAs we can see, i&#39;m trying to do a 0800 message to the same ISO Server but i have different result of byte message, also i tried to use another channel seems like BASE24Channel from JPOS lib has the closest match, but it&#39;s still missing the first byte (before the ISO Header part), can anyone help me? i supposed i need to develop a custom channel class? correct me if im wrong, and Thank you for the help :D","title":"How to make a Custom Channel for BASE24Channel JPOS - ISO8583","body":"<p>allow me to ask my issues about iso8583 with Java, so i'm having a trouble while generating ISO8583 Message with a new system with JPOS Java (the system that i'm developing), so i'm trying to match the generated iso8583 message by the old system and when i tried to compare the iso8583 message that generated by a new system with a network sniffer tool (wireshark) , it doesn't match the message.</p>\n<p>Old System Hex Dump</p>\n<pre><code>00000000  65                                                 e\n00000001  49 53 4f 30 30 36 30 30  30 30 36 30 30 38 30 30   ISO00600 00600800\n00000011  38 32 32 30 30 30 30 30  30 30 30 30 30 30 30 30   82200000 00000000\n00000021  30 34 30 30 30 30 30 30  30 30 30 30 30 30 30 30   04000000 00000000\n00000031  30 34 31 38 30 37 34 32  31 37 30 30 30 30 30 31   04180742 17000001\n00000041  30 30 31 03                                        001.\n</code></pre>\n<p>New System Hex Dump</p>\n<pre><code>00000000  49 53 4f 30 30 36 30 30  30 30 31 30 30 38 30 30   ISO00600 00100800\n00000010  38 32 32 30 30 30 30 30  30 30 30 30 30 30 30 30   82200000 00000000\n00000020  30 34 30 30 30 30 30 30  30 30 30 30 30 30 30 30   04000000 00000000\n00000030  30 34 31 38 31 30 30 31  33 39 31 37 30 31 33 39   04181001 39170139\n00000040  31 36 31 03                                        161.\n\n</code></pre>\n<p>As we can see, i'm trying to do a 0800 message to the same ISO Server but i have different result of byte message, also i tried to use another channel seems like BASE24Channel from JPOS lib has the closest match, but it's still missing the first byte (before the ISO Header part), can anyone help me? i supposed i need to develop a custom channel class? correct me if im wrong, and Thank you for the help :D</p>\n"},{"tags":["java","scala","datetime","timestamp","jodatime"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1552958972,"post_id":55232322,"comment_id":97198869,"body_markdown":"*&quot;how can I use the new joda time in Java 8?&quot;* [Joda-Time](https://www.joda.org/joda-time/) predates Java 8, and was actually the baseline for the new Java Time API in Java 8. Joda-Time has been deprecated in favor of the new Java Time API.","body":"<i>&quot;how can I use the new joda time in Java 8?&quot;</i> <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> predates Java 8, and was actually the baseline for the new Java Time API in Java 8. Joda-Time has been deprecated in favor of the new Java Time API."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1552981516,"post_id":55232322,"comment_id":97204868,"body_markdown":"I recommend you don’t use `SimpleDateFormat`, `Date`, `TimeZone` and `Calendar`. Those classes are all poorly designed and long outdated, the first in particular notoriously troublesome. Instead use `DateTimeFormatter`, `LocalDateTime`, `ZoneId` and `ZonedDateTime`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code>, <code>Date</code>, <code>TimeZone</code> and <code>Calendar</code>. Those classes are all poorly designed and long outdated, the first in particular notoriously troublesome. Instead use <code>DateTimeFormatter</code>, <code>LocalDateTime</code>, <code>ZoneId</code> and <code>ZonedDateTime</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1552959330,"creation_date":1552959218,"answer_id":55232440,"question_id":55232322,"body_markdown":"To get the current time in US Eastern time zone, in that format, using [Java 8 Time API][1]:\r\n\r\n\tval fmt = DateTimeFormatter.ofPattern(&quot;uuuu_MM_dd_HH_mm_ss&quot;)\r\n\tval time = LocalDateTime.now(ZoneId.of(&quot;America/New_York&quot;)).format(fmt)\r\n\r\nPrinting value of `time` shows e.g.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n\t2019_03_18_21_32_22\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"How to get current time in Scala in timestamp/datetime format so that it can be stored in PG table","body":"<p>To get the current time in US Eastern time zone, in that format, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">Java 8 Time API</a>:</p>\n\n<pre><code>val fmt = DateTimeFormatter.ofPattern(\"uuuu_MM_dd_HH_mm_ss\")\nval time = LocalDateTime.now(ZoneId.of(\"America/New_York\")).format(fmt)\n</code></pre>\n\n<p>Printing value of <code>time</code> shows e.g.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>2019_03_18_21_32_22\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25583966,"reputation":1,"user_id":19361989,"display_name":"sp_matrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681997385,"creation_date":1681997385,"answer_id":76064657,"question_id":55232322,"body_markdown":"Another way of using Joda in scala\r\n\r\n    import org.joda.time.LocalDateTime\r\n    import org.joda.time.format.DateTimeFormat \r\n    LocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyy_MM_dd_HH_mm_ss&quot;))","title":"How to get current time in Scala in timestamp/datetime format so that it can be stored in PG table","body":"<p>Another way of using Joda in scala</p>\n<pre><code>import org.joda.time.LocalDateTime\nimport org.joda.time.format.DateTimeFormat \nLocalDateTime.now.toString(DateTimeFormat.forPattern(&quot;yyyy_MM_dd_HH_mm_ss&quot;))\n</code></pre>\n"}],"owner":{"account_id":14924215,"reputation":33,"user_id":10775599,"display_name":"banditKing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7841,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":55232440,"answer_count":2,"score":-1,"last_activity_date":1681997385,"creation_date":1552958230,"question_id":55232322,"body_markdown":"I have written the following function in Scala which works:\r\n\r\n    import java.text.SimpleDateFormat\r\n    import java.util.{Calendar, Date}\r\n    import java.util.{TimeZone, Date}\r\n\r\n\r\n    val curr_timeFmt = &quot;YYYY_MM_dd_HH_mm_ss&quot;\r\n\r\n    def curr_time(): String = {\r\n        val date = new Date\r\n        val currTS = new SimpleDateFormat(curr_timeFmt)\r\n        currTS.setTimeZone(TimeZone.getTimeZone(&quot;EST&quot;));\r\n        currTS.format(date)\r\n      }\r\n\r\nI would like to store the return value from this function as a timestamp in a PG columnn of type timestamp.\r\n\r\nFurthermore, while researching online, I heard that the the Java Calendar and Date classes are not thread safe and mutable. Is this true, if so how can I use the new joda time in Java 8?\r\n\r\nAny help would be greatly appreciated, as Ive been looking online for a while and tried a few things and nothing seemed to work.\r\n\r\nThx","title":"How to get current time in Scala in timestamp/datetime format so that it can be stored in PG table","body":"<p>I have written the following function in Scala which works:</p>\n\n<pre><code>import java.text.SimpleDateFormat\nimport java.util.{Calendar, Date}\nimport java.util.{TimeZone, Date}\n\n\nval curr_timeFmt = \"YYYY_MM_dd_HH_mm_ss\"\n\ndef curr_time(): String = {\n    val date = new Date\n    val currTS = new SimpleDateFormat(curr_timeFmt)\n    currTS.setTimeZone(TimeZone.getTimeZone(\"EST\"));\n    currTS.format(date)\n  }\n</code></pre>\n\n<p>I would like to store the return value from this function as a timestamp in a PG columnn of type timestamp.</p>\n\n<p>Furthermore, while researching online, I heard that the the Java Calendar and Date classes are not thread safe and mutable. Is this true, if so how can I use the new joda time in Java 8?</p>\n\n<p>Any help would be greatly appreciated, as Ive been looking online for a while and tried a few things and nothing seemed to work.</p>\n\n<p>Thx</p>\n"},{"tags":["java","selenium-webdriver","testing","cucumber","cucumber-java"],"owner":{"account_id":15275840,"reputation":3,"user_id":11021598,"display_name":"Tobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681997347,"creation_date":1681831884,"question_id":76046450,"body_markdown":"I am using Cucumber (6.8.1) with Selenium (4.7.2).\r\n\r\nI want to run multiple .feature files containing a scenario or scenario outline with the parameter &quot;--threads 5&quot;. All the .feature files are in the same directory.\r\n\r\nIs it possible to run the .feature files in parallel and not the scenario outline examples?\r\n\r\n\r\nThe scenario outline examples must be run sequentially.\r\n\r\nI am running the Tests via CLI. The Docu states &quot;[...] The --threads option needs to be set to a value greater than 1 to run in parallel. When the parallel mode is used, the scenarios and rows in a scenario outline will be run in multiple threads.&quot;","title":"Cucumber: Is it possible to only run .feature files but not scenario-examples in parallel with cli execution?","body":"<p>I am using Cucumber (6.8.1) with Selenium (4.7.2).</p>\n<p>I want to run multiple .feature files containing a scenario or scenario outline with the parameter &quot;--threads 5&quot;. All the .feature files are in the same directory.</p>\n<p>Is it possible to run the .feature files in parallel and not the scenario outline examples?</p>\n<p>The scenario outline examples must be run sequentially.</p>\n<p>I am running the Tests via CLI. The Docu states &quot;[...] The --threads option needs to be set to a value greater than 1 to run in parallel. When the parallel mode is used, the scenarios and rows in a scenario outline will be run in multiple threads.&quot;</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1681996486,"post_id":76064328,"comment_id":134148638,"body_markdown":"Please try the following solution https://stackoverflow.com/a/5905931/12844632","body":"Please try the following solution <a href=\"https://stackoverflow.com/a/5905931/12844632\">stackoverflow.com/a/5905931/12844632</a>"}],"answers":[{"tags":[],"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681996945,"creation_date":1681996945,"answer_id":76064589,"question_id":76064328,"body_markdown":"Thanks @Egor Klepikov it works fine right now.","title":"IntelliJ import not recognize a java class","body":"<p>Thanks @Egor Klepikov it works fine right now.</p>\n"}],"owner":{"account_id":3638220,"reputation":79,"user_id":3033090,"display_name":"user3033090"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681996945,"creation_date":1681995404,"question_id":76064328,"body_markdown":"I just learn IntelliJ as a Eclipse user and created a new projet. \r\n\r\nI&#39;ve a main package com.test where I got the following packages :\r\n\r\n- com.test.model\r\n- com.test.repository\r\n- com.test.repository.projection\r\n- com.test.service\r\n\r\nInside my model package I got a PurchaseHistory class.\r\n\r\nInto my repository package I got a class that import PurchaseHistory but the class is not recognized what could be wrong ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L0mLG.png","title":"IntelliJ import not recognize a java class","body":"<p>I just learn IntelliJ as a Eclipse user and created a new projet.</p>\n<p>I've a main package com.test where I got the following packages :</p>\n<ul>\n<li>com.test.model</li>\n<li>com.test.repository</li>\n<li>com.test.repository.projection</li>\n<li>com.test.service</li>\n</ul>\n<p>Inside my model package I got a PurchaseHistory class.</p>\n<p>Into my repository package I got a class that import PurchaseHistory but the class is not recognized what could be wrong ?</p>\n<p><a href=\"https://i.stack.imgur.com/L0mLG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0mLG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-bigquery"],"owner":{"account_id":26690870,"reputation":3,"user_id":20299469,"display_name":"Little white programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681996916,"creation_date":1681985084,"question_id":76062882,"body_markdown":"I try to read my table data using BigQuery API. When I use the increase mode, the data is accurate, but when I use specify, the data will be wrong, the specific error is:  \r\nThe data on April 1 and April 2 should be 50893 and 50327 respectively, but the data actually inserted into the clickhouse is only 5000 on April 2, and the total is indeed correct, it&#39;s getting me nowhere.  \r\nThis is my code\r\n```\r\npackage com.addcn.app.dws;\r\n\r\nimport com.google.cloud.bigquery.*;\r\nimport com.addcn.utils.CreateAuthorizedClient;\r\nimport com.google.common.collect.ImmutableMap;\r\nimport picocli.CommandLine;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.SQLException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.time.LocalDate;\r\n\r\nimport static com.add.common.access.*;\r\n\r\npublic class RevenueSaleValueUsed implements  Runnable{\r\n\r\n    private static final Long PAGE_SIZE = 15000L;\r\n\r\n    @CommandLine.Option(names = {&quot;-d&quot;, &quot;--dataset&quot;}, required = true, description = &quot;Bigquery need dataset&quot;)\r\n    private String datasetId;\r\n\r\n    @CommandLine.Option(names = {&quot;-t&quot;, &quot;--table&quot;}, required = true, description = &quot;Bigquery need table&quot;)\r\n    private String tableId;\r\n\r\n    @CommandLine.Option(names = {&quot;--type&quot;}, required = true, description = &quot;Please enter your update policy! full increase specify&quot;)\r\n    private String type;\r\n\r\n    @CommandLine.Option(names = {&quot;--startdate&quot;}, description = &quot;if you choose specify, Please choose it&quot;)\r\n    private String startDateStr;\r\n\r\n    @CommandLine.Option(names = {&quot;--enddate&quot;}, description = &quot;if you choose specify, Please choose it&quot;)\r\n    private String endDateStr;\r\n\r\n    @CommandLine.Option(names = {&quot;--key&quot;}, description = &quot;key&quot;)\r\n    private String key;\r\n\r\n    public static void main(String[] args) {\r\n        RevenueSaleValueUsed rsvu = new RevenueSaleValueUsed();\r\n        CommandLine.run(rsvu, args);\r\n    }\r\n\r\n\r\n    private static String buildQuery(boolean isFullUpdate, TableId sourceTableId,\r\n                                     LocalDate startDate, LocalDate endDate, long offset) {\r\n        if (isFullUpdate) {\r\n            return String.format(&quot;SELECT * FROM `%s.%s` LIMIT %d OFFSET @offset&quot;,\r\n                    sourceTableId.getDataset(), sourceTableId.getTable(), PAGE_SIZE);\r\n        } else {\r\n            String dateCondition = String.format(&quot;event_date BETWEEN &#39;%s&#39; AND &#39;%s&#39;&quot;, startDate, endDate);\r\n            System.out.println(String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET @offset&quot;,\r\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE));\r\n            return String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET @offset&quot;,\r\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        System.out.println(sdf.format(System.currentTimeMillis()));\r\n\r\n        LocalDate startDate = null;\r\n        LocalDate endDate = null;\r\n        boolean isFullUpdate = false;\r\n\r\n        String credentialsPath = System.getenv(&quot;GOOGLE_APPLICATION_CREDENTIALS&quot;);\r\n//        String credentialsPath = this.key;\r\n        if (credentialsPath == null || credentialsPath.isEmpty()) {\r\n            throw new RuntimeException(&quot;GOOGLE_APPLICATION_CREDENTIALS environment variable is not set.&quot;);\r\n        }\r\n\r\n        TableId sourceTableId = TableId.of(datasetId, tableId);\r\n\r\n        if (type.equals(&quot;increase&quot;)) {\r\n            startDate = LocalDate.now().minusDays(1);\r\n            endDate = LocalDate.now().minusDays(1);\r\n        }\r\n\r\n        if (type.equals(&quot;full&quot;)) {\r\n            isFullUpdate = true;\r\n        }\r\n\r\n        if (type.equals(&quot;specify&quot;)) {\r\n            startDate = LocalDate.parse(startDateStr);\r\n            endDate = LocalDate.parse(endDateStr);\r\n        }\r\n\r\n        try {\r\n\r\n            Connection clickhouse = DriverManager.getConnection(CLICKHOUSE_URL_DEV, CLICKHOUSE_USER_DEV, CLICKHOUSE_PASSWORD_DEV);\r\n\r\n            String sql = &quot;INSERT INTO t8891.&quot; + tableId + &quot; VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n\r\n            PreparedStatement insertStmt = clickhouse.prepareStatement(sql);\r\n\r\n            BigQuery bigQuery = CreateAuthorizedClient.createAuthorizedClient(NEWCAR, credentialsPath);\r\n\r\n            int offset = 0;\r\n\r\n            while (true) {\r\n\r\n                String query = buildQuery(isFullUpdate, sourceTableId, startDate, endDate, offset);\r\n\r\n                QueryParameterValue offsetParam = QueryParameterValue.int64(offset);\r\n\r\n                QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query)\r\n                        .setDefaultDataset(sourceTableId.getDataset())\r\n                        .setUseLegacySql(false)\r\n                        .setPriority(QueryJobConfiguration.Priority.BATCH)\r\n                        .setMaxResults(PAGE_SIZE)\r\n                        .setNamedParameters(ImmutableMap.of(&quot;offset&quot;, offsetParam))\r\n                        .build();\r\n\r\n                TableResult result = bigQuery.query(queryConfig);\r\n\r\n                for (FieldValueList row : result.iterateAll()) {\r\n                    LocalDate date = LocalDate.parse(row.get(&quot;event_date&quot;).getStringValue());\r\n                    insertStmt.setObject(1,date);\r\n                    String itemId = row.get(&quot;item_id&quot;).getStringValue();\r\n                    insertStmt.setString(2,itemId);\r\n                    insertStmt.setInt(3,(int) row.get(&quot;num_exposed&quot;).getLongValue());\r\n                    insertStmt.setInt(4,(int) row.get(&quot;num_click&quot;).getLongValue());\r\n                    insertStmt.setInt(5,(int) row.get(&quot;num_browse&quot;).getLongValue());\r\n                    insertStmt.setInt(6,(int) row.get(&quot;num_contact&quot;).getLongValue());\r\n                    insertStmt.setInt(7,(int) row.get(&quot;num_mobile_contact&quot;).getLongValue());\r\n                    insertStmt.setInt(8,(int) row.get(&quot;num_im_contact&quot;).getLongValue());\r\n                    insertStmt.setInt(9,(int) row.get(&quot;num_line_contact&quot;).getLongValue());\r\n                    insertStmt.setInt(10,(int) row.get(&quot;num_confirm&quot;).getLongValue());\r\n                    insertStmt.setInt(11,(int) row.get(&quot;num_mobile_confirm&quot;).getLongValue());\r\n                    insertStmt.setInt(12,(int) row.get(&quot;num_line_confirm&quot;).getLongValue());\r\n                    insertStmt.setInt(13,(int) row.get(&quot;num_im_confirm&quot;).getLongValue());\r\n                    insertStmt.addBatch();\r\n                }\r\n\r\n                insertStmt.executeBatch();\r\n\r\n                System.out.println(&quot;总行数：&quot; + result.getTotalRows());\r\n\r\n                if (result.getTotalRows() &lt; PAGE_SIZE) {\r\n                    System.out.println(sdf.format(System.currentTimeMillis()));\r\n                    insertStmt.close();\r\n                    clickhouse.close();\r\n                    break;\r\n                } else {\r\n                    offset += PAGE_SIZE;\r\n                    System.out.println(&quot;offset:&quot; + offset);\r\n                }\r\n            }\r\n\r\n        } catch (SQLException e) {\r\n            System.err.println(&quot;ClickHouse exception: &quot; + e.getMessage());\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Failed to read credentials file: &quot; + e.getMessage());\r\n        } catch (InterruptedException e) {\r\n            System.err.println(&quot;Query job was interrupted: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is command:  \r\n`java -cp bigquery-1.0-SNAPSHOT.jar com.add.app.dws.RevenueSaleValueUsed -d=dws -t=dws_item_performance\r\n_daily --type=specify --startdate=2023-04-01 --enddate=2023-04-02`\r\n\r\nI tried to print out the SQL, and then run it on the BigQuery client, the result is correct, but the program is corrected when running\r\n```\r\nSystem.out.println(String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET offset&quot;,\r\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE, offset));\r\n```\r\n","title":"There is no error reported when using the BigQuery API to read data, but the result of the query is inconsistent with the Bigqeury Table","body":"<p>I try to read my table data using BigQuery API. When I use the increase mode, the data is accurate, but when I use specify, the data will be wrong, the specific error is:<br />\nThe data on April 1 and April 2 should be 50893 and 50327 respectively, but the data actually inserted into the clickhouse is only 5000 on April 2, and the total is indeed correct, it's getting me nowhere.<br />\nThis is my code</p>\n<pre><code>package com.addcn.app.dws;\n\nimport com.google.cloud.bigquery.*;\nimport com.addcn.utils.CreateAuthorizedClient;\nimport com.google.common.collect.ImmutableMap;\nimport picocli.CommandLine;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDate;\n\nimport static com.add.common.access.*;\n\npublic class RevenueSaleValueUsed implements  Runnable{\n\n    private static final Long PAGE_SIZE = 15000L;\n\n    @CommandLine.Option(names = {&quot;-d&quot;, &quot;--dataset&quot;}, required = true, description = &quot;Bigquery need dataset&quot;)\n    private String datasetId;\n\n    @CommandLine.Option(names = {&quot;-t&quot;, &quot;--table&quot;}, required = true, description = &quot;Bigquery need table&quot;)\n    private String tableId;\n\n    @CommandLine.Option(names = {&quot;--type&quot;}, required = true, description = &quot;Please enter your update policy! full increase specify&quot;)\n    private String type;\n\n    @CommandLine.Option(names = {&quot;--startdate&quot;}, description = &quot;if you choose specify, Please choose it&quot;)\n    private String startDateStr;\n\n    @CommandLine.Option(names = {&quot;--enddate&quot;}, description = &quot;if you choose specify, Please choose it&quot;)\n    private String endDateStr;\n\n    @CommandLine.Option(names = {&quot;--key&quot;}, description = &quot;key&quot;)\n    private String key;\n\n    public static void main(String[] args) {\n        RevenueSaleValueUsed rsvu = new RevenueSaleValueUsed();\n        CommandLine.run(rsvu, args);\n    }\n\n\n    private static String buildQuery(boolean isFullUpdate, TableId sourceTableId,\n                                     LocalDate startDate, LocalDate endDate, long offset) {\n        if (isFullUpdate) {\n            return String.format(&quot;SELECT * FROM `%s.%s` LIMIT %d OFFSET @offset&quot;,\n                    sourceTableId.getDataset(), sourceTableId.getTable(), PAGE_SIZE);\n        } else {\n            String dateCondition = String.format(&quot;event_date BETWEEN '%s' AND '%s'&quot;, startDate, endDate);\n            System.out.println(String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET @offset&quot;,\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE));\n            return String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET @offset&quot;,\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE);\n        }\n    }\n\n    @Override\n    public void run() {\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n        System.out.println(sdf.format(System.currentTimeMillis()));\n\n        LocalDate startDate = null;\n        LocalDate endDate = null;\n        boolean isFullUpdate = false;\n\n        String credentialsPath = System.getenv(&quot;GOOGLE_APPLICATION_CREDENTIALS&quot;);\n//        String credentialsPath = this.key;\n        if (credentialsPath == null || credentialsPath.isEmpty()) {\n            throw new RuntimeException(&quot;GOOGLE_APPLICATION_CREDENTIALS environment variable is not set.&quot;);\n        }\n\n        TableId sourceTableId = TableId.of(datasetId, tableId);\n\n        if (type.equals(&quot;increase&quot;)) {\n            startDate = LocalDate.now().minusDays(1);\n            endDate = LocalDate.now().minusDays(1);\n        }\n\n        if (type.equals(&quot;full&quot;)) {\n            isFullUpdate = true;\n        }\n\n        if (type.equals(&quot;specify&quot;)) {\n            startDate = LocalDate.parse(startDateStr);\n            endDate = LocalDate.parse(endDateStr);\n        }\n\n        try {\n\n            Connection clickhouse = DriverManager.getConnection(CLICKHOUSE_URL_DEV, CLICKHOUSE_USER_DEV, CLICKHOUSE_PASSWORD_DEV);\n\n            String sql = &quot;INSERT INTO t8891.&quot; + tableId + &quot; VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&quot;;\n\n            PreparedStatement insertStmt = clickhouse.prepareStatement(sql);\n\n            BigQuery bigQuery = CreateAuthorizedClient.createAuthorizedClient(NEWCAR, credentialsPath);\n\n            int offset = 0;\n\n            while (true) {\n\n                String query = buildQuery(isFullUpdate, sourceTableId, startDate, endDate, offset);\n\n                QueryParameterValue offsetParam = QueryParameterValue.int64(offset);\n\n                QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query)\n                        .setDefaultDataset(sourceTableId.getDataset())\n                        .setUseLegacySql(false)\n                        .setPriority(QueryJobConfiguration.Priority.BATCH)\n                        .setMaxResults(PAGE_SIZE)\n                        .setNamedParameters(ImmutableMap.of(&quot;offset&quot;, offsetParam))\n                        .build();\n\n                TableResult result = bigQuery.query(queryConfig);\n\n                for (FieldValueList row : result.iterateAll()) {\n                    LocalDate date = LocalDate.parse(row.get(&quot;event_date&quot;).getStringValue());\n                    insertStmt.setObject(1,date);\n                    String itemId = row.get(&quot;item_id&quot;).getStringValue();\n                    insertStmt.setString(2,itemId);\n                    insertStmt.setInt(3,(int) row.get(&quot;num_exposed&quot;).getLongValue());\n                    insertStmt.setInt(4,(int) row.get(&quot;num_click&quot;).getLongValue());\n                    insertStmt.setInt(5,(int) row.get(&quot;num_browse&quot;).getLongValue());\n                    insertStmt.setInt(6,(int) row.get(&quot;num_contact&quot;).getLongValue());\n                    insertStmt.setInt(7,(int) row.get(&quot;num_mobile_contact&quot;).getLongValue());\n                    insertStmt.setInt(8,(int) row.get(&quot;num_im_contact&quot;).getLongValue());\n                    insertStmt.setInt(9,(int) row.get(&quot;num_line_contact&quot;).getLongValue());\n                    insertStmt.setInt(10,(int) row.get(&quot;num_confirm&quot;).getLongValue());\n                    insertStmt.setInt(11,(int) row.get(&quot;num_mobile_confirm&quot;).getLongValue());\n                    insertStmt.setInt(12,(int) row.get(&quot;num_line_confirm&quot;).getLongValue());\n                    insertStmt.setInt(13,(int) row.get(&quot;num_im_confirm&quot;).getLongValue());\n                    insertStmt.addBatch();\n                }\n\n                insertStmt.executeBatch();\n\n                System.out.println(&quot;总行数：&quot; + result.getTotalRows());\n\n                if (result.getTotalRows() &lt; PAGE_SIZE) {\n                    System.out.println(sdf.format(System.currentTimeMillis()));\n                    insertStmt.close();\n                    clickhouse.close();\n                    break;\n                } else {\n                    offset += PAGE_SIZE;\n                    System.out.println(&quot;offset:&quot; + offset);\n                }\n            }\n\n        } catch (SQLException e) {\n            System.err.println(&quot;ClickHouse exception: &quot; + e.getMessage());\n        } catch (IOException e) {\n            System.err.println(&quot;Failed to read credentials file: &quot; + e.getMessage());\n        } catch (InterruptedException e) {\n            System.err.println(&quot;Query job was interrupted: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>This is command:<br />\n<code>java -cp bigquery-1.0-SNAPSHOT.jar com.add.app.dws.RevenueSaleValueUsed -d=dws -t=dws_item_performance _daily --type=specify --startdate=2023-04-01 --enddate=2023-04-02</code></p>\n<p>I tried to print out the SQL, and then run it on the BigQuery client, the result is correct, but the program is corrected when running</p>\n<pre><code>System.out.println(String.format(&quot;SELECT * FROM `%s.%s` WHERE %s LIMIT %d OFFSET offset&quot;,\n                    sourceTableId.getDataset(), sourceTableId.getTable(), dateCondition, PAGE_SIZE, offset));\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","spring-resttemplate"],"owner":{"account_id":8279680,"reputation":31,"user_id":6224764,"display_name":"Giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681996795,"creation_date":1591021973,"question_id":62134544,"body_markdown":"I&#39;m trying to send custom error message with Http status codes in RestClient call\r\n\r\nmicroservice 1 code:\r\n\r\n```\r\ntry{\r\n   String method = request.getMethod();\r\n   RestTemplate restTemplate = new RestTemplate();\r\n   ResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.exchange(&quot;/someUrl&quot;, method, entity, byte[].class);\r\n} catch (HttpServerErrorException | HttpClientErrorException e) {\r\n   String errorString = e.getResponseBodyAsString();\r\n   if(Strings.isNullOrEmpty(errorString)) {\r\n      errorString = e.getMessage();\r\n   }\r\n   return new ResponseEntity&lt;&gt;(errorString, new HttpHeaders(), e.getStatusCode());\r\n}\r\n```\r\n\r\nmicroservice 2 code:\r\n\r\n```\r\n@RequestMapping(value=&quot;/someUrl&quot;, method= { RequestMethod.GET, RequestMethod.POST})\r\npublic ResponseEntity&lt;?&gt; executeSoapServer(@RequestHeader HttpHeaders headers, HttpServletRequest request, HttpServletResponse resp){\r\n  JsonObject obj = new JsonObject();\r\n  obj.addProperty(&quot;errorMessage&quot;, &quot;test error message&quot;)\r\n  return new ResponseEntity&lt;&gt;(obj.toString(), new HttpHeaders(), HttpStatus.UNAUTHORIZED);\r\n}\r\n```\r\n\r\nFrom microservice 1 GET call response:\r\nresponse status code - 401\r\n\r\n```\r\n{\r\n  &quot;errorMessage&quot;: &quot;test error message&quot;\r\n}\r\n```\r\n\r\nFrom microservice 1 POST call response:\r\nresponse status code - 401\r\n\r\n```\r\n401 null\r\n```\r\n\r\nFor the GET method its working as expected, but for the POST/PUT/DELETE not working for microservice to microservice.\r\n\r\n\r\nWhen I directly hit microservice 2 from postman with POST method its working, but when I hit microservice2 from microservice1 with POST method not working.\r\n\r\n\r\n\r\nWhen I hit microservice 2 controller from microservice 1 below are the response headers:\r\n```\r\n{\r\nAccess-Control-Allow-Credentials=[true], \r\nAccess-Control-Allow-Methods=[GET,POST,PUT,PATCH,DELETE,HEAD], \r\nX-Application-Context=[eportal:local:8082], \r\nep-flowid=[c35c3098-a7a5-712a-8e38-4d1ad99fccd0], \r\nAccess-Control-Expose-Headers=[ep-flowid], \r\nX-Content-Type-Options=[nosniff], \r\nX-XSS-Protection=[1; mode=block], \r\nCache-Control=[no-cache, no-store, max-age=0, must-revalidate], \r\nPragma=[no-cache], \r\nExpires=[0], \r\nX-Frame-Options=[DENY], \r\nContent-Type=[application/json;charset=UTF-8], \r\nContent-Length=[29], \r\nDate=[Mon, 01 Jun 2020 13:59:59 GMT]\r\n}\r\n```\r\n\r\nWhen I hit microservice 2 controller from postman below are the response headers:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kPPyj.png","title":"ResponseBodyAsString missing while receiving HttpClientErrorException for POST call","body":"<p>I'm trying to send custom error message with Http status codes in RestClient call</p>\n\n<p>microservice 1 code:</p>\n\n<pre><code>try{\n   String method = request.getMethod();\n   RestTemplate restTemplate = new RestTemplate();\n   ResponseEntity&lt;byte[]&gt; responseEntity = restTemplate.exchange(\"/someUrl\", method, entity, byte[].class);\n} catch (HttpServerErrorException | HttpClientErrorException e) {\n   String errorString = e.getResponseBodyAsString();\n   if(Strings.isNullOrEmpty(errorString)) {\n      errorString = e.getMessage();\n   }\n   return new ResponseEntity&lt;&gt;(errorString, new HttpHeaders(), e.getStatusCode());\n}\n</code></pre>\n\n<p>microservice 2 code:</p>\n\n<pre><code>@RequestMapping(value=\"/someUrl\", method= { RequestMethod.GET, RequestMethod.POST})\npublic ResponseEntity&lt;?&gt; executeSoapServer(@RequestHeader HttpHeaders headers, HttpServletRequest request, HttpServletResponse resp){\n  JsonObject obj = new JsonObject();\n  obj.addProperty(\"errorMessage\", \"test error message\")\n  return new ResponseEntity&lt;&gt;(obj.toString(), new HttpHeaders(), HttpStatus.UNAUTHORIZED);\n}\n</code></pre>\n\n<p>From microservice 1 GET call response:\nresponse status code - 401</p>\n\n<pre><code>{\n  \"errorMessage\": \"test error message\"\n}\n</code></pre>\n\n<p>From microservice 1 POST call response:\nresponse status code - 401</p>\n\n<pre><code>401 null\n</code></pre>\n\n<p>For the GET method its working as expected, but for the POST/PUT/DELETE not working for microservice to microservice.</p>\n\n<p>When I directly hit microservice 2 from postman with POST method its working, but when I hit microservice2 from microservice1 with POST method not working.</p>\n\n<p>When I hit microservice 2 controller from microservice 1 below are the response headers:</p>\n\n<pre><code>{\nAccess-Control-Allow-Credentials=[true], \nAccess-Control-Allow-Methods=[GET,POST,PUT,PATCH,DELETE,HEAD], \nX-Application-Context=[eportal:local:8082], \nep-flowid=[c35c3098-a7a5-712a-8e38-4d1ad99fccd0], \nAccess-Control-Expose-Headers=[ep-flowid], \nX-Content-Type-Options=[nosniff], \nX-XSS-Protection=[1; mode=block], \nCache-Control=[no-cache, no-store, max-age=0, must-revalidate], \nPragma=[no-cache], \nExpires=[0], \nX-Frame-Options=[DENY], \nContent-Type=[application/json;charset=UTF-8], \nContent-Length=[29], \nDate=[Mon, 01 Jun 2020 13:59:59 GMT]\n}\n</code></pre>\n\n<p>When I hit microservice 2 controller from postman below are the response headers:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kPPyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kPPyj.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","rest"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53888,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681996658,"creation_date":1681996658,"answer_id":76064536,"question_id":76064172,"body_markdown":"&gt; does this make sense? does it conforms to RESTful convention?\r\n\r\nIt&#39;s fine.  REST doesn&#39;t care what spelling conventions you use for your resource identifiers.\r\n\r\nIt might make things easier for the humans in your system if you were to choose parallel spellings\r\n\r\n```\r\n/opportunities/internal/{internal-id}\r\n/opportunities/external/{external-id}\r\n```\r\n","title":"RESTful API: build URLs for resource that can be identified by two different string properties","body":"<blockquote>\n<p>does this make sense? does it conforms to RESTful convention?</p>\n</blockquote>\n<p>It's fine.  REST doesn't care what spelling conventions you use for your resource identifiers.</p>\n<p>It might make things easier for the humans in your system if you were to choose parallel spellings</p>\n<pre><code>/opportunities/internal/{internal-id}\n/opportunities/external/{external-id}\n</code></pre>\n"}],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76064536,"answer_count":1,"score":0,"last_activity_date":1681996658,"creation_date":1681994422,"question_id":76064172,"body_markdown":"I am designing a Spring web application that manages opportunities for sales persons. Naturally I have opportunities DB entity with an internal unique identifier.    \r\nThe web application also interfaces with CRM systems like Salesforce, Hubspot, etc. We maintain the identifier of the opportunity in the CRM system as a property of our opportunity. we call this property `externalIdentifier`.\r\n\r\nThe requirement of the RESTful api is to allow access to opportunity by either internal or external identifier. both of these properties are defined as String. I understand that the same opportunity resource will have two URLs. I must have a way to tell if the path variable signifies an internal or external identifier.  \r\n\r\nthis design: \r\n\r\n    /opportunities/{internal-id}\r\n    /opportunities/{external-id}\r\n\r\nis basically the same URL and the web server does not know which identifier is used. the path must be different.\r\n\r\nso far I have come up with the following \r\n\r\n    /opportunities/{internal-id}\r\n    /opportunities/external/{external-id}\r\n\r\ndoes this make sense? does it conforms to RESTful convention? \r\n\r\n","title":"RESTful API: build URLs for resource that can be identified by two different string properties","body":"<p>I am designing a Spring web application that manages opportunities for sales persons. Naturally I have opportunities DB entity with an internal unique identifier.<br />\nThe web application also interfaces with CRM systems like Salesforce, Hubspot, etc. We maintain the identifier of the opportunity in the CRM system as a property of our opportunity. we call this property <code>externalIdentifier</code>.</p>\n<p>The requirement of the RESTful api is to allow access to opportunity by either internal or external identifier. both of these properties are defined as String. I understand that the same opportunity resource will have two URLs. I must have a way to tell if the path variable signifies an internal or external identifier.</p>\n<p>this design:</p>\n<pre><code>/opportunities/{internal-id}\n/opportunities/{external-id}\n</code></pre>\n<p>is basically the same URL and the web server does not know which identifier is used. the path must be different.</p>\n<p>so far I have come up with the following</p>\n<pre><code>/opportunities/{internal-id}\n/opportunities/external/{external-id}\n</code></pre>\n<p>does this make sense? does it conforms to RESTful convention?</p>\n"},{"tags":["java","enums","entity","quarkus"],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681996656,"creation_date":1681996656,"answer_id":76064534,"question_id":76064369,"body_markdown":"## Possible solution\r\n\r\nAccording to stacktrace, I believe you are only missing constructor in Enum :\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic enum ConnectorFormatEnum {\r\n    SOCKET(&quot;SOCKET&quot;,true),\r\n    CABLE(&quot;CABLE&quot;,true),\r\n    UNKNOWN(null,false);\r\n\r\n    private final String value;\r\n    private final Boolean ocpi;\r\n\r\n    // Add this constructor\r\n    private ConnectorFormatEnum(String value, boolean ocpi) {\r\n        this.value = value;\r\n        this.ocpi = ocpi;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n```","title":"Quarkus: Constructor in enum cannot be applied to given types","body":"<h2>Possible solution</h2>\n<p>According to stacktrace, I believe you are only missing constructor in Enum :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic enum ConnectorFormatEnum {\n    SOCKET(&quot;SOCKET&quot;,true),\n    CABLE(&quot;CABLE&quot;,true),\n    UNKNOWN(null,false);\n\n    private final String value;\n    private final Boolean ocpi;\n\n    // Add this constructor\n    private ConnectorFormatEnum(String value, boolean ocpi) {\n        this.value = value;\n        this.ocpi = ocpi;\n    }\n\n    @JsonValue\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17732815,"reputation":11,"user_id":12874963,"display_name":"Llexii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76064534,"answer_count":1,"score":0,"last_activity_date":1681996656,"creation_date":1681995738,"question_id":76064369,"body_markdown":"I am getting started with Quarkus and I&#39;m trying to use an enum in my entity but I keep getting this error: \r\n\r\n    [ERROR] ~/ConnectorFormatEnum.java:[10,12] constructor ConnectorFormatEnum in enum *.ConnectorFormatEnum cannot be applied to given types;\r\n    [ERROR]   required: no arguments\r\n    [ERROR]   found:    java.lang.String,boolean\r\n    [ERROR]   reason: actual and formal argument lists differ in length\r\n\r\n\r\nHere&#39;s my enum class:\r\n\r\n    @RequiredArgsConstructor\r\n    public enum ConnectorFormatEnum {\r\n    SOCKET(&quot;SOCKET&quot;,true),\r\n    CABLE(&quot;CABLE&quot;,true),\r\n    UNKNOWN(null,false);\r\n\r\n    private final String value;\r\n    private final Boolean ocpi;\r\n\r\n    @JsonValue\r\n    public String getValue() {\r\n        return value;\r\n      }\r\n    }\r\n\r\nAnd here&#39;s my entity where I wanna use the enum: \r\n\r\n    @Data\r\n    @Entity\r\n    @Table(schema = &quot;ocpi_locations&quot;, name = &quot;connector&quot;)\r\n    public class ConnectorEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id_connector&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;internal&quot;, nullable = false, insertable = true, updatable = false)\r\n    private String internal;\r\n\r\n    @Column(name = &quot;id&quot;, length=36)\r\n    private String idConnector;\r\n\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Type(type = &quot;pgsql_enum&quot;)\r\n    @Column(name = &quot;format&quot;)\r\n    private ConnectorFormatEnum format = ConnectorFormatEnum.UNKNOWN;\r\n\r\n    @Column(name = &quot;voltage&quot;)\r\n    private Integer voltage;\r\n\r\n    @Column(name = &quot;amperage&quot;)\r\n    private Integer amperage;\r\n\r\n    @Column(name = &quot;terms_and_conditions&quot;)\r\n    private String termsAndConditions;\r\n\r\n    @CreationTimestamp\r\n    @Column(updatable = false)\r\n    private Instant createdAt;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name=&quot;updated_at&quot;, nullable = false, insertable = false )\r\n    private Instant lastUpdated;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name=&quot;deleted_at&quot;, nullable = false, insertable = false )\r\n    private Instant deletedAt;\r\n\r\n    }\r\n\r\nI have other enums in my project as well that I am trying to use with other entities but I am getting the same error for all of them, am I doing something wrong here ? ","title":"Quarkus: Constructor in enum cannot be applied to given types","body":"<p>I am getting started with Quarkus and I'm trying to use an enum in my entity but I keep getting this error:</p>\n<pre><code>[ERROR] ~/ConnectorFormatEnum.java:[10,12] constructor ConnectorFormatEnum in enum *.ConnectorFormatEnum cannot be applied to given types;\n[ERROR]   required: no arguments\n[ERROR]   found:    java.lang.String,boolean\n[ERROR]   reason: actual and formal argument lists differ in length\n</code></pre>\n<p>Here's my enum class:</p>\n<pre><code>@RequiredArgsConstructor\npublic enum ConnectorFormatEnum {\nSOCKET(&quot;SOCKET&quot;,true),\nCABLE(&quot;CABLE&quot;,true),\nUNKNOWN(null,false);\n\nprivate final String value;\nprivate final Boolean ocpi;\n\n@JsonValue\npublic String getValue() {\n    return value;\n  }\n}\n</code></pre>\n<p>And here's my entity where I wanna use the enum:</p>\n<pre><code>@Data\n@Entity\n@Table(schema = &quot;ocpi_locations&quot;, name = &quot;connector&quot;)\npublic class ConnectorEntity {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id_connector&quot;)\nprivate Long id;\n\n@Column(name = &quot;internal&quot;, nullable = false, insertable = true, updatable = false)\nprivate String internal;\n\n@Column(name = &quot;id&quot;, length=36)\nprivate String idConnector;\n\n\n@Enumerated(EnumType.STRING)\n@Type(type = &quot;pgsql_enum&quot;)\n@Column(name = &quot;format&quot;)\nprivate ConnectorFormatEnum format = ConnectorFormatEnum.UNKNOWN;\n\n@Column(name = &quot;voltage&quot;)\nprivate Integer voltage;\n\n@Column(name = &quot;amperage&quot;)\nprivate Integer amperage;\n\n@Column(name = &quot;terms_and_conditions&quot;)\nprivate String termsAndConditions;\n\n@CreationTimestamp\n@Column(updatable = false)\nprivate Instant createdAt;\n\n@UpdateTimestamp\n@Column(name=&quot;updated_at&quot;, nullable = false, insertable = false )\nprivate Instant lastUpdated;\n\n@UpdateTimestamp\n@Column(name=&quot;deleted_at&quot;, nullable = false, insertable = false )\nprivate Instant deletedAt;\n\n}\n</code></pre>\n<p>I have other enums in my project as well that I am trying to use with other entities but I am getting the same error for all of them, am I doing something wrong here ?</p>\n"},{"tags":["java","scala","naming-conventions"],"answers":[{"comments":[{"owner":{"account_id":2155118,"reputation":2302,"user_id":1910555,"display_name":"pds"},"score":0,"creation_date":1491664361,"post_id":26012096,"comment_id":73658167,"body_markdown":"Further to this, Scala provides the *Uniform Access Principle* on member properties by default without having to explicitly write the code. Java requires you to know/choose to be UAP convention compliant and then write the code too.","body":"Further to this, Scala provides the <i>Uniform Access Principle</i> on member properties by default without having to explicitly write the code. Java requires you to know/choose to be UAP convention compliant and then write the code too."},{"owner":{"account_id":183857,"reputation":15364,"user_id":419516,"accept_rate":87,"display_name":"user219882"},"score":13,"creation_date":1519288812,"post_id":26012096,"comment_id":84852059,"body_markdown":"Well I don&#39;t know what Odersky was thinking when designing this nightmare. It&#39;s like the worst syntax and recommendation in all history of programming languages. Underscore after a name as a setter? It just couldn&#39;t be more cryptic","body":"Well I don&#39;t know what Odersky was thinking when designing this nightmare. It&#39;s like the worst syntax and recommendation in all history of programming languages. Underscore after a name as a setter? It just couldn&#39;t be more cryptic"},{"owner":{"account_id":3979145,"reputation":303,"user_id":6645422,"display_name":"th0masb"},"score":0,"creation_date":1536853669,"post_id":26012096,"comment_id":91582054,"body_markdown":"@user219882 Perhaps he wanted to discourage use of setters? I completely agree with this.","body":"@user219882 Perhaps he wanted to discourage use of setters? I completely agree with this."},{"owner":{"account_id":3762449,"reputation":1696,"user_id":3126973,"accept_rate":54,"display_name":"Romeo Sierra"},"score":0,"creation_date":1608541685,"post_id":26012096,"comment_id":115605773,"body_markdown":"@user219882 Absolutely.. Not to mention that when it is `value_ =` it gives you a compilation error `filename.scala:12: error: &#39;;&#39; expected but &#39;=&#39; found`.","body":"@user219882 Absolutely.. Not to mention that when it is <code>value_ =</code> it gives you a compilation error <code>filename.scala:12: error: &#39;;&#39; expected but &#39;=&#39; found</code>."}],"tags":[],"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"comment_count":4,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1411547579,"creation_date":1411547236,"answer_id":26012096,"question_id":26012039,"body_markdown":"The [Scala Style Guide](http://docs.scala-lang.org/style/naming-conventions.html#accessorsmutators) covers this quite nicely.\r\n\r\n&gt; For accessors of properties, the name of the method should be the name of the property.\r\n\r\nScala does not follow the Java convention.  Scala promotes the view that a caller should not be able to tell the difference between a field access and a method call, which means that the convention is to give them both the same name; thus reducing the amount of code change required should a field be changed to a method or visa versa.\r\n\r\n\r\n**Is it OK (according to scala naming convention) to put underscore before the field name itself?**\r\n\r\nScala convention is to prefix fields that we want to be private that otherwise have the same name as a public method, or to postfix it with a zero.  Either approach is acceptable.\r\n\r\n    private var _value = .....\r\n    def value = _value\r\n    def value_= (newVal:Int) = _value = newVal\r\n\r\nHowever, given this example the extra lines are not necessary.  The convention exists so that we can use this shorter version and then change it later to the more explicit version when/if we need to without having to make changes at every call site.\r\n\r\n    var value:Int = 0\r\n","title":"Scala getters/setters - best practice?","body":"<p>The <a href=\"http://docs.scala-lang.org/style/naming-conventions.html#accessorsmutators\" rel=\"noreferrer\">Scala Style Guide</a> covers this quite nicely.</p>\n\n<blockquote>\n  <p>For accessors of properties, the name of the method should be the name of the property.</p>\n</blockquote>\n\n<p>Scala does not follow the Java convention.  Scala promotes the view that a caller should not be able to tell the difference between a field access and a method call, which means that the convention is to give them both the same name; thus reducing the amount of code change required should a field be changed to a method or visa versa.</p>\n\n<p><strong>Is it OK (according to scala naming convention) to put underscore before the field name itself?</strong></p>\n\n<p>Scala convention is to prefix fields that we want to be private that otherwise have the same name as a public method, or to postfix it with a zero.  Either approach is acceptable.</p>\n\n<pre><code>private var _value = .....\ndef value = _value\ndef value_= (newVal:Int) = _value = newVal\n</code></pre>\n\n<p>However, given this example the extra lines are not necessary.  The convention exists so that we can use this shorter version and then change it later to the more explicit version when/if we need to without having to make changes at every call site.</p>\n\n<pre><code>var value:Int = 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411547245,"creation_date":1411547245,"answer_id":26012100,"question_id":26012039,"body_markdown":"According to the [Scala docs][1]:\r\n\r\n&gt;Scala does not follow the Java convention of prepending set/get to mutator and accessor methods (respectively). Instead, the following conventions are used:\r\n\r\n- For accessors of properties, the name of the method should be the name of the property.\r\n- In some instances, it is acceptable to prepend “`is`” on a boolean accessor (e.g. isEmpty). This should only be the case when no corresponding mutator is provided. \r\n- For mutators, the name of the method should be the name of the property with “_=” appended. \r\n\r\nExample:\r\n\r\n    class Foo {\r\n      def bar = ...\r\n      def bar_=(bar: Bar) {\r\n        ...\r\n      }\r\n      def isBaz = ...\r\n    }\r\n\r\n\r\n  [1]: http://docs.scala-lang.org/style/naming-conventions.html","title":"Scala getters/setters - best practice?","body":"<p>According to the <a href=\"http://docs.scala-lang.org/style/naming-conventions.html\" rel=\"noreferrer\">Scala docs</a>:</p>\n\n<blockquote>\n  <p>Scala does not follow the Java convention of prepending set/get to mutator and accessor methods (respectively). Instead, the following conventions are used:</p>\n</blockquote>\n\n<ul>\n<li>For accessors of properties, the name of the method should be the name of the property.</li>\n<li>In some instances, it is acceptable to prepend “<code>is</code>” on a boolean accessor (e.g. isEmpty). This should only be the case when no corresponding mutator is provided. </li>\n<li>For mutators, the name of the method should be the name of the property with “_=” appended. </li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>class Foo {\n  def bar = ...\n  def bar_=(bar: Bar) {\n    ...\n  }\n  def isBaz = ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681996604,"creation_date":1681996604,"answer_id":76064522,"question_id":26012039,"body_markdown":"See also Uniform Access Principle: &quot;uniform access principle\r\nThe uniform access principle states that variables and parameterless functions should be accessed using the same syntax. Scala supports this principle by not allowing parentheses to be placed at call sites of parameterless functions. As a result, a parameterless function definition can be changed to a val, or vice versa, without affecting client code.&quot;\r\n\r\n- https://docs.scala-lang.org/glossary/index.html#uniform-access-principle\r\n- https://martinfowler.com/bliki/UniformAccessPrinciple.html","title":"Scala getters/setters - best practice?","body":"<p>See also Uniform Access Principle: &quot;uniform access principle\nThe uniform access principle states that variables and parameterless functions should be accessed using the same syntax. Scala supports this principle by not allowing parentheses to be placed at call sites of parameterless functions. As a result, a parameterless function definition can be changed to a val, or vice versa, without affecting client code.&quot;</p>\n<ul>\n<li><a href=\"https://docs.scala-lang.org/glossary/index.html#uniform-access-principle\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/glossary/index.html#uniform-access-principle</a></li>\n<li><a href=\"https://martinfowler.com/bliki/UniformAccessPrinciple.html\" rel=\"nofollow noreferrer\">https://martinfowler.com/bliki/UniformAccessPrinciple.html</a></li>\n</ul>\n"}],"owner":{"account_id":2310571,"reputation":886,"user_id":2028789,"accept_rate":29,"display_name":"xwinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26098,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":26012096,"answer_count":3,"score":13,"last_activity_date":1681996604,"creation_date":1411547044,"question_id":26012039,"body_markdown":"I&#39;m Java SE/EE developer, but beginner in Scala. In Java, when I have some private fields which should be accessible to other code, I use `getX()`/`setX()` classic style of getters/setters. However, not sure how about Scala. I noticed that in Scala, naming convention of getter/setter for field is to use the same name as the field&#39;s one. So is it OK to simply set the field `public`, or should I use this style of getter/setter?:\r\n\r\n    private var _value = .....\r\n    def value = _value\r\n    def value_= (newVal:Int) = _value = newVal\r\n\r\nIs it OK (according to scala naming convention) to put underscore before the field name itself?\r\n\r\nThank you.","title":"Scala getters/setters - best practice?","body":"<p>I'm Java SE/EE developer, but beginner in Scala. In Java, when I have some private fields which should be accessible to other code, I use <code>getX()</code>/<code>setX()</code> classic style of getters/setters. However, not sure how about Scala. I noticed that in Scala, naming convention of getter/setter for field is to use the same name as the field's one. So is it OK to simply set the field <code>public</code>, or should I use this style of getter/setter?:</p>\n\n<pre><code>private var _value = .....\ndef value = _value\ndef value_= (newVal:Int) = _value = newVal\n</code></pre>\n\n<p>Is it OK (according to scala naming convention) to put underscore before the field name itself?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","json","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681821861,"post_id":76042646,"comment_id":134115633,"body_markdown":"I don&#39;t think Kafka consumer isn&#39;t doing this. Your producer is... Otherwise, you need to show your ProxyEvent class. For example, cs-uri field cannot be both a String and Array in your object. Or use StringDeserializer and print out those events instead, which is all console consumer does","body":"I don&#39;t think Kafka consumer isn&#39;t doing this. Your producer is... Otherwise, you need to show your ProxyEvent class. For example, cs-uri field cannot be both a String and Array in your object. Or use StringDeserializer and print out those events instead, which is all console consumer does"},{"owner":{"account_id":20049304,"reputation":1,"user_id":14698318,"display_name":"Abhishek Mundada"},"score":0,"creation_date":1681825000,"post_id":76042646,"comment_id":134116598,"body_markdown":"That&#39;s the issue I have, I am expecting only strings but same key value fields are getting clubbed which I am unable to deserialize.","body":"That&#39;s the issue I have, I am expecting only strings but same key value fields are getting clubbed which I am unable to deserialize."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681846152,"post_id":76042646,"comment_id":134121932,"body_markdown":"Please share your ProxyEvent class. And your producer code","body":"Please share your ProxyEvent class. And your producer code"},{"owner":{"account_id":20049304,"reputation":1,"user_id":14698318,"display_name":"Abhishek Mundada"},"score":0,"creation_date":1681876028,"post_id":76042646,"comment_id":134125830,"body_markdown":"Proxyevent class: [link](https://codefile.io/f/8eQ7EDtE6ULneO0ZxBMd)\nProducer is logstash kafka output plugin: [link](https://codefile.io/f/PxZxZRCqQwVK6stgegjU)","body":"Proxyevent class: <a href=\"https://codefile.io/f/8eQ7EDtE6ULneO0ZxBMd\" rel=\"nofollow noreferrer\">link</a> Producer is logstash kafka output plugin: <a href=\"https://codefile.io/f/PxZxZRCqQwVK6stgegjU\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681922847,"post_id":76042646,"comment_id":134136385,"body_markdown":"Please [edit] your post rather than link to external sites. Refer [mcve] for more details","body":"Please <a href=\"https://stackoverflow.com/posts/76042646/edit\">edit</a> your post rather than link to external sites. Refer <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more details"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1681923008,"post_id":76042646,"comment_id":134136418,"body_markdown":"If you use the `kafka-console-consumer.sh` to examine the record at that offset, you will see that the problem is in the data sent by the producer, not on the consumer side.","body":"If you use the <code>kafka-console-consumer.sh</code> to examine the record at that offset, you will see that the problem is in the data sent by the producer, not on the consumer side."},{"owner":{"account_id":20049304,"reputation":1,"user_id":14698318,"display_name":"Abhishek Mundada"},"score":0,"creation_date":1681996029,"post_id":76042646,"comment_id":134148501,"body_markdown":"I tried that, issue is at consumer end only.\nAlso tried using string deserializer instead of json, events are getting consumed properly in that case","body":"I tried that, issue is at consumer end only. Also tried using string deserializer instead of json, events are getting consumed properly in that case"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1682092908,"post_id":76042646,"comment_id":134166480,"body_markdown":"That doesn&#39;t make any sense; show the full stack trace.","body":"That doesn&#39;t make any sense; show the full stack trace."}],"owner":{"account_id":20049304,"reputation":1,"user_id":14698318,"display_name":"Abhishek Mundada"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681995956,"creation_date":1681808147,"question_id":76042646,"body_markdown":"I am writing a kafka consumer in java.\r\nExpecting normal json event \r\neg : \r\n```\r\n{&quot;cs-uri&quot;: &quot;tcp://teams.microsoft.com:443/&quot;,&quot;cs(Referer)&quot;: &quot;-&quot;,&quot;cs-auth-group&quot;: &quot;/&quot;,&quot;cs-uri-extension&quot;: &quot;-&quot;,&quot;cs-bytes&quot;: &quot;13941&quot;,&quot;username&quot;: &quot;-&quot;,&quot;src&quot;: &quot;10.3.41.215&quot;, &quot;dstport&quot;: &quot;443&quot;,&quot;event_time&quot;: &quot;Dec 1 06:46:09&quot;,...}\r\n```\r\n\r\nProxyEvent class\r\n```\r\npublic class ProxyEvent {\r\n\r\n    @JsonProperty(&quot;cs-uri-scheme&quot;)\r\n    String CsUriScheme;\r\n    @JsonProperty(&quot;devicetime&quot;)\r\n    String DeviceTime;\r\n    @JsonProperty(&quot;dst&quot;)\r\n    String Dst;\r\n    @JsonProperty(&quot;event_source_id&quot;)\r\n    String EventSourceId;\r\n    @JsonProperty(&quot;log_type&quot;)\r\n    String LogType;\r\n    @JsonProperty(&quot;time-taken&quot;)\r\n    String TimeTaken;\r\n    @JsonProperty(&quot;rs(Content-Type)&quot;)\r\n    String RsContentType;\r\n    @JsonProperty(&quot;dstport&quot;)\r\n    String Dstport;\r\n    @JsonProperty(&quot;sc-status&quot;)\r\n    String ScStatus;\r\n    @JsonProperty(&quot;cs-uri-extension&quot;)\r\n    String CsUriExtension;\r\n    @JsonProperty(&quot;srcport&quot;)\r\n    String Srcport;\r\n}\r\n```\r\n\r\nbut my kafka consumer is somehow clubbing fields with same key and value into json array\r\n\r\nlike this:\r\n```\r\n{&quot;cs-uri&quot;:[&quot;tcp://teams.microsoft.com:443/&quot;,&quot;tcp://teams.microsoft.com:443/&quot;],&quot;cs(Referer)&quot;:[&quot;-&quot;,&quot;-&quot;],&quot;dstport&quot;:[&quot;443&quot;,&quot;443&quot;],&quot;cs-auth-group&quot;:[&quot;-&quot;,&quot;-&quot;],&quot;sc-filter-result&quot;:[&quot;OBSERVED&quot;,&quot;OBSERVED&quot;],&quot;@timestamp&quot;:&quot;2023-04-18T08:32:52.801Z&quot;,&quot;srcport&quot;:[&quot;63917&quot;,&quot;63917&quot;],&quot;log_type&quot;:&quot;KeyValue&quot;,&quot;sc-bytes&quot;:[&quot;14767&quot;,&quot;14767&quot;],&quot;devicetime&quot;:[&quot;01/12/2022:11:44:19 GMT&quot;,&quot;01/12/2022:11:44:19 GMT&quot;] ...}\r\n```\r\n\r\nIssue is only when there is high speed data coming in \r\nwhich is &gt; 1000 events per second\r\n\r\nI tried putting console consumer events are coming properly there.\r\n\r\nissue is with my java consumer which has properties\r\n\r\n```\r\nconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\nconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\nconfig.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class);\r\nconfig.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\r\nconfig.put(JsonDeserializer.VALUE_DEFAULT_TYPE, ProxyEvent.class);\r\nconfig.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, &quot;10485760&quot;);\r\nconfig.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, &quot;10485760&quot;);\r\n```\r\n\r\nand because of that my kafka consumer is unable to deserialize the event.\r\n\r\n```\r\n@KafkaListener(topics = &quot;processed-proxy&quot;, groupId = &quot;group_proxy&quot;)\r\npublic void consume(ProxyEvent proxyEvent) {\r\n     logger.info(&quot;event consumed {}&quot;, proxyEvent);\r\n     ...\r\n}\r\n```\r\n\r\nthese events are being produced by parser which is written in logstash can that be issue?\r\n\r\nProducer\r\n\r\n```\r\noutput {\r\n\tkafka {\r\n\t\tcodec =&gt; json\r\n\t\tmessage_key =&gt; &quot;%{tenant_uuid}&quot;\r\n\t\tpartitioner =&gt; &quot;round_robin&quot;\r\n        topic_id =&gt; &quot;processed-%{device_type}&quot;\r\n        bootstrap_servers =&gt; &quot;${KAFKA_HOST}&quot;\r\n        max_request_size =&gt; 10485760\r\n  \t}\r\n}\r\n```","title":"kafka consumer clubbing json event fields in array when loaded high speed data","body":"<p>I am writing a kafka consumer in java.\nExpecting normal json event\neg :</p>\n<pre><code>{&quot;cs-uri&quot;: &quot;tcp://teams.microsoft.com:443/&quot;,&quot;cs(Referer)&quot;: &quot;-&quot;,&quot;cs-auth-group&quot;: &quot;/&quot;,&quot;cs-uri-extension&quot;: &quot;-&quot;,&quot;cs-bytes&quot;: &quot;13941&quot;,&quot;username&quot;: &quot;-&quot;,&quot;src&quot;: &quot;10.3.41.215&quot;, &quot;dstport&quot;: &quot;443&quot;,&quot;event_time&quot;: &quot;Dec 1 06:46:09&quot;,...}\n</code></pre>\n<p>ProxyEvent class</p>\n<pre><code>public class ProxyEvent {\n\n    @JsonProperty(&quot;cs-uri-scheme&quot;)\n    String CsUriScheme;\n    @JsonProperty(&quot;devicetime&quot;)\n    String DeviceTime;\n    @JsonProperty(&quot;dst&quot;)\n    String Dst;\n    @JsonProperty(&quot;event_source_id&quot;)\n    String EventSourceId;\n    @JsonProperty(&quot;log_type&quot;)\n    String LogType;\n    @JsonProperty(&quot;time-taken&quot;)\n    String TimeTaken;\n    @JsonProperty(&quot;rs(Content-Type)&quot;)\n    String RsContentType;\n    @JsonProperty(&quot;dstport&quot;)\n    String Dstport;\n    @JsonProperty(&quot;sc-status&quot;)\n    String ScStatus;\n    @JsonProperty(&quot;cs-uri-extension&quot;)\n    String CsUriExtension;\n    @JsonProperty(&quot;srcport&quot;)\n    String Srcport;\n}\n</code></pre>\n<p>but my kafka consumer is somehow clubbing fields with same key and value into json array</p>\n<p>like this:</p>\n<pre><code>{&quot;cs-uri&quot;:[&quot;tcp://teams.microsoft.com:443/&quot;,&quot;tcp://teams.microsoft.com:443/&quot;],&quot;cs(Referer)&quot;:[&quot;-&quot;,&quot;-&quot;],&quot;dstport&quot;:[&quot;443&quot;,&quot;443&quot;],&quot;cs-auth-group&quot;:[&quot;-&quot;,&quot;-&quot;],&quot;sc-filter-result&quot;:[&quot;OBSERVED&quot;,&quot;OBSERVED&quot;],&quot;@timestamp&quot;:&quot;2023-04-18T08:32:52.801Z&quot;,&quot;srcport&quot;:[&quot;63917&quot;,&quot;63917&quot;],&quot;log_type&quot;:&quot;KeyValue&quot;,&quot;sc-bytes&quot;:[&quot;14767&quot;,&quot;14767&quot;],&quot;devicetime&quot;:[&quot;01/12/2022:11:44:19 GMT&quot;,&quot;01/12/2022:11:44:19 GMT&quot;] ...}\n</code></pre>\n<p>Issue is only when there is high speed data coming in\nwhich is &gt; 1000 events per second</p>\n<p>I tried putting console consumer events are coming properly there.</p>\n<p>issue is with my java consumer which has properties</p>\n<pre><code>config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\nconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\nconfig.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, JsonDeserializer.class);\nconfig.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, StringDeserializer.class);\nconfig.put(JsonDeserializer.VALUE_DEFAULT_TYPE, ProxyEvent.class);\nconfig.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, &quot;10485760&quot;);\nconfig.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, &quot;10485760&quot;);\n</code></pre>\n<p>and because of that my kafka consumer is unable to deserialize the event.</p>\n<pre><code>@KafkaListener(topics = &quot;processed-proxy&quot;, groupId = &quot;group_proxy&quot;)\npublic void consume(ProxyEvent proxyEvent) {\n     logger.info(&quot;event consumed {}&quot;, proxyEvent);\n     ...\n}\n</code></pre>\n<p>these events are being produced by parser which is written in logstash can that be issue?</p>\n<p>Producer</p>\n<pre><code>output {\n    kafka {\n        codec =&gt; json\n        message_key =&gt; &quot;%{tenant_uuid}&quot;\n        partitioner =&gt; &quot;round_robin&quot;\n        topic_id =&gt; &quot;processed-%{device_type}&quot;\n        bootstrap_servers =&gt; &quot;${KAFKA_HOST}&quot;\n        max_request_size =&gt; 10485760\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","node.js","mpesa"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681911347,"post_id":76054781,"comment_id":134133290,"body_markdown":"Can please format your code so that it is possible to see what code lies at E:\\reactTest\\nodetest\\index.js:195:33","body":"Can please format your code so that it is possible to see what code lies at E:\\reactTest\\nodetest\\index.js:195:33"},{"owner":{"account_id":14439526,"reputation":233,"user_id":10430605,"display_name":"Nikhilesh Agrawal"},"score":0,"creation_date":1681967427,"post_id":76054781,"comment_id":134142526,"body_markdown":"@JohnWilliams I have formatted my code I need to convert java code to nodejs code if there is any formatting issues in code you can see m-pesa link.\nhttps://developer.mpesa.vm.co.mz/documentation/#restfull-api","body":"@JohnWilliams I have formatted my code I need to convert java code to nodejs code if there is any formatting issues in code you can see m-pesa link. <a href=\"https://developer.mpesa.vm.co.mz/documentation/#restfull-api\" rel=\"nofollow noreferrer\">developer.mpesa.vm.co.mz/documentation/#restfull-api</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681995741,"creation_date":1681995741,"answer_id":76064370,"question_id":76054781,"body_markdown":"If you are allowed to use [node-rsa][1] then the following is all you need. You **may** need to tune the padding via the options argument. \r\n\r\n    const NodeRSA = require(&#39;node-rsa&#39;);\r\n    \r\n    const apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\r\n    const publicKey = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&quot;;\r\n     \r\n    var key = new NodeRSA();\r\n    var public=&quot;-----BEGIN PUBLIC KEY-----\\n&quot;+publicKey+&quot;\\n&quot;+&quot;-----END PUBLIC KEY-----&quot;;\r\n    key.importKey(public,&quot;pkcs8-public-pem&quot;);\r\n    var encrypted = key.encrypt(apiKey, &#39;base64&#39;);\r\n    \r\n    console.log(&#39;&#39;,  encrypted.toString(&quot;base64&quot;));\r\n\r\n\r\n  [1]: https://www.npmjs.com/package/node-rsa","title":"I have integrate mpesa to nodejs code but RSA Encryption is not working me","body":"<p>If you are allowed to use <a href=\"https://www.npmjs.com/package/node-rsa\" rel=\"nofollow noreferrer\">node-rsa</a> then the following is all you need. You <strong>may</strong> need to tune the padding via the options argument.</p>\n<pre><code>const NodeRSA = require('node-rsa');\n\nconst apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\nconst publicKey = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&quot;;\n \nvar key = new NodeRSA();\nvar public=&quot;-----BEGIN PUBLIC KEY-----\\n&quot;+publicKey+&quot;\\n&quot;+&quot;-----END PUBLIC KEY-----&quot;;\nkey.importKey(public,&quot;pkcs8-public-pem&quot;);\nvar encrypted = key.encrypt(apiKey, 'base64');\n\nconsole.log('',  encrypted.toString(&quot;base64&quot;));\n</code></pre>\n"}],"owner":{"account_id":14439526,"reputation":233,"user_id":10430605,"display_name":"Nikhilesh Agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1681995741,"creation_date":1681908890,"question_id":76054781,"body_markdown":"Here is the reference link of code\r\n\r\nhttps://developer.mpesa.vm.co.mz/documentation/#restfull-api\r\n\r\ngenerate the encrypted authorization Bearer from the API Key and the Public Key\r\n\r\n```\r\nimport javax.crypto.Cipher;\r\nimport java.security.KeyFactory;\r\nimport java.security.PublicKey;\r\nimport java.security.spec.X509EncodedKeySpec;\r\n\r\n// Download: https://commons.apache.org/proper/commons-codec/download_codec.cgi\r\nimport org.apache.commons.codec.binary.Base64;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String publicKey = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&quot;;\r\n        String apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\r\n\r\n        System.out.println(getBearerToken(apiKey, publicKey));\r\n    }\r\n\r\n    private static String getBearerToken(String apiKey, String publicKey) {\r\n        try {\r\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            byte[] encodedPublicKey = Base64.decodeBase64(publicKey);\r\n            X509EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(encodedPublicKey);\r\n            PublicKey pk = keyFactory.generatePublic(publicKeySpec);\r\n\r\n            cipher.init(Cipher.ENCRYPT_MODE, pk);\r\n            byte[] encryptedApiKey =  Base64.encodeBase64(cipher.doFinal(apiKey.getBytes(&quot;UTF-8&quot;)));\r\n\r\n            return new String(encryptedApiKey, &quot;UTF-8&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nI have already tried to convert this code to nodejs but it was not working for my end I don&#39;t know where i am making mistake in the code \r\n\r\nSample 1 - \r\n```nodejs\r\nconst ecKeyUtils = require(&#39;eckey-utils&#39;);\r\nconst { generateKeyPair } = require(&#39;crypto&#39;);\r\nconst curveName = &#39;secp256k1&#39;;\r\n\r\nconst publicKeyTemp = &#39;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&#39;;\r\n\r\nconst apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\r\nvar publicKeyTemp_base64 = Buffer.from(publicKeyTemp, &#39;base64&#39;);\r\nvar publicKeyTemp_utf8 = Buffer.from(publicKeyTemp_base64, &quot;utf8&quot;);\r\nconst pems = ecKeyUtils.generateDer({ curveName, publicKey: publicKeyTemp_utf8 });\r\nvar publicKey = pems.publicKey\r\n\r\n//generate key pair\r\ngenerateKeyPair(&#39;rsa&#39;, {\r\n  modulusLength: 4096,\r\n  publicKeyEncoding: {\r\n    type: &#39;pkcs1&#39;,\r\n    format: &#39;pem&#39;\r\n  },\r\n  privateKeyEncoding: {\r\n    type: &#39;pkcs1&#39;,\r\n    format: &#39;pem&#39;,\r\n    cipher: &#39;aes-256-cbc&#39;,\r\n    passphrase: &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;\r\n  }\r\n\r\n  // Handle errors and use the generated key pair\r\n}, (err, publicKey, privateKey) =&gt; {\r\n  publicKey\r\n});\r\n\r\n//Use the function to create and export the public key object\r\nconst publickKeyObject = crypto.createPublicKey(publicKey);\r\npublickKeyObject.export({ format: &#39;pem&#39;, type: &#39;pkcs1&#39; });\r\nconsole.log(publickKeyObject)\r\n\r\n//\r\nconst encryptedData = crypto.publicEncrypt(\r\n  {\r\n    key: publicKey,\r\n    padding: crypto.constants.RSA_PKCS1_OAEP_PADDING,\r\n    oaepHash: &quot;sha256&quot;,\r\n  },\r\n  // We convert the data string to a buffer using `Buffer.from`\r\n  Buffer.from(apiKey)\r\n);\r\nconsole.log(encryptedData)\r\n```\r\n\r\nSample 2 - \r\n```nodejs\r\nconst ecKeyUtils = require(&#39;eckey-utils&#39;);\r\nconst { generateKeyPair } = require(&#39;crypto&#39;);\r\nconst curveName = &#39;secp256k1&#39;;\r\n\r\nconst publicKeyTemp = &#39;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&#39;;\r\n\r\nconst apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\r\nvar publicKeyTemp_base64 = Buffer.from(publicKeyTemp, &#39;base64&#39;);\r\nvar publicKeyTemp_utf8 = Buffer.from(publicKeyTemp_base64, &quot;utf8&quot;);\r\nconst pems = ecKeyUtils.generateDer({curveName, publicKey: publicKeyTemp_utf8});\r\nvar publicKey = pems.publicKey\r\n\r\n\r\nconst encryptedData = crypto.publicEncrypt(\r\n  {\r\n    key: publicKey,\r\n    padding: crypto.constants.RSA_PKCS1_OAEP_PADDING,\r\n    oaepHash: &quot;sha256&quot;,\r\n  },\r\n  // We convert the data string to a buffer using `Buffer.from`\r\n  Buffer.from(apiKey)\r\n);\r\nconsole.log(encryptedData)\r\n```","title":"I have integrate mpesa to nodejs code but RSA Encryption is not working me","body":"<p>Here is the reference link of code</p>\n<p><a href=\"https://developer.mpesa.vm.co.mz/documentation/#restfull-api\" rel=\"nofollow noreferrer\">https://developer.mpesa.vm.co.mz/documentation/#restfull-api</a></p>\n<p>generate the encrypted authorization Bearer from the API Key and the Public Key</p>\n<pre><code>import javax.crypto.Cipher;\nimport java.security.KeyFactory;\nimport java.security.PublicKey;\nimport java.security.spec.X509EncodedKeySpec;\n\n// Download: https://commons.apache.org/proper/commons-codec/download_codec.cgi\nimport org.apache.commons.codec.binary.Base64;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String publicKey = &quot;MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==&quot;;\n        String apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\n\n        System.out.println(getBearerToken(apiKey, publicKey));\n    }\n\n    private static String getBearerToken(String apiKey, String publicKey) {\n        try {\n            KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n            byte[] encodedPublicKey = Base64.decodeBase64(publicKey);\n            X509EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(encodedPublicKey);\n            PublicKey pk = keyFactory.generatePublic(publicKeySpec);\n\n            cipher.init(Cipher.ENCRYPT_MODE, pk);\n            byte[] encryptedApiKey =  Base64.encodeBase64(cipher.doFinal(apiKey.getBytes(&quot;UTF-8&quot;)));\n\n            return new String(encryptedApiKey, &quot;UTF-8&quot;);\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>I have already tried to convert this code to nodejs but it was not working for my end I don't know where i am making mistake in the code</p>\n<p>Sample 1 -</p>\n<pre class=\"lang-js prettyprint-override\"><code>const ecKeyUtils = require('eckey-utils');\nconst { generateKeyPair } = require('crypto');\nconst curveName = 'secp256k1';\n\nconst publicKeyTemp = 'MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==';\n\nconst apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\nvar publicKeyTemp_base64 = Buffer.from(publicKeyTemp, 'base64');\nvar publicKeyTemp_utf8 = Buffer.from(publicKeyTemp_base64, &quot;utf8&quot;);\nconst pems = ecKeyUtils.generateDer({ curveName, publicKey: publicKeyTemp_utf8 });\nvar publicKey = pems.publicKey\n\n//generate key pair\ngenerateKeyPair('rsa', {\n  modulusLength: 4096,\n  publicKeyEncoding: {\n    type: 'pkcs1',\n    format: 'pem'\n  },\n  privateKeyEncoding: {\n    type: 'pkcs1',\n    format: 'pem',\n    cipher: 'aes-256-cbc',\n    passphrase: &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;\n  }\n\n  // Handle errors and use the generated key pair\n}, (err, publicKey, privateKey) =&gt; {\n  publicKey\n});\n\n//Use the function to create and export the public key object\nconst publickKeyObject = crypto.createPublicKey(publicKey);\npublickKeyObject.export({ format: 'pem', type: 'pkcs1' });\nconsole.log(publickKeyObject)\n\n//\nconst encryptedData = crypto.publicEncrypt(\n  {\n    key: publicKey,\n    padding: crypto.constants.RSA_PKCS1_OAEP_PADDING,\n    oaepHash: &quot;sha256&quot;,\n  },\n  // We convert the data string to a buffer using `Buffer.from`\n  Buffer.from(apiKey)\n);\nconsole.log(encryptedData)\n</code></pre>\n<p>Sample 2 -</p>\n<pre class=\"lang-js prettyprint-override\"><code>const ecKeyUtils = require('eckey-utils');\nconst { generateKeyPair } = require('crypto');\nconst curveName = 'secp256k1';\n\nconst publicKeyTemp = 'MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAszE+xAKVB9HRarr6/uHYYAX/RdD6KGVIGlHv98QKDIH26ldYJQ7zOuo9qEscO0M1psSPe/67AWYLEXh13fbtcSKGP6WFjT9OY6uV5ykw9508x1sW8UQ4ZhTRNrlNsKizE/glkBfcF2lwDXJGQennwgickWz7VN+AP/1c4DnMDfcl8iVIDlsbudFoXQh5aLCYl+XOMt/vls5a479PLMkPcZPOgMTCYTCE6ReX3KD2aGQ62uiu2T4mK+7Z6yvKvhPRF2fTKI+zOFWly//IYlyB+sde42cIU/588msUmgr3G9FYyN2vKPVy/MhIZpiFyVc3vuAAJ/mzue5p/G329wzgcz0ztyluMNAGUL9A4ZiFcKOebT6y6IgIMBeEkTwyhsxRHMFXlQRgTAufaO5hiR/usBMkoazJ6XrGJB8UadjH2m2+kdJIieI4FbjzCiDWKmuM58rllNWdBZK0XVHNsxmBy7yhYw3aAIhFS0fNEuSmKTfFpJFMBzIQYbdTgI28rZPAxVEDdRaypUqBMCq4OstCxgGvR3Dy1eJDjlkuiWK9Y9RGKF8HOI5a4ruHyLheddZxsUihziPF9jKTknsTZtF99eKTIjhV7qfTzxXq+8GGoCEABIyu26LZuL8X12bFqtwLAcjfjoB7HlRHtPszv6PJ0482ofWmeH0BE8om7VrSGxsCAwEAAQ==';\n\nconst apiKey = &quot;aaaab09uz9f3asdcjyk7els777ihmwv8&quot;;\nvar publicKeyTemp_base64 = Buffer.from(publicKeyTemp, 'base64');\nvar publicKeyTemp_utf8 = Buffer.from(publicKeyTemp_base64, &quot;utf8&quot;);\nconst pems = ecKeyUtils.generateDer({curveName, publicKey: publicKeyTemp_utf8});\nvar publicKey = pems.publicKey\n\n\nconst encryptedData = crypto.publicEncrypt(\n  {\n    key: publicKey,\n    padding: crypto.constants.RSA_PKCS1_OAEP_PADDING,\n    oaepHash: &quot;sha256&quot;,\n  },\n  // We convert the data string to a buffer using `Buffer.from`\n  Buffer.from(apiKey)\n);\nconsole.log(encryptedData)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1247432975,"creation_date":1247432975,"answer_id":1116925,"question_id":1116891,"body_markdown":"`denemeJasper.class.`[`getResource`][1]`(&quot;reportDeneme.jasper&quot;).`[`getPath`][2]`()`\r\n\r\nIf you need the path for reading the file&#39;s contents, it would be simpler (and safer) to use `getResourceAsStream()` and avoid having to deal with paths entirely.\r\n\r\nBTW, your class `denemeJasper` violates ubiquitous Java naming standards; as a class, its name should start with an uppercase letter.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String)\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/net/URL.html#getPath()","title":"How can I get file path in some Java package?","body":"<p><code>denemeJasper.class.</code><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"noreferrer\"><code>getResource</code></a><code>(\"reportDeneme.jasper\").</code><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/net/URL.html#getPath()\" rel=\"noreferrer\"><code>getPath</code></a><code>()</code></p>\n\n<p>If you need the path for reading the file's contents, it would be simpler (and safer) to use <code>getResourceAsStream()</code> and avoid having to deal with paths entirely.</p>\n\n<p>BTW, your class <code>denemeJasper</code> violates ubiquitous Java naming standards; as a class, its name should start with an uppercase letter.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1247434198,"creation_date":1247434198,"answer_id":1116970,"question_id":1116891,"body_markdown":"The might be better off with a relative path, but the absolute path would be:\r\n\r\n    String fullpath = &quot;/jasper/deneme/reportDeneme.jasper&quot;;\r\n\r\n`&#39;/&#39;` replaces `&#39;.&#39;` in the package name whether the resource is located in a file, a jar or by any other means.","title":"How can I get file path in some Java package?","body":"<p>The might be better off with a relative path, but the absolute path would be:</p>\n\n<pre><code>String fullpath = \"/jasper/deneme/reportDeneme.jasper\";\n</code></pre>\n\n<p><code>'/'</code> replaces <code>'.'</code> in the package name whether the resource is located in a file, a jar or by any other means.</p>\n"}],"owner":{"account_id":21086,"reputation":1527,"user_id":50985,"accept_rate":87,"display_name":"İbrahim Akg&#252;n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1116925,"answer_count":2,"score":1,"last_activity_date":1681995558,"creation_date":1247431928,"question_id":1116891,"body_markdown":"I am new at Java. I got a file in my jasper.deneme package. I want to give a full path for it. As can be seen in the picture I write it like \r\n\r\n    string fullpath = &quot;/jasper.deneme/reportDeneme.jasper&quot;;\r\n\r\nbut it does not work.\r\n\r\nSo how can I get this file&#39;s path? \r\n\r\n![Java Package][1]\r\n\r\n  [1]: http://img250.yukle.tc/images/3464package.jpg","title":"How can I get file path in some Java package?","body":"<p>I am new at Java. I got a file in my jasper.deneme package. I want to give a full path for it. As can be seen in the picture I write it like</p>\n<pre><code>string fullpath = &quot;/jasper.deneme/reportDeneme.jasper&quot;;\n</code></pre>\n<p>but it does not work.</p>\n<p>So how can I get this file's path?</p>\n<p><a href=\"http://img250.yukle.tc/images/3464package.jpg\" rel=\"nofollow noreferrer\">Java Package http://img250.yukle.tc/images/3464package.jpg</a></p>\n"},{"tags":["java","gradle","gradle-plugin"],"owner":{"account_id":10456224,"reputation":35,"user_id":7708354,"display_name":"Cyril Dragomyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681994939,"creation_date":1681994939,"question_id":76064250,"body_markdown":"I&#39;m using Gradle v7.4 and `distribution` plugin and code like following\r\n\r\n```\r\n// All these code located in module AB\r\nabstract class AbstractClass {\r\n  // common code that is using by child-classes\r\n}\r\n\r\nclass ClassA extends AbstractClass {\r\n  // logic #1 uses code from moduleA\r\n}\r\n\r\nclass ClassB extends AbstractClass {\r\n  // logic #2 uses code from moduleB\r\n}\r\n```\r\n\r\n`build.gradle` in module AB looks following\r\n\r\n```\r\nplugins {\r\n  ...\r\n  id &#39;distribution&#39;\r\n}\r\n\r\n...\r\n\r\ndistributions {\r\n\r\n  zipFileA {\r\n    distributionBaseName = &quot;fileA&quot;\r\n    contents {\r\n      with project.distributions.main.getContents()\r\n      exclude {\r\n        it.name.startsWith(&quot;neccessary-modules&quot;) &amp;&amp; !it.name.contains(&quot;moduleA&quot;)\r\n      }\r\n  }\r\n\r\n  zipFileB {\r\n    distributionBaseName = &quot;fileB&quot;\r\n    contents {\r\n      with project.distributions.main.getContents()\r\n      exclude {\r\n        it.name.startsWith(&quot;neccessary-modules&quot;) &amp;&amp; !it.name.contains(&quot;moduleB&quot;)\r\n      }\r\n  }\r\n}\r\n```\r\n\r\nThe main idea is to get in result ZIP files with all needed classes. File `fileA.zip` should not have any code related to B; the same for `fileB.zip` - should not contain code related to A.\r\n\r\nIs it possible to achieve that by `distribution` Gradle plugin?","title":"How-to exclude classes from classpath using distribution gradle plugin","body":"<p>I'm using Gradle v7.4 and <code>distribution</code> plugin and code like following</p>\n<pre><code>// All these code located in module AB\nabstract class AbstractClass {\n  // common code that is using by child-classes\n}\n\nclass ClassA extends AbstractClass {\n  // logic #1 uses code from moduleA\n}\n\nclass ClassB extends AbstractClass {\n  // logic #2 uses code from moduleB\n}\n</code></pre>\n<p><code>build.gradle</code> in module AB looks following</p>\n<pre><code>plugins {\n  ...\n  id 'distribution'\n}\n\n...\n\ndistributions {\n\n  zipFileA {\n    distributionBaseName = &quot;fileA&quot;\n    contents {\n      with project.distributions.main.getContents()\n      exclude {\n        it.name.startsWith(&quot;neccessary-modules&quot;) &amp;&amp; !it.name.contains(&quot;moduleA&quot;)\n      }\n  }\n\n  zipFileB {\n    distributionBaseName = &quot;fileB&quot;\n    contents {\n      with project.distributions.main.getContents()\n      exclude {\n        it.name.startsWith(&quot;neccessary-modules&quot;) &amp;&amp; !it.name.contains(&quot;moduleB&quot;)\n      }\n  }\n}\n</code></pre>\n<p>The main idea is to get in result ZIP files with all needed classes. File <code>fileA.zip</code> should not have any code related to B; the same for <code>fileB.zip</code> - should not contain code related to A.</p>\n<p>Is it possible to achieve that by <code>distribution</code> Gradle plugin?</p>\n"},{"tags":["java","design-patterns","optimization"],"comments":[{"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"score":0,"creation_date":1356602681,"post_id":14052772,"comment_id":19418982,"body_markdown":"why do you think returning null is bad ?? any specific reason ?","body":"why do you think returning null is bad ?? any specific reason ?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1356602727,"post_id":14052772,"comment_id":19419008,"body_markdown":"One possibility is, you can throw an `IllegalArgumentException`. Or create your own CustomException, and use it. But, trust me, that will take more of your time than returning null. Now why you don&#39;t want to return null?","body":"One possibility is, you can throw an <code>IllegalArgumentException</code>. Or create your own CustomException, and use it. But, trust me, that will take more of your time than returning null. Now why you don&#39;t want to return null?"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356602762,"post_id":14052772,"comment_id":19419020,"body_markdown":"@GanGnaMStYleOverFlowErroR I will do a null check everytime I have to call it so prone to errors, but main reason is it just &quot;feels&quot; wrong in this case. I might be wrong","body":"@GanGnaMStYleOverFlowErroR I will do a null check everytime I have to call it so prone to errors, but main reason is it just &quot;feels&quot; wrong in this case. I might be wrong"},{"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"score":0,"creation_date":1356602771,"post_id":14052772,"comment_id":19419024,"body_markdown":"http://en.wikipedia.org/wiki/Null_Object_pattern","body":"<a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Null_Object_pattern</a>"}],"answers":[{"tags":[],"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681994517,"creation_date":1356602755,"answer_id":14052820,"question_id":14052772,"body_markdown":"Try Guava&#39;s Optional.  See [this article][1] on avoiding null.\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained","title":"A suitable pattern instead of returning nulls","body":"<p>Try Guava's Optional.  See <a href=\"http://code.google.com/p/guava-libraries/wiki/UsingAndAvoidingNullExplained\" rel=\"nofollow noreferrer\">this article</a> on avoiding null.</p>\n"},{"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356602829,"creation_date":1356602829,"answer_id":14052837,"question_id":14052772,"body_markdown":"Use [Google Guava Optional][1].\r\n\r\nThis will help.\r\n\r\n&gt; Many of the cases where programmers use null is to indicate some sort\r\n&gt; of absence: perhaps where there might have been a value, there is\r\n&gt; none, or one could not be found. For example, Map.get returns null\r\n&gt; when no value is found for a key.\r\n&gt; \r\n&gt; Optional&lt;T&gt; is a way of replacing a nullable T reference with a\r\n&gt; non-null value. An Optional may either contain a non-null T reference\r\n&gt; (in which case we say the reference is &quot;present&quot;), or it may contain\r\n&gt; nothing (in which case we say the reference is &quot;absent&quot;). It is never\r\n&gt; said to &quot;contain null.&quot;\r\n\r\n    Optional&lt;Integer&gt; possible = Optional.of(5);\r\n    possible.isPresent(); // returns true\r\n    possible.get(); // returns 5\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html","title":"A suitable pattern instead of returning nulls","body":"<p>Use <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html\" rel=\"nofollow\">Google Guava Optional</a>.</p>\n\n<p>This will help.</p>\n\n<blockquote>\n  <p>Many of the cases where programmers use null is to indicate some sort\n  of absence: perhaps where there might have been a value, there is\n  none, or one could not be found. For example, Map.get returns null\n  when no value is found for a key.</p>\n  \n  <p>Optional is a way of replacing a nullable T reference with a\n  non-null value. An Optional may either contain a non-null T reference\n  (in which case we say the reference is \"present\"), or it may contain\n  nothing (in which case we say the reference is \"absent\"). It is never\n  said to \"contain null.\"</p>\n</blockquote>\n\n<pre><code>Optional&lt;Integer&gt; possible = Optional.of(5);\npossible.isPresent(); // returns true\npossible.get(); // returns 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1356628380,"creation_date":1356602833,"answer_id":14052838,"question_id":14052772,"body_markdown":"I think you have 3 main options:\r\n\r\n* If null is a valid state I see no problem in returning null\r\n* If null is an invalid state you should throw an exception\r\n* Or make use of the [Null object pattern][1]\r\n\r\nIf you are using googles [Guava libraries][2] you can also use the [Optional][3] class.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Null_Object_pattern\r\n  [2]: http://code.google.com/p/guava-libraries/\r\n  [3]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html","title":"A suitable pattern instead of returning nulls","body":"<p>I think you have 3 main options:</p>\n\n<ul>\n<li>If null is a valid state I see no problem in returning null</li>\n<li>If null is an invalid state you should throw an exception</li>\n<li>Or make use of the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow\">Null object pattern</a></li>\n</ul>\n\n<p>If you are using googles <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">Guava libraries</a> you can also use the <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html\" rel=\"nofollow\">Optional</a> class.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356602884,"creation_date":1356602884,"answer_id":14052851,"question_id":14052772,"body_markdown":"You could try;\r\n\r\n    CustomerDetails details = setDetailsToEmpty();\r\n\r\nor some equivalent.\r\n\r\nYou still have to check, either for null or empty customer details.","title":"A suitable pattern instead of returning nulls","body":"<p>You could try;</p>\n\n<pre><code>CustomerDetails details = setDetailsToEmpty();\n</code></pre>\n\n<p>or some equivalent.</p>\n\n<p>You still have to check, either for null or empty customer details.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1356603156,"creation_date":1356603156,"answer_id":14052918,"question_id":14052772,"body_markdown":"If you really don&#39;t want null create a special CustomerDetails object\r\n\r\n    ...\r\n            public static final CustomerDetails EMPTY_CUSTOMER_DETAILS = new CustomerDetails();\r\n    ...    \r\n            public CustomerDetails getCustomerDetails(){\r\n                ...\r\n                if (details!=null){\r\n                    return details;\r\n                }\r\n                ...\r\n                return EMPTY_CUSTOMER_DETAILS;\r\n\r\n\r\n\r\n","title":"A suitable pattern instead of returning nulls","body":"<p>If you really don't want null create a special CustomerDetails object</p>\n\n<pre><code>...\n        public static final CustomerDetails EMPTY_CUSTOMER_DETAILS = new CustomerDetails();\n...    \n        public CustomerDetails getCustomerDetails(){\n            ...\n            if (details!=null){\n                return details;\n            }\n            ...\n            return EMPTY_CUSTOMER_DETAILS;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356603650,"post_id":14052954,"comment_id":19419367,"body_markdown":"I think there is a small mistake, you return details instaed of a Feedback object after null check","body":"I think there is a small mistake, you return details instaed of a Feedback object after null check"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356603979,"post_id":14052954,"comment_id":19419504,"body_markdown":"and could you compare this approach by just throwing a custom exception? that somehow looks simpler to me","body":"and could you compare this approach by just throwing a custom exception? that somehow looks simpler to me"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1356604502,"post_id":14052954,"comment_id":19419701,"body_markdown":"@Spring By throwing an exception, the caller can only know the reason of the exception as a `String`. But with a feedback object, the caller can know the exact reason by an `int` and handle it in a better way (e.g in switch block) than parsing the String to know the reason. However, both mechanisms are correct and you can choose the one that satisfied your need.","body":"@Spring By throwing an exception, the caller can only know the reason of the exception as a <code>String</code>. But with a feedback object, the caller can know the exact reason by an <code>int</code> and handle it in a better way (e.g in switch block) than parsing the String to know the reason. However, both mechanisms are correct and you can choose the one that satisfied your need."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1356604777,"post_id":14052954,"comment_id":19419813,"body_markdown":"@Spring In case you throw different exceptions instead of throwing the same exception everytime, then the caller can know the exact reason by having multiple catch statements.","body":"@Spring In case you throw different exceptions instead of throwing the same exception everytime, then the caller can know the exact reason by having multiple catch statements."},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356604896,"post_id":14052954,"comment_id":19419864,"body_markdown":"actually I will use this for Rest jersey, depending on what went wrong or right I want to return the correct http code and throw necessary exception, bu wanna decouple this class from rest calls","body":"actually I will use this for Rest jersey, depending on what went wrong or right I want to return the correct http code and throw necessary exception, bu wanna decouple this class from rest calls"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1356603731,"creation_date":1356603311,"answer_id":14052954,"question_id":14052772,"body_markdown":"If you mean that the `null` does not explain its state, you can wrapper `CustomerDetails` with another class that can give more details. For example:\r\n\r\n    class Feedback()\r\n    {\r\n        private CustomerDetails result;\r\n        private int status;\r\n        \r\n        public static final int STATUS_OK = 0;\r\n        public static final int STATUS_NULL = 1;\r\n        public static final int STATUS_NO_CUSTOMER = 2;\r\n        public static final int STATUS_BAD_CONDITION = 3;\r\n\r\n        public Feedback(CustomerDetails result, int status)\r\n        {\r\n            this.result = result;\r\n            this.status= status;\r\n        }\r\n        \r\n        public CustomerDetails getResult(){return result;}\r\n        public int getStatus(){return status;}\r\n    }\r\n\r\nand change your method with:\r\n\r\n    Public Feedback getCustomerDetails()\r\n    {\r\n       if(noCustomer)\r\n       {\r\n           ..log..etc..\r\n           return new Feedback(null, Feeback.STATUS_NO_CUSTOMER);\r\n       }\r\n    \r\n       if(some other bad weird condition)\r\n       {\r\n           ..log..etc..\r\n           return new Feedback(null, Feeback.STATUS_BAD_CONDITION);\r\n       }\r\n    \r\n       CustomerDetails details = getCustomerDetailsFromSomewhere();\r\n    \r\n       if(details != null)\r\n       {\r\n            return new Feedback(details, Feeback.STATUS_OK);\r\n       }\r\n       else\r\n       {\r\n           ..log..etc..\r\n           return new Feedback(null, Feeback.STATUS_NULL);\r\n       }\r\n    }\r\n\r\nThen you can get the status by `feedback.getStatus()`.","title":"A suitable pattern instead of returning nulls","body":"<p>If you mean that the <code>null</code> does not explain its state, you can wrapper <code>CustomerDetails</code> with another class that can give more details. For example:</p>\n\n<pre><code>class Feedback()\n{\n    private CustomerDetails result;\n    private int status;\n\n    public static final int STATUS_OK = 0;\n    public static final int STATUS_NULL = 1;\n    public static final int STATUS_NO_CUSTOMER = 2;\n    public static final int STATUS_BAD_CONDITION = 3;\n\n    public Feedback(CustomerDetails result, int status)\n    {\n        this.result = result;\n        this.status= status;\n    }\n\n    public CustomerDetails getResult(){return result;}\n    public int getStatus(){return status;}\n}\n</code></pre>\n\n<p>and change your method with:</p>\n\n<pre><code>Public Feedback getCustomerDetails()\n{\n   if(noCustomer)\n   {\n       ..log..etc..\n       return new Feedback(null, Feeback.STATUS_NO_CUSTOMER);\n   }\n\n   if(some other bad weird condition)\n   {\n       ..log..etc..\n       return new Feedback(null, Feeback.STATUS_BAD_CONDITION);\n   }\n\n   CustomerDetails details = getCustomerDetailsFromSomewhere();\n\n   if(details != null)\n   {\n        return new Feedback(details, Feeback.STATUS_OK);\n   }\n   else\n   {\n       ..log..etc..\n       return new Feedback(null, Feeback.STATUS_NULL);\n   }\n}\n</code></pre>\n\n<p>Then you can get the status by <code>feedback.getStatus()</code>.</p>\n"},{"comments":[{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356603887,"post_id":14053037,"comment_id":19419462,"body_markdown":"tnx, could you tell what is the pros and cons of this approach instead of using null object design pattern or use a Feedback wrapper class","body":"tnx, could you tell what is the pros and cons of this approach instead of using null object design pattern or use a Feedback wrapper class"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1356604652,"post_id":14053037,"comment_id":19419759,"body_markdown":"@Spring: exceptions are used to signal exceptional, non expected situations. If having no customer is a normal situation, returning null or an Optional is fine. On the contrary, if having no customer, or having this &quot;bad weird&quot; condition, is not expected, then an exception could be thrown. If you wrote the contract of the method, and describe what &quot;noCustomer&quot; and &quot;bad weird condition&quot; actually are, we could give you a better advice.","body":"@Spring: exceptions are used to signal exceptional, non expected situations. If having no customer is a normal situation, returning null or an Optional is fine. On the contrary, if having no customer, or having this &quot;bad weird&quot; condition, is not expected, then an exception could be thrown. If you wrote the contract of the method, and describe what &quot;noCustomer&quot; and &quot;bad weird condition&quot; actually are, we could give you a better advice."},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":1,"creation_date":1356608851,"post_id":14053037,"comment_id":19421365,"body_markdown":"@JB Nizet those are user is loggedin in  and is user auhorized  checks, and I need to return a proper http code to the caller class cause it will be used by Jersey rest service and there are many other similar of these methods and I want to decouple this service methods from all rest related classes,","body":"@JB Nizet those are user is loggedin in  and is user auhorized  checks, and I need to return a proper http code to the caller class cause it will be used by Jersey rest service and there are many other similar of these methods and I want to decouple this service methods from all rest related classes,"},{"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"score":0,"creation_date":1356608979,"post_id":14053037,"comment_id":19421410,"body_markdown":"@JB Nizet in this case writing a wrapper feedback class(as Eng.Fouad sugegsted) which handles these situations by returning an appropriate web exception I think is the way to go","body":"@JB Nizet in this case writing a wrapper feedback class(as Eng.Fouad sugegsted) which handles these situations by returning an appropriate web exception I think is the way to go"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356603697,"creation_date":1356603697,"answer_id":14053037,"question_id":14052772,"body_markdown":"The more natural way in Java is to throw an exception on an error condition.\r\n\r\n    public CustomerDetails getCustomerDetails(){\r\n       if(noCustomer){    \r\n         ..log..etc..\r\n         throw new NoSuchCustomer(customerName);\r\n       }\r\n    \r\n       if(some other bad weird condition){    \r\n         ..log..etc..\r\n         throw new IllegalStateException(&quot;some other bad weird condition occurred&quot;);\r\n       }\r\n    \r\n       CustomerDetails details= getCustomerDetailsFromSomewhere();\r\n    \r\n       if (details==null)\r\n          throw new IllegalStateException(&quot;Failed to get customer details for &quot;+ customerName);\r\n\r\n       return details;\r\n    }\r\n\r\nThe method `getCustomerDetailsFromSomewhere()` could throw an exception instead of returning null.","title":"A suitable pattern instead of returning nulls","body":"<p>The more natural way in Java is to throw an exception on an error condition.</p>\n\n<pre><code>public CustomerDetails getCustomerDetails(){\n   if(noCustomer){    \n     ..log..etc..\n     throw new NoSuchCustomer(customerName);\n   }\n\n   if(some other bad weird condition){    \n     ..log..etc..\n     throw new IllegalStateException(\"some other bad weird condition occurred\");\n   }\n\n   CustomerDetails details= getCustomerDetailsFromSomewhere();\n\n   if (details==null)\n      throw new IllegalStateException(\"Failed to get customer details for \"+ customerName);\n\n   return details;\n}\n</code></pre>\n\n<p>The method <code>getCustomerDetailsFromSomewhere()</code> could throw an exception instead of returning null.</p>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":14052954,"answer_count":7,"score":7,"last_activity_date":1681994517,"creation_date":1356602547,"question_id":14052772,"body_markdown":"What would be a good pattern to use here?\r\n\r\nI don&#180;t want to return nulls, that just does not feel right.\r\n\r\n**Another thing is, what if I want to return the reason that causes it to null?  If caller knows why it is null, it can do some extra things so I want caller knows it and acts that way** \r\n\r\n    \r\n    Public CustomerDetails getCustomerDetails(){\r\n       if(noCustomer){    \r\n         ..log..etc..\r\n         return null;\r\n       }\r\n     \r\n       if(some other bad weird condition){    \r\n         ..log..etc..\r\n         return null;\r\n       }\r\n\r\n       CustomerDetails details= getCustomerDetailsFromSomewhere();\r\n\r\n       if (details!=null){\r\n          return details;\r\n       }\r\n       else {\r\n         ..log..etc..\r\n         return null;\r\n       }\r\n\r\n    }","title":"A suitable pattern instead of returning nulls","body":"<p>What would be a good pattern to use here?</p>\n\n<p>I don´t want to return nulls, that just does not feel right.</p>\n\n<p><strong>Another thing is, what if I want to return the reason that causes it to null?  If caller knows why it is null, it can do some extra things so I want caller knows it and acts that way</strong> </p>\n\n<pre><code>Public CustomerDetails getCustomerDetails(){\n   if(noCustomer){    \n     ..log..etc..\n     return null;\n   }\n\n   if(some other bad weird condition){    \n     ..log..etc..\n     return null;\n   }\n\n   CustomerDetails details= getCustomerDetailsFromSomewhere();\n\n   if (details!=null){\n      return details;\n   }\n   else {\n     ..log..etc..\n     return null;\n   }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","jooq"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1681956868,"post_id":76060031,"comment_id":134141528,"body_markdown":"What is the output you actually want here?","body":"What is the output you actually want here?"},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1681957404,"post_id":76060031,"comment_id":134141578,"body_markdown":"A java `List&lt;Document&gt;` containing the following elements:\n\n`Document[1, &quot;A Document]`, `Document[2, &quot;A Document (1)&quot;]`, `Document[3, &quot;A Document (2)&quot;]`","body":"A java <code>List&lt;Document&gt;</code> containing the following elements:  <code>Document[1, &quot;A Document]</code>, <code>Document[2, &quot;A Document (1)&quot;]</code>, <code>Document[3, &quot;A Document (2)&quot;]</code>"}],"answers":[{"comments":[{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1682016729,"post_id":76064066,"comment_id":134153651,"body_markdown":"the solution you posted works, except that it doesn&#39;t escape special characters. Is there a way to accomplish the same thing that escapes any special characters that may occur in the document name?","body":"the solution you posted works, except that it doesn&#39;t escape special characters. Is there a way to accomplish the same thing that escapes any special characters that may occur in the document name?"},{"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"score":0,"creation_date":1682038441,"post_id":76064066,"comment_id":134156849,"body_markdown":"Found a solution. I just added `\\\\Q` and `\\\\E` before and after the injected string, and MySQL&#39;s regex interprets the entire sequence as string literals.","body":"Found a solution. I just added <code>\\\\Q</code> and <code>\\\\E</code> before and after the injected string, and MySQL&#39;s regex interprets the entire sequence as string literals."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682080544,"post_id":76064066,"comment_id":134163505,"body_markdown":"@teuber789: That&#39;s an interesting detail, indeed. Perhaps almost worth an independent question only about that? Surely, other jOOQ users might have the same problem. You could ask *and* answer your own question, as is encouraged by Stack Overflow: https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/","body":"@teuber789: That&#39;s an interesting detail, indeed. Perhaps almost worth an independent question only about that? Surely, other jOOQ users might have the same problem. You could ask <i>and</i> answer your own question, as is encouraged by Stack Overflow: <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">stackoverflow.blog/2011/07/01/&hellip;</a>"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681993789,"creation_date":1681993789,"answer_id":76064066,"question_id":76060031,"body_markdown":"### Why your plain SQL template didn&#39;t work\r\n\r\nA jOOQ [plain SQL template][1] will not make any substitutions in string literals or comments, and other things. As per the documentation:\r\n\r\n&gt; ## Parsing rules\r\n&gt; When processing these plain SQL templates, a mini parser is run that handles things like\r\n&gt; - String literals\r\n&gt; - Quoted names\r\n&gt; - Comments\r\n&gt; - JDBC escape sequences\r\n&gt; - Indexed (?) or named (:identifier) bind variable placeholders\r\n&gt;\r\n&gt; The above are recognised by the templating engine and contents inside of them are ignored when replacing numbered placeholders and/or bind variables.\r\n\r\nYour template has to be written like this:\r\n\r\n```java\r\nDSL.field(\r\n    &quot;{0} regexp concat(&#39;(&#39;, {1}, &#39;\\\\\\\\([:digit:]+\\\\\\\\))&#39;&quot;,\r\n    Boolean.class,\r\n    DOCUMENT.NAME,\r\n    docName\r\n)\r\n```\r\n\r\nNote the number of `\\\\` needed depends on the `NO_BACKSLASH_ESCAPES` setting, which you can also configure in jOOQ. jOOQ handles this automatically if you&#39;re not using a plain SQL template.\r\n\r\n### Using jOOQ API instead\r\n\r\nBut why bother using a template? jOOQ has native support for this operator using [`Field.likeRegex()`][2]:\r\n\r\n```java\r\nDOCUMENT.NAME.likeRegex(concat(val(&quot;(&quot;), val(docName), val(&quot;\\\\([:digit:]+\\\\))&quot;)))\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Field.html#likeRegex(org.jooq.Field)","title":"jooq binding within regexp pattern (MySQL)","body":"<h3>Why your plain SQL template didn't work</h3>\n<p>A jOOQ <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL template</a> will not make any substitutions in string literals or comments, and other things. As per the documentation:</p>\n<blockquote>\n<h2>Parsing rules</h2>\n<p>When processing these plain SQL templates, a mini parser is run that handles things like</p>\n<ul>\n<li>String literals</li>\n<li>Quoted names</li>\n<li>Comments</li>\n<li>JDBC escape sequences</li>\n<li>Indexed (?) or named (:identifier) bind variable placeholders</li>\n</ul>\n<p>The above are recognised by the templating engine and contents inside of them are ignored when replacing numbered placeholders and/or bind variables.</p>\n</blockquote>\n<p>Your template has to be written like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSL.field(\n    &quot;{0} regexp concat('(', {1}, '\\\\\\\\([:digit:]+\\\\\\\\))'&quot;,\n    Boolean.class,\n    DOCUMENT.NAME,\n    docName\n)\n</code></pre>\n<p>Note the number of <code>\\\\</code> needed depends on the <code>NO_BACKSLASH_ESCAPES</code> setting, which you can also configure in jOOQ. jOOQ handles this automatically if you're not using a plain SQL template.</p>\n<h3>Using jOOQ API instead</h3>\n<p>But why bother using a template? jOOQ has native support for this operator using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Field.html#likeRegex(org.jooq.Field)\" rel=\"nofollow noreferrer\"><code>Field.likeRegex()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DOCUMENT.NAME.likeRegex(concat(val(&quot;(&quot;), val(docName), val(&quot;\\\\([:digit:]+\\\\))&quot;)))\n</code></pre>\n"}],"owner":{"account_id":4095273,"reputation":1557,"user_id":3362244,"accept_rate":60,"display_name":"teuber789"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76064066,"answer_count":1,"score":1,"last_activity_date":1681993789,"creation_date":1681956607,"question_id":76060031,"body_markdown":"I have a small Java service connected to a MySQL DB which stores documents. Each document has a name, and when a document is duplicated, the new document gets the name `&lt;previous name&gt; (#)`. The documents table looks something like this:\r\n\r\n| id | name |\r\n| --- | --- |\r\n| 1 | A Document |\r\n| 2 | A Document (1) |\r\n| 3 | A Document (2) |\r\n| 4 | Another Document |\r\n| 5 | Another Document (1) |\r\n\r\nI have a working MySQL query which selects a document and all of its duplicates, which I am attempting to translate into jooq.\r\n\r\n```sql\r\nselect * from documents\r\nwhere name regexp &#39;(TITLE_GOES_HERE|TITLE_GOES_HERE \\\\([:digit:]+\\\\))$&#39;;\r\n\r\n-- For instance, to select rows 1, 2, and 3 of the above table,\r\n-- I would replace `TITLE_GOES_HERE` with `A Document`, resulting\r\n-- in the following MySQL query:\r\nselect * from documents\r\nwhere name regexp &#39;(A Document|A Document \\\\([:digit:]+\\\\))$&#39;;\r\n```\r\n\r\n&gt; **Note:** If you would like a working regex tester, you can find it [here](https://regex101.com/r/EqhhEe/1). It&#39;s slightly different than the MySQL version, but it suffices for demonstration purposes.\r\n\r\nIn order for this query to work programmatically, I have to replace &quot;TITLE_GOES_HERE&quot; in the regular expression with the name of the document for which I want to find. However, that throws an unexpected error in jooq.\r\n\r\n```java\r\npublic List&lt;Document&gt; getOriginalAndDuplicates(String docName) {\r\n  SelectQuery&lt;DocumentRecord&gt; select = getDSLContext().selectQuery(DOCUMENT);\r\n\r\n  select.addCondition(\r\n    DSL.condition(\r\n      DSL.field(\r\n        // Binding for both the document AND the name\r\n        // Notice that the name binding is inside the regular expression\r\n        &quot;{0} regexp &#39;({1} \\\\\\\\([:digit:]+\\\\\\\\))&#39;&quot;,\r\n        Boolean.class,\r\n        DOCUMENT.NAME,\r\n        docName)));\r\n\r\n  Result&lt;DocumentRecord&gt; records = select.fetch();\r\n  List&lt;Document&gt; docs = records.stream().map(documentConverter::convertTo).toList();\r\n  return docs;\r\n}\r\n\r\n```\r\n\r\nWhen I run this, I get the following error:\r\n\r\n```\r\nCaused by: org.jooq.exception.DataAccessException: SQL [select document.id, document.name from document where (document.name regexp &#39;({1} \\\\([:digit:]+\\\\))&#39;)]; Syntax error in regular expression on line 1, character 2.\r\n\tat org.jooq_3.14.16.MYSQL.debug(Unknown Source)\r\n\tat org.jooq.impl.Tools.translate(Tools.java:2903)\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:389)\r\n\t... 27 common frames omitted\r\nCaused by: java.sql.SQLException: Syntax error in regular expression on line 1, character 2.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n\tat com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:555)\r\n\tat com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:339)\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)\r\n\tat org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:214)\r\n\tat org.jooq.impl.Tools.executeStatementAndGetFirstResultSet(Tools.java:4217)\r\n\tat org.jooq.impl.AbstractResultQuery.execute(AbstractResultQuery.java:283)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:375)\r\n\t... 27 common frames omitted\r\n```\r\n\r\nThe error is occurring because the first binding (`{1}`) is not being replaced with the document name.\r\n\r\nHas anyone ever encountered anything like this?\r\n\r\n&gt; **Additional info:** When I replace the `{1}` with a hardcoded value, such as `A Document`, the query succeeds without any problems. It only causes problems when I try to bind the `{1}` to a variable value.\r\n\r\n","title":"jooq binding within regexp pattern (MySQL)","body":"<p>I have a small Java service connected to a MySQL DB which stores documents. Each document has a name, and when a document is duplicated, the new document gets the name <code>&lt;previous name&gt; (#)</code>. The documents table looks something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>A Document</td>\n</tr>\n<tr>\n<td>2</td>\n<td>A Document (1)</td>\n</tr>\n<tr>\n<td>3</td>\n<td>A Document (2)</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Another Document</td>\n</tr>\n<tr>\n<td>5</td>\n<td>Another Document (1)</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I have a working MySQL query which selects a document and all of its duplicates, which I am attempting to translate into jooq.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from documents\nwhere name regexp '(TITLE_GOES_HERE|TITLE_GOES_HERE \\\\([:digit:]+\\\\))$';\n\n-- For instance, to select rows 1, 2, and 3 of the above table,\n-- I would replace `TITLE_GOES_HERE` with `A Document`, resulting\n-- in the following MySQL query:\nselect * from documents\nwhere name regexp '(A Document|A Document \\\\([:digit:]+\\\\))$';\n</code></pre>\n<blockquote>\n<p><strong>Note:</strong> If you would like a working regex tester, you can find it <a href=\"https://regex101.com/r/EqhhEe/1\" rel=\"nofollow noreferrer\">here</a>. It's slightly different than the MySQL version, but it suffices for demonstration purposes.</p>\n</blockquote>\n<p>In order for this query to work programmatically, I have to replace &quot;TITLE_GOES_HERE&quot; in the regular expression with the name of the document for which I want to find. However, that throws an unexpected error in jooq.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Document&gt; getOriginalAndDuplicates(String docName) {\n  SelectQuery&lt;DocumentRecord&gt; select = getDSLContext().selectQuery(DOCUMENT);\n\n  select.addCondition(\n    DSL.condition(\n      DSL.field(\n        // Binding for both the document AND the name\n        // Notice that the name binding is inside the regular expression\n        &quot;{0} regexp '({1} \\\\\\\\([:digit:]+\\\\\\\\))'&quot;,\n        Boolean.class,\n        DOCUMENT.NAME,\n        docName)));\n\n  Result&lt;DocumentRecord&gt; records = select.fetch();\n  List&lt;Document&gt; docs = records.stream().map(documentConverter::convertTo).toList();\n  return docs;\n}\n\n</code></pre>\n<p>When I run this, I get the following error:</p>\n<pre><code>Caused by: org.jooq.exception.DataAccessException: SQL [select document.id, document.name from document where (document.name regexp '({1} \\\\([:digit:]+\\\\))')]; Syntax error in regular expression on line 1, character 2.\n    at org.jooq_3.14.16.MYSQL.debug(Unknown Source)\n    at org.jooq.impl.Tools.translate(Tools.java:2903)\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:389)\n    ... 27 common frames omitted\nCaused by: java.sql.SQLException: Syntax error in regular expression on line 1, character 2.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:555)\n    at com.mysql.cj.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:339)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java)\n    at org.jooq.tools.jdbc.DefaultPreparedStatement.execute(DefaultPreparedStatement.java:214)\n    at org.jooq.impl.Tools.executeStatementAndGetFirstResultSet(Tools.java:4217)\n    at org.jooq.impl.AbstractResultQuery.execute(AbstractResultQuery.java:283)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:375)\n    ... 27 common frames omitted\n</code></pre>\n<p>The error is occurring because the first binding (<code>{1}</code>) is not being replaced with the document name.</p>\n<p>Has anyone ever encountered anything like this?</p>\n<blockquote>\n<p><strong>Additional info:</strong> When I replace the <code>{1}</code> with a hardcoded value, such as <code>A Document</code>, the query succeeds without any problems. It only causes problems when I try to bind the <code>{1}</code> to a variable value.</p>\n</blockquote>\n"},{"tags":["java","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681993670,"creation_date":1681993670,"answer_id":76064040,"question_id":70793731,"body_markdown":"Here is the workaround solution. Am calling it a workaround solution as am not using the selenium&#39;s way of opening a new tab [`getWebDriver().switchTo().newWindow(WindowType.TAB);`]\r\n\r\nCheck the below solution using `Robot` class:\r\n````\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;incognito=new&quot;);\r\nChromeDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;https://www.url.com&quot;);\r\n        \r\nRobot rb = new Robot();\r\n// Press control keyboard key\r\nrb.keyPress(KeyEvent.VK_CONTROL);\r\n// Press T keyboard key\r\nrb.keyPress(KeyEvent.VK_T);\r\n// Release control keyboard key\r\nrb.keyRelease(KeyEvent.VK_CONTROL);\r\n// Release T keyboard key\r\nrb.keyRelease(KeyEvent.VK_T);\r\n````\r\n\r\n**Warning:** This solution using Robot class may not work in headless mode.","title":"How to open new browser tab using Selenium and Java by passing ChromeOptions to ChromeDriver?","body":"<p>Here is the workaround solution. Am calling it a workaround solution as am not using the selenium's way of opening a new tab [<code>getWebDriver().switchTo().newWindow(WindowType.TAB);</code>]</p>\n<p>Check the below solution using <code>Robot</code> class:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;incognito=new&quot;);\nChromeDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.url.com&quot;);\n        \nRobot rb = new Robot();\n// Press control keyboard key\nrb.keyPress(KeyEvent.VK_CONTROL);\n// Press T keyboard key\nrb.keyPress(KeyEvent.VK_T);\n// Release control keyboard key\nrb.keyRelease(KeyEvent.VK_CONTROL);\n// Release T keyboard key\nrb.keyRelease(KeyEvent.VK_T);\n</code></pre>\n<p><strong>Warning:</strong> This solution using Robot class may not work in headless mode.</p>\n"}],"owner":{"account_id":20678479,"reputation":33,"user_id":15182594,"display_name":"Gabriel Dragomir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681993670,"creation_date":1642714596,"question_id":70793731,"body_markdown":"I am trying to create a variable that I can open a new tab with by using the code below in my Test:\r\n\r\n    getWebDriver().get(&quot;first website&quot;);\r\n    WebDriver newTab = getWebDriver().switchTo().newWindow(WindowType.TAB);\r\n        newTab.get(&quot;second website&quot;);\r\n\r\nEach test extends my GoogleChromeDriver class located in my test folder for which I have used ChromeOptions. The newTab variable works as expected and opens a new tab when using `setWebDriver(new ChromeDriver());`, but gives an error when passing options variable from ChromeOptions to it like `setWebDriver(new ChromeDriver(options));`\r\n\r\nThis is the `@BeforeTest` from my GoogleChromeDriver class\r\n\r\n    public void init() {\r\n        List&lt;String&gt; driverArguments = List.of(&quot;disable-extensions&quot;, &quot;profile-directory=Default&quot;, &quot;incognito&quot;, &quot;disable-plugins-discovery&quot;, &quot;start-maximized&quot;);\r\n        String currentUserDirectory = System.getProperty(&quot;user.home&quot;);\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, currentUserDirectory + &quot;\\\\Documents\\\\webDrivers\\\\chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\n        options.addArguments(driverArguments);\r\n        setWebDriver(new ChromeDriver());\r\n    }\r\n\r\nThis is the error I receive\r\n\r\n    org.openqa.selenium.WebDriverException: unknown error: unhandled inspector error: {&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;}\r\n\r\nUPDATE:\r\nI have removed the `incognito` parameter from the list of options and it works now. Any ideas on how to open a new tab by using incognito tabs?","title":"How to open new browser tab using Selenium and Java by passing ChromeOptions to ChromeDriver?","body":"<p>I am trying to create a variable that I can open a new tab with by using the code below in my Test:</p>\n<pre><code>getWebDriver().get(&quot;first website&quot;);\nWebDriver newTab = getWebDriver().switchTo().newWindow(WindowType.TAB);\n    newTab.get(&quot;second website&quot;);\n</code></pre>\n<p>Each test extends my GoogleChromeDriver class located in my test folder for which I have used ChromeOptions. The newTab variable works as expected and opens a new tab when using <code>setWebDriver(new ChromeDriver());</code>, but gives an error when passing options variable from ChromeOptions to it like <code>setWebDriver(new ChromeDriver(options));</code></p>\n<p>This is the <code>@BeforeTest</code> from my GoogleChromeDriver class</p>\n<pre><code>public void init() {\n    List&lt;String&gt; driverArguments = List.of(&quot;disable-extensions&quot;, &quot;profile-directory=Default&quot;, &quot;incognito&quot;, &quot;disable-plugins-discovery&quot;, &quot;start-maximized&quot;);\n    String currentUserDirectory = System.getProperty(&quot;user.home&quot;);\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, currentUserDirectory + &quot;\\\\Documents\\\\webDrivers\\\\chromedriver.exe&quot;);\n    ChromeOptions options = new ChromeOptions();\n    options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\n    options.addArguments(driverArguments);\n    setWebDriver(new ChromeDriver());\n}\n</code></pre>\n<p>This is the error I receive</p>\n<pre><code>org.openqa.selenium.WebDriverException: unknown error: unhandled inspector error: {&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;}\n</code></pre>\n<p>UPDATE:\nI have removed the <code>incognito</code> parameter from the list of options and it works now. Any ideas on how to open a new tab by using incognito tabs?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":28353882,"reputation":3,"user_id":21684931,"display_name":"pd14"},"score":0,"creation_date":1681950657,"post_id":76059238,"comment_id":134140940,"body_markdown":"Thanks. If we have a seperate StepExecutionListener at the step level which is a class, will it be possible to get the data to the processor. In my case we are using a abstracted step which has a listener has a seprate class. Edited the code to show the example. Hence adding the StepExecutionListener at processor level is not working.  Thanks.","body":"Thanks. If we have a seperate StepExecutionListener at the step level which is a class, will it be possible to get the data to the processor. In my case we are using a abstracted step which has a listener has a seprate class. Edited the code to show the example. Hence adding the StepExecutionListener at processor level is not working.  Thanks."},{"owner":{"account_id":10834672,"reputation":431,"user_id":7968003,"display_name":"anicetkeric"},"score":0,"creation_date":1681993091,"post_id":76059238,"comment_id":134147700,"body_markdown":"You can use the @BeforeStep annotation. I edited my response.","body":"You can use the @BeforeStep annotation. I edited my response."}],"tags":[],"owner":{"account_id":10834672,"reputation":431,"user_id":7968003,"display_name":"anicetkeric"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681993030,"creation_date":1681943076,"answer_id":76059238,"question_id":76058969,"body_markdown":"You can implement StepExecutionListener to your processor class.\r\n\r\n&gt; StepExecutionListener represents the most generic listener for Step\r\n&gt; execution. It allows for notification before a Step is started and\r\n&gt; after it ends. https://docs.spring.io/spring-batch/docs/current/reference/html/step.html\r\n\r\nBefore the processor step, you can load ids once which will be used by all process data.\r\n\r\n      public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt;, StepExecutionListener {\r\n    \r\n        private static List&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n\r\n        @Override\r\n        public OutputDTO process(SampleDTO input) throws Exception {\r\n            return new ProcessService().processData(input, ids);\r\n        }\r\n\r\n        @Override\r\n        public void beforeStep(StepExecution stepExecution) {\r\n            Query q = entityManager.createQuery(query);\r\n            ids = q.getResultList();\r\n        }\r\n\r\n        @Override\r\n        public ExitStatus afterStep (StepExecution stepExecution) {\r\n            ids.clear();\r\n            return stepExecution.getExitStatus();\r\n        }\r\n    }\r\n\r\n\r\nIf you are using a custom StepExecutionListener you can also use the @BeforeStep annotation which will only be called once before the step is executed.\r\n\r\n    public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt; {\r\n    \r\n        private final List&lt;String&gt; ids;\r\n\r\n        public Processor(){\r\n            ids = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        @BeforeStep\r\n        public void beforeStepExecution() {\r\n            Query q = entityManager.createQuery(query);\r\n            ids = q.getResultList();\r\n        }\r\n    \r\n        @Override\r\n        public OutputDTO process(SampleDTO input) throws Exception {\r\n            return new ProcessService().processData(input, ids);\r\n        }\r\n    \r\n    }","title":"How to run a SQL only once which is required for processing the read data in spring batch","body":"<p>You can implement StepExecutionListener to your processor class.</p>\n<blockquote>\n<p>StepExecutionListener represents the most generic listener for Step\nexecution. It allows for notification before a Step is started and\nafter it ends. <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/step.html</a></p>\n</blockquote>\n<p>Before the processor step, you can load ids once which will be used by all process data.</p>\n<pre><code>  public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt;, StepExecutionListener {\n\n    private static List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n\n    @Override\n    public OutputDTO process(SampleDTO input) throws Exception {\n        return new ProcessService().processData(input, ids);\n    }\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        Query q = entityManager.createQuery(query);\n        ids = q.getResultList();\n    }\n\n    @Override\n    public ExitStatus afterStep (StepExecution stepExecution) {\n        ids.clear();\n        return stepExecution.getExitStatus();\n    }\n}\n</code></pre>\n<p>If you are using a custom StepExecutionListener you can also use the @BeforeStep annotation which will only be called once before the step is executed.</p>\n<pre><code>public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt; {\n\n    private final List&lt;String&gt; ids;\n\n    public Processor(){\n        ids = new ArrayList&lt;&gt;();\n    }\n\n    @BeforeStep\n    public void beforeStepExecution() {\n        Query q = entityManager.createQuery(query);\n        ids = q.getResultList();\n    }\n\n    @Override\n    public OutputDTO process(SampleDTO input) throws Exception {\n        return new ProcessService().processData(input, ids);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28353882,"reputation":3,"user_id":21684931,"display_name":"pd14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76059238,"answer_count":1,"score":0,"last_activity_date":1681993030,"creation_date":1681940028,"question_id":76058969,"body_markdown":"I am new to Spring Batch, I have a spring boot app inn which i run a Spring batch job which executes a series of step, on one of the steps, I read thousands of record from a DB and process them and write it to a file. while processing I need a data from another table which i need to store in it a list, which i can use to process all the read data before writing them to a file again. \r\n\r\nIs there a way where i can run that SQL only once common to all data?\r\n\r\n\r\n\r\n`\r\n```\r\n@Configuration\r\npublic class JDBCStep {\r\n\r\n  @Bean(&quot;JdbcStep&quot;)\r\n  public Step  step() {\r\n    \r\n    return stepBuilderFactory.get(&quot;JdbcStep&quot;)\r\n                .&lt;ReadObject, WriteObject&gt;chunk(10)\r\n                .reader(reader)\r\n                .processor(new processor())\r\n                .writer(writer)\r\n                .listener(new CustomStepListener())\r\n                .build();\r\n  }\r\n\r\n  @Bean\r\n  public ItemReader&lt;StudentDTO&gt; itemReader(DataSource dataSource,\r\n                                             PagingQueryProvider queryProvider) {\r\n        return new JdbcPagingItemReaderBuilder&lt;StudentDTO&gt;()\r\n                .name(&quot;pagingItemReader&quot;)\r\n                .dataSource(dataSource)\r\n                .pageSize(1)\r\n                .queryProvider(queryProvider)\r\n                .rowMapper(new BeanPropertyRowMapper&lt;&gt;(SampleDTO.class))\r\n                .build();\r\n    } \r\n\r\n   public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt;{\r\n        @override\r\n        public OutputDTO process(SampleDTO input){\r\n           return ProcessService.processData(input)\r\n        }\r\n   }\r\n}\r\n\r\npublic class CustomStepListener implements StepExecutionListener {\r\n\r\n\t@Override\r\n\tpublic void beforeStep(StepExecution stepExecution) {\r\n\t\tSystem.out.println(&quot;StepExecutionListener - beforeStep&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ExitStatus afterStep(StepExecution stepExecution) {\r\n\t\tSystem.out.println(&quot;StepExecutionListener - afterStep&quot;);\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n\r\n@Service\r\npublic class ProcessService{\r\n    public OutputDTO processData(SampleDTO s){\r\n\r\n        **Here For processing this data s, I need a List of ID from another table which is common for all the sampleDTO data to be processed. If i make a DB call in this method, It makes a DB call for all the record. Is there a way i can make a DB call only once to process all the data**\r\n     \r\n     Query q = entityManager.createQuery(query);\r\n     List results = q.getResultList();\r\n\r\n//I need the results for all the records to be processed.\r\n\r\n}\r\n````\r\n\r\n \r\n\r\n\r\n\r\n","title":"How to run a SQL only once which is required for processing the read data in spring batch","body":"<p>I am new to Spring Batch, I have a spring boot app inn which i run a Spring batch job which executes a series of step, on one of the steps, I read thousands of record from a DB and process them and write it to a file. while processing I need a data from another table which i need to store in it a list, which i can use to process all the read data before writing them to a file again.</p>\n<p>Is there a way where i can run that SQL only once common to all data?</p>\n<p>`</p>\n<pre><code>@Configuration\npublic class JDBCStep {\n\n  @Bean(&quot;JdbcStep&quot;)\n  public Step  step() {\n    \n    return stepBuilderFactory.get(&quot;JdbcStep&quot;)\n                .&lt;ReadObject, WriteObject&gt;chunk(10)\n                .reader(reader)\n                .processor(new processor())\n                .writer(writer)\n                .listener(new CustomStepListener())\n                .build();\n  }\n\n  @Bean\n  public ItemReader&lt;StudentDTO&gt; itemReader(DataSource dataSource,\n                                             PagingQueryProvider queryProvider) {\n        return new JdbcPagingItemReaderBuilder&lt;StudentDTO&gt;()\n                .name(&quot;pagingItemReader&quot;)\n                .dataSource(dataSource)\n                .pageSize(1)\n                .queryProvider(queryProvider)\n                .rowMapper(new BeanPropertyRowMapper&lt;&gt;(SampleDTO.class))\n                .build();\n    } \n\n   public class Processor implements ItemProcessor&lt;SampleDTO, OutputDTO&gt;{\n        @override\n        public OutputDTO process(SampleDTO input){\n           return ProcessService.processData(input)\n        }\n   }\n}\n\npublic class CustomStepListener implements StepExecutionListener {\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        System.out.println(&quot;StepExecutionListener - beforeStep&quot;);\n    }\n\n    @Override\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        System.out.println(&quot;StepExecutionListener - afterStep&quot;);\n        return null;\n    }\n\n}\n\n\n@Service\npublic class ProcessService{\n    public OutputDTO processData(SampleDTO s){\n\n        **Here For processing this data s, I need a List of ID from another table which is common for all the sampleDTO data to be processed. If i make a DB call in this method, It makes a DB call for all the record. Is there a way i can make a DB call only once to process all the data**\n     \n     Query q = entityManager.createQuery(query);\n     List results = q.getResultList();\n\n//I need the results for all the records to be processed.\n\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","react-hooks","material-ui"],"owner":{"account_id":20847221,"reputation":1,"user_id":15312472,"display_name":"Stanoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681993005,"creation_date":1681993005,"question_id":76063950,"body_markdown":"I would like to save an image to DB and get the image in a forma displayable in a web page using java springboot and react. The get request works but iam stuck on how to consume the request on react. The image isnt displayed only the alt  message.\r\nbelow is the get method\r\n```\r\n@GetMapping(path = &quot;/get/{userId}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;userId&quot;) Long userId) throws IOException {\r\n\r\n        Optional&lt;TrialImage&gt; dbImage = imageRepository.findByUserId(userId);\r\n\r\n        if (dbImage.isPresent()) {\r\n            byte[] imageBytes = ImageUtility.decompressImage(dbImage.get().getImage());\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.valueOf(dbImage.get().getType()));\r\n            return new ResponseEntity&lt;&gt;(imageBytes, headers, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\n\r\nbelow is the react code to consume the responce which is an image\r\n\r\n```\r\nimport React, { useState, useEffect } from &#39;react&#39;;\r\nimport { Helmet } from &#39;react-helmet&#39;;\r\nimport { Box, Container } from &#39;@material-ui/core&#39;;\r\nimport { PropertyListToolbar } from &#39;../../Component&#39;;\r\nimport { useApi } from &#39;../../REST-API/api&#39;;\r\n\r\nfunction PropertyFeed() {\r\n  const api = useApi();\r\n  const [imageSrc, setImageSrc] = useState(&#39;&#39;);\r\n\r\n  useEffect(() =&gt; {\r\n    const fetchImage = async () =&gt; {\r\n      try {\r\n        const response = await api.get(`account/profilePic/get/${7}`, {\r\n          responseType: &#39;arraybuffer&#39;,\r\n        });\r\n        console.log(&#39;Response data:&#39;, response.data);\r\n        const blob = new Blob([response.data]);\r\n        const imageUrl = URL.createObjectURL(blob);\r\n        console.log(&#39;Image URL:&#39;, imageUrl);\r\n        setImageSrc(imageUrl);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchImage();\r\n  }, [api]);\r\n\r\n  return (\r\n    &lt;&gt;\r\n      &lt;Helmet&gt;\r\n        &lt;title&gt;Customers | Material Kit&lt;/title&gt;\r\n      &lt;/Helmet&gt;\r\n      &lt;Box\r\n        sx={{\r\n          backgroundColor: &#39;background.default&#39;,\r\n          minHeight: &#39;100%&#39;,\r\n          py: 3,\r\n        }}\r\n      &gt;\r\n        &lt;Container maxWidth={false}&gt;\r\n          &lt;PropertyListToolbar /&gt;\r\n          {imageSrc ? (\r\n            &lt;img src={imageSrc} alt = &#39;hello&#39; style={{ border: &#39;1px solid black&#39; }} onError={(e) =&gt; console.log(&#39;Error loading image&#39;, e)}/&gt;\r\n          ) : (\r\n            &lt;p&gt;Loading image...&lt;/p&gt;\r\n          )}\r\n        &lt;/Container&gt;\r\n      &lt;/Box&gt;\r\n    &lt;/&gt;\r\n  );\r\n}\r\n\r\nexport default PropertyFeed;\r\n\r\n```\r\n\r\n\r\nWhen i make the request in postman the request is a succes and i can view the image. I also tried to log the responce and the image returned on react but i was not able to get to the root cause why the image is not displayed. I expect to view the image as defined in the img tag in the react code. Kindly Help","title":"React display a binary image responce doesnt work. The image doest display when an API request is made from a springboot backend","body":"<p>I would like to save an image to DB and get the image in a forma displayable in a web page using java springboot and react. The get request works but iam stuck on how to consume the request on react. The image isnt displayed only the alt  message.\nbelow is the get method</p>\n<pre><code>@GetMapping(path = &quot;/get/{userId}&quot;)\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable(&quot;userId&quot;) Long userId) throws IOException {\n\n        Optional&lt;TrialImage&gt; dbImage = imageRepository.findByUserId(userId);\n\n        if (dbImage.isPresent()) {\n            byte[] imageBytes = ImageUtility.decompressImage(dbImage.get().getImage());\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.valueOf(dbImage.get().getType()));\n            return new ResponseEntity&lt;&gt;(imageBytes, headers, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>below is the react code to consume the responce which is an image</p>\n<pre><code>import React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Box, Container } from '@material-ui/core';\nimport { PropertyListToolbar } from '../../Component';\nimport { useApi } from '../../REST-API/api';\n\nfunction PropertyFeed() {\n  const api = useApi();\n  const [imageSrc, setImageSrc] = useState('');\n\n  useEffect(() =&gt; {\n    const fetchImage = async () =&gt; {\n      try {\n        const response = await api.get(`account/profilePic/get/${7}`, {\n          responseType: 'arraybuffer',\n        });\n        console.log('Response data:', response.data);\n        const blob = new Blob([response.data]);\n        const imageUrl = URL.createObjectURL(blob);\n        console.log('Image URL:', imageUrl);\n        setImageSrc(imageUrl);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchImage();\n  }, [api]);\n\n  return (\n    &lt;&gt;\n      &lt;Helmet&gt;\n        &lt;title&gt;Customers | Material Kit&lt;/title&gt;\n      &lt;/Helmet&gt;\n      &lt;Box\n        sx={{\n          backgroundColor: 'background.default',\n          minHeight: '100%',\n          py: 3,\n        }}\n      &gt;\n        &lt;Container maxWidth={false}&gt;\n          &lt;PropertyListToolbar /&gt;\n          {imageSrc ? (\n            &lt;img src={imageSrc} alt = 'hello' style={{ border: '1px solid black' }} onError={(e) =&gt; console.log('Error loading image', e)}/&gt;\n          ) : (\n            &lt;p&gt;Loading image...&lt;/p&gt;\n          )}\n        &lt;/Container&gt;\n      &lt;/Box&gt;\n    &lt;/&gt;\n  );\n}\n\nexport default PropertyFeed;\n\n</code></pre>\n<p>When i make the request in postman the request is a succes and i can view the image. I also tried to log the responce and the image returned on react but i was not able to get to the root cause why the image is not displayed. I expect to view the image as defined in the img tag in the react code. Kindly Help</p>\n"},{"tags":["java","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681997298,"post_id":76063615,"comment_id":134148866,"body_markdown":"Have you taken a look at https://checkstyle.sourceforge.io/writingchecks.html?","body":"Have you taken a look at <a href=\"https://checkstyle.sourceforge.io/writingchecks.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/writingchecks.html</a>?"}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1681997214,"post_id":76063909,"comment_id":134148845,"body_markdown":"That doesn&#39;t work for two reasons. 1: `getDeclaredFields()` doesn&#39;t guarantee any order (&quot;The elements in the returned array are not sorted and are not in any particular order.&quot;). 2: Checkstyle doesn&#39;t have access to classes themselves, and therefore cannot use reflection.","body":"That doesn&#39;t work for two reasons. 1: <code>getDeclaredFields()</code> doesn&#39;t guarantee any order (&quot;The elements in the returned array are not sorted and are not in any particular order.&quot;). 2: Checkstyle doesn&#39;t have access to classes themselves, and therefore cannot use reflection."}],"tags":[],"owner":{"account_id":22809059,"reputation":1,"user_id":18040297,"display_name":"Gabriel Mathiuce"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681992854,"creation_date":1681992693,"answer_id":76063909,"question_id":76063615,"body_markdown":"    Class&lt;?&gt; clazz = User.class;\r\n\tField[] fields = clazz.getDeclaredFields();\r\n    //Will return if the first field its a private static final org.slf4j.Logger or not\r\n\tfields[0].toString().startsWith(&quot;private static final org.slf4j.Logger&quot;);\r\n    //Will return if the name of the field its &quot;LOG&quot;\r\n    fields[0].toString().endsWith(&quot;LOG&quot;)","title":"Check if the first variable in a class is a constant named LOG","body":"<pre><code>Class&lt;?&gt; clazz = User.class;\nField[] fields = clazz.getDeclaredFields();\n//Will return if the first field its a private static final org.slf4j.Logger or not\nfields[0].toString().startsWith(&quot;private static final org.slf4j.Logger&quot;);\n//Will return if the name of the field its &quot;LOG&quot;\nfields[0].toString().endsWith(&quot;LOG&quot;)\n</code></pre>\n"}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681992854,"creation_date":1681990573,"question_id":76063615,"body_markdown":"There are actually a couple of questions, the first one from the title:\r\n\r\n1. How can I write a check that checks wheter the very first field in a class is a constant named LOG?\r\n\r\n   For example, this would pass the check:\r\n\r\n    ```java\r\n    public class MyClass {\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\r\n        .\r\n        .\r\n        .\r\n    }\r\n    ```\r\n\r\n   while this would fail the check:\r\n\r\n    ```java\r\n    public class MyClass {\r\n\r\n        private String someString;\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\r\n        .\r\n        .\r\n        .\r\n    }\r\n    ```\r\n\r\n   Note that the LOG field should be declared as the first variable only if it is declared in the class (I don&#39;t want checkstyle to fail while checking model classes which almost always have no LOG constant defined).","title":"Check if the first variable in a class is a constant named LOG","body":"<p>There are actually a couple of questions, the first one from the title:</p>\n<ol>\n<li><p>How can I write a check that checks wheter the very first field in a class is a constant named LOG?</p>\n<p>For example, this would pass the check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\n    .\n    .\n    .\n}\n</code></pre>\n<p>while this would fail the check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n\n    private String someString;\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyClass.class);\n    .\n    .\n    .\n}\n</code></pre>\n<p>Note that the LOG field should be declared as the first variable only if it is declared in the class (I don't want checkstyle to fail while checking model classes which almost always have no LOG constant defined).</p>\n</li>\n</ol>\n"},{"tags":["java","byte"],"answers":[{"comments":[{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1681991108,"post_id":76060404,"comment_id":134147268,"body_markdown":"Hi, thanks for your deep explanation regarding to my code, can you explain me about this part `except, it&#39;s in base 16, instead of base 10`, because im not familiar with bytes though hehe","body":"Hi, thanks for your deep explanation regarding to my code, can you explain me about this part <code>except, it&#39;s in base 16, instead of base 10</code>, because im not familiar with bytes though hehe"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1682603954,"post_id":76060404,"comment_id":134244633,"body_markdown":"Thank you @rzwitserloot for explaining like i&#39;m 5, is there any explanation how byte works tho?","body":"Thank you @rzwitserloot for explaining like i&#39;m 5, is there any explanation how byte works tho?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682606392,"post_id":76060404,"comment_id":134245306,"body_markdown":"That talk about 10 fingers and how computers count as if they have 16 fingers __is__ the explanation of the difference between base 16 and base 10. A byte is just 8 bits (or 2 hexadecimal digits). Just like if I ask you to write down a number using no more than 2 digits, you&#39;re limited to 0-99, with hex, you&#39;re limited to 0-ff. ff is 15*16 + 15 = 255 (because 99 is 9*10 + 9 = 99, same principle).","body":"That talk about 10 fingers and how computers count as if they have 16 fingers <b>is</b> the explanation of the difference between base 16 and base 10. A byte is just 8 bits (or 2 hexadecimal digits). Just like if I ask you to write down a number using no more than 2 digits, you&#39;re limited to 0-99, with hex, you&#39;re limited to 0-ff. ff is 15*16 + 15 = 255 (because 99 is 9*10 + 9 = 99, same principle)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682606492,"post_id":76060404,"comment_id":134245336,"body_markdown":"4  bits is one hexadecimal digit because 4 digits in base 2 (base 2 = a 0 or 1, that&#39;s all the digits you have, there is no 2, we go 0, 1, 10, 11, 100, 101, and so on) is 2^4 = 16 different options (write em all down; given 4 0/1 digits, how many combinations can you make? 16. Just like given 2 0-9 digits you can make 100 combos: 0-99). 16 options? Hey, that&#39;s how many digits hexadecimal has - so, 8 bits becomes 2 hex digits. Because 10 isn&#39;t a factor of 2, decimal digits don&#39;t &quot;work well&quot; here, hence why computer science likes hexadecimal digits.","body":"4  bits is one hexadecimal digit because 4 digits in base 2 (base 2 = a 0 or 1, that&#39;s all the digits you have, there is no 2, we go 0, 1, 10, 11, 100, 101, and so on) is 2^4 = 16 different options (write em all down; given 4 0/1 digits, how many combinations can you make? 16. Just like given 2 0-9 digits you can make 100 combos: 0-99). 16 options? Hey, that&#39;s how many digits hexadecimal has - so, 8 bits becomes 2 hex digits. Because 10 isn&#39;t a factor of 2, decimal digits don&#39;t &quot;work well&quot; here, hence why computer science likes hexadecimal digits."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1682614941,"post_id":76060404,"comment_id":134247519,"body_markdown":"Actually what makes me confused is this line of code\n`byteArray[i / 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4) + Character.digit(ch[i + 1], 16));`\nwhy i need to shift it, instead of just put both hex together like \n`byteArray[i / 2] = (byte) (Character.digit(ch[i], 16) + Character.digit(ch[i + 1], 16));`\n\nany reason behind this?","body":"Actually what makes me confused is this line of code <code>byteArray[i &#47; 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4) + Character.digit(ch[i + 1], 16));</code> why i need to shift it, instead of just put both hex together like  <code>byteArray[i &#47; 2] = (byte) (Character.digit(ch[i], 16) + Character.digit(ch[i + 1], 16));</code>  any reason behind this?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1682616154,"post_id":76060404,"comment_id":134247807,"body_markdown":"If I  give you the digit &#39;5&#39; and the digit &#39;2&#39;, and I ask you to put them together, you get 52. What you propose is to do &#39;5 + 2&#39; which would give 7. You need to multiply that &#39;5&#39; by 10 because it is in the &#39;10s&#39; place. That first digit is in the &#39;10s&#39; place, but in hex, so, * 16 instead of * 10. &lt;&lt;4 is the same as *16.","body":"If I  give you the digit &#39;5&#39; and the digit &#39;2&#39;, and I ask you to put them together, you get 52. What you propose is to do &#39;5 + 2&#39; which would give 7. You need to multiply that &#39;5&#39; by 10 because it is in the &#39;10s&#39; place. That first digit is in the &#39;10s&#39; place, but in hex, so, * 16 instead of * 10. &lt;&lt;4 is the same as *16."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1682862562,"post_id":76060404,"comment_id":134278591,"body_markdown":"Alright now i&#39;m able to understand, thanks","body":"Alright now i&#39;m able to understand, thanks"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681992658,"creation_date":1681962153,"answer_id":76060404,"question_id":76060174,"body_markdown":"There are at least 4 issues here, and on top of that, this isn&#39;t a particularly efficient algorithm (not that this is likely to matter).\r\n\r\n## conflating ASCII value with digit\r\n\r\nThe character `6` actually is value 54. No, really:\r\n\r\n```\r\nchar c = &#39;6&#39;;\r\nint v = (int) c;\r\nSystem.out.println(v); // this would print 54.\r\n```\r\n\r\nAfter all, a character could be &#39;A&#39; to. What &#39;number&#39; should that become? In computer systems, any character is looked up in a gigantic table that matches a symbol (such as a, or 5, or space, or enter, or &#231;, or &#233;, or ☃, or even &#128512;) to a number.\r\n\r\nAnd the CHARACTER (or symbol, if you prefer that terminology) &#39;6&#39;, in that table, is associated with code 54.\r\n\r\n## Trying to cast a string to an int\r\n\r\n`charTemp` is a string and will end up containing e.g. `&quot;4f&quot;`. That&#39;s 2 numbers. Java correctly identifies that trying to cast this to an int doesn&#39;t make sense. (even if a string only contains 1 character, java does that - the compiler knows you can&#39;t convert strings to an int by casting, it doesn&#39;t bother checking if in this case it might possibly make some semblance of sense. It COULD make no sense, so you can&#39;t do it).\r\n\r\nWhat you want is to convert the string &quot;4f&quot; into the value of it. &quot;4f&quot; is itself just a number in string form, just like &quot;100&quot; would be. Except, it&#39;s in base 16, instead of base 10. Still, a number though.\r\n\r\nSo, how do we turn numbers-in-strings into their values? With `Integer.parseInt`, of course. Which has a variant where you specify the base. So:\r\n\r\n```\r\nint v = Integer.parseInt(&quot;9&quot;, 16); // 16 = the base\r\nSystem.out.println(v); // prints 9\r\nv = Integer.parseInt(&quot;f&quot;, 16);\r\nSystem.out.println(v); // prints 15. That&#39;s nice.\r\nv = Integer.parseInt(&quot;4f&quot;, 16);\r\nSystem.out.println(v); // Prints out 79. Which is what you wanted, I guess.\r\n```\r\n## bytes and ints\r\n\r\nYou can&#39;t assign an int to a value in a byte array - you are casting to `int`. Once you fix everything above, you still have to replace that with `(byte)`.\r\n\r\n## You erroneously think arrays can grow in java\r\n\r\nYour byte array is empty. Arrays in java are fixed size, so when you make it, it is empty, and it cannot be grown, so, it&#39;s stuck there. `x[x.length]` will ALWAYS cause an `ArrayIndexOutOfBoundsException` (because an array&#39;s length is the first index that DOES NOT work). After all, an array of, say, length 3 has 3 indices: 0, 1, and 2. 3, itself, isn&#39;t valid. Thus, `byteArray[0] = ...` would crash.\r\n\r\nOne solution is to pre-size the byte array appropriately: `byte[] byteArray = new byte[array.length() / 2];`\r\n\r\nAnd you would have to use `byteArray[i / 2] = Integer.parseInt(charTemp, 16);`\r\n\r\n## All this code is probably not needed\r\n\r\nThere are tools and libraries that read byte arrays formatted as hexadecimal strings (a.k.a. nibbled strings) in for you, you don&#39;t have to write this code. See [this SO answer](https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java) for more - because that&#39;s what you&#39;re trying to (presumably) do here.\r\n\r\n## An explanation of Hexadecimal counting\r\n\r\nStart counting, like we&#39;re playing hide-and-seek. 1, 2, 3, 4,...\r\n\r\nWhat happens after 8? We get to 9. Easy enough.\r\n\r\nWhy do we go to &#39;10&#39; - 2 separate symbols, when we need to count beyond 9?\r\n\r\nWho knows - presumably because us humans have 10 fingers. Actually, in the times of the roman empire, but outside of its borders, 12 was much more common. Take out your thumb, and start counting finger segments.  You have 3 on each of the 4 remaining fingers - it&#39;s an easy way to keep track of counting to 12.\r\n\r\nThose nordic folks had symbols for __12__ digits (0 up to 11). Just like you&#39;re used to having __10__ digits (0, up to 9). When you &#39;run out of digits&#39;, you just add a &#39;place&#39; - we start counting how many times we used all the digits. &quot;24&quot; simply means we ran out of digits twice (so that&#39;s 10, each time, so 20), and then 4 more.\r\n\r\nComputers like to count in binary. 0, 1... and we ran out of digits. So, computers go 0, 1, 10, 11, 100, 101, and so on. But this gets unwieldy very quickly and hard to &#39;track&#39; as a human.\r\n\r\nSo, we compromise and use __hexadecimal__ instead. This is counting as if you had 16 fingers. You go 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a, b, c, d, e, f. And then we ran out of digits, so the number after that (so, 16, in decimal!) - is written as &#39;10&#39;. Just like when those old vikings got to writing &#39;1&#39; and &#39;0&#39; when they start counting the 12th thing, with hex you get to &#39;1&#39; and &#39;0&#39; when you get to the 16th thing.\r\n\r\nAnd __that__ is what you are trying to parse in here. Note how your input contains &quot;4f&quot; for example. That &#39;f&#39; isn&#39;t a letter. It&#39;s the &#39;9&#39; (the last digit) of the hexadecimal system.","title":"Convert Raw Bytes to String","body":"<p>There are at least 4 issues here, and on top of that, this isn't a particularly efficient algorithm (not that this is likely to matter).</p>\n<h2>conflating ASCII value with digit</h2>\n<p>The character <code>6</code> actually is value 54. No, really:</p>\n<pre><code>char c = '6';\nint v = (int) c;\nSystem.out.println(v); // this would print 54.\n</code></pre>\n<p>After all, a character could be 'A' to. What 'number' should that become? In computer systems, any character is looked up in a gigantic table that matches a symbol (such as a, or 5, or space, or enter, or ç, or é, or ☃, or even 😀) to a number.</p>\n<p>And the CHARACTER (or symbol, if you prefer that terminology) '6', in that table, is associated with code 54.</p>\n<h2>Trying to cast a string to an int</h2>\n<p><code>charTemp</code> is a string and will end up containing e.g. <code>&quot;4f&quot;</code>. That's 2 numbers. Java correctly identifies that trying to cast this to an int doesn't make sense. (even if a string only contains 1 character, java does that - the compiler knows you can't convert strings to an int by casting, it doesn't bother checking if in this case it might possibly make some semblance of sense. It COULD make no sense, so you can't do it).</p>\n<p>What you want is to convert the string &quot;4f&quot; into the value of it. &quot;4f&quot; is itself just a number in string form, just like &quot;100&quot; would be. Except, it's in base 16, instead of base 10. Still, a number though.</p>\n<p>So, how do we turn numbers-in-strings into their values? With <code>Integer.parseInt</code>, of course. Which has a variant where you specify the base. So:</p>\n<pre><code>int v = Integer.parseInt(&quot;9&quot;, 16); // 16 = the base\nSystem.out.println(v); // prints 9\nv = Integer.parseInt(&quot;f&quot;, 16);\nSystem.out.println(v); // prints 15. That's nice.\nv = Integer.parseInt(&quot;4f&quot;, 16);\nSystem.out.println(v); // Prints out 79. Which is what you wanted, I guess.\n</code></pre>\n<h2>bytes and ints</h2>\n<p>You can't assign an int to a value in a byte array - you are casting to <code>int</code>. Once you fix everything above, you still have to replace that with <code>(byte)</code>.</p>\n<h2>You erroneously think arrays can grow in java</h2>\n<p>Your byte array is empty. Arrays in java are fixed size, so when you make it, it is empty, and it cannot be grown, so, it's stuck there. <code>x[x.length]</code> will ALWAYS cause an <code>ArrayIndexOutOfBoundsException</code> (because an array's length is the first index that DOES NOT work). After all, an array of, say, length 3 has 3 indices: 0, 1, and 2. 3, itself, isn't valid. Thus, <code>byteArray[0] = ...</code> would crash.</p>\n<p>One solution is to pre-size the byte array appropriately: <code>byte[] byteArray = new byte[array.length() / 2];</code></p>\n<p>And you would have to use <code>byteArray[i / 2] = Integer.parseInt(charTemp, 16);</code></p>\n<h2>All this code is probably not needed</h2>\n<p>There are tools and libraries that read byte arrays formatted as hexadecimal strings (a.k.a. nibbled strings) in for you, you don't have to write this code. See <a href=\"https://stackoverflow.com/questions/140131/convert-a-string-representation-of-a-hex-dump-to-a-byte-array-using-java\">this SO answer</a> for more - because that's what you're trying to (presumably) do here.</p>\n<h2>An explanation of Hexadecimal counting</h2>\n<p>Start counting, like we're playing hide-and-seek. 1, 2, 3, 4,...</p>\n<p>What happens after 8? We get to 9. Easy enough.</p>\n<p>Why do we go to '10' - 2 separate symbols, when we need to count beyond 9?</p>\n<p>Who knows - presumably because us humans have 10 fingers. Actually, in the times of the roman empire, but outside of its borders, 12 was much more common. Take out your thumb, and start counting finger segments.  You have 3 on each of the 4 remaining fingers - it's an easy way to keep track of counting to 12.</p>\n<p>Those nordic folks had symbols for <strong>12</strong> digits (0 up to 11). Just like you're used to having <strong>10</strong> digits (0, up to 9). When you 'run out of digits', you just add a 'place' - we start counting how many times we used all the digits. &quot;24&quot; simply means we ran out of digits twice (so that's 10, each time, so 20), and then 4 more.</p>\n<p>Computers like to count in binary. 0, 1... and we ran out of digits. So, computers go 0, 1, 10, 11, 100, 101, and so on. But this gets unwieldy very quickly and hard to 'track' as a human.</p>\n<p>So, we compromise and use <strong>hexadecimal</strong> instead. This is counting as if you had 16 fingers. You go 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, a, b, c, d, e, f. And then we ran out of digits, so the number after that (so, 16, in decimal!) - is written as '10'. Just like when those old vikings got to writing '1' and '0' when they start counting the 12th thing, with hex you get to '1' and '0' when you get to the 16th thing.</p>\n<p>And <strong>that</strong> is what you are trying to parse in here. Note how your input contains &quot;4f&quot; for example. That 'f' isn't a letter. It's the '9' (the last digit) of the hexadecimal system.</p>\n"},{"comments":[{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":1,"creation_date":1681999279,"post_id":76060452,"comment_id":134149410,"body_markdown":"Hi chameerar, i get the most part of your solution but i have the thing that i don&#39;t understand in this part `(Character.digit(ch[i], 16) &lt;&lt; 4` can you explain what are you trying to do especially with &lt;&lt; i&#39;m unfamiliar with this operator, thanks","body":"Hi chameerar, i get the most part of your solution but i have the thing that i don&#39;t understand in this part <code>(Character.digit(ch[i], 16) &lt;&lt; 4</code> can you explain what are you trying to do especially with &lt;&lt; i&#39;m unfamiliar with this operator, thanks"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1682098907,"post_id":76060452,"comment_id":134167752,"body_markdown":"@mcser The `Character.digit(ch[i], 16)` part outputs the value of the `ch[i]` (that is the first digit of the HEX number in your `array`) in radix 16. The `&lt;&lt; ` is the bitwise left shift operator. This add four trailing zeros to the value. This gives room to the second digit of the HEX number (that is `ch[i+1]`) to be added so it forms the desired byte value.","body":"@mcser The <code>Character.digit(ch[i], 16)</code> part outputs the value of the <code>ch[i]</code> (that is the first digit of the HEX number in your <code>array</code>) in radix 16. The <code>&lt;&lt; </code> is the bitwise left shift operator. This add four trailing zeros to the value. This gives room to the second digit of the HEX number (that is <code>ch[i+1]</code>) to be added so it forms the desired byte value."},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1682603787,"post_id":76060452,"comment_id":134244591,"body_markdown":"Hi sorry for the long reply, i still don&#39;t get it about bitwise left shift operator, but when i debug it using this code `System.out.println((Character.digit(ch[i],16) &lt;&lt; 3) + &quot; &quot; +(Character.digit(ch[i],16) &lt;&lt; 4)+ &quot; &quot; + ch[i]);\n`\nthe result are weird, is there any guide to help me understand this bitwise operator so i can comprehend?","body":"Hi sorry for the long reply, i still don&#39;t get it about bitwise left shift operator, but when i debug it using this code <code>System.out.println((Character.digit(ch[i],16) &lt;&lt; 3) + &quot; &quot; +(Character.digit(ch[i],16) &lt;&lt; 4)+ &quot; &quot; + ch[i]); </code> the result are weird, is there any guide to help me understand this bitwise operator so i can comprehend?"},{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":0,"creation_date":1682629331,"post_id":76060452,"comment_id":134250347,"body_markdown":"Sure. This will be useful. https://www.geeksforgeeks.org/shift-operator-in-java/amp/?ref=gcse","body":"Sure. This will be useful. <a href=\"https://www.geeksforgeeks.org/shift-operator-in-java/amp/?ref=gcse\" rel=\"nofollow noreferrer\">geeksforgeeks.org/shift-operator-in-java/amp/?ref=gcse</a>"}],"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681970546,"creation_date":1681962856,"answer_id":76060452,"question_id":76060174,"body_markdown":"As you mentioned there is an type casting issue since you can&#39;t cast `charTemp` which is a `String` to an `int`. Other than that there are some issue I can see.\r\n\r\n 1. The length of the `byteArray` is always 0. Therefore, `byteArray[byteArray.length]` does not make any sense.\r\n 2. Since your input bytes (the `array`) is in HEX, you need a way to handle the HEX values properly. \r\n\r\nI would suggest an approach like this,\r\n\r\n```java\r\nString array = &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\r\nchar[] ch = array.toCharArray();\r\nSystem.out.println(Arrays.toString(ch));\r\n\r\nint length = ch.length;\r\nbyte[] byteArray = new byte[length / 2];\r\n\r\nfor (int i = 0; i &lt; ch.length; i += 2) {\r\n    byteArray[i / 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4)\r\n            + Character.digit(ch[i + 1], 16));\r\n}\r\nString string = new String(byteArray);\r\nSystem.out.println(string);\r\n\r\n```\r\nThe changes I made,\r\n\r\n - Removed `charTemp` since it will not be needed.\r\n - Initialized `byteArray` to half of the length of the `ch`.\r\n - Changed the for loop to iterate over every other element instead of checkin `i%2` in the body of the for loop.\r\n - Used `Character.digit()` method to handle the HEX values.\r\n - Created the String `string` with the generated `byteArray` so that this can be used as your output.\r\n\r\nThis should work fine.\r\n\r\n ","title":"Convert Raw Bytes to String","body":"<p>As you mentioned there is an type casting issue since you can't cast <code>charTemp</code> which is a <code>String</code> to an <code>int</code>. Other than that there are some issue I can see.</p>\n<ol>\n<li>The length of the <code>byteArray</code> is always 0. Therefore, <code>byteArray[byteArray.length]</code> does not make any sense.</li>\n<li>Since your input bytes (the <code>array</code>) is in HEX, you need a way to handle the HEX values properly.</li>\n</ol>\n<p>I would suggest an approach like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>String array = &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\nchar[] ch = array.toCharArray();\nSystem.out.println(Arrays.toString(ch));\n\nint length = ch.length;\nbyte[] byteArray = new byte[length / 2];\n\nfor (int i = 0; i &lt; ch.length; i += 2) {\n    byteArray[i / 2] = (byte) ((Character.digit(ch[i], 16) &lt;&lt; 4)\n            + Character.digit(ch[i + 1], 16));\n}\nString string = new String(byteArray);\nSystem.out.println(string);\n\n</code></pre>\n<p>The changes I made,</p>\n<ul>\n<li>Removed <code>charTemp</code> since it will not be needed.</li>\n<li>Initialized <code>byteArray</code> to half of the length of the <code>ch</code>.</li>\n<li>Changed the for loop to iterate over every other element instead of checkin <code>i%2</code> in the body of the for loop.</li>\n<li>Used <code>Character.digit()</code> method to handle the HEX values.</li>\n<li>Created the String <code>string</code> with the generated <code>byteArray</code> so that this can be used as your output.</li>\n</ul>\n<p>This should work fine.</p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76060404,"answer_count":2,"score":1,"last_activity_date":1681992658,"creation_date":1681959075,"question_id":76060174,"body_markdown":"i have this issue on my java code and i&#39;m kinda stuck with my solution, so i want to convert a raw bytes that i captured from a network sniffer tool (wireshark) to a string real value of the bytes\r\n\r\nbasically this was the solution i want to create but i don&#39;t have an idea because i can&#39;t type cast it\r\n```java\r\nString array= &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\r\n        char[] ch=array.toCharArray();\r\n        String charTemp = &quot;&quot;;\r\n        byte[] byteArray= {};\r\n\r\n        for (int i = 0; i &lt; ch.length; i++) {\r\n            if(i%2==0) {\r\n                System.out.println(charTemp);\r\n                System.out.println(byteArray.length);\r\n                byteArray[byteArray.length]=(int) charTemp;\r\n                charTemp=&quot;&quot;;\r\n            }\r\n            charTemp+=ch[i];\r\n            System.out.print(ch[i] + &quot; &quot;);\r\n        }\r\n```\r\n\r\nactually i want this [link](https://onlinestringtools.com/convert-bytes-to-string) but on my java code because i want to learn how to byte manipulation, also maybe if someone have a reference/guide how to learn about byte manipulation, please recommend me :) Thanks","title":"Convert Raw Bytes to String","body":"<p>i have this issue on my java code and i'm kinda stuck with my solution, so i want to convert a raw bytes that i captured from a network sniffer tool (wireshark) to a string real value of the bytes</p>\n<p>basically this was the solution i want to create but i don't have an idea because i can't type cast it</p>\n<pre class=\"lang-java prettyprint-override\"><code>String array= &quot;6549534f3030363030303036303038303038323230303030303030303030303030303430303030303030303030303030303034313830373432313730303030303130303103&quot;;\n        char[] ch=array.toCharArray();\n        String charTemp = &quot;&quot;;\n        byte[] byteArray= {};\n\n        for (int i = 0; i &lt; ch.length; i++) {\n            if(i%2==0) {\n                System.out.println(charTemp);\n                System.out.println(byteArray.length);\n                byteArray[byteArray.length]=(int) charTemp;\n                charTemp=&quot;&quot;;\n            }\n            charTemp+=ch[i];\n            System.out.print(ch[i] + &quot; &quot;);\n        }\n</code></pre>\n<p>actually i want this <a href=\"https://onlinestringtools.com/convert-bytes-to-string\" rel=\"nofollow noreferrer\">link</a> but on my java code because i want to learn how to byte manipulation, also maybe if someone have a reference/guide how to learn about byte manipulation, please recommend me :) Thanks</p>\n"},{"tags":["java","android","deep-linking"],"answers":[{"comments":[{"owner":{"account_id":7042750,"reputation":13247,"user_id":5394680,"display_name":"Alex Bauer"},"score":0,"creation_date":1499696254,"post_id":45006050,"comment_id":77002663,"body_markdown":"Question is about creating a link that redirects to the Play Store when the target app is not installed, not about opening the Play Store from within the target app.","body":"Question is about creating a link that redirects to the Play Store when the target app is not installed, not about opening the Play Store from within the target app."}],"tags":[],"owner":{"account_id":6419041,"reputation":3386,"user_id":4976247,"accept_rate":55,"display_name":"Vishal Vaishnav"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499671571,"creation_date":1499671571,"answer_id":45006050,"question_id":45005943,"body_markdown":"For redirecting on PlayStore use below line;\r\n\r\n      startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;use your playstore app Link&quot;)));","title":"Android deep linking not redirecting to play store","body":"<p>For redirecting on PlayStore use below line;</p>\n\n<pre><code>  startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(\"use your playstore app Link\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3540785,"reputation":1523,"user_id":2957956,"accept_rate":40,"display_name":"v4_adi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499671794,"creation_date":1499671794,"answer_id":45006116,"question_id":45005943,"body_markdown":"For make it work for users who doesn&#39; have your app, you can use Firebase dynamic link. You can also track parameter and analytics with Firebase dynamic link. It is free to use. Here is the link to its tutorial. It has easy to follow tutorial. \r\n\r\nhttps://firebase.google.com/docs/dynamic-links/\r\n\r\nIf you find any trouble in implementing the dynamic link feel free to contact me. ","title":"Android deep linking not redirecting to play store","body":"<p>For make it work for users who doesn' have your app, you can use Firebase dynamic link. You can also track parameter and analytics with Firebase dynamic link. It is free to use. Here is the link to its tutorial. It has easy to follow tutorial. </p>\n\n<p><a href=\"https://firebase.google.com/docs/dynamic-links/\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/</a></p>\n\n<p>If you find any trouble in implementing the dynamic link feel free to contact me. </p>\n"},{"tags":[],"owner":{"account_id":7042750,"reputation":13247,"user_id":5394680,"display_name":"Alex Bauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499696818,"creation_date":1499696818,"answer_id":45014683,"question_id":45005943,"body_markdown":"You are using [App Links](https://blog.branch.io/technical-guide-to-deep-linking-android-app-links/), which means these are regular `http://` links. When your user clicks `http://abc.in/abc`, one of two things will happen:\r\n\r\n1. If your app is installed, the user will have the option of opening it (to send them there directly without showing a chooser, you need to [Request App Links Verification](https://developer.android.com/training/app-links/index.html#request-verify)).\r\n1. If your all is NOT installed, the user will be taken to `http://abc.in/abc` in their web browser.\r\n\r\nIt&#39;s case 2 you&#39;re trying to handle, and the approach is simple: redirect your visitor to the Play Store using the page at `http://abc.in/abc`. This can be done via Javascript or HTTP (a 307 redirect is the most common).\r\n\r\nHowever, note that this alone is not enough for a complete deep linking solution. You also need to support...\r\n\r\n1. [A custom URI scheme](https://blog.branch.io/technical-guide-android-deep-linking-uri-schemes/) for situations where App Links don&#39;t work.\r\n1. [Chrome Intents](https://blog.branch.io/technical-guide-to-deep-linking-on-android-chrome-intents/) for Chrome.\r\n1. [Deferred deep linking](https://blog.branch.io/deferred-deep-linking-with-device-snapshotting/) to make sure your users are still sent to the correct place in your app after downloading it.\r\n\r\nI suggest looking into hosted deep link services like [Branch.io](https://branch.io) (full disclosure: I&#39;m on the Branch team) or Firebase Dynamic Links. They will make your life a lot easier.","title":"Android deep linking not redirecting to play store","body":"<p>You are using <a href=\"https://blog.branch.io/technical-guide-to-deep-linking-android-app-links/\" rel=\"nofollow noreferrer\">App Links</a>, which means these are regular <code>http://</code> links. When your user clicks <code>http://abc.in/abc</code>, one of two things will happen:</p>\n\n<ol>\n<li>If your app is installed, the user will have the option of opening it (to send them there directly without showing a chooser, you need to <a href=\"https://developer.android.com/training/app-links/index.html#request-verify\" rel=\"nofollow noreferrer\">Request App Links Verification</a>).</li>\n<li>If your all is NOT installed, the user will be taken to <code>http://abc.in/abc</code> in their web browser.</li>\n</ol>\n\n<p>It's case 2 you're trying to handle, and the approach is simple: redirect your visitor to the Play Store using the page at <code>http://abc.in/abc</code>. This can be done via Javascript or HTTP (a 307 redirect is the most common).</p>\n\n<p>However, note that this alone is not enough for a complete deep linking solution. You also need to support...</p>\n\n<ol>\n<li><a href=\"https://blog.branch.io/technical-guide-android-deep-linking-uri-schemes/\" rel=\"nofollow noreferrer\">A custom URI scheme</a> for situations where App Links don't work.</li>\n<li><a href=\"https://blog.branch.io/technical-guide-to-deep-linking-on-android-chrome-intents/\" rel=\"nofollow noreferrer\">Chrome Intents</a> for Chrome.</li>\n<li><a href=\"https://blog.branch.io/deferred-deep-linking-with-device-snapshotting/\" rel=\"nofollow noreferrer\">Deferred deep linking</a> to make sure your users are still sent to the correct place in your app after downloading it.</li>\n</ol>\n\n<p>I suggest looking into hosted deep link services like <a href=\"https://branch.io\" rel=\"nofollow noreferrer\">Branch.io</a> (full disclosure: I'm on the Branch team) or Firebase Dynamic Links. They will make your life a lot easier.</p>\n"}],"owner":{"display_name":"user6138777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1681992342,"creation_date":1499671181,"question_id":45005943,"body_markdown":"I have customized deep linking, it is working fine for users having the app. But for users not having the app, it doesn&#39;t redirect them to playstore.\r\n\r\n\r\n    &lt;intent-filter&gt;\r\n\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:host=&quot;abc.in&quot;\r\n                    android:pathPrefix=&quot;/abc&quot;\r\n                    android:scheme=&quot;http&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\nMY Code for generating deeplink\r\n\r\n    public void Share() {\r\n        firebaseAnalyticsUtil.fireEvent(&quot;shared_link&quot;);\r\n        Intent sharingIntent = new Intent(Intent.ACTION_SEND);\r\n        sharingIntent.setType(&quot;text/plain&quot;);\r\n        sharingIntent.putExtra(Intent.EXTRA_SUBJECT,&quot;Hey!&quot;);\r\n        sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, &quot;Share Text - &quot;+&quot;http://abc.in/abc/&quot;+ID);\r\n        startActivity(Intent.createChooser(sharingIntent,&quot;Share using&quot;));\r\n    }\r\n\r\nAssist me to redirect user to playstore, if user does not have the app","title":"Android deep linking not redirecting to play store","body":"<p>I have customized deep linking, it is working fine for users having the app. But for users not having the app, it doesn't redirect them to playstore.</p>\n\n<pre><code>&lt;intent-filter&gt;\n\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;data\n                android:host=\"abc.in\"\n                android:pathPrefix=\"/abc\"\n                android:scheme=\"http\" /&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n\n<p>MY Code for generating deeplink</p>\n\n<pre><code>public void Share() {\n    firebaseAnalyticsUtil.fireEvent(\"shared_link\");\n    Intent sharingIntent = new Intent(Intent.ACTION_SEND);\n    sharingIntent.setType(\"text/plain\");\n    sharingIntent.putExtra(Intent.EXTRA_SUBJECT,\"Hey!\");\n    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, \"Share Text - \"+\"http://abc.in/abc/\"+ID);\n    startActivity(Intent.createChooser(sharingIntent,\"Share using\"));\n}\n</code></pre>\n\n<p>Assist me to redirect user to playstore, if user does not have the app</p>\n"},{"tags":["java","android","android-10.0"],"comments":[{"owner":{"account_id":3342575,"reputation":2447,"user_id":2808493,"accept_rate":80,"display_name":"Armin"},"score":0,"creation_date":1561350150,"post_id":56689210,"comment_id":100018957,"body_markdown":"Do these articles help you ? https://developer.android.com/training/system-ui/immersive | https://developer.android.com/training/system-ui/visibility.html","body":"Do these articles help you ? <a href=\"https://developer.android.com/training/system-ui/immersive\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/immersive</a> | <a href=\"https://developer.android.com/training/system-ui/visibility.html\" rel=\"nofollow noreferrer\">developer.android.com/training/system-ui/visibility.html</a>"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1561389034,"post_id":56689210,"comment_id":100037694,"body_markdown":"I already read it. But can&#39;t find any good solution. We can calculate using system bars, but it is not suitable for all devices &amp; apps, since it is non-standard!","body":"I already read it. But can&#39;t find any good solution. We can calculate using system bars, but it is not suitable for all devices &amp; apps, since it is non-standard!"},{"owner":{"account_id":10023041,"reputation":875,"user_id":7412076,"display_name":"Charles Annic"},"score":0,"creation_date":1561793772,"post_id":56689210,"comment_id":100185269,"body_markdown":"Do you mean &quot;fully gestural navigation&quot; by &quot;full screen gestures&quot;?","body":"Do you mean &quot;fully gestural navigation&quot; by &quot;full screen gestures&quot;?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1561801947,"post_id":56689210,"comment_id":100186608,"body_markdown":"I think both are same. Try android Q beta 4...","body":"I think both are same. Try android Q beta 4..."},{"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"score":1,"creation_date":1568195730,"post_id":56689210,"comment_id":102195188,"body_markdown":"Did you find any solution yet?","body":"Did you find any solution yet?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1568195922,"post_id":56689210,"comment_id":102195291,"body_markdown":"Unfortunately,  No!","body":"Unfortunately,  No!"},{"owner":{"account_id":19071008,"reputation":153,"user_id":13925173,"display_name":"A_Jayke"},"score":0,"creation_date":1623574478,"post_id":56689210,"comment_id":120113190,"body_markdown":"@Jaya Prakash Almost 2 year later, were you able to find a solution?","body":"@Jaya Prakash Almost 2 year later, were you able to find a solution?"},{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":2,"creation_date":1623665486,"post_id":56689210,"comment_id":120134259,"body_markdown":"@A_Jayke Not yet. I still can&#39;t believe they didn&#39;t include any API for this. :/","body":"@A_Jayke Not yet. I still can&#39;t believe they didn&#39;t include any API for this. :/"}],"answers":[{"comments":[{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":2,"creation_date":1584532787,"post_id":60733427,"comment_id":107463917,"body_markdown":"Is using resource identifier reliable? I read that they vary depends on device &amp; may change over time...","body":"Is using resource identifier reliable? I read that they vary depends on device &amp; may change over time..."},{"owner":{"account_id":7429323,"reputation":653,"user_id":5650873,"display_name":"Trung Đoan"},"score":0,"creation_date":1584617787,"post_id":60733427,"comment_id":107494203,"body_markdown":"I found the resource identifier on android Q source code of google. so I think that OEMs will use same id for full screen gesture.","body":"I found the resource identifier on android Q source code of google. so I think that OEMs will use same id for full screen gesture."},{"owner":{"account_id":2394020,"reputation":6422,"user_id":2093236,"display_name":"Dmide"},"score":3,"creation_date":1617706599,"post_id":60733427,"comment_id":118373332,"body_markdown":"Important! You need to surround `resources.getInteger()` with try/catch to handle Resources.NotFoundException, otherwise this code will crash on various Xiaomi and Samsung devices. Also this code didn&#39;t work on Huawei devices.","body":"Important! You need to surround <code>resources.getInteger()</code> with try/catch to handle Resources.NotFoundException, otherwise this code will crash on various Xiaomi and Samsung devices. Also this code didn&#39;t work on Huawei devices."},{"owner":{"account_id":2536309,"reputation":320,"user_id":2203337,"display_name":"Dr. Failov"},"score":0,"creation_date":1619715809,"post_id":60733427,"comment_id":118995876,"body_markdown":"In my case (S21 Ultra, Android 11) config_navBarInteractionMode = 17694897, so this method is not very reliable","body":"In my case (S21 Ultra, Android 11) config_navBarInteractionMode = 17694897, so this method is not very reliable"},{"owner":{"account_id":20706970,"reputation":283,"user_id":15204601,"display_name":"Abdullah"},"score":2,"creation_date":1622717768,"post_id":60733427,"comment_id":119874639,"body_markdown":"this is not working. I tried on xioami device. it both gives 0 in gesture and menu buttons mode","body":"this is not working. I tried on xioami device. it both gives 0 in gesture and menu buttons mode"},{"owner":{"account_id":4903022,"reputation":1398,"user_id":3950602,"display_name":"Alexey Ozerov"},"score":0,"creation_date":1664520525,"post_id":60733427,"comment_id":130494833,"body_markdown":"Unfortunately not working on Android T (Pixel 6a)","body":"Unfortunately not working on Android T (Pixel 6a)"}],"tags":[],"owner":{"account_id":7429323,"reputation":653,"user_id":5650873,"display_name":"Trung Đoan"},"comment_count":6,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1584504681,"creation_date":1584504681,"answer_id":60733427,"question_id":56689210,"body_markdown":"You can use below code to check gesture or navigation mode\r\n\r\n        public static int isEdgeToEdgeEnabled(Context context) {\r\n            Resources resources = context.getResources();\r\n            int resourceId = resources.getIdentifier(&quot;config_navBarInteractionMode&quot;, &quot;integer&quot;, &quot;android&quot;);\r\n            if (resourceId &gt; 0) {\r\n                return resources.getInteger(resourceId);\r\n            }\r\n            return 0;\r\n        }\r\n\r\nThe value that returned by isEdgeToEdgeEnabled function will follow below:\r\n\r\n \r\n - 0 : Navigation is displaying with 3 buttons\r\n \r\n - 1 : Navigation is displaying with 2 button(Android P navigation mode)\r\n\r\n - 2 : Full screen gesture(Gesture on android Q)","title":"How to detect full screen gesture mode in android 10","body":"<p>You can use below code to check gesture or navigation mode</p>\n\n<pre><code>    public static int isEdgeToEdgeEnabled(Context context) {\n        Resources resources = context.getResources();\n        int resourceId = resources.getIdentifier(\"config_navBarInteractionMode\", \"integer\", \"android\");\n        if (resourceId &gt; 0) {\n            return resources.getInteger(resourceId);\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>The value that returned by isEdgeToEdgeEnabled function will follow below:</p>\n\n<ul>\n<li><p>0 : Navigation is displaying with 3 buttons</p></li>\n<li><p>1 : Navigation is displaying with 2 button(Android P navigation mode)</p></li>\n<li><p>2 : Full screen gesture(Gesture on android Q)</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1593687675,"post_id":62616489,"comment_id":110870448,"body_markdown":"It returns true, even in gesture mode!","body":"It returns true, even in gesture mode!"},{"owner":{"account_id":6400289,"reputation":2590,"user_id":4963233,"accept_rate":40,"display_name":"Rami Jemli"},"score":0,"creation_date":1593769118,"post_id":62616489,"comment_id":110900957,"body_markdown":"It should return true for gestures mode. False otherwise. Does it behave accordingly?","body":"It should return true for gestures mode. False otherwise. Does it behave accordingly?"},{"owner":{"account_id":8214564,"reputation":3867,"user_id":6181476,"accept_rate":66,"display_name":"X09"},"score":1,"creation_date":1612975650,"post_id":62616489,"comment_id":116935287,"body_markdown":"It returns true for both gesture mode and non-gesture mode.","body":"It returns true for both gesture mode and non-gesture mode."}],"tags":[],"owner":{"account_id":6400289,"reputation":2590,"user_id":4963233,"accept_rate":40,"display_name":"Rami Jemli"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1593299450,"creation_date":1593299450,"answer_id":62616489,"question_id":56689210,"body_markdown":"According to docs, there is a `hasInsets()` method that returns `true` if the `WindowInsets` has any nonzero insets.&lt;br/&gt;\r\nhttps://developer.android.com/reference/android/view/WindowInsets#hasInsets()&lt;br/&gt;&lt;br/&gt;We can use it this way&lt;br/&gt;\r\n\r\n    view.rootWindowInsets.hasInsets()\r\nHope this helps!","title":"How to detect full screen gesture mode in android 10","body":"<p>According to docs, there is a <code>hasInsets()</code> method that returns <code>true</code> if the <code>WindowInsets</code> has any nonzero insets.<br/>\n<a href=\"https://developer.android.com/reference/android/view/WindowInsets#hasInsets()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/WindowInsets#hasInsets()</a><br/><br/>We can use it this way<br/></p>\n<pre><code>view.rootWindowInsets.hasInsets()\n</code></pre>\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"score":0,"creation_date":1647491590,"post_id":70514883,"comment_id":126386216,"body_markdown":"Did you tried after hiding the bottom-gesture-indicator bar?","body":"Did you tried after hiding the bottom-gesture-indicator bar?"},{"owner":{"account_id":10915331,"reputation":1673,"user_id":11146632,"display_name":"Sujit"},"score":0,"creation_date":1647535216,"post_id":70514883,"comment_id":126400988,"body_markdown":"@JayaPrakash No I don&#39;t hide that bar, but it should still work.","body":"@JayaPrakash No I don&#39;t hide that bar, but it should still work."},{"owner":{"account_id":5866004,"reputation":16374,"user_id":4619958,"accept_rate":83,"display_name":"ch271828n"},"score":1,"creation_date":1660795235,"post_id":70514883,"comment_id":129618373,"body_markdown":"Did not work for redmi :(","body":"Did not work for redmi :("}],"tags":[],"owner":{"account_id":10915331,"reputation":1673,"user_id":11146632,"display_name":"Sujit"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640748977,"creation_date":1640748977,"answer_id":70514883,"question_id":56689210,"body_markdown":"I found [this article](https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c) really useful in explaining what [`WindowInsets`](https://developer.android.com/reference/android/view/WindowInsets) are and how to use them.\r\n\r\nBasically I check if the left gesture inset is greater than `0`, and if it is then the system is using gesture type navigation. Left and right gesture insets have to be greater than `0` in gesture type navigation because you swipe from the right or left to go back.\r\n\r\n```java\r\nint gestureLeft = 0;\r\n\r\nif (Build.VERSION.SDK_INT &gt;= 29) {\r\n    gestureLeft = this.getWindow().getDecorView().getRootWindowInsets().getSystemGestureInsets().left;\r\n}\r\n\r\nif (gestureLeft == 0) {\r\n    // Doesn&#39;t use gesture type navigation\r\n} else {\r\n    // Uses gesture type navigation\r\n}\r\n```\r\n\r\nObviously, the window has to be rendered for this to work. You can add it inside an [`OnApplyWindowInsetsListener`](https://developer.android.com/reference/android/view/View.OnApplyWindowInsetsListener) if you want this to run as soon as the window is rendered.\r\n\r\n&gt; Note: I tried using `getSystemGestureInsets().bottom`, but it returned a non-zero value even when I wasn&#39;t using gesture type navigation.","title":"How to detect full screen gesture mode in android 10","body":"<p>I found <a href=\"https://medium.com/androiddevelopers/gesture-navigation-handling-visual-overlaps-4aed565c134c\" rel=\"nofollow noreferrer\">this article</a> really useful in explaining what <a href=\"https://developer.android.com/reference/android/view/WindowInsets\" rel=\"nofollow noreferrer\"><code>WindowInsets</code></a> are and how to use them.</p>\n<p>Basically I check if the left gesture inset is greater than <code>0</code>, and if it is then the system is using gesture type navigation. Left and right gesture insets have to be greater than <code>0</code> in gesture type navigation because you swipe from the right or left to go back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int gestureLeft = 0;\n\nif (Build.VERSION.SDK_INT &gt;= 29) {\n    gestureLeft = this.getWindow().getDecorView().getRootWindowInsets().getSystemGestureInsets().left;\n}\n\nif (gestureLeft == 0) {\n    // Doesn't use gesture type navigation\n} else {\n    // Uses gesture type navigation\n}\n</code></pre>\n<p>Obviously, the window has to be rendered for this to work. You can add it inside an <a href=\"https://developer.android.com/reference/android/view/View.OnApplyWindowInsetsListener\" rel=\"nofollow noreferrer\"><code>OnApplyWindowInsetsListener</code></a> if you want this to run as soon as the window is rendered.</p>\n<blockquote>\n<p>Note: I tried using <code>getSystemGestureInsets().bottom</code>, but it returned a non-zero value even when I wasn't using gesture type navigation.</p>\n</blockquote>\n"}],"owner":{"account_id":12138677,"reputation":559,"user_id":8863321,"display_name":"Jaya Prakash"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8230,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"answer_count":3,"score":32,"last_activity_date":1681992049,"creation_date":1561044099,"question_id":56689210,"body_markdown":"In Android 10, users can enable full screen gesture mode. I want to detect whether the device in full screen gesture mode or not. I can&#39;t find anything in documentation. How to do it programmatically at run time?\r\n\r\nJava or kotlin language answer is OK.\r\n\r\nAny official API or workaround...","title":"How to detect full screen gesture mode in android 10","body":"<p>In Android 10, users can enable full screen gesture mode. I want to detect whether the device in full screen gesture mode or not. I can't find anything in documentation. How to do it programmatically at run time?</p>\n\n<p>Java or kotlin language answer is OK.</p>\n\n<p>Any official API or workaround...</p>\n"},{"tags":["java","ant","build.xml"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1681926437,"post_id":76057219,"comment_id":134137138,"body_markdown":"Kindly read https://stackoverflow.com/help/how-to-ask. You should add the detailed configurations from build.xml, directory listing and full error messages. Also version of ANT and tooling used.","body":"Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. You should add the detailed configurations from build.xml, directory listing and full error messages. Also version of ANT and tooling used."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1681990746,"post_id":76057219,"comment_id":134147180,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1681993251,"post_id":76057219,"comment_id":134147737,"body_markdown":"Please do not use comments for thanks. Guideline on https://stackoverflow.com/help/someone-answers: Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. Comments are meant for requesting clarification, leaving constructive criticism, or adding relevant but minor additional information – not for socializing. If you want to say &quot;thank you,&quot; vote on or accept that person&#39;s answer, or simply pay it forward by providing a great answer to someone else&#39;s question.","body":"Please do not use comments for thanks. Guideline on <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>: Please do not add a comment on your question or on an answer to say &quot;Thank you&quot;. Comments are meant for requesting clarification, leaving constructive criticism, or adding relevant but minor additional information – not for socializing. If you want to say &quot;thank you,&quot; vote on or accept that person&#39;s answer, or simply pay it forward by providing a great answer to someone else&#39;s question."}],"owner":{"account_id":3187272,"reputation":3749,"user_id":5362244,"accept_rate":74,"display_name":"dhS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991850,"creation_date":1681924621,"question_id":76057219,"body_markdown":"My Project build.xml is \r\n\r\n\r\n    &lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\r\n \r\n\t&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\r\n\t&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\r\n\t&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\r\n\t&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\r\n\t&lt;property name=&quot;build.target.dir&quot; value=&quot;${build.root.dir}/target&quot;/&gt;\r\n\t&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\r\n\t&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\r\n\t&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\r\n\t&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\r\n\t&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\r\n\r\n \r\n\r\n\t&lt;path id=&quot;3rdparty.path&quot;&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ldap-authentication-api-1.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ojdbc6-11.2.0.2.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\r\n\t\t\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.uguess.birt.report.engine.emitter.rtf_2.5.2.201107181644.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.update.configurator_3.3.200.v20130326-1319.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi_3.9.1.v20130814-1242.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi.services_3.3.100.v20130513-1956.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.orbit.mongodb_2.10.1.v20130422-1135.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.registry_3.5.301.v20130717-1549.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.app_1.3.100.v20130327-1442.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf_2.6.0.v20130902-0605.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.xmi_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.change_2.9.0.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.common_2.9.1.v20130827-0309.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity_1.2.9.v201307261105.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda_3.4.1.v201308160907.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.design_3.3.6.v201212070447.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201305170644.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.1.v201107221459.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.runtime_3.9.0.v20130326-1255.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.resources_3.8.101.v20130717-0806.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.filesystem_1.4.0.v20130514-1240.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.expressions_3.4.500.v20130515-1343.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime-4.3.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime_4.3.1.v20130918-1142.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.nativexls_1.0.0.201110011404.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.csv_1.0.0.201110121016.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.xml.resolver_1.2.0.v201005080400.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.xml_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util.gui_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.transcoder_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.svggen_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.pdf_1.6.0.v201105071520.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.parser_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.ext.awt_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom.svg_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.css_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.bridge_1.6.0.v201011041432.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-examples-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-excelant-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-schemas-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/poi-scratchpad-3.9-20121203.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jackson-core-asl-1.9.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jackson-mapper-asl-1.9.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet-core.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javax.annotation-api-1.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javax.ws.rs-api-2.0.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-server.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-api-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-locator-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hk2-utils-2.3.0-b10.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-guava-2.13.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/validation-api-1.1.0.Final.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jersey-client.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/AsOneModel.jar&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;path id=&quot;jboss.path&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\r\n\t\t\t&lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;activation.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;mail.jar&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;path refid=&quot;3rdparty.path&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;target name=&quot;settings&quot;&gt;\r\n\t\t&lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\r\n\t\t&lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;\t\r\n\t&lt;/target &gt;\r\n\t\r\n\t&lt;target name=&quot;compile_timesheet&quot; &gt;\r\n\t\t&lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\r\n\t\t\t&lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;com/**/*.java&quot;/&gt;\r\n\t\t&lt;/javac&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\r\n\t\t&lt;delete dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/com/cnsi/timesheet/&quot; &gt;\r\n\t\t   &lt;fileset dir=&quot;${build.root.dir}/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.target.dir}/${build.app.name}.war&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\r\n\t\r\n\t\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nand my target build.xml is \r\n\r\n\r\n\r\n    &lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\r\n\r\n\t&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\r\n\t&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\r\n\t&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\r\n\t&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\r\n\t&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\r\n\t&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\r\n\t&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\r\n\t&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\r\n\t&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\r\n\t&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\r\n\r\n\t&lt;path id=&quot;3rdparty.path&quot;&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/mysql-connector-java-3.1.12-bin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\r\n\t\t&lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;path id=&quot;jboss.path&quot;&gt;\r\n\t\t&lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\r\n\t\t\t&lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;activation.jar&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;mail.jar&quot;/&gt;\r\n\t\t&lt;/fileset&gt;\r\n\t\t&lt;path refid=&quot;3rdparty.path&quot;/&gt;\r\n\t&lt;/path&gt;\r\n\r\n\t&lt;target name=&quot;settings&quot;&gt;\r\n\t\t&lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\r\n\t\t&lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;\t\r\n\t&lt;/target &gt;\r\n\t\r\n\t&lt;target name=&quot;compile_timesheet&quot; &gt;\r\n\t\t&lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\r\n\t\t&lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\r\n\t\t\t&lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\r\n\t\t\t&lt;include name=&quot;com/**/*.java&quot;/&gt;\r\n\t\t&lt;/javac&gt;\r\n\t&lt;/target&gt;\r\n\r\n\t&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\r\n\t\t&lt;delete dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;mkdir dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/&quot;&gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t\t&lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\r\n\r\n\t\t&lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\r\n\t\t\t&lt;fileset dir=&quot;${build.source.dir}/${build.app.name}.war&quot; /&gt;\r\n\t\t&lt;/copy&gt;\r\n\t&lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\nI am creating a war file after deployment, but unable to find the jar dependency in the build.xml in target folder.\r\n\r\nI have added \r\n`&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;` in build.xml and added the jar in lib folder.\r\n\r\nAfter building the project I have seen that the jar is not found and the build.xml in target folder doesn&#39;t contain the jar path as I added in project&#39;s build.xml\r\n\r\nCan someone tell me how can I deploy it with new jar dependency I added.\r\n\r\n","title":"Build.xml in target folder is not updated with the jar dependencies newly added -- using ant to build","body":"<p>My Project build.xml is</p>\n<pre><code>&lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\n\n&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\n&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\n&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\n&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\n&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\n&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\n&lt;property name=&quot;build.target.dir&quot; value=&quot;${build.root.dir}/target&quot;/&gt;\n&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\n&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\n&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\n&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\n&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\n\n\n\n&lt;path id=&quot;3rdparty.path&quot;&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ldap-authentication-api-1.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ojdbc6-11.2.0.2.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\n    \n    &lt;pathelement path=&quot;${build.lib.dir}/org.uguess.birt.report.engine.emitter.rtf_2.5.2.201107181644.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.update.configurator_3.3.200.v20130326-1319.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi_3.9.1.v20130814-1242.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.osgi.services_3.3.100.v20130513-1956.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.orbit.mongodb_2.10.1.v20130422-1135.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.registry_3.5.301.v20130717-1549.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.preferences_3.5.100.v20130422-1538.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.equinox.app_1.3.100.v20130327-1442.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf_2.6.0.v20130902-0605.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.xmi_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.ecore.change_2.9.0.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.emf.common_2.9.1.v20130827-0309.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle_1.0.0.v201107221506.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.enablement.oracle.dbdefinition_1.0.103.v201206010214.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity_1.2.9.v201307261105.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda_3.4.1.v201308160907.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.design_3.3.6.v201212070447.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.oda.consumer_3.2.6.v201305170644.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.dbdefinition.genericJDBC_1.0.1.v201107221459.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.datatools.connectivity.db.generic_1.0.1.v201107221459.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.runtime_3.9.0.v20130326-1255.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.resources_3.8.101.v20130717-0806.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.jobs_3.5.300.v20130429-1813.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.filesystem_1.4.0.v20130514-1240.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.expressions_3.4.500.v20130515-1343.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.core.contenttype_3.4.200.v20130326-1255.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime-4.3.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.runtime_4.3.1.v20130918-1142.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.nativexls_1.0.0.201110011404.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.eclipse.birt.report.engine.emitter.csv_1.0.0.201110121016.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.xml.resolver_1.2.0.v201005080400.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.xml_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.util.gui_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.transcoder_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.svggen_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.pdf_1.6.0.v201105071520.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.parser_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.ext.awt_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.dom.svg_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.css_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/org.apache.batik.bridge_1.6.0.v201011041432.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-examples-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-excelant-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-ooxml-schemas-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/poi-scratchpad-3.9-20121203.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jackson-core-asl-1.9.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jackson-mapper-asl-1.9.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet-core.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-container-servlet.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javax.annotation-api-1.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javax.ws.rs-api-2.0.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-server.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-api-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-locator-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hk2-utils-2.3.0-b10.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-guava-2.13.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/validation-api-1.1.0.Final.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jersey-client.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/AsOneModel.jar&quot;/&gt;\n&lt;/path&gt;\n\n&lt;path id=&quot;jboss.path&quot;&gt;\n    &lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\n        &lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\n        &lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\n        &lt;include name=&quot;activation.jar&quot;/&gt;\n        &lt;include name=&quot;mail.jar&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;path refid=&quot;3rdparty.path&quot;/&gt;\n&lt;/path&gt;\n\n&lt;target name=&quot;settings&quot;&gt;\n    &lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\n    &lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;   \n&lt;/target &gt;\n\n&lt;target name=&quot;compile_timesheet&quot; &gt;\n    &lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\n        &lt;include name=&quot;com/**/*.java&quot;/&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\n    &lt;delete dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.target.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/&quot;&gt;\n        &lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\n        &lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.target.dir}/${build.app.name}.war/WEB-INF/classes/com/cnsi/timesheet/&quot; &gt;\n       &lt;fileset dir=&quot;${build.root.dir}/resources&quot; includes=&quot;**/*.properties&quot;/&gt;\n    &lt;/copy&gt;\n    &lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\n        &lt;fileset dir=&quot;${build.target.dir}/${build.app.name}.war&quot; /&gt;\n    &lt;/copy&gt;\n\n\n    &lt;/target&gt;\n</code></pre>\n\n<p>and my target build.xml is</p>\n<pre><code>&lt;project name=&quot;timesheet&quot; default=&quot;build_war&quot; basedir=&quot;.&quot;&gt;\n\n&lt;property file=&quot;${basedir}/properties/local.properties&quot;/&gt;\n&lt;property name=&quot;build.root.dir&quot; value=&quot;${BUILD_ROOT}&quot;/&gt;\n&lt;property name=&quot;jboss.home&quot; value=&quot;${JBOSS_HOME}&quot;/&gt;\n&lt;property name=&quot;env.java.home&quot; value=&quot;${JAVA_HOME}&quot;/&gt;\n&lt;property name=&quot;deploy.dir&quot; value=&quot;${DEPLOY_DIR}&quot;/&gt;\n&lt;property name=&quot;build.output.dir&quot; value=&quot;${build.root.dir}/${APPSERVER}&quot;/&gt;\n&lt;property name=&quot;build.deploy.dir&quot; value=&quot;${build.root.dir}/deploy&quot;/&gt;\n&lt;property name=&quot;build.source.dir&quot; value=&quot;${build.root.dir}/src&quot;/&gt;\n&lt;property name=&quot;build.lib.dir&quot; value=&quot;${build.root.dir}/lib&quot;/&gt;\n&lt;property name=&quot;build.classes.dir&quot; value=&quot;${build.root.dir}/classes&quot;/&gt;\n&lt;property name=&quot;build.app.name&quot; value=&quot;${APPNAME}&quot; /&gt;\n\n&lt;path id=&quot;3rdparty.path&quot;&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/activation.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr-2.7.2.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/antlr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/autonumber-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bcel.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bindingservice-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsf.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh-deployer.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/bsh.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/cglib.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-beanutils-1.7.0.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-chain-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-codec-1.6.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-collections.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-digester-1.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-fileupload-1.1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-httpclient.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-io-1.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging-1.0.4.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-logging.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/commons-validator-1.3.1.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/crypt.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/dom4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/ejb3-persistence.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/el-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-annotations.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate-entitymanager.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hibernate3.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/hsqldb.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/javassist.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jaxen.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-cache-jdk50.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-common-jdbc-wrapper.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-ejb3x.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-hibernate.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-j2ee.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxrpc.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jaxws.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jca.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr77.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-jsr88.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-management.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-monitoring.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting-int.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-remoting.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-saaj.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-serialization.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-srp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-transaction.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss-vfs.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jboss.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta-integration.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossjta.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossmq.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbosssx.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossts-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-common.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-framework.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-jboss42.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jbossws-spi.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jmx-adaptor-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jnpserver.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/joesnmp.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-pattern.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jpl-util.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/jsp-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-1.2.9.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j-snmp-appender.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/log4j.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mail.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/mysql-connector-java-3.1.12-bin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/properties-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/quartz.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin-example.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/scheduler-plugin.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/servlet-api.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-core-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-el-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-extras-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-faces-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-mailreader-dao-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-scripting-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-taglib-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/struts-tiles-1.3.8.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/xmlentitymgr.jar&quot;/&gt;\n    &lt;pathelement path=&quot;${build.lib.dir}/java-json.jar&quot;/&gt;\n&lt;/path&gt;\n\n&lt;path id=&quot;jboss.path&quot;&gt;\n    &lt;fileset dir=&quot;${jboss.home}/server/timesheet/lib&quot;&gt;\n        &lt;include name=&quot;javax.servlet*.jar&quot;/&gt;\n        &lt;include name=&quot;jboss-j2ee.jar&quot;/&gt;\n        &lt;include name=&quot;activation.jar&quot;/&gt;\n        &lt;include name=&quot;mail.jar&quot;/&gt;\n    &lt;/fileset&gt;\n    &lt;path refid=&quot;3rdparty.path&quot;/&gt;\n&lt;/path&gt;\n\n&lt;target name=&quot;settings&quot;&gt;\n    &lt;echo message=&quot;build.output.dir : ${build.output.dir}&quot;/&gt;\n    &lt;echo message=&quot;jboss.home : ${jboss.home}&quot; /&gt;   \n&lt;/target &gt;\n\n&lt;target name=&quot;compile_timesheet&quot; &gt;\n    &lt;delete dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.classes.dir}&quot;/&gt;\n    &lt;javac srcdir=&quot;${build.source.dir}&quot; destdir=&quot;${build.classes.dir}&quot; deprecation=&quot;off&quot; failonerror=&quot;true&quot; debug=&quot;true&quot; memorymaximumsize=&quot;256m&quot; fork=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;3rdparty.path&quot;/&gt;\n        &lt;include name=&quot;com/**/*.java&quot;/&gt;\n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=&quot;build_war&quot;  depends=&quot;compile_timesheet&quot;&gt;\n    &lt;delete dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;mkdir dir=&quot;${build.source.dir}/${build.app.name}.war&quot;/&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/&quot;&gt;\n        &lt;fileset dir=&quot;${build.root.dir}/WebRoot&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${build.source.dir}/${build.app.name}.war/WEB-INF/classes/&quot; &gt;\n        &lt;fileset dir=&quot;${build.classes.dir}&quot; /&gt;\n    &lt;/copy&gt;\n    &lt;delete dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;mkdir dir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot;/&gt;\n\n    &lt;copy overwrite=&quot;yes&quot; todir=&quot;${deploy.dir}/deploy/${build.app.name}.war&quot; &gt;\n        &lt;fileset dir=&quot;${build.source.dir}/${build.app.name}.war&quot; /&gt;\n    &lt;/copy&gt;\n&lt;/target&gt;\n</code></pre>\n\n<p>I am creating a war file after deployment, but unable to find the jar dependency in the build.xml in target folder.</p>\n<p>I have added\n<code>&lt;pathelement path=&quot;${build.lib.dir}/jsch-0.1.55.jar&quot;/&gt;</code> in build.xml and added the jar in lib folder.</p>\n<p>After building the project I have seen that the jar is not found and the build.xml in target folder doesn't contain the jar path as I added in project's build.xml</p>\n<p>Can someone tell me how can I deploy it with new jar dependency I added.</p>\n"},{"tags":["java","spring","websocket"],"owner":{"account_id":28359688,"reputation":1,"user_id":21689888,"display_name":"kanepark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991845,"creation_date":1681991845,"question_id":76063784,"body_markdown":"WebSocketConfig.java\r\n\r\n```\r\n@Configuration\r\n\r\n@EnableWebSocket\r\n\r\npublic class WebSocketConfig implements WebSocketConfigurer{\r\n\r\n@Override\r\n\r\npublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n\r\nregistry.addHandler(myHandler(), &quot;/user&quot;).setAllowedOrigins(&quot;\\*&quot;).withSockJS();\r\n\r\n}\r\n\r\n@Bean\r\n\r\npublic WebSocketHandler myHandler() {\r\n\r\nreturn new MyHandler();\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\n\r\nSocketTextHandler.java\r\n```\r\n\r\npublic class SocketTextHandler extends TextWebSocketHandler {\r\n\r\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\r\n\r\n@Override\r\n\r\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n\r\nsessions.add(session);\r\n\r\nSystem.out.print(&quot;연결&quot;);\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic boolean supportsPartialMessages() {\r\n\r\n// TODO Auto-generated method stub\r\n\r\nreturn false;\r\n\r\n}\r\n\r\n}\r\n\r\n```\r\nMyHandler.java\r\n\r\n```\r\npublic class MyHandler implements WebSocketHandler {\r\n\r\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\r\n\r\n@Override\r\n\r\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n\r\nsessions.add(session);\r\n\r\nSystem.out.print(&quot;hi&quot;);\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\r\n\r\n// TODO Auto-generated method stub\r\n\r\n}\r\n\r\n@Override\r\n\r\npublic boolean supportsPartialMessages() {\r\n\r\n// TODO Auto-generated method stub\r\n\r\nreturn false;\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\ni configurate code above this.\r\nwhen i check through postman\r\nws://localhost:8080/user\r\nit doesn&#39;t work...\r\ni already have checked the port is 8080..\r\nDo i have something left?\r\n\r\nwhen i check through postman\r\nws://localhost:8080/user\r\nit doesn&#39;t work...\r\ni already have checked the port is 8080..\r\nDo i have something left?","title":"problems implementing websocket exercise using spring boot","body":"<p>WebSocketConfig.java</p>\n<pre><code>@Configuration\n\n@EnableWebSocket\n\npublic class WebSocketConfig implements WebSocketConfigurer{\n\n@Override\n\npublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n\nregistry.addHandler(myHandler(), &quot;/user&quot;).setAllowedOrigins(&quot;\\*&quot;).withSockJS();\n\n}\n\n@Bean\n\npublic WebSocketHandler myHandler() {\n\nreturn new MyHandler();\n\n}\n\n}\n\n</code></pre>\n<p>SocketTextHandler.java</p>\n<pre><code>\npublic class SocketTextHandler extends TextWebSocketHandler {\n\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\n\n@Override\n\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n\nsessions.add(session);\n\nSystem.out.print(&quot;연결&quot;);\n\n}\n\n@Override\n\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic boolean supportsPartialMessages() {\n\n// TODO Auto-generated method stub\n\nreturn false;\n\n}\n\n}\n\n</code></pre>\n<p>MyHandler.java</p>\n<pre><code>public class MyHandler implements WebSocketHandler {\n\nprivate Set\\&lt;WebSocketSession\\&gt; sessions = ConcurrentHashMap.newKeySet();\n\n@Override\n\npublic void afterConnectionEstablished(WebSocketSession session) throws Exception {\n\nsessions.add(session);\n\nSystem.out.print(&quot;hi&quot;);\n\n}\n\n@Override\n\npublic void handleMessage(WebSocketSession session, WebSocketMessage\\&lt;?\\&gt; message) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void handleTransportError(WebSocketSession session, Throwable exception) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic void afterConnectionClosed(WebSocketSession session, CloseStatus closeStatus) throws Exception {\n\n// TODO Auto-generated method stub\n\n}\n\n@Override\n\npublic boolean supportsPartialMessages() {\n\n// TODO Auto-generated method stub\n\nreturn false;\n\n}\n\n}\n</code></pre>\n<p>i configurate code above this.\nwhen i check through postman\nws://localhost:8080/user\nit doesn't work...\ni already have checked the port is 8080..\nDo i have something left?</p>\n<p>when i check through postman\nws://localhost:8080/user\nit doesn't work...\ni already have checked the port is 8080..\nDo i have something left?</p>\n"},{"tags":["java","android","kotlin","unit-testing","opencv"],"owner":{"account_id":5866991,"reputation":10236,"user_id":4620609,"accept_rate":100,"display_name":"Samuel Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991726,"creation_date":1681991726,"question_id":76063765,"body_markdown":"I have been trying to integrate OpenCV into my Android app. I was successfully able to integrate and run it. However, when running unit tests which initialises OpenCV library results in an error stating \r\n\r\n```java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:```\r\n\r\nsteps I have followed so far,\r\n\r\n1. Downloaded the OpenCV lib from [here][1]\r\n2. Extracted the file and imported the module into my Android project\r\n3. Tested the library by running it on real device\r\n4. While creating a unit test with the below code, it throws the aforeementioned error\r\n\r\n```\r\n@RunWith(RobolectricTestRunner::class)\r\nclass SimilarityTransformTest {\r\n\r\n    private val transform: LinearTransform = SimilarityTransform()\r\n\r\n    @Before\r\n    fun setup() {\r\n        OpenCVLoader.initDebug()\r\n    }\r\n\r\n    @Test\r\n    fun getTransformationVector_calculateVector() {\r\n        val landmarkMat = Mat(5, 2, CvType.CV_32F)\r\n        val landmark = FacialLandmark(\r\n            PointF(395.0f, 317.0f),\r\n            PointF(536.0f, 315.0f),\r\n            PointF(440.0f, 415.0f),\r\n            PointF(409.0f, 478.0f),\r\n            PointF(534.0f, 475.0f)\r\n        )\r\n        landmarkMat.put(0, 0, *landmark.toDoubleArray())\r\n        val alignmentMat = Mat(5, 2, CvType.CV_32F)\r\n        val alignment = listOf(\r\n            Point(87.530518, 118.16298),\r\n            Point(168.07269, 117.71749),\r\n            Point(128.0576, 163.96938),\r\n            Point(94.969826, 211.12115),\r\n            Point(161.66835, 210.75224)\r\n        ).flatMap { arrayOf(it.x, it.y).asIterable() }\r\n            .toDoubleArray()\r\n        alignmentMat.put(0, 0, *alignment)\r\n        val result = transform.getTransformationVector(landmarkMat, alignmentMat)\r\n        val expected = Mat(2, 3, CvType.CV_32F)\r\n        expected.put(0, 0, 0.55679309, -0.013752065, -124.12323, 0.013752068, 0.55679309, -64.73703);\r\n\r\n        assertEquals(expected, result)\r\n    }\r\n}\r\n\r\njava.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.base/java.lang.System.loadLibrary(Unknown Source)\r\n\tat org.opencv.android.StaticHelper.loadLibrary(StaticHelper.java:64)\r\n\tat org.opencv.android.StaticHelper.initOpenCVLibs(StaticHelper.java:95)\r\n\tat org.opencv.android.StaticHelper.initOpenCV(StaticHelper.java:39)\r\n\tat org.opencv.android.OpenCVLoader.initDebug(OpenCVLoader.java:107)\r\n\tat com.yoti.mobile.android.ai.core.warp.SimilarityTransformTest.setup(SimilarityTransformTest.kt:28)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:589)\r\n\tat org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$2(SandboxTestRunner.java:290)\r\n\tat org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:99)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n\r\n\r\n```\r\n\r\nI would appreciate any help to understand why the `opencv_java4` cannot be loaded for unit tests but works well while running the app on a device/emulator.\r\n\r\n  [1]: https://opencv.org/releases/","title":"java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path in Android unit test","body":"<p>I have been trying to integrate OpenCV into my Android app. I was successfully able to integrate and run it. However, when running unit tests which initialises OpenCV library results in an error stating</p>\n<p><code>java.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:</code></p>\n<p>steps I have followed so far,</p>\n<ol>\n<li>Downloaded the OpenCV lib from <a href=\"https://opencv.org/releases/\" rel=\"nofollow noreferrer\">here</a></li>\n<li>Extracted the file and imported the module into my Android project</li>\n<li>Tested the library by running it on real device</li>\n<li>While creating a unit test with the below code, it throws the aforeementioned error</li>\n</ol>\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass SimilarityTransformTest {\n\n    private val transform: LinearTransform = SimilarityTransform()\n\n    @Before\n    fun setup() {\n        OpenCVLoader.initDebug()\n    }\n\n    @Test\n    fun getTransformationVector_calculateVector() {\n        val landmarkMat = Mat(5, 2, CvType.CV_32F)\n        val landmark = FacialLandmark(\n            PointF(395.0f, 317.0f),\n            PointF(536.0f, 315.0f),\n            PointF(440.0f, 415.0f),\n            PointF(409.0f, 478.0f),\n            PointF(534.0f, 475.0f)\n        )\n        landmarkMat.put(0, 0, *landmark.toDoubleArray())\n        val alignmentMat = Mat(5, 2, CvType.CV_32F)\n        val alignment = listOf(\n            Point(87.530518, 118.16298),\n            Point(168.07269, 117.71749),\n            Point(128.0576, 163.96938),\n            Point(94.969826, 211.12115),\n            Point(161.66835, 210.75224)\n        ).flatMap { arrayOf(it.x, it.y).asIterable() }\n            .toDoubleArray()\n        alignmentMat.put(0, 0, *alignment)\n        val result = transform.getTransformationVector(landmarkMat, alignmentMat)\n        val expected = Mat(2, 3, CvType.CV_32F)\n        expected.put(0, 0, 0.55679309, -0.013752065, -124.12323, 0.013752068, 0.55679309, -64.73703);\n\n        assertEquals(expected, result)\n    }\n}\n\njava.lang.UnsatisfiedLinkError: no opencv_java4 in java.library.path: /Users/robersa/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n    at java.base/java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.base/java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.base/java.lang.System.loadLibrary(Unknown Source)\n    at org.opencv.android.StaticHelper.loadLibrary(StaticHelper.java:64)\n    at org.opencv.android.StaticHelper.initOpenCVLibs(StaticHelper.java:95)\n    at org.opencv.android.StaticHelper.initOpenCV(StaticHelper.java:39)\n    at org.opencv.android.OpenCVLoader.initDebug(OpenCVLoader.java:107)\n    at com.yoti.mobile.android.ai.core.warp.SimilarityTransformTest.setup(SimilarityTransformTest.kt:28)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.robolectric.RobolectricTestRunner$HelperTestRunner$1.evaluate(RobolectricTestRunner.java:589)\n    at org.robolectric.internal.SandboxTestRunner$2.lambda$evaluate$2(SandboxTestRunner.java:290)\n    at org.robolectric.internal.bytecode.Sandbox.lambda$runOnMainThread$0(Sandbox.java:99)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n\n\n</code></pre>\n<p>I would appreciate any help to understand why the <code>opencv_java4</code> cannot be loaded for unit tests but works well while running the app on a device/emulator.</p>\n"},{"tags":["java","eclipse","formatting"],"answers":[{"comments":[{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1682000134,"post_id":76063702,"comment_id":134149644,"body_markdown":"any idea what&#39;s happening https://github.com/revelc/formatter-maven-plugin/discussions/732","body":"any idea what&#39;s happening <a href=\"https://github.com/revelc/formatter-maven-plugin/discussions/732\" rel=\"nofollow noreferrer\">github.com/revelc/formatter-maven-plugin/discussions/732</a>"},{"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"score":0,"creation_date":1682336478,"post_id":76063702,"comment_id":134193884,"body_markdown":"none of this matters if the line length fails to exceed the configured value for org.eclipse.jdt.core.formatter.lineSplit","body":"none of this matters if the line length fails to exceed the configured value for org.eclipse.jdt.core.formatter.lineSplit"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1682338393,"post_id":76063702,"comment_id":134194286,"body_markdown":"@caduceus Did you select &quot;Force split, even if line shorter than maximum line width&quot;?","body":"@caduceus Did you select &quot;Force split, even if line shorter than maximum line width&quot;?"}],"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681991670,"creation_date":1681991291,"answer_id":76063702,"question_id":76063645,"body_markdown":"In Eclipse navigate to:\r\n\r\n`Window -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter`\r\n\r\nThen, to change your formatting preferences, click `Edit`.\r\n\r\nThere navigate to `Line Wrapping -&gt; Wrapping Settings`.\r\n\r\nFor methods:\r\n\r\nOpen the option for `Method Declarations`, where you can select the formatting behavior for `throws`.\r\n\r\nFor class declarations:\r\n\r\nOpen the option for `Class Declarations`, where you can select the formatting behavior for `extends` and `implements`.\r\n","title":"Format implements/extends/throws on new line","body":"<p>In Eclipse navigate to:</p>\n<p><code>Window -&gt; Preferences -&gt; Java -&gt; Code Style -&gt; Formatter</code></p>\n<p>Then, to change your formatting preferences, click <code>Edit</code>.</p>\n<p>There navigate to <code>Line Wrapping -&gt; Wrapping Settings</code>.</p>\n<p>For methods:</p>\n<p>Open the option for <code>Method Declarations</code>, where you can select the formatting behavior for <code>throws</code>.</p>\n<p>For class declarations:</p>\n<p>Open the option for <code>Class Declarations</code>, where you can select the formatting behavior for <code>extends</code> and <code>implements</code>.</p>\n"}],"owner":{"account_id":1015589,"reputation":1607,"user_id":2746335,"accept_rate":29,"display_name":"caduceus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76063702,"answer_count":1,"score":0,"last_activity_date":1681991670,"creation_date":1681990855,"question_id":76063645,"body_markdown":"I want my java formatted with throws, implements, and extends on a new line. Is this possible in Eclipse?\r\n\r\n``` java\r\npublic DataRecord fromFile(File file, InputStream inputStream) throws IOException {\r\n```\r\nto\r\n``` java\r\npublic DataRecord fromFile(File file, InputStream inputStream)\r\n  throws IOException {\r\n```\r\n","title":"Format implements/extends/throws on new line","body":"<p>I want my java formatted with throws, implements, and extends on a new line. Is this possible in Eclipse?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DataRecord fromFile(File file, InputStream inputStream) throws IOException {\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DataRecord fromFile(File file, InputStream inputStream)\n  throws IOException {\n</code></pre>\n"},{"tags":["java","android","caching"],"answers":[{"tags":[],"owner":{"account_id":13898187,"reputation":359,"user_id":10034413,"display_name":"E. Greeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990941,"creation_date":1681990941,"answer_id":76063652,"question_id":76063642,"body_markdown":"I find a solution for this question, but idk if it&#39;s the correct solution\r\n\r\nIf i delete the cache DIR it work&#39;s fine, deleting only the image don&#39;t work\r\n\r\nThis code from: https://stackoverflow.com/a/23908638/10034413\r\n\r\n    public static void deleteCache(Context context) {\r\n    try {\r\n        File dir = context.getCacheDir();\r\n        deleteDir(dir);\r\n    } catch (Exception e) { e.printStackTrace();}\r\n    }\r\n    \r\n    public static boolean deleteDir(File dir) {\r\n        if (dir != null &amp;&amp; dir.isDirectory()) {\r\n            String[] children = dir.list();\r\n            for (int i = 0; i &lt; children.length; i++) {\r\n                boolean success = deleteDir(new File(dir, children[i]));\r\n                if (!success) {\r\n                    return false;\r\n                }\r\n            }\r\n            return dir.delete();\r\n        } else if(dir!= null &amp;&amp; dir.isFile()) {\r\n            return dir.delete();\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Cached android image don&#39;t change on view","body":"<p>I find a solution for this question, but idk if it's the correct solution</p>\n<p>If i delete the cache DIR it work's fine, deleting only the image don't work</p>\n<p>This code from: <a href=\"https://stackoverflow.com/a/23908638/10034413\">https://stackoverflow.com/a/23908638/10034413</a></p>\n<pre><code>public static void deleteCache(Context context) {\ntry {\n    File dir = context.getCacheDir();\n    deleteDir(dir);\n} catch (Exception e) { e.printStackTrace();}\n}\n\npublic static boolean deleteDir(File dir) {\n    if (dir != null &amp;&amp; dir.isDirectory()) {\n        String[] children = dir.list();\n        for (int i = 0; i &lt; children.length; i++) {\n            boolean success = deleteDir(new File(dir, children[i]));\n            if (!success) {\n                return false;\n            }\n        }\n        return dir.delete();\n    } else if(dir!= null &amp;&amp; dir.isFile()) {\n        return dir.delete();\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13898187,"reputation":359,"user_id":10034413,"display_name":"E. Greeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681991380,"creation_date":1681990841,"question_id":76063642,"body_markdown":"I have to create a new image based on Bitmap on the cache of my application, this works fine but when i have to create another one this process of creating and delete works to, but the image showed on the screen is still the first image i created.\r\n\r\nAndroid saves the image on memory or what?","title":"Cached android image don&#39;t change on view","body":"<p>I have to create a new image based on Bitmap on the cache of my application, this works fine but when i have to create another one this process of creating and delete works to, but the image showed on the screen is still the first image i created.</p>\n<p>Android saves the image on memory or what?</p>\n"},{"tags":["java","spring-boot","hibernate","connection-pooling","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681993250,"post_id":76063713,"comment_id":134147736,"body_markdown":"Resetting hikari is not the solution. You are leaking connections in your application, which is the issue you need to fix.","body":"Resetting hikari is not the solution. You are leaking connections in your application, which is the issue you need to fix."},{"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"score":0,"creation_date":1682009063,"post_id":76063713,"comment_id":134152032,"body_markdown":"I don&#39;t have anywhere in code that work with connections directly. All code in ORM and spring data (Repository interfaces)","body":"I don&#39;t have anywhere in code that work with connections directly. All code in ORM and spring data (Repository interfaces)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1682063606,"post_id":76063713,"comment_id":134159875,"body_markdown":"Doesn&#39;t matter, there is a leak somewhere, you don&#39;t need to work with the connection directly to achieve that. Doing things like `EntityManagerFactory.createEntityManager` or using a direct hibernate session could be the cause (or wrong use of the `JdbcTemplate`). Either way there is a leak in your application (I would suggest turning on leak detection on HIkari so you get errors), which need to be fixed. Or you have long running jobs that take up all the connections in the pool (which would require a larger pool).","body":"Doesn&#39;t matter, there is a leak somewhere, you don&#39;t need to work with the connection directly to achieve that. Doing things like <code>EntityManagerFactory.createEntityManager</code> or using a direct hibernate session could be the cause (or wrong use of the <code>JdbcTemplate</code>). Either way there is a leak in your application (I would suggest turning on leak detection on HIkari so you get errors), which need to be fixed. Or you have long running jobs that take up all the connections in the pool (which would require a larger pool)."}],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991373,"creation_date":1681991373,"question_id":76063713,"body_markdown":"We are using Spring Boot app with Hikari connection pool and Hibernate and Oracle. Sometimes in operational environment we see the blow exception:\r\n\r\n    Unable to acquire JDBC Connection\r\n\r\nThis error repeats until I reset the application and then the error will solved.\r\nI think Hikari state is not updated. I lookedup for a solution for reseting the connection pool without reset the application.\r\n\r\nI want to know the root cause the problem and know reset the connection pool is true solution and how to do that?","title":"Reset Hikari connection pool","body":"<p>We are using Spring Boot app with Hikari connection pool and Hibernate and Oracle. Sometimes in operational environment we see the blow exception:</p>\n<pre><code>Unable to acquire JDBC Connection\n</code></pre>\n<p>This error repeats until I reset the application and then the error will solved.\nI think Hikari state is not updated. I lookedup for a solution for reseting the connection pool without reset the application.</p>\n<p>I want to know the root cause the problem and know reset the connection pool is true solution and how to do that?</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","pact"],"comments":[{"owner":{"account_id":991358,"reputation":3832,"user_id":1008568,"display_name":"Matthew Fellows"},"score":0,"creation_date":1682049342,"post_id":76063636,"comment_id":134157800,"body_markdown":"The issue here seems to be that the consumer is expecting the wrong value, and the provider actually provides a differently formatted timestamp? Aren&#39;t you best updating the consumer test?","body":"The issue here seems to be that the consumer is expecting the wrong value, and the provider actually provides a differently formatted timestamp? Aren&#39;t you best updating the consumer test?"},{"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"score":0,"creation_date":1682337813,"post_id":76063636,"comment_id":134194175,"body_markdown":"Well, consumer expects data same as in real service. Of course I can adjust consumer to make fields matching, but it is a cheat :) I need to test correct data, so in my case provider  provides incorrect data and doesnt match with consumer. @MatthewFellows","body":"Well, consumer expects data same as in real service. Of course I can adjust consumer to make fields matching, but it is a cheat :) I need to test correct data, so in my case provider  provides incorrect data and doesnt match with consumer. @MatthewFellows"}],"owner":{"account_id":15065067,"reputation":859,"user_id":12276316,"display_name":"andrew17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681991208,"creation_date":1681990731,"question_id":76063636,"body_markdown":"I am trying to create Pact Test, my `provider` responds with incorrect data for `consumer`.\r\nFor example it responds with incorrect date format.\r\nConsumer pact expectation: .datetime(&quot;created-at&quot;, &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\nProvider responds with: timestamp long value.\r\nReal API responds with: &quot;2023-03-30T10:22:32.975+00:00&quot; for example.\r\n\r\nProvider test:\r\n```\r\n@TestPropertySource(properties = {\r\n    &quot;xxx&quot;\r\n})\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Provider(&quot;MyService&quot;)\r\n@PactBroker\r\npublic class PactTest extends IntegrationBase {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @Autowired\r\n    private Repository repository;\r\n\r\n    @BeforeEach\r\n    void setup(PactVerificationContext context) {\r\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;, port));\r\n    }\r\n\r\n    @TestTemplate\r\n    @ExtendWith(PactVerificationSpringProvider.class)\r\n    void pactVerificationTestTemplate(PactVerificationContext context) {\r\n        context.verifyInteraction();\r\n    }\r\n\r\n@State(value = &quot;GET ALL DATA&quot;, action = StateChangeAction.SETUP)\r\n    void getAll() {\r\n         //some code\r\n        repository.save(entity);\r\n    }\r\n```\r\n\r\nHow should I configure my provider test to respond with jackson configuration I have in project?\r\n","title":"How to configure Jackson for Pact Test in Spring Boot Test?","body":"<p>I am trying to create Pact Test, my <code>provider</code> responds with incorrect data for <code>consumer</code>.\nFor example it responds with incorrect date format.\nConsumer pact expectation: .datetime(&quot;created-at&quot;, &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\nProvider responds with: timestamp long value.\nReal API responds with: &quot;2023-03-30T10:22:32.975+00:00&quot; for example.</p>\n<p>Provider test:</p>\n<pre><code>@TestPropertySource(properties = {\n    &quot;xxx&quot;\n})\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Provider(&quot;MyService&quot;)\n@PactBroker\npublic class PactTest extends IntegrationBase {\n\n    @LocalServerPort\n    private int port;\n\n    @Autowired\n    private Repository repository;\n\n    @BeforeEach\n    void setup(PactVerificationContext context) {\n        context.setTarget(new HttpTestTarget(&quot;localhost&quot;, port));\n    }\n\n    @TestTemplate\n    @ExtendWith(PactVerificationSpringProvider.class)\n    void pactVerificationTestTemplate(PactVerificationContext context) {\n        context.verifyInteraction();\n    }\n\n@State(value = &quot;GET ALL DATA&quot;, action = StateChangeAction.SETUP)\n    void getAll() {\n         //some code\n        repository.save(entity);\n    }\n</code></pre>\n<p>How should I configure my provider test to respond with jackson configuration I have in project?</p>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":8054693,"reputation":1522,"user_id":6072229,"accept_rate":100,"display_name":"TomVW"},"score":0,"creation_date":1526981973,"post_id":50463766,"comment_id":87942035,"body_markdown":"What is the command you use to run your application?","body":"What is the command you use to run your application?"}],"answers":[{"tags":[],"owner":{"account_id":8054693,"reputation":1522,"user_id":6072229,"accept_rate":100,"display_name":"TomVW"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1557166385,"creation_date":1526981920,"answer_id":50464442,"question_id":50463766,"body_markdown":"You can run `java` with the absolute path to the installation\r\n\r\nThis would be your default `/usr/bin/java` installation\r\n\r\n    java -version\r\n\r\nTo change it, use the absolute path\r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -version\r\n\r\nIf you&#39;re not running the `java` command directly, try setting the JAVA_HOME variable:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/java-8-openjdk-amd64/jre/&quot; pdfsam","title":"How to run an application on a specific Java version?","body":"<p>You can run <code>java</code> with the absolute path to the installation</p>\n\n<p>This would be your default <code>/usr/bin/java</code> installation</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>To change it, use the absolute path</p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java -version\n</code></pre>\n\n<p>If you're not running the <code>java</code> command directly, try setting the JAVA_HOME variable:</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/java-8-openjdk-amd64/jre/\" pdfsam\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19575663,"reputation":1,"user_id":21688858,"display_name":"Le Nain Jaune"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681991000,"creation_date":1681985825,"answer_id":76062985,"question_id":50463766,"body_markdown":"As I needed a specific version of Java for a specific application ([&quot;Jitsi Desktop&quot; no more supported][1] and works with JDK 8). The only way to get this specific version is to download it, uncompress and make application use it. In my case the JAVA_HOME environment variable does not working since the JDK is not really installed in the system.\r\n\r\nSo I found this simple method : install the JDK version needed and execute the specific application with specifying which version of JDK using with temporarily modifying the PATH environment variable.\r\n\r\nIn my case (the **user** must have right to read and execute the JDK) :\r\n\r\n    user@host:~$ PATH=/data/noinstall/jdk8u332-b09/bin/:$PATH jitsi\r\n\r\nNote : adapt the path of the JDK&#39;s bin directory before the colon\r\n\r\nSo PATH is modified only during the execution of **jitsi**. Elsewhere during the execution or after the execution, PATH stay unchanged.\r\n\r\nAs `update-alternatives --config java` change the JDK globally I suppose this solution makes more comfortable the use cases with many different versions of JDK installed on the same system, dev, etc.\r\n\r\nBased on [this topic][2] and my intuitions.\r\n\r\n\r\n  [1]: https://askubuntu.com/questions/1273190/how-to-install-jitsi-from-the-unstable-repo/1324208#1324208\r\n  [2]: https://unix.stackexchange.com/questions/699507/how-can-i-install-java-8-on-debian-11-bullseye/699509#699509","title":"How to run an application on a specific Java version?","body":"<p>As I needed a specific version of Java for a specific application (<a href=\"https://askubuntu.com/questions/1273190/how-to-install-jitsi-from-the-unstable-repo/1324208#1324208\">&quot;Jitsi Desktop&quot; no more supported</a> and works with JDK 8). The only way to get this specific version is to download it, uncompress and make application use it. In my case the JAVA_HOME environment variable does not working since the JDK is not really installed in the system.</p>\n<p>So I found this simple method : install the JDK version needed and execute the specific application with specifying which version of JDK using with temporarily modifying the PATH environment variable.</p>\n<p>In my case (the <strong>user</strong> must have right to read and execute the JDK) :</p>\n<pre><code>user@host:~$ PATH=/data/noinstall/jdk8u332-b09/bin/:$PATH jitsi\n</code></pre>\n<p>Note : adapt the path of the JDK's bin directory before the colon</p>\n<p>So PATH is modified only during the execution of <strong>jitsi</strong>. Elsewhere during the execution or after the execution, PATH stay unchanged.</p>\n<p>As <code>update-alternatives --config java</code> change the JDK globally I suppose this solution makes more comfortable the use cases with many different versions of JDK installed on the same system, dev, etc.</p>\n<p>Based on <a href=\"https://unix.stackexchange.com/questions/699507/how-can-i-install-java-8-on-debian-11-bullseye/699509#699509\">this topic</a> and my intuitions.</p>\n"}],"owner":{"account_id":3815391,"reputation":8920,"user_id":3164889,"accept_rate":68,"display_name":"Socrates"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48989,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":50464442,"answer_count":2,"score":17,"last_activity_date":1681991000,"creation_date":1526979845,"question_id":50463766,"body_markdown":"How can I run an application with a specific Java version? I have three Java versions intstalled:\r\n\r\n    myuser@mysystem:~$ sudo update-alternatives --config java\r\n    There are 3 choices for the alternative java (providing /usr/bin/java).\r\n    \r\n      Selection    Path                                            Priority   Status\r\n    ------------------------------------------------------------\r\n      0            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      auto mode\r\n    * 1            /opt/jdk-9.0.4/bin/java                          1         manual mode\r\n      2            /opt/jdk1.8.0_162/bin/java                       1         manual mode\r\n      3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\r\n\r\nI have Java 9 set as default and I&#39;d like to keep it that way. Still, an application named `pdfsam` doesn&#39;t seem to work properly with Java 9. What command is necessary to run it with openjdk (option 3)?","title":"How to run an application on a specific Java version?","body":"<p>How can I run an application with a specific Java version? I have three Java versions intstalled:</p>\n\n<pre><code>myuser@mysystem:~$ sudo update-alternatives --config java\nThere are 3 choices for the alternative java (providing /usr/bin/java).\n\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n  0            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      auto mode\n* 1            /opt/jdk-9.0.4/bin/java                          1         manual mode\n  2            /opt/jdk1.8.0_162/bin/java                       1         manual mode\n  3            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n</code></pre>\n\n<p>I have Java 9 set as default and I'd like to keep it that way. Still, an application named <code>pdfsam</code> doesn't seem to work properly with Java 9. What command is necessary to run it with openjdk (option 3)?</p>\n"},{"tags":["java","concurrentmodification","linkedhashmap"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1366788188,"post_id":16180568,"comment_id":23138778,"body_markdown":"Did you really mean to have a load factor of 0.1 as you set the initial capacity to MAX_SIZE.  What the load factor does is ensure there is at least a capacity of size()/load_factor. i.e. when you have 3 keys, you will have a capacity of at least 30 (actually 32 as it has to be a power of 2).  I suggest using `MAX_SIZE*10/7` and the default load factor of `0.7f` which will give you a capacity of 4 in this case.","body":"Did you really mean to have a load factor of 0.1 as you set the initial capacity to MAX_SIZE.  What the load factor does is ensure there is at least a capacity of size()/load_factor. i.e. when you have 3 keys, you will have a capacity of at least 30 (actually 32 as it has to be a power of 2).  I suggest using <code>MAX_SIZE*10&#47;7</code> and the default load factor of <code>0.7f</code> which will give you a capacity of 4 in this case."}],"answers":[{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1366775388,"creation_date":1366759186,"answer_id":16180788,"question_id":16180568,"body_markdown":"You&#39;re using an access-ordered linked hash map: from the spec at http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html,\r\n\r\n&gt; A structural modification is any operation that adds or deletes one or\r\n&gt; more mappings or, in the case of access-ordered linked hash maps,\r\n&gt; affects iteration order. In insertion-ordered linked hash maps, merely\r\n&gt; changing the value associated with a key that is already contained in\r\n&gt; the map is not a structural modification. In access-ordered linked\r\n&gt; hash maps, merely querying the map with get is a structural\r\n&gt; modification.)\r\n\r\nSimply calling `get` is enough to be considered a structural modification, triggering the exception. If you use the `entrySet()` sequence you&#39;re only querying the entry and NOT the map, so you don&#39;t trigger the `ConcurrentModificationException`.","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>You're using an access-ordered linked hash map: from the spec at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html</a>,</p>\n\n<blockquote>\n  <p>A structural modification is any operation that adds or deletes one or\n  more mappings or, in the case of access-ordered linked hash maps,\n  affects iteration order. In insertion-ordered linked hash maps, merely\n  changing the value associated with a key that is already contained in\n  the map is not a structural modification. In access-ordered linked\n  hash maps, merely querying the map with get is a structural\n  modification.)</p>\n</blockquote>\n\n<p>Simply calling <code>get</code> is enough to be considered a structural modification, triggering the exception. If you use the <code>entrySet()</code> sequence you're only querying the entry and NOT the map, so you don't trigger the <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":2477436,"reputation":1968,"user_id":2157772,"accept_rate":100,"display_name":"gparyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1403239300,"creation_date":1366759410,"answer_id":16180833,"question_id":16180568,"body_markdown":"Read the [Javadoc for `LinkedHashMap`][1]:\r\n\r\n&gt; A structural modification is any operation that adds or deletes one or\r\n&gt; more mappings or, in the case of access-ordered linked hash maps,\r\n&gt; affects iteration order. In insertion-ordered linked hash maps, merely\r\n&gt; changing the value associated with a key that is already contained in\r\n&gt; the map is not a structural modification. **In access-ordered linked\r\n&gt; hash maps, merely querying the map with `get` is a structural\r\n&gt; modification.**\r\n\r\nSince you&#39;re passing in `true` to the `LinkedHashMap` constructor, it is in access order and when you are trying to `get` something from it, you are structurally modifying it.\r\n\r\nAlso note that when you use the enhanced `for` syntax, you are actually using an iterator. Simplified quote from [JLS &#167;14.14.2][2]:\r\n\r\n&gt; The enhanced `for` statement has the form:\r\n&gt; \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n&gt;     EnhancedForStatement:\r\n&gt;     \r\n&gt;     for ( TargetType Identifier : Expression ) Statement\r\n&gt; \r\n&gt; [...]\r\n&gt; \r\n&gt; If the type of *Expression* is a subtype of `Iterable&lt;X&gt;` for some type\r\n&gt; argument `X`, then let `I` be the type `java.util.Iterator&lt;X&gt;`; otherwise,\r\n&gt; let `I` be the raw type `java.util.Iterator`.\r\n&gt; \r\n&gt; The enhanced `for` statement is equivalent to a basic `for` statement of\r\n&gt; the form:\r\n&gt; \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n&gt;     for (I #i = Expression.iterator(); #i.hasNext(); ) {\r\n&gt;          TargetType Identifier =\r\n&gt;              (TargetType) #i.next();\r\n&gt;          Statement\r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; `#i` is an automatically generated identifier that is distinct from any other identifiers (automatically generated or otherwise) that are in\r\n&gt; scope (&#167;6.3) at the point where the enhanced for statement occurs.\r\n\r\nAlso, in the Javadoc for `LinkedHashMap`:\r\n\r\n&gt; The iterators returned by the `iterator` method of the collections\r\n&gt; returned by all of this class&#39;s collection view methods are\r\n&gt; *fail-fast*: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own\r\n&gt; `remove` method, the iterator will throw a\r\n&gt; `ConcurrentModificationException`.\r\n\r\nTherefore, when you are calling `get` on the map, you are performing structural modifications to it, causing the iterator in the enhanced-for to throw an exception. I think you meant to do this, which avoids calling `get`:\r\n\r\n    for (Integer i : lru_cache.values()) {\r\n        System.out.println(i);\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Read the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\">Javadoc for <code>LinkedHashMap</code></a>:</p>\n\n<blockquote>\n  <p>A structural modification is any operation that adds or deletes one or\n  more mappings or, in the case of access-ordered linked hash maps,\n  affects iteration order. In insertion-ordered linked hash maps, merely\n  changing the value associated with a key that is already contained in\n  the map is not a structural modification. <strong>In access-ordered linked\n  hash maps, merely querying the map with <code>get</code> is a structural\n  modification.</strong></p>\n</blockquote>\n\n<p>Since you're passing in <code>true</code> to the <code>LinkedHashMap</code> constructor, it is in access order and when you are trying to <code>get</code> something from it, you are structurally modifying it.</p>\n\n<p>Also note that when you use the enhanced <code>for</code> syntax, you are actually using an iterator. Simplified quote from <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2\">JLS §14.14.2</a>:</p>\n\n<blockquote>\n  <p>The enhanced <code>for</code> statement has the form:</p>\n  \n  <pre class=\"lang-none prettyprint-override\"><code>EnhancedForStatement:\n\nfor ( TargetType Identifier : Expression ) Statement\n</code></pre>\n  \n  <p>[...]</p>\n  \n  <p>If the type of <em>Expression</em> is a subtype of <code>Iterable&lt;X&gt;</code> for some type\n  argument <code>X</code>, then let <code>I</code> be the type <code>java.util.Iterator&lt;X&gt;</code>; otherwise,\n  let <code>I</code> be the raw type <code>java.util.Iterator</code>.</p>\n  \n  <p>The enhanced <code>for</code> statement is equivalent to a basic <code>for</code> statement of\n  the form:</p>\n  \n  <pre class=\"lang-none prettyprint-override\"><code>for (I #i = Expression.iterator(); #i.hasNext(); ) {\n     TargetType Identifier =\n         (TargetType) #i.next();\n     Statement\n}\n</code></pre>\n  \n  <p><code>#i</code> is an automatically generated identifier that is distinct from any other identifiers (automatically generated or otherwise) that are in\n  scope (§6.3) at the point where the enhanced for statement occurs.</p>\n</blockquote>\n\n<p>Also, in the Javadoc for <code>LinkedHashMap</code>:</p>\n\n<blockquote>\n  <p>The iterators returned by the <code>iterator</code> method of the collections\n  returned by all of this class's collection view methods are\n  <em>fail-fast</em>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator's own\n  <code>remove</code> method, the iterator will throw a\n  <code>ConcurrentModificationException</code>.</p>\n</blockquote>\n\n<p>Therefore, when you are calling <code>get</code> on the map, you are performing structural modifications to it, causing the iterator in the enhanced-for to throw an exception. I think you meant to do this, which avoids calling <code>get</code>:</p>\n\n<pre><code>for (Integer i : lru_cache.values()) {\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366762391,"creation_date":1366761944,"answer_id":16181179,"question_id":16180568,"body_markdown":"\r\nIn the constructor of `LinkedHashMap` you pass `true` to get the LRU behaviour (meaning the eviction policy is **access order** rather than `false` for **insertion order**).\r\n\r\nSo every time you call `get(key)` the underlying Map.Entry increments an access counter AND reorders the collection by moving the (last accessed) Map.Entry to the head of the list.\r\n\r\nThe iterator (implicitly created by the for loop) checks the modified flag, which is different from the copy it took originally, so throws the `ConcurrentModificationException`.\r\n\r\n\r\nTo avoid this you should use the `entrySet()` as the implementation is inherited from java.util.HashMap and therefore the iterator doesn&#39;t check the modification flags:\r\n\r\n        for(Map.Entry&lt;String,Integer&gt; e : lru_cache.entrySet()){\r\n            System.out.println(e.getValue());\r\n        }\r\n\r\n\r\nBe aware this class isn&#39;t threadsafe so in concurrent environments you will need to use an potentially expensive guards like Collections.synchronizedMap(Map).  In this scenario a better option might be [Google&#39;s Guava Cache][1].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CachesExplained","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>In the constructor of <code>LinkedHashMap</code> you pass <code>true</code> to get the LRU behaviour (meaning the eviction policy is <strong>access order</strong> rather than <code>false</code> for <strong>insertion order</strong>).</p>\n\n<p>So every time you call <code>get(key)</code> the underlying Map.Entry increments an access counter AND reorders the collection by moving the (last accessed) Map.Entry to the head of the list.</p>\n\n<p>The iterator (implicitly created by the for loop) checks the modified flag, which is different from the copy it took originally, so throws the <code>ConcurrentModificationException</code>.</p>\n\n<p>To avoid this you should use the <code>entrySet()</code> as the implementation is inherited from java.util.HashMap and therefore the iterator doesn't check the modification flags:</p>\n\n<pre><code>    for(Map.Entry&lt;String,Integer&gt; e : lru_cache.entrySet()){\n        System.out.println(e.getValue());\n    }\n</code></pre>\n\n<p>Be aware this class isn't threadsafe so in concurrent environments you will need to use an potentially expensive guards like Collections.synchronizedMap(Map).  In this scenario a better option might be <a href=\"http://code.google.com/p/guava-libraries/wiki/CachesExplained\" rel=\"noreferrer\">Google's Guava Cache</a>.</p>\n"},{"tags":[],"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403503320,"creation_date":1403503320,"answer_id":24359299,"question_id":16180568,"body_markdown":"Your code\r\n\r\n    for(String key : lru_cache.keySet()){\r\n        System.out.println(lru_cache.get(key));\r\n    }\r\nActually compiles to:\r\n\r\n    Iterator&lt;String&gt; it = lru_cache.keySet().iterator();\r\n    while (it.hasNext()) {\r\n        String key = it.next();\r\n        System.out.println(lru_cache.get(key));\r\n    }\r\n\r\nNext, your LRU cache shrinks itself to MAX_SIZE elements not when calling `set()`, but when calling `get()` - above answers explain why.\r\n\r\nThus we have following behavior:\r\n\r\n- new iterator created to iterate over `lru_cache.keySet()` collection\r\n- `lru_cache.get()` called to extract element from your cache\r\n- `get()` invocation truncates `lru_cache` to MAX_SIZE elements (in your case 3)\r\n- iterator `it` becomes invalid due to collection modification and throws on next iteration.\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Your code</p>\n\n<pre><code>for(String key : lru_cache.keySet()){\n    System.out.println(lru_cache.get(key));\n}\n</code></pre>\n\n<p>Actually compiles to:</p>\n\n<pre><code>Iterator&lt;String&gt; it = lru_cache.keySet().iterator();\nwhile (it.hasNext()) {\n    String key = it.next();\n    System.out.println(lru_cache.get(key));\n}\n</code></pre>\n\n<p>Next, your LRU cache shrinks itself to MAX_SIZE elements not when calling <code>set()</code>, but when calling <code>get()</code> - above answers explain why.</p>\n\n<p>Thus we have following behavior:</p>\n\n<ul>\n<li>new iterator created to iterate over <code>lru_cache.keySet()</code> collection</li>\n<li><code>lru_cache.get()</code> called to extract element from your cache</li>\n<li><code>get()</code> invocation truncates <code>lru_cache</code> to MAX_SIZE elements (in your case 3)</li>\n<li>iterator <code>it</code> becomes invalid due to collection modification and throws on next iteration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2814998,"reputation":2666,"user_id":2420329,"accept_rate":83,"display_name":"sampopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681990948,"creation_date":1403508931,"answer_id":24360640,"question_id":16180568,"body_markdown":"It is because of fail-fast behaviour of collections framework also when you modify the list (by adding or removing elements) while traversing a list with this error will be there with Iterator. I came across this error some time back . Refer below threads to for detail info.\r\n\r\nhttps://stackoverflow.com/questions/9806421/concurrentmodificationexception-when-adding-inside-a-foreach-loop-in-arraylist\r\n\r\nThough this says array list, it applies for most of the collection(s) data strucutres.\r\n\r\nhttps://stackoverflow.com/questions/6866238/concurrent-modification-exception-adding-to-an-arraylist\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>It is because of fail-fast behaviour of collections framework also when you modify the list (by adding or removing elements) while traversing a list with this error will be there with Iterator. I came across this error some time back . Refer below threads to for detail info.</p>\n<p><a href=\"https://stackoverflow.com/questions/9806421/concurrentmodificationexception-when-adding-inside-a-foreach-loop-in-arraylist\">ConcurrentModificationException when adding inside a foreach loop in ArrayList</a></p>\n<p>Though this says array list, it applies for most of the collection(s) data strucutres.</p>\n<p><a href=\"https://stackoverflow.com/questions/6866238/concurrent-modification-exception-adding-to-an-arraylist\">Concurrent Modification Exception : adding to an ArrayList</a></p>\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html</a></p>\n"},{"tags":[],"owner":{"account_id":3980890,"reputation":8836,"user_id":3282808,"accept_rate":36,"display_name":"SparkOn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403622882,"creation_date":1403622882,"answer_id":24390339,"question_id":16180568,"body_markdown":"`java.util.ConcurrentModificationException` : If there are any structural changes (additions, removals, rehashing, etc.) to the underlying list while the iterator exists. The iterator checks to see if the list has changed before each operation. This is known as &#39;failsafe operation&#39;.\r\n\r\nIf a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.Here you cannot call the `get()` method while using an iterator because calling `get()` structurally modifies the map and hence the next call to one of the iterators method fails and throws a `ConcurrentModificationException`.\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p><code>java.util.ConcurrentModificationException</code> : If there are any structural changes (additions, removals, rehashing, etc.) to the underlying list while the iterator exists. The iterator checks to see if the list has changed before each operation. This is known as 'failsafe operation'.</p>\n\n<p>If a thread modifies a collection directly while it is iterating over the collection with a fail-fast iterator, the iterator will throw this exception.Here you cannot call the <code>get()</code> method while using an iterator because calling <code>get()</code> structurally modifies the map and hence the next call to one of the iterators method fails and throws a <code>ConcurrentModificationException</code>.</p>\n"}],"owner":{"account_id":48259,"reputation":343,"user_id":143304,"display_name":"Aditya Sakhuja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19764,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":6,"score":22,"last_activity_date":1681990948,"creation_date":1366758011,"question_id":16180568,"body_markdown":"Not sure what is triggering a `java.util.ConcurrentModificationException` when I iterate over the `LinkedHashMap` structure in the code below. Using the `Map.Entry` approach works fine. Did not get a good explanation on what is triggering this from the previous posts.\r\n\r\nAny help would be appreciated.\r\n    \r\n    \r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class LRU {\r\n        \r\n        // private Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\r\n        // private SortedMap&lt;String,Integer&gt; lru_cache = Collections.synchronizedSortedMap(new TreeMap&lt;String, Integer&gt;());\r\n       \r\n        private static final int MAX_SIZE = 3;\r\n        \r\n        private LinkedHashMap&lt;String,Integer&gt; lru_cache = new LinkedHashMap&lt;String,Integer&gt;(MAX_SIZE, 0.1F, true){\r\n            @Override\r\n            protected boolean removeEldestEntry(Map.Entry eldest) {\r\n                return(lru_cache.size() &gt; MAX_SIZE);\r\n             }\r\n        };    \r\n        \r\n        public Integer get1(String s){\r\n            return lru_cache.get(s);        \r\n        }\r\n        \r\n        public void displayMap(){\r\n            /**\r\n             * Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n                at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)\r\n                at java.util.LinkedHashMap$KeyIterator.next(LinkedHashMap.java:384)\r\n                at LRU.displayMap(LRU.java:23)\r\n                at LRU.main(LRU.java:47)\r\n             */\r\n            *for(String key : lru_cache.keySet()){\r\n                System.out.println(lru_cache.get(key));\r\n            }*\r\n    \r\n    // This parser works fine        \r\n    //        for(Map.Entry&lt;String, Integer&gt; kv : lru_cache.entrySet()){\r\n    //            System.out.println(kv.getKey() + &quot;:&quot; + kv.getValue());\r\n    //        }\r\n        }\r\n        \r\n        public void set(String s, Integer val){\r\n            if(lru_cache.containsKey(s)){            \r\n                lru_cache.put(s, get1(s) + val);\r\n            }\r\n            else{\r\n                lru_cache.put(s, val);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            LRU lru = new LRU();\r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Da&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 1);\r\n            lru.set(&quot;Di&quot;, 1);        \r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 2);\r\n            lru.set(&quot;Doo&quot;, 2);\r\n            lru.set(&quot;Doo&quot;, 1);        \r\n            lru.set(&quot;Sa&quot;, 2);\r\n            lru.set(&quot;Na&quot;, 1);\r\n            lru.set(&quot;Di&quot;, 1);\r\n            lru.set(&quot;Daa&quot;, 1);\r\n            \r\n            lru.displayMap();\r\n        \r\n        }\r\n        \r\n    }\r\n\r\n","title":"ConcurrentModificationException with LinkedHashMap","body":"<p>Not sure what is triggering a <code>java.util.ConcurrentModificationException</code> when I iterate over the <code>LinkedHashMap</code> structure in the code below. Using the <code>Map.Entry</code> approach works fine. Did not get a good explanation on what is triggering this from the previous posts.</p>\n\n<p>Any help would be appreciated.</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LRU {\n\n    // private Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;();\n    // private SortedMap&lt;String,Integer&gt; lru_cache = Collections.synchronizedSortedMap(new TreeMap&lt;String, Integer&gt;());\n\n    private static final int MAX_SIZE = 3;\n\n    private LinkedHashMap&lt;String,Integer&gt; lru_cache = new LinkedHashMap&lt;String,Integer&gt;(MAX_SIZE, 0.1F, true){\n        @Override\n        protected boolean removeEldestEntry(Map.Entry eldest) {\n            return(lru_cache.size() &gt; MAX_SIZE);\n         }\n    };    \n\n    public Integer get1(String s){\n        return lru_cache.get(s);        \n    }\n\n    public void displayMap(){\n        /**\n         * Exception in thread \"main\" java.util.ConcurrentModificationException\n            at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)\n            at java.util.LinkedHashMap$KeyIterator.next(LinkedHashMap.java:384)\n            at LRU.displayMap(LRU.java:23)\n            at LRU.main(LRU.java:47)\n         */\n        *for(String key : lru_cache.keySet()){\n            System.out.println(lru_cache.get(key));\n        }*\n\n// This parser works fine        \n//        for(Map.Entry&lt;String, Integer&gt; kv : lru_cache.entrySet()){\n//            System.out.println(kv.getKey() + \":\" + kv.getValue());\n//        }\n    }\n\n    public void set(String s, Integer val){\n        if(lru_cache.containsKey(s)){            \n            lru_cache.put(s, get1(s) + val);\n        }\n        else{\n            lru_cache.put(s, val);\n        }\n    }\n\n    public static void main(String[] args) {\n\n        LRU lru = new LRU();\n        lru.set(\"Di\", 1);\n        lru.set(\"Da\", 1);\n        lru.set(\"Daa\", 1);\n        lru.set(\"Di\", 1);        \n        lru.set(\"Di\", 1);\n        lru.set(\"Daa\", 2);\n        lru.set(\"Doo\", 2);\n        lru.set(\"Doo\", 1);        \n        lru.set(\"Sa\", 2);\n        lru.set(\"Na\", 1);\n        lru.set(\"Di\", 1);\n        lru.set(\"Daa\", 1);\n\n        lru.displayMap();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","checkstyle","maven-checkstyle-plugin"],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681990771,"creation_date":1681990771,"question_id":76063639,"body_markdown":"How would I write a check which checks if a certain method of a certain class is wrapped? \r\n\r\nFor example, this: \r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass\r\n        .add(object1)\r\n        .add(object2)\r\n        .add(object3);\r\n\r\nshould pass, but this:\r\n\r\n    MyClass myClass = new MyClass();\r\n    myClass.add(object1).add(object2).add(object3);\r\n\r\nshould fail. Note that I want only this method of this class to be checked by this check.","title":"Java checkstyle: how to check if a certaing method is wrapped","body":"<p>How would I write a check which checks if a certain method of a certain class is wrapped?</p>\n<p>For example, this:</p>\n<pre><code>MyClass myClass = new MyClass();\nmyClass\n    .add(object1)\n    .add(object2)\n    .add(object3);\n</code></pre>\n<p>should pass, but this:</p>\n<pre><code>MyClass myClass = new MyClass();\nmyClass.add(object1).add(object2).add(object3);\n</code></pre>\n<p>should fail. Note that I want only this method of this class to be checked by this check.</p>\n"},{"tags":["java","checkstyle","maven-checkstyle-plugin"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1681991424,"post_id":76063625,"comment_id":134147329,"body_markdown":"Does this answer your question? [How to get current class name including package name in Java?](https://stackoverflow.com/questions/9729197/how-to-get-current-class-name-including-package-name-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9729197/how-to-get-current-class-name-including-package-name-in-java\">How to get current class name including package name in Java?</a>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1681997348,"post_id":76063625,"comment_id":134148877,"body_markdown":"@vincrichaud Checkstyle doesn&#39;t have access to reflection","body":"@vincrichaud Checkstyle doesn&#39;t have access to reflection"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1681997438,"post_id":76063625,"comment_id":134148898,"body_markdown":"I think you can write a sub class of `AbstractFileSetCheck` for this (see https://checkstyle.sourceforge.io/writingchecks.html). It has access to the file, and therefore the filename and path.","body":"I think you can write a sub class of <code>AbstractFileSetCheck</code> for this (see <a href=\"https://checkstyle.sourceforge.io/writingchecks.html\" rel=\"nofollow noreferrer\">checkstyle.sourceforge.io/writingchecks.html</a>). It has access to the file, and therefore the filename and path."}],"owner":{"account_id":4478201,"reputation":297,"user_id":3642744,"accept_rate":83,"display_name":"mdenci"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681990673,"creation_date":1681990673,"question_id":76063625,"body_markdown":"How would I write a check which checks if the class is in the right package according to its suffix, eg.: class named `DateTimeUtils` should be in a package ending in `*.util`?","title":"Java checkstyle: how to write a check which is comparing class suffix to its package","body":"<p>How would I write a check which checks if the class is in the right package according to its suffix, eg.: class named <code>DateTimeUtils</code> should be in a package ending in <code>*.util</code>?</p>\n"},{"tags":["java","spring","hibernate","spring-boot","atomikos"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1496233617,"post_id":44284649,"comment_id":75576212,"body_markdown":"What isn&#39;t working? Also why not simply use the out-of-the-box support for Atomikos? You are throwing a checked exception, rollback only happens for `RuntimeException` s. Your `jtaTransactionManager` should be named `transactionManager` as that is the default name expected by Spring. If that doesn&#39;t match you need to explicitly tell `@EnableTransactionManagement` which transaction manager to use.","body":"What isn&#39;t working? Also why not simply use the out-of-the-box support for Atomikos? You are throwing a checked exception, rollback only happens for <code>RuntimeException</code> s. Your <code>jtaTransactionManager</code> should be named <code>transactionManager</code> as that is the default name expected by Spring. If that doesn&#39;t match you need to explicitly tell <code>@EnableTransactionManagement</code> which transaction manager to use."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1496233814,"post_id":44284649,"comment_id":75576367,"body_markdown":"I think wrong transactionManager is used. By default `@Transactional` got your UserTransactionManager bean","body":"I think wrong transactionManager is used. By default <code>@Transactional</code> got your UserTransactionManager bean"},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496234358,"post_id":44284649,"comment_id":75576747,"body_markdown":"@M.Deinum @StanislavL I have changed couple of things `Datasources returning atomikosDataSourceBean and added unique name for them.` and i think that was the issue. Now transaction are getting rolled back but need to verify. Will post in case of any issue.","body":"@M.Deinum @StanislavL I have changed couple of things <code>Datasources returning atomikosDataSourceBean and added unique name for them.</code> and i think that was the issue. Now transaction are getting rolled back but need to verify. Will post in case of any issue."},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496234822,"post_id":44284649,"comment_id":75577086,"body_markdown":"added `@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)`","body":"added <code>@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)</code>"},{"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"score":0,"creation_date":1496291625,"post_id":44284649,"comment_id":75602776,"body_markdown":"@M.Deinum, as mentioned in the my comments.. adding these extra code has resolved the issue. Thanks for help and support.","body":"@M.Deinum, as mentioned in the my comments.. adding these extra code has resolved the issue. Thanks for help and support."}],"answers":[{"tags":[],"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1496292197,"creation_date":1496292197,"answer_id":44298693,"question_id":44284649,"body_markdown":"Ok.. There was mistake in the code - \r\n\r\n 1. XA Datasource must be wrapped with `AtomikosDataSourceBean` ans should return `AtomikosDataSourceBean` reference.\r\n 2. Assign unique name to `AtomikosDataSourceBean`.\r\n 3. Service Method should be made `@Transactional(transactionManager = &quot;jtaTransactionManager&quot; ...)`, provide Spring `JtaTransactionManager`.\r\n 4. `JtaTransactionManager` should be referenced with `javax.transaction.UserTransaction` having `com.atomikos.icatch.jta.J2eeUserTransaction` implementation.\r\n 5. `JtaTransactionManager` should be referenced with `com.atomikos.icatch.jta.UserTransactionManager` implementation.\r\n 6. Rest of the Code is correct in the question.\r\n\r\nThis is straight forward out-of-the-box support for Atomikos. ","title":"JTA, Hibernate with atomikos Multiple XA Datasources not maintaing transaction in SpringBoot","body":"<p>Ok.. There was mistake in the code - </p>\n\n<ol>\n<li>XA Datasource must be wrapped with <code>AtomikosDataSourceBean</code> ans should return <code>AtomikosDataSourceBean</code> reference.</li>\n<li>Assign unique name to <code>AtomikosDataSourceBean</code>.</li>\n<li>Service Method should be made <code>@Transactional(transactionManager = \"jtaTransactionManager\" ...)</code>, provide Spring <code>JtaTransactionManager</code>.</li>\n<li><code>JtaTransactionManager</code> should be referenced with <code>javax.transaction.UserTransaction</code> having <code>com.atomikos.icatch.jta.J2eeUserTransaction</code> implementation.</li>\n<li><code>JtaTransactionManager</code> should be referenced with <code>com.atomikos.icatch.jta.UserTransactionManager</code> implementation.</li>\n<li>Rest of the Code is correct in the question.</li>\n</ol>\n\n<p>This is straight forward out-of-the-box support for Atomikos. </p>\n"}],"owner":{"account_id":1100988,"reputation":345,"user_id":1093390,"accept_rate":71,"display_name":"Swaraj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44298693,"answer_count":1,"score":2,"last_activity_date":1681990548,"creation_date":1496233164,"question_id":44284649,"body_markdown":"I have 2 `MySQL` schema and respective `MysqlXADataSource` configured as below -\r\n\r\n    @Bean(name = &quot;sourceDataSource&quot;)\r\n\t@Primary\r\n\tpublic DataSource dataSource() {\r\n\t\tMysqlXADataSource dataSource = new MysqlXADataSource();\r\n\t\tdataSource.setPinGlobalTxToPhysicalConnection(true);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUser(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tAtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\r\n    atomikosDataSourceBean.setUniqueResourceName(&quot;SourceDB&quot;);\r\n\t\tatomikosDataSourceBean.setXaDataSource(dataSource);\r\n\t\t\r\n\t\t/*DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(DB_DRIVER);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUsername(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);*/\r\n\t\tSystem.out.println(&quot;Creatign Source data source.&quot;);\r\n\t\treturn atomikosDataSourceBean;\r\n\t}\r\n\r\n\t@Bean(name = &quot;sourceSessionFactory&quot;)\r\n\tpublic LocalSessionFactoryBean sessionFactory(@Qualifier(&quot;jtaTransactionManager&quot;) JtaTransactionManager jts) {\r\n\t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n\t\tsessionFactoryBean.setDataSource(dataSource());\r\n\t\tsessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\r\n\t\tProperties hibernateProperties = new Properties();\r\n\t\thibernateProperties.put(&quot;hibernate.dialect&quot;, HIBERNATE_DIALECT);\r\n\t\thibernateProperties.put(&quot;hibernate.show_sql&quot;, HIBERNATE_SHOW_SQL);\r\n\t\thibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, HIBERNATE_HBM2DDL_AUTO);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.factory_class&quot;, &quot;org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.coordinator_class&quot;, &quot;jta&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, &quot;com.atomikos.icatch.jta.hibernate4.AtomikosPlatform&quot;);\r\n\t\t\r\n\t\t//hibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, AtomikosJtaPlatform.class.getName());\r\n\t\tsessionFactoryBean.setJtaTransactionManager(jts);\r\n\t\tsessionFactoryBean.setHibernateProperties(hibernateProperties);\r\n\t\tSystem.out.println(&quot;Creatign Source Session Factory.&quot;);\r\n\t\treturn sessionFactoryBean;\r\n\t}\r\n\r\nAnd\r\n\r\n    @Bean(name=&quot;destinationDataSource&quot;)\r\n\tpublic DataSource dataSource() {\r\n\t\tMysqlXADataSource dataSource = new MysqlXADataSource();\r\n\t\tdataSource.setPinGlobalTxToPhysicalConnection(true);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUser(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tAtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\r\n    atomikosDataSourceBean.setUniqueResourceName(&quot;DestinationDB&quot;);\r\n\t\tatomikosDataSourceBean.setXaDataSource(dataSource);\r\n\t\t\r\n\t\t/*DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(DB_DRIVER);\r\n\t\tdataSource.setUrl(DB_URL);\r\n\t\tdataSource.setUsername(DB_USERNAME);\r\n\t\tdataSource.setPassword(DB_PASSWORD);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Creatign Destination Data Source.&quot;);*/\r\n\t\treturn atomikosDataSourceBean;\r\n\t}\r\n\r\n\t@Bean(name=&quot;destinationSessionFactory&quot;)\r\n\tpublic LocalSessionFactoryBean sessionFactory(@Qualifier(&quot;jtaTransactionManager&quot;) JtaTransactionManager jts) {\r\n\t\tLocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\r\n\t\tsessionFactoryBean.setDataSource(dataSource());\r\n\t\tsessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\r\n\t\tProperties hibernateProperties = new Properties();\r\n\t\thibernateProperties.put(&quot;hibernate.dialect&quot;, HIBERNATE_DIALECT);\r\n\t\thibernateProperties.put(&quot;hibernate.show_sql&quot;, HIBERNATE_SHOW_SQL);\r\n\t\thibernateProperties.put(&quot;hibernate.hbm2ddl.auto&quot;, HIBERNATE_HBM2DDL_AUTO);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.factory_class&quot;, &quot;org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.coordinator_class&quot;, &quot;jta&quot;);\r\n\t\thibernateProperties.put(&quot;hibernate.transaction.jta.platform&quot;, &quot;com.atomikos.icatch.jta.hibernate4.AtomikosPlatform&quot;);\r\n\t\tsessionFactoryBean.setJtaTransactionManager(jts);\r\n\t\tsessionFactoryBean.setHibernateProperties(hibernateProperties);\r\n\t\tSystem.out.println(&quot;Creatign Destination Session Factoy.&quot;);\r\n\t\treturn sessionFactoryBean;\r\n\t}\r\n\r\nTransaction Configuration\r\n\r\n    @Bean(&quot;transactionManager&quot;)\r\n\tpublic UserTransactionManager transactionManager(){\r\n\t\tUserTransactionManager userTransactionManager = new UserTransactionManager();\r\n\t\treturn userTransactionManager;\r\n\t}\r\n\t\r\n\t@Bean(&quot;userTransaction&quot;)\r\n\tpublic UserTransaction userTransaction(){\r\n\t\tJ2eeUserTransaction userTransaction = new J2eeUserTransaction();\r\n\t\treturn userTransaction;\r\n\t}\r\n\t\r\n\t@Bean(&quot;jtaTransactionManager&quot;)\r\n\tpublic JtaTransactionManager jtaTransactionManager(@Qualifier(&quot;transactionManager&quot;) UserTransactionManager userTransactionManager, @Qualifier(&quot;userTransaction&quot;) UserTransaction userTransaction) {\r\n\t\tJtaTransactionManager transactionManager = new JtaTransactionManager();\r\n\t\ttransactionManager.setTransactionManager(userTransactionManager);\r\n\t\ttransactionManager.setUserTransaction(userTransaction);\r\n\t\t//transactionManager.setSessionFactory(sessionFactory().getObject());\r\n\t\tSystem.out.println(&quot;Creatign JTA Transaction Manager.&quot;);\r\n\t\treturn transactionManager;\r\n\t}\r\n\r\n\r\nService ...\r\n\r\n    @Transactional(transactionManager = &quot;jtaTransactionManager&quot;, propagation=Propagation.REQUIRES_NEW, rollbackFor=Exception.class, timeout=500000)\r\n\tpublic void transform() throws JobExecutionException{\r\n\t\tSystem.out.println(&quot;START == Starting Trandformation ... &quot;);\r\n\t\t\r\n\t\t//Clean Up\r\n\t\ttransformProduct.cleanUp();\r\n\t\ttransformService.cleanUp();\r\n\t\ttransformResources.cleanUp();\r\n\t\t\r\n\t\ttransformResources.transform();\r\n\t\ttransformService.transform();\r\n\t\ttransformProduct.transform();\r\n\t\tLOG.info(&quot;END == Starting Transformation ... &quot;);\r\n\t\tthrow new JobExecutionException();\r\n\t}\r\n\r\nAnd there are respective sub service classes `transformProduct`, `transformService` &amp; `transformResources` and these classes are using the `sessionFactory` implemented dao classes. I have no where mentioned commit or rollback. everything should be transnational. but somehow its not working","title":"JTA, Hibernate with atomikos Multiple XA Datasources not maintaing transaction in SpringBoot","body":"<p>I have 2 <code>MySQL</code> schema and respective <code>MysqlXADataSource</code> configured as below -</p>\n\n<pre><code>@Bean(name = \"sourceDataSource\")\n@Primary\npublic DataSource dataSource() {\n    MysqlXADataSource dataSource = new MysqlXADataSource();\n    dataSource.setPinGlobalTxToPhysicalConnection(true);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUser(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    AtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\natomikosDataSourceBean.setUniqueResourceName(\"SourceDB\");\n    atomikosDataSourceBean.setXaDataSource(dataSource);\n\n    /*DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(DB_DRIVER);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUsername(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);*/\n    System.out.println(\"Creatign Source data source.\");\n    return atomikosDataSourceBean;\n}\n\n@Bean(name = \"sourceSessionFactory\")\npublic LocalSessionFactoryBean sessionFactory(@Qualifier(\"jtaTransactionManager\") JtaTransactionManager jts) {\n    LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n    sessionFactoryBean.setDataSource(dataSource());\n    sessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(\"hibernate.dialect\", HIBERNATE_DIALECT);\n    hibernateProperties.put(\"hibernate.show_sql\", HIBERNATE_SHOW_SQL);\n    hibernateProperties.put(\"hibernate.hbm2ddl.auto\", HIBERNATE_HBM2DDL_AUTO);\n    hibernateProperties.put(\"hibernate.transaction.factory_class\", \"org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory\");\n    hibernateProperties.put(\"hibernate.transaction.coordinator_class\", \"jta\");\n    hibernateProperties.put(\"hibernate.transaction.jta.platform\", \"com.atomikos.icatch.jta.hibernate4.AtomikosPlatform\");\n\n    //hibernateProperties.put(\"hibernate.transaction.jta.platform\", AtomikosJtaPlatform.class.getName());\n    sessionFactoryBean.setJtaTransactionManager(jts);\n    sessionFactoryBean.setHibernateProperties(hibernateProperties);\n    System.out.println(\"Creatign Source Session Factory.\");\n    return sessionFactoryBean;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Bean(name=\"destinationDataSource\")\npublic DataSource dataSource() {\n    MysqlXADataSource dataSource = new MysqlXADataSource();\n    dataSource.setPinGlobalTxToPhysicalConnection(true);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUser(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    AtomikosDataSourceBean atomikosDataSourceBean = new AtomikosDataSourceBean();\natomikosDataSourceBean.setUniqueResourceName(\"DestinationDB\");\n    atomikosDataSourceBean.setXaDataSource(dataSource);\n\n    /*DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(DB_DRIVER);\n    dataSource.setUrl(DB_URL);\n    dataSource.setUsername(DB_USERNAME);\n    dataSource.setPassword(DB_PASSWORD);\n\n    System.out.println(\"Creatign Destination Data Source.\");*/\n    return atomikosDataSourceBean;\n}\n\n@Bean(name=\"destinationSessionFactory\")\npublic LocalSessionFactoryBean sessionFactory(@Qualifier(\"jtaTransactionManager\") JtaTransactionManager jts) {\n    LocalSessionFactoryBean sessionFactoryBean = new LocalSessionFactoryBean();\n    sessionFactoryBean.setDataSource(dataSource());\n    sessionFactoryBean.setPackagesToScan(ENTITYMANAGER_PACKAGES_TO_SCAN);\n    Properties hibernateProperties = new Properties();\n    hibernateProperties.put(\"hibernate.dialect\", HIBERNATE_DIALECT);\n    hibernateProperties.put(\"hibernate.show_sql\", HIBERNATE_SHOW_SQL);\n    hibernateProperties.put(\"hibernate.hbm2ddl.auto\", HIBERNATE_HBM2DDL_AUTO);\n    hibernateProperties.put(\"hibernate.transaction.factory_class\", \"org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory\");\n    hibernateProperties.put(\"hibernate.transaction.coordinator_class\", \"jta\");\n    hibernateProperties.put(\"hibernate.transaction.jta.platform\", \"com.atomikos.icatch.jta.hibernate4.AtomikosPlatform\");\n    sessionFactoryBean.setJtaTransactionManager(jts);\n    sessionFactoryBean.setHibernateProperties(hibernateProperties);\n    System.out.println(\"Creatign Destination Session Factoy.\");\n    return sessionFactoryBean;\n}\n</code></pre>\n\n<p>Transaction Configuration</p>\n\n<pre><code>@Bean(\"transactionManager\")\npublic UserTransactionManager transactionManager(){\n    UserTransactionManager userTransactionManager = new UserTransactionManager();\n    return userTransactionManager;\n}\n\n@Bean(\"userTransaction\")\npublic UserTransaction userTransaction(){\n    J2eeUserTransaction userTransaction = new J2eeUserTransaction();\n    return userTransaction;\n}\n\n@Bean(\"jtaTransactionManager\")\npublic JtaTransactionManager jtaTransactionManager(@Qualifier(\"transactionManager\") UserTransactionManager userTransactionManager, @Qualifier(\"userTransaction\") UserTransaction userTransaction) {\n    JtaTransactionManager transactionManager = new JtaTransactionManager();\n    transactionManager.setTransactionManager(userTransactionManager);\n    transactionManager.setUserTransaction(userTransaction);\n    //transactionManager.setSessionFactory(sessionFactory().getObject());\n    System.out.println(\"Creatign JTA Transaction Manager.\");\n    return transactionManager;\n}\n</code></pre>\n\n<p>Service ...</p>\n\n<pre><code>@Transactional(transactionManager = \"jtaTransactionManager\", propagation=Propagation.REQUIRES_NEW, rollbackFor=Exception.class, timeout=500000)\npublic void transform() throws JobExecutionException{\n    System.out.println(\"START == Starting Trandformation ... \");\n\n    //Clean Up\n    transformProduct.cleanUp();\n    transformService.cleanUp();\n    transformResources.cleanUp();\n\n    transformResources.transform();\n    transformService.transform();\n    transformProduct.transform();\n    LOG.info(\"END == Starting Transformation ... \");\n    throw new JobExecutionException();\n}\n</code></pre>\n\n<p>And there are respective sub service classes <code>transformProduct</code>, <code>transformService</code> &amp; <code>transformResources</code> and these classes are using the <code>sessionFactory</code> implemented dao classes. I have no where mentioned commit or rollback. everything should be transnational. but somehow its not working</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1681629069,"post_id":76026221,"comment_id":134084942,"body_markdown":"Check your SMTP configuration. The error shows that you have used TLS but your SMTP server doesn&#39;t support it.","body":"Check your SMTP configuration. The error shows that you have used TLS but your SMTP server doesn&#39;t support it."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681629397,"post_id":76026221,"comment_id":134084968,"body_markdown":"According to https://support.microsoft.com/en-us/office/pop-imap-and-smtp-settings-8361e398-8af4-4e97-b147-6c6c4ac95353, the combination of &quot;smtp-mail.outlook.com&quot; + port 587 + STARTTLS should be correct.  So, maybe it is a SSL/TLS version mismatch or a ciphersuite mismatch.","body":"According to <a href=\"https://support.microsoft.com/en-us/office/pop-imap-and-smtp-settings-8361e398-8af4-4e97-b147-6c6c4ac95353\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/office/&hellip;</a>, the combination of &quot;smtp-mail.outlook.com&quot; + port 587 + STARTTLS should be correct.  So, maybe it is a SSL/TLS version mismatch or a ciphersuite mismatch."},{"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"score":0,"creation_date":1681657829,"post_id":76026221,"comment_id":134088443,"body_markdown":"Is there a way i can fix this mismatch?","body":"Is there a way i can fix this mismatch?"}],"answers":[{"comments":[{"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"score":0,"creation_date":1681657843,"post_id":76026343,"comment_id":134088446,"body_markdown":"Did that, same error, sadly","body":"Did that, same error, sadly"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681990588,"post_id":76026343,"comment_id":134147139,"body_markdown":"I have updated my answer - your code is fine. This issue must be environment related. Up the debugging.","body":"I have updated my answer - your code is fine. This issue must be environment related. Up the debugging."},{"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"score":0,"creation_date":1682271970,"post_id":76026343,"comment_id":134185372,"body_markdown":"hello thank you, i managed to fix the problem! I needed to input specific cipher suits into properties and authenticate password using javax mail session","body":"hello thank you, i managed to fix the problem! I needed to input specific cipher suits into properties and authenticate password using javax mail session"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990530,"creation_date":1681629036,"answer_id":76026343,"question_id":76026221,"body_markdown":"I have used your code as is (besides user and password) and it works perfectly.\r\n\r\nThis must be an environment thing related to the availability of TLS1.2. Which version of Java are you using?\r\n\r\nAdd the following to your code to get more logging and add the logs to your question:\r\n\r\n    email.setDebug(true); \r\n\r\n","title":"Getting this protocol error using javax mail and apache commons","body":"<p>I have used your code as is (besides user and password) and it works perfectly.</p>\n<p>This must be an environment thing related to the availability of TLS1.2. Which version of Java are you using?</p>\n<p>Add the following to your code to get more logging and add the logs to your question:</p>\n<pre><code>email.setDebug(true); \n</code></pre>\n"}],"owner":{"account_id":24086340,"reputation":21,"user_id":18120946,"display_name":"eduardotvn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681990530,"creation_date":1681626495,"question_id":76026221,"body_markdown":"I have this java class in my project meant to send emails, but it doesn&#39;t matter what i try to do, it simply will fail into some protocol error.\r\n\r\nKeep in mind that all i need is a simple email sender, it&#39;s for a school project. \r\n\r\nThis is the class i&#39;m using: \r\n\r\n```package internetConnectionAPIs;\r\n\r\nimport org.apache.commons.mail.*;\r\n\r\n\r\npublic class javaMail\r\n{\r\n\tprotected static String emailEmpresarial = &quot;email@hotmail.com&quot;;\r\n\tprotected static String senha = &quot;password&quot;;\r\n\t\r\n\tpublic static void sendMail(String emailCliente)\r\n\t{\r\n\r\n\r\n\t\tSimpleEmail email = new SimpleEmail(); \r\n\t\temail.setHostName(&quot;smtp-mail.outlook.com&quot;);\r\n\t\temail.setSmtpPort(587);\r\n\t\temail.setAuthenticator(new DefaultAuthenticator(emailEmpresarial, senha));\r\n\t\temail.setStartTLSRequired(true);\r\n\t\t\r\n\t\ttry \r\n\t\t{\r\n\t\t\t\r\n\t\t\temail.setFrom(emailEmpresarial);\r\n\t\t\temail.setSubject(&quot;Test&quot;);\r\n\t\t\temail.setMsg(&quot;Success!&quot;);\r\n\t\t\temail.addTo(emailCliente);\r\n\t\t\temail.send();\r\n\t\t\tSystem.out.println(&quot;Enviado com sucesso!&quot;);\r\n\t\t\t\r\n\t\t} catch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nBut this is what i&#39;m getting:\r\n\r\n&gt; org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp-mail.outlook.com:587\r\n&gt; \tat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1469)\r\n&gt; \tat org.apache.commons.mail.Email.send(Email.java:1496)\r\n&gt; \tat internetConnectionAPIs.javaMail.sendMail(javaMail.java:36)\r\n&gt; \tat App.main(App.java:12)\r\n&gt; Caused by: javax.mail.MessagingException: Could not convert socket to TLS;\r\n&gt; nested exception is:\r\n&gt; \tjavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n&gt; \tat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\r\n&gt; \tat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n\r\nI tried to change to gmail(but it seems that it no longer works), try to change port, tried to change server, but it simply won&#39;t work, any ideas why? I&#39;m using eclipse in focal fossa linux, and my project have javax mail, apache commons email and activation jar. \r\n\r\nI even tried to ChatGPT it out of this, but to no avail. I tried to check for firewall blocks but there was no problem, i was using setSSLonConnect but it was forcing the port to be 465 even tho i&#39;ve set it to 587, but after removing it, same error. Gmail is not being allowed to &#39;&#39;lesser security apps&#39;&#39; now, and i can only resort to other services, if you have any idea how to help, i&#39;ll be more than glad. \r\n\r\nAlso i&#39;m very newbie to java and to this kind of error treating, i tried this following a youtube tutorial which was really plain and simple, and weirdly didn&#39;t need activation jar library, but my project needed it. I checked internet connection but it was working just fine. Do i need to connect eclipse to the internet or something like that? \r\n\r\nAll I am trying to do is just send a plain email, just that, I just need to implement an email sender for a school project, what do this no appropriate protocol means? \r\n\r\nWell, I don&#39;t have anything to add to it anymore, stackoverflow is still asking me to add more details, this is what I have and I simply can&#39;t work it out. \r\n\r\nPS: My java version is 11, could it be the issue? \r\nAlso, please don&#39;t mind the email and password hard coded to the program, it was meant to be just for testing. ","title":"Getting this protocol error using javax mail and apache commons","body":"<p>I have this java class in my project meant to send emails, but it doesn't matter what i try to do, it simply will fail into some protocol error.</p>\n<p>Keep in mind that all i need is a simple email sender, it's for a school project.</p>\n<p>This is the class i'm using:</p>\n<pre><code>\nimport org.apache.commons.mail.*;\n\n\npublic class javaMail\n{\n    protected static String emailEmpresarial = &quot;email@hotmail.com&quot;;\n    protected static String senha = &quot;password&quot;;\n    \n    public static void sendMail(String emailCliente)\n    {\n\n\n        SimpleEmail email = new SimpleEmail(); \n        email.setHostName(&quot;smtp-mail.outlook.com&quot;);\n        email.setSmtpPort(587);\n        email.setAuthenticator(new DefaultAuthenticator(emailEmpresarial, senha));\n        email.setStartTLSRequired(true);\n        \n        try \n        {\n            \n            email.setFrom(emailEmpresarial);\n            email.setSubject(&quot;Test&quot;);\n            email.setMsg(&quot;Success!&quot;);\n            email.addTo(emailCliente);\n            email.send();\n            System.out.println(&quot;Enviado com sucesso!&quot;);\n            \n        } catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>But this is what i'm getting:</p>\n<blockquote>\n<p>org.apache.commons.mail.EmailException: Sending the email to the following server failed : smtp-mail.outlook.com:587\nat org.apache.commons.mail.Email.sendMimeMessage(Email.java:1469)\nat org.apache.commons.mail.Email.send(Email.java:1496)\nat internetConnectionAPIs.javaMail.sendMail(javaMail.java:36)\nat App.main(App.java:12)\nCaused by: javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1918)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:652)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n<p>I tried to change to gmail(but it seems that it no longer works), try to change port, tried to change server, but it simply won't work, any ideas why? I'm using eclipse in focal fossa linux, and my project have javax mail, apache commons email and activation jar.</p>\n<p>I even tried to ChatGPT it out of this, but to no avail. I tried to check for firewall blocks but there was no problem, i was using setSSLonConnect but it was forcing the port to be 465 even tho i've set it to 587, but after removing it, same error. Gmail is not being allowed to ''lesser security apps'' now, and i can only resort to other services, if you have any idea how to help, i'll be more than glad.</p>\n<p>Also i'm very newbie to java and to this kind of error treating, i tried this following a youtube tutorial which was really plain and simple, and weirdly didn't need activation jar library, but my project needed it. I checked internet connection but it was working just fine. Do i need to connect eclipse to the internet or something like that?</p>\n<p>All I am trying to do is just send a plain email, just that, I just need to implement an email sender for a school project, what do this no appropriate protocol means?</p>\n<p>Well, I don't have anything to add to it anymore, stackoverflow is still asking me to add more details, this is what I have and I simply can't work it out.</p>\n<p>PS: My java version is 11, could it be the issue?\nAlso, please don't mind the email and password hard coded to the program, it was meant to be just for testing.</p>\n"},{"tags":["java","protocol-buffers","nio"],"answers":[{"tags":[],"owner":{"account_id":284625,"reputation":670,"user_id":582843,"accept_rate":83,"display_name":"benshort"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681990290,"creation_date":1681990290,"answer_id":76063578,"question_id":75057491,"body_markdown":"It seems that you can find out the serialized size of your ArrRequest using the getSerializedSize method.\r\nSo you can send that before the serialized ArrRequest to the server as shown in the following example:\r\n \r\n\r\n    var request = ArrRequest.newBuilder()\r\n                            .setN(numberOfArrayElements)\r\n                            .addAllArray(arr)\r\n                            .build();\r\n    int length = request.getSerializedSize();\r\n    ByteBuffer bb = ByteBuffer.allocate(4);\r\n    bb.putInt(length);\r\n    bb.flip();\r\n    OutputStream os = socket.getOutputStream();\r\n    os.write(bb.array());\r\n    request.writeDelimitedTo(os);\r\n\r\nThen on the server side you can read into a buffer. When you have 4, or greater bytes, you can get the first 4 bytes as an integer, which is the expect length of the next serialized ArrRequest. Then you can keep reading into the buffer until you have greater or equal to the length.\r\n\r\nIf you want the server to support multiple clients then you will need to create a context, per client, to hold a ByteBuffer of the the accumulated bytes for each client as you might not have all the bytes available to deserialize the ArrRequest on a single readable key.\r\n\r\n","title":"Read from non blocking socketChannel to Protobuf","body":"<p>It seems that you can find out the serialized size of your ArrRequest using the getSerializedSize method.\nSo you can send that before the serialized ArrRequest to the server as shown in the following example:</p>\n<pre><code>var request = ArrRequest.newBuilder()\n                        .setN(numberOfArrayElements)\n                        .addAllArray(arr)\n                        .build();\nint length = request.getSerializedSize();\nByteBuffer bb = ByteBuffer.allocate(4);\nbb.putInt(length);\nbb.flip();\nOutputStream os = socket.getOutputStream();\nos.write(bb.array());\nrequest.writeDelimitedTo(os);\n</code></pre>\n<p>Then on the server side you can read into a buffer. When you have 4, or greater bytes, you can get the first 4 bytes as an integer, which is the expect length of the next serialized ArrRequest. Then you can keep reading into the buffer until you have greater or equal to the length.</p>\n<p>If you want the server to support multiple clients then you will need to create a context, per client, to hold a ByteBuffer of the the accumulated bytes for each client as you might not have all the bytes available to deserialize the ArrRequest on a single readable key.</p>\n"}],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681990290,"creation_date":1673268479,"question_id":75057491,"body_markdown":"I&#39;m trying to create simple server-client app using Java NIO.\r\n\r\nHere are my Protobuf classes: \r\n\r\n    message ArrRequest {\r\n      int32 n = 1;\r\n      repeated int32 array = 2;\r\n    }\r\n    \r\n    message ArrResponse {\r\n      int32 n = 1;\r\n      repeated int32 array = 2;\r\n    }\r\n\r\nOn client, I send messages in a blocking manner to server using Protobuf.\r\n\r\n    try (Socket socket = new Socket(&quot;localhost&quot;, Constant.PORT)) {\r\n                for (int i = 0; i &lt; numberOfRequestsPerClient; i++) {\r\n                    List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n                    Random r = new Random();\r\n                    for (int j = 0; j &lt; numberOfArrayElements; j++) {\r\n                        arr.add(r.nextInt());\r\n                    }\r\n                    var request = ArrRequest.newBuilder()\r\n                            .setN(numberOfArrayElements)\r\n                            .addAllArray(arr)\r\n                            .build();\r\n                    request.writeDelimitedTo(socket.getOutputStream());\r\n\r\n\r\nThen I want to get this messages as ArrRequest on the server side.\r\n\r\n    client.configureBlocking(false); -- important\r\n\r\n\r\n                    selector.select();\r\n                    Set&lt;SelectionKey&gt; keys = selector.selectedKeys();\r\n                    Iterator&lt;SelectionKey&gt; iterator = keys.iterator();\r\n                    while (iterator.hasNext()) {\r\n                        SelectionKey key = iterator.next();\r\n                        ClientData data = (ClientData) key.attachment();\r\n\r\n                        if (key.isReadable()) {\r\n                            int bytesRead = data.socket.read(data.buffer); // socket is non blocking\r\n\r\n\r\nI read the data into the buffer, several bytes at a time. \r\n\r\n\r\nSo my question is, when should I stop? \r\n\r\n**When I can make the ArrRequest out of byteBuffer? And how?** How to know the side of the ArrRequest in bytes?\r\n\r\n","title":"Read from non blocking socketChannel to Protobuf","body":"<p>I'm trying to create simple server-client app using Java NIO.</p>\n<p>Here are my Protobuf classes:</p>\n<pre><code>message ArrRequest {\n  int32 n = 1;\n  repeated int32 array = 2;\n}\n\nmessage ArrResponse {\n  int32 n = 1;\n  repeated int32 array = 2;\n}\n</code></pre>\n<p>On client, I send messages in a blocking manner to server using Protobuf.</p>\n<pre><code>try (Socket socket = new Socket(&quot;localhost&quot;, Constant.PORT)) {\n            for (int i = 0; i &lt; numberOfRequestsPerClient; i++) {\n                List&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n                Random r = new Random();\n                for (int j = 0; j &lt; numberOfArrayElements; j++) {\n                    arr.add(r.nextInt());\n                }\n                var request = ArrRequest.newBuilder()\n                        .setN(numberOfArrayElements)\n                        .addAllArray(arr)\n                        .build();\n                request.writeDelimitedTo(socket.getOutputStream());\n</code></pre>\n<p>Then I want to get this messages as ArrRequest on the server side.</p>\n<pre><code>client.configureBlocking(false); -- important\n\n\n                selector.select();\n                Set&lt;SelectionKey&gt; keys = selector.selectedKeys();\n                Iterator&lt;SelectionKey&gt; iterator = keys.iterator();\n                while (iterator.hasNext()) {\n                    SelectionKey key = iterator.next();\n                    ClientData data = (ClientData) key.attachment();\n\n                    if (key.isReadable()) {\n                        int bytesRead = data.socket.read(data.buffer); // socket is non blocking\n</code></pre>\n<p>I read the data into the buffer, several bytes at a time.</p>\n<p>So my question is, when should I stop?</p>\n<p><strong>When I can make the ArrRequest out of byteBuffer? And how?</strong> How to know the side of the ArrRequest in bytes?</p>\n"},{"tags":["java","tcp"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1681961468,"post_id":76057766,"comment_id":134141971,"body_markdown":"Doesn&#39;t Accept take an argument? https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept","body":"Doesn&#39;t Accept take an argument? <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept</a>"}],"answers":[{"comments":[{"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"score":0,"creation_date":1681933245,"post_id":76058177,"comment_id":134138535,"body_markdown":"You mean that add all in one line like (String peticio = &quot;HEAD /xai/xai.html HTTP/1.0\\r\\nAccept:html\\r\\n\\r\\n&quot;;), I tried and it didn&#180;t work either","body":"You mean that add all in one line like (String peticio = &quot;HEAD /xai/xai.html HTTP/1.0\\r\\nAccept:html\\r\\n\\r\\n&quot;;), I tried and it didn&#180;t work either"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1681933351,"post_id":76058177,"comment_id":134138552,"body_markdown":"Message must end with double \\r\\n but `writer.println(peticio);` could be sending `\\r\\n\\n` depending on the operating system. That would work on window$.","body":"Message must end with double \\r\\n but <code>writer.println(peticio);</code> could be sending <code>\\r\\n\\n</code> depending on the operating system. That would work on window$."},{"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"score":0,"creation_date":1681935010,"post_id":76058177,"comment_id":134138852,"body_markdown":"when you say writer.print, is any other way for java?","body":"when you say writer.print, is any other way for java?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1681936744,"post_id":76058177,"comment_id":134139151,"body_markdown":"writer.printf as shown in the answer","body":"writer.printf as shown in the answer"}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681933264,"creation_date":1681932494,"answer_id":76058177,"question_id":76057766,"body_markdown":"End of line on message must be either hardcoded or added by printer\r\n\r\n    String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\r\n    // println will send OS end-of-line so it might be just \\n or \\r\r\n    // better not depend on that\r\n    writer.print(peticio);\r\n    writer.print(&quot;\\r\\n&quot;);\r\n\r\nOr\r\n\r\n        writer.print(&quot;HEAD /xai/xai.html HTTP/1.1\\r\\n&quot;);\r\n        writer.print(&quot;Accept\\r\\n&quot;);\r\n        writer.print(&quot;\\r\\n&quot;);\r\n\r\nOr\r\n\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;HEAD /xai/xai.html HTTP/1.1&quot;);\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;Accept&quot;);\r\n        writer.printf(&quot;%s\\r\\n&quot;, &quot;&quot;);","title":"HTTP/1.1 400 Bad Request Eclipse","body":"<p>End of line on message must be either hardcoded or added by printer</p>\n<pre><code>String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\n// println will send OS end-of-line so it might be just \\n or \\r\n// better not depend on that\nwriter.print(peticio);\nwriter.print(&quot;\\r\\n&quot;);\n</code></pre>\n<p>Or</p>\n<pre><code>    writer.print(&quot;HEAD /xai/xai.html HTTP/1.1\\r\\n&quot;);\n    writer.print(&quot;Accept\\r\\n&quot;);\n    writer.print(&quot;\\r\\n&quot;);\n</code></pre>\n<p>Or</p>\n<pre><code>    writer.printf(&quot;%s\\r\\n&quot;, &quot;HEAD /xai/xai.html HTTP/1.1&quot;);\n    writer.printf(&quot;%s\\r\\n&quot;, &quot;Accept&quot;);\n    writer.printf(&quot;%s\\r\\n&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":27047355,"reputation":13,"user_id":20601329,"display_name":"gfd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681989440,"creation_date":1681928834,"question_id":76057766,"body_markdown":"Trying to programm sockets with TDP and there&#180;s some mistake in the http client that I can&#180;t find that bring an error when I run it.\r\n\r\n```\r\npackage tcp.client;\r\n\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.net.UnknownHostException;\r\n\r\nimport edu.uoc.dpcs.lsim.logger.LoggerManager.Level;\r\nimport lsim.library.api.LSimLogger;\r\n\r\n\r\npublic class HTTPclient {\r\n\r\n\tpublic HTTPclient() {\r\n\t}\r\n\t\t\t\r\n\tpublic String head(String http_server_address, int http_server_port){\r\n\t\tLSimLogger.log(Level.INFO, &quot;start HTTPclient.head &quot;);\r\n\t\tLSimLogger.log(Level.INFO, &quot;HTTP server_address: &quot; + http_server_address);\r\n\t\tLSimLogger.log(Level.INFO, &quot;HTTP server_port: &quot;    + http_server_port);\r\n\r\n\t\t/* Complete code  */\r\n\t\t\r\n\t\tString peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\r\n\r\n\t   \tLSimLogger.log(Level.INFO, peticio);\r\n\r\n\t   \tString resposta = &quot;&quot;;\r\n\t\tSocket socket;\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(http_server_address, http_server_port);\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Socket created&quot;);\r\n\t\t\tOutputStream output = socket.getOutputStream();\r\n\t\t   \tPrintWriter writer = new PrintWriter(output, true);\r\n\t\t   \twriter.println(peticio);\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Request sent&quot;);\r\n\r\n\t\t   \tBufferedReader inputFromServer = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\t\t   \tString linia ;\r\n\t\t   \twhile ((linia = inputFromServer.readLine()) != null) {\r\n\t\t   \t\tresposta += linia + &quot;\\r\\n&quot;;\r\n\t\t   \t\tLSimLogger.log(Level.TRACE, linia);\r\n\t\t   \t}\r\n\t\t   \t\r\n\t\t   \tsocket.close();\r\n\r\n\t\t\tLSimLogger.log(Level.INFO, &quot;Response: &quot; + resposta);\r\n\t\t} catch (SocketException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\tLSimLogger.log(Level.FATAL, e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn resposta;\r\n\t}\r\n}\r\n```\r\n\r\nThe code was done and according to the test question I only had to write the code where it says String peticio.\r\n\r\nThe error message.\r\n\r\nHTTP/1.1 400 Bad Request\r\n\r\nAny help?","title":"HTTP/1.1 400 Bad Request Eclipse","body":"<p>Trying to programm sockets with TDP and there´s some mistake in the http client that I can´t find that bring an error when I run it.</p>\n<pre><code>package tcp.client;\n\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\n\nimport edu.uoc.dpcs.lsim.logger.LoggerManager.Level;\nimport lsim.library.api.LSimLogger;\n\n\npublic class HTTPclient {\n\n    public HTTPclient() {\n    }\n            \n    public String head(String http_server_address, int http_server_port){\n        LSimLogger.log(Level.INFO, &quot;start HTTPclient.head &quot;);\n        LSimLogger.log(Level.INFO, &quot;HTTP server_address: &quot; + http_server_address);\n        LSimLogger.log(Level.INFO, &quot;HTTP server_port: &quot;    + http_server_port);\n\n        /* Complete code  */\n        \n        String peticio = &quot;HEAD /xai/xai.html HTTP/1.1\\r\\nAccept\\r\\n&quot;;\n\n        LSimLogger.log(Level.INFO, peticio);\n\n        String resposta = &quot;&quot;;\n        Socket socket;\n        try {\n            socket = new Socket(http_server_address, http_server_port);\n            LSimLogger.log(Level.INFO, &quot;Socket created&quot;);\n            OutputStream output = socket.getOutputStream();\n            PrintWriter writer = new PrintWriter(output, true);\n            writer.println(peticio);\n            LSimLogger.log(Level.INFO, &quot;Request sent&quot;);\n\n            BufferedReader inputFromServer = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            String linia ;\n            while ((linia = inputFromServer.readLine()) != null) {\n                resposta += linia + &quot;\\r\\n&quot;;\n                LSimLogger.log(Level.TRACE, linia);\n            }\n            \n            socket.close();\n\n            LSimLogger.log(Level.INFO, &quot;Response: &quot; + resposta);\n        } catch (SocketException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        } catch (UnknownHostException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        } catch (IOException e) {\n            LSimLogger.log(Level.FATAL, e.getMessage());\n            e.printStackTrace();\n        }\n        \n        return resposta;\n    }\n}\n</code></pre>\n<p>The code was done and according to the test question I only had to write the code where it says String peticio.</p>\n<p>The error message.</p>\n<p>HTTP/1.1 400 Bad Request</p>\n<p>Any help?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1261435742,"post_id":1942644,"comment_id":1853601,"body_markdown":"To be able to programmaticly inspect a List object and see its generic type. A method may want to insert objects based on the generic type of the collection. This is possible in languages that implement generics at runtime instead of compile time.","body":"To be able to programmaticly inspect a List object and see its generic type. A method may want to insert objects based on the generic type of the collection. This is possible in languages that implement generics at runtime instead of compile time."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":4,"creation_date":1284151279,"post_id":1942644,"comment_id":3885770,"body_markdown":"Right -- about the only way to allow runtime detection is by sub-classing: you CAN actually extend generic type and then using reflection find type declaration that subtype used. This is quite a bit of reflection, but possible. Unfortunately there is no easy way to enforce that one must use generic sub-class.","body":"Right -- about the only way to allow runtime detection is by sub-classing: you CAN actually extend generic type and then using reflection find type declaration that subtype used. This is quite a bit of reflection, but possible. Unfortunately there is no easy way to enforce that one must use generic sub-class."},{"owner":{"account_id":1230408,"reputation":6991,"user_id":1195139,"accept_rate":76,"display_name":"Ben Thurley"},"score":1,"creation_date":1410883776,"post_id":1942644,"comment_id":40489435,"body_markdown":"Surely stringList contains strings and integerList integers? Why make it more complicated?","body":"Surely stringList contains strings and integerList integers? Why make it more complicated?"}],"answers":[{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":2,"creation_date":1520429144,"post_id":1942648,"comment_id":85310451,"body_markdown":"That will be true if the concrete class of the generic is not specified; in his example, he&#39;s explicitly declaring the lists as `List&lt;Integer&gt;` and `List&lt;String&gt;`; in those cases, type erasure does not apply.","body":"That will be true if the concrete class of the generic is not specified; in his example, he&#39;s explicitly declaring the lists as <code>List&lt;Integer&gt;</code> and <code>List&lt;String&gt;</code>; in those cases, type erasure does not apply."}],"tags":[],"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"comment_count":1,"down_vote_count":6,"up_vote_count":26,"is_accepted":false,"score":20,"last_activity_date":1261430158,"creation_date":1261429822,"answer_id":1942648,"question_id":1942644,"body_markdown":"Short answer: no.\r\n\r\nThis is probably a duplicate, can&#39;t find an appropriate one right now.\r\n\r\nJava uses something called type erasure, which means at runtime both objects are equivalent. The compiler knows the lists contain integers or strings, and as such can maintain a type safe environment. This information is lost (on an object instance basis) at runtime, and the list only contain &#39;Objects&#39;.\r\n\r\nYou CAN find out a little about the class, what types it might be parametrized by, but normally this is just anything that extends &quot;Object&quot;, i.e. anything. If you define a type as\r\n\r\n    class &lt;A extends MyClass&gt; AClass {....}\r\n\r\nAClass.class will only contain the fact that the parameter A is bounded by MyClass, but more than that, there&#39;s no way to tell.","title":"Get generic type of java.util.List","body":"<p>Short answer: no.</p>\n\n<p>This is probably a duplicate, can't find an appropriate one right now.</p>\n\n<p>Java uses something called type erasure, which means at runtime both objects are equivalent. The compiler knows the lists contain integers or strings, and as such can maintain a type safe environment. This information is lost (on an object instance basis) at runtime, and the list only contain 'Objects'.</p>\n\n<p>You CAN find out a little about the class, what types it might be parametrized by, but normally this is just anything that extends \"Object\", i.e. anything. If you define a type as</p>\n\n<pre><code>class &lt;A extends MyClass&gt; AClass {....}\n</code></pre>\n\n<p>AClass.class will only contain the fact that the parameter A is bounded by MyClass, but more than that, there's no way to tell.</p>\n"},{"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1520429227,"post_id":1942671,"comment_id":85310509,"body_markdown":"That will be true if the concrete class of the generic is not specified; in his example, he&#39;s explicitly declaring the lists as `List&lt;Integer&gt;` and `List&lt;String&gt;`; in those cases, type erasure does not apply.","body":"That will be true if the concrete class of the generic is not specified; in his example, he&#39;s explicitly declaring the lists as <code>List&lt;Integer&gt;</code> and <code>List&lt;String&gt;</code>; in those cases, type erasure does not apply."}],"tags":[],"owner":{"account_id":12923,"reputation":11910,"user_id":25704,"accept_rate":92,"display_name":"Chris Arguin"},"comment_count":1,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1261430117,"creation_date":1261430117,"answer_id":1942671,"question_id":1942644,"body_markdown":"As others have said, the only correct answer is no, the type has been erased.\r\n\r\nIf the list has a non-zero number of elements, you could investigate the type of the first element ( using it&#39;s getClass method, for instance ). That won&#39;t tell you the generic type of the list, but it would be reasonable to assume that the generic type was some superclass of the types in the list.\r\n\r\nI wouldn&#39;t advocate the approach, but in a bind it might be useful.","title":"Get generic type of java.util.List","body":"<p>As others have said, the only correct answer is no, the type has been erased.</p>\n\n<p>If the list has a non-zero number of elements, you could investigate the type of the first element ( using it's getClass method, for instance ). That won't tell you the generic type of the list, but it would be reasonable to assume that the generic type was some superclass of the types in the list.</p>\n\n<p>I wouldn't advocate the approach, but in a bind it might be useful.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1261430130,"creation_date":1261430130,"answer_id":1942673,"question_id":1942644,"body_markdown":"Generally impossible, because `List&lt;String&gt;` and `List&lt;Integer&gt;` share the same runtime class.\r\n\r\nYou might be able to reflect on the declared type of the field holding the list, though (if the declared type does not itself refer to a type parameter whose value you don&#39;t know).","title":"Get generic type of java.util.List","body":"<p>Generally impossible, because <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code> share the same runtime class.</p>\n\n<p>You might be able to reflect on the declared type of the field holding the list, though (if the declared type does not itself refer to a type parameter whose value you don't know).</p>\n"},{"comments":[{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1261430710,"post_id":1942680,"comment_id":1853049,"body_markdown":"while this is definitely an interesting exercise in generics, if you now what field you want, you usually know what type it is.. :) Determining the type of a parameter would&#39;ve been a lot more useful I suppose. Good when making injection frameworks or similar though. +1","body":"while this is definitely an interesting exercise in generics, if you now what field you want, you usually know what type it is.. :) Determining the type of a parameter would&#39;ve been a lot more useful I suppose. Good when making injection frameworks or similar though. +1"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":21,"creation_date":1261430944,"post_id":1942680,"comment_id":1853073,"body_markdown":"There are certainly situations where this is above useful. In for example configurationless ORM frameworks.","body":"There are certainly situations where this is above useful. In for example configurationless ORM frameworks."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1261431103,"post_id":1942680,"comment_id":1853096,"body_markdown":"..which can use Class#getDeclaredFields() to get all fields without the need to know the field name.","body":"..which can use Class#getDeclaredFields() to get all fields without the need to know the field name."},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":1,"creation_date":1261431280,"post_id":1942680,"comment_id":1853115,"body_markdown":"BalusC: That sounds like an injection framework to me.. That&#39;s the kind of use I meant anyway.","body":"BalusC: That sounds like an injection framework to me.. That&#39;s the kind of use I meant anyway."},{"owner":{"account_id":493186,"reputation":1146,"user_id":1024839,"accept_rate":79,"display_name":"hkoosha"},"score":0,"creation_date":1436003158,"post_id":1942680,"comment_id":50438694,"body_markdown":"Then why does Guice has a TypeLiteral? TypeLiteral is ugly.","body":"Then why does Guice has a TypeLiteral? TypeLiteral is ugly."},{"owner":{"account_id":1709149,"reputation":5779,"user_id":1567541,"accept_rate":83,"display_name":"Hendra Anggrian"},"score":0,"creation_date":1463069032,"post_id":1942680,"comment_id":61916776,"body_markdown":"does this also work with other types of Collections like Set or HashMap?","body":"does this also work with other types of Collections like Set or HashMap?"},{"owner":{"account_id":4136952,"reputation":322,"user_id":3393404,"display_name":"Dustin"},"score":0,"creation_date":1476720593,"post_id":1942680,"comment_id":67454713,"body_markdown":"this works for Maps as well.  the key is the cast to (ParameterizedType), without it there is no way to get the list of classes that make up the list or map","body":"this works for Maps as well.  the key is the cast to (ParameterizedType), without it there is no way to get the list of classes that make up the list or map"},{"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"score":1,"creation_date":1494856683,"post_id":1942680,"comment_id":74991842,"body_markdown":"@loolooyyyy Rather than use TypeLiteral, I recommend using TypeToken from Guava. https://github.com/google/guava/wiki/ReflectionExplained","body":"@loolooyyyy Rather than use TypeLiteral, I recommend using TypeToken from Guava. <a href=\"https://github.com/google/guava/wiki/ReflectionExplained\" rel=\"nofollow noreferrer\">github.com/google/guava/wiki/ReflectionExplained</a>"},{"owner":{"account_id":493186,"reputation":1146,"user_id":1024839,"accept_rate":79,"display_name":"hkoosha"},"score":0,"creation_date":1494872811,"post_id":1942680,"comment_id":75002045,"body_markdown":"@babyburger also let me invite TypeParameterMatcher to the party. you&#39;ll have to copy paste, if you aren&#39;t using netty in a project (has specific use cases but it rocks): https://netty.io/4.0/xref/io/netty/util/internal/TypeParameterMatcher.html","body":"@babyburger also let me invite TypeParameterMatcher to the party. you&#39;ll have to copy paste, if you aren&#39;t using netty in a project (has specific use cases but it rocks): <a href=\"https://netty.io/4.0/xref/io/netty/util/internal/TypeParameterMatcher.html\" rel=\"nofollow noreferrer\">netty.io/4.0/xref/io/netty/util/internal/&hellip;</a>"},{"owner":{"account_id":5730547,"reputation":789,"user_id":4526235,"accept_rate":72,"display_name":"Oleg Kuts"},"score":0,"creation_date":1562776331,"post_id":1942680,"comment_id":100486315,"body_markdown":"Does not work for me, getting `Caused by: java.lang.ClassCastException: class sun.reflect.generics.reflectiveObjects.WildcardTypeImpl cannot be cast to class java.lang.Class (sun.reflect.generics.reflectiveObjects.WildcardTypeImpl and java.lang.Class are in module java.base of loader &#39;bootstrap&#39;)`. Trying to resolve it for few hours already.","body":"Does not work for me, getting <code>Caused by: java.lang.ClassCastException: class sun.reflect.generics.reflectiveObjects.WildcardTypeImpl cannot be cast to class java.lang.Class (sun.reflect.generics.reflectiveObjects.WildcardTypeImpl and java.lang.Class are in module java.base of loader &#39;bootstrap&#39;)</code>. Trying to resolve it for few hours already."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1562844135,"post_id":1942680,"comment_id":100510601,"body_markdown":"@Oleg Your variable is using `&lt;?&gt;` (wildcard type) instead of `&lt;Class&gt;` (class type). Replace your `&lt;?&gt;` by `&lt;Class&gt;` or whatever `&lt;E&gt;`.","body":"@Oleg Your variable is using <code>&lt;?&gt;</code> (wildcard type) instead of <code>&lt;Class&gt;</code> (class type). Replace your <code>&lt;?&gt;</code> by <code>&lt;Class&gt;</code> or whatever <code>&lt;E&gt;</code>."},{"owner":{"account_id":5730547,"reputation":789,"user_id":4526235,"accept_rate":72,"display_name":"Oleg Kuts"},"score":0,"creation_date":1562846990,"post_id":1942680,"comment_id":100512263,"body_markdown":"@BalusC Thanks for reply. &lt;Class&gt; did work for me(&lt;String&gt; in my case), while &lt;E&gt; throwing another exception `Caused by: java.lang.ClassCastException: class sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to class java.lang.Class (sun.reflect.generics.reflectiveObjects.TypeVariableImpl and java.lang.Class are in module java.base of loader &#39;bootstrap&#39;)`. I am ok with this, went another way, posting just FYI.","body":"@BalusC Thanks for reply. &lt;Class&gt; did work for me(&lt;String&gt; in my case), while &lt;E&gt; throwing another exception <code>Caused by: java.lang.ClassCastException: class sun.reflect.generics.reflectiveObjects.TypeVariableImpl cannot be cast to class java.lang.Class (sun.reflect.generics.reflectiveObjects.TypeVariableImpl and java.lang.Class are in module java.base of loader &#39;bootstrap&#39;)</code>. I am ok with this, went another way, posting just FYI."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":12,"down_vote_count":1,"up_vote_count":479,"is_accepted":true,"score":478,"last_activity_date":1681989413,"creation_date":1261430329,"answer_id":1942680,"question_id":1942644,"body_markdown":"If those are actually fields of a certain class, then you can get them with a little help of reflection:\r\n\r\n```java\r\npackage com.stackoverflow.q1942644;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.ParameterizedType;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Test {\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\r\n\r\n    public static void main(String... args) throws Exception {\r\n        Class&lt;Test&gt; testClass = Test.class;\r\n\r\n        Field stringListField = testClass.getDeclaredField(&quot;stringList&quot;);\r\n        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();\r\n        Class&lt;?&gt; stringListClass = (Class&lt;?&gt;) stringListType.getActualTypeArguments()[0];\r\n        System.out.println(stringListClass); // class java.lang.String\r\n\r\n        Field integerListField = testClass.getDeclaredField(&quot;integerList&quot;);\r\n        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();\r\n        Class&lt;?&gt; integerListClass = (Class&lt;?&gt;) integerListType.getActualTypeArguments()[0];\r\n        System.out.println(integerListClass); // class java.lang.Integer\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can also do that for parameter types and return type of methods.\r\n\r\nBut if they&#39;re inside the same scope of the class/method where you need to know about them, then there&#39;s no point of knowing them, because you already have declared them yourself.\r\n","title":"Get generic type of java.util.List","body":"<p>If those are actually fields of a certain class, then you can get them with a little help of reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.q1942644;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n\n    public static void main(String... args) throws Exception {\n        Class&lt;Test&gt; testClass = Test.class;\n\n        Field stringListField = testClass.getDeclaredField(&quot;stringList&quot;);\n        ParameterizedType stringListType = (ParameterizedType) stringListField.getGenericType();\n        Class&lt;?&gt; stringListClass = (Class&lt;?&gt;) stringListType.getActualTypeArguments()[0];\n        System.out.println(stringListClass); // class java.lang.String\n\n        Field integerListField = testClass.getDeclaredField(&quot;integerList&quot;);\n        ParameterizedType integerListType = (ParameterizedType) integerListField.getGenericType();\n        Class&lt;?&gt; integerListClass = (Class&lt;?&gt;) integerListType.getActualTypeArguments()[0];\n        System.out.println(integerListClass); // class java.lang.Integer\n    }\n\n}\n</code></pre>\n<p>You can also do that for parameter types and return type of methods.</p>\n<p>But if they're inside the same scope of the class/method where you need to know about them, then there's no point of knowing them, because you already have declared them yourself.</p>\n"},{"comments":[{"owner":{"account_id":20091,"reputation":61036,"user_id":47633,"accept_rate":61,"display_name":"opensas"},"score":2,"creation_date":1290746811,"post_id":1942692,"comment_id":4645235,"body_markdown":"and does it work for parameters received by a method instead of fields of a class???","body":"and does it work for parameters received by a method instead of fields of a class???"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1534377423,"post_id":1942692,"comment_id":90687649,"body_markdown":"@opensas You can use [`method.getGenericParameterTypes()`](https://docs.oracle.com/javase/10/docs/api/java/lang/reflect/Method.html#getGenericParameterTypes%28%29) to get the declared types of a method&#39;s parameters.","body":"@opensas You can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/reflect/Method.html#getGenericParameterTypes%28%29\" rel=\"nofollow noreferrer\"><code>method.getGenericParameterTypes()</code></a> to get the declared types of a method&#39;s parameters."},{"owner":{"account_id":1128786,"reputation":598,"user_id":1115366,"display_name":"Falkreon"},"score":0,"creation_date":1603395598,"post_id":1942692,"comment_id":114032433,"body_markdown":"This works right up until you have, let&#39;s say, `class Foo&lt;T&gt; { public T bar; } Foo&lt;Integer&gt; fooField;` - in this case, what is returned for fooField&#39;s &#39;bar&#39; member will be a TypeVariable instead of a Class. Even though you and I can see clearly that T will be Integer, for some reason we can only reflexively retrieve that information from a subclass of Foo using the subclass&#39;s getGenericSuperclass() method (which will then return a ParametrizedType like the above example).","body":"This works right up until you have, let&#39;s say, <code>class Foo&lt;T&gt; { public T bar; } Foo&lt;Integer&gt; fooField;</code> - in this case, what is returned for fooField&#39;s &#39;bar&#39; member will be a TypeVariable instead of a Class. Even though you and I can see clearly that T will be Integer, for some reason we can only reflexively retrieve that information from a subclass of Foo using the subclass&#39;s getGenericSuperclass() method (which will then return a ParametrizedType like the above example)."}],"tags":[],"owner":{"account_id":30420,"reputation":3100,"user_id":82970,"accept_rate":96,"display_name":"Scott Morrison"},"comment_count":3,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1261430385,"creation_date":1261430385,"answer_id":1942692,"question_id":1942644,"body_markdown":"At runtime, no, you can&#39;t.\r\n\r\nHowever via reflection the type parameters *are* accessible. Try\r\n\r\n    for(Field field : this.getDeclaredFields()) {\r\n        System.out.println(field.getGenericType())\r\n    }\r\n\r\nThe method `getGenericType()` returns a Type object. In this case, it will be an instance of `ParametrizedType`, which in turn has methods `getRawType()` (which will contain `List.class`, in this case) and `getActualTypeArguments()`, which will return an array (in this case, of length one, containing either `String.class` or `Integer.class`).","title":"Get generic type of java.util.List","body":"<p>At runtime, no, you can't.</p>\n\n<p>However via reflection the type parameters <em>are</em> accessible. Try</p>\n\n<pre><code>for(Field field : this.getDeclaredFields()) {\n    System.out.println(field.getGenericType())\n}\n</code></pre>\n\n<p>The method <code>getGenericType()</code> returns a Type object. In this case, it will be an instance of <code>ParametrizedType</code>, which in turn has methods <code>getRawType()</code> (which will contain <code>List.class</code>, in this case) and <code>getActualTypeArguments()</code>, which will return an array (in this case, of length one, containing either <code>String.class</code> or <code>Integer.class</code>).</p>\n"},{"tags":[],"owner":{"account_id":277196,"reputation":636,"user_id":571042,"display_name":"tsaixingwei"},"comment_count":0,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1597275696,"creation_date":1298815877,"answer_id":5133664,"question_id":1942644,"body_markdown":"You can do the same for method parameters as well:\r\n\r\n    Method method = someClass.getDeclaredMethod(&quot;someMethod&quot;);\r\n    Type[] types = method.getGenericParameterTypes();\r\n    //Now assuming that the first parameter to the method is of type List&lt;Integer&gt;\r\n    ParameterizedType pType = (ParameterizedType) types[0];\r\n    Class&lt;?&gt; clazz = (Class&lt;?&gt;) pType.getActualTypeArguments()[0];\r\n    System.out.println(clazz); //prints out java.lang.Integer\r\n\r\n\r\n\r\n\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>You can do the same for method parameters as well:</p>\n<pre><code>Method method = someClass.getDeclaredMethod(&quot;someMethod&quot;);\nType[] types = method.getGenericParameterTypes();\n//Now assuming that the first parameter to the method is of type List&lt;Integer&gt;\nParameterizedType pType = (ParameterizedType) types[0];\nClass&lt;?&gt; clazz = (Class&lt;?&gt;) pType.getActualTypeArguments()[0];\nSystem.out.println(clazz); //prints out java.lang.Integer\n</code></pre>\n"},{"comments":[{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":1,"creation_date":1449863461,"post_id":5898470,"comment_id":56206582,"body_markdown":"what is `getFieldGenericTypefieldGenericType` it cannot be found","body":"what is <code>getFieldGenericTypefieldGenericType</code> it cannot be found"}],"tags":[],"owner":{"account_id":748264,"reputation":59,"user_id":740020,"display_name":"Ashish"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1547502338,"creation_date":1304602075,"answer_id":5898470,"question_id":1942644,"body_markdown":"    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class GenericTypeOfCollectionTest {\r\n        public class FormBean {\r\n        }\r\n    \r\n        public class MyClazz {\r\n            private List&lt;FormBean&gt; list = new ArrayList&lt;FormBean&gt;();\r\n        }\r\n    \r\n        @Test\r\n        public void testName() throws Exception {\r\n            Field[] fields = MyClazz.class.getFields();\r\n            for (Field field : fields) {\r\n                //1. Check if field is of Collection Type\r\n                if (Collection.class.isAssignableFrom(field.getType())) {\r\n                    //2. Get Generic type of your field\r\n                    Class fieldGenericType = getFieldGenericType(field);\r\n                    //3. Compare with &lt;FromBean&gt;\r\n                    Assert.assertTrue(&quot;List&lt;FormBean&gt;&quot;,\r\n                      FormBean.class.isAssignableFrom(fieldGenericType));\r\n                }\r\n            }\r\n        }\r\n    \r\n        //Returns generic type of any field\r\n        public Class getFieldGenericType(Field field) {\r\n            if (ParameterizedType.class.isAssignableFrom(field.getGenericType().getClass())) {\r\n                ParameterizedType genericType =\r\n                 (ParameterizedType) field.getGenericType();\r\n                return ((Class)\r\n                  (genericType.getActualTypeArguments()[0])).getSuperclass();\r\n            }\r\n            //Returns dummy Boolean Class to compare with ValueObject &amp; FormBean\r\n            return new Boolean(false).getClass();\r\n        }\r\n    }","title":"Get generic type of java.util.List","body":"<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.ParameterizedType;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class GenericTypeOfCollectionTest {\n    public class FormBean {\n    }\n\n    public class MyClazz {\n        private List&lt;FormBean&gt; list = new ArrayList&lt;FormBean&gt;();\n    }\n\n    @Test\n    public void testName() throws Exception {\n        Field[] fields = MyClazz.class.getFields();\n        for (Field field : fields) {\n            //1. Check if field is of Collection Type\n            if (Collection.class.isAssignableFrom(field.getType())) {\n                //2. Get Generic type of your field\n                Class fieldGenericType = getFieldGenericType(field);\n                //3. Compare with &lt;FromBean&gt;\n                Assert.assertTrue(\"List&lt;FormBean&gt;\",\n                  FormBean.class.isAssignableFrom(fieldGenericType));\n            }\n        }\n    }\n\n    //Returns generic type of any field\n    public Class getFieldGenericType(Field field) {\n        if (ParameterizedType.class.isAssignableFrom(field.getGenericType().getClass())) {\n            ParameterizedType genericType =\n             (ParameterizedType) field.getGenericType();\n            return ((Class)\n              (genericType.getActualTypeArguments()[0])).getSuperclass();\n        }\n        //Returns dummy Boolean Class to compare with ValueObject &amp; FormBean\n        return new Boolean(false).getClass();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1153564,"reputation":1823,"user_id":1247387,"accept_rate":44,"display_name":"Falci"},"score":7,"creation_date":1368547826,"post_id":14722640,"comment_id":23769589,"body_markdown":"And if you have a empty collection ? Or if you have a Collection&lt;Object&gt; with a Integer and a String ?","body":"And if you have a empty collection ? Or if you have a Collection&lt;Object&gt; with a Integer and a String ?"},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1375988338,"post_id":14722640,"comment_id":26556004,"body_markdown":"The contract for the class could require only lists of final objects be passed in, and that the method call will return null if the list is null, empty, or if the list type is invalid.","body":"The contract for the class could require only lists of final objects be passed in, and that the method call will return null if the list is null, empty, or if the list type is invalid."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":1,"creation_date":1422850232,"post_id":14722640,"comment_id":44897490,"body_markdown":"In the case of an empty collection, it is safe to assign to any list type at runtime, because there&#39;s nothing in it, and after type erasure occurs, a List is a List is a List. Because of this, I&#39;m unable to think of any instance where the type of an empty collection will matter.","body":"In the case of an empty collection, it is safe to assign to any list type at runtime, because there&#39;s nothing in it, and after type erasure occurs, a List is a List is a List. Because of this, I&#39;m unable to think of any instance where the type of an empty collection will matter."},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1479829490,"post_id":14722640,"comment_id":68717955,"body_markdown":"Well it &quot;could matter&quot; if you held onto the reference in a thread and processed it once objects started showing up in a producer consumer scenario.  If the list had the wrong object types bad things could happen.  I guess to prevent that you would have to halt processing by sleeping till there was at least one item in the list before continuing.","body":"Well it &quot;could matter&quot; if you held onto the reference in a thread and processed it once objects started showing up in a producer consumer scenario.  If the list had the wrong object types bad things could happen.  I guess to prevent that you would have to halt processing by sleeping till there was at least one item in the list before continuing."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":0,"creation_date":1479855887,"post_id":14722640,"comment_id":68732563,"body_markdown":"If you have that kind of producer/consumer scenario, planning for the list to have a certain generic type without being sure what could be put in the list is bad design, anyway. Instead you&#39;d declare it as a collection of `Object`s and when you pull them out of the list, you&#39;d give them to an appropriate handler based on their type.","body":"If you have that kind of producer/consumer scenario, planning for the list to have a certain generic type without being sure what could be put in the list is bad design, anyway. Instead you&#39;d declare it as a collection of <code>Object</code>s and when you pull them out of the list, you&#39;d give them to an appropriate handler based on their type."},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1517846211,"post_id":14722640,"comment_id":84249759,"body_markdown":"Well yes, that would be intelligent.  But it supposes you have control of the design, and one or both sides of the converstaion and aren&#39;t using a pluggable libarary for instance.","body":"Well yes, that would be intelligent.  But it supposes you have control of the design, and one or both sides of the converstaion and aren&#39;t using a pluggable libarary for instance."},{"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"score":0,"creation_date":1517886651,"post_id":14722640,"comment_id":84266563,"body_markdown":"You may need to process things to get typed lists to make libraries compile together, but the method I described is really the only way to do that at runtime. Process the list as a list or stream of objects, and collect all the items in your object list/stream that test as that type into your new list/stream which you can then pass off to your library. And it only assumes that you have control of the design of the method you are actually writing.","body":"You may need to process things to get typed lists to make libraries compile together, but the method I described is really the only way to do that at runtime. Process the list as a list or stream of objects, and collect all the items in your object list/stream that test as that type into your new list/stream which you can then pass off to your library. And it only assumes that you have control of the design of the method you are actually writing."},{"owner":{"account_id":10062835,"reputation":1541,"user_id":7438853,"accept_rate":68,"display_name":"wheeleruniverse"},"score":0,"creation_date":1518807871,"post_id":14722640,"comment_id":84670934,"body_markdown":"This solution works for me because I am rejecting input where my Collection&lt;?&gt; is empty.","body":"This solution works for me because I am rejecting input where my Collection&lt;?&gt; is empty."}],"tags":[],"owner":{"account_id":2281083,"reputation":4871,"user_id":2020820,"display_name":"Steve K"},"comment_count":8,"down_vote_count":4,"up_vote_count":22,"is_accepted":false,"score":18,"last_activity_date":1560820075,"creation_date":1360130761,"answer_id":14722640,"question_id":1942644,"body_markdown":"The generic type of a collection should only matter if it actually has objects in it, right? So isn&#39;t it easier to just do:\r\n\r\n    Collection&lt;?&gt; myCollection = getUnknownCollectionFromSomewhere();\r\n    Class genericClass = null;\r\n    Iterator it = myCollection.iterator();\r\n    if (it.hasNext()){\r\n        genericClass = it.next().getClass();\r\n    }\r\n    if (genericClass != null) { //do whatever we needed to know the type for\r\n\r\n\r\nThere&#39;s no such thing as a generic type in runtime, but the objects inside at runtime are guaranteed to be the same type as the declared generic, so it&#39;s easy enough just to test the item&#39;s class before we process it.\r\n\r\nAnother thing you can do is simply process the list to get members that are the right type, ignoring others (or processing them differently).\r\n\r\n\tMap&lt;Class&lt;?&gt;, List&lt;Object&gt;&gt; classObjectMap = myCollection.stream()\r\n\t\t.filter(Objects::nonNull)\r\n\t\t.collect(Collectors.groupingBy(Object::getClass));\r\n\t\r\n\t// Process the list of the correct class, and/or handle objects of incorrect\r\n\t// class (throw exceptions, etc). You may need to group subclasses by\r\n\t// filtering the keys. For instance:\r\n\t\r\n\tList&lt;Number&gt; numbers = classObjectMap.entrySet().stream()\r\n\t\t\t.filter(e-&gt;Number.class.isAssignableFrom(e.getKey()))\r\n\t\t\t.flatMap(e-&gt;e.getValue().stream())\r\n\t\t\t.map(Number.class::cast)\r\n\t\t\t.collect(Collectors.toList());\r\n\t\r\nThis will give you a list of all items whose classes were subclasses of `Number` which you can then process as you need. The rest of the items were filtered out into other lists. Because they&#39;re in the map, you can process them as desired, or ignore them. \r\n\r\nIf you want to ignore items of other classes altogether, it becomes much simpler:\r\n\r\n    List&lt;Number&gt; numbers = myCollection.stream()\r\n        .filter(Number.class::isInstance)\r\n        .map(Number.class::cast)\r\n        .collect(Collectors.toList());\r\n\r\nYou can even create a utility method to insure that a list contains ONLY those items matching a specific class:\r\n\r\n    public &lt;V&gt; List&lt;V&gt; getTypeSafeItemList(Collection&lt;Object&gt; input, Class&lt;V&gt; cls) {\r\n\t    return input.stream()\r\n\t    \t\t.filter(cls::isInstance)\r\n\t    \t\t.map(cls::cast)\r\n\t    \t\t.collect(Collectors.toList());\r\n    }","title":"Get generic type of java.util.List","body":"<p>The generic type of a collection should only matter if it actually has objects in it, right? So isn't it easier to just do:</p>\n\n<pre><code>Collection&lt;?&gt; myCollection = getUnknownCollectionFromSomewhere();\nClass genericClass = null;\nIterator it = myCollection.iterator();\nif (it.hasNext()){\n    genericClass = it.next().getClass();\n}\nif (genericClass != null) { //do whatever we needed to know the type for\n</code></pre>\n\n<p>There's no such thing as a generic type in runtime, but the objects inside at runtime are guaranteed to be the same type as the declared generic, so it's easy enough just to test the item's class before we process it.</p>\n\n<p>Another thing you can do is simply process the list to get members that are the right type, ignoring others (or processing them differently).</p>\n\n<pre><code>Map&lt;Class&lt;?&gt;, List&lt;Object&gt;&gt; classObjectMap = myCollection.stream()\n    .filter(Objects::nonNull)\n    .collect(Collectors.groupingBy(Object::getClass));\n\n// Process the list of the correct class, and/or handle objects of incorrect\n// class (throw exceptions, etc). You may need to group subclasses by\n// filtering the keys. For instance:\n\nList&lt;Number&gt; numbers = classObjectMap.entrySet().stream()\n        .filter(e-&gt;Number.class.isAssignableFrom(e.getKey()))\n        .flatMap(e-&gt;e.getValue().stream())\n        .map(Number.class::cast)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>This will give you a list of all items whose classes were subclasses of <code>Number</code> which you can then process as you need. The rest of the items were filtered out into other lists. Because they're in the map, you can process them as desired, or ignore them. </p>\n\n<p>If you want to ignore items of other classes altogether, it becomes much simpler:</p>\n\n<pre><code>List&lt;Number&gt; numbers = myCollection.stream()\n    .filter(Number.class::isInstance)\n    .map(Number.class::cast)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>You can even create a utility method to insure that a list contains ONLY those items matching a specific class:</p>\n\n<pre><code>public &lt;V&gt; List&lt;V&gt; getTypeSafeItemList(Collection&lt;Object&gt; input, Class&lt;V&gt; cls) {\n    return input.stream()\n            .filter(cls::isInstance)\n            .map(cls::cast)\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263936,"reputation":20265,"user_id":549848,"accept_rate":74,"display_name":"Aram Kocharyan"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1364558873,"creation_date":1364558873,"answer_id":15702911,"question_id":1942644,"body_markdown":"If you need to get the generic type of a returned type, I used this approach when I needed to find methods in a class which returned a `Collection` and then access their generic types:\r\n\r\n\r\n    import java.lang.reflect.Method;\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n    \r\n        public List&lt;String&gt; test() {\r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            for (Method method : Test.class.getMethods()) {\r\n                Class returnClass = method.getReturnType();\r\n                if (Collection.class.isAssignableFrom(returnClass)) {\r\n                    Type returnType = method.getGenericReturnType();\r\n                    if (returnType instanceof ParameterizedType) {\r\n                        ParameterizedType paramType = (ParameterizedType) returnType;\r\n                        Type[] argTypes = paramType.getActualTypeArguments();\r\n                        if (argTypes.length &gt; 0) {\r\n                            System.out.println(&quot;Generic type is &quot; + argTypes[0]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nThis outputs:\r\n\r\n&gt; Generic type is class java.lang.String","title":"Get generic type of java.util.List","body":"<p>If you need to get the generic type of a returned type, I used this approach when I needed to find methods in a class which returned a <code>Collection</code> and then access their generic types:</p>\n\n<pre><code>import java.lang.reflect.Method;\nimport java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class Test {\n\n    public List&lt;String&gt; test() {\n        return null;\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        for (Method method : Test.class.getMethods()) {\n            Class returnClass = method.getReturnType();\n            if (Collection.class.isAssignableFrom(returnClass)) {\n                Type returnType = method.getGenericReturnType();\n                if (returnType instanceof ParameterizedType) {\n                    ParameterizedType paramType = (ParameterizedType) returnType;\n                    Type[] argTypes = paramType.getActualTypeArguments();\n                    if (argTypes.length &gt; 0) {\n                        System.out.println(\"Generic type is \" + argTypes[0]);\n                    }\n                }\n            }\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<blockquote>\n  <p>Generic type is class java.lang.String</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3260473,"reputation":394,"user_id":2746149,"display_name":"subrunner"},"score":0,"creation_date":1517820763,"post_id":18792244,"comment_id":84233909,"body_markdown":"Same problems as with Steve K&#39;s answer: What if the list is empty? What if the list is of type &lt;Object&gt; that contains a String and an Integer? Your code means that you can only add more Strings if the first item in the list is a string, and no integeres at all...","body":"Same problems as with Steve K&#39;s answer: What if the list is empty? What if the list is of type &lt;Object&gt; that contains a String and an Integer? Your code means that you can only add more Strings if the first item in the list is a string, and no integeres at all..."},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1517846023,"post_id":18792244,"comment_id":84249613,"body_markdown":"If the list is empty you are out of luck.  If the list is Object and it actually contains an Object you are OK, but if it has a mix of things you are out of luck.  Erasure means this is as good as you can do.  Erasure is lacking in my opinion.  The ramifications of it are at once poorly understood and insufficient to address the interesting and desired use cases of typical concern.  Nothing prevents creating a class that can be asked what type it takes, but that simply isn&#39;t how the built in classes work.  Collections ought to know what they contain, but alas...","body":"If the list is empty you are out of luck.  If the list is Object and it actually contains an Object you are OK, but if it has a mix of things you are out of luck.  Erasure means this is as good as you can do.  Erasure is lacking in my opinion.  The ramifications of it are at once poorly understood and insufficient to address the interesting and desired use cases of typical concern.  Nothing prevents creating a class that can be asked what type it takes, but that simply isn&#39;t how the built in classes work.  Collections ought to know what they contain, but alas..."}],"tags":[],"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1655733520,"creation_date":1379094256,"answer_id":18792244,"question_id":1942644,"body_markdown":"Expanding on Steve K&#39;s answer:\r\n\r\n\r\n    /** \r\n    * Performs a forced cast.  \r\n    * Returns null if the collection type does not match the items in the list.\r\n    * @param data The list to cast.\r\n    * @param listType The type of list to cast to.\r\n    */\r\n    static &lt;T&gt; List&lt;? super T&gt; castListSafe(List&lt;?&gt; data, Class&lt;T&gt; listType){\r\n        List&lt;T&gt; retval = null;\r\n        //This test could be skipped if you trust the callers, but it wouldn&#39;t be safe then.\r\n        if(data!=null &amp;&amp; !data.isEmpty() &amp;&amp; listType.isInstance(data.iterator().next().getClass())) {\r\n            @SuppressWarnings(&quot;unchecked&quot;)//It&#39;s OK, we know List&lt;T&gt; contains the expected type.\r\n            List&lt;T&gt; foo = (List&lt;T&gt;)data;\r\n            retval=foo;\r\n        }\r\n        return retval;\r\n    }\r\n    Usage:\r\n    \r\n    protected WhateverClass add(List&lt;?&gt; data) {//For fluant useage\r\n        if(data==null) || data.isEmpty(){\r\n           throw new IllegalArgumentException(&quot;add() &quot; + data==null?&quot;null&quot;:&quot;empty&quot; \r\n           + &quot; collection&quot;);\r\n        }\r\n        Class&lt;?&gt; colType = data.iterator().next().getClass();//Something\r\n        aMethod(castListSafe(data, colType));\r\n    }\r\n    \r\n    aMethod(List&lt;Foo&gt; foo){\r\n       for(Foo foo: List){\r\n          System.out.println(Foo);\r\n       }\r\n    }\r\n    \r\n    aMethod(List&lt;Bar&gt; bar){\r\n       for(Bar bar: List){\r\n          System.out.println(Bar);\r\n       }\r\n    }\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>Expanding on Steve K's answer:</p>\n<pre><code>/** \n* Performs a forced cast.  \n* Returns null if the collection type does not match the items in the list.\n* @param data The list to cast.\n* @param listType The type of list to cast to.\n*/\nstatic &lt;T&gt; List&lt;? super T&gt; castListSafe(List&lt;?&gt; data, Class&lt;T&gt; listType){\n    List&lt;T&gt; retval = null;\n    //This test could be skipped if you trust the callers, but it wouldn't be safe then.\n    if(data!=null &amp;&amp; !data.isEmpty() &amp;&amp; listType.isInstance(data.iterator().next().getClass())) {\n        @SuppressWarnings(&quot;unchecked&quot;)//It's OK, we know List&lt;T&gt; contains the expected type.\n        List&lt;T&gt; foo = (List&lt;T&gt;)data;\n        retval=foo;\n    }\n    return retval;\n}\nUsage:\n\nprotected WhateverClass add(List&lt;?&gt; data) {//For fluant useage\n    if(data==null) || data.isEmpty(){\n       throw new IllegalArgumentException(&quot;add() &quot; + data==null?&quot;null&quot;:&quot;empty&quot; \n       + &quot; collection&quot;);\n    }\n    Class&lt;?&gt; colType = data.iterator().next().getClass();//Something\n    aMethod(castListSafe(data, colType));\n}\n\naMethod(List&lt;Foo&gt; foo){\n   for(Foo foo: List){\n      System.out.println(Foo);\n   }\n}\n\naMethod(List&lt;Bar&gt; bar){\n   for(Bar bar: List){\n      System.out.println(Bar);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1447857738,"creation_date":1447857738,"answer_id":33782964,"question_id":1942644,"body_markdown":"For finding generic type of one field:\r\n\r\n    ((Class)((ParameterizedType)field.getGenericType()).getActualTypeArguments()[0]).getSimpleName()","title":"Get generic type of java.util.List","body":"<p>For finding generic type of one field:</p>\n\n<pre><code>((Class)((ParameterizedType)field.getGenericType()).getActualTypeArguments()[0]).getSimpleName()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254270,"reputation":2467,"user_id":533549,"accept_rate":38,"display_name":"Andy"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1502387347,"creation_date":1502387347,"answer_id":45620381,"question_id":1942644,"body_markdown":"Had the same problem, but I used instanceof instead. Did it this way:\r\n\r\n    List&lt;Object&gt; listCheck = (List&lt;Object&gt;)(Object) stringList;\r\n        if (!listCheck.isEmpty()) {\r\n           if (listCheck.get(0) instanceof String) {\r\n               System.out.println(&quot;List type is String&quot;);\r\n           }\r\n           if (listCheck.get(0) instanceof Integer) {\r\n               System.out.println(&quot;List type is Integer&quot;);\r\n           }\r\n        }\r\n    }\r\n\r\nThis involves using unchecked casts so only do this when you know it is a list, and what type it can be. ","title":"Get generic type of java.util.List","body":"<p>Had the same problem, but I used instanceof instead. Did it this way:</p>\n\n<pre><code>List&lt;Object&gt; listCheck = (List&lt;Object&gt;)(Object) stringList;\n    if (!listCheck.isEmpty()) {\n       if (listCheck.get(0) instanceof String) {\n           System.out.println(\"List type is String\");\n       }\n       if (listCheck.get(0) instanceof Integer) {\n           System.out.println(\"List type is Integer\");\n       }\n    }\n}\n</code></pre>\n\n<p>This involves using unchecked casts so only do this when you know it is a list, and what type it can be. </p>\n"},{"comments":[{"owner":{"account_id":1359524,"reputation":2898,"user_id":1297136,"accept_rate":65,"display_name":"Alexey Kamenskiy"},"score":0,"creation_date":1508918563,"post_id":46926189,"comment_id":80800894,"body_markdown":"Consider adding some example code, otherwise this is more suitable for a comment and not an answer","body":"Consider adding some example code, otherwise this is more suitable for a comment and not an answer"}],"tags":[],"owner":{"account_id":7427774,"reputation":133,"user_id":5649747,"display_name":"Siddharth Shishulkar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508915638,"creation_date":1508915638,"answer_id":46926189,"question_id":1942644,"body_markdown":"Use Reflection to get the `Field` for these then you can just do: `field.genericType` to get the type that contains the information about generic as well.\r\n\r\n","title":"Get generic type of java.util.List","body":"<p>Use Reflection to get the <code>Field</code> for these then you can just do: <code>field.genericType</code> to get the type that contains the information about generic as well.</p>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639665141,"creation_date":1639665141,"answer_id":70380769,"question_id":1942644,"body_markdown":"A tiny helper method for that:\r\n\r\n    /**\r\n     * Get type of collection field.\r\n     *\r\n     * @param aClass A class containing collection.\r\n     * @param collectionName A collection field name.\r\n     */\r\n    @SneakyThrows\r\n    public static Class&lt;?&gt; getCollectionType(Class&lt;?&gt; aClass, String collectionName) {\r\n      Field field = aClass.getDeclaredField(collectionName);\r\n      ParameterizedType genericType = (ParameterizedType) field.getGenericType();\r\n      return (Class&lt;?&gt;) genericType.getActualTypeArguments()[0];\r\n    }","title":"Get generic type of java.util.List","body":"<p>A tiny helper method for that:</p>\n<pre><code>/**\n * Get type of collection field.\n *\n * @param aClass A class containing collection.\n * @param collectionName A collection field name.\n */\n@SneakyThrows\npublic static Class&lt;?&gt; getCollectionType(Class&lt;?&gt; aClass, String collectionName) {\n  Field field = aClass.getDeclaredField(collectionName);\n  ParameterizedType genericType = (ParameterizedType) field.getGenericType();\n  return (Class&lt;?&gt;) genericType.getActualTypeArguments()[0];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2934930,"reputation":404,"user_id":2514119,"accept_rate":0,"display_name":"Blake McBride"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651235044,"creation_date":1651235044,"answer_id":72057932,"question_id":1942644,"body_markdown":"I found an answer that works perfectly in my case.\r\n```\r\nclass ArrayListString extends ArrayList&lt;String&gt; {}\r\nclass ArrayListInteger extends ArrayList&lt;Integer&gt; {}\r\n\r\nArrayListString als = new ArrayListString();\r\nArrayListInteger ali = new ArrayListInteger();\r\n\r\nvoid whatType(Object a) {\r\n    if (a instanceof ArrayListString)\r\n        System.out.println(&quot;ArrayListString&quot;);\r\n    else if (a instanceof ArrayListInteger)\r\n        System.out.println(&quot;ArrayListInteger&quot;);\r\n}\r\n\r\nwhatType(als);\r\nwhatType(ali);\r\n```\r\n`als` and `ali` will work as their generics do.\r\n\r\nWhat this code does is convert a generic type into a regular Java type.  In Java, regular types can be detected with `instanceof`.","title":"Get generic type of java.util.List","body":"<p>I found an answer that works perfectly in my case.</p>\n<pre><code>class ArrayListString extends ArrayList&lt;String&gt; {}\nclass ArrayListInteger extends ArrayList&lt;Integer&gt; {}\n\nArrayListString als = new ArrayListString();\nArrayListInteger ali = new ArrayListInteger();\n\nvoid whatType(Object a) {\n    if (a instanceof ArrayListString)\n        System.out.println(&quot;ArrayListString&quot;);\n    else if (a instanceof ArrayListInteger)\n        System.out.println(&quot;ArrayListInteger&quot;);\n}\n\nwhatType(als);\nwhatType(ali);\n</code></pre>\n<p><code>als</code> and <code>ali</code> will work as their generics do.</p>\n<p>What this code does is convert a generic type into a regular Java type.  In Java, regular types can be detected with <code>instanceof</code>.</p>\n"}],"owner":{"account_id":58404,"reputation":16263,"user_id":174868,"accept_rate":96,"display_name":"Thizzer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398978,"favorite_count":0,"down_vote_count":0,"up_vote_count":314,"accepted_answer_id":1942680,"answer_count":15,"score":314,"last_activity_date":1681989413,"creation_date":1261429723,"question_id":1942644,"body_markdown":"I have;\r\n\r\n    List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\r\n\r\nIs there a (easy) way to retrieve the generic type of the list?\r\n","title":"Get generic type of java.util.List","body":"<p>I have;</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\nList&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;();\n</code></pre>\n\n<p>Is there a (easy) way to retrieve the generic type of the list?</p>\n"},{"tags":["java","junit","xml-parsing"],"answers":[{"tags":[],"owner":{"account_id":6733457,"reputation":179,"user_id":10217900,"display_name":"Sylvester"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681989296,"creation_date":1681989296,"answer_id":76063466,"question_id":71438234,"body_markdown":"You can create a new *Transformer* object using the *newDefaultInstance()* method which is not flagged by sonar. See below:\r\n\r\n        TransformerFactory transformerFactory = TransformerFactory.newDefaultInstance();\r\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n        transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\nThe main difference between the two methods is that *newDefaultInstance()* returns a default *TransformerFactory* instance, while *newInstance()* allows you to specify a specific implementation class for the *TransformerFactory*.\r\n\r\nIn other words, *newDefaultInstance()* returns an instance of the default implementation of the *TransformerFactory* that is provided by the Java Runtime Environment (JRE) being used.\r\n","title":"How to fix sonar issue &quot;Disable access to external entities in XML parsing&quot; in Junits","body":"<p>You can create a new <em>Transformer</em> object using the <em>newDefaultInstance()</em> method which is not flagged by sonar. See below:</p>\n<pre><code>    TransformerFactory transformerFactory = TransformerFactory.newDefaultInstance();\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>The main difference between the two methods is that <em>newDefaultInstance()</em> returns a default <em>TransformerFactory</em> instance, while <em>newInstance()</em> allows you to specify a specific implementation class for the <em>TransformerFactory</em>.</p>\n<p>In other words, <em>newDefaultInstance()</em> returns an instance of the default implementation of the <em>TransformerFactory</em> that is provided by the Java Runtime Environment (JRE) being used.</p>\n"}],"owner":{"account_id":4359685,"reputation":71,"user_id":3557214,"display_name":"user3557214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681989296,"creation_date":1647000129,"question_id":71438234,"body_markdown":"from what i have understood that in order to get rid of the sonar issue &quot;Disable access to external entities in XML parsing&quot; , we need to have the following code in place \r\n\r\n    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    transformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\r\n\r\nBut when i do this, my JUnits which invokes this code fails saying \r\n\r\n&gt; Failed to read schema document &#39;myschema.xsd&#39;, because &#39;file&#39; access is not allowed due to restriction set by the\r\n&gt; accessExternalSchema property.\r\n\r\nSo how can we get around this? If we fix sonar issue, our Junit fails .\r\n\r\nI also tried inistiasing the factory like below, but no change in error\r\n\r\n    TransformerFactory transformerFactory = new com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl();","title":"How to fix sonar issue &quot;Disable access to external entities in XML parsing&quot; in Junits","body":"<p>from what i have understood that in order to get rid of the sonar issue &quot;Disable access to external entities in XML parsing&quot; , we need to have the following code in place</p>\n<pre><code>TransformerFactory transformerFactory = TransformerFactory.newInstance();\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\ntransformerFactory.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, &quot;&quot;);\n</code></pre>\n<p>But when i do this, my JUnits which invokes this code fails saying</p>\n<blockquote>\n<p>Failed to read schema document 'myschema.xsd', because 'file' access is not allowed due to restriction set by the\naccessExternalSchema property.</p>\n</blockquote>\n<p>So how can we get around this? If we fix sonar issue, our Junit fails .</p>\n<p>I also tried inistiasing the factory like below, but no change in error</p>\n<pre><code>TransformerFactory transformerFactory = new com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl();\n</code></pre>\n"},{"tags":["java","postgresql","jsonb","spring-jdbc"],"comments":[{"owner":{"account_id":27981280,"reputation":88,"user_id":21368984,"display_name":"oaowren"},"score":0,"creation_date":1681980421,"post_id":76061752,"comment_id":134144824,"body_markdown":"How did you implement the Complex class used as the type in Development? It looks like it is attempting to cascade the insert because it thinks Complex is an entity that should be referenced from Development, not a Jsonb-column. This will probably also be the case for Developer and Documents if they are implemented similarly.","body":"How did you implement the Complex class used as the type in Development? It looks like it is attempting to cascade the insert because it thinks Complex is an entity that should be referenced from Development, not a Jsonb-column. This will probably also be the case for Developer and Documents if they are implemented similarly."},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1681982254,"post_id":76061752,"comment_id":134145220,"body_markdown":"thanks for your comment. I supplemented the description with the code of the classes that I&#39;m trying to save in `jsonb`. I don&#39;t need `apartment` and `developer` in separate tables. It is important that this data is stored in `jsonb` columns","body":"thanks for your comment. I supplemented the description with the code of the classes that I&#39;m trying to save in <code>jsonb</code>. I don&#39;t need <code>apartment</code> and <code>developer</code> in separate tables. It is important that this data is stored in <code>jsonb</code> columns"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1681983064,"post_id":76061752,"comment_id":134145414,"body_markdown":"Where is your complex entity?","body":"Where is your complex entity?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681985616,"post_id":76061752,"comment_id":134145995,"body_markdown":"@Entity in Development class missing?","body":"@Entity in Development class missing?"},{"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"score":0,"creation_date":1681989140,"post_id":76061752,"comment_id":134146813,"body_markdown":"But if I add `@Entity`, then it will be a separate table. And I want to store this object in `jsonb`.","body":"But if I add <code>@Entity</code>, then it will be a separate table. And I want to store this object in <code>jsonb</code>."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681989355,"post_id":76061752,"comment_id":134146861,"body_markdown":"??? Development is a database table. You need an @Entity in the Development class to make it work with Hibernate and JPARepository.","body":"??? Development is a database table. You need an @Entity in the Development class to make it work with Hibernate and JPARepository."}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681989055,"creation_date":1681977342,"question_id":76061752,"body_markdown":"I have a `postgresql` table with `JSOB` columns and java `spring jdbc` application. \r\n\r\nBut when I try to save an entity I get this error:\r\n```\r\nCaused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO &quot;complex&quot; (&quot;complex_id&quot;, &quot;name&quot;) VALUES (?, ?)]; \r\nnested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;complex&quot; does not exist\r\n```\r\n\r\nIt looks like `jdbc` thinks `complex` is a separate table, but really this value should just be written to a `jsob` column.\r\n\r\nMy `postgresql` table:\r\n```sql\r\nCREATE TABLE development\r\n(\r\n    id         TEXT PRIMARY KEY,\r\n    complex    JSONB,\r\n    developer  JSONB,\r\n    comment    TEXT,\r\n    created_at TIMESTAMP NOT NULL\r\n)\r\n```\r\n\r\nMy entity:\r\n```java\r\n@Table(name = &quot;development&quot;)\r\npublic class Development {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private Complex complex;\r\n\r\n    private Developer developer;\r\n\r\n    private String comment;\r\n\r\n    @CreatedDate\r\n    private Instant createdAt;\r\n}\r\n```\r\n\r\nRepository:\r\n```java\r\npublic interface DevelopmentRepository extends PagingAndSortingRepository&lt;Development, String&gt; {\r\n}\r\n```\r\n\r\nClass where I try to save entity:\r\n```\r\n@Component\r\npublic class JdbcDevelopmentAdapter implements CreateDevelopmentPort {\r\n\r\n    private final DevelopmentRepository repository;\r\n\r\n    @Override\r\n    public Development create(Development development) {\r\n        return save(development);\r\n    }\r\n\r\n    private Development save(Development development) {\r\n        return repository.save(development);\r\n    }\r\n}\r\n```\r\n\r\nClasses whose entities I am trying to store in a `jsonb` columns:\r\n```\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Apartment {\r\n    private String apartmentId;\r\n    private String name;\r\n}\r\n\r\n@Data\r\n@Accessors(chain = true)\r\npublic class Developer {\r\n    private String developerId;\r\n    private String name;\r\n}\r\n```","title":"PSQLException: ERROR: relation does not exist for saving to jsonb column","body":"<p>I have a <code>postgresql</code> table with <code>JSOB</code> columns and java <code>spring jdbc</code> application.</p>\n<p>But when I try to save an entity I get this error:</p>\n<pre><code>Caused by: org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO &quot;complex&quot; (&quot;complex_id&quot;, &quot;name&quot;) VALUES (?, ?)]; \nnested exception is org.postgresql.util.PSQLException: ERROR: relation &quot;complex&quot; does not exist\n</code></pre>\n<p>It looks like <code>jdbc</code> thinks <code>complex</code> is a separate table, but really this value should just be written to a <code>jsob</code> column.</p>\n<p>My <code>postgresql</code> table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE development\n(\n    id         TEXT PRIMARY KEY,\n    complex    JSONB,\n    developer  JSONB,\n    comment    TEXT,\n    created_at TIMESTAMP NOT NULL\n)\n</code></pre>\n<p>My entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;development&quot;)\npublic class Development {\n\n    @Id\n    private String id;\n\n    private Complex complex;\n\n    private Developer developer;\n\n    private String comment;\n\n    @CreatedDate\n    private Instant createdAt;\n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DevelopmentRepository extends PagingAndSortingRepository&lt;Development, String&gt; {\n}\n</code></pre>\n<p>Class where I try to save entity:</p>\n<pre><code>@Component\npublic class JdbcDevelopmentAdapter implements CreateDevelopmentPort {\n\n    private final DevelopmentRepository repository;\n\n    @Override\n    public Development create(Development development) {\n        return save(development);\n    }\n\n    private Development save(Development development) {\n        return repository.save(development);\n    }\n}\n</code></pre>\n<p>Classes whose entities I am trying to store in a <code>jsonb</code> columns:</p>\n<pre><code>@Data\n@Accessors(chain = true)\npublic class Apartment {\n    private String apartmentId;\n    private String name;\n}\n\n@Data\n@Accessors(chain = true)\npublic class Developer {\n    private String developerId;\n    private String name;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","pdf","apache-poi","docx"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1681989021,"post_id":76063396,"comment_id":134146787,"body_markdown":"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649","body":"<a href=\"https://stackoverflow.com/questions/51440312/docx-to-pdf-converter-in-java/51440649#51440649\" title=\"docx to pdf converter in java\">stackoverflow.com/questions/51440312/&hellip;</a>"}],"owner":{"account_id":28359171,"reputation":1,"user_id":21689436,"display_name":"Ahmed Abdelkader"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988839,"creation_date":1681988839,"question_id":76063396,"body_markdown":"I have an arabic docx file , I want to convert it to pdf , so I m using Apache Poi as a tool , but it keep showing me always java.lang.NoSuchMethodError , I think the version of Apache POI used in my project is not compatible : \r\n      \r\n```\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"dependency probem ( Apache POI)","body":"<p>I have an arabic docx file , I want to convert it to pdf , so I m using Apache Poi as a tool , but it keep showing me always java.lang.NoSuchMethodError , I think the version of Apache POI used in my project is not compatible :</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n            &lt;version&gt;1.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","loops","class","methods","android-activity"],"owner":{"account_id":28359152,"reputation":1,"user_id":21689418,"display_name":"Rainy Plant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988811,"creation_date":1681988811,"question_id":76063390,"body_markdown":"\r\n```\r\nclass ConstructAVLTree{\r\n\tprivate Node rootNode;\r\n\tpublic ConstructAVLTree(){\r\n\t\trootNode = null;\r\n\t}\r\nprivate boolean searchElement(int element){\r\n\treturn searchElement(rootNode, element);\r\n}\r\n\r\nprivate boolean searchElement(Node head, int element){\r\n\tboolean check = false;\r\n\twhile((head != null) &amp;&amp; !check){\r\n\t\tint headElement = head.element;\r\n\t\tif (element &lt; headElement){\r\n\t\t\thead = head.leftChild;\r\n\t\t}\r\n\t\telse if (element &gt; headElement){\r\n\t\t\thead = head.rightChild;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcheck = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcheck = searchElement(head, element);\r\n\t}\r\n\treturn check;\r\n}\r\n}\r\n\r\npublic class AVLTreeExample {\r\n    \r\n    public static void main(String[] args) {\r\n    \tScanner sc= new Scanner(System.in);\r\n    \tConstructAVLTree obj = new ConstructAVLTree();\r\n    \tchar choice;\r\nint ch = sc.nextInt();\r\n    \tswitch(ch){\r\ncase 1:\r\n    \t\t\tSystem.out.println(&quot;Enter integer element to search: &quot;);\r\n    \t\t\tSystem.out.println(obj.searchElement(sc.nextInt()));\r\n    \t\t\tbreak;\r\n\r\n\r\n```\r\n**I am making a program that can add, remove elements (stacks and queues-like) and display elements in pre, in and post-order traversal. I tried changing boolean to void and default but didn&#39;t work and had more errors than expected. Hopefully someone can help me with this error, thank you.**","title":"Java Error: method searchElement in class ConstructAVLTree cannot be applied to given types;","body":"<pre><code>class ConstructAVLTree{\n    private Node rootNode;\n    public ConstructAVLTree(){\n        rootNode = null;\n    }\nprivate boolean searchElement(int element){\n    return searchElement(rootNode, element);\n}\n\nprivate boolean searchElement(Node head, int element){\n    boolean check = false;\n    while((head != null) &amp;&amp; !check){\n        int headElement = head.element;\n        if (element &lt; headElement){\n            head = head.leftChild;\n        }\n        else if (element &gt; headElement){\n            head = head.rightChild;\n        }\n        else{\n            check = true;\n            break;\n        }\n        check = searchElement(head, element);\n    }\n    return check;\n}\n}\n\npublic class AVLTreeExample {\n    \n    public static void main(String[] args) {\n        Scanner sc= new Scanner(System.in);\n        ConstructAVLTree obj = new ConstructAVLTree();\n        char choice;\nint ch = sc.nextInt();\n        switch(ch){\ncase 1:\n                System.out.println(&quot;Enter integer element to search: &quot;);\n                System.out.println(obj.searchElement(sc.nextInt()));\n                break;\n\n\n</code></pre>\n<p><strong>I am making a program that can add, remove elements (stacks and queues-like) and display elements in pre, in and post-order traversal. I tried changing boolean to void and default but didn't work and had more errors than expected. Hopefully someone can help me with this error, thank you.</strong></p>\n"},{"tags":["java","spring-boot","swagger-ui"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1681917569,"post_id":76055940,"comment_id":134135166,"body_markdown":"what is the error code for the (missing) images? (404/403/401??) what is their path? (404: are they available? 401/403: does path comply with &quot;allow list&quot;?...;)","body":"what is the error code for the (missing) images? (404/403/401??) what is their path? (404: are they available? 401/403: does path comply with &quot;allow list&quot;?...;)"}],"owner":{"account_id":174361,"reputation":516,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681988621,"creation_date":1681915971,"question_id":76055940,"body_markdown":"I have problem with display pictures in swagger-ui/index.html. I have thit screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r1ZpC.png\r\n\r\nAs you can see, there is no svg on top and no icon in search bar. My security configuration in Spring boot is :\r\n\r\n    permission:\r\n      # list of url for permit all\r\n      optionMethodPermitAll:\r\n        - &quot;/graphql&quot;\r\n        - &quot;/auth/token&quot;\r\n        - &quot;/auth/refresh&quot;\r\n        - &quot;/actuator/*&quot;\r\n        - &quot;/api/*&quot;\r\n    \r\n      permitAll:\r\n        - &quot;/actuator/*&quot;\r\n        - &quot;/auth/token&quot;\r\n        - &quot;/auth/refresh&quot;\r\n        - &quot;/v2/api-docs&quot;\r\n        - &quot;/webjars/**&quot;\r\n        - &quot;/swagger*/**&quot;\r\n        - &quot;/favicon.ico&quot;\r\n        - &quot;/swagger-resources/**&quot;\r\n        - &quot;/webjars/**&quot;\r\n\r\nI use this configuration in pom.xml:\r\n \r\n\r\n           &lt;springfox.swagger.version&gt;3.0.0&lt;/springfox.swagger.version&gt;\r\n       &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n               &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nBut swagger dont display icon in search bar and header svg. Im little bit stuck with it. Thank you for help\r\n\r\nHere I have log of request &amp; responses:\r\n\r\n    13:02:05.397 [main] [] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dd62f07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e669b5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@1e9e4468, org.springframework.security.web.authentication.logout.LogoutFilter@2c6553c6, com.dhl.security.aaa.adapter.configuration.AuthenticationFilter@3db3668, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@455cb6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c35d7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@125c03d3, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@4f4b7a2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14aa2123]\r\n    13:02:07.236 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n    13:02:08.180 [main] [] INFO  com.dhl.order.OrdersApplication - Started OrdersApplication in 14.131 seconds (JVM running for 16.54)\r\n    13:02:16.653 [http-nio-8081-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    13:02:16.654 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet &#39;dispatcherServlet&#39;\r\n    13:02:16.656 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms\r\n    13:02:16.676 [http-nio-8081-exec-1] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;fd5000eb996b4ab4a487c26b01a4357a&#39;; httpMethod=GET, URI=/swagger-ui/index.html\r\n    13:02:16.699 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-ui/index.html\r\n    13:02:16.777 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=304, duration=85ms, httpMethod=GET, URI=/swagger-ui/index.html, httpParams=null, requestData=[]\r\n    13:02:17.004 [http-nio-8081-exec-3] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;3bc4a6f564fa4f658524b69ea7887ed3&#39;; httpMethod=GET, URI=/swagger-resources/configuration/ui\r\n    13:02:17.005 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/ui\r\n    13:02:17.100 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=95ms, httpMethod=GET, URI=/swagger-resources/configuration/ui, httpParams=null, requestData=[]\r\n    13:02:17.108 [http-nio-8081-exec-4] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;6b368c33db87483bb89c4ba683108232&#39;; httpMethod=GET, URI=/swagger-resources/configuration/security\r\n    13:02:17.109 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/security\r\n    13:02:17.117 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources/configuration/security, httpParams=null, requestData=[]\r\n    13:02:17.127 [http-nio-8081-exec-5] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;86e2d72af6bb4187bf4412d099839bc1&#39;; httpMethod=GET, URI=/swagger-resources\r\n    13:02:17.128 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources\r\n    13:02:17.136 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources, httpParams=null, requestData=[]\r\n    13:02:17.163 [http-nio-8081-exec-6] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: &#39;null&#39;, new ID: &#39;240c57bbbaba436bb55a42054badec5b&#39;; httpMethod=GET, URI=/v2/api-docs\r\n    13:02:17.166 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/v2/api-docs\r\n    13:02:17.345 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=180ms, httpMethod=GET, URI=/v2/api-docs, httpParams=null, requestData=[]","title":"How to display pictures in swagger-ui/index.html?","body":"<p>I have problem with display pictures in swagger-ui/index.html. I have thit screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/r1ZpC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1ZpC.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, there is no svg on top and no icon in search bar. My security configuration in Spring boot is :</p>\n<pre><code>permission:\n  # list of url for permit all\n  optionMethodPermitAll:\n    - &quot;/graphql&quot;\n    - &quot;/auth/token&quot;\n    - &quot;/auth/refresh&quot;\n    - &quot;/actuator/*&quot;\n    - &quot;/api/*&quot;\n\n  permitAll:\n    - &quot;/actuator/*&quot;\n    - &quot;/auth/token&quot;\n    - &quot;/auth/refresh&quot;\n    - &quot;/v2/api-docs&quot;\n    - &quot;/webjars/**&quot;\n    - &quot;/swagger*/**&quot;\n    - &quot;/favicon.ico&quot;\n    - &quot;/swagger-resources/**&quot;\n    - &quot;/webjars/**&quot;\n</code></pre>\n<p>I use this configuration in pom.xml:</p>\n<pre><code>       &lt;springfox.swagger.version&gt;3.0.0&lt;/springfox.swagger.version&gt;\n   &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n           &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But swagger dont display icon in search bar and header svg. Im little bit stuck with it. Thank you for help</p>\n<p>Here I have log of request &amp; responses:</p>\n<pre><code>13:02:05.397 [main] [] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dd62f07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e669b5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@1e9e4468, org.springframework.security.web.authentication.logout.LogoutFilter@2c6553c6, com.dhl.security.aaa.adapter.configuration.AuthenticationFilter@3db3668, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@455cb6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c35d7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@125c03d3, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@4f4b7a2e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14aa2123]\n13:02:07.236 [main] [] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8081 (http) with context path ''\n13:02:08.180 [main] [] INFO  com.dhl.order.OrdersApplication - Started OrdersApplication in 14.131 seconds (JVM running for 16.54)\n13:02:16.653 [http-nio-8081-exec-1] [] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n13:02:16.654 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n13:02:16.656 [http-nio-8081-exec-1] [] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms\n13:02:16.676 [http-nio-8081-exec-1] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: 'fd5000eb996b4ab4a487c26b01a4357a'; httpMethod=GET, URI=/swagger-ui/index.html\n13:02:16.699 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-ui/index.html\n13:02:16.777 [http-nio-8081-exec-1] [fd5000eb996b4ab4a487c26b01a4357a] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=304, duration=85ms, httpMethod=GET, URI=/swagger-ui/index.html, httpParams=null, requestData=[]\n13:02:17.004 [http-nio-8081-exec-3] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '3bc4a6f564fa4f658524b69ea7887ed3'; httpMethod=GET, URI=/swagger-resources/configuration/ui\n13:02:17.005 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/ui\n13:02:17.100 [http-nio-8081-exec-3] [3bc4a6f564fa4f658524b69ea7887ed3] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=95ms, httpMethod=GET, URI=/swagger-resources/configuration/ui, httpParams=null, requestData=[]\n13:02:17.108 [http-nio-8081-exec-4] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '6b368c33db87483bb89c4ba683108232'; httpMethod=GET, URI=/swagger-resources/configuration/security\n13:02:17.109 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources/configuration/security\n13:02:17.117 [http-nio-8081-exec-4] [6b368c33db87483bb89c4ba683108232] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources/configuration/security, httpParams=null, requestData=[]\n13:02:17.127 [http-nio-8081-exec-5] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '86e2d72af6bb4187bf4412d099839bc1'; httpMethod=GET, URI=/swagger-resources\n13:02:17.128 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/swagger-resources\n13:02:17.136 [http-nio-8081-exec-5] [86e2d72af6bb4187bf4412d099839bc1] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=8ms, httpMethod=GET, URI=/swagger-resources, httpParams=null, requestData=[]\n13:02:17.163 [http-nio-8081-exec-6] [] DEBUG c.d.s.a.a.mdc.RequestResponseMDC - Request processing started, distribute_trace_id has been generated; old ID: 'null', new ID: '240c57bbbaba436bb55a42054badec5b'; httpMethod=GET, URI=/v2/api-docs\n13:02:17.166 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AuthenticationFilter - Request skipped from JWT verification; url=/v2/api-docs\n13:02:17.345 [http-nio-8081-exec-6] [240c57bbbaba436bb55a42054badec5b] INFO  c.d.s.a.a.c.AAACommonRequestFilter - Request processing finished; httpStatus=200, duration=180ms, httpMethod=GET, URI=/v2/api-docs, httpParams=null, requestData=[]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681823002,"post_id":76044790,"comment_id":134115959,"body_markdown":"What is it you are trying to do? Why aren&#39;t you just using the `spring.jackson` properties to configure binding?","body":"What is it you are trying to do? Why aren&#39;t you just using the <code>spring.jackson</code> properties to configure binding?"},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681823196,"post_id":76044790,"comment_id":134116013,"body_markdown":"Legacy configuration of rest client. Anyway, the main question is, why does the embedded tomcat behave differently from the external?","body":"Legacy configuration of rest client. Anyway, the main question is, why does the embedded tomcat behave differently from the external?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681823389,"post_id":76044790,"comment_id":134116078,"body_markdown":"Unless you are creating your own `ObjectMapper` this will influence the global one. Why it is different is hard to tell, is it the same version as the embedded one? Please include the full stacktrace instead of a snippet as well.","body":"Unless you are creating your own <code>ObjectMapper</code> this will influence the global one. Why it is different is hard to tell, is it the same version as the embedded one? Please include the full stacktrace instead of a snippet as well."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681881409,"post_id":76044790,"comment_id":134126397,"body_markdown":"Stacktrace added. It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.","body":"Stacktrace added. It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681886274,"post_id":76044790,"comment_id":134127200,"body_markdown":"Are there any additional libraries part of yur tomcat setup that interfere with the Spring added dependencies?","body":"Are there any additional libraries part of yur tomcat setup that interfere with the Spring added dependencies?"},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681978283,"post_id":76044790,"comment_id":134144349,"body_markdown":"It is a fresh new Tomcat. Wondering whether classloading is different. I was about to report that to the Spring team but when I tried a barebone project, I am not able to reproduce it. I have to dig deeper into which dependency causes such a clash.","body":"It is a fresh new Tomcat. Wondering whether classloading is different. I was about to report that to the Spring team but when I tried a barebone project, I am not able to reproduce it. I have to dig deeper into which dependency causes such a clash."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681978578,"post_id":76044790,"comment_id":134144409,"body_markdown":"Could be a dependency issue, that while building the war a conflicting dependency takes prevalence over another while running on the command line. Could be an OS difference (Windows vs. Linux vs. Mac sometimes have different resolution orders for the class path).","body":"Could be a dependency issue, that while building the war a conflicting dependency takes prevalence over another while running on the command line. Could be an OS difference (Windows vs. Linux vs. Mac sometimes have different resolution orders for the class path)."},{"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"score":0,"creation_date":1681979878,"post_id":76044790,"comment_id":134144703,"body_markdown":"Finally, I have a minimal project to reproduce. I opened an issue https://github.com/spring-projects/spring-boot/issues/35091","body":"Finally, I have a minimal project to reproduce. I opened an issue <a href=\"https://github.com/spring-projects/spring-boot/issues/35091\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/35091</a>"}],"answers":[{"tags":[],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681988561,"creation_date":1681988561,"answer_id":76063359,"question_id":76044790,"body_markdown":"As explained in the issue https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146 the main reason is that **the external Tomcat has the JNDI enabled**.\r\n\r\nIt affects property binding. JNDI does not allow enumeration of all of the properties that it contains so, instead of finding all the properties and binding them to the targets, Spring instead has to ask all of the targets what properties they have and then try to bind them. This is when `ObjectMapper` causes a problem.","title":"Spring Boot 3 application works on embedded Tomcat but not external","body":"<p>As explained in the issue <a href=\"https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/35091#issuecomment-1516051146</a> the main reason is that <strong>the external Tomcat has the JNDI enabled</strong>.</p>\n<p>It affects property binding. JNDI does not allow enumeration of all of the properties that it contains so, instead of finding all the properties and binding them to the targets, Spring instead has to ask all of the targets what properties they have and then try to bind them. This is when <code>ObjectMapper</code> causes a problem.</p>\n"}],"owner":{"account_id":70791,"reputation":1619,"user_id":204950,"accept_rate":92,"display_name":"banterCZ"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76063359,"answer_count":1,"score":0,"last_activity_date":1681988561,"creation_date":1681821945,"question_id":76044790,"body_markdown":"I am upgrading our application from Spring Boot 2.7.10 to 3.0.5\r\n\r\nI run it from IDE on embedded Tomcat and external Tomcat (version 9 for Spring Boot 2.7.x) as well. Now I use Tomcat 10.1.7 and Jackson 2.14.2\r\n\r\nIt **still runs on embedded Tomcat, but not on external Tomcat 10**. I get:\r\n\r\n```log\r\nFailed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;:\r\n\r\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\r\n```\r\n\r\nUsing\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;my-configuration&quot;)\r\n@Getter\r\n@Setter\r\npublic class MyConfiguration {\r\n    private ObjectMapper objectMapper;\r\n}\r\n```\r\n\r\nI am able to suppress the error by specifying `ignoreInvalidFields`, but to sure whether it is correct solution.\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;my-configuration&quot;, ignoreInvalidFields = true)\r\n```\r\n\r\nIt is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.\r\n\r\nStacktrace\r\n\r\n```\r\n\tCaused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;my-configuration.object-mapper.serializer-provider.generator.write-capabilities&#39; to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:387)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:347)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:332)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:262)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:249)\r\n\t\tat org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:93)\r\n\t\tat org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:96)\r\n\t\t... 121 more\r\n\tCaused by: java.lang.IllegalStateException: Unable to get value for property write-capabilities\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:360)\r\n\t\tat org.springframework.boot.context.properties.bind.DefaultBindConstructorProvider.getBindConstructor(DefaultBindConstructorProvider.java:46)\r\n\t\tat org.springframework.boot.context.properties.bind.ValueObjectBinder$ValueObject.get(ValueObjectBinder.java:190)\r\n\t\tat org.springframework.boot.context.properties.bind.ValueObjectBinder.bind(ValueObjectBinder.java:67)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\r\n\t\tat org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\r\n\t\t... 176 more\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.core.JsonGenerator]: Is it an abstract class?\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:215)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:153)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$Bean.lambda$getSupplier$0(JavaBeanBinder.java:217)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanSupplier.get(JavaBeanBinder.java:279)\r\n\t\tat org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:357)\r\n\t\t... 185 more\r\n\tCaused by: java.lang.InstantiationException\r\n\t\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\r\n\t\t... 189 more\r\n```","title":"Spring Boot 3 application works on embedded Tomcat but not external","body":"<p>I am upgrading our application from Spring Boot 2.7.10 to 3.0.5</p>\n<p>I run it from IDE on embedded Tomcat and external Tomcat (version 9 for Spring Boot 2.7.x) as well. Now I use Tomcat 10.1.7 and Jackson 2.14.2</p>\n<p>It <strong>still runs on embedded Tomcat, but not on external Tomcat 10</strong>. I get:</p>\n<pre><code>Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;:\n\n    Reason: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\n</code></pre>\n<p>Using</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;my-configuration&quot;)\n@Getter\n@Setter\npublic class MyConfiguration {\n    private ObjectMapper objectMapper;\n}\n</code></pre>\n<p>I am able to suppress the error by specifying <code>ignoreInvalidFields</code>, but to sure whether it is correct solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;my-configuration&quot;, ignoreInvalidFields = true)\n</code></pre>\n<p>It is no doubt that I have to refactor our configuration classes but still, I would like to understand what is going on and why is failing since Spring Boot 3 and external Tomcat only.</p>\n<p>Stacktrace</p>\n<pre><code>    Caused by: org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'my-configuration.object-mapper.serializer-provider.generator.write-capabilities' to com.fasterxml.jackson.core.util.JacksonFeatureSet&lt;com.fasterxml.jackson.core.StreamWriteCapability&gt;\n        at org.springframework.boot.context.properties.bind.Binder.handleBindError(Binder.java:387)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:347)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$4(Binder.java:472)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:98)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:86)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder.bind(JavaBeanBinder.java:62)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:332)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:262)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:249)\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBinder.bind(ConfigurationPropertiesBinder.java:93)\n        at org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor.bind(ConfigurationPropertiesBindingPostProcessor.java:96)\n        ... 121 more\n    Caused by: java.lang.IllegalStateException: Unable to get value for property write-capabilities\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:360)\n        at org.springframework.boot.context.properties.bind.DefaultBindConstructorProvider.getBindConstructor(DefaultBindConstructorProvider.java:46)\n        at org.springframework.boot.context.properties.bind.ValueObjectBinder$ValueObject.get(ValueObjectBinder.java:190)\n        at org.springframework.boot.context.properties.bind.ValueObjectBinder.bind(ValueObjectBinder.java:67)\n        at org.springframework.boot.context.properties.bind.Binder.lambda$bindDataObject$5(Binder.java:476)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withIncreasedDepth(Binder.java:590)\n        at org.springframework.boot.context.properties.bind.Binder$Context.withDataObject(Binder.java:576)\n        at org.springframework.boot.context.properties.bind.Binder.bindDataObject(Binder.java:474)\n        at org.springframework.boot.context.properties.bind.Binder.bindObject(Binder.java:414)\n        at org.springframework.boot.context.properties.bind.Binder.bind(Binder.java:343)\n        ... 176 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.fasterxml.jackson.core.JsonGenerator]: Is it an abstract class?\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:215)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:153)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$Bean.lambda$getSupplier$0(JavaBeanBinder.java:217)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanSupplier.get(JavaBeanBinder.java:279)\n        at org.springframework.boot.context.properties.bind.JavaBeanBinder$BeanProperty.lambda$getValue$0(JavaBeanBinder.java:357)\n        ... 185 more\n    Caused by: java.lang.InstantiationException\n        at java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198)\n        ... 189 more\n</code></pre>\n"},{"tags":["java","spring","spring-boot","openshift"],"comments":[{"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"score":0,"creation_date":1673954033,"post_id":75134027,"comment_id":132606862,"body_markdown":"Does this answer your question? [DerInputStream.getLength(): lengthTag=66](https://stackoverflow.com/questions/37939592/derinputstream-getlength-lengthtag-66)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37939592/derinputstream-getlength-lengthtag-66\">DerInputStream.getLength(): lengthTag=66</a>"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682398933,"post_id":76063355,"comment_id":134204678,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76063355/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15347117,"reputation":11,"user_id":11072156,"display_name":"hrvojet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681988534,"creation_date":1681988534,"answer_id":76063355,"question_id":75134027,"body_markdown":"I had the exact same issue and the way I fixed it is by simply changing the certificate extension from `.pfx` to `.p12`","title":"Error in openshift &quot; java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big &quot; while using .pfx certificate","body":"<p>I had the exact same issue and the way I fixed it is by simply changing the certificate extension from <code>.pfx</code> to <code>.p12</code></p>\n"}],"owner":{"account_id":27542677,"reputation":1,"user_id":21019165,"display_name":"gourav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681988534,"creation_date":1673871103,"question_id":75134027,"body_markdown":"I have one certificate which is required to connect to external site. This works fine in my local windows system. But when i deploy the application to openshift, i get this error\r\n\r\njava.io.IOException: DerInputStream.getLength(): lengthTag=66, too big.\r\n\r\n\r\ncertificate is in .pfx and in encoded format.\r\nWhat can i do to make it work in Openshift? Is it because of the Linux env thats causing the issue?\r\n","title":"Error in openshift &quot; java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big &quot; while using .pfx certificate","body":"<p>I have one certificate which is required to connect to external site. This works fine in my local windows system. But when i deploy the application to openshift, i get this error</p>\n<p>java.io.IOException: DerInputStream.getLength(): lengthTag=66, too big.</p>\n<p>certificate is in .pfx and in encoded format.\nWhat can i do to make it work in Openshift? Is it because of the Linux env thats causing the issue?</p>\n"},{"tags":["java","maven","archetypes"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682398869,"post_id":76063296,"comment_id":134204670,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76063296/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":1008631,"reputation":35,"user_id":1021700,"accept_rate":100,"display_name":"Xu Dong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681988110,"creation_date":1681988110,"answer_id":76063296,"question_id":47708856,"body_markdown":"Six years later, I found a way to implement this: use &quot;archetype-post-generate.groovy&quot; to create file.","title":"Maven Archetype - How to decide generate a file or not according to a property?","body":"<p>Six years later, I found a way to implement this: use &quot;archetype-post-generate.groovy&quot; to create file.</p>\n"}],"owner":{"account_id":1008631,"reputation":35,"user_id":1021700,"accept_rate":100,"display_name":"Xu Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681988110,"creation_date":1512714259,"question_id":47708856,"body_markdown":"With Maven Archetype, how to generate a file or not according to a property.\r\ne.g:\r\nIf user input prop.use.redis as true while execute &quot;mvn archetype:create&quot;, do generate redis.xml, otherwise ignore redis.xml.\r\n`\r\n   \r\n    if (${prop.use.redis} == true) {\r\n       generateFile(&quot;src/main/resources/redis.xml&quot;);\r\n    }\r\n    else {\r\n       System.out.println(&quot;do not need generate src/main/resources/redis.xml&quot;);\r\n    }\r\n\r\n`\r\n","title":"Maven Archetype - How to decide generate a file or not according to a property?","body":"<p>With Maven Archetype, how to generate a file or not according to a property.\ne.g:\nIf user input prop.use.redis as true while execute \"mvn archetype:create\", do generate redis.xml, otherwise ignore redis.xml.\n`</p>\n\n<pre><code>if (${prop.use.redis} == true) {\n   generateFile(\"src/main/resources/redis.xml\");\n}\nelse {\n   System.out.println(\"do not need generate src/main/resources/redis.xml\");\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":["java","oauth-2.0","x-www-form-urlencoded","invalid-request-uri"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681897205,"post_id":76051445,"comment_id":134129713,"body_markdown":"What you are doing in Postman (send client credentials in body) does not match the Java where you are sending a Authorization Bearer header. Also, the token is being composed in the style of a Basic header, ie Base64 encode of client_id:client_secret - unusual. Can you add a link to the OAuth provider Api doc (or whichever std they claim) to the question?","body":"What you are doing in Postman (send client credentials in body) does not match the Java where you are sending a Authorization Bearer header. Also, the token is being composed in the style of a Basic header, ie Base64 encode of client_id:client_secret - unusual. Can you add a link to the OAuth provider Api doc (or whichever std they claim) to the question?"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681986808,"creation_date":1681986808,"answer_id":76063127,"question_id":76051445,"body_markdown":"There are a couple of issues with your code.\r\n\r\nPrimarily, you are not including the client_id and client_secret in the form. I observed with Fiddlr that Postman sends all these fields on a submitted form.\r\n\r\nOther changes to improve, but probably not required to fix the code are to:\r\n\r\n - Remove the nonsense Authorization Bearer header. Postman does not\r\n   send and doesn&#39;t  make sense to send one until a token has been\r\n   received.\r\n   \r\n - Replaced the home-made form emulation and replaced with the standard \r\n   `UrlEncodedFormEntity` passing a `List&lt;NameValuePair&gt;`. It adds the `&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;` header to the request.\r\n\r\nTry this:\r\n\r\n    import java.io.IOException;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.net.ssl.SSLContext;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.http.Consts;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.message.BasicNameValuePair;\r\n    import org.apache.http.ssl.TrustStrategy;\r\n    \r\n    \r\n    public class OAuthClient {\r\n    \r\n        private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n        private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n        private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n        private String grant_type = &quot;client_credentials&quot;;\r\n        private String scope = &quot;projects:read&quot;;\r\n        \r\n    \r\n        public String callService()  {\r\n    \r\n    \r\n            String result = null;\r\n    \r\n            try {\r\n    \r\n                            //My site is set as insecure, so I set the following setting\r\n                TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n    \r\n                SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                        .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                        .build();\r\n    \r\n                SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n    \r\n                CloseableHttpClient httpClient = HttpClients.custom()\r\n                        .setSSLSocketFactory(csf)\r\n                        .build();\r\n    \r\n    \r\n                /* HTTPCLIENT AND HTTPPOST OOBJECT */\r\n                HttpPost httpPost = new HttpPost(tokenEndpoint);\r\n    \r\n                /* OAUTH PARAMETERS ADDED TO FORM */\r\n                List&lt;NameValuePair&gt; form = new ArrayList&lt;&gt;();\r\n                form.add(new BasicNameValuePair(&quot;grant_type&quot;, grant_type));\r\n                form.add(new BasicNameValuePair(&quot;scope&quot;, scope));\r\n                form.add(new BasicNameValuePair(&quot;client_id&quot;, client_id)); // these two were missing\r\n                form.add(new BasicNameValuePair(&quot;client_secret&quot;, client_secret));\r\n                \r\n                // UrlEncodedFormEntity is the standard way of building a firm submission\r\n                // and it removes the need to manually add the &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot; header\r\n                UrlEncodedFormEntity entity = new UrlEncodedFormEntity(form, Consts.UTF_8);\r\n                \r\n                httpPost.setEntity(entity);\r\n    \r\n                /* SEND AND RETRIEVE RESPONSE */\r\n                HttpResponse response = null;\r\n                try {\r\n                    response = httpClient.execute(httpPost);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                /* RESPONSE AS STRING */\r\n                //      String result = null;\r\n                try {\r\n                    result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            catch (Exception e) {\r\n                // TODO: handle exception\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            OAuthClient oauthClient = new OAuthClient();\r\n            String res = oauthClient.callService();\r\n            System.out.println(res);\r\n        }\r\n    }","title":"Oauth2 token call failing with &quot;request is missing a required parameter&quot;","body":"<p>There are a couple of issues with your code.</p>\n<p>Primarily, you are not including the client_id and client_secret in the form. I observed with Fiddlr that Postman sends all these fields on a submitted form.</p>\n<p>Other changes to improve, but probably not required to fix the code are to:</p>\n<ul>\n<li><p>Remove the nonsense Authorization Bearer header. Postman does not\nsend and doesn't  make sense to send one until a token has been\nreceived.</p>\n</li>\n<li><p>Replaced the home-made form emulation and replaced with the standard\n<code>UrlEncodedFormEntity</code> passing a <code>List&lt;NameValuePair&gt;</code>. It adds the <code>&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;</code> header to the request.</p>\n</li>\n</ul>\n<p>Try this:</p>\n<pre><code>import java.io.IOException;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.net.ssl.SSLContext;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.Consts;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.message.BasicNameValuePair;\nimport org.apache.http.ssl.TrustStrategy;\n\n\npublic class OAuthClient {\n\n    private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n    \n\n    public String callService()  {\n\n\n        String result = null;\n\n        try {\n\n                        //My site is set as insecure, so I set the following setting\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\n                    .build();\n\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n            CloseableHttpClient httpClient = HttpClients.custom()\n                    .setSSLSocketFactory(csf)\n                    .build();\n\n\n            /* HTTPCLIENT AND HTTPPOST OOBJECT */\n            HttpPost httpPost = new HttpPost(tokenEndpoint);\n\n            /* OAUTH PARAMETERS ADDED TO FORM */\n            List&lt;NameValuePair&gt; form = new ArrayList&lt;&gt;();\n            form.add(new BasicNameValuePair(&quot;grant_type&quot;, grant_type));\n            form.add(new BasicNameValuePair(&quot;scope&quot;, scope));\n            form.add(new BasicNameValuePair(&quot;client_id&quot;, client_id)); // these two were missing\n            form.add(new BasicNameValuePair(&quot;client_secret&quot;, client_secret));\n            \n            // UrlEncodedFormEntity is the standard way of building a firm submission\n            // and it removes the need to manually add the &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot; header\n            UrlEncodedFormEntity entity = new UrlEncodedFormEntity(form, Consts.UTF_8);\n            \n            httpPost.setEntity(entity);\n\n            /* SEND AND RETRIEVE RESPONSE */\n            HttpResponse response = null;\n            try {\n                response = httpClient.execute(httpPost);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            /* RESPONSE AS STRING */\n            //      String result = null;\n            try {\n                result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        catch (Exception e) {\n            // TODO: handle exception\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        OAuthClient oauthClient = new OAuthClient();\n        String res = oauthClient.callService();\n        System.out.println(res);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28137419,"reputation":13,"user_id":21500965,"display_name":"ציפי גולדברג"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76063127,"answer_count":1,"score":1,"last_activity_date":1681987812,"creation_date":1681886536,"question_id":76051445,"body_markdown":"I&#39;m trying to connect to the REST API using `application/x-www-form-urlencoded`,\r\nusing the following parameters:\r\n       \r\n```\r\n private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n\tprivate String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String grant_type = &quot;client_credentials&quot;;\r\n\tprivate String scope = &quot;projects:read&quot;;\r\n\r\n\r\n```\r\n\r\nand finally get the following error:\r\n\r\n&gt;{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}\r\n\r\n\t\r\n\r\nMy code is:\r\n```\r\npackage testRestAPI;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Base64;\r\nimport javax.net.ssl.SSLContext;\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.ssl.TrustStrategy;\r\n\r\n\r\npublic class OAuthClient {\r\n\r\n\tprivate String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\r\n\tprivate String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\r\n\tprivate String grant_type = &quot;client_credentials&quot;;\r\n\tprivate String scope = &quot;projects:read&quot;;\r\n\t\r\n\r\n\tpublic String callService()  {\r\n\r\n\r\n\t\tString result = null;\r\n\r\n\t\ttry {\r\n\r\n                        //My site is set as insecure, so I set the following setting\r\n\t\t\tTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\r\n\t\t\tSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n\t\t\t\t\t.loadTrustMaterial(null, acceptingTrustStrategy)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\tSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n\r\n\t\t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n\t\t\t\t\t.setSSLSocketFactory(csf)\r\n\t\t\t\t\t.build();\r\n\r\n\r\n\t\t\t/* HTTPCLIENT AND HTTPPOST OOBJECT */\r\n\t\t\t//\t\tHttpClient httpClient = HttpClientBuilder.create().build();\r\n\t\t\tHttpPost httpPost = new HttpPost(tokenEndpoint);\r\n\r\n\t\t\t/* AUTHENTICATION CREDENTIALS ENCODING */\r\n\t\t\tString base64Credentials = Base64.getEncoder().encodeToString((client_id + &quot;:&quot; \r\n\t\t\t\t\t+ client_secret).getBytes());\r\n\r\n\t\t\t/* HEADER INFO */\r\n\t\t\thttpPost.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot; +  base64Credentials);\r\n\t\t\thttpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n\t\t\t//\t\t/* PROXY CONFIG */\r\n\t\t\t//\t\t\t\tHttpHost target = new HttpHost(&quot;proxy&quot;, 8080, &quot;http&quot;);\r\n\t\t\t//\t\t\t\tRequestConfig config = RequestConfig.custom().setProxy(target).build();\r\n\t\t\t//\t\t\t\thttpPost.setConfig(config);\r\n\r\n\t\t\t/* OAUTH PARAMETERS ADDED TO BODY */\r\n\t\t\tStringEntity input = null;\r\n\t\t\ttry {\r\n\t\t\t\tinput = new StringEntity(&quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope);\r\n\t\t\t\thttpPost.setEntity(input);\r\n\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t/* SEND AND RETRIEVE RESPONSE */\r\n\t\t\tHttpResponse response = null;\r\n\t\t\ttry {\r\n\t\t\t\tresponse = httpClient.execute(httpPost);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t/* RESPONSE AS STRING */\r\n\t\t\t//\t\tString result = null;\r\n\t\t\ttry {\r\n\t\t\t\tresult = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tOAuthClient oauthClient = new OAuthClient();\r\n\t\tString res = oauthClient.callService();\r\n\t\tSystem.out.println(res);\r\n\t}\r\n}\r\n```\r\n\r\nand finally get the following error:\r\n\r\n&gt; {&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}\r\n\r\n\r\nIn Postman the connection is made successfully.[Connection with Postman](https://i.stack.imgur.com/YETti.png)\r\n\r\n\r\n[link to Oauth provider Api Doc][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fhoP5.png","title":"Oauth2 token call failing with &quot;request is missing a required parameter&quot;","body":"<p>I'm trying to connect to the REST API using <code>application/x-www-form-urlencoded</code>,\nusing the following parameters:</p>\n<pre><code> private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n\n\n</code></pre>\n<p>and finally get the following error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}</p>\n</blockquote>\n<p>My code is:</p>\n<pre><code>package testRestAPI;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.security.cert.X509Certificate;\nimport java.util.Base64;\nimport javax.net.ssl.SSLContext;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.ssl.TrustStrategy;\n\n\npublic class OAuthClient {\n\n    private String tokenEndpoint = &quot;https://xxxxxxxxxxxxx/oauth2/token&quot;;\n    private String client_id = &quot;2xxxxxxxxxxxxxxxxx&quot;;\n    private String client_secret = &quot;xxxxxxxxxxxxxxxxxxxx&quot;;\n    private String grant_type = &quot;client_credentials&quot;;\n    private String scope = &quot;projects:read&quot;;\n    \n\n    public String callService()  {\n\n\n        String result = null;\n\n        try {\n\n                        //My site is set as insecure, so I set the following setting\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\n                    .build();\n\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\n            CloseableHttpClient httpClient = HttpClients.custom()\n                    .setSSLSocketFactory(csf)\n                    .build();\n\n\n            /* HTTPCLIENT AND HTTPPOST OOBJECT */\n            //      HttpClient httpClient = HttpClientBuilder.create().build();\n            HttpPost httpPost = new HttpPost(tokenEndpoint);\n\n            /* AUTHENTICATION CREDENTIALS ENCODING */\n            String base64Credentials = Base64.getEncoder().encodeToString((client_id + &quot;:&quot; \n                    + client_secret).getBytes());\n\n            /* HEADER INFO */\n            httpPost.addHeader(&quot;Authorization&quot;,&quot;Bearer &quot; +  base64Credentials);\n            httpPost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n            //      /* PROXY CONFIG */\n            //              HttpHost target = new HttpHost(&quot;proxy&quot;, 8080, &quot;http&quot;);\n            //              RequestConfig config = RequestConfig.custom().setProxy(target).build();\n            //              httpPost.setConfig(config);\n\n            /* OAUTH PARAMETERS ADDED TO BODY */\n            StringEntity input = null;\n            try {\n                input = new StringEntity(&quot;grant_type=&quot; + grant_type + &quot;&amp;scope=&quot; + scope);\n                httpPost.setEntity(input);\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n\n            /* SEND AND RETRIEVE RESPONSE */\n            HttpResponse response = null;\n            try {\n                response = httpClient.execute(httpPost);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            /* RESPONSE AS STRING */\n            //      String result = null;\n            try {\n                result = IOUtils.toString(response.getEntity().getContent(), &quot;UTF-8&quot;);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        catch (Exception e) {\n            // TODO: handle exception\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        OAuthClient oauthClient = new OAuthClient();\n        String res = oauthClient.callService();\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>and finally get the following error:</p>\n<blockquote>\n<p>{&quot;error&quot;:&quot;invalid_request&quot;,&quot;error_description&quot;:&quot;The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed. Client credentials missing or malformed in both HTTP Authorization header and HTTP POST body.&quot;}</p>\n</blockquote>\n<p>In Postman the connection is made successfully.<a href=\"https://i.stack.imgur.com/YETti.png\" rel=\"nofollow noreferrer\">Connection with Postman</a></p>\n<p><a href=\"https://i.stack.imgur.com/fhoP5.png\" rel=\"nofollow noreferrer\">link to Oauth provider Api Doc</a></p>\n"},{"tags":["java","image","swing","jpanel"],"comments":[{"owner":{"account_id":1783271,"reputation":837,"user_id":1625415,"display_name":"Alden"},"score":1,"creation_date":1441326392,"post_id":299495,"comment_id":52645088,"body_markdown":"Depending on how you are generating the byte arrays, it may more efficient to use a [`MemoryImageSource`](https://docs.oracle.com/javase/8/docs/api/java/awt/image/MemoryImageSource.html) than to convert them to JPEG or PNG format and then read with `ImageIO` as most answers suggest. You could get an `Image` from a `MemoryImageSource` constructed with your image data by using [`createImage`](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#createImage-java.awt.image.ImageProducer-), and display as suggested in one of the answers.","body":"Depending on how you are generating the byte arrays, it may more efficient to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/image/MemoryImageSource.html\" rel=\"nofollow noreferrer\"><code>MemoryImageSource</code></a> than to convert them to JPEG or PNG format and then read with <code>ImageIO</code> as most answers suggest. You could get an <code>Image</code> from a <code>MemoryImageSource</code> constructed with your image data by using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#createImage-java.awt.image.ImageProducer-\" rel=\"nofollow noreferrer\"><code>createImage</code></a>, and display as suggested in one of the answers."},{"owner":{"account_id":2134482,"reputation":2459,"user_id":1894600,"display_name":"tommybee"},"score":0,"creation_date":1494315943,"post_id":299495,"comment_id":74763157,"body_markdown":"Check my answer http://stackoverflow.com/questions/43861991/how-to-put-an-image-from-a-jfilechooser/43862895#43862895","body":"Check my answer <a href=\"http://stackoverflow.com/questions/43861991/how-to-put-an-image-from-a-jfilechooser/43862895#43862895\" title=\"how to put an image from a jfilechooser\">stackoverflow.com/questions/43861991/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1227030480,"creation_date":1227030480,"answer_id":299545,"question_id":299495,"body_markdown":"You can subclass JPanel - here is an extract from my ImagePanel, which puts an image in any one of 5 locations, top/left, top/right, middle/middle, bottom/left or bottom/right:\r\n\r\n    protected void paintComponent(Graphics gc) {\r\n        super.paintComponent(gc);\r\n\r\n        Dimension                           cs=getSize();                           // component size\r\n\r\n        gc=gc.create();\r\n        gc.clipRect(insets.left,insets.top,(cs.width-insets.left-insets.right),(cs.height-insets.top-insets.bottom));\r\n        if(mmImage!=null) { gc.drawImage(mmImage,(((cs.width-mmSize.width)/2)       +mmHrzShift),(((cs.height-mmSize.height)/2)        +mmVrtShift),null); }\r\n        if(tlImage!=null) { gc.drawImage(tlImage,(insets.left                       +tlHrzShift),(insets.top                           +tlVrtShift),null); }\r\n        if(trImage!=null) { gc.drawImage(trImage,(cs.width-insets.right-trSize.width+trHrzShift),(insets.top                           +trVrtShift),null); }\r\n        if(blImage!=null) { gc.drawImage(blImage,(insets.left                       +blHrzShift),(cs.height-insets.bottom-blSize.height+blVrtShift),null); }\r\n        if(brImage!=null) { gc.drawImage(brImage,(cs.width-insets.right-brSize.width+brHrzShift),(cs.height-insets.bottom-brSize.height+brVrtShift),null); }\r\n        }\r\n\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>You can subclass JPanel - here is an extract from my ImagePanel, which puts an image in any one of 5 locations, top/left, top/right, middle/middle, bottom/left or bottom/right:</p>\n\n<pre><code>protected void paintComponent(Graphics gc) {\n    super.paintComponent(gc);\n\n    Dimension                           cs=getSize();                           // component size\n\n    gc=gc.create();\n    gc.clipRect(insets.left,insets.top,(cs.width-insets.left-insets.right),(cs.height-insets.top-insets.bottom));\n    if(mmImage!=null) { gc.drawImage(mmImage,(((cs.width-mmSize.width)/2)       +mmHrzShift),(((cs.height-mmSize.height)/2)        +mmVrtShift),null); }\n    if(tlImage!=null) { gc.drawImage(tlImage,(insets.left                       +tlHrzShift),(insets.top                           +tlVrtShift),null); }\n    if(trImage!=null) { gc.drawImage(trImage,(cs.width-insets.right-trSize.width+trHrzShift),(insets.top                           +trVrtShift),null); }\n    if(blImage!=null) { gc.drawImage(blImage,(insets.left                       +blHrzShift),(cs.height-insets.bottom-blSize.height+blVrtShift),null); }\n    if(brImage!=null) { gc.drawImage(brImage,(cs.width-insets.right-brSize.width+brHrzShift),(cs.height-insets.bottom-brSize.height+brVrtShift),null); }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1227030543,"creation_date":1227030543,"answer_id":299547,"question_id":299495,"body_markdown":"1. There shouldn&#39;t be any problem (other than any general problems you might have with very large images).\r\n2. If you&#39;re talking about adding multiple images to a single panel, I would use `ImageIcon`s. For a single image, I would think about making a custom subclass of `JPanel` and overriding its `paintComponent` method to draw the image.\r\n3. (see 2)","title":"How to add an image to a JPanel?","body":"<ol>\n<li>There shouldn't be any problem (other than any general problems you might have with very large images).</li>\n<li>If you're talking about adding multiple images to a single panel, I would use <code>ImageIcon</code>s. For a single image, I would think about making a custom subclass of <code>JPanel</code> and overriding its <code>paintComponent</code> method to draw the image.</li>\n<li>(see 2)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":50773,"reputation":794,"user_id":151502,"accept_rate":92,"display_name":"Dogmatixed"},"score":0,"creation_date":1327002392,"post_id":299555,"comment_id":11178023,"body_markdown":"I tried using this with some custom buttons on top, and found that there were strange redrawing issues. Fred Haslam&#39;s answer, below, did not suffer from this problem.","body":"I tried using this with some custom buttons on top, and found that there were strange redrawing issues. Fred Haslam&#39;s answer, below, did not suffer from this problem."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":20,"creation_date":1342170330,"post_id":299555,"comment_id":15138792,"body_markdown":"-1 for invalid implementation of paintComponent (@Dogmatixed most probably that&#39;s why you are having those redrawing issues) - it _must_ garantee to cover its complete area if it reports being opaque (which is the default), easiest achieved by calling super.paintComponent","body":"-1 for invalid implementation of paintComponent (@Dogmatixed most probably that&#39;s why you are having those redrawing issues) - it <i>must</i> garantee to cover its complete area if it reports being opaque (which is the default), easiest achieved by calling super.paintComponent"},{"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"score":6,"creation_date":1342183505,"post_id":299555,"comment_id":15144327,"body_markdown":"@kleopatra, Thanks, I didn&#39;t realize that... according to the javadoc: &quot;Further, if you do not invoker super&#39;s implementation you must honor the opaque property, that is if this component is opaque, you must completely fill in the background in a non-opaque color. If you do not honor the opaque property you will likely see visual artifacts.&quot; I&#39;ll update the answer now.","body":"@kleopatra, Thanks, I didn&#39;t realize that... according to the javadoc: &quot;Further, if you do not invoker super&#39;s implementation you must honor the opaque property, that is if this component is opaque, you must completely fill in the background in a non-opaque color. If you do not honor the opaque property you will likely see visual artifacts.&quot; I&#39;ll update the answer now."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":9,"creation_date":1342196046,"post_id":299555,"comment_id":15150342,"body_markdown":"Please always respect the `Principle of Encapsulation` while overriding methods of the Super Class, the Access Specifier of the `paintComponent(...)` method is `protected` and not `public` :-)","body":"Please always respect the <code>Principle of Encapsulation</code> while overriding methods of the Super Class, the Access Specifier of the <code>paintComponent(...)</code> method is <code>protected</code> and not <code>public</code> :-)"},{"owner":{"account_id":93306,"reputation":556,"user_id":255337,"display_name":"Keilly"},"score":1,"creation_date":1436293322,"post_id":299555,"comment_id":50546776,"body_markdown":"This is no good, it doesn&#39;t do anything about sizing the panel to the image. More code will have to be added later do deal with this. Much simpler to use the JLabel answer.","body":"This is no good, it doesn&#39;t do anything about sizing the panel to the image. More code will have to be added later do deal with this. Much simpler to use the JLabel answer."},{"owner":{"account_id":1630238,"reputation":949,"user_id":1504950,"display_name":"Jonathan"},"score":0,"creation_date":1455901970,"post_id":299555,"comment_id":58712813,"body_markdown":"@nIcEcOw is there any chance you&#39;d be willing to cite a source on the Principals of Encapsulation?","body":"@nIcEcOw is there any chance you&#39;d be willing to cite a source on the Principals of Encapsulation?"},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":3,"creation_date":1455947239,"post_id":299555,"comment_id":58729534,"body_markdown":"@Jonathan: I am really sorry, regarding some source for `Principle of Encapsulation`. Just remember while programming, what should be hidden from the rest of the code, needs to be maintained that way, instead of being visible to everythingy in the code. Seems like it is one such thingy that comes with experience, as one learns each day. Any book can give a basic idea what encapsulation is, but it is how we implement our code that decides how much we adhering to the concept.","body":"@Jonathan: I am really sorry, regarding some source for <code>Principle of Encapsulation</code>. Just remember while programming, what should be hidden from the rest of the code, needs to be maintained that way, instead of being visible to everythingy in the code. Seems like it is one such thingy that comes with experience, as one learns each day. Any book can give a basic idea what encapsulation is, but it is how we implement our code that decides how much we adhering to the concept."}],"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"comment_count":7,"down_vote_count":12,"up_vote_count":277,"is_accepted":true,"score":265,"last_activity_date":1476834357,"creation_date":1227030648,"answer_id":299555,"question_id":299495,"body_markdown":"Here&#39;s how I do it (with a little more info on how to load an image):\r\n\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class ImagePanel extends JPanel{\r\n        \r\n        private BufferedImage image;\r\n\r\n        public ImagePanel() {\r\n           try {                \r\n              image = ImageIO.read(new File(&quot;image name and path&quot;));\r\n           } catch (IOException ex) {\r\n                // handle exception...\r\n           }\r\n        }\r\n        \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawImage(image, 0, 0, this); // see javadoc for more info on the parameters            \r\n        }\r\n    \r\n    }","title":"How to add an image to a JPanel?","body":"<p>Here's how I do it (with a little more info on how to load an image):</p>\n\n<pre><code>import java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JPanel;\n\npublic class ImagePanel extends JPanel{\n\n    private BufferedImage image;\n\n    public ImagePanel() {\n       try {                \n          image = ImageIO.read(new File(\"image name and path\"));\n       } catch (IOException ex) {\n            // handle exception...\n       }\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawImage(image, 0, 0, this); // see javadoc for more info on the parameters            \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1227032465,"creation_date":1227032465,"answer_id":299643,"question_id":299495,"body_markdown":"`JPanel` is almost always the wrong class to subclass. Why wouldn&#39;t you subclass `JComponent`?\r\n\r\nThere is a slight problem with `ImageIcon` in that the constructor blocks reading the image. Not really a problem when loading from the application jar, but maybe if you&#39;re potentially reading over a network connection. There&#39;s plenty of AWT-era examples of using `MediaTracker`, `ImageObserver` and friends, even in the JDK demos.","title":"How to add an image to a JPanel?","body":"<p><code>JPanel</code> is almost always the wrong class to subclass. Why wouldn't you subclass <code>JComponent</code>?</p>\n\n<p>There is a slight problem with <code>ImageIcon</code> in that the constructor blocks reading the image. Not really a problem when loading from the application jar, but maybe if you're potentially reading over a network connection. There's plenty of AWT-era examples of using <code>MediaTracker</code>, <code>ImageObserver</code> and friends, even in the JDK demos.</p>\n"},{"tags":[],"owner":{"account_id":11838,"reputation":7011,"user_id":23030,"display_name":"Thomas Jones-Low"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1227032891,"creation_date":1227032891,"answer_id":299669,"question_id":299495,"body_markdown":"I&#39;m doing something very similar in a private project I&#39;m working on. Thus far I&#39;ve generated images up to 1024x1024 without any problems (except memory) and can display them very quickly and without any performance problems. \r\n\r\nOverriding the paint method of JPanel subclass is overkill and requires more work than you need to do. \r\n\r\nThe way I do it is: \r\n\r\n    Class MapIcon implements Icon {...}\r\nOR\r\n\r\n    Class MapIcon extends ImageIcon {...}\r\nThe code you use to generate the image will be in this class. I use a BufferedImage to draw onto then when the paintIcon() is called, use g.drawImvge(bufferedImage); This reduces the amount of flashing done while you generate your images, and you can thread it. \r\n\r\nNext I extend JLabel:\r\n\r\n    Class MapLabel extends Scrollable, MouseMotionListener {...}\r\n\r\nThis is because I want to put my image on a scroll pane, I.e. display part of the image and have the user scroll around as needed. \r\n\r\nSo then I use a JScrollPane to hold the MapLabel, which contains only the MapIcon. \r\n\r\n    MapIcon map = new MapIcon (); \r\n    MapLabel mapLabel = new MapLabel (map);\r\n    JScrollPane scrollPane = new JScrollPane();\r\n    \r\n    scrollPane.getViewport ().add (mapLabel);\r\n\r\n\r\nBut for your scenario (just show the whole image every time). You need to add the MapLabel to the top JPanel, and make sure to size them all to the full size of the image (by overriding the GetPreferredSize()). \r\n\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>I'm doing something very similar in a private project I'm working on. Thus far I've generated images up to 1024x1024 without any problems (except memory) and can display them very quickly and without any performance problems. </p>\n\n<p>Overriding the paint method of JPanel subclass is overkill and requires more work than you need to do. </p>\n\n<p>The way I do it is: </p>\n\n<pre><code>Class MapIcon implements Icon {...}\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Class MapIcon extends ImageIcon {...}\n</code></pre>\n\n<p>The code you use to generate the image will be in this class. I use a BufferedImage to draw onto then when the paintIcon() is called, use g.drawImvge(bufferedImage); This reduces the amount of flashing done while you generate your images, and you can thread it. </p>\n\n<p>Next I extend JLabel:</p>\n\n<pre><code>Class MapLabel extends Scrollable, MouseMotionListener {...}\n</code></pre>\n\n<p>This is because I want to put my image on a scroll pane, I.e. display part of the image and have the user scroll around as needed. </p>\n\n<p>So then I use a JScrollPane to hold the MapLabel, which contains only the MapIcon. </p>\n\n<pre><code>MapIcon map = new MapIcon (); \nMapLabel mapLabel = new MapLabel (map);\nJScrollPane scrollPane = new JScrollPane();\n\nscrollPane.getViewport ().add (mapLabel);\n</code></pre>\n\n<p>But for your scenario (just show the whole image every time). You need to add the MapLabel to the top JPanel, and make sure to size them all to the full size of the image (by overriding the GetPreferredSize()). </p>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1344249429,"creation_date":1227055020,"answer_id":300670,"question_id":299495,"body_markdown":"You can avoid rolling your own Component subclass completely by using the JXImagePanel class from the free [SwingX][1] libraries.\r\n\r\n[Download][2]\r\n\r\n\r\n  [1]: https://swingx.java.net//\r\n  [2]: http://java.net/projects/swingx/downloads","title":"How to add an image to a JPanel?","body":"<p>You can avoid rolling your own Component subclass completely by using the JXImagePanel class from the free <a href=\"https://swingx.java.net//\" rel=\"noreferrer\">SwingX</a> libraries.</p>\n\n<p><a href=\"http://java.net/projects/swingx/downloads\" rel=\"noreferrer\">Download</a></p>\n"},{"tags":[],"owner":{"account_id":561312,"reputation":331,"user_id":183701,"display_name":"CoderTim"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1254596879,"creation_date":1254596879,"answer_id":1514560,"question_id":299495,"body_markdown":"I think there is no need to subclass of anything. Just use a Jlabel. You can set an image into a Jlabel. So, resize the Jlabel then fill it with an image. Its OK. This is the way I do. ","title":"How to add an image to a JPanel?","body":"<p>I think there is no need to subclass of anything. Just use a Jlabel. You can set an image into a Jlabel. So, resize the Jlabel then fill it with an image. Its OK. This is the way I do. </p>\n"},{"comments":[{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":20,"creation_date":1323267995,"post_id":2706730,"comment_id":10396913,"body_markdown":"how to scale the image according to the size of the JLabel?","body":"how to scale the image according to the size of the JLabel?"},{"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"score":2,"creation_date":1326577686,"post_id":2706730,"comment_id":11077856,"body_markdown":"Nice code! I&#39;m not much experienced with Swing but I can&#39;t get it work. Does anybody tried it in jdk 1.6.0_16?","body":"Nice code! I&#39;m not much experienced with Swing but I can&#39;t get it work. Does anybody tried it in jdk 1.6.0_16?"},{"owner":{"account_id":2108365,"reputation":568,"user_id":1874154,"accept_rate":100,"display_name":"kyle"},"score":4,"creation_date":1400257773,"post_id":2706730,"comment_id":36418374,"body_markdown":"@ATorras I know you asked this a while back but if any other newbies had my issues, remember to picLabel.setBounds();","body":"@ATorras I know you asked this a while back but if any other newbies had my issues, remember to picLabel.setBounds();"},{"owner":{"account_id":1425906,"reputation":2579,"user_id":1349442,"accept_rate":98,"display_name":"0x6B6F77616C74"},"score":0,"creation_date":1426801414,"post_id":2706730,"comment_id":46531841,"body_markdown":"Do I have to create new JLabel object each time when a photo is reloaded?","body":"Do I have to create new JLabel object each time when a photo is reloaded?"},{"owner":{"account_id":2239626,"reputation":46,"user_id":1974998,"display_name":"hightechfool"},"score":0,"creation_date":1483513287,"post_id":2706730,"comment_id":70121833,"body_markdown":"I didn&#39;t have to do setBounds or anything.  This code is awesome!  The add(picLabel) was a bit vague... you need somethin to add to!  If you&#39;re a newbie:   either try  this.add...     or if you have a JFrame object X, then try X.add....","body":"I didn&#39;t have to do setBounds or anything.  This code is awesome!  The add(picLabel) was a bit vague... you need somethin to add to!  If you&#39;re a newbie:   either try  this.add...     or if you have a JFrame object X, then try X.add...."},{"owner":{"account_id":2142422,"reputation":3442,"user_id":1900770,"display_name":"Davide"},"score":4,"creation_date":1486139554,"post_id":2706730,"comment_id":71231993,"body_markdown":"@coding_idiot new JLabel(new ImageIcon(backgroundImage.getScaledInstance(width, height, Image.SCALE_FAST)));","body":"@coding_idiot new JLabel(new ImageIcon(backgroundImage.getScaledInstance(width, height, Image.SCALE_FAST)));"},{"owner":{"account_id":3929989,"reputation":211,"user_id":3248987,"accept_rate":100,"display_name":"thankyou"},"score":2,"creation_date":1604657121,"post_id":2706730,"comment_id":114419699,"body_markdown":"@ATorras It&#39;s been a while since you asked that question. But maybe that will help others in the future. It didn&#39;t work for me as well. I used a .ico image. Then I tried a .png image and it worked for me. :)","body":"@ATorras It&#39;s been a while since you asked that question. But maybe that will help others in the future. It didn&#39;t work for me as well. I used a .ico image. Then I tried a .png image and it worked for me. :)"}],"tags":[],"owner":{"account_id":66478,"reputation":8923,"user_id":194980,"accept_rate":76,"display_name":"Fred Haslam"},"comment_count":7,"down_vote_count":0,"up_vote_count":548,"is_accepted":false,"score":548,"last_activity_date":1370932714,"creation_date":1272156400,"answer_id":2706730,"question_id":299495,"body_markdown":"If you are using JPanels, then are probably working with Swing.  Try this:\r\n\r\n    BufferedImage myPicture = ImageIO.read(new File(&quot;path-to-file&quot;));\r\n    JLabel picLabel = new JLabel(new ImageIcon(myPicture));\r\n    add(picLabel);\r\n\r\nThe image is now a swing component.  It becomes subject to layout conditions like any other component.","title":"How to add an image to a JPanel?","body":"<p>If you are using JPanels, then are probably working with Swing.  Try this:</p>\n\n<pre><code>BufferedImage myPicture = ImageIO.read(new File(\"path-to-file\"));\nJLabel picLabel = new JLabel(new ImageIcon(myPicture));\nadd(picLabel);\n</code></pre>\n\n<p>The image is now a swing component.  It becomes subject to layout conditions like any other component.</p>\n"},{"comments":[{"owner":{"account_id":5780101,"reputation":4276,"user_id":4561047,"accept_rate":79,"display_name":"intcreator"},"score":2,"creation_date":1449180246,"post_id":4537073,"comment_id":55907598,"body_markdown":"I substituted the first line with `BufferedImage previewImage = ImageIO.read(new URL(imageURL));` to get my images from a server.","body":"I substituted the first line with <code>BufferedImage previewImage = ImageIO.read(new URL(imageURL));</code> to get my images from a server."},{"owner":{"account_id":3878539,"reputation":842,"user_id":3211801,"accept_rate":71,"display_name":"Nandha"},"score":0,"creation_date":1499413297,"post_id":4537073,"comment_id":76905218,"body_markdown":"For referring images from jar, try this https://stackoverflow.com/a/44844922/3211801","body":"For referring images from jar, try this <a href=\"https://stackoverflow.com/a/44844922/3211801\">stackoverflow.com/a/44844922/3211801</a>"}],"tags":[],"owner":{"account_id":196359,"reputation":577,"user_id":439756,"accept_rate":75,"display_name":"shawalli"},"comment_count":2,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1382619469,"creation_date":1293432594,"answer_id":4537073,"question_id":299495,"body_markdown":"Fred Haslam&#39;s way works fine.  I had trouble with the filepath though, since I want to reference an image within my jar.  To do this, I used:\r\n\r\n    BufferedImage wPic = ImageIO.read(this.getClass().getResource(&quot;snow.png&quot;));\r\n    JLabel wIcon = new JLabel(new ImageIcon(wPic));\r\n\r\nSince I only have a finite number (about 10) images that I need to load using this method, it works quite well.  It gets file without having to have the correct relative filepath.\r\n\r\n\r\n    ","title":"How to add an image to a JPanel?","body":"<p>Fred Haslam's way works fine.  I had trouble with the filepath though, since I want to reference an image within my jar.  To do this, I used:</p>\n\n<pre><code>BufferedImage wPic = ImageIO.read(this.getClass().getResource(\"snow.png\"));\nJLabel wIcon = new JLabel(new ImageIcon(wPic));\n</code></pre>\n\n<p>Since I only have a finite number (about 10) images that I need to load using this method, it works quite well.  It gets file without having to have the correct relative filepath.</p>\n"},{"tags":[],"owner":{"display_name":"user1597002"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1367703606,"creation_date":1367703606,"answer_id":16379229,"question_id":299495,"body_markdown":"    JLabel imgLabel = new JLabel(new ImageIcon(&quot;path_to_image.png&quot;));","title":"How to add an image to a JPanel?","body":"<pre><code>JLabel imgLabel = new JLabel(new ImageIcon(\"path_to_image.png\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077354,"reputation":5409,"user_id":4744263,"accept_rate":25,"display_name":"Filipe Brito"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443633045,"creation_date":1443633045,"answer_id":32871981,"question_id":299495,"body_markdown":"This answer is a complement to @shawalli&#39;s answer...\r\n\r\nI wanted to reference an image within my jar too, but instead of having a BufferedImage, I simple did this:\r\n\r\n     JPanel jPanel = new JPanel();\t\t\r\n     jPanel.add(new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;resource/images/polygon.jpg&quot;))));","title":"How to add an image to a JPanel?","body":"<p>This answer is a complement to @shawalli's answer...</p>\n\n<p>I wanted to reference an image within my jar too, but instead of having a BufferedImage, I simple did this:</p>\n\n<pre><code> JPanel jPanel = new JPanel();      \n jPanel.add(new JLabel(new ImageIcon(getClass().getClassLoader().getResource(\"resource/images/polygon.jpg\"))));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4294909"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460955773,"creation_date":1460955773,"answer_id":36685782,"question_id":299495,"body_markdown":"Create a source folder in your project directory, in this case I called it Images. \r\n\r\n    JFrame snakeFrame = new JFrame();\r\n\tsnakeFrame.setBounds(100, 200, 800, 800);\r\n    snakeFrame.setVisible(true);\r\n\tsnakeFrame.add(new JLabel(new ImageIcon(&quot;Images/Snake.png&quot;)));\r\n\tsnakeFrame.pack();","title":"How to add an image to a JPanel?","body":"<p>Create a source folder in your project directory, in this case I called it Images. </p>\n\n<pre><code>JFrame snakeFrame = new JFrame();\nsnakeFrame.setBounds(100, 200, 800, 800);\nsnakeFrame.setVisible(true);\nsnakeFrame.add(new JLabel(new ImageIcon(\"Images/Snake.png\")));\nsnakeFrame.pack();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429443,"reputation":449,"user_id":7013460,"display_name":"Muskovets"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519371164,"creation_date":1519371164,"answer_id":48943160,"question_id":299495,"body_markdown":"You can avoid using own `Component`s and SwingX library and `ImageIO` class:  \r\n\r\n    File f = new File(&quot;hello.jpg&quot;);\r\n    JLabel imgLabel = new JLabel(new ImageIcon(file.getName()));","title":"How to add an image to a JPanel?","body":"<p>You can avoid using own <code>Component</code>s and SwingX library and <code>ImageIO</code> class:  </p>\n\n<pre><code>File f = new File(\"hello.jpg\");\nJLabel imgLabel = new JLabel(new ImageIcon(file.getName()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520642201,"creation_date":1520642201,"answer_id":49204158,"question_id":299495,"body_markdown":"I can see many answers, not really addressing the three questions of the OP.\r\n\r\n**1)** A word on performance: byte arrays are likely unefficient unless you can use an exact pixel byte ordering which matches to your display adapters current resolution and color depth. \r\n\r\nTo achieve the best drawing performance, simply convert your image to a BufferedImage which is generated with a type corresponding to your current graphics configuration. See createCompatibleImage at https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html \r\n\r\nThese images will be automatically cached on the display card memory after drawing a few times without any programming effort (this is standard in Swing since Java 6), and therefore the actual drawing will take negligible amount of time - _if_ you did not change the image. \r\n\r\nAltering the image will come with an additional memory transfer between main memory and GPU memory - which is slow. Avoid &quot;redrawing&quot; the image into a BufferedImage therefore, avoid doing getPixel and setPixel at all means. \r\n\r\nFor example, if you are developing a game, instead of drawing all the game actors to a BufferedImage and then to a JPanel, it is a lot faster to load all actors as smaller BufferedImages, and draw them one by one in your JPanel code at their proper position - this way there is no additional data transfer between the main memory and GPU memory except of the initial transfer of the images for caching.\r\n\r\nImageIcon will use a BufferedImage under the hood - but basically allocating a BufferedImage with the _proper_ graphics mode is the key, and there is no effort to do this right.\r\n\r\n**2)** The usual way of doing this is to draw a BufferedImage in an overridden paintComponent method of the JPanel. Although Java supports a good amount of additional goodies such as buffer chains controlling VolatileImages cached in the GPU memory, there is no need to use any of these since Java 6 which does a reasonably good job without exposing all of these details of GPU acceleration.\r\n\r\n_Note that GPU acceleration may not work for certain operations, such as stretching translucent images._ \r\n\r\n**3)** Do not add. Just paint it as mentioned above:\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.drawImage(image, 0, 0, this); \r\n    }\r\n\r\n&quot;Adding&quot; makes sense if the image is part of the layout. If you need this as a background or foreground image filling the JPanel, just draw in paintComponent. If you prefer brewing a generic Swing component which can show your image, then it is the same story (you may use a JComponent and override its paintComponent method) - and then add _this_ to your layout of GUI components.\r\n\r\n**4)** How to convert the array to a Bufferedimage\r\n\r\nConverting your byte arrays to PNG, then loading it is quite resource intensive. A better way is to convert your existing byte array to a BufferedImage.\r\n\r\nFor that: _do not use for loops_ and copy pixels. That is very very slow. Instead:\r\n\r\n * learn the preferred byte structure of the BufferedImage (nowadays it is safe to assume RGB or RGBA, which is 4 bytes per pixel)\r\n * learn the scanline and scansize in use (e.g. you might have a 142 pixels wide image - but in the real life that will be stored as a 256 pixel wide byte array since it is faster to process that and mask the unused pixes by the GPU hardware)\r\n * then once you have an array build according to these principles, the setRGB array method of the BufferedImage can copy your array to the BufferedImage.\r\n\r\n","title":"How to add an image to a JPanel?","body":"<p>I can see many answers, not really addressing the three questions of the OP.</p>\n\n<p><strong>1)</strong> A word on performance: byte arrays are likely unefficient unless you can use an exact pixel byte ordering which matches to your display adapters current resolution and color depth. </p>\n\n<p>To achieve the best drawing performance, simply convert your image to a BufferedImage which is generated with a type corresponding to your current graphics configuration. See createCompatibleImage at <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/2d/images/drawonimage.html</a> </p>\n\n<p>These images will be automatically cached on the display card memory after drawing a few times without any programming effort (this is standard in Swing since Java 6), and therefore the actual drawing will take negligible amount of time - <em>if</em> you did not change the image. </p>\n\n<p>Altering the image will come with an additional memory transfer between main memory and GPU memory - which is slow. Avoid \"redrawing\" the image into a BufferedImage therefore, avoid doing getPixel and setPixel at all means. </p>\n\n<p>For example, if you are developing a game, instead of drawing all the game actors to a BufferedImage and then to a JPanel, it is a lot faster to load all actors as smaller BufferedImages, and draw them one by one in your JPanel code at their proper position - this way there is no additional data transfer between the main memory and GPU memory except of the initial transfer of the images for caching.</p>\n\n<p>ImageIcon will use a BufferedImage under the hood - but basically allocating a BufferedImage with the <em>proper</em> graphics mode is the key, and there is no effort to do this right.</p>\n\n<p><strong>2)</strong> The usual way of doing this is to draw a BufferedImage in an overridden paintComponent method of the JPanel. Although Java supports a good amount of additional goodies such as buffer chains controlling VolatileImages cached in the GPU memory, there is no need to use any of these since Java 6 which does a reasonably good job without exposing all of these details of GPU acceleration.</p>\n\n<p><em>Note that GPU acceleration may not work for certain operations, such as stretching translucent images.</em> </p>\n\n<p><strong>3)</strong> Do not add. Just paint it as mentioned above:</p>\n\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);\n    g.drawImage(image, 0, 0, this); \n}\n</code></pre>\n\n<p>\"Adding\" makes sense if the image is part of the layout. If you need this as a background or foreground image filling the JPanel, just draw in paintComponent. If you prefer brewing a generic Swing component which can show your image, then it is the same story (you may use a JComponent and override its paintComponent method) - and then add <em>this</em> to your layout of GUI components.</p>\n\n<p><strong>4)</strong> How to convert the array to a Bufferedimage</p>\n\n<p>Converting your byte arrays to PNG, then loading it is quite resource intensive. A better way is to convert your existing byte array to a BufferedImage.</p>\n\n<p>For that: <em>do not use for loops</em> and copy pixels. That is very very slow. Instead:</p>\n\n<ul>\n<li>learn the preferred byte structure of the BufferedImage (nowadays it is safe to assume RGB or RGBA, which is 4 bytes per pixel)</li>\n<li>learn the scanline and scansize in use (e.g. you might have a 142 pixels wide image - but in the real life that will be stored as a 256 pixel wide byte array since it is faster to process that and mask the unused pixes by the GPU hardware)</li>\n<li>then once you have an array build according to these principles, the setRGB array method of the BufferedImage can copy your array to the BufferedImage.</li>\n</ul>\n"}],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157030,"favorite_count":0,"down_vote_count":0,"up_vote_count":367,"accepted_answer_id":299555,"answer_count":14,"score":367,"last_activity_date":1681987810,"creation_date":1227029765,"question_id":299495,"body_markdown":"I have a [`JPanel`][1] to which I&#39;d like to add JPEG and PNG images that I generate on the fly.\r\n\r\nAll the examples I&#39;ve seen so far in the [Swing Tutorials][2], specially in the [Swing examples][3] use `ImageIcon`s.\r\n\r\nI&#39;m generating these images as byte arrays, and are usually larger than the common icons they use in the examples, at 640x480.\r\n\r\n 1. Is there any (performance or other) problem in using the `ImageIcon` class to display an image that size in a `JPanel`?\r\n 2. What&#39;s the *&quot;usual&quot;* way of doing it?\r\n 3. How to add an image to a `JPanel` without using the `ImageIcon` class?\r\n\r\n**Edit**: A more careful examination of the tutorials and the API shows that you cannot add an `ImageIcon` directly to a `JPanel`. Instead, they achieve the same effect by setting the image as an icon of a `JLabel`. This just doesn&#39;t feel right...\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JPanel.html\r\n  [2]: http://java.sun.com/docs/books/tutorial/uiswing/\r\n  [3]: http://java.sun.com/docs/books/tutorial/uiswing/examples/components/\r\n","title":"How to add an image to a JPanel?","body":"<p>I have a <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/javax/swing/JPanel.html\" rel=\"nofollow noreferrer\"><code>JPanel</code></a> to which I'd like to add JPEG and PNG images that I generate on the fly.</p>\n<p>All the examples I've seen so far in the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Swing Tutorials</a>, specially in the <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/examples/components/\" rel=\"nofollow noreferrer\">Swing examples</a> use <code>ImageIcon</code>s.</p>\n<p>I'm generating these images as byte arrays, and are usually larger than the common icons they use in the examples, at 640x480.</p>\n<ol>\n<li>Is there any (performance or other) problem in using the <code>ImageIcon</code> class to display an image that size in a <code>JPanel</code>?</li>\n<li>What's the <em>&quot;usual&quot;</em> way of doing it?</li>\n<li>How to add an image to a <code>JPanel</code> without using the <code>ImageIcon</code> class?</li>\n</ol>\n<p><strong>Edit</strong>: A more careful examination of the tutorials and the API shows that you cannot add an <code>ImageIcon</code> directly to a <code>JPanel</code>. Instead, they achieve the same effect by setting the image as an icon of a <code>JLabel</code>. This just doesn't feel right...</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3819165,"reputation":1091,"user_id":3167672,"display_name":"VinhNT"},"score":0,"creation_date":1681978912,"post_id":76061873,"comment_id":134144491,"body_markdown":"you can do: good.getSizes().removeAll().add(..... your new size objects here)\nthen going to do .save(good)","body":"you can do: good.getSizes().removeAll().add(..... your new size objects here) then going to do .save(good)"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681985059,"post_id":76061873,"comment_id":134145859,"body_markdown":"Please share your code for both entities Good and Size. Definition is not clear by now.","body":"Please share your code for both entities Good and Size. Definition is not clear by now."}],"answers":[{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987648,"creation_date":1681987648,"answer_id":76063249,"question_id":76061873,"body_markdown":"Add Size ID also in JSON when requesting the action. If ID is present it will update else it will create a new record for the object.","title":"Hibernate @PutMapping update an existing object duplicates related entities","body":"<p>Add Size ID also in JSON when requesting the action. If ID is present it will update else it will create a new record for the object.</p>\n"}],"owner":{"account_id":26929571,"reputation":25,"user_id":20502277,"display_name":"velovatik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681987648,"creation_date":1681978092,"question_id":76061873,"body_markdown":" [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLTCA.png\r\nI have two tables, Goods and Sizes, and many sizes can refer to one good, it will return this JSON:\r\n```\r\n{\r\n    &quot;id&quot;: 11,\r\n    &quot;title&quot;: &quot;Model2&quot;,\r\n    &quot;sex&quot;: &quot;WOMAN&quot;,\r\n    &quot;manufacturer&quot;: {\r\n      &quot;id&quot;: 1,\r\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\r\n      &quot;address&quot;: &quot;Moscow&quot;,\r\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\r\n    },\r\n    &quot;manufacturerId&quot;: 1,\r\n    &quot;sizes&quot;: [\r\n      {\r\n        &quot;size&quot;: 35,\r\n        &quot;quantity&quot;: 5\r\n      },\r\n      {\r\n        &quot;size&quot;: 46,\r\n        &quot;quantity&quot;: 4\r\n      }\r\n    ]\r\n  }\r\n```\r\nSo when I try update concrete good, for example, add or delete one size, it duplicates all sizes, and from two sizes I will get four\r\n```\r\nsizes&quot;: [\r\n      {\r\n        &quot;size&quot;: 30,\r\n        &quot;quantity&quot;: 2\r\n      },\r\n      {\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 5\r\n      },\r\n      {\r\n        &quot;size&quot;: 41,\r\n        &quot;quantity&quot;: 2\r\n      },\r\n      {\r\n        &quot;size&quot;: 42,\r\n        &quot;quantity&quot;: 5\r\n      }\r\n```\r\nThere is my Put method fir update operation\r\n```\r\n@Override\r\n    public void saveGood(Good good) {\r\n        Session session = entityManager.unwrap(Session.class);\r\n        System.out.println(good);\r\n        session.merge(good); //SaveOrUpdate substitute\r\n    }\r\n```\r\nAnd REST Controller router\r\n```\r\n@PatchMapping(&quot;/goods&quot;)\r\n    public Good updateGood(@RequestBody Good good) {\r\n        goodService.saveGood(good);\r\n        return good;\r\n    }\r\n```\r\nRelations from entities\r\n```\r\n@JsonManagedReference\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\r\n    List&lt;Size&gt; sizes; \r\n```\r\n```\r\n@Column(name = &quot;goodid&quot;, insertable = false, updatable = false) //Check else\r\n    private int goodId;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;goodId&quot;)\r\n    Good good;\r\n```","title":"Hibernate @PutMapping update an existing object duplicates related entities","body":"<p><a href=\"https://i.stack.imgur.com/zLTCA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLTCA.png\" alt=\"enter image description here\" /></a></p>\n<p>I have two tables, Goods and Sizes, and many sizes can refer to one good, it will return this JSON:</p>\n<pre><code>{\n    &quot;id&quot;: 11,\n    &quot;title&quot;: &quot;Model2&quot;,\n    &quot;sex&quot;: &quot;WOMAN&quot;,\n    &quot;manufacturer&quot;: {\n      &quot;id&quot;: 1,\n      &quot;manufacturerName&quot;: &quot;Ralf&quot;,\n      &quot;address&quot;: &quot;Moscow&quot;,\n      &quot;telephone&quot;: &quot;9-999-999-99-99&quot;\n    },\n    &quot;manufacturerId&quot;: 1,\n    &quot;sizes&quot;: [\n      {\n        &quot;size&quot;: 35,\n        &quot;quantity&quot;: 5\n      },\n      {\n        &quot;size&quot;: 46,\n        &quot;quantity&quot;: 4\n      }\n    ]\n  }\n</code></pre>\n<p>So when I try update concrete good, for example, add or delete one size, it duplicates all sizes, and from two sizes I will get four</p>\n<pre><code>sizes&quot;: [\n      {\n        &quot;size&quot;: 30,\n        &quot;quantity&quot;: 2\n      },\n      {\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 5\n      },\n      {\n        &quot;size&quot;: 41,\n        &quot;quantity&quot;: 2\n      },\n      {\n        &quot;size&quot;: 42,\n        &quot;quantity&quot;: 5\n      }\n</code></pre>\n<p>There is my Put method fir update operation</p>\n<pre><code>@Override\n    public void saveGood(Good good) {\n        Session session = entityManager.unwrap(Session.class);\n        System.out.println(good);\n        session.merge(good); //SaveOrUpdate substitute\n    }\n</code></pre>\n<p>And REST Controller router</p>\n<pre><code>@PatchMapping(&quot;/goods&quot;)\n    public Good updateGood(@RequestBody Good good) {\n        goodService.saveGood(good);\n        return good;\n    }\n</code></pre>\n<p>Relations from entities</p>\n<pre><code>@JsonManagedReference\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;good&quot;)//Uni-directional reference to size array\n    List&lt;Size&gt; sizes; \n</code></pre>\n<pre><code>@Column(name = &quot;goodid&quot;, insertable = false, updatable = false) //Check else\n    private int goodId;\n\n    @JsonBackReference\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;goodId&quot;)\n    Good good;\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradle-plugin","maven-bom"],"comments":[{"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"score":1,"creation_date":1681936103,"post_id":59339543,"comment_id":134139050,"body_markdown":"Why you edited your question similar to the solution in the answer, it is quite confusing...","body":"Why you edited your question similar to the solution in the answer, it is quite confusing..."},{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":0,"creation_date":1681987343,"post_id":59339543,"comment_id":134146409,"body_markdown":"@DanielH&#225;ri, I have no idea why I did it, it was long time ago, anyway i&#39;ve rolledback this change, sorry.","body":"@DanielH&#225;ri, I have no idea why I did it, it was long time ago, anyway i&#39;ve rolledback this change, sorry."}],"answers":[{"comments":[{"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"score":0,"creation_date":1576428770,"post_id":59345736,"comment_id":104888314,"body_markdown":"Event after changing, I still have the same error.\nI have edited the question with the new details.","body":"Event after changing, I still have the same error. I have edited the question with the new details."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576428897,"post_id":59345736,"comment_id":104888348,"body_markdown":"You have this error when doing what? Copying and pasting this to a build.gradle file of a simple probject (with no subproject) and executing ./gradlew tasks runs fine.","body":"You have this error when doing what? Copying and pasting this to a build.gradle file of a simple probject (with no subproject) and executing ./gradlew tasks runs fine."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1576428960,"post_id":59345736,"comment_id":104888361,"body_markdown":"I notice that you edited your question, but are still not using the correct code. Read my answer carefully.","body":"I notice that you edited your question, but are still not using the correct code. Read my answer carefully."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576428619,"creation_date":1576426765,"answer_id":59345736,"question_id":59339543,"body_markdown":"`publications` must be inside the `publishing` block. And you can&#39;t use `from components.java` since your project isn&#39;t a Java project, but a platform. So it should be\r\n\r\n    plugins {\r\n        id &#39;maven-publish&#39;\r\n        id &#39;java-platform&#39;\r\n    }\r\n    subprojects {\r\n        configurations {\r\n            deployerJars\r\n        }\r\n    \r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n    }\r\n    publishing {\r\n        publications {\r\n            myPlatform(MavenPublication) {\r\n                from components.javaPlatform\r\n            }\r\n        }\r\n    }","title":"Parent gradle module with java-platform plugin","body":"<p><code>publications</code> must be inside the <code>publishing</code> block. And you can't use <code>from components.java</code> since your project isn't a Java project, but a platform. So it should be</p>\n\n<pre><code>plugins {\n    id 'maven-publish'\n    id 'java-platform'\n}\nsubprojects {\n    configurations {\n        deployerJars\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n}\npublishing {\n    publications {\n        myPlatform(MavenPublication) {\n            from components.javaPlatform\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3044863,"reputation":958,"user_id":2580829,"display_name":"David Barda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59345736,"answer_count":1,"score":2,"last_activity_date":1681987308,"creation_date":1576360935,"question_id":59339543,"body_markdown":"I have the following build.gradle file:\r\n```\r\nplugins {\r\n    id &#39;maven-publish&#39;\r\n    id &#39;java-platform&#39;\r\n}\r\nsubprojects {\r\n    configurations {\r\n        deployerJars\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;java-library&#39;\r\n}\r\npublications {\r\n    myPlatform(MavenPublication) {\r\n        from components.javaPlatform\r\n    }\r\n    mavenJava(MavenPublication) {\r\n        from components.java\r\n    }\r\n}\r\n```\r\nAnd i&#39;m receiving that error:\r\n\r\n```&gt; Could not get unknown property &#39;javaPlatform&#39; for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.```\r\n\r\nCouldn&#39;t find any information about this error, and from what I understand from the [platform plugin page][1], you cannot set a project with &#39;java&#39; plugin a &#39;java-platform&#39; plugin, but this is not the case.\r\nI&#39;d appreciate some guidance here, thanks.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_platform_plugin.html","title":"Parent gradle module with java-platform plugin","body":"<p>I have the following build.gradle file:</p>\n<pre><code>plugins {\n    id 'maven-publish'\n    id 'java-platform'\n}\nsubprojects {\n    configurations {\n        deployerJars\n    }\n\n    apply plugin: 'java'\n    apply plugin: 'java-library'\n}\npublications {\n    myPlatform(MavenPublication) {\n        from components.javaPlatform\n    }\n    mavenJava(MavenPublication) {\n        from components.java\n    }\n}\n</code></pre>\n<p>And i'm receiving that error:</p>\n<p><code>&gt; Could not get unknown property 'javaPlatform' for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.</code></p>\n<p>Couldn't find any information about this error, and from what I understand from the <a href=\"https://docs.gradle.org/current/userguide/java_platform_plugin.html\" rel=\"nofollow noreferrer\">platform plugin page</a>, you cannot set a project with 'java' plugin a 'java-platform' plugin, but this is not the case.\nI'd appreciate some guidance here, thanks.</p>\n"},{"tags":["java","gradle","shadowjar"],"answers":[{"tags":[],"owner":{"account_id":8855961,"reputation":121,"user_id":7305670,"display_name":"ndr_brt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987300,"creation_date":1681987300,"answer_id":76063192,"question_id":71462281,"body_markdown":"In the shadow jar you&#39;ll find the `META-INF/maven` folder, there you&#39;ll find all the pom.xml files, each containing the dependency version.","title":"List dependencies that are going to be part of the (shadow) JAR file","body":"<p>In the shadow jar you'll find the <code>META-INF/maven</code> folder, there you'll find all the pom.xml files, each containing the dependency version.</p>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1973,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681987300,"creation_date":1647222858,"question_id":71462281,"body_markdown":"I&#39;m using the latest version (`7.1.2`) of the `ShadowJar` (Gradle) plugin to build the application&#39;s JAR. I&#39;m trying to exclude some dependencies from the resultant JAR, so I have configured the plugin like:\r\n\r\n```groovy\r\nimport com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\r\n\r\n...\r\n\r\ntasks.withType(ShadowJar) {\r\n  final def attributes = [\r\n    // ...all the attributes here\r\n  ]\r\n  dependencies {\r\n    // Dependencies that are already provided in the lib/ folder of Apache Flink\r\n    exclude(dependency(&quot;org.apache.flink:flink-clients_2.12&quot;))\r\n    exclude(dependency(&quot;org.apache.flink:flink-java&quot;))\r\n    exclude(dependency(&quot;org.apache.flink:flink-streaming-java_2.12&quot;))\r\n  }\r\n  manifest.attributes(attributes)\r\n  mergeServiceFiles()\r\n  minimize()\r\n  setZip64(true)\r\n}\r\n```\r\n\r\nIt&#39;s not clear to me what dependencies are actually begin excluded/included — when unzipping and visually analyzing the generated ZIP file(s). I&#39;ve been trying to compare the generated (ZIP) `-shadow` file with the one generated by the `distZip` task, but the `-shadow` one doesn&#39;t have a single JAR on it...only classes.\r\n\r\nSo I&#39;m wondering if there is a way to print the **effective group of dependencies** that are going to be part of the final JAR file.\r\n\r\n&gt; Based on the `ShadowJar`&#39;s [documentation][1], the default configuration is to merge all dependencies from the project&#39;s `runtimeClasspath`, but `./gradlew dependencies --configuration runtimeClasspath` doesn&#39;t account for the excluded ones.\r\n\r\n  [1]: https://imperceptiblethoughts.com/shadow/configuration/dependencies/#configuring-shadowed-dependencies","title":"List dependencies that are going to be part of the (shadow) JAR file","body":"<p>I'm using the latest version (<code>7.1.2</code>) of the <code>ShadowJar</code> (Gradle) plugin to build the application's JAR. I'm trying to exclude some dependencies from the resultant JAR, so I have configured the plugin like:</p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar\n\n...\n\ntasks.withType(ShadowJar) {\n  final def attributes = [\n    // ...all the attributes here\n  ]\n  dependencies {\n    // Dependencies that are already provided in the lib/ folder of Apache Flink\n    exclude(dependency(&quot;org.apache.flink:flink-clients_2.12&quot;))\n    exclude(dependency(&quot;org.apache.flink:flink-java&quot;))\n    exclude(dependency(&quot;org.apache.flink:flink-streaming-java_2.12&quot;))\n  }\n  manifest.attributes(attributes)\n  mergeServiceFiles()\n  minimize()\n  setZip64(true)\n}\n</code></pre>\n<p>It's not clear to me what dependencies are actually begin excluded/included — when unzipping and visually analyzing the generated ZIP file(s). I've been trying to compare the generated (ZIP) <code>-shadow</code> file with the one generated by the <code>distZip</code> task, but the <code>-shadow</code> one doesn't have a single JAR on it...only classes.</p>\n<p>So I'm wondering if there is a way to print the <strong>effective group of dependencies</strong> that are going to be part of the final JAR file.</p>\n<blockquote>\n<p>Based on the <code>ShadowJar</code>'s <a href=\"https://imperceptiblethoughts.com/shadow/configuration/dependencies/#configuring-shadowed-dependencies\" rel=\"nofollow noreferrer\">documentation</a>, the default configuration is to merge all dependencies from the project's <code>runtimeClasspath</code>, but <code>./gradlew dependencies --configuration runtimeClasspath</code> doesn't account for the excluded ones.</p>\n</blockquote>\n"},{"tags":["java","caching","wildfly","load-balancing","infinispan"],"comments":[{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1681986544,"post_id":76054209,"comment_id":134146207,"body_markdown":"This mentions the `NotSerializableException` error, but doesn&#39;t provide a solution. http://www.dataforte.net/listing/infinispan/generated-html/user_guide/user_guide.html","body":"This mentions the <code>NotSerializableException</code> error, but doesn&#39;t provide a solution. <a href=\"http://www.dataforte.net/listing/infinispan/generated-html/user_guide/user_guide.html\" rel=\"nofollow noreferrer\">dataforte.net/listing/infinispan/generated-html/user_guide/&hellip;</a>"},{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1681987030,"post_id":76054209,"comment_id":134146317,"body_markdown":"I would assume a fix would be to make the object concerned serializable. The reported error indicates that a `java.lang.Object` is not serializable. There is no indication which object.","body":"I would assume a fix would be to make the object concerned serializable. The reported error indicates that a <code>java.lang.Object</code> is not serializable. There is no indication which object."}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987276,"creation_date":1681905319,"question_id":76054209,"body_markdown":"I am using wildFly22 with Java11 and am trying to configure Infinispan cache.\r\n\r\n**distributable-web.xml**\r\n\r\n    &lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\r\n        &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\r\n            &lt;primary-owner-affinity/&gt;\r\n        &lt;/infinispan-session-management&gt;\r\n    &lt;/distributable-web&gt;\r\n\r\n**standalone-ha.xml**\r\n\r\n            &lt;cache-container name=&quot;web&quot; default-cache=&quot;passivation&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\r\n                &lt;local-cache name=&quot;corpapp-session-cache-web&quot;&gt;\r\n                    &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n                &lt;local-cache name=&quot;passivation&quot;&gt;\r\n                    &lt;expiration interval=&quot;0&quot;/&gt;\r\n                    &lt;file-store passivation=&quot;true&quot; purge=&quot;false&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n                &lt;local-cache name=&quot;sso&quot;&gt;\r\n                    &lt;expiration interval=&quot;0&quot;/&gt;\r\n                &lt;/local-cache&gt;\r\n            &lt;/cache-container&gt;\r\n\r\ne.g. if I set the marshaller to:\r\n\r\n    marshaller=&quot;PROTOSTREAM&quot;\r\n\r\nit gets this:\r\n\r\n    WARN  [org.infinispan.PERSISTENCE] (default task-2)\r\n    ISPN000559: Cannot marshall &#39;class org.infinispan.marshall.protostream.impl.MarshallableUserObject&#39;: java.io.NotSerializableException: java.lang.Object\r\n        at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990\r\n\r\ne.g. if I set the marshaller to:\r\n\r\n    marshaller=&quot;JBOSS&quot;\r\n\r\nit gets this:\r\n\r\n    ERROR [io.undertow.request] (default task-1) UT005023:\r\n    Exception handling request to /corporateInterface/login.do:\r\n    org.infinispan.persistence.spi.PersistenceException:\r\n    org.infinispan.commons.marshall.MarshallingException: org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey\r\n\r\n**More Info**\r\n\r\nHere is the stack trace:\r\n\r\n    WARN  [org.infinispan.PERSISTENCE] (default task-2) ISPN000559: Cannot marshall &#39;class org.infinispan.marshall.protostream.impl.MarshallableUserObject&#39;: java.io.NotSerializableException: java.lang.Object\r\n    \tat org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990)\r\n    \tat org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:217)\r\n    \tat org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\r\n    \tat ...\r\n    \tat org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\r\n    \tat org.wildfly.clustering.marshalling.jboss@25.0.0.Final//org.wildfly.clustering.marshalling.jboss.JBossByteBufferMarshaller.writeTo(JBossByteBufferMarshaller.java:92)\r\n    \tat org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.write(ByteBufferMarshaller.java:55)\r\n    \tat org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.getBuffer(ByteBufferMarshalledValue.java:68)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.FunctionalScalarMarshaller.writeTo(FunctionalScalarMarshaller.java:169)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamWriter.writeObjectNoTag(DefaultProtoStreamWriter.java:51)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamWriter.writeObject(ProtoStreamWriter.java:60)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.writeTo(TypedObjectMarshaller.java:60)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:76)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:36)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamMarshaller.write(ProtoStreamMarshaller.java:50)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.write(ProtobufUtil.java:70)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:75)\r\n    \tat org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.writeTo(ProtoStreamByteBufferMarshaller.java:94)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractUserMarshaller.writeObject(AbstractUserMarshaller.java:62)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:107)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:101)\r\n    \tat org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:76)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectToByteBuffer(DelegatingUserMarshaller.java:58)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:150)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:100)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.writeMessage(WrappedMessage.java:301)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.write(WrappedMessage.java:242)\r\n    \tat org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.toWrappedStream(ProtobufUtil.java:162)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToByteBuffer(AbstractInternalProtoStreamMarshaller.java:75)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToBuffer(AbstractInternalProtoStreamMarshaller.java:62)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.marshall(MarshallableEntryImpl.java:230)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.&lt;init&gt;(MarshallableEntryImpl.java:41)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshalledEntryFactoryImpl.create(MarshalledEntryFactoryImpl.java:65)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.persistence.spi.MarshallableEntryFactory.create(MarshallableEntryFactory.java:95)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.marshalledEntry(CacheWriterInterceptor.java:471)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:451)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:444)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.lambda$visitDataWriteCommandToStore$14(CacheWriterInterceptor.java:487)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:86)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitDataWriteCommandToStore(CacheWriterInterceptor.java:480)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPutKeyValueCommand(CacheWriterInterceptor.java:186)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:211)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:143)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:760)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:346)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:155)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$3(AbstractLockingInterceptor.java:318)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.SyncInvocationStage.andHandle(SyncInvocationStage.java:69)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:313)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:138)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:41)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:252)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:211)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:128)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:89)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.doInvoke(InvocationHelper.java:297)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:101)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:83)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1293)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:678)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:537)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:698)\r\n    \tat org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\r\n    \tat org.wildfly.clustering.ee.infinispan@25.0.0.Final//org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:59)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.close(CoarseSessionAttributes.java:99)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.CompositeSession.close(CompositeSession.java:77)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:88)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.closeSession(ConcurrentSessionManager.java:159)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:55)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:52)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:66)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:57)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1932)\r\n    \tat org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$3.run(ConcurrentManager.java:88)\r\n    \tat org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:190)\r\n    \tat org.wildfly.clustering.web.undertow@25.0.0.Final//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:120)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:987)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:211)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServletResponseWrapper.sendRedirect(HttpServletResponseWrapper.java:130)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.util.SecureRequestUtils.checkSsl(SecureRequestUtils.java:614)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.SecureTilesRequestProcessor.processPreprocess(SecureTilesRequestProcessor.java:104)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:182)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.process(ActionServlet.java:1962)\r\n    \tat deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:446)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\r\n    \tat javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    \tat io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:28)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:21)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.logging.LoggerFilter.doFilter(LoggerFilter.java:58)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.protection.InputProtectionFilter.doFilter(InputProtectionFilter.java:30)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.travelIT.admin.sessiontracker.LoggedInUsersFilter.doFilter(LoggedInUsersFilter.java:67)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.notes.filter.UpdateNotesFilter.doFilter(UpdateNotesFilter.java:75)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.debug.DebugFilter.doFilter(DebugFilter.java:41)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.compression.GZIPFilter.doFilter(GZIPFilter.java:28)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//corptravweb.security.TLJaasAdaptorFilter.doFilter(TLJaasAdaptorFilter.java:36)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    \tat org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n    \tat org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n    \tat org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    \tat org.wildfly.security.elytron-web.undertow-server-servlet@1.9.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n    \tat io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n    \tat io.undertow.core@2.2.12.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: an exception which occurred:\r\n    \tin object java.lang.Object@284f63da\r\n    \tin object java.util.HashMap@f6e39bcd\r\n    \tin object java.util.concurrent.ConcurrentHashMap@16d76032","title":"Infinispan cannot write cache to file - MarshallableUserObject - NotSerializableException","body":"<p>I am using wildFly22 with Java11 and am trying to configure Infinispan cache.</p>\n<p><strong>distributable-web.xml</strong></p>\n<pre><code>&lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\n    &lt;infinispan-session-management cache-container=&quot;web&quot; cache=&quot;corpapp-session-cache-web&quot; granularity=&quot;SESSION&quot;&gt;\n        &lt;primary-owner-affinity/&gt;\n    &lt;/infinispan-session-management&gt;\n&lt;/distributable-web&gt;\n</code></pre>\n<p><strong>standalone-ha.xml</strong></p>\n<pre><code>        &lt;cache-container name=&quot;web&quot; default-cache=&quot;passivation&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\n            &lt;local-cache name=&quot;corpapp-session-cache-web&quot;&gt;\n                &lt;file-store path=&quot;corpapp-cache&quot; passivation=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;/&gt;\n            &lt;/local-cache&gt;\n            &lt;local-cache name=&quot;passivation&quot;&gt;\n                &lt;expiration interval=&quot;0&quot;/&gt;\n                &lt;file-store passivation=&quot;true&quot; purge=&quot;false&quot;/&gt;\n            &lt;/local-cache&gt;\n            &lt;local-cache name=&quot;sso&quot;&gt;\n                &lt;expiration interval=&quot;0&quot;/&gt;\n            &lt;/local-cache&gt;\n        &lt;/cache-container&gt;\n</code></pre>\n<p>e.g. if I set the marshaller to:</p>\n<pre><code>marshaller=&quot;PROTOSTREAM&quot;\n</code></pre>\n<p>it gets this:</p>\n<pre><code>WARN  [org.infinispan.PERSISTENCE] (default task-2)\nISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: java.lang.Object\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990\n</code></pre>\n<p>e.g. if I set the marshaller to:</p>\n<pre><code>marshaller=&quot;JBOSS&quot;\n</code></pre>\n<p>it gets this:</p>\n<pre><code>ERROR [io.undertow.request] (default task-1) UT005023:\nException handling request to /corporateInterface/login.do:\norg.infinispan.persistence.spi.PersistenceException:\norg.infinispan.commons.marshall.MarshallingException: org.wildfly.clustering.web.infinispan.session.SessionAccessMetaDataKey\n</code></pre>\n<p><strong>More Info</strong></p>\n<p>Here is the stack trace:</p>\n<pre><code>WARN  [org.infinispan.PERSISTENCE] (default task-2) ISPN000559: Cannot marshall 'class org.infinispan.marshall.protostream.impl.MarshallableUserObject': java.io.NotSerializableException: java.lang.Object\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.writeKnownObject(RiverMarshaller.java:990)\n    at org.jboss.marshalling.river@2.0.12.Final//org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:217)\n    at org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:58)\n    at ...\n    at org.jboss.marshalling@2.0.12.Final//org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:111)\n    at org.wildfly.clustering.marshalling.jboss@25.0.0.Final//org.wildfly.clustering.marshalling.jboss.JBossByteBufferMarshaller.writeTo(JBossByteBufferMarshaller.java:92)\n    at org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshaller.write(ByteBufferMarshaller.java:55)\n    at org.wildfly.clustering.marshalling.spi@25.0.0.Final//org.wildfly.clustering.marshalling.spi.ByteBufferMarshalledValue.getBuffer(ByteBufferMarshalledValue.java:68)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.FunctionalScalarMarshaller.writeTo(FunctionalScalarMarshaller.java:169)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.DefaultProtoStreamWriter.writeObjectNoTag(DefaultProtoStreamWriter.java:51)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamWriter.writeObject(ProtoStreamWriter.java:60)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.TypedObjectMarshaller.writeTo(TypedObjectMarshaller.java:60)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:76)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.AnyMarshaller.writeTo(AnyMarshaller.java:36)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamMarshaller.write(ProtoStreamMarshaller.java:50)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.write(ProtobufUtil.java:70)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.writeTo(ProtobufUtil.java:75)\n    at org.wildfly.clustering.marshalling.protostream@25.0.0.Final//org.wildfly.clustering.marshalling.protostream.ProtoStreamByteBufferMarshaller.writeTo(ProtoStreamByteBufferMarshaller.java:94)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractUserMarshaller.writeObject(AbstractUserMarshaller.java:62)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:107)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:101)\n    at org.wildfly.clustering.infinispan.marshalling@25.0.0.Final//org.wildfly.clustering.infinispan.marshalling.AbstractMarshaller.objectToByteBuffer(AbstractMarshaller.java:76)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.core.impl.DelegatingUserMarshaller.objectToByteBuffer(DelegatingUserMarshaller.java:58)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:150)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.MarshallableUserObject$Marshaller.write(MarshallableUserObject.java:100)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.impl.ProtobufTagMarshallerDelegate.marshall(ProtobufTagMarshallerDelegate.java:27)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.writeMessage(WrappedMessage.java:301)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.WrappedMessage.write(WrappedMessage.java:242)\n    at org.infinispan.protostream@4.4.1.Final//org.infinispan.protostream.ProtobufUtil.toWrappedStream(ProtobufUtil.java:162)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToByteBuffer(AbstractInternalProtoStreamMarshaller.java:75)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.protostream.impl.AbstractInternalProtoStreamMarshaller.objectToBuffer(AbstractInternalProtoStreamMarshaller.java:62)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.marshall(MarshallableEntryImpl.java:230)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshallableEntryImpl.&lt;init&gt;(MarshallableEntryImpl.java:41)\n    at org.infinispan@12.1.7.Final//org.infinispan.marshall.persistence.impl.MarshalledEntryFactoryImpl.create(MarshalledEntryFactoryImpl.java:65)\n    at org.infinispan@12.1.7.Final//org.infinispan.persistence.spi.MarshallableEntryFactory.create(MarshallableEntryFactory.java:95)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.marshalledEntry(CacheWriterInterceptor.java:471)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:451)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.storeEntry(CacheWriterInterceptor.java:444)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.lambda$visitDataWriteCommandToStore$14(CacheWriterInterceptor.java:487)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextThenApply(BaseAsyncInterceptor.java:86)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitDataWriteCommandToStore(CacheWriterInterceptor.java:480)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheWriterInterceptor.visitPutKeyValueCommand(CacheWriterInterceptor.java:186)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:211)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheLoaderInterceptor.visitPutKeyValueCommand(CacheLoaderInterceptor.java:143)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.asyncInvokeNext(BaseAsyncInterceptor.java:232)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:760)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.EntryWrappingInterceptor.visitPutKeyValueCommand(EntryWrappingInterceptor.java:346)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndFinally(BaseAsyncInterceptor.java:155)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.lambda$nonTxLockAndInvokeNext$3(AbstractLockingInterceptor.java:318)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.SyncInvocationStage.andHandle(SyncInvocationStage.java:69)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.nonTxLockAndInvokeNext(AbstractLockingInterceptor.java:313)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitNonTxDataWriteCommand(AbstractLockingInterceptor.java:138)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.NonTransactionalLockingInterceptor.visitDataWriteCommand(NonTransactionalLockingInterceptor.java:41)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitPutKeyValueCommand(AbstractLockingInterceptor.java:82)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:252)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.CacheMgmtInterceptor.visitPutKeyValueCommand(CacheMgmtInterceptor.java:211)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNext(BaseAsyncInterceptor.java:59)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.handleDefault(DDAsyncInterceptor.java:55)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.DDAsyncInterceptor.visitPutKeyValueCommand(DDAsyncInterceptor.java:61)\n    at org.infinispan@12.1.7.Final//org.infinispan.commands.write.PutKeyValueCommand.acceptVisitor(PutKeyValueCommand.java:63)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.BaseAsyncInterceptor.invokeNextAndExceptionally(BaseAsyncInterceptor.java:128)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.InvocationContextInterceptor.visitCommand(InvocationContextInterceptor.java:89)\n    at org.infinispan@12.1.7.Final//org.infinispan.interceptors.impl.AsyncInterceptorChainImpl.invoke(AsyncInterceptorChainImpl.java:244)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.doInvoke(InvocationHelper.java:297)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:101)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.InvocationHelper.invoke(InvocationHelper.java:83)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.CacheImpl.put(CacheImpl.java:1293)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:678)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.DecoratedCache.put(DecoratedCache.java:537)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.EncoderCache.put(EncoderCache.java:698)\n    at org.infinispan@12.1.7.Final//org.infinispan.cache.impl.AbstractDelegatingCache.put(AbstractDelegatingCache.java:449)\n    at org.wildfly.clustering.ee.infinispan@25.0.0.Final//org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:59)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.coarse.CoarseSessionAttributes.close(CoarseSessionAttributes.java:99)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.CompositeSession.close(CompositeSession.java:77)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ValidSession.close(ValidSession.java:88)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.closeSession(ConcurrentSessionManager.java:159)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:55)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$1.accept(ConcurrentSessionManager.java:52)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:66)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$2.apply(ConcurrentManager.java:57)\n    at java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1932)\n    at org.wildfly.clustering.ee.cache@25.0.0.Final//org.wildfly.clustering.ee.cache.ConcurrentManager$3.run(ConcurrentManager.java:88)\n    at org.wildfly.clustering.web.cache@25.0.0.Final//org.wildfly.clustering.web.cache.session.ConcurrentSessionManager$ConcurrentSession.close(ConcurrentSessionManager.java:190)\n    at org.wildfly.clustering.web.undertow@25.0.0.Final//org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:120)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:987)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:590)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:211)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServletResponseWrapper.sendRedirect(HttpServletResponseWrapper.java:130)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.util.SecureRequestUtils.checkSsl(SecureRequestUtils.java:614)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.SecureTilesRequestProcessor.processPreprocess(SecureTilesRequestProcessor.java:104)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:182)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.process(ActionServlet.java:1962)\n    at deployment.corporateEar-3.10.ear//org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:446)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:503)\n    at javax.servlet.api@2.0.0.Final//javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.opentracing.contrib.opentracing-jaxrs2//io.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:52)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:28)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.cache.NoCacheFilter.doFilter(NoCacheFilter.java:21)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.logging.LoggerFilter.doFilter(LoggerFilter.java:58)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.protection.InputProtectionFilter.doFilter(InputProtectionFilter.java:30)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.travelIT.admin.sessiontracker.LoggedInUsersFilter.doFilter(LoggedInUsersFilter.java:67)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.notes.filter.UpdateNotesFilter.doFilter(UpdateNotesFilter.java:75)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//com.travellinck.debug.DebugFilter.doFilter(DebugFilter.java:41)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//application.configuration.compression.GZIPFilter.doFilter(GZIPFilter.java:28)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at deployment.corporateEar-3.10.ear.corporateInterface-3.10.war//corptravweb.security.TLJaasAdaptorFilter.doFilter(TLJaasAdaptorFilter.java:36)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@1.17.1.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.wildfly.security.elytron-web.undertow-server@1.9.1.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\n    at io.undertow.core@2.2.12.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at org.wildfly.security.elytron-web.undertow-server-servlet@1.9.1.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:280)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at org.wildfly.extension.undertow@25.0.0.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:260)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\n    at io.undertow.servlet@2.2.12.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n    at io.undertow.core@2.2.12.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.jboss.xnio@3.8.4.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: an exception which occurred:\n    in object java.lang.Object@284f63da\n    in object java.util.HashMap@f6e39bcd\n    in object java.util.concurrent.ConcurrentHashMap@16d76032\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","localdatetime"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674911062,"post_id":75267521,"comment_id":132817172,"body_markdown":"Show us the code that populates the object fields.","body":"Show us the code that populates the object fields."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1674911613,"post_id":75267521,"comment_id":132817258,"body_markdown":"I suggest you switch from `LocalDateTime` to `Instant` which is independent of a timezone.","body":"I suggest you switch from <code>LocalDateTime</code> to <code>Instant</code> which is independent of a timezone."}],"owner":{"account_id":12640843,"reputation":485,"user_id":9188403,"display_name":"S-Wing"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987216,"creation_date":1674907660,"question_id":75267521,"body_markdown":"I have a spring boot application that uses spring-boot-starter-data-mongodb (2.7.7) to link with a local mongodb (v6). I have two different classes (with a LocalDateTime property) that maps two different collections; my problem is that the LocalDateTime property of the two classes are saved like they come from different timezone in the rispective mongo collection.\r\n&lt;br&gt;&lt;br&gt;\r\n**First class/collection**&lt;br&gt; \r\n\r\nClass\r\n\r\n    @Document(&quot;CollectionOne&quot;)\r\n    public class ClassOne{\r\n\t@Id\r\n\tprivate String id;\r\n\tprivate LocalDateTime dataChiamata;\r\n\r\nRepo\r\n\r\n    public interface ClassOneRepo extends MongoRepository&lt;ClassOne, String&gt;{}\r\n\r\nSaving\r\n\r\n    classOneRepo.save(obj1);\r\n\r\nObj1.dataChiamata ( from debugger )\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nMongoDb CollectionOne:  exact same date of java &lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n**Second class/collection**&lt;br&gt; \r\n\r\nClass\r\n\r\n    @Document(&quot;CollectionTwo&quot;)\r\n    public class ClassTwo{\r\n    @Id\r\n    private String id;\r\n    private List&lt;LocalDateTime&gt; giorniLetti;\r\n\r\nRepo\r\n\r\n    public interface ClassTwoRepo extends MongoRepository&lt;ClassTwo, String&gt; {}\r\n\r\nSaving\r\n\r\n    classTwoRepo .save(obj2);\r\n\r\nObj2.giorniLetti.get(0) (from debugger) &lt;br&gt;\r\n[![enter image description here][3]][3]\r\n\r\nMondoDB CollectionTwo: one hour previous respect the java &lt;br&gt;\r\n\r\n[![enter image description here][4]][4]\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nI don&#39;t understand why the two dates are saved in a different way on the db although they are exactly the same java object; any suggestion?\r\n\r\n  [1]: https://i.stack.imgur.com/NqQJ6.png\r\n  [2]: https://i.stack.imgur.com/hbZYB.png\r\n  [3]: https://i.stack.imgur.com/XlvQm.png\r\n  [4]: https://i.stack.imgur.com/L1Eix.png","title":"Spring-data-mongodb save localdatetime with different time zone","body":"<p>I have a spring boot application that uses spring-boot-starter-data-mongodb (2.7.7) to link with a local mongodb (v6). I have two different classes (with a LocalDateTime property) that maps two different collections; my problem is that the LocalDateTime property of the two classes are saved like they come from different timezone in the rispective mongo collection.\n<br><br>\n<strong>First class/collection</strong><br></p>\n<p>Class</p>\n<pre><code>@Document(&quot;CollectionOne&quot;)\npublic class ClassOne{\n@Id\nprivate String id;\nprivate LocalDateTime dataChiamata;\n</code></pre>\n<p>Repo</p>\n<pre><code>public interface ClassOneRepo extends MongoRepository&lt;ClassOne, String&gt;{}\n</code></pre>\n<p>Saving</p>\n<pre><code>classOneRepo.save(obj1);\n</code></pre>\n<p>Obj1.dataChiamata ( from debugger )</p>\n<p><a href=\"https://i.stack.imgur.com/NqQJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqQJ6.png\" alt=\"enter image description here\" /></a></p>\n<p>MongoDb CollectionOne:  exact same date of java <br>\n<a href=\"https://i.stack.imgur.com/hbZYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hbZYB.png\" alt=\"enter image description here\" /></a></p>\n<p><br><br>\n<strong>Second class/collection</strong><br></p>\n<p>Class</p>\n<pre><code>@Document(&quot;CollectionTwo&quot;)\npublic class ClassTwo{\n@Id\nprivate String id;\nprivate List&lt;LocalDateTime&gt; giorniLetti;\n</code></pre>\n<p>Repo</p>\n<pre><code>public interface ClassTwoRepo extends MongoRepository&lt;ClassTwo, String&gt; {}\n</code></pre>\n<p>Saving</p>\n<pre><code>classTwoRepo .save(obj2);\n</code></pre>\n<p>Obj2.giorniLetti.get(0) (from debugger) <br>\n<a href=\"https://i.stack.imgur.com/XlvQm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XlvQm.png\" alt=\"enter image description here\" /></a></p>\n<p>MondoDB CollectionTwo: one hour previous respect the java <br></p>\n<p><a href=\"https://i.stack.imgur.com/L1Eix.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1Eix.png\" alt=\"enter image description here\" /></a></p>\n<p><br><br>\nI don't understand why the two dates are saved in a different way on the db although they are exactly the same java object; any suggestion?</p>\n"},{"tags":["java","mobile-ad-mediation","applovin"],"answers":[{"comments":[{"owner":{"account_id":11973189,"reputation":737,"user_id":8761120,"display_name":"Erselan Khan"},"score":0,"creation_date":1684536417,"post_id":76063177,"comment_id":134536778,"body_markdown":"not working in my case too","body":"not working in my case too"}],"tags":[],"owner":{"account_id":11450008,"reputation":1968,"user_id":8392648,"display_name":"S. Gissel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987193,"creation_date":1681987193,"answer_id":76063177,"question_id":75340013,"body_markdown":"You still must call **loadAd()** on the **MaxAdView** you create in this way:\r\n\r\n    MaxAdView adView = findViewById( R.id.ad_view );\r\n    adView.loadAd();\r\n\r\nDo this in the same class as you initialized your layout.xml.","title":"Max Applovin Banner Ad is not appearing a the bottom but on Design it&#39;s at the bottom","body":"<p>You still must call <strong>loadAd()</strong> on the <strong>MaxAdView</strong> you create in this way:</p>\n<pre><code>MaxAdView adView = findViewById( R.id.ad_view );\nadView.loadAd();\n</code></pre>\n<p>Do this in the same class as you initialized your layout.xml.</p>\n"}],"owner":{"account_id":14871848,"reputation":159,"user_id":12816936,"display_name":"agega"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681987193,"creation_date":1675451039,"question_id":75340013,"body_markdown":"My banner Ad is not appearing at the bottom when I run it on my app but on the Design section in android studio it appears at the bottom. \r\n\r\nBelow is my xml layout code:\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorThemeWhite&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;com.emiloancalculator.loanplanner.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;com.google.android.material.appbar.AppBarLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:elevation=&quot;0dp&quot;\r\n                android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n                &lt;RelativeLayout\r\n                    android:background=&quot;@color/colorMain&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n                    &lt;androidx.appcompat.widget.Toolbar\r\n                        android:id=&quot;@+id/toolbar&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;60dp&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        app:titleTextAppearance=&quot;@style/Title&quot;\r\n                        android:background=&quot;@color/colorMain&quot;\r\n                        app:title=&quot;@string/app_name&quot;\r\n                        android:elevation=&quot;0dp&quot;\r\n                        /&gt;\r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/favMenu&quot;\r\n                        android:backgroundTint=&quot;@color/colorWhite&quot;\r\n                        android:background=&quot;@drawable/ic_baseline_favorite_border_24&quot;\r\n                        android:layout_width=&quot;22dp&quot;\r\n                        android:layout_alignParentRight=&quot;true&quot;\r\n                        android:layout_margin=&quot;20dp&quot;\r\n                        android:layout_height=&quot;22dp&quot;/&gt;\r\n                &lt;/RelativeLayout&gt;\r\n    \r\n    \r\n                &lt;com.google.android.material.tabs.TabLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:id=&quot;@+id/tabLayout&quot;\r\n                    \r\n                    app:tabIndicatorColor=&quot;@color/colorWhite&quot;\r\n                    app:tabTextAppearance=&quot;@style/ForTabLayout&quot;\r\n                    app:tabTextColor=&quot;@color/colorWhite&quot;\r\n                    android:scrollbars=&quot;none&quot;\r\n                    android:elevation=&quot;0dp&quot;\r\n                    android:background=&quot;@color/colorMain&quot;\r\n                    android:orientation=&quot;horizontal&quot;&gt;\r\n                &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n    \r\n            &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n    \r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;50dp&quot;\r\n                android:id=&quot;@+id/viewPager&quot;/&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n    \r\n        &lt;com.applovin.mediation.ads.MaxAdView\r\n            maxads:adUnitId=&quot;deb0327b3f01cdb9&quot;\r\n            android:background=&quot;@color/banner_background_color&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:layout_height=&quot;@dimen/banner_height&quot; /&gt;\r\n    \r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n\r\nThis is an issue I have encountered with several apps... The others I have not posted  because they appear fully at the top but this app it displays the Banner ad at the top but I can only see a quarter of it. ","title":"Max Applovin Banner Ad is not appearing a the bottom but on Design it&#39;s at the bottom","body":"<p>My banner Ad is not appearing at the bottom when I run it on my app but on the Design section in android studio it appears at the bottom.</p>\n<p>Below is my xml layout code:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;@color/colorThemeWhite&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;com.emiloancalculator.loanplanner.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;com.google.android.material.appbar.AppBarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:elevation=&quot;0dp&quot;\n            android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n            &lt;RelativeLayout\n                android:background=&quot;@color/colorMain&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;&gt;\n                &lt;androidx.appcompat.widget.Toolbar\n                    android:id=&quot;@+id/toolbar&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;60dp&quot;\n                    android:gravity=&quot;center_vertical&quot;\n                    app:titleTextAppearance=&quot;@style/Title&quot;\n                    android:background=&quot;@color/colorMain&quot;\n                    app:title=&quot;@string/app_name&quot;\n                    android:elevation=&quot;0dp&quot;\n                    /&gt;\n                &lt;ImageView\n                    android:id=&quot;@+id/favMenu&quot;\n                    android:backgroundTint=&quot;@color/colorWhite&quot;\n                    android:background=&quot;@drawable/ic_baseline_favorite_border_24&quot;\n                    android:layout_width=&quot;22dp&quot;\n                    android:layout_alignParentRight=&quot;true&quot;\n                    android:layout_margin=&quot;20dp&quot;\n                    android:layout_height=&quot;22dp&quot;/&gt;\n            &lt;/RelativeLayout&gt;\n\n\n            &lt;com.google.android.material.tabs.TabLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:id=&quot;@+id/tabLayout&quot;\n                \n                app:tabIndicatorColor=&quot;@color/colorWhite&quot;\n                app:tabTextAppearance=&quot;@style/ForTabLayout&quot;\n                app:tabTextColor=&quot;@color/colorWhite&quot;\n                android:scrollbars=&quot;none&quot;\n                android:elevation=&quot;0dp&quot;\n                android:background=&quot;@color/colorMain&quot;\n                android:orientation=&quot;horizontal&quot;&gt;\n            &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;50dp&quot;\n            android:id=&quot;@+id/viewPager&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n    &lt;com.applovin.mediation.ads.MaxAdView\n        maxads:adUnitId=&quot;deb0327b3f01cdb9&quot;\n        android:background=&quot;@color/banner_background_color&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        android:layout_height=&quot;@dimen/banner_height&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>This is an issue I have encountered with several apps... The others I have not posted  because they appear fully at the top but this app it displays the Banner ad at the top but I can only see a quarter of it.</p>\n"},{"tags":["java","testing","jmeter","remote-server"],"answers":[{"comments":[{"owner":{"account_id":11234628,"reputation":27,"user_id":8241274,"display_name":"Cinthiya Singh"},"score":0,"creation_date":1681987934,"post_id":76063166,"comment_id":134146557,"body_markdown":"Thanks for your response, but please help me understand how can I check if master is able to access the default port 1099?","body":"Thanks for your response, but please help me understand how can I check if master is able to access the default port 1099?"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987126,"creation_date":1681987126,"answer_id":76063166,"question_id":76063051,"body_markdown":"JMeter master communicates with slave(s) via [RMI][1]\r\n\r\nIt meant that:\r\n\r\n - Master needs to be able to reach the slave to send the [.jmx test plan][2] \r\n - Slave needs to be able to connect to the master to send back [results and metrics][3]\r\n\r\nThe [RMI ports][4] which are used for the bi-directional communication need to be opened in your operating system [firewall][5]. By default slave listens for the incoming connections on port `1099` so start with checking whether it&#39;s open and reachable from the master. The error you&#39;re getting means that the master cannot establish RMI connection to the slave using the default port. \r\n\r\nFor receiving the metrics from the slave JMeter uses random ports. If you cannot open all ports you can specify the desired ones using `client.rmi.localport` property, JMeter will open up to 3 ports starting with the port you provide via the property. \r\n\r\nMore information:\r\n\r\n - [Configuring JMeter][6]\r\n - [Apache JMeter Properties Customization Guide][7]\r\n\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_remote_method_invocation\r\n  [2]: https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\r\n  [3]: https://jmeter.apache.org/usermanual/glossary.html\r\n  [4]: https://jmeter.apache.org/usermanual/properties_reference.html#remote\r\n  [5]: https://en.wikipedia.org/wiki/Firewall_(computing)\r\n  [6]: https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\r\n  [7]: https://www.blazemeter.com/blog/jmeter-properties-customization","title":"Jmeter : Running on remote machine fails Error: Error in NonGUIDriver java.lang.RuntimeException: Following remote engines could not be configured","body":"<p>JMeter master communicates with slave(s) via <a href=\"https://en.wikipedia.org/wiki/Java_remote_method_invocation\" rel=\"nofollow noreferrer\">RMI</a></p>\n<p>It meant that:</p>\n<ul>\n<li>Master needs to be able to reach the slave to send the <a href=\"https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\" rel=\"nofollow noreferrer\">.jmx test plan</a></li>\n<li>Slave needs to be able to connect to the master to send back <a href=\"https://jmeter.apache.org/usermanual/glossary.html\" rel=\"nofollow noreferrer\">results and metrics</a></li>\n</ul>\n<p>The <a href=\"https://jmeter.apache.org/usermanual/properties_reference.html#remote\" rel=\"nofollow noreferrer\">RMI ports</a> which are used for the bi-directional communication need to be opened in your operating system <a href=\"https://en.wikipedia.org/wiki/Firewall_(computing)\" rel=\"nofollow noreferrer\">firewall</a>. By default slave listens for the incoming connections on port <code>1099</code> so start with checking whether it's open and reachable from the master. The error you're getting means that the master cannot establish RMI connection to the slave using the default port.</p>\n<p>For receiving the metrics from the slave JMeter uses random ports. If you cannot open all ports you can specify the desired ones using <code>client.rmi.localport</code> property, JMeter will open up to 3 ports starting with the port you provide via the property.</p>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://jmeter.apache.org/usermanual/get-started.html#configuring_jmeter\" rel=\"nofollow noreferrer\">Configuring JMeter</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-properties-customization\" rel=\"nofollow noreferrer\">Apache JMeter Properties Customization Guide</a></li>\n</ul>\n"}],"owner":{"account_id":11234628,"reputation":27,"user_id":8241274,"display_name":"Cinthiya Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681987126,"creation_date":1681986290,"question_id":76063051,"body_markdown":"I want to test basic functionality of running a Jmeter test on Remote System\r\nI have done the following :\r\n1. Same version of java on both machines\r\n2. Same subnetwork for both machines\r\n3. Set up Test of Host Jmeter\r\n4. create RMI keystore at host system and also add same file to client system\r\n5. add client IP address to remote_host variable in the jmeter properties file\r\n6. start jmeter server at client end\r\n7. Run the test in both GUI and Non GUI mode alternatively still same error is persistent\r\n\r\n[![The below is error when running on non - GUI mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cU9JT.png\r\n\r\n\r\nPlease suggest me what else shall be done, and if I have done something wrong let me know","title":"Jmeter : Running on remote machine fails Error: Error in NonGUIDriver java.lang.RuntimeException: Following remote engines could not be configured","body":"<p>I want to test basic functionality of running a Jmeter test on Remote System\nI have done the following :</p>\n<ol>\n<li>Same version of java on both machines</li>\n<li>Same subnetwork for both machines</li>\n<li>Set up Test of Host Jmeter</li>\n<li>create RMI keystore at host system and also add same file to client system</li>\n<li>add client IP address to remote_host variable in the jmeter properties file</li>\n<li>start jmeter server at client end</li>\n<li>Run the test in both GUI and Non GUI mode alternatively still same error is persistent</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cU9JT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cU9JT.png\" alt=\"The below is error when running on non - GUI mode\" /></a></p>\n<p>Please suggest me what else shall be done, and if I have done something wrong let me know</p>\n"},{"tags":["java","android","drag-and-drop","scrollview","viewgroup"],"owner":{"account_id":28148422,"reputation":1,"user_id":21510389,"display_name":"Sven Lueck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987045,"creation_date":1681987045,"question_id":76063156,"body_markdown":"i want to drag and position a child in my Viewgroup. While dragging and scrolling my child shoud stay at top or bottom but i cant figure out how to do that.\r\n\r\nXml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nandroid:id=&quot;@+id/scrollView&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    &gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n\r\n    tools:context=&quot;.ui.slideshow.SlideshowFragment&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n   &gt;\r\n\r\n    &lt;CalendarView\r\n        android:id=&quot;@+id/calender_slideshow&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/blue_grey&quot;\r\n\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n        &lt;de.littles.recipes.DaylyNotesLayout\r\n            android:id=&quot;@+id/daylynotes&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\napp:layout_constraintTop_toBottomOf=&quot;@id/calender_slideshow&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n\r\n        &lt;/de.littles.recipes.DaylyNotesLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\n My custom viewgroup\r\n\r\n```\r\npublic class DaylyNotesLayout extends ViewGroup implements View.OnTouchListener, View.OnLongClickListener{\r\n    private List&lt;DayScheduleData&gt; dayScheduleData = new ArrayList&lt;&gt;();\r\n    int deviceWidth, deviceHeight;\r\n    float dX;\r\n    float dY;\r\n    int lastAction;\r\n    Point deviceDisplay = new Point();\r\n    private final int columnHeight = 115;\r\n\r\n    public DaylyNotesLayout(Context context) {\r\n        super(context);\r\n        init(context);\r\n      \r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(context);\r\n\r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init(context);\r\n\r\n    }\r\n\r\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n        super(context, attrs, defStyleAttr, defStyleRes);\r\n        init(context);\r\n\r\n    }\r\n\r\n    private void init(Context context) {\r\n        final Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n\r\n        display.getSize(deviceDisplay);\r\n        deviceWidth = deviceDisplay.x;\r\n        deviceHeight = deviceDisplay.y;\r\n    }\r\n\r\n    public void clear() {\r\n\r\n        dayScheduleData.clear();\r\n        super.removeAllViews();\r\n\r\n    }\r\n\r\n    public void addNewView(View child, int startTime, int length) {\r\n        DayScheduleData childViewData = new DayScheduleData(child.getTag().toString(), startTime, length);\r\n        dayScheduleData.add(childViewData);\r\n        child.setOnTouchListener(this);\r\n\r\n        super.addView(child);\r\n    }\r\n\r\n    @Override\r\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n        final int count = getChildCount();\r\n        int curHeight, curLeft, curTop, maxHeight;\r\n        int childLeft = this.getPaddingLeft() + 80;\r\n        int childTop = this.getPaddingTop();\r\n        int childRight = this.getMeasuredWidth() - 20;\r\n        int childBottom;\r\n        int childWidth = childRight;\r\n        int childHeight;\r\n        maxHeight = 0;\r\n        int height = 0;\r\n        for (int x = 0; x &lt; count; x++) {\r\n            View child = getChildAt(x);\r\n            int start = dayScheduleData.get(x).getStartTime();\r\n            curTop = start * columnHeight - (height * columnHeight);\r\n            height = dayScheduleData.get(x).getLength();\r\n            childBottom = childTop + (columnHeight * height) + this.getPaddingBottom();\r\n            childHeight = childBottom - childTop;\r\n            if (child.getVisibility() == GONE) {\r\n                return;\r\n            }\r\n            child.measure(MeasureSpec.makeMeasureSpec(childWidth, MeasureSpec.AT_MOST), MeasureSpec.makeMeasureSpec(childHeight - 5, MeasureSpec.EXACTLY));\r\n\r\n            curHeight = childHeight;\r\n\r\n            curLeft = childLeft;\r\n            curTop += maxHeight;\r\n            maxHeight = 0;\r\n\r\n            child.layout(curLeft, curTop + 10, childRight, curTop + curHeight - 10);\r\n            if (maxHeight &lt; curHeight) {\r\n                maxHeight = curHeight;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n        int count = getChildCount();\r\n        int maxHeight = columnHeight * 24;\r\n        int maxWidth = 0;\r\n        int childState = 0;\r\n        int mLeftWidth = 0;\r\n        int rowCount = 0;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            final View child = getChildAt(i);\r\n\r\n            if (child.getVisibility() == GONE) {\r\n                continue;\r\n            }\r\n            measureChild(child, widthMeasureSpec, heightMeasureSpec);\r\n            maxWidth += Math.max(maxWidth, child.getMeasuredWidth());\r\n            mLeftWidth += child.getMeasuredWidth();\r\n            if ((mLeftWidth / deviceWidth) &gt; rowCount) {\r\n\r\n                rowCount++;\r\n            } else {\r\n                maxHeight = Math.max(maxHeight, child.getMeasuredHeight());\r\n            }\r\n            childState = combineMeasuredStates(childState, child.getMeasuredState());\r\n\r\n        }\r\n        maxHeight = Math.max(maxHeight, getSuggestedMinimumHeight());\r\n        maxWidth = Math.max(maxWidth, getSuggestedMinimumWidth());\r\n        setMeasuredDimension(resolveSizeAndState(maxWidth, widthMeasureSpec, childState),\r\n                resolveSizeAndState(maxHeight, heightMeasureSpec, childState &lt;&lt; MEASURED_HEIGHT_STATE_SHIFT));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        final float height = columnHeight;\r\n        Paint paint = new Paint();\r\n        paint.setColor(Color.BLACK);\r\n        TextPaint textPaint = new TextPaint();\r\n        textPaint.setColor(Color.BLACK);\r\n        textPaint.setTextSize(24);\r\n        textPaint.setAntiAlias(true);\r\n        for (int x = 0; x &lt; 24; x++) {\r\n            paint.setStrokeWidth(2f);\r\n            paint.setAlpha(255);\r\n            if (x &lt; 10) {\r\n                canvas.drawText(&quot;0&quot; + x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\r\n            } else {\r\n                canvas.drawText(x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\r\n            }\r\n            canvas.drawLine(0, x * height, getMeasuredWidth(), x * height, paint);\r\n\r\n            paint.setStrokeWidth(2f);\r\n            paint.setAlpha(50);\r\n            canvas.drawLine(0, x * height + (height / 2), getMeasuredWidth(), x * height + (height / 2), paint);\r\n\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent event) {\r\n\r\n        switch (event.getActionMasked()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                dX = view.getX() - event.getRawX();\r\n                dY = view.getY() - event.getRawY();\r\n                lastAction = MotionEvent.ACTION_DOWN;\r\n                break;\r\n\r\n            case MotionEvent.ACTION_MOVE:\r\n                ScrollView mainScrollView = getRootView().findViewById(R.id.scrollView);\r\n                int dragTop = (int) (event.getRawY() - view.getHeight()/2);\r\n                int dragBottom= (int) (event.getRawY() + view.getHeight()/2);\r\n                int scrollY =mainScrollView.getScrollY();\r\n                int scrollViewHeight = mainScrollView.getMeasuredHeight();\r\n                Log.d(&quot;RawPos &quot;,  &quot;&quot; + event.getRawY());\r\n                Log.d(&quot;ScrollY&quot;, scrollY + &quot;&quot;);\r\n\r\n                mainScrollView.requestDisallowInterceptTouchEvent(true);\r\n\r\n                if (dragBottom &gt;  (scrollViewHeight -100)) {\r\n\r\n                    mainScrollView.smoothScrollBy(0, 30);\r\n                }\r\n                if (dragTop&lt; (200)) {\r\n\r\n                    mainScrollView.smoothScrollBy(0, -30);\r\n\r\n                }\r\n\r\n                    view.setY(event.getRawY() + dY);\r\n\r\n\r\n                lastAction = MotionEvent.ACTION_MOVE;\r\n                break;\r\n\r\n            case MotionEvent.ACTION_UP:\r\n\r\n                view.setY((Math.round(view.getY() / columnHeight) * columnHeight) + 10);\r\n\r\n                if (lastAction == MotionEvent.ACTION_DOWN)\r\n\r\n                    break;\r\n\r\n            default:\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onLongClick(View v) {\r\n\r\n        return true;\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nTried to set the child pos to top/bottom of viewgroup, adding smootscroll&#39;s value as offset and looked at scrollY and measuredheight, but i cant figure out how to get the correct values.  ","title":"Android scroll and drag child in custom Viewgroup inside scrollview","body":"<p>i want to drag and position a child in my Viewgroup. While dragging and scrolling my child shoud stay at top or bottom but i cant figure out how to do that.</p>\n<p>Xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/scrollView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    &gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n\n    tools:context=&quot;.ui.slideshow.SlideshowFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n   &gt;\n\n    &lt;CalendarView\n        android:id=&quot;@+id/calender_slideshow&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/blue_grey&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n        &lt;de.littles.recipes.DaylyNotesLayout\n            android:id=&quot;@+id/daylynotes&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@color/white&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\napp:layout_constraintTop_toBottomOf=&quot;@id/calender_slideshow&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n\n        &lt;/de.littles.recipes.DaylyNotesLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>My custom viewgroup</p>\n<pre><code>public class DaylyNotesLayout extends ViewGroup implements View.OnTouchListener, View.OnLongClickListener{\n    private List&lt;DayScheduleData&gt; dayScheduleData = new ArrayList&lt;&gt;();\n    int deviceWidth, deviceHeight;\n    float dX;\n    float dY;\n    int lastAction;\n    Point deviceDisplay = new Point();\n    private final int columnHeight = 115;\n\n    public DaylyNotesLayout(Context context) {\n        super(context);\n        init(context);\n      \n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context);\n\n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context);\n\n    }\n\n    public DaylyNotesLayout(Context context, AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        init(context);\n\n    }\n\n    private void init(Context context) {\n        final Display display = ((WindowManager) context.getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\n\n        display.getSize(deviceDisplay);\n        deviceWidth = deviceDisplay.x;\n        deviceHeight = deviceDisplay.y;\n    }\n\n    public void clear() {\n\n        dayScheduleData.clear();\n        super.removeAllViews();\n\n    }\n\n    public void addNewView(View child, int startTime, int length) {\n        DayScheduleData childViewData = new DayScheduleData(child.getTag().toString(), startTime, length);\n        dayScheduleData.add(childViewData);\n        child.setOnTouchListener(this);\n\n        super.addView(child);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        final int count = getChildCount();\n        int curHeight, curLeft, curTop, maxHeight;\n        int childLeft = this.getPaddingLeft() + 80;\n        int childTop = this.getPaddingTop();\n        int childRight = this.getMeasuredWidth() - 20;\n        int childBottom;\n        int childWidth = childRight;\n        int childHeight;\n        maxHeight = 0;\n        int height = 0;\n        for (int x = 0; x &lt; count; x++) {\n            View child = getChildAt(x);\n            int start = dayScheduleData.get(x).getStartTime();\n            curTop = start * columnHeight - (height * columnHeight);\n            height = dayScheduleData.get(x).getLength();\n            childBottom = childTop + (columnHeight * height) + this.getPaddingBottom();\n            childHeight = childBottom - childTop;\n            if (child.getVisibility() == GONE) {\n                return;\n            }\n            child.measure(MeasureSpec.makeMeasureSpec(childWidth, MeasureSpec.AT_MOST), MeasureSpec.makeMeasureSpec(childHeight - 5, MeasureSpec.EXACTLY));\n\n            curHeight = childHeight;\n\n            curLeft = childLeft;\n            curTop += maxHeight;\n            maxHeight = 0;\n\n            child.layout(curLeft, curTop + 10, childRight, curTop + curHeight - 10);\n            if (maxHeight &lt; curHeight) {\n                maxHeight = curHeight;\n            }\n\n        }\n\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        int count = getChildCount();\n        int maxHeight = columnHeight * 24;\n        int maxWidth = 0;\n        int childState = 0;\n        int mLeftWidth = 0;\n        int rowCount = 0;\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n\n            if (child.getVisibility() == GONE) {\n                continue;\n            }\n            measureChild(child, widthMeasureSpec, heightMeasureSpec);\n            maxWidth += Math.max(maxWidth, child.getMeasuredWidth());\n            mLeftWidth += child.getMeasuredWidth();\n            if ((mLeftWidth / deviceWidth) &gt; rowCount) {\n\n                rowCount++;\n            } else {\n                maxHeight = Math.max(maxHeight, child.getMeasuredHeight());\n            }\n            childState = combineMeasuredStates(childState, child.getMeasuredState());\n\n        }\n        maxHeight = Math.max(maxHeight, getSuggestedMinimumHeight());\n        maxWidth = Math.max(maxWidth, getSuggestedMinimumWidth());\n        setMeasuredDimension(resolveSizeAndState(maxWidth, widthMeasureSpec, childState),\n                resolveSizeAndState(maxHeight, heightMeasureSpec, childState &lt;&lt; MEASURED_HEIGHT_STATE_SHIFT));\n\n\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        final float height = columnHeight;\n        Paint paint = new Paint();\n        paint.setColor(Color.BLACK);\n        TextPaint textPaint = new TextPaint();\n        textPaint.setColor(Color.BLACK);\n        textPaint.setTextSize(24);\n        textPaint.setAntiAlias(true);\n        for (int x = 0; x &lt; 24; x++) {\n            paint.setStrokeWidth(2f);\n            paint.setAlpha(255);\n            if (x &lt; 10) {\n                canvas.drawText(&quot;0&quot; + x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\n            } else {\n                canvas.drawText(x + &quot;:00&quot;, 10, x * height + textPaint.getTextSize(), textPaint);\n            }\n            canvas.drawLine(0, x * height, getMeasuredWidth(), x * height, paint);\n\n            paint.setStrokeWidth(2f);\n            paint.setAlpha(50);\n            canvas.drawLine(0, x * height + (height / 2), getMeasuredWidth(), x * height + (height / 2), paint);\n\n        }\n    }\n\n\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n\n        switch (event.getActionMasked()) {\n            case MotionEvent.ACTION_DOWN:\n                dX = view.getX() - event.getRawX();\n                dY = view.getY() - event.getRawY();\n                lastAction = MotionEvent.ACTION_DOWN;\n                break;\n\n            case MotionEvent.ACTION_MOVE:\n                ScrollView mainScrollView = getRootView().findViewById(R.id.scrollView);\n                int dragTop = (int) (event.getRawY() - view.getHeight()/2);\n                int dragBottom= (int) (event.getRawY() + view.getHeight()/2);\n                int scrollY =mainScrollView.getScrollY();\n                int scrollViewHeight = mainScrollView.getMeasuredHeight();\n                Log.d(&quot;RawPos &quot;,  &quot;&quot; + event.getRawY());\n                Log.d(&quot;ScrollY&quot;, scrollY + &quot;&quot;);\n\n                mainScrollView.requestDisallowInterceptTouchEvent(true);\n\n                if (dragBottom &gt;  (scrollViewHeight -100)) {\n\n                    mainScrollView.smoothScrollBy(0, 30);\n                }\n                if (dragTop&lt; (200)) {\n\n                    mainScrollView.smoothScrollBy(0, -30);\n\n                }\n\n                    view.setY(event.getRawY() + dY);\n\n\n                lastAction = MotionEvent.ACTION_MOVE;\n                break;\n\n            case MotionEvent.ACTION_UP:\n\n                view.setY((Math.round(view.getY() / columnHeight) * columnHeight) + 10);\n\n                if (lastAction == MotionEvent.ACTION_DOWN)\n\n                    break;\n\n            default:\n                return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean onLongClick(View v) {\n\n        return true;\n    }\n    \n}\n\n</code></pre>\n<p>Tried to set the child pos to top/bottom of viewgroup, adding smootscroll's value as offset and looked at scrollY and measuredheight, but i cant figure out how to get the correct values.</p>\n"},{"tags":["java","rule-engine"],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681987005,"creation_date":1681987005,"question_id":76063151,"body_markdown":"I followed the installation guide (http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf). I have a working webstudio where I could create a project, deploy it to production etc.\r\n\r\nHowever, when I access the webservice app (on the same host, same tomcat), I only get this message: &#39;There are no available services&#39;\r\n\r\nI tried from the demo(http://demo.openl-tablets.org/webstudio/) Example 2 - Corporate Rating deployment, It is showing in the demo web service (https://demo.openl-tablets.org/webservice/).\r\n\r\nBut when I try the same from local, my local web service is only showing &quot;There are no available services&quot;.","title":"OpenL Tablets Rule Services is showing &quot;There are no available services&quot; after deploying from the web studio","body":"<p>I followed the installation guide (<a href=\"http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf\" rel=\"nofollow noreferrer\">http://openl-tablets.org/files/openl-tablets/5.17.0/OpenL%20Tablets%20-%20Installation%20Guide.pdf</a>). I have a working webstudio where I could create a project, deploy it to production etc.</p>\n<p>However, when I access the webservice app (on the same host, same tomcat), I only get this message: 'There are no available services'</p>\n<p>I tried from the demo(<a href=\"http://demo.openl-tablets.org/webstudio/\" rel=\"nofollow noreferrer\">http://demo.openl-tablets.org/webstudio/</a>) Example 2 - Corporate Rating deployment, It is showing in the demo web service (<a href=\"https://demo.openl-tablets.org/webservice/\" rel=\"nofollow noreferrer\">https://demo.openl-tablets.org/webservice/</a>).</p>\n<p>But when I try the same from local, my local web service is only showing &quot;There are no available services&quot;.</p>\n"},{"tags":["java","android","jar","android-source","android.mk"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1682156660,"post_id":76063095,"comment_id":134173454,"body_markdown":"Did the repo sync complete properly? Here it looks vold is screaming missing system/libsysprop.","body":"Did the repo sync complete properly? Here it looks vold is screaming missing system/libsysprop."},{"owner":{"account_id":18044313,"reputation":5,"user_id":13115699,"display_name":"Shreyas R"},"score":0,"creation_date":1682320835,"post_id":76063095,"comment_id":134190547,"body_markdown":"Hi @RajatGupta, yes repo sync completed successfully. And I was also able to create a PKG with AOSP full source code.","body":"Hi @RajatGupta, yes repo sync completed successfully. And I was also able to create a PKG with AOSP full source code."}],"owner":{"account_id":18044313,"reputation":5,"user_id":13115699,"display_name":"Shreyas R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986957,"creation_date":1681986614,"question_id":76063095,"body_markdown":"I am looking for a way to build a static jar library from my below definition in Android.bp. I am using Android-12 OS.\r\n\r\n    // Define the module type\r\n    java_library_static {\r\n        name: &quot;com.example.foo.player&quot;,\r\n        srcs: [\r\n            &quot;src/com/example/foo/player/**/*.java&quot;,\r\n        ],\r\n    }\r\n\r\nWith this definition, when I try to build the jar file using AOSP project source code, I am getting the below errors. \r\n\r\n    error: system/vold/Android.bp:106:1: dependency &quot;libsysprop-vendor&quot; of &quot;libvold&quot; missing variant:\r\n    os:android,image:,arch:arm_armv7-a-neon,sdk:,link:static\r\n    available variants:\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:static\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\r\n    os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:static\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\r\n    os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\r\n    15:50:30 soong bootstrap failed with: exit status 1\r\n\r\nCan someone share any solutions for these, if faced them earlier? I appreciate the help.","title":"Getting errors with Android.bp when trying to build a static java library","body":"<p>I am looking for a way to build a static jar library from my below definition in Android.bp. I am using Android-12 OS.</p>\n<pre><code>// Define the module type\njava_library_static {\n    name: &quot;com.example.foo.player&quot;,\n    srcs: [\n        &quot;src/com/example/foo/player/**/*.java&quot;,\n    ],\n}\n</code></pre>\n<p>With this definition, when I try to build the jar file using AOSP project source code, I am getting the below errors.</p>\n<pre><code>error: system/vold/Android.bp:106:1: dependency &quot;libsysprop-vendor&quot; of &quot;libvold&quot; missing variant:\nos:android,image:,arch:arm_armv7-a-neon,sdk:,link:static\navailable variants:\nos:android,image:vendor.31,arch:arm_armv7-a-neon (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:static\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\nos:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:vendor.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk: (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:static\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:\nos:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:latest (alias to os:android,image:product.31,arch:arm_armv7-a-neon,sdk:,link:shared,version:)\n15:50:30 soong bootstrap failed with: exit status 1\n</code></pre>\n<p>Can someone share any solutions for these, if faced them earlier? I appreciate the help.</p>\n"},{"tags":["java","spring-boot","concurrency","reactive-programming","completable-future"],"owner":{"account_id":14474109,"reputation":1,"user_id":10455169,"display_name":"Rizwan Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986347,"creation_date":1681986245,"question_id":76063045,"body_markdown":"I am generating excel file and giving it to UI. Excel file contains data from two third party apis. First third party call will return list of data and then I have compare this data from database table and after comparing I need to call second third party api\r\nso second third party api is called each time based on data return from first third party call\r\nlike 100 records return from first third party call then second third party call 100 times.\r\nHow can I use concurrency in this because tasks are dependent \r\n\r\nI have controller.java file which call service method and return excel file as a response and UI is downloading\r\n\r\nController.java\r\n----------------------------------------------------------------------------\r\n\r\n    @GetMapping(&quot;/api/report&quot;)\r\n    public ResponseEntity &lt; InputStreamResource &gt; generateReport(\r\n        @ApiParam(&quot;fromDate&quot;) @RequestParam(value = &quot;fromDate&quot;, required = false) String fromDate,\r\n        @ApiParam(&quot;toDate&quot;) @RequestParam(value = &quot;toDate&quot;, required = false) String toDate) throws Exception {\r\n        InputStreamResource isr = null;\r\n        ByteArrayInputStream\r\n        export = null;\r\n        if (StringUtils.isBlank(fromDate) || StringUtils.isBlank(toDate)) {\r\n            throw new Exception(HttpStatus.BAD_REQUEST.value(), &quot;from date and to date is required&quot;);\r\n        }\r\n        List &lt; DateRange &gt; dateRangeList = convertToListOfDateRangeObj(fromDate, toDate);\r\n        export = service.generateReport(dateRangeList);\r\n        isr = new InputStreamResource(\r\n            export);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;Report.xls&quot;);\r\n        return ResponseEntity.ok().headers(headers).body(isr);\r\n    }\r\n\r\nService.java\r\n----------------------------------------------------------------------------\r\n\r\n    `  public ByteArrayInputStream generateReport(List &lt; DateRange &gt; dateRangeList)\r\n          throws ParseException, IOException, HttpStatusCodeException, JSONException {\r\n              List &lt;ExcelData&gt; reportData = new ArrayList &lt; &gt; ();\r\n              List &lt;ExcelData&gt; finalReportData = new ArrayList &lt; &gt; ();\r\n              for (DateRange dateRange: dateRangeList) {\r\n                  reportData = getData(dateRange.getFromDate(), dateRange.getToDate());\r\n                  finalReportData.addAll(reportData);\r\n              }\r\n              //logic to generate excel (Apache POI) using data available in finalReportData list\r\n              ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n              workbook.write(outputStream);\r\n              return new ByteArrayInputStream(outputStream.toByteArray());\r\n     }`\r\n      private List &lt;ExcelData&gt; getData(String from, String to)\r\n          throws HttpStatusCodeException, UnsupportedEncodingException, JsonProcessingException, JSONException {\r\n              List &lt;Excel&gt; excelDataList = new ArrayList &lt; &gt; ();\r\n              List &lt;ResponseData&gt; dataDetails = new ArrayList &lt; &gt; ();\r\n              ResponseData list = firstThirdpartyCall(from, to, null);\r\n    \r\n              for (ResponseData data: list.getData()) {\r\n                  dataDetails.add(data);\r\n              }\r\n    \r\n              dataDetails = dataDetails.stream()\r\n                  .filter(s - &gt; s.getName().indexOf(&quot;EA&quot;) == 0 || s.getName().indexOf(&quot;EE&quot;) == 0)\r\n                  .collect(Collectors.toList());\r\n    \r\n              List &lt; String &gt; matchingRecords = getMatchingRecordFromDB(\r\n                  dataDetails.stream().map(s - &gt; s.getName()).collect(Collectors.toList()));\r\n    \r\n              dataDetails = dataDetails.stream().filter(s - &gt; matchingRecords.contains(s.getName()))\r\n                  .collect(Collectors.toList());\r\n    \r\n              for (int i = 0; i &lt; dataDetails.size(); i++) {\r\n                  Info usersObj = secondThirdpartyCall(dataDetails.get(i).getId());\r\n                  //further process like database calls business logic on usersObj\r\n              }\r\n              //After process, populating List&lt;ExcelData&gt; and returning\r\n              return excelDataList;\r\n          }\r\n\r\nI also tried completable future, but other threads like restcall is working in background and main thread give response as empty excel file because data is still been process in other threads So I am not getting the output . I need to bring the response time of my api to few sec.\r\n\r\nAny help will be  appreciated\r\nThanks","title":"How to achieve Async nonblocking call for dependent task in java springboot","body":"<p>I am generating excel file and giving it to UI. Excel file contains data from two third party apis. First third party call will return list of data and then I have compare this data from database table and after comparing I need to call second third party api\nso second third party api is called each time based on data return from first third party call\nlike 100 records return from first third party call then second third party call 100 times.\nHow can I use concurrency in this because tasks are dependent</p>\n<p>I have controller.java file which call service method and return excel file as a response and UI is downloading</p>\n<h2>Controller.java</h2>\n<pre><code>@GetMapping(&quot;/api/report&quot;)\npublic ResponseEntity &lt; InputStreamResource &gt; generateReport(\n    @ApiParam(&quot;fromDate&quot;) @RequestParam(value = &quot;fromDate&quot;, required = false) String fromDate,\n    @ApiParam(&quot;toDate&quot;) @RequestParam(value = &quot;toDate&quot;, required = false) String toDate) throws Exception {\n    InputStreamResource isr = null;\n    ByteArrayInputStream\n    export = null;\n    if (StringUtils.isBlank(fromDate) || StringUtils.isBlank(toDate)) {\n        throw new Exception(HttpStatus.BAD_REQUEST.value(), &quot;from date and to date is required&quot;);\n    }\n    List &lt; DateRange &gt; dateRangeList = convertToListOfDateRangeObj(fromDate, toDate);\n    export = service.generateReport(dateRangeList);\n    isr = new InputStreamResource(\n        export);\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n    headers.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + &quot;Report.xls&quot;);\n    return ResponseEntity.ok().headers(headers).body(isr);\n}\n</code></pre>\n<h2>Service.java</h2>\n<pre><code>`  public ByteArrayInputStream generateReport(List &lt; DateRange &gt; dateRangeList)\n      throws ParseException, IOException, HttpStatusCodeException, JSONException {\n          List &lt;ExcelData&gt; reportData = new ArrayList &lt; &gt; ();\n          List &lt;ExcelData&gt; finalReportData = new ArrayList &lt; &gt; ();\n          for (DateRange dateRange: dateRangeList) {\n              reportData = getData(dateRange.getFromDate(), dateRange.getToDate());\n              finalReportData.addAll(reportData);\n          }\n          //logic to generate excel (Apache POI) using data available in finalReportData list\n          ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n          workbook.write(outputStream);\n          return new ByteArrayInputStream(outputStream.toByteArray());\n }`\n  private List &lt;ExcelData&gt; getData(String from, String to)\n      throws HttpStatusCodeException, UnsupportedEncodingException, JsonProcessingException, JSONException {\n          List &lt;Excel&gt; excelDataList = new ArrayList &lt; &gt; ();\n          List &lt;ResponseData&gt; dataDetails = new ArrayList &lt; &gt; ();\n          ResponseData list = firstThirdpartyCall(from, to, null);\n\n          for (ResponseData data: list.getData()) {\n              dataDetails.add(data);\n          }\n\n          dataDetails = dataDetails.stream()\n              .filter(s - &gt; s.getName().indexOf(&quot;EA&quot;) == 0 || s.getName().indexOf(&quot;EE&quot;) == 0)\n              .collect(Collectors.toList());\n\n          List &lt; String &gt; matchingRecords = getMatchingRecordFromDB(\n              dataDetails.stream().map(s - &gt; s.getName()).collect(Collectors.toList()));\n\n          dataDetails = dataDetails.stream().filter(s - &gt; matchingRecords.contains(s.getName()))\n              .collect(Collectors.toList());\n\n          for (int i = 0; i &lt; dataDetails.size(); i++) {\n              Info usersObj = secondThirdpartyCall(dataDetails.get(i).getId());\n              //further process like database calls business logic on usersObj\n          }\n          //After process, populating List&lt;ExcelData&gt; and returning\n          return excelDataList;\n      }\n</code></pre>\n<p>I also tried completable future, but other threads like restcall is working in background and main thread give response as empty excel file because data is still been process in other threads So I am not getting the output . I need to bring the response time of my api to few sec.</p>\n<p>Any help will be  appreciated\nThanks</p>\n"},{"tags":["java","weblogic12c"],"owner":{"account_id":11525252,"reputation":120,"user_id":8445924,"display_name":"Martin M&#252;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681986103,"creation_date":1681986103,"question_id":76063016,"body_markdown":"I get following exception when initialization class XMLUtils\r\n\r\n    java.lang.NullPointerException\r\n            at de.martinm.tools.Utils.XMLUtils.&lt;init&gt;(XMLUtils.java:53)\r\n            at de.martinm.tools.Utils.FSUtils.&lt;clinit&gt;(FSUtils.java:52)\r\n            at de.martinm.tools.Utils.CommonUtils.&lt;clinit&gt;(CommonUtils.java:63)\r\n            at de.martinm.tools.Utils.XMLUtils.&lt;clinit&gt;(XMLUtils.java:36)\r\n            at de.MartinM.MVIBS.plugins.Backend.CreateTransactions.processFile(CreateTransactions.java:404)\r\n            Truncated. see log file for complete stacktrace\r\n\r\nThe exception does not appear, when using the class in an env without ApplicationServer\r\n\r\nI already saw, that there is some kind of round robin in the classloading. I &quot;solved&quot; it, by defining the matching variables as static\r\n\r\nhere is the code\r\n\r\n\tprivate XLogger logger = XLoggerFactory.getXLogger(MethodHandles.lookup().lookupClass());\r\n\tstatic Properties props = new Properties();;\r\n\tfinal static String propsName = &quot;/XMLUtils.properties&quot;;\r\n\tstatic CommonUtils myUtils = new CommonUtils();\r\n\tList&lt;String&gt; debitList = new ArrayList&lt;String&gt;();\r\n\tList&lt;String&gt; creditList = new ArrayList&lt;String&gt;();\r\n\tList&lt;String&gt; containerList = new ArrayList&lt;String&gt;();\r\n\r\n\tpublic XMLUtils() {\r\n\t\ttry {\r\n\t\t\tprops.load(XMLUtils.class.getResourceAsStream(propsName));\r\n\t\t\tdebitList=myUtils.prop_to_list(props, &quot;Debit&quot;);\r\n\t\t\tcreditList=myUtils.prop_to_list(props, &quot;Credit&quot;);\r\n\t\t\tcontainerList=myUtils.prop_to_list(props, &quot;Container&quot;);\r\n\t\t\tlogger.error(propsName+&quot; loaded!!!&quot;);\r\n\t\t} catch (NullPointerException e) {\r\n\t\t\tlogger.error(propsName+&quot; could not be loaded!&quot;, e);\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.error(propsName, e);\r\n\t\t}\t \r\n\t}\r\n\t\r\n","title":"java.lang.NullPointerException during class initialization with WLS ApplicationServer","body":"<p>I get following exception when initialization class XMLUtils</p>\n<pre><code>java.lang.NullPointerException\n        at de.martinm.tools.Utils.XMLUtils.&lt;init&gt;(XMLUtils.java:53)\n        at de.martinm.tools.Utils.FSUtils.&lt;clinit&gt;(FSUtils.java:52)\n        at de.martinm.tools.Utils.CommonUtils.&lt;clinit&gt;(CommonUtils.java:63)\n        at de.martinm.tools.Utils.XMLUtils.&lt;clinit&gt;(XMLUtils.java:36)\n        at de.MartinM.MVIBS.plugins.Backend.CreateTransactions.processFile(CreateTransactions.java:404)\n        Truncated. see log file for complete stacktrace\n</code></pre>\n<p>The exception does not appear, when using the class in an env without ApplicationServer</p>\n<p>I already saw, that there is some kind of round robin in the classloading. I &quot;solved&quot; it, by defining the matching variables as static</p>\n<p>here is the code</p>\n<pre><code>private XLogger logger = XLoggerFactory.getXLogger(MethodHandles.lookup().lookupClass());\nstatic Properties props = new Properties();;\nfinal static String propsName = &quot;/XMLUtils.properties&quot;;\nstatic CommonUtils myUtils = new CommonUtils();\nList&lt;String&gt; debitList = new ArrayList&lt;String&gt;();\nList&lt;String&gt; creditList = new ArrayList&lt;String&gt;();\nList&lt;String&gt; containerList = new ArrayList&lt;String&gt;();\n\npublic XMLUtils() {\n    try {\n        props.load(XMLUtils.class.getResourceAsStream(propsName));\n        debitList=myUtils.prop_to_list(props, &quot;Debit&quot;);\n        creditList=myUtils.prop_to_list(props, &quot;Credit&quot;);\n        containerList=myUtils.prop_to_list(props, &quot;Container&quot;);\n        logger.error(propsName+&quot; loaded!!!&quot;);\n    } catch (NullPointerException e) {\n        logger.error(propsName+&quot; could not be loaded!&quot;, e);\n    } catch (IOException e) {\n        logger.error(propsName, e);\n    }    \n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":0,"creation_date":1355898538,"post_id":13946082,"comment_id":19232732,"body_markdown":"Hmm maybe the additional PHP plugin is causing WebProjectWizard to load the wrong class. If all else fails what you can do is have separate installation of eclipse, one for java and the other for php","body":"Hmm maybe the additional PHP plugin is causing WebProjectWizard to load the wrong class. If all else fails what you can do is have separate installation of eclipse, one for java and the other for php"},{"owner":{"display_name":"user1871586"},"score":0,"creation_date":1355902085,"post_id":13946082,"comment_id":19233892,"body_markdown":"First thought the same thing when searched for this error in stackoverflow. But thought if it is possible to have them both, then why can&#39;t So asked this question.","body":"First thought the same thing when searched for this error in stackoverflow. But thought if it is possible to have them both, then why can&#39;t So asked this question."},{"owner":{"account_id":308576,"reputation":5250,"user_id":620537,"accept_rate":60,"display_name":"gamerson"},"score":0,"creation_date":1355906684,"post_id":13946082,"comment_id":19235646,"body_markdown":"What version of WTP do you have installed?  Can you post the full error log/ stacktrace?","body":"What version of WTP do you have installed?  Can you post the full error log/ stacktrace?"},{"owner":{"display_name":"user1871586"},"score":0,"creation_date":1355908865,"post_id":13946082,"comment_id":19236664,"body_markdown":"@gamerson: I have installed Version: 3.2.0.v201004210642-377A78s73533B7L3935. Log has so much data.","body":"@gamerson: I have installed Version: 3.2.0.v201004210642-377A78s73533B7L3935. Log has so much data."},{"owner":{"account_id":308576,"reputation":5250,"user_id":620537,"accept_rate":60,"display_name":"gamerson"},"score":0,"creation_date":1356082000,"post_id":13946082,"comment_id":19303479,"body_markdown":"Can you delete the contents of your log and then replicate the error again and then the log should only contain a single stack trace.","body":"Can you delete the contents of your log and then replicate the error again and then the log should only contain a single stack trace."},{"owner":{"account_id":8381673,"reputation":451,"user_id":6293374,"accept_rate":76,"display_name":"Omar B."},"score":0,"creation_date":1542634771,"post_id":13946082,"comment_id":93627300,"body_markdown":"any solution for this problem , I got the same error with Eclipse . I m using Spring and Web logic","body":"any solution for this problem , I got the same error with Eclipse . I m using Spring and Web logic"}],"answers":[{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":1,"creation_date":1541613384,"post_id":53194474,"comment_id":93278908,"body_markdown":"This answer is rather short, but it might work for new projects. Unfortunately it does not explain what to do with the already existing projects.","body":"This answer is rather short, but it might work for new projects. Unfortunately it does not explain what to do with the already existing projects."}],"tags":[],"owner":{"account_id":14704551,"reputation":1,"user_id":10619680,"display_name":"William Gonzalez Diaz"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1541610779,"creation_date":1541610779,"answer_id":53194474,"question_id":13946082,"body_markdown":"it happened to me the same ... solution: create another workspace and go!","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>it happened to me the same ... solution: create another workspace and go!</p>\n"},{"tags":[],"owner":{"account_id":22579697,"reputation":1,"user_id":16764533,"display_name":"Vedant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681985835,"creation_date":1681985835,"answer_id":76062988,"question_id":13946082,"body_markdown":"I had same problem so I did this :\r\n\r\n 1. Go to window\r\n 2. Perspective -&gt; open perspective\r\n 3. click on other\r\n 4. Then Java EE\r\n\r\nNow open Dynamic Web Page it will open\r\nIf this doesn&#39;t work you make reinstall new software here&#39;s how :\r\n\r\n 1. Click on Help and then click on “Install New Software”.\r\n 2. Paste this link: Mars- http://download.eclipse.org/releases/mars in work with field\r\n 3. Find Web, XML, Java EE and OSGI Enterprise Development and expand it.\r\n 4. Select these options :  \r\n\r\n Eclipse Java EE Developer Tools ,\r\n Eclipse Java Web Developer Tools ,\r\n Eclipse Web Developer Tools,\r\n\r\n 5. Click next until software is installed then restart eclipse.","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>I had same problem so I did this :</p>\n<ol>\n<li>Go to window</li>\n<li>Perspective -&gt; open perspective</li>\n<li>click on other</li>\n<li>Then Java EE</li>\n</ol>\n<p>Now open Dynamic Web Page it will open\nIf this doesn't work you make reinstall new software here's how :</p>\n<ol>\n<li>Click on Help and then click on “Install New Software”.</li>\n<li>Paste this link: Mars- <a href=\"http://download.eclipse.org/releases/mars\" rel=\"nofollow noreferrer\">http://download.eclipse.org/releases/mars</a> in work with field</li>\n<li>Find Web, XML, Java EE and OSGI Enterprise Development and expand it.</li>\n<li>Select these options :</li>\n</ol>\n<p>Eclipse Java EE Developer Tools ,\nEclipse Java Web Developer Tools ,\nEclipse Web Developer Tools,</p>\n<ol start=\"5\">\n<li>Click next until software is installed then restart eclipse.</li>\n</ol>\n"}],"owner":{"display_name":"user1871586"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681985835,"creation_date":1355895086,"question_id":13946082,"body_markdown":"I have created some dynamic web projects and they are working fine.\r\nAfter that I have installed PHP development plugins in eclipse. \r\nAlso installed xdebug plugin for PHP debugging.\r\n\r\nNow When I create Java Dynamic Web Project I get this error:\r\n\r\n    The selected wizard could not be started.\r\n    Plug-in &quot;org.eclipse.jst.servlet.ui&quot; was unable to instantiate class \r\n    &quot;org.eclipse.jst.servlet.ui.project.facet.WebProjectWizard&quot;.\r\n    java.lang.NullPointerException\r\n\r\n**EDIT**: I have WTP installed.\r\n\r\nI am able to create java static web project and PHP projects. But not able to create Java Dynamic web project.\r\n\r\n\r\n\r\nAny help is appreciated.","title":"Unable to create Dynamic Web project in eclipse when php plugins are installed","body":"<p>I have created some dynamic web projects and they are working fine.\nAfter that I have installed PHP development plugins in eclipse. \nAlso installed xdebug plugin for PHP debugging.</p>\n\n<p>Now When I create Java Dynamic Web Project I get this error:</p>\n\n<pre><code>The selected wizard could not be started.\nPlug-in \"org.eclipse.jst.servlet.ui\" was unable to instantiate class \n\"org.eclipse.jst.servlet.ui.project.facet.WebProjectWizard\".\njava.lang.NullPointerException\n</code></pre>\n\n<p><strong>EDIT</strong>: I have WTP installed.</p>\n\n<p>I am able to create java static web project and PHP projects. But not able to create Java Dynamic web project.</p>\n\n<p>Any help is appreciated.</p>\n"},{"tags":["java","datetime","datetime-format","java-time","date-parsing"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":7,"creation_date":1681980872,"post_id":76062186,"comment_id":134144924,"body_markdown":"How would you determine there&#39;s less than 24 hours between those &quot;dates&quot;? For all we know this could be April 20 2024 and April 21 1999 or any other year. You might have a look at this instead: https://stackoverflow.com/questions/8523886/how-do-i-simply-parse-a-date-without-a-year-specified - but when setting the default year think about whether you&#39;d want to be able to do the calculation across years, e.g. from Dec 31st to Jan 1st.","body":"How would you determine there&#39;s less than 24 hours between those &quot;dates&quot;? For all we know this could be April 20 2024 and April 21 1999 or any other year. You might have a look at this instead: <a href=\"https://stackoverflow.com/questions/8523886/how-do-i-simply-parse-a-date-without-a-year-specified\" title=\"how do i simply parse a date without a year specified\">stackoverflow.com/questions/8523886/&hellip;</a> - but when setting the default year think about whether you&#39;d want to be able to do the calculation across years, e.g. from Dec 31st to Jan 1st."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681985236,"post_id":76062186,"comment_id":134145905,"body_markdown":"Two special cases: (1) One is on 31 December, the other on January 1. Or the other way around. (2) There is a summer time transition or other time anomaly between the two so that using the duration between the instances of `LocalDateTime` will not correctly determine the difference in your time zone. (3) There are more. Time is complicated.","body":"Two special cases: (1) One is on 31 December, the other on January 1. Or the other way around. (2) There is a summer time transition or other time anomaly between the two so that using the duration between the instances of <code>LocalDateTime</code> will not correctly determine the difference in your time zone. (3) There are more. Time is complicated."}],"owner":{"account_id":6700413,"reputation":47,"user_id":5167097,"accept_rate":0,"display_name":"Tamara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681984942,"answer_count":0,"score":1,"last_activity_date":1681985288,"creation_date":1681980481,"question_id":76062186,"body_markdown":"Im trying to calculate two dates in a string if its less than 24 hours but I get an error: \r\n\r\n    java.time.format.DateTimeParseException: Text &#39;20 4 01:40 AM&#39; could not be parsed: \r\n    Unable to obtain LocalDateTime from TemporalAccessor: {DayOfMonth=20, \r\n    MonthOfYear=4},ISO resolved to 01:40 of type java.time.format.Parsed\r\n\r\ncode:\r\n\r\n        String today = &quot;20 4 7:00 AM&quot;;\r\n        String tomorrow = &quot;21 4 8:00 AM&quot;;\r\n\r\n       \r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd M h:mm a&quot;);\r\n\r\n        \r\n        LocalDateTime date1 = LocalDateTime.parse(today, formatter);\r\n        LocalDateTime date2 = LocalDateTime.parse(tomorrow, formatter);\r\n\r\n        \r\n        long diffHours = Math.abs(Duration.between(date1, date2).toHours());\r\n\r\n        if (diffHours &lt; 24) {\r\n            System.out.println(&quot;The difference is less than 24 hours.&quot;);\r\n        } else {\r\n            System.out.println(&quot;The difference is greater than or equal to 24 hours.&quot;);\r\n        }\r\n\r\n","title":"Calculating if it&#39;s less than 24 hours between two dates and times in a string but I get an error java.time.format.DateTimeParseException:","body":"<p>Im trying to calculate two dates in a string if its less than 24 hours but I get an error:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '20 4 01:40 AM' could not be parsed: \nUnable to obtain LocalDateTime from TemporalAccessor: {DayOfMonth=20, \nMonthOfYear=4},ISO resolved to 01:40 of type java.time.format.Parsed\n</code></pre>\n<p>code:</p>\n<pre><code>    String today = &quot;20 4 7:00 AM&quot;;\n    String tomorrow = &quot;21 4 8:00 AM&quot;;\n\n   \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd M h:mm a&quot;);\n\n    \n    LocalDateTime date1 = LocalDateTime.parse(today, formatter);\n    LocalDateTime date2 = LocalDateTime.parse(tomorrow, formatter);\n\n    \n    long diffHours = Math.abs(Duration.between(date1, date2).toHours());\n\n    if (diffHours &lt; 24) {\n        System.out.println(&quot;The difference is less than 24 hours.&quot;);\n    } else {\n        System.out.println(&quot;The difference is greater than or equal to 24 hours.&quot;);\n    }\n</code></pre>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":102772,"reputation":5654,"user_id":2032500,"display_name":"Nat Ritmeyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681984246,"creation_date":1681983452,"answer_id":76062644,"question_id":75150081,"body_markdown":"The explanation for the retry behaviour is given in the `AuthInfo#retryWithCredentials()` method in the same file you link to (https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231) - it&#39;s to do with the way the creds are cached.\r\n\r\nThankfully, the default limit of 3 retries can be overridden by setting the `jdk.httpclient.auth.retrylimit` system property to the number of retries you&#39;d like, e.g.:\r\n\r\n```java\r\nSystem.setProperty(&quot;jdk.httpclient.auth.retrylimit&quot;, &quot;0&quot;);\r\n```\r\n\r\nWhen that&#39;s set I now get the following:\r\n\r\n```console\r\nException in thread &quot;main&quot; java.io.IOException: too many authentication attempts. Limit: 0\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:565)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\r\n\tat com.hsbc.digital.testautomation.teepeereplacement.NewClient.main(NewClient.java:68)\r\nCaused by: java.io.IOException: too many authentication attempts. Limit: 0\r\n\tat java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:317)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:186)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:309)\r\n...\r\n```\r\n\r\nNot much of an improvement, but at least it&#39;s not retrying any more.","title":"&quot;IOException: too many authentication attempts. Limit: 3&quot; when using JDK HttpClient with wrong credentials","body":"<p>The explanation for the retry behaviour is given in the <code>AuthInfo#retryWithCredentials()</code> method in the same file you link to (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L231</a>) - it's to do with the way the creds are cached.</p>\n<p>Thankfully, the default limit of 3 retries can be overridden by setting the <code>jdk.httpclient.auth.retrylimit</code> system property to the number of retries you'd like, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.setProperty(&quot;jdk.httpclient.auth.retrylimit&quot;, &quot;0&quot;);\n</code></pre>\n<p>When that's set I now get the following:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: too many authentication attempts. Limit: 0\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:565)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n    at com.hsbc.digital.testautomation.teepeereplacement.NewClient.main(NewClient.java:68)\nCaused by: java.io.IOException: too many authentication attempts. Limit: 0\n    at java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:317)\n    at java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:186)\n    at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:309)\n...\n</code></pre>\n<p>Not much of an improvement, but at least it's not retrying any more.</p>\n"}],"owner":{"account_id":73432,"reputation":1895,"user_id":211453,"accept_rate":36,"display_name":"Wojtek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681984246,"creation_date":1673976372,"question_id":75150081,"body_markdown":"I have simple code basically copy-paste from javadoc. It works well in general but in case of incorrect credentials, instead of getting proper error code I get exception:\r\n\r\n```\r\nCaused by: java.io.IOException: too many authentication attempts. Limit: 3\r\n\tat java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:326)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:248)\r\n\tat java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:413)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\r\n\tat java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\r\n\tat java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\r\n\tat java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\r\n\tat java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\r\n\tat java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nAs I said, the code is fairly mundane:\r\n\r\n```java\r\nHttpClient client = HttpClient.newBuilder()\r\n\t\t.version(HttpClient.Version.HTTP_1_1)\r\n\t\t.followRedirects(HttpClient.Redirect.NORMAL)\r\n\t\t.connectTimeout(Duration.ofSeconds(10))\r\n\t\t.authenticator(new Authenticator() {\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\t\treturn new PasswordAuthentication(name.asString(), password.toCharArray());\r\n\t\t\t}\r\n\t\t})\r\n\t\t.build();\r\n\r\nHttpRequest request = HttpRequest.newBuilder()\r\n\t\t.uri(URI.create(HttpApiUrl))\r\n\t\t.timeout(Duration.ofSeconds(10))\r\n\t\t.GET()\r\n\t\t.build();\r\n\r\ntry {\r\n\tHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tif (response.statusCode() / 100 != 2) {\r\n\t\tlogger.info(&quot;Authenticated&quot;);\r\n\t\treturn true;\r\n\t} else {\r\n\t\tlogger.error(&quot;Authentication failed&quot;);\r\n\t}\r\n} catch (IOException | InterruptedException ex) {\r\n\tlogger.error(&quot;&quot;Authentication failed&quot;, ex);\r\n\treturn false;\r\n}\r\n```\r\n\r\n\r\nI don&#39;t get why `HttpClient` uses retry logic if there is `authenticator` set (https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324)... Without `.authenticator(new Authenticator() {}` I get nice &quot;Not authorized&quot; / 401. How can I disable this retry &quot;feature&quot;? IMHO it doesn&#39;t make much sense - if the credentials are invalid, retrying couple of times won&#39;t change it... Or at least make it return correct error code when retires fails instead of throwing an exception?","title":"&quot;IOException: too many authentication attempts. Limit: 3&quot; when using JDK HttpClient with wrong credentials","body":"<p>I have simple code basically copy-paste from javadoc. It works well in general but in case of incorrect credentials, instead of getting proper error code I get exception:</p>\n<pre><code>Caused by: java.io.IOException: too many authentication attempts. Limit: 3\n    at java.net.http/jdk.internal.net.http.AuthenticationFilter.response(AuthenticationFilter.java:326)\n    at java.net.http/jdk.internal.net.http.MultiExchange.responseFilters(MultiExchange.java:248)\n    at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$6(MultiExchange.java:413)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompose.tryFire(CompletableFuture.java:1150)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:653)\n    at java.base/java.util.concurrent.CompletableFuture$Completion.run(CompletableFuture.java:482)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$DelegatingExecutor.execute(HttpClientImpl.java:157)\n    at java.base/java.util.concurrent.CompletableFuture$UniCompletion.claim(CompletableFuture.java:572)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:642)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)\n    at java.base/java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:2147)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:695)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.handle(Http1Response.java:621)\n    at java.net.http/jdk.internal.net.http.Http1Response$Receiver.accept(Http1Response.java:612)\n    at java.net.http/jdk.internal.net.http.Http1Response$HeadersReader.tryAsyncReceive(Http1Response.java:668)\n    at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:233)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$LockingRestartableTask.run(SequentialScheduler.java:205)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:149)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:230)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>As I said, the code is fairly mundane:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient client = HttpClient.newBuilder()\n        .version(HttpClient.Version.HTTP_1_1)\n        .followRedirects(HttpClient.Redirect.NORMAL)\n        .connectTimeout(Duration.ofSeconds(10))\n        .authenticator(new Authenticator() {\n\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(name.asString(), password.toCharArray());\n            }\n        })\n        .build();\n\nHttpRequest request = HttpRequest.newBuilder()\n        .uri(URI.create(HttpApiUrl))\n        .timeout(Duration.ofSeconds(10))\n        .GET()\n        .build();\n\ntry {\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    if (response.statusCode() / 100 != 2) {\n        logger.info(&quot;Authenticated&quot;);\n        return true;\n    } else {\n        logger.error(&quot;Authentication failed&quot;);\n    }\n} catch (IOException | InterruptedException ex) {\n    logger.error(&quot;&quot;Authentication failed&quot;, ex);\n    return false;\n}\n</code></pre>\n<p>I don't get why <code>HttpClient</code> uses retry logic if there is <code>authenticator</code> set (<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.net.http/share/classes/jdk/internal/net/http/AuthenticationFilter.java#L324</a>)... Without <code>.authenticator(new Authenticator() {}</code> I get nice &quot;Not authorized&quot; / 401. How can I disable this retry &quot;feature&quot;? IMHO it doesn't make much sense - if the credentials are invalid, retrying couple of times won't change it... Or at least make it return correct error code when retires fails instead of throwing an exception?</p>\n"},{"tags":["java","generics","casting","wildcard","instanceof"],"answers":[{"comments":[{"owner":{"account_id":3705266,"reputation":802,"user_id":3083982,"accept_rate":86,"display_name":"Safron"},"score":0,"creation_date":1681927597,"post_id":76056960,"comment_id":134137418,"body_markdown":"Please first try your code before submitting an answer. You cannot cast to a generic type `T`, so this doesn&#39;t compile.","body":"Please first try your code before submitting an answer. You cannot cast to a generic type <code>T</code>, so this doesn&#39;t compile."},{"owner":{"account_id":3705266,"reputation":802,"user_id":3083982,"accept_rate":86,"display_name":"Safron"},"score":0,"creation_date":1681927863,"post_id":76056960,"comment_id":134137484,"body_markdown":"Also, the essential difficulty I&#39;m having has to do with filtering the collection to only items of the appropriate type. Among else, you are casting `minToCheck` to `Comparable&lt;T&gt;`, which is unsafe. You only know it&#39;s a `Comparable&lt;?&gt;`, and by doing the unsafe cast, you&#39;re kindof ignoring the problem I&#39;m having.\n\nFor example, suppose the type `T` is some custom class `MyObject` that implements the interface `Comparable&lt;String&gt;`, then your code will get into trouble.","body":"Also, the essential difficulty I&#39;m having has to do with filtering the collection to only items of the appropriate type. Among else, you are casting <code>minToCheck</code> to <code>Comparable&lt;T&gt;</code>, which is unsafe. You only know it&#39;s a <code>Comparable&lt;?&gt;</code>, and by doing the unsafe cast, you&#39;re kindof ignoring the problem I&#39;m having.  For example, suppose the type <code>T</code> is some custom class <code>MyObject</code> that implements the interface <code>Comparable&lt;String&gt;</code>, then your code will get into trouble."}],"tags":[],"owner":{"account_id":10695686,"reputation":21,"user_id":7872924,"display_name":"tykey100"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681922534,"creation_date":1681922534,"answer_id":76056960,"question_id":76056551,"body_markdown":"I did a couple of minor changes to your code and I believe I got the function working as you wanted.\r\n\r\nFirst I defined the function as generic:\r\n```\r\n&lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt;)\r\n```\r\n\r\nAnd I simplified a little bit your filter and added a cast to T on item:\r\n```\r\ncoll.stream().allMatch(item -&gt; comparableMin.compareTo( (T) item) &lt;= 0);\r\n```\r\n\r\nThis is using standard Comparable. Your main problem I think was missing the cast on &quot;item&quot;. \r\n\r\nA full working example with integers:\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Arrays;\r\nimport java.lang.Comparable;\r\npublic class Program\r\n{\r\n    static &lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt; coll) {\r\n        if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\r\n            throw new RuntimeException();\r\n        }\r\n        Comparable&lt;T&gt; comparableMin = (Comparable&lt;T&gt;) minToCheck;\r\n        return coll.stream().allMatch(\r\n                item -&gt; comparableMin.compareTo( (T) item) &lt;= 0\r\n            );\r\n    }\r\n    public static void main(String[] args) {\r\n        boolean isMinimum = false;\r\n\r\n        Collection&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\r\n        \r\n        isMinimum = isMinimumOrThrow(0, list);\r\n        System.out.println(&quot;Is minimum: &quot; + isMinimum);\r\n\t\t\r\n\t}\r\n}\r\n```","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>I did a couple of minor changes to your code and I believe I got the function working as you wanted.</p>\n<p>First I defined the function as generic:</p>\n<pre><code>&lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt;)\n</code></pre>\n<p>And I simplified a little bit your filter and added a cast to T on item:</p>\n<pre><code>coll.stream().allMatch(item -&gt; comparableMin.compareTo( (T) item) &lt;= 0);\n</code></pre>\n<p>This is using standard Comparable. Your main problem I think was missing the cast on &quot;item&quot;.</p>\n<p>A full working example with integers:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.Arrays;\nimport java.lang.Comparable;\npublic class Program\n{\n    static &lt;T&gt; boolean isMinimumOrThrow(T minToCheck, Collection&lt;T&gt; coll) {\n        if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\n            throw new RuntimeException();\n        }\n        Comparable&lt;T&gt; comparableMin = (Comparable&lt;T&gt;) minToCheck;\n        return coll.stream().allMatch(\n                item -&gt; comparableMin.compareTo( (T) item) &lt;= 0\n            );\n    }\n    public static void main(String[] args) {\n        boolean isMinimum = false;\n\n        Collection&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\n        \n        isMinimum = isMinimumOrThrow(0, list);\n        System.out.println(&quot;Is minimum: &quot; + isMinimum);\n        \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3705266,"reputation":802,"user_id":3083982,"accept_rate":86,"display_name":"Safron"},"score":0,"creation_date":1681984853,"post_id":76062766,"comment_id":134145807,"body_markdown":"Hmm, I dislike the usage of raw types and &quot;ducktyping&quot; bit, but this definitely satisfies all my requirements. :)","body":"Hmm, I dislike the usage of raw types and &quot;ducktyping&quot; bit, but this definitely satisfies all my requirements. :)"},{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1681985074,"post_id":76062766,"comment_id":134145863,"body_markdown":"yes, I have the same feelings. Maybe someone will find a nicer way. I&#39;m still glad it does the job : )","body":"yes, I have the same feelings. Maybe someone will find a nicer way. I&#39;m still glad it does the job : )"}],"tags":[],"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681984238,"creation_date":1681984238,"answer_id":76062766,"question_id":76056551,"body_markdown":"Maybe there is a cleaner solution, but you could stick to your first attempt. The filter can be implemented by simply trying a `compareTo` in a try-catch. This in turn only compiles if you use raw `Comparable` in intermediate steps. The result will be typesafe again (I hope), but needs to suppress some warnings for the intermediate steps. So my suggestion is the following:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\t\tif (!(minToCheck instanceof Comparable)) {\r\n\t\t\tthrow new RuntimeException();\r\n\t\t}\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tComparable comparableMin = (Comparable)minToCheck;\r\n\t\treturn coll.stream().filter(item -&gt; {\r\n\t\t\tboolean isComparable = true;\r\n\t\t\ttry {\r\n\t\t\t\tcomparableMin.compareTo(item);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tisComparable = false;\r\n\t\t\t}\r\n\r\n\t\t\treturn isComparable;\r\n\t\t}).allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n        Collection&lt;Object&gt; list = Arrays.asList(&quot;bla&quot;,5,&quot;blub&quot;,2,7);\r\n\r\n        System.out.println(&quot;Is 0 minimum: &quot; + isMinimumOrThrow(0, list)); // true\r\n        System.out.println(&quot;Is 2 minimum: &quot; + isMinimumOrThrow(2, list)); // true\r\n        System.out.println(&quot;Is 3 minimum: &quot; + isMinimumOrThrow(3, list)); // false\r\n        System.out.println(&quot;Is &#39;bla&#39; minimum: &quot; + isMinimumOrThrow(&quot;bla&quot;, list)); // true\r\n        System.out.println(&quot;Is &#39;blub&#39; minimum: &quot; + isMinimumOrThrow(&quot;blub&quot;, list)); // false\r\n        System.out.println(&quot;Is &#39;some object&#39; minimum: &quot; + isMinimumOrThrow(new Object(), list)); // throws RuntimeException\r\n\r\n    }\r\n","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>Maybe there is a cleaner solution, but you could stick to your first attempt. The filter can be implemented by simply trying a <code>compareTo</code> in a try-catch. This in turn only compiles if you use raw <code>Comparable</code> in intermediate steps. The result will be typesafe again (I hope), but needs to suppress some warnings for the intermediate steps. So my suggestion is the following:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof Comparable)) {\n        throw new RuntimeException();\n    }\n    @SuppressWarnings(&quot;rawtypes&quot;)\n    Comparable comparableMin = (Comparable)minToCheck;\n    return coll.stream().filter(item -&gt; {\n        boolean isComparable = true;\n        try {\n            comparableMin.compareTo(item);\n        } catch (Exception e) {\n            isComparable = false;\n        }\n\n        return isComparable;\n    }).allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\n}\n\npublic static void main(String[] args) {\n    Collection&lt;Object&gt; list = Arrays.asList(&quot;bla&quot;,5,&quot;blub&quot;,2,7);\n\n    System.out.println(&quot;Is 0 minimum: &quot; + isMinimumOrThrow(0, list)); // true\n    System.out.println(&quot;Is 2 minimum: &quot; + isMinimumOrThrow(2, list)); // true\n    System.out.println(&quot;Is 3 minimum: &quot; + isMinimumOrThrow(3, list)); // false\n    System.out.println(&quot;Is 'bla' minimum: &quot; + isMinimumOrThrow(&quot;bla&quot;, list)); // true\n    System.out.println(&quot;Is 'blub' minimum: &quot; + isMinimumOrThrow(&quot;blub&quot;, list)); // false\n    System.out.println(&quot;Is 'some object' minimum: &quot; + isMinimumOrThrow(new Object(), list)); // throws RuntimeException\n\n}\n</code></pre>\n"}],"owner":{"account_id":3705266,"reputation":802,"user_id":3083982,"accept_rate":86,"display_name":"Safron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062766,"answer_count":2,"score":0,"last_activity_date":1681984238,"creation_date":1681919621,"question_id":76056551,"body_markdown":"I&#39;m writing an interpreter for a DSL and I ran into a problem where I want to compare two values of unknown type. I have tried to reduce the problem to the following.\r\n\r\nI want to define a function with two parameters with the following specification.\r\n\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll);\r\n```\r\n1. If `minToCheck` is not of type `Comparable&lt;?&gt;`, then I want to throw a runtime exception.\r\n2. Otherwise, I want to filter out all objects in `coll` that I can compare with `minToCheck`, and then return whether `minToCheck` is less than or equal to every comparable object in `coll`.\r\n\r\n## First attempt\r\n\r\nI get in trouble when defining the filter, i.e.,\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\tif (!(minToCheck instanceof Comparable&lt;?&gt;)) {\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n\tComparable&lt;?&gt; comparableMin = (Comparable&lt;?&gt;)minToCheck;\r\n\treturn coll.stream().filter(...).allMatch(item -&gt; comparableMin.compareTo((...)item) &lt;= 0);\r\n}\r\n```\r\nI&#39;m not sure whether it&#39;s possible to implement the `...`.\r\n\r\n## Second attempt\r\n\r\nTo work around the problem, I&#39;ve tried to loosen the restriction of `Comparable` a bit, and defined my own interface `MyComparable&lt;T&gt;`\r\n```java\r\npublic interface MyComparable&lt;T&gt; extends Comparable&lt;T&gt; {\r\n\tpublic Collection&lt;T&gt; filterComparable(Collection&lt;?&gt; values);\r\n}\r\n```\r\nbut even then, I still get a type error\r\n```\r\nThe method compareTo(capture#13-of ?) in the type Comparable&lt;capture#13-of ?&gt; is not applicable for the arguments (capture#12-of ?)\r\n```\r\nwith the following code\r\n```java\r\npublic boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\r\n\tif (!(minToCheck instanceof MyComparable&lt;?&gt;)) {\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n\tMyComparable&lt;?&gt; comparableMin = (MyComparable&lt;?&gt;)minToCheck;\r\n\treturn comparableMin.filterComparable(coll).stream().allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\r\n}\r\n```\r\n\r\nAny ideas?","title":"Java: Filter items that are comparable to a wildcard type","body":"<p>I'm writing an interpreter for a DSL and I ran into a problem where I want to compare two values of unknown type. I have tried to reduce the problem to the following.</p>\n<p>I want to define a function with two parameters with the following specification.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll);\n</code></pre>\n<ol>\n<li>If <code>minToCheck</code> is not of type <code>Comparable&lt;?&gt;</code>, then I want to throw a runtime exception.</li>\n<li>Otherwise, I want to filter out all objects in <code>coll</code> that I can compare with <code>minToCheck</code>, and then return whether <code>minToCheck</code> is less than or equal to every comparable object in <code>coll</code>.</li>\n</ol>\n<h2>First attempt</h2>\n<p>I get in trouble when defining the filter, i.e.,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof Comparable&lt;?&gt;)) {\n        throw new RuntimeException();\n    }\n    Comparable&lt;?&gt; comparableMin = (Comparable&lt;?&gt;)minToCheck;\n    return coll.stream().filter(...).allMatch(item -&gt; comparableMin.compareTo((...)item) &lt;= 0);\n}\n</code></pre>\n<p>I'm not sure whether it's possible to implement the <code>...</code>.</p>\n<h2>Second attempt</h2>\n<p>To work around the problem, I've tried to loosen the restriction of <code>Comparable</code> a bit, and defined my own interface <code>MyComparable&lt;T&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyComparable&lt;T&gt; extends Comparable&lt;T&gt; {\n    public Collection&lt;T&gt; filterComparable(Collection&lt;?&gt; values);\n}\n</code></pre>\n<p>but even then, I still get a type error</p>\n<pre><code>The method compareTo(capture#13-of ?) in the type Comparable&lt;capture#13-of ?&gt; is not applicable for the arguments (capture#12-of ?)\n</code></pre>\n<p>with the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isMinimumOrThrow(Object minToCheck, Collection&lt;Object&gt; coll) {\n    if (!(minToCheck instanceof MyComparable&lt;?&gt;)) {\n        throw new RuntimeException();\n    }\n    MyComparable&lt;?&gt; comparableMin = (MyComparable&lt;?&gt;)minToCheck;\n    return comparableMin.filterComparable(coll).stream().allMatch(item -&gt; comparableMin.compareTo(item) &lt;= 0);\n}\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","maven","intellij-idea","module","lombok"],"comments":[{"owner":{"account_id":10730932,"reputation":420,"user_id":10483328,"display_name":"Ayoub Rossi"},"score":0,"creation_date":1561985690,"post_id":56832063,"comment_id":100224468,"body_markdown":"Did you enable annotation processing?","body":"Did you enable annotation processing?"},{"owner":{"account_id":2067715,"reputation":2001,"user_id":1842905,"display_name":"Michael A. Schaffrath"},"score":0,"creation_date":1561987831,"post_id":56832063,"comment_id":100225596,"body_markdown":"Have you tried re-installing the latest version of the IDE plugin?","body":"Have you tried re-installing the latest version of the IDE plugin?"},{"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"score":0,"creation_date":1561994856,"post_id":56832063,"comment_id":100229180,"body_markdown":"Yes, the annotation processing was enabled and the plug-in didn&#39;t have an update for it in intelliJ?","body":"Yes, the annotation processing was enabled and the plug-in didn&#39;t have an update for it in intelliJ?"}],"answers":[{"tags":[],"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1562179279,"creation_date":1562179279,"answer_id":56876217,"question_id":56832063,"body_markdown":"I managed to solve this by adding the following my pom.xml file.\r\n```\r\n &lt;configuration&gt;\r\n            &lt;source&gt;9&lt;/source&gt;\r\n            &lt;target&gt;9&lt;/target&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n              &lt;annotationProcessorPath&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.8&lt;/version&gt;\r\n              &lt;/annotationProcessorPath&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n          &lt;/configuration&gt;\r\n\r\n```","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>I managed to solve this by adding the following my pom.xml file.</p>\n\n<pre><code> &lt;configuration&gt;\n            &lt;source&gt;9&lt;/source&gt;\n            &lt;target&gt;9&lt;/target&gt;\n            &lt;annotationProcessorPaths&gt;\n              &lt;annotationProcessorPath&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.8&lt;/version&gt;\n              &lt;/annotationProcessorPath&gt;\n            &lt;/annotationProcessorPaths&gt;\n          &lt;/configuration&gt;\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"score":0,"creation_date":1681983960,"post_id":76062667,"comment_id":134145623,"body_markdown":"Ok. I think I got it on my end. I was missing &quot;static&quot; keyword. \n\n**requires static lombok;**\n\nHopefully this might help anyone.","body":"Ok. I think I got it on my end. I was missing &quot;static&quot; keyword.   <b>requires static lombok;</b>  Hopefully this might help anyone."}],"tags":[],"owner":{"account_id":4431471,"reputation":149,"user_id":3608549,"display_name":"Jack"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681984033,"creation_date":1681983579,"answer_id":76062667,"question_id":56832063,"body_markdown":"This was one the closest issues I have been having in IntelliJ - my error is: \r\n\r\n&gt;     Error occurred during initialization of boot layer\r\n&gt;     java.lang.module.FindException: Module lombok not found, required by com.example.demo\r\n&gt;     \r\n&gt;     Process finished with exit code 1\r\n\r\nBut the solution that was posted here did not help. I will probably create a new question with all the steps from scratch. But if by that point someone can give an extra idea here I would be quite happy.\r\n\r\n\r\nEDIT: \r\n\r\nI was able to solve in on my end with using the keyword `static`\r\n\r\n    \r\n\r\n&gt; requires static lombok;","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>This was one the closest issues I have been having in IntelliJ - my error is:</p>\n<blockquote>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module lombok not found, required by com.example.demo\n\nProcess finished with exit code 1\n</code></pre>\n</blockquote>\n<p>But the solution that was posted here did not help. I will probably create a new question with all the steps from scratch. But if by that point someone can give an extra idea here I would be quite happy.</p>\n<p>EDIT:</p>\n<p>I was able to solve in on my end with using the keyword <code>static</code></p>\n<blockquote>\n<p>requires static lombok;</p>\n</blockquote>\n"}],"owner":{"account_id":16232192,"reputation":71,"user_id":11720645,"display_name":"myt123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56876217,"answer_count":2,"score":1,"last_activity_date":1681984033,"creation_date":1561968430,"question_id":56832063,"body_markdown":"I&#39;m trying to create a modular javafx application using maven and hibernate. Yesterday, I was getting a lot of errors in my module-info.java file and so I decided to re-create the project from scratch to isolate the problem. \r\n\r\nThe project won&#39;t compile as the IDE can&#39;t find the lombok-generated methods. When I checked the .class file, it didn&#39;t have any the of auto-generated boilerplate. I don&#39;t get this problem when I don&#39;t have a module-info.java file. \r\n\r\nFollowing some suggestions I saw in other posts regarding lombok, I&#39;ve made sure that the annotation processing is enabled and a lombok plug-in is enabled in IntelliJ. \r\nWhen I add the lombok.jar to my dependencies in project structure, the module-info.jar doesn&#39;t compile, and intelliJ displays &quot;Ambiguous module reference: lombok&quot; when I place cursor over &#39;requires lombok&#39;. \r\nThe module declaration is also underlined in red, displaying the following message: &quot;Module &#39;AlienDB&#39; reads package &#39;lombok&#39; from both &#39;lombok&#39; and &#39;lombok&#39;. \r\n\r\nThis is my pom.xml file: \r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;Aliens&lt;/groupId&gt;\r\n  &lt;artifactId&gt;AlienDB&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;AlienDB&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.8&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;8.0.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0-M1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n````\r\n\r\nmodule-info.java file: \r\n\r\n````\r\n\r\nmodule AlienDB {\r\n\r\n    requires lombok;\r\n    requires java.persistence;\r\n    requires org.hibernate.orm.core;\r\n    requires java.naming;\r\n\r\n    exports Aliens;\r\n}\r\n\r\n````\r\n\r\nAlien1.java \r\n\r\n````\r\npackage Aliens;\r\n\r\nimport lombok.Data;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\n\r\n@Data\r\n@Entity (name = &quot;alien2&quot;)\r\npublic class Alien1 {\r\n\r\n    @Id\r\n    @Column(name = &quot;aID&quot;, nullable = false)\r\n    private int aID;\r\n\r\n    @Column(name = &quot;aName&quot;)\r\n    private String aName;\r\n\r\n\r\n}\r\n````\r\n\r\nmain app: \r\n\r\n```\r\npackage Aliens;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.service.ServiceRegistry;\r\n\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n\r\n    {\r\n        Configuration con = new Configuration().configure().addAnnotatedClass(Alien1.class);\r\n        ServiceRegistry reg = new StandardServiceRegistryBuilder().applySettings(con.getProperties()).build();\r\n        SessionFactory sf = con.buildSessionFactory(reg);\r\n\r\n        Session session = sf.openSession();\r\n        Transaction tx = session.beginTransaction();\r\n\r\n        Alien1 alienName = session.get(Alien1.class, 1);\r\n        //System.out.println(alienName.getAName());\r\n\r\n        tx.commit();\r\n\r\n        session.close();\r\n        sf.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhen I run the app as it is shown above, with lombok jar added to the dependencies, I get the following error: \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.ResolutionException: Module lombok does not read a module that exports org.mapstruct.ap.spi\r\n\r\nWhen I remove lombok.jar from the dependencies in project structure, module-info.jar does not show any errors but I get the following error: \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module lombok not found, required by AlienDB\r\n\r\nIn either case, when I un-comment the print line statement, I get the following method, presumably because lombok hasn&#39;t been able to generate the boilerplate: \r\n\r\nError:(24, 37) java: cannot find symbol\r\n  symbol:   method getAName()\r\n  location: variable alienName of type Aliens.Alien1\r\n\r\nmodule structure: \r\n\r\n```\r\nC:.\r\n├───.idea\r\n├───src\r\n│   ├───main\r\n│   │   ├───java\r\n│   │   │   └───Aliens\r\n│   │   └───resources\r\n│   └───test\r\n│       └───java\r\n│           └───Aliens\r\n└───target\r\n    ├───classes\r\n    ├───generated-sources\r\n    │   └───annotations\r\n    ├───generated-test-sources\r\n    │   └───test-annotations\r\n    ├───maven-archiver\r\n    ├───maven-status\r\n    │   └───maven-compiler-plugin\r\n    │       ├───compile\r\n    │       │   └───default-compile\r\n    │       └───testCompile\r\n    │           └───default-testCompile\r\n    ├───surefire-reports\r\n    └───test-classes\r\n        ├───Aliens\r\n        └───META-INF\r\n```\r\n\r\nI&#39;m using intelliJ ultimate 2019.1 \r\nSDK is java 11 \r\nLanguage level is set to 9. \r\n\r\nEDIT: I&#39;ve tried to run it on Eclipse as well and I get the same issue - Lombok methods aren&#39;t being generated, even though they appear as a valid suggestion in the suggestion box. \r\n\r\n","title":"Lombok not generating boilerplate in .class file and can&#39;t find any solutions","body":"<p>I'm trying to create a modular javafx application using maven and hibernate. Yesterday, I was getting a lot of errors in my module-info.java file and so I decided to re-create the project from scratch to isolate the problem. </p>\n\n<p>The project won't compile as the IDE can't find the lombok-generated methods. When I checked the .class file, it didn't have any the of auto-generated boilerplate. I don't get this problem when I don't have a module-info.java file. </p>\n\n<p>Following some suggestions I saw in other posts regarding lombok, I've made sure that the annotation processing is enabled and a lombok plug-in is enabled in IntelliJ. \nWhen I add the lombok.jar to my dependencies in project structure, the module-info.jar doesn't compile, and intelliJ displays \"Ambiguous module reference: lombok\" when I place cursor over 'requires lombok'. \nThe module declaration is also underlined in red, displaying the following message: \"Module 'AlienDB' reads package 'lombok' from both 'lombok' and 'lombok'. </p>\n\n<p>This is my pom.xml file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;Aliens&lt;/groupId&gt;\n  &lt;artifactId&gt;AlienDB&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;AlienDB&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;9&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;9&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.8&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;5.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;8.0.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>module-info.java file: </p>\n\n<pre><code>\nmodule AlienDB {\n\n    requires lombok;\n    requires java.persistence;\n    requires org.hibernate.orm.core;\n    requires java.naming;\n\n    exports Aliens;\n}\n\n</code></pre>\n\n<p>Alien1.java </p>\n\n<pre><code>package Aliens;\n\nimport lombok.Data;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Data\n@Entity (name = \"alien2\")\npublic class Alien1 {\n\n    @Id\n    @Column(name = \"aID\", nullable = false)\n    private int aID;\n\n    @Column(name = \"aName\")\n    private String aName;\n\n\n}\n</code></pre>\n\n<p>main app: </p>\n\n<pre><code>package Aliens;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\n\n\npublic class App \n{\n    public static void main( String[] args )\n\n    {\n        Configuration con = new Configuration().configure().addAnnotatedClass(Alien1.class);\n        ServiceRegistry reg = new StandardServiceRegistryBuilder().applySettings(con.getProperties()).build();\n        SessionFactory sf = con.buildSessionFactory(reg);\n\n        Session session = sf.openSession();\n        Transaction tx = session.beginTransaction();\n\n        Alien1 alienName = session.get(Alien1.class, 1);\n        //System.out.println(alienName.getAName());\n\n        tx.commit();\n\n        session.close();\n        sf.close();\n    }\n}\n\n</code></pre>\n\n<p>When I run the app as it is shown above, with lombok jar added to the dependencies, I get the following error: </p>\n\n<p>Error occurred during initialization of boot layer\njava.lang.module.ResolutionException: Module lombok does not read a module that exports org.mapstruct.ap.spi</p>\n\n<p>When I remove lombok.jar from the dependencies in project structure, module-info.jar does not show any errors but I get the following error: </p>\n\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module lombok not found, required by AlienDB</p>\n\n<p>In either case, when I un-comment the print line statement, I get the following method, presumably because lombok hasn't been able to generate the boilerplate: </p>\n\n<p>Error:(24, 37) java: cannot find symbol\n  symbol:   method getAName()\n  location: variable alienName of type Aliens.Alien1</p>\n\n<p>module structure: </p>\n\n<pre><code>C:.\n├───.idea\n├───src\n│   ├───main\n│   │   ├───java\n│   │   │   └───Aliens\n│   │   └───resources\n│   └───test\n│       └───java\n│           └───Aliens\n└───target\n    ├───classes\n    ├───generated-sources\n    │   └───annotations\n    ├───generated-test-sources\n    │   └───test-annotations\n    ├───maven-archiver\n    ├───maven-status\n    │   └───maven-compiler-plugin\n    │       ├───compile\n    │       │   └───default-compile\n    │       └───testCompile\n    │           └───default-testCompile\n    ├───surefire-reports\n    └───test-classes\n        ├───Aliens\n        └───META-INF\n</code></pre>\n\n<p>I'm using intelliJ ultimate 2019.1 \nSDK is java 11 \nLanguage level is set to 9. </p>\n\n<p>EDIT: I've tried to run it on Eclipse as well and I get the same issue - Lombok methods aren't being generated, even though they appear as a valid suggestion in the suggestion box. </p>\n"},{"tags":["java","api","rest-assured","endpoint"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682001918,"post_id":76062715,"comment_id":134150152,"body_markdown":"Probably Postman automatically follows redirects, and your code does not. Check if your library has an option to enable that or handle the situation yourself. (Nit: it&#39;s probably not throwing an exception, so don&#39;t overuse the term throwing just because you get something you didn&#39;t expect.)","body":"Probably Postman automatically follows redirects, and your code does not. Check if your library has an option to enable that or handle the situation yourself. (Nit: it&#39;s probably not throwing an exception, so don&#39;t overuse the term throwing just because you get something you didn&#39;t expect.)"}],"owner":{"account_id":28358317,"reputation":1,"user_id":21688709,"display_name":"Abishekh Rajendhran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681983906,"creation_date":1681983906,"question_id":76062715,"body_markdown":"My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)\r\n\r\n\r\n\r\n`\tRestAssured.baseURI=&quot;https://live-rates.freightify.com/instantqbt/command/Spotrates&quot;;\r\n\t\r\n\tRequestSpecification contentType = RestAssured.given()\r\n\t\t\t.header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t\t.header(&quot;X-Block&quot;,&quot;true&quot;)\r\n\t\t\t.header(&quot;X-RequestID&quot;,&quot;test-rest-assured1&quot;)\r\n\t\t\t.body(&quot;{\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;origin_port\\&quot;: \\&quot;deham\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;destination_port\\&quot;: \\&quot;aejea\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;cargo_ready_date\\&quot;: \\&quot;2023-04-17\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;load_type\\&quot;: \\&quot;20GP\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;quantity\\&quot;: 8,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;cargo_weight\\&quot;: 144,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;vendor_id\\&quot;: \\&quot;2081\\&quot;,\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;    \\&quot;sub_vendor\\&quot;: \\&quot;msc\\&quot;\\r\\n&quot;\r\n\t\t\t\t\t+ &quot;}&quot;).log().all();\r\n\r\n\tResponse response = contentType.post();\r\n\r\n\tresponse.then().log().all();`","title":"My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)","body":"<p>My rest assured(java) code is throwing me a 308-permanent redirect but it is giving valid response in postman and other libs like requests lib(python)</p>\n<p>`   RestAssured.baseURI=&quot;https://live-rates.freightify.com/instantqbt/command/Spotrates&quot;;</p>\n<pre><code>RequestSpecification contentType = RestAssured.given()\n        .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n        .header(&quot;X-Block&quot;,&quot;true&quot;)\n        .header(&quot;X-RequestID&quot;,&quot;test-rest-assured1&quot;)\n        .body(&quot;{\\r\\n&quot;\n                + &quot;    \\&quot;origin_port\\&quot;: \\&quot;deham\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;destination_port\\&quot;: \\&quot;aejea\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;cargo_ready_date\\&quot;: \\&quot;2023-04-17\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;load_type\\&quot;: \\&quot;20GP\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;quantity\\&quot;: 8,\\r\\n&quot;\n                + &quot;    \\&quot;cargo_weight\\&quot;: 144,\\r\\n&quot;\n                + &quot;    \\&quot;vendor_id\\&quot;: \\&quot;2081\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;sub_vendor\\&quot;: \\&quot;msc\\&quot;\\r\\n&quot;\n                + &quot;}&quot;).log().all();\n\nResponse response = contentType.post();\n\nresponse.then().log().all();`\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","crud","spring-thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":21940845,"reputation":1,"user_id":21671368,"display_name":"Loki"},"score":0,"creation_date":1682071403,"post_id":76062701,"comment_id":134161543,"body_markdown":"This is only for my class so there&#39;s no problem with the password security. The thing is that the findOne should look up in the database and it doesn&#39;t. Thanks :)","body":"This is only for my class so there&#39;s no problem with the password security. The thing is that the findOne should look up in the database and it doesn&#39;t. Thanks :)"}],"tags":[],"owner":{"account_id":4492549,"reputation":660,"user_id":3653304,"display_name":"Ralan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681983791,"creation_date":1681983791,"answer_id":76062701,"question_id":76043168,"body_markdown":"You are comparing the user data filled in the form against the one stored in the database and if they match you return the form data in controller\r\n\r\n```java\r\n@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\r\npublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario, BindingResult result, SessionStatus status) {\r\n    System.out.println(usuarioService.findOne(usuario.getUsuario()));\r\n    var databaseUser = usuarioService.findOne(usuario.getUsuario());\r\n    if (result.hasErrors()) {\r\n        return &quot;acceso&quot;;\r\n    } else if (databaseUser==null){\r\n        model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int&#233;ntelo de nuevo&quot;);\r\n        return &quot;acceso&quot;;\r\n    } else if (databaseUser.getContrasena()==usuario.getContrasena()){\r\n        model.addAttribute(&quot;usuario&quot;,databaseUser); //You where returning the form object here\r\n        return &quot;index&quot;;\r\n    } else {\r\n        model.addAttribute(&quot;errContra&quot;,&quot;Contrase&#241;a incorrecta, int&#233;ntelo de nuevo&quot;);\r\n        return &quot;acceso&quot;;\r\n    }\r\n}\r\n```\r\n\r\nAside from that looking at given code my assumption would be that you&#39;r storing plain text passwords which is a huge security flaw. I would suggest spending the time looking into the form-login that spring provides and see if you can use this. https://www.baeldung.com/spring-security-login","title":"findOne() returns value from form","body":"<p>You are comparing the user data filled in the form against the one stored in the database and if they match you return the form data in controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\npublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario, BindingResult result, SessionStatus status) {\n    System.out.println(usuarioService.findOne(usuario.getUsuario()));\n    var databaseUser = usuarioService.findOne(usuario.getUsuario());\n    if (result.hasErrors()) {\n        return &quot;acceso&quot;;\n    } else if (databaseUser==null){\n        model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Inténtelo de nuevo&quot;);\n        return &quot;acceso&quot;;\n    } else if (databaseUser.getContrasena()==usuario.getContrasena()){\n        model.addAttribute(&quot;usuario&quot;,databaseUser); //You where returning the form object here\n        return &quot;index&quot;;\n    } else {\n        model.addAttribute(&quot;errContra&quot;,&quot;Contraseña incorrecta, inténtelo de nuevo&quot;);\n        return &quot;acceso&quot;;\n    }\n}\n</code></pre>\n<p>Aside from that looking at given code my assumption would be that you'r storing plain text passwords which is a huge security flaw. I would suggest spending the time looking into the form-login that spring provides and see if you can use this. <a href=\"https://www.baeldung.com/spring-security-login\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login</a></p>\n"}],"owner":{"account_id":21940845,"reputation":1,"user_id":21671368,"display_name":"Loki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681983791,"creation_date":1681811636,"question_id":76043168,"body_markdown":"I&#39;m trying to do a login and for that I&#39;m using the findOne method in the CrudRepository. The thing is that, if the user and password in the db is &quot;admin&quot; and &quot;admin&quot; (for example), and I write in the form &quot;admin&quot; and whatever password, it will execute the findOne but the object it returns is an object with the username and password that I wrote in the form. Here&#39;s my code:\r\n\r\nController:\r\n```\r\n@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\r\n\tpublic String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario,\r\n\t\t\tBindingResult result, SessionStatus status) {\r\n\t\tSystem.out.println(usuarioService.findOne(usuario.getUsuario()));\r\n\t\tif (result.hasErrors()) {\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t} else if (usuarioService.findOne(usuario.getUsuario())==null){\r\n\t\t\tmodel.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Int&#233;ntelo de nuevo&quot;);\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t} else if (usuarioService.findOne(usuario.getUsuario()).getContrasena()==usuario.getContrasena()){\r\n\t\t\tmodel.addAttribute(&quot;usuario&quot;,usuario);\r\n\t\t\treturn &quot;index&quot;;\r\n\t\t} else {\r\n\t\t\tmodel.addAttribute(&quot;errContra&quot;,&quot;Contrase&#241;a incorrecta, int&#233;ntelo de nuevo&quot;);\r\n\t\t\treturn &quot;acceso&quot;;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nUsuario entity:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;usuarios&quot;)\r\n@NamedQuery(name=&quot;Usuario.findAll&quot;, query=&quot;SELECT u FROM Usuario u&quot;)\r\npublic class Usuario implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@NotEmpty\r\n\tprivate String usuario;\r\n\r\n\t@NotEmpty\r\n\tprivate String contrasena;\r\n\r\n\tpublic Usuario(String usuario, String contrasena) {\r\n\t\tthis.usuario = usuario;\r\n\t\tthis.contrasena = contrasena;\r\n\t}\r\n\r\n\tpublic Usuario() {\r\n\t}\r\n\r\n\tpublic String getUsuario() {\r\n\t\treturn usuario;\r\n\t}\r\n\r\n\tpublic void setUsuario(String usuario) {\r\n\t\tthis.usuario = usuario;\r\n\t}\r\n\r\n\tpublic String getContrasena() {\r\n\t\treturn contrasena;\r\n\t}\r\n\r\n\tpublic void setContrasena(String contrasena) {\r\n\t\tthis.contrasena = contrasena;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Usuario [usuario=&quot; + usuario + &quot;, contrasena=&quot; + contrasena + &quot;]&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nLogin HTML:\r\n\r\n```\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t\t&lt;title&gt;Gesti&#243;n de la biblioteca&lt;/title&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\r\n\t\t&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/style.css}&quot;&gt;&lt;/link&gt;\r\n\t\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;\r\n\t\t&lt;div class=&quot;container-fluid&quot;&gt;\r\n\t\t\t&lt;h1&gt;Inicio de sesi&#243;n&lt;/h1&gt;\r\n\t\t\t&lt;form th:object=&quot;${usuario}&quot; th:action=&quot;@{/acceso}&quot; method=&quot;post&quot;&gt;\r\n\t\t\t\t&lt;label for=&quot;usuario&quot;&gt;Nombre de usuario:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; id=&quot;usuario&quot; name=&quot;usuario&quot; th:field=&quot;*{usuario}&quot;&gt;\r\n\t\t\t\t&lt;span th:if=&quot;${#fields.hasErrors(&#39;usuario&#39;)}&quot; th:errors=&quot;*{usuario}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\r\n\t\t\r\n\t\t\t\t&lt;label for=&quot;contrasena&quot;&gt;Contrase&#241;a:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;password&quot; id=&quot;contrasena&quot; name=&quot;contrasena&quot; th:field=&quot;*{contrasena}&quot;&gt;\r\n\t\t\t\t&lt;span th:if=&quot;${#fields.hasErrors(&#39;contrasena&#39;)}&quot; th:errors=&quot;*{contrasena}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\r\n\t\t\r\n\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Iniciar sesion&quot;&gt;\r\n\t\t\t&lt;h4 th:text=&quot;${error}&quot; class=&quot;error&quot;&gt;&lt;/h4&gt;\r\n\t\t\t&lt;/form&gt;\t\t\t\r\n\t\t&lt;/div&gt;\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried making a custom query but it didn&#39;t work either","title":"findOne() returns value from form","body":"<p>I'm trying to do a login and for that I'm using the findOne method in the CrudRepository. The thing is that, if the user and password in the db is &quot;admin&quot; and &quot;admin&quot; (for example), and I write in the form &quot;admin&quot; and whatever password, it will execute the findOne but the object it returns is an object with the username and password that I wrote in the form. Here's my code:</p>\n<p>Controller:</p>\n<pre><code>@RequestMapping(value = &quot;/acceso&quot;, method=RequestMethod.POST)\n    public String acceder(Model model, HttpServletRequest request, @Validated Usuario usuario,\n            BindingResult result, SessionStatus status) {\n        System.out.println(usuarioService.findOne(usuario.getUsuario()));\n        if (result.hasErrors()) {\n            return &quot;acceso&quot;;\n        } else if (usuarioService.findOne(usuario.getUsuario())==null){\n            model.addAttribute(&quot;error&quot;,&quot;Usuario no existente. Inténtelo de nuevo&quot;);\n            return &quot;acceso&quot;;\n        } else if (usuarioService.findOne(usuario.getUsuario()).getContrasena()==usuario.getContrasena()){\n            model.addAttribute(&quot;usuario&quot;,usuario);\n            return &quot;index&quot;;\n        } else {\n            model.addAttribute(&quot;errContra&quot;,&quot;Contraseña incorrecta, inténtelo de nuevo&quot;);\n            return &quot;acceso&quot;;\n        }\n    }\n</code></pre>\n<p>Usuario entity:</p>\n<pre><code>@Entity\n@Table(name=&quot;usuarios&quot;)\n@NamedQuery(name=&quot;Usuario.findAll&quot;, query=&quot;SELECT u FROM Usuario u&quot;)\npublic class Usuario implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @NotEmpty\n    private String usuario;\n\n    @NotEmpty\n    private String contrasena;\n\n    public Usuario(String usuario, String contrasena) {\n        this.usuario = usuario;\n        this.contrasena = contrasena;\n    }\n\n    public Usuario() {\n    }\n\n    public String getUsuario() {\n        return usuario;\n    }\n\n    public void setUsuario(String usuario) {\n        this.usuario = usuario;\n    }\n\n    public String getContrasena() {\n        return contrasena;\n    }\n\n    public void setContrasena(String contrasena) {\n        this.contrasena = contrasena;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Usuario [usuario=&quot; + usuario + &quot;, contrasena=&quot; + contrasena + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n<p>Login HTML:</p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Gestión de la biblioteca&lt;/title&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n        &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/style.css}&quot;&gt;&lt;/link&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=&quot;container-fluid&quot;&gt;\n            &lt;h1&gt;Inicio de sesión&lt;/h1&gt;\n            &lt;form th:object=&quot;${usuario}&quot; th:action=&quot;@{/acceso}&quot; method=&quot;post&quot;&gt;\n                &lt;label for=&quot;usuario&quot;&gt;Nombre de usuario:&lt;/label&gt;\n                &lt;input type=&quot;text&quot; id=&quot;usuario&quot; name=&quot;usuario&quot; th:field=&quot;*{usuario}&quot;&gt;\n                &lt;span th:if=&quot;${#fields.hasErrors('usuario')}&quot; th:errors=&quot;*{usuario}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\n        \n                &lt;label for=&quot;contrasena&quot;&gt;Contraseña:&lt;/label&gt;\n                &lt;input type=&quot;password&quot; id=&quot;contrasena&quot; name=&quot;contrasena&quot; th:field=&quot;*{contrasena}&quot;&gt;\n                &lt;span th:if=&quot;${#fields.hasErrors('contrasena')}&quot; th:errors=&quot;*{contrasena}&quot; class=&quot;error&quot;&gt;&lt;/span&gt;&lt;br&gt;\n        \n                &lt;input type=&quot;submit&quot; value=&quot;Iniciar sesion&quot;&gt;\n            &lt;h4 th:text=&quot;${error}&quot; class=&quot;error&quot;&gt;&lt;/h4&gt;\n            &lt;/form&gt;         \n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried making a custom query but it didn't work either</p>\n"},{"tags":["java","spring-boot","visual-studio","maven","visual-studio-code"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1648807305,"post_id":71704673,"comment_id":126723232,"body_markdown":"First using a repository manager would a better choice apart from that you should try to build your application from the plain command line via `mvn package -U` first....","body":"First using a repository manager would a better choice apart from that you should try to build your application from the plain command line via <code>mvn package -U</code> first...."},{"owner":{"account_id":17942799,"reputation":7768,"user_id":13037676,"display_name":"Steven-MSFT"},"score":0,"creation_date":1649666234,"post_id":71704673,"comment_id":126924810,"body_markdown":"It looks like a temporary network problem, the problem has been solved?","body":"It looks like a temporary network problem, the problem has been solved?"},{"owner":{"account_id":1217476,"reputation":1007,"user_id":1184777,"accept_rate":33,"display_name":"user1184777"},"score":0,"creation_date":1649920003,"post_id":71704673,"comment_id":126997892,"body_markdown":"no problem still exist. did mvn package -U also which downloaded all the package but problem still exists","body":"no problem still exist. did mvn package -U also which downloaded all the package but problem still exists"},{"owner":{"account_id":16454679,"reputation":312,"user_id":11887174,"display_name":"Mia Wu-MSFT"},"score":0,"creation_date":1650520073,"post_id":71704673,"comment_id":127137733,"body_markdown":"Cannot reproduce your problem, could you upload your project here?","body":"Cannot reproduce your problem, could you upload your project here?"}],"answers":[{"tags":[],"owner":{"account_id":10236629,"reputation":387,"user_id":7555344,"accept_rate":0,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681983762,"creation_date":1681983582,"answer_id":76062668,"question_id":71704673,"body_markdown":"I solved this when I used the latest version of Springboot which is the **3.1.0-M2 version**. Maybe, because I am using the **Maven 3.9.1** and I think they have some compatibility issue with **Springboot 2 versions**.","title":"visual studio spring boot Non-resolvable parent POM behind company proxy","body":"<p>I solved this when I used the latest version of Springboot which is the <strong>3.1.0-M2 version</strong>. Maybe, because I am using the <strong>Maven 3.9.1</strong> and I think they have some compatibility issue with <strong>Springboot 2 versions</strong>.</p>\n"}],"owner":{"account_id":1217476,"reputation":1007,"user_id":1184777,"accept_rate":33,"display_name":"user1184777"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681983762,"creation_date":1648805112,"question_id":71704673,"body_markdown":"I am new to visual studio trying to run spring boot demo application from visual studio tried this link https://code.visualstudio.com/docs/java/java-spring-boot followed same step but getting this error in pom.xml\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAdded proxy entry also in maven setting.xml, since working behind organization proxy\r\n\r\n    &lt;proxy&gt;\r\n      &lt;active&gt;true&lt;/active&gt;\r\n      &lt;host&gt;companyproxy.apac.nsn-net.net&lt;/host&gt;\r\n      &lt;port&gt;8080&lt;/port&gt;\r\n    &lt;/proxy&gt;\r\nwhen directly run DemoApplication.java getting main class not found error\r\n[![enter image description here][2]][2]\r\nand also CodeLens not showing for spring main class , where as if you have simple java application it shows run|debug \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kjwzc.png\r\n  [2]: https://i.stack.imgur.com/m7s0b.png","title":"visual studio spring boot Non-resolvable parent POM behind company proxy","body":"<p>I am new to visual studio trying to run spring boot demo application from visual studio tried this link <a href=\"https://code.visualstudio.com/docs/java/java-spring-boot\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-spring-boot</a> followed same step but getting this error in pom.xml\n<a href=\"https://i.stack.imgur.com/kjwzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjwzc.png\" alt=\"enter image description here\" /></a></p>\n<p>Added proxy entry also in maven setting.xml, since working behind organization proxy</p>\n<pre><code>&lt;proxy&gt;\n  &lt;active&gt;true&lt;/active&gt;\n  &lt;host&gt;companyproxy.apac.nsn-net.net&lt;/host&gt;\n  &lt;port&gt;8080&lt;/port&gt;\n&lt;/proxy&gt;\n</code></pre>\n<p>when directly run DemoApplication.java getting main class not found error\n<a href=\"https://i.stack.imgur.com/m7s0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m7s0b.png\" alt=\"enter image description here\" /></a>\nand also CodeLens not showing for spring main class , where as if you have simple java application it shows run|debug</p>\n"},{"tags":["java","selenium-webdriver","wildcard","unzip","filenotfoundexception"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682000010,"post_id":76061380,"comment_id":134149615,"body_markdown":"What does this have to do with Selenium? That said, usually your shell will expand the wildcards, but when you open files, there is no shell involved. So you cannot use wildcards. You need to do this manually by getting all files in the directory and filtering which ones you want.","body":"What does this have to do with Selenium? That said, usually your shell will expand the wildcards, but when you open files, there is no shell involved. So you cannot use wildcards. You need to do this manually by getting all files in the directory and filtering which ones you want."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1681983574,"creation_date":1681983574,"answer_id":76062666,"question_id":76061380,"body_markdown":"You cannot just use path with wildcard when refer to a file because wildcard means there might be several files which meet the pattern.\r\n\r\nSo your choice might be using file filtration like this:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    File rootFolder = new File(&quot;/tmp&quot;);\r\n    File[] filesToUnzip = rootFolder.listFiles(file -&gt;\r\n            file.getName().matches(&quot;detailedreport_.*\\\\.zip&quot;)\r\n    );\r\n    if(filesToUnzip != null){\r\n        for(File file: filesToUnzip){\r\n            // You would do your unzip here\r\n            System.out.println(file.getAbsolutePath());\r\n        }\r\n    }\r\n}\r\n```","title":"Java Selenium - Using Wildcards in filename while specifying File Path ( Wildcards in File Path in Java Selenium) to Unzip Files","body":"<p>You cannot just use path with wildcard when refer to a file because wildcard means there might be several files which meet the pattern.</p>\n<p>So your choice might be using file filtration like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    File rootFolder = new File(&quot;/tmp&quot;);\n    File[] filesToUnzip = rootFolder.listFiles(file -&gt;\n            file.getName().matches(&quot;detailedreport_.*\\\\.zip&quot;)\n    );\n    if(filesToUnzip != null){\n        for(File file: filesToUnzip){\n            // You would do your unzip here\n            System.out.println(file.getAbsolutePath());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28296313,"reputation":1,"user_id":21635727,"display_name":"Pooja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681983574,"creation_date":1681974310,"question_id":76061380,"body_markdown":"I need to unzip files in a specific folder but i don&#39;t want to mention file name in file path as it changes every time and it wouldn&#39;t be constant. I used wildcard in for filename in file path and it is throwing error File not found Exception\r\n\r\nI tried using wildcards in filename of file path to find the file and unzip the same but i&#39;m getting File not found Exception \r\n\r\nPlease help me on how to use wildcards in filename of file path which is taken as string.\r\n\r\nHere goes my code\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    public class UnzipFiles {\r\n    \t\r\n    \t\r\n    \r\n        public static void main(String[] args) {\r\n        \t\r\n        \t\r\n            String zipFilePath = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\r\n            String zipFilePath2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\r\n            \r\n            \r\n      \r\n            String destDir = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\r\n            String destDir2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\r\n      \r\n            unzip(zipFilePath,destDir);\r\n            unzip2(zipFilePath2,destDir2); \r\n           \r\n        }\r\n    \r\n        private static void unzip(String zipFilePath,String destDir) {\r\n            File dir = new File(destDir);\r\n            // create output directory if it doesn&#39;t exist\r\n            if(!dir.exists()) dir.mkdirs();\r\n            FileInputStream fis;\r\n            //buffer for read and write data to file\r\n            byte[] buffer = new byte[1024];\r\n            try {\r\n                fis = new FileInputStream(zipFilePath);\r\n                ZipInputStream zis = new ZipInputStream(fis);\r\n                ZipEntry ze = zis.getNextEntry();\r\n              \r\n                while(ze != null){\r\n                    String fileName = ze.getName();\r\n                    File newFile = new File(destDir + File.separator + fileName);\r\n                    System.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());\r\n                    //create directories for sub directories in zip\r\n                    new File(newFile.getParent()).mkdirs();\r\n                    FileOutputStream fos = new FileOutputStream(newFile);\r\n                    int len;\r\n                    while ((len = zis.read(buffer)) &gt; 0) {\r\n                    fos.write(buffer, 0, len);\r\n                    }\r\n                    fos.close();\r\n                    //close this ZipEntry\r\n                    zis.closeEntry();\r\n                    ze = zis.getNextEntry();\r\n                }\r\n                //close last ZipEntry\r\n                zis.closeEntry();\r\n                zis.close();\r\n                fis.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        }\r\n        \r\n        private static void unzip2(String zipFilePath2,String destDir2) {\r\n            File dir2 = new File(destDir2);\r\n            // create output directory if it doesn&#39;t exist\r\n            if(!dir2.exists()) dir2.mkdirs();\r\n            FileInputStream fis2;\r\n            //buffer for read and write data to file\r\n            byte[] buffer2 = new byte[1024];\r\n            try {\r\n                fis2 = new FileInputStream(zipFilePath2);\r\n                ZipInputStream zis2 = new ZipInputStream(fis2);\r\n                ZipEntry ze2 = zis2.getNextEntry();\r\n              \r\n                while(ze2 != null){\r\n                    String fileName2 = ze2.getName();\r\n                    File newFile2 = new File(destDir2 + File.separator + fileName2);\r\n                    System.out.println(&quot;Unzipping to &quot;+newFile2.getAbsolutePath());\r\n                    //create directories for sub directories in zip\r\n                    new File(newFile2.getParent()).mkdirs();\r\n                    FileOutputStream fos2 = new FileOutputStream(newFile2);\r\n                    int len2;\r\n                    while ((len2 = zis2.read(buffer2)) &gt; 0) {\r\n                    fos2.write(buffer2, 0, len2);\r\n                    }\r\n                    fos2.close();\r\n                    //close this ZipEntry\r\n                    zis2.closeEntry();\r\n                    ze2 = zis2.getNextEntry();\r\n                }\r\n                //close last ZipEntry\r\n                zis2.closeEntry();\r\n                zis2.close();\r\n                fis2.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n        }\r\n    \r\n    }\r\n\r\nError : java.io.FileNotFoundException: C:\\SAST\\Downloaded XML Files\\detailedreport_*.zip (The filename, directory name, or volume label syntax is incorrect)","title":"Java Selenium - Using Wildcards in filename while specifying File Path ( Wildcards in File Path in Java Selenium) to Unzip Files","body":"<p>I need to unzip files in a specific folder but i don't want to mention file name in file path as it changes every time and it wouldn't be constant. I used wildcard in for filename in file path and it is throwing error File not found Exception</p>\n<p>I tried using wildcards in filename of file path to find the file and unzip the same but i'm getting File not found Exception</p>\n<p>Please help me on how to use wildcards in filename of file path which is taken as string.</p>\n<p>Here goes my code</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class UnzipFiles {\n    \n    \n\n    public static void main(String[] args) {\n        \n        \n        String zipFilePath = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\n        String zipFilePath2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\detailedreport_*.zip&quot;;\n        \n        \n  \n        String destDir = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\n        String destDir2 = &quot;C:\\\\SAST\\\\Downloaded XML Files\\\\Unzipped Files&quot;;\n  \n        unzip(zipFilePath,destDir);\n        unzip2(zipFilePath2,destDir2); \n       \n    }\n\n    private static void unzip(String zipFilePath,String destDir) {\n        File dir = new File(destDir);\n        // create output directory if it doesn't exist\n        if(!dir.exists()) dir.mkdirs();\n        FileInputStream fis;\n        //buffer for read and write data to file\n        byte[] buffer = new byte[1024];\n        try {\n            fis = new FileInputStream(zipFilePath);\n            ZipInputStream zis = new ZipInputStream(fis);\n            ZipEntry ze = zis.getNextEntry();\n          \n            while(ze != null){\n                String fileName = ze.getName();\n                File newFile = new File(destDir + File.separator + fileName);\n                System.out.println(&quot;Unzipping to &quot;+newFile.getAbsolutePath());\n                //create directories for sub directories in zip\n                new File(newFile.getParent()).mkdirs();\n                FileOutputStream fos = new FileOutputStream(newFile);\n                int len;\n                while ((len = zis.read(buffer)) &gt; 0) {\n                fos.write(buffer, 0, len);\n                }\n                fos.close();\n                //close this ZipEntry\n                zis.closeEntry();\n                ze = zis.getNextEntry();\n            }\n            //close last ZipEntry\n            zis.closeEntry();\n            zis.close();\n            fis.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static void unzip2(String zipFilePath2,String destDir2) {\n        File dir2 = new File(destDir2);\n        // create output directory if it doesn't exist\n        if(!dir2.exists()) dir2.mkdirs();\n        FileInputStream fis2;\n        //buffer for read and write data to file\n        byte[] buffer2 = new byte[1024];\n        try {\n            fis2 = new FileInputStream(zipFilePath2);\n            ZipInputStream zis2 = new ZipInputStream(fis2);\n            ZipEntry ze2 = zis2.getNextEntry();\n          \n            while(ze2 != null){\n                String fileName2 = ze2.getName();\n                File newFile2 = new File(destDir2 + File.separator + fileName2);\n                System.out.println(&quot;Unzipping to &quot;+newFile2.getAbsolutePath());\n                //create directories for sub directories in zip\n                new File(newFile2.getParent()).mkdirs();\n                FileOutputStream fos2 = new FileOutputStream(newFile2);\n                int len2;\n                while ((len2 = zis2.read(buffer2)) &gt; 0) {\n                fos2.write(buffer2, 0, len2);\n                }\n                fos2.close();\n                //close this ZipEntry\n                zis2.closeEntry();\n                ze2 = zis2.getNextEntry();\n            }\n            //close last ZipEntry\n            zis2.closeEntry();\n            zis2.close();\n            fis2.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n<p>Error : java.io.FileNotFoundException: C:\\SAST\\Downloaded XML Files\\detailedreport_*.zip (The filename, directory name, or volume label syntax is incorrect)</p>\n"},{"tags":["java","xml","jakarta-ee","weblogic"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681982695,"creation_date":1681982354,"answer_id":76062481,"question_id":40343770,"body_markdown":"As far as I understand the `plan.xml` variables are only used inside the `plan.xml` file. You need to put values somewhere else to access them. The simplest way would be the servlet context parameter in `web.xml`. For example:\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n     ...\r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n        &lt;param-value&gt;inject_value_here&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      ...\r\n    &lt;/web-app&gt;\r\n\r\n**plan.xml**\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;deployment-plan xmlns=&quot;http://xmlns.oracle.com/weblogic/deployment-plan&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/deployment-plan http://xmlns.oracle.com/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot; global-variables=&quot;true&quot;&gt;\r\n      &lt;application-name&gt;appname&lt;/application-name&gt;\r\n      &lt;variable-definition&gt;\r\n        &lt;variable&gt;\r\n          &lt;name&gt;springProfilesActive&lt;/name&gt;\r\n          &lt;value&gt;dev&lt;/value&gt;\r\n        &lt;/variable&gt;\r\n      &lt;/variable-definition&gt;\r\n      &lt;module-override&gt;\r\n        &lt;module-name&gt;appname.war&lt;/module-name&gt;\r\n        &lt;module-type&gt;war&lt;/module-type&gt;\r\n        &lt;module-descriptor external=&quot;false&quot;&gt;\r\n          &lt;root-element&gt;web-app&lt;/root-element&gt;\r\n          &lt;uri&gt;WEB-INF/web.xml&lt;/uri&gt;\r\n          &lt;variable-assignment&gt;\r\n             &lt;name&gt;springProfilesActive&lt;/name&gt;\r\n             &lt;xpath&gt;/web-app/context-param/[param-name=&quot;spring.profiles.active&quot;]/param-value&lt;/xpath&gt;\r\n             &lt;origin&gt;planbased&lt;/origin&gt;\r\n          &lt;/variable-assignment&gt;\r\n        &lt;/module-descriptor&gt;\r\n      &lt;/module-override&gt;\r\n    &lt;/deployment-plan&gt;\r\n\r\nYou can access this context parameter with `ServletContext.getInitParameter`.\r\n\r\nMore information and examples:\r\nhttps://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181","title":"accessing weblogic plan.xml variables","body":"<p>As far as I understand the <code>plan.xml</code> variables are only used inside the <code>plan.xml</code> file. You need to put values somewhere else to access them. The simplest way would be the servlet context parameter in <code>web.xml</code>. For example:</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n ...\n &lt;context-param&gt;\n    &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n    &lt;param-value&gt;inject_value_here&lt;/param-value&gt;\n  &lt;/context-param&gt;\n  ...\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>plan.xml</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;deployment-plan xmlns=&quot;http://xmlns.oracle.com/weblogic/deployment-plan&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/deployment-plan http://xmlns.oracle.com/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot; global-variables=&quot;true&quot;&gt;\n  &lt;application-name&gt;appname&lt;/application-name&gt;\n  &lt;variable-definition&gt;\n    &lt;variable&gt;\n      &lt;name&gt;springProfilesActive&lt;/name&gt;\n      &lt;value&gt;dev&lt;/value&gt;\n    &lt;/variable&gt;\n  &lt;/variable-definition&gt;\n  &lt;module-override&gt;\n    &lt;module-name&gt;appname.war&lt;/module-name&gt;\n    &lt;module-type&gt;war&lt;/module-type&gt;\n    &lt;module-descriptor external=&quot;false&quot;&gt;\n      &lt;root-element&gt;web-app&lt;/root-element&gt;\n      &lt;uri&gt;WEB-INF/web.xml&lt;/uri&gt;\n      &lt;variable-assignment&gt;\n         &lt;name&gt;springProfilesActive&lt;/name&gt;\n         &lt;xpath&gt;/web-app/context-param/[param-name=&quot;spring.profiles.active&quot;]/param-value&lt;/xpath&gt;\n         &lt;origin&gt;planbased&lt;/origin&gt;\n      &lt;/variable-assignment&gt;\n    &lt;/module-descriptor&gt;\n  &lt;/module-override&gt;\n&lt;/deployment-plan&gt;\n</code></pre>\n<p>You can access this context parameter with <code>ServletContext.getInitParameter</code>.</p>\n<p>More information and examples:\n<a href=\"https://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23943_01/web.1111/e13702/config.htm#DEPGD181</a></p>\n"}],"owner":{"account_id":976868,"reputation":824,"user_id":997739,"accept_rate":91,"display_name":"2778"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681982695,"creation_date":1477922593,"question_id":40343770,"body_markdown":"I&#39;m trying to add the ability to have multiple instances of one application on one weblogic application. Unfortunately, my application has thus far relied on an environmental property to know where from to retrieve configuration and write some special logs/backups.\r\n\r\nThe cleanest way to send in a variable to a war seems to be using the plan.xml file -- which is accessible through the console and can be changed on the fly. This way we could have 2 wars on the server, each pointing to a different directory and configuration file.\r\n\r\nHowever, I can&#39;t seem to figure out how to retrieve this variable. So far I&#39;ve unsuccessfully tried:\r\n\r\n - `System.getProperty(&quot;HOME&quot;)`\r\n - `System.getenv().get(&quot;HOME&quot;)`\r\n - `((Context)new InitialContext().lookup(&quot;java:comp/env&quot;)).lookup(&quot;HOME&quot;)`\r\n\r\n\r\nMy plan.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;deployment-plan xmlns=&quot;http://www.bea.com/ns/weblogic/deployment-plan&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.bea.com/ns/weblogic/deployment-plan http://www.bea.com/ns/weblogic/deployment-plan/1.0/deployment-plan.xsd&quot;\r\n    \tglobal-variables=&quot;false&quot;&gt;\r\n    \t&lt;application-name&gt;NAME&lt;/application-name&gt;\r\n    \t&lt;variable-definition&gt;\r\n    \t\t&lt;variable&gt;\r\n    \t\t\t&lt;name&gt;HOME&lt;/name&gt;\r\n    \t\t\t&lt;value&gt;TEST&lt;/value&gt;\r\n    \t\t&lt;/variable&gt;\r\n    \t&lt;/variable-definition&gt;\r\n    &lt;/deployment-plan&gt;","title":"accessing weblogic plan.xml variables","body":"<p>I'm trying to add the ability to have multiple instances of one application on one weblogic application. Unfortunately, my application has thus far relied on an environmental property to know where from to retrieve configuration and write some special logs/backups.</p>\n\n<p>The cleanest way to send in a variable to a war seems to be using the plan.xml file -- which is accessible through the console and can be changed on the fly. This way we could have 2 wars on the server, each pointing to a different directory and configuration file.</p>\n\n<p>However, I can't seem to figure out how to retrieve this variable. So far I've unsuccessfully tried:</p>\n\n<ul>\n<li><code>System.getProperty(\"HOME\")</code></li>\n<li><code>System.getenv().get(\"HOME\")</code></li>\n<li><code>((Context)new InitialContext().lookup(\"java:comp/env\")).lookup(\"HOME\")</code></li>\n</ul>\n\n<p>My plan.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;deployment-plan xmlns=\"http://www.bea.com/ns/weblogic/deployment-plan\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.bea.com/ns/weblogic/deployment-plan http://www.bea.com/ns/weblogic/deployment-plan/1.0/deployment-plan.xsd\"\n    global-variables=\"false\"&gt;\n    &lt;application-name&gt;NAME&lt;/application-name&gt;\n    &lt;variable-definition&gt;\n        &lt;variable&gt;\n            &lt;name&gt;HOME&lt;/name&gt;\n            &lt;value&gt;TEST&lt;/value&gt;\n        &lt;/variable&gt;\n    &lt;/variable-definition&gt;\n&lt;/deployment-plan&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1681982708,"post_id":76062525,"comment_id":134145332,"body_markdown":"I would guess you probably just forgot to use the return value of your recursive method call. Meaning: Change `alpha();` to `return alpha();` inside your alpha method.","body":"I would guess you probably just forgot to use the return value of your recursive method call. Meaning: Change <code>alpha();</code> to <code>return alpha();</code> inside your alpha method."},{"owner":{"account_id":15262051,"reputation":9096,"user_id":11011793,"display_name":"MoxxiManagarm"},"score":0,"creation_date":1681983886,"post_id":76062525,"comment_id":134145603,"body_markdown":"Honest recommendation: Change the recursion to a do while loop. Even if it is an unlikely case, if you keep entering wrong numbers, `alpha()` keeps being called and will enter stackoverflow state at some point.","body":"Honest recommendation: Change the recursion to a do while loop. Even if it is an unlikely case, if you keep entering wrong numbers, <code>alpha()</code> keeps being called and will enter stackoverflow state at some point."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681988704,"post_id":76062525,"comment_id":134146713,"body_markdown":"As the two comments above, it&#39;s because you are always returning the object created the first time `alpha()` gets called.","body":"As the two comments above, it&#39;s because you are always returning the object created the first time <code>alpha()</code> gets called."}],"owner":{"account_id":28358291,"reputation":11,"user_id":21688691,"display_name":"joe123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681982607,"creation_date":1681982607,"question_id":76062525,"body_markdown":"\r\nI want this method to return an odd integer that is bigger/equal to 1. \r\n\r\nThe problem is that it always returns the first integer that was entered and not the latest.\r\nIs there any way to fix that? thanks\r\n\r\n\r\n```\r\npublic class muster\r\n{\r\n    public static void main(String [] args) {\r\n        int a = alpha();\r\n        System.out.println(a);\r\n        \r\n    }\r\n\r\n    public static int alpha() {\r\n        \r\n        int a = Db.readInt(&quot;odd integer &gt;= 1&quot;);\r\n        \r\n        \r\n        if (a % 2 == 0 || a &lt; 1) {\r\n            alpha();\r\n            \r\n        }\r\n        \r\n        else {\r\n            \r\n        }\r\n        return a;\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nI want this method to return a odd integer that is bigger/equal to 1.\r\n\r\nThe problem is that it always returns the first integer that was entered and not the latest.\r\nIs there any way to fix that? thanks","title":"How do I return the latest int a and not the first one that was entered?","body":"<p>I want this method to return an odd integer that is bigger/equal to 1.</p>\n<p>The problem is that it always returns the first integer that was entered and not the latest.\nIs there any way to fix that? thanks</p>\n<pre><code>public class muster\n{\n    public static void main(String [] args) {\n        int a = alpha();\n        System.out.println(a);\n        \n    }\n\n    public static int alpha() {\n        \n        int a = Db.readInt(&quot;odd integer &gt;= 1&quot;);\n        \n        \n        if (a % 2 == 0 || a &lt; 1) {\n            alpha();\n            \n        }\n        \n        else {\n            \n        }\n        return a;\n        \n    }\n}\n</code></pre>\n<p>I want this method to return a odd integer that is bigger/equal to 1.</p>\n<p>The problem is that it always returns the first integer that was entered and not the latest.\nIs there any way to fix that? thanks</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681984410,"post_id":76062453,"comment_id":134145720,"body_markdown":"Why a SQL and not a JPQL? Something like `SELECT l FROM Label l WHERE l. vehicleLabels.vehicle_label_id = :vehicle_label_id`, That way you use entities and hibernate should be able to do the mapping. Also your method probably returns more then 1 label so your return type should probably be `List&lt;Label&gt;` instead of `Label`.","body":"Why a SQL and not a JPQL? Something like <code>SELECT l FROM Label l WHERE l. vehicleLabels.vehicle_label_id = :vehicle_label_id</code>, That way you use entities and hibernate should be able to do the mapping. Also your method probably returns more then 1 label so your return type should probably be <code>List&lt;Label&gt;</code> instead of <code>Label</code>."}],"owner":{"account_id":19314821,"reputation":11,"user_id":14119825,"display_name":"Qu&#225;ch Ngọc Th&#224;nh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681982178,"creation_date":1681982178,"question_id":76062453,"body_markdown":"I have spring app (JPA/Hibernate + PostgeSQL). I have Label and LabelRepository classes.\r\n\r\n**Label**\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;label&quot;, schema = &quot;public&quot;)\r\npublic class Label implements Serializable {\r\n\r\n    @Id\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;label_id&quot;, columnDefinition = &quot;NUMERIC&quot;, unique = true, nullable = false, precision = 10, scale = 0)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;code&quot;)\r\n    private String code;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;order&quot;)\r\n    private Integer order;\r\n\r\n    @Column(name = &quot;status&quot;)\r\n    private String status;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;group_name&quot;)\r\n    private String groupName;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;label&quot;)\r\n    private List&lt;VehicleLabel&gt; vehicleLabels = new ArrayList&lt;&gt;(0);\r\n}\r\n```\r\n**LabelRepository**\r\n\r\n```\r\n@Repository\r\npublic interface LabelRepository extends BaseJpaRepository&lt;Label, Integer&gt; {\r\n    @Query(value = &quot;select l.* from vehicle_label vl left join label l on l.label_id = vl.label_id where vl.vehicle_label_id = :vehicle_label_id&quot;, nativeQuery = true)\r\n    public Label getLabelFromVehicleLabel(@Param(&quot;vehicle_label_id&quot;) Integer vehicleLabelId);\r\n}\r\n```\r\n\r\nIt is giving me result like this:\r\n\r\n\r\n```\r\nlabel_id|code   |name   |description|order|status|type|group_name|\r\n--------+-------+-------+-----------+-----+------+----+----------+\r\n      24|suv_cuv|SUV/CUV|           |     |active|C   |SUV       |\r\n```\r\n\r\nAnd i have error:\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [com.bave.service.database.entity.Label] for value &#39;{24, suv_cuv, SUV/CUV, null, null, active, C, SUV}&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.bave.service.database.entity.Label]\r\n\r\nit seems it can&#39;t map with entity class\r\n\r\nThanks!                                                              ","title":"org.springframework.core.convert Failed to convert from type [java.lang.Object[]] to type","body":"<p>I have spring app (JPA/Hibernate + PostgeSQL). I have Label and LabelRepository classes.</p>\n<p><strong>Label</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;label&quot;, schema = &quot;public&quot;)\npublic class Label implements Serializable {\n\n    @Id\n    @Basic(optional = false)\n    @Column(name = &quot;label_id&quot;, columnDefinition = &quot;NUMERIC&quot;, unique = true, nullable = false, precision = 10, scale = 0)\n    private Integer id;\n\n    @Column(name = &quot;code&quot;)\n    private String code;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @Column(name = &quot;order&quot;)\n    private Integer order;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @Column(name = &quot;group_name&quot;)\n    private String groupName;\n\n    @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;label&quot;)\n    private List&lt;VehicleLabel&gt; vehicleLabels = new ArrayList&lt;&gt;(0);\n}\n</code></pre>\n<p><strong>LabelRepository</strong></p>\n<pre><code>@Repository\npublic interface LabelRepository extends BaseJpaRepository&lt;Label, Integer&gt; {\n    @Query(value = &quot;select l.* from vehicle_label vl left join label l on l.label_id = vl.label_id where vl.vehicle_label_id = :vehicle_label_id&quot;, nativeQuery = true)\n    public Label getLabelFromVehicleLabel(@Param(&quot;vehicle_label_id&quot;) Integer vehicleLabelId);\n}\n</code></pre>\n<p>It is giving me result like this:</p>\n<pre><code>label_id|code   |name   |description|order|status|type|group_name|\n--------+-------+-------+-----------+-----+------+----+----------+\n      24|suv_cuv|SUV/CUV|           |     |active|C   |SUV       |\n</code></pre>\n<p>And i have error:</p>\n<blockquote>\n<p>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.Object[]] to type [com.bave.service.database.entity.Label] for value '{24, suv_cuv, SUV/CUV, null, null, active, C, SUV}'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.Integer] to type [com.bave.service.database.entity.Label]</p>\n</blockquote>\n<p>it seems it can't map with entity class</p>\n<p>Thanks!</p>\n"},{"tags":["java","kubernetes","rabbitmq","rabbitmq-stream"],"answers":[{"comments":[{"owner":{"account_id":910087,"reputation":2038,"user_id":944131,"accept_rate":65,"display_name":"Stefan"},"score":0,"creation_date":1681982626,"post_id":76062448,"comment_id":134145304,"body_markdown":"ah i think you are pushing me into the right direction. seems that i only can connect from inside of the kubernetes cluster. for the outside (mainly for testing purposes) i need the addressresolver.","body":"ah i think you are pushing me into the right direction. seems that i only can connect from inside of the kubernetes cluster. for the outside (mainly for testing purposes) i need the addressresolver."},{"owner":{"account_id":2087535,"reputation":21959,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"score":0,"creation_date":1681994918,"post_id":76062448,"comment_id":134148186,"body_markdown":"&gt;seems that i only can connect from inside of the kubernetes cluster.\n\n\n\nThe protocol needs to know the host-names but with the `addressResolver` you can   \nalso connect from outside \n\nSee: https://blog.rabbitmq.com/posts/2021/07/connecting-to-streams/#with-a-load-balancer","body":"&gt;seems that i only can connect from inside of the kubernetes cluster.    The protocol needs to know the host-names but with the <code>addressResolver</code> you can    also connect from outside   See: <a href=\"https://blog.rabbitmq.com/posts/2021/07/connecting-to-streams/#with-a-load-balancer\" rel=\"nofollow noreferrer\">blog.rabbitmq.com/posts/2021/07/connecting-to-streams/&hellip;</a>"},{"owner":{"account_id":910087,"reputation":2038,"user_id":944131,"accept_rate":65,"display_name":"Stefan"},"score":0,"creation_date":1682002134,"post_id":76062448,"comment_id":134150200,"body_markdown":"i understand, but the nodes (pods) aren&#39;t exposed publicly. i think i need to expose them (loadbalancer or some other way) then it would work from outside, right?","body":"i understand, but the nodes (pods) aren&#39;t exposed publicly. i think i need to expose them (loadbalancer or some other way) then it would work from outside, right?"},{"owner":{"account_id":2087535,"reputation":21959,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"score":0,"creation_date":1682015929,"post_id":76062448,"comment_id":134153504,"body_markdown":"Yes exactly. The load balancer must be public and implement the round robin pattern","body":"Yes exactly. The load balancer must be public and implement the round robin pattern"},{"owner":{"account_id":910087,"reputation":2038,"user_id":944131,"accept_rate":65,"display_name":"Stefan"},"score":1,"creation_date":1682425480,"post_id":76062448,"comment_id":134210189,"body_markdown":"Hey there, i got it working, but when closing the consumer (for example because i need to process the last 300 messages first), i get: com.rabbitmq.stream.impl.TimeoutStreamException: Could not get response in 10000 ms from node my.public.ip:5552 - Consuming works fine, but i receive that error when closing the consumer (also when closing the environment, tried both). I use manual tracking with offsetspecification = last and also a custom name which stays the same every time.","body":"Hey there, i got it working, but when closing the consumer (for example because i need to process the last 300 messages first), i get: com.rabbitmq.stream.impl.TimeoutStreamException: Could not get response in 10000 ms from node my.public.ip:5552 - Consuming works fine, but i receive that error when closing the consumer (also when closing the environment, tried both). I use manual tracking with offsetspecification = last and also a custom name which stays the same every time."}],"tags":[],"owner":{"account_id":2087535,"reputation":21959,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681982160,"creation_date":1681982160,"answer_id":76062448,"question_id":76062407,"body_markdown":"You should use the load balancer configuration.\r\n\r\nSee: https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use \r\n\r\n&gt; A load balancer can misguide the client when it tries to connect to nodes that host stream leaders and replicas. The &quot;Connecting to Streams&quot; blog post covers why client applications must connect to the appropriate nodes in a cluster and how a load balancer can make things complicated for them.\r\n\r\n&gt; The EnvironmentBuilder#addressResolver(AddressResolver) method allows intercepting the node resolution after metadata hints and before connection. Applications can use this hook to ignore metadata hints and always use the load balancer, as illustrated in the following snippet:\r\n\r\nUsing a custom address resolver to always use a load balancer\r\n```java\r\nAddress entryPoint = new Address(&quot;my-load-balancer&quot;, 5552);  \r\nEnvironment environment = Environment.builder()\r\n    .host(entryPoint.host())  \r\n    .port(entryPoint.port())  \r\n    .addressResolver(address -&gt; entryPoint)  \r\n    .build();\r\n```\r\n\r\n\r\n","title":"RabbitMQ Java Stream Client and RabbitMQ Kubernetes Operator","body":"<p>You should use the load balancer configuration.</p>\n<p>See: <a href=\"https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use\" rel=\"nofollow noreferrer\">https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#when-a-load-balancer-is-in-use</a></p>\n<blockquote>\n<p>A load balancer can misguide the client when it tries to connect to nodes that host stream leaders and replicas. The &quot;Connecting to Streams&quot; blog post covers why client applications must connect to the appropriate nodes in a cluster and how a load balancer can make things complicated for them.</p>\n</blockquote>\n<blockquote>\n<p>The EnvironmentBuilder#addressResolver(AddressResolver) method allows intercepting the node resolution after metadata hints and before connection. Applications can use this hook to ignore metadata hints and always use the load balancer, as illustrated in the following snippet:</p>\n</blockquote>\n<p>Using a custom address resolver to always use a load balancer</p>\n<pre class=\"lang-java prettyprint-override\"><code>Address entryPoint = new Address(&quot;my-load-balancer&quot;, 5552);  \nEnvironment environment = Environment.builder()\n    .host(entryPoint.host())  \n    .port(entryPoint.port())  \n    .addressResolver(address -&gt; entryPoint)  \n    .build();\n</code></pre>\n"}],"owner":{"account_id":910087,"reputation":2038,"user_id":944131,"accept_rate":65,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062448,"answer_count":1,"score":0,"last_activity_date":1681982160,"creation_date":1681981847,"question_id":76062407,"body_markdown":"I deployed a Kubernetes cluster using the RabbitMQ Operator and activated the `rabbitmq_stream` plugin. This is my yaml:\r\n\r\n```yaml\r\napiVersion: rabbitmq.com/v1beta1\r\nkind: RabbitmqCluster\r\nmetadata:\r\n  name: rabbitmq-deployment\r\n  namespace: rabbitmq-namespace\r\nspec:\r\n  replicas: 2\r\n  image: rabbitmq:3.11.13\r\n  persistence:\r\n    storage: 20Gi\r\n  service:\r\n    type: LoadBalancer\r\n  rabbitmq:\r\n    additionalPlugins:\r\n      - rabbitmq_stream\r\n      - rabbitmq_stream_management\r\n```\r\n\r\nAlso i use the RabbitMQ Java Stream Client and i&#39;m connecting to the cluster like this:\r\n\r\n```java\r\nEnvironmentBuilder environmentBuilder = Environment.builder();\r\nenvironmentBuilder.host(System.getenv(&quot;RABBITMQ_HOST&quot;));\r\nenvironmentBuilder.port(Integer.parseInt(System.getenv(&quot;RABBITMQ_STREAM_PORT&quot;)));\r\nenvironmentBuilder.username(System.getenv(&quot;RABBITMQ_USERNAME&quot;));\r\nenvironmentBuilder.password(System.getenv(&quot;RABBITMQ_PASSWORD&quot;));\r\nmainConnection = environmentBuilder.build();\r\n```\r\n\r\nNow when i use this client so create the stream, it&#39;s working flawlessy and no error is reported:\r\n\r\n```java\r\nmainConnection.streamCreator().stream(&quot;mystream&quot;).maxAge(Duration.of(1, ChronoUnit.DAYS)).create()\r\n```\r\n\r\nNow when i try to produce messages like this:\r\n\r\n```java\r\nProducer producer = RabbitMQStreamConnection.mainConnection.producerBuilder().stream(&quot;mystream&quot;).build();\r\nbyte[] messagePayload = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\r\nproducer.send(\r\n    producer.messageBuilder().addData(messagePayload).build(),\r\n    confirmationStatus -&gt; {\r\n        if (confirmationStatus.isConfirmed()) {\r\n            // the message made it to the broker\r\n        } else {\r\n            // the message did not make it to the broker\r\n        }\r\n});\r\n```\r\n\r\nIt throws this exception:\r\n\r\n```\r\ncom.rabbitmq.stream.StreamException\r\nError while creating stream connection to rabbitmq-deployment-server-0.rabbitmq-deployment-nodes.rabbitmq-namespace:5552\r\n``` \r\n\r\nOf course, because there are two nodes (`replicas = 2`) and it seems like traffic gets redirected directly.\r\n\r\nWhat i want is that i can produce &amp; consume messages from the stream.\r\n\r\nRight now, i have no clue what i could do next to solve this problem.","title":"RabbitMQ Java Stream Client and RabbitMQ Kubernetes Operator","body":"<p>I deployed a Kubernetes cluster using the RabbitMQ Operator and activated the <code>rabbitmq_stream</code> plugin. This is my yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: rabbitmq.com/v1beta1\nkind: RabbitmqCluster\nmetadata:\n  name: rabbitmq-deployment\n  namespace: rabbitmq-namespace\nspec:\n  replicas: 2\n  image: rabbitmq:3.11.13\n  persistence:\n    storage: 20Gi\n  service:\n    type: LoadBalancer\n  rabbitmq:\n    additionalPlugins:\n      - rabbitmq_stream\n      - rabbitmq_stream_management\n</code></pre>\n<p>Also i use the RabbitMQ Java Stream Client and i'm connecting to the cluster like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnvironmentBuilder environmentBuilder = Environment.builder();\nenvironmentBuilder.host(System.getenv(&quot;RABBITMQ_HOST&quot;));\nenvironmentBuilder.port(Integer.parseInt(System.getenv(&quot;RABBITMQ_STREAM_PORT&quot;)));\nenvironmentBuilder.username(System.getenv(&quot;RABBITMQ_USERNAME&quot;));\nenvironmentBuilder.password(System.getenv(&quot;RABBITMQ_PASSWORD&quot;));\nmainConnection = environmentBuilder.build();\n</code></pre>\n<p>Now when i use this client so create the stream, it's working flawlessy and no error is reported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mainConnection.streamCreator().stream(&quot;mystream&quot;).maxAge(Duration.of(1, ChronoUnit.DAYS)).create()\n</code></pre>\n<p>Now when i try to produce messages like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Producer producer = RabbitMQStreamConnection.mainConnection.producerBuilder().stream(&quot;mystream&quot;).build();\nbyte[] messagePayload = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\nproducer.send(\n    producer.messageBuilder().addData(messagePayload).build(),\n    confirmationStatus -&gt; {\n        if (confirmationStatus.isConfirmed()) {\n            // the message made it to the broker\n        } else {\n            // the message did not make it to the broker\n        }\n});\n</code></pre>\n<p>It throws this exception:</p>\n<pre><code>com.rabbitmq.stream.StreamException\nError while creating stream connection to rabbitmq-deployment-server-0.rabbitmq-deployment-nodes.rabbitmq-namespace:5552\n</code></pre>\n<p>Of course, because there are two nodes (<code>replicas = 2</code>) and it seems like traffic gets redirected directly.</p>\n<p>What i want is that i can produce &amp; consume messages from the stream.</p>\n<p>Right now, i have no clue what i could do next to solve this problem.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":11597475,"reputation":1802,"user_id":8495783,"display_name":"Abolfazl Mohajeri"},"score":0,"creation_date":1681931675,"post_id":76057927,"comment_id":134138270,"body_markdown":"did you add Content-Type: application/json header?","body":"did you add Content-Type: application/json header?"},{"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"score":0,"creation_date":1681931870,"post_id":76057927,"comment_id":134138313,"body_markdown":"yes. As I said, I use same headers and body for @Put request, and it works good.","body":"yes. As I said, I use same headers and body for @Put request, and it works good."}],"answers":[{"tags":[],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681937402,"creation_date":1681937402,"answer_id":76058707,"question_id":76057927,"body_markdown":"Okay, I fixed it. The problem was with my `MapToEntity` code. I didn&#39;t map Dto properly.\r\n\r\nBefore it was:\r\n\r\n    `private Note mapToEntity(NoteDto noteDto) {\r\n         Note note = new Note();\r\n            note.setId(note.getNoteId());\r\n            note.setTopic(note.getTopic());\r\n            note.setNoteBody(note.getNoteBody());\r\n            return note;\r\n        }`\r\n\r\nI changed it to:\r\n\r\n    private Note mapToEntity(NoteDto noteDto) {\r\n        Note note = new Note();\r\n        note.setId(noteDto.getNoteId());\r\n        note.setTopic(noteDto.getTopic());\r\n        note.setNoteBody(noteDto.getNoteBody());\r\n        return note;\r\n    }\r\nand that solved it.","title":"Spirng @Post method receives data as NULL","body":"<p>Okay, I fixed it. The problem was with my <code>MapToEntity</code> code. I didn't map Dto properly.</p>\n<p>Before it was:</p>\n<pre><code>`private Note mapToEntity(NoteDto noteDto) {\n     Note note = new Note();\n        note.setId(note.getNoteId());\n        note.setTopic(note.getTopic());\n        note.setNoteBody(note.getNoteBody());\n        return note;\n    }`\n</code></pre>\n<p>I changed it to:</p>\n<pre><code>private Note mapToEntity(NoteDto noteDto) {\n    Note note = new Note();\n    note.setId(noteDto.getNoteId());\n    note.setTopic(noteDto.getTopic());\n    note.setNoteBody(noteDto.getNoteBody());\n    return note;\n}\n</code></pre>\n<p>and that solved it.</p>\n"}],"owner":{"account_id":24708320,"reputation":89,"user_id":18598837,"display_name":"Farkhad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681981903,"creation_date":1681930246,"question_id":76057927,"body_markdown":"I have an Web-service to add/edit/update/delete Users and their Notes. When I use @Post method in postman to add a note, it adds its body as NULL. After these values added into database, I use @Put method to update them with the same `Body parameters`, and they are accepted as they should be.\r\n\r\nMy DTO for Notes looks like this.\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class NoteDto {\r\n      private int noteId;\r\n      private String topic;\r\n      private String noteBody;\r\n    }\r\nMy `NotesServiceImpl` looks like this:\r\n\r\n    @Override\r\n    public NoteDto createNote(int userId, NoteDto noteDto) {\r\n        Note review = mapToEntity(noteDto);\r\n\r\n        User user = userRepository.findById(userId).orElseThrow(() -&gt; new UserNotFoundException(&quot;User with associated id not found&quot;));\r\n\r\n        review.setUser(user);\r\n\r\n        Note newReview = notesRepository.save(review);\r\n\r\n        return mapToDto(newReview);\r\n    }\r\nMy Controller for `@Post` method looks like this:\r\n\r\n    @PostMapping(&quot;/user/{userId}/notes&quot;)\r\n    public ResponseEntity&lt;NoteDto&gt; createNote(@PathVariable(value = &quot;userId&quot;) int userId, @RequestBody NoteDto noteDto) {\r\n        return new ResponseEntity&lt;&gt;(noteService.createNote(userId, noteDto), HttpStatus.CREATED);\r\n    }\r\n\r\nThis is how `@Post` output looks like:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lETSQ.png","title":"Spirng @Post method receives data as NULL","body":"<p>I have an Web-service to add/edit/update/delete Users and their Notes. When I use @Post method in postman to add a note, it adds its body as NULL. After these values added into database, I use @Put method to update them with the same <code>Body parameters</code>, and they are accepted as they should be.</p>\n<p>My DTO for Notes looks like this.</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class NoteDto {\n  private int noteId;\n  private String topic;\n  private String noteBody;\n}\n</code></pre>\n<p>My <code>NotesServiceImpl</code> looks like this:</p>\n<pre><code>@Override\npublic NoteDto createNote(int userId, NoteDto noteDto) {\n    Note review = mapToEntity(noteDto);\n\n    User user = userRepository.findById(userId).orElseThrow(() -&gt; new UserNotFoundException(&quot;User with associated id not found&quot;));\n\n    review.setUser(user);\n\n    Note newReview = notesRepository.save(review);\n\n    return mapToDto(newReview);\n}\n</code></pre>\n<p>My Controller for <code>@Post</code> method looks like this:</p>\n<pre><code>@PostMapping(&quot;/user/{userId}/notes&quot;)\npublic ResponseEntity&lt;NoteDto&gt; createNote(@PathVariable(value = &quot;userId&quot;) int userId, @RequestBody NoteDto noteDto) {\n    return new ResponseEntity&lt;&gt;(noteService.createNote(userId, noteDto), HttpStatus.CREATED);\n}\n</code></pre>\n<p>This is how <code>@Post</code> output looks like:<a href=\"https://i.stack.imgur.com/lETSQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lETSQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","build","azure-devops","build-pipeline"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1614697265,"post_id":66437406,"comment_id":117460485,"body_markdown":"Please show the command you have used... not only the error output...","body":"Please show the command you have used... not only the error output..."},{"owner":{"account_id":7090502,"reputation":30069,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"score":0,"creation_date":1614755632,"post_id":66437406,"comment_id":117478440,"body_markdown":"How&#39;s your pipeline like? If you build your project locally, how&#39;s the result?","body":"How&#39;s your pipeline like? If you build your project locally, how&#39;s the result?"},{"owner":{"account_id":7090502,"reputation":30069,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"score":0,"creation_date":1616060088,"post_id":66437406,"comment_id":117886487,"body_markdown":"How&#39;s your issue going? Is there any update?","body":"How&#39;s your issue going? Is there any update?"}],"answers":[{"tags":[],"owner":{"account_id":7090502,"reputation":30069,"user_id":5425825,"display_name":"Cece Dong - MSFT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614756063,"creation_date":1614756063,"answer_id":66452385,"question_id":66437406,"body_markdown":"You may try to use a plugin directly in the pom, for example:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;testSource&gt;1.8&lt;/testSource&gt;\r\n                    &lt;testTarget&gt;1.8&lt;/testTarget&gt;\r\n                    &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>You may try to use a plugin directly in the pom, for example:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n                &lt;testSource&gt;1.8&lt;/testSource&gt;\n                &lt;testTarget&gt;1.8&lt;/testTarget&gt;\n                &lt;compilerArgument&gt;-Xlint:deprecation&lt;/compilerArgument&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28358211,"reputation":1,"user_id":21688621,"display_name":"Jagdeep Mehta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681981899,"creation_date":1681981899,"answer_id":76062417,"question_id":66437406,"body_markdown":"This might due to maven download problem so I have clean up the .m2 repository on Jenkins slave and the plug in then was downloaded again .It worked for me &amp; no code change required .","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>This might due to maven download problem so I have clean up the .m2 repository on Jenkins slave and the plug in then was downloaded again .It worked for me &amp; no code change required .</p>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681981899,"creation_date":1614680229,"question_id":66437406,"body_markdown":"I am using azure build pipeline to package my code, &amp; using maven to compile my code, however i am getting below error.\r\n\r\n```\r\n2021-03-02T09:38:48.1737056Z Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/3.1/maven-compiler-plugin-3.1.pom\r\n2021-03-02T09:38:48.1737158Z [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-compiler-plugin:3.1: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:3.1\r\n2021-03-02T09:38:48.1737237Z Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/mojo/flatten-maven-plugin/1.0.0/flatten-maven-plugin-1.0.0.pom\r\n2021-03-02T09:38:48.1737345Z [WARNING] Failed to retrieve plugin descriptor for org.codehaus.mojo:flatten-maven-plugin:1.0.0: Plugin org.codehaus.mojo:flatten-maven-plugin:1.0.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.codehaus.mojo:flatten-maven-plugin:jar:1.0.0\r\n\r\n2021-03-02T09:38:48.1747396Z [INFO] BUILD FAILURE\r\n2021-03-02T09:38:48.1747597Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T09:38:48.1747769Z [INFO] Total time:  05:16 min\r\n2021-03-02T09:38:48.1747937Z [INFO] Finished at: 2021-03-02T09:38:48Z\r\n2021-03-02T09:38:48.1748208Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T09:38:48.1748988Z [ERROR] No plugin found for prefix &#39;help&#39; in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\testuser\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\r\n2021-03-02T09:38:48.1749191Z [ERROR]```","title":"No plugin found for prefix &#39;help&#39; in the current project","body":"<p>I am using azure build pipeline to package my code, &amp; using maven to compile my code, however i am getting below error.</p>\n<pre><code>2021-03-02T09:38:48.1737056Z Downloading from central: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-compiler-plugin/3.1/maven-compiler-plugin-3.1.pom\n2021-03-02T09:38:48.1737158Z [WARNING] Failed to retrieve plugin descriptor for org.apache.maven.plugins:maven-compiler-plugin:3.1: Plugin org.apache.maven.plugins:maven-compiler-plugin:3.1 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-compiler-plugin:jar:3.1\n2021-03-02T09:38:48.1737237Z Downloading from central: https://repo.maven.apache.org/maven2/org/codehaus/mojo/flatten-maven-plugin/1.0.0/flatten-maven-plugin-1.0.0.pom\n2021-03-02T09:38:48.1737345Z [WARNING] Failed to retrieve plugin descriptor for org.codehaus.mojo:flatten-maven-plugin:1.0.0: Plugin org.codehaus.mojo:flatten-maven-plugin:1.0.0 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.codehaus.mojo:flatten-maven-plugin:jar:1.0.0\n\n2021-03-02T09:38:48.1747396Z [INFO] BUILD FAILURE\n2021-03-02T09:38:48.1747597Z [INFO] ------------------------------------------------------------------------\n2021-03-02T09:38:48.1747769Z [INFO] Total time:  05:16 min\n2021-03-02T09:38:48.1747937Z [INFO] Finished at: 2021-03-02T09:38:48Z\n2021-03-02T09:38:48.1748208Z [INFO] ------------------------------------------------------------------------\n2021-03-02T09:38:48.1748988Z [ERROR] No plugin found for prefix 'help' in the current project and in the plugin groups [org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (C:\\Users\\testuser\\.m2\\repository), central (https://repo.maven.apache.org/maven2)] -&gt; [Help 1]\n2021-03-02T09:38:48.1749191Z [ERROR]```\n</code></pre>\n"},{"tags":["java","eclipse","swt"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681981805,"creation_date":1681981805,"answer_id":76062397,"question_id":76062132,"body_markdown":"SWT does not yet support different zoom values:\r\n\r\n[**Eclipse SWT issue #131** - *[Multi-Monitor] SWT applications to support and work with different zoom values per Shell.*][1]\r\n\r\n\r\n  [1]: https://github.com/eclipse-platform/eclipse.platform.swt/issues/131","title":"org.eclipse.swt.widgets.Monitor does not retun correct values for the 2-nd monitor","body":"<p>SWT does not yet support different zoom values:</p>\n<p><a href=\"https://github.com/eclipse-platform/eclipse.platform.swt/issues/131\" rel=\"nofollow noreferrer\"><strong>Eclipse SWT issue #131</strong> - <em>[Multi-Monitor] SWT applications to support and work with different zoom values per Shell.</em></a></p>\n"}],"owner":{"account_id":28168806,"reputation":3,"user_id":21527639,"display_name":"know"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76062397,"answer_count":1,"score":0,"last_activity_date":1681981805,"creation_date":1681980105,"question_id":76062132,"body_markdown":"I want to get dimensions and zoom of all monitors.\r\nCode: \r\n\r\n\r\n```\r\npackage root.viewer.rcp.util;\r\n\r\nimport org.eclipse.swt.widgets.Display;\r\nimport org.eclipse.swt.widgets.Monitor;\r\nimport org.eclipse.ui.PlatformUI;\r\n\r\npublic class ApplicationMonitorsManager\r\n{\r\n  public Monitor[] monitors;\r\n  //public Display display = new Display();\r\n  \r\n  public ApplicationMonitorsManager()\r\n  {\r\n    \r\n  }\r\n  \r\n  public Monitor[] getMonitors()\r\n  {\r\n    //Display display = Display.getCurrent();\r\n    Display display = PlatformUI.createDisplay();\r\n    monitors = display.getMonitors();\r\n    return monitors;\r\n  }\r\n}\r\n```\r\n\r\nValues for primary monitor are correct:\r\n\r\n\r\n```\r\nclientHeight\t2070\t\r\nclientWidth\t3840\t\r\nclientX\t0\t\r\nclientY\t0\t\r\nhandle\t200823\t\r\nheight\t2160\t\r\nwidth\t3840\t\r\nx\t0\t\r\ny\t0\t\r\nzoom\t225\t\r\n\r\n```\r\n\r\nThe second monitor has the same resolution, but zoom is 125%. Values I get:\r\n\r\n\r\n```\r\nclientHeight\t3798\t\r\nclientWidth\t6912\t\r\nclientX\t6912\t\r\nclientY\t0\t\r\nhandle\t200517\t\r\nheight\t3888\t\r\nwidth\t6912\t\r\nx\t6912\t\r\ny\t0\t\r\nzoom\t225\t\r\n\r\n```\r\nAny idea what is wrong, please?\r\n\r\n\r\nDoes not matter if I try `Display display = Display.getCurrent()` or `Display display = PlatformUI.createDisplay()`. For `Display display = new Display()` application crashes with `SWTException: Invalid thread access`.","title":"org.eclipse.swt.widgets.Monitor does not retun correct values for the 2-nd monitor","body":"<p>I want to get dimensions and zoom of all monitors.\nCode:</p>\n<pre><code>package root.viewer.rcp.util;\n\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Monitor;\nimport org.eclipse.ui.PlatformUI;\n\npublic class ApplicationMonitorsManager\n{\n  public Monitor[] monitors;\n  //public Display display = new Display();\n  \n  public ApplicationMonitorsManager()\n  {\n    \n  }\n  \n  public Monitor[] getMonitors()\n  {\n    //Display display = Display.getCurrent();\n    Display display = PlatformUI.createDisplay();\n    monitors = display.getMonitors();\n    return monitors;\n  }\n}\n</code></pre>\n<p>Values for primary monitor are correct:</p>\n<pre><code>clientHeight    2070    \nclientWidth 3840    \nclientX 0   \nclientY 0   \nhandle  200823  \nheight  2160    \nwidth   3840    \nx   0   \ny   0   \nzoom    225 \n\n</code></pre>\n<p>The second monitor has the same resolution, but zoom is 125%. Values I get:</p>\n<pre><code>clientHeight    3798    \nclientWidth 6912    \nclientX 6912    \nclientY 0   \nhandle  200517  \nheight  3888    \nwidth   6912    \nx   6912    \ny   0   \nzoom    225 \n\n</code></pre>\n<p>Any idea what is wrong, please?</p>\n<p>Does not matter if I try <code>Display display = Display.getCurrent()</code> or <code>Display display = PlatformUI.createDisplay()</code>. For <code>Display display = new Display()</code> application crashes with <code>SWTException: Invalid thread access</code>.</p>\n"},{"tags":["java","multithreading","jvm","classloader"],"answers":[{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1408942169,"post_id":1771725,"comment_id":39764501,"body_markdown":"Why do you say that `ClassB` must be on the classpath of `ClassA`&#39;s loader (or `ClassA`&#39;s loader&#39;s parents)? Isn&#39;t it possible for `ClassA`&#39;s loader to override [`loadClass()`](http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#loadClass(java.lang.String,%20boolean)), such that it can successfully load `ClassB` even when `ClassB` is not on its classpath?","body":"Why do you say that <code>ClassB</code> must be on the classpath of <code>ClassA</code>&#39;s loader (or <code>ClassA</code>&#39;s loader&#39;s parents)? Isn&#39;t it possible for <code>ClassA</code>&#39;s loader to override <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#loadClass(java.lang.String,%20boolean)\" rel=\"nofollow noreferrer\"><code>loadClass()</code></a>, such that it can successfully load <code>ClassB</code> even when <code>ClassB</code> is not on its classpath?"},{"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"score":11,"creation_date":1409051954,"post_id":1771725,"comment_id":39811248,"body_markdown":"Indeed, not all classloaders have a classpath.  When wrote &quot;ClassB needs to be on the classpath of the classloader of ClassA&quot;, I meant &quot;ClassB needs to loadable by the classloader of ClassA&quot;.  90% of the time they mean the same.  But if you are not using a URL based classloader, then only the second case is true.","body":"Indeed, not all classloaders have a classpath.  When wrote &quot;ClassB needs to be on the classpath of the classloader of ClassA&quot;, I meant &quot;ClassB needs to loadable by the classloader of ClassA&quot;.  90% of the time they mean the same.  But if you are not using a URL based classloader, then only the second case is true."},{"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"score":0,"creation_date":1409063149,"post_id":1771725,"comment_id":39818715,"body_markdown":"What does it mean to say that &quot;`ClassA.class` references `ClassB.class`&quot;?","body":"What does it mean to say that &quot;<code>ClassA.class</code> references <code>ClassB.class</code>&quot;?"},{"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"score":2,"creation_date":1409132795,"post_id":1771725,"comment_id":39847222,"body_markdown":"When ClassA has an import statement for ClassB, or if there is a method in ClassA that has a local variable of type ClassB. That will trigger ClassB to be loaded, if it&#39;s not loaded already.","body":"When ClassA has an import statement for ClassB, or if there is a method in ClassA that has a local variable of type ClassB. That will trigger ClassB to be loaded, if it&#39;s not loaded already."},{"owner":{"account_id":973103,"reputation":1596,"user_id":995199,"accept_rate":81,"display_name":"Marcin Erbel"},"score":0,"creation_date":1427301720,"post_id":1771725,"comment_id":46725050,"body_markdown":"I think my problem is connected with this topic. What do you think about my sollution? I know that it&#39;s not a good pattern, but I don&#39;t have any other idea how to fix it:\nhttp://stackoverflow.com/questions/29238493/org-jboss-mx-loading-loadmgr3-beginloadtask-after-invoke-clustered-jms-apps","body":"I think my problem is connected with this topic. What do you think about my sollution? I know that it&#39;s not a good pattern, but I don&#39;t have any other idea how to fix it: <a href=\"http://stackoverflow.com/questions/29238493/org-jboss-mx-loading-loadmgr3-beginloadtask-after-invoke-clustered-jms-apps\" title=\"org jboss mx loading loadmgr3 beginloadtask after invoke clustered jms apps\">stackoverflow.com/questions/29238493/&hellip;</a>"}],"tags":[],"owner":{"account_id":64785,"reputation":5816,"user_id":191084,"accept_rate":75,"display_name":"David Roussel"},"comment_count":5,"down_vote_count":3,"up_vote_count":176,"is_accepted":true,"score":173,"last_activity_date":1383061048,"creation_date":1258735347,"answer_id":1771725,"question_id":1771679,"body_markdown":"Each class will use its own classloader to load other classes. So if `ClassA.class` references `ClassB.class` then `ClassB` needs to be on the classpath of the classloader of `ClassA`, or its parents.\r\n\r\nThe thread context classloader is the current classloader for the current thread. An object can be created from a class in `ClassLoaderC` and then passed to a thread owned by `ClassLoaderD`.  In this case the object needs to use `Thread.currentThread().getContextClassLoader()` directly if it wants to load resources that are not available on its own classloader.","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>Each class will use its own classloader to load other classes. So if <code>ClassA.class</code> references <code>ClassB.class</code> then <code>ClassB</code> needs to be on the classpath of the classloader of <code>ClassA</code>, or its parents.</p>\n\n<p>The thread context classloader is the current classloader for the current thread. An object can be created from a class in <code>ClassLoaderC</code> and then passed to a thread owned by <code>ClassLoaderD</code>.  In this case the object needs to use <code>Thread.currentThread().getContextClassLoader()</code> directly if it wants to load resources that are not available on its own classloader.</p>\n"},{"comments":[{"owner":{"account_id":1123316,"reputation":6969,"user_id":1111130,"accept_rate":65,"display_name":"Sunny Gupta"},"score":0,"creation_date":1375894718,"post_id":1772346,"comment_id":26512477,"body_markdown":"As it is suggested that the workaround is to make the core JNDI classes use thread context loaders, I didn&#39;t understand how this helps in this case.We want to load the implementation vendor classes using parent classloader but they are not visible to parent classloader. So how can we load them using parent, even if we set this parent classloader in context classloader of thread.","body":"As it is suggested that the workaround is to make the core JNDI classes use thread context loaders, I didn&#39;t understand how this helps in this case.We want to load the implementation vendor classes using parent classloader but they are not visible to parent classloader. So how can we load them using parent, even if we set this parent classloader in context classloader of thread."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":6,"creation_date":1378408203,"post_id":1772346,"comment_id":27451195,"body_markdown":"@SAM, the suggested workaround is actually quite the opposite from what you&#39;re saying at the end. It&#39;s not the parent `bootstrap` class loader being set as the context class loader but the child `system` classpath class loader that the `Thread` is being set up with. The `JNDI` classes are then making sure to use `Thread.currentThread().getContextClassLoader()` to load the JNDI implementation classes available on the classpath.","body":"@SAM, the suggested workaround is actually quite the opposite from what you&#39;re saying at the end. It&#39;s not the parent <code>bootstrap</code> class loader being set as the context class loader but the child <code>system</code> classpath class loader that the <code>Thread</code> is being set up with. The <code>JNDI</code> classes are then making sure to use <code>Thread.currentThread().getContextClassLoader()</code> to load the JNDI implementation classes available on the classpath."},{"owner":{"account_id":9664474,"reputation":1495,"user_id":7171370,"accept_rate":90,"display_name":"YuFeng Shen"},"score":0,"creation_date":1538498748,"post_id":1772346,"comment_id":92160141,"body_markdown":"&quot;Normal J2SE delegation does not work&quot;, may I know why it does not work? Because the  Bootstrap ClassLoader can only load class from rt.jar and  cannot load the class from the application&#39;s -classpath? Right?","body":"&quot;Normal J2SE delegation does not work&quot;, may I know why it does not work? Because the  Bootstrap ClassLoader can only load class from rt.jar and  cannot load the class from the application&#39;s -classpath? Right?"}],"tags":[],"owner":{"account_id":11027,"reputation":2081,"user_id":21105,"accept_rate":82,"display_name":"Timour"},"comment_count":3,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1614684260,"creation_date":1258741073,"answer_id":1772346,"question_id":1771679,"body_markdown":"There is an article on infoworld.com that explains the difference \r\n=&gt; [Which ClassLoader should you use][1]\r\n\r\n\r\n  [1]: https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html\r\n\r\n(1)\r\n&gt; Thread context classloaders provide a\r\n&gt; back door around the classloading\r\n&gt; delegation scheme. \r\n&gt; \r\n&gt; Take JNDI for instance: its guts are\r\n&gt; implemented by bootstrap classes in\r\n&gt; rt.jar (starting with J2SE 1.3), but\r\n&gt; these core JNDI classes may load JNDI\r\n&gt; providers implemented by independent\r\n&gt; vendors and potentially deployed in\r\n&gt; the application&#39;s -classpath. This\r\n&gt; scenario calls for a parent\r\n&gt; classloader (the primordial one in\r\n&gt; this case) to load a class visible to\r\n&gt; one of its child classloaders (the\r\n&gt; system one, for example). Normal J2SE\r\n&gt; delegation does not work, and the\r\n&gt; workaround is to make the core JNDI\r\n&gt; classes use thread context loaders,\r\n&gt; thus effectively &quot;tunneling&quot; through\r\n&gt; the classloader hierarchy in the\r\n&gt; direction opposite to the proper\r\n&gt; delegation.\r\n\r\n(2) from the same source:\r\n\r\n&gt; This confusion will probably stay with\r\n&gt; Java for some time. Take any J2SE API\r\n&gt; with dynamic resource loading of any\r\n&gt; kind and try to guess which loading\r\n&gt; strategy it uses. Here is a sampling:\r\n&gt; \r\n&gt; - JNDI uses context classloaders\r\n&gt; - Class.getResource() and Class.forName() use the current classloader \r\n&gt; - JAXP uses context classloaders (as of J2SE 1.4)\r\n&gt; - java.util.ResourceBundle uses the caller&#39;s current classloader \r\n&gt; - URL protocol handlers specified via java.protocol.handler.pkgs system property are looked up in the bootstrap and system classloaders only\r\n&gt; - Java Serialization API uses the caller&#39;s current classloader by default","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>There is an article on infoworld.com that explains the difference\n=&gt; <a href=\"https://www.infoworld.com/article/2077344/find-a-way-out-of-the-classloader-maze.html\" rel=\"nofollow noreferrer\">Which ClassLoader should you use</a></p>\n<p>(1)</p>\n<blockquote>\n<p>Thread context classloaders provide a\nback door around the classloading\ndelegation scheme.</p>\n<p>Take JNDI for instance: its guts are\nimplemented by bootstrap classes in\nrt.jar (starting with J2SE 1.3), but\nthese core JNDI classes may load JNDI\nproviders implemented by independent\nvendors and potentially deployed in\nthe application's -classpath. This\nscenario calls for a parent\nclassloader (the primordial one in\nthis case) to load a class visible to\none of its child classloaders (the\nsystem one, for example). Normal J2SE\ndelegation does not work, and the\nworkaround is to make the core JNDI\nclasses use thread context loaders,\nthus effectively &quot;tunneling&quot; through\nthe classloader hierarchy in the\ndirection opposite to the proper\ndelegation.</p>\n</blockquote>\n<p>(2) from the same source:</p>\n<blockquote>\n<p>This confusion will probably stay with\nJava for some time. Take any J2SE API\nwith dynamic resource loading of any\nkind and try to guess which loading\nstrategy it uses. Here is a sampling:</p>\n<ul>\n<li>JNDI uses context classloaders</li>\n<li>Class.getResource() and Class.forName() use the current classloader</li>\n<li>JAXP uses context classloaders (as of J2SE 1.4)</li>\n<li>java.util.ResourceBundle uses the caller's current classloader</li>\n<li>URL protocol handlers specified via java.protocol.handler.pkgs system property are looked up in the bootstrap and system classloaders only</li>\n<li>Java Serialization API uses the caller's current classloader by default</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":2,"up_vote_count":47,"is_accepted":false,"score":45,"last_activity_date":1681981661,"creation_date":1456639295,"answer_id":35679314,"question_id":1771679,"body_markdown":"Adding to @David Roussel answer, classes may be loaded by multiple class loaders.\r\n\r\nLets understand how [class loader][1] works.\r\n\r\n &gt;*Bootstrap ClassLoader* is responsible for loading standard JDK class files from rt.jar and it is parent of all class loaders in Java. Bootstrap class loader don&#39;t have any parents.\r\n\r\n &gt;*Extension ClassLoader* delegates class loading request to its parent, Bootstrap and if unsuccessful, loads class form jre/lib/ext directory or any other directory pointed by java.ext.dirs system property\r\n\r\n &gt;*System or Application class loader* and it is responsible for loading application specific classes from CLASSPATH environment variable, -classpath or -cp command line option, Class-Path attribute of Manifest file inside JAR. \r\n\r\n &gt;*Application class loader* is a child of *Extension ClassLoader* and its implemented by `sun.misc.Launcher$AppClassLoader` class.\r\n\r\n `ClassLoader` follows three principles.\r\n\r\n### *Delegation principle*\r\n\r\n&gt; A class is loaded in Java, when its needed. Suppose you have an application specific class called Abc.class, first request of loading this class will come to Application ClassLoader which will delegate to its parent Extension ClassLoader which further delegates to Primordial or Bootstrap class loader\r\n\r\n**NOTE:** Except *Bootstrap class loader*, which is implemented in native language mostly in C,  all  Java class loaders are implemented using `java.lang.ClassLoader`.\r\n\r\n### *Visibility Principle*\r\n\r\n&gt; According to visibility principle, **Child ClassLoader** can see class loaded by **Parent ClassLoader** but vice-versa is not true. \r\n\r\n### *Uniqueness Principle*\r\n\r\n&gt;According to this principle a class loaded by Parent should not be loaded by Child ClassLoader again\r\n\r\n\r\n**Source** :javin paul blog in javarevisited :\r\n\r\n  [1]: http://javarevisited.blogspot.com/2012/12/how-classloader-works-in-java.html\r\n","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>Adding to @David Roussel answer, classes may be loaded by multiple class loaders.</p>\n<p>Lets understand how <a href=\"http://javarevisited.blogspot.com/2012/12/how-classloader-works-in-java.html\" rel=\"nofollow noreferrer\">class loader</a> works.</p>\n<blockquote>\n<p><em>Bootstrap ClassLoader</em> is responsible for loading standard JDK class files from rt.jar and it is parent of all class loaders in Java. Bootstrap class loader don't have any parents.</p>\n</blockquote>\n<blockquote>\n<p><em>Extension ClassLoader</em> delegates class loading request to its parent, Bootstrap and if unsuccessful, loads class form jre/lib/ext directory or any other directory pointed by java.ext.dirs system property</p>\n</blockquote>\n<blockquote>\n<p><em>System or Application class loader</em> and it is responsible for loading application specific classes from CLASSPATH environment variable, -classpath or -cp command line option, Class-Path attribute of Manifest file inside JAR.</p>\n</blockquote>\n<blockquote>\n<p><em>Application class loader</em> is a child of <em>Extension ClassLoader</em> and its implemented by <code>sun.misc.Launcher$AppClassLoader</code> class.</p>\n</blockquote>\n<p><code>ClassLoader</code> follows three principles.</p>\n<h3><em>Delegation principle</em></h3>\n<blockquote>\n<p>A class is loaded in Java, when its needed. Suppose you have an application specific class called Abc.class, first request of loading this class will come to Application ClassLoader which will delegate to its parent Extension ClassLoader which further delegates to Primordial or Bootstrap class loader</p>\n</blockquote>\n<p><strong>NOTE:</strong> Except <em>Bootstrap class loader</em>, which is implemented in native language mostly in C,  all  Java class loaders are implemented using <code>java.lang.ClassLoader</code>.</p>\n<h3><em>Visibility Principle</em></h3>\n<blockquote>\n<p>According to visibility principle, <strong>Child ClassLoader</strong> can see class loaded by <strong>Parent ClassLoader</strong> but vice-versa is not true.</p>\n</blockquote>\n<h3><em>Uniqueness Principle</em></h3>\n<blockquote>\n<p>According to this principle a class loaded by Parent should not be loaded by Child ClassLoader again</p>\n</blockquote>\n<p><strong>Source</strong> :javin paul blog in javarevisited :</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":10,"creation_date":1482411600,"post_id":36228195,"comment_id":69769037,"body_markdown":"Yes, this is the answer I&#39;d point out to anyone asking the question.","body":"Yes, this is the answer I&#39;d point out to anyone asking the question."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":13,"creation_date":1574109890,"post_id":36228195,"comment_id":104106648,"body_markdown":"This answer focuses on using the class loader for loading classes (to instantiate them through reflection or similar), while another purpose it&#39;s used for (and, in fact, the only purpose I&#39;ve ever used it for personally) is loading resources. Does the same principle apply, or are there situations where you&#39;d want to fetch resources through the context class loader rather than the caller class loader?","body":"This answer focuses on using the class loader for loading classes (to instantiate them through reflection or similar), while another purpose it&#39;s used for (and, in fact, the only purpose I&#39;ve ever used it for personally) is loading resources. Does the same principle apply, or are there situations where you&#39;d want to fetch resources through the context class loader rather than the caller class loader?"},{"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"score":3,"creation_date":1625579244,"post_id":36228195,"comment_id":120660234,"body_markdown":"Beware that `getClass().getClassLoader()` is not necessarily the same as `ThisClass.class.getClassLoader()`, unless `ThisClass` is `final` or you otherwise know that subclasses do not exist.","body":"Beware that <code>getClass().getClassLoader()</code> is not necessarily the same as <code>ThisClass.class.getClassLoader()</code>, unless <code>ThisClass</code> is <code>final</code> or you otherwise know that subclasses do not exist."},{"owner":{"account_id":10890758,"reputation":1829,"user_id":8006613,"display_name":"Shadab"},"score":0,"creation_date":1658131067,"post_id":36228195,"comment_id":128965273,"body_markdown":"Suppose if i set original class loader in child thread does it gives some problems. ClassLoader  originalClassLoader = Thread.currentThread().getContextClassLoader();\ntry {\n    Thread.currentThread().setContextClassLoader(originalClassLoader );\n    // call some API that uses reflection without taking ClassLoader param\n}","body":"Suppose if i set original class loader in child thread does it gives some problems. ClassLoader  originalClassLoader = Thread.currentThread().getContextClassLoader(); try {     Thread.currentThread().setContextClassLoader(originalClassLo&zwnj;&#8203;ader );     // call some API that uses reflection without taking ClassLoader param }"}],"tags":[],"owner":{"account_id":216232,"reputation":18304,"user_id":471341,"accept_rate":70,"display_name":"yonran"},"comment_count":4,"down_vote_count":4,"up_vote_count":201,"is_accepted":false,"score":197,"last_activity_date":1535667377,"creation_date":1458940677,"answer_id":36228195,"question_id":1771679,"body_markdown":"This does not answer the original question, but as the question is highly ranked and linked for any `ContextClassLoader` query, I think it is important to answer the related question of when the context class loader should be used. Short answer: **never use the context class loader**! But set it to `getClass().getClassLoader()` when you have to call a method that is missing a `ClassLoader` parameter.\r\n\r\nWhen code from one class asks to load another class, **the correct class loader to use is the same class loader as the caller class** (i.e., `getClass().getClassLoader()`). This is the way things work 99.9% of the time because [this is what the JVM does itself](https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.4.3.1) the first time you construct an instance of a new class, invoke a static method, or access a static field.\r\n\r\nWhen you want to create a class using reflection (such as when deserializing or loading a configurable named class), the library that does the reflection should **always ask the application** which class loader to use, by receiving the `ClassLoader` as a parameter from the application. The application (which knows all the classes that need constructing) should pass it `getClass().getClassLoader()`.\r\n\r\nAny other way to obtain a class loader is incorrect. If a library uses hacks such as [`Thread.getContextClassLoader()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java#l814), [`sun.misc.VM.latestUserDefinedLoader()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/io/ObjectInputStream.java#l2399), or [`sun.reflect.Reflection.getCallerClass()`](http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/lang/Class.java#l291) it is a bug caused by a deficiency in the API. Basically, `Thread.getContextClassLoader()` exists only because whoever designed  the `ObjectInputStream` API forgot to accept the `ClassLoader` as a parameter, and this mistake has haunted the Java community to this day.\r\n\r\nThat said, many many JDK classes use one of a few hacks to guess some class loader to use. Some use the `ContextClassLoader` (which fails when you run different apps on a shared thread pool, or when you leave the `ContextClassLoader null`), some walk the stack (which fails when the direct caller of the class is itself a library), some use the system class loader (which is fine, as long as it is documented to only use classes in the `CLASSPATH`) or bootstrap class loader, and some use an unpredictable combination of the above techniques (which only makes things more confusing). This has resulted in much weeping and gnashing of teeth. \r\n\r\nWhen using such an API, **first, try to find an overload of the method that accepts the class loader as a parameter**. If there is no sensible method, then try setting the `ContextClassLoader` before the API call (and resetting it afterwards):\r\n\r\n    ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\r\n    try {\r\n        Thread.currentThread().setContextClassLoader(getClass().getClassLoader());\r\n        // call some API that uses reflection without taking ClassLoader param\r\n    } finally {\r\n        Thread.currentThread().setContextClassLoader(originalClassLoader);\r\n    }","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>This does not answer the original question, but as the question is highly ranked and linked for any <code>ContextClassLoader</code> query, I think it is important to answer the related question of when the context class loader should be used. Short answer: <strong>never use the context class loader</strong>! But set it to <code>getClass().getClassLoader()</code> when you have to call a method that is missing a <code>ClassLoader</code> parameter.</p>\n\n<p>When code from one class asks to load another class, <strong>the correct class loader to use is the same class loader as the caller class</strong> (i.e., <code>getClass().getClassLoader()</code>). This is the way things work 99.9% of the time because <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-5.html#jvms-5.4.3.1\" rel=\"noreferrer\">this is what the JVM does itself</a> the first time you construct an instance of a new class, invoke a static method, or access a static field.</p>\n\n<p>When you want to create a class using reflection (such as when deserializing or loading a configurable named class), the library that does the reflection should <strong>always ask the application</strong> which class loader to use, by receiving the <code>ClassLoader</code> as a parameter from the application. The application (which knows all the classes that need constructing) should pass it <code>getClass().getClassLoader()</code>.</p>\n\n<p>Any other way to obtain a class loader is incorrect. If a library uses hacks such as <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.rmi/share/classes/sun/rmi/server/LoaderHandler.java#l814\" rel=\"noreferrer\"><code>Thread.getContextClassLoader()</code></a>, <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/io/ObjectInputStream.java#l2399\" rel=\"noreferrer\"><code>sun.misc.VM.latestUserDefinedLoader()</code></a>, or <a href=\"http://hg.openjdk.java.net/jdk10/jdk10/jdk/file/f3f6f6410d2d/src/java.base/share/classes/java/lang/Class.java#l291\" rel=\"noreferrer\"><code>sun.reflect.Reflection.getCallerClass()</code></a> it is a bug caused by a deficiency in the API. Basically, <code>Thread.getContextClassLoader()</code> exists only because whoever designed  the <code>ObjectInputStream</code> API forgot to accept the <code>ClassLoader</code> as a parameter, and this mistake has haunted the Java community to this day.</p>\n\n<p>That said, many many JDK classes use one of a few hacks to guess some class loader to use. Some use the <code>ContextClassLoader</code> (which fails when you run different apps on a shared thread pool, or when you leave the <code>ContextClassLoader null</code>), some walk the stack (which fails when the direct caller of the class is itself a library), some use the system class loader (which is fine, as long as it is documented to only use classes in the <code>CLASSPATH</code>) or bootstrap class loader, and some use an unpredictable combination of the above techniques (which only makes things more confusing). This has resulted in much weeping and gnashing of teeth. </p>\n\n<p>When using such an API, <strong>first, try to find an overload of the method that accepts the class loader as a parameter</strong>. If there is no sensible method, then try setting the <code>ContextClassLoader</code> before the API call (and resetting it afterwards):</p>\n\n<pre><code>ClassLoader originalClassLoader = Thread.currentThread().getContextClassLoader();\ntry {\n    Thread.currentThread().setContextClassLoader(getClass().getClassLoader());\n    // call some API that uses reflection without taking ClassLoader param\n} finally {\n    Thread.currentThread().setContextClassLoader(originalClassLoader);\n}\n</code></pre>\n"}],"owner":{"account_id":72979,"reputation":3097,"user_id":210434,"display_name":"abracadabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132789,"favorite_count":0,"down_vote_count":0,"up_vote_count":305,"accepted_answer_id":1771725,"answer_count":4,"score":305,"last_activity_date":1681981661,"creation_date":1258734825,"question_id":1771679,"body_markdown":"What is the difference between a thread&#39;s context class loader and a normal class loader?\r\n\r\nThat is, if `Thread.currentThread().getContextClassLoader()` and `getClass().getClassLoader()` return different class loader objects, which one will be used?","title":"Difference between thread&#39;s context class loader and normal classloader","body":"<p>What is the difference between a thread's context class loader and a normal class loader?</p>\n\n<p>That is, if <code>Thread.currentThread().getContextClassLoader()</code> and <code>getClass().getClassLoader()</code> return different class loader objects, which one will be used?</p>\n"},{"tags":["java","oracle","maven","weblogic"],"answers":[{"comments":[{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":1,"creation_date":1681974933,"post_id":76058200,"comment_id":134143645,"body_markdown":"Thank you very much for your help! Probably I got an idea. The native configuration pointed to `${WL_HOME}/wlportal_10.3`, but we have `${WL_HOME}/wlserver`. Maybe I just downloaded the wrong WebLogic product.. I hope so. Sadly I need them because there are a couple of imports..","body":"Thank you very much for your help! Probably I got an idea. The native configuration pointed to <code>${WL_HOME}&#47;wlportal_10.3</code>, but we have <code>${WL_HOME}&#47;wlserver</code>. Maybe I just downloaded the wrong WebLogic product.. I hope so. Sadly I need them because there are a couple of imports.."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":1,"creation_date":1681978175,"post_id":76058200,"comment_id":134144330,"body_markdown":"Indeed! Solved the problem. Thank you again for your help! Posting the answer asap","body":"Indeed! Solved the problem. Thank you again for your help! Posting the answer asap"}],"tags":[],"owner":{"account_id":5453560,"reputation":21,"user_id":4337682,"display_name":"krzysiek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681932770,"creation_date":1681932770,"answer_id":76058200,"question_id":76052349,"body_markdown":"Unfortunately, the solution won&#39;t be easy. The libraries you&#39;re looking for have probably disappeared from the Oracle Maven repository. It happens quite often that old Oracle libraries or plugins for jDeveloper are removed. I had the same problem with the Oracle WebCenter plugin for JDeveloper 11g. The only solution was to recover these files from another computer.\r\n\r\n\r\nI&#39;ve unpacked and searched recursively all jars from WebLogic installation 10.3.6, and definitely the libraries you mentioned aren&#39;t there, neither in JDeveloper nor in Integrated WebLogic. Which makes sense since you have said that the project connects to maven.oracle.com for these dependencies.\r\n\r\nI&#39;ve connected to Oracle Maven, and these libraries don&#39;t exist there anymore. They were quite old, so they were probably deleted.\r\n\r\nI see a few possible workarounds:\r\n\r\n1. Locate the war of the built project and unpack the libraries. I don&#39;t know what this project is, but if these are not WebLogic libraries but dependencies, they should be in war (or ear).\r\n2. Maybe someone has configured the whole environment for this project so you can copy libraries.\r\n3. If you have paid support, you can create a ticket to Oracle.\r\n4. Try to get help on the Oracle forum at https://community.oracle.com. Maybe you&#39;ll find someone who can help you.\r\n5. Check if you really need these libraries. Maybe if you exclude them from the pom, everything will work. If problem happens during deployment, maybe it&#39;s enough to add missing libraries. Trying newer versions of these libraries if some are available is also possible.","title":"Netuix and p13n dependencies missing","body":"<p>Unfortunately, the solution won't be easy. The libraries you're looking for have probably disappeared from the Oracle Maven repository. It happens quite often that old Oracle libraries or plugins for jDeveloper are removed. I had the same problem with the Oracle WebCenter plugin for JDeveloper 11g. The only solution was to recover these files from another computer.</p>\n<p>I've unpacked and searched recursively all jars from WebLogic installation 10.3.6, and definitely the libraries you mentioned aren't there, neither in JDeveloper nor in Integrated WebLogic. Which makes sense since you have said that the project connects to maven.oracle.com for these dependencies.</p>\n<p>I've connected to Oracle Maven, and these libraries don't exist there anymore. They were quite old, so they were probably deleted.</p>\n<p>I see a few possible workarounds:</p>\n<ol>\n<li>Locate the war of the built project and unpack the libraries. I don't know what this project is, but if these are not WebLogic libraries but dependencies, they should be in war (or ear).</li>\n<li>Maybe someone has configured the whole environment for this project so you can copy libraries.</li>\n<li>If you have paid support, you can create a ticket to Oracle.</li>\n<li>Try to get help on the Oracle forum at <a href=\"https://community.oracle.com\" rel=\"nofollow noreferrer\">https://community.oracle.com</a>. Maybe you'll find someone who can help you.</li>\n<li>Check if you really need these libraries. Maybe if you exclude them from the pom, everything will work. If problem happens during deployment, maybe it's enough to add missing libraries. Trying newer versions of these libraries if some are available is also possible.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681981241,"creation_date":1681978504,"answer_id":76061934,"question_id":76052349,"body_markdown":"Turns out I was pointing to a wrong WebLogic product! I discovered that the native `pom.xml` of the project has to work with WebLogic Portal 10.3.6 instead of WebLogic Server 10.3.6! It took me some time to find out a link to download this Portal (since it&#39;s in EOL) but here it is:\r\n\r\n1) Go to [this link][1]\r\n2) Prompt `WebLogic Portal` (do NOT click on the suggestion, either it will show a lot more stuff)\r\n3) Oracle WebLogic Portal 10.3.6.0.0, download it\r\n4) It will download an `.exe` that will download the `.zip` wherever you want\r\n5) Extract\r\n6) Run the `.jar` with Java 7 and follow the guided installation procedure\r\n\r\nIt will contain everything, both `p13n` and `netuix` libraries, plus an installation of WebLogic Server!\r\n\r\n\r\n  [1]: https://edelivery.oracle.com/osdc/faces/SoftwareDelivery","title":"Netuix and p13n dependencies missing","body":"<p>Turns out I was pointing to a wrong WebLogic product! I discovered that the native <code>pom.xml</code> of the project has to work with WebLogic Portal 10.3.6 instead of WebLogic Server 10.3.6! It took me some time to find out a link to download this Portal (since it's in EOL) but here it is:</p>\n<ol>\n<li>Go to <a href=\"https://edelivery.oracle.com/osdc/faces/SoftwareDelivery\" rel=\"nofollow noreferrer\">this link</a></li>\n<li>Prompt <code>WebLogic Portal</code> (do NOT click on the suggestion, either it will show a lot more stuff)</li>\n<li>Oracle WebLogic Portal 10.3.6.0.0, download it</li>\n<li>It will download an <code>.exe</code> that will download the <code>.zip</code> wherever you want</li>\n<li>Extract</li>\n<li>Run the <code>.jar</code> with Java 7 and follow the guided installation procedure</li>\n</ol>\n<p>It will contain everything, both <code>p13n</code> and <code>netuix</code> libraries, plus an installation of WebLogic Server!</p>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76061934,"answer_count":2,"score":1,"last_activity_date":1681981241,"creation_date":1681893232,"question_id":76052349,"body_markdown":"I have to recreate the local environment of a Maven project. Along other dependencies, it manually pulls some Oracle libraries from a local installation of WebLogic, using `truezip-maven-plugin` and `maven-install-plugin`, to put them into `.m2`.\r\n\r\nFor example, in my `pom.xml`:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;copy-weblogic-libs&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;files&gt;\r\n                        &lt;file&gt;\r\n                            &lt;source&gt;${WL_HOME}/wlserver/server/lib/consoleapp/APP-INF/lib/p13n_system.jar&lt;/source&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base&lt;/outputDirectory&gt;\r\n                        &lt;/file&gt;\r\n                    &lt;/files&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;copy&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;packaging&gt;jar&lt;/packaging&gt;\r\n            &lt;generatePom&gt;true&lt;/generatePom&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;install-com-bea-p13n-app-lib-base-p13n-system&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;file&gt;\r\n                        ${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base/p13n_system.jar\r\n                    &lt;/file&gt;\r\n                    &lt;groupId&gt;com.bea.p13n.p13n-app-lib-base&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;p13n_system&lt;/artifactId&gt;\r\n                    &lt;version&gt;10.3.6&lt;/version&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;install-file&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;phase&gt;install&lt;/phase&gt;            \r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis works fine.\r\n\r\n&lt;br&gt;\r\n\r\nBut the project requires other `.jars`, that don&#39;t seem to exist. Specifically, `p13n_app.jar`, `p13n_ejb.jar` and `netuix.jar` (all under `com.bea` domain). The project is setup to connect to `maven.oracle.com` through `settings.xml`. I tried searching for a manual download of these `.jars` but without success. &lt;br&gt; This is all I could find:\r\n\r\n- Manually browsing the Maven repository\r\n\r\n    https://repo.maven.apache.org/maven2/com/bea/\r\n\r\n    https://mvnrepository.com/artifact/com.bea.p13n\r\n\r\nDead end, since neither `netuix` nor `p13n` packages exist (even though there are results in `mvnrepository.com`).\r\n\r\n&lt;br&gt;\r\n\r\n - Manually browsing other repositories, like:\r\n\r\n    http://www.java2s.com/Code/Jar/c/com.bea.htm\r\n\r\nAgain, dead end for the same reason.\r\n\r\n    https://maven.oracle.com/com/bea/p13n/p13n-app-lib-base/p13n_app/10.3.6/p13n_app-10.3.6.pom\r\n\r\nThis is the link Maven tries to connect to download the dependency. It says `Not found`\r\n\r\n    http://nexus.emergya.es/nexus/index.html#nexus-search;quick~com.bea.p13n\r\n\r\nIt actually has some results, but when clicking the Download button it leads to [this page][1].\r\n\r\n- Installing a different WebLogic package. I installed a development version, so I thought it could miss something, but even after installing the standard WebLogic they are missing\r\n\r\n- Browsing existing WebLogic installments, like test environments from other projects\r\n\r\nShould I keep searching for these libraries or are they deprecated? Can I extract these libraries from a `war` already build with it? They seem to have been deleted anywhere. In this case I should search for a newer library (with the risk of incompatibilities with the code already written). Any help is highly appreciated!\r\n\r\n  [1]: http://nexus.emergya.es/nexus/service/local/artifact/maven/redirect?r=nexus-nuxeo&amp;g=com.bea.p13n&amp;a=ejb&amp;v=10.3.2&amp;e=jar","title":"Netuix and p13n dependencies missing","body":"<p>I have to recreate the local environment of a Maven project. Along other dependencies, it manually pulls some Oracle libraries from a local installation of WebLogic, using <code>truezip-maven-plugin</code> and <code>maven-install-plugin</code>, to put them into <code>.m2</code>.</p>\n<p>For example, in my <code>pom.xml</code>:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;truezip-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n    &lt;configuration&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy-weblogic-libs&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;files&gt;\n                    &lt;file&gt;\n                        &lt;source&gt;${WL_HOME}/wlserver/server/lib/consoleapp/APP-INF/lib/p13n_system.jar&lt;/source&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base&lt;/outputDirectory&gt;\n                    &lt;/file&gt;\n                &lt;/files&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;generatePom&gt;true&lt;/generatePom&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install-com-bea-p13n-app-lib-base-p13n-system&lt;/id&gt;\n            &lt;configuration&gt;\n                &lt;file&gt;\n                    ${project.build.directory}/temp/com.bea.p13n/p13n-app-lib-base/p13n_system.jar\n                &lt;/file&gt;\n                &lt;groupId&gt;com.bea.p13n.p13n-app-lib-base&lt;/groupId&gt;\n                &lt;artifactId&gt;p13n_system&lt;/artifactId&gt;\n                &lt;version&gt;10.3.6&lt;/version&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-file&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;install&lt;/phase&gt;            \n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>This works fine.</p>\n<br>\n<p>But the project requires other <code>.jars</code>, that don't seem to exist. Specifically, <code>p13n_app.jar</code>, <code>p13n_ejb.jar</code> and <code>netuix.jar</code> (all under <code>com.bea</code> domain). The project is setup to connect to <code>maven.oracle.com</code> through <code>settings.xml</code>. I tried searching for a manual download of these <code>.jars</code> but without success. <br> This is all I could find:</p>\n<ul>\n<li><p>Manually browsing the Maven repository</p>\n<p><a href=\"https://repo.maven.apache.org/maven2/com/bea/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/bea/</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/com.bea.p13n\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.bea.p13n</a></p>\n</li>\n</ul>\n<p>Dead end, since neither <code>netuix</code> nor <code>p13n</code> packages exist (even though there are results in <code>mvnrepository.com</code>).</p>\n<br>\n<ul>\n<li><p>Manually browsing other repositories, like:</p>\n<p><a href=\"http://www.java2s.com/Code/Jar/c/com.bea.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/c/com.bea.htm</a></p>\n</li>\n</ul>\n<p>Again, dead end for the same reason.</p>\n<pre><code>https://maven.oracle.com/com/bea/p13n/p13n-app-lib-base/p13n_app/10.3.6/p13n_app-10.3.6.pom\n</code></pre>\n<p>This is the link Maven tries to connect to download the dependency. It says <code>Not found</code></p>\n<pre><code>http://nexus.emergya.es/nexus/index.html#nexus-search;quick~com.bea.p13n\n</code></pre>\n<p>It actually has some results, but when clicking the Download button it leads to <a href=\"http://nexus.emergya.es/nexus/service/local/artifact/maven/redirect?r=nexus-nuxeo&amp;g=com.bea.p13n&amp;a=ejb&amp;v=10.3.2&amp;e=jar\" rel=\"nofollow noreferrer\">this page</a>.</p>\n<ul>\n<li><p>Installing a different WebLogic package. I installed a development version, so I thought it could miss something, but even after installing the standard WebLogic they are missing</p>\n</li>\n<li><p>Browsing existing WebLogic installments, like test environments from other projects</p>\n</li>\n</ul>\n<p>Should I keep searching for these libraries or are they deprecated? Can I extract these libraries from a <code>war</code> already build with it? They seem to have been deleted anywhere. In this case I should search for a newer library (with the risk of incompatibilities with the code already written). Any help is highly appreciated!</p>\n"},{"tags":["java","datetime","date","calendar"],"comments":[{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":2,"creation_date":1279722880,"post_id":3300328,"comment_id":3418619,"body_markdown":"*cough* Use Joda-Time. `DateTime newDate = date.plusWeeks(1);`","body":"<i>cough</i> Use Joda-Time. <code>DateTime newDate = date.plusWeeks(1);</code>"},{"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"score":7,"creation_date":1279723067,"post_id":3300328,"comment_id":3418660,"body_markdown":"The code is run on a Windows Mobile device using a JVM based largely on Java 1.2.  Joda is only tested against 1.4 and later, so I don&#39;t want to add a third party library that was not really designed to run on the platform I am using. But thanks for the suggestion.","body":"The code is run on a Windows Mobile device using a JVM based largely on Java 1.2.  Joda is only tested against 1.4 and later, so I don&#39;t want to add a third party library that was not really designed to run on the platform I am using. But thanks for the suggestion."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681525145,"post_id":3300328,"comment_id":134075031,"body_markdown":"**Update:** `GregorianCalendar`, and both `Date` classes bundled with Java were years ago supplanted by the modern *java.time* classes defined in JSR 310, and built into Java 8+.","body":"<b>Update:</b> <code>GregorianCalendar</code>, and both <code>Date</code> classes bundled with Java were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310, and built into Java 8+."}],"answers":[{"tags":[],"owner":{"account_id":46283,"reputation":2572,"user_id":136650,"accept_rate":86,"display_name":"raven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279722731,"creation_date":1279722731,"answer_id":3300355,"question_id":3300328,"body_markdown":"The more general, the more useful it will be.\r\nIf you always add a week, I&#39;d chose the second method. If you have different adds, I&#39;d chose the first one, perhaps replacing days for seconds or even millis if needed.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The more general, the more useful it will be.\nIf you always add a week, I'd chose the second method. If you have different adds, I'd chose the first one, perhaps replacing days for seconds or even millis if needed.</p>\n"},{"comments":[{"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"score":0,"creation_date":1279723143,"post_id":3300414,"comment_id":3418671,"body_markdown":"It is run on a Windows Mobile device, so performance is definitely a concern.  How much of an impact do you think it would have (roughly)?","body":"It is run on a Windows Mobile device, so performance is definitely a concern.  How much of an impact do you think it would have (roughly)?"},{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":0,"creation_date":1279723348,"post_id":3300414,"comment_id":3418708,"body_markdown":"Depends how often it&#39;s called, that kind of thing. To have an idea you&#39;d need to profile it. As an example though, in some time critical code I had to look over, we were constantly calling &quot;new Date().getTime()&quot; - replacing that with &quot;System.currentTimeMillis()&quot; made a significant difference because we weren&#39;t repeatedly instantiating Date objects.","body":"Depends how often it&#39;s called, that kind of thing. To have an idea you&#39;d need to profile it. As an example though, in some time critical code I had to look over, we were constantly calling &quot;new Date().getTime()&quot; - replacing that with &quot;System.currentTimeMillis()&quot; made a significant difference because we weren&#39;t repeatedly instantiating Date objects."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":3,"creation_date":1279724612,"post_id":3300414,"comment_id":3418962,"body_markdown":"&quot;will be slower&quot; is pretty subjective. Calendar and date field manipulation is mostly about changing the underlying `long` representation of the date anyway, which means that &quot;slower&quot; comes down to how fast it is to create objects - which is much much faster than most people think.","body":"&quot;will be slower&quot; is pretty subjective. Calendar and date field manipulation is mostly about changing the underlying <code>long</code> representation of the date anyway, which means that &quot;slower&quot; comes down to how fast it is to create objects - which is much much faster than most people think."},{"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"score":0,"creation_date":1279785086,"post_id":3300414,"comment_id":3426379,"body_markdown":"I agree, I clarified in my reply above.","body":"I agree, I clarified in my reply above."}],"tags":[],"owner":{"account_id":26295,"reputation":15672,"user_id":68283,"accept_rate":82,"display_name":"Rich"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1279723060,"creation_date":1279723060,"answer_id":3300414,"question_id":3300328,"body_markdown":"The first will be slower, so if performance is an issue, the second one is better.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The first will be slower, so if performance is an issue, the second one is better.</p>\n"},{"comments":[{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1279723167,"post_id":3300428,"comment_id":3418676,"body_markdown":"Another answer mentioned speed. If you have this logic encapsulated in one method, in one place, it will be VERY easy to benchmark it and tune it for speed as necessary.","body":"Another answer mentioned speed. If you have this logic encapsulated in one method, in one place, it will be VERY easy to benchmark it and tune it for speed as necessary."}],"tags":[],"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279724643,"creation_date":1279723113,"answer_id":3300428,"question_id":3300328,"body_markdown":"&lt;strike&gt;First and foremost, I would argue that you replace it with JodaTime. http://joda-time.sourceforge.net/ It is a very nice time library. You&#39;ll want to look at this page to see how easy it is to add days or weeks to a particular point in time: http://joda-time.sourceforge.net/key_period.html&lt;/strike&gt; Can&#39;t do this, mobile device with incompatible JVM. Bummer.\r\n\r\nYour first example is easier to read and will be easier to use by your developers. It also uses the Calendar classes which is the generally accepted way to manipulate dates in Java. What makes it better is that it has a clear method name that sets the expectation for what it does.\r\n\r\nSo if you refactor your system to consistently use com.DaveJ.util.date.DateUtils.addDaysToDate(final Date date, int noOfDays) you can then do whatever you want inside that method, be it Calendar or millis or Joda, and be consistent within your application. Don&#39;t forget to write some unit tests for it!","title":"Add 1 Week to a Date, which way is preferred?","body":"<p><strike>First and foremost, I would argue that you replace it with JodaTime. <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">http://joda-time.sourceforge.net/</a> It is a very nice time library. You'll want to look at this page to see how easy it is to add days or weeks to a particular point in time: <a href=\"http://joda-time.sourceforge.net/key_period.html\" rel=\"nofollow noreferrer\">http://joda-time.sourceforge.net/key_period.html</a></strike> Can't do this, mobile device with incompatible JVM. Bummer.</p>\n\n<p>Your first example is easier to read and will be easier to use by your developers. It also uses the Calendar classes which is the generally accepted way to manipulate dates in Java. What makes it better is that it has a clear method name that sets the expectation for what it does.</p>\n\n<p>So if you refactor your system to consistently use com.DaveJ.util.date.DateUtils.addDaysToDate(final Date date, int noOfDays) you can then do whatever you want inside that method, be it Calendar or millis or Joda, and be consistent within your application. Don't forget to write some unit tests for it!</p>\n"},{"tags":[],"owner":{"account_id":82150,"reputation":477,"user_id":231203,"display_name":"Po&#39; Lazarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723271,"creation_date":1279723271,"answer_id":3300450,"question_id":3300328,"body_markdown":"It depends! Because of leap seconds, DST and other calendar oddities, the two are not always equivalent.\r\n\r\nFor business and every day use, always use the first method and the performance are not bad at all. It will handle those things for you.\r\n\r\nFor scientific needs, often you have to use a monotone clock (here the second one).","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>It depends! Because of leap seconds, DST and other calendar oddities, the two are not always equivalent.</p>\n\n<p>For business and every day use, always use the first method and the performance are not bad at all. It will handle those things for you.</p>\n\n<p>For scientific needs, often you have to use a monotone clock (here the second one).</p>\n"},{"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723615,"creation_date":1279723615,"answer_id":3300509,"question_id":3300328,"body_markdown":"The two methods might give different results when a change in daylight saving time is involved. Imagine the current time is 23:50 and at 02:00 the clock jumps to 03:00. When you just add 7 days in milliseconds the time would be 00:50 on the following day. Addings 7 days, the resulting time would still be 23:50.\r\n\r\nTo make the confusion complete, you could also try `add(Calendar.WEEK_OF_YEAR, 1)`, not sure how that would differ though.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The two methods might give different results when a change in daylight saving time is involved. Imagine the current time is 23:50 and at 02:00 the clock jumps to 03:00. When you just add 7 days in milliseconds the time would be 00:50 on the following day. Addings 7 days, the resulting time would still be 23:50.</p>\n\n<p>To make the confusion complete, you could also try <code>add(Calendar.WEEK_OF_YEAR, 1)</code>, not sure how that would differ though.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1279723617,"creation_date":1279723617,"answer_id":3300510,"question_id":3300328,"body_markdown":"The two methods will behave differently on daylight savings boundaries.  The first method will continue returning the same time of the day, regardless of daylight savings status.  The second method will return times which vary an hour in each direction as daylight savings time starts and stops.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The two methods will behave differently on daylight savings boundaries.  The first method will continue returning the same time of the day, regardless of daylight savings status.  The second method will return times which vary an hour in each direction as daylight savings time starts and stops.</p>\n"},{"comments":[{"owner":{"account_id":5624,"reputation":86509,"user_id":9161,"accept_rate":53,"display_name":"Chris B."},"score":0,"creation_date":1279725236,"post_id":3300513,"comment_id":3419102,"body_markdown":"You really _shouldn&#39;t_ use `getInstance()`, in this case.  I&#39;m guessing the code is trying to calculate 1 week in the future according to the Gregorian Calendar, not one week in the future according to the user&#39;s local calendar.  Although why the user would be using the Decimal Calendar from the French Revolution, I have no idea.","body":"You really <i>shouldn&#39;t</i> use <code>getInstance()</code>, in this case.  I&#39;m guessing the code is trying to calculate 1 week in the future according to the Gregorian Calendar, not one week in the future according to the user&#39;s local calendar.  Although why the user would be using the Decimal Calendar from the French Revolution, I have no idea."}],"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279723632,"creation_date":1279723632,"answer_id":3300513,"question_id":3300328,"body_markdown":"Since you&#39;re using it on the mobile device, the first method is preferable. The reason is that your code should be independent of specific calendar, DST and other problems, such as seconds overrun(leap seconds). \r\n\r\nYou have to remove dependence on `GregorianCalendar` and create it using `Calendar.getInstance()`. ","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Since you're using it on the mobile device, the first method is preferable. The reason is that your code should be independent of specific calendar, DST and other problems, such as seconds overrun(leap seconds). </p>\n\n<p>You have to remove dependence on <code>GregorianCalendar</code> and create it using <code>Calendar.getInstance()</code>. </p>\n"},{"tags":[],"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1279742044,"creation_date":1279742044,"answer_id":3303259,"question_id":3300328,"body_markdown":"Be very careful about using method two which [caught me out](https://stackoverflow.com/questions/3165319/whats-wrong-with-this-random-date-of-birth-generator) the other day.  Consider\r\n\r\n    private static long ONE_YEAR_AS_MILLISECONDS = 365*24*60*60*1000;\r\n\r\nThis looks innocent enough, but in fact will not produce what is expected as the multiplication uses integers which, when multiplied by each the other integers, causes a numeric overflow and will yield an unexpected result.  This is because the max int value in Java is 2,147,483,647 and yet there are 31,536,000,000 ms in a year.  On my machine the above code produces 1,471,228,928 which is obviously not correct.\r\n\r\nInstead you need to do this:\r\n\r\n    private static long ONE_YEAR_AS_MILLISECONDS = 365L*24L*60L*60L*1000L;\r\n","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Be very careful about using method two which <a href=\"https://stackoverflow.com/questions/3165319/whats-wrong-with-this-random-date-of-birth-generator\">caught me out</a> the other day.  Consider</p>\n\n<pre><code>private static long ONE_YEAR_AS_MILLISECONDS = 365*24*60*60*1000;\n</code></pre>\n\n<p>This looks innocent enough, but in fact will not produce what is expected as the multiplication uses integers which, when multiplied by each the other integers, causes a numeric overflow and will yield an unexpected result.  This is because the max int value in Java is 2,147,483,647 and yet there are 31,536,000,000 ms in a year.  On my machine the above code produces 1,471,228,928 which is obviously not correct.</p>\n\n<p>Instead you need to do this:</p>\n\n<pre><code>private static long ONE_YEAR_AS_MILLISECONDS = 365L*24L*60L*60L*1000L;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1471292192,"post_id":38959522,"comment_id":65279438,"body_markdown":"Shorter simpler code omitting the `ChronoUnit` with same effect: `today.plusWeeks( 1 )`","body":"Shorter simpler code omitting the <code>ChronoUnit</code> with same effect: <code>today.plusWeeks( 1 )</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1471292304,"post_id":38959522,"comment_id":65279495,"body_markdown":"I suggest always passing a time zone (`ZoneId`) to the `now` method. If omitted your JVM’s current default time zone is implicitly applied. That default can vary, even *during* the execution of your app! The time zone is crucial as for any given moment the date varies around the globe.  `LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) )`","body":"I suggest always passing a time zone (<code>ZoneId</code>) to the <code>now</code> method. If omitted your JVM’s current default time zone is implicitly applied. That default can vary, even <i>during</i> the execution of your app! The time zone is crucial as for any given moment the date varies around the globe.  <code>LocalDate.now( ZoneId.of( &quot;America&#47;Montreal&quot; ) )</code>"}],"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1471280420,"creation_date":1471280420,"answer_id":38959522,"question_id":3300328,"body_markdown":"The below can be done in **java 8, Java 8 rocks** !!\r\n\r\n    public static void main(String[] args) {\r\n    \t\tLocalDate today = LocalDate.now();\r\n    \t\tSystem.out.println(&quot;Current date: &quot; + today);\r\n    \t\t\r\n    \t\t//add 1 week to the current date\r\n    \t\tLocalDate nextWeek = today.plus(1, ChronoUnit.WEEKS);\r\n    \t\tSystem.out.println(&quot;Next week: &quot; + nextWeek);\r\n    \t}","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>The below can be done in <strong>java 8, Java 8 rocks</strong> !!</p>\n\n<pre><code>public static void main(String[] args) {\n        LocalDate today = LocalDate.now();\n        System.out.println(\"Current date: \" + today);\n\n        //add 1 week to the current date\n        LocalDate nextWeek = today.plus(1, ChronoUnit.WEEKS);\n        System.out.println(\"Next week: \" + nextWeek);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681525326,"creation_date":1471292903,"answer_id":38962545,"question_id":3300328,"body_markdown":"# tl;dr\r\n\r\nFor a date only, use [`LocalDate`][1]:\r\n\r\n    java.time.LocalDate.now().plusWeeks( 1 ) \r\n\r\nFor a date with time-of-day, use [`ZonedDateTime`][2]:\r\n\r\n    java.time.ZonedDateTime.now().plusWeeks( 1 ) ;\r\n\r\n\r\n# Details\r\n\r\nFor a date-only value, see [the Answer by javaHelper](https://stackoverflow.com/a/38959522/642706). The [`LocalDate`][3] class purposely has no time-of-day and no time zone.\r\n\r\n## `ZonedDateTime`\r\n\r\nFor a date-time value, use [`ZonedDateTime`][4] to represent a date and a time-of-day along with a time zone to account for anomalies such as Daylight Saving Time (DST).\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime now = ZonedDateTime.now( zoneId );\r\n    ZonedDateTime weekLater = now.plusWeeks( 1 );\r\n\r\nOr add some arbitrary number of days.\r\n\r\n    ZonedDateTime later = now.plusDays( someNumberOfDays );\r\n\r\n## About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"Add 1 Week to a Date, which way is preferred?","body":"<h1>tl;dr</h1>\n<p>For a date only, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>:</p>\n<pre><code>java.time.LocalDate.now().plusWeeks( 1 ) \n</code></pre>\n<p>For a date with time-of-day, use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>:</p>\n<pre><code>java.time.ZonedDateTime.now().plusWeeks( 1 ) ;\n</code></pre>\n<h1>Details</h1>\n<p>For a date-only value, see <a href=\"https://stackoverflow.com/a/38959522/642706\">the Answer by javaHelper</a>. The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class purposely has no time-of-day and no time zone.</p>\n<h2><code>ZonedDateTime</code></h2>\n<p>For a date-time value, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to represent a date and a time-of-day along with a time zone to account for anomalies such as Daylight Saving Time (DST).</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime now = ZonedDateTime.now( zoneId );\nZonedDateTime weekLater = now.plusWeeks( 1 );\n</code></pre>\n<p>Or add some arbitrary number of days.</p>\n<pre><code>ZonedDateTime later = now.plusDays( someNumberOfDays );\n</code></pre>\n<h2>About java.time</h2>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681497716,"post_id":76014552,"comment_id":134071773,"body_markdown":"This will not work correctly on summer time transitions (spring forward, fall back).","body":"This will not work correctly on summer time transitions (spring forward, fall back)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1681525013,"post_id":76014552,"comment_id":134075021,"body_markdown":"Both `Date` classes bundled with Java are terribly flawed with poor design decisions. They were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Both <code>Date</code> classes bundled with Java are terribly flawed with poor design decisions. They were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"score":0,"creation_date":1681554429,"post_id":76014552,"comment_id":134077429,"body_markdown":"I totally agree that Date is terrible. But if it is used already in the code, sometimes you just need to use what you have. @OleV.V. that&#39;s a very interesting comment, could you elaborate? I view both Date and Instant classes as instants in time. Am I wrong?","body":"I totally agree that Date is terrible. But if it is used already in the code, sometimes you just need to use what you have. @OleV.V. that&#39;s a very interesting comment, could you elaborate? I view both Date and Instant classes as instants in time. Am I wrong?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1681557337,"post_id":76014552,"comment_id":134077783,"body_markdown":"You are correct. Assuming Europe/London time zone, when `date` is `Fri Mar 24 23:00:00 GMT 2023`, then `Date.from(date.toInstant().plus(7, ChronoUnit.DAYS))` yields `Sat Apr 01 00:00:00 BST 2023`. The `Instant` class assumes that every day is 24 hours, but in the UK Sunday 26 March this year was only 23 hours because summer time began and the clocks were turned forward.","body":"You are correct. Assuming Europe/London time zone, when <code>date</code> is <code>Fri Mar 24 23:00:00 GMT 2023</code>, then <code>Date.from(date.toInstant().plus(7, ChronoUnit.DAYS))</code> yields <code>Sat Apr 01 00:00:00 BST 2023</code>. The <code>Instant</code> class assumes that every day is 24 hours, but in the UK Sunday 26 March this year was only 23 hours because summer time began and the clocks were turned forward."},{"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"score":0,"creation_date":1681981103,"post_id":76014552,"comment_id":134144973,"body_markdown":"Thanks @OleV.V. I&#39;ve missed this. It&#39;s a good reminder about the arithmetic with &#39;Instant&#39; as well.","body":"Thanks @OleV.V. I&#39;ve missed this. It&#39;s a good reminder about the arithmetic with &#39;Instant&#39; as well."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682302808,"post_id":76014552,"comment_id":134188711,"body_markdown":"@Alexander &quot;But if it is used already in the code, sometimes you just need to use what you have&quot; … (A) I agree, use what we have. We have had *java.time* since Java 8, all the way through to today&#39;s Java 20. (B) The old legacy classes were given now conversion methods to easily convert back and forth between legacy and modern. So there is **no reason to write new code with the old classes**. Use *java.time* only.","body":"@Alexander &quot;But if it is used already in the code, sometimes you just need to use what you have&quot; … (A) I agree, use what we have. We have had <i>java.time</i> since Java 8, all the way through to today&#39;s Java 20. (B) The old legacy classes were given now conversion methods to easily convert back and forth between legacy and modern. So there is <b>no reason to write new code with the old classes</b>. Use <i>java.time</i> only."},{"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"score":0,"creation_date":1682339947,"post_id":76014552,"comment_id":134194614,"body_markdown":"@BasilBourque I had to use Date to test old classes. If old classes operate with Dates (i.e. conceptually, Instants), I could only play with Dates in the tests,","body":"@BasilBourque I had to use Date to test old classes. If old classes operate with Dates (i.e. conceptually, Instants), I could only play with Dates in the tests,"}],"tags":[],"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681981034,"creation_date":1681471037,"answer_id":76014552,"question_id":3300328,"body_markdown":"Since Java8, with `Date` only, ignoring any summer time/winter time shift between &#39;date&#39; and the future date:\r\n\r\n    Date newDate = Date.from(date.toInstant().plus(noOfDays, ChronoUnit.DAYS));","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>Since Java8, with <code>Date</code> only, ignoring any summer time/winter time shift between 'date' and the future date:</p>\n<pre><code>Date newDate = Date.from(date.toInstant().plus(noOfDays, ChronoUnit.DAYS));\n</code></pre>\n"}],"owner":{"account_id":49781,"reputation":10062,"user_id":148381,"accept_rate":89,"display_name":"DaveJohnston"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25893,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":3300510,"answer_count":11,"score":25,"last_activity_date":1681981034,"creation_date":1279722578,"question_id":3300328,"body_markdown":"I am reviewing some code at work and came across an inconsistency in how the code handles adding 1 week to the current time and was wondering if there was any reason why one should really be preferred over the other:\r\n\r\nThe first was a utility method:\r\n\r\n\tpublic static Date addDaysToDate(final Date date, int noOfDays) {\r\n\t\tDate newDate = new Date(date.getTime());\r\n\r\n\t\tGregorianCalendar calendar = new GregorianCalendar();\r\n\t\tcalendar.setTime(newDate);\r\n\t\tcalendar.add(Calendar.DATE, noOfDays);\r\n\t\tnewDate.setTime(calendar.getTime().getTime());\r\n\r\n\t\treturn newDate;\r\n\t}\r\n\r\nAnd the second used simple millisecond arithmetic:\r\n\r\n    long theFuture = System.currentTimeMillis() + (86400 * 7 * 1000);\r\n    Date nextWeek = new Date(theFuture);\r\n\r\nThe second method obviously uses &#39;magic numbers&#39; to define a week, but this could be moved to a constant `MILLISECONDS_IN_ONE_WEEK = 86400 * 7 * 1000`  So other than that, is there any reasons why one of these methods should be preferred over the other?  \r\n\r\nBasically I want to change the code to be consistent throughout, but I&#39;m not entirely sure which one to remove.  So any arguments one way or the other would be useful.","title":"Add 1 Week to a Date, which way is preferred?","body":"<p>I am reviewing some code at work and came across an inconsistency in how the code handles adding 1 week to the current time and was wondering if there was any reason why one should really be preferred over the other:</p>\n\n<p>The first was a utility method:</p>\n\n<pre><code>public static Date addDaysToDate(final Date date, int noOfDays) {\n    Date newDate = new Date(date.getTime());\n\n    GregorianCalendar calendar = new GregorianCalendar();\n    calendar.setTime(newDate);\n    calendar.add(Calendar.DATE, noOfDays);\n    newDate.setTime(calendar.getTime().getTime());\n\n    return newDate;\n}\n</code></pre>\n\n<p>And the second used simple millisecond arithmetic:</p>\n\n<pre><code>long theFuture = System.currentTimeMillis() + (86400 * 7 * 1000);\nDate nextWeek = new Date(theFuture);\n</code></pre>\n\n<p>The second method obviously uses 'magic numbers' to define a week, but this could be moved to a constant <code>MILLISECONDS_IN_ONE_WEEK = 86400 * 7 * 1000</code>  So other than that, is there any reasons why one of these methods should be preferred over the other?  </p>\n\n<p>Basically I want to change the code to be consistent throughout, but I'm not entirely sure which one to remove.  So any arguments one way or the other would be useful.</p>\n"},{"tags":["java","tcp","udp"],"owner":{"account_id":6009063,"reputation":1216,"user_id":4720030,"accept_rate":70,"display_name":"Shaheen Zahedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681980842,"creation_date":1681980842,"question_id":76062254,"body_markdown":"I want to implement a file server for a mobile app. This app requires so many tiny files to be downloaded from the server before it begins it&#39;s work And with updates from version to version some files are overwritten and some files gets modified or deleted.\r\n\r\nTried solutions:\r\n\r\n 1. Archive chunk download for each version, this means I create a zip file for each version and we serve the chunked zip file. The problem with this is that it&#39;s inefficient because extracting in the client requires too much extra space and second problem is that it&#39;s hard handling updates (downloading only necessary files when there are already some files on the client)\r\n 2. TCP download without archive, this one is inefficient because of too much overhead on TCP handshake for each file it wastes too much time\r\n 3. UDP download without archive, this one is not safe and we cannot guarantee the files downloaded on the client is healthy. Also doing checksum for each file on the client side is an expensive process we don&#39;t want to get into that.\r\n\r\nAny suggestions is highly appreciated.\r\n\r\n**Maybe it&#39;s woth mentioning that I use java spring boot on the server side**","title":"Implementing asset download for mobile app with updates","body":"<p>I want to implement a file server for a mobile app. This app requires so many tiny files to be downloaded from the server before it begins it's work And with updates from version to version some files are overwritten and some files gets modified or deleted.</p>\n<p>Tried solutions:</p>\n<ol>\n<li>Archive chunk download for each version, this means I create a zip file for each version and we serve the chunked zip file. The problem with this is that it's inefficient because extracting in the client requires too much extra space and second problem is that it's hard handling updates (downloading only necessary files when there are already some files on the client)</li>\n<li>TCP download without archive, this one is inefficient because of too much overhead on TCP handshake for each file it wastes too much time</li>\n<li>UDP download without archive, this one is not safe and we cannot guarantee the files downloaded on the client is healthy. Also doing checksum for each file on the client side is an expensive process we don't want to get into that.</li>\n</ol>\n<p>Any suggestions is highly appreciated.</p>\n<p><strong>Maybe it's woth mentioning that I use java spring boot on the server side</strong></p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb","spring-data-mongodb-reactive"],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681980771,"creation_date":1681980771,"answer_id":76062237,"question_id":75897357,"body_markdown":"&gt; type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot;\r\n\r\nThe error says that you are getting an array instead of an object at the plot key. If you check your document `UserPlot` you have Plot as a property, not an array. So aggregation from the second lookup is returning an array.\r\n\r\nSo, you need to use `$unwind` to convert the array to an object in aggregation. As, we have always 1 plot so we can use that. [$unwind documentation](https://www.mongodb.com/docs/manual/reference/operator/aggregation/unwind/)\r\n\r\nUpdated Aggregation:\r\n```Json\r\n{$lookup:{from:&#39;users_have_plots&#39;,let:{plots:&#39;$plots&#39;},pipeline:[{$match:{$expr:{$in:[&#39;$_id&#39;,{$ifNull:[&#39;$$plots.$id&#39;,[]]}]}}},{$lookup:{from:&#39;plots&#39;,localField:&#39;plot.$id&#39;,foreignField:&#39;_id&#39;,as:&#39;plot&#39;}},{$unwind: &#39;$plot&#39;}],as:&#39;plots&#39;}}\r\n```\r\n\r\nGives result an object in plot:\r\n```Json\r\n[\r\n  {\r\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\r\n    email: &#39;abc@abc.com&#39;,\r\n    password: &#39;$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu&#39;,\r\n    firstName: &#39;f&#39;,\r\n    lastName: &#39;l&#39;,\r\n    plots: [\r\n      {\r\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\r\n        userId: &#39;6412c76956d4170a7de34d92&#39;,\r\n        plot: {\r\n          _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\r\n          x: 0,\r\n          y: 0,\r\n          _class: &#39;com.vilya.farm.domain.model.Plot&#39;\r\n        },\r\n        _class: &#39;com.vilya.farm.domain.model.UserPlot&#39;\r\n      }\r\n    ],\r\n    _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n  },\r\n  {\r\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\r\n    email: &#39;abc1@abc.com&#39;,\r\n    password: &#39;$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS&#39;,\r\n    firstName: &#39;f&#39;,\r\n    lastName: &#39;l&#39;,\r\n    _class: &#39;com.vilya.farm.domain.model.User&#39;,\r\n    plots: []\r\n  }\r\n]\r\n```","title":"spring data mongo reactive throw org.springframework.data.mapping.MappingException when eager loading nested @DbRef","body":"<blockquote>\n<p>type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot;</p>\n</blockquote>\n<p>The error says that you are getting an array instead of an object at the plot key. If you check your document <code>UserPlot</code> you have Plot as a property, not an array. So aggregation from the second lookup is returning an array.</p>\n<p>So, you need to use <code>$unwind</code> to convert the array to an object in aggregation. As, we have always 1 plot so we can use that. <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/unwind/\" rel=\"nofollow noreferrer\">$unwind documentation</a></p>\n<p>Updated Aggregation:</p>\n<pre><code>{$lookup:{from:'users_have_plots',let:{plots:'$plots'},pipeline:[{$match:{$expr:{$in:['$_id',{$ifNull:['$$plots.$id',[]]}]}}},{$lookup:{from:'plots',localField:'plot.$id',foreignField:'_id',as:'plot'}},{$unwind: '$plot'}],as:'plots'}}\n</code></pre>\n<p>Gives result an object in plot:</p>\n<pre><code>[\n  {\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\n    email: 'abc@abc.com',\n    password: '$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu',\n    firstName: 'f',\n    lastName: 'l',\n    plots: [\n      {\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\n        userId: '6412c76956d4170a7de34d92',\n        plot: {\n          _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\n          x: 0,\n          y: 0,\n          _class: 'com.vilya.farm.domain.model.Plot'\n        },\n        _class: 'com.vilya.farm.domain.model.UserPlot'\n      }\n    ],\n    _class: 'com.vilya.farm.domain.model.User'\n  },\n  {\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\n    email: 'abc1@abc.com',\n    password: '$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS',\n    firstName: 'f',\n    lastName: 'l',\n    _class: 'com.vilya.farm.domain.model.User',\n    plots: []\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76062237,"answer_count":1,"score":2,"last_activity_date":1681980771,"creation_date":1680257701,"question_id":75897357,"body_markdown":"Basically, I have a `User` collection that contains a @DbRef to `UserPlot` (plots) collection. Inside `UserPlot`, I also have a @DbRef to `Plot` (plot). My goal is to find all users and eagerly load plots to `User` (also eagerly load plot to UserPlot)\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Document(collection = &quot;users&quot;)\r\npublic class User {\r\n\r\n  @Id private String id;\r\n\r\n  @Indexed(name = &quot;ui_email&quot;, unique = true)\r\n  private String email;\r\n\r\n  private String password;\r\n\r\n  @Indexed(name = &quot;ui_first_name&quot;)\r\n  private String firstName;\r\n\r\n  @Indexed(name = &quot;ui_last_name&quot;)\r\n  private String lastName;\r\n  \r\n  @DBRef\r\n  private List&lt;UserPlot&gt; plots;\r\n}\r\n\r\n@Data\r\n@Document(collection = &quot;users_have_plots&quot;)\r\npublic class UserPlot {\r\n  \r\n  @Id\r\n  private String id;\r\n  private String userId;\r\n  \r\n  @DBRef\r\n  private Plot plot;\r\n}\r\n\r\n@Data\r\n@Document(collection = &quot;plots&quot;)\r\n@NoArgsConstructor\r\npublic class Plot {\r\n  \r\n  @Id\r\n  private String id;\r\n  \r\n  private Integer x;\r\n  private Integer y;\r\n}\r\n\r\n@Repository\r\npublic interface UserRepository extends ReactiveMongoRepository&lt;User, String&gt; {\r\n  \r\n  @Aggregation(pipeline = {\r\n      &quot;{$lookup:{from:&#39;users_have_plots&#39;,let:{plots:&#39;$plots&#39;},pipeline:[{$match:{$expr:{$in:[&#39;$_id&#39;,{$ifNull:[&#39;$$plots.$id&#39;,[]]}]}}},{$lookup:{from:&#39;plots&#39;,localField:&#39;plot.$id&#39;,foreignField:&#39;_id&#39;,as:&#39;plot&#39;}}],as:&#39;plots&#39;}}&quot;\r\n  })\r\n  Flux&lt;User&gt; findAllIncludePlots();\r\n}\r\n\r\n@SpringBootApplication(exclude = UserDetailsServiceAutoConfiguration.class)\r\n@EnableReactiveMongoRepositories\r\npublic class FarmApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(FarmApplication.class, args);\r\n  }\r\n  \r\n  @Bean\r\n  CommandLineRunner t(UserRepository userRepository) {\r\n    return a -&gt; {\r\nuserRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();\r\n    };\r\n  }\r\n}\r\n```\r\nWhen I invoke `userRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();` then i get this error:\r\n\r\n    org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\r\n    Caused by: org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2292) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2325) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1402) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2297) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:413) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:409) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:121) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat org.springframework.data.mongodb.core.ReactiveMongoTemplate$ReadDocumentCallback.doWith(ReactiveMongoTemplate.java:2914) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\r\n    \tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$4(BatchCursorFlux.java:98) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:173) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$0(BatchCursor.java:38) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4444) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribeWith(Mono.java:4510) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4272) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:108) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:60) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\r\n    \tat com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.operation.CommandOperationHelper.lambda$transformingReadCallback$10(CommandOperationHelper.java:332) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$1.onResult(DefaultServer.java:242) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:683) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:524) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:501) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:824) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:788) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:89) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:778) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:763) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.8.0.jar:na]\r\n    \tat io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\nI think there is a problem with my `@Aggregation` but I cannot find out the reason. Please help. Thank you\r\n\r\nEDIT: my data looks like\r\n\r\n    vilya_be&gt; db.plots.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\r\n        x: 0,\r\n        y: 0,\r\n        _class: &#39;com.vilya.farm.domain.model.Plot&#39;\r\n      }\r\n    ]\r\n    \r\n    vilya_be&gt; db.users_have_plots.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\r\n        userId: &#39;6412c76956d4170a7de34d92&#39;,\r\n        plot: DBRef(&quot;plots&quot;, ObjectId(&quot;6426b069ca83da130cdb7f70&quot;)),\r\n        _class: &#39;com.vilya.farm.domain.model.UserPlot&#39;\r\n      }\r\n    ]\r\n    \r\n    vilya_be&gt; db.users.find({})\r\n    [\r\n      {\r\n        _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\r\n        email: &#39;abc@abc.com&#39;,\r\n        password: &#39;$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu&#39;,\r\n        firstName: &#39;f&#39;,\r\n        lastName: &#39;l&#39;,\r\n        plots: [ DBRef(&quot;users_have_plots&quot;, ObjectId(&quot;6426b073ca83da130cdb7f71&quot;)) ],\r\n        _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n      },\r\n      {\r\n        _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\r\n        email: &#39;abc1@abc.com&#39;,\r\n        password: &#39;$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS&#39;,\r\n        firstName: &#39;f&#39;,\r\n        lastName: &#39;l&#39;,\r\n        _class: &#39;com.vilya.farm.domain.model.User&#39;\r\n      }\r\n    ]\r\n\r\nmongo version: mongo:6.0.2-focal running on docker desktop","title":"spring data mongo reactive throw org.springframework.data.mapping.MappingException when eager loading nested @DbRef","body":"<p>Basically, I have a <code>User</code> collection that contains a @DbRef to <code>UserPlot</code> (plots) collection. Inside <code>UserPlot</code>, I also have a @DbRef to <code>Plot</code> (plot). My goal is to find all users and eagerly load plots to <code>User</code> (also eagerly load plot to UserPlot)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Document(collection = &quot;users&quot;)\npublic class User {\n\n  @Id private String id;\n\n  @Indexed(name = &quot;ui_email&quot;, unique = true)\n  private String email;\n\n  private String password;\n\n  @Indexed(name = &quot;ui_first_name&quot;)\n  private String firstName;\n\n  @Indexed(name = &quot;ui_last_name&quot;)\n  private String lastName;\n  \n  @DBRef\n  private List&lt;UserPlot&gt; plots;\n}\n\n@Data\n@Document(collection = &quot;users_have_plots&quot;)\npublic class UserPlot {\n  \n  @Id\n  private String id;\n  private String userId;\n  \n  @DBRef\n  private Plot plot;\n}\n\n@Data\n@Document(collection = &quot;plots&quot;)\n@NoArgsConstructor\npublic class Plot {\n  \n  @Id\n  private String id;\n  \n  private Integer x;\n  private Integer y;\n}\n\n@Repository\npublic interface UserRepository extends ReactiveMongoRepository&lt;User, String&gt; {\n  \n  @Aggregation(pipeline = {\n      &quot;{$lookup:{from:'users_have_plots',let:{plots:'$plots'},pipeline:[{$match:{$expr:{$in:['$_id',{$ifNull:['$$plots.$id',[]]}]}}},{$lookup:{from:'plots',localField:'plot.$id',foreignField:'_id',as:'plot'}}],as:'plots'}}&quot;\n  })\n  Flux&lt;User&gt; findAllIncludePlots();\n}\n\n@SpringBootApplication(exclude = UserDetailsServiceAutoConfiguration.class)\n@EnableReactiveMongoRepositories\npublic class FarmApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(FarmApplication.class, args);\n  }\n  \n  @Bean\n  CommandLineRunner t(UserRepository userRepository) {\n    return a -&gt; {\nuserRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();\n    };\n  }\n}\n</code></pre>\n<p>When I invoke <code>userRepository.findAllIncludePlots().map(User::getPlots).doOnNext(System.out::println).subscribe();</code> then i get this error:</p>\n<pre><code>org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\nCaused by: org.springframework.data.mapping.MappingException: Cannot convert [Document{{_id=6426b069ca83da130cdb7f70, x=0, y=0, _class=com.vilya.farm.domain.model.Plot}}] of type class java.util.ArrayList into an instance of class com.vilya.farm.domain.model.Plot; Implement a custom Converter&lt;class java.util.ArrayList, class com.vilya.farm.domain.model.Plot&gt; and register it with the CustomConversions; Parent object was: UserPlot(id=6426b073ca83da130cdb7f71, userId=6412c76956d4170a7de34d92, plot=null) -&gt; User(id=6412c76956d4170a7de34d92, email=abc@abc.com, password=$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu, firstName=f, lastName=l, plots=null) -&gt; null\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2292) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2325) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readCollectionOrArray(MappingMongoConverter.java:1402) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$DefaultConversionContext.convert(MappingMongoConverter.java:2297) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$AssociationConversionContext.convert(MappingMongoConverter.java:2208) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$ConversionContext.convert(MappingMongoConverter.java:2131) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter$MongoDbPropertyValueProvider.getPropertyValue(MappingMongoConverter.java:1900) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.getValueInternal(MappingMongoConverter.java:1359) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.lambda$getDbRefResolverCallback$1(MappingMongoConverter.java:632) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolverCallback.resolve(DefaultDbRefResolverCallback.java:57) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.DefaultDbRefResolver.resolveDbRef(DefaultDbRefResolver.java:85) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readAssociation(MappingMongoConverter.java:673) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readProperties(MappingMongoConverter.java:597) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.populateProperties(MappingMongoConverter.java:535) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:513) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.readDocument(MappingMongoConverter.java:477) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:413) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:409) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.convert.MappingMongoConverter.read(MappingMongoConverter.java:121) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at org.springframework.data.mongodb.core.ReactiveMongoTemplate$ReadDocumentCallback.doWith(ReactiveMongoTemplate.java:2914) ~[spring-data-mongodb-4.0.0.jar:4.0.0]\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onNext(FluxConcatMapNoPrefetch.java:183) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161) ~[reactor-core-3.5.0.jar:3.5.0]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$recurseCursor$4(BatchCursorFlux.java:98) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.internal.operation.AsyncQueryBatchCursor.next(AsyncQueryBatchCursor.java:173) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursor.lambda$next$0(BatchCursor.java:38) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4444) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribeWith(Mono.java:4510) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4272) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.recurseCursor(BatchCursorFlux.java:108) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.BatchCursorFlux.lambda$subscribe$0(BatchCursorFlux.java:60) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at reactor.core.publisher.LambdaMonoSubscriber.onNext(LambdaMonoSubscriber.java:171) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondComplete(MonoFlatMap.java:245) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoFlatMap$FlatMapInner.onNext(MonoFlatMap.java:305) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.0.jar:3.5.0]\n    at reactor.core.publisher.MonoCreate$DefaultMonoSink.success(MonoCreate.java:172) ~[reactor-core-3.5.0.jar:3.5.0]\n    at com.mongodb.reactivestreams.client.internal.MongoOperationPublisher.lambda$sinkToCallback$31(MongoOperationPublisher.java:577) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.reactivestreams.client.internal.OperationExecutorImpl.lambda$execute$2(OperationExecutorImpl.java:94) ~[mongodb-driver-reactivestreams-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.RetryingAsyncCallbackSupplier$RetryingCallback.onResult(RetryingAsyncCallbackSupplier.java:116) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.function.AsyncCallbackSupplier.lambda$whenComplete$1(AsyncCallbackSupplier.java:97) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.operation.CommandOperationHelper.lambda$transformingReadCallback$10(CommandOperationHelper.java:332) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor$1.onResult(DefaultServer.java:242) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.CommandProtocolImpl$1.onResult(CommandProtocolImpl.java:84) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection$1.onResult(DefaultConnectionPool.java:683) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.UsageTrackingInternalConnection$2.onResult(UsageTrackingInternalConnection.java:159) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.async.ErrorHandlingResultCallback.onResult(ErrorHandlingResultCallback.java:46) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:524) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$2$1.onResult(InternalStreamConnection.java:501) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:824) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback$MessageCallback.onResult(InternalStreamConnection.java:788) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:266) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.readAsync(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.access$600(InternalStreamConnection.java:89) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:778) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$MessageHeaderCallback.onResult(InternalStreamConnection.java:763) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:648) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection$5.completed(InternalStreamConnection.java:645) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.readAsync(NettyStream.java:319) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.handleReadResponse(NettyStream.java:347) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream.access$1100(NettyStream.java:105) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:421) ~[mongodb-driver-core-4.8.0.jar:na]\n    at com.mongodb.connection.netty.NettyStream$InboundBufferHandler.channelRead0(NettyStream.java:418) ~[mongodb-driver-core-4.8.0.jar:na]\n    at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.85.Final.jar:4.1.85.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I think there is a problem with my <code>@Aggregation</code> but I cannot find out the reason. Please help. Thank you</p>\n<p>EDIT: my data looks like</p>\n<pre><code>vilya_be&gt; db.plots.find({})\n[\n  {\n    _id: ObjectId(&quot;6426b069ca83da130cdb7f70&quot;),\n    x: 0,\n    y: 0,\n    _class: 'com.vilya.farm.domain.model.Plot'\n  }\n]\n\nvilya_be&gt; db.users_have_plots.find({})\n[\n  {\n    _id: ObjectId(&quot;6426b073ca83da130cdb7f71&quot;),\n    userId: '6412c76956d4170a7de34d92',\n    plot: DBRef(&quot;plots&quot;, ObjectId(&quot;6426b069ca83da130cdb7f70&quot;)),\n    _class: 'com.vilya.farm.domain.model.UserPlot'\n  }\n]\n\nvilya_be&gt; db.users.find({})\n[\n  {\n    _id: ObjectId(&quot;6412c76956d4170a7de34d92&quot;),\n    email: 'abc@abc.com',\n    password: '$2a$10$s9VgOYd.fOKZF66TnAsjWemiCYkA7aG45NJpuSNgbVxpcIGF7fWqu',\n    firstName: 'f',\n    lastName: 'l',\n    plots: [ DBRef(&quot;users_have_plots&quot;, ObjectId(&quot;6426b073ca83da130cdb7f71&quot;)) ],\n    _class: 'com.vilya.farm.domain.model.User'\n  },\n  {\n    _id: ObjectId(&quot;6414667360e4ba4481052627&quot;),\n    email: 'abc1@abc.com',\n    password: '$2a$10$OP52phZ61l2JX2e2TQOu9ubYFBYcPeqEZ92ox2Nyyp5e.MEZk7GhS',\n    firstName: 'f',\n    lastName: 'l',\n    _class: 'com.vilya.farm.domain.model.User'\n  }\n]\n</code></pre>\n<p>mongo version: mongo:6.0.2-focal running on docker desktop</p>\n"},{"tags":["java","pdf-generation","documentation-generation"],"answers":[{"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":0,"creation_date":1250582923,"post_id":1283373,"comment_id":1122906,"body_markdown":"AsciiDoc looks excellent. How would you integrate it with a command-line application?","body":"AsciiDoc looks excellent. How would you integrate it with a command-line application?"},{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1250596095,"post_id":1283373,"comment_id":1123780,"body_markdown":"One approach might be to use an XML source file that describes the command line options for your app, then run that through a transformation that generates the AsciiDoc source for a particular configuration of your application (C or Java, selecting only the appropriate parts). It doesn&#39;t sound like AsciiDoc is the right tool to generate the actual C/Java source code; I would use a different tool for that. But certainly having a common XML source for all renderings of your command line help sounds like a good thing.","body":"One approach might be to use an XML source file that describes the command line options for your app, then run that through a transformation that generates the AsciiDoc source for a particular configuration of your application (C or Java, selecting only the appropriate parts). It doesn&#39;t sound like AsciiDoc is the right tool to generate the actual C/Java source code; I would use a different tool for that. But certainly having a common XML source for all renderings of your command line help sounds like a good thing."}],"tags":[],"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1250391946,"creation_date":1250391946,"answer_id":1283373,"question_id":1283348,"body_markdown":"One that satisfies most of your requirements, that I&#39;ve used before, is [AsciiDoc](http://www.methods.co.nz/asciidoc/).\r\n\r\nAsciiDoc isn&#39;t an XML source format though, instead it opts for a simple text format. It can output HTML and Docbook, which can be rendered into PDF or other formats. The source text is nearly good enough for plain text presentation, too.\r\n\r\nAnother popular choice along the same lines is [reStructuredText](http://docutils.sourceforge.net/rst.html).","title":"Single source documentation tool","body":"<p>One that satisfies most of your requirements, that I've used before, is <a href=\"http://www.methods.co.nz/asciidoc/\" rel=\"noreferrer\">AsciiDoc</a>.</p>\n\n<p>AsciiDoc isn't an XML source format though, instead it opts for a simple text format. It can output HTML and Docbook, which can be rendered into PDF or other formats. The source text is nearly good enough for plain text presentation, too.</p>\n\n<p>Another popular choice along the same lines is <a href=\"http://docutils.sourceforge.net/rst.html\" rel=\"noreferrer\">reStructuredText</a>.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1250416300,"post_id":1283390,"comment_id":1113518,"body_markdown":"DocBook is quite nice for writing manuals, and it allows you to keep a lot of metadata about your text automatically.\n\nI believe the technical O&#39;Reilly books are written in DocBook.","body":"DocBook is quite nice for writing manuals, and it allows you to keep a lot of metadata about your text automatically.  I believe the technical O&#39;Reilly books are written in DocBook."},{"owner":{"account_id":96101,"reputation":3895,"user_id":261378,"accept_rate":75,"display_name":"Verhagen"},"score":0,"creation_date":1265267527,"post_id":1283390,"comment_id":2147668,"body_markdown":"When writing DocBook, there is also the Maven docbkx-plugin http://code.google.com/p/docbkx-tools/ to make HTML / pdf / etc from it.","body":"When writing DocBook, there is also the Maven docbkx-plugin <a href=\"http://code.google.com/p/docbkx-tools/\" rel=\"nofollow noreferrer\">code.google.com/p/docbkx-tools</a> to make HTML / pdf / etc from it."}],"tags":[],"owner":{"account_id":18279,"reputation":58461,"user_id":41747,"display_name":"D.Shawley"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250392830,"creation_date":1250392830,"answer_id":1283390,"question_id":1283348,"body_markdown":"I&#39;ve been considering evangelizing [DocBook][db] as a replacement for Word in our engineering group.  There are a number of toolchains available.  The easiest for engineers is probably [DocBook XSL][xsl], [Apache FOP][fop], and either [Ant][ant] or [Make][gmake].  This is how I have been doing my DocBook stuff.  If you are really into LaTeX, then you might want to check out [DBLaTeX][dblatex] for a DocBook to LaTeX publishing environment.\r\n\r\nIf you don&#39;t mind stepping outside of the free environments, then the [`&lt;oXygen/&gt;` XML Editor][oxygen] offers a pretty nice WYSIWYG DocBook editor.  I haven&#39;t used it that much, but it does look pretty promising.\r\n\r\n  [db]: http://www.docbook.org/\r\n  [xsl]: http://docbook.sourceforge.net/release/xsl/current/doc/\r\n  [fop]: http://xmlgraphics.apache.org/fop/\r\n  [ant]: http://ant.apache.org/\r\n  [gmake]: http://www.gnu.org/software/make/\r\n  [dblatex]: http://dblatex.sourceforge.net/\r\n  [oxygen]: http://www.oxygenxml.com/docbook_editor.html","title":"Single source documentation tool","body":"<p>I've been considering evangelizing <a href=\"http://www.docbook.org/\" rel=\"nofollow noreferrer\">DocBook</a> as a replacement for Word in our engineering group.  There are a number of toolchains available.  The easiest for engineers is probably <a href=\"http://docbook.sourceforge.net/release/xsl/current/doc/\" rel=\"nofollow noreferrer\">DocBook XSL</a>, <a href=\"http://xmlgraphics.apache.org/fop/\" rel=\"nofollow noreferrer\">Apache FOP</a>, and either <a href=\"http://ant.apache.org/\" rel=\"nofollow noreferrer\">Ant</a> or <a href=\"http://www.gnu.org/software/make/\" rel=\"nofollow noreferrer\">Make</a>.  This is how I have been doing my DocBook stuff.  If you are really into LaTeX, then you might want to check out <a href=\"http://dblatex.sourceforge.net/\" rel=\"nofollow noreferrer\">DBLaTeX</a> for a DocBook to LaTeX publishing environment.</p>\n\n<p>If you don't mind stepping outside of the free environments, then the <a href=\"http://www.oxygenxml.com/docbook_editor.html\" rel=\"nofollow noreferrer\"><code>&lt;oXygen/&gt;</code> XML Editor</a> offers a pretty nice WYSIWYG DocBook editor.  I haven't used it that much, but it does look pretty promising.</p>\n"},{"tags":[],"owner":{"account_id":48895,"reputation":83729,"user_id":145403,"display_name":"Ned Deily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250393085,"creation_date":1250393085,"answer_id":1283393,"question_id":1283348,"body_markdown":"[Sphinx][1] is a tool that adds a number of features to Docutils, allowing &quot;intelligent and beautiful documentation&quot; to be written in reStructuredText.  It was originally created to produce the new Python documentation but is being adopted by many other projects.\r\n\r\n\r\n  [1]: http://sphinx.pocoo.org/","title":"Single source documentation tool","body":"<p><a href=\"http://sphinx.pocoo.org/\" rel=\"nofollow noreferrer\">Sphinx</a> is a tool that adds a number of features to Docutils, allowing \"intelligent and beautiful documentation\" to be written in reStructuredText.  It was originally created to produce the new Python documentation but is being adopted by many other projects.</p>\n"},{"tags":[],"owner":{"account_id":1895,"reputation":121050,"user_id":2611,"display_name":"ars"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553527193,"creation_date":1250393906,"answer_id":1283404,"question_id":1283348,"body_markdown":"[Doxygen](http://www.doxygen.nl/) is documentation generator that&#39;s quite popular and can output documents in a [variety of formats](http://www.doxygen.nl/manual/output.html).  Although its primary purpose to build documentation extracted from source comments (from numerous languages), it&#39;s also quite usable as a general manual writing tool.  In fact, the Doxygen website and manual are generated in this way.","title":"Single source documentation tool","body":"<p><a href=\"http://www.doxygen.nl/\" rel=\"nofollow noreferrer\">Doxygen</a> is documentation generator that's quite popular and can output documents in a <a href=\"http://www.doxygen.nl/manual/output.html\" rel=\"nofollow noreferrer\">variety of formats</a>.  Although its primary purpose to build documentation extracted from source comments (from numerous languages), it's also quite usable as a general manual writing tool.  In fact, the Doxygen website and manual are generated in this way.</p>\n"},{"tags":[],"owner":{"account_id":1098659,"reputation":41,"user_id":1091661,"display_name":"Daynin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980712,"creation_date":1681980712,"answer_id":76062227,"question_id":1283348,"body_markdown":"Try using [Fundoc][1]. It was created for writing documentation for projects written in any language or any combination of languages.\r\n\r\n\r\n  [1]: https://github.com/daynin/fundoc","title":"Single source documentation tool","body":"<p>Try using <a href=\"https://github.com/daynin/fundoc\" rel=\"nofollow noreferrer\">Fundoc</a>. It was created for writing documentation for projects written in any language or any combination of languages.</p>\n"}],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1558,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1682103077,"accepted_answer_id":1283373,"answer_count":5,"score":6,"last_activity_date":1681980712,"creation_date":1250390649,"question_id":1283348,"body_markdown":"What [OSS][1] (or free) tools are available for drafting a single source for documentation that can be used to generate manuals? Specifically, in the following formats:\r\n\r\n* HTML website\r\n* PDF document\r\n* Embedded (within an application; possibly HTML)&lt;sup&gt;1&lt;/sup&gt;\r\n* Text (optional)\r\n* Man pages (optional)\r\n\r\nAdditional requirements:\r\n\r\n* Tool is suitable for technical writers (need not be WYSIWYG).\r\n* XML/SGML source\r\n* High quality PDF output (comparable to TeX)\r\n* Multi-platform\r\n\r\n**Expanded Requirement**&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nThe same command-line application is written in two languages (C and Java). Using XML to describe the command-line options (some of which are specific to one language or the other), it is straightforward to transform the XML into a Java class, or a C function, which writes help to standard output. This ensures that the help can be embedded into the binary without having to depend on external files.\r\n\r\nIt appears AsciiDoc does not have this ability. Is there another option?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Open_source_software","title":"Single source documentation tool","body":"<p>What <a href=\"http://en.wikipedia.org/wiki/Open_source_software\" rel=\"noreferrer\">OSS</a> (or free) tools are available for drafting a single source for documentation that can be used to generate manuals? Specifically, in the following formats:</p>\n\n<ul>\n<li>HTML website</li>\n<li>PDF document</li>\n<li>Embedded (within an application; possibly HTML)<sup>1</sup></li>\n<li>Text (optional)</li>\n<li>Man pages (optional)</li>\n</ul>\n\n<p>Additional requirements:</p>\n\n<ul>\n<li>Tool is suitable for technical writers (need not be WYSIWYG).</li>\n<li>XML/SGML source</li>\n<li>High quality PDF output (comparable to TeX)</li>\n<li>Multi-platform</li>\n</ul>\n\n<p><strong>Expanded Requirement</strong><sup>1</sup></p>\n\n<p>The same command-line application is written in two languages (C and Java). Using XML to describe the command-line options (some of which are specific to one language or the other), it is straightforward to transform the XML into a Java class, or a C function, which writes help to standard output. This ensures that the help can be embedded into the binary without having to depend on external files.</p>\n\n<p>It appears AsciiDoc does not have this ability. Is there another option?</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"comments":[{"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"score":0,"creation_date":1681980577,"post_id":76062199,"comment_id":134144864,"body_markdown":"And some changes in Calling retrofit like JsonArray remove and Simply get the data from response in array","body":"And some changes in Calling retrofit like JsonArray remove and Simply get the data from response in array"}],"tags":[],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980532,"creation_date":1681980532,"answer_id":76062199,"question_id":76061856,"body_markdown":"After Adding @path  I solved my problem like this\r\n\r\n  @GET(&quot;/payment/fetch/board/{username}&quot;)\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>After Adding @path  I solved my problem like this</p>\n<p>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&gt;fetchBoardList(@Path(&quot;username&quot;) String username);</p>\n"},{"tags":[],"owner":{"account_id":11569531,"reputation":420,"user_id":8476690,"display_name":"Mohamed Mo&#39;nes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681980600,"creation_date":1681980600,"answer_id":76062213,"question_id":76061856,"body_markdown":"in the retrofit API interface, you should add @Path before username parameter  like this \r\n\r\n```\r\n@GET(&quot;/payment/fetch/board/{username}&quot;)\r\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);\r\n```","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>in the retrofit API interface, you should add @Path before username parameter  like this</p>\n<pre><code>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(@Path(&quot;username&quot;) String username);\n</code></pre>\n"}],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681980600,"creation_date":1681977957,"question_id":76061856,"body_markdown":"This is my API url \r\n\r\n \r\n\r\n    @GET(&quot;/payment/fetch/board/{username}&quot;)\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(String username);\r\n\r\n\r\nAnd This is my Retrofit to call url\r\n\r\n\r\n \r\n\r\n    Call&lt;List&lt;BoardResponse&gt;&gt;call=RetrofitClient.getInstance().getMyApi().fetchBoardList(username);\r\n            call.enqueue(new Callback&lt;List&lt;BoardResponse&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Response&lt;List&lt;BoardResponse&gt;&gt; response) {\r\n                   if(response.isSuccessful()){\r\n                       if(response.body() != null){\r\n                         String jsonResponse=response.body().toString();\r\n                           try {\r\n                               ArrayList&lt;BoardResponse&gt;boardArray = new ArrayList&lt;&gt;();\r\n                               JSONObject obj = new JSONObject(jsonResponse);\r\n                               JSONArray dataArray  = obj.getJSONArray(&quot;data&quot;);\r\n                               for (int i = 0; i &lt; dataArray.length(); i++) {\r\n\r\n                               BoardResponse spinnerModel = new BoardResponse();\r\n                               JSONObject dataObj = dataArray.getJSONObject(i);\r\n\r\n                               spinnerModel.setBoard(dataObj.getString(&quot;board&quot;));\r\n                               spinnerModel.setBoardID(dataObj.getInt(&quot;boardID&quot;));\r\n                               spinnerModel.setUsername(dataObj.getString(&quot;username&quot;));\r\n\r\n                               boardArray.add(spinnerModel);\r\n\r\n                           }\r\n\r\n                           for (int i = 0; i &lt; boardArray.size(); i++){\r\n                               boardList.add(boardArray.get(i).getBoard().toString());\r\n                           }\r\n                           ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(PaymentEntryActivity.this,android.R.layout.simple_spinner_item,boardList);\r\n                           spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); // The drop down view\r\n                           Spinner.setAdapter(spinnerArrayAdapter);\r\n                       } catch (JSONException e) {\r\n                           throw new RuntimeException(e);\r\n                       }\r\n\r\n                   }\r\n               }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n&gt; java.lang.RuntimeException: Unable to start activity\r\n&gt; ComponentInfo{com.hpl.raja.boardpayment/com.hpl.raja.boardpayment.PaymentEntryActivity}:\r\n&gt; java.lang.IllegalArgumentException: No Retrofit annotation found.\r\n&gt; (parameter #1)\r\n&gt;         for method MyApi.fetchBoardList\r\n\r\n\r\nso please help me Thanks \r\n\r\nI have error that found","title":"I want to fetch the data from Api using Retrofit in android with java and set on Spinner","body":"<p>This is my API url</p>\n<pre><code>@GET(&quot;/payment/fetch/board/{username}&quot;)\nCall&lt;List&lt;BoardResponse&gt;&gt;fetchBoardList(String username);\n</code></pre>\n<p>And This is my Retrofit to call url</p>\n<pre><code>Call&lt;List&lt;BoardResponse&gt;&gt;call=RetrofitClient.getInstance().getMyApi().fetchBoardList(username);\n        call.enqueue(new Callback&lt;List&lt;BoardResponse&gt;&gt;() {\n            @Override\n            public void onResponse(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Response&lt;List&lt;BoardResponse&gt;&gt; response) {\n               if(response.isSuccessful()){\n                   if(response.body() != null){\n                     String jsonResponse=response.body().toString();\n                       try {\n                           ArrayList&lt;BoardResponse&gt;boardArray = new ArrayList&lt;&gt;();\n                           JSONObject obj = new JSONObject(jsonResponse);\n                           JSONArray dataArray  = obj.getJSONArray(&quot;data&quot;);\n                           for (int i = 0; i &lt; dataArray.length(); i++) {\n\n                           BoardResponse spinnerModel = new BoardResponse();\n                           JSONObject dataObj = dataArray.getJSONObject(i);\n\n                           spinnerModel.setBoard(dataObj.getString(&quot;board&quot;));\n                           spinnerModel.setBoardID(dataObj.getInt(&quot;boardID&quot;));\n                           spinnerModel.setUsername(dataObj.getString(&quot;username&quot;));\n\n                           boardArray.add(spinnerModel);\n\n                       }\n\n                       for (int i = 0; i &lt; boardArray.size(); i++){\n                           boardList.add(boardArray.get(i).getBoard().toString());\n                       }\n                       ArrayAdapter&lt;String&gt; spinnerArrayAdapter = new ArrayAdapter&lt;String&gt;(PaymentEntryActivity.this,android.R.layout.simple_spinner_item,boardList);\n                       spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item); // The drop down view\n                       Spinner.setAdapter(spinnerArrayAdapter);\n                   } catch (JSONException e) {\n                       throw new RuntimeException(e);\n                   }\n\n               }\n           }\n\n\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;List&lt;BoardResponse&gt;&gt; call, @NonNull Throwable t) {\n\n        }\n    });\n</code></pre>\n<blockquote>\n<p>java.lang.RuntimeException: Unable to start activity\nComponentInfo{com.hpl.raja.boardpayment/com.hpl.raja.boardpayment.PaymentEntryActivity}:\njava.lang.IllegalArgumentException: No Retrofit annotation found.\n(parameter #1)\nfor method MyApi.fetchBoardList</p>\n</blockquote>\n<p>so please help me Thanks</p>\n<p>I have error that found</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9737,"page":488,"page_size":100}
