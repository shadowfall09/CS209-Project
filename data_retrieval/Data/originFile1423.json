{"items":[{"tags":["java","tomcat","server","liferay","liferay-7"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649926261,"post_id":71868825,"comment_id":126999984,"body_markdown":"Well, a simple solution might be to run a program that grabs the times from the logs and puts them into the DB.","body":"Well, a simple solution might be to run a program that grabs the times from the logs and puts them into the DB."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1649926851,"post_id":71868825,"comment_id":127000204,"body_markdown":"Another option might be to implement a `LifecycleListener` and hook into the startup and shutdown events.","body":"Another option might be to implement a <code>LifecycleListener</code> and hook into the startup and shutdown events."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649948382,"post_id":71868825,"comment_id":127008070,"body_markdown":"Did you mean you want to log literally when Tomcat itself goes up &amp; down? Or do you want to know when your web app goes up/down? (One Tomcat instance can have one or more web apps.)","body":"Did you mean you want to log literally when Tomcat itself goes up &amp; down? Or do you want to know when your web app goes up/down? (One Tomcat instance can have one or more web apps.)"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1650370473,"post_id":71868825,"comment_id":127094240,"body_markdown":"Please [note the crossposting netiquette](https://meta.stackexchange.com/a/141824)","body":"Please <a href=\"https://meta.stackexchange.com/a/141824\">note the crossposting netiquette</a>"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650275666,"creation_date":1650275666,"answer_id":71910283,"question_id":71868825,"body_markdown":"You don&#39;t mention the operating system that this should happen on - if you&#39;re on Linux, you&#39;re most likely using a script that starts tomcat as background-daemon, and you can easily script such an operation into the startup script. \r\n\r\nThe daemon script probably even calls tomcat&#39;s own `startup.sh` or `catalina.sh` script, so that you could augment them. Just make sure you keep your changes at hand in case of an upgrade that would overwrite those files.\r\n\r\nThis reduces your problem to &quot;writing to a database from a bash script&quot;. And solving that problem would require to know your database","title":"How to store tomcat Server Start/Stop time in database","body":"<p>You don't mention the operating system that this should happen on - if you're on Linux, you're most likely using a script that starts tomcat as background-daemon, and you can easily script such an operation into the startup script.</p>\n<p>The daemon script probably even calls tomcat's own <code>startup.sh</code> or <code>catalina.sh</code> script, so that you could augment them. Just make sure you keep your changes at hand in case of an upgrade that would overwrite those files.</p>\n<p>This reduces your problem to &quot;writing to a database from a bash script&quot;. And solving that problem would require to know your database</p>\n"}],"owner":{"account_id":3395791,"reputation":115,"user_id":2849451,"display_name":"Komal Prasad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650275666,"creation_date":1649925730,"question_id":71868825,"body_markdown":"Use case:\r\nWhenever we start/stop the tomcat server, it should log entry into database.\r\n\r\nExplanation:\r\nAssume we start the server 12:00, then it should make a entry into database Server1 start 12:00\r\nand if shutdown at 01:00 then make a entry into database Server1 stop 01:00\r\n\r\nI tried to figure out some way, but nothing solid which can we implemented.\r\nDo let me know any solution to build this scenario.\r\n\r\nI need this for Liferay Tomcat Server ","title":"How to store tomcat Server Start/Stop time in database","body":"<p>Use case:\nWhenever we start/stop the tomcat server, it should log entry into database.</p>\n<p>Explanation:\nAssume we start the server 12:00, then it should make a entry into database Server1 start 12:00\nand if shutdown at 01:00 then make a entry into database Server1 stop 01:00</p>\n<p>I tried to figure out some way, but nothing solid which can we implemented.\nDo let me know any solution to build this scenario.</p>\n<p>I need this for Liferay Tomcat Server</p>\n"},{"tags":["java","encryption","cryptography"],"answers":[{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1650275660,"creation_date":1568026612,"answer_id":57852605,"question_id":57852431,"body_markdown":"You could use [`BouncyCastle`](https://www.bouncycastle.org/) as cryptographic provider which has support for this curve :\r\n````\r\nimport org.bouncycastle.asn1.x9.X9ECParameters;\r\nimport org.bouncycastle.crypto.ec.CustomNamedCurves;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.jce.spec.ECParameterSpec;\r\n\r\nimport java.security.InvalidAlgorithmParameterException;\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.PublicKey;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidAlgorithmParameterException {\r\n        X9ECParameters curveParams = CustomNamedCurves.getByName(&quot;Curve25519&quot;);\r\n        ECParameterSpec ecSpec = new ECParameterSpec(curveParams.getCurve(), curveParams.getG(), curveParams.getN(), curveParams.getH(), curveParams.getSeed());\r\n\r\n        KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;, new BouncyCastleProvider());\r\n        kpg.initialize(ecSpec);\r\n\r\n        KeyPair keyPair = kpg.generateKeyPair();\r\n        PublicKey publicKey = keyPair.getPublic();\r\n        PrivateKey privateKey = keyPair.getPrivate();\r\n\r\n    }\r\n}\r\n````\r\n# Extracting raw public key\r\nTo extract raw `x` and `y` of `ECPoint` (public key) you can use this code:\r\n````\r\nbyte[] encoded = publicKey.getEncoded();\r\nASN1Sequence asn1Primitive = ASN1Sequence.getInstance(encoded);\r\nASN1Encodable algorithmIdentifier = asn1Primitive.getObjectAt(0);\r\nDERBitString ecPointBitString = (DERBitString) asn1Primitive.getObjectAt(1);\r\n\r\n//use curve parameters from previous code snippet\r\nECPoint ecPoint = curveParams.getCurve().decodePoint(ecPointBitString.getOctets());\r\nbyte[] x = ecPoint.getAffineXCoord().getEncoded();\r\nbyte[] y = ecPoint.getAffineYCoord().getEncoded();\r\n````\r\nThis is basically parsing the encoded `SubjectPublicKeyInfo` described in [RFC5480](https://datatracker.ietf.org/doc/html/rfc5480#section-2)\r\n# Extracting raw private key\r\n````\r\nBCECPrivateKey privateKey1 = (BCECPrivateKey) privateKey;\r\nbyte[] bigIntPk = privateKey1.getS().toByteArray();\r\n````\r\nor by parsing DER objects :\r\n````\r\nASN1Sequence instance = ASN1Sequence.getInstance(privateKey.getEncoded());\r\nDEROctetString pkOctetString = (DEROctetString) instance.getObjectAt(2);\r\n\r\nASN1Sequence ecPkSequence = DERSequence.getInstance(pkOctetString.getOctets());\r\nDEROctetString pkOctets = (DEROctetString) ecPkSequence.getObjectAt(1);\r\n\r\nbyte[] bigIntPk = new BigInteger(1, pkOctets.getOctets()).toByteArray();\r\n````","title":"How to generate curve25519 key pair for diffie hellman algorithm?","body":"<p>You could use <a href=\"https://www.bouncycastle.org/\" rel=\"nofollow noreferrer\"><code>BouncyCastle</code></a> as cryptographic provider which has support for this curve :</p>\n<pre><code>import org.bouncycastle.asn1.x9.X9ECParameters;\nimport org.bouncycastle.crypto.ec.CustomNamedCurves;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.jce.spec.ECParameterSpec;\n\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.PublicKey;\n\npublic class Test {\n    public static void main(String[] args) throws NoSuchAlgorithmException, InvalidAlgorithmParameterException {\n        X9ECParameters curveParams = CustomNamedCurves.getByName(&quot;Curve25519&quot;);\n        ECParameterSpec ecSpec = new ECParameterSpec(curveParams.getCurve(), curveParams.getG(), curveParams.getN(), curveParams.getH(), curveParams.getSeed());\n\n        KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;, new BouncyCastleProvider());\n        kpg.initialize(ecSpec);\n\n        KeyPair keyPair = kpg.generateKeyPair();\n        PublicKey publicKey = keyPair.getPublic();\n        PrivateKey privateKey = keyPair.getPrivate();\n\n    }\n}\n</code></pre>\n<h1>Extracting raw public key</h1>\n<p>To extract raw <code>x</code> and <code>y</code> of <code>ECPoint</code> (public key) you can use this code:</p>\n<pre><code>byte[] encoded = publicKey.getEncoded();\nASN1Sequence asn1Primitive = ASN1Sequence.getInstance(encoded);\nASN1Encodable algorithmIdentifier = asn1Primitive.getObjectAt(0);\nDERBitString ecPointBitString = (DERBitString) asn1Primitive.getObjectAt(1);\n\n//use curve parameters from previous code snippet\nECPoint ecPoint = curveParams.getCurve().decodePoint(ecPointBitString.getOctets());\nbyte[] x = ecPoint.getAffineXCoord().getEncoded();\nbyte[] y = ecPoint.getAffineYCoord().getEncoded();\n</code></pre>\n<p>This is basically parsing the encoded <code>SubjectPublicKeyInfo</code> described in <a href=\"https://datatracker.ietf.org/doc/html/rfc5480#section-2\" rel=\"nofollow noreferrer\">RFC5480</a></p>\n<h1>Extracting raw private key</h1>\n<pre><code>BCECPrivateKey privateKey1 = (BCECPrivateKey) privateKey;\nbyte[] bigIntPk = privateKey1.getS().toByteArray();\n</code></pre>\n<p>or by parsing DER objects :</p>\n<pre><code>ASN1Sequence instance = ASN1Sequence.getInstance(privateKey.getEncoded());\nDEROctetString pkOctetString = (DEROctetString) instance.getObjectAt(2);\n\nASN1Sequence ecPkSequence = DERSequence.getInstance(pkOctetString.getOctets());\nDEROctetString pkOctets = (DEROctetString) ecPkSequence.getObjectAt(1);\n\nbyte[] bigIntPk = new BigInteger(1, pkOctets.getOctets()).toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1568031043,"creation_date":1568031043,"answer_id":57853786,"question_id":57852431,"body_markdown":"Curve25519 [seems supported](https://openjdk.java.net/jeps/324) from Java 11 onwards (note that the standard Java follows the OpenJDK Java nowadays).\r\n\r\nThe linked to JEP (Java Enhancement Proposal) also contains sample code, included here verbatim:\r\n\r\n```\r\nKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;XDH&quot;);\r\nNamedParameterSpec paramSpec = new NamedParameterSpec(&quot;X25519&quot;);\r\nkpg.initialize(paramSpec); // equivalent to kpg.initialize(255)\r\n// alternatively: kpg = KeyPairGenerator.getInstance(&quot;X25519&quot;)\r\nKeyPair kp = kpg.generateKeyPair();\r\n\r\nKeyFactory kf = KeyFactory.getInstance(&quot;XDH&quot;);\r\nBigInteger u = ...\r\nXECPublicKeySpec pubSpec = new XECPublicKeySpec(paramSpec, u);\r\nPublicKey pubKey = kf.generatePublic(pubSpec);\r\n\r\nKeyAgreement ka = KeyAgreement.getInstance(&quot;XDH&quot;);\r\nka.init(kp.getPrivate());\r\nka.doPhase(pubKey, true);\r\nbyte[] secret = ka.generateSecret();\r\n```\r\n\r\nNote that the public key generated by the key factory is the one from the other party. Usually you would decode that value from bytes though.","title":"How to generate curve25519 key pair for diffie hellman algorithm?","body":"<p>Curve25519 <a href=\"https://openjdk.java.net/jeps/324\" rel=\"noreferrer\">seems supported</a> from Java 11 onwards (note that the standard Java follows the OpenJDK Java nowadays).</p>\n\n<p>The linked to JEP (Java Enhancement Proposal) also contains sample code, included here verbatim:</p>\n\n<pre><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"XDH\");\nNamedParameterSpec paramSpec = new NamedParameterSpec(\"X25519\");\nkpg.initialize(paramSpec); // equivalent to kpg.initialize(255)\n// alternatively: kpg = KeyPairGenerator.getInstance(\"X25519\")\nKeyPair kp = kpg.generateKeyPair();\n\nKeyFactory kf = KeyFactory.getInstance(\"XDH\");\nBigInteger u = ...\nXECPublicKeySpec pubSpec = new XECPublicKeySpec(paramSpec, u);\nPublicKey pubKey = kf.generatePublic(pubSpec);\n\nKeyAgreement ka = KeyAgreement.getInstance(\"XDH\");\nka.init(kp.getPrivate());\nka.doPhase(pubKey, true);\nbyte[] secret = ka.generateSecret();\n</code></pre>\n\n<p>Note that the public key generated by the key factory is the one from the other party. Usually you would decode that value from bytes though.</p>\n"}],"owner":{"account_id":16661153,"reputation":63,"user_id":12041084,"display_name":"asawari kengar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5092,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57852605,"answer_count":2,"score":6,"last_activity_date":1650275660,"creation_date":1568025865,"question_id":57852431,"body_markdown":"I want to implement ECDHE algorithm in my project ,for that I want to use Curve25519.But stuck how to generate key-pair for Curve25519.With other curve I am able to generate key-pair,but for curve25519 getting algorithm not found\r\n\r\nI tried with below code:\r\n\r\n    KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    \t\tkpg.initialize(256);\r\n    \t\tKeyPair private_Key1 = kpg.generateKeyPair();\r\n    \t   PublicKey ourPk1 = private_Key1.getPublic();\r\n\r\n","title":"How to generate curve25519 key pair for diffie hellman algorithm?","body":"<p>I want to implement ECDHE algorithm in my project ,for that I want to use Curve25519.But stuck how to generate key-pair for Curve25519.With other curve I am able to generate key-pair,but for curve25519 getting algorithm not found</p>\n\n<p>I tried with below code:</p>\n\n<pre><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"EC\");\n        kpg.initialize(256);\n        KeyPair private_Key1 = kpg.generateKeyPair();\n       PublicKey ourPk1 = private_Key1.getPublic();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10949787,"reputation":71,"user_id":8046502,"display_name":"Subhash"},"score":1,"creation_date":1650025986,"post_id":71883171,"comment_id":127025570,"body_markdown":"I have tried using all java classes as opposed to one in kotlin (AudioCleanser.kt) - issue is reproducible. \nSurprisingly, it is also observed that if you rename AudioCleanser to something else (say AudioXCleanser) so that it will appear later than others when sorted, you will not face issue.\nAlternatively, if you can use @Configuration class to create beans and order AudioCleanser bean at the end, you won&#39;t face issue.\nIt (@ConditionalObBean) definitely has to do with the processing order of beans.","body":"I have tried using all java classes as opposed to one in kotlin (AudioCleanser.kt) - issue is reproducible.  Surprisingly, it is also observed that if you rename AudioCleanser to something else (say AudioXCleanser) so that it will appear later than others when sorted, you will not face issue. Alternatively, if you can use @Configuration class to create beans and order AudioCleanser bean at the end, you won&#39;t face issue. It (@ConditionalObBean) definitely has to do with the processing order of beans."},{"owner":{"account_id":2983677,"reputation":9694,"user_id":2533082,"accept_rate":63,"display_name":"Vinz243"},"score":0,"creation_date":1650354063,"post_id":71883171,"comment_id":127088370,"body_markdown":"Thanks for taking the time to try it out and for the insights !","body":"Thanks for taking the time to try it out and for the insights !"}],"answers":[{"tags":[],"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650275251,"creation_date":1650026575,"answer_id":71884169,"question_id":71883171,"body_markdown":"You can do it in several ways:\r\n1. **Use all conditions in** `AudioCleanser`:\r\n```\r\n@ConditionalOnBean({AudioFileProvider::class,AudioConfig::class})\r\nclass AudioCleanser(\r\n    private val dslContext: DSLContext,\r\n    private val audioFileProvider: AudioFileProvider\r\n)\r\n```\r\n2. **Use custom condition**:\r\n```\r\npublic class AudioEnabledCondition extends AllNestedConditions {\r\n\r\n    public AudioEnabledCondition() {\r\n        super(ConfigurationPhase.REGISTER_BEAN);\r\n    }\r\n\r\n    @ConditionalOnBean(AudioConfig.class)\r\n    static class AudioConfigExistsCondition {\r\n\r\n    }\r\n\r\n    @ConditionalOnBean(AudioFileProvider.class)\r\n    static class AudioFileProviderExistsCondition {\r\n\r\n    }\r\n\r\n}\r\n\r\n@Conditional(AudioEnabledCondition::class)\r\nclass AudioCleanser(\r\n    private val dslContext: DSLContext,\r\n    private val audioFileProvider: AudioFileProvider\r\n)\r\n```","title":"Spring @ConditionalOnBean not preventing bean from being created","body":"<p>You can do it in several ways:</p>\n<ol>\n<li><strong>Use all conditions in</strong> <code>AudioCleanser</code>:</li>\n</ol>\n<pre><code>@ConditionalOnBean({AudioFileProvider::class,AudioConfig::class})\nclass AudioCleanser(\n    private val dslContext: DSLContext,\n    private val audioFileProvider: AudioFileProvider\n)\n</code></pre>\n<ol start=\"2\">\n<li><strong>Use custom condition</strong>:</li>\n</ol>\n<pre><code>public class AudioEnabledCondition extends AllNestedConditions {\n\n    public AudioEnabledCondition() {\n        super(ConfigurationPhase.REGISTER_BEAN);\n    }\n\n    @ConditionalOnBean(AudioConfig.class)\n    static class AudioConfigExistsCondition {\n\n    }\n\n    @ConditionalOnBean(AudioFileProvider.class)\n    static class AudioFileProviderExistsCondition {\n\n    }\n\n}\n\n@Conditional(AudioEnabledCondition::class)\nclass AudioCleanser(\n    private val dslContext: DSLContext,\n    private val audioFileProvider: AudioFileProvider\n)\n</code></pre>\n"}],"owner":{"account_id":2983677,"reputation":9694,"user_id":2533082,"accept_rate":63,"display_name":"Vinz243"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650275251,"creation_date":1650020236,"question_id":71883171,"body_markdown":"I have several beans\r\n\r\n### AudioConfig.java \r\n\r\n    @ConstructorBinding\r\n    @ConfigurationProperties(prefix = &quot;audio&quot;)\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @ConditionalOnProperty(&quot;audio.root-path&quot;)\r\n    public class AudioConfig {\r\n        private final Path rootPath;\r\n    }\r\n\r\n### AudioFileProvider.java\r\n\r\n    \r\n    @Component\r\n    @AllArgsConstructor\r\n    @Log4j2\r\n    @ConditionalOnBean(AudioConfig.class)\r\n    public class AudioFileProvider {\r\n         private final AudioConfig audioConfig;\r\n         ....\r\n\r\n### AudioCleanser.kt \r\n\r\n    @ConditionalOnBean(AudioFileProvider::class)\r\n    class AudioCleanser(\r\n        private val dslContext: DSLContext,\r\n        private val audioFileProvider: AudioFileProvider\r\n    )\r\n\r\n\r\nSo if my property audio.root-path is not defined then it should not try to instantiate AudioCleanser, right?\r\n\r\nYet I get :\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of constructor in AudioCleanser required a bean of type &#39;AudioFileProvider&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;AudioFileProvider&#39; in your configuration.\r\n","title":"Spring @ConditionalOnBean not preventing bean from being created","body":"<p>I have several beans</p>\n<h3>AudioConfig.java</h3>\n<pre><code>@ConstructorBinding\n@ConfigurationProperties(prefix = &quot;audio&quot;)\n@AllArgsConstructor\n@Getter\n@ConditionalOnProperty(&quot;audio.root-path&quot;)\npublic class AudioConfig {\n    private final Path rootPath;\n}\n</code></pre>\n<h3>AudioFileProvider.java</h3>\n<pre><code>@Component\n@AllArgsConstructor\n@Log4j2\n@ConditionalOnBean(AudioConfig.class)\npublic class AudioFileProvider {\n     private final AudioConfig audioConfig;\n     ....\n</code></pre>\n<h3>AudioCleanser.kt</h3>\n<pre><code>@ConditionalOnBean(AudioFileProvider::class)\nclass AudioCleanser(\n    private val dslContext: DSLContext,\n    private val audioFileProvider: AudioFileProvider\n)\n</code></pre>\n<p>So if my property audio.root-path is not defined then it should not try to instantiate AudioCleanser, right?</p>\n<p>Yet I get :</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in AudioCleanser required a bean of type 'AudioFileProvider' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'AudioFileProvider' in your configuration.\n</code></pre>\n"},{"tags":["java","tcp","hex","decode"],"answers":[{"tags":[],"owner":{"account_id":925288,"reputation":209,"user_id":956186,"accept_rate":20,"display_name":"Mohammad Reza Kargar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650275094,"creation_date":1650275094,"answer_id":71910178,"question_id":71892891,"body_markdown":"Using \r\n\r\n&gt; org.apache.commons.codec.binary.Hex.encodeHexString(bytes)\r\n\r\nsolved the problem.","title":"decoding concox gps tracker tcp packet with java","body":"<p>Using</p>\n<blockquote>\n<p>org.apache.commons.codec.binary.Hex.encodeHexString(bytes)</p>\n</blockquote>\n<p>solved the problem.</p>\n"}],"owner":{"account_id":925288,"reputation":209,"user_id":956186,"accept_rate":20,"display_name":"Mohammad Reza Kargar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71910178,"answer_count":1,"score":0,"last_activity_date":1650275094,"creation_date":1650103321,"question_id":71892891,"body_markdown":"I&#39;m decoding a [gps tracker][1] tcp packet following this reading map:\r\n\r\n[![reading map][2]][2]\r\n\r\n\r\nAs it said, total length of content should be 0x11 that equals to 17 bytes.\r\nThis packet starts with two bytes 0x7878 (120 120) and ends with 0x0D0A (13 10).\r\nBut in action, i got the following byte array. \r\n\r\n[![received byte array][3]][3]\r\n\r\nThe length of Information content is more than 17 bytes. But if i want to map [-17 -65 -67] sequence as one byte, it becomes 17 bytes.\r\nI don&#39;t know how map this three negative byes to one byte. By the way it&#39;s just a guess.\r\nAny help will be appreciated.\r\n \r\n\r\n\r\n  [1]: https://www.iconcox.com/products/at1-asset-gps-tracker.html\r\n  [2]: https://i.stack.imgur.com/Y8YtM.png\r\n  [3]: https://i.stack.imgur.com/BG1FH.png","title":"decoding concox gps tracker tcp packet with java","body":"<p>I'm decoding a <a href=\"https://www.iconcox.com/products/at1-asset-gps-tracker.html\" rel=\"nofollow noreferrer\">gps tracker</a> tcp packet following this reading map:</p>\n<p><a href=\"https://i.stack.imgur.com/Y8YtM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y8YtM.png\" alt=\"reading map\" /></a></p>\n<p>As it said, total length of content should be 0x11 that equals to 17 bytes.\nThis packet starts with two bytes 0x7878 (120 120) and ends with 0x0D0A (13 10).\nBut in action, i got the following byte array.</p>\n<p><a href=\"https://i.stack.imgur.com/BG1FH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BG1FH.png\" alt=\"received byte array\" /></a></p>\n<p>The length of Information content is more than 17 bytes. But if i want to map [-17 -65 -67] sequence as one byte, it becomes 17 bytes.\nI don't know how map this three negative byes to one byte. By the way it's just a guess.\nAny help will be appreciated.</p>\n"},{"tags":["java","maven","reflection","pom.xml","exec-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1650281263,"post_id":71910117,"comment_id":127071477,"body_markdown":"the problem is simply because if you code is executed by a plugin it&#39;s running inside a different classload because every plugin runs in its own classloader separated from the deps of your own project...","body":"the problem is simply because if you code is executed by a plugin it&#39;s running inside a different classload because every plugin runs in its own classloader separated from the deps of your own project..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1650285894,"post_id":71910117,"comment_id":127072743,"body_markdown":"What is the purpose? In the end, what do you want to achieve?","body":"What is the purpose? In the end, what do you want to achieve?"},{"owner":{"account_id":13643412,"reputation":11,"user_id":9842996,"display_name":"Sliveer"},"score":0,"creation_date":1650296872,"post_id":71910117,"comment_id":127076225,"body_markdown":"@khmarbaise But is there any way of adding my classes to the loaded classes of the exec plugin? Is there any other way of listing my classes in a maven plugin using reflection? Or is there a way of including code execution during maven build without plugin so my classes are loaded?","body":"@khmarbaise But is there any way of adding my classes to the loaded classes of the exec plugin? Is there any other way of listing my classes in a maven plugin using reflection? Or is there a way of including code execution during maven build without plugin so my classes are loaded?"},{"owner":{"account_id":13643412,"reputation":11,"user_id":9842996,"display_name":"Sliveer"},"score":0,"creation_date":1650297427,"post_id":71910117,"comment_id":127076382,"body_markdown":"@JFabianMeier I want to automatically generate test doubles classes for my unit tests without using existing frameworks (like Mockito) which I find too slow. The idea would be to generate my test doubles in my test code before test phase so the test code compiles with the test doubles and runs fine, then I would like to add another code execution to remove the generated classes after test phase. When running tests using maven it would probably be slower (since classes are generated) but when coding it would make things faster (since I would not delete the generated code locally).","body":"@JFabianMeier I want to automatically generate test doubles classes for my unit tests without using existing frameworks (like Mockito) which I find too slow. The idea would be to generate my test doubles in my test code before test phase so the test code compiles with the test doubles and runs fine, then I would like to add another code execution to remove the generated classes after test phase. When running tests using maven it would probably be slower (since classes are generated) but when coding it would make things faster (since I would not delete the generated code locally)."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1650310877,"post_id":71910117,"comment_id":127080360,"body_markdown":"@Sliveer I doubt that you can solve this problem better than Mockito already did.","body":"@Sliveer I doubt that you can solve this problem better than Mockito already did."},{"owner":{"account_id":13643412,"reputation":11,"user_id":9842996,"display_name":"Sliveer"},"score":0,"creation_date":1650313782,"post_id":71910117,"comment_id":127081188,"body_markdown":"@JFabianMeier The code generation works well and my unit tests run super fast using generated test doubles, I only need to figure out the maven build thing.\nMockito works differently, my method is not better or worse, it&#39;s more of a tradeoff. Mockito is very user friendly and powerful, but I&#39;m going for speed here. Mockito is easy to outrun, it&#39;s just that my framework won&#39;t be as straightforward to set up and use, but I want to try it.","body":"@JFabianMeier The code generation works well and my unit tests run super fast using generated test doubles, I only need to figure out the maven build thing. Mockito works differently, my method is not better or worse, it&#39;s more of a tradeoff. Mockito is very user friendly and powerful, but I&#39;m going for speed here. Mockito is easy to outrun, it&#39;s just that my framework won&#39;t be as straightforward to set up and use, but I want to try it."}],"owner":{"account_id":13643412,"reputation":11,"user_id":9842996,"display_name":"Sliveer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650274783,"creation_date":1650274783,"question_id":71910117,"body_markdown":"I have a maven project in which I try to execute code during build (ideally between `compile` and `test` phases, but I&#39;m not there yet, for now I execute the code after goals execution).\r\n\r\n\r\nFor this purpose, I use :\r\n```xml\r\n&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n```\r\n\r\nMy code is executed during build. However, it uses `com.google.guava` reflection, which does not seem to work as expected in this context.\r\n\r\nHere is a MRE code :\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport com.google.common.reflect.ClassPath;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class LoadedClassesPrinter {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tClassPath.from(ClassLoader.getSystemClassLoader())\r\n\t\t\t\t.getAllClasses()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.forEach(o -&gt; System.out.println(o.getName()));\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd here is a MRE pom.xml :\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-exec-reflection&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.example.LoadedClassesPrinter&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.example.LoadedClassesPrinter&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I execute the main class from my IDE or from the generated jar (with dependencies), it works : it prints a bunch of classes, including my `LoadedClassesPrinter`, as I expect.\r\n\r\n```\r\n...\r\ncom.google.j2objc.annotations.RetainedLocalRef\r\ncom.google.j2objc.annotations.RetainedWith\r\ncom.google.j2objc.annotations.Weak\r\ncom.google.j2objc.annotations.WeakOuter\r\ncom.example.LoadedClassesPrinter\r\n```\r\n\r\nBut when I run `mvn clean install assembly:single exec:java`, the main method is executed, but it only prints a much smaller list of classes, which, to my surprise, does not include my `LoadedClassesPrinter`:\r\n\r\n```\r\norg.codehaus.classworlds.BytesURLConnection\r\norg.codehaus.classworlds.BytesURLStreamHandler\r\norg.codehaus.classworlds.ClassRealm\r\norg.codehaus.classworlds.ClassRealmAdapter\r\norg.codehaus.classworlds.ClassRealmReverseAdapter\r\norg.codehaus.classworlds.ClassWorld\r\norg.codehaus.classworlds.ClassWorldAdapter\r\norg.codehaus.classworlds.ClassWorldReverseAdapter\r\norg.codehaus.classworlds.ConfigurationException\r\norg.codehaus.classworlds.Configurator\r\norg.codehaus.classworlds.ConfiguratorAdapter\r\norg.codehaus.classworlds.DefaultClassRealm\r\norg.codehaus.classworlds.DuplicateRealmException\r\norg.codehaus.classworlds.Launcher\r\norg.codehaus.classworlds.NoSuchRealmException\r\norg.codehaus.plexus.classworlds.ClassWorld\r\norg.codehaus.plexus.classworlds.ClassWorldException\r\norg.codehaus.plexus.classworlds.ClassWorldListener\r\norg.codehaus.plexus.classworlds.UrlUtils\r\norg.codehaus.plexus.classworlds.launcher.ConfigurationException\r\norg.codehaus.plexus.classworlds.launcher.ConfigurationHandler\r\norg.codehaus.plexus.classworlds.launcher.ConfigurationParser$1\r\norg.codehaus.plexus.classworlds.launcher.ConfigurationParser\r\norg.codehaus.plexus.classworlds.launcher.Configurator$1\r\norg.codehaus.plexus.classworlds.launcher.Configurator\r\norg.codehaus.plexus.classworlds.launcher.Launcher\r\norg.codehaus.plexus.classworlds.realm.ClassRealm\r\norg.codehaus.plexus.classworlds.realm.DuplicateRealmException\r\norg.codehaus.plexus.classworlds.realm.Entry\r\norg.codehaus.plexus.classworlds.realm.NoSuchRealmException\r\norg.codehaus.plexus.classworlds.strategy.AbstractStrategy\r\norg.codehaus.plexus.classworlds.strategy.OsgiBundleStrategy\r\norg.codehaus.plexus.classworlds.strategy.ParentFirstStrategy\r\norg.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\norg.codehaus.plexus.classworlds.strategy.Strategy\r\norg.codehaus.plexus.classworlds.strategy.StrategyFactory\r\n```\r\n\r\nI found a set of configuration for `exec-maven-plugin` and I tried to use them but it never changed anything.\r\n\r\nWhat am I doing wrong? Is there an easy way to execute code to list my classes using reflection during build? It does not have to be `exec-maven-plugin` and `com.google.guava`, I am open to other plugins and libraries.\r\n\r\n(I use maven 3.8.3 and java 16)\r\n","title":"How to execute code that uses reflection during build in a maven project?","body":"<p>I have a maven project in which I try to execute code during build (ideally between <code>compile</code> and <code>test</code> phases, but I'm not there yet, for now I execute the code after goals execution).</p>\n<p>For this purpose, I use :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>My code is executed during build. However, it uses <code>com.google.guava</code> reflection, which does not seem to work as expected in this context.</p>\n<p>Here is a MRE code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport com.google.common.reflect.ClassPath;\n\nimport java.io.IOException;\n\npublic class LoadedClassesPrinter {\n\n    public static void main(String[] args) throws IOException {\n        ClassPath.from(ClassLoader.getSystemClassLoader())\n                .getAllClasses()\n                .stream()\n                .forEach(o -&gt; System.out.println(o.getName()));\n    }\n\n}\n</code></pre>\n<p>And here is a MRE pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-exec-reflection&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.LoadedClassesPrinter&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.example.LoadedClassesPrinter&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I execute the main class from my IDE or from the generated jar (with dependencies), it works : it prints a bunch of classes, including my <code>LoadedClassesPrinter</code>, as I expect.</p>\n<pre><code>...\ncom.google.j2objc.annotations.RetainedLocalRef\ncom.google.j2objc.annotations.RetainedWith\ncom.google.j2objc.annotations.Weak\ncom.google.j2objc.annotations.WeakOuter\ncom.example.LoadedClassesPrinter\n</code></pre>\n<p>But when I run <code>mvn clean install assembly:single exec:java</code>, the main method is executed, but it only prints a much smaller list of classes, which, to my surprise, does not include my <code>LoadedClassesPrinter</code>:</p>\n<pre><code>org.codehaus.classworlds.BytesURLConnection\norg.codehaus.classworlds.BytesURLStreamHandler\norg.codehaus.classworlds.ClassRealm\norg.codehaus.classworlds.ClassRealmAdapter\norg.codehaus.classworlds.ClassRealmReverseAdapter\norg.codehaus.classworlds.ClassWorld\norg.codehaus.classworlds.ClassWorldAdapter\norg.codehaus.classworlds.ClassWorldReverseAdapter\norg.codehaus.classworlds.ConfigurationException\norg.codehaus.classworlds.Configurator\norg.codehaus.classworlds.ConfiguratorAdapter\norg.codehaus.classworlds.DefaultClassRealm\norg.codehaus.classworlds.DuplicateRealmException\norg.codehaus.classworlds.Launcher\norg.codehaus.classworlds.NoSuchRealmException\norg.codehaus.plexus.classworlds.ClassWorld\norg.codehaus.plexus.classworlds.ClassWorldException\norg.codehaus.plexus.classworlds.ClassWorldListener\norg.codehaus.plexus.classworlds.UrlUtils\norg.codehaus.plexus.classworlds.launcher.ConfigurationException\norg.codehaus.plexus.classworlds.launcher.ConfigurationHandler\norg.codehaus.plexus.classworlds.launcher.ConfigurationParser$1\norg.codehaus.plexus.classworlds.launcher.ConfigurationParser\norg.codehaus.plexus.classworlds.launcher.Configurator$1\norg.codehaus.plexus.classworlds.launcher.Configurator\norg.codehaus.plexus.classworlds.launcher.Launcher\norg.codehaus.plexus.classworlds.realm.ClassRealm\norg.codehaus.plexus.classworlds.realm.DuplicateRealmException\norg.codehaus.plexus.classworlds.realm.Entry\norg.codehaus.plexus.classworlds.realm.NoSuchRealmException\norg.codehaus.plexus.classworlds.strategy.AbstractStrategy\norg.codehaus.plexus.classworlds.strategy.OsgiBundleStrategy\norg.codehaus.plexus.classworlds.strategy.ParentFirstStrategy\norg.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\norg.codehaus.plexus.classworlds.strategy.Strategy\norg.codehaus.plexus.classworlds.strategy.StrategyFactory\n</code></pre>\n<p>I found a set of configuration for <code>exec-maven-plugin</code> and I tried to use them but it never changed anything.</p>\n<p>What am I doing wrong? Is there an easy way to execute code to list my classes using reflection during build? It does not have to be <code>exec-maven-plugin</code> and <code>com.google.guava</code>, I am open to other plugins and libraries.</p>\n<p>(I use maven 3.8.3 and java 16)</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":510150,"reputation":12330,"user_id":1191425,"accept_rate":100,"display_name":"Li-aung Yip"},"score":2,"creation_date":1341817864,"post_id":11390143,"comment_id":15015215,"body_markdown":"For explanations of k-anonymity and l-diversity, see [this article](https://missingdata.wordpress.com/2007/08/23/k-anonymity-and-l-diversity/). (I found this at the end of a Google search for `k-anonymity l-diversity`.)","body":"For explanations of k-anonymity and l-diversity, see <a href=\"https://missingdata.wordpress.com/2007/08/23/k-anonymity-and-l-diversity/\" rel=\"nofollow noreferrer\">this article</a>. (I found this at the end of a Google search for <code>k-anonymity l-diversity</code>.)"},{"owner":{"account_id":60903,"reputation":46025,"user_id":181772,"accept_rate":96,"display_name":"andrew cooke"},"score":5,"creation_date":1342150919,"post_id":11390143,"comment_id":15133473,"body_markdown":"how on earth was this not a real question?  is my answer not a real answer?  how can &quot;what are X and Y and how do they differ?&quot; be misunderstood?","body":"how on earth was this not a real question?  is my answer not a real answer?  how can &quot;what are X and Y and how do they differ?&quot; be misunderstood?"}],"answers":[{"tags":[],"owner":{"account_id":60903,"reputation":46025,"user_id":181772,"accept_rate":96,"display_name":"andrew cooke"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1341838809,"creation_date":1341834323,"answer_id":11394383,"question_id":11390143,"body_markdown":"an anonymised dataset contains multiple fields that can be used to identify someone (eg. age, sex, location).  even if one field is not unique, a combination of them may be (eg. there may be only 1 male aged 54 in squatsville).  k-anonymity greater than 1 means that even with all fields you don&#39;t identify a single person - you identify &quot;k&quot; people.\r\n\r\nbut that&#39;s not enough, because all k people identified by a distinct set of the different fields might be associated with the same value - if there are 10 different 54 year-old males in squatsville and they all wear ladies clothes, then you know that bob, who is 54 and lives in squatsville, wears ladies clothes.  so you need diversity within the group identified by the fields.  l-diversity means that the group contains &quot;l&quot; (the letter L, not the digit 1) different values.\r\n\r\n[no offense intended - seriously - to cross-dressers.  i just wanted something mildly amusing that wasn&#39;t, well, cancer...]\r\n\r\nand a reference - http://www.cs.colostate.edu/~cs656/reading/ldiversity.pdf","title":"What is meant by k-anonymity and l-diversity, and what is difference between them?","body":"<p>an anonymised dataset contains multiple fields that can be used to identify someone (eg. age, sex, location).  even if one field is not unique, a combination of them may be (eg. there may be only 1 male aged 54 in squatsville).  k-anonymity greater than 1 means that even with all fields you don't identify a single person - you identify \"k\" people.</p>\n\n<p>but that's not enough, because all k people identified by a distinct set of the different fields might be associated with the same value - if there are 10 different 54 year-old males in squatsville and they all wear ladies clothes, then you know that bob, who is 54 and lives in squatsville, wears ladies clothes.  so you need diversity within the group identified by the fields.  l-diversity means that the group contains \"l\" (the letter L, not the digit 1) different values.</p>\n\n<p>[no offense intended - seriously - to cross-dressers.  i just wanted something mildly amusing that wasn't, well, cancer...]</p>\n\n<p>and a reference - <a href=\"http://www.cs.colostate.edu/~cs656/reading/ldiversity.pdf\">http://www.cs.colostate.edu/~cs656/reading/ldiversity.pdf</a></p>\n"}],"owner":{"account_id":1285100,"reputation":104,"user_id":1238345,"accept_rate":20,"display_name":"NilKha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9554,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1341921016,"accepted_answer_id":11394383,"answer_count":1,"score":3,"last_activity_date":1650273802,"creation_date":1341816056,"question_id":11390143,"body_markdown":"What is meant by k-anonymity and l-diversity, and what is difference between them? This concept is used in the [following IEEE paper][1].\r\n\r\n[1]: https://ieeexplore.ieee.org/document/5645011","title":"What is meant by k-anonymity and l-diversity, and what is difference between them?","body":"<p>What is meant by k-anonymity and l-diversity, and what is difference between them? This concept is used in the <a href=\"https://ieeexplore.ieee.org/document/5645011\" rel=\"nofollow noreferrer\">following IEEE paper</a>.</p>\n"},{"tags":["java","dataframe","apache-spark","parquet","partition-by"],"answers":[{"tags":[],"owner":{"account_id":22879649,"reputation":3862,"user_id":17021429,"display_name":"过过招"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650268462,"creation_date":1650268462,"answer_id":71909066,"question_id":71908390,"body_markdown":"You can&#39;t do that. ````partitionBy```` must specify the name of a column or columns of the dataset. In addition, when reading table data, spark implements Partition Discovery according to the storage structure.","title":"Add current timestamp to Spark dataframe but partition it by the current date without adding it to the dataframe","body":"<p>You can't do that. <code>partitionBy</code> must specify the name of a column or columns of the dataset. In addition, when reading table data, spark implements Partition Discovery according to the storage structure.</p>\n"},{"tags":[],"owner":{"account_id":12515566,"reputation":4742,"user_id":9108912,"display_name":"Vaebhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650273557,"creation_date":1650273557,"answer_id":71909886,"question_id":71908390,"body_markdown":"As explained by @过过招 , [partitionBy][1] takes in a column , and you cannot supply a calculated field\r\n\r\nYou can implicitly create a column using [current_date][2] , and use that in `partitionBy` , the `current_date` column that you have created will anyways not be part of your data dump\r\n\r\n```\r\nimport org.apache.spark.sql.functions.current_date    \r\ndf.withColumn(&quot;current_date&quot;, current_date())\r\n\r\ndf.write.partitionBy(current_date).parquet(&quot;/path/to/file&quot;)\r\n```\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/python/reference/api/pyspark.sql.DataFrameWriter.partitionBy.html\r\n  [2]: https://spark.apache.org/docs/latest/api/python/reference/api/pyspark.sql.functions.current_date.html?highlight=current_date","title":"Add current timestamp to Spark dataframe but partition it by the current date without adding it to the dataframe","body":"<p>As explained by @过过招 , <a href=\"https://spark.apache.org/docs/latest/api/python/reference/api/pyspark.sql.DataFrameWriter.partitionBy.html\" rel=\"nofollow noreferrer\">partitionBy</a> takes in a column , and you cannot supply a calculated field</p>\n<p>You can implicitly create a column using <a href=\"https://spark.apache.org/docs/latest/api/python/reference/api/pyspark.sql.functions.current_date.html?highlight=current_date\" rel=\"nofollow noreferrer\">current_date</a> , and use that in <code>partitionBy</code> , the <code>current_date</code> column that you have created will anyways not be part of your data dump</p>\n<pre><code>import org.apache.spark.sql.functions.current_date    \ndf.withColumn(&quot;current_date&quot;, current_date())\n\ndf.write.partitionBy(current_date).parquet(&quot;/path/to/file&quot;)\n</code></pre>\n"}],"owner":{"account_id":22001498,"reputation":23,"user_id":16273164,"display_name":"CodingIsArt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650273557,"creation_date":1650264003,"question_id":71908390,"body_markdown":"I understand we can add current timestamp to a dataframe by doing this:\r\n\r\n    import org.apache.spark.sql.functions.current_timestamp    \r\n    df.withColumn(&quot;time_stamp&quot;, current_timestamp())\r\n\r\nHowever if we&#39;d like to partition it by the current date at the point of saving it as a parquet file by deriving it from the timestamp without adding it to the dataframe, would that be possible?\r\nWhat I am trying to achieve would be something like this:\r\n\r\n    df.write.partitionBy(date(&quot;time_stamp&quot;)).parquet(&quot;/path/to/file&quot;)\r\n\r\n","title":"Add current timestamp to Spark dataframe but partition it by the current date without adding it to the dataframe","body":"<p>I understand we can add current timestamp to a dataframe by doing this:</p>\n<pre><code>import org.apache.spark.sql.functions.current_timestamp    \ndf.withColumn(&quot;time_stamp&quot;, current_timestamp())\n</code></pre>\n<p>However if we'd like to partition it by the current date at the point of saving it as a parquet file by deriving it from the timestamp without adding it to the dataframe, would that be possible?\nWhat I am trying to achieve would be something like this:</p>\n<pre><code>df.write.partitionBy(date(&quot;time_stamp&quot;)).parquet(&quot;/path/to/file&quot;)\n</code></pre>\n"},{"tags":["java","html","xslt","saxon","jcabi"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1649858772,"post_id":71858515,"comment_id":126982688,"body_markdown":"Which Saxon version is that exactly?","body":"Which Saxon version is that exactly?"}],"answers":[{"tags":[],"owner":{"account_id":23886751,"reputation":496,"user_id":17886849,"display_name":"Max Smirnov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649857230,"creation_date":1649857230,"answer_id":71858516,"question_id":71858515,"body_markdown":"Adding `xmlns=&quot;http://www.w3.org/1999/xhtml&quot;` into `xsl:stylesheet` tag fixes this error:\r\n\r\nFull XSLT file after change:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet\r\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n  xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n  version=&quot;2.0&quot;&gt;\r\n  &lt;xsl:output method=&quot;html&quot; version=&quot;5.0&quot;/&gt;\r\n\r\n  &lt;xsl:template match=&quot;/content&quot;&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;&lt;/head&gt;\r\n      &lt;body&gt;&lt;/body&gt;\r\n    &lt;/html&gt;\r\n  &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```","title":"XLST transform from XML to HTML results &quot;HTML 1.0 version not supported&quot; error","body":"<p>Adding <code>xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</code> into <code>xsl:stylesheet</code> tag fixes this error:</p>\n<p>Full XSLT file after change:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet\n  xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n  xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n  version=&quot;2.0&quot;&gt;\n  &lt;xsl:output method=&quot;html&quot; version=&quot;5.0&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/content&quot;&gt;\n    &lt;html lang=&quot;en&quot;&gt;\n      &lt;head&gt;&lt;/head&gt;\n      &lt;body&gt;&lt;/body&gt;\n    &lt;/html&gt;\n  &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650273322,"creation_date":1649961825,"answer_id":71876293,"question_id":71858515,"body_markdown":"As far as I can tell from the stack trace (showing\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: net.sf.saxon.trans.XPathException: Unsupported HTML version: 1.0\r\n    \tat com.jcabi.xml.XMLDocument.asString(XMLDocument.java\r\n\r\nthe exception is triggered by the line https://github.com/jcabi/jcabi-xml/blob/0.23.2/src/main/java/com/jcabi/xml/XMLDocument.java#L505 doing `trans.setOutputProperty(OutputKeys.VERSION, &quot;1.0&quot;);`, that seems to be the culprit. \r\n\r\nSo basically it seems that the library uses Saxon with the JAXP Transformer API but at that line tries to override the `version` as `1.0` and Saxon indeed doesn&#39;t support it for the HTML output it is trying to do based on the `html` output method being set in the stylesheet.\r\n\r\nAs you want to use Saxon 9.8 (or perhaps later, given that the supported versions are 10 and 11), I would suggest to look at Saxon&#39;s API documented at https://www.saxonica.com/documentation11/index.html#!using-xsl/embedding/s9api-transformation and just use that API to perform the XSLT transformation.\r\n\r\n\r\n       Processor processor = new Processor(false);\r\n       XsltCompiler compiler = processor.newXsltCompiler();\r\n       XsltExecutable stylesheet = compiler.compile(new StreamSource(new File(&quot;test.xslt&quot;)));\r\n       Serializer out = processor.newSerializer(new File(&quot;result.html&quot;));\r\n       Xslt30Transformer transformer = stylesheet.load30();\r\n       transformer.transform(new StreamSource(new File(&quot;test.xml&quot;)), out);\r\n\r\n","title":"XLST transform from XML to HTML results &quot;HTML 1.0 version not supported&quot; error","body":"<p>As far as I can tell from the stack trace (showing</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: net.sf.saxon.trans.XPathException: Unsupported HTML version: 1.0\n    at com.jcabi.xml.XMLDocument.asString(XMLDocument.java\n</code></pre>\n<p>the exception is triggered by the line <a href=\"https://github.com/jcabi/jcabi-xml/blob/0.23.2/src/main/java/com/jcabi/xml/XMLDocument.java#L505\" rel=\"nofollow noreferrer\">https://github.com/jcabi/jcabi-xml/blob/0.23.2/src/main/java/com/jcabi/xml/XMLDocument.java#L505</a> doing <code>trans.setOutputProperty(OutputKeys.VERSION, &quot;1.0&quot;);</code>, that seems to be the culprit.</p>\n<p>So basically it seems that the library uses Saxon with the JAXP Transformer API but at that line tries to override the <code>version</code> as <code>1.0</code> and Saxon indeed doesn't support it for the HTML output it is trying to do based on the <code>html</code> output method being set in the stylesheet.</p>\n<p>As you want to use Saxon 9.8 (or perhaps later, given that the supported versions are 10 and 11), I would suggest to look at Saxon's API documented at <a href=\"https://www.saxonica.com/documentation11/index.html#!using-xsl/embedding/s9api-transformation\" rel=\"nofollow noreferrer\">https://www.saxonica.com/documentation11/index.html#!using-xsl/embedding/s9api-transformation</a> and just use that API to perform the XSLT transformation.</p>\n<pre><code>   Processor processor = new Processor(false);\n   XsltCompiler compiler = processor.newXsltCompiler();\n   XsltExecutable stylesheet = compiler.compile(new StreamSource(new File(&quot;test.xslt&quot;)));\n   Serializer out = processor.newSerializer(new File(&quot;result.html&quot;));\n   Xslt30Transformer transformer = stylesheet.load30();\n   transformer.transform(new StreamSource(new File(&quot;test.xml&quot;)), out);\n</code></pre>\n"}],"owner":{"account_id":23886751,"reputation":496,"user_id":17886849,"display_name":"Max Smirnov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71876293,"answer_count":2,"score":0,"last_activity_date":1650273322,"creation_date":1649857230,"question_id":71858515,"body_markdown":"I&#39;m trying to convert XML to HTMl using Java Saxon library with Jcabi-XML.\r\n\r\nXSLT:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;2.0&quot;&gt;\r\n  &lt;xsl:output method=&quot;html&quot; version=&quot;5.0&quot;/&gt;\r\n\r\n  &lt;xsl:template match=&quot;/content&quot;&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;&lt;/head&gt;\r\n      &lt;body&gt;&lt;/body&gt;\r\n    &lt;/html&gt;\r\n  &lt;/xsl:template&gt;\r\n\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nXML:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;content&gt;This text results error&lt;/content&gt;\r\n```\r\n\r\nJava:\r\n```java\r\npackage com.test;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\n\r\nimport com.jcabi.xml.XMLDocument;\r\nimport com.jcabi.xml.XSLDocument;\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        try {\r\n            final XMLDocument xml = new XMLDocument(\r\n                new File(&quot;test.xml&quot;)\r\n            );\r\n            final XSLDocument xlst = new XSLDocument(\r\n                new File(&quot;test.xslt&quot;)\r\n            );\r\n            xlst.transform(xml);\r\n        } catch (final FileNotFoundException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis code results `java.lang.IllegalArgumentException: net.sf.saxon.trans.XPathException: Unsupported HTML version: 1.0`.\r\n\r\nI explicitly set HTML5 version, but it doesn&#39;t affect to result. How to avoid this error?\r\n\r\nLibraries versions:\r\n\r\n- Jcabi-XML: `0.23.2`\r\n- Saxon-HE: `9.8.0-15`","title":"XLST transform from XML to HTML results &quot;HTML 1.0 version not supported&quot; error","body":"<p>I'm trying to convert XML to HTMl using Java Saxon library with Jcabi-XML.</p>\n<p>XSLT:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;2.0&quot;&gt;\n  &lt;xsl:output method=&quot;html&quot; version=&quot;5.0&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/content&quot;&gt;\n    &lt;html lang=&quot;en&quot;&gt;\n      &lt;head&gt;&lt;/head&gt;\n      &lt;body&gt;&lt;/body&gt;\n    &lt;/html&gt;\n  &lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;content&gt;This text results error&lt;/content&gt;\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\n\nimport com.jcabi.xml.XMLDocument;\nimport com.jcabi.xml.XSLDocument;\n\npublic class Main {\n    public static void main(String... args) {\n        try {\n            final XMLDocument xml = new XMLDocument(\n                new File(&quot;test.xml&quot;)\n            );\n            final XSLDocument xlst = new XSLDocument(\n                new File(&quot;test.xslt&quot;)\n            );\n            xlst.transform(xml);\n        } catch (final FileNotFoundException ex) {\n            System.out.println(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>This code results <code>java.lang.IllegalArgumentException: net.sf.saxon.trans.XPathException: Unsupported HTML version: 1.0</code>.</p>\n<p>I explicitly set HTML5 version, but it doesn't affect to result. How to avoid this error?</p>\n<p>Libraries versions:</p>\n<ul>\n<li>Jcabi-XML: <code>0.23.2</code></li>\n<li>Saxon-HE: <code>9.8.0-15</code></li>\n</ul>\n"},{"tags":["java","spring-boot","spring-profiles","spring-properties"],"comments":[{"owner":{"account_id":13252,"reputation":7128,"user_id":26496,"accept_rate":79,"display_name":"Kees de Kooter"},"score":1,"creation_date":1482408128,"post_id":37120748,"comment_id":69767071,"body_markdown":"Maybe this http://www.baeldung.com/properties-with-spring can help you out. And also take a look at this question: http://stackoverflow.com/questions/14224524/how-to-override-spring-3-1-propertysource-to-set-ignoreresourcenotfound-ignor","body":"Maybe this <a href=\"http://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a> can help you out. And also take a look at this question: <a href=\"http://stackoverflow.com/questions/14224524/how-to-override-spring-3-1-propertysource-to-set-ignoreresourcenotfound-ignor\" title=\"how to override spring 3 1 propertysource to set ignoreresourcenotfound ignor\">stackoverflow.com/questions/14224524/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15489786,"reputation":11,"user_id":11174627,"display_name":"Pratik Malani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650272184,"creation_date":1593410435,"answer_id":62632116,"question_id":37120748,"body_markdown":"By default if SpringBoot is unable to read the properties file then it will throw error. In case you want it to ignore the unresolvable property sources and not throw any error then set attribute ignoreResourceNotFound to true or set attribute ignoreUnresolvablePlaceHolders to true as below.\r\n\r\n    @Configuration\r\n    @PropertySource(name=&quot;unknown&quot;,                \r\n                    value=&quot;classpath:${unresolvable}/unknown.properties&quot;,\r\n                    ignoreResourceNotFound=true)\r\n    public class SpringPropertySourceIgnoreUnresolvableErrorExample {\r\n        //....\r\n    }\r\n\r\nFor more information, you can refer below link\r\nhttps://www.javarticles.com/2016/01/spring-propertysources-annotation-example.html\r\n\r\n","title":"Spring boot ignores &quot;ignoreUnresolvablePlaceholders&quot; = true","body":"<p>By default if SpringBoot is unable to read the properties file then it will throw error. In case you want it to ignore the unresolvable property sources and not throw any error then set attribute ignoreResourceNotFound to true or set attribute ignoreUnresolvablePlaceHolders to true as below.</p>\n<pre><code>@Configuration\n@PropertySource(name=&quot;unknown&quot;,                \n                value=&quot;classpath:${unresolvable}/unknown.properties&quot;,\n                ignoreResourceNotFound=true)\npublic class SpringPropertySourceIgnoreUnresolvableErrorExample {\n    //....\n}\n</code></pre>\n<p>For more information, you can refer below link\n<a href=\"https://www.javarticles.com/2016/01/spring-propertysources-annotation-example.html\" rel=\"nofollow noreferrer\">https://www.javarticles.com/2016/01/spring-propertysources-annotation-example.html</a></p>\n"}],"owner":{"account_id":1718766,"reputation":183,"user_id":1575261,"display_name":"Murasame"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3343,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650272184,"creation_date":1462810927,"question_id":37120748,"body_markdown":"I&#39;m having a problem with my Spring Boot application ignoring my *ignoreUnresolvablePlaceHolders* set to true in my config.xml file.\r\n\r\nI have these options explicitly set:\r\n\r\n    &lt;property name=&quot;ignoreUnresolvablePlaceholders&quot; value=&quot;true&quot; /&gt;\r\n\t&lt;!-- &lt;property name=&quot;localOverride&quot; value=&quot;false&quot; /&gt; --&gt;\r\n\t&lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot; /&gt;\r\n\r\nIt works fine in a Junit but when I run my app as a Spring Boot it throws a *Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder* on startup.\r\n\r\nEverything started to fail when I added Spring Profiles like this:\r\n\r\n    &lt;beans profile=&quot;default,dev&quot;&gt;\r\n\r\nAny help would be very much appreciated...","title":"Spring boot ignores &quot;ignoreUnresolvablePlaceholders&quot; = true","body":"<p>I'm having a problem with my Spring Boot application ignoring my <em>ignoreUnresolvablePlaceHolders</em> set to true in my config.xml file.</p>\n\n<p>I have these options explicitly set:</p>\n\n<pre><code>&lt;property name=\"ignoreUnresolvablePlaceholders\" value=\"true\" /&gt;\n&lt;!-- &lt;property name=\"localOverride\" value=\"false\" /&gt; --&gt;\n&lt;property name=\"ignoreResourceNotFound\" value=\"true\" /&gt;\n</code></pre>\n\n<p>It works fine in a Junit but when I run my app as a Spring Boot it throws a <em>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder</em> on startup.</p>\n\n<p>Everything started to fail when I added Spring Profiles like this:</p>\n\n<pre><code>&lt;beans profile=\"default,dev\"&gt;\n</code></pre>\n\n<p>Any help would be very much appreciated...</p>\n"},{"tags":["java","binding","active-directory"],"owner":{"account_id":480306,"reputation":2305,"user_id":893462,"accept_rate":53,"display_name":"Harry Muscle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1650271741,"creation_date":1400271735,"question_id":23703961,"body_markdown":"I have to write some code in Java (technically Groovy, but Java is more common) that will connect to Active Directory and find which groups a user belongs to.  I&#39;ve been looking at various LDAP libraries to accomplish this, however, I&#39;m getting stuck right at the beginning.  How can I connect to Active Directory in Java using serverless binding?  The serverless binding part is where I&#39;m getting stuck.  It seems all the libraries I&#39;ve tried so far require an actual server hostname and port number.  I&#39;d like to avoid having to code these and instead take advantage of the whole serverless binding feature of Active Directory.  Is this possible?  If so, any pointers to how to do this will be highly appreciated.","title":"Java: Connect to Active Directory via serverless binding?","body":"<p>I have to write some code in Java (technically Groovy, but Java is more common) that will connect to Active Directory and find which groups a user belongs to.  I've been looking at various LDAP libraries to accomplish this, however, I'm getting stuck right at the beginning.  How can I connect to Active Directory in Java using serverless binding?  The serverless binding part is where I'm getting stuck.  It seems all the libraries I've tried so far require an actual server hostname and port number.  I'd like to avoid having to code these and instead take advantage of the whole serverless binding feature of Active Directory.  Is this possible?  If so, any pointers to how to do this will be highly appreciated.</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":535049,"reputation":1232,"user_id":904741,"accept_rate":100,"display_name":"Lemmerich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650271672,"creation_date":1564852631,"answer_id":57340559,"question_id":57120259,"body_markdown":"All you need is to manipulate the original path string using some functions jolt provides (like split, last element, concat etc)\r\n\r\nThis spec will do the trick:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;components&quot;: {\r\n        &quot;values&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;temp&quot;: &quot;=split(&#39;/&#39;,@(1,\\\\$path))&quot;,\r\n            &quot;last_element&quot;: &quot;=lastElement(@(1,temp))&quot;,\r\n            &quot;\\\\$path&quot;: &quot;=concat(#/myvalue/,@(1,last_element))&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;components&quot;: {\r\n        &quot;values&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;\\\\$path&quot;: &quot;components.values.&amp;1.&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n","title":"How to replace text for some properties using jolt","body":"<p>All you need is to manipulate the original path string using some functions jolt provides (like split, last element, concat etc)</p>\n<p>This spec will do the trick:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;components&quot;: {\n        &quot;values&quot;: {\n          &quot;*&quot;: {\n            &quot;temp&quot;: &quot;=split('/',@(1,\\\\$path))&quot;,\n            &quot;last_element&quot;: &quot;=lastElement(@(1,temp))&quot;,\n            &quot;\\\\$path&quot;: &quot;=concat(#/myvalue/,@(1,last_element))&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;components&quot;: {\n        &quot;values&quot;: {\n          &quot;*&quot;: {\n            &quot;\\\\$path&quot;: &quot;components.values.&amp;1.&amp;&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":16352126,"reputation":21,"user_id":11810339,"display_name":"Arthur Peltier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650271672,"creation_date":1563575665,"question_id":57120259,"body_markdown":"I&#39;m using jolt in order to do some transformations, I&#39;ve been able to do that but I&#39;m having some issues trying to replace some text in some properties of my JSON file.  \r\n\r\nI tried to split the value by / and then concat the part I need with an additional text, unfortunately, that&#39;s not working.\r\n\r\nInput JSON\r\n```json\r\n{\r\n  &quot;components&quot;: {\r\n    &quot;values&quot;: {\r\n      &quot;value1&quot;: {\r\n        &quot;$path&quot;: &quot;1/2/3/bear&quot;\r\n      },\r\n      &quot;value2&quot;: {\r\n        &quot;$path&quot;: &quot;1/2/3/cat&quot;\r\n      },\r\n      &quot;value3&quot;: {\r\n        &quot;$path&quot;: &quot;1/2/3/lion&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI want to add &#39;#/myvalue/&#39; to each $path value using the last part of it. \r\n\r\nExpected result\r\n```json\r\n{\r\n  &quot;components&quot;: {\r\n    &quot;values&quot;: {\r\n      &quot;value1&quot;: {\r\n        &quot;$path&quot;: &quot;#/myvalue/bear&quot;\r\n      },\r\n      &quot;value2&quot;: {\r\n        &quot;$path&quot;: &quot;#/myvalue/cat&quot;\r\n      },\r\n      &quot;value3&quot;: {\r\n        &quot;$path&quot;: &quot;#/myvalue/lion&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI tried the following one approach in order to take the value but it&#39;s not working as expected.\r\n```json\r\n [\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;components&quot;: {\r\n        &quot;values&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;\\\\$path&quot;: { //This key has de $ sign\r\n              &quot;*/*/*/*&quot;: {\r\n                &quot;$(0,4)&quot;: &quot;\\\\$path&quot; //I need to take the four part and assign that to the \\\\path value\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;components&quot;: {\r\n        &quot;values&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;\\\\$path&quot;: &quot;=concat(&#39;#/myvalue/&#39;, @(1,\\\\$path))&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"How to replace text for some properties using jolt","body":"<p>I'm using jolt in order to do some transformations, I've been able to do that but I'm having some issues trying to replace some text in some properties of my JSON file.</p>\n<p>I tried to split the value by / and then concat the part I need with an additional text, unfortunately, that's not working.</p>\n<p>Input JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;components&quot;: {\n    &quot;values&quot;: {\n      &quot;value1&quot;: {\n        &quot;$path&quot;: &quot;1/2/3/bear&quot;\n      },\n      &quot;value2&quot;: {\n        &quot;$path&quot;: &quot;1/2/3/cat&quot;\n      },\n      &quot;value3&quot;: {\n        &quot;$path&quot;: &quot;1/2/3/lion&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>I want to add '#/myvalue/' to each $path value using the last part of it.</p>\n<p>Expected result</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;components&quot;: {\n    &quot;values&quot;: {\n      &quot;value1&quot;: {\n        &quot;$path&quot;: &quot;#/myvalue/bear&quot;\n      },\n      &quot;value2&quot;: {\n        &quot;$path&quot;: &quot;#/myvalue/cat&quot;\n      },\n      &quot;value3&quot;: {\n        &quot;$path&quot;: &quot;#/myvalue/lion&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>I tried the following one approach in order to take the value but it's not working as expected.</p>\n<pre class=\"lang-json prettyprint-override\"><code> [\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;components&quot;: {\n        &quot;values&quot;: {\n          &quot;*&quot;: {\n            &quot;\\\\$path&quot;: { //This key has de $ sign\n              &quot;*/*/*/*&quot;: {\n                &quot;$(0,4)&quot;: &quot;\\\\$path&quot; //I need to take the four part and assign that to the \\\\path value\n              }\n            }\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;components&quot;: {\n        &quot;values&quot;: {\n          &quot;*&quot;: {\n            &quot;\\\\$path&quot;: &quot;=concat('#/myvalue/', @(1,\\\\$path))&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven","liquibase"],"answers":[{"tags":[],"owner":{"account_id":12203283,"reputation":13,"user_id":8907044,"display_name":"Nikos Koutsoukos Prelorentzos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650271345,"creation_date":1650271345,"answer_id":71909522,"question_id":71896367,"body_markdown":"Have you tried &quot;com.mysql.cj.jdbc.Driver&quot;?","title":"How to fix Possibly the wrong driver for the given database URL for liquibase","body":"<p>Have you tried &quot;com.mysql.cj.jdbc.Driver&quot;?</p>\n"}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650271345,"creation_date":1650132803,"question_id":71896367,"body_markdown":"I have a jhipster generated database, where I am trying to run this command:\r\n\r\n    mvn liquibase:diff\r\n\r\nBut right now I am getting the following error:\r\n\r\n    Failed to execute goal org.liquibase:liquibase-maven-plugin:4.6.1:diff (default-cli) on project product: \r\n    Error setting up or running Liquibase:\r\n    liquibase.exception.DatabaseException: liquibase.exception.DatabaseException: liquibase.exception.DatabaseException: Connection could not be created to hibernate:spring:com.moniesta.product.domain?dialect=&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy with driver com.mysql.jdbc.Driver.  Possibly the wrong driver for the given database URL\r\n\r\nMy database is running in docker and is configured like this in its docker-compose:\r\n\r\n      products-mysql:\r\n        image: mysql:8.0.28\r\n        platform: linux/x86_64\r\n        environment:\r\n          - MYSQL_ALLOW_EMPTY_PASSWORD=yes\r\n          - MYSQL_DATABASE=products\r\n        command: mysqld --lower_case_table_names=1 --skip-ssl --character_set_server=utf8mb4 --explicit_defaults_for_timestamp\r\n        ports:\r\n          - &#39;3306:3306&#39;\r\n\r\nThis is how my pom is configured for the liquibase command:\r\n\r\n                   &lt;configuration&gt;\r\n                            &lt;changeLogFile&gt;${project.basedir}/src/main/resources/config/liquibase/master.xml&lt;/changeLogFile&gt;\r\n                            &lt;diffChangeLogFile&gt;${project.basedir}/src/main/resources/config/liquibase/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\r\n                            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n                            &lt;url&gt;jdbc:mysql://localhost:3306/product?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC&amp;amp;createDatabaseIfNotExist=true&lt;/url&gt;\r\n                            &lt;username&gt;root&lt;/username&gt;\r\n                            &lt;emptyPassword&gt;true&lt;/emptyPassword&gt;\r\n                            &lt;referenceDriver&gt;com.mysql.jdbc.Driver&lt;/referenceDriver&gt;\r\n                            &lt;contexts&gt;local&lt;/contexts&gt;\r\n                            &lt;referenceUrl&gt;hibernate:spring:com.moniesta.product.domain?dialect=&amp;amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&lt;/referenceUrl&gt;\r\n                            &lt;verbose&gt;true&lt;/verbose&gt;\r\n                            &lt;logging&gt;error&lt;/logging&gt;\r\n                            &lt;contexts&gt;!test&lt;/contexts&gt;\r\n                        &lt;/configuration&gt;\r\n\r\nI see it tries to connect to the database correctly but the driver fails, but this is a mysql database so should the driver be not mysql.jdbc? I am using mysql8","title":"How to fix Possibly the wrong driver for the given database URL for liquibase","body":"<p>I have a jhipster generated database, where I am trying to run this command:</p>\n<pre><code>mvn liquibase:diff\n</code></pre>\n<p>But right now I am getting the following error:</p>\n<pre><code>Failed to execute goal org.liquibase:liquibase-maven-plugin:4.6.1:diff (default-cli) on project product: \nError setting up or running Liquibase:\nliquibase.exception.DatabaseException: liquibase.exception.DatabaseException: liquibase.exception.DatabaseException: Connection could not be created to hibernate:spring:com.moniesta.product.domain?dialect=&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy with driver com.mysql.jdbc.Driver.  Possibly the wrong driver for the given database URL\n</code></pre>\n<p>My database is running in docker and is configured like this in its docker-compose:</p>\n<pre><code>  products-mysql:\n    image: mysql:8.0.28\n    platform: linux/x86_64\n    environment:\n      - MYSQL_ALLOW_EMPTY_PASSWORD=yes\n      - MYSQL_DATABASE=products\n    command: mysqld --lower_case_table_names=1 --skip-ssl --character_set_server=utf8mb4 --explicit_defaults_for_timestamp\n    ports:\n      - '3306:3306'\n</code></pre>\n<p>This is how my pom is configured for the liquibase command:</p>\n<pre><code>               &lt;configuration&gt;\n                        &lt;changeLogFile&gt;${project.basedir}/src/main/resources/config/liquibase/master.xml&lt;/changeLogFile&gt;\n                        &lt;diffChangeLogFile&gt;${project.basedir}/src/main/resources/config/liquibase/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\n                        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:mysql://localhost:3306/product?useUnicode=true&amp;amp;characterEncoding=utf8&amp;amp;useSSL=false&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC&amp;amp;createDatabaseIfNotExist=true&lt;/url&gt;\n                        &lt;username&gt;root&lt;/username&gt;\n                        &lt;emptyPassword&gt;true&lt;/emptyPassword&gt;\n                        &lt;referenceDriver&gt;com.mysql.jdbc.Driver&lt;/referenceDriver&gt;\n                        &lt;contexts&gt;local&lt;/contexts&gt;\n                        &lt;referenceUrl&gt;hibernate:spring:com.moniesta.product.domain?dialect=&amp;amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&lt;/referenceUrl&gt;\n                        &lt;verbose&gt;true&lt;/verbose&gt;\n                        &lt;logging&gt;error&lt;/logging&gt;\n                        &lt;contexts&gt;!test&lt;/contexts&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n<p>I see it tries to connect to the database correctly but the driver fails, but this is a mysql database so should the driver be not mysql.jdbc? I am using mysql8</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1650271156,"post_id":71909457,"comment_id":127068809,"body_markdown":"They are different on compile time (where no object exists in memory yet). `sample` is *declared* to be a `Car`, which is the only think Java looks at when deciding which methods it allows you to call on it.","body":"They are different on compile time (where no object exists in memory yet). <code>sample</code> is <i>declared</i> to be a <code>Car</code>, which is the only think Java looks at when deciding which methods it allows you to call on it."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1650271204,"post_id":71909457,"comment_id":127068826,"body_markdown":"At its core, both objects are `Truck`s, so no difference here. The reason we do not see the `Truck`-specific method in the 1st case is because we reference it as a `Car`, hence we do not know that it is a `Truck`. As an analogy: imagine the exact type depends on user input, and we only know that it will be a `Car`, hence we can only use it as if it were a car (or downcast it).","body":"At its core, both objects are <code>Truck</code>s, so no difference here. The reason we do not see the <code>Truck</code>-specific method in the 1st case is because we reference it as a <code>Car</code>, hence we do not know that it is a <code>Truck</code>. As an analogy: imagine the exact type depends on user input, and we only know that it will be a <code>Car</code>, hence we can only use it as if it were a car (or downcast it)."},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":1,"creation_date":1650271262,"post_id":71909457,"comment_id":127068851,"body_markdown":"Think of this remote - tv analogy: you have a tv with multiple functions, like browsing tv channels, youtube, netflix. However, your remote can only browse tv channels (you have a Car reference), so you will not have access to youtube and netflix. Getting a new remote would work (having a Truck object reference).","body":"Think of this remote - tv analogy: you have a tv with multiple functions, like browsing tv channels, youtube, netflix. However, your remote can only browse tv channels (you have a Car reference), so you will not have access to youtube and netflix. Getting a new remote would work (having a Truck object reference)."}],"owner":{"account_id":24982546,"reputation":23,"user_id":18844673,"display_name":"Jinwoo An"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650271275,"answer_count":0,"score":0,"last_activity_date":1650271006,"creation_date":1650271006,"question_id":71909457,"body_markdown":"```\r\npublic class Car {\r\n\r\n    public Car(){\r\n    } \r\n\r\n    public void start() {\r\n        System.out.println(&quot;start&quot;);\r\n    }\r\n\r\n    public void stop() {\r\n        System.out.println(&quot;stop&quot;);\r\n    }  \r\n}\r\n```\r\n\r\n```\r\npublic class Truck extends Car{\r\n\r\n    public Truck(){\r\n    }\r\n\r\n    public void load() {\r\n        System.out.println(&quot;load&quot;);\r\n    }\r\n\r\n    public void unload() {\r\n        System.out.println(&quot;unload&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\nCar sample = new Truck();\r\n\r\nsample.load();\r\nsample.unload();\r\n```\r\n it does not work\r\n```\r\nTruck newSample = sample\r\nnewSample.load();\r\nnewSample.unload();\r\n```\r\nit works well\r\n\r\nHow it&#39;s possible ? \r\n\r\nAre `sample` and `newSample` stored differently in memory? \r\n\r\nOnly thing that I know is when I touch the variable, JVM will check the stack area at first...\r\n","title":"How java can restrict the scope(?) of reference type variable when it is upcasted","body":"<pre><code>public class Car {\n\n    public Car(){\n    } \n\n    public void start() {\n        System.out.println(&quot;start&quot;);\n    }\n\n    public void stop() {\n        System.out.println(&quot;stop&quot;);\n    }  \n}\n</code></pre>\n<pre><code>public class Truck extends Car{\n\n    public Truck(){\n    }\n\n    public void load() {\n        System.out.println(&quot;load&quot;);\n    }\n\n    public void unload() {\n        System.out.println(&quot;unload&quot;);\n    }\n}\n</code></pre>\n<pre><code>Car sample = new Truck();\n\nsample.load();\nsample.unload();\n</code></pre>\n<p>it does not work</p>\n<pre><code>Truck newSample = sample\nnewSample.load();\nnewSample.unload();\n</code></pre>\n<p>it works well</p>\n<p>How it's possible ?</p>\n<p>Are <code>sample</code> and <code>newSample</code> stored differently in memory?</p>\n<p>Only thing that I know is when I touch the variable, JVM will check the stack area at first...</p>\n"},{"tags":["java","javafx","lambda","fxmlloader"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1649954879,"post_id":71875026,"comment_id":127010512,"body_markdown":"If you really want to understand what lamdas are I recommend the [Tutorial playlist by JavaBrains](https://youtu.be/gpIUfj3KaOc).","body":"If you really want to understand what lamdas are I recommend the <a href=\"https://youtu.be/gpIUfj3KaOc\" rel=\"nofollow noreferrer\">Tutorial playlist by JavaBrains</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1649955182,"post_id":71875026,"comment_id":127010618,"body_markdown":"You don&#39;t define a `Class&lt;?&gt;` &quot;thing&quot; (whatever you mean by that). If you look at the docs for `Callback`, the first type parameter is the type of the value that is passed to the `call()` method (in `Callback&lt;P,R&gt;` there is a method `public R call(P param);`). I.e. in your code the parameter `c` is of type `Class&lt;?&gt;`. You don&#39;t instantiate `Class&lt;?&gt;` (which I guess is what you mean by &quot;define&quot;???) because it&#39;s created by whoever calls the method you define by the lambda; in this case that is the `FXMLLoader`.","body":"You don&#39;t define a <code>Class&lt;?&gt;</code> &quot;thing&quot; (whatever you mean by that). If you look at the docs for <code>Callback</code>, the first type parameter is the type of the value that is passed to the <code>call()</code> method (in <code>Callback&lt;P,R&gt;</code> there is a method <code>public R call(P param);</code>). I.e. in your code the parameter <code>c</code> is of type <code>Class&lt;?&gt;</code>. You don&#39;t instantiate <code>Class&lt;?&gt;</code> (which I guess is what you mean by &quot;define&quot;???) because it&#39;s created by whoever calls the method you define by the lambda; in this case that is the <code>FXMLLoader</code>."}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650270877,"creation_date":1649956899,"answer_id":71875497,"question_id":71875026,"body_markdown":"It (sort of) decomposes as follows\r\n\r\n    c -&gt;       // c is the Class&lt;?&gt; parameter, which is not used\r\n    {    // Scope of Callback&lt;Class&lt;?&gt;, Object&gt;&gt; lambda method body\r\n         return new MyController(dialog, seed);    // The &lt;Object&gt; being returned\r\n    });\r\n\r\nAt some point the lambda gets called with a `Class&lt;?&gt;`, it ignores it and returns a new controller.\r\n\r\nEquivalent anonymous class could be made by implementing [Callback&lt;Class&lt;?&gt;, Object&gt;](https://docs.oracle.com/javase/8/javafx/api/javafx/util/Callback.html) as\r\n\r\n    Callback&lt;Class&lt;?&gt;, Object&gt; f = new Callback&lt;&gt;() {\r\n        public Object call(Class&lt;?&gt; ignored) {\r\n            return new MyController(dialog, seed);\r\n        }\r\n    };","title":"Could somebody demystify what I&#39;m doing with anonymous class/lambda?","body":"<p>It (sort of) decomposes as follows</p>\n<pre><code>c -&gt;       // c is the Class&lt;?&gt; parameter, which is not used\n{    // Scope of Callback&lt;Class&lt;?&gt;, Object&gt;&gt; lambda method body\n     return new MyController(dialog, seed);    // The &lt;Object&gt; being returned\n});\n</code></pre>\n<p>At some point the lambda gets called with a <code>Class&lt;?&gt;</code>, it ignores it and returns a new controller.</p>\n<p>Equivalent anonymous class could be made by implementing <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/util/Callback.html\" rel=\"nofollow noreferrer\">Callback&lt;Class&lt;?&gt;, Object&gt;</a> as</p>\n<pre><code>Callback&lt;Class&lt;?&gt;, Object&gt; f = new Callback&lt;&gt;() {\n    public Object call(Class&lt;?&gt; ignored) {\n        return new MyController(dialog, seed);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":8917850,"reputation":51,"user_id":6655734,"display_name":"Jeffrey Wiegley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650270877,"creation_date":1649954601,"question_id":71875026,"body_markdown":"I&#39;m building a JavaFX app and I&#39;ve discovered the joy of\r\n```\r\nFXMLloader.setControllerFactory(setControllerFactory​(Callback&lt;Class&lt;?&gt;,Object&gt; controllerFactory)\r\n```\r\n\r\nI went off a searched example to get my code working:\r\n\r\n```\r\n            loader.setControllerFactory(c -&gt; {\r\n               return new MyController(dialog, seed);\r\n            });\r\n```\r\n\r\nIt&#39;s beautifully simple and clean and now I can define intended controllers in my FXML files but I can construct the controllers with much more complexity/seeding that doesn&#39;t happen during injection. Sorry, I&#39;m not really understanding what took place there. I&#39;m sure that&#39;s a lambda or an anonymous class. Could somebody please demystify this for me? I&#39;m not sharp with lambdas. They always look attractive and the scoping access for local variables is always handy but they confuse the heck out of me.\r\n\r\nIn particular... The `setControllerFactory` needs to be passed an instance X of `Callback&lt;P,R&gt;` with generics `P-&gt;Class&lt;?&gt;` and `R-&gt;Object` so that something can do `X.call(Class&lt;?&gt;)` which returns an `Object`?\r\n\r\nWhat/where did I define a `Class&lt;?&gt;` thing here? How would I code this without any lambdas/anonymous classes?\r\n","title":"Could somebody demystify what I&#39;m doing with anonymous class/lambda?","body":"<p>I'm building a JavaFX app and I've discovered the joy of</p>\n<pre><code>FXMLloader.setControllerFactory(setControllerFactory​(Callback&lt;Class&lt;?&gt;,Object&gt; controllerFactory)\n</code></pre>\n<p>I went off a searched example to get my code working:</p>\n<pre><code>            loader.setControllerFactory(c -&gt; {\n               return new MyController(dialog, seed);\n            });\n</code></pre>\n<p>It's beautifully simple and clean and now I can define intended controllers in my FXML files but I can construct the controllers with much more complexity/seeding that doesn't happen during injection. Sorry, I'm not really understanding what took place there. I'm sure that's a lambda or an anonymous class. Could somebody please demystify this for me? I'm not sharp with lambdas. They always look attractive and the scoping access for local variables is always handy but they confuse the heck out of me.</p>\n<p>In particular... The <code>setControllerFactory</code> needs to be passed an instance X of <code>Callback&lt;P,R&gt;</code> with generics <code>P-&gt;Class&lt;?&gt;</code> and <code>R-&gt;Object</code> so that something can do <code>X.call(Class&lt;?&gt;)</code> which returns an <code>Object</code>?</p>\n<p>What/where did I define a <code>Class&lt;?&gt;</code> thing here? How would I code this without any lambdas/anonymous classes?</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":6943530,"reputation":1212,"user_id":5328951,"display_name":"Yogesh Nikam Patil"},"score":0,"creation_date":1650269283,"post_id":71909059,"comment_id":127068354,"body_markdown":"You can use lifecycle methods like onPause() or onStop()","body":"You can use lifecycle methods like onPause() or onStop()"},{"owner":{"account_id":395272,"reputation":24521,"user_id":758133,"accept_rate":100,"display_name":"Martin James"},"score":0,"creation_date":1650271351,"post_id":71909059,"comment_id":127068871,"body_markdown":"&#39;because it is consuming huge cpu performance and ram also hanging my device&#39; well, you could always fix your design so that does not happen...","body":"&#39;because it is consuming huge cpu performance and ram also hanging my device&#39; well, you could always fix your design so that does not happen..."},{"owner":{"account_id":24952399,"reputation":1,"user_id":18817048,"display_name":"Ayesha"},"score":0,"creation_date":1650297585,"post_id":71909059,"comment_id":127076438,"body_markdown":"fix the design means?","body":"fix the design means?"}],"answers":[{"tags":[],"owner":{"account_id":11378263,"reputation":32,"user_id":8341848,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650270688,"creation_date":1650270321,"answer_id":71909355,"question_id":71909059,"body_markdown":"Base on my experience, you can set the timeout to a very short number, and close the Socket if your app goes to background.\r\n\r\nLet me explain more...\r\n1. register a permission to receive the event of app-goes-to-background\r\n2. start a new Socket with very short timeout setting.\r\n3. when you received the event of app-goes-to-background, mark a global flag\r\n4. while waiting for new message from remote server that connected by the Socket, a exception will be trigger when timed-out. During this situation, check the abovementioned global flag. If the flag shows your are in app-goes-to-background status, close the socket (and maybe trigger another thread to check the status of the global flag, so that you can start a new Socket). If the flag shows you are NOT in the background, just keep receiving new message from remote server (and wait for next timeout).","title":"Stop Thread in background","body":"<p>Base on my experience, you can set the timeout to a very short number, and close the Socket if your app goes to background.</p>\n<p>Let me explain more...</p>\n<ol>\n<li>register a permission to receive the event of app-goes-to-background</li>\n<li>start a new Socket with very short timeout setting.</li>\n<li>when you received the event of app-goes-to-background, mark a global flag</li>\n<li>while waiting for new message from remote server that connected by the Socket, a exception will be trigger when timed-out. During this situation, check the abovementioned global flag. If the flag shows your are in app-goes-to-background status, close the socket (and maybe trigger another thread to check the status of the global flag, so that you can start a new Socket). If the flag shows you are NOT in the background, just keep receiving new message from remote server (and wait for next timeout).</li>\n</ol>\n"}],"owner":{"account_id":24952399,"reputation":1,"user_id":18817048,"display_name":"Ayesha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650270688,"creation_date":1650268415,"question_id":71909059,"body_markdown":"Can any body please help me out?\r\nMy problem is I have a thread(TCP socket) class in android which starts when android app login but I want to stop thread when application is in background, please let me know how can I do it? because it is consuming huge cpu performance and ram also hanging my device.","title":"Stop Thread in background","body":"<p>Can any body please help me out?\nMy problem is I have a thread(TCP socket) class in android which starts when android app login but I want to stop thread when application is in background, please let me know how can I do it? because it is consuming huge cpu performance and ram also hanging my device.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":75435,"reputation":91,"user_id":216401,"display_name":"Macdeveloper"},"score":0,"creation_date":1581625859,"post_id":60214434,"comment_id":106509643,"body_markdown":"I have discovered that the call work when is called in the same thread where mock is created but not when it is called in separate thread.","body":"I have discovered that the call work when is called in the same thread where mock is created but not when it is called in separate thread."},{"owner":{"account_id":17689759,"reputation":114,"user_id":12841832,"display_name":"benjaminqc"},"score":0,"creation_date":1581625958,"post_id":60214434,"comment_id":106509678,"body_markdown":"Your problem could be the last ligne of your matchers\n\neq(new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {}))\n\nYou specified that it&#39;s eq to a new instance of ParameterizedTypeReference then call with an other\n\nHave you tried an any(ParameterizedTypeReference.class) instead?","body":"Your problem could be the last ligne of your matchers  eq(new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {}))  You specified that it&#39;s eq to a new instance of ParameterizedTypeReference then call with an other  Have you tried an any(ParameterizedTypeReference.class) instead?"}],"answers":[{"tags":[],"owner":{"account_id":75435,"reputation":91,"user_id":216401,"display_name":"Macdeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581630364,"creation_date":1581630364,"answer_id":60216948,"question_id":60214434,"body_markdown":"I resolved, I have mocked the task executor, the problem was when mock bean is called in another thread","title":"Mock a complex api call","body":"<p>I resolved, I have mocked the task executor, the problem was when mock bean is called in another thread</p>\n"}],"owner":{"account_id":75435,"reputation":91,"user_id":216401,"display_name":"Macdeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650270613,"creation_date":1581618838,"question_id":60214434,"body_markdown":"I have some problemi understanding spring `@MockBean` in complex api call:\r\n\r\n    serviceCommunication.callAPI(HttpMethod.POST,\r\n                                        ServiceCommunication.TokenType.TokenTypeApplication,\r\n                                        &quot;document-service&quot;,\r\n                                        URIConstants.CREATE_DOCUMENT,\r\n                                        docDTO,\r\n                                        new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {\r\n                                        });\r\n\r\nI mock before the test with:\r\n\r\n    when(serviceCommunication.callAPI(eq(HttpMethod.POST),\r\n                    any(ServiceCommunication.TokenType.class),\r\n                    eq(&quot;document-service&quot;),\r\n                    eq(URIConstants.CREATE_DOCUMENT),\r\n                    any(),\r\n                    eq(new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {}))).thenReturn(new ApiResultResponse&lt;&gt;(documentID));\r\n\r\nbut I got a null result, where I wrong?","title":"Mock a complex api call","body":"<p>I have some problemi understanding spring <code>@MockBean</code> in complex api call:</p>\n<pre><code>serviceCommunication.callAPI(HttpMethod.POST,\n                                    ServiceCommunication.TokenType.TokenTypeApplication,\n                                    &quot;document-service&quot;,\n                                    URIConstants.CREATE_DOCUMENT,\n                                    docDTO,\n                                    new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {\n                                    });\n</code></pre>\n<p>I mock before the test with:</p>\n<pre><code>when(serviceCommunication.callAPI(eq(HttpMethod.POST),\n                any(ServiceCommunication.TokenType.class),\n                eq(&quot;document-service&quot;),\n                eq(URIConstants.CREATE_DOCUMENT),\n                any(),\n                eq(new ParameterizedTypeReference&lt;ApiResultResponse&lt;String&gt;&gt;() {}))).thenReturn(new ApiResultResponse&lt;&gt;(documentID));\n</code></pre>\n<p>but I got a null result, where I wrong?</p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":5505767,"reputation":2307,"user_id":4373661,"display_name":"Hardik Mehta"},"score":5,"creation_date":1650265318,"post_id":71908590,"comment_id":127067376,"body_markdown":"Goto file : gradle.properties add this line :  org.gradle.jvmargs=-Xmx4608m\nThen flutter clean and flutter pub get and re run app","body":"Goto file : gradle.properties add this line :  org.gradle.jvmargs=-Xmx4608m Then flutter clean and flutter pub get and re run app"},{"owner":{"account_id":17206939,"reputation":107,"user_id":12457292,"display_name":"bb azeae"},"score":0,"creation_date":1650265443,"post_id":71908590,"comment_id":127067408,"body_markdown":"@HardikMehta, I have post my gradle.properties in my qst and the value of jvmargs=-Xmx4608m but not help","body":"@HardikMehta, I have post my gradle.properties in my qst and the value of jvmargs=-Xmx4608m but not help"},{"owner":{"account_id":10915895,"reputation":1976,"user_id":8023701,"display_name":"Nabin Dhakal"},"score":0,"creation_date":1650265652,"post_id":71908590,"comment_id":127067470,"body_markdown":"clear your space in your mobile","body":"clear your space in your mobile"},{"owner":{"account_id":17206939,"reputation":107,"user_id":12457292,"display_name":"bb azeae"},"score":0,"creation_date":1650265781,"post_id":71908590,"comment_id":127067495,"body_markdown":"there is more then 50Gb of free space.","body":"there is more then 50Gb of free space."},{"owner":{"account_id":22264480,"reputation":89,"user_id":16495473,"display_name":"Mohit Kumar"},"score":1,"creation_date":1679300928,"post_id":71908590,"comment_id":133690108,"body_markdown":"In my case, just `rerunning the app` solved this issue.","body":"In my case, just <code>rerunning the app</code> solved this issue."},{"owner":{"account_id":21915138,"reputation":786,"user_id":16199133,"display_name":"Manbus"},"score":0,"creation_date":1685469223,"post_id":71908590,"comment_id":134663470,"body_markdown":"Try restarting your computer. Restarting it worked me.","body":"Try restarting your computer. Restarting it worked me."}],"owner":{"account_id":17206939,"reputation":107,"user_id":12457292,"display_name":"bb azeae"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3191,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1650270493,"creation_date":1650265213,"question_id":71908590,"body_markdown":"everyone I&#39;m working on Flutter project but when I want to run my application I faced this error:  \r\n\r\n&gt; Execution failed for task &#39;:app:xxxxxxxx&#39;.\r\n&gt; &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n&gt;    &gt; java.lang.OutOfMemoryError (no error message)\r\n\r\nI have tried multiple solutions like:\r\n\r\n- changing the gradle.properties file to:\r\n\r\n     + gradle.properties.org.gradle.jvmargs=-xmx4608m &lt;br /&gt;\r\nandroid.enableR8=true &lt;br /&gt;\r\nandroid.useAndroidX=true &lt;br /&gt;\r\nandroid.enableJetifier=true &lt;br /&gt;\r\n\r\n- Restarting my Pc\r\n- Checking that I have enougth memory in my Pc and My phone\r\n- Raising the minSdkVersion to 30\r\n\r\nbut it seems not to help too much.\r\n\r\n\r\n","title":"java.lang.OutOfMemoryError when starting Flutter project","body":"<p>everyone I'm working on Flutter project but when I want to run my application I faced this error:</p>\n<blockquote>\n<p>Execution failed for task ':app:xxxxxxxx'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\njava.lang.OutOfMemoryError (no error message)</p>\n</blockquote>\n</blockquote>\n<p>I have tried multiple solutions like:</p>\n<ul>\n<li><p>changing the gradle.properties file to:</p>\n<ul>\n<li>gradle.properties.org.gradle.jvmargs=-xmx4608m <br />\nandroid.enableR8=true <br />\nandroid.useAndroidX=true <br />\nandroid.enableJetifier=true <br /></li>\n</ul>\n</li>\n<li><p>Restarting my Pc</p>\n</li>\n<li><p>Checking that I have enougth memory in my Pc and My phone</p>\n</li>\n<li><p>Raising the minSdkVersion to 30</p>\n</li>\n</ul>\n<p>but it seems not to help too much.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1650270137,"post_id":71909279,"comment_id":127068550,"body_markdown":"Just capture the generic pattern `--option &quot;value&quot; --option &quot;value&quot; ...` to get the list of options.  After that, you can test the option names and act accordingly.","body":"Just capture the generic pattern <code>--option &quot;value&quot; --option &quot;value&quot; ...</code> to get the list of options.  After that, you can test the option names and act accordingly."}],"answers":[{"tags":[],"owner":{"account_id":9960232,"reputation":1568,"user_id":7369809,"display_name":"anotherGatsby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650270239,"creation_date":1650270239,"answer_id":71909343,"question_id":71909279,"body_markdown":"Try this:`&quot;(?&lt;=--name \\&quot;)[^\\&quot;]+|(?&lt;=--folderName \\&quot;)[^\\&quot;]+&quot;`\r\n\r\nTest here: https://regex101.com/r/ipMitv/1","title":"Regex capturing moveable groups","body":"<p>Try this:<code>&quot;(?&lt;=--name \\&quot;)[^\\&quot;]+|(?&lt;=--folderName \\&quot;)[^\\&quot;]+&quot;</code></p>\n<p>Test here: <a href=\"https://regex101.com/r/ipMitv/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/ipMitv/1</a></p>\n"}],"owner":{"account_id":14986495,"reputation":15,"user_id":10818900,"display_name":"reza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71909343,"answer_count":1,"score":0,"last_activity_date":1650270239,"creation_date":1650269789,"question_id":71909279,"body_markdown":"How can I capture groups that can change place? For example, if I have a command that contains a file name and a folder name I want a regex that can capture both the name and folder name for both of these commands:\r\n\r\n    --name &quot;name&quot; --folderName &quot;folderName&quot;\r\n\r\n    --folderName &quot;folderName&quot; --name &quot;name&quot;\r\n\r\n I can write something like this:\r\n\r\n    &quot;(--name (?&lt;name&gt;\\w+) --folderName (?&lt;folderName&gt;\\w+))|(--folderName (?&lt;folderName&gt;\\w+) --name (?&lt;name&gt;\\w+))&quot;\r\nBut this is obviously very long and it would be much longer if I had more than 2 groups. I am wondering if there is a more efficient way to do this?","title":"Regex capturing moveable groups","body":"<p>How can I capture groups that can change place? For example, if I have a command that contains a file name and a folder name I want a regex that can capture both the name and folder name for both of these commands:</p>\n<pre><code>--name &quot;name&quot; --folderName &quot;folderName&quot;\n\n--folderName &quot;folderName&quot; --name &quot;name&quot;\n</code></pre>\n<p>I can write something like this:</p>\n<pre><code>&quot;(--name (?&lt;name&gt;\\w+) --folderName (?&lt;folderName&gt;\\w+))|(--folderName (?&lt;folderName&gt;\\w+) --name (?&lt;name&gt;\\w+))&quot;\n</code></pre>\n<p>But this is obviously very long and it would be much longer if I had more than 2 groups. I am wondering if there is a more efficient way to do this?</p>\n"},{"tags":["java","c++","swig"],"comments":[{"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1650291890,"post_id":71909341,"comment_id":127074609,"body_markdown":"Make a [mcve]. Show the .i file. At a guess, `%include &lt;std_complex.i&gt;`","body":"Make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Show the .i file. At a guess, <code>%include &lt;std_complex.i&gt;</code>"},{"owner":{"account_id":24898898,"reputation":21,"user_id":18769811,"display_name":"DevD1"},"score":0,"creation_date":1650369248,"post_id":71909341,"comment_id":127093795,"body_markdown":"the std_complex.i works for the python environment and other languages but not the java language.","body":"the std_complex.i works for the python environment and other languages but not the java language."},{"owner":{"account_id":84277,"reputation":168384,"user_id":235698,"display_name":"Mark Tolonen"},"score":0,"creation_date":1650398741,"post_id":71909341,"comment_id":127104920,"body_markdown":"Then you have to write the typemaps yourself.","body":"Then you have to write the typemaps yourself."}],"owner":{"account_id":24898898,"reputation":21,"user_id":18769811,"display_name":"DevD1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650270221,"creation_date":1650270221,"question_id":71909341,"body_markdown":"## SWIGTYPE_p_std__complexT_double_t.java ##\r\n\r\n     /* ----------------------------------------------------------------------------\r\n     * This file was automatically generated by SWIG (http://www.swig.org).\r\n     * Version 4.0.2\r\n     *\r\n     * Do not make changes to this file unless you know what you are doing--modify\r\n     * the SWIG interface file instead.\r\n     * ----------------------------------------------------------------------------- */\r\n    \r\n    \r\n    public class SWIGTYPE_p_std__complexT_double_t {\r\n      private transient long swigCPtr;\r\n    \r\n      protected SWIGTYPE_p_std__complexT_double_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\r\n        swigCPtr = cPtr;\r\n      }\r\n    \r\n      protected SWIGTYPE_p_std__complexT_double_t() {\r\n        swigCPtr = 0;\r\n      }enter code here\r\n    \r\n      protected static long getCPtr(SWIGTYPE_p_std__complexT_double_t obj) {\r\n        return (obj == null) ? 0 : obj.swigCPtr;\r\n      }\r\n    }\r\n\r\n\r\n## \r\n\r\n\r\n----------\r\nI&#39;m using the command swig swig -c++ -java filename.i while the filename.i contains commands for parsing the c++ code to java. Adding that I&#39;m trying to convert the complex type from c++ to java and it&#39;s here where the problem is exposed.\r\n\r\n##\r\n","title":"How to solve the SWIGTYPE_p_std__complexT_double_t.java issue in SWIG","body":"<h2>SWIGTYPE_p_std__complexT_double_t.java</h2>\n<pre><code> /* ----------------------------------------------------------------------------\n * This file was automatically generated by SWIG (http://www.swig.org).\n * Version 4.0.2\n *\n * Do not make changes to this file unless you know what you are doing--modify\n * the SWIG interface file instead.\n * ----------------------------------------------------------------------------- */\n\n\npublic class SWIGTYPE_p_std__complexT_double_t {\n  private transient long swigCPtr;\n\n  protected SWIGTYPE_p_std__complexT_double_t(long cPtr, @SuppressWarnings(&quot;unused&quot;) boolean futureUse) {\n    swigCPtr = cPtr;\n  }\n\n  protected SWIGTYPE_p_std__complexT_double_t() {\n    swigCPtr = 0;\n  }enter code here\n\n  protected static long getCPtr(SWIGTYPE_p_std__complexT_double_t obj) {\n    return (obj == null) ? 0 : obj.swigCPtr;\n  }\n}\n</code></pre>\n<h2></h2>\n<hr />\n<p>I'm using the command swig swig -c++ -java filename.i while the filename.i contains commands for parsing the c++ code to java. Adding that I'm trying to convert the complex type from c++ to java and it's here where the problem is exposed.</p>\n<h2></h2>\n"},{"tags":["java","spring","maven","intellij-idea"],"comments":[{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"score":1,"creation_date":1650270299,"post_id":71909293,"comment_id":127068577,"body_markdown":"According to spring boot doc, looks like this jvmArguments setting is only available in case you are using mvn-springboot:run command. In intel ij, it would directly run the main class (annotated with @SpringBootApplication) instead of the mvn command.","body":"According to spring boot doc, looks like this jvmArguments setting is only available in case you are using mvn-springboot:run command. In intel ij, it would directly run the main class (annotated with @SpringBootApplication) instead of the mvn command."},{"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"score":0,"creation_date":1650270309,"post_id":71909293,"comment_id":127068581,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/referen&zwnj;&#8203;ce/&hellip;</a>"},{"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"score":0,"creation_date":1650283691,"post_id":71909293,"comment_id":127072114,"body_markdown":"That seems to be true but I need to be work via jus pom.xml. Thanks. I will post another topic","body":"That seems to be true but I need to be work via jus pom.xml. Thanks. I will post another topic"},{"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"score":0,"creation_date":1650289491,"post_id":71909293,"comment_id":127073815,"body_markdown":"@HưngChu Could you please check https://stackoverflow.com/questions/71911915/setting-vm-argument-via-pom-xml","body":"@HưngChu Could you please check <a href=\"https://stackoverflow.com/questions/71911915/setting-vm-argument-via-pom-xml\" title=\"setting vm argument via pom xml\">stackoverflow.com/questions/71911915/&hellip;</a>"}],"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650269886,"creation_date":1650269886,"question_id":71909293,"body_markdown":"On Intellij Idea:\r\n\r\nWhen I set `-Duser.language=tr` via maven run configuration, language is set, but when I set it via pom.xml as below it is not set. \r\n\r\n  \r\n\r\n        &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;configuration&gt;\r\n                   &lt;jvmArguments&gt;\r\n                         -Duser.language=tr\r\n                   &lt;/jvmArguments&gt;\r\n              &lt;/configuration&gt;\r\n              ...\r\n        &lt;/plugin&gt;\r\n\r\n","title":"Spring boot maven plugin jvmArguments not being set","body":"<p>On Intellij Idea:</p>\n<p>When I set <code>-Duser.language=tr</code> via maven run configuration, language is set, but when I set it via pom.xml as below it is not set.</p>\n<pre><code>    &lt;plugin&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n               &lt;jvmArguments&gt;\n                     -Duser.language=tr\n               &lt;/jvmArguments&gt;\n          &lt;/configuration&gt;\n          ...\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","micronaut","micronaut-data","micronaut-rest"],"answers":[{"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650269782,"creation_date":1650269782,"answer_id":71909277,"question_id":71892831,"body_markdown":"You might need to have the subcategory defined as embedded to be properly recognized.\r\n\r\nIt&#39;s possible to define a custom query:\r\n```java\r\n   @MongoFindQuery(&quot;{ $and: [{\\&quot;_id\\&quot;: :categoryId}, {\\&quot;subCategory.id\\&quot;: :subCategoryId}]&quot;)\r\n   List&lt;Category&gt; customFind(ObjectId categoryId, ObjectId subCategoryId);\r\n```\r\nIn a similar way, you can use `@MongoUpdateQuery` and `@MongoDeleteQuery`.\r\nFor the syntax check official MongoDB documentation.\r\n","title":"Query mongoDb embedded document using micronaut data","body":"<p>You might need to have the subcategory defined as embedded to be properly recognized.</p>\n<p>It's possible to define a custom query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @MongoFindQuery(&quot;{ $and: [{\\&quot;_id\\&quot;: :categoryId}, {\\&quot;subCategory.id\\&quot;: :subCategoryId}]&quot;)\n   List&lt;Category&gt; customFind(ObjectId categoryId, ObjectId subCategoryId);\n</code></pre>\n<p>In a similar way, you can use <code>@MongoUpdateQuery</code> and <code>@MongoDeleteQuery</code>.\nFor the syntax check official MongoDB documentation.</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":702,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650269782,"creation_date":1650102716,"question_id":71892831,"body_markdown":"Using Micronaut data to perform the below operations\r\n\r\n 1. Find the item with id and subcategory id\r\n 2. Update the subcategory item based on category id and sub-category\r\n    id \r\n 3. Delete the subcategory item based on category id and sub\r\n        category id\r\n\r\nI have the below data structure\r\n    \r\n    {\r\n        \t&quot;id&quot;: &quot;625a8d1a23c8feb3234fbf28&quot;,\r\n        \t&quot;name&quot;: &quot;Category 1&quot;,\r\n        \t&quot;description&quot;: &quot;Category 1 description&quot;,\r\n        \t&quot;subCategory&quot;: [{\r\n        \t\t\t&quot;id&quot;: &quot;625a8d6fe0e3cff6e8a3b795&quot;,\r\n        \t\t\t&quot;name&quot;: &quot;Sub Category 1&quot;,\r\n        \t\t\t&quot;description&quot;: &quot;Sub Category 1 description&quot;\r\n        \t\t},\r\n        \t\t{\r\n        \t\t\t&quot;id&quot;: &quot;625a8d782672979b1482f5ca&quot;,\r\n        \t\t\t&quot;name&quot;: &quot;Sub Category 2&quot;,\r\n        \t\t\t&quot;description&quot;: &quot;Sub Category 2 description&quot;\r\n        \t\t}\r\n        \t]\r\n        }\r\n\r\nThere is a custom query builder in micronaut as describe here https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCustomQueries and https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCriteriaExecuteQuery\r\n\r\n    @Introspected\r\n    public record SubCategorySpecification() {\r\n        public static PredicateSpecification&lt;Category&gt; categoryAndSubCategoryIdEquals(ObjectId categoryId, ObjectId subCategoryId) {\r\n            return (root,criteriaBuilder) -&gt; {\r\n                criteriaBuilder.equal(root.get(&quot;id&quot;), categoryId);\r\n                return criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;subCategory.id&quot;), subCategoryId));\r\n            };\r\n        }\r\n    }\r\nI tried the above code and got an exception as `Cannot query entity [Category] on non-existent property: subCategory.id` and not sure how to write the custom query using **`@ MongoFindQuery`**","title":"Query mongoDb embedded document using micronaut data","body":"<p>Using Micronaut data to perform the below operations</p>\n<ol>\n<li>Find the item with id and subcategory id</li>\n<li>Update the subcategory item based on category id and sub-category\nid</li>\n<li>Delete the subcategory item based on category id and sub\ncategory id</li>\n</ol>\n<p>I have the below data structure</p>\n<pre><code>{\n        &quot;id&quot;: &quot;625a8d1a23c8feb3234fbf28&quot;,\n        &quot;name&quot;: &quot;Category 1&quot;,\n        &quot;description&quot;: &quot;Category 1 description&quot;,\n        &quot;subCategory&quot;: [{\n                &quot;id&quot;: &quot;625a8d6fe0e3cff6e8a3b795&quot;,\n                &quot;name&quot;: &quot;Sub Category 1&quot;,\n                &quot;description&quot;: &quot;Sub Category 1 description&quot;\n            },\n            {\n                &quot;id&quot;: &quot;625a8d782672979b1482f5ca&quot;,\n                &quot;name&quot;: &quot;Sub Category 2&quot;,\n                &quot;description&quot;: &quot;Sub Category 2 description&quot;\n            }\n        ]\n    }\n</code></pre>\n<p>There is a custom query builder in micronaut as describe here <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCustomQueries\" rel=\"nofollow noreferrer\">https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCustomQueries</a> and <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCriteriaExecuteQuery\" rel=\"nofollow noreferrer\">https://micronaut-projects.github.io/micronaut-data/latest/guide/#mongoCriteriaExecuteQuery</a></p>\n<pre><code>@Introspected\npublic record SubCategorySpecification() {\n    public static PredicateSpecification&lt;Category&gt; categoryAndSubCategoryIdEquals(ObjectId categoryId, ObjectId subCategoryId) {\n        return (root,criteriaBuilder) -&gt; {\n            criteriaBuilder.equal(root.get(&quot;id&quot;), categoryId);\n            return criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;subCategory.id&quot;), subCategoryId));\n        };\n    }\n}\n</code></pre>\n<p>I tried the above code and got an exception as <code>Cannot query entity [Category] on non-existent property: subCategory.id</code> and not sure how to write the custom query using <strong><code>@ MongoFindQuery</code></strong></p>\n"},{"tags":["java","firebase","sdk","firebase-admin"],"answers":[{"tags":[],"owner":{"account_id":127662,"reputation":24734,"user_id":324977,"accept_rate":83,"display_name":"Sam Stern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495730008,"creation_date":1495730008,"answer_id":44185539,"question_id":44185432,"body_markdown":"The Java [quickstart](https://github.com/firebase/quickstart-java) may be a good place to look.\r\n\r\nThe `Database.java` file has some of the imports you&#39;re looking for:\r\n\r\n    import com.google.firebase.FirebaseApp;\r\n    import com.google.firebase.FirebaseOptions;\r\n    import com.google.firebase.auth.FirebaseCredentials;\r\n    import com.google.firebase.database.*;\r\n\r\n","title":"Firebase Admin SDK with Java","body":"<p>The Java <a href=\"https://github.com/firebase/quickstart-java\" rel=\"nofollow noreferrer\">quickstart</a> may be a good place to look.</p>\n\n<p>The <code>Database.java</code> file has some of the imports you're looking for:</p>\n\n<pre><code>import com.google.firebase.FirebaseApp;\nimport com.google.firebase.FirebaseOptions;\nimport com.google.firebase.auth.FirebaseCredentials;\nimport com.google.firebase.database.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1244630,"reputation":2365,"user_id":1206344,"accept_rate":83,"display_name":"mnhmilu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510481112,"creation_date":1510481112,"answer_id":47247539,"question_id":44185432,"body_markdown":"The guide need more precise contents and example.\r\n\r\nI have integrated Firebase with my current Spring boot project by following these blog [savicprvoslav/Spring-Boot-starter\r\n][1]  , it was out dated too as using new Firebase sdk is strongly recommended. You can check my question and answer here with sample updated code. [Stakoverflow][2]\r\nThe blog suggested to use this code within a configuration file (with **@Configuration** annotation ). \r\n\r\n  [1]: https://github.com/savicprvoslav/Spring-Boot-starter\r\n  [2]: https://stackoverflow.com/questions/47156777/can-not-resolve-firebaseoptions-using-latest-firebase-sdk-dependency/47169757#47169757","title":"Firebase Admin SDK with Java","body":"<p>The guide need more precise contents and example.</p>\n\n<p>I have integrated Firebase with my current Spring boot project by following these blog <a href=\"https://github.com/savicprvoslav/Spring-Boot-starter\" rel=\"nofollow noreferrer\">savicprvoslav/Spring-Boot-starter\n</a>  , it was out dated too as using new Firebase sdk is strongly recommended. You can check my question and answer here with sample updated code. <a href=\"https://stackoverflow.com/questions/47156777/can-not-resolve-firebaseoptions-using-latest-firebase-sdk-dependency/47169757#47169757\">Stakoverflow</a>\nThe blog suggested to use this code within a configuration file (with <strong>@Configuration</strong> annotation ). </p>\n"},{"tags":[],"owner":{"account_id":5116446,"reputation":588,"user_id":4101386,"display_name":"jazeb007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631006453,"creation_date":1631006453,"answer_id":69085554,"question_id":44185432,"body_markdown":"Simply download the JAR file from mvnrepository and include it in your project.\r\nhttps://mvnrepository.com/artifact/com.google.firebase/firebase-admin/8.0.1","title":"Firebase Admin SDK with Java","body":"<p>Simply download the JAR file from mvnrepository and include it in your project.\n<a href=\"https://mvnrepository.com/artifact/com.google.firebase/firebase-admin/8.0.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.firebase/firebase-admin/8.0.1</a></p>\n"},{"tags":[],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650269100,"creation_date":1650269100,"answer_id":71909174,"question_id":44185432,"body_markdown":"You have to initialise a bean with this snippet.\r\n\r\nHow I&#39;m doing it -&gt; \r\n\r\n```\r\n@Configuration\r\npublic class FirebaseAppConfig {\r\n\r\n    @SneakyThrows\r\n    public FirebaseAppConfig() {\r\n        FileInputStream serviceAccount =\r\n                new FileInputStream(&quot;filepath&quot;);\r\n\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .build();\r\n\r\n        FirebaseApp.initializeApp(options);\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThis is the bean that provides the auth for your operations. The classes can be imported directly from the mvn/gradle dependency but they NEED to be combined with auth to work.","title":"Firebase Admin SDK with Java","body":"<p>You have to initialise a bean with this snippet.</p>\n<p>How I'm doing it -&gt;</p>\n<pre><code>@Configuration\npublic class FirebaseAppConfig {\n\n    @SneakyThrows\n    public FirebaseAppConfig() {\n        FileInputStream serviceAccount =\n                new FileInputStream(&quot;filepath&quot;);\n\n        FirebaseOptions options = new FirebaseOptions.Builder()\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n                .build();\n\n        FirebaseApp.initializeApp(options);\n\n    }\n\n\n}\n</code></pre>\n<p>This is the bean that provides the auth for your operations. The classes can be imported directly from the mvn/gradle dependency but they NEED to be combined with auth to work.</p>\n"}],"owner":{"account_id":6633706,"reputation":147,"user_id":5121535,"accept_rate":42,"display_name":"TheGodProject"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7736,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1650269100,"creation_date":1495729697,"question_id":44185432,"body_markdown":"I am trying to setup firebase admin sdk in a Java project. Following the steps at https://firebase.google.com/docs/admin/setup#add_the_sdk I successfully added the sdk by adding the dependency to my build.gradle using,\r\n\r\n    dependencies {\r\n        compile &#39;com.google.firebase:firebase-admin:5.0.0&#39;\r\n    }\r\n\r\nthen ran `gradle build` which returned BUILD SUCCESSFUL.\r\n\r\nThe next step in the guide uses multiple Firebase classes which I do not know where to locate. It tells me to initialize the SDK by using:\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n        .setCredential(FirebaseCredentials.fromCertificate(serviceAccount))\r\n        .setDatabaseUrl(&quot;https://&lt;DATABASE_NAME&gt;.firebaseio.com/&quot;)\r\n        .build();\r\n\r\n    FirebaseApp.initializeApp(options);\r\n\r\nThe guide doesn&#39;t show where to import these Firebase classes from either. I assume the classes were downloaded after I ran build.gradle but I cant seem to locate any of these classes. Does anyone know what location the gradle should&#39;ve downloaded it to or what import I must use?","title":"Firebase Admin SDK with Java","body":"<p>I am trying to setup firebase admin sdk in a Java project. Following the steps at <a href=\"https://firebase.google.com/docs/admin/setup#add_the_sdk\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup#add_the_sdk</a> I successfully added the sdk by adding the dependency to my build.gradle using,</p>\n\n<pre><code>dependencies {\n    compile 'com.google.firebase:firebase-admin:5.0.0'\n}\n</code></pre>\n\n<p>then ran <code>gradle build</code> which returned BUILD SUCCESSFUL.</p>\n\n<p>The next step in the guide uses multiple Firebase classes which I do not know where to locate. It tells me to initialize the SDK by using:</p>\n\n<pre><code>FirebaseOptions options = new FirebaseOptions.Builder()\n    .setCredential(FirebaseCredentials.fromCertificate(serviceAccount))\n    .setDatabaseUrl(\"https://&lt;DATABASE_NAME&gt;.firebaseio.com/\")\n    .build();\n\nFirebaseApp.initializeApp(options);\n</code></pre>\n\n<p>The guide doesn't show where to import these Firebase classes from either. I assume the classes were downloaded after I ran build.gradle but I cant seem to locate any of these classes. Does anyone know what location the gradle should've downloaded it to or what import I must use?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":1,"creation_date":1336582548,"post_id":10520566,"comment_id":13605881,"body_markdown":"possible duplicate of [Is there an equivalent of java.util.regex for &quot;glob&quot; type patterns?](http://stackoverflow.com/questions/1247772/is-there-an-equivalent-of-java-util-regex-for-glob-type-patterns)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1247772/is-there-an-equivalent-of-java-util-regex-for-glob-type-patterns\">Is there an equivalent of java.util.regex for &quot;glob&quot; type patterns?</a>"},{"owner":{"account_id":15112,"reputation":134488,"user_id":31582,"accept_rate":86,"display_name":"Gareth"},"score":2,"creation_date":1336582675,"post_id":10520566,"comment_id":13605933,"body_markdown":"Bear in mind that any *other* regex characters which might appear in your query will have to be escaped too. If someone types in `^\\w..` you probably don&#39;t want to pass that through to your regular expression engine in its raw form","body":"Bear in mind that any <i>other</i> regex characters which might appear in your query will have to be escaped too. If someone types in <code>^\\w..</code> you probably don&#39;t want to pass that through to your regular expression engine in its raw form"},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":0,"creation_date":1360228542,"post_id":10520566,"comment_id":20637766,"body_markdown":"@SoboLAN : can you please share the collection of words , i kind of need it to develop a dictionary for my requirement","body":"@SoboLAN : can you please share the collection of words , i kind of need it to develop a dictionary for my requirement"},{"owner":{"account_id":973932,"reputation":10760,"user_id":995822,"accept_rate":85,"display_name":"Radu Murzea"},"score":0,"creation_date":1360229076,"post_id":10520566,"comment_id":20638052,"body_markdown":"@HussainAkhtarWahid I got them from the database of another program, I don&#39;t remember the link and I don&#39;t have it in my browser history anymore. However, I uploaded them here: http://www.2shared.com/file/elLSFPDx/dictionarywords.html . Each row in the file represents 1 word. This is the format: `word|definition1;definition2;definition3`. So the separators are `|` and `;`. Note: there can be any number of definitions (1, 2, 3 etc.). Hope this helps. Good luck.","body":"@HussainAkhtarWahid I got them from the database of another program, I don&#39;t remember the link and I don&#39;t have it in my browser history anymore. However, I uploaded them here: <a href=\"http://www.2shared.com/file/elLSFPDx/dictionarywords.html\" rel=\"nofollow noreferrer\">2shared.com/file/elLSFPDx/dictionarywords.html</a> . Each row in the file represents 1 word. This is the format: <code>word|definition1;definition2;definition3</code>. So the separators are <code>|</code> and <code>;</code>. Note: there can be any number of definitions (1, 2, 3 etc.). Hope this helps. Good luck."},{"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"score":0,"creation_date":1360229325,"post_id":10520566,"comment_id":20638167,"body_markdown":"seems like enough , thanx for the quick and sufficient response","body":"seems like enough , thanx for the quick and sufficient response"}],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336582809,"creation_date":1336582405,"answer_id":10520591,"question_id":10520566,"body_markdown":"`.` is an expression that matches *any one character*, as you&#39;ve discovered.  In your hours of searching, you undoubtedly also stumbled across `*`, which is a repetition operator that when used after an expression matches *the preceding expression zero or more times in a row*.\r\n\r\nSo the equivalent to your meaning of `*` is putting these two together: `.*`.  This then means &quot;any character zero or more times&quot;.\r\n\r\nSee the [Regex Tutorial on repetition operators][1].\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/repeat.html","title":"Regular Expression Wildcard Matching","body":"<p><code>.</code> is an expression that matches <em>any one character</em>, as you've discovered.  In your hours of searching, you undoubtedly also stumbled across <code>*</code>, which is a repetition operator that when used after an expression matches <em>the preceding expression zero or more times in a row</em>.</p>\n\n<p>So the equivalent to your meaning of <code>*</code> is putting these two together: <code>.*</code>.  This then means \"any character zero or more times\".</p>\n\n<p>See the <a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"nofollow\">Regex Tutorial on repetition operators</a>.</p>\n"},{"tags":[],"owner":{"account_id":49939,"reputation":511957,"user_id":148870,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336582410,"creation_date":1336582410,"answer_id":10520594,"question_id":10520566,"body_markdown":"Replace `*` with `.*` (the regex equivalent of &quot;0 or more of any character&quot;).","title":"Regular Expression Wildcard Matching","body":"<p>Replace <code>*</code> with <code>.*</code> (the regex equivalent of \"0 or more of any character\").</p>\n"},{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1336582457,"creation_date":1336582457,"answer_id":10520613,"question_id":10520566,"body_markdown":"Replace `?` with `.` and `*` with `.*`.","title":"Regular Expression Wildcard Matching","body":"<p>Replace <code>?</code> with <code>.</code> and <code>*</code> with <code>.*</code>.</p>\n"},{"tags":[],"owner":{"account_id":13724,"reputation":5533,"user_id":27739,"accept_rate":100,"display_name":"gnomed"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1336583183,"creation_date":1336582690,"answer_id":10520664,"question_id":10520566,"body_markdown":"Unless you want some funny behaviour, I would recommend you use `\\w` instead of `.`\r\n\r\n`.` matches whitespace and other non-word symbols, which you might not want it to do.\r\n\r\nSo I would replace `?` with `\\w` and replace `*` with `\\w*`\r\n\r\nAlso if you want `*` to match at least one character, replace it with `\\w+` instead. This would mean that `ben*` would match `bend` and `bending` but not `ben` - it&#39;s up to you, just depends what your requirements are.","title":"Regular Expression Wildcard Matching","body":"<p>Unless you want some funny behaviour, I would recommend you use <code>\\w</code> instead of <code>.</code></p>\n\n<p><code>.</code> matches whitespace and other non-word symbols, which you might not want it to do.</p>\n\n<p>So I would replace <code>?</code> with <code>\\w</code> and replace <code>*</code> with <code>\\w*</code></p>\n\n<p>Also if you want <code>*</code> to match at least one character, replace it with <code>\\w+</code> instead. This would mean that <code>ben*</code> would match <code>bend</code> and <code>bending</code> but not <code>ben</code> - it's up to you, just depends what your requirements are.</p>\n"},{"tags":[],"owner":{"account_id":1031708,"reputation":1301,"user_id":1039920,"accept_rate":100,"display_name":"Mark Sholund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336583004,"creation_date":1336583004,"answer_id":10520733,"question_id":10520566,"body_markdown":" 1. Replace all &#39;?&#39; characters with &#39;\\w&#39;\r\n 2. Replace all &#39;\\*&#39; characters with &#39;\\w*&#39;\r\n\r\nThe &#39;*&#39; operator repeats the previous item &#39;.&#39; (any character) 0 or more times.\r\n\r\nThis assumes that none of the words contain &#39;.&#39;, &#39;\\*&#39;, and &#39;?&#39;. \r\n\r\nThis is a good reference\r\n\r\nhttp://www.regular-expressions.info/reference.html","title":"Regular Expression Wildcard Matching","body":"<ol>\n<li>Replace all '?' characters with '\\w'</li>\n<li>Replace all '*' characters with '\\w*'</li>\n</ol>\n\n<p>The '*' operator repeats the previous item '.' (any character) 0 or more times.</p>\n\n<p>This assumes that none of the words contain '.', '*', and '?'. </p>\n\n<p>This is a good reference</p>\n\n<p><a href=\"http://www.regular-expressions.info/reference.html\" rel=\"nofollow\">http://www.regular-expressions.info/reference.html</a></p>\n"},{"tags":[],"owner":{"account_id":4211540,"reputation":1,"user_id":3449086,"display_name":"Clif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395474981,"creation_date":1395473760,"answer_id":22574835,"question_id":10520566,"body_markdown":"    function matchWild(wild,name)\r\n    {\r\n    \tif (wild == &#39;*&#39;) return true;\r\n    \r\n    \twild = wild.replace(/\\./g,&#39;\\\\.&#39;);\r\n    \twild = wild.replace(/\\?/g,&#39;.&#39;);\r\n    \twild = wild.replace(/\\\\/g,&#39;\\\\\\\\&#39;);\t\r\n    \twild = wild.replace(/\\//g,&#39;\\\\/&#39;);\r\n    \twild = wild.replace(/\\*/g,&#39;(.+?)&#39;);\r\n    \r\n    \tvar re = new RegExp(wild,&#39;i&#39;);\r\n    \treturn re.test(name);\r\n    }\r\n\r\n","title":"Regular Expression Wildcard Matching","body":"<pre><code>function matchWild(wild,name)\n{\n    if (wild == '*') return true;\n\n    wild = wild.replace(/\\./g,'\\\\.');\n    wild = wild.replace(/\\?/g,'.');\n    wild = wild.replace(/\\\\/g,'\\\\\\\\');  \n    wild = wild.replace(/\\//g,'\\\\/');\n    wild = wild.replace(/\\*/g,'(.+?)');\n\n    var re = new RegExp(wild,'i');\n    return re.test(name);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":468349,"reputation":16729,"user_id":874275,"accept_rate":75,"display_name":"Bohdan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418446371,"creation_date":1418426528,"answer_id":27453672,"question_id":10520566,"body_markdown":"Here is a way to transform wildcard into regex:\r\n\r\n1. Prepend all [special characters][1] **([{\\^-=$!|]}).+** with \\ - so they are matched as characters and don&#39;t make user experience unexpected. Also you could enclose it within **\\Q** (which starts the quote) and **\\E** (which ends it). Also see paragraph about security.\r\n3. Replace * wildcard with **\\S***\r\n5. Replace ? wildcard with **\\S?**\r\n6. Optionally: prepend pattern with **^** - this will enforce exact match with the beginning.\r\n7. Optionally: append **$** to pattern - this will enforce exact match with the end.\r\n    \r\n    **\\S** - stand for non-space character, which happens zero or more times.\r\n\r\nConsider [using reluctant (non-greedy) quantifiers][2] if you have characters to match after * or **+**. This can be done by adding **?** after * or **+** like this: **\\S*?** and **\\S*+?**\r\n\r\nConsider **security**: user will send you code to run (because regex is kind of a code too, and user string is used as the regex). You should avoid passing unescaped regex to any other parts of application and only use to filter data retrieved by other means. Because if you do user can affect speed of your code by supplying different regex withing wildcard string - this could be used in DoS attacks.\r\n\r\nExample to show execution speeds of similar patterns:\r\n\r\n    seq 1 50000000 &gt; ~/1\r\n    du -sh ~/1\r\n    563M\r\n    time grep -P &#39;.*&#39; ~/1 &amp;&gt;/dev/null\r\n    6.65s\r\n    time grep -P &#39;.*.*.*.*.*.*.*.*&#39; ~/1 &amp;&gt;/dev/null\r\n    12.55s\r\n    time grep -P &#39;.*..*..*..*..*.*&#39; ~/1 &amp;&gt;/dev/null\r\n    31.14s\r\n    time grep -P &#39;\\S*.\\S*.\\S*.\\S*.\\S*\\S*&#39; ~/1 &amp;&gt;/dev/null\r\n    31.27s\r\n\r\nI&#39;d suggest against using .* simply because it can match anything, and usually things are separated with spaces.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/regex/literals.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/regex/quant.html","title":"Regular Expression Wildcard Matching","body":"<p>Here is a way to transform wildcard into regex:</p>\n\n<ol>\n<li>Prepend all <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/literals.html\" rel=\"noreferrer\">special characters</a> <strong>([{\\^-=$!|]}).+</strong> with \\ - so they are matched as characters and don't make user experience unexpected. Also you could enclose it within <strong>\\Q</strong> (which starts the quote) and <strong>\\E</strong> (which ends it). Also see paragraph about security.</li>\n<li>Replace * wildcard with <strong>\\S*</strong></li>\n<li>Replace ? wildcard with <strong>\\S?</strong></li>\n<li>Optionally: prepend pattern with <strong>^</strong> - this will enforce exact match with the beginning.</li>\n<li><p>Optionally: append <strong>$</strong> to pattern - this will enforce exact match with the end.</p>\n\n<p><strong>\\S</strong> - stand for non-space character, which happens zero or more times.</p></li>\n</ol>\n\n<p>Consider <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"noreferrer\">using reluctant (non-greedy) quantifiers</a> if you have characters to match after * or <strong>+</strong>. This can be done by adding <strong>?</strong> after * or <strong>+</strong> like this: <strong>\\S*?</strong> and <strong>\\S*+?</strong></p>\n\n<p>Consider <strong>security</strong>: user will send you code to run (because regex is kind of a code too, and user string is used as the regex). You should avoid passing unescaped regex to any other parts of application and only use to filter data retrieved by other means. Because if you do user can affect speed of your code by supplying different regex withing wildcard string - this could be used in DoS attacks.</p>\n\n<p>Example to show execution speeds of similar patterns:</p>\n\n<pre><code>seq 1 50000000 &gt; ~/1\ndu -sh ~/1\n563M\ntime grep -P '.*' ~/1 &amp;&gt;/dev/null\n6.65s\ntime grep -P '.*.*.*.*.*.*.*.*' ~/1 &amp;&gt;/dev/null\n12.55s\ntime grep -P '.*..*..*..*..*.*' ~/1 &amp;&gt;/dev/null\n31.14s\ntime grep -P '\\S*.\\S*.\\S*.\\S*.\\S*\\S*' ~/1 &amp;&gt;/dev/null\n31.27s\n</code></pre>\n\n<p>I'd suggest against using .* simply because it can match anything, and usually things are separated with spaces.</p>\n"},{"tags":[],"owner":{"account_id":1915961,"reputation":4111,"user_id":1808989,"accept_rate":57,"display_name":"Andrew Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465085176,"creation_date":1465085176,"answer_id":37636201,"question_id":10520566,"body_markdown":"This is what I use:\r\n\r\n    String wildcardToRegex(String wildcardString) {\r\n        // The 12 is arbitrary, you may adjust it to fit your needs depending\r\n        // on how many special characters you expect in a single pattern.\r\n        StringBuilder sb = new StringBuilder(wildcardString.length() + 12);\r\n        sb.append(&#39;^&#39;);\r\n        for (int i = 0; i &lt; wildcardString.length(); ++i) {\r\n            char c = wildcardString.charAt(i);\r\n            if (c == &#39;*&#39;) {\r\n                sb.append(&quot;.*&quot;);\r\n            } else if (c == &#39;?&#39;) {\r\n                sb.append(&#39;.&#39;);\r\n            } else if (&quot;\\\\.[]{}()+-^$|&quot;.indexOf(c) &gt;= 0) {\r\n                sb.append(&#39;\\\\&#39;);\r\n                sb.append(c);\r\n            } else {\r\n                sb.append(c);\r\n            }\r\n        }\r\n        sb.append(&#39;$&#39;);\r\n        return sb.toString();\r\n    }\r\n\r\nSpecial character list from https://stackoverflow.com/a/26228852/1808989.","title":"Regular Expression Wildcard Matching","body":"<p>This is what I use:</p>\n\n<pre><code>String wildcardToRegex(String wildcardString) {\n    // The 12 is arbitrary, you may adjust it to fit your needs depending\n    // on how many special characters you expect in a single pattern.\n    StringBuilder sb = new StringBuilder(wildcardString.length() + 12);\n    sb.append('^');\n    for (int i = 0; i &lt; wildcardString.length(); ++i) {\n        char c = wildcardString.charAt(i);\n        if (c == '*') {\n            sb.append(\".*\");\n        } else if (c == '?') {\n            sb.append('.');\n        } else if (\"\\\\.[]{}()+-^$|\".indexOf(c) &gt;= 0) {\n            sb.append('\\\\');\n            sb.append(c);\n        } else {\n            sb.append(c);\n        }\n    }\n    sb.append('$');\n    return sb.toString();\n}\n</code></pre>\n\n<p>Special character list from <a href=\"https://stackoverflow.com/a/26228852/1808989\">https://stackoverflow.com/a/26228852/1808989</a>.</p>\n"},{"tags":[],"owner":{"account_id":2352753,"reputation":634,"user_id":2061231,"display_name":"Yevdo Abramov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1581432372,"creation_date":1522126383,"answer_id":49504601,"question_id":10520566,"body_markdown":"Take a look at this library: https://github.com/alenon/JWildcard\r\n\r\nIt wraps all not wildcard specific parts by regex quotes, so no special chars processing needed:\r\nThis wildcard:\r\n\r\n    &quot;mywil?card*&quot;\r\n\r\nwill be converted to this regex string:\r\n\r\n    &quot;\\Qmywil\\E.\\Qcard\\E.*&quot;\r\n\r\nIf you wish to convert wildcard to regex string use:\r\n\r\n    JWildcard.wildcardToRegex(&quot;mywil?card*&quot;);\r\n\r\nIf you wish to check the matching directly you can use this:\r\n\r\n    JWildcard.matches(&quot;mywild*&quot;, &quot;mywildcard&quot;);\r\n\r\n\r\nDefault wildcard rules are &quot;?&quot; -&gt; &quot;.&quot;, &quot;*&quot; -&gt; &quot;.*&quot;, but you can change the default behaviour if you wish, by simply defining the new rules.\r\n\r\n    JWildcard.wildcardToRegex(wildcard, rules, strict);\r\n\r\nYou can use sources or download it directly using maven or gradle from Bintray JCenter: https://bintray.com/yevdo/jwildcard/jwildcard\r\n\r\nGradle way:\r\n\r\n    compile &#39;com.yevdo:jwildcard:1.4&#39;\r\n\r\n\r\nMaven way:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.yevdo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jwildcard&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Regular Expression Wildcard Matching","body":"<p>Take a look at this library: <a href=\"https://github.com/alenon/JWildcard\" rel=\"nofollow noreferrer\">https://github.com/alenon/JWildcard</a></p>\n\n<p>It wraps all not wildcard specific parts by regex quotes, so no special chars processing needed:\nThis wildcard:</p>\n\n<pre><code>\"mywil?card*\"\n</code></pre>\n\n<p>will be converted to this regex string:</p>\n\n<pre><code>\"\\Qmywil\\E.\\Qcard\\E.*\"\n</code></pre>\n\n<p>If you wish to convert wildcard to regex string use:</p>\n\n<pre><code>JWildcard.wildcardToRegex(\"mywil?card*\");\n</code></pre>\n\n<p>If you wish to check the matching directly you can use this:</p>\n\n<pre><code>JWildcard.matches(\"mywild*\", \"mywildcard\");\n</code></pre>\n\n<p>Default wildcard rules are \"?\" -> \".\", \"<em>\" -> \".</em>\", but you can change the default behaviour if you wish, by simply defining the new rules.</p>\n\n<pre><code>JWildcard.wildcardToRegex(wildcard, rules, strict);\n</code></pre>\n\n<p>You can use sources or download it directly using maven or gradle from Bintray JCenter: <a href=\"https://bintray.com/yevdo/jwildcard/jwildcard\" rel=\"nofollow noreferrer\">https://bintray.com/yevdo/jwildcard/jwildcard</a></p>\n\n<p>Gradle way:</p>\n\n<pre><code>compile 'com.yevdo:jwildcard:1.4'\n</code></pre>\n\n<p>Maven way:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.yevdo&lt;/groupId&gt;\n  &lt;artifactId&gt;jwildcard&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":973932,"reputation":10760,"user_id":995822,"accept_rate":85,"display_name":"Radu Murzea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103934,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":10520664,"answer_count":9,"score":32,"last_activity_date":1650268538,"creation_date":1336582308,"question_id":10520566,"body_markdown":"I have a list of about 120 thousand english words (basically every word in the language).\r\n\r\nI need a regular expression that would allow searching through these words using wildcards characters, a.k.a. `*` and `?`.\r\n\r\nA few examples:\r\n\r\n- if the user searches for `m?st*`, it would match for example `master` or `mister` or `mistery`.\r\n- if the user searches for `*ind` (any word ending in `ind`), it would match `wind` or `bind` or `blind` or `grind`.\r\n\r\nNow, most users (especially the ones who are not familiar with regular expressions) know that `?` is a replacement for exactly 1 character, while `*` is a replacement for 0, 1 or more characters. I absolutely want to build my search feature based on this.\r\n\r\nMy questions is: How do I convert what the user types (`m?st*` for example) to a regular expression ?\r\n\r\nI searched the web (obviously including this website) and all I could find were tutorials that tried to teach me too much or questions that were somewhat similar, but not enough as to provide an answer to my own problem.\r\n\r\nAll I could figure out was that I have to replace `?` with `.`. So `m?st*` becomes `m.st*`. However, I have no idea what to replace `*` with.\r\n\r\nAny help would be greatly appreciated. Thank you.\r\n\r\nPS: I&#39;m totally new to regular expressions. I know how powerful they can be, but I also know they can be very hard to learn. So I just never took the time do to it...","title":"Regular Expression Wildcard Matching","body":"<p>I have a list of about 120 thousand english words (basically every word in the language).</p>\n\n<p>I need a regular expression that would allow searching through these words using wildcards characters, a.k.a. <code>*</code> and <code>?</code>.</p>\n\n<p>A few examples:</p>\n\n<ul>\n<li>if the user searches for <code>m?st*</code>, it would match for example <code>master</code> or <code>mister</code> or <code>mistery</code>.</li>\n<li>if the user searches for <code>*ind</code> (any word ending in <code>ind</code>), it would match <code>wind</code> or <code>bind</code> or <code>blind</code> or <code>grind</code>.</li>\n</ul>\n\n<p>Now, most users (especially the ones who are not familiar with regular expressions) know that <code>?</code> is a replacement for exactly 1 character, while <code>*</code> is a replacement for 0, 1 or more characters. I absolutely want to build my search feature based on this.</p>\n\n<p>My questions is: How do I convert what the user types (<code>m?st*</code> for example) to a regular expression ?</p>\n\n<p>I searched the web (obviously including this website) and all I could find were tutorials that tried to teach me too much or questions that were somewhat similar, but not enough as to provide an answer to my own problem.</p>\n\n<p>All I could figure out was that I have to replace <code>?</code> with <code>.</code>. So <code>m?st*</code> becomes <code>m.st*</code>. However, I have no idea what to replace <code>*</code> with.</p>\n\n<p>Any help would be greatly appreciated. Thank you.</p>\n\n<p>PS: I'm totally new to regular expressions. I know how powerful they can be, but I also know they can be very hard to learn. So I just never took the time do to it...</p>\n"},{"tags":["java","algorithm","wildcard"],"comments":[{"owner":{"display_name":"user2575725"},"score":1,"creation_date":1481592298,"post_id":41112057,"comment_id":69429130,"body_markdown":"Are you trying to re-invent the wheel of RegExp? Or pre-built RegExp provided by Java will do for you ?","body":"Are you trying to re-invent the wheel of RegExp? Or pre-built RegExp provided by Java will do for you ?"},{"owner":{"account_id":6886629,"reputation":7345,"user_id":5291479,"accept_rate":28,"display_name":"Jo Ko"},"score":1,"creation_date":1481592549,"post_id":41112057,"comment_id":69429194,"body_markdown":"@Arvind For algo practice, I&#39;m implementing as such.","body":"@Arvind For algo practice, I&#39;m implementing as such."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1481594203,"post_id":41112057,"comment_id":69429584,"body_markdown":"You could look into Apache Lucene if you really wanted a more straightforward way to do this","body":"You could look into Apache Lucene if you really wanted a more straightforward way to do this"}],"answers":[{"tags":[],"owner":{"account_id":4896948,"reputation":173,"user_id":3946239,"display_name":"Zexus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481593333,"creation_date":1481593333,"answer_id":41112485,"question_id":41112057,"body_markdown":"It looks like `ii` and `jj` are used to handle the wildcard &quot;\\*&quot;, which matches to any sequence.  Their initialization to -1 acts as a flag: it tells us if we&#39;ve hit an unmatched sequence and are not currently evaluating a &quot;\\*&quot;.  We can walk through your examples one at a time.\r\n\r\nNotice that `i` is related to the parameter `s` (the original string) and `j` is related to the parameter `p` (the pattern).\r\n\r\n`isMatch(&quot;aa&quot;,&quot;a&quot;)`:\r\nthis returns false because the `j&lt;p.length()` statement will fail before we leave the while loop, since the length of `p` (&quot;a&quot;) is only 1 whereas the length of `s` (&quot;aa&quot;) is 2, so we&#39;ll jump to the else block.  This is where the -1 initialization comes in: since we never saw any wildcards in `p`, `jj` is still -1, indicating that there&#39;s no way the strings can match, so we return false.\r\n\r\n`isMatch(&quot;aa&quot;,&quot;aa&quot;)`:\r\n`s` and `p` are exactly the same, so the program repeatedly evaluates the else-if block with no problems and finally breaks out of the while loop once `i` equals 2 (the length of &quot;aa&quot;).  The second while loop never runs, since `j` is not less than `p.length()` - in fact, since the else-if increments `i` and `j` together, they are both equal to 2, and 2 is not less than the length of &quot;aa&quot;.  We return `j == p.length()`, which evaluates to `2 == 2`, and get `true`.\r\n\r\n`isMatch(&quot;aaa&quot;,&quot;aa&quot;)`: this one fails for the same reason as the first.  Namely, the strings are not the same length and we never hit a wildcard character.\r\n\r\n`isMatch(&quot;aa&quot;,&quot;*&quot;)`: this is where it gets interesting.  First we&#39;ll enter the if block, since we&#39;ve seen a &quot;\\*&quot; in `p`.  We set `ii` and `jj` to 0 and increment `j` only.  On the second iteration, `j&lt;p.length()` fails, so we jump to the else block.  `jj` is not -1 anymore (it&#39;s 0), so we reset `j` to 0 and set `i` to 0+1.  This basically allows us to keep evaluating the wildcard, since `j` just gets reset to `jj`, which holds the position of the wildcard, and `ii` tells us where to start from in our original string.  This test case also explains the second while loop.  In some cases our pattern may be much shorter than the original string, so we need to make sure it&#39;s matched up with wildcards.  For example, `isMatch(&quot;aaaaaa&quot;,&quot;a**&quot;)` should return true, but the final return statement is checking to see if `j == p.length()`, asking if we checked the entire pattern.  Normally we would stop at the first wildcard, since it matches anything, so we need to finally run through the rest of the pattern and make sure it only contains wildcards.\r\n\r\nFrom here you can figure out the logic behind the other test cases.  I hope this helped!","title":"Java: How to implement wildcard matching?","body":"<p>It looks like <code>ii</code> and <code>jj</code> are used to handle the wildcard \"*\", which matches to any sequence.  Their initialization to -1 acts as a flag: it tells us if we've hit an unmatched sequence and are not currently evaluating a \"*\".  We can walk through your examples one at a time.</p>\n\n<p>Notice that <code>i</code> is related to the parameter <code>s</code> (the original string) and <code>j</code> is related to the parameter <code>p</code> (the pattern).</p>\n\n<p><code>isMatch(\"aa\",\"a\")</code>:\nthis returns false because the <code>j&lt;p.length()</code> statement will fail before we leave the while loop, since the length of <code>p</code> (\"a\") is only 1 whereas the length of <code>s</code> (\"aa\") is 2, so we'll jump to the else block.  This is where the -1 initialization comes in: since we never saw any wildcards in <code>p</code>, <code>jj</code> is still -1, indicating that there's no way the strings can match, so we return false.</p>\n\n<p><code>isMatch(\"aa\",\"aa\")</code>:\n<code>s</code> and <code>p</code> are exactly the same, so the program repeatedly evaluates the else-if block with no problems and finally breaks out of the while loop once <code>i</code> equals 2 (the length of \"aa\").  The second while loop never runs, since <code>j</code> is not less than <code>p.length()</code> - in fact, since the else-if increments <code>i</code> and <code>j</code> together, they are both equal to 2, and 2 is not less than the length of \"aa\".  We return <code>j == p.length()</code>, which evaluates to <code>2 == 2</code>, and get <code>true</code>.</p>\n\n<p><code>isMatch(\"aaa\",\"aa\")</code>: this one fails for the same reason as the first.  Namely, the strings are not the same length and we never hit a wildcard character.</p>\n\n<p><code>isMatch(\"aa\",\"*\")</code>: this is where it gets interesting.  First we'll enter the if block, since we've seen a \"*\" in <code>p</code>.  We set <code>ii</code> and <code>jj</code> to 0 and increment <code>j</code> only.  On the second iteration, <code>j&lt;p.length()</code> fails, so we jump to the else block.  <code>jj</code> is not -1 anymore (it's 0), so we reset <code>j</code> to 0 and set <code>i</code> to 0+1.  This basically allows us to keep evaluating the wildcard, since <code>j</code> just gets reset to <code>jj</code>, which holds the position of the wildcard, and <code>ii</code> tells us where to start from in our original string.  This test case also explains the second while loop.  In some cases our pattern may be much shorter than the original string, so we need to make sure it's matched up with wildcards.  For example, <code>isMatch(\"aaaaaa\",\"a**\")</code> should return true, but the final return statement is checking to see if <code>j == p.length()</code>, asking if we checked the entire pattern.  Normally we would stop at the first wildcard, since it matches anything, so we need to finally run through the rest of the pattern and make sure it only contains wildcards.</p>\n\n<p>From here you can figure out the logic behind the other test cases.  I hope this helped!</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481593498,"creation_date":1481593498,"answer_id":41112505,"question_id":41112057,"body_markdown":"Lets look at this a bit out of order.\r\n\r\nFirst, this is a parallel iteration of the string (`s`) and the wildcard pattern (`p`), using variable `i` to index `s` and variable `j` to index `p`.\r\n\r\nThe `while` loop will stop iterating when end of `s` is reached. When that happens, hopefully end of `p` has been reached too, in while case it&#39;ll return `true` (`j==p.length()`).\r\n\r\nIf however `p` ends with a `*`, that is also valid (e.g. `isMatch(&quot;ab&quot;, &quot;ab*&quot;)`), and that&#39;s what the `while(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) j++;` loop ensures, i.e. any `*` in the pattern at this point is skipped, and if that reaches end of `p`, then it returns `true`. If end of `p` is not reached, it returns false.\r\n\r\nThat was the answer to your last question. Now lets look at the loop. The `else if` will iterate both `i` and `j` as long as there is a match, e.g. `&#39;a&#39; == &#39;a&#39;` or `&#39;a&#39; == &#39;?&#39;`.\r\n\r\nWhen a `*` wildcard is found (first `if`), it saves the current positions in `ii` and `jj`, in case backtracking becomes necessary, then skips the wildcard character.\r\n\r\nThis basically starts by assuming the wildcard matches the empty string (e.g. `isMatch(&quot;ab&quot;, &quot;a*b&quot;)`). When it continues iterating, the `else if` will match the rest and method ends up returning `true`.\r\n\r\nNow, if a mismatch is found (the `else` block), it will try to backtrack. Of course, if it doesn&#39;t have a saved wildcard (`jj==-1`), it can&#39;t backtrack, so it just returns `false`. That&#39;s why `jj` is initialized to `-1`, so it can detect if a wildcard was saved. `ii` could be initialized to anything, but is initialized to `-1` for consistency.\r\n\r\nIf a wildcard position was saved in `ii` and `jj`, it will restore those values, then forward `i` by one, i.e. assuming that if the next character is matched against the wildcard, the rest of the matching will succeed and return `true`.\r\n\r\nThat&#39;s the logic. Now, it could be optimized a tiny bit, because that backtracking is sub-optimal. It currently resets `j` back to the `*`, and `i` back to the next character. When it loops around, it will enter the `if` and save the save value again in `jj` and save the `i` value in `ii`, and then increment `j`. Since that is a given (unless end of `s` is reached), the backtracking could just do that too, saving an iteration loop, i.e.\r\n\r\n    } else {\r\n        if(jj==-1) return false;\r\n\r\n        i=++ii;\r\n        j=jj+1;\r\n    }","title":"Java: How to implement wildcard matching?","body":"<p>Lets look at this a bit out of order.</p>\n\n<p>First, this is a parallel iteration of the string (<code>s</code>) and the wildcard pattern (<code>p</code>), using variable <code>i</code> to index <code>s</code> and variable <code>j</code> to index <code>p</code>.</p>\n\n<p>The <code>while</code> loop will stop iterating when end of <code>s</code> is reached. When that happens, hopefully end of <code>p</code> has been reached too, in while case it'll return <code>true</code> (<code>j==p.length()</code>).</p>\n\n<p>If however <code>p</code> ends with a <code>*</code>, that is also valid (e.g. <code>isMatch(\"ab\", \"ab*\")</code>), and that's what the <code>while(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') j++;</code> loop ensures, i.e. any <code>*</code> in the pattern at this point is skipped, and if that reaches end of <code>p</code>, then it returns <code>true</code>. If end of <code>p</code> is not reached, it returns false.</p>\n\n<p>That was the answer to your last question. Now lets look at the loop. The <code>else if</code> will iterate both <code>i</code> and <code>j</code> as long as there is a match, e.g. <code>'a' == 'a'</code> or <code>'a' == '?'</code>.</p>\n\n<p>When a <code>*</code> wildcard is found (first <code>if</code>), it saves the current positions in <code>ii</code> and <code>jj</code>, in case backtracking becomes necessary, then skips the wildcard character.</p>\n\n<p>This basically starts by assuming the wildcard matches the empty string (e.g. <code>isMatch(\"ab\", \"a*b\")</code>). When it continues iterating, the <code>else if</code> will match the rest and method ends up returning <code>true</code>.</p>\n\n<p>Now, if a mismatch is found (the <code>else</code> block), it will try to backtrack. Of course, if it doesn't have a saved wildcard (<code>jj==-1</code>), it can't backtrack, so it just returns <code>false</code>. That's why <code>jj</code> is initialized to <code>-1</code>, so it can detect if a wildcard was saved. <code>ii</code> could be initialized to anything, but is initialized to <code>-1</code> for consistency.</p>\n\n<p>If a wildcard position was saved in <code>ii</code> and <code>jj</code>, it will restore those values, then forward <code>i</code> by one, i.e. assuming that if the next character is matched against the wildcard, the rest of the matching will succeed and return <code>true</code>.</p>\n\n<p>That's the logic. Now, it could be optimized a tiny bit, because that backtracking is sub-optimal. It currently resets <code>j</code> back to the <code>*</code>, and <code>i</code> back to the next character. When it loops around, it will enter the <code>if</code> and save the save value again in <code>jj</code> and save the <code>i</code> value in <code>ii</code>, and then increment <code>j</code>. Since that is a given (unless end of <code>s</code> is reached), the backtracking could just do that too, saving an iteration loop, i.e.</p>\n\n<pre><code>} else {\n    if(jj==-1) return false;\n\n    i=++ii;\n    j=jj+1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481594420,"creation_date":1481593564,"answer_id":41112511,"question_id":41112057,"body_markdown":"The code looks buggy to me.  (See below)\r\n\r\nThe ostensible purpose of `ii` and `jj` is to implement a form of backtracking.  \r\n\r\nFor example, when you try to match &quot;abcde&quot; against the pattern &quot;a*e&quot;, the algorithm will first match the &quot;a&quot; in the pattern against the &quot;a&quot; in the the input string.  Then it will *eagerly* match the &quot;*&quot; against the rest of the string ... and find that it has made a mistake.  At that point, it needs to *backtrack* and try an alternative\r\n\r\nThe `ii` and `jj` are to record the point to backtrack to, and the uses those variables are either recording a new backtrack point, or backtracking.\r\n\r\nOr at least, that was probably the author&#39;s intent at some point.\r\n\r\nThe `while(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) j++;` seems to be dealing with an edge-case\r\n\r\n-------------\r\n\r\nHowever, I don&#39;t think this code is correct.\r\n\r\n1.  It certainly won&#39;t cope with backtracking in the case where there are multiple &quot;*&quot; wildcards in the pattern.  That requires a recursive solution.\r\n\r\n2.  The part:\r\n\r\n            if(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) {\r\n                ii=i;\r\n                jj=j;\r\n                j++;\r\n\r\n    doesn&#39;t make much sense.  I&#39;d have thought it should increment `i` not `j`.  It might &quot;mesh&quot; with the behavior of the `else` part, but even if it does this is a convoluted way of coding this.\r\n\r\n---------------\r\n\r\nAdvice: \r\n\r\n1.  Don&#39;t use this code as an example.  Even if it works (in a limited sense) it is not a good way to do this task, or an example of clarity or good style.\r\n2.  I would handle this by translating the wildcard pattern into a regex and then using `Pattern` / `Matcher` to do the matching.\r\n\r\n    For example: https://stackoverflow.com/questions/24337657/wildcard-matching-in-java","title":"Java: How to implement wildcard matching?","body":"<p>The code looks buggy to me.  (See below)</p>\n\n<p>The ostensible purpose of <code>ii</code> and <code>jj</code> is to implement a form of backtracking.  </p>\n\n<p>For example, when you try to match \"abcde\" against the pattern \"a*e\", the algorithm will first match the \"a\" in the pattern against the \"a\" in the the input string.  Then it will <em>eagerly</em> match the \"*\" against the rest of the string ... and find that it has made a mistake.  At that point, it needs to <em>backtrack</em> and try an alternative</p>\n\n<p>The <code>ii</code> and <code>jj</code> are to record the point to backtrack to, and the uses those variables are either recording a new backtrack point, or backtracking.</p>\n\n<p>Or at least, that was probably the author's intent at some point.</p>\n\n<p>The <code>while(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') j++;</code> seems to be dealing with an edge-case</p>\n\n<hr>\n\n<p>However, I don't think this code is correct.</p>\n\n<ol>\n<li><p>It certainly won't cope with backtracking in the case where there are multiple \"*\" wildcards in the pattern.  That requires a recursive solution.</p></li>\n<li><p>The part:</p>\n\n<pre><code>    if(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') {\n        ii=i;\n        jj=j;\n        j++;\n</code></pre>\n\n<p>doesn't make much sense.  I'd have thought it should increment <code>i</code> not <code>j</code>.  It might \"mesh\" with the behavior of the <code>else</code> part, but even if it does this is a convoluted way of coding this.</p></li>\n</ol>\n\n<hr>\n\n<p>Advice: </p>\n\n<ol>\n<li>Don't use this code as an example.  Even if it works (in a limited sense) it is not a good way to do this task, or an example of clarity or good style.</li>\n<li><p>I would handle this by translating the wildcard pattern into a regex and then using <code>Pattern</code> / <code>Matcher</code> to do the matching.</p>\n\n<p>For example: <a href=\"https://stackoverflow.com/questions/24337657/wildcard-matching-in-java\">Wildcard matching in Java</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604648918,"creation_date":1604648392,"answer_id":64710566,"question_id":41112057,"body_markdown":"I know you are asking about BST, but to be honest there is also a way of doing that with regex (not for competitive programming, but stable and fast enough be used in a production environment):\r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    public class WildCardMatcher{\r\n    \r\n        public static void main(String []args){\r\n            // Test\r\n            String urlPattern = &quot;http://*.my-webdomain.???&quot;,\r\n                   urlToMatch = &quot;http://webmail.my-webdomain.com&quot;;\r\n            WildCardMatcher wildCardMatcher = new WildCardMatcher(urlPattern);\r\n            System.out.printf(&quot;\\&quot;%s\\&quot;.matches(\\&quot;%s\\&quot;) -&gt; %s%n&quot;, urlToMatch, wildCardMatcher, wildCardMatcher.matches(urlToMatch));\r\n        }\r\n         \r\n        private final Pattern p;\r\n        public WildCardMatcher(final String urlPattern){\r\n           Pattern charsToEscape = Pattern.compile(&quot;([^*?]+)([*?]*)&quot;);\r\n            \r\n           // here we need to escape all the strings that are not &quot;?&quot; or &quot;*&quot;, and replace any &quot;?&quot; and &quot;*&quot; with &quot;.?&quot; and &quot;.*&quot;\r\n           Matcher m = charsToEscape.matcher(urlPattern);\r\n           StringBuffer sb = new StringBuffer();\r\n           String replacement, g1, g2;\r\n           while(m.find()){\r\n               g1 = m.group(1);\r\n               g2 = m.group(2);\r\n               // We first have to escape pattern (original string can contain charachters that are invalid for regex), then escaping the &#39;\\&#39; charachters that have a special meaning for replacement strings\r\n               replacement = (g1 == null ? &quot;&quot; : Matcher.quoteReplacement(Pattern.quote(g1))) +\r\n                             (g2 == null ? &quot;&quot; : g2.replaceAll(&quot;([*?])&quot;, &quot;.$1&quot;)); // simply replacing &quot;*&quot; and &quot;?&quot;&quot; with &quot;.*&quot; and &quot;.?&quot;\r\n               m.appendReplacement(sb, replacement);\r\n           }\r\n           m.appendTail(sb);\r\n           p = Pattern.compile(sb.toString());\r\n        }\r\n         \r\n        @Override\r\n        public String toString(){\r\n            return p.toString();\r\n        }\r\n         \r\n        public boolean matches(final String urlToMatch){\r\n            return p.matcher(urlToMatch).matches();\r\n        }\r\n    }\r\n\r\nThere is still a list of optimizations that you can implement (lowecase / uppercase distinction, setting a max-length to the string being checked to prevent attackers to make you check against a 4-GigaByte-String, ...).","title":"Java: How to implement wildcard matching?","body":"<p>I know you are asking about BST, but to be honest there is also a way of doing that with regex (not for competitive programming, but stable and fast enough be used in a production environment):</p>\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\npublic class WildCardMatcher{\n\n    public static void main(String []args){\n        // Test\n        String urlPattern = &quot;http://*.my-webdomain.???&quot;,\n               urlToMatch = &quot;http://webmail.my-webdomain.com&quot;;\n        WildCardMatcher wildCardMatcher = new WildCardMatcher(urlPattern);\n        System.out.printf(&quot;\\&quot;%s\\&quot;.matches(\\&quot;%s\\&quot;) -&gt; %s%n&quot;, urlToMatch, wildCardMatcher, wildCardMatcher.matches(urlToMatch));\n    }\n     \n    private final Pattern p;\n    public WildCardMatcher(final String urlPattern){\n       Pattern charsToEscape = Pattern.compile(&quot;([^*?]+)([*?]*)&quot;);\n        \n       // here we need to escape all the strings that are not &quot;?&quot; or &quot;*&quot;, and replace any &quot;?&quot; and &quot;*&quot; with &quot;.?&quot; and &quot;.*&quot;\n       Matcher m = charsToEscape.matcher(urlPattern);\n       StringBuffer sb = new StringBuffer();\n       String replacement, g1, g2;\n       while(m.find()){\n           g1 = m.group(1);\n           g2 = m.group(2);\n           // We first have to escape pattern (original string can contain charachters that are invalid for regex), then escaping the '\\' charachters that have a special meaning for replacement strings\n           replacement = (g1 == null ? &quot;&quot; : Matcher.quoteReplacement(Pattern.quote(g1))) +\n                         (g2 == null ? &quot;&quot; : g2.replaceAll(&quot;([*?])&quot;, &quot;.$1&quot;)); // simply replacing &quot;*&quot; and &quot;?&quot;&quot; with &quot;.*&quot; and &quot;.?&quot;\n           m.appendReplacement(sb, replacement);\n       }\n       m.appendTail(sb);\n       p = Pattern.compile(sb.toString());\n    }\n     \n    @Override\n    public String toString(){\n        return p.toString();\n    }\n     \n    public boolean matches(final String urlToMatch){\n        return p.matcher(urlToMatch).matches();\n    }\n}\n</code></pre>\n<p>There is still a list of optimizations that you can implement (lowecase / uppercase distinction, setting a max-length to the string being checked to prevent attackers to make you check against a 4-GigaByte-String, ...).</p>\n"}],"owner":{"account_id":6886629,"reputation":7345,"user_id":5291479,"accept_rate":28,"display_name":"Jo Ko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2980,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1650268513,"creation_date":1481590227,"question_id":41112057,"body_markdown":"I&#39;m researching on how to find k values in the BST that are closest to the target, and came across the following implementation with the rules:\r\n\r\n&gt;&#39;?&#39; Matches any single character.\r\n\r\n&gt;&#39;*&#39; Matches any sequence of characters (including the empty sequence).\r\n\r\n&gt;The matching should cover the entire input string (not partial).\r\n\r\n&gt;The function prototype should be:\r\nbool isMatch(const char *s, const char *p)\r\n\r\n&gt;Some examples:\r\n\r\n&gt;isMatch(&quot;aa&quot;,&quot;a&quot;) → false\r\n\r\n&gt;isMatch(&quot;aa&quot;,&quot;aa&quot;) → true\r\n\r\n&gt;isMatch(&quot;aaa&quot;,&quot;aa&quot;) → false\r\n\r\n&gt;isMatch(&quot;aa&quot;, &quot;*&quot;) → true\r\n\r\n&gt;isMatch(&quot;aa&quot;, &quot;a*&quot;) → true\r\n\r\n&gt;isMatch(&quot;ab&quot;, &quot;?*&quot;) → true\r\n\r\n&gt;isMatch(&quot;aab&quot;, &quot;c*a*b&quot;) → false\r\n\r\nCode: \r\n\r\n    import java.util.*;\r\n    \r\n    public class WildcardMatching {\r\n    \tboolean isMatch(String s, String p) {\r\n    \t\tint i=0, j=0;\r\n    \t\tint ii=-1, jj=-1;\r\n    \t\t\r\n    \t\twhile(i&lt;s.length()) {\r\n    \t\t\tif(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) {\r\n    \t\t\t\tii=i;\r\n    \t\t\t\tjj=j;\r\n    \t\t\t\tj++;\r\n    \t\t\t} else if(j&lt;p.length() &amp;&amp; \r\n                          (s.charAt(i) == p.charAt(j) ||\r\n                           p.charAt(j) == &#39;?&#39;)) {\r\n    \t\t\t\ti++;\r\n    \t\t\t\tj++;\r\n    \t\t\t} else {\r\n    \t\t\t\tif(jj==-1) return false;\r\n    \t\t\t\t\r\n    \t\t\t\tj=jj;\r\n    \t\t\t\ti=ii+1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\twhile(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) j++;\r\n    \t\t\r\n    \t\treturn j==p.length();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tString s = &quot;aab&quot;;\r\n    \t\tString p = &quot;a*&quot;;\r\n    \t\t\r\n    \t\tWildcardMatching wcm = new WildcardMatching();\r\n    \t\tSystem.out.println(wcm.isMatch(s, p));\r\n    \t}\r\n    }\r\n\r\nAnd my question is, what&#39;s the reason for having two additional indexes, `ii` and `jj`, and why do they get initialized with `-1`? What&#39;s the purpose of each? Wouldn&#39;t traversing it with `i` and `j` be enough?\r\n\r\nAnd what&#39;s the purpose of `ii=i;` and `jj=j;` in the first if case, and `i=ii+1;` and `j=jj;` in the third if case?\r\n\r\nLastly, in what case would you encounter `while(j&lt;p.length() &amp;&amp; p.charAt(j)==&#39;*&#39;) j++;`? \r\n\r\nExamples would be extremely helpful in understanding. \r\nThank you in advance and will accept answer/up vote.","title":"Java: How to implement wildcard matching?","body":"<p>I'm researching on how to find k values in the BST that are closest to the target, and came across the following implementation with the rules:</p>\n\n<blockquote>\n  <p>'?' Matches any single character.</p>\n  \n  <p>'*' Matches any sequence of characters (including the empty sequence).</p>\n  \n  <p>The matching should cover the entire input string (not partial).</p>\n  \n  <p>The function prototype should be:\n  bool isMatch(const char *s, const char *p)</p>\n  \n  <p>Some examples:</p>\n  \n  <p>isMatch(\"aa\",\"a\") → false</p>\n  \n  <p>isMatch(\"aa\",\"aa\") → true</p>\n  \n  <p>isMatch(\"aaa\",\"aa\") → false</p>\n  \n  <p>isMatch(\"aa\", \"*\") → true</p>\n  \n  <p>isMatch(\"aa\", \"a*\") → true</p>\n  \n  <p>isMatch(\"ab\", \"?*\") → true</p>\n  \n  <p>isMatch(\"aab\", \"c<em>a</em>b\") → false</p>\n</blockquote>\n\n<p>Code: </p>\n\n<pre><code>import java.util.*;\n\npublic class WildcardMatching {\n    boolean isMatch(String s, String p) {\n        int i=0, j=0;\n        int ii=-1, jj=-1;\n\n        while(i&lt;s.length()) {\n            if(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') {\n                ii=i;\n                jj=j;\n                j++;\n            } else if(j&lt;p.length() &amp;&amp; \n                      (s.charAt(i) == p.charAt(j) ||\n                       p.charAt(j) == '?')) {\n                i++;\n                j++;\n            } else {\n                if(jj==-1) return false;\n\n                j=jj;\n                i=ii+1;\n            }\n        }\n\n        while(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') j++;\n\n        return j==p.length();\n    }\n\n    public static void main(String args[]) {\n        String s = \"aab\";\n        String p = \"a*\";\n\n        WildcardMatching wcm = new WildcardMatching();\n        System.out.println(wcm.isMatch(s, p));\n    }\n}\n</code></pre>\n\n<p>And my question is, what's the reason for having two additional indexes, <code>ii</code> and <code>jj</code>, and why do they get initialized with <code>-1</code>? What's the purpose of each? Wouldn't traversing it with <code>i</code> and <code>j</code> be enough?</p>\n\n<p>And what's the purpose of <code>ii=i;</code> and <code>jj=j;</code> in the first if case, and <code>i=ii+1;</code> and <code>j=jj;</code> in the third if case?</p>\n\n<p>Lastly, in what case would you encounter <code>while(j&lt;p.length() &amp;&amp; p.charAt(j)=='*') j++;</code>? </p>\n\n<p>Examples would be extremely helpful in understanding. \nThank you in advance and will accept answer/up vote.</p>\n"},{"tags":["java","regex","wildcard"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":1,"creation_date":1403317001,"post_id":24337657,"comment_id":37624012,"body_markdown":"`Pattern.quote()` and the rest of your approach should work just fine. What are you seeing which suggests otherwise?","body":"<code>Pattern.quote()</code> and the rest of your approach should work just fine. What are you seeing which suggests otherwise?"},{"owner":{"account_id":16029,"reputation":498825,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":0,"creation_date":1403317163,"post_id":24337657,"comment_id":37624028,"body_markdown":"@MattBall I will end up with `\\Q(.*, a)\\E` which will not match `(foo, a)`, because `foo` does not match the literal `.*`.","body":"@MattBall I will end up with <code>\\Q(.*, a)\\E</code> which will not match <code>(foo, a)</code>, because <code>foo</code> does not match the literal <code>.*</code>."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403317739,"post_id":24337657,"comment_id":37624125,"body_markdown":"I think I misunderstand what the end goal is. You get a string like `*.wav`. What&#39;s going to happen to it?","body":"I think I misunderstand what the end goal is. You get a string like <code>*.wav</code>. What&#39;s going to happen to it?"},{"owner":{"account_id":16029,"reputation":498825,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":0,"creation_date":1403317958,"post_id":24337657,"comment_id":37624158,"body_markdown":"@SotiriosDelimanolis i simply want to match it against text.","body":"@SotiriosDelimanolis i simply want to match it against text."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1403318009,"post_id":24337657,"comment_id":37624167,"body_markdown":"So your input is your regex? Why do you need to escape anything?","body":"So your input is your regex? Why do you need to escape anything?"},{"owner":{"account_id":16029,"reputation":498825,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":1,"creation_date":1403318188,"post_id":24337657,"comment_id":37624188,"body_markdown":"@SotiriosDelimanolis the input is any string, but with only &#39;*&#39; having special meaning. See http://qt-project.org/doc/qt-4.8/qregexp.html#wildcard-matching","body":"@SotiriosDelimanolis the input is any string, but with only &#39;*&#39; having special meaning. See <a href=\"http://qt-project.org/doc/qt-4.8/qregexp.html#wildcard-matching\" rel=\"nofollow noreferrer\">qt-project.org/doc/qt-4.8/qregexp.html#wildcard-matching</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1403327954,"creation_date":1403317142,"answer_id":24337692,"question_id":24337657,"body_markdown":"Just escape everything - no harm will come of it.\r\n\r\n        String input = &quot;*.wav&quot;;\r\n        String regex = (&quot;\\\\Q&quot; + input + &quot;\\\\E&quot;).replace(&quot;*&quot;, &quot;\\\\E.*\\\\Q&quot;);\r\n        System.out.println(regex); // \\Q\\E.*\\Q.wav\\E\r\n        System.out.println(&quot;abcd.wav&quot;.matches(regex)); // true\r\n\r\n\r\nOr you can use character classes:\r\n\r\n        String input = &quot;*.wav&quot;;\r\n        String regex = input.replaceAll(&quot;.&quot;, &quot;[$0]&quot;).replace(&quot;[*]&quot;, &quot;.*&quot;);\r\n        System.out.println(regex); // .*[.][w][a][v]\r\n        System.out.println(&quot;abcd.wav&quot;.matches(regex)); // true\r\n\r\nIt&#39;s easier to &quot;escape&quot; the characters by putting them in a character class, as almost all characters lose any special meaning when in a character class. Unless you&#39;re expecting weird file names, this will work.","title":"Wildcard matching in Java","body":"<p>Just escape everything - no harm will come of it.</p>\n\n<pre><code>    String input = \"*.wav\";\n    String regex = (\"\\\\Q\" + input + \"\\\\E\").replace(\"*\", \"\\\\E.*\\\\Q\");\n    System.out.println(regex); // \\Q\\E.*\\Q.wav\\E\n    System.out.println(\"abcd.wav\".matches(regex)); // true\n</code></pre>\n\n<p>Or you can use character classes:</p>\n\n<pre><code>    String input = \"*.wav\";\n    String regex = input.replaceAll(\".\", \"[$0]\").replace(\"[*]\", \".*\");\n    System.out.println(regex); // .*[.][w][a][v]\n    System.out.println(\"abcd.wav\".matches(regex)); // true\n</code></pre>\n\n<p>It's easier to \"escape\" the characters by putting them in a character class, as almost all characters lose any special meaning when in a character class. Unless you're expecting weird file names, this will work.</p>\n"},{"tags":[],"owner":{"account_id":1081611,"reputation":41298,"user_id":1078583,"accept_rate":69,"display_name":"zx81"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1403318979,"creation_date":1403317454,"answer_id":24337711,"question_id":24337657,"body_markdown":"**Using A Simple Regex**\r\n\r\nOne of this method&#39;s benefits is that we can easily add tokens besides `*` (see **Adding Tokens** at the bottom).\r\n\r\nSearch: `[^*]+|(\\*)`\r\n\r\n - The left side of the `|` matches any chars that are not a star\r\n - The right side captures all stars to Group 1\r\n - If Group 1 is empty: replace with `\\Q` + Match + `E`\r\n - If Group 1 is set: replace with `.*`\r\n\r\nHere is some working code (see the output of the [online demo][1]).\r\n\r\nInput: `audio*2012*.wav`\r\n\r\nOutput: `\\Qaudio\\E.*\\Q2012\\E.*\\Q.wav\\E`\r\n\r\n    String subject = &quot;audio*2012*.wav&quot;;\r\n    Pattern regex = Pattern.compile(&quot;[^*]+|(\\\\*)&quot;);\r\n    Matcher m = regex.matcher(subject);\r\n    StringBuffer b= new StringBuffer();\r\n    while (m.find()) {\r\n        if(m.group(1) != null) m.appendReplacement(b, &quot;.*&quot;);\r\n        else m.appendReplacement(b, &quot;\\\\\\\\Q&quot; + m.group(0) + &quot;\\\\\\\\E&quot;);\r\n    }\r\n    m.appendTail(b);\r\n    String replaced = b.toString();\r\n    System.out.println(replaced);\r\n\r\n**Adding Tokens**\r\n\r\nSuppose we also want to convert the wildcard `?`, which stands for a single character, by a dot. We just add a capture group to the regex, and exclude it from the matchall on the left: \r\n\r\nSearch: `[^*?]+|(\\*)|(\\?)`\r\n\r\nIn the replace function we the add something like:\r\n\r\n    else if(m.group(2) != null) m.appendReplacement(b, &quot;.&quot;); \r\n\r\n\r\n  [1]: https://ideone.com/uzw3NZ","title":"Wildcard matching in Java","body":"<p><strong>Using A Simple Regex</strong></p>\n\n<p>One of this method's benefits is that we can easily add tokens besides <code>*</code> (see <strong>Adding Tokens</strong> at the bottom).</p>\n\n<p>Search: <code>[^*]+|(\\*)</code></p>\n\n<ul>\n<li>The left side of the <code>|</code> matches any chars that are not a star</li>\n<li>The right side captures all stars to Group 1</li>\n<li>If Group 1 is empty: replace with <code>\\Q</code> + Match + <code>E</code></li>\n<li>If Group 1 is set: replace with <code>.*</code></li>\n</ul>\n\n<p>Here is some working code (see the output of the <a href=\"https://ideone.com/uzw3NZ\" rel=\"noreferrer\">online demo</a>).</p>\n\n<p>Input: <code>audio*2012*.wav</code></p>\n\n<p>Output: <code>\\Qaudio\\E.*\\Q2012\\E.*\\Q.wav\\E</code></p>\n\n<pre><code>String subject = \"audio*2012*.wav\";\nPattern regex = Pattern.compile(\"[^*]+|(\\\\*)\");\nMatcher m = regex.matcher(subject);\nStringBuffer b= new StringBuffer();\nwhile (m.find()) {\n    if(m.group(1) != null) m.appendReplacement(b, \".*\");\n    else m.appendReplacement(b, \"\\\\\\\\Q\" + m.group(0) + \"\\\\\\\\E\");\n}\nm.appendTail(b);\nString replaced = b.toString();\nSystem.out.println(replaced);\n</code></pre>\n\n<p><strong>Adding Tokens</strong></p>\n\n<p>Suppose we also want to convert the wildcard <code>?</code>, which stands for a single character, by a dot. We just add a capture group to the regex, and exclude it from the matchall on the left: </p>\n\n<p>Search: <code>[^*?]+|(\\*)|(\\?)</code></p>\n\n<p>In the replace function we the add something like:</p>\n\n<pre><code>else if(m.group(2) != null) m.appendReplacement(b, \".\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4490621,"reputation":3759,"user_id":3651800,"display_name":"Matt Coubrough"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403317735,"creation_date":1403317735,"answer_id":24337725,"question_id":24337657,"body_markdown":"You can also use the Quotation escape characters: `\\\\Q and \\\\E` - everything between them is treated as literal and not considered to be part of the regex to be evaluated. Thus this code should work:\r\n\r\n\r\n        String input = &quot;*.wav&quot;;\r\n        String regex = &quot;\\\\Q&quot; + input.replace(&quot;*&quot;, &quot;\\\\E.*?\\\\Q&quot;) + &quot;\\\\E&quot;;\r\n\r\n        // regex = &quot;\\\\Q\\\\E.*?\\\\Q.wav\\\\E&quot;\r\n\r\nNote that your * wildcard might also be best matched only against word characters using \\\\w depending on how you want your wildcard to behave(?)\r\n\r\n","title":"Wildcard matching in Java","body":"<p>You can also use the Quotation escape characters: <code>\\\\Q and \\\\E</code> - everything between them is treated as literal and not considered to be part of the regex to be evaluated. Thus this code should work:</p>\n\n<pre><code>    String input = \"*.wav\";\n    String regex = \"\\\\Q\" + input.replace(\"*\", \"\\\\E.*?\\\\Q\") + \"\\\\E\";\n\n    // regex = \"\\\\Q\\\\E.*?\\\\Q.wav\\\\E\"\n</code></pre>\n\n<p>Note that your * wildcard might also be best matched only against word characters using \\w depending on how you want your wildcard to behave(?)</p>\n"},{"tags":[],"owner":{"account_id":927017,"reputation":2097,"user_id":957595,"accept_rate":75,"display_name":"Paul Jackson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478194976,"creation_date":1478194976,"answer_id":40408033,"question_id":24337657,"body_markdown":"Lucene has classes that provide this capability, with additional support for backslash as an escape character. `?` matches a single character, `1` matches 0 or more characters, `\\` escapes the following character. Supports Unicode code points. Supposed to be fast but I haven&#39;t tested.\r\n\r\n    CharacterRunAutomaton characterRunAutomaton;\r\n    boolean matches;\r\n    characterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(&quot;&quot;, &quot;Walmart&quot;)));\r\n    matches = characterRunAutomaton.run(&quot;Walmart&quot;); // true\r\n    matches = characterRunAutomaton.run(&quot;Wal*mart&quot;); // false\r\n    matches = characterRunAutomaton.run(&quot;Wal\\\\*mart&quot;); // false\r\n    matches = characterRunAutomaton.run(&quot;Waldomart&quot;); // false\r\n    characterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(&quot;&quot;, &quot;Wal*mart&quot;)));\r\n    matches = characterRunAutomaton.run(&quot;Walmart&quot;); // true\r\n    matches = characterRunAutomaton.run(&quot;Wal*mart&quot;); // true\r\n    matches = characterRunAutomaton.run(&quot;Wal\\\\*mart&quot;); // true\r\n    matches = characterRunAutomaton.run(&quot;Waldomart&quot;); // true\r\n    characterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(&quot;&quot;, &quot;Wal\\\\*mart&quot;)));\r\n    matches = characterRunAutomaton.run(&quot;Walmart&quot;); // false\r\n    matches = characterRunAutomaton.run(&quot;Wal*mart&quot;); // true\r\n    matches = characterRunAutomaton.run(&quot;Wal\\\\*mart&quot;); // false\r\n    matches = characterRunAutomaton.run(&quot;Waldomart&quot;); // false\r\n","title":"Wildcard matching in Java","body":"<p>Lucene has classes that provide this capability, with additional support for backslash as an escape character. <code>?</code> matches a single character, <code>1</code> matches 0 or more characters, <code>\\</code> escapes the following character. Supports Unicode code points. Supposed to be fast but I haven't tested.</p>\n\n<pre><code>CharacterRunAutomaton characterRunAutomaton;\nboolean matches;\ncharacterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(\"\", \"Walmart\")));\nmatches = characterRunAutomaton.run(\"Walmart\"); // true\nmatches = characterRunAutomaton.run(\"Wal*mart\"); // false\nmatches = characterRunAutomaton.run(\"Wal\\\\*mart\"); // false\nmatches = characterRunAutomaton.run(\"Waldomart\"); // false\ncharacterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(\"\", \"Wal*mart\")));\nmatches = characterRunAutomaton.run(\"Walmart\"); // true\nmatches = characterRunAutomaton.run(\"Wal*mart\"); // true\nmatches = characterRunAutomaton.run(\"Wal\\\\*mart\"); // true\nmatches = characterRunAutomaton.run(\"Waldomart\"); // true\ncharacterRunAutomaton = new CharacterRunAutomaton(WildcardQuery.toAutomaton(new Term(\"\", \"Wal\\\\*mart\")));\nmatches = characterRunAutomaton.run(\"Walmart\"); // false\nmatches = characterRunAutomaton.run(\"Wal*mart\"); // true\nmatches = characterRunAutomaton.run(\"Wal\\\\*mart\"); // false\nmatches = characterRunAutomaton.run(\"Waldomart\"); // false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9894220,"reputation":39,"user_id":7326283,"display_name":"J. Hanney"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482348136,"creation_date":1482348136,"answer_id":41270424,"question_id":24337657,"body_markdown":"**Regex While Accommodating A DOS/Windows Path**\r\n\r\nImplementing the Quotation escape characters `\\Q` and `\\E` is probably the best approach. However, since a backslash is typically used as a DOS/Windows file separator, a &quot;`\\E`&quot; sequence within the path could effect the pairing of `\\Q` and `\\E`. While accounting for the `*` and `?` wildcard tokens, this situation of the backslash could be addressed in this manner:\r\n\r\nSearch: `[^*?\\\\]+|(\\*)|(\\?)|(\\\\)`\r\n\r\nTwo new lines would be added in the replace function of the &quot;Using A Simple Regex&quot; example to accommodate the new search pattern. The code would still be &quot;Linux-friendly&quot;. As a method, it could be written like this:\r\n\r\n    public String wildcardToRegex(String wildcardStr) {\r\n        Pattern regex=Pattern.compile(&quot;[^*?\\\\\\\\]+|(\\\\*)|(\\\\?)|(\\\\\\\\)&quot;);\r\n        Matcher m=regex.matcher(wildcardStr);\r\n        StringBuffer sb=new StringBuffer();\r\n        while (m.find()) {\r\n            if(m.group(1) != null) m.appendReplacement(sb, &quot;.*&quot;);\r\n            else if(m.group(2) != null) m.appendReplacement(sb, &quot;.&quot;);     \r\n            else if(m.group(3) != null) m.appendReplacement(sb, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n            else m.appendReplacement(sb, &quot;\\\\\\\\Q&quot; + m.group(0) + &quot;\\\\\\\\E&quot;);\r\n        }\r\n        m.appendTail(sb);\r\n        return sb.toString();\r\n    }\r\n\r\nCode to demonstrate the implementation of this method could be written like this:\r\n\r\n    String s = &quot;C:\\\\Temp\\\\Extra\\\\audio??2012*.wav&quot;;\r\n    System.out.println(&quot;Input: &quot;+s);\r\n    System.out.println(&quot;Output: &quot;+wildcardToRegex(s));\r\n        \r\nThis would be the generated results:\r\n\r\n    Input: C:\\Temp\\Extra\\audio??2012*.wav\r\n    Output: \\QC:\\E\\\\\\QTemp\\E\\\\\\QExtra\\E\\\\\\Qaudio\\E..\\Q2012\\E.*\\Q.wav\\E","title":"Wildcard matching in Java","body":"<p><strong>Regex While Accommodating A DOS/Windows Path</strong></p>\n\n<p>Implementing the Quotation escape characters <code>\\Q</code> and <code>\\E</code> is probably the best approach. However, since a backslash is typically used as a DOS/Windows file separator, a \"<code>\\E</code>\" sequence within the path could effect the pairing of <code>\\Q</code> and <code>\\E</code>. While accounting for the <code>*</code> and <code>?</code> wildcard tokens, this situation of the backslash could be addressed in this manner:</p>\n\n<p>Search: <code>[^*?\\\\]+|(\\*)|(\\?)|(\\\\)</code></p>\n\n<p>Two new lines would be added in the replace function of the \"Using A Simple Regex\" example to accommodate the new search pattern. The code would still be \"Linux-friendly\". As a method, it could be written like this:</p>\n\n<pre><code>public String wildcardToRegex(String wildcardStr) {\n    Pattern regex=Pattern.compile(\"[^*?\\\\\\\\]+|(\\\\*)|(\\\\?)|(\\\\\\\\)\");\n    Matcher m=regex.matcher(wildcardStr);\n    StringBuffer sb=new StringBuffer();\n    while (m.find()) {\n        if(m.group(1) != null) m.appendReplacement(sb, \".*\");\n        else if(m.group(2) != null) m.appendReplacement(sb, \".\");     \n        else if(m.group(3) != null) m.appendReplacement(sb, \"\\\\\\\\\\\\\\\\\");\n        else m.appendReplacement(sb, \"\\\\\\\\Q\" + m.group(0) + \"\\\\\\\\E\");\n    }\n    m.appendTail(sb);\n    return sb.toString();\n}\n</code></pre>\n\n<p>Code to demonstrate the implementation of this method could be written like this:</p>\n\n<pre><code>String s = \"C:\\\\Temp\\\\Extra\\\\audio??2012*.wav\";\nSystem.out.println(\"Input: \"+s);\nSystem.out.println(\"Output: \"+wildcardToRegex(s));\n</code></pre>\n\n<p>This would be the generated results:</p>\n\n<pre><code>Input: C:\\Temp\\Extra\\audio??2012*.wav\nOutput: \\QC:\\E\\\\\\QTemp\\E\\\\\\QExtra\\E\\\\\\Qaudio\\E..\\Q2012\\E.*\\Q.wav\\E\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213337,"reputation":3691,"user_id":466677,"display_name":"Marek Gregor"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1492092106,"creation_date":1492092106,"answer_id":43394347,"question_id":24337657,"body_markdown":"There is small utility method in Apache Commons-IO library: org.apache.commons.io.FilenameUtils#wildcardMatch(), which you can use without intricacies of the regular expression.\r\n\r\nAPI documentation could be found in: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FilenameUtils.html#wildcardMatch(java.lang.String,%20java.lang.String)\r\n\r\n","title":"Wildcard matching in Java","body":"<p>There is small utility method in Apache Commons-IO library: org.apache.commons.io.FilenameUtils#wildcardMatch(), which you can use without intricacies of the regular expression.</p>\n\n<p>API documentation could be found in: <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FilenameUtils.html#wildcardMatch(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FilenameUtils.html#wildcardMatch(java.lang.String,%20java.lang.String)</a></p>\n"},{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650268455,"creation_date":1650268455,"answer_id":71909064,"question_id":24337657,"body_markdown":"```java\r\n  // The main function that checks if two given strings match. The pattern string  may contain\r\n  // wildcard characters\r\n  default boolean matchPattern(String pattern, String str) {\r\n\r\n    // If we reach at the end of both strings, we are done\r\n    if (pattern.length() == 0 &amp;&amp; str.length() == 0) return true;\r\n\r\n    // Make sure that the characters after &#39;*&#39; are present in str string. This function assumes that\r\n    // the pattern string will not contain two consecutive &#39;*&#39;\r\n    if (pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == &#39;*&#39; &amp;&amp; str.length() == 0) return false;\r\n\r\n    // If the pattern string contains &#39;?&#39;, or current characters of both strings match\r\n    if ((pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == &#39;?&#39;)\r\n        || (pattern.length() != 0 &amp;&amp; str.length() != 0 &amp;&amp; pattern.charAt(0) == str.charAt(0)))\r\n      return matchPattern(pattern.substring(1), str.substring(1));\r\n\r\n    // If there is *, then there are two possibilities\r\n    // a: We consider current character of str string\r\n    // b: We ignore current character of str string.\r\n    if (pattern.length() &gt; 0 &amp;&amp; pattern.charAt(0) == &#39;*&#39;)\r\n      return matchPattern(pattern.substring(1), str) || matchPattern(pattern, str.substring(1));\r\n    return false;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    test(&quot;w*ks&quot;, &quot;weeks&quot;); // Yes\r\n    test(&quot;we?k*&quot;, &quot;weekend&quot;); // Yes\r\n    test(&quot;g*k&quot;, &quot;gee&quot;); // No because &#39;k&#39; is not in second\r\n    test(&quot;*pqrs&quot;, &quot;pqrst&quot;); // No because &#39;t&#39; is not in first\r\n    test(&quot;abc*bcd&quot;, &quot;abcdhghgbcd&quot;); // Yes\r\n    test(&quot;abc*c?d&quot;, &quot;abcd&quot;); // No because second must have 2 instances of &#39;c&#39;\r\n    test(&quot;*c*d&quot;, &quot;abcd&quot;); // Yes\r\n    test(&quot;*?c*d&quot;, &quot;abcd&quot;); // Yes\r\n  }\r\n```","title":"Wildcard matching in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>  // The main function that checks if two given strings match. The pattern string  may contain\n  // wildcard characters\n  default boolean matchPattern(String pattern, String str) {\n\n    // If we reach at the end of both strings, we are done\n    if (pattern.length() == 0 &amp;&amp; str.length() == 0) return true;\n\n    // Make sure that the characters after '*' are present in str string. This function assumes that\n    // the pattern string will not contain two consecutive '*'\n    if (pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == '*' &amp;&amp; str.length() == 0) return false;\n\n    // If the pattern string contains '?', or current characters of both strings match\n    if ((pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == '?')\n        || (pattern.length() != 0 &amp;&amp; str.length() != 0 &amp;&amp; pattern.charAt(0) == str.charAt(0)))\n      return matchPattern(pattern.substring(1), str.substring(1));\n\n    // If there is *, then there are two possibilities\n    // a: We consider current character of str string\n    // b: We ignore current character of str string.\n    if (pattern.length() &gt; 0 &amp;&amp; pattern.charAt(0) == '*')\n      return matchPattern(pattern.substring(1), str) || matchPattern(pattern, str.substring(1));\n    return false;\n  }\n\n  public static void main(String[] args) {\n    test(&quot;w*ks&quot;, &quot;weeks&quot;); // Yes\n    test(&quot;we?k*&quot;, &quot;weekend&quot;); // Yes\n    test(&quot;g*k&quot;, &quot;gee&quot;); // No because 'k' is not in second\n    test(&quot;*pqrs&quot;, &quot;pqrst&quot;); // No because 't' is not in first\n    test(&quot;abc*bcd&quot;, &quot;abcdhghgbcd&quot;); // Yes\n    test(&quot;abc*c?d&quot;, &quot;abcd&quot;); // No because second must have 2 instances of 'c'\n    test(&quot;*c*d&quot;, &quot;abcd&quot;); // Yes\n    test(&quot;*?c*d&quot;, &quot;abcd&quot;); // Yes\n  }\n</code></pre>\n"}],"owner":{"account_id":16029,"reputation":498825,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49135,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":24337711,"answer_count":7,"score":16,"last_activity_date":1650268455,"creation_date":1403316691,"question_id":24337657,"body_markdown":"I&#39;m writing a simple debugging program that takes as input simple strings that can contain stars to indicate a wildcard match-any\r\n\r\n    *.wav  // matches &lt;anything&gt;.wav\r\n    (*, a) // matches (&lt;anything&gt;, a)\r\n\r\nI thought I would simply take that pattern, escape any regular expression special characters in it, then replace any `\\\\*` back to `.*`. And then use a regular expression matcher.\r\n\r\nBut I can&#39;t find any Java function to escape a regular expression. The best match I could find is `Pattern.quote`, which however just puts `\\Q` and `\\E` at the begin and end of the string. \r\n\r\nIs there anything in Java that allows you to simply do that wildcard matching without you having to implement the algorithm from scratch?","title":"Wildcard matching in Java","body":"<p>I'm writing a simple debugging program that takes as input simple strings that can contain stars to indicate a wildcard match-any</p>\n\n<pre><code>*.wav  // matches &lt;anything&gt;.wav\n(*, a) // matches (&lt;anything&gt;, a)\n</code></pre>\n\n<p>I thought I would simply take that pattern, escape any regular expression special characters in it, then replace any <code>\\\\*</code> back to <code>.*</code>. And then use a regular expression matcher.</p>\n\n<p>But I can't find any Java function to escape a regular expression. The best match I could find is <code>Pattern.quote</code>, which however just puts <code>\\Q</code> and <code>\\E</code> at the begin and end of the string. </p>\n\n<p>Is there anything in Java that allows you to simply do that wildcard matching without you having to implement the algorithm from scratch?</p>\n"},{"tags":["java","regex","pattern-matching","wildcard"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1501056768,"post_id":45321050,"comment_id":77604106,"body_markdown":"Can you show your code. What are all the wild cards you want to support?","body":"Can you show your code. What are all the wild cards you want to support?"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1501056772,"post_id":45321050,"comment_id":77604108,"body_markdown":"Why didn&#39;t the regex work? What did you try?","body":"Why didn&#39;t the regex work? What did you try?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1501056778,"post_id":45321050,"comment_id":77604111,"body_markdown":"show us what you tried - maybe a simple fix","body":"show us what you tried - maybe a simple fix"},{"owner":{"account_id":3438751,"reputation":172981,"user_id":3297613,"accept_rate":74,"display_name":"Avinash Raj"},"score":0,"creation_date":1501056792,"post_id":45321050,"comment_id":77604124,"body_markdown":"you mean `abc.+` ?","body":"you mean <code>abc.+</code> ?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1501056933,"post_id":45321050,"comment_id":77604216,"body_markdown":"why not just use `String.contains` ?","body":"why not just use <code>String.contains</code> ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1501057011,"post_id":45321050,"comment_id":77604259,"body_markdown":"That should be easy to do with regex, just replace the wildcards with the appropriate expression (e.g. `.*` for `*` and `.` for `?`) and use `String#matches()`.","body":"That should be easy to do with regex, just replace the wildcards with the appropriate expression (e.g. <code>.*</code> for <code>*</code> and <code>.</code> for <code>?</code>) and use <code>String#matches()</code>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1501057056,"post_id":45321050,"comment_id":77604290,"body_markdown":"@ScaryWombat `fgabcafa` should _not_ match but it would with `&quot;fgabcafa&quot;.contains(&quot;abc&quot;)`","body":"@ScaryWombat <code>fgabcafa</code> should <i>not</i> match but it would with <code>&quot;fgabcafa&quot;.contains(&quot;abc&quot;)</code>"},{"owner":{"account_id":10625553,"reputation":3067,"user_id":7825294,"accept_rate":73,"display_name":"Sunflame"},"score":0,"creation_date":1501057387,"post_id":45321050,"comment_id":77604506,"body_markdown":"@Thomas that is not working but he can use the `String::startsWith` method. But the best is to use regexps.","body":"@Thomas that is not working but he can use the <code>String::startsWith</code> method. But the best is to use regexps."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1501057482,"post_id":45321050,"comment_id":77604561,"body_markdown":"@Thomas Oh sorry, I was reading the OP&#39;s question as that were his results, not what he was wanting - in that case `startsWith`","body":"@Thomas Oh sorry, I was reading the OP&#39;s question as that were his results, not what he was wanting - in that case <code>startsWith</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1501059356,"post_id":45321050,"comment_id":77605907,"body_markdown":"@Sunflame why shouldn&#39;t that be working if he&#39;s using the _correct_ regex? Assuming the wildcards can be anywhere (and probably multiple wildcards as well) you can&#39;t just use `startsWith()`, `contains()` or `endsWith()`.","body":"@Sunflame why shouldn&#39;t that be working if he&#39;s using the <i>correct</i> regex? Assuming the wildcards can be anywhere (and probably multiple wildcards as well) you can&#39;t just use <code>startsWith()</code>, <code>contains()</code> or <code>endsWith()</code>."}],"answers":[{"tags":[],"owner":{"account_id":10004293,"reputation":2540,"user_id":7399631,"display_name":"bkis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501057711,"creation_date":1501057063,"answer_id":45321170,"question_id":45321050,"body_markdown":"`abc*` would be the RegEx that matches `ab`, `abc`, `abcc`, `abccc` and so on.  \r\nWhat you want is `abc.*` - if `abc` is supposed to be the beginning of the matched string and it&#39;s optional if anything follows it.  \r\nOtherwise you could prepend `.*` to also match strings with `abc` in the middle: `.*abc.*`  \r\n\r\nGenerally i recommend playing around with a site like [this][1] to learn RegEx. You are asking for a pretty basic pattern but it&#39;s hard to say what you need exactly. Good Luck!  \r\n\r\nEDIT:  \r\nIt seems like you want the user to type a part of a file name (or so) and you want to offer something like a search functionality (you could have made that clear in your question IMO). In this case you could bake your own RegEx from the users&#39; input:\r\n\r\n    private Pattern getSearchRegEx(String userInput){\r\n        return Pattern.compile(&quot;.*&quot; + userInput + &quot;.*&quot;);\r\n    }\r\n\r\nOf course that&#39;s just a very simple example. You could modify this and then use the RegEx to match file names.\r\n\r\n\r\n  [1]: http://regexr.com/","title":"Java string matching with wildcards","body":"<p><code>abc*</code> would be the RegEx that matches <code>ab</code>, <code>abc</code>, <code>abcc</code>, <code>abccc</code> and so on.<br>\nWhat you want is <code>abc.*</code> - if <code>abc</code> is supposed to be the beginning of the matched string and it's optional if anything follows it.<br>\nOtherwise you could prepend <code>.*</code> to also match strings with <code>abc</code> in the middle: <code>.*abc.*</code>  </p>\n\n<p>Generally i recommend playing around with a site like <a href=\"http://regexr.com/\" rel=\"nofollow noreferrer\">this</a> to learn RegEx. You are asking for a pretty basic pattern but it's hard to say what you need exactly. Good Luck!  </p>\n\n<p>EDIT:<br>\nIt seems like you want the user to type a part of a file name (or so) and you want to offer something like a search functionality (you could have made that clear in your question IMO). In this case you could bake your own RegEx from the users' input:</p>\n\n<pre><code>private Pattern getSearchRegEx(String userInput){\n    return Pattern.compile(\".*\" + userInput + \".*\");\n}\n</code></pre>\n\n<p>Of course that's just a very simple example. You could modify this and then use the RegEx to match file names.</p>\n"},{"tags":[],"owner":{"account_id":10625553,"reputation":3067,"user_id":7825294,"accept_rate":73,"display_name":"Sunflame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501057823,"creation_date":1501057823,"answer_id":45321448,"question_id":45321050,"body_markdown":"So I thin here is your answer: \r\nThe regexp that you are looking for is this : `[a][b][c].*`\r\n\r\nHere is my code that works: \r\n\r\n\t    String first = &quot;abc&quot;; // true\r\n\t\tString second = &quot;abctest&quot;; // true\r\n\t\tString third = &quot;sthabcsth&quot;; // false\r\n\r\n\t\tPattern pattern = Pattern.compile(&quot;[a][b][c].*&quot;);\r\n\r\n\t\tSystem.out.println(first.matches(pattern.pattern())); // true\r\n\t\tSystem.out.println(second.matches(pattern.pattern())); // true\r\n\t\tSystem.out.println(third.matches(pattern.pattern())); // false\r\n\r\nBut if you want to check only if starts with or ends with you can use the methods of `String`: `.startsWith()` and `endsWith()`","title":"Java string matching with wildcards","body":"<p>So I thin here is your answer: \nThe regexp that you are looking for is this : <code>[a][b][c].*</code></p>\n\n<p>Here is my code that works: </p>\n\n<pre><code>    String first = \"abc\"; // true\n    String second = \"abctest\"; // true\n    String third = \"sthabcsth\"; // false\n\n    Pattern pattern = Pattern.compile(\"[a][b][c].*\");\n\n    System.out.println(first.matches(pattern.pattern())); // true\n    System.out.println(second.matches(pattern.pattern())); // true\n    System.out.println(third.matches(pattern.pattern())); // false\n</code></pre>\n\n<p>But if you want to check only if starts with or ends with you can use the methods of <code>String</code>: <code>.startsWith()</code> and <code>endsWith()</code></p>\n"},{"tags":[],"owner":{"account_id":2321692,"reputation":350,"user_id":2037255,"display_name":"Dmitrii"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1501058328,"creation_date":1501058328,"answer_id":45321638,"question_id":45321050,"body_markdown":"Just use bash style pattern to Java style pattern converter:&lt;br&gt;\r\n\r\n    public static void main(String[] args) {\r\n            String patternString = createRegexFromGlob(&quot;abc*&quot;);\r\n            List&lt;String&gt; list = Arrays.asList(&quot;abf&quot;, &quot;abc_fgh&quot;, &quot;abcgafa&quot;, &quot;fgabcafa&quot;);\r\n            list.forEach(it -&gt; System.out.println(it.matches(patternString)));\r\n    }\r\n\r\n    private static String createRegexFromGlob(String glob) {\r\n        StringBuilder out = new StringBuilder(&quot;^&quot;);\r\n        for(int i = 0; i &lt; glob.length(); ++i) {\r\n            final char c = glob.charAt(i);\r\n            switch(c) {\r\n                case &#39;*&#39;: out.append(&quot;.*&quot;); break;\r\n                case &#39;?&#39;: out.append(&#39;.&#39;); break;\r\n                case &#39;.&#39;: out.append(&quot;\\\\.&quot;); break;\r\n                case &#39;\\\\&#39;: out.append(&quot;\\\\\\\\&quot;); break;\r\n                default: out.append(c);\r\n            }\r\n        }\r\n        out.append(&#39;$&#39;);\r\n        return out.toString();\r\n    }\r\n\r\n[Is there an equivalent of java.util.regex for “glob” type patterns?][1]&lt;br&gt;\r\n[Convert wildcard to a regex expression][2]&lt;br&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1247772/is-there-an-equivalent-of-java-util-regex-for-glob-type-patterns\r\n  [2]: http://www.rgagnon.com/javadetails/java-0515.html\r\n","title":"Java string matching with wildcards","body":"<p>Just use bash style pattern to Java style pattern converter:<br></p>\n\n<pre><code>public static void main(String[] args) {\n        String patternString = createRegexFromGlob(\"abc*\");\n        List&lt;String&gt; list = Arrays.asList(\"abf\", \"abc_fgh\", \"abcgafa\", \"fgabcafa\");\n        list.forEach(it -&gt; System.out.println(it.matches(patternString)));\n}\n\nprivate static String createRegexFromGlob(String glob) {\n    StringBuilder out = new StringBuilder(\"^\");\n    for(int i = 0; i &lt; glob.length(); ++i) {\n        final char c = glob.charAt(i);\n        switch(c) {\n            case '*': out.append(\".*\"); break;\n            case '?': out.append('.'); break;\n            case '.': out.append(\"\\\\.\"); break;\n            case '\\\\': out.append(\"\\\\\\\\\"); break;\n            default: out.append(c);\n        }\n    }\n    out.append('$');\n    return out.toString();\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/1247772/is-there-an-equivalent-of-java-util-regex-for-glob-type-patterns\">Is there an equivalent of java.util.regex for “glob” type patterns?</a><br>\n<a href=\"http://www.rgagnon.com/javadetails/java-0515.html\" rel=\"noreferrer\">Convert wildcard to a regex expression</a><br></p>\n"},{"tags":[],"owner":{"account_id":2416054,"reputation":51,"user_id":2110031,"display_name":"virus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501058566,"creation_date":1501058566,"answer_id":45321734,"question_id":45321050,"body_markdown":"you can use stringVariable.startsWith(&quot;abc&quot;)","title":"Java string matching with wildcards","body":"<p>you can use stringVariable.startsWith(\"abc\")</p>\n"},{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650268333,"creation_date":1650267986,"answer_id":71908990,"question_id":45321050,"body_markdown":"```java\r\n  // The main function that checks if two given strings match. The pattern string  may contain\r\n  // wildcard characters\r\n  default boolean matchPattern(String pattern, String str) {\r\n\r\n    // If we reach at the end of both strings, we are done\r\n    if (pattern.length() == 0 &amp;&amp; str.length() == 0) return true;\r\n\r\n    // Make sure that the characters after &#39;*&#39; are present in str string. This function assumes that\r\n    // the pattern string will not contain two consecutive &#39;*&#39;\r\n    if (pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == &#39;*&#39; &amp;&amp; str.length() == 0) return false;\r\n\r\n    // If the pattern string contains &#39;?&#39;, or current characters of both strings match\r\n    if ((pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == &#39;?&#39;)\r\n        || (pattern.length() != 0 &amp;&amp; str.length() != 0 &amp;&amp; pattern.charAt(0) == str.charAt(0)))\r\n      return matchPattern(pattern.substring(1), str.substring(1));\r\n\r\n    // If there is *, then there are two possibilities\r\n    // a: We consider current character of str string\r\n    // b: We ignore current character of str string.\r\n    if (pattern.length() &gt; 0 &amp;&amp; pattern.charAt(0) == &#39;*&#39;)\r\n      return matchPattern(pattern.substring(1), str) || matchPattern(pattern, str.substring(1));\r\n    return false;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    test(&quot;w*ks&quot;, &quot;weeks&quot;); // Yes\r\n    test(&quot;we?k*&quot;, &quot;weekend&quot;); // Yes\r\n    test(&quot;g*k&quot;, &quot;gee&quot;); // No because &#39;k&#39; is not in second\r\n    test(&quot;*pqrs&quot;, &quot;pqrst&quot;); // No because &#39;t&#39; is not in first\r\n    test(&quot;abc*bcd&quot;, &quot;abcdhghgbcd&quot;); // Yes\r\n    test(&quot;abc*c?d&quot;, &quot;abcd&quot;); // No because second must have 2 instances of &#39;c&#39;\r\n    test(&quot;*c*d&quot;, &quot;abcd&quot;); // Yes\r\n    test(&quot;*?c*d&quot;, &quot;abcd&quot;); // Yes\r\n  }\r\n```","title":"Java string matching with wildcards","body":"<pre class=\"lang-java prettyprint-override\"><code>  // The main function that checks if two given strings match. The pattern string  may contain\n  // wildcard characters\n  default boolean matchPattern(String pattern, String str) {\n\n    // If we reach at the end of both strings, we are done\n    if (pattern.length() == 0 &amp;&amp; str.length() == 0) return true;\n\n    // Make sure that the characters after '*' are present in str string. This function assumes that\n    // the pattern string will not contain two consecutive '*'\n    if (pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == '*' &amp;&amp; str.length() == 0) return false;\n\n    // If the pattern string contains '?', or current characters of both strings match\n    if ((pattern.length() &gt; 1 &amp;&amp; pattern.charAt(0) == '?')\n        || (pattern.length() != 0 &amp;&amp; str.length() != 0 &amp;&amp; pattern.charAt(0) == str.charAt(0)))\n      return matchPattern(pattern.substring(1), str.substring(1));\n\n    // If there is *, then there are two possibilities\n    // a: We consider current character of str string\n    // b: We ignore current character of str string.\n    if (pattern.length() &gt; 0 &amp;&amp; pattern.charAt(0) == '*')\n      return matchPattern(pattern.substring(1), str) || matchPattern(pattern, str.substring(1));\n    return false;\n  }\n\n  public static void main(String[] args) {\n    test(&quot;w*ks&quot;, &quot;weeks&quot;); // Yes\n    test(&quot;we?k*&quot;, &quot;weekend&quot;); // Yes\n    test(&quot;g*k&quot;, &quot;gee&quot;); // No because 'k' is not in second\n    test(&quot;*pqrs&quot;, &quot;pqrst&quot;); // No because 't' is not in first\n    test(&quot;abc*bcd&quot;, &quot;abcdhghgbcd&quot;); // Yes\n    test(&quot;abc*c?d&quot;, &quot;abcd&quot;); // No because second must have 2 instances of 'c'\n    test(&quot;*c*d&quot;, &quot;abcd&quot;); // Yes\n    test(&quot;*?c*d&quot;, &quot;abcd&quot;); // Yes\n  }\n</code></pre>\n"}],"owner":{"account_id":1212419,"reputation":2755,"user_id":1180711,"accept_rate":44,"display_name":"Sunil Kumar B M"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16585,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":45321638,"answer_count":5,"score":3,"last_activity_date":1650268333,"creation_date":1501056644,"question_id":45321050,"body_markdown":"I have a pattern string with a wild card say X (E.g.: abc*).\r\n\r\nAlso I have a set of strings which I have to match against the given pattern.\r\n\r\nE.g.: \r\n\r\nabf - false\r\n\r\nabc_fgh - true\r\n\r\nabcgafa - true\r\n\r\nfgabcafa - false\r\n\r\nI tried using regex for the same, it didn&#39;t work.\r\n\r\nHere is my code\r\n\r\n    String pattern = &quot;abc*&quot;;\r\n    String str = &quot;abcdef&quot;;\r\n    \r\n    Pattern regex = Pattern.compile(pattern);\r\n    \r\n    return regex.matcher(str).matches();\r\n\r\nThis returns false\r\n\r\nIs there any other way to make this work?\r\n\r\nThanks","title":"Java string matching with wildcards","body":"<p>I have a pattern string with a wild card say X (E.g.: abc*).</p>\n\n<p>Also I have a set of strings which I have to match against the given pattern.</p>\n\n<p>E.g.: </p>\n\n<p>abf - false</p>\n\n<p>abc_fgh - true</p>\n\n<p>abcgafa - true</p>\n\n<p>fgabcafa - false</p>\n\n<p>I tried using regex for the same, it didn't work.</p>\n\n<p>Here is my code</p>\n\n<pre><code>String pattern = \"abc*\";\nString str = \"abcdef\";\n\nPattern regex = Pattern.compile(pattern);\n\nreturn regex.matcher(str).matches();\n</code></pre>\n\n<p>This returns false</p>\n\n<p>Is there any other way to make this work?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","gradle","applet","deprecated"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1650093082,"post_id":71775083,"comment_id":127038958,"body_markdown":"From what I understand, the build should not fail unless you&#39;re using the [`-Werror`](https://stackoverflow.com/questions/47451836/is-it-possible-to-tell-werror-to-ignore-a-certain-class-or-a-certain-warning-du) flag.","body":"From what I understand, the build should not fail unless you&#39;re using the <a href=\"https://stackoverflow.com/questions/47451836/is-it-possible-to-tell-werror-to-ignore-a-certain-class-or-a-certain-warning-du\"><code>-Werror</code></a> flag."}],"answers":[{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650204254,"creation_date":1650204254,"answer_id":71902535,"question_id":71775083,"body_markdown":"Is your build really failing because of that deprecation warning? As Oliver noted in the comments, that should only be the case when you run `javac` with the `-Werror` option. But even if you _used_ that option, then the message would look different – probably like this:\r\n\r\n```lang-none\r\nerror: warnings found and -Werror specified\r\n1 error\r\n1 warning\r\n```\r\n\r\nSo from what I can tell, it rather seems that this deprecation warning is a red herring. Just to make sure: does your build fail at all? When you run `./gradlew classes`, does Gradle report something like the following …\r\n\r\n```lang-none\r\n&gt; Compilation failed; see the compiler error output for details.\r\n```\r\n\r\n… followed by “BUILD FAILED”?\r\n\r\nIf Gradle instead reports “BUILD SUCCESSFUL” for that command, then the warning is not an issue. If your build still fails when running other tasks (e.g., as part of `./gradlew build`), then there _should_ be other errors in the log. If not, then try adding the `--stacktrace` option to hopefully get more details about the actual error.\r\n\r\n---\r\n\r\nThat said, if you only want to (entirely) get rid of that warning, then according to [this SO answer](https://stackoverflow.com/a/1554587/1797912) your only option would be to add a `@SuppressWarnings(&quot;deprecation&quot;)` annotation to your `InsetsDemo` class. Otherwise the warning was “mandated by the Java Language Specification.”","title":"Gradle 7.4 fails with Applet been deprecated and marked for removal","body":"<p>Is your build really failing because of that deprecation warning? As Oliver noted in the comments, that should only be the case when you run <code>javac</code> with the <code>-Werror</code> option. But even if you <em>used</em> that option, then the message would look different – probably like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>error: warnings found and -Werror specified\n1 error\n1 warning\n</code></pre>\n<p>So from what I can tell, it rather seems that this deprecation warning is a red herring. Just to make sure: does your build fail at all? When you run <code>./gradlew classes</code>, does Gradle report something like the following …</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>… followed by “BUILD FAILED”?</p>\n<p>If Gradle instead reports “BUILD SUCCESSFUL” for that command, then the warning is not an issue. If your build still fails when running other tasks (e.g., as part of <code>./gradlew build</code>), then there <em>should</em> be other errors in the log. If not, then try adding the <code>--stacktrace</code> option to hopefully get more details about the actual error.</p>\n<hr />\n<p>That said, if you only want to (entirely) get rid of that warning, then according to <a href=\"https://stackoverflow.com/a/1554587/1797912\">this SO answer</a> your only option would be to add a <code>@SuppressWarnings(&quot;deprecation&quot;)</code> annotation to your <code>InsetsDemo</code> class. Otherwise the warning was “mandated by the Java Language Specification.”</p>\n"}],"owner":{"account_id":21180,"reputation":9893,"user_id":51292,"accept_rate":59,"display_name":"Ray Tayek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71902535,"answer_count":1,"score":1,"last_activity_date":1650268243,"creation_date":1649292202,"question_id":71775083,"body_markdown":"Eclipse is hanging on me, so I reverted to a gradle build. Gradle classes fails with the error message below.\r\n\r\nI do have a gradle.properties file in the project directory with: &quot;org.gradle.warning.mode=none&quot; in it. Eclipse normally runs the code and tests just fine.\r\n\r\nI don&#39;t care about getting the warnings anywhere. I do want to *stop the build from failing*.\r\n\r\nThe build file below has a lot of extra stuff that I am not using now.\r\n\r\nEdit 1: adding @SuppressWarnings(&quot;removal&quot;) seems to work.\r\n\r\n```\r\nC:\\Users\\raz\\git\\code\\src\\simplegui\\InsetsDemo.java:4: warning: [removal] Applet in java.appl\r\net has been deprecated and marked for removal\r\npublic class InsetsDemo extends Applet {\r\n                                ^\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n```\r\n\r\nbuild file:\r\n\r\n```\r\nbuildscript {\r\n  repositories {\r\n    mavenCentral()\r\n  }\r\n  dependencies {\r\n    classpath &#39;org.hidetake:gradle-ssh-plugin:1.1.2&#39;\r\n  }\r\n}\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;checkstyle&#39;\r\n\tid &#39;distribution&#39;\r\n\tid &#39;application&#39;\r\n}\r\nrepositories {\r\n    mavenCentral()\r\n}\r\nsourceSets {\r\n\tmain {\r\n\t\tmain.java.srcDirs = [&quot;src&quot;]\r\n\t\tmain.resources.srcDirs = [&quot;resources&quot;]\r\n\t}\r\n\ttest {\r\n\t\ttest.java.srcDirs = [&quot;tst&quot;] // removed slow/ as it was very.\r\n\t}\r\n}\r\ndependencies {\r\n\ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n\t}\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: MyStuff.main\r\n    }\r\n}\r\nrun {\r\n    standardInput = System.in\r\n}\r\ntargetCompatibility = &quot;16&quot;  \r\nsourceCompatibility = &quot;16&quot;\r\nversion = &#39;0.1&#39; \r\nmainClassName = MyStuff.main // for application plugin\r\nclass MyStuff {\r\n\tpublic static final String main=&quot;com.tayek.utilities.Dispatcher&quot;;\r\n}\r\n```\r\n\r\n\r\n","title":"Gradle 7.4 fails with Applet been deprecated and marked for removal","body":"<p>Eclipse is hanging on me, so I reverted to a gradle build. Gradle classes fails with the error message below.</p>\n<p>I do have a gradle.properties file in the project directory with: &quot;org.gradle.warning.mode=none&quot; in it. Eclipse normally runs the code and tests just fine.</p>\n<p>I don't care about getting the warnings anywhere. I do want to <em>stop the build from failing</em>.</p>\n<p>The build file below has a lot of extra stuff that I am not using now.</p>\n<p>Edit 1: adding @SuppressWarnings(&quot;removal&quot;) seems to work.</p>\n<pre><code>C:\\Users\\raz\\git\\code\\src\\simplegui\\InsetsDemo.java:4: warning: [removal] Applet in java.appl\net has been deprecated and marked for removal\npublic class InsetsDemo extends Applet {\n                                ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n<p>build file:</p>\n<pre><code>buildscript {\n  repositories {\n    mavenCentral()\n  }\n  dependencies {\n    classpath 'org.hidetake:gradle-ssh-plugin:1.1.2'\n  }\n}\nplugins {\n    id 'java'\n    id 'checkstyle'\n    id 'distribution'\n    id 'application'\n}\nrepositories {\n    mavenCentral()\n}\nsourceSets {\n    main {\n        main.java.srcDirs = [&quot;src&quot;]\n        main.resources.srcDirs = [&quot;resources&quot;]\n    }\n    test {\n        test.java.srcDirs = [&quot;tst&quot;] // removed slow/ as it was very.\n    }\n}\ndependencies {\n    testImplementation 'junit:junit:4.13.2'\n    }\njar {\n    manifest {\n        attributes 'Main-Class': MyStuff.main\n    }\n}\nrun {\n    standardInput = System.in\n}\ntargetCompatibility = &quot;16&quot;  \nsourceCompatibility = &quot;16&quot;\nversion = '0.1' \nmainClassName = MyStuff.main // for application plugin\nclass MyStuff {\n    public static final String main=&quot;com.tayek.utilities.Dispatcher&quot;;\n}\n</code></pre>\n"},{"tags":["java","post","bitcoin","signature","coinbase-api"],"comments":[{"owner":{"account_id":346515,"reputation":398,"user_id":680091,"accept_rate":0,"display_name":"pseudozach"},"score":0,"creation_date":1544694383,"post_id":51689998,"comment_id":94369971,"body_markdown":"can you share how you ended up fixing this?","body":"can you share how you ended up fixing this?"}],"answers":[{"tags":[],"owner":{"account_id":3118430,"reputation":159,"user_id":2638716,"display_name":"YUSUF YILDIZ"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1563451086,"creation_date":1563451086,"answer_id":57093943,"question_id":51689998,"body_markdown":"In my case, I utilized [gdax-java][1] example. I solved this issue by removing decimal values from timestamp that means I just used integer part of the timestamp value.\r\n\r\n\r\n  [1]: https://github.com/irufus/gdax-java","title":"Coinbase Api Java POST request &quot;Invalid Signature&quot;","body":"<p>In my case, I utilized <a href=\"https://github.com/irufus/gdax-java\" rel=\"nofollow noreferrer\">gdax-java</a> example. I solved this issue by removing decimal values from timestamp that means I just used integer part of the timestamp value.</p>\n"},{"tags":[],"owner":{"account_id":5785308,"reputation":433,"user_id":4564749,"display_name":"Sourabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650267706,"creation_date":1650267706,"answer_id":71908952,"question_id":51689998,"body_markdown":"I was able to get this working with using javax.crypto.* library functions. The changes I did were \r\n- Took the API Key for the sandbox. \r\n- To encoded the signature, I explicitly used UTF_8 \r\n\r\nBelow is the code that worked for me with Coinbase sandbox API_KEY - \r\n\r\n     public String getCoinbaseHeaderSignature(\r\n            String timeStamp, \r\n            String method,\r\n            String requestPath,\r\n            String body\r\n    ) throws NoSuchAlgorithmException, InvalidKeyException {\r\n\r\n        String data = timeStamp + method.toUpperCase() + requestPath + body;\r\n\r\n        byte[] key = Base64.getDecoder().decode(API_KEY);\r\n\r\n        SecretKey keySpec = new SecretKeySpec(key, &quot;HmacSHA256&quot;);\r\n\r\n        // Get HmacSHA256 instance \r\n        Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n        mac.init(keySpec);\r\n\r\n        return Base64.getEncoder().encodeToString(mac.doFinal(data.getBytes(StandardCharsets.UTF_8)));\r\n\r\n    }\r\n\r\n_For more details, refer to documentation_ https://docs.cloud.coinbase.com/sign-in-with-coinbase/docs/api-key-authentication\r\n","title":"Coinbase Api Java POST request &quot;Invalid Signature&quot;","body":"<p>I was able to get this working with using javax.crypto.* library functions. The changes I did were</p>\n<ul>\n<li>Took the API Key for the sandbox.</li>\n<li>To encoded the signature, I explicitly used UTF_8</li>\n</ul>\n<p>Below is the code that worked for me with Coinbase sandbox API_KEY -</p>\n<pre><code> public String getCoinbaseHeaderSignature(\n        String timeStamp, \n        String method,\n        String requestPath,\n        String body\n) throws NoSuchAlgorithmException, InvalidKeyException {\n\n    String data = timeStamp + method.toUpperCase() + requestPath + body;\n\n    byte[] key = Base64.getDecoder().decode(API_KEY);\n\n    SecretKey keySpec = new SecretKeySpec(key, &quot;HmacSHA256&quot;);\n\n    // Get HmacSHA256 instance \n    Mac mac = Mac.getInstance(&quot;HmacSHA256&quot;);\n    mac.init(keySpec);\n\n    return Base64.getEncoder().encodeToString(mac.doFinal(data.getBytes(StandardCharsets.UTF_8)));\n\n}\n</code></pre>\n<p><em>For more details, refer to documentation</em> <a href=\"https://docs.cloud.coinbase.com/sign-in-with-coinbase/docs/api-key-authentication\" rel=\"nofollow noreferrer\">https://docs.cloud.coinbase.com/sign-in-with-coinbase/docs/api-key-authentication</a></p>\n"}],"owner":{"account_id":14093755,"reputation":19,"user_id":10181227,"display_name":"Kevrun33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1650267706,"creation_date":1533421748,"question_id":51689998,"body_markdown":"I am trying to send a POST request to the coinbase sandbox endpoint. When signing the request I always get an &quot;Invalid Signature&quot; response. It seems that coinbase requires the JSON message be base 64 encoded and sent as a part of the signature. I am fairly new to POST requests and have never signed a message before. Can someone please let me know what I am doing wrong. I have been stuck on this issue for a week so any input is much appreciated. \r\n\r\nThe relevant part of my code is below\r\n\r\n\tpublic void postOrder() throws InvalidKeyException, NoSuchAlgorithmException, CloneNotSupportedException, ClientProtocolException, IOException {\r\n\t\t\r\n        String message = &quot;{ \\n&quot;+\r\n\t\t\t\t   &quot; \\&quot;size\\&quot;:\\&quot;1.00\\&quot;, \\n&quot;+\r\n\t\t\t\t   &quot; \\&quot;price\\&quot;:\\&quot;0.80\\&quot;, \\n&quot;+\r\n\t\t\t\t   &quot; \\&quot;side\\&quot;:\\&quot;buy\\&quot;, \\n&quot;+\r\n\t\t\t\t   &quot; \\&quot;product_id\\&quot;:\\&quot;BTC-USD\\&quot; \\n&quot;+\r\n\t\t\t\t   &quot;}&quot;;\t\r\n        \t        \r\n        JSONObject json = new JSONObject(message);\r\n        message = json.toString();\r\n        try\r\n        {\r\n                String timestamp= Instant.now().getEpochSecond()+&quot;&quot;;\r\n                String accessSign = getAccess(timestamp,&quot;POST&quot;,&quot;/orders&quot;,message);\r\n                String apiKey = properties.getProperty(&quot;key&quot;);\r\n                String passphrase = properties.getProperty(&quot;passphrase&quot;);\r\n                \r\n                URL url = new URL(&quot;https://api-public.sandbox.pro.coinbase.com/orders&quot;);\r\n                HttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n                connection.setDoOutput(true); \r\n                connection.setRequestProperty(&quot;accept&quot;, &quot;application/json&quot;);\r\n                connection.setRequestProperty(&quot;content-type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n                connection.setRequestProperty(&quot;CB-ACCESS-KEY&quot;, apiKey);\r\n                connection.setRequestProperty(&quot;CB-ACCESS-SIGN&quot;, accessSign);\r\n                connection.setRequestProperty(&quot;CB-ACCESS-TIMESTAMP&quot;, timestamp);\r\n                connection.setRequestProperty(&quot;CB-ACCESS-PASSPHRASE&quot;, passphrase);\r\n                connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Java Client&quot;); \r\n\r\n              try { \r\n            \tconnection.getOutputStream().write(message.getBytes(&quot;UTF-8&quot;));\r\n            \tOutputStream output = connection.getOutputStream(); \r\n                output.write(param.getBytes(&quot;UTF-8&quot;));\r\n              } catch (Exception e) {\r\n            \t  System.out.println(e.getMessage());\r\n              }\r\n\r\n              String status = connection.getResponseMessage();\r\n                System.out.println(&quot;STATUS: &quot;+status);  \r\n\r\n\t\t }catch(Exception e) {\r\n\t\t    System.out.println(e.getMessage());\r\n\t\t }\r\n\t     return;\r\n\t}\r\n\r\n\r\n   \t private String getAccess(String timestamp, String method, String path, String param) throws NoSuchAlgorithmException, InvalidKeyException, CloneNotSupportedException, IllegalStateException, UnsupportedEncodingException {\r\n\t        \r\n\t\t \tString secretKeyString = properties.getProperty(&quot;secret&quot;);\r\n\t\t \t\r\n\t        String prehash = timestamp+method+path+param;\r\n\t\t \tbyte[] secretKeyDecoded = Base64.getDecoder().decode(secretKeyString);\r\n\t        SecretKey secretKey = new SecretKeySpec(secretKeyDecoded, &quot;HmacSHA256&quot;);\r\n\t        Mac hmacSha256 = Mac.getInstance(&quot;HmacSHA256&quot;);\r\n\t        hmacSha256.init(secretKey);\r\n\t        \r\n\t        return Base64.getEncoder().encodeToString(hmacSha256.doFinal(prehash.getBytes()));\r\n\t }","title":"Coinbase Api Java POST request &quot;Invalid Signature&quot;","body":"<p>I am trying to send a POST request to the coinbase sandbox endpoint. When signing the request I always get an \"Invalid Signature\" response. It seems that coinbase requires the JSON message be base 64 encoded and sent as a part of the signature. I am fairly new to POST requests and have never signed a message before. Can someone please let me know what I am doing wrong. I have been stuck on this issue for a week so any input is much appreciated. </p>\n\n<p>The relevant part of my code is below</p>\n\n<pre><code>public void postOrder() throws InvalidKeyException, NoSuchAlgorithmException, CloneNotSupportedException, ClientProtocolException, IOException {\n\n    String message = \"{ \\n\"+\n               \" \\\"size\\\":\\\"1.00\\\", \\n\"+\n               \" \\\"price\\\":\\\"0.80\\\", \\n\"+\n               \" \\\"side\\\":\\\"buy\\\", \\n\"+\n               \" \\\"product_id\\\":\\\"BTC-USD\\\" \\n\"+\n               \"}\"; \n\n    JSONObject json = new JSONObject(message);\n    message = json.toString();\n    try\n    {\n            String timestamp= Instant.now().getEpochSecond()+\"\";\n            String accessSign = getAccess(timestamp,\"POST\",\"/orders\",message);\n            String apiKey = properties.getProperty(\"key\");\n            String passphrase = properties.getProperty(\"passphrase\");\n\n            URL url = new URL(\"https://api-public.sandbox.pro.coinbase.com/orders\");\n            HttpURLConnection connection = (HttpURLConnection)url.openConnection();\n            connection.setDoOutput(true); \n            connection.setRequestProperty(\"accept\", \"application/json\");\n            connection.setRequestProperty(\"content-type\", \"application/json; charset=UTF-8\");\n            connection.setRequestProperty(\"CB-ACCESS-KEY\", apiKey);\n            connection.setRequestProperty(\"CB-ACCESS-SIGN\", accessSign);\n            connection.setRequestProperty(\"CB-ACCESS-TIMESTAMP\", timestamp);\n            connection.setRequestProperty(\"CB-ACCESS-PASSPHRASE\", passphrase);\n            connection.setRequestProperty(\"User-Agent\", \"Java Client\"); \n\n          try { \n            connection.getOutputStream().write(message.getBytes(\"UTF-8\"));\n            OutputStream output = connection.getOutputStream(); \n            output.write(param.getBytes(\"UTF-8\"));\n          } catch (Exception e) {\n              System.out.println(e.getMessage());\n          }\n\n          String status = connection.getResponseMessage();\n            System.out.println(\"STATUS: \"+status);  \n\n     }catch(Exception e) {\n        System.out.println(e.getMessage());\n     }\n     return;\n}\n\n\n private String getAccess(String timestamp, String method, String path, String param) throws NoSuchAlgorithmException, InvalidKeyException, CloneNotSupportedException, IllegalStateException, UnsupportedEncodingException {\n\n        String secretKeyString = properties.getProperty(\"secret\");\n\n        String prehash = timestamp+method+path+param;\n        byte[] secretKeyDecoded = Base64.getDecoder().decode(secretKeyString);\n        SecretKey secretKey = new SecretKeySpec(secretKeyDecoded, \"HmacSHA256\");\n        Mac hmacSha256 = Mac.getInstance(\"HmacSHA256\");\n        hmacSha256.init(secretKey);\n\n        return Base64.getEncoder().encodeToString(hmacSha256.doFinal(prehash.getBytes()));\n }\n</code></pre>\n"},{"tags":["java","python","tensorflow"],"comments":[{"owner":{"account_id":8087667,"reputation":2652,"user_id":8831165,"display_name":"Frederik Bode"},"score":0,"creation_date":1588760015,"post_id":61632574,"comment_id":109019997,"body_markdown":"Your saving it as a `tf.keras` model, have you tried saving as `SavedModel` (`tf.saved_model.save(model, &quot;./dir&quot;)`)?","body":"Your saving it as a <code>tf.keras</code> model, have you tried saving as <code>SavedModel</code> (<code>tf.saved_model.save(model, &quot;.&#47;dir&quot;)</code>)?"},{"owner":{"account_id":10748740,"reputation":121,"user_id":7909052,"display_name":"toupieBleue"},"score":0,"creation_date":1588763159,"post_id":61632574,"comment_id":109021648,"body_markdown":"Thank you @FrederikBode but the `tf.keras.models.save_model()` already export in `SavedModel` format by default.","body":"Thank you @FrederikBode but the <code>tf.keras.models.save_model()</code> already export in <code>SavedModel</code> format by default."}],"answers":[{"tags":[],"owner":{"account_id":10748740,"reputation":121,"user_id":7909052,"display_name":"toupieBleue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588771030,"creation_date":1588771030,"answer_id":61636216,"question_id":61632574,"body_markdown":"I could see where the problem was coming from running ```saved_model_cli show --dir &#39;.&#39; --all``` in my exported model directory :\r\n\r\n```\r\nMetaGraphDef with tag-set: &#39;serve&#39; contains the following SignatureDefs:\r\n\r\nsignature_def[&#39;__saved_model_init_op&#39;]:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs[&#39;__saved_model_init_op&#39;] tensor_info:\r\n        dtype: DT_INVALID\r\n        shape: unknown_rank\r\n        name: NoOp\r\n  Method name is:\r\n\r\nsignature_def[&#39;serving_default&#39;]:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n    inputs[&#39;input_input&#39;] tensor_info:\r\n        dtype: DT_FLOAT\r\n        shape: (-1, 224, 224, 3)\r\n        name: serving_default_input_input:0\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs[&#39;output&#39;] tensor_info:\r\n        dtype: DT_FLOAT\r\n        shape: (-1, 5)\r\n        name: StatefulPartitionedCall:0\r\n  Method name is: tensorflow/serving/predict\r\n```\r\n\r\nUsing ```&quot;serving_default_input_input&quot;```, I could solve the problem.\r\n\r\n","title":"&quot;No Operation named [input] in the Graph&quot; when using in a java programm a model from hub.KerasLayer with python and tensorflow 2.1.0","body":"<p>I could see where the problem was coming from running <code>saved_model_cli show --dir '.' --all</code> in my exported model directory :</p>\n\n<pre><code>MetaGraphDef with tag-set: 'serve' contains the following SignatureDefs:\n\nsignature_def['__saved_model_init_op']:\n  The given SavedModel SignatureDef contains the following input(s):\n  The given SavedModel SignatureDef contains the following output(s):\n    outputs['__saved_model_init_op'] tensor_info:\n        dtype: DT_INVALID\n        shape: unknown_rank\n        name: NoOp\n  Method name is:\n\nsignature_def['serving_default']:\n  The given SavedModel SignatureDef contains the following input(s):\n    inputs['input_input'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 224, 224, 3)\n        name: serving_default_input_input:0\n  The given SavedModel SignatureDef contains the following output(s):\n    outputs['output'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 5)\n        name: StatefulPartitionedCall:0\n  Method name is: tensorflow/serving/predict\n</code></pre>\n\n<p>Using <code>\"serving_default_input_input\"</code>, I could solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":12482752,"reputation":1,"user_id":9086922,"display_name":"LannyXu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650267433,"creation_date":1650267433,"answer_id":71908916,"question_id":61632574,"body_markdown":"Thanks@toupieBleue &#39;s answer,I directed to my exported model directory and run the commond-line:` saved_model_cli show --dir &#39;.&#39; --all`,some information listed as follow:\r\n```\r\n    (base) pro@prodeMacBook-Pro my_model % saved_model_cli show --dir &#39;.&#39; --all\r\n\r\nMetaGraphDef with tag-set: &#39;serve&#39; contains the following SignatureDefs:\r\n\r\nsignature_def[&#39;__saved_model_init_op&#39;]:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs[&#39;__saved_model_init_op&#39;] tensor_info:\r\n        dtype: DT_INVALID\r\n        shape: unknown_rank\r\n        name: NoOp\r\n  Method name is: \r\n\r\nsignature_def[&#39;serving_default&#39;]:\r\n  The given SavedModel SignatureDef contains the following input(s):\r\n    inputs[&#39;lstm_input&#39;] tensor_info:\r\n        dtype: DT_FLOAT\r\n        shape: (-1, 7, 6)\r\n        name: serving_default_lstm_input:0\r\n  The given SavedModel SignatureDef contains the following output(s):\r\n    outputs[&#39;dense_1&#39;] tensor_info:\r\n        dtype: DT_FLOAT\r\n        shape: (-1, 1)\r\n        name: StatefulPartitionedCall:0\r\n  Method name is: tensorflow/serving/predict\r\n\r\n```\r\nUsing `serving_default_lstm_input:0`, I could solve the problem.\r\n","title":"&quot;No Operation named [input] in the Graph&quot; when using in a java programm a model from hub.KerasLayer with python and tensorflow 2.1.0","body":"<p>Thanks@toupieBleue 's answer,I directed to my exported model directory and run the commond-line:<code> saved_model_cli show --dir '.' --all</code>,some information listed as follow:</p>\n<pre><code>    (base) pro@prodeMacBook-Pro my_model % saved_model_cli show --dir '.' --all\n\nMetaGraphDef with tag-set: 'serve' contains the following SignatureDefs:\n\nsignature_def['__saved_model_init_op']:\n  The given SavedModel SignatureDef contains the following input(s):\n  The given SavedModel SignatureDef contains the following output(s):\n    outputs['__saved_model_init_op'] tensor_info:\n        dtype: DT_INVALID\n        shape: unknown_rank\n        name: NoOp\n  Method name is: \n\nsignature_def['serving_default']:\n  The given SavedModel SignatureDef contains the following input(s):\n    inputs['lstm_input'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 7, 6)\n        name: serving_default_lstm_input:0\n  The given SavedModel SignatureDef contains the following output(s):\n    outputs['dense_1'] tensor_info:\n        dtype: DT_FLOAT\n        shape: (-1, 1)\n        name: StatefulPartitionedCall:0\n  Method name is: tensorflow/serving/predict\n\n</code></pre>\n<p>Using <code>serving_default_lstm_input:0</code>, I could solve the problem.</p>\n"}],"owner":{"account_id":10748740,"reputation":121,"user_id":7909052,"display_name":"toupieBleue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61636216,"answer_count":2,"score":2,"last_activity_date":1650267433,"creation_date":1588759886,"question_id":61632574,"body_markdown":"I trained a mobilnet_v2 tensorflow model using tf 2.1.0 and hub.KerasLayer with python and exported it in pb format with tf.keras.models.save_model.\r\nI loaded it with java but I can&#39;t find a way to properly feed the graph. \r\n\r\nHere is the model building and exporting code :\r\n```\r\nfor image_batch, label_batch in train_generator:\r\n    break\r\n\r\nIMG_SHAPE = (IMG_SIZE, IMG_SIZE, 3)\r\n\r\nfeature_extractor_url = &quot;https://tfhub.dev/google/tf2-preview/mobilenet_v2/feature_vector/2&quot;\r\n\r\nfeature_extractor_layer = hub.KerasLayer(feature_extractor_url,\r\n                                         input_shape=IMG_SHAPE,\r\n                                         name=&#39;input&#39;)\r\n\r\nfeature_batch = feature_extractor_layer(image_batch)\r\nfeature_extractor_layer.trainable = False\r\n\r\nmodel = tf.keras.Sequential([\r\n  feature_extractor_layer,\r\n  layers.Dense(train_generator.num_classes, name=&#39;output&#39;)\r\n])\r\n\r\n...... training .......\r\n\r\ntf.keras.models.save_model(model,export_path)\r\n\r\n```\r\n\r\nHere is the way I try to feed it in java :\r\n```\r\nTensor inputImage = getTensorFromImage() // a method defined in other code and tested ok\r\nfinal Session s = new Session(graphFromPBLoadedModel);\r\nfinal Tensor result = s.runner().feed(&quot;input&quot;, inputImage )\r\n\t\t\t\t\t\t.fetch(&quot;output&quot;).run().get(0))\r\n```\r\n\r\nHere is the generated exception:\r\n```\r\njava.lang.IllegalArgumentException: No Operation named [input] in the Graph\r\n```\r\nI assume it&#39;s a signature problem during build or export but don&#39;t find the right way to do it...\r\n","title":"&quot;No Operation named [input] in the Graph&quot; when using in a java programm a model from hub.KerasLayer with python and tensorflow 2.1.0","body":"<p>I trained a mobilnet_v2 tensorflow model using tf 2.1.0 and hub.KerasLayer with python and exported it in pb format with tf.keras.models.save_model.\nI loaded it with java but I can't find a way to properly feed the graph. </p>\n\n<p>Here is the model building and exporting code :</p>\n\n<pre><code>for image_batch, label_batch in train_generator:\n    break\n\nIMG_SHAPE = (IMG_SIZE, IMG_SIZE, 3)\n\nfeature_extractor_url = \"https://tfhub.dev/google/tf2-preview/mobilenet_v2/feature_vector/2\"\n\nfeature_extractor_layer = hub.KerasLayer(feature_extractor_url,\n                                         input_shape=IMG_SHAPE,\n                                         name='input')\n\nfeature_batch = feature_extractor_layer(image_batch)\nfeature_extractor_layer.trainable = False\n\nmodel = tf.keras.Sequential([\n  feature_extractor_layer,\n  layers.Dense(train_generator.num_classes, name='output')\n])\n\n...... training .......\n\ntf.keras.models.save_model(model,export_path)\n\n</code></pre>\n\n<p>Here is the way I try to feed it in java :</p>\n\n<pre><code>Tensor inputImage = getTensorFromImage() // a method defined in other code and tested ok\nfinal Session s = new Session(graphFromPBLoadedModel);\nfinal Tensor result = s.runner().feed(\"input\", inputImage )\n                        .fetch(\"output\").run().get(0))\n</code></pre>\n\n<p>Here is the generated exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: No Operation named [input] in the Graph\n</code></pre>\n\n<p>I assume it's a signature problem during build or export but don't find the right way to do it...</p>\n"},{"tags":["java","tomcat","java-11","tomcat9"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":3,"creation_date":1650266504,"post_id":71908746,"comment_id":127067654,"body_markdown":"Does this answer your question? [why org.apache.coyote.http11.http11protocol is removed in tomcat 8](https://stackoverflow.com/questions/41512249/why-org-apache-coyote-http11-http11protocol-is-removed-in-tomcat-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41512249/why-org-apache-coyote-http11-http11protocol-is-removed-in-tomcat-8\">why org.apache.coyote.http11.http11protocol is removed in tomcat 8</a>"}],"owner":{"account_id":24983402,"reputation":11,"user_id":18845443,"display_name":"Robert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650267056,"creation_date":1650266324,"question_id":71908746,"body_markdown":"After upgrading Apache tomcat from 9.0.48 to 9.0.62 version My application started throwing following error :-\r\n\r\n    org.apache.catalina.startup.Catalina.stopServer Error stopping Catalina\r\n    \torg.apache.catalina.LifecycleException: Failed to stop component [StandardService[Catalina]]\r\n    \t\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267)\r\n    \t\tat org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:979)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\r\n    \t\tat org.apache.catalina.startup.Catalina.stopServer(Catalina.java:656)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \t\tat org.apache.catalina.startup.Bootstrap.stopServer(Bootstrap.java:391)\r\n    \t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:481)\r\n    \tCaused by: java.lang.NullPointerException\r\n    \t\tat org.apache.catalina.core.StandardService.stopInternal(StandardService.java:472)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\r\n    \t\t... 9 more\r\n    [main] org.apache.catalina.connector.Connector.&lt;init&gt; Protocol handler instantiation failed\r\n    \tjava.lang.ClassNotFoundException: org.apache.coyote.http11.Http11Protocol\r\n\r\n\r\nI&#39;ve checked the /conf/server.xml file also , it correctly uses the connector protocol\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n                   maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n                   clientAuth=&quot;false&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\r\n\r\nNot sure what is causing this error. ","title":"java.lang.ClassNotFoundException: org.apache.coyote.http11.Http11Protocol","body":"<p>After upgrading Apache tomcat from 9.0.48 to 9.0.62 version My application started throwing following error :-</p>\n<pre><code>org.apache.catalina.startup.Catalina.stopServer Error stopping Catalina\n    org.apache.catalina.LifecycleException: Failed to stop component [StandardService[Catalina]]\n        at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:267)\n        at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:979)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\n        at org.apache.catalina.startup.Catalina.stopServer(Catalina.java:656)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.apache.catalina.startup.Bootstrap.stopServer(Bootstrap.java:391)\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:481)\n    Caused by: java.lang.NullPointerException\n        at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:472)\n        at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:257)\n        ... 9 more\n[main] org.apache.catalina.connector.Connector.&lt;init&gt; Protocol handler instantiation failed\n    java.lang.ClassNotFoundException: org.apache.coyote.http11.Http11Protocol\n</code></pre>\n<p>I've checked the /conf/server.xml file also , it correctly uses the connector protocol</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n               clientAuth=&quot;false&quot; sslProtocol=&quot;TLSv1.2&quot; /&gt;\n</code></pre>\n<p>Not sure what is causing this error.</p>\n"},{"tags":["java","json","validation"],"comments":[{"owner":{"account_id":872407,"reputation":1970,"user_id":922954,"accept_rate":100,"display_name":"aishwarya"},"score":0,"creation_date":1334582339,"post_id":10174898,"comment_id":13055855,"body_markdown":"try parsing with gson ? validating through regex may not be a good idea","body":"try parsing with gson ? validating through regex may not be a good idea"},{"owner":{"account_id":1215623,"reputation":1938,"user_id":1183284,"display_name":"MartinK"},"score":2,"creation_date":1334582827,"post_id":10174898,"comment_id":13056075,"body_markdown":"http://www.json.org has links to very many parsers","body":"<a href=\"http://www.json.org\" rel=\"nofollow noreferrer\">json.org</a> has links to very many parsers"}],"answers":[{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1334582361,"creation_date":1334582361,"answer_id":10174934,"question_id":10174898,"body_markdown":"You could use the [.mayBeJSON(String str)][1] available in the [JSONUtils][2] library.\r\n\r\n\r\n  [1]: http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/util/JSONUtils.html#mayBeJSON%28java.lang.String%29\r\n  [2]: http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/util/JSONUtils.html","title":"How to check whether a given string is valid JSON in Java","body":"<p>You could use the <a href=\"http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/util/JSONUtils.html#mayBeJSON%28java.lang.String%29\" rel=\"noreferrer\">.mayBeJSON(String str)</a> available in the <a href=\"http://json-lib.sourceforge.net/apidocs/jdk15/net/sf/json/util/JSONUtils.html\" rel=\"noreferrer\">JSONUtils</a> library.</p>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":9,"up_vote_count":330,"is_accepted":true,"score":321,"last_activity_date":1635872430,"creation_date":1334582379,"answer_id":10174938,"question_id":10174898,"body_markdown":"A wild idea, try parsing it and catch the exception:\r\n\r\n    import org.json.*;\r\n\r\n    public boolean isJSONValid(String test) {\r\n\t\ttry {\r\n\t\t\tnew JSONObject(test);\r\n\t\t} catch (JSONException ex) {\r\n\t\t\t// edited, to include @Arthur&#39;s comment\r\n\t\t\t// e.g. in case JSONArray is valid as well...\r\n\t\t\ttry {\r\n\t\t\t\tnew JSONArray(test);\r\n\t\t\t} catch (JSONException ex1) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nThis code uses [org.json][1] JSON API implementation that is available [on github][2], [in maven][3] and partially [on Android][4].\r\n\r\n\r\n  [1]: https://www.json.org/\r\n  [2]: https://github.com/stleary/JSON-java\r\n  [3]: http://mvnrepository.com/artifact/org.json/json\r\n  [4]: https://developer.android.com/reference/org/json/package-summary.html","title":"How to check whether a given string is valid JSON in Java","body":"<p>A wild idea, try parsing it and catch the exception:</p>\n<pre><code>import org.json.*;\n\npublic boolean isJSONValid(String test) {\n    try {\n        new JSONObject(test);\n    } catch (JSONException ex) {\n        // edited, to include @Arthur's comment\n        // e.g. in case JSONArray is valid as well...\n        try {\n            new JSONArray(test);\n        } catch (JSONException ex1) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>This code uses <a href=\"https://www.json.org/\" rel=\"noreferrer\">org.json</a> JSON API implementation that is available <a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">on github</a>, <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">in maven</a> and partially <a href=\"https://developer.android.com/reference/org/json/package-summary.html\" rel=\"noreferrer\">on Android</a>.</p>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1334582429,"creation_date":1334582429,"answer_id":10174950,"question_id":10174898,"body_markdown":"Here you can find a [tool][1] that can validate a JSON file, or you could just deserialize your JSON file with any JSON library and if the operation is successful then it should be valid ([google-json][2] for example that will throw an exception if the input it is parsing is not valid JSON).\r\n\r\n\r\n  [1]: http://jsontools.berlios.de/\r\n  [2]: http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/index.html","title":"How to check whether a given string is valid JSON in Java","body":"<p>Here you can find a <a href=\"http://jsontools.berlios.de/\" rel=\"nofollow\">tool</a> that can validate a JSON file, or you could just deserialize your JSON file with any JSON library and if the operation is successful then it should be valid (<a href=\"http://google-gson.googlecode.com/svn/trunk/gson/docs/javadocs/index.html\" rel=\"nofollow\">google-json</a> for example that will throw an exception if the input it is parsing is not valid JSON).</p>\n"},{"tags":[],"owner":{"account_id":3206229,"reputation":3693,"user_id":2707254,"accept_rate":93,"display_name":"Jamsheer"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1502534126,"creation_date":1377173651,"answer_id":18380108,"question_id":10174898,"body_markdown":"    String jsonInput = &quot;{\\&quot;mob no\\&quot;:\\&quot;9846716175\\&quot;}&quot;;//Read input Here\r\n    JSONReader reader = new JSONValidatingReader();\r\n    Object result = reader.read(jsonInput);\r\n    System.out.println(&quot;Validation Success !!&quot;);\r\n\r\n\r\n  Please download **stringtree-json** library","title":"How to check whether a given string is valid JSON in Java","body":"<pre><code>String jsonInput = \"{\\\"mob no\\\":\\\"9846716175\\\"}\";//Read input Here\nJSONReader reader = new JSONValidatingReader();\nObject result = reader.read(jsonInput);\nSystem.out.println(\"Validation Success !!\");\n</code></pre>\n\n<p>Please download <strong>stringtree-json</strong> library</p>\n"},{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"down_vote_count":0,"up_vote_count":125,"is_accepted":false,"score":125,"last_activity_date":1585698685,"creation_date":1396606705,"answer_id":22859985,"question_id":10174898,"body_markdown":"**JACKSON Library**\r\n\r\nOne option would be to use [Jackson library][1]. First import the latest version (now is):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen, you can implement the [correct answer][3] as follows:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    public final class JSONUtils {\r\n      private JSONUtils(){}\r\n\r\n      public static boolean isJSONValid(String jsonInString ) {\r\n        try {\r\n           final ObjectMapper mapper = new ObjectMapper();\r\n           mapper.readTree(jsonInString);\r\n           return true;\r\n        } catch (IOException e) {\r\n           return false;\r\n        }\r\n      }\r\n    }\r\n\r\n----------\r\n\r\n**Google GSON option**\r\n\r\nAnother option is to use [Google Gson][2]. Import the dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAgain, you can implement the proposed solution as:\r\n\r\n    import com.google.gson.Gson;\r\n\r\n    public final class JSONUtils {\r\n      private static final Gson gson = new Gson();\r\n\r\n      private JSONUtils(){}\r\n\r\n      public static boolean isJSONValid(String jsonInString) {\r\n          try {\r\n              gson.fromJson(jsonInString, Object.class);\r\n              return true;\r\n          } catch(com.google.gson.JsonSyntaxException ex) { \r\n              return false;\r\n          }\r\n      }\r\n    }\r\n\r\nA simple test follows here:       \r\n\r\n    \r\n    //A valid JSON String to parse.\r\n    String validJsonString = &quot;{ \\&quot;developers\\&quot;: [{ \\&quot;firstName\\&quot;:\\&quot;Linus\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Torvalds\\&quot; }, &quot; +\r\n            &quot;{ \\&quot;firstName\\&quot;:\\&quot;John\\&quot; , \\&quot;lastName\\&quot;:\\&quot;von Neumann\\&quot; } ]}&quot;;\r\n\r\n    // Invalid String with a missing parenthesis at the beginning.\r\n    String invalidJsonString = &quot;\\&quot;developers\\&quot;: [ \\&quot;firstName\\&quot;:\\&quot;Linus\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Torvalds\\&quot; }, &quot; +\r\n            &quot;{ \\&quot;firstName\\&quot;:\\&quot;John\\&quot; , \\&quot;lastName\\&quot;:\\&quot;von Neumann\\&quot; } ]}&quot;;\r\n\r\n    boolean firstStringValid = JSONUtils.isJSONValid(validJsonString); //true\r\n    boolean secondStringValid = JSONUtils.isJSONValid(invalidJsonString); //false\r\n\r\nPlease, observe that there could be a &quot;minor&quot; issue due to trailing commas that will be fixed in release `3.0.0`.\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://code.google.com/p/google-gson/\r\n  [3]: https://stackoverflow.com/a/10174938/1339429","title":"How to check whether a given string is valid JSON in Java","body":"<p><strong>JACKSON Library</strong></p>\n\n<p>One option would be to use <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson library</a>. First import the latest version (now is):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then, you can implement the <a href=\"https://stackoverflow.com/a/10174938/1339429\">correct answer</a> as follows:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\npublic final class JSONUtils {\n  private JSONUtils(){}\n\n  public static boolean isJSONValid(String jsonInString ) {\n    try {\n       final ObjectMapper mapper = new ObjectMapper();\n       mapper.readTree(jsonInString);\n       return true;\n    } catch (IOException e) {\n       return false;\n    }\n  }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Google GSON option</strong></p>\n\n<p>Another option is to use <a href=\"https://code.google.com/p/google-gson/\" rel=\"noreferrer\">Google Gson</a>. Import the dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Again, you can implement the proposed solution as:</p>\n\n<pre><code>import com.google.gson.Gson;\n\npublic final class JSONUtils {\n  private static final Gson gson = new Gson();\n\n  private JSONUtils(){}\n\n  public static boolean isJSONValid(String jsonInString) {\n      try {\n          gson.fromJson(jsonInString, Object.class);\n          return true;\n      } catch(com.google.gson.JsonSyntaxException ex) { \n          return false;\n      }\n  }\n}\n</code></pre>\n\n<p>A simple test follows here:       </p>\n\n<pre><code>//A valid JSON String to parse.\nString validJsonString = \"{ \\\"developers\\\": [{ \\\"firstName\\\":\\\"Linus\\\" , \\\"lastName\\\":\\\"Torvalds\\\" }, \" +\n        \"{ \\\"firstName\\\":\\\"John\\\" , \\\"lastName\\\":\\\"von Neumann\\\" } ]}\";\n\n// Invalid String with a missing parenthesis at the beginning.\nString invalidJsonString = \"\\\"developers\\\": [ \\\"firstName\\\":\\\"Linus\\\" , \\\"lastName\\\":\\\"Torvalds\\\" }, \" +\n        \"{ \\\"firstName\\\":\\\"John\\\" , \\\"lastName\\\":\\\"von Neumann\\\" } ]}\";\n\nboolean firstStringValid = JSONUtils.isJSONValid(validJsonString); //true\nboolean secondStringValid = JSONUtils.isJSONValid(invalidJsonString); //false\n</code></pre>\n\n<p>Please, observe that there could be a \"minor\" issue due to trailing commas that will be fixed in release <code>3.0.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":4447181,"reputation":1,"user_id":3620159,"display_name":"Atif Mehar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399635437,"creation_date":1399634209,"answer_id":23563245,"question_id":10174898,"body_markdown":"I have found a very simple solution for it. \r\n\r\nPlease first install this library `net.sf.json-lib` for it.\r\n\r\n   \r\n\r\n        import net.sf.json.JSONException;\r\n        \r\n        import net.sf.json.JSONSerializer;\r\n    \r\n        private static boolean isValidJson(String jsonStr) {\r\n            boolean isValid = false;\r\n            try {\r\n                JSONSerializer.toJSON(jsonStr);\r\n                isValid = true;\r\n            } catch (JSONException je) {\r\n                isValid = false;\r\n            }\r\n            return isValid;\r\n        }\r\n    \r\n        public static void testJson() {\r\n            String vjson = &quot;{\\&quot;employees\\&quot;: [{ \\&quot;firstName\\&quot;:\\&quot;John\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Doe\\&quot; },{ \\&quot;firstName\\&quot;:\\&quot;Anna\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Smith\\&quot; },{ \\&quot;firstName\\&quot;:\\&quot;Peter\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Jones\\&quot; }]}&quot;;\r\n            String ivjson = &quot;{\\&quot;employees\\&quot;: [{ \\&quot;firstName\\&quot;:\\&quot;John\\&quot; ,, \\&quot;lastName\\&quot;:\\&quot;Doe\\&quot; },{ \\&quot;firstName\\&quot;:\\&quot;Anna\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Smith\\&quot; },{ \\&quot;firstName\\&quot;:\\&quot;Peter\\&quot; , \\&quot;lastName\\&quot;:\\&quot;Jones\\&quot; }]}&quot;;\r\n            System.out.println(&quot;&quot;+isValidJson(vjson)); // true\r\n            System.out.println(&quot;&quot;+isValidJson(ivjson)); // false\r\n        }\r\n\r\nDone. Enjoy\r\n\r\n\r\n\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<p>I have found a very simple solution for it. </p>\n\n<p>Please first install this library <code>net.sf.json-lib</code> for it.</p>\n\n<pre><code>    import net.sf.json.JSONException;\n\n    import net.sf.json.JSONSerializer;\n\n    private static boolean isValidJson(String jsonStr) {\n        boolean isValid = false;\n        try {\n            JSONSerializer.toJSON(jsonStr);\n            isValid = true;\n        } catch (JSONException je) {\n            isValid = false;\n        }\n        return isValid;\n    }\n\n    public static void testJson() {\n        String vjson = \"{\\\"employees\\\": [{ \\\"firstName\\\":\\\"John\\\" , \\\"lastName\\\":\\\"Doe\\\" },{ \\\"firstName\\\":\\\"Anna\\\" , \\\"lastName\\\":\\\"Smith\\\" },{ \\\"firstName\\\":\\\"Peter\\\" , \\\"lastName\\\":\\\"Jones\\\" }]}\";\n        String ivjson = \"{\\\"employees\\\": [{ \\\"firstName\\\":\\\"John\\\" ,, \\\"lastName\\\":\\\"Doe\\\" },{ \\\"firstName\\\":\\\"Anna\\\" , \\\"lastName\\\":\\\"Smith\\\" },{ \\\"firstName\\\":\\\"Peter\\\" , \\\"lastName\\\":\\\"Jones\\\" }]}\";\n        System.out.println(\"\"+isValidJson(vjson)); // true\n        System.out.println(\"\"+isValidJson(ivjson)); // false\n    }\n</code></pre>\n\n<p>Done. Enjoy</p>\n"},{"tags":[],"owner":{"account_id":251102,"reputation":2287,"user_id":528246,"display_name":"Nicholas Daley-Okoye"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413199444,"creation_date":1413199444,"answer_id":26338848,"question_id":10174898,"body_markdown":"It depends on what you are trying to prove with your validation.\r\nCertainly parsing the json as others have suggested is better than using regexes, because the grammar of json is more complicated than can be represented with just regexes.\r\n\r\nIf the json will only ever be parsed by your java code, then use the same parser to validate it.\r\n\r\nBut just parsing won&#39;t necessarily tell you if it will be accepted in other environments.  e.g. \r\n\r\n - many parsers ignore trailing commas in an object or array, but old versions of IE can fail when they hit a trailing comma.  \r\n - Other parsers may accept a trailing comma, but add an undefined/null entry after it.\r\n - Some parsers may allow unquoted property names.  \r\n - Some parsers may react differently to non-ASCII characters in strings.\r\n\r\nIf your validation needs to be very thorough, you could:\r\n\r\n - try different parsers until you find one that fails on all the corner cases I mentioned above\r\n - or you could probably run jsonlint using javax.script.*, \r\n   - http://npmjs.org/package/jsonlint\r\n - or combine using a parser with running jshint using javax.script.*.\r\n   - https://www.npmjs.org/package/jshint\r\n   - https://github.com/webjars/jshint\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<p>It depends on what you are trying to prove with your validation.\nCertainly parsing the json as others have suggested is better than using regexes, because the grammar of json is more complicated than can be represented with just regexes.</p>\n\n<p>If the json will only ever be parsed by your java code, then use the same parser to validate it.</p>\n\n<p>But just parsing won't necessarily tell you if it will be accepted in other environments.  e.g. </p>\n\n<ul>\n<li>many parsers ignore trailing commas in an object or array, but old versions of IE can fail when they hit a trailing comma.  </li>\n<li>Other parsers may accept a trailing comma, but add an undefined/null entry after it.</li>\n<li>Some parsers may allow unquoted property names.  </li>\n<li>Some parsers may react differently to non-ASCII characters in strings.</li>\n</ul>\n\n<p>If your validation needs to be very thorough, you could:</p>\n\n<ul>\n<li>try different parsers until you find one that fails on all the corner cases I mentioned above</li>\n<li>or you could probably run jsonlint using javax.script.*, \n<ul>\n<li><a href=\"http://npmjs.org/package/jsonlint\" rel=\"noreferrer\">http://npmjs.org/package/jsonlint</a></li>\n</ul></li>\n<li>or combine using a parser with running jshint using javax.script.*.\n<ul>\n<li><a href=\"https://www.npmjs.org/package/jshint\" rel=\"noreferrer\">https://www.npmjs.org/package/jshint</a></li>\n<li><a href=\"https://github.com/webjars/jshint\" rel=\"noreferrer\">https://github.com/webjars/jshint</a></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2106215,"reputation":161,"user_id":1872497,"display_name":"Cristian"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1433836088,"creation_date":1433836088,"answer_id":30725993,"question_id":10174898,"body_markdown":"With [Google Gson][1] you can use JsonParser:\r\n\r\n    \r\n    import com.google.gson.JsonParser;\r\n    \r\n    JsonParser parser = new JsonParser();\r\n    parser.parse(json_string); // throws JsonSyntaxException\r\n\r\n  [1]: https://github.com/google/gson\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<p>With <a href=\"https://github.com/google/gson\">Google Gson</a> you can use JsonParser:</p>\n\n<pre><code>import com.google.gson.JsonParser;\n\nJsonParser parser = new JsonParser();\nparser.parse(json_string); // throws JsonSyntaxException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2165742,"reputation":1826,"user_id":3966933,"accept_rate":56,"display_name":"iec2011007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470907973,"creation_date":1470907973,"answer_id":38892506,"question_id":10174898,"body_markdown":"The answers are partially correct. I also faced the same problem. Parsing the json and checking for exception seems the usual way but the solution fails for the input json something like\r\n\r\n**{&quot;outputValueSchemaFormat&quot;: &quot;&quot;,&quot;sortByIndexInRecord&quot;: 0,&quot;sortOrder&quot;:847874874387209&quot;descending&quot;}kajhfsadkjh**\r\n\r\nAs you can see the json is invalid as there are trailing garbage characters. But if you try to parse the above json using jackson or gson then you will get the parsed map of the valid json and garbage trailing characters are ignored. Which is not the required solution when you are using the parser for checking json validity. \r\n\r\nFor solution to this problem see [here][1]. \r\n\r\nPS: This question was asked and answered by me. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38890526/trailing-characters-getting-parsed-in-json/38892378#38892378","title":"How to check whether a given string is valid JSON in Java","body":"<p>The answers are partially correct. I also faced the same problem. Parsing the json and checking for exception seems the usual way but the solution fails for the input json something like</p>\n\n<p><strong>{\"outputValueSchemaFormat\": \"\",\"sortByIndexInRecord\": 0,\"sortOrder\":847874874387209\"descending\"}kajhfsadkjh</strong></p>\n\n<p>As you can see the json is invalid as there are trailing garbage characters. But if you try to parse the above json using jackson or gson then you will get the parsed map of the valid json and garbage trailing characters are ignored. Which is not the required solution when you are using the parser for checking json validity. </p>\n\n<p>For solution to this problem see <a href=\"https://stackoverflow.com/questions/38890526/trailing-characters-getting-parsed-in-json/38892378#38892378\">here</a>. </p>\n\n<p>PS: This question was asked and answered by me. </p>\n"},{"tags":[],"owner":{"account_id":10378528,"reputation":900,"user_id":7654030,"accept_rate":50,"display_name":"Austin_Anderson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496242715,"creation_date":1496242715,"answer_id":44288158,"question_id":10174898,"body_markdown":"\r\n**A bit about parsing:**\r\n\r\nJson, and in fact all languages, use a **grammar** which is a set of rules that can be used as substitutions. in order to parse json, you need to basically work out those substitutions in reverse\r\n\r\nJson is a **context free grammar**, meaning you can have infinitely nested objects/arrays and the json would still be valid. regex only handles **regular grammars** (hence the &#39;reg&#39; in the name), which is a subset of context free grammars that doesn&#39;t allow infinite nesting, so it&#39;s impossible to use only regex to parse all valid json. you could use a complicated set of regex&#39;s and loops with the assumption that nobody will nest past say, 100 levels deep, but it would still be very difficult.\r\n\r\n**if you ARE up for writing your own parser**&lt;br/&gt;\r\nyou could make a recursive descent parser after you work out the grammar","title":"How to check whether a given string is valid JSON in Java","body":"<p><strong>A bit about parsing:</strong></p>\n\n<p>Json, and in fact all languages, use a <strong>grammar</strong> which is a set of rules that can be used as substitutions. in order to parse json, you need to basically work out those substitutions in reverse</p>\n\n<p>Json is a <strong>context free grammar</strong>, meaning you can have infinitely nested objects/arrays and the json would still be valid. regex only handles <strong>regular grammars</strong> (hence the 'reg' in the name), which is a subset of context free grammars that doesn't allow infinite nesting, so it's impossible to use only regex to parse all valid json. you could use a complicated set of regex's and loops with the assumption that nobody will nest past say, 100 levels deep, but it would still be very difficult.</p>\n\n<p><strong>if you ARE up for writing your own parser</strong><br/>\nyou could make a recursive descent parser after you work out the grammar</p>\n"},{"tags":[],"owner":{"account_id":4530585,"reputation":31,"user_id":3681192,"display_name":"Baah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522834304,"creation_date":1522834304,"answer_id":49647477,"question_id":10174898,"body_markdown":"Using Playframework 2.6, the Json library found in the java api can also be used to simply parse the string. The string can either be a json element of json array. Since the returned value is not of importance here we just catch the parse error to determine that the string is a correct json string or not.\r\n\r\n        import play.libs.Json;\r\n\r\n        public static Boolean isValidJson(String value) {\r\n            try{\r\n                Json.parse(value);\r\n                return true;\r\n            } catch(final Exception e){\r\n                return false;\r\n            }\r\n\t    }\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<p>Using Playframework 2.6, the Json library found in the java api can also be used to simply parse the string. The string can either be a json element of json array. Since the returned value is not of importance here we just catch the parse error to determine that the string is a correct json string or not.</p>\n\n<pre><code>    import play.libs.Json;\n\n    public static Boolean isValidJson(String value) {\n        try{\n            Json.parse(value);\n            return true;\n        } catch(final Exception e){\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1017385,"reputation":193,"user_id":1028650,"accept_rate":20,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537481108,"creation_date":1537481108,"answer_id":52433972,"question_id":10174898,"body_markdown":"    import static net.minidev.json.JSONValue.isValidJson;\r\n\r\n\r\nand then call this function passing in your JSON String :)","title":"How to check whether a given string is valid JSON in Java","body":"<pre><code>import static net.minidev.json.JSONValue.isValidJson;\n</code></pre>\n\n<p>and then call this function passing in your JSON String :)</p>\n"},{"tags":[],"owner":{"account_id":6076511,"reputation":61,"user_id":4743715,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545089436,"creation_date":1545089436,"answer_id":53824439,"question_id":10174898,"body_markdown":"    public static boolean isJSONValid(String test) {\r\n        try {\r\n            isValidJSON(test);\r\n            JsonFactory factory = new JsonFactory();\r\n            JsonParser parser = factory.createParser(test);\r\n            while (!parser.isClosed()) {\r\n                parser.nextToken();\r\n            }\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;exception: &quot;, e);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static void isValidJSON(String test) {\r\n        try {\r\n            new JSONObject(test);\r\n        } catch (JSONException ex) {\r\n            try {\r\n                LOGGER.error(&quot;exception: &quot;, ex);\r\n                new JSONArray(test);\r\n            } catch (JSONException ex1) {\r\n                LOGGER.error(&quot;exception: &quot;, ex1);\r\n                throw new Exception(&quot;Invalid JSON.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAbove solution covers both the scenarios: \r\n\r\n- duplicate key\r\n- mismatched quotes or missing parentheses etc.\r\n\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<pre><code>public static boolean isJSONValid(String test) {\n    try {\n        isValidJSON(test);\n        JsonFactory factory = new JsonFactory();\n        JsonParser parser = factory.createParser(test);\n        while (!parser.isClosed()) {\n            parser.nextToken();\n        }\n    } catch (Exception e) {\n        LOGGER.error(\"exception: \", e);\n        return false;\n    }\n    return true;\n}\n\nprivate static void isValidJSON(String test) {\n    try {\n        new JSONObject(test);\n    } catch (JSONException ex) {\n        try {\n            LOGGER.error(\"exception: \", ex);\n            new JSONArray(test);\n        } catch (JSONException ex1) {\n            LOGGER.error(\"exception: \", ex1);\n            throw new Exception(\"Invalid JSON.\");\n        }\n    }\n}\n</code></pre>\n\n<p>Above solution covers both the scenarios: </p>\n\n<ul>\n<li>duplicate key</li>\n<li>mismatched quotes or missing parentheses etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5063081,"reputation":1381,"user_id":4064011,"display_name":"Domenico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549018972,"creation_date":1549018972,"answer_id":54478167,"question_id":10174898,"body_markdown":"IMHO, the most elegant way is using the ***Java API for JSON Processing*** (JSON-P), one of the  JavaEE standards that conforms to the **JSR 374**.\r\n\r\n    try(StringReader sr = new StringReader(jsonStrn)) {\r\n        Json.createReader(sr).readObject();\r\n    } catch(JsonParsingException e) {\r\n        System.out.println(&quot;The given string is not a valid json&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\nUsing Maven, add the dependency on JSON-P:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nVisit [the JSON-P official page][1] for more informations.\r\n\r\n\r\n  [1]: https://javaee.github.io/jsonp/","title":"How to check whether a given string is valid JSON in Java","body":"<p>IMHO, the most elegant way is using the <strong><em>Java API for JSON Processing</em></strong> (JSON-P), one of the  JavaEE standards that conforms to the <strong>JSR 374</strong>.</p>\n\n<pre><code>try(StringReader sr = new StringReader(jsonStrn)) {\n    Json.createReader(sr).readObject();\n} catch(JsonParsingException e) {\n    System.out.println(\"The given string is not a valid json\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Using Maven, add the dependency on JSON-P:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Visit <a href=\"https://javaee.github.io/jsonp/\" rel=\"nofollow noreferrer\">the JSON-P official page</a> for more informations.</p>\n"},{"tags":[],"owner":{"account_id":1155227,"reputation":22275,"user_id":1136023,"accept_rate":59,"display_name":"Bhavesh Hirpara"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553689554,"creation_date":1553689554,"answer_id":55377171,"question_id":10174898,"body_markdown":"Check whether a given string is valid JSON in **Kotlin**. I Converted answer of [MByD][1] Java to Kotlin\r\n\r\n\r\n    fun isJSONValid(test: String): Boolean {\r\n        try {\r\n            JSONObject(test);\r\n        } catch (ex: JSONException) {\r\n            try {\r\n                JSONArray(test);\r\n            } catch (ex1: JSONException) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10174938/1136023","title":"How to check whether a given string is valid JSON in Java","body":"<p>Check whether a given string is valid JSON in <strong>Kotlin</strong>. I Converted answer of <a href=\"https://stackoverflow.com/a/10174938/1136023\">MByD</a> Java to Kotlin</p>\n\n<pre><code>fun isJSONValid(test: String): Boolean {\n    try {\n        JSONObject(test);\n    } catch (ex: JSONException) {\n        try {\n            JSONArray(test);\n        } catch (ex1: JSONException) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1562323428,"creation_date":1562323002,"answer_id":56901432,"question_id":10174898,"body_markdown":"Here is a working example for strict json parsing with [gson][1] library:\r\n\r\n    public static JsonElement parseStrict(String json) {\r\n        // throws on almost any non-valid json\r\n        return new Gson().getAdapter(JsonElement.class).fromJson(json); \r\n    }\r\n\r\nSee also my other detailed answer in [How to check if JSON is valid in Java using GSON](https://stackoverflow.com/questions/43233898/how-to-check-if-json-is-valid-in-java-using-gson/47890960#47890960) with more info and extended test case with various non-valid examples.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"How to check whether a given string is valid JSON in Java","body":"<p>Here is a working example for strict json parsing with <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> library:</p>\n\n<pre><code>public static JsonElement parseStrict(String json) {\n    // throws on almost any non-valid json\n    return new Gson().getAdapter(JsonElement.class).fromJson(json); \n}\n</code></pre>\n\n<p>See also my other detailed answer in <a href=\"https://stackoverflow.com/questions/43233898/how-to-check-if-json-is-valid-in-java-using-gson/47890960#47890960\">How to check if JSON is valid in Java using GSON</a> with more info and extended test case with various non-valid examples.</p>\n"},{"tags":[],"owner":{"account_id":151761,"reputation":4696,"user_id":365837,"accept_rate":85,"display_name":"Rok Povsic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565261833,"creation_date":1565261833,"answer_id":57410991,"question_id":10174898,"body_markdown":"A solution using the `javax.json` library:\r\n\r\n    import javax.json.*;\r\n\r\n    public boolean isTextJson(String text) {\r\n        try {\r\n            Json.createReader(new StringReader(text)).readObject();\r\n        } catch (JsonException ex) {\r\n            try {\r\n                Json.createReader(new StringReader(text)).readArray();\r\n            } catch (JsonException ex2) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n","title":"How to check whether a given string is valid JSON in Java","body":"<p>A solution using the <code>javax.json</code> library:</p>\n\n<pre><code>import javax.json.*;\n\npublic boolean isTextJson(String text) {\n    try {\n        Json.createReader(new StringReader(text)).readObject();\n    } catch (JsonException ex) {\n        try {\n            Json.createReader(new StringReader(text)).readArray();\n        } catch (JsonException ex2) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6369185,"reputation":591,"user_id":4942198,"display_name":"Orden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574680287,"creation_date":1574680287,"answer_id":59030453,"question_id":10174898,"body_markdown":"As you can see, there is a lot of solutions, they mainly parse the JSON  to check it and at the end you will have to parse it to be sure.\r\n\r\nBut, depending on the context, you may improve the performances with a pre-check.\r\n\r\nWhat I do when I call APIs, is just checking that the first character is &#39;{&#39; and the last is &#39;}&#39;. If it&#39;s not the case, I don&#39;t bother creating a parser. ","title":"How to check whether a given string is valid JSON in Java","body":"<p>As you can see, there is a lot of solutions, they mainly parse the JSON  to check it and at the end you will have to parse it to be sure.</p>\n\n<p>But, depending on the context, you may improve the performances with a pre-check.</p>\n\n<p>What I do when I call APIs, is just checking that the first character is '{' and the last is '}'. If it's not the case, I don't bother creating a parser. </p>\n"},{"tags":[],"owner":{"account_id":7038793,"reputation":1132,"user_id":5391891,"accept_rate":59,"display_name":"dicle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613135297,"creation_date":1613135297,"answer_id":66172453,"question_id":10174898,"body_markdown":"You can try below code, worked for me:\r\n\r\n     import org.json.JSONObject;\r\n     import org.json.JSONTokener;\r\n\r\n     public static JSONObject parseJsonObject(String substring)\r\n     {\r\n      return new JSONObject(new JSONTokener(substring));\r\n     }","title":"How to check whether a given string is valid JSON in Java","body":"<p>You can try below code, worked for me:</p>\n<pre><code> import org.json.JSONObject;\n import org.json.JSONTokener;\n\n public static JSONObject parseJsonObject(String substring)\n {\n  return new JSONObject(new JSONTokener(substring));\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15519030,"reputation":21,"user_id":11195707,"display_name":"Yi Rong Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650266793,"creation_date":1650266793,"answer_id":71908821,"question_id":10174898,"body_markdown":"in Gson Version\r\n\r\n```java\r\ntry {\r\n    String errorBody = response.errorBody().string();\r\n    MyErrorResponse errorResponse = new Gson().fromJson(errorBody, MyErrorResponse.class);\r\n} catch (JsonSyntaxException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"How to check whether a given string is valid JSON in Java","body":"<p>in Gson Version</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    String errorBody = response.errorBody().string();\n    MyErrorResponse errorResponse = new Gson().fromJson(errorBody, MyErrorResponse.class);\n} catch (JsonSyntaxException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":1135924,"reputation":6755,"user_id":1120987,"accept_rate":40,"display_name":"sappu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338297,"favorite_count":0,"down_vote_count":0,"up_vote_count":206,"accepted_answer_id":10174938,"answer_count":20,"score":206,"last_activity_date":1650266793,"creation_date":1334582180,"question_id":10174898,"body_markdown":"How do I validate a JSON string in Java? Or could I parse it using regular expressions?","title":"How to check whether a given string is valid JSON in Java","body":"<p>How do I validate a JSON string in Java? Or could I parse it using regular expressions?</p>\n"},{"tags":["java","mockito","java-17"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1644017979,"post_id":70993863,"comment_id":125502541,"body_markdown":"_&quot;please report to the mailing list&quot;_ -- I think you might get better help over there.","body":"<i>&quot;please report to the mailing list&quot;</i> -- I think you might get better help over there."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1644018314,"post_id":70993863,"comment_id":125502605,"body_markdown":"What are you trying to mock, exactly? If you need an exact number, then rewrite the tests... Don&#39;t pass around an instance of `Random`","body":"What are you trying to mock, exactly? If you need an exact number, then rewrite the tests... Don&#39;t pass around an instance of <code>Random</code>"},{"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"score":1,"creation_date":1644018517,"post_id":70993863,"comment_id":125502645,"body_markdown":"Maybe you can check this [conversation](https://github.com/apache/spark/pull/34355).","body":"Maybe you can check this <a href=\"https://github.com/apache/spark/pull/34355\" rel=\"nofollow noreferrer\">conversation</a>."}],"answers":[{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1644337212,"creation_date":1644018601,"answer_id":70994129,"question_id":70993863,"body_markdown":"The issue here is mockito (via ByteBuddy) is trying to use an inaccessible type at runtime (via reflection). From Java 9 onwards, not all modules are accessible unless you explicitly export/open them. \r\n\r\nAs this is a runtime issue, you can add `--add-opens` as a JVM arg/CLI option to make this type accessible.\r\n\r\nAs per the Oracle guide [here][1], `--add-opens` does the following. \r\n\r\n\r\n&gt; If you have to allow code on the classpath to do deep reflection to\r\n&gt; access nonpublic members, then use the --add-opens runtime option.\r\n\r\nIf you want to export internal types available in compile time as well, you can use `--add-exports`.\r\n\r\nTo solve your specific issue; use the following.\r\n\r\n`--add-opens java.base/jdk.internal.util.random=ALL-UNNAMED`. \r\n\r\n`ALL-UNNAMED` means, a specified package is available in the entire codebase.\r\n\r\nHowever, mocking types that don&#39;t belong to you is not a good practice. Maybe, you can simplify this if there&#39;s an alternative.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781","title":"Mockito can not mock Random in Java 17","body":"<p>The issue here is mockito (via ByteBuddy) is trying to use an inaccessible type at runtime (via reflection). From Java 9 onwards, not all modules are accessible unless you explicitly export/open them.</p>\n<p>As this is a runtime issue, you can add <code>--add-opens</code> as a JVM arg/CLI option to make this type accessible.</p>\n<p>As per the Oracle guide <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-12F945EB-71D6-46AF-8C3D-D354FD0B1781\" rel=\"nofollow noreferrer\">here</a>, <code>--add-opens</code> does the following.</p>\n<blockquote>\n<p>If you have to allow code on the classpath to do deep reflection to\naccess nonpublic members, then use the --add-opens runtime option.</p>\n</blockquote>\n<p>If you want to export internal types available in compile time as well, you can use <code>--add-exports</code>.</p>\n<p>To solve your specific issue; use the following.</p>\n<p><code>--add-opens java.base/jdk.internal.util.random=ALL-UNNAMED</code>.</p>\n<p><code>ALL-UNNAMED</code> means, a specified package is available in the entire codebase.</p>\n<p>However, mocking types that don't belong to you is not a good practice. Maybe, you can simplify this if there's an alternative.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644019007,"creation_date":1644019007,"answer_id":70994171,"question_id":70993863,"body_markdown":"Needing to mock Random indicates that your code hasn&#39;t been written to be testable. Do something like this:\r\n```java\r\n   interface RandomSource {\r\n        /**\r\n         * Return a random number that matches the criteria you need\r\n         */\r\n        int nextNumber();\r\n    }\r\n\r\n    @Bean\r\n    class DefaultRandomSource implements RandomSource {\r\n        private final Random r = new Random();\r\n        public int nextNumber() {\r\n            return r.nextInt(2);\r\n        }\r\n    }\r\n    \r\n    @Bean\r\n    class ClassToTest {\r\n        private final RandomSource randomSource;\r\n\r\n        @Autowired\r\n        public ClassToTest(RandomSource randomSource) {\r\n            this.randomSource = randomSource;\r\n        }\r\n\r\n        public String doSomething() {\r\n            return randomSource.nextNumber() == 0 ? &quot;Foo&quot; : &quot;Bar&quot;;\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    void testDoSomething() {\r\n        RandomSource r = mock(RandomSource.class);\r\n        when(r.nextNumber()).thenReturn(0);\r\n        ClassToTest classToTest = new ClassToTest(r);\r\n        assertEquals(&quot;Foo&quot;, classToTest.doSomething());\r\n    }\r\n```","title":"Mockito can not mock Random in Java 17","body":"<p>Needing to mock Random indicates that your code hasn't been written to be testable. Do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   interface RandomSource {\n        /**\n         * Return a random number that matches the criteria you need\n         */\n        int nextNumber();\n    }\n\n    @Bean\n    class DefaultRandomSource implements RandomSource {\n        private final Random r = new Random();\n        public int nextNumber() {\n            return r.nextInt(2);\n        }\n    }\n    \n    @Bean\n    class ClassToTest {\n        private final RandomSource randomSource;\n\n        @Autowired\n        public ClassToTest(RandomSource randomSource) {\n            this.randomSource = randomSource;\n        }\n\n        public String doSomething() {\n            return randomSource.nextNumber() == 0 ? &quot;Foo&quot; : &quot;Bar&quot;;\n        }\n    }\n    \n    @Test\n    void testDoSomething() {\n        RandomSource r = mock(RandomSource.class);\n        when(r.nextNumber()).thenReturn(0);\n        ClassToTest classToTest = new ClassToTest(r);\n        assertEquals(&quot;Foo&quot;, classToTest.doSomething());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87760,"reputation":14178,"user_id":243203,"accept_rate":77,"display_name":"Kurru"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1644019288,"creation_date":1644019288,"answer_id":70994194,"question_id":70993863,"body_markdown":"This particular issue was also resolvable using:\r\n\r\n    mock(SecureRandom.class, withSettings().withoutAnnotations())","title":"Mockito can not mock Random in Java 17","body":"<p>This particular issue was also resolvable using:</p>\n<pre><code>mock(SecureRandom.class, withSettings().withoutAnnotations())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24983553,"reputation":41,"user_id":18845580,"display_name":"user18845580"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650266739,"creation_date":1650266739,"answer_id":71908810,"question_id":70993863,"body_markdown":"upgrade mokito to 4.4.0 it worked","title":"Mockito can not mock Random in Java 17","body":"<p>upgrade mokito to 4.4.0 it worked</p>\n"}],"owner":{"account_id":87760,"reputation":14178,"user_id":243203,"accept_rate":77,"display_name":"Kurru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19179,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70994129,"answer_count":4,"score":7,"last_activity_date":1650266739,"creation_date":1644016355,"question_id":70993863,"body_markdown":"Trying to update my project from Java 11 to Java 17 and got an unexpected error from Mockito in a specific test.\r\n\r\n\r\n```\r\nmock(java.util.Random.class);\r\n```\r\n\r\nThrows\r\n\r\n    Feb 04, 2022 3:07:01 PM com.google.inject.internal.MessageProcessor visit\r\n    INFO: An exception was caught and reported. Message: java.lang.IllegalAccessException: class \r\n        net.bytebuddy.description.annotation.AnnotationDescription$ForLoadedAnnotation cannot access interface\r\n        jdk.internal.util.random.RandomSupport$RandomGeneratorProperties (in module java.base) \r\n        because module java.base does not export jdk.internal.util.random to unnamed module @2f54a33d\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Mockito cannot mock this class: class java.util.Random.\r\n    \r\n    Mockito can only mock non-private &amp; non-final classes.\r\n    If you&#39;re not sure why you&#39;re getting this error, please report to the mailing list.\r\n\r\n\r\n    Java               : 17\r\n    JVM vendor name    : Oracle Corporation\r\n    JVM vendor version : 17.0.2+8-86\r\n    JVM name           : OpenJDK 64-Bit Server VM\r\n    JVM version        : 17.0.2+8-86\r\n    JVM info           : mixed mode, sharing\r\n    OS name            : Mac OS X\r\n    OS version         : 12.1\r\n\r\nNot sure why Mockito is failing on this test.","title":"Mockito can not mock Random in Java 17","body":"<p>Trying to update my project from Java 11 to Java 17 and got an unexpected error from Mockito in a specific test.</p>\n<pre><code>mock(java.util.Random.class);\n</code></pre>\n<p>Throws</p>\n<pre><code>Feb 04, 2022 3:07:01 PM com.google.inject.internal.MessageProcessor visit\nINFO: An exception was caught and reported. Message: java.lang.IllegalAccessException: class \n    net.bytebuddy.description.annotation.AnnotationDescription$ForLoadedAnnotation cannot access interface\n    jdk.internal.util.random.RandomSupport$RandomGeneratorProperties (in module java.base) \n    because module java.base does not export jdk.internal.util.random to unnamed module @2f54a33d\norg.mockito.exceptions.base.MockitoException: \nMockito cannot mock this class: class java.util.Random.\n\nMockito can only mock non-private &amp; non-final classes.\nIf you're not sure why you're getting this error, please report to the mailing list.\n\n\nJava               : 17\nJVM vendor name    : Oracle Corporation\nJVM vendor version : 17.0.2+8-86\nJVM name           : OpenJDK 64-Bit Server VM\nJVM version        : 17.0.2+8-86\nJVM info           : mixed mode, sharing\nOS name            : Mac OS X\nOS version         : 12.1\n</code></pre>\n<p>Not sure why Mockito is failing on this test.</p>\n"},{"tags":["java","jakarta-ee","jar"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1361132106,"post_id":14925554,"comment_id":20942607,"body_markdown":"Even if you don&#39;t want to use maven you can download them from maven central manually via your browser : http://search.maven.org/","body":"Even if you don&#39;t want to use maven you can download them from maven central manually via your browser : <a href=\"http://search.maven.org/\" rel=\"nofollow noreferrer\">search.maven.org</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1361132151,"post_id":14925554,"comment_id":20942620,"body_markdown":"Again, a Maven reference. **Why do Oracle jars only seem to be available via Maven repos?!?!** Thats the point of my question. Shouldn&#39;t Oracle make them available somewhere, off an *Oracle* website?!?!","body":"Again, a Maven reference. <b>Why do Oracle jars only seem to be available via Maven repos?!?!</b> Thats the point of my question. Shouldn&#39;t Oracle make them available somewhere, off an <i>Oracle</i> website?!?!"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1361132239,"post_id":14925554,"comment_id":20942642,"body_markdown":"grepcode can help : http://grepcode.com/snapshot/repo1.maven.org/maven2/javax.validation/validation-api/1.0.0.GA","body":"grepcode can help : <a href=\"http://grepcode.com/snapshot/repo1.maven.org/maven2/javax.validation/validation-api/1.0.0.GA\" rel=\"nofollow noreferrer\">grepcode.com/snapshot/repo1.maven.org/maven2/javax.validatio&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1361132326,"post_id":14925554,"comment_id":20942661,"body_markdown":"Ahhhhhhhhh! Every single link on that page.... is a link to a *Maven* repo! Am I not speaking English here?!? Oracle owns Java. Why can&#39;t I find Java jars on an Oracle site? **This is like only being able to buy Suzuki cars at Nissan dealerships.**","body":"Ahhhhhhhhh! Every single link on that page.... is a link to a <i>Maven</i> repo! Am I not speaking English here?!? Oracle owns Java. Why can&#39;t I find Java jars on an Oracle site? <b>This is like only being able to buy Suzuki cars at Nissan dealerships.</b>"},{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":1,"creation_date":1361132656,"post_id":14925554,"comment_id":20942742,"body_markdown":"No, this is like being able to buy pizza at the supermarket, and not at the pizza factory. Oracle and Maven are not competitors like Suzuki and Nissan. If Oracle don&#39;t want to bother hosting their jar and want to go with an intermediary it&#39;s their problem.","body":"No, this is like being able to buy pizza at the supermarket, and not at the pizza factory. Oracle and Maven are not competitors like Suzuki and Nissan. If Oracle don&#39;t want to bother hosting their jar and want to go with an intermediary it&#39;s their problem."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1361132756,"post_id":14925554,"comment_id":20942767,"body_markdown":"So is that the answer? Oracle doesn&#39;t host their own JARs? Are you answering my question, or being sarcastic here?! I refuse to believe that Oracle doesn&#39;t host their own JARs somewhere...","body":"So is that the answer? Oracle doesn&#39;t host their own JARs? Are you answering my question, or being sarcastic here?! I refuse to believe that Oracle doesn&#39;t host their own JARs somewhere..."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":2,"creation_date":1361133140,"post_id":14925554,"comment_id":20942869,"body_markdown":"Maven has become the *de facto standard* for distribution and dependency management in Java. Aside from that ... download the JavaEE distribution from Oracle and they are *included*.","body":"Maven has become the <i>de facto standard</i> for distribution and dependency management in Java. Aside from that ... download the JavaEE distribution from Oracle and they are <i>included</i>."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1361133202,"post_id":14925554,"comment_id":20942887,"body_markdown":"The JavaEE distro is just a shell script that does all sorts of voo doo when it runs, and then magically installs JEE on your system. But the jars are not included with the distro itself.","body":"The JavaEE distro is just a shell script that does all sorts of voo doo when it runs, and then magically installs JEE on your system. But the jars are not included with the distro itself."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":1,"creation_date":1361134090,"post_id":14925554,"comment_id":20943149,"body_markdown":"@DirtyMikeAndTheBoys: You are absolutely right that this is no way to run a railway. Nonetheless, it how it is run! Are you familiar with the classic &quot;Absent Code attribute in method that is not native or abstract&quot; problem? Some of the jars that are distributed for JEE don&#39;t even contain valid class files.","body":"@DirtyMikeAndTheBoys: You are absolutely right that this is no way to run a railway. Nonetheless, it how it is run! Are you familiar with the classic &quot;Absent Code attribute in method that is not native or abstract&quot; problem? Some of the jars that are distributed for JEE don&#39;t even contain valid class files."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":3,"creation_date":1361134280,"post_id":14925554,"comment_id":20943208,"body_markdown":"There is actually a deeper point here, though. The output of the standards process is a standard - a document for human consumption. That standard may well describe and prescribe a set of classes. However, the classes themselves *are not an output of the standards process*. Anyone can come along and write an implementation of those classes which complies with the standard and hold them up as such. Hence, *there is no single definitive implementation of the classes*, but rather a marketplace of equally valid implementations.","body":"There is actually a deeper point here, though. The output of the standards process is a standard - a document for human consumption. That standard may well describe and prescribe a set of classes. However, the classes themselves <i>are not an output of the standards process</i>. Anyone can come along and write an implementation of those classes which complies with the standard and hold them up as such. Hence, <i>there is no single definitive implementation of the classes</i>, but rather a marketplace of equally valid implementations."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1361134672,"post_id":14925554,"comment_id":20943330,"body_markdown":"Excellent points here @TomAnderson - I know I&#39;m coming off as abrasive here, but I love Java, and the deeper I get into it, the more I feel like I have to defend it. And now, finding out that this is the way Java EE works is very disconcerting to me. And that &quot;Absent code&quot; item you mentioned, which I was not aware of, is downright **terrifying**.","body":"Excellent points here @TomAnderson - I know I&#39;m coming off as abrasive here, but I love Java, and the deeper I get into it, the more I feel like I have to defend it. And now, finding out that this is the way Java EE works is very disconcerting to me. And that &quot;Absent code&quot; item you mentioned, which I was not aware of, is downright <b>terrifying</b>."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1361276031,"post_id":14925554,"comment_id":20995698,"body_markdown":"@DirtyMikeAndTheBoys: I don&#39;t find you abrasive, but perhaps only because i often react this way too. I am much more scathing about defects in things i respect than, those i don&#39;t. When i come across some brain damage in Ruby, for instance, i just shrug and continue.","body":"@DirtyMikeAndTheBoys: I don&#39;t find you abrasive, but perhaps only because i often react this way too. I am much more scathing about defects in things i respect than, those i don&#39;t. When i come across some brain damage in Ruby, for instance, i just shrug and continue."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1361276209,"post_id":14925554,"comment_id":20995782,"body_markdown":"I would also like to see a culture where specs that produce definitions of classes also produce canonical implementations of those classes. Not reference implementations, but simply class files for the API elements themselves. To do this, specs would have to rigorously separate interface and implementation - for example, the existence of `HttpServletRequest` makes it impossible to do this for the servlet spec. Jars of those classes could then be provided alongside the specs from the JCP site (as they are for some specs, to be fair). Sadly, this requires a shift in how specs are done in Java.","body":"I would also like to see a culture where specs that produce definitions of classes also produce canonical implementations of those classes. Not reference implementations, but simply class files for the API elements themselves. To do this, specs would have to rigorously separate interface and implementation - for example, the existence of <code>HttpServletRequest</code> makes it impossible to do this for the servlet spec. Jars of those classes could then be provided alongside the specs from the JCP site (as they are for some specs, to be fair). Sadly, this requires a shift in how specs are done in Java."}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1361132768,"creation_date":1361132768,"answer_id":14925698,"question_id":14925554,"body_markdown":"Here ya go:\r\n\r\n- [javax.validation][1] \r\n- [javax.inject][2]\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=303\r\n  [2]: http://jcp.org/en/jsr/detail?id=330","title":"Where are all the javax jars?","body":"<p>Here ya go:</p>\n\n<ul>\n<li><a href=\"http://jcp.org/en/jsr/detail?id=303\" rel=\"nofollow\">javax.validation</a> </li>\n<li><a href=\"http://jcp.org/en/jsr/detail?id=330\" rel=\"nofollow\">javax.inject</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1155541,"reputation":1410,"user_id":1136264,"display_name":"Jasper Siepkes"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1650266605,"creation_date":1361133633,"answer_id":14925823,"question_id":14925554,"body_markdown":"The *javax* jars are owned and maintained by the [JCP projects](http://www.jcp.org/en/home/index) they belong to, since they represent Java standards. So, strictly they are not Oracle blessed but JCP blessed. So the JCP page is also the official place to look.\r\n\r\nFor example if you navigate to the [JDO2 spec](http://jcp.org/en/jsr/detail?id=243) and click on the download page for the FINAL release. Under &quot;Reference Implementation and Technology Compatibility Kit:&quot; is a bullet which states: &quot;The API jar is available from...&quot; which links to the Jar containing the &#39;javax&#39; API interfaces.","title":"Where are all the javax jars?","body":"<p>The <em>javax</em> jars are owned and maintained by the <a href=\"http://www.jcp.org/en/home/index\" rel=\"nofollow noreferrer\">JCP projects</a> they belong to, since they represent Java standards. So, strictly they are not Oracle blessed but JCP blessed. So the JCP page is also the official place to look.</p>\n<p>For example if you navigate to the <a href=\"http://jcp.org/en/jsr/detail?id=243\" rel=\"nofollow noreferrer\">JDO2 spec</a> and click on the download page for the FINAL release. Under &quot;Reference Implementation and Technology Compatibility Kit:&quot; is a bullet which states: &quot;The API jar is available from...&quot; which links to the Jar containing the 'javax' API interfaces.</p>\n"},{"tags":[],"owner":{"account_id":2465397,"reputation":318,"user_id":2148626,"display_name":"Soshmo"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1368125590,"creation_date":1368125590,"answer_id":16469025,"question_id":14925554,"body_markdown":"If you download Tomcat you can grab the servlet-api.jar from the lib folder.","title":"Where are all the javax jars?","body":"<p>If you download Tomcat you can grab the servlet-api.jar from the lib folder.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65575,"favorite_count":0,"down_vote_count":2,"up_vote_count":25,"accepted_answer_id":14925823,"answer_count":3,"score":23,"last_activity_date":1650266605,"creation_date":1361131890,"question_id":14925554,"body_markdown":"**Edit**: several fellow SOers have recommended just going to Maven repos, which of course have nothing to do with using Maven as part of one&#39;s build. I understand this. The point of this question is simple: **what websites, owned and maintained by Oracle, can I go to, to grab all my `javax` jars?** Not Maven repos. Not any other 3rd party repos. Oracle repos.\r\n\r\nLet&#39;s say I don&#39;t like Maven, and don&#39;t want to have to go to a Maven repo to find my jars. How do I get `javax.injection`? How about `javax.validation`? Or any of the other `javax` jars?\r\n\r\nThey don&#39;t seem to be available via Oracle&#39;s Java EE downloads website (which is *shocking*). So I ask: what does one have to do to get the official, Oracle-blessed `javax` jars without having to consult a Maven repo?\r\n\r\nBonus points to anyone who can explain to me why these JARs seem to be intentionally difficult to find.","title":"Where are all the javax jars?","body":"<p><strong>Edit</strong>: several fellow SOers have recommended just going to Maven repos, which of course have nothing to do with using Maven as part of one's build. I understand this. The point of this question is simple: <strong>what websites, owned and maintained by Oracle, can I go to, to grab all my <code>javax</code> jars?</strong> Not Maven repos. Not any other 3rd party repos. Oracle repos.</p>\n\n<p>Let's say I don't like Maven, and don't want to have to go to a Maven repo to find my jars. How do I get <code>javax.injection</code>? How about <code>javax.validation</code>? Or any of the other <code>javax</code> jars?</p>\n\n<p>They don't seem to be available via Oracle's Java EE downloads website (which is <em>shocking</em>). So I ask: what does one have to do to get the official, Oracle-blessed <code>javax</code> jars without having to consult a Maven repo?</p>\n\n<p>Bonus points to anyone who can explain to me why these JARs seem to be intentionally difficult to find.</p>\n"},{"tags":["java","oop","data-structures","doubly-linked-list","reversing"],"comments":[{"owner":{"account_id":5868390,"reputation":19929,"user_id":4621513,"accept_rate":77,"display_name":"mkrieger1"},"score":0,"creation_date":1650201638,"post_id":71902231,"comment_id":127056366,"body_markdown":"Is the output correct at all if you don&#39;t call `reverseDoubly`?","body":"Is the output correct at all if you don&#39;t call <code>reverseDoubly</code>?"},{"owner":{"account_id":24732503,"reputation":11,"user_id":18620312,"display_name":"rhino"},"score":0,"creation_date":1650202007,"post_id":71902231,"comment_id":127056447,"body_markdown":"@mkrieger1 yes!","body":"@mkrieger1 yes!"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1650204150,"post_id":71902231,"comment_id":127056897,"body_markdown":"The problem may be in one of your other methods which you haven&#39;t shown. Please see [mcve].","body":"The problem may be in one of your other methods which you haven&#39;t shown. Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1650205578,"post_id":71902231,"comment_id":127057218,"body_markdown":"Since comment - I don&#39;t see why you have a restriction of &quot;cannot reverse an empty list&quot; -- this is the easiest case to handle.  If you delete that whole line, the code works for an empty list.","body":"Since comment - I don&#39;t see why you have a restriction of &quot;cannot reverse an empty list&quot; -- this is the easiest case to handle.  If you delete that whole line, the code works for an empty list."}],"answers":[{"tags":[],"owner":{"account_id":22854133,"reputation":1,"user_id":16999250,"display_name":"LeeGoeth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650203194,"creation_date":1650203194,"answer_id":71902413,"question_id":71902231,"body_markdown":"I get an idea, find doubly LinkedList&#39;s head and tail, then reverse just like normal singly linked list.","title":"How to reverse a doubly linked list?","body":"<p>I get an idea, find doubly LinkedList's head and tail, then reverse just like normal singly linked list.</p>\n"},{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650266496,"creation_date":1650266496,"answer_id":71908763,"question_id":71902231,"body_markdown":"In my view `temp` should be `head` and `current` should be `head.next`. \r\n\r\nSo the code would look like this:\r\n\r\n\tpublic void Reverse() \r\n\t{\r\n\t\tNode&lt;T&gt; previous = Head;\r\n\t\tNode&lt;T&gt; current = Head.Next;\r\n\r\n\t\twhile (current != null)\r\n\t\t{\r\n\t\t\tNode&lt;T&gt; next = current.Next;\r\n\t\t\tcurrent.Next = previous;\r\n\t\t\tprevious = current;\r\n\t\t\tcurrent = next;\r\n\t\t}\r\n\r\n\t\tTail = Head;\r\n\t\tTail.Next = null;\r\n\t\tHead = previous;\r\n\t}\r\n\r\nThe complete code via C# (do not worry it is can be easily converted to C#)  would look like this:\r\n\r\n\tpublic class Node&lt;T&gt;\r\n\t{\r\n\t\tpublic Node&lt;T&gt; Next { get; set; }\r\n\r\n\t\tpublic T Value { get; set; }\r\n\r\n\t\tpublic Node(T value)\r\n\t\t{\r\n\t\t\tValue = value;\r\n\t\t}\r\n\r\n\t\tpublic override string ToString()\r\n\t\t{\r\n\t\t\treturn $&quot;Value is {Value}&quot;;\r\n\t\t}\r\n\t}\r\n\r\nand `LinkedList&lt;T&gt;`:\r\n\r\npublic class LinkedList&lt;T&gt; \r\n\t{\r\n\t\tpublic Node&lt;T&gt; Head { get; set; }\r\n\r\n\t\tpublic Node&lt;T&gt; Tail { get; set; }\r\n\r\n\r\n\t\tpublic void Reverse() \r\n\t\t{\r\n\t\t\tNode&lt;T&gt; previous = Head;\r\n\t\t\tNode&lt;T&gt; current = Head.Next;\r\n\r\n\t\t\twhile (current != null)\r\n\t\t\t{\r\n\t\t\t\tNode&lt;T&gt; next = current.Next;\r\n\t\t\t\tcurrent.Next = previous;\r\n\t\t\t\tprevious = current;\r\n\t\t\t\tcurrent = next;\r\n\t\t\t}\r\n\r\n\t\t\tTail = Head;\r\n\t\t\tTail.Next = null;\r\n\t\t\tHead = previous;\r\n\t\t}\r\n\r\n\t\tpublic void Insert(T value) \r\n\t\t{\r\n\t\t\tNode&lt;T&gt; newNode = new Node&lt;T&gt;(value);\r\n\t\t\tif (Head == null)\r\n\t\t\t{\r\n\t\t\t\tHead = newNode;\r\n\t\t\t\tTail = Head;\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tNode&lt;T&gt; current = Head;\r\n\t\t\t\twhile (current != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (current.Next == null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcurrent.Next = newNode;\r\n\t\t\t\t\t\tcurrent = current.Next;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}   \r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tcurrent = current.Next;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tTail = current;\r\n\t\t\t}            \r\n\t\t}\r\n\t}","title":"How to reverse a doubly linked list?","body":"<p>In my view <code>temp</code> should be <code>head</code> and <code>current</code> should be <code>head.next</code>.</p>\n<p>So the code would look like this:</p>\n<pre><code>public void Reverse() \n{\n    Node&lt;T&gt; previous = Head;\n    Node&lt;T&gt; current = Head.Next;\n\n    while (current != null)\n    {\n        Node&lt;T&gt; next = current.Next;\n        current.Next = previous;\n        previous = current;\n        current = next;\n    }\n\n    Tail = Head;\n    Tail.Next = null;\n    Head = previous;\n}\n</code></pre>\n<p>The complete code via C# (do not worry it is can be easily converted to C#)  would look like this:</p>\n<pre><code>public class Node&lt;T&gt;\n{\n    public Node&lt;T&gt; Next { get; set; }\n\n    public T Value { get; set; }\n\n    public Node(T value)\n    {\n        Value = value;\n    }\n\n    public override string ToString()\n    {\n        return $&quot;Value is {Value}&quot;;\n    }\n}\n</code></pre>\n<p>and <code>LinkedList&lt;T&gt;</code>:</p>\n<p>public class LinkedList\n{\npublic Node Head { get; set; }</p>\n<pre><code>    public Node&lt;T&gt; Tail { get; set; }\n\n\n    public void Reverse() \n    {\n        Node&lt;T&gt; previous = Head;\n        Node&lt;T&gt; current = Head.Next;\n\n        while (current != null)\n        {\n            Node&lt;T&gt; next = current.Next;\n            current.Next = previous;\n            previous = current;\n            current = next;\n        }\n\n        Tail = Head;\n        Tail.Next = null;\n        Head = previous;\n    }\n\n    public void Insert(T value) \n    {\n        Node&lt;T&gt; newNode = new Node&lt;T&gt;(value);\n        if (Head == null)\n        {\n            Head = newNode;\n            Tail = Head;\n        }\n        else \n        {\n            Node&lt;T&gt; current = Head;\n            while (current != null)\n            {\n                if (current.Next == null)\n                {\n                    current.Next = newNode;\n                    current = current.Next;\n                    break;\n                }   \n                else\n                    current = current.Next;\n            }\n            \n            Tail = current;\n        }            \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24732503,"reputation":11,"user_id":18620312,"display_name":"rhino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650266496,"creation_date":1650201545,"question_id":71902231,"body_markdown":"I&#39;m trying to reverse a linked list and I wrote the code for that. But, when I print the list after reversing it, the output is kinda incomplete. \r\n\r\n    public void reverseDoubly() {\r\n        Node temp = null;\r\n        Node current = head;\r\n        if(current == null) System.out.println(&quot;Cannot reverse an empty list!&quot;);\r\n        while(current!=null) {\r\n            temp = current.previous;\r\n            current.previous = current.next;\r\n            current.next = temp;\r\n            current = current.previous;\r\n        }\r\n        if(temp!=null) { \r\n            head = temp.previous;\r\n        }\r\n    }\r\n\r\n\r\n\r\n  \r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Doubly d1 = new Doubly();\r\n        d1.insertFirst(80);\r\n        d1.insertLast(90);\r\n        d1.insertLast(100);\r\n        d1.insertLast(120);\r\n        d1.insertAtPos(3, 110);\r\n        d1.reverseDoubly();\r\n        d1.print();\r\n    }}\r\n\r\n\r\n\r\nOutput: 120 110 100    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to reverse a doubly linked list?","body":"<p>I'm trying to reverse a linked list and I wrote the code for that. But, when I print the list after reversing it, the output is kinda incomplete.</p>\n<pre><code>public void reverseDoubly() {\n    Node temp = null;\n    Node current = head;\n    if(current == null) System.out.println(&quot;Cannot reverse an empty list!&quot;);\n    while(current!=null) {\n        temp = current.previous;\n        current.previous = current.next;\n        current.next = temp;\n        current = current.previous;\n    }\n    if(temp!=null) { \n        head = temp.previous;\n    }\n}\n\n\n\n\n\npublic class Main {\n\npublic static void main(String[] args) {\n    Doubly d1 = new Doubly();\n    d1.insertFirst(80);\n    d1.insertLast(90);\n    d1.insertLast(100);\n    d1.insertLast(120);\n    d1.insertAtPos(3, 110);\n    d1.reverseDoubly();\n    d1.print();\n}}\n</code></pre>\n<p>Output: 120 110 100</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1649762797,"post_id":71841736,"comment_id":126953292,"body_markdown":"The answer here is &quot;depends&quot;. What you can do: if possible, create a real instance of your bean object, and pass that into the method, along with a (maybe mocked) instance of the HstRequest, and a mock HstResponse. Then verify that the expected method calls occurred on response object. But ideally, if possible: dont use mocks here. When you can use &quot;real&quot; request/response objects, then go with that ... and simply assert that the response object has the expected properties after the call to the method.","body":"The answer here is &quot;depends&quot;. What you can do: if possible, create a real instance of your bean object, and pass that into the method, along with a (maybe mocked) instance of the HstRequest, and a mock HstResponse. Then verify that the expected method calls occurred on response object. But ideally, if possible: dont use mocks here. When you can use &quot;real&quot; request/response objects, then go with that ... and simply assert that the response object has the expected properties after the call to the method."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649762837,"post_id":71841736,"comment_id":126953301,"body_markdown":"But note: you learn such things by reading books/tutorials and TRYING things yourself. It is always better to try yourself first, and then maybe ask more experienced people to review your code.","body":"But note: you learn such things by reading books/tutorials and TRYING things yourself. It is always better to try yourself first, and then maybe ask more experienced people to review your code."}],"answers":[{"tags":[],"owner":{"account_id":5075886,"reputation":237,"user_id":4073249,"display_name":"Alper Derya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650266191,"creation_date":1649765714,"answer_id":71842530,"question_id":71841736,"body_markdown":"It depends on what you expect. Below link includes useful and approved answers to `mock void` methods. You can start to read link I provided and decide what you will verify or assert.\r\n\r\nhttps://stackoverflow.com/questions/2276271/how-to-mock-void-methods-with-mockito?rq=1 ","title":"How can I unit test this void method with Junit/Mockito","body":"<p>It depends on what you expect. Below link includes useful and approved answers to <code>mock void</code> methods. You can start to read link I provided and decide what you will verify or assert.</p>\n<p><a href=\"https://stackoverflow.com/questions/2276271/how-to-mock-void-methods-with-mockito?rq=1\">How to mock void methods with Mockito</a></p>\n"}],"owner":{"account_id":2745253,"reputation":104,"user_id":2365809,"display_name":"kill-9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650266191,"creation_date":1649762503,"question_id":71841736,"body_markdown":"I have the following void method:\r\n\r\n        public void checkInvalidEarlyAccessKey(HippoBean hippoBean, HstRequest hstRequest, HstResponse hstResponse, HttpServletRequest request) {\r\n        if (StringUtils.isNotBlank(hippoBean.getSingleProperty(EARLY_ACCESS_KEY)) &amp;&amp; !hippoBean.getSingleProperty(EARLY_ACCESS_KEY).equals(request.getParameter(PARAMETER_KEY))) {\r\n            LOGGER.debug(&quot;Early access key is set and null or wrong key is being used. Redirecting to 404 error code&quot;);\r\n            hstResponse.setStatus(HttpServletResponse.SC_NOT_FOUND);\r\n            HstResponseUtils.sendRedirect(hstRequest, hstResponse, ERROR_404_PATH);\r\n        }\r\n    }\r\n\r\nHow can I test this with Junit/Mockito? Should I test that the hstResponse status is indeed a 404 to ensure the if statement is true? Could you provide a code example? What is the best practice?\r\n\r\nThanks","title":"How can I unit test this void method with Junit/Mockito","body":"<p>I have the following void method:</p>\n<pre><code>    public void checkInvalidEarlyAccessKey(HippoBean hippoBean, HstRequest hstRequest, HstResponse hstResponse, HttpServletRequest request) {\n    if (StringUtils.isNotBlank(hippoBean.getSingleProperty(EARLY_ACCESS_KEY)) &amp;&amp; !hippoBean.getSingleProperty(EARLY_ACCESS_KEY).equals(request.getParameter(PARAMETER_KEY))) {\n        LOGGER.debug(&quot;Early access key is set and null or wrong key is being used. Redirecting to 404 error code&quot;);\n        hstResponse.setStatus(HttpServletResponse.SC_NOT_FOUND);\n        HstResponseUtils.sendRedirect(hstRequest, hstResponse, ERROR_404_PATH);\n    }\n}\n</code></pre>\n<p>How can I test this with Junit/Mockito? Should I test that the hstResponse status is indeed a 404 to ensure the if statement is true? Could you provide a code example? What is the best practice?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","push-notification"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1541725398,"post_id":53217859,"comment_id":93324330,"body_markdown":"Are you testing on a device running Oreo or later?","body":"Are you testing on a device running Oreo or later?"},{"owner":{"account_id":12455850,"reputation":665,"user_id":9069090,"display_name":"Luis Aguilar"},"score":0,"creation_date":1541726996,"post_id":53217859,"comment_id":93324654,"body_markdown":"Yes, it&#39;s a moto g5 plus with one pixel ROM.  Android 8.0. It&#39;s a rooted phone","body":"Yes, it&#39;s a moto g5 plus with one pixel ROM.  Android 8.0. It&#39;s a rooted phone"},{"owner":{"account_id":14662192,"reputation":1711,"user_id":10589041,"display_name":"Ishaan Javali"},"score":0,"creation_date":1541727019,"post_id":53217859,"comment_id":93324660,"body_markdown":"Have you checked the app&#39;s notification settings? Check to see whether certain aspects that you want to display are enabled.","body":"Have you checked the app&#39;s notification settings? Check to see whether certain aspects that you want to display are enabled."},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":2,"creation_date":1541727076,"post_id":53217859,"comment_id":93324676,"body_markdown":"@LuisAguilar you set a notification channel name in the Builder&#39;s constructor, but are you actually creating that channel? If not, Android will just use some default (probably medium) priority for your notification.","body":"@LuisAguilar you set a notification channel name in the Builder&#39;s constructor, but are you actually creating that channel? If not, Android will just use some default (probably medium) priority for your notification."},{"owner":{"account_id":12455850,"reputation":665,"user_id":9069090,"display_name":"Luis Aguilar"},"score":0,"creation_date":1541727399,"post_id":53217859,"comment_id":93324738,"body_markdown":"@Ishaan I have not but my notifications from WhatsApp pop up correctly","body":"@Ishaan I have not but my notifications from WhatsApp pop up correctly"},{"owner":{"account_id":14662192,"reputation":1711,"user_id":10589041,"display_name":"Ishaan Javali"},"score":0,"creation_date":1541727644,"post_id":53217859,"comment_id":93324776,"body_markdown":"Try changing the notification settings in that case. Also try what the Wanderer mentioned about creating and setting the notifications channel.","body":"Try changing the notification settings in that case. Also try what the Wanderer mentioned about creating and setting the notifications channel."},{"owner":{"account_id":12455850,"reputation":665,"user_id":9069090,"display_name":"Luis Aguilar"},"score":0,"creation_date":1541727787,"post_id":53217859,"comment_id":93324804,"body_markdown":"@TheWanderer I will check that thanks","body":"@TheWanderer I will check that thanks"}],"answers":[{"tags":[],"owner":{"account_id":12455850,"reputation":665,"user_id":9069090,"display_name":"Luis Aguilar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541784981,"creation_date":1541784981,"answer_id":53230749,"question_id":53217859,"body_markdown":"The issue is that we have to add a new channel configuration whenever the OS is Oroe. So I had to validate if the OS is Oreo and then asign a channel to my notificationManager:\r\n\r\n\r\n    NotificationManager notificationManager =\r\n                        (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\r\n        setupChannels();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    private void setupChannels(){\r\n        CharSequence adminChannelName =&quot;Global channel&quot;;\r\n        String adminChannelDescription = &quot;Notifications sent from the app admin&quot;;\r\n        NotificationChannel adminChannel;\r\n        adminChannel = new NotificationChannel(ADMIN_CHANNEL_ID, adminChannelName, NotificationManager.IMPORTANCE_HIGH);\r\n        adminChannel.setDescription(adminChannelDescription);\r\n        adminChannel.enableLights(true);\r\n        adminChannel.setImportance(NotificationManager.IMPORTANCE_HIGH);\r\n        adminChannel.setLightColor(Color.RED);\r\n        adminChannel.enableVibration(true);\r\n        if (notificationManager != null) {\r\n            notificationManager.createNotificationChannel(adminChannel);\r\n        }\r\n\r\n    }\r\n\r\n ","title":"Heads up push notification not doing the Pop up function","body":"<p>The issue is that we have to add a new channel configuration whenever the OS is Oroe. So I had to validate if the OS is Oreo and then asign a channel to my notificationManager:</p>\n\n<pre><code>NotificationManager notificationManager =\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\nif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {\n    setupChannels();\n}\n\n@RequiresApi(api = Build.VERSION_CODES.O)\nprivate void setupChannels(){\n    CharSequence adminChannelName =\"Global channel\";\n    String adminChannelDescription = \"Notifications sent from the app admin\";\n    NotificationChannel adminChannel;\n    adminChannel = new NotificationChannel(ADMIN_CHANNEL_ID, adminChannelName, NotificationManager.IMPORTANCE_HIGH);\n    adminChannel.setDescription(adminChannelDescription);\n    adminChannel.enableLights(true);\n    adminChannel.setImportance(NotificationManager.IMPORTANCE_HIGH);\n    adminChannel.setLightColor(Color.RED);\n    adminChannel.enableVibration(true);\n    if (notificationManager != null) {\n        notificationManager.createNotificationChannel(adminChannel);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4616199,"reputation":279,"user_id":3742642,"display_name":"BlueSpectrumz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559245079,"creation_date":1559245079,"answer_id":56384630,"question_id":53217859,"body_markdown":"For Android Pie (9) on the emulator, I setup my channel with &quot;IMPORTANCE_HIGH&quot;, and also set my builder priority to &quot;PRIORITY_HIGH&quot;.\r\n\r\nBut, I still could not get heads-up notifications!\r\n\r\nFinally, on the Android 9 emulator, I had to:\r\n\r\n1. swipe down the notifications drawer\r\n2. tap on &quot;Manage Notifications&quot;\r\n3. select my app\r\n4. select my channel\r\n5. select &quot;Behavior&quot;\r\n6. enable &quot;Make sound and pop on screen&quot;.\r\n\r\nNow it works.\r\n","title":"Heads up push notification not doing the Pop up function","body":"<p>For Android Pie (9) on the emulator, I setup my channel with \"IMPORTANCE_HIGH\", and also set my builder priority to \"PRIORITY_HIGH\".</p>\n\n<p>But, I still could not get heads-up notifications!</p>\n\n<p>Finally, on the Android 9 emulator, I had to:</p>\n\n<ol>\n<li>swipe down the notifications drawer</li>\n<li>tap on \"Manage Notifications\"</li>\n<li>select my app</li>\n<li>select my channel</li>\n<li>select \"Behavior\"</li>\n<li>enable \"Make sound and pop on screen\".</li>\n</ol>\n\n<p>Now it works.</p>\n"},{"tags":[],"owner":{"account_id":24983331,"reputation":1,"user_id":18845377,"display_name":"Pankaj Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650265633,"creation_date":1650265633,"answer_id":71908643,"question_id":53217859,"body_markdown":"Just Add This Line In Your Notification Channel Builder:-\r\n\r\n channel.setShowBadge(true)","title":"Heads up push notification not doing the Pop up function","body":"<p>Just Add This Line In Your Notification Channel Builder:-</p>\n<p>channel.setShowBadge(true)</p>\n"}],"owner":{"account_id":12455850,"reputation":665,"user_id":9069090,"display_name":"Luis Aguilar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2087,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1650265633,"creation_date":1541721001,"question_id":53217859,"body_markdown":"I am new to Android and I have been trying to show a Heads up action push notification just like whatsapp does. \r\n\r\nThis is my configuration for my notification:\r\n\r\n    NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, ADMIN_CHANNEL)\r\n                            .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher_foreground))\r\n                            .setSmallIcon(R.drawable.m_icon)\r\n                            .setContentTitle(remoteMessage.getNotification().getTitle())\r\n                            .setTicker(remoteMessage.getNotification().getBody())\r\n                            .setColor(ContextCompat.getColor(getApplicationContext(), R.color.mblue))\r\n                            .setAutoCancel(true)\r\n                            .setSound(defaultSoundUri)\r\n                            .setStyle(new NotificationCompat.BigTextStyle()\r\n                                    .bigText(remoteMessage.getNotification().getBody()))\r\n                            .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                            .setContentIntent(likePendingIntent);\r\n\r\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n            notificationManager.notify(0,notificationBuilder.build());\r\n\r\n\r\nI have read in some post that the key to acomplish this is to set high priority to the notification but, It is still not working for me.","title":"Heads up push notification not doing the Pop up function","body":"<p>I am new to Android and I have been trying to show a Heads up action push notification just like whatsapp does. </p>\n\n<p>This is my configuration for my notification:</p>\n\n<pre><code>NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, ADMIN_CHANNEL)\n                        .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.mipmap.ic_launcher_foreground))\n                        .setSmallIcon(R.drawable.m_icon)\n                        .setContentTitle(remoteMessage.getNotification().getTitle())\n                        .setTicker(remoteMessage.getNotification().getBody())\n                        .setColor(ContextCompat.getColor(getApplicationContext(), R.color.mblue))\n                        .setAutoCancel(true)\n                        .setSound(defaultSoundUri)\n                        .setStyle(new NotificationCompat.BigTextStyle()\n                                .bigText(remoteMessage.getNotification().getBody()))\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\n                        .setContentIntent(likePendingIntent);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.notify(0,notificationBuilder.build());\n</code></pre>\n\n<p>I have read in some post that the key to acomplish this is to set high priority to the notification but, It is still not working for me.</p>\n"},{"tags":["java","timertask"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650268699,"post_id":71908418,"comment_id":127068214,"body_markdown":"Not much point in the `Timer` or the anonymous inner `TimerTask` class really. A mere `Thread.sleep(ldelay)` would accomplish the same thing without the problems.","body":"Not much point in the <code>Timer</code> or the anonymous inner <code>TimerTask</code> class really. A mere <code>Thread.sleep(ldelay)</code> would accomplish the same thing without the problems."}],"answers":[{"tags":[],"owner":{"account_id":21454136,"reputation":336,"user_id":15806017,"display_name":"stefano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650265171,"creation_date":1650265171,"answer_id":71908577,"question_id":71908418,"body_markdown":"Make the variable into a final single-element array.\r\n\r\n```\r\nfinal String[] toCont = {\r\n    &quot;&quot;\r\n};\r\nScanner scanner = new Scanner(System.in);\r\n\r\ndo {\r\n    long delay = TimeUnit.MINUTES.toMillis(1);\r\n    Timer t = new Timer();\r\n    int marks = startSession(); // function to compute some marks\r\n\r\n    TimerTask task = new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;Time&#39;s up!&quot;);\r\n            System.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\r\n            toCont[0] = scanner.next();\r\n        }\r\n    };\r\n    t.schedule(task, delay);\r\n\r\n} while (toCont[0].equals(&quot;y&quot;) || toCont[0].equals(&quot;Y&quot;));\r\n```","title":"Java accessing local variable in enclosed scope","body":"<p>Make the variable into a final single-element array.</p>\n<pre><code>final String[] toCont = {\n    &quot;&quot;\n};\nScanner scanner = new Scanner(System.in);\n\ndo {\n    long delay = TimeUnit.MINUTES.toMillis(1);\n    Timer t = new Timer();\n    int marks = startSession(); // function to compute some marks\n\n    TimerTask task = new TimerTask() {\n        @Override\n        public void run() {\n            System.out.println(&quot;Time's up!&quot;);\n            System.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\n            toCont[0] = scanner.next();\n        }\n    };\n    t.schedule(task, delay);\n\n} while (toCont[0].equals(&quot;y&quot;) || toCont[0].equals(&quot;Y&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650265563,"creation_date":1650265563,"answer_id":71908635,"question_id":71908418,"body_markdown":"To use a variable inside an inner class you must declare it final. \r\nadd this in your do while loop(workaround)\r\n```\r\ndo {\r\n        long delay = TimeUnit.MINUTES.toMillis(1);\r\n        final Integer innertoCont = new Integer(toCont);\r\n        Timer t = new Timer();\r\n        int marks = startSession(); // function to compute some marks\r\n        \r\n        TimerTask task = new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                System.out.println(&quot;Time&#39;s up!&quot;);\r\n                System.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\r\n                innertoCont = scanner.next();\r\n            }\r\n        };\r\n        t.schedule(task, delay);\r\n\r\n    } while (toCont.equals(&quot;y&quot;) || toCont.equals(&quot;Y&quot;));","title":"Java accessing local variable in enclosed scope","body":"<p>To use a variable inside an inner class you must declare it final.\nadd this in your do while loop(workaround)</p>\n<pre><code>do {\n        long delay = TimeUnit.MINUTES.toMillis(1);\n        final Integer innertoCont = new Integer(toCont);\n        Timer t = new Timer();\n        int marks = startSession(); // function to compute some marks\n        \n        TimerTask task = new TimerTask() {\n            @Override\n            public void run() {\n                System.out.println(&quot;Time's up!&quot;);\n                System.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\n                innertoCont = scanner.next();\n            }\n        };\n        t.schedule(task, delay);\n\n    } while (toCont.equals(&quot;y&quot;) || toCont.equals(&quot;Y&quot;));\n</code></pre>\n"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650268164,"accepted_answer_id":71908577,"answer_count":2,"score":0,"last_activity_date":1650265563,"creation_date":1650264186,"question_id":71908418,"body_markdown":"I was having some problem with TimerTask in java. Basically what I am trying to do is for each session to compute something, I set one minute time frame, once the time is up, I will prompt users to input whether to start another session. Here is what I have tried:\r\n\r\n        String toCont = &quot;&quot;;\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tdo {\r\n\t\t\tlong delay = TimeUnit.MINUTES.toMillis(1);\r\n\t\t\tTimer t = new Timer();\r\n\t\t\tint marks = startSession(); // function to compute some marks\r\n\t\t\t\r\n\t\t\tTimerTask task = new TimerTask() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tSystem.out.println(&quot;Time&#39;s up!&quot;);\r\n\t\t\t\t\tSystem.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\r\n\t\t\t\t\ttoCont = scanner.next();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tt.schedule(task, delay);\r\n\r\n\t\t} while (toCont.equals(&quot;y&quot;) || toCont.equals(&quot;Y&quot;));\r\n\r\nHowever, I am having some syntax error on the toCont variable in run(). Error message as such &quot;Local variable toCont defined in an enclosing scope must be final or effectively final&quot;. Any ideas how can I resolve this? Thanks!","title":"Java accessing local variable in enclosed scope","body":"<p>I was having some problem with TimerTask in java. Basically what I am trying to do is for each session to compute something, I set one minute time frame, once the time is up, I will prompt users to input whether to start another session. Here is what I have tried:</p>\n<pre><code>    String toCont = &quot;&quot;;\n    Scanner scanner = new Scanner(System.in);\n    \n    do {\n        long delay = TimeUnit.MINUTES.toMillis(1);\n        Timer t = new Timer();\n        int marks = startSession(); // function to compute some marks\n        \n        TimerTask task = new TimerTask() {\n            @Override\n            public void run() {\n                System.out.println(&quot;Time's up!&quot;);\n                System.out.print(&quot;Do you wished to start a new game? (Y/N): &quot;);\n                toCont = scanner.next();\n            }\n        };\n        t.schedule(task, delay);\n\n    } while (toCont.equals(&quot;y&quot;) || toCont.equals(&quot;Y&quot;));\n</code></pre>\n<p>However, I am having some syntax error on the toCont variable in run(). Error message as such &quot;Local variable toCont defined in an enclosing scope must be final or effectively final&quot;. Any ideas how can I resolve this? Thanks!</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1441701180,"post_id":32452879,"comment_id":52768290,"body_markdown":"Why are you using a string at all? If you&#39;ve got an `InputStream` you can simply copy that to a `FileOutputStream`.","body":"Why are you using a string at all? If you&#39;ve got an <code>InputStream</code> you can simply copy that to a <code>FileOutputStream</code>."},{"owner":{"account_id":2601927,"reputation":13304,"user_id":2254048,"accept_rate":100,"display_name":"YoungHobbit"},"score":0,"creation_date":1441701515,"post_id":32452879,"comment_id":52768508,"body_markdown":"Use BufferedReader for reading and BufferedWriter for writing.","body":"Use BufferedReader for reading and BufferedWriter for writing."}],"answers":[{"tags":[],"owner":{"account_id":5167523,"reputation":359,"user_id":4137065,"accept_rate":50,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441704811,"creation_date":1441704811,"answer_id":32454183,"question_id":32452879,"body_markdown":"    /*\r\n\r\n    Here is another way you can perform the storage.\r\n     \r\n   */\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n\r\n    public class WriteExample {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tFileOutputStream fop = null;\r\n\t\tFile file;\r\n\t\tString content = &quot;This is the text content&quot;;//our you can take it\r\n\r\n\t\ttry {\r\n\r\n\t\t\tfile = new File(&quot;c:/newfile.txt&quot;);//File creation at C:/\r\n\t\t\tfop = new FileOutputStream(file);\r\n\r\n\t\t\t// if file doesnt exists, then create it\r\n\t\t\tif (!file.exists()) {\r\n\t\t\t\tfile.createNewFile();\r\n\t\t\t}\r\n\r\n\t\t\t// get the content in bytes\r\n\t\t\tbyte[] contentInBytes = content.getBytes();\r\n\r\n\t\t\tfop.write(contentInBytes);\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n          }\r\n       finally{\r\n          if(fop!=null){\r\n          fop.flush();\r\n          fop.close();\r\n       }\r\n    }","title":"Write a java program to read from a lengthy string (using streams) and write the output to a file?","body":"<pre><code>/*\n\nHere is another way you can perform the storage.\n</code></pre>\n\n<p>*/</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class WriteExample {\npublic static void main(String[] args) {\n\n    FileOutputStream fop = null;\n    File file;\n    String content = \"This is the text content\";//our you can take it\n\n    try {\n\n        file = new File(\"c:/newfile.txt\");//File creation at C:/\n        fop = new FileOutputStream(file);\n\n        // if file doesnt exists, then create it\n        if (!file.exists()) {\n            file.createNewFile();\n        }\n\n        // get the content in bytes\n        byte[] contentInBytes = content.getBytes();\n\n        fop.write(contentInBytes);\n        System.out.println(\"Done\");\n\n    } catch (IOException e) {\n        e.printStackTrace();\n      }\n   finally{\n      if(fop!=null){\n      fop.flush();\n      fop.close();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20276345,"reputation":27,"user_id":14871277,"display_name":"Deepak Silver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650265169,"creation_date":1650265169,"answer_id":71908576,"question_id":32452879,"body_markdown":"Here is an example how you can read from a string and write it on output file and how you can read from a input file and write it on output file .\r\n\r\nchar stream to byte stream conversion and vice versa is also mentioned \r\n\r\n\r\n```\r\npackage task;\r\n\r\nimport java.io.*;\r\n\r\n\r\n//char -&gt; byte (input - byte , output - char);\r\n//byte -&gt; char (input - char , output - byte);\r\n\r\n// 1.You have to use OutputStreamWriter class for converting Character stream to Byte stream. \r\n// 2.InputStreamReader class for converting Byte stream to Character stream, \r\n// as these classes are used for stream conversions between two different streams.\r\n\r\npublic class Ques1{\r\n    public static void main(String args[]) throws IOException{\r\n        //byte stream\r\n         FileInputStream in = new FileInputStream(&quot;input.txt&quot;);       \r\n         //FileOutputStream out = new FileOutputStream(&quot;output.txt&quot;);\r\n\r\n\r\n        //char stream \r\n        //FileReader in = new FileReader(&quot;input.txt&quot;);       \r\n        FileWriter out = new FileWriter(&quot;output.txt&quot;);\r\n\r\n        \r\n        try{\r\n            String s = &quot;answet&quot;;\r\n            int i = 0;\r\n            while(i&lt;s.length()){\r\n                out.write(s.charAt(i));\r\n                i++;\r\n            }\r\n\r\n            \r\n            int t;\r\n            // while((t=(in.read()))!=-1){\r\n            //     out.write(t);\r\n            // }\r\n        }\r\n        finally{\r\n            if(in!=null) in.close();\r\n            if(out!=null) out.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Write a java program to read from a lengthy string (using streams) and write the output to a file?","body":"<p>Here is an example how you can read from a string and write it on output file and how you can read from a input file and write it on output file .</p>\n<p>char stream to byte stream conversion and vice versa is also mentioned</p>\n<pre><code>package task;\n\nimport java.io.*;\n\n\n//char -&gt; byte (input - byte , output - char);\n//byte -&gt; char (input - char , output - byte);\n\n// 1.You have to use OutputStreamWriter class for converting Character stream to Byte stream. \n// 2.InputStreamReader class for converting Byte stream to Character stream, \n// as these classes are used for stream conversions between two different streams.\n\npublic class Ques1{\n    public static void main(String args[]) throws IOException{\n        //byte stream\n         FileInputStream in = new FileInputStream(&quot;input.txt&quot;);       \n         //FileOutputStream out = new FileOutputStream(&quot;output.txt&quot;);\n\n\n        //char stream \n        //FileReader in = new FileReader(&quot;input.txt&quot;);       \n        FileWriter out = new FileWriter(&quot;output.txt&quot;);\n\n        \n        try{\n            String s = &quot;answet&quot;;\n            int i = 0;\n            while(i&lt;s.length()){\n                out.write(s.charAt(i));\n                i++;\n            }\n\n            \n            int t;\n            // while((t=(in.read()))!=-1){\n            //     out.write(t);\n            // }\n        }\n        finally{\n            if(in!=null) in.close();\n            if(out!=null) out.close();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6900600,"reputation":75,"user_id":5300386,"display_name":"SANTHOSH B.E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":32454183,"answer_count":2,"score":0,"last_activity_date":1650265169,"creation_date":1441700981,"question_id":32452879,"body_markdown":"How can I get a lengthy String as an input using streams and how to write the output to a file ?","title":"Write a java program to read from a lengthy string (using streams) and write the output to a file?","body":"<p>How can I get a lengthy String as an input using streams and how to write the output to a file ?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650261510,"post_id":71907981,"comment_id":127066613,"body_markdown":"That (`SwordsAndShields`) isn&#39;t a main class.  This question doesn&#39;t make much sense to me.  If you are asking what a main class should look like; see https://docs.oracle.com/javase/tutorial/getStarted/application/index.html.  The `HelloWorldApp` class is a main class.","body":"That (<code>SwordsAndShields</code>) isn&#39;t a main class.  This question doesn&#39;t make much sense to me.  If you are asking what a main class should look like; see <a href=\"https://docs.oracle.com/javase/tutorial/getStarted/application/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/getStarted/application/&hellip;</a>.  The <code>HelloWorldApp</code> class is a main class."},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650261663,"post_id":71907981,"comment_id":127066643,"body_markdown":"do the links not work?","body":"do the links not work?"},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650262246,"post_id":71907981,"comment_id":127066753,"body_markdown":"Ok ive added images and changed it to a main class","body":"Ok ive added images and changed it to a main class"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1650263060,"post_id":71907981,"comment_id":127066924,"body_markdown":"Your main class is `SwordsAndShields` but as you can see clearly in the error that you posted, you are trying to run `Swords_and_shields` - fix it.","body":"Your main class is <code>SwordsAndShields</code> but as you can see clearly in the error that you posted, you are trying to run <code>Swords_and_shields</code> - fix it."},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650263208,"post_id":71907981,"comment_id":127066957,"body_markdown":"Ive gotten the same error from that","body":"Ive gotten the same error from that"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1650263537,"post_id":71907981,"comment_id":127067019,"body_markdown":"According to the code on the screenshots, your class&#39; name is &quot;sas&quot;. Try running the program via green arrow in the gutter. Like that: https://i.imgur.com/nQTmspd.png","body":"According to the code on the screenshots, your class&#39; name is &quot;sas&quot;. Try running the program via green arrow in the gutter. Like that: <a href=\"https://i.imgur.com/nQTmspd.png\" rel=\"nofollow noreferrer\">i.imgur.com/nQTmspd.png</a>"},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650264025,"post_id":71907981,"comment_id":127067105,"body_markdown":"https://imgur.com/a/5x8OiUK theres another error here","body":"<a href=\"https://imgur.com/a/5x8OiUK\" rel=\"nofollow noreferrer\">imgur.com/a/5x8OiUK</a> theres another error here"},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650265067,"post_id":71907981,"comment_id":127067323,"body_markdown":"ok now i have another error as i fixed the other one","body":"ok now i have another error as i fixed the other one"},{"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"score":0,"creation_date":1650265322,"post_id":71907981,"comment_id":127067379,"body_markdown":"There is an apostrophe in the wrong place in /temp and i dont know how to get rid of it.        [https://imgur.com/CCphN6z]","body":"There is an apostrophe in the wrong place in /temp and i dont know how to get rid of it.        [<a href=\"https://imgur.com/CCphN6z]\" rel=\"nofollow noreferrer\">imgur.com/CCphN6z]</a>"}],"answers":[{"tags":[],"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650265131,"creation_date":1650265131,"answer_id":71908571,"question_id":71907981,"body_markdown":"[Here][1] Where it says cp at the top right be sure it ends with .main\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VhcsJ.png","title":"Im having a problem getting the main class of my intelliJ project","body":"<p><a href=\"https://i.stack.imgur.com/VhcsJ.png\" rel=\"nofollow noreferrer\">Here</a> Where it says cp at the top right be sure it ends with .main</p>\n"}],"owner":{"account_id":24977078,"reputation":15,"user_id":18839597,"display_name":"Mr Blue"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650265131,"creation_date":1650260562,"question_id":71907981,"body_markdown":"I need to Get a main class [here][1]\r\n\r\n\r\nI would then assume I need to put in the directory of the main class so i do [this][2]\r\nBut that gives me a separate error.\r\n\r\n[Here][3] You can see a clearer image of the code if that helps.\r\n\r\n[Would this be a main class?][4]\r\nand if so what would i put here: [Image][5]\r\n\r\n```package com.sqle.swordsandshields;\r\n\r\nimport net.fabricmc.api.ModInitializer;\r\n\r\npublic class SwordsAndShields implements ModInitializer {\r\n    @Override\r\n    public void onInitialize() {\r\n\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GlKTW.png\r\n  [2]: https://i.stack.imgur.com/J5EHl.png\r\n  [3]: https://i.stack.imgur.com/lb6xw.png\r\n  [4]: https://i.stack.imgur.com/6PvWM.png\r\n  [5]: https://i.stack.imgur.com/OsnNS.png","title":"Im having a problem getting the main class of my intelliJ project","body":"<p>I need to Get a main class <a href=\"https://i.stack.imgur.com/GlKTW.png\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I would then assume I need to put in the directory of the main class so i do <a href=\"https://i.stack.imgur.com/J5EHl.png\" rel=\"nofollow noreferrer\">this</a>\nBut that gives me a separate error.</p>\n<p><a href=\"https://i.stack.imgur.com/lb6xw.png\" rel=\"nofollow noreferrer\">Here</a> You can see a clearer image of the code if that helps.</p>\n<p><a href=\"https://i.stack.imgur.com/6PvWM.png\" rel=\"nofollow noreferrer\">Would this be a main class?</a>\nand if so what would i put here: <a href=\"https://i.stack.imgur.com/OsnNS.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<pre><code>\nimport net.fabricmc.api.ModInitializer;\n\npublic class SwordsAndShields implements ModInitializer {\n    @Override\n    public void onInitialize() {\n\n    }\n</code></pre>\n"},{"tags":["java","security","esapi","veracode"],"answers":[{"tags":[],"owner":{"account_id":268409,"reputation":6226,"user_id":557153,"accept_rate":83,"display_name":"avgvstvs"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1538597028,"creation_date":1529008576,"answer_id":50865552,"question_id":50846446,"body_markdown":"Okay, so the problem is that you are allowing user-control of that file path.  Imagine its on a UNIX box and they enter:\r\n\r\n    ../../../../../../../etc/shadow\r\n\r\nWhatever user privileges are granted to the user running that java `Thread` is possible to expose to the user in question.  I don&#39;t know what processing is going on in your application, but the danger is that you need to prevent user control of that `lookup` variable.  \r\n\r\nThe call you&#39;re making is consistent with the single test in `ValidatorTest.java`, which is definitely a deficiency in code coverage on our behalf.  \r\n\r\nNow, there&#39;s an excellent chance that even if you use this call that Veracode might still flag it:  the default file list in `ESAPI.properties` will need to be either truncated for your use case, or you&#39;ll have to create your own Validator rule for legal file extensions for your specific use case.  \r\n\r\nWhich brings up the next bit:  [There&#39;s a lot of mischief that can happen in regards to file uploads.][1]  \r\n\r\nIn short, to be *actually* secure about file uploads will require more than what ESAPI currently offers, which is unfortunately, only an extension check. In your particular case, make sure you try some directory traversal attacks.  And use that OWASP link to help analyze your application.  \r\n\r\nGiven that the OP wants to clear the issue in Veracode, you would want to chain a couple calls:\r\n\r\n`ESAPI.validator().getValidDirectoryPath()` and `ESAPI.Validator.getValidFileName()`\r\n\r\nBut be sure you&#39;ve properly truncated the extension list in `HttpUtilities.ApprovedUploadExtensions` in validator.properties as the default list is too permissive, at least until we release 2.1.0.2.  \r\n\r\nI have to stress however that even with this particular combination ***there is absolutely nothing ESAPI does to prevent a user from renaming &quot;netcat.exe&quot; to &quot;puppies.xlsx&quot; and bypassing your validation check***, that&#39;s why the rant on the first part of this answer.  \r\n\r\n***ESAPI&#39;s file validation is NOT secure, it&#39;s quite simply better than nothing at all.***\r\n\r\nDoing this correctly requires more work than just using 1-2 calls to ESAPI.  \r\n\r\n\r\nDISCLAIMER:  as of this writing I am the project co-lead for ESAPI.  \r\n\r\n\r\n  [1]: https://www.owasp.org/index.php/Unrestricted_File_Upload","title":"How to resolve External Control of File Name or Path (CWE ID 73)","body":"<p>Okay, so the problem is that you are allowing user-control of that file path.  Imagine its on a UNIX box and they enter:</p>\n\n<pre><code>../../../../../../../etc/shadow\n</code></pre>\n\n<p>Whatever user privileges are granted to the user running that java <code>Thread</code> is possible to expose to the user in question.  I don't know what processing is going on in your application, but the danger is that you need to prevent user control of that <code>lookup</code> variable.  </p>\n\n<p>The call you're making is consistent with the single test in <code>ValidatorTest.java</code>, which is definitely a deficiency in code coverage on our behalf.  </p>\n\n<p>Now, there's an excellent chance that even if you use this call that Veracode might still flag it:  the default file list in <code>ESAPI.properties</code> will need to be either truncated for your use case, or you'll have to create your own Validator rule for legal file extensions for your specific use case.  </p>\n\n<p>Which brings up the next bit:  <a href=\"https://www.owasp.org/index.php/Unrestricted_File_Upload\" rel=\"nofollow noreferrer\">There's a lot of mischief that can happen in regards to file uploads.</a>  </p>\n\n<p>In short, to be <em>actually</em> secure about file uploads will require more than what ESAPI currently offers, which is unfortunately, only an extension check. In your particular case, make sure you try some directory traversal attacks.  And use that OWASP link to help analyze your application.  </p>\n\n<p>Given that the OP wants to clear the issue in Veracode, you would want to chain a couple calls:</p>\n\n<p><code>ESAPI.validator().getValidDirectoryPath()</code> and <code>ESAPI.Validator.getValidFileName()</code></p>\n\n<p>But be sure you've properly truncated the extension list in <code>HttpUtilities.ApprovedUploadExtensions</code> in validator.properties as the default list is too permissive, at least until we release 2.1.0.2.  </p>\n\n<p>I have to stress however that even with this particular combination <strong><em>there is absolutely nothing ESAPI does to prevent a user from renaming \"netcat.exe\" to \"puppies.xlsx\" and bypassing your validation check</em></strong>, that's why the rant on the first part of this answer.  </p>\n\n<p><strong><em>ESAPI's file validation is NOT secure, it's quite simply better than nothing at all.</em></strong></p>\n\n<p>Doing this correctly requires more work than just using 1-2 calls to ESAPI.  </p>\n\n<p>DISCLAIMER:  as of this writing I am the project co-lead for ESAPI.  </p>\n"},{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556552228,"creation_date":1556552228,"answer_id":55906587,"question_id":50846446,"body_markdown":"There are several suggestions at: https://community.veracode.com/s/article/how-do-i-fix-cwe-73-external-control-of-file-name-or-path-in-java\r\n\r\nYou can use hardcoded values, if these files are stored in the server side.\r\n(i.e.: in a HashMap).\r\n\r\nAnother solution is to use a custom validator (from veracode page) :\r\n\r\n    // GOOD Code\r\n    String extension = request.getParameter(&quot;extension&quot;);\r\n    File f = new File(buildValidAvatarPath(extension))\r\n    \r\n    @FilePathCleanser\r\n    public String buildValidAvatarPath(extension) {\r\n      String[] allowedExtensions = new String[]{&quot;jpg&quot;,&quot;gif&quot;,&quot;png&quot;};\r\n      String extension = &quot;png&quot;; // Default extension\r\n      for (String allowedExtension: allowedExtensions) {\r\n        if (allowedExtension.equals(request.getParameter(&quot;extension&quot;))) {\r\n          extension = request.getParameter(&quot;extension&quot;);\r\n        }\r\n      }\r\n      // See &quot;Note on authorization&quot;\r\n      User user = getCurrentUser();\r\n      if (!userMayAccessFile(user, path)) {\r\n        throw new AuthorizationException(&quot;User may not access this file&quot;, user);\r\n      }\r\n      File(configPath + &quot;avatar.&quot; + extension)\r\n    \r\n      return path;\r\n    }\r\n\r\n","title":"How to resolve External Control of File Name or Path (CWE ID 73)","body":"<p>There are several suggestions at: <a href=\"https://community.veracode.com/s/article/how-do-i-fix-cwe-73-external-control-of-file-name-or-path-in-java\" rel=\"nofollow noreferrer\">https://community.veracode.com/s/article/how-do-i-fix-cwe-73-external-control-of-file-name-or-path-in-java</a></p>\n\n<p>You can use hardcoded values, if these files are stored in the server side.\n(i.e.: in a HashMap).</p>\n\n<p>Another solution is to use a custom validator (from veracode page) :</p>\n\n<pre><code>// GOOD Code\nString extension = request.getParameter(\"extension\");\nFile f = new File(buildValidAvatarPath(extension))\n\n@FilePathCleanser\npublic String buildValidAvatarPath(extension) {\n  String[] allowedExtensions = new String[]{\"jpg\",\"gif\",\"png\"};\n  String extension = \"png\"; // Default extension\n  for (String allowedExtension: allowedExtensions) {\n    if (allowedExtension.equals(request.getParameter(\"extension\"))) {\n      extension = request.getParameter(\"extension\");\n    }\n  }\n  // See \"Note on authorization\"\n  User user = getCurrentUser();\n  if (!userMayAccessFile(user, path)) {\n    throw new AuthorizationException(\"User may not access this file\", user);\n  }\n  File(configPath + \"avatar.\" + extension)\n\n  return path;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13418212,"reputation":153,"user_id":9681942,"display_name":"Margi212"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650264793,"creation_date":1650264793,"answer_id":71908520,"question_id":50846446,"body_markdown":"You can change file name by sanitizing it as below code snippet:\r\n\r\n    private static String sanitizeFileName(String name) {\r\n        return name\r\n                .chars()\r\n                .mapToObj(i -&gt; (char) i)\r\n                .map(c -&gt; Character.isWhitespace(c) ? &#39;_&#39; : c)\r\n                .filter(c -&gt; Character.isLetterOrDigit(c) || c == &#39;-&#39; || c == &#39;_&#39;  || c == &#39;:&#39;)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining());\r\n    }","title":"How to resolve External Control of File Name or Path (CWE ID 73)","body":"<p>You can change file name by sanitizing it as below code snippet:</p>\n<pre><code>private static String sanitizeFileName(String name) {\n    return name\n            .chars()\n            .mapToObj(i -&gt; (char) i)\n            .map(c -&gt; Character.isWhitespace(c) ? '_' : c)\n            .filter(c -&gt; Character.isLetterOrDigit(c) || c == '-' || c == '_'  || c == ':')\n            .map(String::valueOf)\n            .collect(Collectors.joining());\n}\n</code></pre>\n"}],"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23968,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1650264793,"creation_date":1528924845,"question_id":50846446,"body_markdown":"I am working on fixing Veracode issues in my application. Veracode has highlighted the flaw &quot;External Control of File Name or Path (CWE ID 73) &quot; in below code. \r\n\r\n    Thread.currentThread().getContextClassLoader().getResourceAsStream(lookupName)\r\n\r\nHow do I validate the parameter? If I need to use below ESAPI validation, then what is the exact parameter I should be passing in getValidFileName() method. Currently I am passing the parameters as below.\r\n\r\n    ESAPI.validator().getValidFileName(lookupName, lookupName,\r\n              ESAPI.securityConfiguration().getAllowedFileExtensions(), false);\r\n\r\nCorrect me whether I am following the right approach for fixing this issue.\r\n\r\n ","title":"How to resolve External Control of File Name or Path (CWE ID 73)","body":"<p>I am working on fixing Veracode issues in my application. Veracode has highlighted the flaw \"External Control of File Name or Path (CWE ID 73) \" in below code. </p>\n\n<pre><code>Thread.currentThread().getContextClassLoader().getResourceAsStream(lookupName)\n</code></pre>\n\n<p>How do I validate the parameter? If I need to use below ESAPI validation, then what is the exact parameter I should be passing in getValidFileName() method. Currently I am passing the parameters as below.</p>\n\n<pre><code>ESAPI.validator().getValidFileName(lookupName, lookupName,\n          ESAPI.securityConfiguration().getAllowedFileExtensions(), false);\n</code></pre>\n\n<p>Correct me whether I am following the right approach for fixing this issue.</p>\n"},{"tags":["java","coordinates","grahams-scan"],"comments":[{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1650261884,"post_id":71908076,"comment_id":127066684,"body_markdown":"Please post what you have tried and where you got stuck","body":"Please post what you have tried and where you got stuck"}],"answers":[{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650264691,"creation_date":1650262781,"answer_id":71908233,"question_id":71908076,"body_markdown":"Say you have a `Point` class that looks like something like this (you could also use the [&lt;code&gt;java.awt.geom.&lt;b&gt;Point2D&lt;/b&gt;&lt;/code&gt;][1] class but it is [not advisable apparently][2])  :\r\n\r\n    public class Point {\r\n        private int x;\r\n        private int y;\r\n    \r\n        public Point() {\r\n            this(0, 0);\r\n        }\r\n    \r\n        public Point(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    \r\n        public int getX() {\r\n            return this.x;\r\n        }\r\n    \r\n        public void setX(int x) {\r\n            this.x = x;\r\n        }\r\n    \r\n        public int getY() {\r\n            return this.y;\r\n        }\r\n    \r\n        public void setY(int y) {\r\n            this.y = y;\r\n        }\r\n    \r\n        public double distance(Point p2) {\r\n            int dx = this.x - p2.x;\r\n            int dy = this.y - p2.y;\r\n            return Math.sqrt(dx * dx + dy * dy);\r\n        }\r\n    \r\n        public boolean equals(Object other) {\r\n            if (other == null) {\r\n                return false;\r\n            }\r\n            if (other == this) {\r\n                return true;\r\n            }\r\n            if (!(other instanceof Point p2)) {\r\n                return false;\r\n            }\r\n            return (this.x == p2.x) &amp;&amp; (this.y == p2.y);\r\n        }\r\n    \r\n        public String toString() {\r\n            return String.format(&quot;Point(%d, %d)&quot;, this.x, this.y);\r\n        }\r\n    }\r\n\r\nAnd a file called `points.txt` that you want to parse with the following contents:\r\n\r\n    5 4\r\n    6 2\r\n    4 1\r\n\r\nYou could use a **[`BufferedReader`][3]** to read the file line by line:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            List&lt;Point&gt; pointsList = new ArrayList&lt;&gt;();\r\n            String fileName = &quot;points.txt&quot;;\r\n            try (BufferedReader reader = Files.newBufferedReader(Path.of(fileName))) {\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    String[] coordinates = line.split(&quot; &quot;);\r\n                    pointsList.add(new Point(\r\n                        Integer.parseInt(coordinates[0]),\r\n                        Integer.parseInt(coordinates[1])));\r\n                }\r\n            }\r\n            System.out.printf(&quot;pointsList: %s%n&quot;, pointsList);\r\n            Point[] pointsArray = pointsList.toArray(Point[]::new);\r\n            System.out.printf(&quot;pointsArray: %s%n&quot;, Arrays.toString(pointsArray));\r\n        }\r\n    }\r\n\r\n\r\n**Output:**\r\n\r\n    pointsList: [Point(5, 4), Point(6, 2), Point(4, 1)]\r\n    pointsArray: [Point(5, 4), Point(6, 2), Point(4, 1)]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/geom/Point2D.html\r\n  [2]: https://stackoverflow.com/questions/12423606/using-java-awt-point-in-model-classes-bad-coding-style\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html","title":"text file with x y coordinates to empty Point2D[] array in Java","body":"<p>Say you have a <code>Point</code> class that looks like something like this (you could also use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/geom/Point2D.html\" rel=\"nofollow noreferrer\"><code>java.awt.geom.<b>Point2D</b></code></a> class but it is <a href=\"https://stackoverflow.com/questions/12423606/using-java-awt-point-in-model-classes-bad-coding-style\">not advisable apparently</a>)  :</p>\n<pre><code>public class Point {\n    private int x;\n    private int y;\n\n    public Point() {\n        this(0, 0);\n    }\n\n    public Point(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public int getX() {\n        return this.x;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getY() {\n        return this.y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public double distance(Point p2) {\n        int dx = this.x - p2.x;\n        int dy = this.y - p2.y;\n        return Math.sqrt(dx * dx + dy * dy);\n    }\n\n    public boolean equals(Object other) {\n        if (other == null) {\n            return false;\n        }\n        if (other == this) {\n            return true;\n        }\n        if (!(other instanceof Point p2)) {\n            return false;\n        }\n        return (this.x == p2.x) &amp;&amp; (this.y == p2.y);\n    }\n\n    public String toString() {\n        return String.format(&quot;Point(%d, %d)&quot;, this.x, this.y);\n    }\n}\n</code></pre>\n<p>And a file called <code>points.txt</code> that you want to parse with the following contents:</p>\n<pre><code>5 4\n6 2\n4 1\n</code></pre>\n<p>You could use a <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\"><code>BufferedReader</code></a></strong> to read the file line by line:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        List&lt;Point&gt; pointsList = new ArrayList&lt;&gt;();\n        String fileName = &quot;points.txt&quot;;\n        try (BufferedReader reader = Files.newBufferedReader(Path.of(fileName))) {\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String[] coordinates = line.split(&quot; &quot;);\n                pointsList.add(new Point(\n                    Integer.parseInt(coordinates[0]),\n                    Integer.parseInt(coordinates[1])));\n            }\n        }\n        System.out.printf(&quot;pointsList: %s%n&quot;, pointsList);\n        Point[] pointsArray = pointsList.toArray(Point[]::new);\n        System.out.printf(&quot;pointsArray: %s%n&quot;, Arrays.toString(pointsArray));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>pointsList: [Point(5, 4), Point(6, 2), Point(4, 1)]\npointsArray: [Point(5, 4), Point(6, 2), Point(4, 1)]\n</code></pre>\n"}],"owner":{"account_id":24256856,"reputation":17,"user_id":18207071,"display_name":"m743290"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1650450734,"accepted_answer_id":71908233,"answer_count":1,"score":-1,"last_activity_date":1650264691,"creation_date":1650261483,"question_id":71908076,"body_markdown":"I want to read a file in Java and put the numbers from the file into the (x,y) coordinates of a Point2D[] array. How would I go about doing this?\r\n\r\nmy file looks like:\r\n\r\n    5 4\r\n    6 2\r\n    4 1\r\n\r\nwhich are points (5,4) (6,2) (4,1). ","title":"text file with x y coordinates to empty Point2D[] array in Java","body":"<p>I want to read a file in Java and put the numbers from the file into the (x,y) coordinates of a Point2D[] array. How would I go about doing this?</p>\n<p>my file looks like:</p>\n<pre><code>5 4\n6 2\n4 1\n</code></pre>\n<p>which are points (5,4) (6,2) (4,1).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"score":0,"creation_date":1650251092,"post_id":71907198,"comment_id":127065193,"body_markdown":"Link for application properties file https://i.stack.imgur.com/GfDgh.png","body":"Link for application properties file <a href=\"https://i.stack.imgur.com/GfDgh.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/GfDgh.png</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1650251289,"post_id":71907198,"comment_id":127065222,"body_markdown":"Blank password?","body":"Blank password?"},{"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"score":0,"creation_date":1650251649,"post_id":71907198,"comment_id":127065270,"body_markdown":"yes I am connecting for Windows Authentication in MSSQL server management studio so there is no password","body":"yes I am connecting for Windows Authentication in MSSQL server management studio so there is no password"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1650252886,"post_id":71907198,"comment_id":127065438,"body_markdown":"Windows authentication doesn’t work from Java.","body":"Windows authentication doesn’t work from Java."},{"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"score":0,"creation_date":1650274611,"post_id":71907198,"comment_id":127069737,"body_markdown":"okay, I will try and check by using SQL server Authentication","body":"okay, I will try and check by using SQL server Authentication"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1650301959,"post_id":71907198,"comment_id":127077750,"body_markdown":"You may want to read [ask].","body":"You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650264542,"creation_date":1650264542,"answer_id":71908492,"question_id":71907198,"body_markdown":"try as [umang.jaiswal] with square brackets","title":"I want to connect a Spring Boot application to MSSQL where username having dot (.) operator","body":"<p>try as [umang.jaiswal] with square brackets</p>\n"}],"owner":{"account_id":24871615,"reputation":11,"user_id":18746050,"display_name":"Umang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650264542,"creation_date":1650250969,"question_id":71907198,"body_markdown":"Below is my application properties file image\r\n\r\n  [1]: https://i.stack.imgur.com/GfDgh.png\r\n\r\nWhen I am running application its giving me an error as &#39;login failed for user umang.jaiswal&#39;","title":"I want to connect a Spring Boot application to MSSQL where username having dot (.) operator","body":"<p>Below is my application properties file image</p>\n<p>When I am running application its giving me an error as 'login failed for user umang.jaiswal'</p>\n"},{"tags":["java","intellij-idea","path","intellij-plugin"],"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":0,"creation_date":1650221047,"post_id":71903892,"comment_id":127060544,"body_markdown":"When you tried to debug the code, did you check for `File#exists()` on the icon file using &quot;Evaluate expression&quot;?","body":"When you tried to debug the code, did you check for <code>File#exists()</code> on the icon file using &quot;Evaluate expression&quot;?"},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1650226511,"post_id":71903892,"comment_id":127061603,"body_markdown":"I checked. You are right, file doesn&#39;t exist. Do you know what path should I pass to getIcon? I didn&#39;t found &quot;icons&quot; folder at all and absolute path as an argument didn&#39;t help too","body":"I checked. You are right, file doesn&#39;t exist. Do you know what path should I pass to getIcon? I didn&#39;t found &quot;icons&quot; folder at all and absolute path as an argument didn&#39;t help too"},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1650228888,"post_id":71903892,"comment_id":127062030,"body_markdown":"Finally, the solution is very simple. Just move jar-gray.png into resources folder!","body":"Finally, the solution is very simple. Just move jar-gray.png into resources folder!"}],"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650264210,"creation_date":1650215736,"question_id":71903892,"body_markdown":"I am creating my own plugin for Intellij. \r\nI am trying to show icon near my own language files and I faced a problem: icon has size 1px * 1px and I can&#39;t see it near file&#39;s name.\r\n\r\n\r\nVisualisation of problem\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the code how I found out size of icon.\r\n```java\r\n    public Icon getIcon() {\r\n        System.out.print(&quot;GetIcon\\n&quot;);\r\n        System.out.println(SimpleIcons.FILE.getIconWidth());  // prints 1\r\n        System.out.println(SimpleIcons.FILE.getIconHeight());  // prints 1\r\n        System.out.println(SimpleIcons.FILE);\r\n        return SimpleIcons.FILE;\r\n    }\r\n```\r\n\r\nAnd that is how I load the icon (example from JetBrains tutorial)\r\n\r\n```java\r\npackage org.intellij.sdk.language;\r\n\r\nimport com.intellij.openapi.util.IconLoader;\r\nimport javax.swing.*;\r\n\r\npublic class SimpleIcons {\r\n    public static final Icon FILE = IconLoader.getIcon(&quot;/icons/jar-gray.png&quot;, SimpleIcons.class);\r\n}\r\n```\r\n\r\nAll code is reachable, i checked it.\r\n\r\nI though file path is wrong but found many examples with same folder &quot;icons&quot;.\r\n\r\nI also tried other paths (for example absolute) and other icons\r\n\r\nAny ideas what i do wrong?\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DpOVO.png","title":"Icons are invisible in my Intellij plugin","body":"<p>I am creating my own plugin for Intellij.\nI am trying to show icon near my own language files and I faced a problem: icon has size 1px * 1px and I can't see it near file's name.</p>\n<p>Visualisation of problem\n<a href=\"https://i.stack.imgur.com/DpOVO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DpOVO.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the code how I found out size of icon.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Icon getIcon() {\n        System.out.print(&quot;GetIcon\\n&quot;);\n        System.out.println(SimpleIcons.FILE.getIconWidth());  // prints 1\n        System.out.println(SimpleIcons.FILE.getIconHeight());  // prints 1\n        System.out.println(SimpleIcons.FILE);\n        return SimpleIcons.FILE;\n    }\n</code></pre>\n<p>And that is how I load the icon (example from JetBrains tutorial)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.intellij.sdk.language;\n\nimport com.intellij.openapi.util.IconLoader;\nimport javax.swing.*;\n\npublic class SimpleIcons {\n    public static final Icon FILE = IconLoader.getIcon(&quot;/icons/jar-gray.png&quot;, SimpleIcons.class);\n}\n</code></pre>\n<p>All code is reachable, i checked it.</p>\n<p>I though file path is wrong but found many examples with same folder &quot;icons&quot;.</p>\n<p>I also tried other paths (for example absolute) and other icons</p>\n<p>Any ideas what i do wrong?</p>\n"},{"tags":["java","android","oracle","jdeveloper","oracle-maf"],"comments":[{"owner":{"account_id":1121476,"reputation":2162,"user_id":1109719,"accept_rate":100,"display_name":"User404"},"score":0,"creation_date":1462170972,"post_id":36863763,"comment_id":61507904,"body_markdown":"Does the user you run JDeveloper with has enough rights to read/write to the folders you see in your log? Seems like Installing plugman is failing, wich might be caused by insufficient rights.","body":"Does the user you run JDeveloper with has enough rights to read/write to the folders you see in your log? Seems like Installing plugman is failing, wich might be caused by insufficient rights."},{"owner":{"account_id":5631497,"reputation":58,"user_id":4458331,"display_name":"Hadi Faramarzi"},"score":0,"creation_date":1462641434,"post_id":36863763,"comment_id":61726647,"body_markdown":"Thanks for your reply, I already tired all methods running jdev using sudo and other methods, but i also opened this discussion up in oracle forums and they replied that you can run and test oracle products on ubuntu but it&#39;s not the OS they support, so i moved on to windows, but thanks anyways","body":"Thanks for your reply, I already tired all methods running jdev using sudo and other methods, but i also opened this discussion up in oracle forums and they replied that you can run and test oracle products on ubuntu but it&#39;s not the OS they support, so i moved on to windows, but thanks anyways"}],"answers":[{"tags":[],"owner":{"account_id":24983125,"reputation":1,"user_id":18845186,"display_name":"user18845186"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650264176,"creation_date":1650264176,"answer_id":71908416,"question_id":36863763,"body_markdown":"Final support for MAF in JDeveloper is 12.2.1.3.0 . This is the last build version of JDeveloper support efficient MAF application deployment. So try this version of JDeveloper IDE.","title":"Oracle MAF 2.3.0 Jdeveloper 12.2.1 can&#39;t deploy applications","body":"<p>Final support for MAF in JDeveloper is 12.2.1.3.0 . This is the last build version of JDeveloper support efficient MAF application deployment. So try this version of JDeveloper IDE.</p>\n"}],"owner":{"account_id":5631497,"reputation":58,"user_id":4458331,"display_name":"Hadi Faramarzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650264176,"creation_date":1461670470,"question_id":36863763,"body_markdown":"i&#39;m developing an android app with MAF 2.3.0 in Jdeveloper 12.2.1 on a Ubuntu x64 OS and i have android SDK emulator running but everytime i want to deploy my apps i get an error :\r\n\r\n    [03:40:37 PM] ----  Deployment started.  ----\r\n    [03:40:37 PM] Target platform is  (Android).\r\n    [03:40:37 PM] Beginning deployment of MAF application &quot;MobileApp&quot; to Android using profile &quot;Android1&quot;.\r\n    [03:40:38 PM] Checking state of Android Debug Bridge server...\r\n    [03:40:41 PM] Started Android Debug Bridge server.\r\n    [03:40:41 PM] Verifying a single Android emulator is online and connected to the ADB server...\r\n    [03:40:42 PM] Cordova Plugman could not be found and needs to be installed.\r\n    [03:40:42 PM] This one-time installation may take a few minutes.\r\n    [03:40:42 PM] Installing Cordova Plugman...\r\n    [03:40:46 PM] Command-line executed: [/usr/local/java/jdk1.8.0_74/bin/java, -jar, /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/maf-helper.jar, installTools, -tools, /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools]\r\n    [03:40:46 PM] Creating directory /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/plugman\r\n    [03:40:46 PM] Installing plugman ...\r\n    [03:40:46 PM] Error Code : INTERNAL_ERROR\r\n    [03:40:46 PM] /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/node-linux-x86/bin/npm: 2: exec: /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/node-linux-x86/bin/node: not found\r\n    [03:40:46 PM] oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\r\n    [03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.installTools(Unknown Source)\r\n    [03:40:46 PM] at oracle.maf.mafhelper.MafHelperMain.main(Unknown Source)\r\n    [03:40:46 PM] Caused by: oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\r\n    [03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.runProcess(Unknown Source)\r\n    [03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.executeCmd(Unknown Source)\r\n    [03:40:46 PM] ... 2 more\r\n    [03:40:46 PM] Caused by: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\r\n    [03:40:46 PM] ... 4 more\r\n    [03:40:46 PM] Caused by: java.lang.Exception\r\n    [03:40:46 PM] at oracle.maf.mafhelper.api.MafHelperException.&lt;init&gt;(Unknown Source)\r\n    [03:40:46 PM] ... 4 more\r\n    [03:40:46 PM] Shutting down Android Debug Bridge server...\r\n    [03:40:46 PM] Deployment cancelled.\r\n    [03:40:47 PM] ----  Deployment incomplete  ----.\r\n    [03:40:47 PM] An error occurred installing plugman. (oracle.adfmf.framework.dt.deploy.common.deployers.plugins.PlugmanInstallerDeployer)\r\n\r\n","title":"Oracle MAF 2.3.0 Jdeveloper 12.2.1 can&#39;t deploy applications","body":"<p>i'm developing an android app with MAF 2.3.0 in Jdeveloper 12.2.1 on a Ubuntu x64 OS and i have android SDK emulator running but everytime i want to deploy my apps i get an error :</p>\n\n<pre><code>[03:40:37 PM] ----  Deployment started.  ----\n[03:40:37 PM] Target platform is  (Android).\n[03:40:37 PM] Beginning deployment of MAF application \"MobileApp\" to Android using profile \"Android1\".\n[03:40:38 PM] Checking state of Android Debug Bridge server...\n[03:40:41 PM] Started Android Debug Bridge server.\n[03:40:41 PM] Verifying a single Android emulator is online and connected to the ADB server...\n[03:40:42 PM] Cordova Plugman could not be found and needs to be installed.\n[03:40:42 PM] This one-time installation may take a few minutes.\n[03:40:42 PM] Installing Cordova Plugman...\n[03:40:46 PM] Command-line executed: [/usr/local/java/jdk1.8.0_74/bin/java, -jar, /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/maf-helper.jar, installTools, -tools, /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools]\n[03:40:46 PM] Creating directory /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/plugman\n[03:40:46 PM] Installing plugman ...\n[03:40:46 PM] Error Code : INTERNAL_ERROR\n[03:40:46 PM] /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/node-linux-x86/bin/npm: 2: exec: /home/hadi/Oracle/Middleware/Oracle_Home/jdeveloper/jdev/extensions/oracle.maf/tools/node-linux-x86/bin/node: not found\n[03:40:46 PM] oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\n[03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.installTools(Unknown Source)\n[03:40:46 PM] at oracle.maf.mafhelper.MafHelperMain.main(Unknown Source)\n[03:40:46 PM] Caused by: oracle.maf.mafhelper.api.MafHelperException: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\n[03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.runProcess(Unknown Source)\n[03:40:46 PM] at oracle.maf.mafhelper.internal.utils.MafHelperInternalUtilities.executeCmd(Unknown Source)\n[03:40:46 PM] ... 2 more\n[03:40:46 PM] Caused by: oracle.maf.mafhelper.api.MafHelperException: java.lang.Exception\n[03:40:46 PM] ... 4 more\n[03:40:46 PM] Caused by: java.lang.Exception\n[03:40:46 PM] at oracle.maf.mafhelper.api.MafHelperException.&lt;init&gt;(Unknown Source)\n[03:40:46 PM] ... 4 more\n[03:40:46 PM] Shutting down Android Debug Bridge server...\n[03:40:46 PM] Deployment cancelled.\n[03:40:47 PM] ----  Deployment incomplete  ----.\n[03:40:47 PM] An error occurred installing plugman. (oracle.adfmf.framework.dt.deploy.common.deployers.plugins.PlugmanInstallerDeployer)\n</code></pre>\n"},{"tags":["java","comparable"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650264029,"creation_date":1650261902,"answer_id":71908121,"question_id":71907690,"body_markdown":"The `int[]` type does not implement `Comparable`.   So you cannot use this method to merge two `int[]` objects.\r\n\r\nNow I cannot see anywhere in the method that it would attempt to cast a `int[]` to a `Comparable[]` ... so we can only assume that the exception is actually being thrown by some other code.  The stacktrace would confirm this.\r\n\r\nAs to how to solve the *real* problem ... I don&#39;t know.  Because you haven&#39;t explained *why* you (apparently) want this method to work when it is called with `int[]` parameters.\r\n\r\n-------------------------\r\n\r\nIt is also worth noting that you are not using the `Comparable` type correctly.  In fact, it is a generic type that looks like this\r\n\r\n    public interface &lt;T&gt; Comparable {\r\n        public int compareTo(T t);\r\n    }\r\n\r\nIt says that the we can compare `this` which is a `T` with another instance of `T`.\r\n\r\nYou are using it as a *raw* type ... ignoring the type parameter `T`.  At the very least you should be getting compiler warnings about this.\r\n\r\nTo use it correctly, your method signature would need to look like this:\r\n\r\n    public &lt;T extends Comparable&gt; T[] mergeArrays(T[] arrayOne, T[] arrayTwo);\r\n\r\nThen you have the problem of how to implement `new T[...]`.  That requires reflection and an extra `Class&lt;T&gt;` parameter.\r\n\r\n    public &lt;T extends Comparable&gt; T[] mergeArrays(\r\n              T[] arrayOne, T[] arrayTwo, Class&lt;T&gt; clazz) {\r\n        T[] result = Array.newInstance(clazz, arrayOne.length + arrayTwo.length);\r\n        ...\r\n\r\n----------------\r\n\r\nIn short, your code is problematic for Java 5 and later.\r\n","title":"How do I make an array of Comparables","body":"<p>The <code>int[]</code> type does not implement <code>Comparable</code>.   So you cannot use this method to merge two <code>int[]</code> objects.</p>\n<p>Now I cannot see anywhere in the method that it would attempt to cast a <code>int[]</code> to a <code>Comparable[]</code> ... so we can only assume that the exception is actually being thrown by some other code.  The stacktrace would confirm this.</p>\n<p>As to how to solve the <em>real</em> problem ... I don't know.  Because you haven't explained <em>why</em> you (apparently) want this method to work when it is called with <code>int[]</code> parameters.</p>\n<hr />\n<p>It is also worth noting that you are not using the <code>Comparable</code> type correctly.  In fact, it is a generic type that looks like this</p>\n<pre><code>public interface &lt;T&gt; Comparable {\n    public int compareTo(T t);\n}\n</code></pre>\n<p>It says that the we can compare <code>this</code> which is a <code>T</code> with another instance of <code>T</code>.</p>\n<p>You are using it as a <em>raw</em> type ... ignoring the type parameter <code>T</code>.  At the very least you should be getting compiler warnings about this.</p>\n<p>To use it correctly, your method signature would need to look like this:</p>\n<pre><code>public &lt;T extends Comparable&gt; T[] mergeArrays(T[] arrayOne, T[] arrayTwo);\n</code></pre>\n<p>Then you have the problem of how to implement <code>new T[...]</code>.  That requires reflection and an extra <code>Class&lt;T&gt;</code> parameter.</p>\n<pre><code>public &lt;T extends Comparable&gt; T[] mergeArrays(\n          T[] arrayOne, T[] arrayTwo, Class&lt;T&gt; clazz) {\n    T[] result = Array.newInstance(clazz, arrayOne.length + arrayTwo.length);\n    ...\n</code></pre>\n<hr />\n<p>In short, your code is problematic for Java 5 and later.</p>\n"}],"owner":{"account_id":24981968,"reputation":1,"user_id":18844145,"display_name":"Devon Goshorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650264029,"creation_date":1650257438,"question_id":71907690,"body_markdown":"I am trying to make arrays of objects that implement the Comparable interface.\r\nThe object of the project is to merge two presorted arrays, of Comparable type, into a single\r\nsorted array. So far I have:\r\n\r\n    public Comparable[] mergeArrays(Comparable[] arrayOne, Comparable[] arrayTwo){\r\n\t\t\r\n        Comparable[] merged = new Comparable[arrayOne.length + arrayTwo.length];\r\n\t\tint i = 0, j = 0;\r\n\t\t\r\n\t\tfor(int k = 0; k &lt; merged.length; ++k) {\r\n\t\t\tif(i &gt;= arrayOne.length) {\r\n\t\t\t\tmerged[k] = arrayTwo[j];\r\n\t\t\t\t++j;\r\n\t\t\t}\r\n\t\t\telse if(j &gt;= arrayTwo.length) {\r\n\t\t\t\tmerged[k] = arrayOne[i];\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(arrayOne[i].compareTo(arrayTwo[j]) &gt; 0) {\r\n\t\t\t\t\tmerged[k] = arrayTwo[j];\r\n\t\t\t\t\t++j;\r\n\t\t\t\t}\r\n\t\t\t\telse if(arrayOne[i].compareTo(arrayTwo) &lt; 0) {\r\n\t\t\t\t\tmerged[k] = arrayOne[i];\r\n\t\t\t\t\t++i;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tmerged[k] = arrayOne[i];\r\n\t\t\t\t\tmerged[k + 1] = arrayTwo[j];\r\n\t\t\t\t\t++k;\r\n\t\t\t\t\t++j;\r\n\t\t\t\t\t++i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn merged;\r\n\t}\r\n\r\nThis does not throw any exceptions until run time, where I get a type mismatch between\r\nint[] and Comparable[]. The method must have two formal parameters of arrays of objects that implement the comparable interface. The method has to return an array of Comparable.","title":"How do I make an array of Comparables","body":"<p>I am trying to make arrays of objects that implement the Comparable interface.\nThe object of the project is to merge two presorted arrays, of Comparable type, into a single\nsorted array. So far I have:</p>\n<pre><code>public Comparable[] mergeArrays(Comparable[] arrayOne, Comparable[] arrayTwo){\n    \n    Comparable[] merged = new Comparable[arrayOne.length + arrayTwo.length];\n    int i = 0, j = 0;\n    \n    for(int k = 0; k &lt; merged.length; ++k) {\n        if(i &gt;= arrayOne.length) {\n            merged[k] = arrayTwo[j];\n            ++j;\n        }\n        else if(j &gt;= arrayTwo.length) {\n            merged[k] = arrayOne[i];\n            ++i;\n        }\n        else {\n            if(arrayOne[i].compareTo(arrayTwo[j]) &gt; 0) {\n                merged[k] = arrayTwo[j];\n                ++j;\n            }\n            else if(arrayOne[i].compareTo(arrayTwo) &lt; 0) {\n                merged[k] = arrayOne[i];\n                ++i;\n            }\n            else {\n                merged[k] = arrayOne[i];\n                merged[k + 1] = arrayTwo[j];\n                ++k;\n                ++j;\n                ++i;\n            }\n        }\n    }\n    return merged;\n}\n</code></pre>\n<p>This does not throw any exceptions until run time, where I get a type mismatch between\nint[] and Comparable[]. The method must have two formal parameters of arrays of objects that implement the comparable interface. The method has to return an array of Comparable.</p>\n"},{"tags":["java","winapi","windows-services","jna"],"comments":[{"owner":{"account_id":19877014,"reputation":97,"user_id":14561790,"display_name":"Mr. code"},"score":0,"creation_date":1649921623,"post_id":71866734,"comment_id":126998407,"body_markdown":"I want to display a message box in the client desktop.","body":"I want to display a message box in the client desktop."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1649950744,"post_id":71866734,"comment_id":127009039,"body_markdown":"Please link to the MS Documentation you say describes how to do this, or post sample code on how it can be done using WTSSendMessage.  As it currently stands your question is way too broad for anyone to help.","body":"Please link to the MS Documentation you say describes how to do this, or post sample code on how it can be done using WTSSendMessage.  As it currently stands your question is way too broad for anyone to help."},{"owner":{"account_id":19877014,"reputation":97,"user_id":14561790,"display_name":"Mr. code"},"score":0,"creation_date":1650256383,"post_id":71866734,"comment_id":127065830,"body_markdown":"I have added links now.. Thanks","body":"I have added links now.. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650261300,"creation_date":1650261300,"answer_id":71908048,"question_id":71866734,"body_markdown":"According to [the link you provided][1], a service can\r\n&gt; Display a dialog box in the user&#39;s session using the `WTSSendMessage` function.\r\n\r\nJNA is comprised of the base functionality in the `jna` artifact and user-contributed mappings in the `jna-platform` artifact.  While the `Wtsapi32` class exists in JNA, only some of that dll&#39;s functions have been mapped, but not `WTSSendMessage`.\r\n\r\nI note you linked the docs to the -A suffixed version: this is the &quot;ANSI&quot; mapping that does not apply to any modern version of windows.  If you map the un-suffixed version using the WinAPI default type mapper, it will automatically choose the correct -A or -W suffixed version (the difference is that -W uses UTF16 wide strings while -A uses 8-bit ASCII).  But for your convenience you can just map the -W version, [`WTSSendMessageW`][2].\r\n\r\nLooking down the list of arguments, you need:\r\n - A `HANDLE` obtained from `WTSOpenServer` \r\n - The session to send to (you can use the current session)\r\n - A title bar string you can create \r\n - A message you can create\r\n - A style (you can just use the &quot;OK&quot; version)\r\n - A timeout\r\n - A pointer to receive the response value\r\n\r\nFor the server handle, the docs for [`WTSOpenServer`][3] state\r\n&gt; You do not need to open a handle for operations performed on the RD Session Host server on which your application is running. Use the constant `WTS_CURRENT_SERVER_HANDLE` instead.\r\n\r\nThis is already mapped in JNA (it&#39;s a `HANDLE` wrapping null).\r\n\r\nSo you just need to map the `WTSSendMessage` function.  The type mappings are straightforward. `HANDLE` and `LPWSTR` are mapped in JNA, and you should use `int` for the `DWORD` args and `boolean` for `BOOL`.  You&#39;ll use an interface, and extend the existing JNA mapping to obtain access to its functions:\r\n```java\r\npublic interface MyWtsapi32 extends com.sun.jna.platform.win32.Wtsapi32 {\r\n    // Your own instance to access your functions\r\n    MyWtsapi32 INSTANCE = Native.load(&quot;Wtsapi32&quot;, Wtsapi32.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n    // From https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-messagebox\r\n    int MB_OK = 0; \r\n\r\n    // The function to send the message\r\n    boolean WTSSendMessageW(HANDLE hServer, int SessionId,\r\n        LPWSTR pTitle, int TitleLength,\r\n        LPWSTR pMessage, int MessageLength,\r\n        int Style, int Timeout, IntByReference pResponse, boolean bWait);\r\n}\r\n```\r\nThen use the functions.  We can use the current server handle, the current session, create our strings to pass, use the &quot;OK&quot; style, and ignore the timeout/response by passing false as the wait parameter.\r\n```java\r\nLPWSTR pTitle = new LPWSTR(&quot;Message box title&quot;);\r\nint titleLength = (&quot;Message box title&quot;.length() + 1) * Native.WCHAR_SIZE;\r\nLPWSTR pMessage = new LPWSTR(&quot;Hello World!&quot;);\r\nint messageLength = (&quot;Hello World!&quot;.length() + 1) * Native.WCHAR_SIZE;\r\nIntByReference pResponse = new IntByReference();\r\n\r\nMyWtsapi32.INSTANCE.WTSSendMessageW(\r\n    WTS_CURRENT_SERVER_HANDLE, WTS_CURRENT_SESSION,\r\n    pTitle, titleLength,\r\n    pMessage, messageLength,\r\n    MB_OK, 0, pResponse, false);\r\n// should return IDASYNC in pResponse.getValue()\r\n```\r\n\r\nThis is all untested.  You&#39;ll need appropriate imports.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/services/interactive-services?redirectedfrom=MSDN\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtssendmessagew\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtsopenserverw","title":"How to display message using WTSSendMessage?","body":"<p>According to <a href=\"https://learn.microsoft.com/en-us/windows/win32/services/interactive-services?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">the link you provided</a>, a service can</p>\n<blockquote>\n<p>Display a dialog box in the user's session using the <code>WTSSendMessage</code> function.</p>\n</blockquote>\n<p>JNA is comprised of the base functionality in the <code>jna</code> artifact and user-contributed mappings in the <code>jna-platform</code> artifact.  While the <code>Wtsapi32</code> class exists in JNA, only some of that dll's functions have been mapped, but not <code>WTSSendMessage</code>.</p>\n<p>I note you linked the docs to the -A suffixed version: this is the &quot;ANSI&quot; mapping that does not apply to any modern version of windows.  If you map the un-suffixed version using the WinAPI default type mapper, it will automatically choose the correct -A or -W suffixed version (the difference is that -W uses UTF16 wide strings while -A uses 8-bit ASCII).  But for your convenience you can just map the -W version, <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtssendmessagew\" rel=\"nofollow noreferrer\"><code>WTSSendMessageW</code></a>.</p>\n<p>Looking down the list of arguments, you need:</p>\n<ul>\n<li>A <code>HANDLE</code> obtained from <code>WTSOpenServer</code></li>\n<li>The session to send to (you can use the current session)</li>\n<li>A title bar string you can create</li>\n<li>A message you can create</li>\n<li>A style (you can just use the &quot;OK&quot; version)</li>\n<li>A timeout</li>\n<li>A pointer to receive the response value</li>\n</ul>\n<p>For the server handle, the docs for <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtsopenserverw\" rel=\"nofollow noreferrer\"><code>WTSOpenServer</code></a> state</p>\n<blockquote>\n<p>You do not need to open a handle for operations performed on the RD Session Host server on which your application is running. Use the constant <code>WTS_CURRENT_SERVER_HANDLE</code> instead.</p>\n</blockquote>\n<p>This is already mapped in JNA (it's a <code>HANDLE</code> wrapping null).</p>\n<p>So you just need to map the <code>WTSSendMessage</code> function.  The type mappings are straightforward. <code>HANDLE</code> and <code>LPWSTR</code> are mapped in JNA, and you should use <code>int</code> for the <code>DWORD</code> args and <code>boolean</code> for <code>BOOL</code>.  You'll use an interface, and extend the existing JNA mapping to obtain access to its functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyWtsapi32 extends com.sun.jna.platform.win32.Wtsapi32 {\n    // Your own instance to access your functions\n    MyWtsapi32 INSTANCE = Native.load(&quot;Wtsapi32&quot;, Wtsapi32.class, W32APIOptions.DEFAULT_OPTIONS);\n\n    // From https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-messagebox\n    int MB_OK = 0; \n\n    // The function to send the message\n    boolean WTSSendMessageW(HANDLE hServer, int SessionId,\n        LPWSTR pTitle, int TitleLength,\n        LPWSTR pMessage, int MessageLength,\n        int Style, int Timeout, IntByReference pResponse, boolean bWait);\n}\n</code></pre>\n<p>Then use the functions.  We can use the current server handle, the current session, create our strings to pass, use the &quot;OK&quot; style, and ignore the timeout/response by passing false as the wait parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LPWSTR pTitle = new LPWSTR(&quot;Message box title&quot;);\nint titleLength = (&quot;Message box title&quot;.length() + 1) * Native.WCHAR_SIZE;\nLPWSTR pMessage = new LPWSTR(&quot;Hello World!&quot;);\nint messageLength = (&quot;Hello World!&quot;.length() + 1) * Native.WCHAR_SIZE;\nIntByReference pResponse = new IntByReference();\n\nMyWtsapi32.INSTANCE.WTSSendMessageW(\n    WTS_CURRENT_SERVER_HANDLE, WTS_CURRENT_SESSION,\n    pTitle, titleLength,\n    pMessage, messageLength,\n    MB_OK, 0, pResponse, false);\n// should return IDASYNC in pResponse.getValue()\n</code></pre>\n<p>This is all untested.  You'll need appropriate imports.</p>\n"}],"owner":{"account_id":19877014,"reputation":97,"user_id":14561790,"display_name":"Mr. code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71908048,"answer_count":1,"score":0,"last_activity_date":1650262579,"creation_date":1649912686,"question_id":71866734,"body_markdown":"I want to display some message to the user when a task is completed. But the Application is running as a service, so it&#39;s not possible to use a UI component.\r\n\r\nMicrosoft documentation says we can use win32 API: `WTSSendMessage` to show a dialog box. I went through the JNA documentation but couldn&#39;t find any reference for this specific thing. I want to do this for a Java application. Is there a way through JNA? \r\n\r\nLink to the documentation of WTSSendMessageA: https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtssendmessagea\r\n\r\nHere are some other ways suggested by Microsoft:\r\nhttps://learn.microsoft.com/en-us/windows/win32/services/interactive-services?redirectedfrom=MSDN","title":"How to display message using WTSSendMessage?","body":"<p>I want to display some message to the user when a task is completed. But the Application is running as a service, so it's not possible to use a UI component.</p>\n<p>Microsoft documentation says we can use win32 API: <code>WTSSendMessage</code> to show a dialog box. I went through the JNA documentation but couldn't find any reference for this specific thing. I want to do this for a Java application. Is there a way through JNA?</p>\n<p>Link to the documentation of WTSSendMessageA: <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtssendmessagea\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/api/wtsapi32/nf-wtsapi32-wtssendmessagea</a></p>\n<p>Here are some other ways suggested by Microsoft:\n<a href=\"https://learn.microsoft.com/en-us/windows/win32/services/interactive-services?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/win32/services/interactive-services?redirectedfrom=MSDN</a></p>\n"},{"tags":["java","swing","jframe","awt","actionlistener"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650208370,"creation_date":1650208370,"answer_id":71903035,"question_id":71902891,"body_markdown":"The void method főM&#225;solgat&#243; is not the class constructor. \r\n\r\nWhen you instance a new főM&#225;solgat&#243; you&#39;re simply invoking the default no-args constructor instead of the void method főM&#225;solgat&#243; where you show your `JFrame`.\r\n\r\nYou should re-write it like this:\r\n\r\n```\r\npublic class főM&#225;solgat&#243; implements ActionListener {\r\n\r\n    JButton b;\r\n    JLabel label;\r\n    JTextField tfield;\r\n    JFrame frame;\r\n\r\n    //This is now YOUR no-args constructor not the default one provided by Java\r\n    public főM&#225;solgat&#243;(){\r\n        frame = new JFrame();\r\n        b = new JButton(&quot;M&#225;sol&#225;s&quot;);\r\n        label = new JLabel(&quot;&quot;);\r\n        tfield = new JTextField();\r\n        frame.add(b);\r\n        frame.add(label);\r\n        frame.add(tfield);\r\n        b.addActionListener(this);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        label.setText(tfield.getText());\r\n    }\r\n}\r\n```","title":"JFrame doesn&#39;t appear with ActionListener","body":"<p>The void method főMásolgató is not the class constructor.</p>\n<p>When you instance a new főMásolgató you're simply invoking the default no-args constructor instead of the void method főMásolgató where you show your <code>JFrame</code>.</p>\n<p>You should re-write it like this:</p>\n<pre><code>public class főMásolgató implements ActionListener {\n\n    JButton b;\n    JLabel label;\n    JTextField tfield;\n    JFrame frame;\n\n    //This is now YOUR no-args constructor not the default one provided by Java\n    public főMásolgató(){\n        frame = new JFrame();\n        b = new JButton(&quot;Másolás&quot;);\n        label = new JLabel(&quot;&quot;);\n        tfield = new JTextField();\n        frame.add(b);\n        frame.add(label);\n        frame.add(tfield);\n        b.addActionListener(this);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        label.setText(tfield.getText());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4422959,"reputation":497,"user_id":3602294,"display_name":"mzouink"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650213936,"creation_date":1650213936,"answer_id":71903706,"question_id":71902891,"body_markdown":"Your mistake is that \r\n\r\n    public void főM&#225;solgat&#243;(){ ... }\r\n\r\nis a **function** not a constructor.\r\n\r\nYour code will work if you do:\r\n\r\n    public class m&#225;solgat&#243;Haszn&#225;lata {\r\n      public static void main(String args[]){\r\n        new főM&#225;solgat&#243;().főM&#225;solgat&#243;();\r\n      }}\r\n\r\nbecause here he will use the default constructor. then he will call your function.\r\nOr you can fix it by changing:\r\n\r\n    public void főM&#225;solgat&#243;(){ ... }\r\n\r\nto\r\n\r\n    public főM&#225;solgat&#243;(){ ... }\r\n\r\nThen your block is the **constructor**.\r\n\r\n***Hint:*** you can debug this by running line by line. This will let you know if your block was run or not.","title":"JFrame doesn&#39;t appear with ActionListener","body":"<p>Your mistake is that</p>\n<pre><code>public void főMásolgató(){ ... }\n</code></pre>\n<p>is a <strong>function</strong> not a constructor.</p>\n<p>Your code will work if you do:</p>\n<pre><code>public class másolgatóHasználata {\n  public static void main(String args[]){\n    new főMásolgató().főMásolgató();\n  }}\n</code></pre>\n<p>because here he will use the default constructor. then he will call your function.\nOr you can fix it by changing:</p>\n<pre><code>public void főMásolgató(){ ... }\n</code></pre>\n<p>to</p>\n<pre><code>public főMásolgató(){ ... }\n</code></pre>\n<p>Then your block is the <strong>constructor</strong>.</p>\n<p><em><strong>Hint:</strong></em> you can debug this by running line by line. This will let you know if your block was run or not.</p>\n"}],"owner":{"account_id":24974569,"reputation":13,"user_id":18837357,"display_name":"BARNI.exe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71903035,"answer_count":2,"score":1,"last_activity_date":1650262477,"creation_date":1650207222,"question_id":71902891,"body_markdown":"I&#39;m a beginner and I&#39;ve written this code but it does not seem to work. I&#39;ve  run the code and for some reasons the `JFrame` does not appear (the class name is in Hungarian, do not mind it).\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class főM&#225;solgat&#243; implements ActionListener {\r\n\r\n    JButton b;\r\n    JLabel label;\r\n    JTextField tfield;\r\n    JFrame frame;\r\n\r\n    public void főM&#225;solgat&#243;(){\r\n        frame = new JFrame();\r\n        b = new JButton(&quot;M&#225;sol&#225;s&quot;);\r\n        label = new JLabel(&quot;&quot;);\r\n        tfield = new JTextField();\r\n        frame.add(b);\r\n        frame.add(label);\r\n        frame.add(tfield);\r\n        b.addActionListener(this);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        label.setText(tfield.getText());\r\n    }\r\n}\r\n\r\npublic class m&#225;solgat&#243;Haszn&#225;lata {\r\n    public static void main(String args[]){\r\n        new főM&#225;solgat&#243;();\r\n    }\r\n}\r\n```","title":"JFrame doesn&#39;t appear with ActionListener","body":"<p>I'm a beginner and I've written this code but it does not seem to work. I've  run the code and for some reasons the <code>JFrame</code> does not appear (the class name is in Hungarian, do not mind it).</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class főMásolgató implements ActionListener {\n\n    JButton b;\n    JLabel label;\n    JTextField tfield;\n    JFrame frame;\n\n    public void főMásolgató(){\n        frame = new JFrame();\n        b = new JButton(&quot;Másolás&quot;);\n        label = new JLabel(&quot;&quot;);\n        tfield = new JTextField();\n        frame.add(b);\n        frame.add(label);\n        frame.add(tfield);\n        b.addActionListener(this);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        label.setText(tfield.getText());\n    }\n}\n\npublic class másolgatóHasználata {\n    public static void main(String args[]){\n        new főMásolgató();\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650262008,"post_id":71908119,"comment_id":127066708,"body_markdown":"the instance is not changed in any way. The called method - `toString` here - is just the method of the given instance.","body":"the instance is not changed in any way. The called method - <code>toString</code> here - is just the method of the given instance."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1650262052,"post_id":71908119,"comment_id":127066712,"body_markdown":"Type information is stored on the instance. Casting has no effect on it.","body":"Type information is stored on the instance. Casting has no effect on it."}],"owner":{"account_id":24982546,"reputation":23,"user_id":18844673,"display_name":"Jinwoo An"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650261879,"creation_date":1650261879,"question_id":71908119,"body_markdown":"```\r\n        Car truck = new Truck(Car.Brand.BMW, Car.Color.BLUE, 2022, 2000);\r\n        System.out.println(truck);\r\n        // Truck@7dc36524\r\n\r\n        Truck sample = (Truck)truck;\r\n        System.out.println(sample);\r\n        // Truck@7dc36524\r\n```\r\n**cause as far as I know, when we create the instance, the data is stored in heap area and the reference and type information are stored in `stack` area.** \r\nso I expected that the `System.out.println(truck)` will print `Car@7dc36524` but it wasn&#39;t\r\n\r\nso now it makes me wonder\r\nwhere is the type information for the reference type variable stored?","title":"how java stored the upcasted reference type variable in their memory","body":"<pre><code>        Car truck = new Truck(Car.Brand.BMW, Car.Color.BLUE, 2022, 2000);\n        System.out.println(truck);\n        // Truck@7dc36524\n\n        Truck sample = (Truck)truck;\n        System.out.println(sample);\n        // Truck@7dc36524\n</code></pre>\n<p><strong>cause as far as I know, when we create the instance, the data is stored in heap area and the reference and type information are stored in <code>stack</code> area.</strong>\nso I expected that the <code>System.out.println(truck)</code> will print <code>Car@7dc36524</code> but it wasn't</p>\n<p>so now it makes me wonder\nwhere is the type information for the reference type variable stored?</p>\n"},{"tags":["java","windows-services","jna","windows-server-2012-r2"],"answers":[{"tags":[],"owner":{"account_id":270340,"reputation":357,"user_id":3610991,"display_name":"Viraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542278924,"creation_date":1542278924,"answer_id":53317731,"question_id":53280844,"body_markdown":"As there seems to be no JNA API under Advapi32, made a call to an script.exe (passing required arguments) which contains C# code that does DllImport of &quot;advapi32.dll&quot; and using APIs under following imports\r\n\r\n    using System.Runtime.InteropServices;\r\n    using System.ComponentModel;\r\n\r\nFor reference: https://www.morgantechspace.com/2015/03/csharp-change-service-account-username-and-password.html\r\n\r\n ","title":"Change username and password for an existing Windows service in Java via Advapi32 (JNA API)","body":"<p>As there seems to be no JNA API under Advapi32, made a call to an script.exe (passing required arguments) which contains C# code that does DllImport of \"advapi32.dll\" and using APIs under following imports</p>\n\n<pre><code>using System.Runtime.InteropServices;\nusing System.ComponentModel;\n</code></pre>\n\n<p>For reference: <a href=\"https://www.morgantechspace.com/2015/03/csharp-change-service-account-username-and-password.html\" rel=\"nofollow noreferrer\">https://www.morgantechspace.com/2015/03/csharp-change-service-account-username-and-password.html</a></p>\n"}],"owner":{"account_id":270340,"reputation":357,"user_id":3610991,"display_name":"Viraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650260359,"creation_date":1542111422,"question_id":53280844,"body_markdown":"I have been trying to change configuration for an existing Windows Service via the JNA API, specifically via `com.sun.jna.platform.win32.Advapi32` class but could not find enough documentation for the same.\r\n\r\nSame can be achieved by running the &#39;sc&#39; command in Windows CMD:\r\n\r\n    sc config &quot;MyServiceName&quot; obj=&quot;domain\\windowsuser&quot; password= &quot;userpassword&quot;\r\n\r\nSo far this is where I have reached in figuring out Java code (work in progress):\r\n\r\n    private static void printAllServices(String username, String password) {\r\n\t\tboolean success = false;\r\n\t\tSC_HANDLE serviceManager = openServiceControlManager(null, Winsvc.SC_MANAGER_ALL_ACCESS);\r\n\t\tif (serviceManager != null) {\r\n\t\t\tSC_HANDLE service = Advapi32.INSTANCE.OpenService(serviceManager, &quot;MyServiceName&quot;,\r\n\t\t\t\t\tWinNT.GENERIC_EXECUTE);\r\n\t\t\tif (service != null) {\r\n\t\t\t\tSERVICE_STATUS serviceStatus = new SERVICE_STATUS();\r\n\t\t\t\tsuccess = Advapi32.INSTANCE.ControlService(service, Winsvc.SERVICE_CHANGE_CONFIG, serviceStatus);\r\n\t\t\t\tAdvapi32.INSTANCE.CloseServiceHandle(service);\r\n\t\t\t}\r\n\t\t\tAdvapi32.INSTANCE.CloseServiceHandle(serviceManager);\r\n\t\t}\r\n\t}\r\n\r\n    private static SC_HANDLE openServiceControlManager(String machine, int access) {\r\n    \t    return Advapi32.INSTANCE.OpenSCManager(machine, null, access);\r\n    \t}\r\n\r\nMy objective is to change the username/password under which an existing windows service is running via Java API (but not by executing the &#39;sc&#39; command directly but via JNA API). \r\n\r\nAny light in the right direction (or documentation reference) would be helpful.","title":"Change username and password for an existing Windows service in Java via Advapi32 (JNA API)","body":"<p>I have been trying to change configuration for an existing Windows Service via the JNA API, specifically via <code>com.sun.jna.platform.win32.Advapi32</code> class but could not find enough documentation for the same.</p>\n\n<p>Same can be achieved by running the 'sc' command in Windows CMD:</p>\n\n<pre><code>sc config \"MyServiceName\" obj=\"domain\\windowsuser\" password= \"userpassword\"\n</code></pre>\n\n<p>So far this is where I have reached in figuring out Java code (work in progress):</p>\n\n<pre><code>private static void printAllServices(String username, String password) {\n    boolean success = false;\n    SC_HANDLE serviceManager = openServiceControlManager(null, Winsvc.SC_MANAGER_ALL_ACCESS);\n    if (serviceManager != null) {\n        SC_HANDLE service = Advapi32.INSTANCE.OpenService(serviceManager, \"MyServiceName\",\n                WinNT.GENERIC_EXECUTE);\n        if (service != null) {\n            SERVICE_STATUS serviceStatus = new SERVICE_STATUS();\n            success = Advapi32.INSTANCE.ControlService(service, Winsvc.SERVICE_CHANGE_CONFIG, serviceStatus);\n            Advapi32.INSTANCE.CloseServiceHandle(service);\n        }\n        Advapi32.INSTANCE.CloseServiceHandle(serviceManager);\n    }\n}\n\nprivate static SC_HANDLE openServiceControlManager(String machine, int access) {\n        return Advapi32.INSTANCE.OpenSCManager(machine, null, access);\n    }\n</code></pre>\n\n<p>My objective is to change the username/password under which an existing windows service is running via Java API (but not by executing the 'sc' command directly but via JNA API). </p>\n\n<p>Any light in the right direction (or documentation reference) would be helpful.</p>\n"},{"tags":["java","random","logic"],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650259300,"creation_date":1650259300,"answer_id":71907849,"question_id":71907650,"body_markdown":"What this boils down to: you don&#39;t really want the number pairs to be random, because a random value means that your next value does not depend on any previous value.\r\nInstead, you want 169 known number pairs to come up, each only once, but you want the order of them to be random.\r\n\r\nAs if these number pairs were printed in playing cards, and you were shuffling the playing cards.\r\n\r\nAnd Java has a nice method for that: `Collections.shuffle` acts like a professional dealer who shuffles a deck of playing cards.\r\n\r\nYou want an approach where you first generate all the playing cards, and then shuffle them. Something like this:\r\n\r\n    List&lt;Integer[]&gt; l = new ArrayList&lt;&gt;();\r\n    for (int x = 0; x &lt;= 12; x++) {\r\n        for (int y = 0; y &lt;= 12; y++) {\r\n            l.add(new Integer[] {x, y});\r\n        }\r\n    }\r\n    Collections.shuffle(l);","title":"Algorithm on random generated numbers with guaranteed that all numbers within the range will be selected once","body":"<p>What this boils down to: you don't really want the number pairs to be random, because a random value means that your next value does not depend on any previous value.\nInstead, you want 169 known number pairs to come up, each only once, but you want the order of them to be random.</p>\n<p>As if these number pairs were printed in playing cards, and you were shuffling the playing cards.</p>\n<p>And Java has a nice method for that: <code>Collections.shuffle</code> acts like a professional dealer who shuffles a deck of playing cards.</p>\n<p>You want an approach where you first generate all the playing cards, and then shuffle them. Something like this:</p>\n<pre><code>List&lt;Integer[]&gt; l = new ArrayList&lt;&gt;();\nfor (int x = 0; x &lt;= 12; x++) {\n    for (int y = 0; y &lt;= 12; y++) {\n        l.add(new Integer[] {x, y});\n    }\n}\nCollections.shuffle(l);\n</code></pre>\n"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71907849,"answer_count":1,"score":1,"last_activity_date":1650259300,"creation_date":1650256796,"question_id":71907650,"body_markdown":"I was having some problem to come out with a solution for a problem, I am currently still in the thought process. So basically the problem is to random generate numbers between 0 to 12, and get the two numbers to perform multiplication within a time frame.\r\n\r\nHowever, the solution provided must guaranteed that the all 169 random generated number pairs must be shown eventually, so cannot just randomly select a number. I was thinking adding a weight to random selected number helps in this case? Or there is better approach for this?\r\n\r\nThanks!","title":"Algorithm on random generated numbers with guaranteed that all numbers within the range will be selected once","body":"<p>I was having some problem to come out with a solution for a problem, I am currently still in the thought process. So basically the problem is to random generate numbers between 0 to 12, and get the two numbers to perform multiplication within a time frame.</p>\n<p>However, the solution provided must guaranteed that the all 169 random generated number pairs must be shown eventually, so cannot just randomly select a number. I was thinking adding a weight to random selected number helps in this case? Or there is better approach for this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","tcp","java-me"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650054791,"post_id":71888663,"comment_id":127033679,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1650057282,"post_id":71888663,"comment_id":127034188,"body_markdown":"My advice would be to **start** by using an Android app profiler to identify where the code is spending all of the CPU time.  As noted by the Community bot, this is too much code in your question to wade through.  (And you are ignoring Java style rules on identifiers which makes your code harder to read.)","body":"My advice would be to <b>start</b> by using an Android app profiler to identify where the code is spending all of the CPU time.  As noted by the Community bot, this is too much code in your question to wade through.  (And you are ignoring Java style rules on identifiers which makes your code harder to read.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1650057432,"post_id":71888663,"comment_id":127034220,"body_markdown":"I note that you said: *&quot;I have checked it in android&#39;s profiler.&quot;*   And didn&#39;t that tell you where the problem is?  What did it say?","body":"I note that you said: <i>&quot;I have checked it in android&#39;s profiler.&quot;</i>   And didn&#39;t that tell you where the problem is?  What did it say?"},{"owner":{"account_id":24952399,"reputation":1,"user_id":18817048,"display_name":"Ayesha"},"score":0,"creation_date":1650140213,"post_id":71888663,"comment_id":127047911,"body_markdown":"The problem is it is taking high CPU usage, and I want to optimise it cause it is making app slow","body":"The problem is it is taking high CPU usage, and I want to optimise it cause it is making app slow"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650168030,"post_id":71888663,"comment_id":127051257,"body_markdown":"&quot;which sends continuously &quot;Hello&quot; messages to the server to maintain a client-server connection&quot;: dong that does not have that effect. It just smokes the CPU. The network and the peer are still both free to drop the connection at any time. If you must do this, you should at least space these messages out by some number of seconds, say 30s. NB `Socket.isConnected()` doesn&#39;t do what you appear to think. It doesn&#39;t magically become false when the connection is closed or reset.","body":"&quot;which sends continuously &quot;Hello&quot; messages to the server to maintain a client-server connection&quot;: dong that does not have that effect. It just smokes the CPU. The network and the peer are still both free to drop the connection at any time. If you must do this, you should at least space these messages out by some number of seconds, say 30s. NB <code>Socket.isConnected()</code> doesn&#39;t do what you appear to think. It doesn&#39;t magically become false when the connection is closed or reset."}],"owner":{"account_id":24952399,"reputation":1,"user_id":18817048,"display_name":"Ayesha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650259251,"creation_date":1650054542,"question_id":71888663,"body_markdown":"My problem is I have implemented a TCP socket client in android which sends continuously &quot;Hello&quot; messages to the server to maintain a client-server connection and receives messages from the server.\r\n\r\nIn Android, I have initialized a boolean variable that is controlling the thread if my app is in the background I make the &quot;AppConfig.finished&quot; variable true inactivity on pause and on stop method to stop the socket thread and make it false when in on resume state.\r\n\r\nBut my app is consuming high CPU usage which is making my app slow, I have checked it in android&#39;s profiler.  Please help me to optimize it.\r\n\r\nThe code is given below.\r\n    \r\n    \r\n    public class MyTcp extends Thread{\r\n    \r\n    \r\n    private BufferedInputStream inputStream;\r\n    private BufferedOutputStream outputStream;\r\n    private Socket MySock;\r\n    private static SocketStatus SS;\r\n    private int ConnectAttemptCount = 0;\r\n    private CheckConnectionStatus CheckStatus = null;\r\n    public boolean FirstAttempt = true;\r\n    public boolean Continue = true;\r\n    private boolean isDirectChecked = false;\r\n    String tempData = &quot;&quot;;\r\n    private final ArrayBlockingQueue&lt;String&gt; Queue = new ArrayBlockingQueue&lt;&gt;(100);\r\n    \r\n    public MyTcp(SocketStatus SS) {\r\n        MyTcp.SS = SS;\r\n        MyTcp.SS.isConnected = false;\r\n    \r\n        setDaemon(true);\r\n        Thread t = new Thread(new DequeueMessageThread());\r\n        t.setName(SS.SocketName + &quot; DequeqeMessageThread&quot;);\r\n        t.start();\r\n        setName(SS.SocketName);\r\n    \r\n    }\r\n    \r\n    \r\n    public void Dispose() {\r\n        try {\r\n    \r\n            Continue = false;\r\n            SS.isConnected = false;\r\n            if(inputStream != null) {\r\n                inputStream.close();\r\n            }\r\n    \r\n            if(outputStream !=null) {\r\n                outputStream.close();\r\n            }\r\n            if(MySock != null) {\r\n                MySock.close();\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n    \r\n        if(!Logs.isFinished) {\r\n            try {\r\n    \r\n                while (Continue) {\r\n                    if (SS.isConnected) {\r\n                        String fromServer = ReceiveMsg();\r\n                        if (fromServer.compareTo(&quot;&quot;) != 0) {\r\n                            Queue.put(fromServer);\r\n                        }\r\n                        ConnectAttemptCount = 0;\r\n    \r\n                    } else {\r\n                        if (ConnectAttemptCount &lt; SS.ConnectAttempt) {\r\n                            println(&quot;run&gt;&gt;&quot; + &quot;Connection Attempt&quot; + ConnectAttemptCount);\r\n                            ConnectAttemptCount++;\r\n                            Connect();\r\n    \r\n                        } else {\r\n    \r\n                            println(&quot;run&gt;&gt;&quot; + &quot;Unable To Connect to server&quot;);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                println(&quot;run Exception&gt;&gt;&quot; + e);\r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    public void Connect() {\r\n        if(!Logs.isFinished) {\r\n            try {\r\n                if (SS.isDoQueueEmptyOnConnect) {\r\n                    Queue.clear();\r\n                    tempData = &quot;&quot;;\r\n                }\r\n                if (FirstAttempt) {\r\n                    FirstAttempt = false;\r\n                } else {\r\n    \r\n    \r\n                    Utilities.println(&quot;Trying to connect with &quot; + SS.ServerIP + &quot; on Port &quot; + SS.Port);\r\n                    _fireStatsEvent(Status.Reconnecting, &quot;Trying to connect with &quot; + SS.ServerIP);\r\n                    Random generator = new Random();\r\n                    long wait = (long) generator.nextInt(3000) + 500;\r\n                    Thread.sleep(wait);\r\n                }\r\n    \r\n    \r\n                MySock = (Socket) AccessController.doPrivileged(new PrivilegedAction() {\r\n    \r\n                    public Object run() {\r\n    \r\n    \r\n                        try {\r\n                            // Start Secure Code\r\n                            return (new Socket(SS.ServerIP, SS.Port));\r\n                            // End Secure Code\r\n                        } catch (Exception e) {\r\n                            println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\r\n                        }\r\n    \r\n    \r\n                        return null;\r\n                    }\r\n                });\r\n    \r\n    \r\n                if (MySock != null) {\r\n    \r\n    \r\n                    SS.isConnected = true;\r\n                    SocketStatus.MySock = MySock;\r\n                    inputStream = new BufferedInputStream(MySock.getInputStream());\r\n                    outputStream = new BufferedOutputStream(MySock.getOutputStream());\r\n    \r\n                    Utilities.println(&quot;Connection established with &quot; + SS.ServerIP + &quot; on Port &quot; + SS.Port);\r\n    \r\n                    if (SocketStatus.EnablePingPong) {\r\n                        if (CheckStatus != null) {\r\n                            CheckStatus.Dispose();\r\n                        }\r\n                        SS.LastMsgTime = new Date();\r\n                        CheckStatus = new CheckConnectionStatus(SS, this);\r\n                        CheckStatus.setName(SS.SocketName + &quot;Connection Status Thread&quot;);\r\n                        CheckStatus.start();\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                println(&quot;Connect&gt;&gt;&quot; + e);\r\n            }\r\n    \r\n            int ConnectToIPCount = 0;\r\n            if (!SS.isConnected) {\r\n    \r\n                while (!SS.isConnected &amp;&amp; ConnectToIPCount &lt; SS.ServerIPList.size()) {\r\n                    final String IP_ = SS.ServerIPList.get(ConnectToIPCount).toString();\r\n                    final int Port_ = SS.Port;\r\n                    println(&quot;Connect&gt;&gt;&quot; + &quot;Trying to connect with &quot; + IP_ + &quot; on Port &quot; + Port_);\r\n    \r\n    \r\n                    ConnectToIPCount++;\r\n    \r\n                    try {\r\n                        Thread.sleep(5000);\r\n                        MySock = (Socket) AccessController.doPrivileged(new PrivilegedAction() {\r\n    \r\n                            public Object run() {\r\n                                try {\r\n                                    // Start Secure Code\r\n    \r\n                                    if (!isDirectChecked) {\r\n                                        isDirectChecked = true;\r\n                                        Socket tempSock = new Socket(Proxy.NO_PROXY);\r\n                                        tempSock.connect(new InetSocketAddress(IP_, Port_));\r\n                                        return tempSock;\r\n    \r\n                                    } else {\r\n                                        return (new Socket(IP_, Port_));\r\n    \r\n                                    }\r\n                                    // End Secure Code\r\n                                } catch (Exception e) {\r\n                                    println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\r\n                                }\r\n                                return null;\r\n                            }\r\n                        });\r\n                        if (MySock != null) {\r\n    \r\n                            SocketStatus.MySock = MySock;\r\n                            SS.isConnected = true;\r\n                            inputStream = new BufferedInputStream(MySock.getInputStream());\r\n                            outputStream = new BufferedOutputStream(MySock.getOutputStream());\r\n                            Utilities.println(&quot;Connection established with &quot; + IP_ + &quot; on port &quot; + Port_);\r\n    \r\n                            if (SocketStatus.EnablePingPong) {\r\n                                if (CheckStatus != null) {\r\n                                    CheckStatus.Dispose();\r\n                                }\r\n                                SS.LastMsgTime = new Date();\r\n                                CheckStatus = new CheckConnectionStatus(SS, this);\r\n                                CheckStatus.setName(SS.SocketName + &quot;Connection Status Thread&quot;);\r\n                                CheckStatus.start();\r\n    \r\n                            }\r\n                        }\r\n                    } catch (UnknownHostException e) {\r\n                        println(&quot;Connect UnknownHostException&gt;&gt;&quot; + e.toString());\r\n                    } catch (IOException e) {\r\n                        println(&quot;Connect IOException&gt;&gt;&quot; + e.toString());\r\n                    } catch (Exception e) {\r\n                        println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\r\n                    }\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n    \r\n    public void SendMsg(String sendMsg) {\r\n    \r\n        if(!Logs.isFinished) {\r\n            try {\r\n    \r\n                println(&quot;SendMsg&gt;&gt;&quot; + sendMsg);\r\n    \r\n                if (MySock != null &amp;&amp; MySock.isConnected()) {\r\n                    try {\r\n                        byte[] b = null;\r\n                        b = sendMsg.getBytes();\r\n                        outputStream.write(b, 0, b.length);\r\n                        outputStream.flush();\r\n                    } catch (SocketException | SocketTimeoutException e) {\r\n                        if (MySock != null) {\r\n                            MySock.close();\r\n                        }\r\n                        SS.isConnected = false;\r\n    \r\n    \r\n                    } catch (Exception e) {\r\n                        println(&quot;SendMsg Exception&gt;&gt;&quot; + e.toString());\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n    \r\n            } catch (Exception e) {\r\n                Log.d(&quot;TCP Client SendMsg &gt;&gt;&quot;, &quot;Unable To Connect to server&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    public String ReceiveMsg() {\r\n    \r\n    \r\n        String recvMsg = &quot;&quot;;\r\n    \r\n        if(!Logs.isFinished) {\r\n    \r\n            try {\r\n    \r\n                byte[] b = new byte[8092 * 6];\r\n                int recvsz = 0;\r\n    \r\n    \r\n                if (MySock != null &amp;&amp; MySock.isConnected()) {\r\n                    recvsz = inputStream.read(b, 0, b.length);\r\n                    if (recvsz &gt; 0) {\r\n                        try {\r\n                            byte[] b2 = new byte[recvsz];\r\n                            System.arraycopy(b, 0, b2, 0, b2.length);\r\n    \r\n                            recvMsg = (new String(b2));\r\n                            if (recvMsg.length() &gt; 0) {\r\n                                SS.LastMsgTime = new Date();\r\n                            }\r\n                        } catch (Exception e) {\r\n                            println(&quot;ReceiveMsg Exception&gt;&gt;&quot; + e.toString());\r\n                        }\r\n                    }\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                if (SS.isConnected) {\r\n    \r\n                    Utilities.handleException(e);\r\n    \r\n                }\r\n                SS.isConnected = false;\r\n                println(&quot;ReceiveMsg Exception&gt;&gt;&gt;&quot; + e.toString());\r\n                Log.d(&quot;RESPONSE FROM SERVER&quot;, &quot;S: Received Message: &#39;&quot; + e.toString() + &quot;&#39;&quot;);\r\n    \r\n            }\r\n        }\r\n    \r\n        return recvMsg;\r\n    }\r\n    \r\n    public void println(String msg) {\r\n        if (SS.Debug) {\r\n            String strDateFormat1 = &quot;HH:mm:ss&quot;;\r\n            SimpleDateFormat sdf1 = new SimpleDateFormat(strDateFormat1);\r\n             Utilities.println(SS.SocketName + &quot; (&quot; + sdf1.format(new Date()) + &quot;) &quot; + msg);\r\n        }\r\n    }\r\n    \r\n    private final List&lt;MessageRecieveListner&gt; _listeners = new ArrayList&lt;&gt;();\r\n    private final List&lt;MessageRecieveListner&gt; _listenersStrength = new ArrayList&lt;&gt;();\r\n    \r\n    public synchronized void addListener(MessageRecieveListner l) {\r\n       _listeners.add(l);\r\n       _listenersStrength.add(l);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    private synchronized void _fireMessageEvent(String msg) {\r\n        MessageRecieveEvent MsgEvent = new MessageRecieveEvent(this, msg);\r\n        for (MessageRecieveListner listener : _listeners) {\r\n            listener.MessageRecieved(MsgEvent);\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    public synchronized void _fireStatsEvent(Status status, String msg) {\r\n        MessageRecieveEvent MsgEvent = new MessageRecieveEvent(this, status, msg);\r\n    \r\n        for (MessageRecieveListner listener : _listeners) {\r\n            listener.ConnectionStatus(MsgEvent);\r\n        }\r\n    }\r\n    \r\n    private class DequeueMessageThread implements Runnable {\r\n    \r\n        public DequeueMessageThread() {\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            if(!Logs.isFinished) {\r\n                while (Continue) {\r\n                    if (!Queue.isEmpty()) {\r\n                        try {\r\n                            String data = Queue.take().trim();\r\n                            if (SS.MessageParser.length() &gt; 0) {\r\n                                if (data.lastIndexOf(SS.MessageParser) == data.length() - 1) {\r\n                                    _fireMessageEvent(tempData + data);\r\n                                    tempData = &quot;&quot;;\r\n                                } else {\r\n                                    if (data.indexOf(SS.MessageParser) &gt; 0) {\r\n                                        String particalCompleteData = tempData + data.substring(0, data.lastIndexOf(SS.MessageParser));\r\n                                        tempData = data.substring(data.lastIndexOf(SS.MessageParser) + 1);\r\n                                        _fireMessageEvent(particalCompleteData);\r\n                                        Utilities.println(&quot;incomplete data&quot;);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                _fireMessageEvent(data);\r\n                            }\r\n                        } catch (Exception ex) {\r\n                            ex.printStackTrace();\r\n                            Continue = false;\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    ","title":"TCP socket in Android","body":"<p>My problem is I have implemented a TCP socket client in android which sends continuously &quot;Hello&quot; messages to the server to maintain a client-server connection and receives messages from the server.</p>\n<p>In Android, I have initialized a boolean variable that is controlling the thread if my app is in the background I make the &quot;AppConfig.finished&quot; variable true inactivity on pause and on stop method to stop the socket thread and make it false when in on resume state.</p>\n<p>But my app is consuming high CPU usage which is making my app slow, I have checked it in android's profiler.  Please help me to optimize it.</p>\n<p>The code is given below.</p>\n<pre><code>public class MyTcp extends Thread{\n\n\nprivate BufferedInputStream inputStream;\nprivate BufferedOutputStream outputStream;\nprivate Socket MySock;\nprivate static SocketStatus SS;\nprivate int ConnectAttemptCount = 0;\nprivate CheckConnectionStatus CheckStatus = null;\npublic boolean FirstAttempt = true;\npublic boolean Continue = true;\nprivate boolean isDirectChecked = false;\nString tempData = &quot;&quot;;\nprivate final ArrayBlockingQueue&lt;String&gt; Queue = new ArrayBlockingQueue&lt;&gt;(100);\n\npublic MyTcp(SocketStatus SS) {\n    MyTcp.SS = SS;\n    MyTcp.SS.isConnected = false;\n\n    setDaemon(true);\n    Thread t = new Thread(new DequeueMessageThread());\n    t.setName(SS.SocketName + &quot; DequeqeMessageThread&quot;);\n    t.start();\n    setName(SS.SocketName);\n\n}\n\n\npublic void Dispose() {\n    try {\n\n        Continue = false;\n        SS.isConnected = false;\n        if(inputStream != null) {\n            inputStream.close();\n        }\n\n        if(outputStream !=null) {\n            outputStream.close();\n        }\n        if(MySock != null) {\n            MySock.close();\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\npublic void run() {\n\n    if(!Logs.isFinished) {\n        try {\n\n            while (Continue) {\n                if (SS.isConnected) {\n                    String fromServer = ReceiveMsg();\n                    if (fromServer.compareTo(&quot;&quot;) != 0) {\n                        Queue.put(fromServer);\n                    }\n                    ConnectAttemptCount = 0;\n\n                } else {\n                    if (ConnectAttemptCount &lt; SS.ConnectAttempt) {\n                        println(&quot;run&gt;&gt;&quot; + &quot;Connection Attempt&quot; + ConnectAttemptCount);\n                        ConnectAttemptCount++;\n                        Connect();\n\n                    } else {\n\n                        println(&quot;run&gt;&gt;&quot; + &quot;Unable To Connect to server&quot;);\n                        break;\n                    }\n                }\n            }\n\n        } catch (Exception e) {\n            println(&quot;run Exception&gt;&gt;&quot; + e);\n        }\n    }\n\n}\n\npublic void Connect() {\n    if(!Logs.isFinished) {\n        try {\n            if (SS.isDoQueueEmptyOnConnect) {\n                Queue.clear();\n                tempData = &quot;&quot;;\n            }\n            if (FirstAttempt) {\n                FirstAttempt = false;\n            } else {\n\n\n                Utilities.println(&quot;Trying to connect with &quot; + SS.ServerIP + &quot; on Port &quot; + SS.Port);\n                _fireStatsEvent(Status.Reconnecting, &quot;Trying to connect with &quot; + SS.ServerIP);\n                Random generator = new Random();\n                long wait = (long) generator.nextInt(3000) + 500;\n                Thread.sleep(wait);\n            }\n\n\n            MySock = (Socket) AccessController.doPrivileged(new PrivilegedAction() {\n\n                public Object run() {\n\n\n                    try {\n                        // Start Secure Code\n                        return (new Socket(SS.ServerIP, SS.Port));\n                        // End Secure Code\n                    } catch (Exception e) {\n                        println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\n                    }\n\n\n                    return null;\n                }\n            });\n\n\n            if (MySock != null) {\n\n\n                SS.isConnected = true;\n                SocketStatus.MySock = MySock;\n                inputStream = new BufferedInputStream(MySock.getInputStream());\n                outputStream = new BufferedOutputStream(MySock.getOutputStream());\n\n                Utilities.println(&quot;Connection established with &quot; + SS.ServerIP + &quot; on Port &quot; + SS.Port);\n\n                if (SocketStatus.EnablePingPong) {\n                    if (CheckStatus != null) {\n                        CheckStatus.Dispose();\n                    }\n                    SS.LastMsgTime = new Date();\n                    CheckStatus = new CheckConnectionStatus(SS, this);\n                    CheckStatus.setName(SS.SocketName + &quot;Connection Status Thread&quot;);\n                    CheckStatus.start();\n                }\n\n\n            }\n\n        } catch (Exception e) {\n            println(&quot;Connect&gt;&gt;&quot; + e);\n        }\n\n        int ConnectToIPCount = 0;\n        if (!SS.isConnected) {\n\n            while (!SS.isConnected &amp;&amp; ConnectToIPCount &lt; SS.ServerIPList.size()) {\n                final String IP_ = SS.ServerIPList.get(ConnectToIPCount).toString();\n                final int Port_ = SS.Port;\n                println(&quot;Connect&gt;&gt;&quot; + &quot;Trying to connect with &quot; + IP_ + &quot; on Port &quot; + Port_);\n\n\n                ConnectToIPCount++;\n\n                try {\n                    Thread.sleep(5000);\n                    MySock = (Socket) AccessController.doPrivileged(new PrivilegedAction() {\n\n                        public Object run() {\n                            try {\n                                // Start Secure Code\n\n                                if (!isDirectChecked) {\n                                    isDirectChecked = true;\n                                    Socket tempSock = new Socket(Proxy.NO_PROXY);\n                                    tempSock.connect(new InetSocketAddress(IP_, Port_));\n                                    return tempSock;\n\n                                } else {\n                                    return (new Socket(IP_, Port_));\n\n                                }\n                                // End Secure Code\n                            } catch (Exception e) {\n                                println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\n                            }\n                            return null;\n                        }\n                    });\n                    if (MySock != null) {\n\n                        SocketStatus.MySock = MySock;\n                        SS.isConnected = true;\n                        inputStream = new BufferedInputStream(MySock.getInputStream());\n                        outputStream = new BufferedOutputStream(MySock.getOutputStream());\n                        Utilities.println(&quot;Connection established with &quot; + IP_ + &quot; on port &quot; + Port_);\n\n                        if (SocketStatus.EnablePingPong) {\n                            if (CheckStatus != null) {\n                                CheckStatus.Dispose();\n                            }\n                            SS.LastMsgTime = new Date();\n                            CheckStatus = new CheckConnectionStatus(SS, this);\n                            CheckStatus.setName(SS.SocketName + &quot;Connection Status Thread&quot;);\n                            CheckStatus.start();\n\n                        }\n                    }\n                } catch (UnknownHostException e) {\n                    println(&quot;Connect UnknownHostException&gt;&gt;&quot; + e.toString());\n                } catch (IOException e) {\n                    println(&quot;Connect IOException&gt;&gt;&quot; + e.toString());\n                } catch (Exception e) {\n                    println(&quot;Connect Exception&gt;&gt;&quot; + e.toString());\n                }\n            }\n\n        }\n    }\n\n}\n\npublic void SendMsg(String sendMsg) {\n\n    if(!Logs.isFinished) {\n        try {\n\n            println(&quot;SendMsg&gt;&gt;&quot; + sendMsg);\n\n            if (MySock != null &amp;&amp; MySock.isConnected()) {\n                try {\n                    byte[] b = null;\n                    b = sendMsg.getBytes();\n                    outputStream.write(b, 0, b.length);\n                    outputStream.flush();\n                } catch (SocketException | SocketTimeoutException e) {\n                    if (MySock != null) {\n                        MySock.close();\n                    }\n                    SS.isConnected = false;\n\n\n                } catch (Exception e) {\n                    println(&quot;SendMsg Exception&gt;&gt;&quot; + e.toString());\n\n                }\n\n            }\n\n\n        } catch (Exception e) {\n            Log.d(&quot;TCP Client SendMsg &gt;&gt;&quot;, &quot;Unable To Connect to server&quot;);\n        }\n\n    }\n}\n\n\npublic String ReceiveMsg() {\n\n\n    String recvMsg = &quot;&quot;;\n\n    if(!Logs.isFinished) {\n\n        try {\n\n            byte[] b = new byte[8092 * 6];\n            int recvsz = 0;\n\n\n            if (MySock != null &amp;&amp; MySock.isConnected()) {\n                recvsz = inputStream.read(b, 0, b.length);\n                if (recvsz &gt; 0) {\n                    try {\n                        byte[] b2 = new byte[recvsz];\n                        System.arraycopy(b, 0, b2, 0, b2.length);\n\n                        recvMsg = (new String(b2));\n                        if (recvMsg.length() &gt; 0) {\n                            SS.LastMsgTime = new Date();\n                        }\n                    } catch (Exception e) {\n                        println(&quot;ReceiveMsg Exception&gt;&gt;&quot; + e.toString());\n                    }\n                }\n            }\n\n        } catch (Exception e) {\n            if (SS.isConnected) {\n\n                Utilities.handleException(e);\n\n            }\n            SS.isConnected = false;\n            println(&quot;ReceiveMsg Exception&gt;&gt;&gt;&quot; + e.toString());\n            Log.d(&quot;RESPONSE FROM SERVER&quot;, &quot;S: Received Message: '&quot; + e.toString() + &quot;'&quot;);\n\n        }\n    }\n\n    return recvMsg;\n}\n\npublic void println(String msg) {\n    if (SS.Debug) {\n        String strDateFormat1 = &quot;HH:mm:ss&quot;;\n        SimpleDateFormat sdf1 = new SimpleDateFormat(strDateFormat1);\n         Utilities.println(SS.SocketName + &quot; (&quot; + sdf1.format(new Date()) + &quot;) &quot; + msg);\n    }\n}\n\nprivate final List&lt;MessageRecieveListner&gt; _listeners = new ArrayList&lt;&gt;();\nprivate final List&lt;MessageRecieveListner&gt; _listenersStrength = new ArrayList&lt;&gt;();\n\npublic synchronized void addListener(MessageRecieveListner l) {\n   _listeners.add(l);\n   _listenersStrength.add(l);\n}\n\n\n\n\nprivate synchronized void _fireMessageEvent(String msg) {\n    MessageRecieveEvent MsgEvent = new MessageRecieveEvent(this, msg);\n    for (MessageRecieveListner listener : _listeners) {\n        listener.MessageRecieved(MsgEvent);\n\n    }\n}\n\n\npublic synchronized void _fireStatsEvent(Status status, String msg) {\n    MessageRecieveEvent MsgEvent = new MessageRecieveEvent(this, status, msg);\n\n    for (MessageRecieveListner listener : _listeners) {\n        listener.ConnectionStatus(MsgEvent);\n    }\n}\n\nprivate class DequeueMessageThread implements Runnable {\n\n    public DequeueMessageThread() {\n    }\n\n    @Override\n    public void run() {\n        if(!Logs.isFinished) {\n            while (Continue) {\n                if (!Queue.isEmpty()) {\n                    try {\n                        String data = Queue.take().trim();\n                        if (SS.MessageParser.length() &gt; 0) {\n                            if (data.lastIndexOf(SS.MessageParser) == data.length() - 1) {\n                                _fireMessageEvent(tempData + data);\n                                tempData = &quot;&quot;;\n                            } else {\n                                if (data.indexOf(SS.MessageParser) &gt; 0) {\n                                    String particalCompleteData = tempData + data.substring(0, data.lastIndexOf(SS.MessageParser));\n                                    tempData = data.substring(data.lastIndexOf(SS.MessageParser) + 1);\n                                    _fireMessageEvent(particalCompleteData);\n                                    Utilities.println(&quot;incomplete data&quot;);\n                                }\n                            }\n                        } else {\n                            _fireMessageEvent(data);\n                        }\n                    } catch (Exception ex) {\n                        ex.printStackTrace();\n                        Continue = false;\n                    }\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","google-cloud-pubsub"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1650343170,"post_id":71838086,"comment_id":127086012,"body_markdown":"If my answer addressed your question, please consider accepting and upvoting it. If not, let me know so that I can improve my answer.","body":"If my answer addressed your question, please consider accepting and upvoting it. If not, let me know so that I can improve my answer."}],"answers":[{"tags":[],"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650258652,"creation_date":1650258652,"answer_id":71907785,"question_id":71838086,"body_markdown":"The main problem of receiving duplicate messages is that the subscriber is too slow to process and acknowledge messages within the deadline even though the maximum ack deadline is set high.. The solution that can be provided at this time is to reduce the subscriber’s queue size means reducing the number of messages that the subscriber pulls at a time.  This way the subscriber will have less messages to process within the deadline.\r\n\r\nYou can reduce the number of outstanding messages for your subscriber. You can try by setting low values to the subscriber.\r\n\r\nThe reasons for the duplication behavior in  subscriptions are  due to :\r\n\r\n \r\n\r\n - Messages in the subscriber’s queue are not being processed and ACK&#39;d\r\n   within the deadline. \r\n - The client library continues to (automatically)    extend the\r\n   deadline hoping to be able to process these messages    eventually.\r\n\r\n \r\n\r\n - At some point, after several deadline extensions the    client\r\n   library gives up, so those messages are dropped and    redelivered.\r\n   \r\n - Messages in Pub/Sub are delivered in batches, so not only the expired messages will be redelivered but also the ones belonging to these messages batches.\r\n\r\n \r\n\r\n - The subscriber will have its    queue full of duplicates, which slows\r\n   down backlog consumption; The    problem becomes worse and worse\r\n   since current duplicates will expire    as well and generate new\r\n   duplicates.","title":"Excessive message re-deliveries when consuming from Pubsub","body":"<p>The main problem of receiving duplicate messages is that the subscriber is too slow to process and acknowledge messages within the deadline even though the maximum ack deadline is set high.. The solution that can be provided at this time is to reduce the subscriber’s queue size means reducing the number of messages that the subscriber pulls at a time.  This way the subscriber will have less messages to process within the deadline.</p>\n<p>You can reduce the number of outstanding messages for your subscriber. You can try by setting low values to the subscriber.</p>\n<p>The reasons for the duplication behavior in  subscriptions are  due to :</p>\n<ul>\n<li><p>Messages in the subscriber’s queue are not being processed and ACK'd\nwithin the deadline.</p>\n</li>\n<li><p>The client library continues to (automatically)    extend the\ndeadline hoping to be able to process these messages    eventually.</p>\n</li>\n<li><p>At some point, after several deadline extensions the    client\nlibrary gives up, so those messages are dropped and    redelivered.</p>\n</li>\n<li><p>Messages in Pub/Sub are delivered in batches, so not only the expired messages will be redelivered but also the ones belonging to these messages batches.</p>\n</li>\n<li><p>The subscriber will have its    queue full of duplicates, which slows\ndown backlog consumption; The    problem becomes worse and worse\nsince current duplicates will expire    as well and generate new\nduplicates.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1858777,"reputation":160,"user_id":1683809,"display_name":"Navina Ramesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650258652,"creation_date":1649745249,"question_id":71838086,"body_markdown":"I am noticing a lot of message re-deliveries in my application, even though I have configured max ack deadline for subscription (600 seconds). I am using the async client api for pull-based subscriptions. \r\n\r\nHere is an example of the redelivery from my logs:\r\n\r\n```\r\nxxx@XXX-MacBook-Pro Downloads % grep 4352639842273916 ~/Downloads/a.txt \r\n2022/04/08 15:07:01.123 DEBUG [PubsubConsumerImpl] [Gax-11] #### RECEIVE : 4352639842273916\r\n2022/04/08 15:07:01.123 DEBUG [PubsubConsumerImpl] [Gax-11] #### QUEUED : 4352639842273916\r\n#### RETURNED : 33 : 4352639842273916\r\n2022/04/08 15:07:05.332 DEBUG [PubsubMessageQueue] [github_events__0__0__20220408T2206Z] ### ACK 33 : 4352639842273916\r\n2022/04/08 15:07:05.333 DEBUG [PubsubMessageQueue] [github_events__0__0__20220408T2206Z] ### clear ack 33:4352639842273916\r\n#### 33 : 4352639842273916\r\n2022/04/08 15:07:07.043 DEBUG [PubsubConsumerImpl] [Gax-13] #### RECEIVE : 4352639842273916\r\n2022/04/08 15:07:07.043 WARN [PubsubConsumerImpl] [Gax-13] #### DUPLICATE : 4352639842273916\r\n2022/04/08 15:07:57.352 DEBUG [PubsubConsumerImpl] [Gax-29] #### RECEIVE : 4352639842273916\r\n2022/04/08 15:07:57.352 DEBUG [PubsubConsumerImpl] [Gax-29] #### QUEUED : 4352639842273916\r\n#### RETURNED : 81 : 4352639842273916\r\n2022/04/08 15:07:57.406 DEBUG [PubsubMessageQueue] [github_events__0__1__20220408T2207Z] ### ACK 81 : 4352639842273916\r\n2022/04/08 15:07:57.407 DEBUG [PubsubMessageQueue] [github_events__0__1__20220408T2207Z] ### clear ack 81:4352639842273916\r\n#### 81 : 4352639842273916\r\n2022/04/08 15:08:49.184 DEBUG [PubsubConsumerImpl] [Gax-41] #### RECEIVE : 4352639842273916\r\n2022/04/08 15:08:49.184 DEBUG [PubsubConsumerImpl] [Gax-41] #### QUEUED : 4352639842273916\r\n#### RETURNED : 130 : 4352639842273916\r\n2022/04/08 15:08:49.237 DEBUG [PubsubMessageQueue] [github_events__0__2__20220408T2208Z] ### ACK 130 : 4352639842273916\r\n2022/04/08 15:08:49.237 DEBUG [PubsubMessageQueue] [github_events__0__2__20220408T2208Z] ### clear ack 130:4352639842273916\r\n#### 130 : 4352639842273916\r\n```\r\n\r\nIf you look at the line with “DUPLICATE”, it is getting re-delivered within 6 seconds and also, through a different grpc thread (Gax-11 and Gax-13) . Why is the same message being delivered to 2 different threads?\r\n\r\nFyi, in my application, I am trying to consume a batch of messages and ack them all when the processing is complete. I verified that my code is invoking ACK on all the processed messages. I am using flow control to manage the batch of consumed messages. But it doesn&#39;t seem to improve the duplicates situation.\r\n\r\nAny help would be appreciated! \r\n\r\n","title":"Excessive message re-deliveries when consuming from Pubsub","body":"<p>I am noticing a lot of message re-deliveries in my application, even though I have configured max ack deadline for subscription (600 seconds). I am using the async client api for pull-based subscriptions.</p>\n<p>Here is an example of the redelivery from my logs:</p>\n<pre><code>xxx@XXX-MacBook-Pro Downloads % grep 4352639842273916 ~/Downloads/a.txt \n2022/04/08 15:07:01.123 DEBUG [PubsubConsumerImpl] [Gax-11] #### RECEIVE : 4352639842273916\n2022/04/08 15:07:01.123 DEBUG [PubsubConsumerImpl] [Gax-11] #### QUEUED : 4352639842273916\n#### RETURNED : 33 : 4352639842273916\n2022/04/08 15:07:05.332 DEBUG [PubsubMessageQueue] [github_events__0__0__20220408T2206Z] ### ACK 33 : 4352639842273916\n2022/04/08 15:07:05.333 DEBUG [PubsubMessageQueue] [github_events__0__0__20220408T2206Z] ### clear ack 33:4352639842273916\n#### 33 : 4352639842273916\n2022/04/08 15:07:07.043 DEBUG [PubsubConsumerImpl] [Gax-13] #### RECEIVE : 4352639842273916\n2022/04/08 15:07:07.043 WARN [PubsubConsumerImpl] [Gax-13] #### DUPLICATE : 4352639842273916\n2022/04/08 15:07:57.352 DEBUG [PubsubConsumerImpl] [Gax-29] #### RECEIVE : 4352639842273916\n2022/04/08 15:07:57.352 DEBUG [PubsubConsumerImpl] [Gax-29] #### QUEUED : 4352639842273916\n#### RETURNED : 81 : 4352639842273916\n2022/04/08 15:07:57.406 DEBUG [PubsubMessageQueue] [github_events__0__1__20220408T2207Z] ### ACK 81 : 4352639842273916\n2022/04/08 15:07:57.407 DEBUG [PubsubMessageQueue] [github_events__0__1__20220408T2207Z] ### clear ack 81:4352639842273916\n#### 81 : 4352639842273916\n2022/04/08 15:08:49.184 DEBUG [PubsubConsumerImpl] [Gax-41] #### RECEIVE : 4352639842273916\n2022/04/08 15:08:49.184 DEBUG [PubsubConsumerImpl] [Gax-41] #### QUEUED : 4352639842273916\n#### RETURNED : 130 : 4352639842273916\n2022/04/08 15:08:49.237 DEBUG [PubsubMessageQueue] [github_events__0__2__20220408T2208Z] ### ACK 130 : 4352639842273916\n2022/04/08 15:08:49.237 DEBUG [PubsubMessageQueue] [github_events__0__2__20220408T2208Z] ### clear ack 130:4352639842273916\n#### 130 : 4352639842273916\n</code></pre>\n<p>If you look at the line with “DUPLICATE”, it is getting re-delivered within 6 seconds and also, through a different grpc thread (Gax-11 and Gax-13) . Why is the same message being delivered to 2 different threads?</p>\n<p>Fyi, in my application, I am trying to consume a batch of messages and ack them all when the processing is complete. I verified that my code is invoking ACK on all the processed messages. I am using flow control to manage the batch of consumed messages. But it doesn't seem to improve the duplicates situation.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","equals","hashcode"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649997870,"creation_date":1649997870,"answer_id":71880173,"question_id":71880003,"body_markdown":"&gt; Are lines 20-30 a correct implementation of an equals() override method?\r\n\r\nNo.\r\n\r\n&gt; `this.lastName == lastName`\r\n\r\nThis compares the __reference identity__ of `this.lastName` with the __reference identity__ of parameter `lastName`. You don&#39;t want that - you can have 2 identical strings that aren&#39;t the same actual object. What you want is `this.lastName.equals(lastName)`, though it needs null-guarding. (So, really, `if (this.lastName == null) return lastName == null;   return this.lastName.equals(lastName);`).\r\n\r\n&gt; `public boolean equals(String lastName, String firstName) {`\r\n\r\nThis isn&#39;t an equals method. The equals method has signature `boolean equals(Object other) {}`. Line 33&#39;s is the right signature.\r\n\r\n&gt; `return firstName.equals(((Person) obj).firstName)`\r\n\r\nIsn&#39;t nullsafe. equals methods are not supposed to throw anything. See above on how to fix that.\r\n\r\n&gt; `return lastName.hashCode() + firstName.hashCode();`\r\n\r\nAgain the null thing is a problem here, otherwise, eh, it&#39;s fine. You could do better, but that&#39;d just be an optimization. The reason this is slightly suboptimal is esoteric. (It gives the same hashcode for e.g. &quot;Peter Jackson&quot; and &quot;Jackson Peter&quot;, which is slightly suboptimal).\r\n\r\n&gt; Lines 33-41 I have no idea what is occurring or if it&#39;s correct. I stole the code from the book but changed implementation here for 2 String parameters instead of the 1 Int parameter they had (IDNumber) on page 355 in the textbook.\r\n\r\nI don&#39;t have your textbook, you didn&#39;t mention it. Nobody on Stack Overflow can answer this question as a consequence. An equals method _must_ look like `public boolean equals(Object other)`. Period.\r\n\r\n&gt; What does instanceof on line 34 check for exactly here? Just that Person is an Object too? Or more?\r\n\r\nI can ask you if this book is equal to that dog. The answer is a rather obvious: Uh, no.\r\n\r\nThe same thing is happening here. `Object` is the supertype of many things. I might be doing this:\r\n\r\n```\r\nPerson joe = new Person(&quot;joe&quot;);\r\nPerson jane = new Person(&quot;jane&quot;);\r\njoe.equals(jane);\r\n```\r\n\r\nIn which case we&#39;d have to look at names to figure it out. (the `other instanceof Person` check would succeed).\r\n\r\nBut I could also do:\r\n\r\n```\r\nPerson joe = new Person(&quot;joe&quot;);\r\nDog rover = new Dog(&quot;rover&quot;);\r\njoe.equals(rover);\r\n```\r\n\r\nIn which case the instanceof check will fail, and we want it to, because if you try to cast the parameter to `Person`, it would fail - it isn&#39;t (it&#39;s a dog). The equals method should return `false`, it should not throw an exception.\r\n\r\n&gt; Line 45 and 46, I&#39;ve read that this checks the memory address of the object.\r\n\r\nYou&#39;ve read a lie then. That&#39;s.. just incorrect and makes no sense at all. This invokes the `hashCode()` method on whatever object the `lastName` field is pointing at. There&#39;s no need to know how it works. It does not return memory addresses. If it did, this would be broken (as the hashCode of 2 objects whose value are identical, but which do not live at the same memory address, _must_ return the same hashcode, that&#39;s the point of hashcode: Equal objects must have equal hashcode (but equal hashcode does not neccessarily mean equal objects).\r\n\r\nIn general you should not be writing your own equals and hashCode implementations. Let java do it (records), your IDE do it (the source menu has a &#39;generate&#39; optino), or let tools like Project Lombok or AutoValue do it.\r\n","title":"Equals() method and hashcode() understanding issue","body":"<blockquote>\n<p>Are lines 20-30 a correct implementation of an equals() override method?</p>\n</blockquote>\n<p>No.</p>\n<blockquote>\n<p><code>this.lastName == lastName</code></p>\n</blockquote>\n<p>This compares the <strong>reference identity</strong> of <code>this.lastName</code> with the <strong>reference identity</strong> of parameter <code>lastName</code>. You don't want that - you can have 2 identical strings that aren't the same actual object. What you want is <code>this.lastName.equals(lastName)</code>, though it needs null-guarding. (So, really, <code>if (this.lastName == null) return lastName == null;   return this.lastName.equals(lastName);</code>).</p>\n<blockquote>\n<p><code>public boolean equals(String lastName, String firstName) {</code></p>\n</blockquote>\n<p>This isn't an equals method. The equals method has signature <code>boolean equals(Object other) {}</code>. Line 33's is the right signature.</p>\n<blockquote>\n<p><code>return firstName.equals(((Person) obj).firstName)</code></p>\n</blockquote>\n<p>Isn't nullsafe. equals methods are not supposed to throw anything. See above on how to fix that.</p>\n<blockquote>\n<p><code>return lastName.hashCode() + firstName.hashCode();</code></p>\n</blockquote>\n<p>Again the null thing is a problem here, otherwise, eh, it's fine. You could do better, but that'd just be an optimization. The reason this is slightly suboptimal is esoteric. (It gives the same hashcode for e.g. &quot;Peter Jackson&quot; and &quot;Jackson Peter&quot;, which is slightly suboptimal).</p>\n<blockquote>\n<p>Lines 33-41 I have no idea what is occurring or if it's correct. I stole the code from the book but changed implementation here for 2 String parameters instead of the 1 Int parameter they had (IDNumber) on page 355 in the textbook.</p>\n</blockquote>\n<p>I don't have your textbook, you didn't mention it. Nobody on Stack Overflow can answer this question as a consequence. An equals method <em>must</em> look like <code>public boolean equals(Object other)</code>. Period.</p>\n<blockquote>\n<p>What does instanceof on line 34 check for exactly here? Just that Person is an Object too? Or more?</p>\n</blockquote>\n<p>I can ask you if this book is equal to that dog. The answer is a rather obvious: Uh, no.</p>\n<p>The same thing is happening here. <code>Object</code> is the supertype of many things. I might be doing this:</p>\n<pre><code>Person joe = new Person(&quot;joe&quot;);\nPerson jane = new Person(&quot;jane&quot;);\njoe.equals(jane);\n</code></pre>\n<p>In which case we'd have to look at names to figure it out. (the <code>other instanceof Person</code> check would succeed).</p>\n<p>But I could also do:</p>\n<pre><code>Person joe = new Person(&quot;joe&quot;);\nDog rover = new Dog(&quot;rover&quot;);\njoe.equals(rover);\n</code></pre>\n<p>In which case the instanceof check will fail, and we want it to, because if you try to cast the parameter to <code>Person</code>, it would fail - it isn't (it's a dog). The equals method should return <code>false</code>, it should not throw an exception.</p>\n<blockquote>\n<p>Line 45 and 46, I've read that this checks the memory address of the object.</p>\n</blockquote>\n<p>You've read a lie then. That's.. just incorrect and makes no sense at all. This invokes the <code>hashCode()</code> method on whatever object the <code>lastName</code> field is pointing at. There's no need to know how it works. It does not return memory addresses. If it did, this would be broken (as the hashCode of 2 objects whose value are identical, but which do not live at the same memory address, <em>must</em> return the same hashcode, that's the point of hashcode: Equal objects must have equal hashcode (but equal hashcode does not neccessarily mean equal objects).</p>\n<p>In general you should not be writing your own equals and hashCode implementations. Let java do it (records), your IDE do it (the source menu has a 'generate' optino), or let tools like Project Lombok or AutoValue do it.</p>\n"},{"tags":[],"owner":{"account_id":8232961,"reputation":1576,"user_id":8990644,"display_name":"bui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649999472,"creation_date":1649999472,"answer_id":71880334,"question_id":71880003,"body_markdown":"Think of a Java object as a person and its `hashcode()` as the address of the house he/she lives in. Multiple persons can live in the same house (sharing the same `hashcode`) so once you arrive at the correct house, you will need an additional mechanism to find the actual person you are looking for. That&#39;s where `equal()` comes into play. Two people in that house are seen as &quot;different&quot; if and only if `equal()` tells you so.\r\n\r\nBy default, Java&#39;s `equal()` compares the references of the two objects. However, you can override `equal()` to implement *your own criteria* of when two people should be treated as the same person. Two people can have completely different identities, but as long as *your criteria* say that they&#39;re `equal()`, then they are treated as one and the same person.\r\n\r\nSo, with that in mind\r\n\r\n&gt; Are lines 20-30 a correct implementation of an equals() override method?\r\n\r\nNo, since you are comparing two persons, not two string\r\n\r\n&gt; Lines 33-41 I have no idea what is occurring or if it&#39;s correct\r\n\r\n    33  public boolean equals(Object obj) {\r\n    34      if (obj instanceof Person) {\r\n    35              return firstName.equals(((Person) obj).firstName)\r\n    36                      &amp;&amp; lastName.equals(((Person) obj).lastName);\r\n    37              \r\n    38      }\r\n    39          \r\n    40          return false;\r\n    41  }\r\n\r\nSays, you choose a random person in the house and want to check if this person is the same person as another object, but the other object can literally be anything (TV, fridge, trashbin, etc.). As the first step you want to verify that the other object is indeed a person (line 34). If that is the case, then invoke your `equal` criteria to judge if the two should be treated as the same person (line 35 and 36).\r\n\r\n \r\n\r\n&gt; Line 45 and 46, I&#39;ve read that this checks the memory address of the object. But given that we only return lastName.hashCode() and firstName.hashCode(), where abouts is it checking for comparison of memory addresses? What is this method actually doing?\r\n\r\nIt returns the address of the &quot;bucket&quot; of memory that the object and possibly other objects also live in. That is, it returns the address of the share house.\r\n","title":"Equals() method and hashcode() understanding issue","body":"<p>Think of a Java object as a person and its <code>hashcode()</code> as the address of the house he/she lives in. Multiple persons can live in the same house (sharing the same <code>hashcode</code>) so once you arrive at the correct house, you will need an additional mechanism to find the actual person you are looking for. That's where <code>equal()</code> comes into play. Two people in that house are seen as &quot;different&quot; if and only if <code>equal()</code> tells you so.</p>\n<p>By default, Java's <code>equal()</code> compares the references of the two objects. However, you can override <code>equal()</code> to implement <em>your own criteria</em> of when two people should be treated as the same person. Two people can have completely different identities, but as long as <em>your criteria</em> say that they're <code>equal()</code>, then they are treated as one and the same person.</p>\n<p>So, with that in mind</p>\n<blockquote>\n<p>Are lines 20-30 a correct implementation of an equals() override method?</p>\n</blockquote>\n<p>No, since you are comparing two persons, not two string</p>\n<blockquote>\n<p>Lines 33-41 I have no idea what is occurring or if it's correct</p>\n</blockquote>\n<pre><code>33  public boolean equals(Object obj) {\n34      if (obj instanceof Person) {\n35              return firstName.equals(((Person) obj).firstName)\n36                      &amp;&amp; lastName.equals(((Person) obj).lastName);\n37              \n38      }\n39          \n40          return false;\n41  }\n</code></pre>\n<p>Says, you choose a random person in the house and want to check if this person is the same person as another object, but the other object can literally be anything (TV, fridge, trashbin, etc.). As the first step you want to verify that the other object is indeed a person (line 34). If that is the case, then invoke your <code>equal</code> criteria to judge if the two should be treated as the same person (line 35 and 36).</p>\n<blockquote>\n<p>Line 45 and 46, I've read that this checks the memory address of the object. But given that we only return lastName.hashCode() and firstName.hashCode(), where abouts is it checking for comparison of memory addresses? What is this method actually doing?</p>\n</blockquote>\n<p>It returns the address of the &quot;bucket&quot; of memory that the object and possibly other objects also live in. That is, it returns the address of the share house.</p>\n"}],"owner":{"display_name":"user16452938"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650257180,"creation_date":1649995906,"question_id":71880003,"body_markdown":"This is a practice exercise from a book by Koffman. Data Structures: Abstraction and Design Using Java, 3rd Edition. \r\n\r\nI have a series of questions. I have had 2 attempts at the equals method. Lines 21-29 are what made sense to me logically without checking references, and 32-41 are adapted from the book. \r\n\r\n\r\n1) Are lines 20-30 a correct implementation of an equals() override method? Can I have 2 String parameters and check if these parameters match with the Person Objects 2 String parameters?\r\n\r\n\r\n\r\n2) Lines 33-41 I have no idea what is occurring or if it&#39;s correct. I stole the code from the book but changed implementation here for 2 String parameters?\r\n\r\n     2 a) Are these lines correct to start with?\r\n\r\n     2 b) What does instanceof on line 34 check for exactly here? Just that Person is an \r\n             Object too? Or more?\r\n\r\n      2 b 1) If there&#39;s more to 2a, what else is being checked?\r\n\r\n3 )  Line 45 and 46, What is this method actually doing?\r\n\r\n\r\n```\r\n1 public class Person {\r\n2\t\r\n3\tString lastName;\r\n4\tString firstName;\r\n5\t\r\n6\t\r\n7\tpublic Person(String lastName, String firstName) {\r\n8\t\tthis.lastName = lastName;\r\n9\t\tthis.firstName = firstName;\r\n10\t}\r\n11\t\r\n12\tpublic String toString() {\r\n13\t\t\r\n14\t\tString result = (&quot;First name: &quot; + firstName +\r\n15\t\t\t\t&quot;\\nLast name: &quot; + lastName);\r\n16\t\t\t\t\r\n17\t\treturn result;\r\n18\t}\r\n19\t\r\n20\tpublic boolean equals(String lastName, String firstName) {\r\n21\r\n22\t\tif (this.lastName == lastName &amp;&amp; this.firstName == firstName) {\r\n23\t\r\n24\t\t\t\r\n25\t\t\treturn true;\t\r\n26\t\t}\r\n27\t\t\r\n28\t\treturn false;\r\n29\t\t\r\n30\t}\r\n31\t\r\n32\t\r\n33\tpublic boolean equals(Object obj) {\r\n34\t\tif (obj instanceof Person) {\r\n35\t\t\t\treturn firstName.equals(((Person) obj).firstName)\r\n36\t\t\t\t\t\t&amp;&amp; lastName.equals(((Person) obj).lastName);\r\n37\t\t\t\t\r\n38\t\t}\r\n39\t\t\t\r\n40\t    return false;\r\n41\t}\r\n42\t\r\n43\t\r\n44\t\r\n45\t public int hashcode() {\r\n46\t\t return lastName.hashCode() + firstName.hashCode();\r\n47\t }\r\n48\t\r\n49\t\r\n50\r\n51\r\n52 }\r\n```","title":"Equals() method and hashcode() understanding issue","body":"<p>This is a practice exercise from a book by Koffman. Data Structures: Abstraction and Design Using Java, 3rd Edition.</p>\n<p>I have a series of questions. I have had 2 attempts at the equals method. Lines 21-29 are what made sense to me logically without checking references, and 32-41 are adapted from the book.</p>\n<ol>\n<li><p>Are lines 20-30 a correct implementation of an equals() override method? Can I have 2 String parameters and check if these parameters match with the Person Objects 2 String parameters?</p>\n</li>\n<li><p>Lines 33-41 I have no idea what is occurring or if it's correct. I stole the code from the book but changed implementation here for 2 String parameters?</p>\n<p>2 a) Are these lines correct to start with?</p>\n<p>2 b) What does instanceof on line 34 check for exactly here? Just that Person is an\nObject too? Or more?</p>\n<p>2 b 1) If there's more to 2a, what else is being checked?</p>\n</li>\n</ol>\n<p>3 )  Line 45 and 46, What is this method actually doing?</p>\n<pre><code>1 public class Person {\n2   \n3   String lastName;\n4   String firstName;\n5   \n6   \n7   public Person(String lastName, String firstName) {\n8       this.lastName = lastName;\n9       this.firstName = firstName;\n10  }\n11  \n12  public String toString() {\n13      \n14      String result = (&quot;First name: &quot; + firstName +\n15              &quot;\\nLast name: &quot; + lastName);\n16              \n17      return result;\n18  }\n19  \n20  public boolean equals(String lastName, String firstName) {\n21\n22      if (this.lastName == lastName &amp;&amp; this.firstName == firstName) {\n23  \n24          \n25          return true;    \n26      }\n27      \n28      return false;\n29      \n30  }\n31  \n32  \n33  public boolean equals(Object obj) {\n34      if (obj instanceof Person) {\n35              return firstName.equals(((Person) obj).firstName)\n36                      &amp;&amp; lastName.equals(((Person) obj).lastName);\n37              \n38      }\n39          \n40      return false;\n41  }\n42  \n43  \n44  \n45   public int hashcode() {\n46       return lastName.hashCode() + firstName.hashCode();\n47   }\n48  \n49  \n50\n51\n52 }\n</code></pre>\n"},{"tags":["java","spring","rest","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650252878,"creation_date":1650252449,"answer_id":71907325,"question_id":71905938,"body_markdown":"You can make `MockMvc` to wait for your async response. change the code like this:\r\n\r\n    public void tryGetAllUsers_shouldFindAllUsers() throws Exception {\r\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/v1/user/all&quot;)\r\n                .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(request().asyncStarted())\r\n                .andReturn();\r\n\r\n        mockMvc\r\n                .perform(asyncDispatch(mvcResult))\r\n                .andExpect(status().isOk())\r\n                .andDo(print());\r\n\r\n    }\r\n\r\nI ","title":"Spring Mock Test return null body with CompletableFuture","body":"<p>You can make <code>MockMvc</code> to wait for your async response. change the code like this:</p>\n<pre><code>public void tryGetAllUsers_shouldFindAllUsers() throws Exception {\n    MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/v1/user/all&quot;)\n            .accept(MediaType.APPLICATION_JSON))\n            .andExpect(request().asyncStarted())\n            .andReturn();\n\n    mockMvc\n            .perform(asyncDispatch(mvcResult))\n            .andExpect(status().isOk())\n            .andDo(print());\n\n}\n</code></pre>\n<p>I</p>\n"}],"owner":{"account_id":16451044,"reputation":25,"user_id":11884462,"display_name":"Exalow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71907325,"answer_count":1,"score":1,"last_activity_date":1650252878,"creation_date":1650234541,"question_id":71905938,"body_markdown":"i&#39;m trying to make some tests for my rest api but when i start the first test the response body is null and i think it&#39;s because i am using CompletableFuture...\r\n\r\n```java\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\n@ExtendWith(SpringExtension.class)\r\npublic class UserControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @InjectMocks\r\n    private UserRestController controller;\r\n\r\n    @Test\r\n    @WithMockUser(username = &quot;test&quot;, password = &quot;test&quot;, roles = &quot;ADMIN&quot;)\r\n    public void tryGetAllUsers_shouldFindAllUsers() throws Exception {\r\n        mockMvc.perform(get(&quot;/api/v1/user/all&quot;).accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andDo(print());\r\n    }\r\n}\r\n```\r\n\r\nController class\r\n\r\n```java\r\n@GetMapping(&quot;/all&quot;)\r\n    @RolesAllowed(&quot;ADMIN&quot;)\r\n    @ResponseBody\r\n    public CompletableFuture&lt;ResponseEntity&lt;Page&lt;User&gt;&gt;&gt; getUsers(@PageableDefault(sort = &quot;id&quot;, direction = Sort.Direction.ASC) Pageable pageable) {\r\n        return CompletableFuture.supplyAsync(() -&gt; ResponseEntity.ok(service.getUsers(pageable)));\r\n    }\r\n```\r\n\r\nI&#39;ve tried so many ways and asked to so many people but one month later i got no solutions...","title":"Spring Mock Test return null body with CompletableFuture","body":"<p>i'm trying to make some tests for my rest api but when i start the first test the response body is null and i think it's because i am using CompletableFuture...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\n@ExtendWith(SpringExtension.class)\npublic class UserControllerTests {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @InjectMocks\n    private UserRestController controller;\n\n    @Test\n    @WithMockUser(username = &quot;test&quot;, password = &quot;test&quot;, roles = &quot;ADMIN&quot;)\n    public void tryGetAllUsers_shouldFindAllUsers() throws Exception {\n        mockMvc.perform(get(&quot;/api/v1/user/all&quot;).accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk())\n                .andDo(print());\n    }\n}\n</code></pre>\n<p>Controller class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/all&quot;)\n    @RolesAllowed(&quot;ADMIN&quot;)\n    @ResponseBody\n    public CompletableFuture&lt;ResponseEntity&lt;Page&lt;User&gt;&gt;&gt; getUsers(@PageableDefault(sort = &quot;id&quot;, direction = Sort.Direction.ASC) Pageable pageable) {\n        return CompletableFuture.supplyAsync(() -&gt; ResponseEntity.ok(service.getUsers(pageable)));\n    }\n</code></pre>\n<p>I've tried so many ways and asked to so many people but one month later i got no solutions...</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650247420,"post_id":71906793,"comment_id":127064715,"body_markdown":"Why do you use double forward slashes in the paths?  Back slash need to be duplicated, not forward slashes.","body":"Why do you use double forward slashes in the paths?  Back slash need to be duplicated, not forward slashes."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650247565,"post_id":71906793,"comment_id":127064742,"body_markdown":"Is there any way you have your src file already open in excel?","body":"Is there any way you have your src file already open in excel?"},{"owner":{"account_id":1848634,"reputation":1545,"user_id":1675724,"accept_rate":61,"display_name":"Brethlosze"},"score":0,"creation_date":1650252315,"post_id":71906793,"comment_id":127065368,"body_markdown":"Replacing backlashes keeps throwing the same Exception. The files are empty. Recreating them doesnt change the Exception either.","body":"Replacing backlashes keeps throwing the same Exception. The files are empty. Recreating them doesnt change the Exception either."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1650262482,"post_id":71906793,"comment_id":127066808,"body_markdown":"See https://stackoverflow.com/questions/46146161/apache-poi-fileinputstream-works-file-object-fails-nullpointerexception/46149469#46149469. So use a `FileInputStream` to open the Workbook.","body":"See <a href=\"https://stackoverflow.com/questions/46146161/apache-poi-fileinputstream-works-file-object-fails-nullpointerexception/46149469#46149469\" title=\"apache poi fileinputstream works file object fails nullpointerexception\">stackoverflow.com/questions/46146161/&hellip;</a>. So use a <code>FileInputStream</code> to open the Workbook."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1650297899,"post_id":71906793,"comment_id":127076539,"body_markdown":"@AxelRichter great answer","body":"@AxelRichter great answer"}],"owner":{"account_id":1848634,"reputation":1545,"user_id":1675724,"accept_rate":61,"display_name":"Brethlosze"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650252131,"creation_date":1650245821,"question_id":71906793,"body_markdown":"I have a source `src` Excel file to read, and a destination `dst` file to overwrite for edited changes after reading `src`. With `k=true`, the following code **fails** with `POIXMLException`. With `k=false`, **both** files are written.\r\n\r\n    Exception in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: \r\n    java.io.EOFException: Unexpected end of ZLIB input stream\r\n    \tat org.apache.poi.ooxml.POIXMLDocument.getProperties(POIXMLDocument.java:146)\r\n\t    at org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:225)\r\n\t    at Test.main(Test.java:26)\r\n\r\nWhat should I do to **keep intact** the &#39;src&#39; file?, hopefully not changing the &#180;Worksheet&#180; and &#180;Sheet&#180; classes.\r\n\r\n\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport java.io.OutputStream;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Paths;\r\n\timport java.nio.file.StandardCopyOption;\r\n\timport org.apache.poi.ss.usermodel.Row;\r\n\timport org.apache.poi.ss.usermodel.Sheet;\r\n\timport org.apache.poi.ss.usermodel.Workbook;\r\n\timport org.apache.poi.ss.usermodel.WorkbookFactory;\r\n\t\r\n\tpublic class Test {\r\n\t\tstatic Workbook wb;\r\n\t\tstatic Sheet sh;\r\n\t\tpublic static void main(String[] args) throws Exception {\r\n\t\t\tFiles.copy(Paths.get(&quot;src\\\\src.xlsx&quot;),Paths.get(&quot;src\\\\dst.xlsx&quot;),\r\n\t\t\t\t\tStandardCopyOption.REPLACE_EXISTING);\r\n\t\t\tFile fl; boolean k=true;\r\n\t\t\tif (k)\r\n\t\t\t\tfl= new File(&quot;src\\\\src.xlsx&quot;); //Fails\r\n\t\t\telse\r\n\t\t\t\tfl = new File(&quot;src\\\\dst.xlsx&quot;); //Do Not Fails\r\n\t\t\twb = WorkbookFactory.create(fl);\r\n\t\t\tsh = wb.getSheetAt(0);\r\n\t\t\tRow row = sh.getRow(1);\r\n\t\t\trow.getCell(1).setCellValue(&quot;Test&quot;);\r\n\t\t\tOutputStream fos = new FileOutputStream(&quot;src\\\\src.xlsx&quot;);\r\n\t\t\twb.write(fos); // [FAILS]\r\n\t\t\twb.close();\r\n\t    }\r\n\t}","title":"OutputStream Workbook Fails to Overwrite","body":"<p>I have a source <code>src</code> Excel file to read, and a destination <code>dst</code> file to overwrite for edited changes after reading <code>src</code>. With <code>k=true</code>, the following code <strong>fails</strong> with <code>POIXMLException</code>. With <code>k=false</code>, <strong>both</strong> files are written.</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: \njava.io.EOFException: Unexpected end of ZLIB input stream\n    at org.apache.poi.ooxml.POIXMLDocument.getProperties(POIXMLDocument.java:146)\n    at org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:225)\n    at Test.main(Test.java:26)\n</code></pre>\n<p>What should I do to <strong>keep intact</strong> the 'src' file?, hopefully not changing the ´Worksheet´ and ´Sheet´ classes.</p>\n<pre><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\n\npublic class Test {\n    static Workbook wb;\n    static Sheet sh;\n    public static void main(String[] args) throws Exception {\n        Files.copy(Paths.get(&quot;src\\\\src.xlsx&quot;),Paths.get(&quot;src\\\\dst.xlsx&quot;),\n                StandardCopyOption.REPLACE_EXISTING);\n        File fl; boolean k=true;\n        if (k)\n            fl= new File(&quot;src\\\\src.xlsx&quot;); //Fails\n        else\n            fl = new File(&quot;src\\\\dst.xlsx&quot;); //Do Not Fails\n        wb = WorkbookFactory.create(fl);\n        sh = wb.getSheetAt(0);\n        Row row = sh.getRow(1);\n        row.getCell(1).setCellValue(&quot;Test&quot;);\n        OutputStream fos = new FileOutputStream(&quot;src\\\\src.xlsx&quot;);\n        wb.write(fos); // [FAILS]\n        wb.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","text","view","zk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649907832,"post_id":71865651,"comment_id":126995507,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650252115,"creation_date":1650252115,"answer_id":71907298,"question_id":71865651,"body_markdown":"I simulate your case with https://zkfiddle.org/sample/81hu59/1-display-text\r\n\r\nBut when I `setValue()`, the textbox always shows the beginning of the input text. Only when I call `setSelectionRange()`, it will display the end of the input text. Do you call that method?\r\n\r\nIf not, please show me your case with [zkfiddle](https://zkfiddle.org) or related code.","title":"&lt;textbox&gt; display the end of the text section when i add input Zk framework","body":"<p>I simulate your case with <a href=\"https://zkfiddle.org/sample/81hu59/1-display-text\" rel=\"nofollow noreferrer\">https://zkfiddle.org/sample/81hu59/1-display-text</a></p>\n<p>But when I <code>setValue()</code>, the textbox always shows the beginning of the input text. Only when I call <code>setSelectionRange()</code>, it will display the end of the input text. Do you call that method?</p>\n<p>If not, please show me your case with <a href=\"https://zkfiddle.org\" rel=\"nofollow noreferrer\">zkfiddle</a> or related code.</p>\n"}],"owner":{"account_id":24855214,"reputation":1,"user_id":18731645,"display_name":"lamnt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650252115,"creation_date":1649901520,"question_id":71865651,"body_markdown":"I using ZK framework to code front end and i have a problem.\r\n\r\nWhen i add an input (The input is a output of other events) is a long text in &quot;text box&quot; component, the &quot;text box&quot; display the end of the text. \r\n\r\nExample: when i add a text like: &quot;There are many ways to judge a city&#39;s success as a tourist destination beyond the number of visitors it gets.&quot;,\r\nthe text box will display the end of the text &quot;.... number of visitors it gets.&quot;, i want the &quot;text box&quot; display the head of the text &quot;There are many ways to judge...&quot;.\r\n\r\nHow can i fix it, thank you guys.","title":"&lt;textbox&gt; display the end of the text section when i add input Zk framework","body":"<p>I using ZK framework to code front end and i have a problem.</p>\n<p>When i add an input (The input is a output of other events) is a long text in &quot;text box&quot; component, the &quot;text box&quot; display the end of the text.</p>\n<p>Example: when i add a text like: &quot;There are many ways to judge a city's success as a tourist destination beyond the number of visitors it gets.&quot;,\nthe text box will display the end of the text &quot;.... number of visitors it gets.&quot;, i want the &quot;text box&quot; display the head of the text &quot;There are many ways to judge...&quot;.</p>\n<p>How can i fix it, thank you guys.</p>\n"},{"tags":["java","android","firebase","crashlytics","crash-reports"],"comments":[{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1649650383,"post_id":71815836,"comment_id":126920799,"body_markdown":"Have you tried test crashing and checked for the result","body":"Have you tried test crashing and checked for the result"},{"owner":{"account_id":10470352,"reputation":679,"user_id":7738516,"display_name":"Vishnu Satheesh"},"score":0,"creation_date":1649651637,"post_id":71815836,"comment_id":126920990,"body_markdown":"@Sayooj Yes, I have posted the logs at app relaunch. But no logs received from FirebaseCrashlytics after crash.","body":"@Sayooj Yes, I have posted the logs at app relaunch. But no logs received from FirebaseCrashlytics after crash."},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1649652952,"post_id":71815836,"comment_id":126921196,"body_markdown":"Oops. Let me see again","body":"Oops. Let me see again"}],"answers":[{"tags":[],"owner":{"account_id":10470352,"reputation":679,"user_id":7738516,"display_name":"Vishnu Satheesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650251569,"creation_date":1649686089,"answer_id":71829287,"question_id":71815836,"body_markdown":"***Solved!..***  \r\nThere was another utility logger library initialized in the application class that prevented crashlytics from collecting log. &lt;https://github.com/hypertrack/hyperlog-android&gt; .  This library prevented the app from crashing. As we know crashlytics crash report collection works only if the app crashes. As I threw the uncaught exception... the app froze, and it didn&#39;t crash. After I commented the code that initializes this library from the application class. It started working like a charm.\r\n\r\n\r\nSee the reply that I got from GitHub. \r\n[![enter image description here][1]][1]\r\nThe first one seems to be my issue. \r\n\r\nAlso the initialization &amp; manifest part is not necessary unless you want to explicitly enable/disable crashlytics working. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nWK8z.png","title":"Firebase crashlytics not able to read crash reports","body":"<p><em><strong>Solved!..</strong></em><br />\nThere was another utility logger library initialized in the application class that prevented crashlytics from collecting log. <a href=\"https://github.com/hypertrack/hyperlog-android\" rel=\"nofollow noreferrer\">https://github.com/hypertrack/hyperlog-android</a> .  This library prevented the app from crashing. As we know crashlytics crash report collection works only if the app crashes. As I threw the uncaught exception... the app froze, and it didn't crash. After I commented the code that initializes this library from the application class. It started working like a charm.</p>\n<p>See the reply that I got from GitHub.\n<a href=\"https://i.stack.imgur.com/nWK8z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWK8z.png\" alt=\"enter image description here\" /></a>\nThe first one seems to be my issue.</p>\n<p>Also the initialization &amp; manifest part is not necessary unless you want to explicitly enable/disable crashlytics working.</p>\n"}],"owner":{"account_id":10470352,"reputation":679,"user_id":7738516,"display_name":"Vishnu Satheesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71829287,"answer_count":1,"score":2,"last_activity_date":1650251569,"creation_date":1649587563,"question_id":71815836,"body_markdown":"I have configured **crashlytics** as per Firebase Documentation\r\n &lt;https://firebase.google.com/docs/crashlytics/get-started?platform=android&gt;. \r\nBut crash reports not generated and uploaded to server.\r\n\r\n [![server ][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5BQ1.png\r\n\r\nKindly refer my build details.\r\n\r\nHere is our project-level **build.gradle**\r\n \r\n``` \r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.8.1&#39;\r\n\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &#39;https://jitpack.io&#39;}\r\n        maven{ url &#39;https://maven.google.com/&#39; }\r\n        mavenCentral()\r\n\r\n        flatDir {\r\n            dirs &#39;libs&#39;\r\n        }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n**build.gradle(:app)**\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;com.google.firebase.crashlytics&#39;\r\n\r\nandroid {\r\n\r\n    compileSdkVersion 28\r\n    defaultConfig {\r\n        applicationId &quot;com.XXX.XXX&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 28\r\n        versionCode 375\r\n        versionName &quot;2.25.1&quot;\r\n\r\n        multiDexEnabled true\r\n        testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n        signingConfig signingConfigs.config\r\n    }\r\n\r\n    android {\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }\r\n    }\r\n\r\n    flavorDimensions &quot;appVariant&quot;, &quot;projectCode&quot;\r\n    productFlavors {\r\n        A {\r\n            applicationId &#39;com.XXX.A&#39;\r\n            dimension &quot;appVariant&quot;\r\n        }\r\n        B {\r\n            applicationId &#39;com.XXX.B&#39;\r\n            dimension &quot;appVariant&quot;\r\n        }\r\n        C {\r\n            applicationId &#39;com.XXX.C&#39;\r\n            dimension &quot;appVariant&quot;\r\n        }\r\n        D {\r\n            applicationId &#39;com.XXX.D&#39;\r\n            dimension &quot;appVariant&quot;\r\n        }\r\n        DEV {\r\n            dimension &quot;projectCode&quot;\r\n        }\r\n        QA {\r\n            dimension &quot;projectCode&quot;\r\n        }\r\n        LIVE {\r\n            dimension &quot;projectCode&quot;\r\n        }\r\n        DEMO {\r\n            dimension &quot;projectCode&quot;\r\n        }\r\n        BETA {\r\n            dimension &quot;projectCode&quot;\r\n        }\r\n    }\r\n\r\n    applicationVariants.all { variant -&gt;\r\n        variant.outputs.all { output -&gt;\r\n            def project = &quot;XXX&quot;\r\n            def SEP = &quot;_&quot;\r\n            def flavor = variant.productFlavors[0].name\r\n            def projcode = variant.productFlavors[1].name\r\n            def buildType = variant.buildType.name\r\n            def buildTypeName = &quot;&quot;;\r\n            switch (buildType) {\r\n                case &quot;ABC&quot;: buildTypeName = SEP + &quot;AB&quot;; break;\r\n                case &quot;XYZ&quot;: buildTypeName = SEP + &quot;XY&quot;; break;\r\n                default:\r\n                    buildTypeName = &quot;&quot;;\r\n            }\r\n\r\n            def version = variant.versionName\r\n            def newApkName = project + buildTypeName + SEP + flavor + SEP + projcode + SEP + version + &quot;.apk&quot;\r\n\r\n            outputFileName = new File(newApkName)\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildTypes {\r\n        debug {\r\n\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            signingConfig signingConfigs.config\r\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;\\&quot;&quot;\r\n        }\r\n\t\t\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            signingConfig signingConfigs.config\r\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;\\&quot;&quot;\r\n        }\r\n        ABC {\r\n            signingConfig signingConfigs.config\r\n            minifyEnabled false\r\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;_A\\&quot;&quot;\r\n        }\r\n        XYZ {\r\n            signingConfig signingConfigs.config\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            signingConfig signingConfigs.config\r\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;_X\\&quot;&quot;\r\n        }\r\n    }\r\n\t\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/dependencies.txt&#39;\r\n        exclude &#39;META-INF/LGPL2.1&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n\r\n    maven {\r\n        url &#39;https://maven.google.com/&#39;\r\n        name &#39;Google&#39;\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    def room_version = &quot;1.1.1&quot;\r\n    def lifecycle_version = &quot;1.1.1&quot;\r\n    def work_version = &quot;1.0.0-beta01&quot;\r\n    implementation files(&#39;libs/commons-net-3.3.jar&#39;)\r\n    implementation files(&#39;libs/httpclient-4.3.4.jar&#39;)\r\n    implementation files(&#39;libs/httpcore-4.3.2.jar&#39;)\r\n    implementation files(&#39;libs/httpmime-4.3.4.jar&#39;)\r\n    implementation files(&#39;libs/silipmlib.jar&#39;)\r\n    implementation files(&#39;libs/HyperLogLib8.jar&#39;)\r\n\t\r\n    // Import the BoM for the Firebase platform\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.3.0&#39;)\r\n\t\r\n    implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging&#39;\r\n\r\n    //dependency for Workmanager\r\n    implementation &#39;androidx.work:work-runtime:2.0.1&#39;\r\n\r\n    //dependencies for Room database\r\n    implementation &#39;androidx.room:room-runtime:2.0.0&#39;\r\n    //noinspection GradleCompatible\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.0.0&#39;\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    //dependency for custom progress dialog\r\n\r\n    //dependency for retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.4.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n\r\n    //dependency for joda time for date time calculation\r\n    implementation &#39;joda-time:joda-time:2.10&#39;\r\n\r\n    //dependency for glide\r\n    implementation &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n\r\n    //dependency for custom toast\r\n    implementation &#39;com.valdesekamdem.library:md-toast:0.9.0&#39;\r\n\r\n    //dependency for marshmallow permission - dexter library\r\n    implementation &#39;com.karumi:dexter:4.2.0&#39;\r\n\r\n    // ViewModel and LiveData\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.0.0&#39;\r\n    annotationProcessor &#39;androidx.lifecycle:lifecycle-compiler:2.0.0&#39;\r\n\r\n    // alternately - if using Java8, use the following instead of compiler\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.0.0&#39;\r\n\r\n    implementation &#39;com.jakewharton:butterknife:10.1.0&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.1.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.0&#39;\r\n    implementation project(&#39;:floatingmenu&#39;)\r\n    implementation project(&#39;:html2bitmap&#39;)\r\n    debugImplementation &#39;com.amitshekhar.android:debug-db:1.0.4&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.0.0&#39;\r\n    implementation &#39;com.github.vipulasri:timelineview:1.0.6&#39;\r\n    implementation &#39;me.relex:circleindicator:1.2.2@aar&#39;\r\n    implementation &#39;com.haozhang.libary:android-slanted-textview:1.2&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:15.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:15.0.1&#39;\r\n\r\n    // implementation &#39;com.google.android.gms:play-services-gcm:11.8.0&#39;\r\n\r\n    // implementation &#39;com.google.android.gms:play-services-ads:11.8.0&#39;\r\n    implementation(&#39;com.github.florent37:materialviewpager:1.2.3&#39;) {\r\n        exclude group: &#39;com.android.support&#39;\r\n    }\r\n\r\n    implementation &#39;com.orhanobut:dialogplus:1.11@aar&#39;\r\n\r\n    //  implementation &#39;me.dm7.barcodescanner:zbar:1.8.4&#39;\r\n    implementation &#39;me.dm7.barcodescanner:zxing:1.9&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:2.3.0@aar&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-legacy:2.3.0@aar&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-integration:2.3.0@aar&#39;\r\n    implementation &#39;com.google.zxing:core:3.2.0&#39;\r\n    implementation &#39;net.cachapa.expandablelayout:expandablelayout:2.9.2&#39;\r\n    implementation &#39;com.github.siyamed:android-shape-imageview:0.9.+@aar&#39;\r\n    implementation files(&#39;libs/HyperLogLib8.jar&#39;)\r\n    implementation project(&#39;:scandecode-release&#39;)\r\n    implementation &#39;com.tt:whorlviewlibrary:1.0.3&#39;\r\n    implementation &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n    implementation &#39;io.reactivex:rxjava:1.1.6&#39;\r\n    implementation &#39;com.jakewharton.rxbinding:rxbinding:0.4.0&#39;\r\n    implementation &#39;com.jakewharton.rxbinding:rxbinding-design:0.4.0&#39;\r\n\r\n    implementation &#39;org.apache.commons:commons-text:1.7&#39;\r\n\r\n    // these are for retrolambda and streams api\r\n    implementation &#39;com.annimon:stream:1.1.2&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n**With initialisation:**\r\n\r\n```\r\nFirebaseApp.initializeApp(this)\r\nFirebaseCrashlytics.getInstance().setCrashlyticsCollectionEnabled(true)\r\n```\r\n\r\n**And manifest:**\r\n```\r\n&lt;meta-data\r\n            android:name=&quot;firebase_crashlytics_collection_enabled&quot;\r\n            android:value=&quot;true&quot; /&gt;\r\n```\t\t\t\r\n\r\n\r\nHere is the logcat for the Crashlytics/CrashTest crash:\r\n```\r\n2022-04-10 15:53:07.717 21310-21310/com.XXX.XXX E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.XXX.XXX, PID: 21310\r\n    java.lang.RuntimeException: Test Crash\r\n        at com.XXX.XXX.UI.HomeActivity$1.onClick(HomeActivity.java:345)\r\n        at android.view.View.performClick(View.java:6392)\r\n        at android.view.View$PerformClick.run(View.java:25133)\r\n        at android.os.Handler.handleCallback(Handler.java:790)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:198)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7055)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:523)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:836)\r\n```\r\n\r\nThis is the log that we receive when app relaunched after crash.\r\n```\r\nD:\\user\\Android Projects\\XXX&gt;adb logcat -s FirebaseCrashlytics\r\n--------- beginning of main\r\n--------- beginning of system\r\n--------- beginning of crash\r\n04-10 15:54:56.911 22018 22018 I FirebaseCrashlytics: Initializing Firebase Crashlytics 18.2.9 for com.XXX.XXX\r\n04-10 15:54:56.926 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\r\n04-10 15:54:56.940 22018 22018 D FirebaseCrashlytics: AnalyticsConnector now available.\r\n04-10 15:54:56.943 22018 22018 D FirebaseCrashlytics: Registered Firebase Analytics listener.\r\n04-10 15:54:56.948 22018 22018 D FirebaseCrashlytics: Mapping file ID is: 00000000000000000000000000000000\r\n04-10 15:54:56.958 22018 22018 D FirebaseCrashlytics: Checking for cached settings...\r\n04-10 15:54:56.992 22018 22018 D FirebaseCrashlytics: Loaded cached settings: {&quot;settings_version&quot;:3,&quot;cache_duration&quot;:86400,&quot;features&quot;:{&quot;collect_logged_exceptions&quot;:true,&quot;collect_reports&quot;:\r\ntrue,&quot;collect_analytics&quot;:false,&quot;prompt_enabled&quot;:false,&quot;push_enabled&quot;:false,&quot;firebase_crashlytics_enabled&quot;:false,&quot;collect_anrs&quot;:true,&quot;collect_metric_kit&quot;:false},&quot;app&quot;:{&quot;status&quot;:&quot;activated\r\n&quot;,&quot;update_required&quot;:false,&quot;report_upload_variant&quot;:2,&quot;native_report_upload_variant&quot;:2},&quot;fabric&quot;:{&quot;org_id&quot;:&quot;62513aa60277ea5e0396d4ef&quot;,&quot;bundle_id&quot;:&quot;com.XXX.XXX&quot;},&quot;on_demand_\r\nupload_rate_per_minute&quot;:10,&quot;on_demand_backoff_base&quot;:1.2,&quot;on_demand_backoff_step_duration_seconds&quot;:60,&quot;expires_at&quot;:1649666891559}\r\n04-10 15:54:56.996 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\r\n04-10 15:54:57.113 22018 22018 D FirebaseCrashlytics: Successfully configured exception handler.\r\n04-10 15:54:57.116 22018 22049 D FirebaseCrashlytics: Opening a new session with ID 6252B07803E20001560228F94565CB5E\r\n04-10 15:54:57.183 22018 22049 D FirebaseCrashlytics: Registered Firebase Analytics event receiver for breadcrumbs\r\n04-10 15:54:58.013 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\r\n04-10 15:54:58.642 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\r\n``` \r\n\r\nThese are set to false in cached settings:\r\n```\r\n&quot;collect_analytics&quot;:false,\r\n&quot;firebase_crashlytics_enabled&quot;:false,\r\n```\r\nThis setting was weird. Both of them are false for some reason though I never did turn them off explicitly. Never even played with these settings.  \r\n\r\n\r\n**Not sure what is wrong**. \r\nAny help will be appreciated.","title":"Firebase crashlytics not able to read crash reports","body":"<p>I have configured <strong>crashlytics</strong> as per Firebase Documentation\n<a href=\"https://firebase.google.com/docs/crashlytics/get-started?platform=android\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/crashlytics/get-started?platform=android</a>.\nBut crash reports not generated and uploaded to server.</p>\n<p><a href=\"https://i.stack.imgur.com/W5BQ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W5BQ1.png\" alt=\"server \" /></a></p>\n<p>Kindly refer my build details.</p>\n<p>Here is our project-level <strong>build.gradle</strong></p>\n<pre><code>buildscript {\n    \n    repositories {\n        google()\n        jcenter()\n\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.1'\n        classpath 'com.google.gms:google-services:4.3.10'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.8.1'\n\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io'}\n        maven{ url 'https://maven.google.com/' }\n        mavenCentral()\n\n        flatDir {\n            dirs 'libs'\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId &quot;com.XXX.XXX&quot;\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 375\n        versionName &quot;2.25.1&quot;\n\n        multiDexEnabled true\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n        dataBinding {\n            enabled = true\n        }\n        signingConfig signingConfigs.config\n    }\n\n    android {\n        lintOptions {\n            checkReleaseBuilds false\n            abortOnError false\n        }\n    }\n\n    flavorDimensions &quot;appVariant&quot;, &quot;projectCode&quot;\n    productFlavors {\n        A {\n            applicationId 'com.XXX.A'\n            dimension &quot;appVariant&quot;\n        }\n        B {\n            applicationId 'com.XXX.B'\n            dimension &quot;appVariant&quot;\n        }\n        C {\n            applicationId 'com.XXX.C'\n            dimension &quot;appVariant&quot;\n        }\n        D {\n            applicationId 'com.XXX.D'\n            dimension &quot;appVariant&quot;\n        }\n        DEV {\n            dimension &quot;projectCode&quot;\n        }\n        QA {\n            dimension &quot;projectCode&quot;\n        }\n        LIVE {\n            dimension &quot;projectCode&quot;\n        }\n        DEMO {\n            dimension &quot;projectCode&quot;\n        }\n        BETA {\n            dimension &quot;projectCode&quot;\n        }\n    }\n\n    applicationVariants.all { variant -&gt;\n        variant.outputs.all { output -&gt;\n            def project = &quot;XXX&quot;\n            def SEP = &quot;_&quot;\n            def flavor = variant.productFlavors[0].name\n            def projcode = variant.productFlavors[1].name\n            def buildType = variant.buildType.name\n            def buildTypeName = &quot;&quot;;\n            switch (buildType) {\n                case &quot;ABC&quot;: buildTypeName = SEP + &quot;AB&quot;; break;\n                case &quot;XYZ&quot;: buildTypeName = SEP + &quot;XY&quot;; break;\n                default:\n                    buildTypeName = &quot;&quot;;\n            }\n\n            def version = variant.versionName\n            def newApkName = project + buildTypeName + SEP + flavor + SEP + projcode + SEP + version + &quot;.apk&quot;\n\n            outputFileName = new File(newApkName)\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildTypes {\n        debug {\n\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;\\&quot;&quot;\n        }\n        \n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;\\&quot;&quot;\n        }\n        ABC {\n            signingConfig signingConfigs.config\n            minifyEnabled false\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;_A\\&quot;&quot;\n        }\n        XYZ {\n            signingConfig signingConfigs.config\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.config\n            buildConfigField &quot;String&quot;, &quot;AREA&quot;, &quot;\\&quot;_X\\&quot;&quot;\n        }\n    }\n    \n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/dependencies.txt'\n        exclude 'META-INF/LGPL2.1'\n    }\n}\n\nrepositories {\n\n    maven {\n        url 'https://maven.google.com/'\n        name 'Google'\n    }\n\n}\n\ndependencies {\n    def room_version = &quot;1.1.1&quot;\n    def lifecycle_version = &quot;1.1.1&quot;\n    def work_version = &quot;1.0.0-beta01&quot;\n    implementation files('libs/commons-net-3.3.jar')\n    implementation files('libs/httpclient-4.3.4.jar')\n    implementation files('libs/httpcore-4.3.2.jar')\n    implementation files('libs/httpmime-4.3.4.jar')\n    implementation files('libs/silipmlib.jar')\n    implementation files('libs/HyperLogLib8.jar')\n    \n    // Import the BoM for the Firebase platform\n    implementation platform('com.google.firebase:firebase-bom:29.3.0')\n    \n    implementation 'com.google.firebase:firebase-crashlytics'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-messaging'\n\n    //dependency for Workmanager\n    implementation 'androidx.work:work-runtime:2.0.1'\n\n    //dependencies for Room database\n    implementation 'androidx.room:room-runtime:2.0.0'\n    //noinspection GradleCompatible\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    annotationProcessor 'androidx.room:room-compiler:2.0.0'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.0.0'\n    //dependency for custom progress dialog\n\n    //dependency for retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.google.code.gson:gson:2.8.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.1.0'\n\n    //dependency for joda time for date time calculation\n    implementation 'joda-time:joda-time:2.10'\n\n    //dependency for glide\n    implementation 'com.github.bumptech.glide:glide:3.7.0'\n\n    //dependency for custom toast\n    implementation 'com.valdesekamdem.library:md-toast:0.9.0'\n\n    //dependency for marshmallow permission - dexter library\n    implementation 'com.karumi:dexter:4.2.0'\n\n    // ViewModel and LiveData\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    annotationProcessor 'androidx.lifecycle:lifecycle-compiler:2.0.0'\n\n    // alternately - if using Java8, use the following instead of compiler\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.0.0'\n\n    implementation 'com.jakewharton:butterknife:10.1.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.1.0'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0'\n    implementation project(':floatingmenu')\n    implementation project(':html2bitmap')\n    debugImplementation 'com.amitshekhar.android:debug-db:1.0.4'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    implementation 'com.github.vipulasri:timelineview:1.0.6'\n    implementation 'me.relex:circleindicator:1.2.2@aar'\n    implementation 'com.haozhang.libary:android-slanted-textview:1.2'\n    implementation 'com.google.android.gms:play-services-maps:15.0.1'\n    implementation 'com.google.android.gms:play-services-location:15.0.1'\n\n    // implementation 'com.google.android.gms:play-services-gcm:11.8.0'\n\n    // implementation 'com.google.android.gms:play-services-ads:11.8.0'\n    implementation('com.github.florent37:materialviewpager:1.2.3') {\n        exclude group: 'com.android.support'\n    }\n\n    implementation 'com.orhanobut:dialogplus:1.11@aar'\n\n    //  implementation 'me.dm7.barcodescanner:zbar:1.8.4'\n    implementation 'me.dm7.barcodescanner:zxing:1.9'\n    implementation 'com.journeyapps:zxing-android-embedded:2.3.0@aar'\n    implementation 'com.journeyapps:zxing-android-legacy:2.3.0@aar'\n    implementation 'com.journeyapps:zxing-android-integration:2.3.0@aar'\n    implementation 'com.google.zxing:core:3.2.0'\n    implementation 'net.cachapa.expandablelayout:expandablelayout:2.9.2'\n    implementation 'com.github.siyamed:android-shape-imageview:0.9.+@aar'\n    implementation files('libs/HyperLogLib8.jar')\n    implementation project(':scandecode-release')\n    implementation 'com.tt:whorlviewlibrary:1.0.3'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'io.reactivex:rxjava:1.1.6'\n    implementation 'com.jakewharton.rxbinding:rxbinding:0.4.0'\n    implementation 'com.jakewharton.rxbinding:rxbinding-design:0.4.0'\n\n    implementation 'org.apache.commons:commons-text:1.7'\n\n    // these are for retrolambda and streams api\n    implementation 'com.annimon:stream:1.1.2'\n\n}\n\n</code></pre>\n<p><strong>With initialisation:</strong></p>\n<pre><code>FirebaseApp.initializeApp(this)\nFirebaseCrashlytics.getInstance().setCrashlyticsCollectionEnabled(true)\n</code></pre>\n<p><strong>And manifest:</strong></p>\n<pre><code>&lt;meta-data\n            android:name=&quot;firebase_crashlytics_collection_enabled&quot;\n            android:value=&quot;true&quot; /&gt;\n</code></pre>\n<p>Here is the logcat for the Crashlytics/CrashTest crash:</p>\n<pre><code>2022-04-10 15:53:07.717 21310-21310/com.XXX.XXX E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.XXX.XXX, PID: 21310\n    java.lang.RuntimeException: Test Crash\n        at com.XXX.XXX.UI.HomeActivity$1.onClick(HomeActivity.java:345)\n        at android.view.View.performClick(View.java:6392)\n        at android.view.View$PerformClick.run(View.java:25133)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:198)\n        at android.app.ActivityThread.main(ActivityThread.java:7055)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:523)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:836)\n</code></pre>\n<p>This is the log that we receive when app relaunched after crash.</p>\n<pre><code>D:\\user\\Android Projects\\XXX&gt;adb logcat -s FirebaseCrashlytics\n--------- beginning of main\n--------- beginning of system\n--------- beginning of crash\n04-10 15:54:56.911 22018 22018 I FirebaseCrashlytics: Initializing Firebase Crashlytics 18.2.9 for com.XXX.XXX\n04-10 15:54:56.926 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\n04-10 15:54:56.940 22018 22018 D FirebaseCrashlytics: AnalyticsConnector now available.\n04-10 15:54:56.943 22018 22018 D FirebaseCrashlytics: Registered Firebase Analytics listener.\n04-10 15:54:56.948 22018 22018 D FirebaseCrashlytics: Mapping file ID is: 00000000000000000000000000000000\n04-10 15:54:56.958 22018 22018 D FirebaseCrashlytics: Checking for cached settings...\n04-10 15:54:56.992 22018 22018 D FirebaseCrashlytics: Loaded cached settings: {&quot;settings_version&quot;:3,&quot;cache_duration&quot;:86400,&quot;features&quot;:{&quot;collect_logged_exceptions&quot;:true,&quot;collect_reports&quot;:\ntrue,&quot;collect_analytics&quot;:false,&quot;prompt_enabled&quot;:false,&quot;push_enabled&quot;:false,&quot;firebase_crashlytics_enabled&quot;:false,&quot;collect_anrs&quot;:true,&quot;collect_metric_kit&quot;:false},&quot;app&quot;:{&quot;status&quot;:&quot;activated\n&quot;,&quot;update_required&quot;:false,&quot;report_upload_variant&quot;:2,&quot;native_report_upload_variant&quot;:2},&quot;fabric&quot;:{&quot;org_id&quot;:&quot;62513aa60277ea5e0396d4ef&quot;,&quot;bundle_id&quot;:&quot;com.XXX.XXX&quot;},&quot;on_demand_\nupload_rate_per_minute&quot;:10,&quot;on_demand_backoff_base&quot;:1.2,&quot;on_demand_backoff_step_duration_seconds&quot;:60,&quot;expires_at&quot;:1649666891559}\n04-10 15:54:56.996 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\n04-10 15:54:57.113 22018 22018 D FirebaseCrashlytics: Successfully configured exception handler.\n04-10 15:54:57.116 22018 22049 D FirebaseCrashlytics: Opening a new session with ID 6252B07803E20001560228F94565CB5E\n04-10 15:54:57.183 22018 22049 D FirebaseCrashlytics: Registered Firebase Analytics event receiver for breadcrumbs\n04-10 15:54:58.013 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\n04-10 15:54:58.642 22018 22018 D FirebaseCrashlytics: Crashlytics automatic data collection ENABLED by API.\n</code></pre>\n<p>These are set to false in cached settings:</p>\n<pre><code>&quot;collect_analytics&quot;:false,\n&quot;firebase_crashlytics_enabled&quot;:false,\n</code></pre>\n<p>This setting was weird. Both of them are false for some reason though I never did turn them off explicitly. Never even played with these settings.</p>\n<p><strong>Not sure what is wrong</strong>.\nAny help will be appreciated.</p>\n"},{"tags":["java","nested-for-loop"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1649850586,"post_id":71856995,"comment_id":126979227,"body_markdown":"`needle` is an `int`. What do you expect `needle[i]` to resolve to?","body":"<code>needle</code> is an <code>int</code>. What do you expect <code>needle[i]</code> to resolve to?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1649850856,"post_id":71856995,"comment_id":126979345,"body_markdown":"He is searching for a needle in a haystack, he probably just needs to change `needle[i] == haystack[j]` to `needle == haystack[j]`.  `needle` shouldn&#39;t be an array at all, and you also do not need a nested loop","body":"He is searching for a needle in a haystack, he probably just needs to change <code>needle[i] == haystack[j]</code> to <code>needle == haystack[j]</code>.  <code>needle</code> shouldn&#39;t be an array at all, and you also do not need a nested loop"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1649850991,"post_id":71856995,"comment_id":126979401,"body_markdown":"Also, I would suggest you read [this](https://examples.javacodegeeks.com/core-java/apache/commons/lang3/find-elements-in-an-array/) for more elegant ways","body":"Also, I would suggest you read <a href=\"https://examples.javacodegeeks.com/core-java/apache/commons/lang3/find-elements-in-an-array/\" rel=\"nofollow noreferrer\">this</a> for more elegant ways"},{"owner":{"display_name":"user16452938"},"score":0,"creation_date":1649851216,"post_id":71856995,"comment_id":126979508,"body_markdown":"I understand now. It was ```needle == haystack[j]``` as Nexevis said.","body":"I understand now. It was <code>needle == haystack[j]</code> as Nexevis said."},{"owner":{"display_name":"user16452938"},"score":0,"creation_date":1649851304,"post_id":71856995,"comment_id":126979547,"body_markdown":"Nitzan - As common and frustrating with general internet examples, my situation is different so it doesn&#39;t help me. These examples use Strings (And String methods?) where as this method is checking Ints","body":"Nitzan - As common and frustrating with general internet examples, my situation is different so it doesn&#39;t help me. These examples use Strings (And String methods?) where as this method is checking Ints"}],"answers":[{"tags":[],"owner":{"display_name":"user16452938"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649851593,"creation_date":1649851593,"answer_id":71857244,"question_id":71856995,"body_markdown":"needle is an Int variable so isn&#39;t part of an array. \r\n\r\nThe answer to fix the IF statement was ```needle == haystack[j]```","title":"searchForItemInArray in Java - Nested For Loop","body":"<p>needle is an Int variable so isn't part of an array.</p>\n<p>The answer to fix the IF statement was <code>needle == haystack[j]</code></p>\n"},{"tags":[],"owner":{"account_id":6569810,"reputation":93,"user_id":5078263,"display_name":"Oleg Kondrashov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649851620,"creation_date":1649851620,"answer_id":71857247,"question_id":71856995,"body_markdown":"It looks like you are searching index of the needle it that array. If it is true, than your code can be as follows:\r\n\r\n     public static int searchForItemInArray(int needle, int[] haystack) throws Exception {\r\n        \r\n        for (int i = 0; i &lt;= haystack.length; i++) {\r\n            if (needle == haystack[j]) {\r\n               return i;             \r\n            }\r\n        }\r\n        \r\n        return -1;\r\n    }","title":"searchForItemInArray in Java - Nested For Loop","body":"<p>It looks like you are searching index of the needle it that array. If it is true, than your code can be as follows:</p>\n<pre><code> public static int searchForItemInArray(int needle, int[] haystack) throws Exception {\n    \n    for (int i = 0; i &lt;= haystack.length; i++) {\n        if (needle == haystack[j]) {\n           return i;             \n        }\n    }\n    \n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21057610,"reputation":41,"user_id":15476608,"display_name":"Bree271"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649854402,"creation_date":1649851636,"answer_id":71857251,"question_id":71856995,"body_markdown":"If searching for an item in an arrray is actually what you want, then you don&#39;t need a nested for loop. \r\n\r\nIf the needle is the item that you are searching for and the haystack is the array, you need to parse the array one time, using only one for loop and check at each step if the current item is equal to the searched element.\r\n\r\n    public static int searchForItemInArray(int needle, int[] haystack) {\r\n        for (int i = 0; i &lt; haystack.length; i++) {\r\n            if (needle == haystack[i]) {\r\n                // return the position of the item in the array.\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n\r\n\r\n","title":"searchForItemInArray in Java - Nested For Loop","body":"<p>If searching for an item in an arrray is actually what you want, then you don't need a nested for loop.</p>\n<p>If the needle is the item that you are searching for and the haystack is the array, you need to parse the array one time, using only one for loop and check at each step if the current item is equal to the searched element.</p>\n<pre><code>public static int searchForItemInArray(int needle, int[] haystack) {\n    for (int i = 0; i &lt; haystack.length; i++) {\n        if (needle == haystack[i]) {\n            // return the position of the item in the array.\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"display_name":"user16452938"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650249991,"creation_date":1649850461,"question_id":71856995,"body_markdown":"Java says &#39;&#39;the type of the expression must be Array type but it resolved to Int&quot;\r\n\r\nI&#39;m looking to do a nested For Loop for the solution, but any other more more elegant suggestions are also welcome. \r\n\r\n```\r\npublic class ArraySearch {\r\n\t\r\n\tpublic static int searchForItemInArray(int needle, int[] haystack) throws Exception {\r\n\t\t\r\n\t\tfor (int i = 0; i &lt;= needle; i++) {\r\n\t\t\tfor (int j = 0; j &lt; haystack.length; j++) {\r\n\t\t\t\tif (needle[i] == haystack[j]) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn -1;\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\n","title":"searchForItemInArray in Java - Nested For Loop","body":"<p>Java says ''the type of the expression must be Array type but it resolved to Int&quot;</p>\n<p>I'm looking to do a nested For Loop for the solution, but any other more more elegant suggestions are also welcome.</p>\n<pre><code>public class ArraySearch {\n    \n    public static int searchForItemInArray(int needle, int[] haystack) throws Exception {\n        \n        for (int i = 0; i &lt;= needle; i++) {\n            for (int j = 0; j &lt; haystack.length; j++) {\n                if (needle[i] == haystack[j]) {\n                            \n                }\n            }\n        }\n        \n        return -1;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11394933,"reputation":3,"user_id":8353680,"display_name":"Venkiii"},"score":0,"creation_date":1531633968,"post_id":51345596,"comment_id":89664415,"body_markdown":"Yep, thanks for asking done with editing.","body":"Yep, thanks for asking done with editing."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1531634399,"post_id":51345596,"comment_id":89664493,"body_markdown":"OK, you&#39;ve shown code but you&#39;ve not yet explained it, told us how it&#39;s not working for you, nor have you asked a specific question. All we see is code and requirements and nothing else. Please go through the [help] and the [ask] to see how to improve this question and your future questions.","body":"OK, you&#39;ve shown code but you&#39;ve not yet explained it, told us how it&#39;s not working for you, nor have you asked a specific question. All we see is code and requirements and nothing else. Please go through the <a href=\"https://stackoverflow.com/help\">help center</a> and the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to see how to improve this question and your future questions."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1531638160,"post_id":51345596,"comment_id":89665101,"body_markdown":"Second inner for loop: the `a[0]` should be `a[i]`.","body":"Second inner for loop: the <code>a[0]</code> should be <code>a[i]</code>."},{"owner":{"account_id":11394933,"reputation":3,"user_id":8353680,"display_name":"Venkiii"},"score":0,"creation_date":1531639261,"post_id":51345596,"comment_id":89665316,"body_markdown":"Thats not working buddy","body":"Thats not working buddy"}],"answers":[{"tags":[],"owner":{"account_id":7013346,"reputation":5089,"user_id":5375464,"accept_rate":75,"display_name":"J...S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1531641367,"creation_date":1531641367,"answer_id":51346434,"question_id":51345596,"body_markdown":"You could do something like\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int a[][] = new int[2][2];\r\n\r\n        for(int i=0; i&lt;2; ++i)\r\n        {\r\n            for(int j=0; j&lt;2; ++j)\r\n            {\r\n                a[i][j]=Integer.parseInt(args[2*i+j]);\r\n            }\r\n        }\r\n    }\r\n\r\nwhere the command line arguments will get stored in the array `args`. The strings are converted to numbers using `parseInt()`.\r\n\r\nThe `2*i+j` is used to get the appropriate index to the `args` array.\r\n\r\nProper exception handling should also be added to this.\r\n\r\nPrint the result like\r\n\r\n    for(int i=0; i&lt;2; ++i)\r\n    {\r\n         for(int j=0; j&lt;2; ++j)\r\n         { \r\n              System.out.println(a[i][j]+&quot; &quot;);\r\n         }\r\n    }\r\n","title":"How to take 2D array inputs from command Line arguments in java?","body":"<p>You could do something like</p>\n\n<pre><code>public static void main(String[] args)\n{\n    int a[][] = new int[2][2];\n\n    for(int i=0; i&lt;2; ++i)\n    {\n        for(int j=0; j&lt;2; ++j)\n        {\n            a[i][j]=Integer.parseInt(args[2*i+j]);\n        }\n    }\n}\n</code></pre>\n\n<p>where the command line arguments will get stored in the array <code>args</code>. The strings are converted to numbers using <code>parseInt()</code>.</p>\n\n<p>The <code>2*i+j</code> is used to get the appropriate index to the <code>args</code> array.</p>\n\n<p>Proper exception handling should also be added to this.</p>\n\n<p>Print the result like</p>\n\n<pre><code>for(int i=0; i&lt;2; ++i)\n{\n     for(int j=0; j&lt;2; ++j)\n     { \n          System.out.println(a[i][j]+\" \");\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15467030,"reputation":1,"user_id":11158103,"display_name":"Viij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552495831,"creation_date":1552495831,"answer_id":55147249,"question_id":51345596,"body_markdown":"    class Demo\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint a[][] = new int[3][3];\r\n    \t\tint i,j;\r\n    \t\tfor( i=0; i&lt;3; ++i)\r\n    \t\t{\r\n    \t\t\tfor( j=0; j&lt;3; ++j)\r\n    \t\t\t{\r\n    \t\t\t\ta[i][j]=Integer.parseInt(args[3*i+j]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor( i=0; i&lt;3; ++i)\r\n    \t\t{\r\n    \t\t\tfor(j=0; j&lt;3; ++j)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(a[i][j]+&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to take 2D array inputs from command Line arguments in java?","body":"<pre><code>class Demo\n{\n    public static void main(String[] args)\n    {\n        int a[][] = new int[3][3];\n        int i,j;\n        for( i=0; i&lt;3; ++i)\n        {\n            for( j=0; j&lt;3; ++j)\n            {\n                a[i][j]=Integer.parseInt(args[3*i+j]);\n            }\n        }\n\n        for( i=0; i&lt;3; ++i)\n        {\n            for(j=0; j&lt;3; ++j)\n            {\n                System.out.println(a[i][j]+\" \");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11512918,"reputation":1,"user_id":9952137,"display_name":"shubham kumar saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552850885,"creation_date":1552850885,"answer_id":55211034,"question_id":51345596,"body_markdown":"    public static void main(String[] args)\r\n\t{\r\n\t    int a[][] = new int[2][2];\r\n\r\n\t    for(int i=0; i&lt;2; ++i)\r\n\t    {\r\n\t        for(int j=0; j&lt;2; ++j)\r\n\t        {\r\n\t            a[i][j]=Integer.parseInt(args[2*i+j]);\r\n\t        }\r\n\t    }\r\n\t    //for print\r\n\t    for(int i=0; i&lt;2; ++i)\r\n\t    {\r\n\t         for(int j=0; j&lt;2; ++j)\r\n\t         { \r\n\t              System.out.print(a[i][j]+&quot; &quot;);\r\n\t         }\r\n\t         System.out.println();\r\n\t    }\r\n\t}","title":"How to take 2D array inputs from command Line arguments in java?","body":"<pre><code>public static void main(String[] args)\n{\n    int a[][] = new int[2][2];\n\n    for(int i=0; i&lt;2; ++i)\n    {\n        for(int j=0; j&lt;2; ++j)\n        {\n            a[i][j]=Integer.parseInt(args[2*i+j]);\n        }\n    }\n    //for print\n    for(int i=0; i&lt;2; ++i)\n    {\n         for(int j=0; j&lt;2; ++j)\n         { \n              System.out.print(a[i][j]+\" \");\n         }\n         System.out.println();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11394933,"reputation":3,"user_id":8353680,"display_name":"Venkiii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6020,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":51346434,"answer_count":3,"score":-2,"last_activity_date":1650248483,"creation_date":1531633397,"question_id":51345596,"body_markdown":"I have to take inputs from the command line and assign them to a 2X2 array.\r\n\r\n    Input = 1 2 3 4 (from cmd line)\r\n    output = 1 2 \r\n             3 4\r\n  \r\n\r\n      int a[][] = new int[2][2];\r\n    \t\t// taking 2D array inputof size 2X2 from cmdline\r\n    \t\tfor(int i=0;i&lt;a.length;i++){\r\n    \t\t\tfor(int j=0;j&lt;a[i].length;j++){\r\n    \t\t\t    int n = Integer.parseInt(args[i]);\r\n    \t\t\t    a[i][j] = n;\r\n    \t\t  }\r\n    \t\t}\r\n            for(int i=0;i&lt;args.length;i++){\r\n    \t\t\tfor(int j=0;j&lt;a[0].length;j++){\r\n    \t\t\t    System.out.print(a[i][j]+&quot; &quot;);\r\n    \t\t  }\r\n           }\r\n\r\n\r\nBut Getting output as:\r\n\r\n    1 1 \r\n    2 2 \r\n\r\n\r\n\r\n\r\n\r\n","title":"How to take 2D array inputs from command Line arguments in java?","body":"<p>I have to take inputs from the command line and assign them to a 2X2 array.</p>\n\n<pre><code>Input = 1 2 3 4 (from cmd line)\noutput = 1 2 \n         3 4\n\n\n  int a[][] = new int[2][2];\n        // taking 2D array inputof size 2X2 from cmdline\n        for(int i=0;i&lt;a.length;i++){\n            for(int j=0;j&lt;a[i].length;j++){\n                int n = Integer.parseInt(args[i]);\n                a[i][j] = n;\n          }\n        }\n        for(int i=0;i&lt;args.length;i++){\n            for(int j=0;j&lt;a[0].length;j++){\n                System.out.print(a[i][j]+\" \");\n          }\n       }\n</code></pre>\n\n<p>But Getting output as:</p>\n\n<pre><code>1 1 \n2 2 \n</code></pre>\n"},{"tags":["java","swing","graphics","icons"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1650223820,"post_id":71904249,"comment_id":127061078,"body_markdown":"You would generate all the `BufferedImage` icons before you create the GUI.  Then, during the events, you can change the `JFrame` icon.","body":"You would generate all the <code>BufferedImage</code> icons before you create the GUI.  Then, during the events, you can change the <code>JFrame</code> icon."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1650235016,"post_id":71904249,"comment_id":127063068,"body_markdown":"Further to what @GilbertLeBlanc suggests, the icons used in [this example](https://stackoverflow.com/q/18224184/418556) are all generated at run-time.","body":"Further to what @GilbertLeBlanc suggests, the icons used in <a href=\"https://stackoverflow.com/q/18224184/418556\">this example</a> are all generated at run-time."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1650237912,"post_id":71904249,"comment_id":127063444,"body_markdown":"You can implement the `Icon` interface, for [example](https://stackoverflow.com/a/3072979/230513).","body":"You can implement the <code>Icon</code> interface, for <a href=\"https://stackoverflow.com/a/3072979/230513\">example</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1650249580,"post_id":71904249,"comment_id":127064981,"body_markdown":"*&quot;I was able to find a way to code this&quot;* Actually if you took the guru hint from the thread I linked to (many different icon sizes might be used) along with the tip from @trashgod re implementing your own `Icon`, this would result in the most optimal solution. Many icons can be created (all different sizes) and set to the frame as a list. Only the used ones will be rendered, and won&#39;t suffer the vagaries of which resizing algorithm the JRE uses.","body":"<i>&quot;I was able to find a way to code this&quot;</i> Actually if you took the guru hint from the thread I linked to (many different icon sizes might be used) along with the tip from @trashgod re implementing your own <code>Icon</code>, this would result in the most optimal solution. Many icons can be created (all different sizes) and set to the frame as a list. Only the used ones will be rendered, and won&#39;t suffer the vagaries of which resizing algorithm the JRE uses."}],"answers":[{"tags":[],"owner":{"account_id":18390631,"reputation":1,"user_id":18829654,"display_name":"James Armstrong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650247887,"creation_date":1650247887,"answer_id":71906969,"question_id":71904249,"body_markdown":"Thanks to input from Gilbert Le Blanc, Andrew Thompson I was able to find a way to code this by using buffed image and Graphics2D\r\n\r\n```\r\npublic void Icon(){\r\n   BufferedImage icon = new BufferedImage(32, 32, BufferedImage.TYPE_INT_ARGB);\r\n   Graphics2D g = icon.createGraphics();\r\n   generateImage(g);\r\n   myFrame.setIconImage(icon);\r\n}\r\n```\r\n\r\nWhere generateImage is some function or another to paint the graphics onto g.","title":"Is there a way to generate an icon from Graphics?","body":"<p>Thanks to input from Gilbert Le Blanc, Andrew Thompson I was able to find a way to code this by using buffed image and Graphics2D</p>\n<pre><code>public void Icon(){\n   BufferedImage icon = new BufferedImage(32, 32, BufferedImage.TYPE_INT_ARGB);\n   Graphics2D g = icon.createGraphics();\n   generateImage(g);\n   myFrame.setIconImage(icon);\n}\n</code></pre>\n<p>Where generateImage is some function or another to paint the graphics onto g.</p>\n"}],"owner":{"account_id":18390631,"reputation":1,"user_id":18829654,"display_name":"James Armstrong"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650247887,"creation_date":1650218576,"question_id":71904249,"body_markdown":"Working in Java Swing I would like to be able to dynamically change the icon \r\n of the `JFrame` as events happen in the code without having any .pngs. Is there any way to draw the image internally and have it then used as the icon,  so that I can do something like the below?\r\n\r\n```\r\npublic void Icon(Graphics g){\r\n    ImageIcon img = g.getImageIcon();\r\n    myFrame.setIconImage(img.getImage());\r\n}\r\n```","title":"Is there a way to generate an icon from Graphics?","body":"<p>Working in Java Swing I would like to be able to dynamically change the icon\nof the <code>JFrame</code> as events happen in the code without having any .pngs. Is there any way to draw the image internally and have it then used as the icon,  so that I can do something like the below?</p>\n<pre><code>public void Icon(Graphics g){\n    ImageIcon img = g.getImageIcon();\n    myFrame.setIconImage(img.getImage());\n}\n</code></pre>\n"},{"tags":["java","file","jar"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650243474,"post_id":71906498,"comment_id":127064129,"body_markdown":"You aren&#39;t getting this &#39;while building .jar&#39;. You are getting it from the compiler `javac`. Take a look.","body":"You aren&#39;t getting this &#39;while building .jar&#39;. You are getting it from the compiler <code>javac</code>. Take a look."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650244006,"post_id":71906498,"comment_id":127064204,"body_markdown":"And you need to explain where `/Users/user/Desktop/projects/Swings/source/library/controller` came from. It isn&#39;t present in the command line you posted. It is also unclear what you mean by &#39;use path to .class file&#39;. The directory name `Application Support/` needs to be quoted as it contains a space: possibly you need to quote the entire path in which it appears.","body":"And you need to explain where <code>&#47;Users&#47;user&#47;Desktop&#47;projects&#47;Swings&#47;source&#47;library&#47;controlle&zwnj;&#8203;r</code> came from. It isn&#39;t present in the command line you posted. It is also unclear what you mean by &#39;use path to .class file&#39;. The directory name <code>Application Support&#47;</code> needs to be quoted as it contains a space: possibly you need to quote the entire path in which it appears."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650247263,"creation_date":1650247263,"answer_id":71906920,"question_id":71906498,"body_markdown":"&#39;star&#39; expansion __is a thing your shell does__. When you type `ls *.txt` in your shell, that&#39;s _not_ what is run. Your shell itself detects that * and will go out and figure out what you really mean. What actually ends up being executed is `ls a.txt b.txt c.txt` - everything that star matches, separated out by spaces.\r\n\r\nThe same is happening here. Hence, why you get this error: Your shell is executing:\r\n\r\n```\r\njavac -d build-jar\r\n /Users/user/Desktop/projects/Swings/source/library/controller\r\n /Users/user/Desktop/projects/Swings/source/library/model\r\n /Users/user/Desktop/projects/Swings/source/library/... and all the other dirs...\r\n```\r\n\r\nand here&#39;s the clue: __javac does not work like this__. You cannot specify __directories__ and expect it to know what to do. You need to list each java file individually, which means you need one heck of a long command line.\r\n\r\n\r\n\r\nThere is a reason nobody in the java ecosystem builds apps with the command line. Everybody uses maven or gradle instead. So should you. It&#39;ll solve this problem; you just stick your sources in the right location and maven / gradle figure it out from there. Have as many packages as you want.\r\n","title":"Why I always received invalid flag error while building .jar","body":"<p>'star' expansion <strong>is a thing your shell does</strong>. When you type <code>ls *.txt</code> in your shell, that's <em>not</em> what is run. Your shell itself detects that * and will go out and figure out what you really mean. What actually ends up being executed is <code>ls a.txt b.txt c.txt</code> - everything that star matches, separated out by spaces.</p>\n<p>The same is happening here. Hence, why you get this error: Your shell is executing:</p>\n<pre><code>javac -d build-jar\n /Users/user/Desktop/projects/Swings/source/library/controller\n /Users/user/Desktop/projects/Swings/source/library/model\n /Users/user/Desktop/projects/Swings/source/library/... and all the other dirs...\n</code></pre>\n<p>and here's the clue: <strong>javac does not work like this</strong>. You cannot specify <strong>directories</strong> and expect it to know what to do. You need to list each java file individually, which means you need one heck of a long command line.</p>\n<p>There is a reason nobody in the java ecosystem builds apps with the command line. Everybody uses maven or gradle instead. So should you. It'll solve this problem; you just stick your sources in the right location and maven / gradle figure it out from there. Have as many packages as you want.</p>\n"}],"owner":{"account_id":24305399,"reputation":341,"user_id":18248235,"display_name":"Cflowe Visit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650247263,"creation_date":1650241845,"question_id":71906498,"body_markdown":"Why I always received invalid flag error while I&#39;m building .jar\r\n\r\nWhen I using Build Jar to make a .jar file in java:\r\n\r\n    rm -rf build-jar &amp;&amp; mkdir build-jar &amp;&amp; javac -d build-jar /Users/user/Desktop/projects/Swings/source/library/* &amp;&amp; jar cvf build-jar/window.jar build-jar *\r\n\r\n\r\nI always receive a error:\r\n\r\n    error: invalid flag: /Users/user/Desktop/projects/Swings/source/library/controller\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n\r\n\r\nIf I use path to .class file:\r\n\r\n    rm -rf build-jar &amp;&amp; mkdir build-jar &amp;&amp; javac -d build-jar /Users/user/Library/Application Support/Code/User/workspaceStorage/ca7d24d42ba31de4cfb244fc0f239d07/redhat.java/jdt_ws/swings_12c4bbf0/bin/* &amp;&amp; jar cvf build-jar/window.jar build-jar *\r\n\r\nI also receive an error:\r\n\r\n    zsh: no matches found: Support/Code/User/workspaceStorage/ca7d24d42ba31de4cfb244fc0f239d07/redhat.java/jdt_ws/swings_12c4bbf0/bin/*\r\n\r\n\r\nI&#39;m not very familiar with building jar, It make me headache, And I don&#39;t know what to do, the other question&#39;s solution or solution on internet are all not work for me(like https://stackoverflow.com/questions/29915963/classpath-invalid-flag-java, etc.)\r\n\r\nI&#39;m using IDE vscode, and using vscode extension &quot;JAR Builder&quot;","title":"Why I always received invalid flag error while building .jar","body":"<p>Why I always received invalid flag error while I'm building .jar</p>\n<p>When I using Build Jar to make a .jar file in java:</p>\n<pre><code>rm -rf build-jar &amp;&amp; mkdir build-jar &amp;&amp; javac -d build-jar /Users/user/Desktop/projects/Swings/source/library/* &amp;&amp; jar cvf build-jar/window.jar build-jar *\n</code></pre>\n<p>I always receive a error:</p>\n<pre><code>error: invalid flag: /Users/user/Desktop/projects/Swings/source/library/controller\nUsage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n<p>If I use path to .class file:</p>\n<pre><code>rm -rf build-jar &amp;&amp; mkdir build-jar &amp;&amp; javac -d build-jar /Users/user/Library/Application Support/Code/User/workspaceStorage/ca7d24d42ba31de4cfb244fc0f239d07/redhat.java/jdt_ws/swings_12c4bbf0/bin/* &amp;&amp; jar cvf build-jar/window.jar build-jar *\n</code></pre>\n<p>I also receive an error:</p>\n<pre><code>zsh: no matches found: Support/Code/User/workspaceStorage/ca7d24d42ba31de4cfb244fc0f239d07/redhat.java/jdt_ws/swings_12c4bbf0/bin/*\n</code></pre>\n<p>I'm not very familiar with building jar, It make me headache, And I don't know what to do, the other question's solution or solution on internet are all not work for me(like <a href=\"https://stackoverflow.com/questions/29915963/classpath-invalid-flag-java\">Classpath invalid flag - Java</a>, etc.)</p>\n<p>I'm using IDE vscode, and using vscode extension &quot;JAR Builder&quot;</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":20121806,"reputation":44,"user_id":14756177,"display_name":"Georgi Tasev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649879006,"creation_date":1649879006,"answer_id":71863093,"question_id":71860398,"body_markdown":"I assume you wanted to have a background gradient effect, to make this do these steps:\r\n\r\n 1. Go to res -&gt; drawable -&gt; Right click on the folder and then select New -&gt; Drawable Resource File\r\n\r\n 2. Make a file name &quot;gradient_background&quot; and then press OK\r\n\r\n 3. Add ```&lt;item&gt;```, ```&lt;shape&gt;``` and then ```&lt;gradient&gt;```, example:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape&gt;\r\n            &lt;gradient\r\n                android:startColor=&quot;#4e54c8&quot;\r\n                android:endColor=&quot;#8f94fb&quot;\r\n                android:type=&quot;linear&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n```\r\n\r\n 4. Adjust what type of the gradient effect you want to make, it can be a linear, radial, sweep and so on.\r\n\r\n\r\nFull documentation: https://learntodroid.com/how-to-add-a-gradient-background-to-an-android-app/\r\n\r\n ","title":"How to make color gradient overlay in android","body":"<p>I assume you wanted to have a background gradient effect, to make this do these steps:</p>\n<ol>\n<li><p>Go to res -&gt; drawable -&gt; Right click on the folder and then select New -&gt; Drawable Resource File</p>\n</li>\n<li><p>Make a file name &quot;gradient_background&quot; and then press OK</p>\n</li>\n<li><p>Add <code>&lt;item&gt;</code>, <code>&lt;shape&gt;</code> and then <code>&lt;gradient&gt;</code>, example:</p>\n</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape&gt;\n            &lt;gradient\n                android:startColor=&quot;#4e54c8&quot;\n                android:endColor=&quot;#8f94fb&quot;\n                android:type=&quot;linear&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<ol start=\"4\">\n<li>Adjust what type of the gradient effect you want to make, it can be a linear, radial, sweep and so on.</li>\n</ol>\n<p>Full documentation: <a href=\"https://learntodroid.com/how-to-add-a-gradient-background-to-an-android-app/\" rel=\"nofollow noreferrer\">https://learntodroid.com/how-to-add-a-gradient-background-to-an-android-app/</a></p>\n"},{"tags":[],"owner":{"account_id":22210629,"reputation":9,"user_id":16449875,"display_name":"ugochukwu okeke"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650040956,"creation_date":1650040956,"answer_id":71886679,"question_id":71860398,"body_markdown":"To make a gradient that you will use as background, you can follow these simple steps\r\n1. Go to res -&gt; drawable, right click and select New -&gt; Drawable Resource file.\r\n2. Name the file anything you want example &quot;background_gradient&quot;\r\n3. On Root element: type shape and create the file.\r\n4. Add gradient element inside the shape element. You will have something like this below\r\n&lt;!--&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;&lt;gradient android:startColor=&quot;@color/your_start_color&quot; android:endColor=&quot;@color/your_end_color&quot; android:angle=&quot;0&quot; android:type=&quot;linear&quot;/&gt;&lt;/shape&gt;\r\n\r\nThe gradient element comes with attribute that will define what you want. Like\r\nandroid:type = &quot;linear|radial|sweep&quot;  android:gradientRadius for radial type.\r\ncenterX and centerY etc.. you can play with them.\r\n\r\n5. To use the the created gradient, goTo the layout you want to use it and use it as background. for example\r\n &lt;!--&gt;\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;  android:background=&quot;@drawable/background_gradient&quot;&gt;&lt;!-- other content of your xml --&gt;&lt;/RelativeLayout&gt;","title":"How to make color gradient overlay in android","body":"<p>To make a gradient that you will use as background, you can follow these simple steps</p>\n<ol>\n<li>Go to res -&gt; drawable, right click and select New -&gt; Drawable Resource file.</li>\n<li>Name the file anything you want example &quot;background_gradient&quot;</li>\n<li>On Root element: type shape and create the file.</li>\n<li>Add gradient element inside the shape element. You will have something like this below</li>\n</ol>\n\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;&lt;gradient android:startColor=&quot;@color/your_start_color&quot; android:endColor=&quot;@color/your_end_color&quot; android:angle=&quot;0&quot; android:type=&quot;linear&quot;/&gt;&lt;/shape&gt;\n</code></pre>\n<p>The gradient element comes with attribute that will define what you want. Like\nandroid:type = &quot;linear|radial|sweep&quot;  android:gradientRadius for radial type.\ncenterX and centerY etc.. you can play with them.</p>\n<ol start=\"5\">\n<li>To use the the created gradient, goTo the layout you want to use it and use it as background. for example</li>\n</ol>\n \n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot;  android:background=&quot;@drawable/background_gradient&quot;&gt;&lt;!-- other content of your xml --&gt;&lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":14568231,"reputation":362,"user_id":10522264,"display_name":"ppegu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1650247144,"creation_date":1649865139,"question_id":71860398,"body_markdown":"I was wondering how can we create a gradient overlay which colours are extracted from a image.\r\n\r\n\r\nLike Resso home track player does.\r\n\r\nIt&#39;s really going to be interesting[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J9BOP.jpg","title":"How to make color gradient overlay in android","body":"<p>I was wondering how can we create a gradient overlay which colours are extracted from a image.</p>\n<p>Like Resso home track player does.</p>\n<p>It's really going to be interesting<a href=\"https://i.stack.imgur.com/J9BOP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J9BOP.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","graphics"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649623689,"post_id":71820408,"comment_id":126916941,"body_markdown":"Please show a screenshot of your app.","body":"Please show a screenshot of your app."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1649623691,"post_id":71820408,"comment_id":126916943,"body_markdown":"Read [the documentation of Graphics.drawString](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)) carefully.  The second sentence says: “The baseline of the leftmost character is at position (x, y) in this graphics context&#39;s coordinate system.”","body":"Read <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)\" rel=\"nofollow noreferrer\">the documentation of Graphics.drawString</a> carefully.  The second sentence says: “The baseline of the leftmost character is at position (x, y) in this graphics context&#39;s coordinate system.”"},{"owner":{"account_id":24893687,"reputation":23,"user_id":18765238,"display_name":"Babo khan"},"score":0,"creation_date":1649624734,"post_id":71820408,"comment_id":126917138,"body_markdown":"@Code-Apprentice hey tnx for respounding !! i did it !!","body":"@Code-Apprentice hey tnx for respounding !! i did it !!"}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1649628851,"creation_date":1649624929,"answer_id":71820584,"question_id":71820408,"body_markdown":"Your `String` is actually inside the rectangle, in the upper left corner. However it doesn&#39;t take the font size into consideration. The code below should put the text within the borders of the rectangle:\r\n```\r\n    public void paint (Graphics g) {\r\n \r\n        /* Das Verwenden von pain Methode\r\n        * Graphics ist ein Parameter \r\n        * in g ist das Parameter Graphics gespeichert \r\n        */\r\n        String insideRect = &quot;Hello World!&quot;;\r\n        //this String should be displayed inside of the rectangel\r\n        int x = 100;\r\n        int y = 100;\r\n        g.drawRect(100,100,200,200);\r\n        g.setColor(Color.RED);\r\n\r\n        // add an offset to y coordinate\r\n        Font font = g.getFont();\r\n        g.drawString(insideRect, x ,y + font.getSize());\r\n    }\r\n```\r\n**Edit**: To center the text you should play with the height and width of you rectangle &amp; text, changing the texts `x` and `y` coordinates. Below I created `widthOffset` and `heightOffset` based on the width/height of the rectangle &amp; text:\r\n```\r\n    public void paint (Graphics g) {\r\n \r\n        /* Das Verwenden von pain Methode\r\n        * Graphics ist ein Parameter \r\n        * in g ist das Parameter Graphics gespeichert \r\n        */\r\n        String insideRect = &quot;Hello World!&quot;;\r\n        //this String should be displayed inside of the rectangel\r\n        int x = 100;\r\n        int y = 100;\r\n        g.drawRect(100,100,200,200);\r\n        g.setColor(Color.RED);\r\n\r\n        // center the text inside the rectangle\r\n        Font font = g.getFont();\r\n        FontRenderContext frc = new FontRenderContext(new AffineTransform(), true, true);\r\n        Rectangle2D textRectangle = font.getStringBounds(insideRect, frc);\r\n        int textWidth = (int) textRectangle.getWidth();\r\n        int textHeight = (int) textRectangle.getHeight();\r\n\r\n        int widthOffset = 100 - textWidth/2; // 100 = rectangle width / 2\r\n        int heightOffset = 100 + textHeight/2; // 100 = rectangle height / 2\r\n\r\n        g.drawString(insideRect, x + widthOffset ,y + heightOffset);\r\n    }\r\n```\r\n\r\nTo run the snippet above you should also import:\r\n```\r\nimport java.awt.font.FontRenderContext;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.Rectangle2D;\r\n```","title":"Displaying code inside rectangle in Java GUI","body":"<p>Your <code>String</code> is actually inside the rectangle, in the upper left corner. However it doesn't take the font size into consideration. The code below should put the text within the borders of the rectangle:</p>\n<pre><code>    public void paint (Graphics g) {\n \n        /* Das Verwenden von pain Methode\n        * Graphics ist ein Parameter \n        * in g ist das Parameter Graphics gespeichert \n        */\n        String insideRect = &quot;Hello World!&quot;;\n        //this String should be displayed inside of the rectangel\n        int x = 100;\n        int y = 100;\n        g.drawRect(100,100,200,200);\n        g.setColor(Color.RED);\n\n        // add an offset to y coordinate\n        Font font = g.getFont();\n        g.drawString(insideRect, x ,y + font.getSize());\n    }\n</code></pre>\n<p><strong>Edit</strong>: To center the text you should play with the height and width of you rectangle &amp; text, changing the texts <code>x</code> and <code>y</code> coordinates. Below I created <code>widthOffset</code> and <code>heightOffset</code> based on the width/height of the rectangle &amp; text:</p>\n<pre><code>    public void paint (Graphics g) {\n \n        /* Das Verwenden von pain Methode\n        * Graphics ist ein Parameter \n        * in g ist das Parameter Graphics gespeichert \n        */\n        String insideRect = &quot;Hello World!&quot;;\n        //this String should be displayed inside of the rectangel\n        int x = 100;\n        int y = 100;\n        g.drawRect(100,100,200,200);\n        g.setColor(Color.RED);\n\n        // center the text inside the rectangle\n        Font font = g.getFont();\n        FontRenderContext frc = new FontRenderContext(new AffineTransform(), true, true);\n        Rectangle2D textRectangle = font.getStringBounds(insideRect, frc);\n        int textWidth = (int) textRectangle.getWidth();\n        int textHeight = (int) textRectangle.getHeight();\n\n        int widthOffset = 100 - textWidth/2; // 100 = rectangle width / 2\n        int heightOffset = 100 + textHeight/2; // 100 = rectangle height / 2\n\n        g.drawString(insideRect, x + widthOffset ,y + heightOffset);\n    }\n</code></pre>\n<p>To run the snippet above you should also import:</p>\n<pre><code>import java.awt.font.FontRenderContext;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Rectangle2D;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1650246602,"creation_date":1649628589,"answer_id":71820932,"question_id":71820408,"body_markdown":"I would suggest that you start by looking at [Working with Text APIs](https://docs.oracle.com/javase/tutorial/2d/text/index.html)\r\n\r\nWhen drawing text, text is drawn from the base line UP (that is, the `y` position represents the baseline and the (majority) of the text is drawn above it)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*\\* From [Measuring Text](https://docs.oracle.com/javase/tutorial/2d/text/measuringtext.html)*\r\n\r\nIn order to draw text so that it appears to be drawn &quot;below&quot; the `y` position, you need to offset the `y` position by the `ascent` height of the font.\r\n\r\nFor example...\r\n\r\n    FontMetrics fm = g2d.getFontMetrics();\r\n    g2d.drawRect(100, 100, 200, 200);\r\n    g2d.setColor(Color.RED);\r\n    g2d.drawString(insideRect, x, y + fm.getAscent());\r\n\r\n&gt; But why not use `Font#getSize`?\r\n\r\n`Font#getSize` *&quot;Returns the point size of this Font&quot;* (*from the [JavaDocs](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html)*), the physical requirements of the font may differ based on the rendering workflow and is not a &quot;true&quot; measure of the physical height (or rendering properties) of the font.\r\n\r\nYou should also take a closer look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) to get a better idea of how painting works in Swing and how you should be working with it, as you&#39;re going to end up with no end of issues with your current approach.\r\n\r\n# Runnable example\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                String insideRect = &quot;Hello World!&quot;;\r\n                //this String should be displayed inside of the rectangel\r\n                int x = 100;\r\n                int y = 100;\r\n\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                g2d.drawRect(100, 100, 200, 200);\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawString(insideRect, x, y + fm.getAscent());\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L4vG3.gif\r\n\r\nIf you want to centre the text (horizontally and vertically) you need to understand the difference between &quot;absolute&quot; or &quot;baseline&quot; centring (on the vertical axis), that is, are you trying to centre the text based on its baseline or its overall height?  There is a subtle difference between the two\r\n\r\nFor example...\r\n\r\n* https://stackoverflow.com/questions/14284754/java-center-text-in-rectangle/14287270#14287270\r\n* https://stackoverflow.com/questions/23729944/java-how-to-visually-center-a-specific-string-not-just-a-font-in-a-rectangle/23730104#23730104","title":"Displaying code inside rectangle in Java GUI","body":"<p>I would suggest that you start by looking at <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/index.html\" rel=\"nofollow noreferrer\">Working with Text APIs</a></p>\n<p>When drawing text, text is drawn from the base line UP (that is, the <code>y</code> position represents the baseline and the (majority) of the text is drawn above it)</p>\n<p><a href=\"https://i.stack.imgur.com/L4vG3.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4vG3.gif\" alt=\"enter image description here\" /></a></p>\n<p><em>* From <a href=\"https://docs.oracle.com/javase/tutorial/2d/text/measuringtext.html\" rel=\"nofollow noreferrer\">Measuring Text</a></em></p>\n<p>In order to draw text so that it appears to be drawn &quot;below&quot; the <code>y</code> position, you need to offset the <code>y</code> position by the <code>ascent</code> height of the font.</p>\n<p>For example...</p>\n<pre><code>FontMetrics fm = g2d.getFontMetrics();\ng2d.drawRect(100, 100, 200, 200);\ng2d.setColor(Color.RED);\ng2d.drawString(insideRect, x, y + fm.getAscent());\n</code></pre>\n<blockquote>\n<p>But why not use <code>Font#getSize</code>?</p>\n</blockquote>\n<p><code>Font#getSize</code> <em>&quot;Returns the point size of this Font&quot;</em> (<em>from the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html\" rel=\"nofollow noreferrer\">JavaDocs</a></em>), the physical requirements of the font may differ based on the rendering workflow and is not a &quot;true&quot; measure of the physical height (or rendering properties) of the font.</p>\n<p>You should also take a closer look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> to get a better idea of how painting works in Swing and how you should be working with it, as you're going to end up with no end of issues with your current approach.</p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            String insideRect = &quot;Hello World!&quot;;\n            //this String should be displayed inside of the rectangel\n            int x = 100;\n            int y = 100;\n\n            FontMetrics fm = g2d.getFontMetrics();\n            g2d.drawRect(100, 100, 200, 200);\n            g2d.setColor(Color.RED);\n            g2d.drawString(insideRect, x, y + fm.getAscent());\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>If you want to centre the text (horizontally and vertically) you need to understand the difference between &quot;absolute&quot; or &quot;baseline&quot; centring (on the vertical axis), that is, are you trying to centre the text based on its baseline or its overall height?  There is a subtle difference between the two</p>\n<p>For example...</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14284754/java-center-text-in-rectangle/14287270#14287270\">Java center text in rectangle</a></li>\n<li><a href=\"https://stackoverflow.com/questions/23729944/java-how-to-visually-center-a-specific-string-not-just-a-font-in-a-rectangle/23730104#23730104\">Java - How to visually center a specific string (not just a font) in a rectangle</a></li>\n</ul>\n"}],"owner":{"account_id":24893687,"reputation":23,"user_id":18765238,"display_name":"Babo khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71820932,"answer_count":2,"score":1,"last_activity_date":1650246602,"creation_date":1649623422,"question_id":71820408,"body_markdown":"    \r\n    // Eine einfache grafische Benutzeroberfl&#228;che mit Swing\r\n        //von der Zeile 3 bis zur Zeile 5; Impotieren von Bibliothek\r\n        import java.awt.*;\r\n        import javax.swing.*;\r\n        import java.awt.Graphics;\r\n         \r\n         \r\n        public class HelloGUI extends JFrame { //  public class HelloGui\r\n        \tpublic HelloGUI (String title) {\r\n        \tsuper(title);\r\n        \t\tgetContentPane().add(&quot;North&quot;,new JButton(&quot;Hello World&quot;));\r\n        \t\tsetSize(400,400);\r\n        \t\tsetVisible(true);\r\n        \tsetDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\r\n        \t\r\n        \t}\r\n         \r\n        \t\r\n        \tpublic void paint (Graphics g) {\r\n         \r\n        \t\t/* Das Verwenden von pain Methode\r\n        \t\t* Graphics ist ein Parameter \r\n        \t\t* in g ist das Parameter Graphics gespeichert \r\n        \t\t*/\r\n        \t\tString insideRect = &quot;Hello World!&quot;;\r\n        \t\t//this String should be displayed inside of the rectangel\r\n        \t\r\n        \t\t\r\n        \t}\r\n        \tpublic static void main(String args[]) {\r\n        \t\tnew HelloGUI(&quot;Hello World &quot;);\r\n        \t}\r\n        }\r\n    \r\n    0 Antworten\r\n\r\n\r\nI want to write a simpl java gui App, which display the Strin &quot;Hello world&quot;, but it is very important to me that &quot;Hello world&quot; must be inside a rectangle.\r\nso used the method `g.drawRect()` to draw a rectangle and the method `g.drawString()` to display the String &quot;Hello World!&quot; or any other message. \r\nThe Code work , but Hello World is not displayed iside the reactangle.\r\nCan anybody help me to display the string &quot;Hello Wolrd!&quot;inside the rectangle... I try it but it didn&#39;t work. that is my code! tnx\r\nso here is a screenshot of my result\r\n\r\n[enter image description here][1]\r\n\r\n[1]:https://i.stack.imgur.com/daWM5.jpg","title":"Displaying code inside rectangle in Java GUI","body":"<pre><code>// Eine einfache grafische Benutzeroberfläche mit Swing\n    //von der Zeile 3 bis zur Zeile 5; Impotieren von Bibliothek\n    import java.awt.*;\n    import javax.swing.*;\n    import java.awt.Graphics;\n     \n     \n    public class HelloGUI extends JFrame { //  public class HelloGui\n        public HelloGUI (String title) {\n        super(title);\n            getContentPane().add(&quot;North&quot;,new JButton(&quot;Hello World&quot;));\n            setSize(400,400);\n            setVisible(true);\n        setDefaultCloseOperation( JFrame.EXIT_ON_CLOSE );\n        \n        }\n     \n        \n        public void paint (Graphics g) {\n     \n            /* Das Verwenden von pain Methode\n            * Graphics ist ein Parameter \n            * in g ist das Parameter Graphics gespeichert \n            */\n            String insideRect = &quot;Hello World!&quot;;\n            //this String should be displayed inside of the rectangel\n        \n            \n        }\n        public static void main(String args[]) {\n            new HelloGUI(&quot;Hello World &quot;);\n        }\n    }\n\n0 Antworten\n</code></pre>\n<p>I want to write a simpl java gui App, which display the Strin &quot;Hello world&quot;, but it is very important to me that &quot;Hello world&quot; must be inside a rectangle.\nso used the method <code>g.drawRect()</code> to draw a rectangle and the method <code>g.drawString()</code> to display the String &quot;Hello World!&quot; or any other message.\nThe Code work , but Hello World is not displayed iside the reactangle.\nCan anybody help me to display the string &quot;Hello Wolrd!&quot;inside the rectangle... I try it but it didn't work. that is my code! tnx\nso here is a screenshot of my result</p>\n<p><a href=\"https://i.stack.imgur.com/daWM5.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","subscriber","java-flow"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1606849800,"post_id":65096033,"comment_id":115085643,"body_markdown":"Any chance you could post a [mcve]?","body":"Any chance you could post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":3368359,"reputation":454,"user_id":2828301,"display_name":"Gerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606850548,"creation_date":1606850548,"answer_id":65097124,"question_id":65096033,"body_markdown":"minValue.get() returns an `int` while item is an `Integer` object. Maybe that&#39;s the problem.","title":"Why can I not access class variables from onComplete in Flow API Subscriber","body":"<p>minValue.get() returns an <code>int</code> while item is an <code>Integer</code> object. Maybe that's the problem.</p>\n"},{"tags":[],"owner":{"account_id":8385188,"reputation":11,"user_id":6295825,"display_name":"JNeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1606896915,"creation_date":1606896915,"answer_id":65104380,"question_id":65096033,"body_markdown":"The issue was that the main thread was exiting before the subscribers onComplete() was called. \r\n\r\nIf I add a sleep after calling publisher.close() the subscriber.onComplete() gets time to execute on its own thread.","title":"Why can I not access class variables from onComplete in Flow API Subscriber","body":"<p>The issue was that the main thread was exiting before the subscribers onComplete() was called.</p>\n<p>If I add a sleep after calling publisher.close() the subscriber.onComplete() gets time to execute on its own thread.</p>\n"}],"owner":{"account_id":8385188,"reputation":11,"user_id":6295825,"display_name":"JNeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65104380,"answer_count":2,"score":1,"last_activity_date":1650244541,"creation_date":1606845928,"question_id":65096033,"body_markdown":"\r\nUsing the Java [Flow][1] API. I have a chain of `Processor`s and a terminal `Subscriber`.\r\nI have coded up `Subscriber`s that have kept a count of items received that work fine with a `SubmissionPublisher`.\r\n\r\nHowever, when I pass values on from a `Processor` (which extends `SubmissionPublisher`) to the `Subscriber` below, no output is printed to the console.\r\n\r\nIf I remove `minValue.get()` the text is printed to the console.\r\nWhy does the calling class variable cause `onComplete` not to execute as expected?\r\n\r\n\r\n    public class MinValue implements Subscriber&lt;Integer&gt; {\r\n\r\n        private Flow.Subscription subscription;\r\n        private AtomicInteger minValue=new AtomicInteger(Integer.MAX_VALUE);\r\n\r\n        @Override\r\n        public void onSubscribe(Flow.Subscription subscription) {\r\n            this.subscription = subscription;\r\n            subscription.request(1);\r\n        }\r\n\r\n        @Override\r\n        public void onNext(Integer item) {\r\n            if(minValue.get()&gt;item){\r\n                System.out.println(&quot;Min Value : &quot;+item);\r\n                minValue.set(item);\r\n            }\r\n            subscription.request(1);\r\n        }\r\n    \r\n        @Override\r\n        public void onError(Throwable throwable) {\r\n            System.out.println(&quot;Error  + throwable.getMessage() \\nMin Value is : &quot;+minValue.get());\r\n        }\r\n\r\n        @Override\r\n        public void onComplete() {\r\n            System.out.println(&quot;Successful Completion  - Min Value is : &quot;+minValue.get());\r\n        }\r\n    }\r\nEdit - adding Minimal Reproduceable Example\r\n\r\n\r\n       public class NewClass {\r\n               public static void main(String args[]) {\r\n               SubmissionPublisher&lt;Integer&gt; publisher = new SubmissionPublisher&lt;&gt;();\r\n               Subscriber&lt;Integer&gt; subscriber = new MinValue();\r\n\r\n               publisher.subscribe(subscriber);\r\n      \r\n               publisher.submit(10);\r\n               publisher.submit(11);\r\n               publisher.submit(9);\r\n               publisher.submit(12);\r\n               publisher.submit(8);\r\n\r\n               publisher.close();\r\n           }\r\n       }\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html","title":"Why can I not access class variables from onComplete in Flow API Subscriber","body":"<p>Using the Java <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html\" rel=\"nofollow noreferrer\">Flow</a> API. I have a chain of <code>Processor</code>s and a terminal <code>Subscriber</code>.\nI have coded up <code>Subscriber</code>s that have kept a count of items received that work fine with a <code>SubmissionPublisher</code>.</p>\n<p>However, when I pass values on from a <code>Processor</code> (which extends <code>SubmissionPublisher</code>) to the <code>Subscriber</code> below, no output is printed to the console.</p>\n<p>If I remove <code>minValue.get()</code> the text is printed to the console.\nWhy does the calling class variable cause <code>onComplete</code> not to execute as expected?</p>\n<pre><code>public class MinValue implements Subscriber&lt;Integer&gt; {\n\n    private Flow.Subscription subscription;\n    private AtomicInteger minValue=new AtomicInteger(Integer.MAX_VALUE);\n\n    @Override\n    public void onSubscribe(Flow.Subscription subscription) {\n        this.subscription = subscription;\n        subscription.request(1);\n    }\n\n    @Override\n    public void onNext(Integer item) {\n        if(minValue.get()&gt;item){\n            System.out.println(&quot;Min Value : &quot;+item);\n            minValue.set(item);\n        }\n        subscription.request(1);\n    }\n\n    @Override\n    public void onError(Throwable throwable) {\n        System.out.println(&quot;Error  + throwable.getMessage() \\nMin Value is : &quot;+minValue.get());\n    }\n\n    @Override\n    public void onComplete() {\n        System.out.println(&quot;Successful Completion  - Min Value is : &quot;+minValue.get());\n    }\n}\n</code></pre>\n<p>Edit - adding Minimal Reproduceable Example</p>\n<pre><code>   public class NewClass {\n           public static void main(String args[]) {\n           SubmissionPublisher&lt;Integer&gt; publisher = new SubmissionPublisher&lt;&gt;();\n           Subscriber&lt;Integer&gt; subscriber = new MinValue();\n\n           publisher.subscribe(subscriber);\n  \n           publisher.submit(10);\n           publisher.submit(11);\n           publisher.submit(9);\n           publisher.submit(12);\n           publisher.submit(8);\n\n           publisher.close();\n       }\n   }\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","bag"],"answers":[{"tags":[],"owner":{"account_id":5565947,"reputation":2509,"user_id":4413257,"accept_rate":68,"display_name":"matoni"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1492281195,"creation_date":1492272457,"answer_id":43428243,"question_id":43428114,"body_markdown":"`Stack` is ADT of the collection of elements with specific remove order = LIFO (last-in-first-out), allows duplicates,\r\n\r\n`Queue` is ADT of the collection of elements with specific remove order = FIFO (first-in-first-out), allows duplicates,\r\n\r\n`LinkedList` is implementation of the list,\r\n\r\n`Set` is ADT of the collection of elements which disallows duplicates,\r\n\r\n`Bag` is ADT of the collection of elements which allows duplicates.\r\n\r\nIn general, anything that holds an elements is `Collection`.\r\nAny collection which allows duplicates is `Bag`, otherwise it is `Set`.\r\nAny bag which access elements via index is `List`. \r\nBag which appends new element after the last one and has a method to remove element from the head (first index) is `Queue`.\r\nBag which appends new element after the last one and has a method to remove element from the tail (last index) is `Stack`. \r\n\r\n\r\nExample: In Java, [LinkedList][1] is a collection, bag, list, queue and also you can work with it as it was a stack since it support stack operations (`add`~`addLast`~`push`, `peekLast`, `removeLast`~`pop`), so you can call it also stack. The reason, why it does not implement [Stack][2] interface is, that `peek` method is reserved by [Queue][3] implementation which retrieves the head of the list (first element). Therefore in case of [LinkedList][1], the &quot;stack methods&quot; are derived from [Deque][4].\r\n\r\n\r\nWhether `Bag` contains `remove(Object)` or not may depend on the implementation e. g. you can implement your own `Bag` type which supports this operation. Also you can implement `get(int)` operation to access object on specified index. Time complexity of the `get(int)` would depend on your implementation e. g. one can implement `Bag` via linked-list so the complexity would be at average O(n/2), other one via resizable array (array-list) with direct access to the element via index, so the complexity would be O(1). \r\n\r\nBut the main idea of the `Bag` is, that it allows duplicates and iteration through this collection. Whether it supports another useful operations depends on implementator&#39;s design decision.\r\n\r\nWhich one of the collection type to use dependes on your needs, if duplicates are not desired, you would use `Set` instead of `Bag`. Moreover, if you care about remove order you would pick `Stack` or `Queue` which are basically `Bags` with specific remove order. You can think of `Bag` as super-type of the `Stack` and `Queue` which extends its api by specific operations.\r\n\r\nMost of the time, you just need to collect objects and process them in some way (iteration + element processing). So you will use the most simple `Bag` implementation which is one directional linked-list. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html","title":"Reasons for using a Bag in Java","body":"<p><code>Stack</code> is ADT of the collection of elements with specific remove order = LIFO (last-in-first-out), allows duplicates,</p>\n\n<p><code>Queue</code> is ADT of the collection of elements with specific remove order = FIFO (first-in-first-out), allows duplicates,</p>\n\n<p><code>LinkedList</code> is implementation of the list,</p>\n\n<p><code>Set</code> is ADT of the collection of elements which disallows duplicates,</p>\n\n<p><code>Bag</code> is ADT of the collection of elements which allows duplicates.</p>\n\n<p>In general, anything that holds an elements is <code>Collection</code>.\nAny collection which allows duplicates is <code>Bag</code>, otherwise it is <code>Set</code>.\nAny bag which access elements via index is <code>List</code>. \nBag which appends new element after the last one and has a method to remove element from the head (first index) is <code>Queue</code>.\nBag which appends new element after the last one and has a method to remove element from the tail (last index) is <code>Stack</code>. </p>\n\n<p>Example: In Java, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\">LinkedList</a> is a collection, bag, list, queue and also you can work with it as it was a stack since it support stack operations (<code>add</code>~<code>addLast</code>~<code>push</code>, <code>peekLast</code>, <code>removeLast</code>~<code>pop</code>), so you can call it also stack. The reason, why it does not implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Stack.html\" rel=\"noreferrer\">Stack</a> interface is, that <code>peek</code> method is reserved by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"noreferrer\">Queue</a> implementation which retrieves the head of the list (first element). Therefore in case of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\">LinkedList</a>, the \"stack methods\" are derived from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\" rel=\"noreferrer\">Deque</a>.</p>\n\n<p>Whether <code>Bag</code> contains <code>remove(Object)</code> or not may depend on the implementation e. g. you can implement your own <code>Bag</code> type which supports this operation. Also you can implement <code>get(int)</code> operation to access object on specified index. Time complexity of the <code>get(int)</code> would depend on your implementation e. g. one can implement <code>Bag</code> via linked-list so the complexity would be at average O(n/2), other one via resizable array (array-list) with direct access to the element via index, so the complexity would be O(1). </p>\n\n<p>But the main idea of the <code>Bag</code> is, that it allows duplicates and iteration through this collection. Whether it supports another useful operations depends on implementator's design decision.</p>\n\n<p>Which one of the collection type to use dependes on your needs, if duplicates are not desired, you would use <code>Set</code> instead of <code>Bag</code>. Moreover, if you care about remove order you would pick <code>Stack</code> or <code>Queue</code> which are basically <code>Bags</code> with specific remove order. You can think of <code>Bag</code> as super-type of the <code>Stack</code> and <code>Queue</code> which extends its api by specific operations.</p>\n\n<p>Most of the time, you just need to collect objects and process them in some way (iteration + element processing). So you will use the most simple <code>Bag</code> implementation which is one directional linked-list. </p>\n"},{"tags":[],"owner":{"account_id":14206439,"reputation":38683,"user_id":10262805,"display_name":"Yilmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650244376,"creation_date":1650244376,"answer_id":71906683,"question_id":43428114,"body_markdown":"`Bag` is an unordered collection of values that may have duplicates. When comparing a stack to a bag, the first difference is that for stacks,\r\norder matters. \r\n\r\nBag only supports the `add` and `iterate` operations. You cannot remove items from a bag-it’s possible to remove elements from a stack.-. After checking if the container is actually empty, clients can iterate through its elements; since the actual order is unspecified by definition, clients must not rely on it.\r\n\r\nBags are useful when you need to collect objects and process them as a whole set rather than individually. For example, you could collect samples and then, later, compute statistics on them, such as average or standard deviation—the order is\r\nirrelevant in that case.\r\n\r\nin terms of priority queues, a bag is  a Priority queue for which element\r\nremoval (top()-Returns and extracts the element with the highest priority. ) is disabled. Priority Queue api has, `top`, `peek`,`insert`,`remove` and `update` methods. it’s possible to peek one element at a time, and the\r\npriority of each element is given by a random number from a uniform distribution. Priorities also change at every iteration.","title":"Reasons for using a Bag in Java","body":"<p><code>Bag</code> is an unordered collection of values that may have duplicates. When comparing a stack to a bag, the first difference is that for stacks,\norder matters.</p>\n<p>Bag only supports the <code>add</code> and <code>iterate</code> operations. You cannot remove items from a bag-it’s possible to remove elements from a stack.-. After checking if the container is actually empty, clients can iterate through its elements; since the actual order is unspecified by definition, clients must not rely on it.</p>\n<p>Bags are useful when you need to collect objects and process them as a whole set rather than individually. For example, you could collect samples and then, later, compute statistics on them, such as average or standard deviation—the order is\nirrelevant in that case.</p>\n<p>in terms of priority queues, a bag is  a Priority queue for which element\nremoval (top()-Returns and extracts the element with the highest priority. ) is disabled. Priority Queue api has, <code>top</code>, <code>peek</code>,<code>insert</code>,<code>remove</code> and <code>update</code> methods. it’s possible to peek one element at a time, and the\npriority of each element is given by a random number from a uniform distribution. Priorities also change at every iteration.</p>\n"}],"owner":{"account_id":10605692,"reputation":552,"user_id":7811188,"display_name":"Flika205"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15037,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":43428243,"answer_count":2,"score":22,"last_activity_date":1650244376,"creation_date":1492271618,"question_id":43428114,"body_markdown":"I am currently studying about Algorithms &amp; Data Structures and while I was reading over the Book of Algorithms 4th edition, I discovered the `Bag` data-structure together with the `Stack` and `Queue`.\r\nAfter reading the the explanation of it, it is still unclear to me why would I prefer using a `Bag` (which has no `remove()` method) over other data-structures such as `Stack`, `Queue`, `LinkedList` or a `Set`?\r\nAs far as I can understand from the Book, the implementation of a `Bag`, is the same as for a `Stack`, just replacing the name of `push()` to `add()` and remove the `pop()` method.\r\n\r\nSo the idea of a `Bag` is basically having the ability to collect items and then iterate through the collected items, check if a bag is empty and find the number of items in it.\r\nBut under which circumstances I would better using a `Bag` over one of the mentioned above Collections? And why a `Bag` doesn&#39;t have a `remove()` method basically? is there a specific reason for it?\r\n\r\nThanks in advance.","title":"Reasons for using a Bag in Java","body":"<p>I am currently studying about Algorithms &amp; Data Structures and while I was reading over the Book of Algorithms 4th edition, I discovered the <code>Bag</code> data-structure together with the <code>Stack</code> and <code>Queue</code>.\nAfter reading the the explanation of it, it is still unclear to me why would I prefer using a <code>Bag</code> (which has no <code>remove()</code> method) over other data-structures such as <code>Stack</code>, <code>Queue</code>, <code>LinkedList</code> or a <code>Set</code>?\nAs far as I can understand from the Book, the implementation of a <code>Bag</code>, is the same as for a <code>Stack</code>, just replacing the name of <code>push()</code> to <code>add()</code> and remove the <code>pop()</code> method.</p>\n<p>So the idea of a <code>Bag</code> is basically having the ability to collect items and then iterate through the collected items, check if a bag is empty and find the number of items in it.\nBut under which circumstances I would better using a <code>Bag</code> over one of the mentioned above Collections? And why a <code>Bag</code> doesn't have a <code>remove()</code> method basically? is there a specific reason for it?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","serialization","runtime-error","java-io"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1650142622,"post_id":71897345,"comment_id":127048369,"body_markdown":"&quot;IOException: Access is denied&quot; means that you cannot write to the directory where you want to store the file. Since this access decision is made by the OS it would be important to know whether your program runs on Windows or on Linux, what the current directory is where you start the program and what the file system permissions are on that directory.","body":"&quot;IOException: Access is denied&quot; means that you cannot write to the directory where you want to store the file. Since this access decision is made by the OS it would be important to know whether your program runs on Windows or on Linux, what the current directory is where you start the program and what the file system permissions are on that directory."},{"owner":{"account_id":19666915,"reputation":90,"user_id":14672123,"display_name":"Noah Wilhelm"},"score":1,"creation_date":1650144326,"post_id":71897345,"comment_id":127048661,"body_markdown":"@ThomasKl&#228;ger is that enough info?","body":"@ThomasKl&#228;ger is that enough info?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650163588,"creation_date":1650163216,"answer_id":71898895,"question_id":71897345,"body_markdown":"There is nothing fundamentally wrong with your Java code.  When I run it on my (Linux) machine, it just works.  No errors.  The &quot;person.ser&quot; is created in the current directory as expected.  It *should* behave the same on Windows.\r\n\r\nSo your problem is something to do with your computer and the way that you are running the `App` code.  The operating system is telling you that you are not allowed to write that file.\r\n\r\nBut it is not simply file permissions.  When I (deliberately) make the &quot;person.ser&quot; file not writable, I get a different stacktrace to yours:\r\n\r\n    $ java App \r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: person.ser (Permission denied)\r\n    \tat java.io.FileOutputStream.open0(Native Method)\r\n    \tat java.io.FileOutputStream.open(FileOutputStream.java:270)\r\n    \tat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\r\n    \tat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:101)\r\n    \tat App.main(App.java:9)\r\n\r\nNote that the exception is thrown while opening the file.  **This is what I would expect to happen.** \r\n\r\nBut in your stacktrace, the file open (for writing) has succeeded and the &quot;Permission Denied&quot; happens when you are trying to write the serialization header to the file.\r\n\r\nStrange.  Very strange.\r\n\r\nI suspect there is something strange about the current directory and / or the file system where it resides.  Is is it on a remote mounted share?  Is it on a removable device?  It the file system itself set to read-only?  Is it an unusual file system type (e.g. not NTFS)?  Are you running this on a system with some kind of &quot;mandatory access control&quot; hardening that would block some writes?  An overly aggressive anti-virus application perhaps?\r\n\r\nWhen you ran the code did an empty &quot;person.ser&quot; file get created in the expected location?  Can you delete it and try again?  Is this repeatable?\r\n\r\nCan you write a simple program that writes (say) &quot;hello world&quot; to a text file called &quot;person.ser&quot; in the current directory?  Does *that* work?\r\n","title":"Am I misssing something simple with Serialization demo","body":"<p>There is nothing fundamentally wrong with your Java code.  When I run it on my (Linux) machine, it just works.  No errors.  The &quot;person.ser&quot; is created in the current directory as expected.  It <em>should</em> behave the same on Windows.</p>\n<p>So your problem is something to do with your computer and the way that you are running the <code>App</code> code.  The operating system is telling you that you are not allowed to write that file.</p>\n<p>But it is not simply file permissions.  When I (deliberately) make the &quot;person.ser&quot; file not writable, I get a different stacktrace to yours:</p>\n<pre><code>$ java App \nException in thread &quot;main&quot; java.io.FileNotFoundException: person.ser (Permission denied)\n    at java.io.FileOutputStream.open0(Native Method)\n    at java.io.FileOutputStream.open(FileOutputStream.java:270)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:213)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:101)\n    at App.main(App.java:9)\n</code></pre>\n<p>Note that the exception is thrown while opening the file.  <strong>This is what I would expect to happen.</strong></p>\n<p>But in your stacktrace, the file open (for writing) has succeeded and the &quot;Permission Denied&quot; happens when you are trying to write the serialization header to the file.</p>\n<p>Strange.  Very strange.</p>\n<p>I suspect there is something strange about the current directory and / or the file system where it resides.  Is is it on a remote mounted share?  Is it on a removable device?  It the file system itself set to read-only?  Is it an unusual file system type (e.g. not NTFS)?  Are you running this on a system with some kind of &quot;mandatory access control&quot; hardening that would block some writes?  An overly aggressive anti-virus application perhaps?</p>\n<p>When you ran the code did an empty &quot;person.ser&quot; file get created in the expected location?  Can you delete it and try again?  Is this repeatable?</p>\n<p>Can you write a simple program that writes (say) &quot;hello world&quot; to a text file called &quot;person.ser&quot; in the current directory?  Does <em>that</em> work?</p>\n"},{"tags":[],"owner":{"account_id":19666915,"reputation":90,"user_id":14672123,"display_name":"Noah Wilhelm"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650227285,"creation_date":1650227285,"answer_id":71905227,"question_id":71897345,"body_markdown":"I just factory wiped my pc and now the previous code works... idk if someone else ever stumbles upon this it could be your JDK config or some other security setting.","title":"Am I misssing something simple with Serialization demo","body":"<p>I just factory wiped my pc and now the previous code works... idk if someone else ever stumbles upon this it could be your JDK config or some other security setting.</p>\n"}],"owner":{"account_id":19666915,"reputation":90,"user_id":14672123,"display_name":"Noah Wilhelm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71898895,"answer_count":2,"score":2,"last_activity_date":1650242947,"creation_date":1650141587,"question_id":71897345,"body_markdown":"So, I am trying to implement serialization on a more andvanced program but it didnt work, so i tried a simple test and this still gives a Access Is Denied error when i try to write to my .ser file\r\n\r\n**MAIN CLASS**\r\n```\r\nimport java.io.FileOutputStream;\r\nimport java.io.ObjectOutputStream;\r\nimport java.io.Serializable;\r\n\r\n\r\npublic class App implements Serializable {\r\n    public static void main(String[] args) throws Exception {\r\n       person p = new person(&quot;John&quot;, 30);\r\n        FileOutputStream fos = new FileOutputStream(&quot;person.ser&quot;);\r\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n        oos.writeObject(p);\r\n        oos.close();\r\n        fos.close();\r\n    }\r\n}\r\n```\r\n**CLASS I WANT TO SERIALIZE**\r\n```java\r\nimport java.io.Serializable;\r\n\r\npublic class person implements Serializable {\r\n    private String name;\r\n    private int age;\r\n    person(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;helloworld&quot;;\r\n    }\r\n}\r\n```\r\n**ERROR MESSAGE**\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Access is denied\r\n        at java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n        at java.base/java.io.FileOutputStream.write(FileOutputStream.java:347)\r\n        at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1891)\r\n        at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.setBlockDataMode(ObjectOutputStream.java:1800)\r\n        at java.base/java.io.ObjectOutputStream.&lt;init&gt;(ObjectOutputStream.java:251)\r\n        at App.main(App.java:10)\r\n```\r\n\r\nThis is probably a very simple fix but im at a total loss. Thanks!\r\n\r\n\r\n**UPDATE**\r\n\r\nI am running Windows 11 and the file is in the workspace directory (`Test\\person.ser`), the java files are in `Test\\src\\` directory and it starts in the `Test\\bin\\` directory per Visual Studio Code default. read only is unchecked and I&#39;ve tried running as administrator. \r\n\r\n","title":"Am I misssing something simple with Serialization demo","body":"<p>So, I am trying to implement serialization on a more andvanced program but it didnt work, so i tried a simple test and this still gives a Access Is Denied error when i try to write to my .ser file</p>\n<p><strong>MAIN CLASS</strong></p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.ObjectOutputStream;\nimport java.io.Serializable;\n\n\npublic class App implements Serializable {\n    public static void main(String[] args) throws Exception {\n       person p = new person(&quot;John&quot;, 30);\n        FileOutputStream fos = new FileOutputStream(&quot;person.ser&quot;);\n        ObjectOutputStream oos = new ObjectOutputStream(fos);\n        oos.writeObject(p);\n        oos.close();\n        fos.close();\n    }\n}\n</code></pre>\n<p><strong>CLASS I WANT TO SERIALIZE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\n\npublic class person implements Serializable {\n    private String name;\n    private int age;\n    person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n    @Override\n    public String toString() {\n        return &quot;helloworld&quot;;\n    }\n}\n</code></pre>\n<p><strong>ERROR MESSAGE</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Access is denied\n        at java.base/java.io.FileOutputStream.writeBytes(Native Method)\n        at java.base/java.io.FileOutputStream.write(FileOutputStream.java:347)\n        at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.drain(ObjectOutputStream.java:1891)\n        at java.base/java.io.ObjectOutputStream$BlockDataOutputStream.setBlockDataMode(ObjectOutputStream.java:1800)\n        at java.base/java.io.ObjectOutputStream.&lt;init&gt;(ObjectOutputStream.java:251)\n        at App.main(App.java:10)\n</code></pre>\n<p>This is probably a very simple fix but im at a total loss. Thanks!</p>\n<p><strong>UPDATE</strong></p>\n<p>I am running Windows 11 and the file is in the workspace directory (<code>Test\\person.ser</code>), the java files are in <code>Test\\src\\</code> directory and it starts in the <code>Test\\bin\\</code> directory per Visual Studio Code default. read only is unchecked and I've tried running as administrator.</p>\n"},{"tags":["java","email","apache-camel","jakarta-mail","imap"],"answers":[{"tags":[],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650230294,"creation_date":1650230294,"answer_id":71905525,"question_id":71888641,"body_markdown":"After adding the `closeFolder` and `disconnect` options I could ride of the error\r\n\r\n\t\t  .pollEnrich(&quot;imaps://imap.web.de&quot;\r\n\t\t\t\t+ &quot;?username=XXXXX&amp;&quot;\r\n\t\t\t\t+ &quot;password=XXXXX&amp;&quot;\r\n\t\t\t\t+ &quot;unseen=true&amp;&quot;\r\n\t\t\t\t+ &quot;closeFolder=false&amp;&quot;\r\n\t\t\t\t+ &quot;disconnect=false&amp;&quot;\r\n\t\t\t\t+ &quot;subject=FK100 - daily&quot;)","title":"Caused by: com.sun.mail.util.FolderClosedIOException: null","body":"<p>After adding the <code>closeFolder</code> and <code>disconnect</code> options I could ride of the error</p>\n<pre><code>      .pollEnrich(&quot;imaps://imap.web.de&quot;\n            + &quot;?username=XXXXX&amp;&quot;\n            + &quot;password=XXXXX&amp;&quot;\n            + &quot;unseen=true&amp;&quot;\n            + &quot;closeFolder=false&amp;&quot;\n            + &quot;disconnect=false&amp;&quot;\n            + &quot;subject=FK100 - daily&quot;)\n</code></pre>\n"}],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650242826,"creation_date":1650054313,"question_id":71888641,"body_markdown":"I am using apache camel to monitor the incoming email to the inbox. After receiving the email the content (attachment) is being consumed. To consume the attachment in the email\r\nI used the code ilusterated on the apache camel homepage\r\n\r\nhttps://camel.apache.org/components/3.16.x/mail-component.html\r\n\r\nFor some reason I am getting the following error:\r\n\r\n&gt; Caused by: com.sun.mail.util.FolderClosedIOException: null\r\n\r\n\r\n**Code**\r\n\r\n    @Component\r\n    public class EmailPollingRoute extends RouteBuilder {\r\n    \r\n    \tstatic final Logger LOGGER = LoggerFactory.getLogger(EmailPollingRoute.class);\r\n    \r\n    \t@Override\r\n    \tpublic void configure() throws Exception {\r\n    \r\n    \t\t//@formatter:off\r\n    \t\tfrom(&quot;direct:processPollingEmail&quot;)\r\n    \t\t.routeId(&quot;routeId_EmailPollingRoute&quot;)\r\n    \t\t.pollEnrich(&quot;imaps://imap.web.de?username=XXXX&amp;password=XXXXX&amp;unseen=true&amp;subject=FK100 - daily&quot;)\r\n    \t\t        .process(new Processor() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void process(Exchange exchange) throws Exception {\r\n    \t\t\t\t\t    AttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\r\n    \t\t\t\t\t    Map&lt;String, DataHandler&gt; attachments = attachmentMessage.getAttachments();\r\n    \t\t\t\t\t    if (attachments != null &amp;&amp; attachments.size() &gt; 0) {\r\n    \t\t\t\t\t        for (String name : attachments.keySet()) {\r\n    \t\t\t\t\t            DataHandler dh = attachments.get(name);\r\n    \t\t\t\t\t            \r\n    \t\t\t\t\t            // get the file name\r\n    \t\t\t\t\t            String filename = dh.getName();\r\n    \t\t\t\t\t            if(filename != null &amp;&amp; filename.endsWith(&quot;.csv&quot;)){\r\n    \t\t\t\t\t            \tbyte[] data = exchange.getContext().getTypeConverter()\r\n    \t\t                              .convertTo(byte[].class, dh.getInputStream());\r\n    \t\t\t\t\t\t            LOGGER.info(&quot;data: &quot; + data);\r\n    \t\t\t\t\t\t            \r\n    \t\t\t\t\t\t            // write the data to a file\r\n    \t\t\t\t\t\t            FileOutputStream out = new FileOutputStream(filename);\r\n    \t\t\t\t\t\t            out.write(data);\r\n    \t\t\t\t\t\t            out.flush();\r\n    \t\t\t\t\t\t            out.close();\t\r\n    \t\t\t\t\t            }\r\n    \t\t\t\t\t        }\r\n    \t\t\t\t\t    }\t\t\t\t\t\t\r\n    \t\t\t\t}\t\r\n    \t\t\t\t})\r\n    \t\t\t\r\n    \t\t\t.to(&quot;log:newmail&quot;)\r\n    \t\t\t;\r\n    \t\t//@formatter:on\r\n    \t}\r\n    }\r\n\r\n\r\n**Error:**\r\n\r\n    com.sun.mail.util.FolderClosedIOException: null\r\n    \tat javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\r\n    \tat org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\r\n    \tat javax.activation.DataHandler.getInputStream(DataHandler.java:221)\r\n    \tat com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\r\n    \tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    \tat org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    \tat org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    \tat org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\r\n    \tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n    \tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n    2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] WARN  o.a.c.component.mail.MailConsumer - Exchange failed, so rolling back message status: Exchange[328303AF174DCB4-0000000000000000]\r\n    com.sun.mail.util.FolderClosedIOException: null\r\n    \tat javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\r\n    \tat org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\r\n    \tat javax.activation.DataHandler.getInputStream(DataHandler.java:221)\r\n    \tat com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\r\n    \tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    \tat org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    \tat org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    \tat org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\r\n    \tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n    \tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n    2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] ERROR o.a.camel.component.quartz.CamelJob - Error processing exchange. Exchange[328303AF174DCB4-0000000000000000]. Caused by: [org.quartz.JobExecutionException - com.sun.mail.util.FolderClosedIOException]\r\n    2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] INFO  org.quartz.core.JobRunShell - Job Camel_camel-1.emailTimer threw a JobExecutionException: \r\n    org.quartz.JobExecutionException: com.sun.mail.util.FolderClosedIOException\r\n    \tat org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:80)\r\n    \tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n    \tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n    Caused by: com.sun.mail.util.FolderClosedIOException: null\r\n    \tat javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\r\n    \tat org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\r\n    \tat javax.activation.DataHandler.getInputStream(DataHandler.java:221)\r\n    \tat com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\r\n    \tat org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    \tat org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    \tat org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    \tat org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\r\n    \t... 2 common frames omitted\r\n\r\n","title":"Caused by: com.sun.mail.util.FolderClosedIOException: null","body":"<p>I am using apache camel to monitor the incoming email to the inbox. After receiving the email the content (attachment) is being consumed. To consume the attachment in the email\nI used the code ilusterated on the apache camel homepage</p>\n<p><a href=\"https://camel.apache.org/components/3.16.x/mail-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.16.x/mail-component.html</a></p>\n<p>For some reason I am getting the following error:</p>\n<blockquote>\n<p>Caused by: com.sun.mail.util.FolderClosedIOException: null</p>\n</blockquote>\n<p><strong>Code</strong></p>\n<pre><code>@Component\npublic class EmailPollingRoute extends RouteBuilder {\n\n    static final Logger LOGGER = LoggerFactory.getLogger(EmailPollingRoute.class);\n\n    @Override\n    public void configure() throws Exception {\n\n        //@formatter:off\n        from(&quot;direct:processPollingEmail&quot;)\n        .routeId(&quot;routeId_EmailPollingRoute&quot;)\n        .pollEnrich(&quot;imaps://imap.web.de?username=XXXX&amp;password=XXXXX&amp;unseen=true&amp;subject=FK100 - daily&quot;)\n                .process(new Processor() {\n                    @Override\n                    public void process(Exchange exchange) throws Exception {\n                        AttachmentMessage attachmentMessage = exchange.getMessage(AttachmentMessage.class);\n                        Map&lt;String, DataHandler&gt; attachments = attachmentMessage.getAttachments();\n                        if (attachments != null &amp;&amp; attachments.size() &gt; 0) {\n                            for (String name : attachments.keySet()) {\n                                DataHandler dh = attachments.get(name);\n                                \n                                // get the file name\n                                String filename = dh.getName();\n                                if(filename != null &amp;&amp; filename.endsWith(&quot;.csv&quot;)){\n                                    byte[] data = exchange.getContext().getTypeConverter()\n                                      .convertTo(byte[].class, dh.getInputStream());\n                                    LOGGER.info(&quot;data: &quot; + data);\n                                    \n                                    // write the data to a file\n                                    FileOutputStream out = new FileOutputStream(filename);\n                                    out.write(data);\n                                    out.flush();\n                                    out.close();    \n                                }\n                            }\n                        }                       \n                }   \n                })\n            \n            .to(&quot;log:newmail&quot;)\n            ;\n        //@formatter:on\n    }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>com.sun.mail.util.FolderClosedIOException: null\n    at javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\n    at org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\n    at javax.activation.DataHandler.getInputStream(DataHandler.java:221)\n    at com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\n2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] WARN  o.a.c.component.mail.MailConsumer - Exchange failed, so rolling back message status: Exchange[328303AF174DCB4-0000000000000000]\ncom.sun.mail.util.FolderClosedIOException: null\n    at javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\n    at org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\n    at javax.activation.DataHandler.getInputStream(DataHandler.java:221)\n    at com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\n2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] ERROR o.a.camel.component.quartz.CamelJob - Error processing exchange. Exchange[328303AF174DCB4-0000000000000000]. Caused by: [org.quartz.JobExecutionException - com.sun.mail.util.FolderClosedIOException]\n2022-04-15 22:13:02 [DefaultQuartzScheduler-camel-1_Worker-1] INFO  org.quartz.core.JobRunShell - Job Camel_camel-1.emailTimer threw a JobExecutionException: \norg.quartz.JobExecutionException: com.sun.mail.util.FolderClosedIOException\n    at org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:80)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\nCaused by: com.sun.mail.util.FolderClosedIOException: null\n    at javax.mail.internet.MimePartDataSource.getInputStream(MimePartDataSource.java:90)\n    at org.apache.camel.component.mail.DelegatingDataSource.getInputStream(DelegatingDataSource.java:46)\n    at javax.activation.DataHandler.getInputStream(DataHandler.java:221)\n    at com.EmailPollingRoute$1.process(EmailPollingRoute.java:51)\n    at org.apache.camel.support.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:65)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.quartz.CamelJob.execute(CamelJob.java:69)\n    ... 2 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1650438125,"post_id":71906414,"comment_id":127112670,"body_markdown":"How did you try to solve the problem? What problems did you run into? Please read: https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users","body":"How did you try to solve the problem? What problems did you run into? Please read: <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a>"},{"owner":{"account_id":4210124,"reputation":812,"user_id":3448078,"display_name":"Florian Metzger-Noel"},"score":0,"creation_date":1650438165,"post_id":71906414,"comment_id":127112684,"body_markdown":"Also: the code you posted is very hard to ready, because the indentation is wrong.","body":"Also: the code you posted is very hard to ready, because the indentation is wrong."}],"answers":[{"tags":[],"owner":{"account_id":2453333,"reputation":580,"user_id":2139073,"accept_rate":25,"display_name":"rvp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650242269,"creation_date":1650242269,"answer_id":71906539,"question_id":71906414,"body_markdown":"You could do some thing like this :\r\n       \r\n        public static int[] generateRandomValueSet(int n){\r\n           Set&lt;Integer&gt; set = new HashSet();\r\n           while(set.size() &lt; n ){\r\n              set.add( (int) (Math.random()*49) + 1);\r\n           }\r\n        \r\n           int[] arr = new int[n];\r\n           int index = 0;\r\n           for(Integer x :set ){\r\n            arr[index++] = x;\r\n           }\r\n           return arr;\r\n        }\r\n","title":"How to code for generate multiple sets of random number?","body":"<p>You could do some thing like this :</p>\n<pre><code>    public static int[] generateRandomValueSet(int n){\n       Set&lt;Integer&gt; set = new HashSet();\n       while(set.size() &lt; n ){\n          set.add( (int) (Math.random()*49) + 1);\n       }\n    \n       int[] arr = new int[n];\n       int index = 0;\n       for(Integer x :set ){\n        arr[index++] = x;\n       }\n       return arr;\n    }\n</code></pre>\n"}],"owner":{"account_id":24978120,"reputation":1,"user_id":18840551,"display_name":"Jeff Wong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650242269,"creation_date":1650240670,"question_id":71906414,"body_markdown":"How to code if the sets of random numbers can be indicated by users? I am now having java program for generating one set of random numbers, I want to add the function that I can indicate how many sets of random numbers generated. How can I do? Please help.\r\n\r\n    int[] numberSet = new int[6];\r\n    int   randomNumber;\r\n    boolean duplicate;\r\n    //input\r\n\r\n\r\n    //processing\r\n    for (int i=0; i&lt;numberSet.length; i++){\r\n        duplicate = false;\r\n        randomNumber = generateRandomValue();\r\n        \r\n        \r\n\r\n\r\n    //output\r\n    System.out.println(&quot;The numbers for the set : &quot;);\r\n    for (int i=0; i&lt;numberSet.length; i++){\r\n        if(i==(numberSet.length-1)){\r\n            System.out.print( numberSet[i]);\r\n        }\r\n        else{\r\n            System.out.print( numberSet[i] + &quot;, &quot;);\r\n        }\r\n        \r\n    }\r\n    \r\n    System.out.println(&quot;&quot;);\r\n    }\r\n\r\n\r\n\r\n    public static int generateRandomValue(){\r\n    return (int) (Math.random()*49) + 1 ;\r\n    }","title":"How to code for generate multiple sets of random number?","body":"<p>How to code if the sets of random numbers can be indicated by users? I am now having java program for generating one set of random numbers, I want to add the function that I can indicate how many sets of random numbers generated. How can I do? Please help.</p>\n<pre><code>int[] numberSet = new int[6];\nint   randomNumber;\nboolean duplicate;\n//input\n\n\n//processing\nfor (int i=0; i&lt;numberSet.length; i++){\n    duplicate = false;\n    randomNumber = generateRandomValue();\n    \n    \n\n\n//output\nSystem.out.println(&quot;The numbers for the set : &quot;);\nfor (int i=0; i&lt;numberSet.length; i++){\n    if(i==(numberSet.length-1)){\n        System.out.print( numberSet[i]);\n    }\n    else{\n        System.out.print( numberSet[i] + &quot;, &quot;);\n    }\n    \n}\n\nSystem.out.println(&quot;&quot;);\n}\n\n\n\npublic static int generateRandomValue(){\nreturn (int) (Math.random()*49) + 1 ;\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644340607,"creation_date":1644340607,"answer_id":71038044,"question_id":71037091,"body_markdown":"If you have to update just the *contentId* field you can identify the parent node of the *contentId* node and modify the child (moreover basically you have already made more than that with the creation of your function throwing the error) :\r\n\r\n~~~\r\nObjectMapper om = new ObjectMapper();\r\nJsonNode requestBody = om.readTree(json);\r\nJsonNode requestBodyNode = requestBody.get(1);\r\nObjectNode objectNode = (ObjectNode) requestBodyNode.get(&quot;evtData&quot;);\r\nobjectNode.put(&quot;contentId&quot;, 0); //&lt;-- 0 chosen as the new value\r\n//it will show contentId updated to 0\r\nSystem.out.println(requestBody);\r\n~~~","title":"How to update values in a complicated JSON Array using Jackson?","body":"<p>If you have to update just the <em>contentId</em> field you can identify the parent node of the <em>contentId</em> node and modify the child (moreover basically you have already made more than that with the creation of your function throwing the error) :</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nJsonNode requestBody = om.readTree(json);\nJsonNode requestBodyNode = requestBody.get(1);\nObjectNode objectNode = (ObjectNode) requestBodyNode.get(&quot;evtData&quot;);\nobjectNode.put(&quot;contentId&quot;, 0); //&lt;-- 0 chosen as the new value\n//it will show contentId updated to 0\nSystem.out.println(requestBody);\n</code></pre>\n"}],"owner":{"account_id":7582769,"reputation":27,"user_id":5752975,"display_name":"AliZaidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71038044,"answer_count":1,"score":0,"last_activity_date":1650242093,"creation_date":1644336661,"question_id":71037091,"body_markdown":"I have a request body (in JSON format) that looks like this:\r\n\r\n    [\r\n      {\r\n        &quot;l_ts&quot;:0,\r\n        &quot;af&quot;:{\r\n          &quot;lib&quot;:&quot;xyz&quot;,\r\n          &quot;OS&quot;:&quot;abc&quot;,\r\n          &quot;wdt&quot;:&quot;2.63&quot;,\r\n        },\r\n        &quot;frs&quot;:false,\r\n        &quot;g&quot;:&quot;-v4d89ae6885b14baf91b102caaefea245&quot;,\r\n        &quot;tlc&quot;:[],\r\n        &quot;type&quot;:&quot;meta&quot;,\r\n      },\r\n      {\r\n        &quot;s&quot;:1643895073,\r\n        &quot;evtName&quot;:&quot;CONTENT_LIKE_DISLIKE&quot;,\r\n        &quot;evtData&quot;:{\r\n          &quot;contentId&quot;:17189,\r\n          &quot;likeContent&quot;:true,\r\n        },\r\n        &quot;type&quot;:&quot;event&quot;,\r\n        &quot;n&quot;:&quot;_bg&quot;\r\n      }\r\n    ]\r\n\r\nNow before sending the request, I need to update the value of &quot;contentId&quot; field. I am using Jackson in my current project, so what would be the best way to update the &quot;contentId&quot; field in the JSON above.\r\n\r\nThis is what I have tried till now:\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n    JsonNode requestBody = om.readTree(new File(pathToJsonAbove));\r\n    JsonNode requestBodyNode = requestBody.get(1);\r\n    requestBodyNode = JsonUtil.put(requestBodyNode, &quot;evtData&quot;, &quot;contentId&quot;, newValue);\r\n    requestBody = JsonUtil.put(requestBody, &quot;[1]&quot;, requestBodyNode); // getting error here\r\n\r\nThe JsonUtil functions are as below:\r\n\r\n    public static final JsonNode put(JsonNode node, String key1, String key2, int value) {\r\n    \tJsonNode jsonNode = node.path(key1);\r\n             put(jsonNode, key2, value);\r\n             return node;\r\n    }\r\n    \r\n    public static final JsonNode put(JsonNode node, String key, int value) {\r\n    \treturn ((ObjectNode)node).put(key, value);\r\n    }\r\n    \r\n    public static final JsonNode put(JsonNode node, String key, JsonNode value) {\r\n    \treturn ((ObjectNode)node).putPOJO(key, value);\r\n    }\r\n\r\nI am not able to successfully put the node that I have edited (requestBodyNode), back in the requestBody which is the main JsonNode that holds the entire body. When I run the above code, I get a ClassCastException saying that I can&#39;t convert from ArrayNode to ObjectNode.\r\n\r\nWhat is the best way to update the &quot;contentId&quot; field in the JSON above?\r\n","title":"How to update values in a complicated JSON Array using Jackson?","body":"<p>I have a request body (in JSON format) that looks like this:</p>\n<pre><code>[\n  {\n    &quot;l_ts&quot;:0,\n    &quot;af&quot;:{\n      &quot;lib&quot;:&quot;xyz&quot;,\n      &quot;OS&quot;:&quot;abc&quot;,\n      &quot;wdt&quot;:&quot;2.63&quot;,\n    },\n    &quot;frs&quot;:false,\n    &quot;g&quot;:&quot;-v4d89ae6885b14baf91b102caaefea245&quot;,\n    &quot;tlc&quot;:[],\n    &quot;type&quot;:&quot;meta&quot;,\n  },\n  {\n    &quot;s&quot;:1643895073,\n    &quot;evtName&quot;:&quot;CONTENT_LIKE_DISLIKE&quot;,\n    &quot;evtData&quot;:{\n      &quot;contentId&quot;:17189,\n      &quot;likeContent&quot;:true,\n    },\n    &quot;type&quot;:&quot;event&quot;,\n    &quot;n&quot;:&quot;_bg&quot;\n  }\n]\n</code></pre>\n<p>Now before sending the request, I need to update the value of &quot;contentId&quot; field. I am using Jackson in my current project, so what would be the best way to update the &quot;contentId&quot; field in the JSON above.</p>\n<p>This is what I have tried till now:</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nJsonNode requestBody = om.readTree(new File(pathToJsonAbove));\nJsonNode requestBodyNode = requestBody.get(1);\nrequestBodyNode = JsonUtil.put(requestBodyNode, &quot;evtData&quot;, &quot;contentId&quot;, newValue);\nrequestBody = JsonUtil.put(requestBody, &quot;[1]&quot;, requestBodyNode); // getting error here\n</code></pre>\n<p>The JsonUtil functions are as below:</p>\n<pre><code>public static final JsonNode put(JsonNode node, String key1, String key2, int value) {\n    JsonNode jsonNode = node.path(key1);\n         put(jsonNode, key2, value);\n         return node;\n}\n\npublic static final JsonNode put(JsonNode node, String key, int value) {\n    return ((ObjectNode)node).put(key, value);\n}\n\npublic static final JsonNode put(JsonNode node, String key, JsonNode value) {\n    return ((ObjectNode)node).putPOJO(key, value);\n}\n</code></pre>\n<p>I am not able to successfully put the node that I have edited (requestBodyNode), back in the requestBody which is the main JsonNode that holds the entire body. When I run the above code, I get a ClassCastException saying that I can't convert from ArrayNode to ObjectNode.</p>\n<p>What is the best way to update the &quot;contentId&quot; field in the JSON above?</p>\n"},{"tags":["java","android","json","spring","spring-boot"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1622175609,"post_id":67732872,"comment_id":119721652,"body_markdown":"https://stackoverflow.com/questions/43255577/parse-json-with-unknown-key/43255611#43255611","body":"<a href=\"https://stackoverflow.com/questions/43255577/parse-json-with-unknown-key/43255611#43255611\" title=\"parse json with unknown key\">stackoverflow.com/questions/43255577/&hellip;</a>"},{"owner":{"account_id":21749020,"reputation":1,"user_id":16055239,"display_name":"Aman BL"},"score":0,"creation_date":1622176201,"post_id":67732872,"comment_id":119721762,"body_markdown":"That&#39;s great... Also can you tell me how to add new field in same JSON file which should maintain square brackets as opening and closing? Thanks in advance","body":"That&#39;s great... Also can you tell me how to add new field in same JSON file which should maintain square brackets as opening and closing? Thanks in advance"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1622178069,"post_id":67732872,"comment_id":119722140,"body_markdown":"Why do you want to update the JSON file? This is a non-standard use of JSON. If you are storing data, you should consider using a database, such as SQLite or Realm, instead of a JSON file.","body":"Why do you want to update the JSON file? This is a non-standard use of JSON. If you are storing data, you should consider using a database, such as SQLite or Realm, instead of a JSON file."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1622178146,"post_id":67732872,"comment_id":119722153,"body_markdown":"Also note that if this JSON file is stored in `res` or `asset` in your Android Studio package, you cannot update it anyway. (At least not easily)","body":"Also note that if this JSON file is stored in <code>res</code> or <code>asset</code> in your Android Studio package, you cannot update it anyway. (At least not easily)"},{"owner":{"account_id":21749020,"reputation":1,"user_id":16055239,"display_name":"Aman BL"},"score":0,"creation_date":1622179382,"post_id":67732872,"comment_id":119722375,"body_markdown":"That&#39;s the correct point by @Code-Apprentice. But as it was asked by one of my friend whose organization given a task like this. They are using Java to build API. Could you please provide any way? Thanks in advance.","body":"That&#39;s the correct point by @Code-Apprentice. But as it was asked by one of my friend whose organization given a task like this. They are using Java to build API. Could you please provide any way? Thanks in advance."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1622231952,"post_id":67732872,"comment_id":119743034,"body_markdown":"If you are building an API, you don&#39;t need to save the a JSON file. Typically you build up an object then serialize it to JSON directly to the HTTP response. Any modifications should be made to the Java objects before serializing them.","body":"If you are building an API, you don&#39;t need to save the a JSON file. Typically you build up an object then serialize it to JSON directly to the HTTP response. Any modifications should be made to the Java objects before serializing them."}],"answers":[{"tags":[],"owner":{"account_id":10678941,"reputation":307,"user_id":7861603,"display_name":"Stanislas Klukowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622475597,"creation_date":1622475597,"answer_id":67776740,"question_id":67732872,"body_markdown":"As said already in comments, there are some flaws in this architecture.\r\n\r\nHowever, as a json object is basically a Map in java, you can use `jackson` lib to deserialize the json, add a value in the map and serialize it again with `jackson`. See the code below :\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n\r\n    class ObjectMapperTest {\r\n\r\n\r\n        @Test\r\n        void test_json_array_of_map() throws JsonProcessingException {\r\n            String jsonAsString = &quot;[{\\&quot;1\\&quot;:\\&quot;xxx\\&quot;,\\&quot;20\\&quot;:\\&quot;ppp\\&quot;,\\&quot;25\\&quot;:\\&quot;hhh\\&quot;}]&quot;;\r\n\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            List&lt;Map&lt;String,String&gt;&gt; deserialized = objectMapper.readValue(jsonAsString, new TypeReference&lt;&gt;() {\r\n            });\r\n            deserialized.get(0).put(&quot;myNewKey&quot;, &quot;myNewValue&quot;);\r\n\r\n            System.out.println(objectMapper.writeValueAsString(deserialized));\r\n        }\r\n\r\n    }\r\n\r\nThis gives you the following output :\r\n\r\n    [{&quot;1&quot;:&quot;xxx&quot;,&quot;20&quot;:&quot;ppp&quot;,&quot;25&quot;:&quot;hhh&quot;,&quot;myNewKey&quot;:&quot;myNewValue&quot;}]\r\n","title":"How to update a JSON array in a Java","body":"<p>As said already in comments, there are some flaws in this architecture.</p>\n<p>However, as a json object is basically a Map in java, you can use <code>jackson</code> lib to deserialize the json, add a value in the map and serialize it again with <code>jackson</code>. See the code below :</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.Map;\n\n\nclass ObjectMapperTest {\n\n\n    @Test\n    void test_json_array_of_map() throws JsonProcessingException {\n        String jsonAsString = &quot;[{\\&quot;1\\&quot;:\\&quot;xxx\\&quot;,\\&quot;20\\&quot;:\\&quot;ppp\\&quot;,\\&quot;25\\&quot;:\\&quot;hhh\\&quot;}]&quot;;\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        List&lt;Map&lt;String,String&gt;&gt; deserialized = objectMapper.readValue(jsonAsString, new TypeReference&lt;&gt;() {\n        });\n        deserialized.get(0).put(&quot;myNewKey&quot;, &quot;myNewValue&quot;);\n\n        System.out.println(objectMapper.writeValueAsString(deserialized));\n    }\n\n}\n</code></pre>\n<p>This gives you the following output :</p>\n<pre><code>[{&quot;1&quot;:&quot;xxx&quot;,&quot;20&quot;:&quot;ppp&quot;,&quot;25&quot;:&quot;hhh&quot;,&quot;myNewKey&quot;:&quot;myNewValue&quot;}]\n</code></pre>\n"}],"owner":{"account_id":21749020,"reputation":1,"user_id":16055239,"display_name":"Aman BL"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650241890,"creation_date":1622175460,"question_id":67732872,"body_markdown":"I have a JSON file name abc.json\r\nOnce I opened this file there is data like in square brackets.\r\n\r\n    [{\r\n    &quot;1&quot; : &quot;xxx&quot;,\r\n    &quot;20&quot; : &quot;ppp&quot;,\r\n    &quot;25&quot; : &quot;hhh&quot;\r\n    }]\r\n\r\nHere in this keys are not known. I want to add new key-value pairs, update values according to some key-value and delete some fields.\r\nI have to use `com.google.code`  library.","title":"How to update a JSON array in a Java","body":"<p>I have a JSON file name abc.json\nOnce I opened this file there is data like in square brackets.</p>\n<pre><code>[{\n&quot;1&quot; : &quot;xxx&quot;,\n&quot;20&quot; : &quot;ppp&quot;,\n&quot;25&quot; : &quot;hhh&quot;\n}]\n</code></pre>\n<p>Here in this keys are not known. I want to add new key-value pairs, update values according to some key-value and delete some fields.\nI have to use <code>com.google.code</code>  library.</p>\n"},{"tags":["java","json","string"],"answers":[{"tags":[],"owner":{"account_id":459938,"reputation":4412,"user_id":860721,"accept_rate":69,"display_name":"Hossein Mobasher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632940661,"creation_date":1632911295,"answer_id":69374651,"question_id":69373903,"body_markdown":"You can use a more structured way using `Gson` or `Jackson` libraries. Create your POJO class and annotate it with these libraries&#39; specific annotations. The POJO depth level is related to your design. The easiest way is to create a `Map&lt;String, Object&gt;` and fill it with what you want as follow:\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        Map&lt;String, Object&gt; items = new LinkedHashMap&lt;&gt;();\r\n        items.put(&quot;request&quot;, Map.of(\r\n                &quot;jsonRequest&quot;, Map.of(\r\n                        &quot;Alpha&quot;, Map.of(\r\n                                &quot;Bravo&quot;, List.of(&quot;Delta&quot;, &quot;something&quot;),\r\n                                &quot;Desert&quot;, List.of(\r\n                                        Map.of(&quot;id&quot;, 1),\r\n                                        Map.of(&quot;id&quot;, 2),\r\n                                        Map.of(&quot;id&quot;, 3),\r\n                                        Map.of(&quot;id&quot;, 4)\r\n                                )\r\n                        )\r\n                )));\r\n\r\n        System.out.println(mapper.writeValueAsString(items));\r\n\r\nThe `ObjectMapper` will produce something like the below:\r\n\r\n    {\r\n      &quot;request&quot; : {\r\n        &quot;jsonRequest&quot; : {\r\n          &quot;Alpha&quot; : {\r\n            &quot;Bravo&quot; : [ &quot;Delta&quot;, &quot;something&quot; ],\r\n            &quot;Desert&quot; : [ {\r\n              &quot;id&quot; : 1\r\n            }, {\r\n              &quot;id&quot; : 2\r\n            }, {\r\n              &quot;id&quot; : 3\r\n            }, {\r\n              &quot;id&quot; : 4\r\n            } ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThe more strict way is to design your POJO with more details. The [jackson-object-mapper][1] is used to achieve the goals.\r\n\r\n    static class Request {\r\n        private Map&lt;String, JsonRequest&gt; items = new LinkedHashMap&lt;&gt;();\r\n\r\n        @JsonAnyGetter\r\n        public Map&lt;String, JsonRequest&gt; getItems() {\r\n            return items;\r\n        }\r\n\r\n        public void addItem(String property, JsonRequest value) {\r\n            items.put(property, value);\r\n        }\r\n    }\r\n\r\n    static class JsonRequest {\r\n        private Map&lt;String, List&lt;JsonRequestItem&gt;&gt; items = new LinkedHashMap&lt;&gt;();\r\n\r\n        @JsonAnyGetter\r\n        public Map&lt;String, List&lt;JsonRequestItem&gt;&gt; getItems() {\r\n            return items;\r\n        }\r\n\r\n        public void addItem(String property, List&lt;JsonRequestItem&gt; value) {\r\n            items.put(property, value);\r\n        }\r\n    }\r\n\r\n    static class JsonRequestItem {\r\n        private Map&lt;String, Object&gt; items = new LinkedHashMap&lt;&gt;();\r\n\r\n        @JsonAnyGetter\r\n        public Map&lt;String, Object&gt; getItems() {\r\n            return items;\r\n        }\r\n\r\n        public void addItem(String property, Object value) {\r\n            items.put(property, value);\r\n        }\r\n    }\r\n\r\nYou can test the structure using the code below:\r\n\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        Request request = new Request();\r\n        JsonRequest alpha = new JsonRequest();\r\n        alpha.addItem(&quot;Bravo&quot;, List.of(\r\n                new JsonRequestItem() {{\r\n                    addItem(&quot;Delta&quot;, &quot;something&quot;);\r\n                }}\r\n        ));\r\n\r\n        alpha.addItem(&quot;Desert&quot;, List.of(\r\n                new JsonRequestItem() {{\r\n                    addItem(&quot;id&quot;, 1);\r\n                    addItem(&quot;name&quot;, &quot;Lena&quot;);\r\n                    addItem(&quot;age&quot;, &quot;25&quot;);\r\n                    addItem(&quot;city&quot;, &quot;Florida&quot;);\r\n                    addItem(&quot;street&quot;, &quot;Florida Street&quot;);\r\n                }},\r\n                new JsonRequestItem() {{\r\n                    addItem(&quot;id&quot;, 2);\r\n                    addItem(&quot;name&quot;, &quot;Moa&quot;);\r\n                    addItem(&quot;age&quot;, &quot;21&quot;);\r\n                    addItem(&quot;city&quot;, &quot;Mexico&quot;);\r\n                    addItem(&quot;street&quot;, &quot;Mexico Street&quot;);\r\n                }},\r\n                new JsonRequestItem() {{\r\n                    addItem(&quot;id&quot;, 3);\r\n                    addItem(&quot;name&quot;, &quot;Nils&quot;);\r\n                    addItem(&quot;age&quot;, &quot;29&quot;);\r\n                    addItem(&quot;city&quot;, &quot;Tampas&quot;);\r\n                    addItem(&quot;street&quot;, &quot;Tampas Street&quot;);\r\n                }}\r\n        ));\r\n\r\n        request.addItem(&quot;Alpha&quot;, alpha);\r\n\r\n        System.out.println(mapper.writeValueAsString(request));\r\n    }\r\n\r\nThen the result will be similar:\r\n\r\n    {\r\n      &quot;Alpha&quot; : {\r\n        &quot;Bravo&quot; : [ {\r\n          &quot;Delta&quot; : &quot;something&quot;\r\n        } ],\r\n        &quot;Desert&quot; : [ {\r\n          &quot;id&quot; : 1,\r\n          &quot;name&quot; : &quot;Lena&quot;,\r\n          &quot;age&quot; : &quot;25&quot;,\r\n          &quot;city&quot; : &quot;Florida&quot;,\r\n          &quot;street&quot; : &quot;Florida Street&quot;\r\n        }, {\r\n          &quot;id&quot; : 2,\r\n          &quot;name&quot; : &quot;Moa&quot;,\r\n          &quot;age&quot; : &quot;21&quot;,\r\n          &quot;city&quot; : &quot;Mexico&quot;,\r\n          &quot;street&quot; : &quot;Mexico Street&quot;\r\n        }, {\r\n          &quot;id&quot; : 3,\r\n          &quot;name&quot; : &quot;Nils&quot;,\r\n          &quot;age&quot; : &quot;29&quot;,\r\n          &quot;city&quot; : &quot;Tampas&quot;,\r\n          &quot;street&quot; : &quot;Tampas Street&quot;\r\n        } ]\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"Need advice to structure and modify a JSON-payload in Java","body":"<p>You can use a more structured way using <code>Gson</code> or <code>Jackson</code> libraries. Create your POJO class and annotate it with these libraries' specific annotations. The POJO depth level is related to your design. The easiest way is to create a <code>Map&lt;String, Object&gt;</code> and fill it with what you want as follow:</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n    Map&lt;String, Object&gt; items = new LinkedHashMap&lt;&gt;();\n    items.put(&quot;request&quot;, Map.of(\n            &quot;jsonRequest&quot;, Map.of(\n                    &quot;Alpha&quot;, Map.of(\n                            &quot;Bravo&quot;, List.of(&quot;Delta&quot;, &quot;something&quot;),\n                            &quot;Desert&quot;, List.of(\n                                    Map.of(&quot;id&quot;, 1),\n                                    Map.of(&quot;id&quot;, 2),\n                                    Map.of(&quot;id&quot;, 3),\n                                    Map.of(&quot;id&quot;, 4)\n                            )\n                    )\n            )));\n\n    System.out.println(mapper.writeValueAsString(items));\n</code></pre>\n<p>The <code>ObjectMapper</code> will produce something like the below:</p>\n<pre><code>{\n  &quot;request&quot; : {\n    &quot;jsonRequest&quot; : {\n      &quot;Alpha&quot; : {\n        &quot;Bravo&quot; : [ &quot;Delta&quot;, &quot;something&quot; ],\n        &quot;Desert&quot; : [ {\n          &quot;id&quot; : 1\n        }, {\n          &quot;id&quot; : 2\n        }, {\n          &quot;id&quot; : 3\n        }, {\n          &quot;id&quot; : 4\n        } ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>The more strict way is to design your POJO with more details. The <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson-object-mapper</a> is used to achieve the goals.</p>\n<pre><code>static class Request {\n    private Map&lt;String, JsonRequest&gt; items = new LinkedHashMap&lt;&gt;();\n\n    @JsonAnyGetter\n    public Map&lt;String, JsonRequest&gt; getItems() {\n        return items;\n    }\n\n    public void addItem(String property, JsonRequest value) {\n        items.put(property, value);\n    }\n}\n\nstatic class JsonRequest {\n    private Map&lt;String, List&lt;JsonRequestItem&gt;&gt; items = new LinkedHashMap&lt;&gt;();\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;JsonRequestItem&gt;&gt; getItems() {\n        return items;\n    }\n\n    public void addItem(String property, List&lt;JsonRequestItem&gt; value) {\n        items.put(property, value);\n    }\n}\n\nstatic class JsonRequestItem {\n    private Map&lt;String, Object&gt; items = new LinkedHashMap&lt;&gt;();\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getItems() {\n        return items;\n    }\n\n    public void addItem(String property, Object value) {\n        items.put(property, value);\n    }\n}\n</code></pre>\n<p>You can test the structure using the code below:</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n    Request request = new Request();\n    JsonRequest alpha = new JsonRequest();\n    alpha.addItem(&quot;Bravo&quot;, List.of(\n            new JsonRequestItem() {{\n                addItem(&quot;Delta&quot;, &quot;something&quot;);\n            }}\n    ));\n\n    alpha.addItem(&quot;Desert&quot;, List.of(\n            new JsonRequestItem() {{\n                addItem(&quot;id&quot;, 1);\n                addItem(&quot;name&quot;, &quot;Lena&quot;);\n                addItem(&quot;age&quot;, &quot;25&quot;);\n                addItem(&quot;city&quot;, &quot;Florida&quot;);\n                addItem(&quot;street&quot;, &quot;Florida Street&quot;);\n            }},\n            new JsonRequestItem() {{\n                addItem(&quot;id&quot;, 2);\n                addItem(&quot;name&quot;, &quot;Moa&quot;);\n                addItem(&quot;age&quot;, &quot;21&quot;);\n                addItem(&quot;city&quot;, &quot;Mexico&quot;);\n                addItem(&quot;street&quot;, &quot;Mexico Street&quot;);\n            }},\n            new JsonRequestItem() {{\n                addItem(&quot;id&quot;, 3);\n                addItem(&quot;name&quot;, &quot;Nils&quot;);\n                addItem(&quot;age&quot;, &quot;29&quot;);\n                addItem(&quot;city&quot;, &quot;Tampas&quot;);\n                addItem(&quot;street&quot;, &quot;Tampas Street&quot;);\n            }}\n    ));\n\n    request.addItem(&quot;Alpha&quot;, alpha);\n\n    System.out.println(mapper.writeValueAsString(request));\n}\n</code></pre>\n<p>Then the result will be similar:</p>\n<pre><code>{\n  &quot;Alpha&quot; : {\n    &quot;Bravo&quot; : [ {\n      &quot;Delta&quot; : &quot;something&quot;\n    } ],\n    &quot;Desert&quot; : [ {\n      &quot;id&quot; : 1,\n      &quot;name&quot; : &quot;Lena&quot;,\n      &quot;age&quot; : &quot;25&quot;,\n      &quot;city&quot; : &quot;Florida&quot;,\n      &quot;street&quot; : &quot;Florida Street&quot;\n    }, {\n      &quot;id&quot; : 2,\n      &quot;name&quot; : &quot;Moa&quot;,\n      &quot;age&quot; : &quot;21&quot;,\n      &quot;city&quot; : &quot;Mexico&quot;,\n      &quot;street&quot; : &quot;Mexico Street&quot;\n    }, {\n      &quot;id&quot; : 3,\n      &quot;name&quot; : &quot;Nils&quot;,\n      &quot;age&quot; : &quot;29&quot;,\n      &quot;city&quot; : &quot;Tampas&quot;,\n      &quot;street&quot; : &quot;Tampas Street&quot;\n    } ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18647628,"reputation":157,"user_id":13591871,"display_name":"klabbaparn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69374651,"answer_count":1,"score":0,"last_activity_date":1650241678,"creation_date":1632908421,"question_id":69373903,"body_markdown":"Here is a simplified JSON payload that I want to be able to change (the original one is much longer)\r\n\r\n```\r\n{\r\n  &quot;request&quot;: {\r\n    &quot;jsonRequest&quot;: {\r\n      &quot;Alpha&quot;: {\r\n        &quot;Bravo&quot;: [\r\n          {\r\n            &quot;Delta&quot;: &quot;something&quot;\r\n          }\r\n        ],\r\n        &quot;Desert&quot;: [\r\n          {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Lena&quot;,\r\n            &quot;age&quot;: &quot;25&quot;,\r\n            &quot;city&quot;: &quot;Florida&quot;,\r\n            &quot;street&quot;: &quot;Florida Street&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Moa&quot;,\r\n            &quot;age&quot;: &quot;21&quot;,\r\n            &quot;city&quot;: &quot;Mexico&quot;,\r\n            &quot;street&quot;: &quot;Mexico Street&quot;\r\n          },\r\n          {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Nils&quot;,\r\n            &quot;age&quot;: &quot;29&quot;,\r\n            &quot;city&quot;: &quot;Tampas&quot;,\r\n            &quot;street&quot;: &quot;Tampas Street&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMost of the values should be hardcoded and not changed, however, there are some fields I need to be able to modify before I send it as PUT-request.\r\n\r\nSo, here is what I did:\r\nI created a java class and a method to return this String. Then I&#39;ll be using String.format() to solve my problem.\r\n\r\n```\r\npublic class myClass {\r\n\r\n  /* The string I want to send - note the %s which is the sub-strings that I want to be able to modify */\r\n  private String payload = &quot;{\\r\\n\\&quot;request\\&quot;:{\\r\\n\\&quot;jsonRequest\\&quot;:{\\r\\n\\&quot;Alpha\\&quot;:{\\r\\n\\&quot;Bravo\\&quot;:[\\r\\n{\\r\\n\\&quot;Delta\\&quot;:\\&quot;something\\&quot;\\r\\n}\\r\\n],\\r\\n\\&quot;Desert\\&quot;:[\\r\\n{\\r\\n\\&quot;id\\&quot;:1,\\r\\n\\&quot;name\\&quot;:\\&quot;%s\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;25\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Florida\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;%s\\&quot;\\r\\n},\\r\\n{\\r\\n\\&quot;id\\&quot;:2,\\r\\n\\&quot;name\\&quot;:\\&quot;Moa\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;21\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Mexico\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;%s\\&quot;\\r\\n},\\r\\n{\\r\\n\\&quot;id\\&quot;:3,\\r\\n\\&quot;name\\&quot;:\\&quot;Nils\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;29\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Tampas\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;TampasStreet\\&quot;\\r\\n}\\r\\n]\\r\\n}\\r\\n}\\r\\n}\\r\\n}&quot;\r\n\r\n // Method to return this string\r\n public String getPayload() {return this.payload;}\r\n}\r\n```\r\nThen in the main class, I call this method like this:\r\n\r\n```\r\nString temp = new myClass().getPayload();\r\nString payload = String.format(temp, &quot;Lena&quot;, &quot;Florida Street&quot;, &quot;Mexico Street&quot;);  \r\n```\r\n\r\nThis solves the issue, but I think I&#39;ve stepped on too many toes with my approach to solve it. I gladly take advice in how to do this is a more efficient and readable way, because right now I&#39;ll be the only one to understand what is going on.","title":"Need advice to structure and modify a JSON-payload in Java","body":"<p>Here is a simplified JSON payload that I want to be able to change (the original one is much longer)</p>\n<pre><code>{\n  &quot;request&quot;: {\n    &quot;jsonRequest&quot;: {\n      &quot;Alpha&quot;: {\n        &quot;Bravo&quot;: [\n          {\n            &quot;Delta&quot;: &quot;something&quot;\n          }\n        ],\n        &quot;Desert&quot;: [\n          {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Lena&quot;,\n            &quot;age&quot;: &quot;25&quot;,\n            &quot;city&quot;: &quot;Florida&quot;,\n            &quot;street&quot;: &quot;Florida Street&quot;\n          },\n          {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Moa&quot;,\n            &quot;age&quot;: &quot;21&quot;,\n            &quot;city&quot;: &quot;Mexico&quot;,\n            &quot;street&quot;: &quot;Mexico Street&quot;\n          },\n          {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;Nils&quot;,\n            &quot;age&quot;: &quot;29&quot;,\n            &quot;city&quot;: &quot;Tampas&quot;,\n            &quot;street&quot;: &quot;Tampas Street&quot;\n          }\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>Most of the values should be hardcoded and not changed, however, there are some fields I need to be able to modify before I send it as PUT-request.</p>\n<p>So, here is what I did:\nI created a java class and a method to return this String. Then I'll be using String.format() to solve my problem.</p>\n<pre><code>public class myClass {\n\n  /* The string I want to send - note the %s which is the sub-strings that I want to be able to modify */\n  private String payload = &quot;{\\r\\n\\&quot;request\\&quot;:{\\r\\n\\&quot;jsonRequest\\&quot;:{\\r\\n\\&quot;Alpha\\&quot;:{\\r\\n\\&quot;Bravo\\&quot;:[\\r\\n{\\r\\n\\&quot;Delta\\&quot;:\\&quot;something\\&quot;\\r\\n}\\r\\n],\\r\\n\\&quot;Desert\\&quot;:[\\r\\n{\\r\\n\\&quot;id\\&quot;:1,\\r\\n\\&quot;name\\&quot;:\\&quot;%s\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;25\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Florida\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;%s\\&quot;\\r\\n},\\r\\n{\\r\\n\\&quot;id\\&quot;:2,\\r\\n\\&quot;name\\&quot;:\\&quot;Moa\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;21\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Mexico\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;%s\\&quot;\\r\\n},\\r\\n{\\r\\n\\&quot;id\\&quot;:3,\\r\\n\\&quot;name\\&quot;:\\&quot;Nils\\&quot;,\\r\\n\\&quot;age\\&quot;:\\&quot;29\\&quot;,\\r\\n\\&quot;city\\&quot;:\\&quot;Tampas\\&quot;,\\r\\n\\&quot;street\\&quot;:\\&quot;TampasStreet\\&quot;\\r\\n}\\r\\n]\\r\\n}\\r\\n}\\r\\n}\\r\\n}&quot;\n\n // Method to return this string\n public String getPayload() {return this.payload;}\n}\n</code></pre>\n<p>Then in the main class, I call this method like this:</p>\n<pre><code>String temp = new myClass().getPayload();\nString payload = String.format(temp, &quot;Lena&quot;, &quot;Florida Street&quot;, &quot;Mexico Street&quot;);  \n</code></pre>\n<p>This solves the issue, but I think I've stepped on too many toes with my approach to solve it. I gladly take advice in how to do this is a more efficient and readable way, because right now I'll be the only one to understand what is going on.</p>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"score":3,"creation_date":1603090973,"post_id":64422516,"comment_id":113915166,"body_markdown":"What was the output? What is the issue?","body":"What was the output? What is the issue?"},{"owner":{"account_id":16250732,"reputation":11,"user_id":11734777,"display_name":"Dhananjay_Khade"},"score":0,"creation_date":1603189748,"post_id":64422516,"comment_id":113951352,"body_markdown":"value weren&#39;t changed , so below solution is given to write the values. it works :) Thanks @papaya","body":"value weren&#39;t changed , so below solution is given to write the values. it works :) Thanks @papaya"}],"answers":[{"tags":[],"owner":{"account_id":9254167,"reputation":359,"user_id":6873644,"display_name":"Ayush28"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1603127471,"creation_date":1603091553,"answer_id":64422671,"question_id":64422516,"body_markdown":"You need to write the updated JSON into the file from where JSON was read. Also, I did not understand your variable assignment so I have updated that as well. Use below code:\r\n\r\n\r\n\r\n    FileReader reader = new FileReader(filePath);\r\n    \r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject jsonObject = (JSONObject) jsonParser.parse(reader);\r\n    \r\n    System.out.println(jsonObject);\r\n    \r\n    \r\n    long id =Long.valueOf((String) idNewObj.get(&quot;plid&quot;));\r\n    System.out.println(id);\r\n    \r\n    \r\n    jsonObject.put(&quot;plid&quot;,PL809809809);\r\n    \r\n    System.out.println(jsonObject);\r\n    FileWriter writer = new FileWriter(filePath, false); //overwrites the content of file\r\n    writer.write(jsonObject.toString());\r\n    writer.close();\r\n","title":"How to Update JSON value using Java","body":"<p>You need to write the updated JSON into the file from where JSON was read. Also, I did not understand your variable assignment so I have updated that as well. Use below code:</p>\n<pre><code>FileReader reader = new FileReader(filePath);\n\nJSONParser jsonParser = new JSONParser();\nJSONObject jsonObject = (JSONObject) jsonParser.parse(reader);\n\nSystem.out.println(jsonObject);\n\n\nlong id =Long.valueOf((String) idNewObj.get(&quot;plid&quot;));\nSystem.out.println(id);\n\n\njsonObject.put(&quot;plid&quot;,PL809809809);\n\nSystem.out.println(jsonObject);\nFileWriter writer = new FileWriter(filePath, false); //overwrites the content of file\nwriter.write(jsonObject.toString());\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607612336,"creation_date":1603100454,"answer_id":64424791,"question_id":64422516,"body_markdown":"To make transformation/filtering of JSON files, I&#39;d suggest to use stream/event-oriented parsing and generating rather than any object mapping. Just an example, which uses simple and lightweight JSON parser https://github.com/anatolygudkov/green-jelly :\r\n\r\n    import org.green.jelly.AppendableWriter;\r\n    import org.green.jelly.JsonEventPump;\r\n    import org.green.jelly.JsonParser;\r\n    \r\n    import java.io.StringWriter;\r\n    import java.io.Writer;\r\n    \r\n    public class UpdateMyJson {\r\n        private static final String jsonToUpdate = &quot;{\\n&quot; +\r\n                &quot;\\&quot;msgType\\&quot;: \\&quot;NEW\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;code\\&quot;: \\&quot;205\\&quot;,\\n&quot; +\r\n                &quot;\\&quot;plid\\&quot;: \\&quot;PLB52145\\&quot;,\\n&quot; +\r\n                &quot;}&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n            final StringWriter result = new StringWriter();\r\n    \r\n            final JsonParser parser = new JsonParser();\r\n            parser.setListener(new MyJsonUpdater(result));\r\n            parser.parse(jsonToUpdate); // if you read a file with a buffer,\r\n            // call parse() several times part by part in a loop until EOF\r\n            parser.eoj(); // and then call .eoj()\r\n    \r\n            System.out.println(result);\r\n        }\r\n    \r\n        static class MyJsonUpdater extends JsonEventPump {\r\n            private boolean isPlid;\r\n    \r\n            MyJsonUpdater(final Writer output) {\r\n                super(new AppendableWriter&lt;&gt;(output));\r\n            }\r\n    \r\n            @Override\r\n            public boolean onObjectMember(final CharSequence name) {\r\n                isPlid = &quot;plid&quot;.contentEquals(name);\r\n                return super.onObjectMember(name);\r\n            }\r\n    \r\n            @Override\r\n            public boolean onStringValue(final CharSequence data) {\r\n                if (isPlid) {\r\n                    if (&quot;PLB52145&quot;.contentEquals(data)) {\r\n                        return super.onStringValue(&quot;PL809809809&quot;);\r\n                    }\r\n                }\r\n                return super.onStringValue(data);\r\n            }\r\n        }\r\n    }\r\n    \r\n\r\nProps: \r\n\r\n 1. the file/data doesn&#39;t require to be loaded entirely into memory, you can process megs/gigs with no problems\r\n 2. it works much more faster, especially for large files\r\n 3. it&#39;s easy to implement any custom type/rule of transformation with this pattern\r\n\r\nBoth of standard Gson and Jackson libs also provide tokenizers to work with JSON in streaming manner.\r\n\r\nUPDATED: JsonEventPump used","title":"How to Update JSON value using Java","body":"<p>To make transformation/filtering of JSON files, I'd suggest to use stream/event-oriented parsing and generating rather than any object mapping. Just an example, which uses simple and lightweight JSON parser <a href=\"https://github.com/anatolygudkov/green-jelly\" rel=\"nofollow noreferrer\">https://github.com/anatolygudkov/green-jelly</a> :</p>\n<pre><code>import org.green.jelly.AppendableWriter;\nimport org.green.jelly.JsonEventPump;\nimport org.green.jelly.JsonParser;\n\nimport java.io.StringWriter;\nimport java.io.Writer;\n\npublic class UpdateMyJson {\n    private static final String jsonToUpdate = &quot;{\\n&quot; +\n            &quot;\\&quot;msgType\\&quot;: \\&quot;NEW\\&quot;,\\n&quot; +\n            &quot;\\&quot;code\\&quot;: \\&quot;205\\&quot;,\\n&quot; +\n            &quot;\\&quot;plid\\&quot;: \\&quot;PLB52145\\&quot;,\\n&quot; +\n            &quot;}&quot;;\n\n    public static void main(String[] args) {\n        final StringWriter result = new StringWriter();\n\n        final JsonParser parser = new JsonParser();\n        parser.setListener(new MyJsonUpdater(result));\n        parser.parse(jsonToUpdate); // if you read a file with a buffer,\n        // call parse() several times part by part in a loop until EOF\n        parser.eoj(); // and then call .eoj()\n\n        System.out.println(result);\n    }\n\n    static class MyJsonUpdater extends JsonEventPump {\n        private boolean isPlid;\n\n        MyJsonUpdater(final Writer output) {\n            super(new AppendableWriter&lt;&gt;(output));\n        }\n\n        @Override\n        public boolean onObjectMember(final CharSequence name) {\n            isPlid = &quot;plid&quot;.contentEquals(name);\n            return super.onObjectMember(name);\n        }\n\n        @Override\n        public boolean onStringValue(final CharSequence data) {\n            if (isPlid) {\n                if (&quot;PLB52145&quot;.contentEquals(data)) {\n                    return super.onStringValue(&quot;PL809809809&quot;);\n                }\n            }\n            return super.onStringValue(data);\n        }\n    }\n}\n</code></pre>\n<p>Props:</p>\n<ol>\n<li>the file/data doesn't require to be loaded entirely into memory, you can process megs/gigs with no problems</li>\n<li>it works much more faster, especially for large files</li>\n<li>it's easy to implement any custom type/rule of transformation with this pattern</li>\n</ol>\n<p>Both of standard Gson and Jackson libs also provide tokenizers to work with JSON in streaming manner.</p>\n<p>UPDATED: JsonEventPump used</p>\n"}],"owner":{"account_id":16250732,"reputation":11,"user_id":11734777,"display_name":"Dhananjay_Khade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":64422671,"answer_count":2,"score":0,"last_activity_date":1650241285,"creation_date":1603090732,"question_id":64422516,"body_markdown":"I have below json, i want to update each and every value of that json but sometimes only one value\r\n\r\n    { \r\n    &quot;msgType&quot;: &quot;NEW&quot;,\r\n    &quot;code&quot;: &quot;205&quot;,\r\n    &quot;plid&quot;: &quot;PLB52145&quot;,\r\n    }\r\n\r\nI&#39;ve already tried to update using below code\r\n\r\n    FileReader reader = new FileReader(filePath);\r\n    \r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject jsonObject = (JSONObject) jsonParser.parse(reader);\r\n    \r\n    System.out.println(jsonObject);\r\n    \r\n    \r\n    long id =Long.valueOf((String) idNewObj.get(&quot;plid&quot;));\r\n    System.out.println(plid);\r\n    \r\n    \r\n    idNewObj.put(&quot;plid&quot;,PL809809809);\r\n    \r\n    System.out.println(jsonObject);\r\n\r\n\r\n","title":"How to Update JSON value using Java","body":"<p>I have below json, i want to update each and every value of that json but sometimes only one value</p>\n<pre><code>{ \n&quot;msgType&quot;: &quot;NEW&quot;,\n&quot;code&quot;: &quot;205&quot;,\n&quot;plid&quot;: &quot;PLB52145&quot;,\n}\n</code></pre>\n<p>I've already tried to update using below code</p>\n<pre><code>FileReader reader = new FileReader(filePath);\n\nJSONParser jsonParser = new JSONParser();\nJSONObject jsonObject = (JSONObject) jsonParser.parse(reader);\n\nSystem.out.println(jsonObject);\n\n\nlong id =Long.valueOf((String) idNewObj.get(&quot;plid&quot;));\nSystem.out.println(plid);\n\n\nidNewObj.put(&quot;plid&quot;,PL809809809);\n\nSystem.out.println(jsonObject);\n</code></pre>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1643608559,"post_id":70921625,"comment_id":125376302,"body_markdown":"Because without `RestConttoller` you’re missing the `@ResponseBody` annotation that tells Spring you don’t want view resolution. See https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html","body":"Because without <code>RestConttoller</code> you’re missing the <code>@ResponseBody</code> annotation that tells Spring you don’t want view resolution. See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestController.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650240887,"creation_date":1650240887,"answer_id":71906433,"question_id":70921625,"body_markdown":"As per Boris mentioned, without @RestController it needs @ResponseBody annotation to tells Spring view resolution is not needed. ","title":"java.lang.IllegalArgumentException: Multi-value reactive types not supported in view resolution: reactor.core.publisher.Flux&lt;MyPojo&gt;","body":"<p>As per Boris mentioned, without @RestController it needs @ResponseBody annotation to tells Spring view resolution is not needed.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1573,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71906433,"answer_count":1,"score":1,"last_activity_date":1650240887,"creation_date":1643607058,"question_id":70921625,"body_markdown":"Small question regarding Java + SpringBoot Webflux please.\r\n\r\nI have a small handler returning a ```Flux&lt;MyPojo&gt;```\r\n\r\nIf I build a controller as such (please note the ```@RestController```):\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n    @PostMapping(path = &quot;/getFluxMyPojo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Flux&lt;MyPojo&gt; getFluxMyPojo() {\r\n        return myPojoService.thisWillGetFluxMyPojo();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThings are working fine, very happy, I do get the flux.\r\n\r\nWhat I am having a hard time understanding, if when I change the ```@RestController``` to ```@Controller```, as follow:\r\n\r\n```\r\n@Controller\r\npublic class MyController {\r\n\r\n    @PostMapping(path = &quot;/getFluxMyPojo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Flux&lt;MyPojo&gt; getFluxMyPojo() {\r\n        return myPojoService.thisWillGetFluxMyPojo();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen, I am always getting this exception.\r\n\r\n```\r\njava.lang.IllegalArgumentException: Multi-value reactive types not supported in view resolution: reactor.core.publisher.Flux&lt;MyPojo&gt;\r\n\tat org.springframework.web.reactive.result.view.ViewResolutionResultHandler.handleResult(ViewResolutionResultHandler.java:181) ~[spring-webflux-5.3.15.jar:5.3.15]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n```\r\n\r\nThis is just a web service for other web services to consume, no view or anything.\r\nMay I ask what is the issue and why am I getting this exception please?\r\n\r\nThank you","title":"java.lang.IllegalArgumentException: Multi-value reactive types not supported in view resolution: reactor.core.publisher.Flux&lt;MyPojo&gt;","body":"<p>Small question regarding Java + SpringBoot Webflux please.</p>\n<p>I have a small handler returning a <code>Flux&lt;MyPojo&gt;</code></p>\n<p>If I build a controller as such (please note the <code>@RestController</code>):</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @PostMapping(path = &quot;/getFluxMyPojo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Flux&lt;MyPojo&gt; getFluxMyPojo() {\n        return myPojoService.thisWillGetFluxMyPojo();\n    }\n\n}\n</code></pre>\n<p>Things are working fine, very happy, I do get the flux.</p>\n<p>What I am having a hard time understanding, if when I change the <code>@RestController</code> to <code>@Controller</code>, as follow:</p>\n<pre><code>@Controller\npublic class MyController {\n\n    @PostMapping(path = &quot;/getFluxMyPojo&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Flux&lt;MyPojo&gt; getFluxMyPojo() {\n        return myPojoService.thisWillGetFluxMyPojo();\n    }\n\n}\n</code></pre>\n<p>Then, I am always getting this exception.</p>\n<pre><code>java.lang.IllegalArgumentException: Multi-value reactive types not supported in view resolution: reactor.core.publisher.Flux&lt;MyPojo&gt;\n    at org.springframework.web.reactive.result.view.ViewResolutionResultHandler.handleResult(ViewResolutionResultHandler.java:181) ~[spring-webflux-5.3.15.jar:5.3.15]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \n</code></pre>\n<p>This is just a web service for other web services to consume, no view or anything.\nMay I ask what is the issue and why am I getting this exception please?</p>\n<p>Thank you</p>\n"},{"tags":["java","json","regex","package.json","package-lock.json"],"comments":[{"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"score":1,"creation_date":1644765618,"post_id":71102013,"comment_id":125687504,"body_markdown":"It is a bad idea to use regex for something that is easily parse-able as JSON.","body":"It is a bad idea to use regex for something that is easily parse-able as JSON."}],"answers":[{"tags":[],"owner":{"account_id":2778648,"reputation":166,"user_id":2391667,"display_name":"Odd One Out"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644775790,"creation_date":1644775149,"answer_id":71103448,"question_id":71102013,"body_markdown":"This may not work depending on your Java version (that&#39;s the tag you used) as it requires the use of non-fixed width Lookaheads and Lookbehinds, but this regex should be usable in later versions of Java or JavaScript.\r\n```\r\n(?:(?&lt;!(?:[\\s\\S]*\\{[\\s\\S]*){2,})(?&lt;=&quot;version&quot; *: *&quot;)([\\d\\.]*)(?=&quot;)|(?&lt;=&quot;version&quot; *: *&quot;)([\\d\\.]*)(?=&quot;)(?!(?:[\\s\\S]*\\}[\\s\\S]*){2,}))\r\n```\r\n\r\nYou can test it by yourself and see how it works in the following link: https://regex101.com/r/6Q3KXQ/1","title":"Is it possible to replace a value in a json string that occurs multiple times only at the top level of the structure via regex?","body":"<p>This may not work depending on your Java version (that's the tag you used) as it requires the use of non-fixed width Lookaheads and Lookbehinds, but this regex should be usable in later versions of Java or JavaScript.</p>\n<pre><code>(?:(?&lt;!(?:[\\s\\S]*\\{[\\s\\S]*){2,})(?&lt;=&quot;version&quot; *: *&quot;)([\\d\\.]*)(?=&quot;)|(?&lt;=&quot;version&quot; *: *&quot;)([\\d\\.]*)(?=&quot;)(?!(?:[\\s\\S]*\\}[\\s\\S]*){2,}))\n</code></pre>\n<p>You can test it by yourself and see how it works in the following link: <a href=\"https://regex101.com/r/6Q3KXQ/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/6Q3KXQ/1</a></p>\n"}],"owner":{"account_id":4506847,"reputation":181,"user_id":3663953,"display_name":"Ingo Griebsch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650240851,"creation_date":1644765295,"question_id":71102013,"body_markdown":"Hiho,\r\n\r\nI have a json string with the following structure:\r\n```\r\n{\r\n   &quot;version&quot;: &quot;1.0.0&quot;,\r\n   &quot;dependencies&quot;: {\r\n      &quot;version&quot;: &quot;1.0.0&quot;\r\n   }\r\n}\r\n```\r\nIt can also look like this:\r\n```\r\n{\r\n   &quot;dependencies&quot;: {\r\n      &quot;version&quot;: &quot;1.0.0&quot;\r\n   },\r\n   &quot;version&quot;: &quot;1.0.0&quot;\r\n}\r\n```\r\nOr like this:\r\n```\r\n{ &quot;version&quot;: &quot;1.0.0&quot;, &quot;dependencies&quot;: { &quot;version&quot;: &quot;1.0.0&quot; } }\r\n```\r\nOr like this:\r\n```\r\n{ &quot;dependencies&quot;: { &quot;version&quot;: &quot;1.0.0&quot; }, &quot;version&quot;: &quot;1.0.0&quot; }\r\n```\r\n\r\nAs can be seen, the string contains 2 times the name &quot;version&quot; with the value &quot;1.0.0&quot;. One time on &#39;top&#39; level of the json structure, and one time one level deeper.\r\n\r\n - Before/behind the name &quot;version&quot; can be other name/value pairs. \r\n - The name &quot;version&quot; can occur only 1 time on top level.\r\n - The name &quot;version&quot; can occur multiple times in deeper levels.\r\n\r\nNow I want to replace the value &quot;1.0.0&quot; with another value, but only the top level value! I tried to define a regular expression for this, but failed so far. \r\n\r\nI&#39;m starting to wonder if it&#39;s even possible to define such an expression. The underlying problem seems to be that the first hit of the name is not necessarily the top-level key (see examples 2 and 4).\r\n\r\nIt would be really nice if someone could help me! :)","title":"Is it possible to replace a value in a json string that occurs multiple times only at the top level of the structure via regex?","body":"<p>Hiho,</p>\n<p>I have a json string with the following structure:</p>\n<pre><code>{\n   &quot;version&quot;: &quot;1.0.0&quot;,\n   &quot;dependencies&quot;: {\n      &quot;version&quot;: &quot;1.0.0&quot;\n   }\n}\n</code></pre>\n<p>It can also look like this:</p>\n<pre><code>{\n   &quot;dependencies&quot;: {\n      &quot;version&quot;: &quot;1.0.0&quot;\n   },\n   &quot;version&quot;: &quot;1.0.0&quot;\n}\n</code></pre>\n<p>Or like this:</p>\n<pre><code>{ &quot;version&quot;: &quot;1.0.0&quot;, &quot;dependencies&quot;: { &quot;version&quot;: &quot;1.0.0&quot; } }\n</code></pre>\n<p>Or like this:</p>\n<pre><code>{ &quot;dependencies&quot;: { &quot;version&quot;: &quot;1.0.0&quot; }, &quot;version&quot;: &quot;1.0.0&quot; }\n</code></pre>\n<p>As can be seen, the string contains 2 times the name &quot;version&quot; with the value &quot;1.0.0&quot;. One time on 'top' level of the json structure, and one time one level deeper.</p>\n<ul>\n<li>Before/behind the name &quot;version&quot; can be other name/value pairs.</li>\n<li>The name &quot;version&quot; can occur only 1 time on top level.</li>\n<li>The name &quot;version&quot; can occur multiple times in deeper levels.</li>\n</ul>\n<p>Now I want to replace the value &quot;1.0.0&quot; with another value, but only the top level value! I tried to define a regular expression for this, but failed so far.</p>\n<p>I'm starting to wonder if it's even possible to define such an expression. The underlying problem seems to be that the first hit of the name is not necessarily the top-level key (see examples 2 and 4).</p>\n<p>It would be really nice if someone could help me! :)</p>\n"},{"tags":["java","json","hashmap"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1495006686,"post_id":44018389,"comment_id":75064055,"body_markdown":"Map has a putAll method...","body":"Map has a putAll method..."}],"answers":[{"tags":[],"owner":{"account_id":1135699,"reputation":30287,"user_id":1120793,"accept_rate":35,"display_name":"Darshan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495006800,"creation_date":1495006800,"answer_id":44018485,"question_id":44018389,"body_markdown":"You can modify the method to accept another `Map` rather than key value pairs and update the existing `map` with new values present in another `map`, e.g.\r\n\r\n    public String updateValue(Map&lt;String,Object&gt; map, Map&lt;String, String&gt; updatedValues) throws JsonProcessingException{\r\n        Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(map);\r\n        resultMap.putAll(updatedValues);\r\n        String convertedJSONFile = new ObjectMapper().writeValueAsString(resultMap);\r\n        return convertedJSONFile;\r\n    }\r\n\r\nYou can call this method with `Map`, e.g.:\r\n\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;name&quot;, &quot;abc&quot;);\r\n    values.put(&quot;foo&quot;, &quot;bar&quot;);\r\n    body = updateValue(mapWithJSONNodes, &quot;name&quot;, &quot;abc&quot;)\r\n\r\nAlso, rather than modifying the map passed in the request you should create a new map and return it (to maintain the state of existing `map`).","title":"Updating multiple values of different keys in map using java","body":"<p>You can modify the method to accept another <code>Map</code> rather than key value pairs and update the existing <code>map</code> with new values present in another <code>map</code>, e.g.</p>\n\n<pre><code>public String updateValue(Map&lt;String,Object&gt; map, Map&lt;String, String&gt; updatedValues) throws JsonProcessingException{\n    Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(map);\n    resultMap.putAll(updatedValues);\n    String convertedJSONFile = new ObjectMapper().writeValueAsString(resultMap);\n    return convertedJSONFile;\n}\n</code></pre>\n\n<p>You can call this method with <code>Map</code>, e.g.:</p>\n\n<pre><code>Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(\"name\", \"abc\");\nvalues.put(\"foo\", \"bar\");\nbody = updateValue(mapWithJSONNodes, \"name\", \"abc\")\n</code></pre>\n\n<p>Also, rather than modifying the map passed in the request you should create a new map and return it (to maintain the state of existing <code>map</code>).</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495007163,"creation_date":1495006819,"answer_id":44018492,"question_id":44018389,"body_markdown":"Most of this code should only be executed once - the parsing of the `json` file into a `Map` and the serialization of the updated `Map` into a `JSON` `String`.\r\n\r\nOnly the `put` statements should be repeated for each key/value pair you wish to add or modify:\r\n\r\n    File testDataJsonfile = new File(&quot;path/xxx.json&quot;);\r\n    JsonNode testJSONNodes = getJsonNodes(testDataJsonfile);\r\n    Map&lt;String, Object&gt; mapWithJSONNodes = convertJSONTOMAP(testJSONNodes);\r\n    mapWithJSONNodes.put (&quot;name&quot;, &quot;abc&quot;);\r\n    mapWithJSONNodes.put (...);\r\n    ...\r\n    String body = new ObjectMapper().writeValueAsString(mapWithJSONNodes);\r\n\r\nIf you have some array or `List` containing the keys and values you wish to add, you can replace the `put` statements with a loop, to reduce the code a bit further.\r\n","title":"Updating multiple values of different keys in map using java","body":"<p>Most of this code should only be executed once - the parsing of the <code>json</code> file into a <code>Map</code> and the serialization of the updated <code>Map</code> into a <code>JSON</code> <code>String</code>.</p>\n\n<p>Only the <code>put</code> statements should be repeated for each key/value pair you wish to add or modify:</p>\n\n<pre><code>File testDataJsonfile = new File(\"path/xxx.json\");\nJsonNode testJSONNodes = getJsonNodes(testDataJsonfile);\nMap&lt;String, Object&gt; mapWithJSONNodes = convertJSONTOMAP(testJSONNodes);\nmapWithJSONNodes.put (\"name\", \"abc\");\nmapWithJSONNodes.put (...);\n...\nString body = new ObjectMapper().writeValueAsString(mapWithJSONNodes);\n</code></pre>\n\n<p>If you have some array or <code>List</code> containing the keys and values you wish to add, you can replace the <code>put</code> statements with a loop, to reduce the code a bit further.</p>\n"}],"owner":{"account_id":4323616,"reputation":159,"user_id":3531010,"display_name":"SSabharwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1744,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650240669,"creation_date":1495006454,"question_id":44018389,"body_markdown":"I have converted a JSON file to a map and I need to modify multiple values of different keys at once using JAVA.\r\n\r\nFollowing is the map converted JSON file:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;&quot;,\r\n        &quot;numberID&quot;: null,\r\n        &quot;StartDate&quot;: &quot;&quot;,\r\n        &quot;EndDate&quot;: &quot;&quot;,\r\n        &quot;count&quot;: null,\r\n        &quot;level&quot;: null,\r\n        &quot;discipline&quot;: null,\r\n        &quot;paymentModel&quot;: null,\r\n        &quot;ownerName&quot; : null,\r\n        &quot;coursepackType&quot;: null,\r\n        &quot;note&quot;: null\r\n    }   \r\n\r\nI need to update multiple values at once from above JSON, I want to add value to following keys:\r\n\r\n - name\r\n - StartDate\r\n - EndDate\r\n - count\r\n - ownerName\r\n\r\nAll I have write now is way to update just single value, which is already pretty linear: \r\nUsing following series of functions:\r\n\r\n    String body=&quot;&quot;;\r\n    File testDataJsonfile = new File(&quot;path/xxx.json&quot;);\r\n    \t\tJsonNode testJSONNodes = getJsonNodes(testDataJsonfile);\r\n    \t\tMap&lt;String, Object&gt; mapWithJSONNodes = convertJSONTOMAP(testJSONNodes);\r\n            body = updateValue(mapWithJSONNodes, &quot;name&quot;, &quot;abc&quot;)\r\n\r\n    public String updateValue(Map&lt;String,Object&gt; map ,String key,String value) throws JsonProcessingException{\r\n    \t\t\tmap.put(key, value);\r\n                String convertedJSONFile = new ObjectMapper().writeValueAsString(map);\r\n    \t\t\treturn convertedJSONFile;\r\n    \t\t}\r\n\r\nAny way to to achieve what I want dynamically, probably passing an array list or so?\r\nPlease let me know if any other specification is required.  ","title":"Updating multiple values of different keys in map using java","body":"<p>I have converted a JSON file to a map and I need to modify multiple values of different keys at once using JAVA.</p>\n\n<p>Following is the map converted JSON file:</p>\n\n<pre><code>{\n    \"name\": \"\",\n    \"numberID\": null,\n    \"StartDate\": \"\",\n    \"EndDate\": \"\",\n    \"count\": null,\n    \"level\": null,\n    \"discipline\": null,\n    \"paymentModel\": null,\n    \"ownerName\" : null,\n    \"coursepackType\": null,\n    \"note\": null\n}   \n</code></pre>\n\n<p>I need to update multiple values at once from above JSON, I want to add value to following keys:</p>\n\n<ul>\n<li>name</li>\n<li>StartDate</li>\n<li>EndDate</li>\n<li>count</li>\n<li>ownerName</li>\n</ul>\n\n<p>All I have write now is way to update just single value, which is already pretty linear: \nUsing following series of functions:</p>\n\n<pre><code>String body=\"\";\nFile testDataJsonfile = new File(\"path/xxx.json\");\n        JsonNode testJSONNodes = getJsonNodes(testDataJsonfile);\n        Map&lt;String, Object&gt; mapWithJSONNodes = convertJSONTOMAP(testJSONNodes);\n        body = updateValue(mapWithJSONNodes, \"name\", \"abc\")\n\npublic String updateValue(Map&lt;String,Object&gt; map ,String key,String value) throws JsonProcessingException{\n            map.put(key, value);\n            String convertedJSONFile = new ObjectMapper().writeValueAsString(map);\n            return convertedJSONFile;\n        }\n</code></pre>\n\n<p>Any way to to achieve what I want dynamically, probably passing an array list or so?\nPlease let me know if any other specification is required.  </p>\n"},{"tags":["java","json","dictionary","put","jsonpath"],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650240488,"creation_date":1535632036,"question_id":52097074,"body_markdown":"I am struggling to modify several JSON objects, while using the [JsonPath ][1]library.\r\nI have a selector, that gets declared at runtime and a JSON file of unknown size.\r\nI want to only modify the JSON objects, that match the filter’s criteria defines by the selector.\r\nIn this example, all objects get a new key:  `joinedName = firstName + ‘ ‘ + lastName`  (except Bob’s object).\r\nI did get it to work, but I have a feeling, that there should be a better way of doing this.\r\nPlease let me know how to improve my workaround.\r\nThanks!\r\n\r\n\r\n    @Test\r\n    public void addMultipleValuesAtOnce() throws JSONException {\r\n\r\n        String json = &quot;{\\n&quot; +\r\n                &quot;\\&quot;jsonArr\\&quot;: [\\n&quot; +\r\n                &quot;   {\\n&quot; +\r\n                &quot;       \\&quot;firstName\\&quot;:\\&quot;Alice\\&quot;,\\n&quot; +\r\n                &quot;       \\&quot;lastName\\&quot;:\\&quot;Smith\\&quot;\\n&quot; +\r\n                &quot;   },\\n&quot; +\r\n                &quot;   {\\n&quot; +\r\n                &quot;       \\&quot;firstName\\&quot;:\\&quot;Bob\\&quot;,\\n&quot; +\r\n                &quot;       \\&quot;lastName\\&quot;:\\&quot;Williams\\&quot;\\n&quot; +\r\n                &quot;   },\\n&quot; +\r\n                &quot;   {\\n&quot; +\r\n                &quot;       \\&quot;firstName\\&quot;:\\&quot;Carol\\&quot;,\\n&quot; +\r\n                &quot;       \\&quot;lastName\\&quot;:\\&quot;Johnson\\&quot;\\n&quot; +\r\n                &quot;   }\\n&quot; +\r\n                &quot;   ]\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        System.out.println(&quot;------------- IN --------------&quot;);\r\n        System.out.println(json);\r\n        DocumentContext parse = JsonPath.parse(json);\r\n\r\n        final String selector = &quot;$.jsonArr[?(!(@.firstName == &#39;Bob&#39;))]&quot;; // select every entry, except BOB&#39;s\r\n\r\n        net.minidev.json.JSONArray firstNames = parse.read(selector + &quot;.firstName&quot;);\r\n        net.minidev.json.JSONArray lastNames = parse.read(selector + &quot;.lastName&quot;);\r\n\r\n        //HACK\r\n        {\r\n            String[] joinedNames = new String[firstNames.toArray().length];\r\n            for (int i = 0; i &lt; joinedNames.length; i++) {\r\n                joinedNames[i] = firstNames.get(i) + &quot; &quot; + lastNames.get(i);\r\n            }\r\n            \r\n            parse.put(selector, &quot;joinedName&quot;, null); // add key\r\n            final AtomicReference&lt;Integer&gt; counter = new AtomicReference&lt;&gt;(0);\r\n            parse.map(selector + &quot;.joinedName&quot;, (o, configuration) -&gt; {\r\n               return joinedNames[counter.getAndUpdate(x -&gt; x + 1)];\r\n            });\r\n        }\r\n\r\n        System.out.println(&quot;------------- OUT --------------&quot;);\r\n        System.out.println(parse.jsonString());\r\n\r\n        // The expected values:\r\n        Assert.assertEquals(&quot;Alice Smith&quot;, parse.read(&quot;$.jsonArr[0].joinedName&quot;));\r\n        Assert.assertEquals(&quot;Carol Johnson&quot;, parse.read(&quot;$.jsonArr[2].joinedName&quot;));\r\n    }\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Java JsonPath: modify multiple JSON attributes at once","body":"<p>I am struggling to modify several JSON objects, while using the <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath </a>library.\nI have a selector, that gets declared at runtime and a JSON file of unknown size.\nI want to only modify the JSON objects, that match the filter’s criteria defines by the selector.\nIn this example, all objects get a new key:  <code>joinedName = firstName + ‘ ‘ + lastName</code>  (except Bob’s object).\nI did get it to work, but I have a feeling, that there should be a better way of doing this.\nPlease let me know how to improve my workaround.\nThanks!</p>\n\n<pre><code>@Test\npublic void addMultipleValuesAtOnce() throws JSONException {\n\n    String json = \"{\\n\" +\n            \"\\\"jsonArr\\\": [\\n\" +\n            \"   {\\n\" +\n            \"       \\\"firstName\\\":\\\"Alice\\\",\\n\" +\n            \"       \\\"lastName\\\":\\\"Smith\\\"\\n\" +\n            \"   },\\n\" +\n            \"   {\\n\" +\n            \"       \\\"firstName\\\":\\\"Bob\\\",\\n\" +\n            \"       \\\"lastName\\\":\\\"Williams\\\"\\n\" +\n            \"   },\\n\" +\n            \"   {\\n\" +\n            \"       \\\"firstName\\\":\\\"Carol\\\",\\n\" +\n            \"       \\\"lastName\\\":\\\"Johnson\\\"\\n\" +\n            \"   }\\n\" +\n            \"   ]\\n\" +\n            \"}\";\n\n    System.out.println(\"------------- IN --------------\");\n    System.out.println(json);\n    DocumentContext parse = JsonPath.parse(json);\n\n    final String selector = \"$.jsonArr[?(!(@.firstName == 'Bob'))]\"; // select every entry, except BOB's\n\n    net.minidev.json.JSONArray firstNames = parse.read(selector + \".firstName\");\n    net.minidev.json.JSONArray lastNames = parse.read(selector + \".lastName\");\n\n    //HACK\n    {\n        String[] joinedNames = new String[firstNames.toArray().length];\n        for (int i = 0; i &lt; joinedNames.length; i++) {\n            joinedNames[i] = firstNames.get(i) + \" \" + lastNames.get(i);\n        }\n\n        parse.put(selector, \"joinedName\", null); // add key\n        final AtomicReference&lt;Integer&gt; counter = new AtomicReference&lt;&gt;(0);\n        parse.map(selector + \".joinedName\", (o, configuration) -&gt; {\n           return joinedNames[counter.getAndUpdate(x -&gt; x + 1)];\n        });\n    }\n\n    System.out.println(\"------------- OUT --------------\");\n    System.out.println(parse.jsonString());\n\n    // The expected values:\n    Assert.assertEquals(\"Alice Smith\", parse.read(\"$.jsonArr[0].joinedName\"));\n    Assert.assertEquals(\"Carol Johnson\", parse.read(\"$.jsonArr[2].joinedName\"));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","protocol-buffers","spring-webflux"],"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1650239895,"creation_date":1650214766,"question_id":71903803,"body_markdown":"\r\n\r\n 1. I am running a test to see how the notification will be sent. It is\r\n    sent and I get the test result STATUS: STATUS_OK\r\n 2. GatewayRSocketClient created via protobuff rpc method\r\n\r\n```java\r\n@Test\r\npublic void sendRequestToService() {\r\n    \r\n    RSocket socket = RSocketConnector\r\n        .connectWith(TcpClientTransport.create(&quot;127.0.0.1&quot;, 7576))\r\n        .block();\r\n    \r\n    Mono&lt;GatewayResponse&gt; res = new GatewayRSocketClient(socket)\r\n        .requestResponse(GatewayRequest.newBuilder()\r\n        .setMethod(Method.METHOD_POST)\r\n        .setUri(&quot;/notification/save-token&quot;)\r\n        .putParams(&quot;token&quot;, &quot;12345678&quot;)\r\n        .build());\r\n    \r\n    System.out.println(&quot;STATUS: &quot; + res.block().getStatus());    \r\n}\r\n```\r\n    \r\nThis is the method to be called and further down the chain until the message is sent to firebase \r\n    \r\n       \r\n```java\r\n@Override\r\npublic Mono&lt;GatewayResponse&gt; requestResponse(GatewayRequest message, ByteBuf metadata)\r\n{\r\n    return serv.sendMessage(new NotificationDTO(&quot;first notification&quot;, Event.CREDITING, &quot;1234567&quot;))\r\n        .map(res -&gt; GatewayResponse.newBuilder()\r\n        .setStatus(res ? Status.STATUS_OK : Status.STATUS_NOT_FOUND)\r\n        .build());\r\n}\r\n```\r\n\r\nThe test is running successfully but I am getting a long stacktrace. \r\n\r\nI have searched for solutions and without success. The flow is thrown and apparently because of the exception.\r\nHow can this be fixed?\r\n\r\n```\r\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.util.concurrent.CancellationException: Disposed\r\nCaused by: java.util.concurrent.CancellationException: Disposed\r\n    at io.rsocket.internal.UnboundedProcessor.dispose(UnboundedProcessor.java:550) ~[rsocket-core-1.1.1.jar:na]\r\n    at io.rsocket.transport.netty.TcpDuplexConnection.doOnClose(TcpDuplexConnection.java:67) ~[rsocket-transport-netty-1.1.1.jar:na]\r\n    at io.rsocket.internal.BaseDuplexConnection.lambda$new$0(BaseDuplexConnection.java:30) ~[rsocket-core-1.1.1.jar:na]\r\n```\r\n\r\n\r\nThe problem is that the socket stops in the test, because the test ends and an exception is thrown because of this. The question is how to close the socket correctly. I don&#39;t see suitable methods on [RSocket][1].\r\n\r\n\r\n  [1]: https://javadoc.io/static/io.rsocket/rsocket-core/1.1.1/io/rsocket/RSocket.html","title":"How to fix ErrorCallbackNotImplemented -&gt; CancellationException: Disposed in reactive java?","body":"<ol>\n<li>I am running a test to see how the notification will be sent. It is\nsent and I get the test result STATUS: STATUS_OK</li>\n<li>GatewayRSocketClient created via protobuff rpc method</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void sendRequestToService() {\n    \n    RSocket socket = RSocketConnector\n        .connectWith(TcpClientTransport.create(&quot;127.0.0.1&quot;, 7576))\n        .block();\n    \n    Mono&lt;GatewayResponse&gt; res = new GatewayRSocketClient(socket)\n        .requestResponse(GatewayRequest.newBuilder()\n        .setMethod(Method.METHOD_POST)\n        .setUri(&quot;/notification/save-token&quot;)\n        .putParams(&quot;token&quot;, &quot;12345678&quot;)\n        .build());\n    \n    System.out.println(&quot;STATUS: &quot; + res.block().getStatus());    \n}\n</code></pre>\n<p>This is the method to be called and further down the chain until the message is sent to firebase</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;GatewayResponse&gt; requestResponse(GatewayRequest message, ByteBuf metadata)\n{\n    return serv.sendMessage(new NotificationDTO(&quot;first notification&quot;, Event.CREDITING, &quot;1234567&quot;))\n        .map(res -&gt; GatewayResponse.newBuilder()\n        .setStatus(res ? Status.STATUS_OK : Status.STATUS_NOT_FOUND)\n        .build());\n}\n</code></pre>\n<p>The test is running successfully but I am getting a long stacktrace.</p>\n<p>I have searched for solutions and without success. The flow is thrown and apparently because of the exception.\nHow can this be fixed?</p>\n<pre><code>reactor.core.Exceptions$ErrorCallbackNotImplemented: java.util.concurrent.CancellationException: Disposed\nCaused by: java.util.concurrent.CancellationException: Disposed\n    at io.rsocket.internal.UnboundedProcessor.dispose(UnboundedProcessor.java:550) ~[rsocket-core-1.1.1.jar:na]\n    at io.rsocket.transport.netty.TcpDuplexConnection.doOnClose(TcpDuplexConnection.java:67) ~[rsocket-transport-netty-1.1.1.jar:na]\n    at io.rsocket.internal.BaseDuplexConnection.lambda$new$0(BaseDuplexConnection.java:30) ~[rsocket-core-1.1.1.jar:na]\n</code></pre>\n<p>The problem is that the socket stops in the test, because the test ends and an exception is thrown because of this. The question is how to close the socket correctly. I don't see suitable methods on <a href=\"https://javadoc.io/static/io.rsocket/rsocket-core/1.1.1/io/rsocket/RSocket.html\" rel=\"nofollow noreferrer\">RSocket</a>.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650190159,"post_id":71900953,"comment_id":127054303,"body_markdown":"Try to set a debug point after `String b = ...` and take a look at the bytes of both `String`s. Maybe there is some sneaky character in the `String a`.","body":"Try to set a debug point after <code>String b = ...</code> and take a look at the bytes of both <code>String</code>s. Maybe there is some sneaky character in the <code>String a</code>."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1650190161,"post_id":71900953,"comment_id":127054304,"body_markdown":"[Can&#39;t reproduce the described behaviour](https://ideone.com/m2rHvD). Either `checkStatus();`does not return &quot;Yes&quot;, or the code you posted is not the actual code you&#39;re running.","body":"<a href=\"https://ideone.com/m2rHvD\" rel=\"nofollow noreferrer\">Can&#39;t reproduce the described behaviour</a>. Either <code>checkStatus();</code>does not return &quot;Yes&quot;, or the code you posted is not the actual code you&#39;re running."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650190110,"creation_date":1650190110,"answer_id":71900988,"question_id":71900953,"body_markdown":"Most likely those strings aren&#39;t actually equal. They contain a character that you can&#39;t see.\r\n\r\nIt&#39;s that or you aren&#39;t running the code you pasted, so it&#39;s a problem in your build setup.\r\n\r\nFor example, the string contains a byte order mark.\r\n\r\nThe way to figure this out is to go through each string and print char-by-char. Replace your &#39;shoot!&#39; line with:\r\n\r\n```\r\nSystem.out.print(&quot;Not equal!\\nA: &quot;);\r\nprintPerChar(a);\r\nSystem.out.println(&quot;B: &quot;);\r\nprintPerChar(b);\r\n\r\n....\r\n\r\nvoid printPerChar(String in) {\r\n  System.out.print(in.length());\r\n  System.out.print(&quot;: &quot;);\r\n  for (char c : in.toCharArray()) {\r\n    System.out.print(c + &quot; (&quot; + ((int) c) + &quot;) &quot;);\r\n  }\r\n  System.out.println();\r\n}\r\n```\r\n\r\nAnd you&#39;ll see e.g. byte order marks, extra spaces, zero-length spaces, unicode characters that look exactly like &#39;Y&#39;, &#39;e&#39;, or &#39;s&#39;, etcetera.\r\n","title":"Comparing values from database java","body":"<p>Most likely those strings aren't actually equal. They contain a character that you can't see.</p>\n<p>It's that or you aren't running the code you pasted, so it's a problem in your build setup.</p>\n<p>For example, the string contains a byte order mark.</p>\n<p>The way to figure this out is to go through each string and print char-by-char. Replace your 'shoot!' line with:</p>\n<pre><code>System.out.print(&quot;Not equal!\\nA: &quot;);\nprintPerChar(a);\nSystem.out.println(&quot;B: &quot;);\nprintPerChar(b);\n\n....\n\nvoid printPerChar(String in) {\n  System.out.print(in.length());\n  System.out.print(&quot;: &quot;);\n  for (char c : in.toCharArray()) {\n    System.out.print(c + &quot; (&quot; + ((int) c) + &quot;) &quot;);\n  }\n  System.out.println();\n}\n</code></pre>\n<p>And you'll see e.g. byte order marks, extra spaces, zero-length spaces, unicode characters that look exactly like 'Y', 'e', or 's', etcetera.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650239861,"creation_date":1650239128,"answer_id":71906304,"question_id":71900953,"body_markdown":"# Code points\r\n\r\nThe [Answer by rzwitserloot][1] is very good. I would suggest using code point integers rather than `char`. The `char` type is legacy, and problematic.\r\n\r\n```java\r\nString input = &quot;Dog &#160;Cat&quot; ;\r\nint[] codePoints = input.codePoints().toArray() ;\r\nfor( int codePoint : codePoints )\r\n{\r\n\tSystem.out.println( &quot;Code point &quot; + codePoint + &quot; is: &quot; + Character.getName( codePoint ) ) ;\r\n}\r\n```\r\n\r\nSee this [code run live at IdeOne.com][2]. Notice the two different kinds of space characters in the middle.\r\n\r\n```none\r\nCode point 68 is: LATIN CAPITAL LETTER D\r\nCode point 111 is: LATIN SMALL LETTER O\r\nCode point 103 is: LATIN SMALL LETTER G\r\nCode point 32 is: SPACE\r\nCode point 160 is: NO-BREAK SPACE\r\nCode point 67 is: LATIN CAPITAL LETTER C\r\nCode point 97 is: LATIN SMALL LETTER A\r\nCode point 116 is: LATIN SMALL LETTER T\r\n```\r\n\r\nYou can [compare two `int` arrays][3] of code points. \r\n\r\n```java\r\nSystem.out.println(\r\n\tArrays.equals(\r\n\t\t&quot;Dog &#160;Cat&quot;.codePoints().toArray() ,  // 2nd space-character is NO-BREAK SPACE.\r\n\t\t&quot;Dog  Cat&quot;.codePoints().toArray()    // 2nd space-character is SPACE. \r\n\t)\r\n);\r\n```\r\n\r\n&gt;false \r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71900988/642706\r\n  [2]: https://ideone.com/4KxQny\r\n  [3]: https://stackoverflow.com/q/14897366/642706","title":"Comparing values from database java","body":"<h1>Code points</h1>\n<p>The <a href=\"https://stackoverflow.com/a/71900988/642706\">Answer by rzwitserloot</a> is very good. I would suggest using code point integers rather than <code>char</code>. The <code>char</code> type is legacy, and problematic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Dog  Cat&quot; ;\nint[] codePoints = input.codePoints().toArray() ;\nfor( int codePoint : codePoints )\n{\n    System.out.println( &quot;Code point &quot; + codePoint + &quot; is: &quot; + Character.getName( codePoint ) ) ;\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/4KxQny\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>. Notice the two different kinds of space characters in the middle.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Code point 68 is: LATIN CAPITAL LETTER D\nCode point 111 is: LATIN SMALL LETTER O\nCode point 103 is: LATIN SMALL LETTER G\nCode point 32 is: SPACE\nCode point 160 is: NO-BREAK SPACE\nCode point 67 is: LATIN CAPITAL LETTER C\nCode point 97 is: LATIN SMALL LETTER A\nCode point 116 is: LATIN SMALL LETTER T\n</code></pre>\n<p>You can <a href=\"https://stackoverflow.com/q/14897366/642706\">compare two <code>int</code> arrays</a> of code points.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\n    Arrays.equals(\n        &quot;Dog  Cat&quot;.codePoints().toArray() ,  // 2nd space-character is NO-BREAK SPACE.\n        &quot;Dog  Cat&quot;.codePoints().toArray()    // 2nd space-character is SPACE. \n    )\n);\n</code></pre>\n<blockquote>\n<p>false</p>\n</blockquote>\n"}],"owner":{"account_id":10416490,"reputation":47,"user_id":7680410,"accept_rate":36,"display_name":"shubham kumbhar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71900988,"answer_count":2,"score":0,"last_activity_date":1650239861,"creation_date":1650189858,"question_id":71900953,"body_markdown":"I&#39;m working on Library management project in which there is one column &quot;available&quot;. I&#39;m fetching value from it. if a value is &quot;Yes&quot; then only a new book will be issued. here is the code that I have tried.\r\n\r\n           try {\r\n            \r\n            String a = checkStatus();\r\n            String b = &quot;Yes&quot;;\r\n            System.out.println(&quot;a: &quot;+a);\r\n            System.out.println(&quot;b: &quot;+b);\r\n            if(a.equalsIgnoreCase(b))\r\n            {\r\n                System.out.println(&quot;working in if&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;shoot! Fallout :(&quot;);\r\n            }\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(IssueBook.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\nOutput: \r\n\r\na: Yes\r\n \r\nb: Yes\r\n\r\nshoot! Fallout :(\r\n\r\nit should have return true instead of false. Where I&#39;m making mistake?\r\nThanks!","title":"Comparing values from database java","body":"<p>I'm working on Library management project in which there is one column &quot;available&quot;. I'm fetching value from it. if a value is &quot;Yes&quot; then only a new book will be issued. here is the code that I have tried.</p>\n<pre><code>       try {\n        \n        String a = checkStatus();\n        String b = &quot;Yes&quot;;\n        System.out.println(&quot;a: &quot;+a);\n        System.out.println(&quot;b: &quot;+b);\n        if(a.equalsIgnoreCase(b))\n        {\n            System.out.println(&quot;working in if&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;shoot! Fallout :(&quot;);\n        }\n    } catch (SQLException ex) {\n        Logger.getLogger(IssueBook.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n<p>Output:</p>\n<p>a: Yes</p>\n<p>b: Yes</p>\n<p>shoot! Fallout :(</p>\n<p>it should have return true instead of false. Where I'm making mistake?\nThanks!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649906649,"post_id":71866085,"comment_id":126995328,"body_markdown":"If you are calling `Class.forName` in your code, remove that.  It is unnecessary ... and it breaks if you are using Connector/J version 8.  The class FQN has changed.","body":"If you are calling <code>Class.forName</code> in your code, remove that.  It is unnecessary ... and it breaks if you are using Connector/J version 8.  The class FQN has changed."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649906869,"post_id":71866085,"comment_id":126995356,"body_markdown":"If your teacher told you to use `Class.forName` ... they are about 10 years out of date.  It stopped being necessary in Java 6 / JDBC 4.0.","body":"If your teacher told you to use <code>Class.forName</code> ... they are about 10 years out of date.  It stopped being necessary in Java 6 / JDBC 4.0."},{"owner":{"account_id":17860638,"reputation":9,"user_id":12974235,"display_name":"DashWin"},"score":0,"creation_date":1649908259,"post_id":71866085,"comment_id":126995554,"body_markdown":"Wow must be using an old text book then haha","body":"Wow must be using an old text book then haha"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649909754,"post_id":71866085,"comment_id":126995768,"body_markdown":"Actually ... according to the source code, using the old &quot;com.mysql.jdbc.Driver&quot; class name should still work in Connector/J version 8.  There is a backwards compatibility hack.  But the preferred driver class is now &quot;com.mysql.cj.jdbc.Driver&quot;.  And the preferred method is to use `DriverManager` rather than `Class.forName`; see https://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html.  My guess is that your real problem was simply that your runtime classpath was incorrect.","body":"Actually ... according to the source code, using the old &quot;com.mysql.jdbc.Driver&quot; class name should still work in Connector/J version 8.  There is a backwards compatibility hack.  But the preferred driver class is now &quot;com.mysql.cj.jdbc.Driver&quot;.  And the preferred method is to use <code>DriverManager</code> rather than <code>Class.forName</code>; see <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/connecting.html</a>.  My guess is that your real problem was simply that your runtime classpath was incorrect."},{"owner":{"account_id":12185191,"reputation":6465,"user_id":8895292,"display_name":"SOS"},"score":0,"creation_date":1649910742,"post_id":71866085,"comment_id":126995914,"body_markdown":"You might have installed the jar somewhere, but it sounds like that location isn&#39;t somewhere VSCode checks for jars. Perhaps this would help? https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-howto-add-jar-to-classpath","body":"You might have installed the jar somewhere, but it sounds like that location isn&#39;t somewhere VSCode checks for jars. Perhaps this would help? <a href=\"https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-howto-add-jar-to-classpath\" title=\"visual studio code java extension howto add jar to classpath\">stackoverflow.com/questions/50232557/&hellip;</a>"},{"owner":{"account_id":17860638,"reputation":9,"user_id":12974235,"display_name":"DashWin"},"score":0,"creation_date":1650239495,"post_id":71866085,"comment_id":127063624,"body_markdown":"I just didn&#39;t understand classpaths, thank you for your comments though, see my new answer.","body":"I just didn&#39;t understand classpaths, thank you for your comments though, see my new answer."}],"answers":[{"tags":[],"owner":{"account_id":17860638,"reputation":9,"user_id":12974235,"display_name":"DashWin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650239858,"creation_date":1649908310,"answer_id":71866317,"question_id":71866085,"body_markdown":"**BAD ANSWER - Old**\r\n&gt;! I figured it out.\r\n&gt;! &lt;br&gt;\r\n&gt;! I opened the jar file in 7zip, dragged out the com folder and put it in my lab folder.\r\n&gt;! &lt;br&gt;\r\n&gt;!Works!!\r\n\r\n**GOOD ANSWER - VSCode - New**\r\n\r\n&gt; 1. Download Java Extension for VSCode.\r\n&gt; 2. Go to Command Pallet (&lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt;.) and write Create Java\r\n&gt; Project.\r\n&gt; 3. Click on Build Tools\r\n&gt; 4. Name it whatever your project&#39;s name is.\r\n&gt; 5. Drag/Drop your Java files into the folder &quot;src&quot; in the project&#39;s folder.\r\n&gt; 6. Look at the bottom left of your screen where it says Java Projects and expand it.\r\n&gt; 7. Hover on the right side of Referenced Libraries and click the &lt;kbd&gt;+&lt;/kbd&gt; button.\r\n&gt; 8. In the popped up **Open** window find where you have Connector/J and select the .jar file (in this case, mysql-connector-java-8.0.28.jar) and click Select Jar\r\n&gt; Libraries\r\n&gt; 9. Click the Refresh button on your Java Project and click Build Workspace and pick Full\r\n&gt; 10. Restart VSCode\r\n&gt; 11. Click the &lt;kbd&gt;Run and Debug&lt;/kbd&gt; button / Press &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;D&lt;/kbd&gt;\r\n&gt; 12. Works!\r\n\r\n**GOOD ANSWER - Command Line - New**\r\n```Powershell\r\njavac -classpath &quot;[Project folder or just a &quot;.&quot; if your console is in it];[folder with jarfile]\\\\[jarfile].jar&quot; Program.java\r\njava -classpath &quot;[Project folder or just a &quot;.&quot; if your console is in it] ; [folder with jarfile]\\\\[jarfile].jar&quot; Program\r\n```\r\nIn this specific case\r\n```Powershell\r\njavac -classpath &quot;.;C:\\\\Program Files\\\\MySQL\\\\Connector J 8.0\\\\mysql-connector-java-8.0.28.jar&quot; Program.java\r\njava -classpath &quot;.;C:\\\\Program Files\\\\MySQL\\\\Connector J 8.0\\\\mysql-connector-java-8.0.28.jar&quot; Program\r\n```\r\n\r\nSo in the background the **VSCode Answer** does what the **Command Line Answer** does.\r\n\r\nBasically every time you run java or javac, java adds a thing implicitly pointing/referencing where your classes (compiled .java programs) are (in a folder, or a zipped folder called a .jar), to your java/javac commands called a classpath in between the java/javac and your .java file.\r\n\r\nWith the implicit\r\n```Powershell\r\njavac Program.java\r\njava Program\r\n```\r\nBeing equivalent to \r\n```Powershell\r\njavac -classpath &quot;.&quot; Program.java\r\njava -classpath &quot;.&quot; Program\r\n```\r\nThe implicity makes sense as you would be using the classes from the folder that the program is in. (Note: The &quot;.&quot; means the folder the Commandline is in, navigated by cd/ChangeDirectory in Bash/PowerShell, see [Linux/Mac/Unix Path Formats](https://www.gnu.org/software/bash/manual/html_node/Filename-Expansion.html) and/or [Windows Path Formats](https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats)  ). \r\n\r\nNow you might be wondering why there&#39;s a &quot;;&quot;, this is to denote multiple classpaths, as you want to look into your projects, &quot;.&quot;, and the library JDBC, if you wanted to add more classpaths add another &quot;;&quot;, however on Linux/Mac/Unix you would add &quot;:&quot; instead of &quot;;&quot;.\r\n\r\nThe reason the old Bad Answer worked was because the dragged folder was included in the implicit classpath.\r\n\r\nThe reason the old Bad Answer is a bad answer is because its reflective of poor practices and lack of understanding. Its poor practice for few reasons: the zipped files take up less space thus unzipping needlessly eats space, these files aren&#39;t yours so mixing them with yours could violate the terms of use of the author, and its a lot of work unzipping that you&#39;re doing for no reason. ","title":"Testing the waters with mysql but I&#39;m stuck on &quot;JDBC Driver not found&quot;","body":"<p><strong>BAD ANSWER - Old</strong></p>\n<blockquote class=\"spoiler\">\n<p> I figured it out.\n <br>\n I opened the jar file in 7zip, dragged out the com folder and put it in my lab folder.\n <br>\nWorks!!</p>\n</blockquote>\n<p><strong>GOOD ANSWER - VSCode - New</strong></p>\n<blockquote>\n<ol>\n<li>Download Java Extension for VSCode.</li>\n<li>Go to Command Pallet (<kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>P</kbd>.) and write Create Java\nProject.</li>\n<li>Click on Build Tools</li>\n<li>Name it whatever your project's name is.</li>\n<li>Drag/Drop your Java files into the folder &quot;src&quot; in the project's folder.</li>\n<li>Look at the bottom left of your screen where it says Java Projects and expand it.</li>\n<li>Hover on the right side of Referenced Libraries and click the <kbd>+</kbd> button.</li>\n<li>In the popped up <strong>Open</strong> window find where you have Connector/J and select the .jar file (in this case, mysql-connector-java-8.0.28.jar) and click Select Jar\nLibraries</li>\n<li>Click the Refresh button on your Java Project and click Build Workspace and pick Full</li>\n<li>Restart VSCode</li>\n<li>Click the <kbd>Run and Debug</kbd> button / Press <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>D</kbd></li>\n<li>Works!</li>\n</ol>\n</blockquote>\n<p><strong>GOOD ANSWER - Command Line - New</strong></p>\n<pre><code>javac -classpath &quot;[Project folder or just a &quot;.&quot; if your console is in it];[folder with jarfile]\\\\[jarfile].jar&quot; Program.java\njava -classpath &quot;[Project folder or just a &quot;.&quot; if your console is in it] ; [folder with jarfile]\\\\[jarfile].jar&quot; Program\n</code></pre>\n<p>In this specific case</p>\n<pre><code>javac -classpath &quot;.;C:\\\\Program Files\\\\MySQL\\\\Connector J 8.0\\\\mysql-connector-java-8.0.28.jar&quot; Program.java\njava -classpath &quot;.;C:\\\\Program Files\\\\MySQL\\\\Connector J 8.0\\\\mysql-connector-java-8.0.28.jar&quot; Program\n</code></pre>\n<p>So in the background the <strong>VSCode Answer</strong> does what the <strong>Command Line Answer</strong> does.</p>\n<p>Basically every time you run java or javac, java adds a thing implicitly pointing/referencing where your classes (compiled .java programs) are (in a folder, or a zipped folder called a .jar), to your java/javac commands called a classpath in between the java/javac and your .java file.</p>\n<p>With the implicit</p>\n<pre><code>javac Program.java\njava Program\n</code></pre>\n<p>Being equivalent to</p>\n<pre><code>javac -classpath &quot;.&quot; Program.java\njava -classpath &quot;.&quot; Program\n</code></pre>\n<p>The implicity makes sense as you would be using the classes from the folder that the program is in. (Note: The &quot;.&quot; means the folder the Commandline is in, navigated by cd/ChangeDirectory in Bash/PowerShell, see <a href=\"https://www.gnu.org/software/bash/manual/html_node/Filename-Expansion.html\" rel=\"nofollow noreferrer\">Linux/Mac/Unix Path Formats</a> and/or <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats\" rel=\"nofollow noreferrer\">Windows Path Formats</a>  ).</p>\n<p>Now you might be wondering why there's a &quot;;&quot;, this is to denote multiple classpaths, as you want to look into your projects, &quot;.&quot;, and the library JDBC, if you wanted to add more classpaths add another &quot;;&quot;, however on Linux/Mac/Unix you would add &quot;:&quot; instead of &quot;;&quot;.</p>\n<p>The reason the old Bad Answer worked was because the dragged folder was included in the implicit classpath.</p>\n<p>The reason the old Bad Answer is a bad answer is because its reflective of poor practices and lack of understanding. Its poor practice for few reasons: the zipped files take up less space thus unzipping needlessly eats space, these files aren't yours so mixing them with yours could violate the terms of use of the author, and its a lot of work unzipping that you're doing for no reason.</p>\n"}],"owner":{"account_id":17860638,"reputation":9,"user_id":12974235,"display_name":"DashWin"},"comment_count":6,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1649926739,"answer_count":1,"score":-2,"last_activity_date":1650239858,"creation_date":1649906032,"question_id":71866085,"body_markdown":"I&#39;m working on a lab for a class where the teacher just said \r\n\r\nGo here, install this, do the lab. &quot;https://dev.mysql.com/downloads/connector/j/&quot;\r\n\r\nNow I followed that, installed mysql, ran a server, tested it with workbench, and a few queries. Works.\r\n\r\nHowever the rest of the lab was in java, so I built a folder in VSCode, lab x, ran javac *.java, java Program\r\n\r\nThe error I got was &quot;Client exception: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver&quot;\r\n\r\nNow this makes no sense since I installed mysql with the JConnector, and added it to my computer&#39;s environmental variables, I looked online and all I&#39;m finding is stuff about Maven and Netbeans, I&#39;m not familiar with either. I just want to complete this lab.\r\n\r\nI tried adding it to the folder, then saying &quot;javac -cp mysql-connector-java-8.0.28.jar Program.java&quot; but then any java file referenced within the same folder was a symbol it couldn&#39;t find.","title":"Testing the waters with mysql but I&#39;m stuck on &quot;JDBC Driver not found&quot;","body":"<p>I'm working on a lab for a class where the teacher just said</p>\n<p>Go here, install this, do the lab. &quot;https://dev.mysql.com/downloads/connector/j/&quot;</p>\n<p>Now I followed that, installed mysql, ran a server, tested it with workbench, and a few queries. Works.</p>\n<p>However the rest of the lab was in java, so I built a folder in VSCode, lab x, ran javac *.java, java Program</p>\n<p>The error I got was &quot;Client exception: java.lang.ClassNotFoundException: com.mysql.jdbc.Driver&quot;</p>\n<p>Now this makes no sense since I installed mysql with the JConnector, and added it to my computer's environmental variables, I looked online and all I'm finding is stuff about Maven and Netbeans, I'm not familiar with either. I just want to complete this lab.</p>\n<p>I tried adding it to the folder, then saying &quot;javac -cp mysql-connector-java-8.0.28.jar Program.java&quot; but then any java file referenced within the same folder was a symbol it couldn't find.</p>\n"},{"tags":["java","json","spring","spring-boot","gson"],"comments":[{"owner":{"account_id":13402055,"reputation":2947,"user_id":9671280,"display_name":"Traycho Ivanov"},"score":0,"creation_date":1597325698,"post_id":63395650,"comment_id":112100797,"body_markdown":"Could you please explain how you plan to change the value ? \nDescribing what is the  the input and expected output will help providing you a better solution.","body":"Could you please explain how you plan to change the value ?  Describing what is the  the input and expected output will help providing you a better solution."}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1597331954,"creation_date":1597331954,"answer_id":63398203,"question_id":63395650,"body_markdown":"You can read whole `JSON` payload as `JsonObject` and overwrite existing property. After that, you can serialise it back to `JSON`.\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonObject;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    \r\n    public class GsonApp {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    \t\tJsonObject root = gson.fromJson(Files.newBufferedReader(jsonFile.toPath()), JsonObject.class);\r\n    \t\tJsonObject information = root.getAsJsonObject(&quot;onboardingInformation&quot;);\r\n    \t\tinformation.addProperty(&quot;apiInvokerPublicKey&quot;, &quot;NEW VALUE&quot;);\r\n    \r\n    \t\tString json = gson.toJson(root);\r\n    \r\n    \t\tSystem.out.println(json);\r\n    \t}\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    {\r\n      &quot;onboardingInformation&quot;: {\r\n        &quot;apiInvokerPublicKey&quot;: &quot;NEW VALUE&quot;,\r\n        &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\r\n        &quot;onboardingSecret&quot;: &quot;string&quot;\r\n      },\r\n      &quot;notificationDestination&quot;: &quot;string&quot;,\r\n      &quot;requestTestNotification&quot;: true\r\n    }","title":"change the json object value","body":"<p>You can read whole <code>JSON</code> payload as <code>JsonObject</code> and overwrite existing property. After that, you can serialise it back to <code>JSON</code>.</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonObject;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class GsonApp {\n\n    public static void main(String[] args) throws IOException {\n        File jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        JsonObject root = gson.fromJson(Files.newBufferedReader(jsonFile.toPath()), JsonObject.class);\n        JsonObject information = root.getAsJsonObject(&quot;onboardingInformation&quot;);\n        information.addProperty(&quot;apiInvokerPublicKey&quot;, &quot;NEW VALUE&quot;);\n\n        String json = gson.toJson(root);\n\n        System.out.println(json);\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>{\n  &quot;onboardingInformation&quot;: {\n    &quot;apiInvokerPublicKey&quot;: &quot;NEW VALUE&quot;,\n    &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\n    &quot;onboardingSecret&quot;: &quot;string&quot;\n  },\n  &quot;notificationDestination&quot;: &quot;string&quot;,\n  &quot;requestTestNotification&quot;: true\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user14040193"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597387426,"creation_date":1597387426,"answer_id":63407808,"question_id":63395650,"body_markdown":"I am providing code snippet using  **Jackson api** approach \r\n\r\n    //Read JSON and populate java objects\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Test test = mapper.readValue(ResourceUtils.getFile(&quot;classpath:test.json&quot;) , &quot;Test.class&quot;);\r\n    \r\n    //do the required change\r\n    test.setApiInvokerPublicKey(&quot;updated value&quot;);\r\n    //Write JSON from java objects\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Object value = mapper.writeValue(new File(&quot;result.json&quot;), person);\r\n\r\n","title":"change the json object value","body":"<p>I am providing code snippet using  <strong>Jackson api</strong> approach</p>\n<pre><code>//Read JSON and populate java objects\nObjectMapper mapper = new ObjectMapper();\nTest test = mapper.readValue(ResourceUtils.getFile(&quot;classpath:test.json&quot;) , &quot;Test.class&quot;);\n\n//do the required change\ntest.setApiInvokerPublicKey(&quot;updated value&quot;);\n//Write JSON from java objects\nObjectMapper mapper = new ObjectMapper();\nObject value = mapper.writeValue(new File(&quot;result.json&quot;), person);\n</code></pre>\n"}],"owner":{"account_id":17138709,"reputation":339,"user_id":12403204,"display_name":"Leo S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2531,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63398203,"answer_count":2,"score":2,"last_activity_date":1650239244,"creation_date":1597323272,"question_id":63395650,"body_markdown":"    {\r\n      &quot;onboardingInformation&quot;: {\r\n        &quot;apiInvokerPublicKey&quot;: &quot;string&quot;,\r\n        &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\r\n        &quot;onboardingSecret&quot;: &quot;string&quot;\r\n      },\r\n      &quot;notificationDestination&quot;: &quot;string&quot;,\r\n      &quot;requestTestNotification&quot;: true\r\n    }\r\n\r\nI have a json object like above and i want to change apiInvokerPublicKey&#39;s value i did not find a method in gson so how can i change it? \r\n\r\n\r\n    {\r\n      &quot;onboardingInformation&quot;: {\r\n        &quot;apiInvokerPublicKey&quot;: &quot;abcacabcascvhasj&quot;,// i want to change just this part\r\n        &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\r\n        &quot;onboardingSecret&quot;: &quot;string&quot;\r\n      },\r\n      &quot;notificationDestination&quot;: &quot;string&quot;,\r\n      &quot;requestTestNotification&quot;: true\r\n    }\r\n\r\nEDIT: I used addProperty method from gson but it changes whole &quot;onboardingInformation&quot; i just want to change &quot;apiInvokerPublicKey&quot;","title":"change the json object value","body":"<pre><code>{\n  &quot;onboardingInformation&quot;: {\n    &quot;apiInvokerPublicKey&quot;: &quot;string&quot;,\n    &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\n    &quot;onboardingSecret&quot;: &quot;string&quot;\n  },\n  &quot;notificationDestination&quot;: &quot;string&quot;,\n  &quot;requestTestNotification&quot;: true\n}\n</code></pre>\n<p>I have a json object like above and i want to change apiInvokerPublicKey's value i did not find a method in gson so how can i change it?</p>\n<pre><code>{\n  &quot;onboardingInformation&quot;: {\n    &quot;apiInvokerPublicKey&quot;: &quot;abcacabcascvhasj&quot;,// i want to change just this part\n    &quot;apiInvokerCertificate&quot;: &quot;string&quot;,\n    &quot;onboardingSecret&quot;: &quot;string&quot;\n  },\n  &quot;notificationDestination&quot;: &quot;string&quot;,\n  &quot;requestTestNotification&quot;: true\n}\n</code></pre>\n<p>EDIT: I used addProperty method from gson but it changes whole &quot;onboardingInformation&quot; i just want to change &quot;apiInvokerPublicKey&quot;</p>\n"},{"tags":["java","aes","rsa"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":2,"creation_date":1650221479,"post_id":71904459,"comment_id":127060633,"body_markdown":"Please do not begin variable names with an upper case letter! It confuses the reader as it is not immediately clear whether you referenced a class or a variable in your statements.","body":"Please do not begin variable names with an upper case letter! It confuses the reader as it is not immediately clear whether you referenced a class or a variable in your statements."},{"owner":{"account_id":24976306,"reputation":1,"user_id":18838903,"display_name":"kandy"},"score":0,"creation_date":1650223204,"post_id":71904459,"comment_id":127060988,"body_markdown":"sorry for confusing you, I have edited it.","body":"sorry for confusing you, I have edited it."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650238352,"creation_date":1650237113,"answer_id":71906141,"question_id":71904459,"body_markdown":"You are not understanding what you need to do. First you generate a random AES key that is used solely for the data encryption. Then you encrypt that key with RSA using the trusted RSA public key which is part of the key pair of the receiver. So you never have to convert either the public key or the RSA ciphertext to a symmetric key.\r\n\r\nAs an aside, instead of using `Cipher#doFinal()` you should use `Cipher#wrap() `, which takes a symmetric key. That way you don&#39;t have to encode them to a byte array. It may also be more secure if a hardware module is used, for instance, depending on the `Cipher` implementation.\r\n\r\nI&#39;d strongly suggest you generate separate methods for these separate steps as well as for the file handling.\r\n\r\nIn the end, you&#39;ll need something more akin to this:\r\n\r\n    public static void hybridEncrypt(RSAPublicKey publicKey, File in, File out) throws IOException, InvalidKeyException {\r\n        int key_size=128;\r\n        \r\n        try {\r\n            KeyGenerator g = KeyGenerator.getInstance(&quot;AES&quot;);\r\n            g.init(key_size);\r\n            SecretKey dataKey = g.generateKey();\r\n    \r\n            // encrypt the random data key with the RSA public key\r\n            Cipher cipher_Key = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n            cipher_Key.init(Cipher.WRAP_MODE, publicKey);\r\n            byte[] encryptedKey = cipher_Key.wrap(dataKey);\r\n    \r\n            Cipher cipherTxt = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            cipherTxt.init(Cipher.ENCRYPT_MODE, dataKey);\r\n    \r\n            byte[] message = Files.readAllBytes(in.toPath());\r\n            byte[] encryptedMessage = cipherTxt.doFinal(message);\r\n            out.createNewFile();\r\n            Files.write(out.toPath(), encryptedKey);\r\n            Files.write(out.toPath(), encryptedMessage, StandardOpenOption.APPEND);\r\n        } catch(NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException e) {\r\n            throw new RuntimeException(&quot;RSA or AES/GCM not available&quot;, e);\r\n        } catch (BadPaddingException e) {\r\n            throw new RuntimeException(&quot;Padding failed for NoPadding&quot;, e);\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        KeyPairGenerator kpGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        kpGen.initialize(3072);\r\n        KeyPair keyPairReceiver = kpGen.generateKeyPair();\r\n        RSAPublicKey publicKeyReceiver = (RSAPublicKey) keyPairReceiver.getPublic();\r\n        hybridEncrypt(publicKeyReceiver, new File(&quot;plain.txt&quot;), new File(&quot;bla.bin&quot;));\r\n    }\r\n\r\nBeware that this is still not best practice code, for instance it uses the old PKCS#1 encryption instead of OAEP. Don&#39;t copy paste this guys - with encryption you need to understand what you are doing, and preferably use a well vetted high level library.","title":"how to convert array byte[] to key?","body":"<p>You are not understanding what you need to do. First you generate a random AES key that is used solely for the data encryption. Then you encrypt that key with RSA using the trusted RSA public key which is part of the key pair of the receiver. So you never have to convert either the public key or the RSA ciphertext to a symmetric key.</p>\n<p>As an aside, instead of using <code>Cipher#doFinal()</code> you should use <code>Cipher#wrap() </code>, which takes a symmetric key. That way you don't have to encode them to a byte array. It may also be more secure if a hardware module is used, for instance, depending on the <code>Cipher</code> implementation.</p>\n<p>I'd strongly suggest you generate separate methods for these separate steps as well as for the file handling.</p>\n<p>In the end, you'll need something more akin to this:</p>\n<pre><code>public static void hybridEncrypt(RSAPublicKey publicKey, File in, File out) throws IOException, InvalidKeyException {\n    int key_size=128;\n    \n    try {\n        KeyGenerator g = KeyGenerator.getInstance(&quot;AES&quot;);\n        g.init(key_size);\n        SecretKey dataKey = g.generateKey();\n\n        // encrypt the random data key with the RSA public key\n        Cipher cipher_Key = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        cipher_Key.init(Cipher.WRAP_MODE, publicKey);\n        byte[] encryptedKey = cipher_Key.wrap(dataKey);\n\n        Cipher cipherTxt = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        cipherTxt.init(Cipher.ENCRYPT_MODE, dataKey);\n\n        byte[] message = Files.readAllBytes(in.toPath());\n        byte[] encryptedMessage = cipherTxt.doFinal(message);\n        out.createNewFile();\n        Files.write(out.toPath(), encryptedKey);\n        Files.write(out.toPath(), encryptedMessage, StandardOpenOption.APPEND);\n    } catch(NoSuchAlgorithmException | NoSuchPaddingException | IllegalBlockSizeException e) {\n        throw new RuntimeException(&quot;RSA or AES/GCM not available&quot;, e);\n    } catch (BadPaddingException e) {\n        throw new RuntimeException(&quot;Padding failed for NoPadding&quot;, e);\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    KeyPairGenerator kpGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n    kpGen.initialize(3072);\n    KeyPair keyPairReceiver = kpGen.generateKeyPair();\n    RSAPublicKey publicKeyReceiver = (RSAPublicKey) keyPairReceiver.getPublic();\n    hybridEncrypt(publicKeyReceiver, new File(&quot;plain.txt&quot;), new File(&quot;bla.bin&quot;));\n}\n</code></pre>\n<p>Beware that this is still not best practice code, for instance it uses the old PKCS#1 encryption instead of OAEP. Don't copy paste this guys - with encryption you need to understand what you are doing, and preferably use a well vetted high level library.</p>\n"}],"owner":{"account_id":24976306,"reputation":1,"user_id":18838903,"display_name":"kandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":380,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650238910,"creation_date":1650220134,"question_id":71904459,"body_markdown":"I have information security project about encrypting file using AES. and the using key in this algorithm is also encrypted using RSA algorithm and public key,\r\nthe problem is: after encrypting the random key it returns array byte[], how this array byte converted into key so I can encrypt the file? \r\n*NOTE* [public_Key is generated from user using JPasswordField \r\nand this is the challenge I faced from my course project]\r\n\r\n    public void AESEncryption(File file) throws FileNotFoundException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        String data;\r\n        SecretKey random_key;\r\n        int key_size=128;\r\n    \r\n        Scanner myReader = new Scanner(file);\r\n        while (myReader.hasNextLine()) {\r\n            data = myReader.nextLine();\r\n        }\r\n    \r\n        // create GenerateKey object to access public key\r\n        // GenerateKey is my personal class and contain public key\r\n        GenerateKey key = new GenerateKey();\r\n    \r\n        // convert public key to string\r\n        String public_Key = key.PublicKey.getText();\r\n    \r\n        // convert string public key to secret key\r\n        byte[] decodedKey = Base64.getDecoder().decode(public_Key);\r\n        SecretKey originalKey = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;AES&quot;);\r\n    \r\n        // generate random key\r\n        KeyGenerator g = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        // give it size\r\n        g.init(key_size);\r\n        random_key = g.generateKey();\r\n    \r\n        // encrypt the random key with RSA and public key\r\n        byte[] random_byteKey = random_key.getEncoded();\r\n        Cipher cipher_Key = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        cipher_Key.init(Cipher.ENCRYPT_MODE, originalKey);\r\n        byte[] encrypted_key = cipher_Key.doFinal(random_byteKey); //RSA key\r\n    \r\n        // after generating RSA key we will Encrypt file using RSA key\r\n        byte[] byte_message = data.getBytes();\r\n        Cipher cipherTxt = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n        // the problem in here \r\n        cipherTxt.init(Cipher.ENCRYPT_MODE, encrypted_key);\r\n    \r\n        byte[] encByte = cipherTxt.doFinal(byte_message);\r\n    }","title":"how to convert array byte[] to key?","body":"<p>I have information security project about encrypting file using AES. and the using key in this algorithm is also encrypted using RSA algorithm and public key,\nthe problem is: after encrypting the random key it returns array byte[], how this array byte converted into key so I can encrypt the file?\n<em>NOTE</em> [public_Key is generated from user using JPasswordField\nand this is the challenge I faced from my course project]</p>\n<pre><code>public void AESEncryption(File file) throws FileNotFoundException, NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n    String data;\n    SecretKey random_key;\n    int key_size=128;\n\n    Scanner myReader = new Scanner(file);\n    while (myReader.hasNextLine()) {\n        data = myReader.nextLine();\n    }\n\n    // create GenerateKey object to access public key\n    // GenerateKey is my personal class and contain public key\n    GenerateKey key = new GenerateKey();\n\n    // convert public key to string\n    String public_Key = key.PublicKey.getText();\n\n    // convert string public key to secret key\n    byte[] decodedKey = Base64.getDecoder().decode(public_Key);\n    SecretKey originalKey = new SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;AES&quot;);\n\n    // generate random key\n    KeyGenerator g = KeyGenerator.getInstance(&quot;AES&quot;);\n    // give it size\n    g.init(key_size);\n    random_key = g.generateKey();\n\n    // encrypt the random key with RSA and public key\n    byte[] random_byteKey = random_key.getEncoded();\n    Cipher cipher_Key = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n    cipher_Key.init(Cipher.ENCRYPT_MODE, originalKey);\n    byte[] encrypted_key = cipher_Key.doFinal(random_byteKey); //RSA key\n\n    // after generating RSA key we will Encrypt file using RSA key\n    byte[] byte_message = data.getBytes();\n    Cipher cipherTxt = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    // the problem in here \n    cipherTxt.init(Cipher.ENCRYPT_MODE, encrypted_key);\n\n    byte[] encByte = cipherTxt.doFinal(byte_message);\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650238548,"creation_date":1650238548,"answer_id":71906247,"question_id":71905951,"body_markdown":"The problem was solved after I removed from the file `application.yml`:\r\n```\r\nspring:\r\n    main:\r\n        lazy-initialization: false\r\n\r\n```","title":"&#39;Error parsing HTTP request header&#39; for rest request","body":"<p>The problem was solved after I removed from the file <code>application.yml</code>:</p>\n<pre><code>spring:\n    main:\n        lazy-initialization: false\n\n</code></pre>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650238548,"creation_date":1650234680,"question_id":71905951,"body_markdown":"I java Spring Boot Application with MongoDb and I want to add the ability to work with it through REST\r\n\r\nWhen I try to make a rest request (via postman), I get a 404 error, although there is such an address in the application.\r\n\r\nThe following set of errors appears in the console (I&#39;m sorry that there are a lot of logs, I did not shorten them so as not to accidentally delete an important detail):\r\n\r\n```\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received [GET /api/v1/genres HTTP/1.1\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept: */*\r\nPostman-Token: f20c843c-e9c8-48ab-88f2-4e5a42860d02\r\nHost: localhost:8081\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n\r\n]\r\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\r\n\r\njava.io.EOFException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1339) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error state [CLOSE_CONNECTION_NOW] reported while processing request\r\n\r\njava.io.EOFException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1339) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@74b75509:org.apache.tomcat.util.net.NioChannel@591b6c8b:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63260]], Status in: [OPEN_READ], State out: [CLOSED]\r\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-8081-exec-2] latch=2\r\nDEBUG 10844 --- [nio-8081-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@56c8cd71].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@74b75509:org.apache.tomcat.util.net.NioChannel@591b6c8b:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63260]])\r\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.http.Parameters   : Set query string encoding to UTF-8\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /api/v1/genres\r\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.a.jaspic.AuthConfigFactoryImpl     : Loading persistent provider registrations from [/private/var/folders/0s/7r3fm8v552g9sks3hhm0dd640000gn/T/tomcat.8081.12303308613067863794/conf/jaspic-providers.xml]\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\r\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/genres&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 4 interceptors\r\nDEBUG 10844 --- [nio-8081-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\nDEBUG 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}, headers={masked} in DispatcherServlet &#39;dispatcherServlet&#39;\r\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.method.HandlerMethod             : Arguments: [org.apache.catalina.core.ApplicationHttpRequest@207a1f34]\r\nDEBUG 10844 --- [nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using &#39;application/json&#39;, given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Apr 18 01:10:09 MSK 2022, status=404, error=Not Found, path=/api/v1/genres}]\r\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Applying default cacheSeconds=-1\r\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\r\nDEBUG 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404, headers={masked}\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [214]\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Read from buffer: [0]\r\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.net.NioEndpoint   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Read direct from socket: [0]\r\nDEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received []\r\nDEBUG 10844 --- [nio-8081-exec-1] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Status in: [OPEN_READ], State out: [OPEN]\r\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.net.NioEndpoint   : Registered read interest for [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]]\r\nDEBUG 10844 --- [alina-utility-2] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1650233417946 sessioncount 0\r\nDEBUG 10844 --- [alina-utility-2] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 1 expired sessions: 0\r\nDEBUG 10844 --- [nio-8081-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-8081-exec-3] latch=1\r\nDEBUG 10844 --- [nio-8081-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@56c8cd71].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]])\r\n\r\n```\r\n\r\nMy RestController:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@RequiredArgsConstructor\r\npublic class GenreController {\r\n    private final GenreService genreService;\r\n\r\n    @GetMapping(&quot;/genres/&quot;)\r\n    public List&lt;Genre&gt; findAllGenres() {\r\n        var genres = genreService.findAllGenres();\r\n        return genres;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nmy build.gradle plugins\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.12&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n```\r\n\r\nmy build.gradle dependencies:\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web:2.6.6&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\r\n\timplementation &#39;com.github.cloudyrock.mongock:mongock-spring-v5:4.1.14&#39;\r\n\timplementation &#39;com.github.cloudyrock.mongock:mongodb-springdata-v3-driver:4.1.14&#39;\r\n\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```","title":"&#39;Error parsing HTTP request header&#39; for rest request","body":"<p>I java Spring Boot Application with MongoDb and I want to add the ability to work with it through REST</p>\n<p>When I try to make a rest request (via postman), I get a 404 error, although there is such an address in the application.</p>\n<p>The following set of errors appears in the console (I'm sorry that there are a lot of logs, I did not shorten them so as not to accidentally delete an important detail):</p>\n<pre><code>DEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received [GET /api/v1/genres HTTP/1.1\nUser-Agent: PostmanRuntime/7.29.0\nAccept: */*\nPostman-Token: f20c843c-e9c8-48ab-88f2-4e5a42860d02\nHost: localhost:8081\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n\n]\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n\njava.io.EOFException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1339) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Error state [CLOSE_CONNECTION_NOW] reported while processing request\n\njava.io.EOFException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1339) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1226) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@74b75509:org.apache.tomcat.util.net.NioChannel@591b6c8b:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63260]], Status in: [OPEN_READ], State out: [CLOSED]\nDEBUG 10844 --- [nio-8081-exec-2] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-8081-exec-2] latch=2\nDEBUG 10844 --- [nio-8081-exec-2] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@56c8cd71].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@74b75509:org.apache.tomcat.util.net.NioChannel@591b6c8b:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63260]])\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.http.Parameters   : Set query string encoding to UTF-8\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.authenticator.AuthenticatorBase    : Security checking request GET /api/v1/genres\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.catalina.realm.RealmBase      :   No applicable constraints defined\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.a.jaspic.AuthConfigFactoryImpl     : Loading persistent provider registrations from [/private/var/folders/0s/7r3fm8v552g9sks3hhm0dd640000gn/T/tomcat.8081.12303308613067863794/conf/jaspic-providers.xml]\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.authenticator.AuthenticatorBase    : Not subject to any constraint\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.http.Parameters   : Set encoding to UTF-8\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/api/v1/genres&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\nTRACE 10844 --- [nio-8081-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to HandlerExecutionChain with [ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]] and 4 interceptors\nDEBUG 10844 --- [nio-8081-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\nDEBUG 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND, headers={masked}\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}, headers={masked} in DispatcherServlet 'dispatcherServlet'\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.method.HandlerMethod             : Arguments: [org.apache.catalina.core.ApplicationHttpRequest@207a1f34]\nDEBUG 10844 --- [nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]\nTRACE 10844 --- [nio-8081-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Mon Apr 18 01:10:09 MSK 2022, status=404, error=Not Found, path=/api/v1/genres}]\nTRACE 10844 --- [nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Applying default cacheSeconds=-1\nTRACE 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : No view rendering, null ModelAndView returned.\nDEBUG 10844 --- [nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404, headers={masked}\nDEBUG 10844 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    :  Disabling the response for further output\nDEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [214]\nDEBUG 10844 --- [nio-8081-exec-1] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Read from buffer: [0]\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.net.NioEndpoint   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Read direct from socket: [0]\nDEBUG 10844 --- [nio-8081-exec-1] o.a.coyote.http11.Http11InputBuffer      : Received []\nDEBUG 10844 --- [nio-8081-exec-1] o.apache.coyote.http11.Http11Processor   : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]], Status in: [OPEN_READ], State out: [OPEN]\nDEBUG 10844 --- [nio-8081-exec-1] org.apache.tomcat.util.net.NioEndpoint   : Registered read interest for [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]]\nDEBUG 10844 --- [alina-utility-2] org.apache.catalina.session.ManagerBase  : Start expire sessions StandardManager at 1650233417946 sessioncount 0\nDEBUG 10844 --- [alina-utility-2] org.apache.catalina.session.ManagerBase  : End expire sessions StandardManager processingTime 1 expired sessions: 0\nDEBUG 10844 --- [nio-8081-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-8081-exec-3] latch=1\nDEBUG 10844 --- [nio-8081-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@56c8cd71].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@4b1fb2fc:org.apache.tomcat.util.net.NioChannel@38a3312f:java.nio.channels.SocketChannel[connected local=/[0:0:0:0:0:0:0:1]:8081 remote=/[0:0:0:0:0:0:0:1]:63261]])\n\n</code></pre>\n<p>My RestController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@RequiredArgsConstructor\npublic class GenreController {\n    private final GenreService genreService;\n\n    @GetMapping(&quot;/genres/&quot;)\n    public List&lt;Genre&gt; findAllGenres() {\n        var genres = genreService.findAllGenres();\n        return genres;\n    }\n}\n\n</code></pre>\n<p>my build.gradle plugins</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.12'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n</code></pre>\n<p>my build.gradle dependencies:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.6.6'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n\n    implementation 'com.github.cloudyrock.mongock:mongock-spring-v5:4.1.14'\n    implementation 'com.github.cloudyrock.mongock:mongodb-springdata-v3-driver:4.1.14'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649776094,"post_id":71844795,"comment_id":126958912,"body_markdown":"If you check the code of Elements you will see the &#39;\\n&#39;. You have two options, either extend Element and override the outerHtml method or in the end replace something like &#39;\\n&#39; for nothing to have a single line.","body":"If you check the code of Elements you will see the &#39;\\n&#39;. You have two options, either extend Element and override the outerHtml method or in the end replace something like &#39;\\n&#39; for nothing to have a single line."}],"answers":[{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650237812,"creation_date":1650237812,"answer_id":71906200,"question_id":71844795,"body_markdown":"From what I can tell, *pretty print* settings are set on the `Document` level.\r\n\r\nYou can get and set the setting, like so:\r\n\r\n```\r\n// Document doc = ...\r\ndoc.outputSettings().prettyPrint();      // true by default\r\ndoc.outputSettings().prettyPrint(false); // set to false to disable &quot;pretty print&quot;\r\n```\r\n\r\nHere is how one can cook up an empty `Document`:\r\n\r\n``` java\r\nDocument doc = new Document(&quot;&quot;);\r\n// use Jsoup.parse(&quot;&quot;) if you don&#39;t mind the basic HTML stub:\r\n// html, head, and body.\r\n```\r\n\r\nThis is what I would do to print your `Element` &quot;as is&quot; - without new lines:\r\n\r\n```\r\nDocument doc = new Document(&quot;&quot;);\r\ndoc.outputSettings().prettyPrint(false);\r\ndoc.insertChildren(0, new Element(&quot;div&quot;).html(&quot;&lt;p&gt;&lt;/p&gt;&quot;));\r\nSystem.out.println(doc);\r\n// prints: &lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;\r\n```\r\n\r\n---\r\n\r\n### References\r\n\r\n- [`Document.OutputSettings#prettyPrint(boolean)`](https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.html#prettyPrint(boolean))\r\n- [`Document.OutputSettings#prettyPrint()`](https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.html#prettyPrint())","title":"Jsoup prevent pretty print","body":"<p>From what I can tell, <em>pretty print</em> settings are set on the <code>Document</code> level.</p>\n<p>You can get and set the setting, like so:</p>\n<pre><code>// Document doc = ...\ndoc.outputSettings().prettyPrint();      // true by default\ndoc.outputSettings().prettyPrint(false); // set to false to disable &quot;pretty print&quot;\n</code></pre>\n<p>Here is how one can cook up an empty <code>Document</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document doc = new Document(&quot;&quot;);\n// use Jsoup.parse(&quot;&quot;) if you don't mind the basic HTML stub:\n// html, head, and body.\n</code></pre>\n<p>This is what I would do to print your <code>Element</code> &quot;as is&quot; - without new lines:</p>\n<pre><code>Document doc = new Document(&quot;&quot;);\ndoc.outputSettings().prettyPrint(false);\ndoc.insertChildren(0, new Element(&quot;div&quot;).html(&quot;&lt;p&gt;&lt;/p&gt;&quot;));\nSystem.out.println(doc);\n// prints: &lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;\n</code></pre>\n<hr />\n<h3>References</h3>\n<ul>\n<li><a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.html#prettyPrint(boolean)\" rel=\"nofollow noreferrer\"><code>Document.OutputSettings#prettyPrint(boolean)</code></a></li>\n<li><a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.OutputSettings.html#prettyPrint()\" rel=\"nofollow noreferrer\"><code>Document.OutputSettings#prettyPrint()</code></a></li>\n</ul>\n"}],"owner":{"account_id":1516810,"reputation":3867,"user_id":1417633,"accept_rate":59,"display_name":"Tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650237812,"creation_date":1649774996,"question_id":71844795,"body_markdown":"If I do something like this with a jsoup `Element`\r\n```\r\nnew Element(&quot;div&quot;).html(&quot;&lt;p&gt;&lt;/p&gt;&quot;)\r\n```\r\nThe output of the `toString()` method (or for that case the `outerHtml()`) method yields something like this.\r\n```\r\n&lt;div&gt;\r\n &lt;p&gt;&lt;/p&gt;\r\n&lt;/div&gt;\r\n```\r\nI cannot find anything in the documentation that says it adds newlines or spaces to whatever is added to `Element`.\r\n\r\nIs there any way to output it like that:\r\n```\r\n&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;\r\n```\r\n","title":"Jsoup prevent pretty print","body":"<p>If I do something like this with a jsoup <code>Element</code></p>\n<pre><code>new Element(&quot;div&quot;).html(&quot;&lt;p&gt;&lt;/p&gt;&quot;)\n</code></pre>\n<p>The output of the <code>toString()</code> method (or for that case the <code>outerHtml()</code>) method yields something like this.</p>\n<pre><code>&lt;div&gt;\n &lt;p&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I cannot find anything in the documentation that says it adds newlines or spaces to whatever is added to <code>Element</code>.</p>\n<p>Is there any way to output it like that:</p>\n<pre><code>&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1650237254,"post_id":71906121,"comment_id":127063353,"body_markdown":"&quot;is there another best practice i just don&#180;t know about?&quot; -- use one activity instead of two. Use fragments or composables to allow that one activity to display multiple screens.","body":"&quot;is there another best practice i just don&#180;t know about?&quot; -- use one activity instead of two. Use fragments or composables to allow that one activity to display multiple screens."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650261972,"post_id":71906121,"comment_id":127066700,"body_markdown":"As @CommonsWare said, you can use fragments. I can give u an answer if you want to go with fragments. But, before that i&#39;d like you to know a bit about fragments from [here](https://developer.android.com/guide/fragments)","body":"As @CommonsWare said, you can use fragments. I can give u an answer if you want to go with fragments. But, before that i&#39;d like you to know a bit about fragments from <a href=\"https://developer.android.com/guide/fragments\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":14708850,"reputation":1,"user_id":16670536,"display_name":"NASNewbie2k18"},"score":0,"creation_date":1650266010,"post_id":71906121,"comment_id":127067542,"body_markdown":"Thank you for the reply, I didn’t know about fragments. How can I do it with a fragment ?","body":"Thank you for the reply, I didn’t know about fragments. How can I do it with a fragment ?"}],"owner":{"account_id":14708850,"reputation":1,"user_id":16670536,"display_name":"NASNewbie2k18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650236750,"creation_date":1650236750,"question_id":71906121,"body_markdown":"i am looking for a solution to send a Reference of an ImageProxy (bc i don&#180;t want to save the Image right away-&gt; ML-purpose) to another activity in Android.\r\n\r\nMy code in the sending activity looks like that:\r\n\r\n        imageCapture.takePicture(ContextCompat.getMainExecutor(this), new ImageCapture.OnImageCapturedCallback() {\r\n            @Override\r\n            public void onCaptureSuccess(@NonNull ImageProxy image) {\r\n                super.onCaptureSuccess(image);\r\n                Intent sendImageResult = new Intent();\r\n                \r\n                // Magic\r\n\r\n\r\n                setResult(Activity.RESULT_OK, sendImageResult);\r\n                finish();\r\n                image.close();\r\n            }\r\n\r\n\r\n\r\nMy problem:\r\n\r\n- is it the best way to save the image to a file and then send the content id?\r\n- is there a way to get to the &quot;buffer&quot;-reference of the ImageProxy image?\r\n- is there another best practice i just don&#180;t know about?\r\n\r\n\r\nMy level is hobbyist!\r\n\r\nThank you!","title":"Best way/How to pass Android ImageProxy reference to another activity","body":"<p>i am looking for a solution to send a Reference of an ImageProxy (bc i don´t want to save the Image right away-&gt; ML-purpose) to another activity in Android.</p>\n<p>My code in the sending activity looks like that:</p>\n<pre><code>    imageCapture.takePicture(ContextCompat.getMainExecutor(this), new ImageCapture.OnImageCapturedCallback() {\n        @Override\n        public void onCaptureSuccess(@NonNull ImageProxy image) {\n            super.onCaptureSuccess(image);\n            Intent sendImageResult = new Intent();\n            \n            // Magic\n\n\n            setResult(Activity.RESULT_OK, sendImageResult);\n            finish();\n            image.close();\n        }\n</code></pre>\n<p>My problem:</p>\n<ul>\n<li>is it the best way to save the image to a file and then send the content id?</li>\n<li>is there a way to get to the &quot;buffer&quot;-reference of the ImageProxy image?</li>\n<li>is there another best practice i just don´t know about?</li>\n</ul>\n<p>My level is hobbyist!</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hql"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650236452,"creation_date":1650233651,"answer_id":71905860,"question_id":71892880,"body_markdown":"You can use [@Formula][1]. It is read-only calculated column that can be retrieved by the custom subquery. It does not present in the target table.\r\n&gt; Defines a formula (derived value) which is a SQL fragment that acts as\r\n&gt; a @Column alternative in most cases. Represents read-only state.\r\n\r\nExample:\r\n```java\r\n@Entity\r\n@Table(name = &quot;TT_OPTIONS&quot;)\r\npublic class Options  {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\r\n    private String description;\r\n\r\n    @Column(name = &quot;MODEL_ID&quot;) \r\n    private Long modelId;\r\n\r\n    @Formula(&quot;(select TT_CARS.MODEL_NAME from TT_CARS where TT_CARS.ID = MODEL_ID)&quot;)\r\n    private String modelNameFormula;\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;TT_CARS&quot;)\r\npublic class Cars {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;MODEL_NAME&quot;)\r\n    private String modelName;\r\n}\r\n```\r\n\r\n\r\nHibernate generated native query:\r\n```sql\r\n    select\r\n        options0_.id as id1_4_0_,\r\n        options0_.description as descript2_4_0_,\r\n        options0_.model_id as model_id3_4_0_,\r\n        (select\r\n            TT_CARS.MODEL_NAME \r\n        from\r\n            TT_CARS \r\n        where\r\n            TT_CARS.ID = options0_.MODEL_ID) as formula1_0_ \r\n    from\r\n        tt_options options0_ \r\n    where\r\n        options0_.id=?\r\n```\r\n\r\n[@SecondaryTable][2] designed for @OneToOne relationship to map multiple tables to the same entity. It will not work for the @ManyToOne relationship.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/annotations/Formula.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/SecondaryTable.html","title":"How to retrieve ONE column from another table with Foreign key using Hibernate / JPA","body":"<p>You can use <a href=\"https://docs.jboss.org/hibernate/orm/5.2/javadocs/org/hibernate/annotations/Formula.html\" rel=\"nofollow noreferrer\">@Formula</a>. It is read-only calculated column that can be retrieved by the custom subquery. It does not present in the target table.</p>\n<blockquote>\n<p>Defines a formula (derived value) which is a SQL fragment that acts as\na @Column alternative in most cases. Represents read-only state.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TT_OPTIONS&quot;)\npublic class Options  {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;MODEL_ID&quot;) \n    private Long modelId;\n\n    @Formula(&quot;(select TT_CARS.MODEL_NAME from TT_CARS where TT_CARS.ID = MODEL_ID)&quot;)\n    private String modelNameFormula;\n}\n\n@Entity\n@Table(name = &quot;TT_CARS&quot;)\npublic class Cars {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;MODEL_NAME&quot;)\n    private String modelName;\n}\n</code></pre>\n<p>Hibernate generated native query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        options0_.id as id1_4_0_,\n        options0_.description as descript2_4_0_,\n        options0_.model_id as model_id3_4_0_,\n        (select\n            TT_CARS.MODEL_NAME \n        from\n            TT_CARS \n        where\n            TT_CARS.ID = options0_.MODEL_ID) as formula1_0_ \n    from\n        tt_options options0_ \n    where\n        options0_.id=?\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/SecondaryTable.html\" rel=\"nofollow noreferrer\">@SecondaryTable</a> designed for @OneToOne relationship to map multiple tables to the same entity. It will not work for the @ManyToOne relationship.</p>\n"}],"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71905860,"answer_count":1,"score":0,"last_activity_date":1650236452,"creation_date":1650103236,"question_id":71892880,"body_markdown":"I would like to use the Foreign key &quot;`MODEL_ID`&quot; to retrieve just one column &quot;`MODEL_NAME`&quot; from the TT_CARS table, \r\nI tried the following code, that works but it returns the whole CARS object.\r\n\r\n    @JoinColumn(name = &quot;MODEL_ID&quot;, referencedColumnName = &quot;ID&quot;)\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    private CARS cars;\r\n\t\r\nAlso I tried the code below, its also not working\r\n\t\r\n    @SecondaryTable(name = &quot;TT_CARS&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;ID&quot;, referencedColumnName=&quot;MODEL_ID&quot;))\r\n\r\nIs there other way to retieve just the column (`MODEL_NAME`) using hibernate and JPA??\r\n\r\nremarks: The modelName should be part of the `Options` class.\r\n\r\nmy code\r\n\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;TT_OPTIONS&quot;)\r\n    public class Options  {\r\n    \r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        private String id;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;MODEL_ID&quot;) // Foreign key\r\n        private Long modelId;\r\n    \r\n        @Column(name = &quot;MODEL_NAME&quot;, table = &quot;TT_CARS&quot;) // this is the column name I would like to retrieve from the TT_CARS table\r\n        private String modelName;\r\n    \r\n        // getters and setters\r\n    }","title":"How to retrieve ONE column from another table with Foreign key using Hibernate / JPA","body":"<p>I would like to use the Foreign key &quot;<code>MODEL_ID</code>&quot; to retrieve just one column &quot;<code>MODEL_NAME</code>&quot; from the TT_CARS table,\nI tried the following code, that works but it returns the whole CARS object.</p>\n<pre><code>@JoinColumn(name = &quot;MODEL_ID&quot;, referencedColumnName = &quot;ID&quot;)\n@ManyToOne(fetch = FetchType.EAGER)\nprivate CARS cars;\n</code></pre>\n<p>Also I tried the code below, its also not working</p>\n<pre><code>@SecondaryTable(name = &quot;TT_CARS&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;ID&quot;, referencedColumnName=&quot;MODEL_ID&quot;))\n</code></pre>\n<p>Is there other way to retieve just the column (<code>MODEL_NAME</code>) using hibernate and JPA??</p>\n<p>remarks: The modelName should be part of the <code>Options</code> class.</p>\n<p>my code</p>\n<pre><code>import javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\n@Entity\n@Table(name = &quot;TT_OPTIONS&quot;)\npublic class Options  {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private String id;\n\n    @NotNull\n    @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;MODEL_ID&quot;) // Foreign key\n    private Long modelId;\n\n    @Column(name = &quot;MODEL_NAME&quot;, table = &quot;TT_CARS&quot;) // this is the column name I would like to retrieve from the TT_CARS table\n    private String modelName;\n\n    // getters and setters\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1639815032,"post_id":70395151,"comment_id":124448931,"body_markdown":"I think you might be interested in reading this article, [How to map an array of objects from Cloud Firestore to a List of objects?](https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10).","body":"I think you might be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">How to map an array of objects from Cloud Firestore to a List of objects?</a>."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639754990,"creation_date":1639754990,"answer_id":70395393,"question_id":70395151,"body_markdown":"Since `transactions` is an array field, the value you get from `entry.getValue()` is a `List` of objects. Since each of these objects in the JSON has properties, they each will be a `Map&lt;String, Object&gt;` again in the Java code.\r\n\r\nA simple way to print the amounts would be something like:\r\n```\r\nList transactions = document.get(&quot;transactions&quot;);\r\nfor (Object transaction: transactions) {\r\n  Map values = (Map)transaction;\r\n  System.out.println(values.get(&quot;amount&quot;)\r\n}\r\n```\r\n","title":"How to read data from nested array in Firestore","body":"<p>Since <code>transactions</code> is an array field, the value you get from <code>entry.getValue()</code> is a <code>List</code> of objects. Since each of these objects in the JSON has properties, they each will be a <code>Map&lt;String, Object&gt;</code> again in the Java code.</p>\n<p>A simple way to print the amounts would be something like:</p>\n<pre><code>List transactions = document.get(&quot;transactions&quot;);\nfor (Object transaction: transactions) {\n  Map values = (Map)transaction;\n  System.out.println(values.get(&quot;amount&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639816799,"creation_date":1639816407,"answer_id":70401994,"question_id":70395151,"body_markdown":"While Frank van Puffelen&#39;s answer will work perfectly fine, there is a solution in which you can directly map the &quot;transactions&quot; array into a list of custom objects. Assuming that you have a class declaration that looks like this:\r\n\r\n    class User {\r\n        public String balance, email, firstname, lastname, password, username;\r\n        public List&lt;Transaction&gt; transactions;\r\n\r\n        public User(String balance, String email, String firstname, String lastname, String password, String username, List&lt;Transaction&gt; transactions) {\r\n            this.balance = balance;\r\n            this.email = email;\r\n            this.firstname = firstname;\r\n            this.lastname = lastname;\r\n            this.password = password;\r\n            this.username = username;\r\n            this.transactions = transactions;\r\n        }\r\n    }\r\n\r\nAnd one that looks like this:\r\n\r\n    class Transaction {\r\n        public String amount, dateToStr, description, timeToStr, transactionType;\r\n\r\n        public Transaction(String amount, String dateToStr, String description, String timeToStr, String transactionType) {\r\n            this.amount = amount;\r\n            this.dateToStr = dateToStr;\r\n            this.description = description;\r\n            this.timeToStr = timeToStr;\r\n            this.transactionType = transactionType;\r\n        }\r\n    }\r\n\r\nTo get the list, it will be as simple as:\r\n\r\n```\r\ndocRef.get().addOnCompleteListener(task -&gt; {\r\n    if (task.isSuccessful()) {\r\n        DocumentSnapshot document = task.getResult();\r\n        if (document.exists()) {\r\n            List&lt;Transaction&gt; transactions = document.toObject(User.class).transactions;\r\n            List&lt;String&gt; amountArrayList = new ArrayList&lt;&gt;();\r\n            for(Transaction transaction : transactions) {\r\n                String amount = transaction.amount;\r\n                amountArrayList.add(amount);\r\n            }\r\n            // Do what you need to do with your amountArrayList\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nYou can read more info in the following article:\r\n\r\n* [How to map an array of objects from Cloud Firestore to a List of objects?.][1]\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10","title":"How to read data from nested array in Firestore","body":"<p>While Frank van Puffelen's answer will work perfectly fine, there is a solution in which you can directly map the &quot;transactions&quot; array into a list of custom objects. Assuming that you have a class declaration that looks like this:</p>\n<pre><code>class User {\n    public String balance, email, firstname, lastname, password, username;\n    public List&lt;Transaction&gt; transactions;\n\n    public User(String balance, String email, String firstname, String lastname, String password, String username, List&lt;Transaction&gt; transactions) {\n        this.balance = balance;\n        this.email = email;\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.password = password;\n        this.username = username;\n        this.transactions = transactions;\n    }\n}\n</code></pre>\n<p>And one that looks like this:</p>\n<pre><code>class Transaction {\n    public String amount, dateToStr, description, timeToStr, transactionType;\n\n    public Transaction(String amount, String dateToStr, String description, String timeToStr, String transactionType) {\n        this.amount = amount;\n        this.dateToStr = dateToStr;\n        this.description = description;\n        this.timeToStr = timeToStr;\n        this.transactionType = transactionType;\n    }\n}\n</code></pre>\n<p>To get the list, it will be as simple as:</p>\n<pre><code>docRef.get().addOnCompleteListener(task -&gt; {\n    if (task.isSuccessful()) {\n        DocumentSnapshot document = task.getResult();\n        if (document.exists()) {\n            List&lt;Transaction&gt; transactions = document.toObject(User.class).transactions;\n            List&lt;String&gt; amountArrayList = new ArrayList&lt;&gt;();\n            for(Transaction transaction : transactions) {\n                String amount = transaction.amount;\n                amountArrayList.add(amount);\n            }\n            // Do what you need to do with your amountArrayList\n        }\n    }\n});\n</code></pre>\n<p>You can read more info in the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-map-an-array-of-objects-from-cloud-firestore-to-a-list-of-objects-122e579eae10\" rel=\"nofollow noreferrer\">How to map an array of objects from Cloud Firestore to a List of objects?.</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17321389,"reputation":101,"user_id":12546784,"display_name":"3ameration"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650236374,"creation_date":1650236374,"answer_id":71906089,"question_id":70395151,"body_markdown":"I found the best way to map the data from/to hashmap to send/retrieve it from FirebaseFirestore\r\n\r\nFirst, you need to create an extension class to handle the mapping\r\n\r\n\r\n    fun &lt;T&gt; T.serializeToMap(): Map&lt;String, Any&gt; {\r\n        return convert()\r\n    }\r\n    \r\n    inline fun &lt;reified T&gt; Map&lt;String, Any&gt;.toDataClass(): T = convert()\r\n    \r\n    inline fun &lt;A, reified B&gt; A.convert(): B =\r\n        Gson().fromJson(Gson().toJson(this), object : TypeToken&lt;B&gt;() {}.type)\r\n\r\n\r\nDon&#39;t forget to add Gson\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n\r\nThen, you can use these functions for mapping the result from firebase\r\n\r\n\r\n\r\n\r\n\r\n    if (task.isSuccessful) {\r\n        val list: MutableList&lt;YourObject&gt; = ArrayList()\r\n        for (document in task.result) {\r\n            list.add(document.data.toDataClass())\r\n        }\r\n    \r\n        // do whatever you want with the list :)\r\n\r\n    } else {\r\n        // handle the error\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to read data from nested array in Firestore","body":"<p>I found the best way to map the data from/to hashmap to send/retrieve it from FirebaseFirestore</p>\n<p>First, you need to create an extension class to handle the mapping</p>\n<pre><code>fun &lt;T&gt; T.serializeToMap(): Map&lt;String, Any&gt; {\n    return convert()\n}\n\ninline fun &lt;reified T&gt; Map&lt;String, Any&gt;.toDataClass(): T = convert()\n\ninline fun &lt;A, reified B&gt; A.convert(): B =\n    Gson().fromJson(Gson().toJson(this), object : TypeToken&lt;B&gt;() {}.type)\n</code></pre>\n<p>Don't forget to add Gson</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.9.0'\n</code></pre>\n<p>Then, you can use these functions for mapping the result from firebase</p>\n<pre><code>if (task.isSuccessful) {\n    val list: MutableList&lt;YourObject&gt; = ArrayList()\n    for (document in task.result) {\n        list.add(document.data.toDataClass())\n    }\n\n    // do whatever you want with the list :)\n\n} else {\n    // handle the error\n}\n</code></pre>\n"}],"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70395393,"answer_count":3,"score":0,"last_activity_date":1650236374,"creation_date":1639753738,"question_id":70395151,"body_markdown":"I have the below structure in my Firestore and I want to read data and store it in ArrayList like I have &quot;amountArrayList&quot; which will read data from the &quot;transactions&quot; field in Firestore, I want to read all the &quot;amount&quot; fields from &quot;transactions&quot; field and make array list of it so that I can show it in list manner.\r\n[![Firestore structure image][1]][1]\r\n\r\nMy code\r\n\r\n    Map&lt;String, Object&gt; map = document.getData();\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        if (entry.getKey().equals(&quot;transactions&quot;)) {\r\n            System.out.println(entry.getValue().toString());\r\n        }\r\n    }\r\n\r\nOutput\r\n\r\n&gt; [{transactionType=Credit, amount=3000, dateToStr=17/12/2021, timeToStr=08:06:10, description=}, {transactionType=Credit, amount=2000, dateToStr=17/12/2021, timeToStr=08:06:50, description=}]\r\n\r\n  [1]: https://i.stack.imgur.com/ggkIp.png","title":"How to read data from nested array in Firestore","body":"<p>I have the below structure in my Firestore and I want to read data and store it in ArrayList like I have &quot;amountArrayList&quot; which will read data from the &quot;transactions&quot; field in Firestore, I want to read all the &quot;amount&quot; fields from &quot;transactions&quot; field and make array list of it so that I can show it in list manner.\n<a href=\"https://i.stack.imgur.com/ggkIp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ggkIp.png\" alt=\"Firestore structure image\" /></a></p>\n<p>My code</p>\n<pre><code>Map&lt;String, Object&gt; map = document.getData();\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    if (entry.getKey().equals(&quot;transactions&quot;)) {\n        System.out.println(entry.getValue().toString());\n    }\n}\n</code></pre>\n<p>Output</p>\n<blockquote>\n<p>[{transactionType=Credit, amount=3000, dateToStr=17/12/2021, timeToStr=08:06:10, description=}, {transactionType=Credit, amount=2000, dateToStr=17/12/2021, timeToStr=08:06:50, description=}]</p>\n</blockquote>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1650236533,"post_id":71905902,"comment_id":127063256,"body_markdown":"probably the desired result should be `&quot;WHERE e.id LIKE &#39;%4%&#39; ORDER BY e.id ASC&quot;`? If so, `String.format(&quot;WHERE e.id LIKE &#39;%%%d%%&#39; ORDER BY e.id ASC&quot;, idParam);`","body":"probably the desired result should be <code>&quot;WHERE e.id LIKE &#39;%4%&#39; ORDER BY e.id ASC&quot;</code>? If so, <code>String.format(&quot;WHERE e.id LIKE &#39;%%%d%%&#39; ORDER BY e.id ASC&quot;, idParam);</code>"}],"answers":[{"tags":[],"owner":{"account_id":9014228,"reputation":522,"user_id":6717707,"display_name":"Falah H. Abbas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650236088,"creation_date":1650236088,"answer_id":71906061,"question_id":71905902,"body_markdown":"You should double the % to escape it like this \r\n\r\n```\r\nString.format(&quot; WHERE e.id = CONCAT(&#39;%%&#39;,%d,&#39;%%&#39;) ORDER BY e.id ASC&quot;, idParam);\r\n```\r\n\r\nthe output \r\n```  WHERE e.id = CONCAT(&#39;%&#39;,4,&#39;%&#39;) ORDER BY e.id ASC```","title":"Add number into String.format","body":"<p>You should double the % to escape it like this</p>\n<pre><code>String.format(&quot; WHERE e.id = CONCAT('%%',%d,'%%') ORDER BY e.id ASC&quot;, idParam);\n</code></pre>\n<p>the output\n<code>  WHERE e.id = CONCAT('%',4,'%') ORDER BY e.id ASC</code></p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650236088,"creation_date":1650234139,"question_id":71905902,"body_markdown":"I want to add number into this code:\r\n\r\nString.format(&quot; WHERE e.id = CONCAT(&#39;%&#39;,%d,&#39;%&#39;) ORDER BY e.id ASC&quot;, idParam);\r\n\r\nWhen I try to send param `4` for example I want to match also values like:\r\n\r\n`144` or `400` What is the proper way to implement his for numbers?","title":"Add number into String.format","body":"<p>I want to add number into this code:</p>\n<p>String.format(&quot; WHERE e.id = CONCAT('%',%d,'%') ORDER BY e.id ASC&quot;, idParam);</p>\n<p>When I try to send param <code>4</code> for example I want to match also values like:</p>\n<p><code>144</code> or <code>400</code> What is the proper way to implement his for numbers?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3042393,"reputation":643,"user_id":2579066,"accept_rate":50,"display_name":"Marvin"},"score":0,"creation_date":1650236113,"post_id":71906041,"comment_id":127063200,"body_markdown":"try \n\noutToClient.writeBytes(sentence1 + &quot;\\n&quot;);","body":"try   outToClient.writeBytes(sentence1 + &quot;\\n&quot;);"},{"owner":{"account_id":24572735,"reputation":1,"user_id":18478917,"display_name":"Will Harrison"},"score":0,"creation_date":1650237036,"post_id":71906041,"comment_id":127063324,"body_markdown":"Thanks, it looks like that was the problem I was having","body":"Thanks, it looks like that was the problem I was having"},{"owner":{"account_id":3042393,"reputation":643,"user_id":2579066,"accept_rate":50,"display_name":"Marvin"},"score":0,"creation_date":1650326907,"post_id":71906041,"comment_id":127083685,"body_markdown":"Don&#39;t forget to upvote comment if it helped you :)","body":"Don&#39;t forget to upvote comment if it helped you :)"}],"owner":{"account_id":24572735,"reputation":1,"user_id":18478917,"display_name":"Will Harrison"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650235977,"creation_date":1650235777,"question_id":71906041,"body_markdown":"I have been working on creating a program where communication can be exchanged between a server and a client using to program files in java. However, when I try to send messages from server to client. I have been working on a project where I am trying to send a message from a server to a client. However, when I put in my message, from the server, the client seems to get stuck on `sentence = inFromServer.readLine();` in the client portion of my code and I&#39;m not sure why. I ran the debugger on this, and it seems that &quot;sentence&quot; takes in the value that was inputted from the client, so im not sure why it get stuck. Does anyone have an idea what the problem may be?\r\nHere&#39;s my code for reference-\r\nServer Code:\r\n\r\n```\r\npackage com.company;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.*;\r\nimport java.io.IOException;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\nclass threading implements Runnable {\r\n    private int portnumbers;\r\n    Socket clientsocket;\r\n    ServerSocket connectorsocket;\r\n\r\n    public threading(Socket clientsocket)\r\n    {\r\n        this.clientsocket = clientsocket;\r\n    }\r\n    \r\n    public void run(){\r\n        try {\r\n            Serverstuff(this.clientsocket);\r\n        }\r\n        catch(Exception ex)\r\n        {\r\n            System.out.print(&quot;I found exception&quot; + ex);\r\n        }\r\n    }\r\n\r\n    public void Serverstuff(Socket socketlol)\r\n    {\r\n       // File h = null;\r\n        int width = 1536;\r\n        int height = 2048;\r\n        BufferedImage image = null;\r\n        File f = null;\r\n        while(true) {\r\n            try {\r\n                String sentence1;\r\n                //Wait on welcoming socket for client\r\n                BufferedReader inFromClient = new BufferedReader(new InputStreamReader(socketlol.getInputStream()));\r\n                BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in));\r\n                DataOutputStream outToClient = new DataOutputStream(socketlol.getOutputStream());//create input stream, attached to socket\r\n                System.out.println(&quot;Flag1&quot;);\r\n                sentence1 = inFromUser.readLine();\r\n                System.out.println(&quot;Flag2&quot;);\r\n                System.out.println(&quot;Flag3&quot;);\r\n                outToClient.writeBytes(sentence1);\r\n            }\r\n            catch(Exception ex)\r\n            {\r\n                System.out.print(&quot;I found exception&quot; + ex);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\npublic class server{\r\n    public static void main(String argv[]) throws Exception {\r\n        String clientSentence;\r\n        String capitalizedSentence;\r\n\r\n        int portnumber;\r\n        Scanner scanney = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number of clients&quot;);\r\n        String arg1 = scanney.next();\r\n        int arg2 = Integer.parseInt(arg1);\r\n        int[] socketarray = new int[arg2];\r\n        for(int i = 0; i &lt; arg2; i++) {\r\n            System.out.println(&quot;enter the port number&quot;);\r\n            String portnumberstr = scanney.next();\r\n            portnumber = Integer.parseInt(portnumberstr);\r\n            socketarray[i] = portnumber;\r\n        }\r\n        //ServerSocket welcomeSocket = new ServerSocket(5000);\r\n        int g = 0;\r\n        int whatever;\r\n        //ServerSocket welcomeSocket2 = new ServerSocket(5001);\r\n        while (true) {\r\n            if(g &lt; arg2) {\r\n                System.out.println(&quot;Flagwhile1&quot;);\r\n                whatever = socketarray[g];\r\n                ServerSocket welcomeSocket = new ServerSocket(whatever);\r\n                System.out.println(&quot;Flagwhile2&quot;);\r\n                Socket clientsock = welcomeSocket.accept();\r\n                threading newthread = new threading(clientsock);\r\n                System.out.println(&quot;Flagwhile3&quot;);\r\n                new Thread(newthread).start();\r\n\r\n                g = g + 1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nClient Code:\r\n\r\n```\r\npackage com.company;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Scanner;\r\nimport java.util.concurrent.*;\r\nimport java.io.IOException;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.imageio.ImageIO;\r\npublic class client2{\r\n    public static void main(String argv[]) throws Exception {\r\n\r\n        try {\r\n                String sentence;\r\n                String modifiedSentence;\r\n                BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in)); //Create input stream\r\n\r\n                Socket clientSocket = new Socket(&quot;127.0.0.2&quot;, 5001); //Create client socket connect to server\r\n\r\n                DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream()); //Create output stream, attached to socket\r\n                System.out.println(&quot;Flag19&quot;);\r\n                BufferedReader inFromServer = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); //Create input stream attached to socket\r\n                System.out.println(&quot;Flag20&quot;);\r\n                sentence = inFromUser.readLine();\r\n\r\n                outToServer.writeBytes(sentence + &#39;\\n&#39;); //send line to server\r\n\r\n                System.out.println(&quot;Flag21&quot;);\r\n                sentence = inFromServer.readLine();\r\n                System.out.println(&quot;Flag22&quot;);\r\n                System.out.println(sentence);\r\n                int test = 5;\r\n                clientSocket.close();\r\n            }\r\n        catch(IOException e){\r\n            System.out.println(&quot;Error: &quot; + e);\r\n        }\r\n    }\r\n}\r\n```","title":"TCP Client/Server program getting stuck when","body":"<p>I have been working on creating a program where communication can be exchanged between a server and a client using to program files in java. However, when I try to send messages from server to client. I have been working on a project where I am trying to send a message from a server to a client. However, when I put in my message, from the server, the client seems to get stuck on <code>sentence = inFromServer.readLine();</code> in the client portion of my code and I'm not sure why. I ran the debugger on this, and it seems that &quot;sentence&quot; takes in the value that was inputted from the client, so im not sure why it get stuck. Does anyone have an idea what the problem may be?\nHere's my code for reference-\nServer Code:</p>\n<pre><code>package com.company;\nimport java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\nimport java.util.concurrent.*;\nimport java.io.IOException;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\nclass threading implements Runnable {\n    private int portnumbers;\n    Socket clientsocket;\n    ServerSocket connectorsocket;\n\n    public threading(Socket clientsocket)\n    {\n        this.clientsocket = clientsocket;\n    }\n    \n    public void run(){\n        try {\n            Serverstuff(this.clientsocket);\n        }\n        catch(Exception ex)\n        {\n            System.out.print(&quot;I found exception&quot; + ex);\n        }\n    }\n\n    public void Serverstuff(Socket socketlol)\n    {\n       // File h = null;\n        int width = 1536;\n        int height = 2048;\n        BufferedImage image = null;\n        File f = null;\n        while(true) {\n            try {\n                String sentence1;\n                //Wait on welcoming socket for client\n                BufferedReader inFromClient = new BufferedReader(new InputStreamReader(socketlol.getInputStream()));\n                BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in));\n                DataOutputStream outToClient = new DataOutputStream(socketlol.getOutputStream());//create input stream, attached to socket\n                System.out.println(&quot;Flag1&quot;);\n                sentence1 = inFromUser.readLine();\n                System.out.println(&quot;Flag2&quot;);\n                System.out.println(&quot;Flag3&quot;);\n                outToClient.writeBytes(sentence1);\n            }\n            catch(Exception ex)\n            {\n                System.out.print(&quot;I found exception&quot; + ex);\n            }\n        }\n    }\n}\n\npublic class server{\n    public static void main(String argv[]) throws Exception {\n        String clientSentence;\n        String capitalizedSentence;\n\n        int portnumber;\n        Scanner scanney = new Scanner(System.in);\n        System.out.println(&quot;Enter the number of clients&quot;);\n        String arg1 = scanney.next();\n        int arg2 = Integer.parseInt(arg1);\n        int[] socketarray = new int[arg2];\n        for(int i = 0; i &lt; arg2; i++) {\n            System.out.println(&quot;enter the port number&quot;);\n            String portnumberstr = scanney.next();\n            portnumber = Integer.parseInt(portnumberstr);\n            socketarray[i] = portnumber;\n        }\n        //ServerSocket welcomeSocket = new ServerSocket(5000);\n        int g = 0;\n        int whatever;\n        //ServerSocket welcomeSocket2 = new ServerSocket(5001);\n        while (true) {\n            if(g &lt; arg2) {\n                System.out.println(&quot;Flagwhile1&quot;);\n                whatever = socketarray[g];\n                ServerSocket welcomeSocket = new ServerSocket(whatever);\n                System.out.println(&quot;Flagwhile2&quot;);\n                Socket clientsock = welcomeSocket.accept();\n                threading newthread = new threading(clientsock);\n                System.out.println(&quot;Flagwhile3&quot;);\n                new Thread(newthread).start();\n\n                g = g + 1;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Client Code:</p>\n<pre><code>package com.company;\nimport java.io.*;\nimport java.net.*;\nimport java.util.Scanner;\nimport java.util.concurrent.*;\nimport java.io.IOException;\nimport java.awt.image.BufferedImage;\nimport javax.imageio.ImageIO;\npublic class client2{\n    public static void main(String argv[]) throws Exception {\n\n        try {\n                String sentence;\n                String modifiedSentence;\n                BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in)); //Create input stream\n\n                Socket clientSocket = new Socket(&quot;127.0.0.2&quot;, 5001); //Create client socket connect to server\n\n                DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream()); //Create output stream, attached to socket\n                System.out.println(&quot;Flag19&quot;);\n                BufferedReader inFromServer = new BufferedReader(new InputStreamReader(clientSocket.getInputStream())); //Create input stream attached to socket\n                System.out.println(&quot;Flag20&quot;);\n                sentence = inFromUser.readLine();\n\n                outToServer.writeBytes(sentence + '\\n'); //send line to server\n\n                System.out.println(&quot;Flag21&quot;);\n                sentence = inFromServer.readLine();\n                System.out.println(&quot;Flag22&quot;);\n                System.out.println(sentence);\n                int test = 5;\n                clientSocket.close();\n            }\n        catch(IOException e){\n            System.out.println(&quot;Error: &quot; + e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","list","java-stream","localdatetime"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1650138916,"post_id":71896489,"comment_id":127047645,"body_markdown":"How does your constructor(s) look like for the `Timeslot` class? Do you have `hashCode` and `equals` implemented?","body":"How does your constructor(s) look like for the <code>Timeslot</code> class? Do you have <code>hashCode</code> and <code>equals</code> implemented?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1650139517,"creation_date":1650138829,"answer_id":71897056,"question_id":71896489,"body_markdown":"I&#39;ve simplified your `Timeslot` class for this problem (*for demonstration purposes*) since for this task you primarily concern about the *start time* and *end time* of each *timeslot*.\r\n\r\nMy approach is to create a set of `LocalDateTime` objects by extracting the *start time* from each *timeslot* that is already taken (represented by your first list). \r\n\r\nThen create a stream over the `query` list and filter the date-time object that are not present in the set. Then create a *timeslot* using each date-time object as a *start time* (*end time* = *start time* + 1 hour). And collect all the stream elements into a *list*.\r\n\r\n*Note*: terminal operation `toList()` creates an immutable list, you can obtain a mutable list by applying `collect(Collectors.toList())` instead.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;LocalDateTime&gt; query =\r\n            List.of(LocalDateTime.of(2022, 04, 16, 8, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 9, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 10, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 11, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 12, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 13, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 14, 00),\r\n                    LocalDateTime.of(2022, 04, 16, 15, 00));\r\n    \r\n        List&lt;Timeslot&gt; timeslots = // timeslots that already taken\r\n            List.of(new Timeslot(LocalDateTime.of(2022, 04, 16, 9, 00),\r\n                                 LocalDateTime.of(2022, 04, 16, 10, 00)),\r\n                    new Timeslot(LocalDateTime.of(2022, 04, 16, 10, 00),\r\n                                 LocalDateTime.of(2022, 04, 16, 11, 00)));\r\n        \r\n        Set&lt;LocalDateTime&gt; takenStartTime = timeslots.stream()\r\n            .map(Timeslot::getStartTime)\r\n            .collect(Collectors.toSet());\r\n    \r\n        List&lt;Timeslot&gt; availableSlots = query.stream()\r\n            .filter(dateTime -&gt; !takenStartTime.contains(dateTime))\r\n            .map(dateTime -&gt; new Timeslot(dateTime, dateTime.plusHours(1)))\r\n            .toList();\r\n        \r\n        availableSlots.forEach(System.out::println);\r\n    }\r\n\r\nSimplified dummy `Timeslot` class\r\n```\r\npublic class Timeslot {\r\n    private LocalDateTime startTime;\r\n    private LocalDateTime endTime;\r\n    \r\n    // constructor, getters, toString()\r\n}\r\n```\r\n\r\n**Output**\r\n```\r\nTimeslot{start_time=2022-04-16T08:00, end_time=2022-04-16T09:00}\r\nTimeslot{start_time=2022-04-16T11:00, end_time=2022-04-16T12:00}\r\nTimeslot{start_time=2022-04-16T12:00, end_time=2022-04-16T13:00}\r\nTimeslot{start_time=2022-04-16T13:00, end_time=2022-04-16T14:00}\r\nTimeslot{start_time=2022-04-16T14:00, end_time=2022-04-16T15:00}\r\nTimeslot{start_time=2022-04-16T15:00, end_time=2022-04-16T16:00}\r\n```","title":"Creating a list of avalible Timeslots based on a list LocalDateTime objects and a List of taken Timeslots with Streams","body":"<p>I've simplified your <code>Timeslot</code> class for this problem (<em>for demonstration purposes</em>) since for this task you primarily concern about the <em>start time</em> and <em>end time</em> of each <em>timeslot</em>.</p>\n<p>My approach is to create a set of <code>LocalDateTime</code> objects by extracting the <em>start time</em> from each <em>timeslot</em> that is already taken (represented by your first list).</p>\n<p>Then create a stream over the <code>query</code> list and filter the date-time object that are not present in the set. Then create a <em>timeslot</em> using each date-time object as a <em>start time</em> (<em>end time</em> = <em>start time</em> + 1 hour). And collect all the stream elements into a <em>list</em>.</p>\n<p><em>Note</em>: terminal operation <code>toList()</code> creates an immutable list, you can obtain a mutable list by applying <code>collect(Collectors.toList())</code> instead.</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;LocalDateTime&gt; query =\n        List.of(LocalDateTime.of(2022, 04, 16, 8, 00),\n                LocalDateTime.of(2022, 04, 16, 9, 00),\n                LocalDateTime.of(2022, 04, 16, 10, 00),\n                LocalDateTime.of(2022, 04, 16, 11, 00),\n                LocalDateTime.of(2022, 04, 16, 12, 00),\n                LocalDateTime.of(2022, 04, 16, 13, 00),\n                LocalDateTime.of(2022, 04, 16, 14, 00),\n                LocalDateTime.of(2022, 04, 16, 15, 00));\n\n    List&lt;Timeslot&gt; timeslots = // timeslots that already taken\n        List.of(new Timeslot(LocalDateTime.of(2022, 04, 16, 9, 00),\n                             LocalDateTime.of(2022, 04, 16, 10, 00)),\n                new Timeslot(LocalDateTime.of(2022, 04, 16, 10, 00),\n                             LocalDateTime.of(2022, 04, 16, 11, 00)));\n    \n    Set&lt;LocalDateTime&gt; takenStartTime = timeslots.stream()\n        .map(Timeslot::getStartTime)\n        .collect(Collectors.toSet());\n\n    List&lt;Timeslot&gt; availableSlots = query.stream()\n        .filter(dateTime -&gt; !takenStartTime.contains(dateTime))\n        .map(dateTime -&gt; new Timeslot(dateTime, dateTime.plusHours(1)))\n        .toList();\n    \n    availableSlots.forEach(System.out::println);\n}\n</code></pre>\n<p>Simplified dummy <code>Timeslot</code> class</p>\n<pre><code>public class Timeslot {\n    private LocalDateTime startTime;\n    private LocalDateTime endTime;\n    \n    // constructor, getters, toString()\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Timeslot{start_time=2022-04-16T08:00, end_time=2022-04-16T09:00}\nTimeslot{start_time=2022-04-16T11:00, end_time=2022-04-16T12:00}\nTimeslot{start_time=2022-04-16T12:00, end_time=2022-04-16T13:00}\nTimeslot{start_time=2022-04-16T13:00, end_time=2022-04-16T14:00}\nTimeslot{start_time=2022-04-16T14:00, end_time=2022-04-16T15:00}\nTimeslot{start_time=2022-04-16T15:00, end_time=2022-04-16T16:00}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650235753,"creation_date":1650156912,"answer_id":71898535,"question_id":71896489,"body_markdown":"The [Answer by Alexander Ivanchenko][1] is very good. Here is an alternative, as food for thought.\r\n\r\nBy the way, your `day` field is redundant. You know both the date and date-time from the starting `LocalDateTime`. I suggest eliminating that from your model.\r\n\r\n# Add `TimeSlot#contains` method\r\n\r\nLet&#39;s define your `TimeSlot` class more briefly as a [record][2]. And I will use `UUID` as an identifier, to not fiddle with counting integers.\r\n\r\n```java\r\nrecord TimeSlot( UUID id , LocalDateTime start , LocalDateTime end ) {}\r\n```\r\n\r\nThe trick is to add a `contains` method, telling the caller whether a particular `LocalDateTime` happens to lay within the bounds of our time slot. We use Half-Open approach, where the span of time is defined with the beginning being *inclusive* while the ending is *exclusive*. \r\n\r\nNotice that “not before” is a shorter way of saying “is equal to or is later than”. \r\n\r\n```java\r\nrecord TimeSlot( UUID id , LocalDateTime start , LocalDateTime end )\r\n{\r\n    boolean contains ( LocalDateTime localDateTime )\r\n    {\r\n        return ( ( ! localDateTime.isBefore( this.start ) ) &amp;&amp; localDateTime.isBefore( this.end ) );\r\n    }\r\n}\r\n```\r\n\r\nSample data.\r\n\r\n```java\r\nList &lt; TimeSlot &gt; timeslots =\r\n        List.of(\r\n                new TimeSlot(\r\n                        UUID.fromString( &quot;0500ce28-ad96-43d0-9b3d-b907cadd27f9&quot; ) ,\r\n                        LocalDateTime.of( 2022 , 04 , 16 , 9 , 00 ) ,\r\n                        LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 )\r\n                ) ,\r\n                new TimeSlot(\r\n                        UUID.fromString( &quot;887d72df-4787-4974-ab6d-f2a46cb7d7af&quot; ) ,\r\n                        LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 ) ,\r\n                        LocalDateTime.of( 2022 , 04 , 16 , 11 , 00 )\r\n                )\r\n        );\r\n```\r\n\r\nAnd some sample inputs.\r\n\r\n```java\r\nList &lt; LocalDateTime &gt; inputs =\r\n        List.of(\r\n                LocalDateTime.of( 2022 , 04 , 16 , 8 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 9 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 11 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 12 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 13 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 14 , 00 ) ,\r\n                LocalDateTime.of( 2022 , 04 , 16 , 15 , 00 )\r\n        );\r\n```\r\n\r\nMake a new list of `TimeSlot` objects, skipping over spans of time take by our existing `TimeSlot` objects.\r\n\r\n```java\r\nList &lt; TimeSlot &gt; resultingTimeSlots = new ArrayList &lt;&gt;( inputs.size() );\r\n```\r\n\r\nLoop the input `LocalDateTime` objects. For each, ask each of the original time slots if they happen to contain that date-time value. If so, add that found time slot to our list. If not, create a new `TimeSlot` object using the input `LocalDateTime` as the start, and assuming the end should be an hour later. \r\n\r\n```\r\nfor ( LocalDateTime input : inputs )\r\n{\r\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\r\n    resultingTimeSlots.add( hit.orElse( new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ) );\r\n}\r\n```\r\n\r\nThat code could be optimized. Using [`Optional#orElse`][3] is actually executing a `new TimeSlot` on every loop of our `for`, whether needed or not. \r\n\r\nWe can verify this behavior by adding a compact constructor to our record.\r\n\r\n```java\r\nrecord TimeSlot( UUID id , LocalDateTime start , LocalDateTime end )\r\n{\r\n    TimeSlot\r\n    {\r\n        System.out.println( &quot;running constructor for &quot; + id );\r\n    }\r\n\r\n    boolean contains ( LocalDateTime localDateTime )\r\n    {\r\n        return ( ( ! localDateTime.isBefore( start ) ) &amp;&amp; localDateTime.isBefore( end ) );\r\n    }\r\n}\r\n```\r\n\r\nLet’s replace that with [`Optional#orElseGet`][4] while transforming our `new TimeSlot` into a lambda that implements the required `Supplier` interface. This change means a new `TimeSlot` object will be instantiated only when we truly need it. \r\n\r\n```java\r\nfor ( LocalDateTime input : inputs )\r\n{\r\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\r\n    resultingTimeSlots.add( hit.orElseGet( ( ) -&gt; new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ) );\r\n}\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println( &quot;resultingTimeSlots.size(): &quot; + resultingTimeSlots.size() );\r\nSystem.out.println( &quot;resultingTimeSlots.containsAll( timeslots ): &quot; + resultingTimeSlots.containsAll( timeslots ) );\r\nSystem.out.println( resultingTimeSlots );\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nrunning constructor for 0500ce28-ad96-43d0-9b3d-b907cadd27f9\r\nrunning constructor for 887d72df-4787-4974-ab6d-f2a46cb7d7af\r\nrunning constructor for ce2b9c66-ef69-4ecd-a451-7a51ebbb259e\r\nrunning constructor for c77cf83f-5ea8-4da3-9a44-104a56f4de03\r\nrunning constructor for 139280b6-20c4-4428-b2cb-80717a00756b\r\nrunning constructor for 1d219e16-0513-466e-9b84-091312e4ff5e\r\nrunning constructor for 4b0b6c11-c6ae-4e04-a8fe-6c1245f7e80b\r\nrunning constructor for 1ccdbd7f-ff4c-4d7d-b900-54d14898a50f\r\nresultingTimeSlots.size(): 8\r\nresultingTimeSlots.containsAll( timeslots ): true\r\n[TimeSlot[id=ce2b9c66-ef69-4ecd-a451-7a51ebbb259e, start=2022-04-16T08:00, end=2022-04-16T09:00], TimeSlot[id=0500ce28-ad96-43d0-9b3d-b907cadd27f9, start=2022-04-16T09:00, end=2022-04-16T10:00], TimeSlot[id=887d72df-4787-4974-ab6d-f2a46cb7d7af, start=2022-04-16T10:00, end=2022-04-16T11:00], TimeSlot[id=c77cf83f-5ea8-4da3-9a44-104a56f4de03, start=2022-04-16T11:00, end=2022-04-16T12:00], TimeSlot[id=139280b6-20c4-4428-b2cb-80717a00756b, start=2022-04-16T12:00, end=2022-04-16T13:00], TimeSlot[id=1d219e16-0513-466e-9b84-091312e4ff5e, start=2022-04-16T13:00, end=2022-04-16T14:00], TimeSlot[id=4b0b6c11-c6ae-4e04-a8fe-6c1245f7e80b, start=2022-04-16T14:00, end=2022-04-16T15:00], TimeSlot[id=1ccdbd7f-ff4c-4d7d-b900-54d14898a50f, start=2022-04-16T15:00, end=2022-04-16T16:00]]\r\n```\r\n\r\nIf you want to skip the original items, change that `for` loop to this.\r\n\r\n```java\r\nfor ( LocalDateTime input : inputs )\r\n{\r\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\r\n    if ( hit.isEmpty() ) { resultingTimeSlots.add( new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ); }\r\n}\r\n```\r\n\r\n# Tracking appointments\r\n\r\nIf you are trying to make a future appointment tracking app, yours is the wrong approach. \r\n\r\nYou should track only the start as a `LocalDateTime`, not the end. Instead of an end, track the length of the appointment as a `Duration` object. And crucially, add a field for the time zone (`ZoneId`) as the intended context for this date and time. \r\n\r\nThe concept to understand is that political time, as opposed to natural time, varies. Days are not necessarily 24 hours long. They may be 23, 23.5, 25, or other number of hours. So a 1 hour appointment might start at 2 but end at 4. \r\n\r\nWhen you need to build a schedule of moments, specific points on the timeline, apply the time zone to the start. And add duration for the end. \r\n\r\n    ZonedDateTime start = startLocalDateTime.atZone( storedZoneId ) ;\r\n    ZonedDateTime end = start.plus( storedDuration ) ;\r\n\r\nBut **never store these `ZonedDateTime`** objects. They would become invalid if the politicians change the rules of the time zone(s) in their jurisdictions. Politicians around the world do so with surprising frequency. \r\n\r\nI and others have written on this subject many times on Stack Overflow. So search to learn more. \r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71897056/642706\r\n  [2]: http://openjdk.java.net/jeps/395\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)","title":"Creating a list of avalible Timeslots based on a list LocalDateTime objects and a List of taken Timeslots with Streams","body":"<p>The <a href=\"https://stackoverflow.com/a/71897056/642706\">Answer by Alexander Ivanchenko</a> is very good. Here is an alternative, as food for thought.</p>\n<p>By the way, your <code>day</code> field is redundant. You know both the date and date-time from the starting <code>LocalDateTime</code>. I suggest eliminating that from your model.</p>\n<h1>Add <code>TimeSlot#contains</code> method</h1>\n<p>Let's define your <code>TimeSlot</code> class more briefly as a <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">record</a>. And I will use <code>UUID</code> as an identifier, to not fiddle with counting integers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TimeSlot( UUID id , LocalDateTime start , LocalDateTime end ) {}\n</code></pre>\n<p>The trick is to add a <code>contains</code> method, telling the caller whether a particular <code>LocalDateTime</code> happens to lay within the bounds of our time slot. We use Half-Open approach, where the span of time is defined with the beginning being <em>inclusive</em> while the ending is <em>exclusive</em>.</p>\n<p>Notice that “not before” is a shorter way of saying “is equal to or is later than”.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TimeSlot( UUID id , LocalDateTime start , LocalDateTime end )\n{\n    boolean contains ( LocalDateTime localDateTime )\n    {\n        return ( ( ! localDateTime.isBefore( this.start ) ) &amp;&amp; localDateTime.isBefore( this.end ) );\n    }\n}\n</code></pre>\n<p>Sample data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; TimeSlot &gt; timeslots =\n        List.of(\n                new TimeSlot(\n                        UUID.fromString( &quot;0500ce28-ad96-43d0-9b3d-b907cadd27f9&quot; ) ,\n                        LocalDateTime.of( 2022 , 04 , 16 , 9 , 00 ) ,\n                        LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 )\n                ) ,\n                new TimeSlot(\n                        UUID.fromString( &quot;887d72df-4787-4974-ab6d-f2a46cb7d7af&quot; ) ,\n                        LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 ) ,\n                        LocalDateTime.of( 2022 , 04 , 16 , 11 , 00 )\n                )\n        );\n</code></pre>\n<p>And some sample inputs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; LocalDateTime &gt; inputs =\n        List.of(\n                LocalDateTime.of( 2022 , 04 , 16 , 8 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 9 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 10 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 11 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 12 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 13 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 14 , 00 ) ,\n                LocalDateTime.of( 2022 , 04 , 16 , 15 , 00 )\n        );\n</code></pre>\n<p>Make a new list of <code>TimeSlot</code> objects, skipping over spans of time take by our existing <code>TimeSlot</code> objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; TimeSlot &gt; resultingTimeSlots = new ArrayList &lt;&gt;( inputs.size() );\n</code></pre>\n<p>Loop the input <code>LocalDateTime</code> objects. For each, ask each of the original time slots if they happen to contain that date-time value. If so, add that found time slot to our list. If not, create a new <code>TimeSlot</code> object using the input <code>LocalDateTime</code> as the start, and assuming the end should be an hour later.</p>\n<pre><code>for ( LocalDateTime input : inputs )\n{\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\n    resultingTimeSlots.add( hit.orElse( new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ) );\n}\n</code></pre>\n<p>That code could be optimized. Using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>Optional#orElse</code></a> is actually executing a <code>new TimeSlot</code> on every loop of our <code>for</code>, whether needed or not.</p>\n<p>We can verify this behavior by adding a compact constructor to our record.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record TimeSlot( UUID id , LocalDateTime start , LocalDateTime end )\n{\n    TimeSlot\n    {\n        System.out.println( &quot;running constructor for &quot; + id );\n    }\n\n    boolean contains ( LocalDateTime localDateTime )\n    {\n        return ( ( ! localDateTime.isBefore( start ) ) &amp;&amp; localDateTime.isBefore( end ) );\n    }\n}\n</code></pre>\n<p>Let’s replace that with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Optional#orElseGet</code></a> while transforming our <code>new TimeSlot</code> into a lambda that implements the required <code>Supplier</code> interface. This change means a new <code>TimeSlot</code> object will be instantiated only when we truly need it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( LocalDateTime input : inputs )\n{\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\n    resultingTimeSlots.add( hit.orElseGet( ( ) -&gt; new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ) );\n}\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println( &quot;resultingTimeSlots.size(): &quot; + resultingTimeSlots.size() );\nSystem.out.println( &quot;resultingTimeSlots.containsAll( timeslots ): &quot; + resultingTimeSlots.containsAll( timeslots ) );\nSystem.out.println( resultingTimeSlots );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>running constructor for 0500ce28-ad96-43d0-9b3d-b907cadd27f9\nrunning constructor for 887d72df-4787-4974-ab6d-f2a46cb7d7af\nrunning constructor for ce2b9c66-ef69-4ecd-a451-7a51ebbb259e\nrunning constructor for c77cf83f-5ea8-4da3-9a44-104a56f4de03\nrunning constructor for 139280b6-20c4-4428-b2cb-80717a00756b\nrunning constructor for 1d219e16-0513-466e-9b84-091312e4ff5e\nrunning constructor for 4b0b6c11-c6ae-4e04-a8fe-6c1245f7e80b\nrunning constructor for 1ccdbd7f-ff4c-4d7d-b900-54d14898a50f\nresultingTimeSlots.size(): 8\nresultingTimeSlots.containsAll( timeslots ): true\n[TimeSlot[id=ce2b9c66-ef69-4ecd-a451-7a51ebbb259e, start=2022-04-16T08:00, end=2022-04-16T09:00], TimeSlot[id=0500ce28-ad96-43d0-9b3d-b907cadd27f9, start=2022-04-16T09:00, end=2022-04-16T10:00], TimeSlot[id=887d72df-4787-4974-ab6d-f2a46cb7d7af, start=2022-04-16T10:00, end=2022-04-16T11:00], TimeSlot[id=c77cf83f-5ea8-4da3-9a44-104a56f4de03, start=2022-04-16T11:00, end=2022-04-16T12:00], TimeSlot[id=139280b6-20c4-4428-b2cb-80717a00756b, start=2022-04-16T12:00, end=2022-04-16T13:00], TimeSlot[id=1d219e16-0513-466e-9b84-091312e4ff5e, start=2022-04-16T13:00, end=2022-04-16T14:00], TimeSlot[id=4b0b6c11-c6ae-4e04-a8fe-6c1245f7e80b, start=2022-04-16T14:00, end=2022-04-16T15:00], TimeSlot[id=1ccdbd7f-ff4c-4d7d-b900-54d14898a50f, start=2022-04-16T15:00, end=2022-04-16T16:00]]\n</code></pre>\n<p>If you want to skip the original items, change that <code>for</code> loop to this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( LocalDateTime input : inputs )\n{\n    Optional &lt; TimeSlot &gt; hit = timeslots.stream().filter( timeSlot -&gt; timeSlot.contains( input ) ).findAny();\n    if ( hit.isEmpty() ) { resultingTimeSlots.add( new TimeSlot( UUID.randomUUID() , input , input.plusHours( 1 ) ) ); }\n}\n</code></pre>\n<h1>Tracking appointments</h1>\n<p>If you are trying to make a future appointment tracking app, yours is the wrong approach.</p>\n<p>You should track only the start as a <code>LocalDateTime</code>, not the end. Instead of an end, track the length of the appointment as a <code>Duration</code> object. And crucially, add a field for the time zone (<code>ZoneId</code>) as the intended context for this date and time.</p>\n<p>The concept to understand is that political time, as opposed to natural time, varies. Days are not necessarily 24 hours long. They may be 23, 23.5, 25, or other number of hours. So a 1 hour appointment might start at 2 but end at 4.</p>\n<p>When you need to build a schedule of moments, specific points on the timeline, apply the time zone to the start. And add duration for the end.</p>\n<pre><code>ZonedDateTime start = startLocalDateTime.atZone( storedZoneId ) ;\nZonedDateTime end = start.plus( storedDuration ) ;\n</code></pre>\n<p>But <strong>never store these <code>ZonedDateTime</code></strong> objects. They would become invalid if the politicians change the rules of the time zone(s) in their jurisdictions. Politicians around the world do so with surprising frequency.</p>\n<p>I and others have written on this subject many times on Stack Overflow. So search to learn more.</p>\n"}],"owner":{"account_id":24893532,"reputation":121,"user_id":18765109,"display_name":"Dmytro Klopov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71897056,"answer_count":2,"score":5,"last_activity_date":1650235753,"creation_date":1650133908,"question_id":71896489,"body_markdown":"I have a `List&lt;Timeslot&gt;` that contains entity `Timeslot` with the following fields:\r\n1. `timeslot_id`;\r\n2. `day`;\r\n3. `start_time`;\r\n4. `end_time`.\r\n\r\nFor example, this *list* contains two records:\r\n\r\n* `start_time` of the first record equals `9:00` and `end_time` equals `10:00`.\r\n\r\n* `start_time` of second object equals `10:00` and `end_time` equals `11:00`.\r\n\r\nAnd the second *list* contains timestamps `List&lt;LocalDateTime&gt;`:\r\n```\r\n[2022-04-16T08:00, 2022-04-16T09:00, 2022-04-16T10:00, 2022-04-16T11:00, \r\n 2022-04-16T12:00, 2022-04-16T13:00, 2022-04-16T14:00, 2022-04-16T15:00]\r\n``` \r\n\r\nI need to create a third ```List&lt;Timeslot&gt;``` that will contain `Timeslot`s except this two from the first list.\r\n\r\nIn this case, as a result, the *third list* should contain six objects of `Timeslot` class. \r\n\r\n`start_time` of first should equal `2022-04-16T08:00` and end_time `2022-04-16T09:00`. I.e. the difference between `start_time` and `end_time` for every other *timeslot* is **one hour**.\r\n\r\nSo, the **result** constructed from the list of *timestamps* provided above should contain six objects: \r\n* `start_time` is `8:00`, `end_time` is `9:00`. \r\n* `start_time` is `11:00`, `end_time` is `12:00`. \r\n* `start_time` is `12:00`, `end_time` is `13:00` ... and so on.\r\n\r\nI the objects for with `start_time` `9:00` and `10:00` will not be present in the third list because they  are booked already (*present in the first list*).\r\n\r\nI tried to create the *third list* using Java Streams, which should compare fields `start_time` and `end_time` with timestamps from the *second list*.\r\n\r\nI&#39;ve tried this, but the resulting list is always empty:\r\n```\r\nList&lt;Timeslot&gt; availableSlots = query.stream()\r\n    .filter(timeslot -&gt; timestamps.contains(timeslot.getStartTime()))\r\n    .toList();\r\n```\r\n\r\n**Timeslot** class:\r\n``` \r\n@Entity(name = &quot;timeslot&quot;)\r\npublic class Timeslot {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;timeslot_id&quot;)\r\n    private Integer id;\r\n    @Column(name = &quot;day&quot;, columnDefinition = &quot;DATE&quot;)\r\n    private LocalDateTime day;\r\n    @Column(name = &quot;start_time&quot;)\r\n    private LocalDateTime startTime;\r\n    @Column(name = &quot;end_time&quot;)\r\n    private LocalDateTime endTime;\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Integer userId;\r\n    @Column(name = &quot;is_recorded&quot;)\r\n    private Boolean isRecorded;\r\n}\r\n```","title":"Creating a list of avalible Timeslots based on a list LocalDateTime objects and a List of taken Timeslots with Streams","body":"<p>I have a <code>List&lt;Timeslot&gt;</code> that contains entity <code>Timeslot</code> with the following fields:</p>\n<ol>\n<li><code>timeslot_id</code>;</li>\n<li><code>day</code>;</li>\n<li><code>start_time</code>;</li>\n<li><code>end_time</code>.</li>\n</ol>\n<p>For example, this <em>list</em> contains two records:</p>\n<ul>\n<li><p><code>start_time</code> of the first record equals <code>9:00</code> and <code>end_time</code> equals <code>10:00</code>.</p>\n</li>\n<li><p><code>start_time</code> of second object equals <code>10:00</code> and <code>end_time</code> equals <code>11:00</code>.</p>\n</li>\n</ul>\n<p>And the second <em>list</em> contains timestamps <code>List&lt;LocalDateTime&gt;</code>:</p>\n<pre><code>[2022-04-16T08:00, 2022-04-16T09:00, 2022-04-16T10:00, 2022-04-16T11:00, \n 2022-04-16T12:00, 2022-04-16T13:00, 2022-04-16T14:00, 2022-04-16T15:00]\n</code></pre>\n<p>I need to create a third <code>List&lt;Timeslot&gt;</code> that will contain <code>Timeslot</code>s except this two from the first list.</p>\n<p>In this case, as a result, the <em>third list</em> should contain six objects of <code>Timeslot</code> class.</p>\n<p><code>start_time</code> of first should equal <code>2022-04-16T08:00</code> and end_time <code>2022-04-16T09:00</code>. I.e. the difference between <code>start_time</code> and <code>end_time</code> for every other <em>timeslot</em> is <strong>one hour</strong>.</p>\n<p>So, the <strong>result</strong> constructed from the list of <em>timestamps</em> provided above should contain six objects:</p>\n<ul>\n<li><code>start_time</code> is <code>8:00</code>, <code>end_time</code> is <code>9:00</code>.</li>\n<li><code>start_time</code> is <code>11:00</code>, <code>end_time</code> is <code>12:00</code>.</li>\n<li><code>start_time</code> is <code>12:00</code>, <code>end_time</code> is <code>13:00</code> ... and so on.</li>\n</ul>\n<p>I the objects for with <code>start_time</code> <code>9:00</code> and <code>10:00</code> will not be present in the third list because they  are booked already (<em>present in the first list</em>).</p>\n<p>I tried to create the <em>third list</em> using Java Streams, which should compare fields <code>start_time</code> and <code>end_time</code> with timestamps from the <em>second list</em>.</p>\n<p>I've tried this, but the resulting list is always empty:</p>\n<pre><code>List&lt;Timeslot&gt; availableSlots = query.stream()\n    .filter(timeslot -&gt; timestamps.contains(timeslot.getStartTime()))\n    .toList();\n</code></pre>\n<p><strong>Timeslot</strong> class:</p>\n<pre><code>@Entity(name = &quot;timeslot&quot;)\npublic class Timeslot {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;timeslot_id&quot;)\n    private Integer id;\n    @Column(name = &quot;day&quot;, columnDefinition = &quot;DATE&quot;)\n    private LocalDateTime day;\n    @Column(name = &quot;start_time&quot;)\n    private LocalDateTime startTime;\n    @Column(name = &quot;end_time&quot;)\n    private LocalDateTime endTime;\n    @Column(name = &quot;user_id&quot;)\n    private Integer userId;\n    @Column(name = &quot;is_recorded&quot;)\n    private Boolean isRecorded;\n}\n</code></pre>\n"},{"tags":["java","generics","java-stream","type-bounds"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1650154646,"post_id":71896528,"comment_id":127050075,"body_markdown":"Actually, I think this is a very good Question. Defining something in terms of itself does pose a conundrum.","body":"Actually, I think this is a very good Question. Defining something in terms of itself does pose a conundrum."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650135012,"creation_date":1650135012,"answer_id":71896619,"question_id":71896528,"body_markdown":"Why couldn&#39;t it?\r\n\r\nThis is a trick used in many places, for example enums, which are defined as:\r\n\r\n```\r\npublic abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n```\r\n\r\nThe general idea is to establish __a type parameter that represents your own type__.\r\n\r\nThat&#39;s why that parameter&#39;s letter is S. That stands for &quot;Self&quot;.\r\n\r\n\r\nHence, if we look at `DoubleStream`, it is defined as:\r\n\r\n```\r\npublic interface DoubleStream extends BaseStream&lt;Double, DoubleStream&gt; {}\r\n```\r\n\r\nThe point of doing this is for &#39;self returning&#39; methods, or at least, for methods that need to return the same type. There are loads of those in the stream concept, such as `peek`, or `limit`, or `onClose`.\r\n\r\nYou could just.. not do that, and define things as follows:\r\n\r\n```\r\npublic interface BaseStream&lt;T&gt; {\r\n  BaseStream parallel();\r\n}\r\n```\r\n\r\nBut the problem is, this __downgrades__ types. If I have an `IntStream` and I invoke `.parallel()` on it, the compiler thinks the type of that is `BaseStream`. This isn&#39;t usually relevant (in that `IntStream` can tighten the return type, that&#39;s valid as per the Java Lang Spec), but sometimes it is.\r\n\r\n","title":"How can a interface Stream extend Base stream interface having type bounds just as the stream interface i.e. Stream &lt;T&gt;?","body":"<p>Why couldn't it?</p>\n<p>This is a trick used in many places, for example enums, which are defined as:</p>\n<pre><code>public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\n</code></pre>\n<p>The general idea is to establish <strong>a type parameter that represents your own type</strong>.</p>\n<p>That's why that parameter's letter is S. That stands for &quot;Self&quot;.</p>\n<p>Hence, if we look at <code>DoubleStream</code>, it is defined as:</p>\n<pre><code>public interface DoubleStream extends BaseStream&lt;Double, DoubleStream&gt; {}\n</code></pre>\n<p>The point of doing this is for 'self returning' methods, or at least, for methods that need to return the same type. There are loads of those in the stream concept, such as <code>peek</code>, or <code>limit</code>, or <code>onClose</code>.</p>\n<p>You could just.. not do that, and define things as follows:</p>\n<pre><code>public interface BaseStream&lt;T&gt; {\n  BaseStream parallel();\n}\n</code></pre>\n<p>But the problem is, this <strong>downgrades</strong> types. If I have an <code>IntStream</code> and I invoke <code>.parallel()</code> on it, the compiler thinks the type of that is <code>BaseStream</code>. This isn't usually relevant (in that <code>IntStream</code> can tighten the return type, that's valid as per the Java Lang Spec), but sometimes it is.</p>\n"}],"owner":{"account_id":14826909,"reputation":135,"user_id":10707595,"display_name":"Indra Neel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71896619,"answer_count":1,"score":5,"last_activity_date":1650235247,"creation_date":1650134232,"question_id":71896528,"body_markdown":"I was going through Streams Documentation and had observed that Stream is a typed interface that extends Base Stream with types as T and again `Stream &lt;T&gt;`\r\n\r\n    public interface Stream&lt;T&gt; extends BaseStream&lt;T,Stream&lt;T&gt;&gt; {\r\n    }\r\n\r\nHow can a interface Stream&lt;T&gt; can extend Base stream interface having type bounds just as the stream interface i.e. `Stream &lt;T&gt;`?","title":"How can a interface Stream extend Base stream interface having type bounds just as the stream interface i.e. Stream &lt;T&gt;?","body":"<p>I was going through Streams Documentation and had observed that Stream is a typed interface that extends Base Stream with types as T and again <code>Stream &lt;T&gt;</code></p>\n<pre><code>public interface Stream&lt;T&gt; extends BaseStream&lt;T,Stream&lt;T&gt;&gt; {\n}\n</code></pre>\n<p>How can a interface Stream can extend Base stream interface having type bounds just as the stream interface i.e. <code>Stream &lt;T&gt;</code>?</p>\n"},{"tags":["java","data-structures","trie"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650231858,"post_id":71905099,"comment_id":127062546,"body_markdown":"Can you provide the example of the *input*, *result* that your code produces and *desired output*? Please, [add this information to the question](https://stackoverflow.com/posts/71905099/edit).","body":"Can you provide the example of the <i>input</i>, <i>result</i> that your code produces and <i>desired output</i>? Please, <a href=\"https://stackoverflow.com/posts/71905099/edit\">add this information to the question</a>."},{"owner":{"account_id":21393917,"reputation":1,"user_id":15757403,"display_name":"ed19"},"score":0,"creation_date":1650234033,"post_id":71905099,"comment_id":127062921,"body_markdown":"I added in what I have in main.","body":"I added in what I have in main."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650234484,"post_id":71905099,"comment_id":127062985,"body_markdown":"*trie size: 14 nodes* - so there are 14 words in a file. What are they, and what is your current output? How the method `insert()` looks like?","body":"<i>trie size: 14 nodes</i> - so there are 14 words in a file. What are they, and what is your current output? How the method <code>insert()</code> looks like?"},{"owner":{"account_id":21393917,"reputation":1,"user_id":15757403,"display_name":"ed19"},"score":0,"creation_date":1650240703,"post_id":71905099,"comment_id":127063772,"body_markdown":"No the number of nodes in the trie would be 14 with the words I gave as an example as each letter of the word is a new node     void insert(String word) {\n        TrieNode current = root;\n\n        for (char l : word.toCharArray()) {\n            current = current.getChildren().computeIfAbsent(l, c -&gt; new TrieNode());\n        }\n        current.setEndOfWord(true);\n    }","body":"No the number of nodes in the trie would be 14 with the words I gave as an example as each letter of the word is a new node     void insert(String word) {         TrieNode current = root;          for (char l : word.toCharArray()) {             current = current.getChildren().computeIfAbsent(l, c -&gt; new TrieNode());         }         current.setEndOfWord(true);     }"}],"owner":{"account_id":21393917,"reputation":1,"user_id":15757403,"display_name":"ed19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650234018,"creation_date":1650226195,"question_id":71905099,"body_markdown":"I am trying to create a size() function to return the number of nodes in my Trie but I am not sure what I need to change in TrieNode to make this possible. I create a Trie from a file with words in it and I would like it to return the number of nodes. So for a file with:\r\ncat\r\ncar\r\ndog\r\npick\r\npickle\r\nI would like it to print trie size: 14 nodes.\r\n\r\n```\r\nclass TrieNode {\r\n\r\n    public final Map&lt;Character, TrieNode&gt; children = new HashMap&lt;&gt;();\r\n\r\n    private boolean endOfWord;\r\n\r\n    static final int ALPHABET_SIZE = 26;\r\n\r\n    public Map&lt;Character, TrieNode&gt; getChildren() {\r\n        return children;\r\n    }\r\n    boolean isEndOfWord() {\r\n        return endOfWord;\r\n    }\r\n\r\n    void setEndOfWord(boolean endOfWord) {\r\n        this.endOfWord = endOfWord;\r\n    }\r\n```\r\n\r\n```\r\n        int size(TrieNode node) {\r\n            if(node == null)\r\n                return 0;\r\n\r\n            int total = 1;\r\n\r\n            for(TrieNode child : node.children)\r\n                total += size(child);\r\n\r\n            return total;\r\n        }\r\n```\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        Trie myTrie = new Trie();\r\n        try {\r\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\r\n            String line;\r\n            while ((line = reader.readLine()) != null)\r\n                myTrie.insert(line);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(&quot;Trie Size: &quot; + myTrie.size() + &quot; nodes&quot;);\r\n```","title":"How to write a recursive function to find number of nodes in a Trie?","body":"<p>I am trying to create a size() function to return the number of nodes in my Trie but I am not sure what I need to change in TrieNode to make this possible. I create a Trie from a file with words in it and I would like it to return the number of nodes. So for a file with:\ncat\ncar\ndog\npick\npickle\nI would like it to print trie size: 14 nodes.</p>\n<pre><code>class TrieNode {\n\n    public final Map&lt;Character, TrieNode&gt; children = new HashMap&lt;&gt;();\n\n    private boolean endOfWord;\n\n    static final int ALPHABET_SIZE = 26;\n\n    public Map&lt;Character, TrieNode&gt; getChildren() {\n        return children;\n    }\n    boolean isEndOfWord() {\n        return endOfWord;\n    }\n\n    void setEndOfWord(boolean endOfWord) {\n        this.endOfWord = endOfWord;\n    }\n</code></pre>\n<pre><code>        int size(TrieNode node) {\n            if(node == null)\n                return 0;\n\n            int total = 1;\n\n            for(TrieNode child : node.children)\n                total += size(child);\n\n            return total;\n        }\n</code></pre>\n<pre><code>    public static void main(String[] args) throws IOException {\n        Trie myTrie = new Trie();\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;test.txt&quot;));\n            String line;\n            while ((line = reader.readLine()) != null)\n                myTrie.insert(line);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Trie Size: &quot; + myTrie.size() + &quot; nodes&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650233704,"creation_date":1650232617,"answer_id":71905771,"question_id":71905538,"body_markdown":"`DataIntegrityViolationException` just wraps the exception thrown by the underlying JDBC driver. So it depends on if the JDBC driver provides such information in the thrown exception. But from my experience , most of the JDBC drivers will not provide the violated ID directly from the exception. It just provides some kind of error code or error message. You can try to see if it can and make sense to parse the violated ID from it.\r\n\r\nA more reliable way to find the violated ID is to check it by yourself according to your business domain before deleting rather than relies on the thrown exception. In this case, you can simply find out if there are parent exist for the children entity before actually deleting it.\r\n\r\nTo get the exception thrown by the JDBC driver from `DataIntegrityViolationException`  (i.e root cause exception), I tend to use the [Guava library][1] to get it.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ThrowablesExplained#:~:text=Throwable%20getRootCause(Throwable)","title":"get the id from an exception message spring boot","body":"<p><code>DataIntegrityViolationException</code> just wraps the exception thrown by the underlying JDBC driver. So it depends on if the JDBC driver provides such information in the thrown exception. But from my experience , most of the JDBC drivers will not provide the violated ID directly from the exception. It just provides some kind of error code or error message. You can try to see if it can and make sense to parse the violated ID from it.</p>\n<p>A more reliable way to find the violated ID is to check it by yourself according to your business domain before deleting rather than relies on the thrown exception. In this case, you can simply find out if there are parent exist for the children entity before actually deleting it.</p>\n<p>To get the exception thrown by the JDBC driver from <code>DataIntegrityViolationException</code>  (i.e root cause exception), I tend to use the <a href=\"https://github.com/google/guava/wiki/ThrowablesExplained#:%7E:text=Throwable%20getRootCause(Throwable)\" rel=\"nofollow noreferrer\">Guava library</a> to get it.</p>\n"}],"owner":{"account_id":22356844,"reputation":27,"user_id":16586982,"display_name":"Ilyasse Hanafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71905771,"answer_count":1,"score":0,"last_activity_date":1650233704,"creation_date":1650230472,"question_id":71905538,"body_markdown":"hello guys i hope you&#39;re doing well,\r\nI&#39;m catching an exception (DataIntegrityViolationException) where the specified id can&#39;t be deleted because it&#39;s still in the parent entity.\r\nI want to know if there is any way to get that specified id from the caught exception. ","title":"get the id from an exception message spring boot","body":"<p>hello guys i hope you're doing well,\nI'm catching an exception (DataIntegrityViolationException) where the specified id can't be deleted because it's still in the parent entity.\nI want to know if there is any way to get that specified id from the caught exception.</p>\n"},{"tags":["java","class","arraylist","methods","printing"],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650232945,"creation_date":1650232383,"answer_id":71905754,"question_id":71905564,"body_markdown":"First, that&#39;s not a 2D `ArrayList`, a 2D `ArrayList` would look like `ArrayList&lt;ArrayList&lt;Employee&gt;&gt;`. You are printing the entire list every iteration instead of one item each. Also, you can use `System.out.println()` instead of `System.out.print()` to add a new line after every print:\r\n\r\n    public static void printArrayList() {\r\n        for (int i = 0; x &lt; employeeList.size(); i++) {\r\n            System.out.println(employeeList.get(i));\r\n        }\r\n    }\r\n\r\nIf you want to add an empty line between every print yo can modify previous method to:\r\n\r\n    public static void printArrayList() {\r\n        for (int i = 0; x &lt; employeeList.size(); i++) {\r\n            System.out.println(employeeList.get(i) + System.lineSeparator());\r\n        }\r\n    }\r\n\r\nIf you want to surround every `Employee` with `[]`, you can modify the `toString()` method in `Employee` class:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;[&quot; + id + &quot; &quot; + firstName + &quot; &quot; + lastName \r\n            + &quot; &quot; + annualSalary + &quot; &quot; + startDate + &quot;]&quot;;\r\n    }\r\n\r\n","title":"Printing a 2D ArrayList in Java returns the length on one line","body":"<p>First, that's not a 2D <code>ArrayList</code>, a 2D <code>ArrayList</code> would look like <code>ArrayList&lt;ArrayList&lt;Employee&gt;&gt;</code>. You are printing the entire list every iteration instead of one item each. Also, you can use <code>System.out.println()</code> instead of <code>System.out.print()</code> to add a new line after every print:</p>\n<pre><code>public static void printArrayList() {\n    for (int i = 0; x &lt; employeeList.size(); i++) {\n        System.out.println(employeeList.get(i));\n    }\n}\n</code></pre>\n<p>If you want to add an empty line between every print yo can modify previous method to:</p>\n<pre><code>public static void printArrayList() {\n    for (int i = 0; x &lt; employeeList.size(); i++) {\n        System.out.println(employeeList.get(i) + System.lineSeparator());\n    }\n}\n</code></pre>\n<p>If you want to surround every <code>Employee</code> with <code>[]</code>, you can modify the <code>toString()</code> method in <code>Employee</code> class:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;[&quot; + id + &quot; &quot; + firstName + &quot; &quot; + lastName \n        + &quot; &quot; + annualSalary + &quot; &quot; + startDate + &quot;]&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":19316428,"reputation":23,"user_id":14121107,"display_name":"Farouq Syed Abdali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650232945,"creation_date":1650230763,"question_id":71905564,"body_markdown":"I need to print a 2D ArrayList. I have it set up like this:\r\n\r\n    static ArrayList &lt;Employee&gt; employeeList = new ArrayList &lt;&gt;();\r\n\r\n    public static class Employee extends Object {\r\n        //Attributes\r\n        String id, firstName, lastName, annualSalary, startDate;\r\n\r\n        //Constructor\r\n        public Employee(String id, String firstName, String lastName, String annualSalary, String startDate) {\r\n            this.id = id;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.annualSalary = annualSalary;\r\n            this.startDate = startDate;\r\n        }\r\n\r\n        //Getters or Accessors\r\n        public String getId() {\r\n            return id;\r\n        }\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n        public String getAnnualSalary() {\r\n            return annualSalary;\r\n        }\r\n        public String getStartDate() {\r\n            return startDate;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n          return id + &quot; &quot; + firstName + &quot; &quot; + lastName + &quot; &quot; + annualSalary + &quot; &quot; + startDate;\r\n        }\r\n    }\r\n    ...\r\n\r\n    public static void printArrayList() {\r\n        for (int x=0; x&lt;employeeList.size(); x++) {\r\n            for (int y=0; y&lt;=0; y++) {\r\n                System.out.print(employeeList);\r\n            }\r\n            System.out.print (&quot;\\n \\n&quot;);\r\n        }\r\n    }\r\n\r\nWhen I do this, if there is one element in the list it prints:\r\n\r\n    [12345 john henry 100000 01/01/2000]\r\n\r\nHowever, when I have 2 elements, it prints:\r\n\r\n    [12345 john henry 100000 01/01/2000, 67890 frank longman 125000 12/31/1999]\r\n    \r\n    [12345 john henry 100000 01/01/2000, 67890 frank longman 125000 12/31/1999]\r\n\r\nWhen there are 2 elements, I want it to print:\r\n\r\n    [12345 john henry 100000 01/01/2000]\r\n    \r\n    [67890 frank longman 125000 12/31/1999]\r\n\r\nHow do I fix this?","title":"Printing a 2D ArrayList in Java returns the length on one line","body":"<p>I need to print a 2D ArrayList. I have it set up like this:</p>\n<pre><code>static ArrayList &lt;Employee&gt; employeeList = new ArrayList &lt;&gt;();\n\npublic static class Employee extends Object {\n    //Attributes\n    String id, firstName, lastName, annualSalary, startDate;\n\n    //Constructor\n    public Employee(String id, String firstName, String lastName, String annualSalary, String startDate) {\n        this.id = id;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.annualSalary = annualSalary;\n        this.startDate = startDate;\n    }\n\n    //Getters or Accessors\n    public String getId() {\n        return id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public String getAnnualSalary() {\n        return annualSalary;\n    }\n    public String getStartDate() {\n        return startDate;\n    }\n\n    @Override\n    public String toString() {\n      return id + &quot; &quot; + firstName + &quot; &quot; + lastName + &quot; &quot; + annualSalary + &quot; &quot; + startDate;\n    }\n}\n...\n\npublic static void printArrayList() {\n    for (int x=0; x&lt;employeeList.size(); x++) {\n        for (int y=0; y&lt;=0; y++) {\n            System.out.print(employeeList);\n        }\n        System.out.print (&quot;\\n \\n&quot;);\n    }\n}\n</code></pre>\n<p>When I do this, if there is one element in the list it prints:</p>\n<pre><code>[12345 john henry 100000 01/01/2000]\n</code></pre>\n<p>However, when I have 2 elements, it prints:</p>\n<pre><code>[12345 john henry 100000 01/01/2000, 67890 frank longman 125000 12/31/1999]\n\n[12345 john henry 100000 01/01/2000, 67890 frank longman 125000 12/31/1999]\n</code></pre>\n<p>When there are 2 elements, I want it to print:</p>\n<pre><code>[12345 john henry 100000 01/01/2000]\n\n[67890 frank longman 125000 12/31/1999]\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","eclipse","sqlite"],"comments":[{"owner":{"account_id":9316795,"reputation":1583,"user_id":6916890,"display_name":"lazylead"},"score":0,"creation_date":1650231158,"post_id":71905458,"comment_id":127062410,"body_markdown":"There is a space `\\\\eclipse-workspace \\\\...` in your path.\nIs it expected?\n\nPlease share the full stacktrace to your error.","body":"There is a space <code>\\\\eclipse-workspace \\\\...</code> in your path. Is it expected?  Please share the full stacktrace to your error."},{"owner":{"account_id":21286025,"reputation":3,"user_id":15684256,"display_name":"FancyName112"},"score":0,"creation_date":1650233343,"post_id":71905458,"comment_id":127062794,"body_markdown":"There was no space it showed up like this here only error is java.sql.SQLEXCEPTION: [SQLITE_ERROR] SQL error or missing database (no such table:database)","body":"There was no space it showed up like this here only error is java.sql.SQLEXCEPTION: [SQLITE_ERROR] SQL error or missing database (no such table:database)"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650232499,"creation_date":1650231933,"answer_id":71905693,"question_id":71905458,"body_markdown":"SQLite is a pretty good database platform, I highly doubt it&#39;s the problem as is the JDBC version your using as well.\r\n\r\nThe Connection method you presented does indeed work but you need to keep in mind that the connection has nothing to do with tables. It has everything to towards a connection to a particular SQLite database file and if the path doesn&#39;t exist to get to the database file specified, then it simply can not find that database. If the path does exist, and local system permissions allow it, and the database file does not exist, then the connection call will automatically create the database file specified but it will be empty. Never the less, the connection is now made and ready for a database Table to be either **Created** or Accessed via a query (providing there is actual data in the table). \r\n\r\nIf there was an error regards to the connection then you would receive a Message Box on the screen, and if you do then it&#39;s probably because of the whitespace that exists in the specified database path between `eclipse-workspace` and `\\\\Training`:\r\n\r\n    &quot;jdbc:sqlite:C:\\\\Users\\\\abh\\\\eclipse-workspace \\\\Training\\\\Database.db&quot;\r\n\r\n**Edit:** Oh...as already specified by @lazylead :)\r\n\r\n**On a side:** It&#39;s not a good idea to hard-code the path to your database file. This will never be the path when the application is run in the real world.\r\n","title":"Java sqlite error (error or missing database) no such table","body":"<p>SQLite is a pretty good database platform, I highly doubt it's the problem as is the JDBC version your using as well.</p>\n<p>The Connection method you presented does indeed work but you need to keep in mind that the connection has nothing to do with tables. It has everything to towards a connection to a particular SQLite database file and if the path doesn't exist to get to the database file specified, then it simply can not find that database. If the path does exist, and local system permissions allow it, and the database file does not exist, then the connection call will automatically create the database file specified but it will be empty. Never the less, the connection is now made and ready for a database Table to be either <strong>Created</strong> or Accessed via a query (providing there is actual data in the table).</p>\n<p>If there was an error regards to the connection then you would receive a Message Box on the screen, and if you do then it's probably because of the whitespace that exists in the specified database path between <code>eclipse-workspace</code> and <code>\\\\Training</code>:</p>\n<pre><code>&quot;jdbc:sqlite:C:\\\\Users\\\\abh\\\\eclipse-workspace \\\\Training\\\\Database.db&quot;\n</code></pre>\n<p><strong>Edit:</strong> Oh...as already specified by @lazylead :)</p>\n<p><strong>On a side:</strong> It's not a good idea to hard-code the path to your database file. This will never be the path when the application is run in the real world.</p>\n"}],"owner":{"account_id":21286025,"reputation":3,"user_id":15684256,"display_name":"FancyName112"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650232499,"creation_date":1650229547,"question_id":71905458,"body_markdown":"This is the class where I connect sqlite \r\n\r\n    public static Connection ConnectDB() { \r\n\t    try {\r\n\t\t    Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t\t    Connection con= DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\Users\\\\abh\\\\eclipse-workspace \\\\Training\\\\Database.db&quot;);\r\n            return con;\r\n        }\r\n\t\tcatch (Exception e) {\r\n\t\t    JOptionPane.showMessageDialog(null,e);\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\nThe jar file inside the project folder name is sqlite-jdbc-3.7.2 I&#39;m confused whether it&#39;s because of the version or if it&#39;s from my database created in sqlite ","title":"Java sqlite error (error or missing database) no such table","body":"<p>This is the class where I connect sqlite</p>\n<pre><code>public static Connection ConnectDB() { \n    try {\n        Class.forName(&quot;org.sqlite.JDBC&quot;);\n        Connection con= DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\Users\\\\abh\\\\eclipse-workspace \\\\Training\\\\Database.db&quot;);\n        return con;\n    }\n    catch (Exception e) {\n        JOptionPane.showMessageDialog(null,e);\n        return null;\n    }\n}\n</code></pre>\n<p>The jar file inside the project folder name is sqlite-jdbc-3.7.2 I'm confused whether it's because of the version or if it's from my database created in sqlite</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1650232214,"post_id":71905584,"comment_id":127062594,"body_markdown":"Try getting rid of `ActionEvent e` in `public void calculation(ActionEvent e)`. Then try `btnCalc.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent e) {\n            calculation();\n        }\n    });`","body":"Try getting rid of <code>ActionEvent e</code> in <code>public void calculation(ActionEvent e)</code>. Then try <code>btnCalc.setOnAction(new EventHandler&lt;ActionEvent&gt;() {         @Override         public void handle(ActionEvent e) {             calculation();         }     });</code>"}],"answers":[{"tags":[],"owner":{"account_id":24886530,"reputation":158,"user_id":18759069,"display_name":"Vincent Batens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650232363,"creation_date":1650232363,"answer_id":71905750,"question_id":71905584,"body_markdown":"The function btnCalc.setOnAction() asks for an EventHandler as parameter. What this will do is every time you press the button, it will execute the handle() method of that EventHandler (which is empty in your case). You can solve that in 3 different ways:\r\n\r\n - You call your calculation(ActionEvent e) function in the handle(ActionEvent e) function of the EventHandler (if you do this, you can delete the ActionEvent parameter from calculation().\r\n - You copy your code from calculation(ActionEvent e) into handle(ActionEvent e)\r\n - The best option here probably is to use a lambda. When an interface has just 1 function, you don&#39;t have to &quot;make&quot; an object of the interface but you can just give the function in the following way:\r\n```java\r\nbtnCalc.setOnAction(e -&gt; calculation());\r\n```\r\nIn this case you can also remove the ActionEvent e from the parameters of calculation().\r\n\r\nSo the total code would look like this:\r\n```java\r\n        btnCalc.setOnAction(e -&gt; calculation());\r\n\r\npublic void calculation() {\r\n    int num1, num2, answer;\r\n\r\n    num1 = Integer.parseInt(tfNum1.getText());\r\n    num2 = Integer.parseInt((tfNum2.getText()));\r\n\r\n    if (rbAdd.isSelected()) {\r\n        answer = num1 + num2;\r\n    } else if (rbSubtract.isSelected()) {\r\n        answer = num1 - num2;\r\n    } else if (rbMultiply.isSelected()) {\r\n        answer = num1 * num2;\r\n    } else {\r\n        answer = num1 / num2;\r\n    }\r\n\r\n    tfAns.setText(String.valueOf(answer));\r\n```\r\n","title":"JavaFX Simple Calculator - Calculate Button Action","body":"<p>The function btnCalc.setOnAction() asks for an EventHandler as parameter. What this will do is every time you press the button, it will execute the handle() method of that EventHandler (which is empty in your case). You can solve that in 3 different ways:</p>\n<ul>\n<li>You call your calculation(ActionEvent e) function in the handle(ActionEvent e) function of the EventHandler (if you do this, you can delete the ActionEvent parameter from calculation().</li>\n<li>You copy your code from calculation(ActionEvent e) into handle(ActionEvent e)</li>\n<li>The best option here probably is to use a lambda. When an interface has just 1 function, you don't have to &quot;make&quot; an object of the interface but you can just give the function in the following way:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>btnCalc.setOnAction(e -&gt; calculation());\n</code></pre>\n<p>In this case you can also remove the ActionEvent e from the parameters of calculation().</p>\n<p>So the total code would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        btnCalc.setOnAction(e -&gt; calculation());\n\npublic void calculation() {\n    int num1, num2, answer;\n\n    num1 = Integer.parseInt(tfNum1.getText());\n    num2 = Integer.parseInt((tfNum2.getText()));\n\n    if (rbAdd.isSelected()) {\n        answer = num1 + num2;\n    } else if (rbSubtract.isSelected()) {\n        answer = num1 - num2;\n    } else if (rbMultiply.isSelected()) {\n        answer = num1 * num2;\n    } else {\n        answer = num1 / num2;\n    }\n\n    tfAns.setText(String.valueOf(answer));\n</code></pre>\n"}],"owner":{"account_id":24978072,"reputation":53,"user_id":18840506,"display_name":"FunctionUndefined"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71905750,"answer_count":1,"score":1,"last_activity_date":1650232363,"creation_date":1650230938,"question_id":71905584,"body_markdown":"I am working on a Simple JavaFX Calculator for school, I am stuck on putting together an Action Event that take the input from both text fields, the radio button that is selected, and the perform that event when the calculate button is pressed. \r\n\r\n            btnCalc.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent e) {\r\n\r\n            }\r\n        });\r\n    }\r\n    public void calculation(ActionEvent e) {\r\n        int num1, num2, answer;\r\n\r\n        num1 = Integer.parseInt(tfNum1.getText());\r\n        num2 = Integer.parseInt((tfNum2.getText()));\r\n\r\n        if (rbAdd.isSelected()) {\r\n            answer = num1 + num2;\r\n        } else if (rbSubtract.isSelected()) {\r\n            answer = num1 - num2;\r\n        } else if (rbMultiply.isSelected()) {\r\n            answer = num1 * num2;\r\n        } else {\r\n            answer = num1 / num2;\r\n        }\r\n\r\n        tfAns.setText(String.valueOf(answer));\r\n\r\n[Program Preview][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3l940.png","title":"JavaFX Simple Calculator - Calculate Button Action","body":"<p>I am working on a Simple JavaFX Calculator for school, I am stuck on putting together an Action Event that take the input from both text fields, the radio button that is selected, and the perform that event when the calculate button is pressed.</p>\n<pre><code>        btnCalc.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n        @Override\n        public void handle(ActionEvent e) {\n\n        }\n    });\n}\npublic void calculation(ActionEvent e) {\n    int num1, num2, answer;\n\n    num1 = Integer.parseInt(tfNum1.getText());\n    num2 = Integer.parseInt((tfNum2.getText()));\n\n    if (rbAdd.isSelected()) {\n        answer = num1 + num2;\n    } else if (rbSubtract.isSelected()) {\n        answer = num1 - num2;\n    } else if (rbMultiply.isSelected()) {\n        answer = num1 * num2;\n    } else {\n        answer = num1 / num2;\n    }\n\n    tfAns.setText(String.valueOf(answer));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3l940.png\" rel=\"nofollow noreferrer\">Program Preview</a></p>\n"},{"tags":["java","javafx","gridpane"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":2,"creation_date":1650211458,"post_id":71903320,"comment_id":127058505,"body_markdown":"Does this answer your question? [JavaFx GridPane - how to center elements](https://stackoverflow.com/questions/12816075/javafx-gridpane-how-to-center-elements)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12816075/javafx-gridpane-how-to-center-elements\">JavaFx GridPane - how to center elements</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1650214868,"post_id":71903320,"comment_id":127059229,"body_markdown":"Also consider the approach examined [here](https://stackoverflow.com/q/31909941/230513), which obviates the need for a calculate button altogether.","body":"Also consider the approach examined <a href=\"https://stackoverflow.com/q/31909941/230513\">here</a>, which obviates the need for a calculate button altogether."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1650217054,"post_id":71903320,"comment_id":127059700,"body_markdown":"You need to make the button span two columns, and then center it, so it is centered across both columns. Just read the API docs for the method calls.","body":"You need to make the button span two columns, and then center it, so it is centered across both columns. Just read the API docs for the method calls."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650231977,"creation_date":1650231977,"answer_id":71905699,"question_id":71903320,"body_markdown":"I originally thought you were trying to center each line. After seeing James_D&#39;s comment, it seems that you are only having an issue with the calculate `Button`.\r\n\r\nFor that try:\r\n\r\n```\r\npane.add(button, 0, 4, 2, 1); //add(Node child, int columnIndex, int rowIndex, int colspan, int rowspan)\r\nGridPane.setHalignment(button, HPos.CENTER);\r\n```","title":"JavaFX Gridpane Layout with Colspan and Rowspan","body":"<p>I originally thought you were trying to center each line. After seeing James_D's comment, it seems that you are only having an issue with the calculate <code>Button</code>.</p>\n<p>For that try:</p>\n<pre><code>pane.add(button, 0, 4, 2, 1); //add(Node child, int columnIndex, int rowIndex, int colspan, int rowspan)\nGridPane.setHalignment(button, HPos.CENTER);\n</code></pre>\n"}],"owner":{"account_id":24974966,"reputation":1,"user_id":18837702,"display_name":"Kennedy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650231977,"creation_date":1650210716,"question_id":71903320,"body_markdown":"I&#39;m trying to center a button in JavaFX using Gridpane. I was told to use colspan and rowspan, but I can&#39;t figure out how those work.\r\n\r\n        pane.add(label1, 0, 1);\r\n        pane.add(text1, 1, 1);\r\n        pane.add(radioButton1, 0, 2);\r\n        pane.add(radioButton2, 1, 2);\r\n        pane.add(label2, 0, 3);\r\n        pane.add(text2, 1, 3);\r\n        pane.add(button, 0, 4); //What I&#39;m trying to span.\r\n   \r\n\r\n[This is what I have,][1] and [This is where I want the button to be.][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qa5Dq.png\r\n  [2]: https://i.stack.imgur.com/DqSOo.png","title":"JavaFX Gridpane Layout with Colspan and Rowspan","body":"<p>I'm trying to center a button in JavaFX using Gridpane. I was told to use colspan and rowspan, but I can't figure out how those work.</p>\n<pre><code>    pane.add(label1, 0, 1);\n    pane.add(text1, 1, 1);\n    pane.add(radioButton1, 0, 2);\n    pane.add(radioButton2, 1, 2);\n    pane.add(label2, 0, 3);\n    pane.add(text2, 1, 3);\n    pane.add(button, 0, 4); //What I'm trying to span.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qa5Dq.png\" rel=\"nofollow noreferrer\">This is what I have,</a> and <a href=\"https://i.stack.imgur.com/DqSOo.png\" rel=\"nofollow noreferrer\">This is where I want the button to be.</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":5,"creation_date":1649657780,"post_id":71823369,"comment_id":126922158,"body_markdown":"An abstract class can have abstract methods but those can&#39;t have a body (otherwise they wouldn&#39;t be abstract anymore). What are you trying to achieve with this construct? I don&#39;t see any need for that getter and setter to be abstract.","body":"An abstract class can have abstract methods but those can&#39;t have a body (otherwise they wouldn&#39;t be abstract anymore). What are you trying to achieve with this construct? I don&#39;t see any need for that getter and setter to be abstract."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1649664909,"creation_date":1649658284,"answer_id":71823435,"question_id":71823369,"body_markdown":"# tl;dr\r\n\r\nYour code violates the rule that abstract methods have no body.\r\n\r\n\r\n# Details\r\n\r\nAn abstract class in Java can have:\r\n\r\n - Methods that are concrete (implemented).\r\n - Methods that are abstract (not implemented). \r\n\r\nAnother class extending that abstract class: \r\n\r\n - *May* override the concrete methods\r\n - *Must* implement the abstract methods.\r\n\r\nYour **example code is *not* proper Java code** because you have `abstract` methods that carry an implementation. By definition, an abstract method has no implementation. \r\n\r\nSide issue: Your getter method must return something, but you declared it `void`. \r\n\r\nSide issue: A private member field is not visible to subclass. So change that scope if you want abstract methods.\r\n\r\n(By the way, single `l` in &quot;modeler&quot;) \r\n\r\nModify your code to either be this:\r\n\r\n```java\r\npublic abstract class Modeler {\r\n    // Fields\r\n    String model;\r\n\r\n    // Methods\r\n    abstract String getModel() ;\r\n    abstract void setModel( String model ) ;\r\n}\r\n```\r\n\r\n(See a working [example of this at IdeOne.com][1])\r\n\r\n… or this:\r\n\r\n```\r\npublic abstract class Modeler {\r\n    // Fields\r\n    private String model;\r\n\r\n    // Methods\r\n    String getModel(){\r\n        return this.model;\r\n    }\r\n    void setModel( String model ){\r\n        this.model = model;\r\n    }\r\n}\r\n```\r\n\r\nSee a working [example of this code at IdeOne.com][2].\r\n\r\n\r\n----------\r\n\r\n\r\nI have ignored the issue of whether or not this is smart handling of getter/setter accessor methods. I want to focus on your specific question of how to do abstract methods.\r\n\r\n\r\n  [1]: https://ideone.com/Nperfi\r\n  [2]: https://ideone.com/wlcRIw","title":"Is it possible that getters and setters be made abstract in an abstract?","body":"<h1>tl;dr</h1>\n<p>Your code violates the rule that abstract methods have no body.</p>\n<h1>Details</h1>\n<p>An abstract class in Java can have:</p>\n<ul>\n<li>Methods that are concrete (implemented).</li>\n<li>Methods that are abstract (not implemented).</li>\n</ul>\n<p>Another class extending that abstract class:</p>\n<ul>\n<li><em>May</em> override the concrete methods</li>\n<li><em>Must</em> implement the abstract methods.</li>\n</ul>\n<p>Your <strong>example code is <em>not</em> proper Java code</strong> because you have <code>abstract</code> methods that carry an implementation. By definition, an abstract method has no implementation.</p>\n<p>Side issue: Your getter method must return something, but you declared it <code>void</code>.</p>\n<p>Side issue: A private member field is not visible to subclass. So change that scope if you want abstract methods.</p>\n<p>(By the way, single <code>l</code> in &quot;modeler&quot;)</p>\n<p>Modify your code to either be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Modeler {\n    // Fields\n    String model;\n\n    // Methods\n    abstract String getModel() ;\n    abstract void setModel( String model ) ;\n}\n</code></pre>\n<p>(See a working <a href=\"https://ideone.com/Nperfi\" rel=\"nofollow noreferrer\">example of this at IdeOne.com</a>)</p>\n<p>… or this:</p>\n<pre><code>public abstract class Modeler {\n    // Fields\n    private String model;\n\n    // Methods\n    String getModel(){\n        return this.model;\n    }\n    void setModel( String model ){\n        this.model = model;\n    }\n}\n</code></pre>\n<p>See a working <a href=\"https://ideone.com/wlcRIw\" rel=\"nofollow noreferrer\">example of this code at IdeOne.com</a>.</p>\n<hr />\n<p>I have ignored the issue of whether or not this is smart handling of getter/setter accessor methods. I want to focus on your specific question of how to do abstract methods.</p>\n"}],"owner":{"account_id":18525716,"reputation":7,"user_id":13497665,"display_name":"John Domeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650231726,"creation_date":1649657728,"question_id":71823369,"body_markdown":"```\r\npublic abstract class Modeller {\r\n    private String model;\r\n     abstract void getModel();\r\n    abstract void setModel(String model);\r\n```\r\nIs it possible having something like this. If so how well is it implemented because what code snippet I have above runs with errors.","title":"Is it possible that getters and setters be made abstract in an abstract?","body":"<pre><code>public abstract class Modeller {\n    private String model;\n     abstract void getModel();\n    abstract void setModel(String model);\n</code></pre>\n<p>Is it possible having something like this. If so how well is it implemented because what code snippet I have above runs with errors.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":1,"creation_date":1650351681,"post_id":71905577,"comment_id":127087710,"body_markdown":"You could try to update some versions: Vaadin -&gt; 23.0.6, crudui -&gt; 6.0.0, collaboration-engine -&gt; 5.0.1 (you can actually remove collaboration engine dependency as it is available through vaadin-bom).","body":"You could try to update some versions: Vaadin -&gt; 23.0.6, crudui -&gt; 6.0.0, collaboration-engine -&gt; 5.0.1 (you can actually remove collaboration engine dependency as it is available through vaadin-bom)."},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":0,"creation_date":1650351721,"post_id":71905577,"comment_id":127087717,"body_markdown":"And once dependencies are updated, remove `node_modules` before trying to build again.","body":"And once dependencies are updated, remove <code>node_modules</code> before trying to build again."}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650230878,"creation_date":1650230878,"question_id":71905577,"body_markdown":"I&#39;m new in Vaading, and I&#39;m trying to create an example project. During compiling Vaadin spring boot project,with this  pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;crud&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;crud&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;vaadin-addons&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;crudui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;23.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;production&lt;/id&gt;\r\n    \t\t\t&lt;build&gt;\r\n    \t\t\t\t&lt;plugins&gt;\r\n    \t\t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;23.0.6&lt;/version&gt;\r\n    \t\t\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t\t\t&lt;id&gt;frontend&lt;/id&gt;\r\n    \t\t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n    \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;goal&gt;build-frontend&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;productionMode&gt;true&lt;/productionMode&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;/plugins&gt;\r\n    \t\t\t&lt;/build&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nAfter runngin this commands:\r\n\r\n    mvnw clean install\r\n    \r\n    mvnw spring-boot:run\r\n\r\n I receive many errors for modules not found in the folder projectname\\target\\flow-frontend\\field-highlighter\\src. The stanger think is that i do not see this target folder into root project. Same story if I run npm install, and execute again the above commands. Below are the specific error: \r\n\r\n\r\n    2022-04-17 22:56:41.659  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskUpdatePackages      : Frontend dependencies resolved successfully.\r\n    2022-04-17 22:56:44.249  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskCopyFrontendFiles   : Copying frontend resources from jar files ...\r\n    2022-04-17 22:56:44.308  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskCopyFrontendFiles   : Visited 17 resources. Took 58 ms.\r\n    2022-04-17 22:56:44.374  INFO 12028 --- [onPool-worker-5] c.v.b.devserver.AbstractDevServerRunner  : Starting Webpack\r\n    2022-04-17 22:56:44.568  INFO 12028 --- [onPool-worker-5] c.v.flow.server.frontend.FrontendTools   : Globally node version 10.15.3 is older than 16.14.0. Using node from C:\\Users\\davide\\.vaadin.\r\n    \r\n    ------------------ Starting Frontend compilation. ------------------\r\n    2022-04-17 22:56:45.671  INFO 12028 --- [onPool-worker-5] c.v.b.devserver.AbstractDevServerRunner  : Running Webpack to compile frontend resources. This may take a moment, please stand by...\r\n    2022-04-17 22:56:50.311  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Project is running at:\r\n    2022-04-17 22:56:50.311  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Loopback: http://localhost:64731/\r\n    2022-04-17 22:56:50.312  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] On Your Network (IPv4): http://192.168.1.189:64731/\r\n    2022-04-17 22:56:50.312  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Content not from webpack is served from &#39;C:\\shared_folder\\crud\\target\\classes\\META-INF\\VAADIN\\webapp, C:\\share\r\n    d_folder\\crud\\src\\main\\webapp&#39; directory\r\n    2022-04-17 22:56:53.591  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\r\n    2022-04-17 22:56:53.591  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in ../target/flow-frontend/field-highlighter/src/vaadin-field-highlighter.js\r\n    2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : Module not found: Error: Can&#39;t resolve &#39;@polymer/iron-a11y-announcer/iron-a11y-announcer.js&#39; in &#39;C:\\shared_folder\\crud\\target\\flow-\r\n    frontend\\field-highlighter\\src&#39;\r\n    2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\r\n    2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in ../target/flow-frontend/field-highlighter/src/vaadin-field-highlighter.js\r\n    2022-04-17 22:56:53.593  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : Module not found: Error: Can&#39;t resolve &#39;@vaadin/vaadin-element-mixin/vaadin-dir-mixin.js&#39; in &#39;C:\\shared_folder\\crud\\target\\flow-fro\r\n\r\nHow can I solve it?\r\n\r\n\r\n\r\n","title":"Vaadin spring boot Frontend compiling failed","body":"<p>I'm new in Vaading, and I'm trying to create an example project. During compiling Vaadin spring boot project,with this  pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;crud&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;crud&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-addons&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\n            &lt;artifactId&gt;crudui&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;23.0.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;23.0.6&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;frontend&lt;/id&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;productionMode&gt;true&lt;/productionMode&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>After runngin this commands:</p>\n<pre><code>mvnw clean install\n\nmvnw spring-boot:run\n</code></pre>\n<p>I receive many errors for modules not found in the folder projectname\\target\\flow-frontend\\field-highlighter\\src. The stanger think is that i do not see this target folder into root project. Same story if I run npm install, and execute again the above commands. Below are the specific error:</p>\n<pre><code>2022-04-17 22:56:41.659  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskUpdatePackages      : Frontend dependencies resolved successfully.\n2022-04-17 22:56:44.249  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskCopyFrontendFiles   : Copying frontend resources from jar files ...\n2022-04-17 22:56:44.308  INFO 12028 --- [onPool-worker-5] c.v.f.s.frontend.TaskCopyFrontendFiles   : Visited 17 resources. Took 58 ms.\n2022-04-17 22:56:44.374  INFO 12028 --- [onPool-worker-5] c.v.b.devserver.AbstractDevServerRunner  : Starting Webpack\n2022-04-17 22:56:44.568  INFO 12028 --- [onPool-worker-5] c.v.flow.server.frontend.FrontendTools   : Globally node version 10.15.3 is older than 16.14.0. Using node from C:\\Users\\davide\\.vaadin.\n\n------------------ Starting Frontend compilation. ------------------\n2022-04-17 22:56:45.671  INFO 12028 --- [onPool-worker-5] c.v.b.devserver.AbstractDevServerRunner  : Running Webpack to compile frontend resources. This may take a moment, please stand by...\n2022-04-17 22:56:50.311  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Project is running at:\n2022-04-17 22:56:50.311  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Loopback: http://localhost:64731/\n2022-04-17 22:56:50.312  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] On Your Network (IPv4): http://192.168.1.189:64731/\n2022-04-17 22:56:50.312  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : [webpack-dev-server] Content not from webpack is served from 'C:\\shared_folder\\crud\\target\\classes\\META-INF\\VAADIN\\webapp, C:\\share\nd_folder\\crud\\src\\main\\webapp' directory\n2022-04-17 22:56:53.591  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\n2022-04-17 22:56:53.591  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in ../target/flow-frontend/field-highlighter/src/vaadin-field-highlighter.js\n2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : Module not found: Error: Can't resolve '@polymer/iron-a11y-announcer/iron-a11y-announcer.js' in 'C:\\shared_folder\\crud\\target\\flow-\nfrontend\\field-highlighter\\src'\n2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   :\n2022-04-17 22:56:53.592  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : ERROR in ../target/flow-frontend/field-highlighter/src/vaadin-field-highlighter.js\n2022-04-17 22:56:53.593  INFO 12028 --- [v-server-output] c.v.b.devserver.DevServerOutputTracker   : Module not found: Error: Can't resolve '@vaadin/vaadin-element-mixin/vaadin-dir-mixin.js' in 'C:\\shared_folder\\crud\\target\\flow-fro\n</code></pre>\n<p>How can I solve it?</p>\n"},{"tags":["java","list","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650230406,"creation_date":1650220193,"answer_id":71904462,"question_id":71904261,"body_markdown":"Local variables that are allowed to be used in the lambda expressions needs to be ***final*** or ***effectively final***.\r\n\r\nHave a look at the [Oracle&#39;s tutorial on lambdas](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html). A short excerpt:\r\n\r\n&gt; a lambda expression can only access local variables and parameters of\r\n&gt; the enclosing block that are final or effectively final. In this\r\n&gt; example, the variable z is effectively final; its value is never\r\n&gt; changed after it&#39;s initialized.\r\n\r\nYou can construct a *map* from a *list* using indices of items in the *list* as *values* by utilizing [`IntStream.range()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#range(int,int)).\r\n\r\nAlso note that [`forEach()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)) doesn&#39;t return a value. In order to generate a *map* as a result of the execution of the stream pipeline that will be returned from the method, you need to use `collect()` as terminal operation.\r\n\r\n```\r\nMap&lt;String, Integer&gt; result = \r\n    IntStream.range(0, cities.size())\r\n             .boxed()\r\n             .collect(Collectors.toMap(i -&gt; cities.get(i).getName(),\r\n                                       Function.identity()));\r\n```","title":"How to convert a List of objects into a Map&lt;String, Integer&gt; with auto-generated values?","body":"<p>Local variables that are allowed to be used in the lambda expressions needs to be <em><strong>final</strong></em> or <em><strong>effectively final</strong></em>.</p>\n<p>Have a look at the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Oracle's tutorial on lambdas</a>. A short excerpt:</p>\n<blockquote>\n<p>a lambda expression can only access local variables and parameters of\nthe enclosing block that are final or effectively final. In this\nexample, the variable z is effectively final; its value is never\nchanged after it's initialized.</p>\n</blockquote>\n<p>You can construct a <em>map</em> from a <em>list</em> using indices of items in the <em>list</em> as <em>values</em> by utilizing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/IntStream.html#range(int,int)\" rel=\"nofollow noreferrer\"><code>IntStream.range()</code></a>.</p>\n<p>Also note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEach()</code></a> doesn't return a value. In order to generate a <em>map</em> as a result of the execution of the stream pipeline that will be returned from the method, you need to use <code>collect()</code> as terminal operation.</p>\n<pre><code>Map&lt;String, Integer&gt; result = \n    IntStream.range(0, cities.size())\n             .boxed()\n             .collect(Collectors.toMap(i -&gt; cities.get(i).getName(),\n                                       Function.identity()));\n</code></pre>\n"}],"owner":{"account_id":23778005,"reputation":57,"user_id":17791152,"display_name":"G T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71904462,"answer_count":1,"score":1,"last_activity_date":1650230406,"creation_date":1650218722,"question_id":71904261,"body_markdown":"I have `List&lt;City&gt; cities`. I need to convert `cities` into a map `Map&lt;String, Integer&gt;`, where the value (`Integer`) has to be auto-generated.\r\n\r\nI tried this, but it seems not allowed to use `counter` like that because of atomic error. Ho to solve this task?\r\n```    \r\npublic Map&lt;String, Integer&gt; convertListToMap(List&lt;City&gt; cities) {\r\n    Integer counter=0;\r\n    return cities.stream().forEach(elem-&gt;tollFreeVehicles.put(elem.getName(), counter++));\r\n}\r\n```","title":"How to convert a List of objects into a Map&lt;String, Integer&gt; with auto-generated values?","body":"<p>I have <code>List&lt;City&gt; cities</code>. I need to convert <code>cities</code> into a map <code>Map&lt;String, Integer&gt;</code>, where the value (<code>Integer</code>) has to be auto-generated.</p>\n<p>I tried this, but it seems not allowed to use <code>counter</code> like that because of atomic error. Ho to solve this task?</p>\n<pre><code>public Map&lt;String, Integer&gt; convertListToMap(List&lt;City&gt; cities) {\n    Integer counter=0;\n    return cities.stream().forEach(elem-&gt;tollFreeVehicles.put(elem.getName(), counter++));\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650217641,"post_id":71903871,"comment_id":127059833,"body_markdown":"*creating a new array (called arrayObject) that is the length of the array named data?* Yes, exactly.","body":"<i>creating a new array (called arrayObject) that is the length of the array named data?</i> Yes, exactly."}],"answers":[{"tags":[],"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650229230,"creation_date":1650229230,"answer_id":71905437,"question_id":71903871,"body_markdown":"It’s creating a new set of double that have length of data.length.","title":"I am trying to figure out what exactly this line does. I have an hypothesis of what this does, but does not know for sure what it does","body":"<p>It’s creating a new set of double that have length of data.length.</p>\n"}],"owner":{"display_name":"user15048458"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650229230,"creation_date":1650215539,"question_id":71903871,"body_markdown":"I think I&#39;m just having a brain-fart right now but I do not know what this code is doing. It&#39;s creating a new object? Or creating a new array (called arrayObject) that is the length of the array named data? I know this is probably a super simple question but I would like to know please.\r\n```double [] arrayObject = new double[data.length];```","title":"I am trying to figure out what exactly this line does. I have an hypothesis of what this does, but does not know for sure what it does","body":"<p>I think I'm just having a brain-fart right now but I do not know what this code is doing. It's creating a new object? Or creating a new array (called arrayObject) that is the length of the array named data? I know this is probably a super simple question but I would like to know please.\n<code>double [] arrayObject = new double[data.length];</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8569,"page":1423,"page_size":100}
