{"items":[{"tags":["java","javafx","javafx-css"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1699498580,"post_id":77449907,"comment_id":136540718,"body_markdown":"I don&#39;t have data, but I find option 1 is significantly simpler to develop and maintain. Unless you&#39;ve profiled a performance issue, and you&#39;ve confirmed a more complicated solution provides measured improvements, I say use the simpler solution.","body":"I don&#39;t have data, but I find option 1 is significantly simpler to develop and maintain. Unless you&#39;ve profiled a performance issue, and you&#39;ve confirmed a more complicated solution provides measured improvements, I say use the simpler solution."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1699526268,"post_id":77449907,"comment_id":136544311,"body_markdown":"My advice is to use the design that best fits function and ease of development and maintenance rather than performance.  If performance was an absolute concern you might not use CSS at all, but that would be extreme and I wouldn’t recommend it.  The standard JavaFX controls have a single style sheet (modena.css in the JavaFX controls jar), so if you use any control then you will be using a massive style sheet (like your option 1) anyway.  I’m not sure why you would choose to style excursively via ids rather than classes, that seems a bit weird, but I guess if it works for you, then fine.","body":"My advice is to use the design that best fits function and ease of development and maintenance rather than performance.  If performance was an absolute concern you might not use CSS at all, but that would be extreme and I wouldn’t recommend it.  The standard JavaFX controls have a single style sheet (modena.css in the JavaFX controls jar), so if you use any control then you will be using a massive style sheet (like your option 1) anyway.  I’m not sure why you would choose to style excursively via ids rather than classes, that seems a bit weird, but I guess if it works for you, then fine."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1699532537,"post_id":77449907,"comment_id":136545423,"body_markdown":"@jewelsea that makes sense, I use a custom colors stylesheet globally and then all nodes within scene have access to it. About styling classes, according to openJDK it really messes up with performance (you wouldn&#39;t notice it for small-medium size applications, but it changes when you have dozens of thousands of nodes rendering in scene graph as my application do).\nhttps://wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks","body":"@jewelsea that makes sense, I use a custom colors stylesheet globally and then all nodes within scene have access to it. About styling classes, according to openJDK it really messes up with performance (you wouldn&#39;t notice it for small-medium size applications, but it changes when you have dozens of thousands of nodes rendering in scene graph as my application do). <a href=\"https://wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks\" rel=\"nofollow noreferrer\">wiki.openjdk.org/display/OpenJFX/Performance+Tips+and+Tricks</a>"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699511937,"creation_date":1699511155,"answer_id":77450914,"question_id":77449907,"body_markdown":"**Solution:**\r\n\r\nThe best approach is to apply the CSS files globally for globally things, like button styling, etc. \r\n\r\nIf you have scene specific CSS, e.g. there is one button on a specific scene, which needs height 500px, then put this into a separate CSS file and add it to the scene. \r\n\r\nReasons for that:\r\n\r\n1. Most easiest way to develop.\r\n2. You know where you have your CSS.\r\n3. Easier to maintain if you need to alter the color of your buttons e.g.\r\n4. This is the way how it is done in web development too.\r\n5. Your general scene CSS file contains only CSS you need on all scenes. This makes it very readable.\r\n6. You don&#39;t have to bother with hundreds of specific CSS rules because exactly this rules are in a scene specific CSS file.\r\n7. If you are having performance problems with this way to do it, then this way to do it is not the problem.\r\n\r\nRules of thumb:\r\n\r\n1. Add CSS files only to root nodes or scenes directly.\r\n2. Have a global/general CSS file which contains all general node styling.\r\n3. Put node specific CSS into a separate Scene specific CSS file and add it to the scene. ","title":"Best Approach for Managing CSS Stylesheets and Style Classes in a JavaFX Application","body":"<p><strong>Solution:</strong></p>\n<p>The best approach is to apply the CSS files globally for globally things, like button styling, etc.</p>\n<p>If you have scene specific CSS, e.g. there is one button on a specific scene, which needs height 500px, then put this into a separate CSS file and add it to the scene.</p>\n<p>Reasons for that:</p>\n<ol>\n<li>Most easiest way to develop.</li>\n<li>You know where you have your CSS.</li>\n<li>Easier to maintain if you need to alter the color of your buttons e.g.</li>\n<li>This is the way how it is done in web development too.</li>\n<li>Your general scene CSS file contains only CSS you need on all scenes. This makes it very readable.</li>\n<li>You don't have to bother with hundreds of specific CSS rules because exactly this rules are in a scene specific CSS file.</li>\n<li>If you are having performance problems with this way to do it, then this way to do it is not the problem.</li>\n</ol>\n<p>Rules of thumb:</p>\n<ol>\n<li>Add CSS files only to root nodes or scenes directly.</li>\n<li>Have a global/general CSS file which contains all general node styling.</li>\n<li>Put node specific CSS into a separate Scene specific CSS file and add it to the scene.</li>\n</ol>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699511937,"creation_date":1699493312,"question_id":77449907,"body_markdown":"I&#39;m working on a JavaFX application with numerous CSS files. These CSS files are unique in that they don&#39;t extend control classes like `.vbox {}` or `.button {}`; instead, they define custom node CSS properties using IDs (e.g., `#custom-node-name {}`).\r\n\r\nI&#39;m currently faced with two possible approaches for integrating these CSS files into my application, and I&#39;m concerned about their performance implications.\r\n\r\n**Option 1: Apply All CSS Files Globally**\r\n\r\nIn this approach, I would add all of these CSS files to the scene or the scene&#39;s root `Parent` and reference the custom node properties through style classes that match the node&#39;s type. For example, if it&#39;s a button, I&#39;d use `#custom-button`, and for a text field, `#custom-text-field`.\r\n\r\nThe potential issue here is that every node in my scene graph would have to search through every CSS stylesheet to find the style class it requires, which could be problematic in terms of performance.\r\n\r\n**Option 2: Apply CSS Files to Individual Nodes**\r\n\r\nIn this alternative, I&#39;d add the stylesheet to each individual node that needs access to the custom CSS property and then apply the corresponding style class to it. Similarly, if my `Pane` node contains multiple child nodes that require the same style class, I&#39;d add the CSS file to the `Pane`, and all child nodes within it can access the style class.\r\n\r\nThe issue with this approach is that I might end up adding the same CSS stylesheet multiple times to the scene graph. For instance, different parts of the application might require the same styling for different nodes, resulting in redundant stylesheet references.\r\n\r\n**My Question:**\r\nWhich approach is the most performant way of handling CSS stylesheets and style classes in a JavaFX application? Should I go with Option 1, Option 2, or is there a better approach that balances performance and maintainability?","title":"Best Approach for Managing CSS Stylesheets and Style Classes in a JavaFX Application","body":"<p>I'm working on a JavaFX application with numerous CSS files. These CSS files are unique in that they don't extend control classes like <code>.vbox {}</code> or <code>.button {}</code>; instead, they define custom node CSS properties using IDs (e.g., <code>#custom-node-name {}</code>).</p>\n<p>I'm currently faced with two possible approaches for integrating these CSS files into my application, and I'm concerned about their performance implications.</p>\n<p><strong>Option 1: Apply All CSS Files Globally</strong></p>\n<p>In this approach, I would add all of these CSS files to the scene or the scene's root <code>Parent</code> and reference the custom node properties through style classes that match the node's type. For example, if it's a button, I'd use <code>#custom-button</code>, and for a text field, <code>#custom-text-field</code>.</p>\n<p>The potential issue here is that every node in my scene graph would have to search through every CSS stylesheet to find the style class it requires, which could be problematic in terms of performance.</p>\n<p><strong>Option 2: Apply CSS Files to Individual Nodes</strong></p>\n<p>In this alternative, I'd add the stylesheet to each individual node that needs access to the custom CSS property and then apply the corresponding style class to it. Similarly, if my <code>Pane</code> node contains multiple child nodes that require the same style class, I'd add the CSS file to the <code>Pane</code>, and all child nodes within it can access the style class.</p>\n<p>The issue with this approach is that I might end up adding the same CSS stylesheet multiple times to the scene graph. For instance, different parts of the application might require the same styling for different nodes, resulting in redundant stylesheet references.</p>\n<p><strong>My Question:</strong>\nWhich approach is the most performant way of handling CSS stylesheets and style classes in a JavaFX application? Should I go with Option 1, Option 2, or is there a better approach that balances performance and maintainability?</p>\n"},{"tags":["java","multithreading","thread-sleep","awaitility"],"answers":[{"tags":[],"owner":{"account_id":25118250,"reputation":256,"user_id":18966950,"display_name":"quick response"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1699511841,"creation_date":1651078700,"answer_id":72032661,"question_id":71346616,"body_markdown":"Probably too late of an answer but there are several ways to do it.\r\n\r\nThis tells awaitility to have a poll delay of 4 minutes. So, wait 4 minutes before doing the assertion.\r\n\r\n```\r\nAwaitility\r\n    .await()\r\n    .pollDelay(4, TimeUnit.MINUTES)\r\n    .untilAsserted(() -&gt; Assert.assertTrue(true));\r\n```","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>Probably too late of an answer but there are several ways to do it.</p>\n<p>This tells awaitility to have a poll delay of 4 minutes. So, wait 4 minutes before doing the assertion.</p>\n<pre><code>Awaitility\n    .await()\n    .pollDelay(4, TimeUnit.MINUTES)\n    .untilAsserted(() -&gt; Assert.assertTrue(true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14484106,"reputation":51,"user_id":10462554,"display_name":"Hobgoblin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689685541,"creation_date":1689684857,"answer_id":76712983,"question_id":71346616,"body_markdown":"Also quite late, with the latest Awaitility (4.2.0) a timeout also needs to be defined, which needs to be larger than the pollDelay. Default timeout is 10 seconds. So, if you wait less then 10sec, not timeout definition necessary.\r\n\r\nSo, this worked for me: \r\n\r\n    Awaitility.await()\r\n      .timeout(66, SECONDS)\r\n      .pollDelay(65, SECONDS)\r\n      .untilAsserted(() -&gt; Assertions.assertTrue(true));\r\n\r\nworked in a test without multi-threading, replacing a Thread.sleep(x).","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>Also quite late, with the latest Awaitility (4.2.0) a timeout also needs to be defined, which needs to be larger than the pollDelay. Default timeout is 10 seconds. So, if you wait less then 10sec, not timeout definition necessary.</p>\n<p>So, this worked for me:</p>\n<pre><code>Awaitility.await()\n  .timeout(66, SECONDS)\n  .pollDelay(65, SECONDS)\n  .untilAsserted(() -&gt; Assertions.assertTrue(true));\n</code></pre>\n<p>worked in a test without multi-threading, replacing a Thread.sleep(x).</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13773,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":72032661,"answer_count":2,"score":16,"last_activity_date":1699511841,"creation_date":1646368087,"question_id":71346616,"body_markdown":"In my test class, I really need to sleep for some amount of time. It&#39;s an integration test involving periodic remote call.\r\n\r\n```java\r\nfor (int i = 0; i &lt; 16; i++) {\r\n    // sleep some... should sleep some...\r\n    Thread.sleep((int) TimeUnit.MINUTES.toMillis(4L)); // means as it means.\r\n    // call remote api and check the response.\r\n}\r\n```\r\n\r\nAnd what is the equivalent expression using Awaitility?\r\n\r\nI tried...\r\n\r\n```java\r\n// Let&#39;s sleep for 4 minutes, no matter what happen!\r\nAwaitility.await()\r\n        .atLeast(Duration.ofMinutes(4L)) // what the hell does this mean, anyway?\r\n        .untilTrue(new AtomicBoolean(false));\r\n```\r\n\r\nIt seems the timeout fired just after the default polling interval.\r\n\r\nShouldn&#39;t I use the Awaitillity at the first time in this case?","title":"How can I await at least specified amount of time with Awaitility?","body":"<p>In my test class, I really need to sleep for some amount of time. It's an integration test involving periodic remote call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 16; i++) {\n    // sleep some... should sleep some...\n    Thread.sleep((int) TimeUnit.MINUTES.toMillis(4L)); // means as it means.\n    // call remote api and check the response.\n}\n</code></pre>\n<p>And what is the equivalent expression using Awaitility?</p>\n<p>I tried...</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Let's sleep for 4 minutes, no matter what happen!\nAwaitility.await()\n        .atLeast(Duration.ofMinutes(4L)) // what the hell does this mean, anyway?\n        .untilTrue(new AtomicBoolean(false));\n</code></pre>\n<p>It seems the timeout fired just after the default polling interval.</p>\n<p>Shouldn't I use the Awaitillity at the first time in this case?</p>\n"},{"tags":["java","web-services","soap","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698320288,"creation_date":1698059631,"answer_id":77344700,"question_id":77332934,"body_markdown":"The things that needs to be cleaned up in the pom.xml.\r\n\r\n- Please remove all the `jakarta` dependencies as your code is using `javax` libraries.\r\n\r\n- Found out that `jaxws-api` version `2.1` (to be specific, versions **&lt;=** `2.3.x`) is not working with the `jaxws-rt` versions **&gt;** `2.3.x` if you are running your code on JDK versions **&gt;** `1.8`.\r\n\r\nI have added scenarios on what issues I have encountered on **JDK 17**:\r\n\r\n- `jaxws-api` &lt;= **2.1** and `jaxws-rt` &gt; **2.3.x**\r\n\r\nThis error will come:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader &#39;app&#39;)\r\n\r\n\r\n- `jaxws-api` &gt;= **2.2.x** and &lt;= **2.3.x** and `jaxws-rt` &gt; **2.3.x**\r\n\r\nThis error will come:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\r\n\r\n**Note:** I saw that this issue only happens when you are running the code on **JDK version &gt; 1.8**.\r\n\r\nBetter run your code on **JDK 1.8** only. Then you will not get the above issues.\r\n\r\n**Or**\r\n\r\nOtherwise, you stay within **2.3.x** version for `jaxws-rt` for now if you want to run the code on higher JDKs.\r\n\r\n-----\r\n\r\n**Solution:**\r\n\r\nI have adjusted the **POM** to solve the issue (for **JDK &gt;= 1.8**):\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\r\n            &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThis should work.","title":"Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider","body":"<p>The things that needs to be cleaned up in the pom.xml.</p>\n<ul>\n<li><p>Please remove all the <code>jakarta</code> dependencies as your code is using <code>javax</code> libraries.</p>\n</li>\n<li><p>Found out that <code>jaxws-api</code> version <code>2.1</code> (to be specific, versions <strong>&lt;=</strong> <code>2.3.x</code>) is not working with the <code>jaxws-rt</code> versions <strong>&gt;</strong> <code>2.3.x</code> if you are running your code on JDK versions <strong>&gt;</strong> <code>1.8</code>.</p>\n</li>\n</ul>\n<p>I have added scenarios on what issues I have encountered on <strong>JDK 17</strong>:</p>\n<ul>\n<li><code>jaxws-api</code> &lt;= <strong>2.1</strong> and <code>jaxws-rt</code> &gt; <strong>2.3.x</strong></li>\n</ul>\n<p>This error will come:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader 'app')\n</code></pre>\n<ul>\n<li><code>jaxws-api</code> &gt;= <strong>2.2.x</strong> and &lt;= <strong>2.3.x</strong> and <code>jaxws-rt</code> &gt; <strong>2.3.x</strong></li>\n</ul>\n<p>This error will come:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl\n</code></pre>\n<p><strong>Note:</strong> I saw that this issue only happens when you are running the code on <strong>JDK version &gt; 1.8</strong>.</p>\n<p>Better run your code on <strong>JDK 1.8</strong> only. Then you will not get the above issues.</p>\n<p><strong>Or</strong></p>\n<p>Otherwise, you stay within <strong>2.3.x</strong> version for <code>jaxws-rt</code> for now if you want to run the code on higher JDKs.</p>\n<hr />\n<p><strong>Solution:</strong></p>\n<p>I have adjusted the <strong>POM</strong> to solve the issue (for <strong>JDK &gt;= 1.8</strong>):</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.3.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\n        &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":15272889,"reputation":511,"user_id":11019548,"display_name":"maryem neyli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77344700,"answer_count":1,"score":3,"last_activity_date":1699511469,"creation_date":1697824760,"question_id":77332934,"body_markdown":"I extracted a jar from a wsdl using the `wsimport` command (JDK 1.8).\r\n\r\nNow, I&#39;m trying to use that jar to execute a specific web service and it shows me this error:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader &#39;app&#39;)\r\n    \tat javax.xml.ws.spi.Provider.provider(Provider.java:88)\r\n    \tat javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\r\n    \tat com.Service01.&lt;init&gt;(Service01.java:42)\r\n    \tat com.kyc.MainApp.main(MainApp.java:45)\r\n\r\nHere are the dependencies that I have used in the **pom.xml**:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.5-b10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nPS: I have tried these solutions below but neither one of them worked.\r\n\r\n- [https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype][1]\r\n\r\n- [https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found][2]\r\n- [https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim][3]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype\r\n  [2]: https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found\r\n  [3]: https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim\r\n","title":"Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider","body":"<p>I extracted a jar from a wsdl using the <code>wsimport</code> command (JDK 1.8).</p>\n<p>Now, I'm trying to use that jar to execute a specific web service and it shows me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.xml.ws.WebServiceException: Unable to create Provider: class com.sun.xml.ws.spi.ProviderImpl cannot be cast to class javax.xml.ws.spi.Provider (com.sun.xml.ws.spi.ProviderImpl and javax.xml.ws.spi.Provider are in unnamed module of loader 'app')\n    at javax.xml.ws.spi.Provider.provider(Provider.java:88)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:56)\n    at com.Service01.&lt;init&gt;(Service01.java:42)\n    at com.kyc.MainApp.main(MainApp.java:45)\n</code></pre>\n<p>Here are the dependencies that I have used in the <strong>pom.xml</strong>:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;rt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;WSIMPOTJAR&lt;/groupId&gt;\n            &lt;artifactId&gt;WSIMPOTJAR&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5-b10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>PS: I have tried these solutions below but neither one of them worked.</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/75223619/jakarta-xml-ws-spi-provider-com-sun-xml-ws-spi-providerimpl-not-a-subtype\">jakarta.xml.ws.spi.Provider: com.sun.xml.ws.spi.ProviderImpl not a subtype</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/54032558/jdk-11-jax-ws-provider-com-sun-xml-internal-ws-spi-providerimpl-not-found\">JDK 11; JAX-WS; Provider com.sun.xml.internal.ws.spi.ProviderImpl not found</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/49107375/getting-java-lang-classnotfoundexception-com-sun-xml-internal-ws-spi-providerim\">Getting java.lang.ClassNotFoundException: com.sun.xml.internal.ws.spi.ProviderImpl despite the dependencies are defined</a></p>\n</li>\n</ul>\n"},{"tags":["java","maven","intellij-idea","module"],"answers":[{"tags":[],"owner":{"account_id":24935721,"reputation":1,"user_id":18802333,"display_name":"Rosie Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688364937,"creation_date":1688364937,"answer_id":76602237,"question_id":76079843,"body_markdown":"I think you could try reimporting maven depency\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iF9yB.png","title":"Module not found - Caffine, Maven, module-info","body":"<p>I think you could try reimporting maven depency\n<a href=\"https://i.stack.imgur.com/iF9yB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":1408086,"reputation":3786,"user_id":1335245,"accept_rate":80,"display_name":"Charney Kaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699511006,"creation_date":1699511006,"answer_id":77450900,"question_id":76079843,"body_markdown":"Trying changing your module-info to\r\n\r\n```java\r\nmodule stock.core {\r\n  requires com.github.benmanes.caffeine;\r\n}\r\n```","title":"Module not found - Caffine, Maven, module-info","body":"<p>Trying changing your module-info to</p>\n<pre class=\"lang-java prettyprint-override\"><code>module stock.core {\n  requires com.github.benmanes.caffeine;\n}\n</code></pre>\n"}],"owner":{"account_id":22241220,"reputation":23,"user_id":16475687,"display_name":"user_020599"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1699511006,"creation_date":1682169516,"question_id":76079843,"body_markdown":"I&#39;m playing around with module-info, in order to obtain strong encapuslation. \r\n\r\nI&#39;m trying to access the module which is exposed here: https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java\r\n\r\nHowever, for me it says it can&#39;t find the module: \r\n\r\n```\r\nmodule stock.core {\r\n    requires com.github.benmanes.caffeine.cache;\r\n}\r\n```\r\nwith the error: \r\n&gt; Module not found: com.github.benmanes.caffeine.cache\r\n\r\nIt&#39;s included in my dependencies:\r\n\r\nParent:\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;caffeine.version&gt;3.1.6&lt;/caffeine.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- Internal dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n                &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n                &lt;version&gt;${caffeine.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nChild pom:\r\n\r\n```\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Internal dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nAny help is appriciated! \r\n\r\n\r\nFirst I tried to google, and I found out I had to add the library to my class path, so I modified the parent POM including the maven-dependency-plugin. Then I tried adding the dependency into the Child POM as well. Then I tried looking into the github repo to make sure I had the correct package path to the module. \r\n\r\nI&#39;ve tried mvn install, but I just get an error that it can&#39;t find the module. ","title":"Module not found - Caffine, Maven, module-info","body":"<p>I'm playing around with module-info, in order to obtain strong encapuslation.</p>\n<p>I'm trying to access the module which is exposed here: <a href=\"https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java\" rel=\"nofollow noreferrer\">https://github.com/ben-manes/caffeine/blob/master/caffeine/src/main/java/module-info.java</a></p>\n<p>However, for me it says it can't find the module:</p>\n<pre><code>module stock.core {\n    requires com.github.benmanes.caffeine.cache;\n}\n</code></pre>\n<p>with the error:</p>\n<blockquote>\n<p>Module not found: com.github.benmanes.caffeine.cache</p>\n</blockquote>\n<p>It's included in my dependencies:</p>\n<p>Parent:</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n\n        &lt;caffeine.version&gt;3.1.6&lt;/caffeine.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Internal dependencies --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n                &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n                &lt;version&gt;${caffeine.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>Child pom:</p>\n<pre><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Internal dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n            &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Any help is appriciated!</p>\n<p>First I tried to google, and I found out I had to add the library to my class path, so I modified the parent POM including the maven-dependency-plugin. Then I tried adding the dependency into the Child POM as well. Then I tried looking into the github repo to make sure I had the correct package path to the module.</p>\n<p>I've tried mvn install, but I just get an error that it can't find the module.</p>\n"},{"tags":["java","logging","configuration","stack-trace","jvm-hotspot"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699273158,"post_id":77430701,"comment_id":136506642,"body_markdown":"Out of curiosity: why do you want to set a maxJavaStackTraceDepth of 10 or lower?","body":"Out of curiosity: why do you want to set a maxJavaStackTraceDepth of 10 or lower?"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699278417,"post_id":77430701,"comment_id":136507621,"body_markdown":"Hi @ThomasKl&#228;ger I want to control  the stack trace depth","body":"Hi @ThomasKl&#228;ger I want to control  the stack trace depth"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282490,"post_id":77430701,"comment_id":136508630,"body_markdown":"I understand that. But what is the problem that you are trying to solve with this?","body":"I understand that. But what is the problem that you are trying to solve with this?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282595,"post_id":77430701,"comment_id":136508651,"body_markdown":"The problem occurs during execution of `org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build()`. You can try to gather more information by setting the log level for the `org.apache.logging.log4j.core.config.plugins.util.PluginBuilder` logger to &quot;DEBUG&quot;","body":"The problem occurs during execution of <code>org.apache.logging.log4j.core.config.plugins.util.PluginBuil&zwnj;&#8203;der.build()</code>. You can try to gather more information by setting the log level for the <code>org.apache.logging.log4j.core.config.plugins.util.PluginBuil&zwnj;&#8203;der</code> logger to &quot;DEBUG&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699282984,"post_id":77430701,"comment_id":136508745,"body_markdown":"I tested that setting with one of my applications (that happens to also use log4j2 - the place where your code fails) and I could start my application even with `--XX MaxJavaStackTraceDepth=1`","body":"I tested that setting with one of my applications (that happens to also use log4j2 - the place where your code fails) and I could start my application even with <code>--XX MaxJavaStackTraceDepth=1</code>"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699283272,"post_id":77430701,"comment_id":136508805,"body_markdown":"Hi @ThomasKl&#228;ger When Exception is raised then we  print the stack trace. This stack trace  run through multiple level and each level dumps a lot of information. that is why i want to control the stack trace depth","body":"Hi @ThomasKl&#228;ger When Exception is raised then we  print the stack trace. This stack trace  run through multiple level and each level dumps a lot of information. that is why i want to control the stack trace depth"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699284451,"post_id":77430701,"comment_id":136509038,"body_markdown":"Yes @ThomasKl&#228;ger you are right .. In my other application it is working... But some how it is not working with my current application. i am using spring-boot-starter-log4j2:3.1.5","body":"Yes @ThomasKl&#228;ger you are right .. In my other application it is working... But some how it is not working with my current application. i am using spring-boot-starter-log4j2:3.1.5"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699335328,"post_id":77430701,"comment_id":136515426,"body_markdown":"My application also uses spring-boot-starter-log4j2:3.1.5, but my application works. It must be some other dependency or how you configure your logging. Did you try my suggestion about generating more logging? What output did that produce? You might need to do that additional logging once with a stacktracedepth &gt; 10 (where your application runs) and once with a stacktracedepth of 5 (where your application crashes) to find a hint.","body":"My application also uses spring-boot-starter-log4j2:3.1.5, but my application works. It must be some other dependency or how you configure your logging. Did you try my suggestion about generating more logging? What output did that produce? You might need to do that additional logging once with a stacktracedepth &gt; 10 (where your application runs) and once with a stacktracedepth of 5 (where your application crashes) to find a hint."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":1,"creation_date":1699344168,"post_id":77430701,"comment_id":136516458,"body_markdown":"The exception dumps a lot of information *that helps you find the cause of the issue*. Don&#39;t know why you wouldn&#39;t want that.","body":"The exception dumps a lot of information <i>that helps you find the cause of the issue</i>. Don&#39;t know why you wouldn&#39;t want that."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699352038,"post_id":77430701,"comment_id":136517868,"body_markdown":"Hi @Tobb Thanks for the comment , As per requirement we do not want  lot of information dumps.","body":"Hi @Tobb Thanks for the comment , As per requirement we do not want  lot of information dumps."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1699355101,"post_id":77430701,"comment_id":136518479,"body_markdown":"Some classes use stack traces, e.g. to identify the caller, which may require a certain minimum depth when delegation is used. Of course, the better option would be to use `StackWalker`, introduced with Java&#160;9, but not all frameworks have been updated. So you end up with a library not supporting this option, but in the end, they haven’t been specified to work with this option.","body":"Some classes use stack traces, e.g. to identify the caller, which may require a certain minimum depth when delegation is used. Of course, the better option would be to use <code>StackWalker</code>, introduced with Java 9, but not all frameworks have been updated. So you end up with a library not supporting this option, but in the end, they haven’t been specified to work with this option."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699357237,"post_id":77430701,"comment_id":136518868,"body_markdown":"Hi @ThomasKl&#228;ger, I did enable logging as DEBUG. and set stacktracedepth as 5.But i am getting same stack trace","body":"Hi @ThomasKl&#228;ger, I did enable logging as DEBUG. and set stacktracedepth as 5.But i am getting same stack trace"},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699358487,"post_id":77430701,"comment_id":136519089,"body_markdown":"If anyone has an explanation, much appreciated (does it have anything to do with (maximum-activity-trace-stack default value of 10 ?) https://docs.appdynamics.com/appd/23.x/23.9/en/application-monitoring/administer-app-server-agents/app-agent-node-properties-reference/app-agent-node-properties-m#:~:text=maximum-activity-trace-stack,Structures)%20are%20set%20to%2010.","body":"If anyone has an explanation, much appreciated (does it have anything to do with (maximum-activity-trace-stack default value of 10 ?) <a href=\"https://docs.appdynamics.com/appd/23.x/23.9/en/application-monitoring/administer-app-server-agents/app-agent-node-properties-reference/app-agent-node-properties-m#:~:text=maximum-activity-trace-stack,Structures)%20are%20set%20to%2010\" rel=\"nofollow noreferrer\">docs.appdynamics.com/appd/23.x/23.9/en/application-monitorin&zwnj;&#8203;g/&hellip;</a>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699364428,"post_id":77430701,"comment_id":136520229,"body_markdown":"I don&#39;t expect the stacktrace to change, I expect some additional log output of the kind &quot;Building Plugin[name=somePluginName, class=somePluginClass]&quot; that can help to identify the problematic code.","body":"I don&#39;t expect the stacktrace to change, I expect some additional log output of the kind &quot;Building Plugin[name=somePluginName, class=somePluginClass]&quot; that can help to identify the problematic code."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1699423592,"post_id":77430701,"comment_id":136528069,"body_markdown":"Regarding the link to appdynamics: do you use appdynamics in your project? If you don&#39;t use it that linked setting is irrelevant.","body":"Regarding the link to appdynamics: do you use appdynamics in your project? If you don&#39;t use it that linked setting is irrelevant."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699427715,"post_id":77430701,"comment_id":136528517,"body_markdown":"@ThomasKl&#228;ger thanks for the reply. No we are not using appdynamics in our project.","body":"@ThomasKl&#228;ger thanks for the reply. No we are not using appdynamics in our project."},{"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"score":0,"creation_date":1699434355,"post_id":77430701,"comment_id":136529590,"body_markdown":"any other alternate way to control the stack trace depth?","body":"any other alternate way to control the stack trace depth?"}],"answers":[{"tags":[],"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699510552,"creation_date":1699510552,"answer_id":77450856,"question_id":77430701,"body_markdown":"I did research on it. I have below observation.\r\n\r\nWhen we decrease jvm option MaxJavaStackTraceDepth below a certain threshold, such as 10, it may not work as expected because it can affect the ability of the JVM to provide meaningful stack traces when exceptions are thrown.\r\n\r\nStack traces are crucial for diagnosing and debugging issues in Java applications, as they provide information about the sequence of method calls leading to an exception or error. When the MaxJavaStackTraceDepth is set too low, the JVM may not capture enough information in the stack trace to understand the context of the problem.\r\n\r\nIt&#39;s generally not recommended to set MaxJavaStackTraceDepth to a very low value, especially below 10.\r\n","title":"JVM option --XX MaxJavaStackTraceDepth when I decrease any value below 10, It is not working","body":"<p>I did research on it. I have below observation.</p>\n<p>When we decrease jvm option MaxJavaStackTraceDepth below a certain threshold, such as 10, it may not work as expected because it can affect the ability of the JVM to provide meaningful stack traces when exceptions are thrown.</p>\n<p>Stack traces are crucial for diagnosing and debugging issues in Java applications, as they provide information about the sequence of method calls leading to an exception or error. When the MaxJavaStackTraceDepth is set too low, the JVM may not capture enough information in the stack trace to understand the context of the problem.</p>\n<p>It's generally not recommended to set MaxJavaStackTraceDepth to a very low value, especially below 10.</p>\n"}],"owner":{"account_id":25782669,"reputation":1,"user_id":19528055,"display_name":"Arun Pal"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699510552,"creation_date":1699269729,"question_id":77430701,"body_markdown":"I am trying to set the jvm option maxJavaStackTraceDepth. So when I increase the JVM option --XX MaxJavaStackTraceDepth above 10. it is working as expected. But when I decrease any value below 10 so it causes NoClassDefFoundError error.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.message.ReusableMessageFactory\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2015)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1886)\r\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:849)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:130)\r\n```\r\n\r\nIdeally it should work below 10 values as well \r\nlike -XX:MaxJavaStackTraceDepth=5\r\nI am using Java 17","title":"JVM option --XX MaxJavaStackTraceDepth when I decrease any value below 10, It is not working","body":"<p>I am trying to set the jvm option maxJavaStackTraceDepth. So when I increase the JVM option --XX MaxJavaStackTraceDepth above 10. it is working as expected. But when I decrease any value below 10 so it causes NoClassDefFoundError error.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.message.ReusableMessageFactory\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2108)\n        at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:2015)\n        at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1886)\n        at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:849)\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:130)\n</code></pre>\n<p>Ideally it should work below 10 values as well\nlike -XX:MaxJavaStackTraceDepth=5\nI am using Java 17</p>\n"},{"tags":["java","eclipse","maven","unicenta"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699417787,"post_id":77442789,"comment_id":136527625,"body_markdown":"Please show your pom file, which JDK version, Maven version etc. you are using?","body":"Please show your pom file, which JDK version, Maven version etc. you are using?"},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699418633,"post_id":77442789,"comment_id":136527691,"body_markdown":"Updated with the information as per your reqest!","body":"Updated with the information as per your reqest!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1699428620,"post_id":77442789,"comment_id":136528646,"body_markdown":"You mentioned `Images` with an upper-case `I` but also `images` with lower-case `i`. Is this a typo or the cause (it would work only on a case insensitive file system, but not in a JAR).","body":"You mentioned <code>Images</code> with an upper-case <code>I</code> but also <code>images</code> with lower-case <code>i</code>. Is this a typo or the cause (it would work only on a case insensitive file system, but not in a JAR)."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1699457777,"post_id":77442789,"comment_id":136534474,"body_markdown":"Loading an resource from your `src/main/resources/xyz/test.img` that means you have to `getResourcesAsStream(&quot;/xyz/test.img&quot;);`...","body":"Loading an resource from your <code>src&#47;main&#47;resources&#47;xyz&#47;test.img</code> that means you have to <code>getResourcesAsStream(&quot;&#47;xyz&#47;test.img&quot;);</code>..."},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699509829,"post_id":77442789,"comment_id":136541564,"body_markdown":"@howlger - I caught that too after some time. However, this does not appear to be affecting anything at this point. I went ahead and corrected it for congruency, though. Thanks!","body":"@howlger - I caught that too after some time. However, this does not appear to be affecting anything at this point. I went ahead and corrected it for congruency, though. Thanks!"},{"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"score":0,"creation_date":1699509892,"post_id":77442789,"comment_id":136541571,"body_markdown":"@khmarbaise - Correct. The /com/openbravo/images/unicenta.png file is located there. :)","body":"@khmarbaise - Correct. The /com/openbravo/images/unicenta.png file is located there. :)"}],"answers":[{"tags":[],"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699510433,"creation_date":1699510433,"answer_id":77450846,"question_id":77442789,"body_markdown":"This issue is resolved. There were no coding issues found after many hours of troubleshooting.\r\n\r\nIssue lays completely in the IDE.\r\n\r\nWhen running from Eclipse IDE and building it is running as a &#39;Java Application&#39;. Going to &#39;Build Executable JAR&#39; always ended in this strange error.\r\n\r\nAfter doing some research, found out about the M2E Maven Integration tools for Eclipse. Actually needed right-click my project in the Project Explorer pane then go to **Run As -&gt; Maven build...**. From here I can setup my output file information. **NOTE:** You *must* set a Goal in the Edit Configuration window or it will not build. I used &#39;package&#39; as my Goal and it built fine.\r\n\r\nAble to now run the JAR from my Command Prompt and everything is working perfectly!","title":"Maven Project Executable Jar Built in Eclipse IDE Not Finding Resource","body":"<p>This issue is resolved. There were no coding issues found after many hours of troubleshooting.</p>\n<p>Issue lays completely in the IDE.</p>\n<p>When running from Eclipse IDE and building it is running as a 'Java Application'. Going to 'Build Executable JAR' always ended in this strange error.</p>\n<p>After doing some research, found out about the M2E Maven Integration tools for Eclipse. Actually needed right-click my project in the Project Explorer pane then go to <strong>Run As -&gt; Maven build...</strong>. From here I can setup my output file information. <strong>NOTE:</strong> You <em>must</em> set a Goal in the Edit Configuration window or it will not build. I used 'package' as my Goal and it built fine.</p>\n<p>Able to now run the JAR from my Command Prompt and everything is working perfectly!</p>\n"}],"owner":{"account_id":2335104,"reputation":25,"user_id":2047628,"display_name":"Jonathan Styles"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450846,"answer_count":1,"score":0,"last_activity_date":1699510433,"creation_date":1699416596,"question_id":77442789,"body_markdown":"Having a livid time trying to figure out a compile problem.\r\n\r\nI am branching off of an existing Maven project and mid-project I switched from the Netbeans IDE to Eclipse IDE (yesterday, actually). The project runs *perfectly* when I run it from inside of the Eclipse IDE. However, when I compile the project to a self-contained executable jar it can no longer find the getClass().getResource() pathing.\r\n\r\nI am assuming there is a compiler issue or something when translating this to the jar?\r\n\r\nProject path is: /src/main/resources/Images&lt;br&gt;\r\nIDE Target is: target/classes/Images&lt;br&gt;\r\nIn the JAR it is in: resources/Images&lt;br&gt;\r\n\r\nIs this correct, or am I missing something painfully obvious?\r\n\r\nThe console error message is:\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n&gt; at javax.swing.ImageIcon.\\&lt;init&gt;(ImageIcon.java:217)\r\n\r\nThe code that is throwing this event is:\r\n\r\n```\r\njLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\r\n```\r\n\r\nIn order to troubleshoot and test for `NULL` I slide this in before the line:\r\n\r\n```\r\nSystem.out.println(&quot;Testing Resource: &quot; + getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\r\n```\r\n\r\nWhen executing from the **IDE** I get this (properly) returned:\r\n\r\n&gt; Testing Resource: file:/C:/Users/Fearfullsmile/Documents/My%20Programs/KB_Mercantile/target/classes/com/openbravo/images/unicenta.png\r\n\r\nWhen executing from the **Executable JAR** I get `NULL`:\r\n\r\n&gt; Testing Resource: null\r\n\r\nIf someone could please offer me some direction I would be greatly appreciative. Not trying to re-work the wheel, but this seems like it should work! I will be working on this all night, so if I come up with the solution I will update as soon as possible.  :)\r\n\r\nThanks!\r\n\r\n**UPDATES:**\r\n\r\nAs per request, here are the contents of `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.unicenta&lt;/groupId&gt;\r\n  &lt;artifactId&gt;unicentaopos&lt;/artifactId&gt;\r\n  &lt;version&gt;4.6.4&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;kotlin.version&gt;1.3.70&lt;/kotlin.version&gt;\r\n    &lt;!-- Specify this via command line i.e -Dbitrock.exec=/path/to/bitrock/builder--&gt;\r\n    &lt;bitrock.exec/&gt;\r\n    &lt;!-- windows, osx, linux --&gt;\r\n    &lt;bitrock.platform/&gt;\r\n    &lt;!-- Licence location --&gt;\r\n    &lt;bitrock.licence/&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n    &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n    &lt;version&gt;11&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.6&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.19&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--&lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.0-v_771&lt;/version&gt;\r\n    &lt;/dependency&gt;--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-digester&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n      &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n      &lt;version&gt;3.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n      &lt;version&gt;1.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n      &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;oro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;oro&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n      &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.beanshell&lt;/groupId&gt;\r\n      &lt;artifactId&gt;bsh&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0b4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.bidib.jbidib.org.qbang.rxtx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;rxtxcomm&lt;/artifactId&gt;\r\n      &lt;version&gt;2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jpos&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.10&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\r\n          &lt;artifactId&gt;je&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.swinglabs.swingx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swingx-all&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.5-1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n      &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;axis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;axis-wsdl4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\r\n      &lt;version&gt;0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swing-layout&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javacsv&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\r\n      &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\r\n      &lt;version&gt;RELEASE82&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.javapos&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.49&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n      &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n      &lt;version&gt;10.10.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.b2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.posapps&lt;/groupId&gt;\r\n      &lt;artifactId&gt;posapps-client&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.9&lt;/version&gt;\r\n      &lt;classifier&gt;exe&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Batik Dependencies now wrapped included in apache xmlgraphics fop   --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/fop --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n      &lt;version&gt;6.4.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n          &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n      &lt;version&gt;4.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Commercial version --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/de.sciss/weblaf --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.dalsemi.onewire&lt;/groupId&gt;\r\n      &lt;artifactId&gt;OneWireAPI&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- 4.2.2 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\r\n      &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.usb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;usb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jdatepicker&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jdatepicker&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.sleepycat/je --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;je&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.73&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Kotlin --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\r\n      &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\r\n      &lt;artifactId&gt;trident&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\r\n      &lt;artifactId&gt;substance&lt;/artifactId&gt;\r\n      &lt;version&gt;7.1.00&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n      &lt;version&gt;9.4.1208&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\r\n      &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.3&lt;/version&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Kotlin --&gt;\r\n      &lt;plugin&gt;\r\n\t\t  &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t\t  &lt;archive&gt;\r\n\t\t\t\t  &lt;manifest&gt;\r\n\t\t\t\t\t  &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\r\n\t\t\t\t  &lt;/manifest&gt;\r\n\t\t\t  &lt;/archive&gt;\r\n\t\t\t  &lt;descriptorRefs&gt;\r\n\t\t\t\t  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t  &lt;/descriptorRefs&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t  &lt;/plugin&gt;\r\n\t\t  &lt;plugin&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;compile&lt;/id&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;test-compile&lt;/id&gt;\r\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-resources&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Windows&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Windows&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Linux&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Linux&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/lib/Mac_OS_X&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Mac_OS_X&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/scripts&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/licensing&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/installer/licensing&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Bonus&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Bonus&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Configs&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Configs&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/Templates&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/other/Templates&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/reports/com&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/main/resources/com&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;targetPath&gt;${basedir}/target/locales&lt;/targetPath&gt;\r\n                  &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;com/**&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;!-- BitRock --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;exec&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;executable&gt;${bitrock.exec}&lt;/executable&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;build&lt;/argument&gt;\r\n            &lt;argument&gt;${basedir}/src/installer/unicentaopos.xml&lt;/argument&gt;\r\n            &lt;argument&gt;${bitrock.platform}&lt;/argument&gt;\r\n            &lt;argument&gt;--license&lt;/argument&gt;\r\n            &lt;argument&gt;${bitrock.licence}&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n          &lt;debug&gt;true&lt;/debug&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;attach-sources&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wagon-ftp&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    &lt;finalName&gt;unicentaopos&lt;/finalName&gt;\r\n  &lt;/build&gt;\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\r\n      &lt;url&gt;http://repo.unicenta.org/maven2/&lt;/url&gt;\r\n      &lt;layout&gt;default&lt;/layout&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;central&lt;/id&gt;\r\n      &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\r\n      &lt;layout&gt;default&lt;/layout&gt;\r\n    &lt;/repository&gt;\r\n    &lt;!--These are needed for Swing/Netbeans --&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;netbeans&lt;/id&gt;\r\n      &lt;name&gt;NetBeans&lt;/name&gt;\r\n      &lt;url&gt;http://netbeans.apidesign.org/maven2/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n  &lt;distributionManagement&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\r\n      &lt;url&gt;ftp://repo.unicenta.org/&lt;/url&gt;\r\n      &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/distributionManagement&gt;\r\n  &lt;name&gt;unicentaopos&lt;/name&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**JDK Version** is: *jdk1.8.0_202*\r\n\r\n**Maven Version** is: *Apache Maven 3.9.4*\r\n\r\n**Eclipse IDE Version** is: *2023-09 (4.29.0)*\r\n\r\n**Plugin Installed:** *Lombok v1.18.30 &quot;Envious Ferret&quot;*","title":"Maven Project Executable Jar Built in Eclipse IDE Not Finding Resource","body":"<p>Having a livid time trying to figure out a compile problem.</p>\n<p>I am branching off of an existing Maven project and mid-project I switched from the Netbeans IDE to Eclipse IDE (yesterday, actually). The project runs <em>perfectly</em> when I run it from inside of the Eclipse IDE. However, when I compile the project to a self-contained executable jar it can no longer find the getClass().getResource() pathing.</p>\n<p>I am assuming there is a compiler issue or something when translating this to the jar?</p>\n<p>Project path is: /src/main/resources/Images<br>\nIDE Target is: target/classes/Images<br>\nIn the JAR it is in: resources/Images<br></p>\n<p>Is this correct, or am I missing something painfully obvious?</p>\n<p>The console error message is:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)</p>\n</blockquote>\n<p>The code that is throwing this event is:</p>\n<pre><code>jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\n</code></pre>\n<p>In order to troubleshoot and test for <code>NULL</code> I slide this in before the line:</p>\n<pre><code>System.out.println(&quot;Testing Resource: &quot; + getClass().getResource(&quot;/com/openbravo/images/unicenta.png&quot;));\n</code></pre>\n<p>When executing from the <strong>IDE</strong> I get this (properly) returned:</p>\n<blockquote>\n<p>Testing Resource: file:/C:/Users/Fearfullsmile/Documents/My%20Programs/KB_Mercantile/target/classes/com/openbravo/images/unicenta.png</p>\n</blockquote>\n<p>When executing from the <strong>Executable JAR</strong> I get <code>NULL</code>:</p>\n<blockquote>\n<p>Testing Resource: null</p>\n</blockquote>\n<p>If someone could please offer me some direction I would be greatly appreciative. Not trying to re-work the wheel, but this seems like it should work! I will be working on this all night, so if I come up with the solution I will update as soon as possible.  :)</p>\n<p>Thanks!</p>\n<p><strong>UPDATES:</strong></p>\n<p>As per request, here are the contents of <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.unicenta&lt;/groupId&gt;\n  &lt;artifactId&gt;unicentaopos&lt;/artifactId&gt;\n  &lt;version&gt;4.6.4&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;kotlin.version&gt;1.3.70&lt;/kotlin.version&gt;\n    &lt;!-- Specify this via command line i.e -Dbitrock.exec=/path/to/bitrock/builder--&gt;\n    &lt;bitrock.exec/&gt;\n    &lt;!-- windows, osx, linux --&gt;\n    &lt;bitrock.platform/&gt;\n    &lt;!-- Licence location --&gt;\n    &lt;bitrock.licence/&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n      &lt;artifactId&gt;javase&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n    &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n    &lt;version&gt;11&lt;/version&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.6&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;2.0.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n      &lt;artifactId&gt;jcommon&lt;/artifactId&gt;\n      &lt;version&gt;1.0.24&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n      &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n      &lt;version&gt;1.0.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;3.3.0-v_771&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n      &lt;version&gt;1.9.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-digester&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-digester&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n      &lt;artifactId&gt;itext&lt;/artifactId&gt;\n      &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n      &lt;artifactId&gt;poi&lt;/artifactId&gt;\n      &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\n      &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n      &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n      &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;oro&lt;/groupId&gt;\n      &lt;artifactId&gt;oro&lt;/artifactId&gt;\n      &lt;version&gt;2.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n      &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n      &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.beanshell&lt;/groupId&gt;\n      &lt;artifactId&gt;bsh&lt;/artifactId&gt;\n      &lt;version&gt;2.0b4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.bidib.jbidib.org.qbang.rxtx&lt;/groupId&gt;\n      &lt;artifactId&gt;rxtxcomm&lt;/artifactId&gt;\n      &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jpos&lt;/groupId&gt;\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\n      &lt;version&gt;2.0.10&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\n          &lt;artifactId&gt;je&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.swinglabs.swingx&lt;/groupId&gt;\n      &lt;artifactId&gt;swingx-all&lt;/artifactId&gt;\n      &lt;version&gt;1.6.5-1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis-jaxrpc&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n      &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\n      &lt;version&gt;1.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;axis&lt;/groupId&gt;\n      &lt;artifactId&gt;axis-wsdl4j&lt;/artifactId&gt;\n      &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-discovery&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-discovery&lt;/artifactId&gt;\n      &lt;version&gt;0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.swinglabs&lt;/groupId&gt;\n      &lt;artifactId&gt;swing-layout&lt;/artifactId&gt;\n      &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sourceforge.javacsv&lt;/groupId&gt;\n      &lt;artifactId&gt;javacsv&lt;/artifactId&gt;\n      &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\n      &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n      &lt;version&gt;RELEASE82&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.javapos&lt;/groupId&gt;\n      &lt;artifactId&gt;jpos&lt;/artifactId&gt;\n      &lt;version&gt;1.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;5.1.49&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n      &lt;artifactId&gt;derby&lt;/artifactId&gt;\n      &lt;version&gt;10.10.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n      &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n      &lt;version&gt;1.0.b2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.posapps&lt;/groupId&gt;\n      &lt;artifactId&gt;posapps-client&lt;/artifactId&gt;\n      &lt;version&gt;1.4.9&lt;/version&gt;\n      &lt;classifier&gt;exe&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Batik Dependencies now wrapped included in apache xmlgraphics fop   --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlgraphics/fop --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n      &lt;artifactId&gt;fop&lt;/artifactId&gt;\n      &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n      &lt;version&gt;6.4.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n          &lt;artifactId&gt;itext&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n      &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;\n      &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n      &lt;version&gt;4.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Commercial version --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;joda-time&lt;/groupId&gt;\n      &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n      &lt;version&gt;2.9.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/de.sciss/weblaf --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\n      &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\n      &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-nop&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n      &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.dalsemi.onewire&lt;/groupId&gt;\n      &lt;artifactId&gt;OneWireAPI&lt;/artifactId&gt;\n      &lt;version&gt;0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- 4.2.2 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.usb4java&lt;/groupId&gt;\n      &lt;artifactId&gt;usb4java&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.usb&lt;/groupId&gt;\n      &lt;artifactId&gt;usb-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jdatepicker&lt;/groupId&gt;\n      &lt;artifactId&gt;jdatepicker&lt;/artifactId&gt;\n      &lt;version&gt;1.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.sleepycat/je --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.sleepycat&lt;/groupId&gt;\n      &lt;artifactId&gt;je&lt;/artifactId&gt;\n      &lt;version&gt;5.0.73&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Kotlin --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n      &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n      &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\n      &lt;artifactId&gt;trident&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\n      &lt;artifactId&gt;substance&lt;/artifactId&gt;\n      &lt;version&gt;7.1.00&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;9.4.1208&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;de.sciss&lt;/groupId&gt;\n      &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.1.3&lt;/version&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Kotlin --&gt;\n      &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n              &lt;archive&gt;\n                  &lt;manifest&gt;\n                      &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n              &lt;/archive&gt;\n              &lt;descriptorRefs&gt;\n                  &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n              &lt;/descriptorRefs&gt;\n          &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;test-compile&lt;/id&gt;\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;com.openbravo.pos.forms.StartPOS&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-resources&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}&lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Windows&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Windows&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Linux&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Linux&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/lib/Mac_OS_X&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Mac_OS_X&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/scripts&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/licensing&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/installer/licensing&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Bonus&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Bonus&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Configs&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Configs&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/Templates&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/other/Templates&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/reports/com&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/main/resources/com&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;/resource&gt;\n                &lt;resource&gt;\n                  &lt;targetPath&gt;${basedir}/target/locales&lt;/targetPath&gt;\n                  &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;\n                  &lt;filtering&gt;false&lt;/filtering&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;com/**&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;!-- BitRock --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;exec&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;${bitrock.exec}&lt;/executable&gt;\n          &lt;arguments&gt;\n            &lt;argument&gt;build&lt;/argument&gt;\n            &lt;argument&gt;${basedir}/src/installer/unicentaopos.xml&lt;/argument&gt;\n            &lt;argument&gt;${bitrock.platform}&lt;/argument&gt;\n            &lt;argument&gt;--license&lt;/argument&gt;\n            &lt;argument&gt;${bitrock.licence}&lt;/argument&gt;\n          &lt;/arguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n          &lt;debug&gt;true&lt;/debug&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;attach-sources&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n        &lt;artifactId&gt;wagon-ftp&lt;/artifactId&gt;\n        &lt;version&gt;2.10&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;finalName&gt;unicentaopos&lt;/finalName&gt;\n  &lt;/build&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\n      &lt;url&gt;http://repo.unicenta.org/maven2/&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;central&lt;/id&gt;\n      &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n      &lt;layout&gt;default&lt;/layout&gt;\n    &lt;/repository&gt;\n    &lt;!--These are needed for Swing/Netbeans --&gt;\n    &lt;repository&gt;\n      &lt;id&gt;netbeans&lt;/id&gt;\n      &lt;name&gt;NetBeans&lt;/name&gt;\n      &lt;url&gt;http://netbeans.apidesign.org/maven2/&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;unicenta-repo&lt;/id&gt;\n      &lt;url&gt;ftp://repo.unicenta.org/&lt;/url&gt;\n      &lt;uniqueVersion&gt;false&lt;/uniqueVersion&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n  &lt;name&gt;unicentaopos&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>JDK Version</strong> is: <em>jdk1.8.0_202</em></p>\n<p><strong>Maven Version</strong> is: <em>Apache Maven 3.9.4</em></p>\n<p><strong>Eclipse IDE Version</strong> is: <em>2023-09 (4.29.0)</em></p>\n<p><strong>Plugin Installed:</strong> <em>Lombok v1.18.30 &quot;Envious Ferret&quot;</em></p>\n"},{"tags":["java","http","pdf","download"],"comments":[{"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"score":0,"creation_date":1699304585,"post_id":77434033,"comment_id":136512674,"body_markdown":"This worked for me\n\n`curl --location &#39;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/&#39; \\\n--header &#39;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&#39; \\\n--output file.pdf --verbose`\n\nI&#39;ve tried java libs with this user-agent header but with no luck","body":"This worked for me  <code>curl --location &#39;https:&#47;&#47;tesco.sk&#47;akciove-ponuky&#47;letaky-a-katalogy&#47;letak&#47;202&zwnj;&#8203;3-11-01&#47;263&#47;&#39; \\ --header &#39;user-agent: Mozilla&#47;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;117.0.0.0 Safari&#47;537.36&#39; \\ --output file.pdf --verbose</code>  I&#39;ve tried java libs with this user-agent header but with no luck"},{"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"score":1,"creation_date":1699305240,"post_id":77434033,"comment_id":136512769,"body_markdown":"I&#39;ve just tried using fresh docker container and it worked for me there too `curl --location &#39;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/&#39; --header &#39;user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&#39; --output file.pdf --verbose`\n\nThe problem is that I&#39;m not allowed to use curl or any other OS tool","body":"I&#39;ve just tried using fresh docker container and it worked for me there too <code>curl --location &#39;https:&#47;&#47;tesco.sk&#47;akciove-ponuky&#47;letaky-a-katalogy&#47;letak&#47;202&zwnj;&#8203;3-11-01&#47;263&#47;&#39; --header &#39;user-agent: Mozilla&#47;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit&#47;537.36 (KHTML, like Gecko) Chrome&#47;117.0.0.0 Safari&#47;537.36&#39; --output file.pdf --verbose</code>  The problem is that I&#39;m not allowed to use curl or any other OS tool"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1699309493,"post_id":77434033,"comment_id":136513318,"body_markdown":"Note: In modern Java there&#39;s no need to muck around with `dataBuffer`; you can copy everything from input to output with `in.transferTo(fileOutputStream)`.","body":"Note: In modern Java there&#39;s no need to muck around with <code>dataBuffer</code>; you can copy everything from input to output with <code>in.transferTo(fileOutputStream)</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1699309648,"post_id":77434033,"comment_id":136513342,"body_markdown":"https://stackoverflow.com/a/9828691/636009","body":"<a href=\"https://stackoverflow.com/a/9828691/636009\">stackoverflow.com/a/9828691/636009</a>"}],"answers":[{"tags":[],"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699510318,"creation_date":1699510318,"answer_id":77450835,"question_id":77434033,"body_markdown":"I&#39;ve found a solution for this particular case. I&#39;m not sure if it will be of any help for other/similar problems but I&#39;ll post it here as a reference\r\n\r\n```\r\npublic File download(URL url) throws FileDownloadException {\r\n        val client = HttpClient.newBuilder()\r\n            .version(HttpClient.Version.HTTP_2)\r\n            .followRedirects(HttpClient.Redirect.NORMAL)\r\n            .build();\r\n\r\n        try {\r\n            val request = HttpRequest.newBuilder()\r\n                .uri(url.toURI())\r\n                .build();\r\n            val destination = Files.createTempFile(&quot;file&quot;, &quot;.pdf&quot;);\r\n            return client.send(request, HttpResponse.BodyHandlers.ofFile(destination)).body().toFile();\r\n        } catch (URISyntaxException | IOException | InterruptedException e) {\r\n            throw new FileDownloadException(&quot;Failed to download: &quot; + url, e);\r\n        }\r\n    }\r\n```\r\n\r\nI tend to think that the problem was around HTTP/2 and with this approach (using HTTP Client) I was able to sort it out. As per documentation\r\n\r\n&gt; If set to HTTP/2, then each request will attempt to upgrade to HTTP/2. If the upgrade succeeds, then the response to this request will use HTTP/2 and all subsequent requests and responses to the same origin server  will use HTTP/2. If the upgrade fails, then the response will be handled using HTTP/1.1\r\n\r\nSo it should work for my failing case and potentially all the others, which my tests actually have proven.\r\n\r\n","title":"Failing to download pdf file from URL in java","body":"<p>I've found a solution for this particular case. I'm not sure if it will be of any help for other/similar problems but I'll post it here as a reference</p>\n<pre><code>public File download(URL url) throws FileDownloadException {\n        val client = HttpClient.newBuilder()\n            .version(HttpClient.Version.HTTP_2)\n            .followRedirects(HttpClient.Redirect.NORMAL)\n            .build();\n\n        try {\n            val request = HttpRequest.newBuilder()\n                .uri(url.toURI())\n                .build();\n            val destination = Files.createTempFile(&quot;file&quot;, &quot;.pdf&quot;);\n            return client.send(request, HttpResponse.BodyHandlers.ofFile(destination)).body().toFile();\n        } catch (URISyntaxException | IOException | InterruptedException e) {\n            throw new FileDownloadException(&quot;Failed to download: &quot; + url, e);\n        }\n    }\n</code></pre>\n<p>I tend to think that the problem was around HTTP/2 and with this approach (using HTTP Client) I was able to sort it out. As per documentation</p>\n<blockquote>\n<p>If set to HTTP/2, then each request will attempt to upgrade to HTTP/2. If the upgrade succeeds, then the response to this request will use HTTP/2 and all subsequent requests and responses to the same origin server  will use HTTP/2. If the upgrade fails, then the response will be handled using HTTP/1.1</p>\n</blockquote>\n<p>So it should work for my failing case and potentially all the others, which my tests actually have proven.</p>\n"}],"owner":{"account_id":29841029,"reputation":21,"user_id":22869252,"display_name":"Jakub Piecuch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1699510318,"creation_date":1699302213,"question_id":77434033,"body_markdown":"I&#39;m trying to download a PDF file from this particular URL\r\n\r\n`https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1`\r\n\r\nIt just hangs on receiving the response \r\n\r\nI&#39;ve tried with Postman, curl, wget and browsers and it went through.\r\n\r\nWhen I tried in java I&#39;m failing miserably. I&#39;ve tried several libraries\r\n\r\nExample:\r\n\r\n```\r\nHttpResponse&lt;String&gt; response = Unirest.get(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;)\r\n            .asString();\r\n```\r\n\r\n\r\n```\r\ntry (BufferedInputStream in = new BufferedInputStream(new URL(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;).openStream());\r\n             FileOutputStream fileOutputStream = new FileOutputStream(&quot;file.pdf&quot;)) {\r\n            byte dataBuffer[] = new byte[1024];\r\n            int bytesRead;\r\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\r\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\r\n            }\r\n        } catch (IOException e) {\r\n            // handle exception\r\n        }\r\n```\r\n\r\nDoes anyone have an idea what could be the problem here?\r\n\r\n","title":"Failing to download pdf file from URL in java","body":"<p>I'm trying to download a PDF file from this particular URL</p>\n<p><code>https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1</code></p>\n<p>It just hangs on receiving the response</p>\n<p>I've tried with Postman, curl, wget and browsers and it went through.</p>\n<p>When I tried in java I'm failing miserably. I've tried several libraries</p>\n<p>Example:</p>\n<pre><code>HttpResponse&lt;String&gt; response = Unirest.get(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;)\n            .asString();\n</code></pre>\n<pre><code>try (BufferedInputStream in = new BufferedInputStream(new URL(&quot;https://tesco.sk/akciove-ponuky/letaky-a-katalogy/letak/2023-11-01/263/?download=1&quot;).openStream());\n             FileOutputStream fileOutputStream = new FileOutputStream(&quot;file.pdf&quot;)) {\n            byte dataBuffer[] = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n                fileOutputStream.write(dataBuffer, 0, bytesRead);\n            }\n        } catch (IOException e) {\n            // handle exception\n        }\n</code></pre>\n<p>Does anyone have an idea what could be the problem here?</p>\n"},{"tags":["java","jsf","primefaces"],"answers":[{"tags":[],"owner":{"account_id":1996471,"reputation":3425,"user_id":1789351,"accept_rate":100,"display_name":"rdcrng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376591643,"creation_date":1376591643,"answer_id":18259322,"question_id":18259228,"body_markdown":"This will work if you make a converter for `Demandeur`.","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>This will work if you make a converter for <code>Demandeur</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user1073494"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388502638,"creation_date":1388502638,"answer_id":20859260,"question_id":18259228,"body_markdown":"Actually, the problem seems to be this part\r\n\r\n    itemValue=&quot;#{demandeurItem.nom}&quot;\r\n\r\nif the itemValue is the name of your item, then the converter will try to convert from a String and not from the object. So your converter method below will receive &quot;value&quot; = string, not a Demandeur as you may expect.\r\n\r\n    public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException\r\n\r\nI&#39;ve tried this code below and I think it&#39;s what you need. I am using primefaces 4.0 on tomee 1.6.0.\r\n\r\nthe converter\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.RequestScoped;\r\n    import javax.faces.component.UIComponent;\r\n    import javax.faces.context.FacesContext;\r\n    import javax.faces.convert.Converter;\r\n    import javax.faces.convert.ConverterException;\r\n    \r\n    @ManagedBean\r\n    @RequestScoped\r\n    public class DemandeurConverter implements Converter, Serializable {\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= 1L;\r\n    \r\n    \t@EJB\r\n    \tDemandeurs\t\t\t\t\tejb;\r\n    \r\n    \t@Override\r\n    \tpublic Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\r\n    \t\tif (value == null || value.length() == 0) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\treturn ejb.getData().get(Long.parseLong(value));\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\r\n    \t\tSystem.out.println(value.getClass());\r\n    \t\tif (value == null) {\r\n    \t\t\treturn null;\r\n    \t\t} else {\r\n    \t\t\treturn ((Demandeur) value).getId().toString();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthe managed bean\r\n\r\n    import java.io.Serializable;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map.Entry;\r\n    \r\n    import javax.ejb.EJB;\r\n    import javax.faces.bean.ManagedBean;\r\n    import javax.faces.bean.ViewScoped;\r\n    \r\n    @ManagedBean\r\n    @ViewScoped\r\n    public class UtilisateurDemandeurCtrl implements Serializable {\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= -3027573774106311465L;\r\n    \t\r\n    \t@EJB \r\n    \tprivate Demandeurs\t\t\t\t\tejb;\r\n    \t\r\n    \tprivate Demandeur critereRechercheDemandeur;\r\n    \r\n    \tpublic List&lt;Demandeur&gt; completeDemandeur(String query) {\r\n    \t\tList&lt;Demandeur&gt; l = new ArrayList&lt;Demandeur&gt;();\r\n    \t\t\r\n    \t\tfor(Entry&lt;Long, Demandeur&gt; entryset:ejb.getData().entrySet()){\r\n    \t\t\tif (entryset.getValue().getNom().contains(query)){\r\n    \t\t\t\tl.add(entryset.getValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn l;\r\n    \t}\r\n    \r\n    \tpublic Demandeur getCritereRechercheDemandeur() {\r\n    \t\treturn critereRechercheDemandeur;\r\n    \t}\r\n    \r\n    \tpublic void setCritereRechercheDemandeur(Demandeur critereRechercheDemandeur) {\r\n    \t\tthis.critereRechercheDemandeur = critereRechercheDemandeur;\r\n    \t}\r\n    }\r\n\r\nthe EJB\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.ejb.Singleton;\r\n    \r\n    \r\n    @Singleton\r\n    public class Demandeurs {\r\n    \r\n    \tprivate static final Map&lt;Long,Demandeur&gt; data = new HashMap&lt;Long,Demandeur&gt;(){\r\n    \t\tprivate static final long\tserialVersionUID\t= -4394378761837292672L;\r\n    \r\n    \t\t{\r\n    \t\t\t put(1L,new Demandeur(1L,&quot;ooooooooooone&quot;,111));\r\n    \t\t\t put(2L,new Demandeur(2L,&quot;ttttttttttttwo&quot;,222));\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tpublic static Map&lt;Long, Demandeur&gt; getData() {\r\n    \t\treturn data;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nthe entity bean\r\n\r\n    import java.io.Serializable;\r\n    \r\n    \r\n    public class Demandeur implements Serializable{\r\n    \r\n    \tprivate static final long\tserialVersionUID\t= 4023658749746098762L;\r\n    \tprivate Long id;\r\n    \tprivate String nom;\r\n    \tprivate Integer numeroOW;\r\n    \tpublic Demandeur() {}\r\n    \t\r\n    \tpublic Demandeur(Long id, String nom, Integer numeroOW) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.nom = nom;\r\n    \t\tthis.numeroOW = numeroOW;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getNom() {\r\n    \t\treturn nom;\r\n    \t}\r\n    \tpublic void setNom(String nom) {\r\n    \t\tthis.nom = nom;\r\n    \t}\r\n    \tpublic Integer getNumeroOW() {\r\n    \t\treturn numeroOW;\r\n    \t}\r\n    \tpublic void setNumeroOW(Integer numeroOW) {\r\n    \t\tthis.numeroOW = numeroOW;\r\n    \t}\r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \t\tresult = prime * result + ((id == null) ? 0 : id.hashCode());\r\n    \t\tresult = prime * result + ((nom == null) ? 0 : nom.hashCode());\r\n    \t\tresult = prime * result + ((numeroOW == null) ? 0 : numeroOW.hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tDemandeur other = (Demandeur) obj;\r\n    \t\tif (id == null) {\r\n    \t\t\tif (other.id != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!id.equals(other.id))\r\n    \t\t\treturn false;\r\n    \t\tif (nom == null) {\r\n    \t\t\tif (other.nom != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!nom.equals(other.nom))\r\n    \t\t\treturn false;\r\n    \t\tif (numeroOW == null) {\r\n    \t\t\tif (other.numeroOW != null)\r\n    \t\t\t\treturn false;\r\n    \t\t} else if (!numeroOW.equals(other.numeroOW))\r\n    \t\t\treturn false;\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nand the xhtml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \txmlns:f=&quot;http://java.sun.com/jsf/core&quot;\r\n    \txmlns:h=&quot;http://java.sun.com/jsf/html&quot;\r\n    \txmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;\r\n    \txmlns:p=&quot;http://primefaces.org/ui&quot;&gt;\r\n    &lt;h:head&gt;\r\n    \t&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    \t&lt;title&gt;Test&lt;/title&gt;\r\n    \t&lt;h:outputScript library=&quot;js&quot; name=&quot;common.js&quot; /&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n    \r\n    \t&lt;h:form id=&quot;somePrefix&quot;&gt;\r\n    \r\n    \t\t&lt;p:autoComplete \r\n    \t\t\tid=&quot;it_demandeur&quot;\r\n    \t\t\tvalue=&quot;#{utilisateurDemandeurCtrl.critereRechercheDemandeur}&quot;\r\n    \t\t\tvar=&quot;demandeurItem&quot;\r\n    \t\t\tconverter=&quot;#{demandeurConverter}&quot;\r\n    \t\t\titemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;\r\n    \t\t\titemValue=&quot;#{demandeurItem}&quot;\r\n    \t\t\tforceSelection=&quot;true&quot;\r\n    \t\t\tcompleteMethod=&quot;#{utilisateurDemandeurCtrl.completeDemandeur}&quot;&gt;\r\n    \r\n    \t\t\t&lt;p:column&gt;\r\n                  #{demandeurItem.numeroOW} - #{demandeurItem.nom}\r\n    \t\t\t&lt;/p:column&gt;\r\n    \t\t&lt;/p:autoComplete&gt;\r\n    \r\n    \t&lt;/h:form&gt;\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>Actually, the problem seems to be this part</p>\n\n<pre><code>itemValue=\"#{demandeurItem.nom}\"\n</code></pre>\n\n<p>if the itemValue is the name of your item, then the converter will try to convert from a String and not from the object. So your converter method below will receive \"value\" = string, not a Demandeur as you may expect.</p>\n\n<pre><code>public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException\n</code></pre>\n\n<p>I've tried this code below and I think it's what you need. I am using primefaces 4.0 on tomee 1.6.0.</p>\n\n<p>the converter</p>\n\n<pre><code>import java.io.Serializable;\n\nimport javax.ejb.EJB;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.RequestScoped;\nimport javax.faces.component.UIComponent;\nimport javax.faces.context.FacesContext;\nimport javax.faces.convert.Converter;\nimport javax.faces.convert.ConverterException;\n\n@ManagedBean\n@RequestScoped\npublic class DemandeurConverter implements Converter, Serializable {\n\n    private static final long   serialVersionUID    = 1L;\n\n    @EJB\n    Demandeurs                  ejb;\n\n    @Override\n    public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\n        if (value == null || value.length() == 0) {\n            return null;\n        } else {\n            return ejb.getData().get(Long.parseLong(value));\n        }\n    }\n\n    @Override\n    public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\n        System.out.println(value.getClass());\n        if (value == null) {\n            return null;\n        } else {\n            return ((Demandeur) value).getId().toString();\n        }\n    }\n}\n</code></pre>\n\n<p>the managed bean</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map.Entry;\n\nimport javax.ejb.EJB;\nimport javax.faces.bean.ManagedBean;\nimport javax.faces.bean.ViewScoped;\n\n@ManagedBean\n@ViewScoped\npublic class UtilisateurDemandeurCtrl implements Serializable {\n\n    private static final long   serialVersionUID    = -3027573774106311465L;\n\n    @EJB \n    private Demandeurs                  ejb;\n\n    private Demandeur critereRechercheDemandeur;\n\n    public List&lt;Demandeur&gt; completeDemandeur(String query) {\n        List&lt;Demandeur&gt; l = new ArrayList&lt;Demandeur&gt;();\n\n        for(Entry&lt;Long, Demandeur&gt; entryset:ejb.getData().entrySet()){\n            if (entryset.getValue().getNom().contains(query)){\n                l.add(entryset.getValue());\n            }\n        }\n\n        return l;\n    }\n\n    public Demandeur getCritereRechercheDemandeur() {\n        return critereRechercheDemandeur;\n    }\n\n    public void setCritereRechercheDemandeur(Demandeur critereRechercheDemandeur) {\n        this.critereRechercheDemandeur = critereRechercheDemandeur;\n    }\n}\n</code></pre>\n\n<p>the EJB</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport javax.ejb.Singleton;\n\n\n@Singleton\npublic class Demandeurs {\n\n    private static final Map&lt;Long,Demandeur&gt; data = new HashMap&lt;Long,Demandeur&gt;(){\n        private static final long   serialVersionUID    = -4394378761837292672L;\n\n        {\n             put(1L,new Demandeur(1L,\"ooooooooooone\",111));\n             put(2L,new Demandeur(2L,\"ttttttttttttwo\",222));\n        }\n    };\n\n    public static Map&lt;Long, Demandeur&gt; getData() {\n        return data;\n    }\n\n\n}\n</code></pre>\n\n<p>the entity bean</p>\n\n<pre><code>import java.io.Serializable;\n\n\npublic class Demandeur implements Serializable{\n\n    private static final long   serialVersionUID    = 4023658749746098762L;\n    private Long id;\n    private String nom;\n    private Integer numeroOW;\n    public Demandeur() {}\n\n    public Demandeur(Long id, String nom, Integer numeroOW) {\n        super();\n        this.id = id;\n        this.nom = nom;\n        this.numeroOW = numeroOW;\n    }\n\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getNom() {\n        return nom;\n    }\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n    public Integer getNumeroOW() {\n        return numeroOW;\n    }\n    public void setNumeroOW(Integer numeroOW) {\n        this.numeroOW = numeroOW;\n    }\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((id == null) ? 0 : id.hashCode());\n        result = prime * result + ((nom == null) ? 0 : nom.hashCode());\n        result = prime * result + ((numeroOW == null) ? 0 : numeroOW.hashCode());\n        return result;\n    }\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Demandeur other = (Demandeur) obj;\n        if (id == null) {\n            if (other.id != null)\n                return false;\n        } else if (!id.equals(other.id))\n            return false;\n        if (nom == null) {\n            if (other.nom != null)\n                return false;\n        } else if (!nom.equals(other.nom))\n            return false;\n        if (numeroOW == null) {\n            if (other.numeroOW != null)\n                return false;\n        } else if (!numeroOW.equals(other.numeroOW))\n            return false;\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>and the xhtml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n    xmlns:f=\"http://java.sun.com/jsf/core\"\n    xmlns:h=\"http://java.sun.com/jsf/html\"\n    xmlns:ui=\"http://java.sun.com/jsf/facelets\"\n    xmlns:p=\"http://primefaces.org/ui\"&gt;\n&lt;h:head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;h:outputScript library=\"js\" name=\"common.js\" /&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n\n    &lt;h:form id=\"somePrefix\"&gt;\n\n        &lt;p:autoComplete \n            id=\"it_demandeur\"\n            value=\"#{utilisateurDemandeurCtrl.critereRechercheDemandeur}\"\n            var=\"demandeurItem\"\n            converter=\"#{demandeurConverter}\"\n            itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\"\n            itemValue=\"#{demandeurItem}\"\n            forceSelection=\"true\"\n            completeMethod=\"#{utilisateurDemandeurCtrl.completeDemandeur}\"&gt;\n\n            &lt;p:column&gt;\n              #{demandeurItem.numeroOW} - #{demandeurItem.nom}\n            &lt;/p:column&gt;\n        &lt;/p:autoComplete&gt;\n\n    &lt;/h:form&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2308657,"reputation":1,"user_id":2027349,"display_name":"user2027349"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400081873,"creation_date":1400081873,"answer_id":23659201,"question_id":18259228,"body_markdown":"I am having the same exact issue.\r\n\r\nThis gives me an error: itemLabel=&quot;#{user.fullName}&quot;: Property &#39;fullName&#39; not found on type java.lang.String\r\n\r\nThe issue comes up only when you update the autocomplete component after a submit (to show validation messages). If you remove &quot;update&quot; attribute from a commandButton, it works just fine.\r\n\r\n    &lt;p:panel id=&quot;resourceConfigNewFormPanel&quot;&gt;\r\n        &lt;p:autoComplete id=&quot;newUsername&quot; value=&quot;#{userResourceConfigurationListBean.resourceConfig.username}&quot; completeMethod=&quot;#{userResourceConfigurationListBean.autocompleteUser}&quot; var=&quot;user&quot; itemLabel=&quot;#{user.fullName}&quot; itemValue=&quot;#{user.userName}&quot; forceSelection=&quot;true&quot; required=&quot;true&quot;&gt;\r\n        &lt;/p:autoComplete&gt;\r\n        &lt;p:commandButton value=&quot;...&quot; action=&quot;...&quot; update=&quot;resourceConfigNewForm&quot; oncomplete=&quot;if (args &amp;amp;&amp;amp; !args.validationFailed) resourceConfigNewDlg.hide()&quot; /&gt;\r\n\r\nAnd this works with and without update:\r\n\r\n    &lt;p:autoComplete id=&quot;newUsername&quot; value=&quot;#{userResourceConfigurationListBean.resourceConfig.user}&quot; completeMethod=&quot;#{userResourceConfigurationListBean.autocompleteUser}&quot; var=&quot;user&quot; itemLabel=&quot;#{user.fullName}&quot; itemValue=&quot;#{user}&quot; converter=&quot;#{userNameToUserConverter}&quot; forceSelection=&quot;true&quot; required=&quot;true&quot;&gt;\r\n    &lt;/p:autoComplete&gt;","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>I am having the same exact issue.</p>\n\n<p>This gives me an error: itemLabel=\"#{user.fullName}\": Property 'fullName' not found on type java.lang.String</p>\n\n<p>The issue comes up only when you update the autocomplete component after a submit (to show validation messages). If you remove \"update\" attribute from a commandButton, it works just fine.</p>\n\n<pre><code>&lt;p:panel id=\"resourceConfigNewFormPanel\"&gt;\n    &lt;p:autoComplete id=\"newUsername\" value=\"#{userResourceConfigurationListBean.resourceConfig.username}\" completeMethod=\"#{userResourceConfigurationListBean.autocompleteUser}\" var=\"user\" itemLabel=\"#{user.fullName}\" itemValue=\"#{user.userName}\" forceSelection=\"true\" required=\"true\"&gt;\n    &lt;/p:autoComplete&gt;\n    &lt;p:commandButton value=\"...\" action=\"...\" update=\"resourceConfigNewForm\" oncomplete=\"if (args &amp;amp;&amp;amp; !args.validationFailed) resourceConfigNewDlg.hide()\" /&gt;\n</code></pre>\n\n<p>And this works with and without update:</p>\n\n<pre><code>&lt;p:autoComplete id=\"newUsername\" value=\"#{userResourceConfigurationListBean.resourceConfig.user}\" completeMethod=\"#{userResourceConfigurationListBean.autocompleteUser}\" var=\"user\" itemLabel=\"#{user.fullName}\" itemValue=\"#{user}\" converter=\"#{userNameToUserConverter}\" forceSelection=\"true\" required=\"true\"&gt;\n&lt;/p:autoComplete&gt;\n</code></pre>\n"}],"owner":{"account_id":1654478,"reputation":184,"user_id":1524381,"accept_rate":80,"display_name":"Yannick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10174,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1699509820,"creation_date":1376591293,"question_id":18259228,"body_markdown":"I&#39;m not sure if this is possible ... but I&#39;d like to use the autoComplete component, where the value attribute is of type String and where the completeMethod returns a List of some heavy object.\r\n\r\nIt is also a requirement for me to use `forceSelection=&quot;false&quot;`\r\n\r\nThis is what I think should work (but doesn&#39;t):\r\n\r\n            &lt;p:autoComplete id=&quot;it_demandeur&quot;\r\n                            value=&quot;#{utilisateurDemandeurCtrl.critereRechercheDemandeur}&quot;\r\n                            var=&quot;demandeurItem&quot;\r\n                            itemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;\r\n                            itemValue=&quot;#{demandeurItem.nom}&quot;\r\n                            completeMethod=&quot;#{utilisateurDemandeurCtrl.completeDemandeur}&quot; \r\n                            minQueryLength=&quot;3&quot;\r\n                            cacheTimeout=&quot;10000&quot;&gt;\r\n\r\n               &lt;p:column&gt;\r\n                  #{demandeurItem.numeroOW} - #{demandeurItem.nom}\r\n\r\n               &lt;/p:column&gt;\r\n               \r\n\r\n            &lt;/p:autoComplete&gt;\r\n\r\nThis is the method that returns the list of suggestions:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n       public List&lt;Demandeur&gt; completeDemandeur(String query) {\r\n\r\n      StringBuilder jpql = new StringBuilder(128);\r\n\r\n      jpql.append(&quot;SELECT d&quot;);\r\n      jpql.append(&quot; FROM Demandeur d&quot;);\r\n      jpql.append(&quot; WHERE UPPER(d.nom) LIKE :query&quot;);\r\n      jpql.append(&quot; OR d.numeroOW LIKE :query&quot;);\r\n\r\n      Query demandeurQuery = em.createQuery(jpql.toString());\r\n\r\n      demandeurQuery.setParameter(&quot;query&quot;, &quot;%&quot; + query.toUpperCase() + &quot;%&quot;);\r\n\r\n      return (List&lt;Demandeur&gt;) demandeurQuery.getResultList();\r\n     }\r\n\r\n\r\nIf the user selects a suggestion, it would set the itemValue to the name of the selected suggestion, but display a concatenated string of 2 values from the Demandeur object.\r\n\r\nThe suggestions do appear and I can select them, but unfortunely, I get this error when submitting the page:\r\n\r\n    \r\n&lt;pre&gt;\r\nException message: /page/utilisateur.xhtml at line 27 and column 50 itemLabel=&quot;#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(&#39; - &#39;).concat(demandeurItem.nom) : &#39;&#39;}&quot;: Property &#39;numeroOW&#39; not found on type java.lang.String\r\n&lt;/pre&gt;\r\nMy understanding is that the var attribute of the autoComplete component is an iterator on the suggestions, so in my case of type Demandeur, not String.\r\n\r\nAny help would be appreciated!\r\n\r\nThanks\r\n\r\nI am using primefaces 3.5.11, MyFaces implementation for JSF on Websphere 8.5.5.0\r\n\r\nEdit:\r\n\r\nHere is the converter I tried with\r\n\r\n    @FacesConverter(value = &quot;demandeurUIConverter&quot;)\r\n    public class DemandeurConverter implements Serializable, Converter {\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       @Override\r\n       public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\r\n          if (value == null || value.length() == 0) {\r\n             return null;\r\n          }\r\n          ConverterCtrl cc = EJB.lookup(ConverterCtrl.class);\r\n          Demandeur d = cc.getDemandeurFromCle(value);\r\n          if (d == null) {\r\n             d = new Demandeur();\r\n             d.setNom(value);\r\n             d.setNumeroOW(value);\r\n          }\r\n          return d;\r\n       }\r\n    \r\n       @Override\r\n       public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\r\n          if (value == null) {\r\n             return &quot;&quot;;\r\n          }\r\n          Demandeur demandeur = (Demandeur) value;\r\n          return demandeur.getNom();\r\n       }\r\n    \r\n    }\r\n\r\n","title":"Primefaces autoComplete component with different value type for suggestions and component value","body":"<p>I'm not sure if this is possible ... but I'd like to use the autoComplete component, where the value attribute is of type String and where the completeMethod returns a List of some heavy object.</p>\n\n<p>It is also a requirement for me to use <code>forceSelection=\"false\"</code></p>\n\n<p>This is what I think should work (but doesn't):</p>\n\n<pre><code>        &lt;p:autoComplete id=\"it_demandeur\"\n                        value=\"#{utilisateurDemandeurCtrl.critereRechercheDemandeur}\"\n                        var=\"demandeurItem\"\n                        itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\"\n                        itemValue=\"#{demandeurItem.nom}\"\n                        completeMethod=\"#{utilisateurDemandeurCtrl.completeDemandeur}\" \n                        minQueryLength=\"3\"\n                        cacheTimeout=\"10000\"&gt;\n\n           &lt;p:column&gt;\n              #{demandeurItem.numeroOW} - #{demandeurItem.nom}\n\n           &lt;/p:column&gt;\n\n\n        &lt;/p:autoComplete&gt;\n</code></pre>\n\n<p>This is the method that returns the list of suggestions:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n   public List&lt;Demandeur&gt; completeDemandeur(String query) {\n\n  StringBuilder jpql = new StringBuilder(128);\n\n  jpql.append(\"SELECT d\");\n  jpql.append(\" FROM Demandeur d\");\n  jpql.append(\" WHERE UPPER(d.nom) LIKE :query\");\n  jpql.append(\" OR d.numeroOW LIKE :query\");\n\n  Query demandeurQuery = em.createQuery(jpql.toString());\n\n  demandeurQuery.setParameter(\"query\", \"%\" + query.toUpperCase() + \"%\");\n\n  return (List&lt;Demandeur&gt;) demandeurQuery.getResultList();\n }\n</code></pre>\n\n<p>If the user selects a suggestion, it would set the itemValue to the name of the selected suggestion, but display a concatenated string of 2 values from the Demandeur object.</p>\n\n<p>The suggestions do appear and I can select them, but unfortunely, I get this error when submitting the page:</p>\n\n<pre>\nException message: /page/utilisateur.xhtml at line 27 and column 50 itemLabel=\"#{demandeurItem ne null ? demandeurItem.numeroOW.toString().concat(' - ').concat(demandeurItem.nom) : ''}\": Property 'numeroOW' not found on type java.lang.String\n</pre>\n\n<p>My understanding is that the var attribute of the autoComplete component is an iterator on the suggestions, so in my case of type Demandeur, not String.</p>\n\n<p>Any help would be appreciated!</p>\n\n<p>Thanks</p>\n\n<p>I am using primefaces 3.5.11, MyFaces implementation for JSF on Websphere 8.5.5.0</p>\n\n<p>Edit:</p>\n\n<p>Here is the converter I tried with</p>\n\n<pre><code>@FacesConverter(value = \"demandeurUIConverter\")\npublic class DemandeurConverter implements Serializable, Converter {\n\n   private static final long serialVersionUID = 1L;\n\n   @Override\n   public Object getAsObject(FacesContext facesContext, UIComponent uiComponent, String value) throws ConverterException {\n      if (value == null || value.length() == 0) {\n         return null;\n      }\n      ConverterCtrl cc = EJB.lookup(ConverterCtrl.class);\n      Demandeur d = cc.getDemandeurFromCle(value);\n      if (d == null) {\n         d = new Demandeur();\n         d.setNom(value);\n         d.setNumeroOW(value);\n      }\n      return d;\n   }\n\n   @Override\n   public String getAsString(FacesContext facesContext, UIComponent uiComponent, Object value) throws ConverterException {\n      if (value == null) {\n         return \"\";\n      }\n      Demandeur demandeur = (Demandeur) value;\n      return demandeur.getNom();\n   }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","click"],"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1652375599,"post_id":23080148,"comment_id":127596978,"body_markdown":"Does this answer your question? [Android: How to prevent any touch events from being passed from a view to the one underneath it?](https://stackoverflow.com/questions/8433387/android-how-to-prevent-any-touch-events-from-being-passed-from-a-view-to-the-on)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8433387/android-how-to-prevent-any-touch-events-from-being-passed-from-a-view-to-the-on\">Android: How to prevent any touch events from being passed from a view to the one underneath it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1397557667,"creation_date":1397555569,"answer_id":23080253,"question_id":23080148,"body_markdown":"Simply call `rlTest.setClickable(false)`. This will prevent the click to be propagate to the children\r\n\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>Simply call <code>rlTest.setClickable(false)</code>. This will prevent the click to be propagate to the children</p>\n"},{"tags":[],"owner":{"account_id":1744178,"reputation":1494,"user_id":1594755,"accept_rate":60,"display_name":"Parth Kapoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397556031,"creation_date":1397556031,"answer_id":23080456,"question_id":23080148,"body_markdown":"I assume that you are using onClickListeners. \r\n\r\nHow about using onTouchListener instead of onClickListeners. By doing this you will have a control over how deep down in your hierarchy the touch even can be visible. For example, if you have toch listeners on a relative-layout(RL) and a image-view(IV)(contained in RL), and you assign touchListeners to both. Now if you **return true** from IV&#39;s touch event, the lower down member RL will not receive the touch event. However if you **return false** from from IV&#39;s touch event, the lower down member RL will receive the touch event.\r\n\r\nHope this helps!","title":"Prevent Click-through of Android ImageVIew?","body":"<p>I assume that you are using onClickListeners. </p>\n\n<p>How about using onTouchListener instead of onClickListeners. By doing this you will have a control over how deep down in your hierarchy the touch even can be visible. For example, if you have toch listeners on a relative-layout(RL) and a image-view(IV)(contained in RL), and you assign touchListeners to both. Now if you <strong>return true</strong> from IV's touch event, the lower down member RL will not receive the touch event. However if you <strong>return false</strong> from from IV's touch event, the lower down member RL will receive the touch event.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1227466,"reputation":10115,"user_id":1192761,"accept_rate":57,"display_name":"Kirill Kulakov"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1397556201,"creation_date":1397556201,"answer_id":23080529,"question_id":23080148,"body_markdown":"you can set the image to be\r\n\r\n    android:clickable=&quot;true&quot;\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>you can set the image to be</p>\n\n<pre><code>android:clickable=\"true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12314,"reputation":3474,"user_id":24177,"accept_rate":50,"display_name":"Marchy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1412185416,"creation_date":1412185416,"answer_id":26147356,"question_id":23080148,"body_markdown":"The following solution works in the general case:\r\n\r\n    _container.setOnTouchListener(new View.OnTouchListener() {\r\n\t\t@Override\r\n\t\tpublic boolean onTouch(View v, MotionEvent event) {\r\n\t\t\t// NOTE: This prevents the touches from propagating through the view and incorrectly invoking the button behind it\r\n\t\t\treturn true;\r\n\t\t}\r\n\t});\r\n\r\nIt basically blocks any touches from propagating through the view by marking the touch event as handled.\r\n This works on both UI controls and layout containers (ie: LinearLayout, FrameLayout etc.).\r\n\r\nThe solution to set &quot;clickable&quot; as false did not work for me for layout containers either in code or in the view XML.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>The following solution works in the general case:</p>\n\n<pre><code>_container.setOnTouchListener(new View.OnTouchListener() {\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        // NOTE: This prevents the touches from propagating through the view and incorrectly invoking the button behind it\n        return true;\n    }\n});\n</code></pre>\n\n<p>It basically blocks any touches from propagating through the view by marking the touch event as handled.\n This works on both UI controls and layout containers (ie: LinearLayout, FrameLayout etc.).</p>\n\n<p>The solution to set \"clickable\" as false did not work for me for layout containers either in code or in the view XML.</p>\n"},{"tags":[],"owner":{"account_id":961170,"reputation":698,"user_id":985494,"accept_rate":60,"display_name":"Markos Evlogimenos"},"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1545076266,"creation_date":1417950164,"answer_id":27341958,"question_id":23080148,"body_markdown":"There is a much cleaner way\r\n\r\nYou can use:\r\n    \r\n    android:onClick=&quot;preventClicks&quot;\r\n\r\nin XML and in your Activity\r\n\r\n    public void preventClicks(View view) {}\r\n\r\nThis works with fragments.\r\nExample inside this Activity has multiple fragments overlapping one another, just by adding the XML attribute in the background of your fragment it will still call the Activity.preventClicks and will prevent touches on fragments behind it","title":"Prevent Click-through of Android ImageVIew?","body":"<p>There is a much cleaner way</p>\n\n<p>You can use:</p>\n\n<pre><code>android:onClick=\"preventClicks\"\n</code></pre>\n\n<p>in XML and in your Activity</p>\n\n<pre><code>public void preventClicks(View view) {}\n</code></pre>\n\n<p>This works with fragments.\nExample inside this Activity has multiple fragments overlapping one another, just by adding the XML attribute in the background of your fragment it will still call the Activity.preventClicks and will prevent touches on fragments behind it</p>\n"},{"tags":[],"owner":{"display_name":"user2154462"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510342792,"creation_date":1510342792,"answer_id":47230026,"question_id":23080148,"body_markdown":"Just add these two listeners:\r\n\r\n        // Set an OnTouchListener to always return true for onTouch events so that a touch\r\n        // sequence cannot pass through the item to the item below.\r\n        view.setOnTouchListener(new OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                v.onTouchEvent(event);\r\n                return true;\r\n            }\r\n        });\r\n        // Set an OnHoverListener to always return true for onHover events so that focus cannot\r\n        // pass through the item to the item below.\r\n        view.setOnHoverListener(new OnHoverListener() {\r\n            @Override\r\n            public boolean onHover(View v, MotionEvent event) {\r\n                v.onHoverEvent(event);\r\n                return true;\r\n            }\r\n        });","title":"Prevent Click-through of Android ImageVIew?","body":"<p>Just add these two listeners:</p>\n\n<pre><code>    // Set an OnTouchListener to always return true for onTouch events so that a touch\n    // sequence cannot pass through the item to the item below.\n    view.setOnTouchListener(new OnTouchListener() {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            v.onTouchEvent(event);\n            return true;\n        }\n    });\n    // Set an OnHoverListener to always return true for onHover events so that focus cannot\n    // pass through the item to the item below.\n    view.setOnHoverListener(new OnHoverListener() {\n        @Override\n        public boolean onHover(View v, MotionEvent event) {\n            v.onHoverEvent(event);\n            return true;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424440,"reputation":10491,"user_id":804440,"accept_rate":76,"display_name":"nilsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619617939,"creation_date":1619617939,"answer_id":67301601,"question_id":23080148,"body_markdown":"You could use databindings and consume the clicks like this:\r\n\r\n    android:onClick=&quot;@{() -&gt; true}&quot;\r\n\r\n","title":"Prevent Click-through of Android ImageVIew?","body":"<p>You could use databindings and consume the clicks like this:</p>\n<pre><code>android:onClick=&quot;@{() -&gt; true}&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17341722,"reputation":321,"user_id":12895799,"display_name":"Alan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699509723,"creation_date":1663908310,"answer_id":73823086,"question_id":23080148,"body_markdown":"In C#, I use an empty delegate:\r\n\r\n    view.Click += delegate {};\r\n\r\nI haven&#39;t encountered any problems with it but it does prevent clicks from filtering through to underlying controls.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>In C#, I use an empty delegate:</p>\n<pre><code>view.Click += delegate {};\n</code></pre>\n<p>I haven't encountered any problems with it but it does prevent clicks from filtering through to underlying controls.</p>\n"},{"tags":[],"owner":{"account_id":19895112,"reputation":47,"user_id":14576370,"display_name":"RandomType"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668520779,"creation_date":1668520779,"answer_id":74446883,"question_id":23080148,"body_markdown":"you can also se the root click listener to null:\r\n\r\n    // Do not process clicks on other areas of this fragment\r\n            binding.root.setOnClickListener(null)\r\n\r\nThis works 100%.\r\nIt doesnt affect other listeners that are already set on the fragment&#39;s views.","title":"Prevent Click-through of Android ImageVIew?","body":"<p>you can also se the root click listener to null:</p>\n<pre><code>// Do not process clicks on other areas of this fragment\n        binding.root.setOnClickListener(null)\n</code></pre>\n<p>This works 100%.\nIt doesnt affect other listeners that are already set on the fragment's views.</p>\n"}],"owner":{"account_id":404827,"reputation":4950,"user_id":773363,"accept_rate":93,"display_name":"Apqu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30855,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":23080253,"answer_count":9,"score":30,"last_activity_date":1699509723,"creation_date":1397555293,"question_id":23080148,"body_markdown":"I have an `ImageView` overlay inside of a `RelativeLayout` and want to prevent any clicks from going through the `ImageView` to the Buttons etc that are behind it (thus in effect disabling the entire `RelativeLayout`).\r\n\r\nIs the a simpler way of doing this then iterating the RelativeLayout views and setting them to disabled as I currently am doing using this code:\r\n\r\n    RelativeLayout rlTest = (RelativeLayout ) findViewById(R.id.rlTest);\r\n    for (int i = 0; i &lt; rlTest.getChildCount(); i++) {\r\n           View view = rlTest.getChildAt(i);\r\n           view.setEnabled(true);\r\n    }","title":"Prevent Click-through of Android ImageVIew?","body":"<p>I have an <code>ImageView</code> overlay inside of a <code>RelativeLayout</code> and want to prevent any clicks from going through the <code>ImageView</code> to the Buttons etc that are behind it (thus in effect disabling the entire <code>RelativeLayout</code>).</p>\n\n<p>Is the a simpler way of doing this then iterating the RelativeLayout views and setting them to disabled as I currently am doing using this code:</p>\n\n<pre><code>RelativeLayout rlTest = (RelativeLayout ) findViewById(R.id.rlTest);\nfor (int i = 0; i &lt; rlTest.getChildCount(); i++) {\n       View view = rlTest.getChildAt(i);\n       view.setEnabled(true);\n}\n</code></pre>\n"},{"tags":["java","android","permissions","android-6.0-marshmallow","android-permissions"],"comments":[{"owner":{"account_id":1254567,"reputation":13822,"user_id":1565984,"accept_rate":65,"display_name":"kandroidj"},"score":0,"creation_date":1450381102,"post_id":34342816,"comment_id":56427132,"body_markdown":"can you be more specific or share what you have seen and want to implement?","body":"can you be more specific or share what you have seen and want to implement?"},{"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"score":1,"creation_date":1450381216,"post_id":34342816,"comment_id":56427232,"body_markdown":"Calling all 4 permissions at the same time in android 6.0 because &quot;this&quot; app needs 4 permissions. and this google app made it very smart calling them all together and as i mentiond makes page 1-3 to activate all 3 on the fly  ..so how can i make the same ? calling 4 permissions together at the same time to activate them","body":"Calling all 4 permissions at the same time in android 6.0 because &quot;this&quot; app needs 4 permissions. and this google app made it very smart calling them all together and as i mentiond makes page 1-3 to activate all 3 on the fly  ..so how can i make the same ? calling 4 permissions together at the same time to activate them"},{"owner":{"account_id":5381956,"reputation":25084,"user_id":4288782,"accept_rate":79,"display_name":"natario"},"score":0,"creation_date":1450381660,"post_id":34342816,"comment_id":56427533,"body_markdown":"Just add all the permissions you wish inside the String[] array.","body":"Just add all the permissions you wish inside the String[] array."}],"answers":[{"tags":[],"owner":{"account_id":4882024,"reputation":1990,"user_id":3935512,"accept_rate":67,"display_name":"A.Sanchez.SD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450381346,"creation_date":1450381346,"answer_id":34342952,"question_id":34342816,"body_markdown":"I found this is in the runtime permissions example from Google&#39;s github.\r\n\r\n     private static String[] PERMISSIONS_CONTACT = {Manifest.permission.READ_CONTACTS,\r\n            Manifest.permission.WRITE_CONTACTS};\r\n    private static final int REQUEST_CONTACTS = 1;\r\n    ActivityCompat.requestPermissions(this, PERMISSIONS_CONTACT, REQUEST_CONTACTS);","title":"Android 6.0 multiple permissions","body":"<p>I found this is in the runtime permissions example from Google's github.</p>\n\n<pre><code> private static String[] PERMISSIONS_CONTACT = {Manifest.permission.READ_CONTACTS,\n        Manifest.permission.WRITE_CONTACTS};\nprivate static final int REQUEST_CONTACTS = 1;\nActivityCompat.requestPermissions(this, PERMISSIONS_CONTACT, REQUEST_CONTACTS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":464776,"reputation":15578,"user_id":868492,"accept_rate":40,"display_name":"James McCracken"},"down_vote_count":0,"up_vote_count":388,"is_accepted":true,"score":388,"last_activity_date":1575154273,"creation_date":1450381856,"answer_id":34343101,"question_id":34342816,"body_markdown":"Just include all 4 permissions in the `ActivityCompat.requestPermissions(...)` call and Android will automatically page them together like you mentioned.\r\n\r\nI have a helper method to check multiple permissions and see if any of them are not granted.\r\n\r\n\r\n    public static boolean hasPermissions(Context context, String... permissions) {\r\n        if (context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nOr in Kotlin:\r\n\r\n\r\n    fun hasPermissions(context: Context, vararg permissions: String): Boolean = permissions.all {\r\n        ActivityCompat.checkSelfPermission(context, it) == PackageManager.PERMISSION_GRANTED\r\n    }\r\n\r\nThen just send it all of the permissions.  Android will ask only for the ones it needs.\r\n\r\n    // The request code used in ActivityCompat.requestPermissions()\r\n    // and returned in the Activity&#39;s onRequestPermissionsResult()\r\n    int PERMISSION_ALL = 1; \r\n    String[] PERMISSIONS = {\r\n      android.Manifest.permission.READ_CONTACTS, \r\n      android.Manifest.permission.WRITE_CONTACTS, \r\n      android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n      android.Manifest.permission.READ_SMS, \r\n      android.Manifest.permission.CAMERA\r\n    };\r\n\r\n    if (!hasPermissions(this, PERMISSIONS)) {\r\n        ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\r\n    }\r\n","title":"Android 6.0 multiple permissions","body":"<p>Just include all 4 permissions in the <code>ActivityCompat.requestPermissions(...)</code> call and Android will automatically page them together like you mentioned.</p>\n\n<p>I have a helper method to check multiple permissions and see if any of them are not granted.</p>\n\n<pre><code>public static boolean hasPermissions(Context context, String... permissions) {\n    if (context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>fun hasPermissions(context: Context, vararg permissions: String): Boolean = permissions.all {\n    ActivityCompat.checkSelfPermission(context, it) == PackageManager.PERMISSION_GRANTED\n}\n</code></pre>\n\n<p>Then just send it all of the permissions.  Android will ask only for the ones it needs.</p>\n\n<pre><code>// The request code used in ActivityCompat.requestPermissions()\n// and returned in the Activity's onRequestPermissionsResult()\nint PERMISSION_ALL = 1; \nString[] PERMISSIONS = {\n  android.Manifest.permission.READ_CONTACTS, \n  android.Manifest.permission.WRITE_CONTACTS, \n  android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \n  android.Manifest.permission.READ_SMS, \n  android.Manifest.permission.CAMERA\n};\n\nif (!hasPermissions(this, PERMISSIONS)) {\n    ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4418038"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450382016,"creation_date":1450382016,"answer_id":34343144,"question_id":34342816,"body_markdown":"\r\n\r\nCheck the &quot;Asking for multiple permissions at a time&quot; section in this article:\r\n\r\n[Things you need to know about Android M permissions][1]\r\n\r\nIt&#39;s very well explained, and may also touch other related topics you haven&#39;t think about.\r\n\r\n\r\n  [1]: http://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en","title":"Android 6.0 multiple permissions","body":"<p>Check the \"Asking for multiple permissions at a time\" section in this article:</p>\n\n<p><a href=\"http://inthecheesefactory.com/blog/things-you-need-to-know-about-android-m-permission-developer-edition/en\" rel=\"nofollow\">Things you need to know about Android M permissions</a></p>\n\n<p>It's very well explained, and may also touch other related topics you haven't think about.</p>\n"},{"tags":[],"owner":{"account_id":1280781,"reputation":16068,"user_id":1234913,"accept_rate":56,"display_name":"Nicks"},"down_vote_count":0,"up_vote_count":110,"is_accepted":false,"score":110,"last_activity_date":1455846172,"creation_date":1455846172,"answer_id":35495855,"question_id":34342816,"body_markdown":"**Here is detailed example with multiple permission requests:-**\r\n\r\nThe app needs 2 permissions at startup . SEND_SMS and ACCESS_FINE_LOCATION (both are mentioned in manifest.xml).\r\n\r\nI am using **Support Library v4** which is  prepared to handle Android pre-Marshmallow and so no need to check build versions.\r\n\r\nAs soon as the app starts up, it asks for multiple permissions together. If both permissions are granted the normal flow goes. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(checkAndRequestPermissions()) {\r\n            // carry on the normal flow, as the case of  permissions  granted.\r\n        }\r\n    }\r\n    \r\n    private  boolean checkAndRequestPermissions() {\r\n        int permissionSendMessage = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS);\r\n        int locationPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION);\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        if (locationPermission != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\r\n        }\r\n        if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.SEND_SMS);\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n**ContextCompat.checkSelfPermission(), ActivityCompat.requestPermissions(), ActivityCompat.shouldShowRequestPermissionRationale() are part of support library.**\r\n\r\nIn case one or more permissions are not granted, ActivityCompat.requestPermissions() will request permissions and the  control goes to onRequestPermissionsResult() callback method.\r\n\r\nYou should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. \r\n\r\n**There are only two cases:--**\r\n\r\n**Case 1:**-Any time user clicks Deny permissions (including the very first time), it will return true.  So when the user denies, we can show more explanation and keep asking again\r\n\r\n**Case 2:**-Only if user select “never asks again” it will return false. In this case, we can continue with limited functionality and guide user to activate the permissions from settings for more functionalities, or we can finish the setup, if the permissions are trivial for the app.\r\n\r\n**CASE -1**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**CASE-2**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               String permissions[], int[] grantResults) {\r\n            Log.d(TAG, &quot;Permission callback called-------&quot;);\r\n            switch (requestCode) {\r\n                case REQUEST_ID_MULTIPLE_PERMISSIONS: {\r\n                    \r\n                    Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\r\n                    // Initialize the map with both permissions\r\n                    perms.put(Manifest.permission.SEND_SMS, PackageManager.PERMISSION_GRANTED);\r\n                    perms.put(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\r\n                    // Fill with actual results from user\r\n                    if (grantResults.length &gt; 0) {\r\n                        for (int i = 0; i &lt; permissions.length; i++)\r\n                            perms.put(permissions[i], grantResults[i]);\r\n                        // Check for both permissions\r\n                        if (perms.get(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED\r\n                                &amp;&amp; perms.get(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;sms &amp; location services permission granted&quot;);\r\n                            // process the normal flow\r\n                            //else any one or both the permissions are not granted\r\n                        } else {\r\n                                Log.d(TAG, &quot;Some permissions are not granted ask again &quot;);\r\n                                //permission is denied (this is the first time, when &quot;never ask again&quot; is not checked) so ask again explaining the usage of permission\r\n    //                        // shouldShowRequestPermissionRationale will return true\r\n                                //show the dialog or snackbar saying its necessary and try again otherwise proceed with setup.\r\n                                if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS) || ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                                    showDialogOK(&quot;SMS and Location Services Permission required for this app&quot;,\r\n                                            new DialogInterface.OnClickListener() {\r\n                                                @Override\r\n                                                public void onClick(DialogInterface dialog, int which) {\r\n                                                    switch (which) {\r\n                                                        case DialogInterface.BUTTON_POSITIVE:\r\n                                                            checkAndRequestPermissions();\r\n                                                            break;\r\n                                                        case DialogInterface.BUTTON_NEGATIVE:\r\n                                                            // proceed with logic by disabling the related features or quit the app.\r\n                                                            break;\r\n                                                    }\r\n                                                }\r\n                                            });\r\n                                }\r\n                                //permission is denied (and never ask again is  checked)\r\n                                //shouldShowRequestPermissionRationale will return false\r\n                                else {\r\n                                    Toast.makeText(this, &quot;Go to settings and enable permissions&quot;, Toast.LENGTH_LONG)\r\n                                            .show();\r\n        //                            //proceed with logic by disabling the related features or quit the app.\r\n                                }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private void showDialogOK(String message, DialogInterface.OnClickListener okListener) {\r\n            new AlertDialog.Builder(this)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(&quot;OK&quot;, okListener)\r\n                    .setNegativeButton(&quot;Cancel&quot;, okListener)\r\n                    .create()\r\n                    .show();\r\n        }\r\n\r\n  [1]: http://i.stack.imgur.com/IlJOr.png\r\n  [2]: http://i.stack.imgur.com/Ev2uO.png\r\n  [3]: http://i.stack.imgur.com/kjrb6.png\r\n  [4]: http://i.stack.imgur.com/qVfvE.png","title":"Android 6.0 multiple permissions","body":"<p><strong>Here is detailed example with multiple permission requests:-</strong></p>\n\n<p>The app needs 2 permissions at startup . SEND_SMS and ACCESS_FINE_LOCATION (both are mentioned in manifest.xml).</p>\n\n<p>I am using <strong>Support Library v4</strong> which is  prepared to handle Android pre-Marshmallow and so no need to check build versions.</p>\n\n<p>As soon as the app starts up, it asks for multiple permissions together. If both permissions are granted the normal flow goes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IlJOr.png\"><img src=\"https://i.stack.imgur.com/IlJOr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ev2uO.png\"><img src=\"https://i.stack.imgur.com/Ev2uO.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>public static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 1;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    if(checkAndRequestPermissions()) {\n        // carry on the normal flow, as the case of  permissions  granted.\n    }\n}\n\nprivate  boolean checkAndRequestPermissions() {\n    int permissionSendMessage = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS);\n    int locationPermission = ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION);\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    if (locationPermission != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\n    }\n    if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.SEND_SMS);\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),REQUEST_ID_MULTIPLE_PERMISSIONS);\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>ContextCompat.checkSelfPermission(), ActivityCompat.requestPermissions(), ActivityCompat.shouldShowRequestPermissionRationale() are part of support library.</strong></p>\n\n<p>In case one or more permissions are not granted, ActivityCompat.requestPermissions() will request permissions and the  control goes to onRequestPermissionsResult() callback method.</p>\n\n<p>You should check the value of shouldShowRequestPermissionRationale() flag in onRequestPermissionsResult() callback method. </p>\n\n<p><strong>There are only two cases:--</strong></p>\n\n<p><strong>Case 1:</strong>-Any time user clicks Deny permissions (including the very first time), it will return true.  So when the user denies, we can show more explanation and keep asking again</p>\n\n<p><strong>Case 2:</strong>-Only if user select “never asks again” it will return false. In this case, we can continue with limited functionality and guide user to activate the permissions from settings for more functionalities, or we can finish the setup, if the permissions are trivial for the app.</p>\n\n<p><strong>CASE -1</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/kjrb6.png\"><img src=\"https://i.stack.imgur.com/kjrb6.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>CASE-2</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/qVfvE.png\"><img src=\"https://i.stack.imgur.com/qVfvE.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           String permissions[], int[] grantResults) {\n        Log.d(TAG, \"Permission callback called-------\");\n        switch (requestCode) {\n            case REQUEST_ID_MULTIPLE_PERMISSIONS: {\n\n                Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\n                // Initialize the map with both permissions\n                perms.put(Manifest.permission.SEND_SMS, PackageManager.PERMISSION_GRANTED);\n                perms.put(Manifest.permission.ACCESS_FINE_LOCATION, PackageManager.PERMISSION_GRANTED);\n                // Fill with actual results from user\n                if (grantResults.length &gt; 0) {\n                    for (int i = 0; i &lt; permissions.length; i++)\n                        perms.put(permissions[i], grantResults[i]);\n                    // Check for both permissions\n                    if (perms.get(Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED\n                            &amp;&amp; perms.get(Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"sms &amp; location services permission granted\");\n                        // process the normal flow\n                        //else any one or both the permissions are not granted\n                    } else {\n                            Log.d(TAG, \"Some permissions are not granted ask again \");\n                            //permission is denied (this is the first time, when \"never ask again\" is not checked) so ask again explaining the usage of permission\n//                        // shouldShowRequestPermissionRationale will return true\n                            //show the dialog or snackbar saying its necessary and try again otherwise proceed with setup.\n                            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.SEND_SMS) || ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {\n                                showDialogOK(\"SMS and Location Services Permission required for this app\",\n                                        new DialogInterface.OnClickListener() {\n                                            @Override\n                                            public void onClick(DialogInterface dialog, int which) {\n                                                switch (which) {\n                                                    case DialogInterface.BUTTON_POSITIVE:\n                                                        checkAndRequestPermissions();\n                                                        break;\n                                                    case DialogInterface.BUTTON_NEGATIVE:\n                                                        // proceed with logic by disabling the related features or quit the app.\n                                                        break;\n                                                }\n                                            }\n                                        });\n                            }\n                            //permission is denied (and never ask again is  checked)\n                            //shouldShowRequestPermissionRationale will return false\n                            else {\n                                Toast.makeText(this, \"Go to settings and enable permissions\", Toast.LENGTH_LONG)\n                                        .show();\n    //                            //proceed with logic by disabling the related features or quit the app.\n                            }\n                    }\n                }\n            }\n        }\n\n    }\n\n    private void showDialogOK(String message, DialogInterface.OnClickListener okListener) {\n        new AlertDialog.Builder(this)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setNegativeButton(\"Cancel\", okListener)\n                .create()\n                .show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1972221,"reputation":16711,"user_id":1770868,"accept_rate":95,"display_name":"Ahmad Aghazadeh"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1532321889,"creation_date":1464699648,"answer_id":37546500,"question_id":34342816,"body_markdown":"Small code :\r\n\r\n     public static final int MULTIPLE_PERMISSIONS = 10; // code you want.\r\n\r\n     String[] permissions= new String[]{\r\n            Manifest.permission.WRITE_EXTERNAL_STORAGE,\r\n            Manifest.permission.CAMERA,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION,\r\n            Manifest.permission.ACCESS_FINE_LOCATION};\r\n\r\n\r\n    if (checkPermissions())\r\n             //  permissions  granted.    \r\n    }\r\n \r\n    private  boolean checkPermissions() {\r\n            int result;\r\n            List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n            for (String p:permissions) {\r\n                result = ContextCompat.checkSelfPermission(getActivity(),p);\r\n                if (result != PackageManager.PERMISSION_GRANTED) {\r\n                    listPermissionsNeeded.add(p);\r\n                }\r\n            }\r\n            if (!listPermissionsNeeded.isEmpty()) {\r\n                ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),MULTIPLE_PERMISSIONS );\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n\r\n       @Override\r\n        public void onRequestPermissionsResult(int requestCode, String permissionsList[], int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MULTIPLE_PERMISSIONS:{\r\n                    if (grantResults.length &gt; 0) {\r\n                    String permissionsDenied = &quot;&quot;;\r\n                    for (String per : permissionsList) {\r\n                        if(grantResults[0] == PackageManager.PERMISSION_DENIED){\r\n                            permissionsDenied += &quot;\\n&quot; + per;\r\n                           \r\n                        } \r\n                      \r\n                    }\r\n                    // Show permissionsDenied \r\n                    updateViews();\r\n                }\r\n                    return;\r\n                }\r\n            }\r\n         }\r\n\r\n[List of Android permissions normal permissions and dangerous permissions in API 23][2]\r\n\r\n\r\n  [2]: https://stackoverflow.com/a/36937109/1770868","title":"Android 6.0 multiple permissions","body":"<p>Small code :</p>\n\n<pre><code> public static final int MULTIPLE_PERMISSIONS = 10; // code you want.\n\n String[] permissions= new String[]{\n        Manifest.permission.WRITE_EXTERNAL_STORAGE,\n        Manifest.permission.CAMERA,\n        Manifest.permission.ACCESS_COARSE_LOCATION,\n        Manifest.permission.ACCESS_FINE_LOCATION};\n\n\nif (checkPermissions())\n         //  permissions  granted.    \n}\n\nprivate  boolean checkPermissions() {\n        int result;\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n        for (String p:permissions) {\n            result = ContextCompat.checkSelfPermission(getActivity(),p);\n            if (result != PackageManager.PERMISSION_GRANTED) {\n                listPermissionsNeeded.add(p);\n            }\n        }\n        if (!listPermissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]),MULTIPLE_PERMISSIONS );\n            return false;\n        }\n        return true;\n    }\n\n\n   @Override\n    public void onRequestPermissionsResult(int requestCode, String permissionsList[], int[] grantResults) {\n        switch (requestCode) {\n            case MULTIPLE_PERMISSIONS:{\n                if (grantResults.length &gt; 0) {\n                String permissionsDenied = \"\";\n                for (String per : permissionsList) {\n                    if(grantResults[0] == PackageManager.PERMISSION_DENIED){\n                        permissionsDenied += \"\\n\" + per;\n\n                    } \n\n                }\n                // Show permissionsDenied \n                updateViews();\n            }\n                return;\n            }\n        }\n     }\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/36937109/1770868\">List of Android permissions normal permissions and dangerous permissions in API 23</a></p>\n"},{"tags":[],"owner":{"account_id":7506848,"reputation":247,"user_id":5703112,"display_name":"Antony jackson"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1699508059,"creation_date":1469437662,"answer_id":38563687,"question_id":34342816,"body_markdown":"&gt; In a Fragment\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n    public class Homefragment extends Fragment {\r\n        View hfrag;\r\n       Context context;\r\n     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n    //first we must check the permissions are already granted\r\n    \r\n            hfrag = inflater.inflate(R.layout.home, container, false);\r\n            context = getActivity();\r\n    checkAndRequestPermissions();\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n    private boolean checkAndRequestPermissions() {\r\n            int permissionSendMessage = ContextCompat.checkSelfPermission(context,\r\n                    Manifest.permission.READ_SMS);\r\n            int contactpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.GET_ACCOUNTS);\r\n    \r\n            int writepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n    \r\n            int callpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.CALL_PHONE);\r\n    \r\n            int receivepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.RECEIVE_SMS);\r\n            int locationpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION);\r\n    \r\n            List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n    \r\n            if (locationpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\r\n            }\r\n    \r\n            if (contactpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.GET_ACCOUNTS);\r\n            }\r\n            if (writepermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n            }\r\n            if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.READ_SMS);\r\n            }\r\n            if (receivepermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.RECEIVE_SMS);\r\n            }\r\n    \r\n            if (callpermission != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(Manifest.permission.CALL_PHONE);\r\n            }\r\n            if (!listPermissionsNeeded.isEmpty()) {\r\n                requestPermissions(listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n \r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n    \r\n        if (requestCode == REQUEST_ID_MULTIPLE_PERMISSIONS) {\r\n    \r\n    \r\n            if (grantResults.length &gt; 0) {\r\n                for (int i = 0; i &lt; permissions.length; i++) {\r\n    \r\n    \r\n                    if (permissions[i].equals(Manifest.permission.GET_ACCOUNTS)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;accounts granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;storage granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.CALL_PHONE)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;call granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.RECEIVE_SMS)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;sms granted&quot;);\r\n                            \r\n                        }\r\n                    } else if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n                        if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.e(&quot;msg&quot;, &quot;location granted&quot;);\r\n                            \r\n                        }\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<blockquote>\n<p>In a Fragment</p>\n</blockquote>\n<pre><code>public class Homefragment extends Fragment {\n    View hfrag;\n   Context context;\n public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n//first we must check the permissions are already granted\n\n        hfrag = inflater.inflate(R.layout.home, container, false);\n        context = getActivity();\ncheckAndRequestPermissions();\n\n}\n\n\n\n\n}\n\n\nprivate boolean checkAndRequestPermissions() {\n        int permissionSendMessage = ContextCompat.checkSelfPermission(context,\n                Manifest.permission.READ_SMS);\n        int contactpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.GET_ACCOUNTS);\n\n        int writepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n        int callpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.CALL_PHONE);\n\n        int receivepermission = ContextCompat.checkSelfPermission(context, Manifest.permission.RECEIVE_SMS);\n        int locationpermission = ContextCompat.checkSelfPermission(context, Manifest.permission.ACCESS_FINE_LOCATION);\n\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n\n        if (locationpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION);\n        }\n\n        if (contactpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.GET_ACCOUNTS);\n        }\n        if (writepermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        }\n        if (permissionSendMessage != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.READ_SMS);\n        }\n        if (receivepermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.RECEIVE_SMS);\n        }\n\n        if (callpermission != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(Manifest.permission.CALL_PHONE);\n        }\n        if (!listPermissionsNeeded.isEmpty()) {\n            requestPermissions(listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n            return false;\n        }\n        return true;\n    }\n\n\n\n @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n\n    if (requestCode == REQUEST_ID_MULTIPLE_PERMISSIONS) {\n\n\n        if (grantResults.length &gt; 0) {\n            for (int i = 0; i &lt; permissions.length; i++) {\n\n\n                if (permissions[i].equals(Manifest.permission.GET_ACCOUNTS)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;accounts granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;storage granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.CALL_PHONE)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;call granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.RECEIVE_SMS)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;sms granted&quot;);\n                        \n                    }\n                } else if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)) {\n                    if (grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n                        Log.e(&quot;msg&quot;, &quot;location granted&quot;);\n                        \n                    }\n                }\n\n\n            }\n\n        }\n\n\n    }\n}\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6050338,"reputation":2018,"user_id":4732473,"display_name":"Ness Tyagi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476176791,"creation_date":1476176791,"answer_id":39973851,"question_id":34342816,"body_markdown":"I have successfully implemented simple code for Multiple permission at Once.\r\nFollow the below steps\r\n1:Make Utility.java class like below\r\n\r\n    public class Utility {\r\n    public static final int MY_PERMISSIONS_REQUEST = 123;\r\n    @TargetApi(Build.VERSION_CODES.JELLY_BEAN)\r\n    public static boolean checkPermissions(Context context, String... permissions) {\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, permission)) {\r\n                        ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\r\n                    } else {\r\n                        ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\n2: Now call \r\n\r\n    boolean permissionCheck = Utility.checkPermissions(this, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.CALL_PHONE, Manifest.permission.GET_ACCOUNTS);  \r\n in your Activity onCreate() or according to your logic.\r\n\r\n3:Now check permission before performing operation for particular task\r\n\r\n    if (permissionCheck) {\r\n     performTaskOperation();//this method what you need to perform\r\n    } else {\r\n            Toast.makeText(this, &quot;Need permission ON.&quot;, Toast.LENGTH_SHORT).show();\r\n           }\r\n\r\n\r\n4: Now implement onRequestPermissionsResult() method in your Activity as below\r\n\r\n      @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case Utility.MY_PERMISSIONS_REQUEST:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    if (userChoosenTask.equals(&quot;STORAGE&quot;))\r\n                        performTaskOperation();//this method what you need to perform\r\n                }\r\n                break;\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>I have successfully implemented simple code for Multiple permission at Once.\nFollow the below steps\n1:Make Utility.java class like below</p>\n\n<pre><code>public class Utility {\npublic static final int MY_PERMISSIONS_REQUEST = 123;\n@TargetApi(Build.VERSION_CODES.JELLY_BEAN)\npublic static boolean checkPermissions(Context context, String... permissions) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                if (ActivityCompat.shouldShowRequestPermissionRationale((Activity) context, permission)) {\n                    ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\n                } else {\n                    ActivityCompat.requestPermissions((Activity) context, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,Manifest.permission.CALL_PHONE,Manifest.permission.GET_ACCOUNTS}, MY_PERMISSIONS_REQUEST);\n                }\n                return false;\n            }\n        }\n    }\n    return true;\n}\n}\n</code></pre>\n\n<p>2: Now call </p>\n\n<pre><code>boolean permissionCheck = Utility.checkPermissions(this, Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.CALL_PHONE, Manifest.permission.GET_ACCOUNTS);  \n</code></pre>\n\n<p>in your Activity onCreate() or according to your logic.</p>\n\n<p>3:Now check permission before performing operation for particular task</p>\n\n<pre><code>if (permissionCheck) {\n performTaskOperation();//this method what you need to perform\n} else {\n        Toast.makeText(this, \"Need permission ON.\", Toast.LENGTH_SHORT).show();\n       }\n</code></pre>\n\n<p>4: Now implement onRequestPermissionsResult() method in your Activity as below</p>\n\n<pre><code>  @Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    switch (requestCode) {\n        case Utility.MY_PERMISSIONS_REQUEST:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                if (userChoosenTask.equals(\"STORAGE\"))\n                    performTaskOperation();//this method what you need to perform\n            }\n            break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8719442,"reputation":590,"user_id":6523041,"display_name":"Tharindu Bandara"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1476271902,"creation_date":1476271902,"answer_id":39997520,"question_id":34342816,"body_markdown":"**It&#39;s easy, do this way**\r\n\r\n    private static final int REQUEST_READ_PHONE_STATE = 110 , REQUEST_ACCESS_FINE_LOCATION = 111, REQUEST_WRITE_STORAGE = 112;\r\n\r\nIn your onCreate\r\n\r\n     //request permission\r\n        boolean hasPermissionPhoneState = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionPhoneState) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.READ_PHONE_STATE},\r\n                    REQUEST_READ_PHONE_STATE);\r\n        }\r\n\r\n        boolean hasPermissionLocation = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionLocation) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                    REQUEST_ACCESS_FINE_LOCATION);\r\n        }\r\n\r\n        boolean hasPermissionWrite = (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED);\r\n        if (!hasPermissionWrite) {\r\n            ActivityCompat.requestPermissions(LoginActivity.this,\r\n                    new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                    REQUEST_WRITE_STORAGE);\r\n        }\r\n\r\n\r\n\r\nThen check result\r\n\r\n    \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode)\r\n        {\r\n            case REQUEST_READ_PHONE_STATE: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to get your phone state. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n            case REQUEST_ACCESS_FINE_LOCATION: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to get your location. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            case REQUEST_WRITE_STORAGE: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;Permission granted.&quot;, Toast.LENGTH_SHORT).show();\r\n                    //reload my activity with permission granted or use the features what required the permission\r\n                    finish();\r\n                    startActivity(getIntent());\r\n                } else\r\n                {\r\n                    Toast.makeText(LoginActivity.this, &quot;The app was not allowed to write to your storage. Hence, it cannot function properly. Please consider granting it this permission&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        }\r\n\r\n    }","title":"Android 6.0 multiple permissions","body":"<p><strong>It's easy, do this way</strong></p>\n\n<pre><code>private static final int REQUEST_READ_PHONE_STATE = 110 , REQUEST_ACCESS_FINE_LOCATION = 111, REQUEST_WRITE_STORAGE = 112;\n</code></pre>\n\n<p>In your onCreate</p>\n\n<pre><code> //request permission\n    boolean hasPermissionPhoneState = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.READ_PHONE_STATE) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionPhoneState) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.READ_PHONE_STATE},\n                REQUEST_READ_PHONE_STATE);\n    }\n\n    boolean hasPermissionLocation = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionLocation) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                REQUEST_ACCESS_FINE_LOCATION);\n    }\n\n    boolean hasPermissionWrite = (ContextCompat.checkSelfPermission(getApplicationContext(),\n            Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED);\n    if (!hasPermissionWrite) {\n        ActivityCompat.requestPermissions(LoginActivity.this,\n                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                REQUEST_WRITE_STORAGE);\n    }\n</code></pre>\n\n<p>Then check result</p>\n\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode)\n    {\n        case REQUEST_READ_PHONE_STATE: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to get your phone state. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n        case REQUEST_ACCESS_FINE_LOCATION: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to get your location. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n\n        case REQUEST_WRITE_STORAGE: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)\n            {\n                Toast.makeText(LoginActivity.this, \"Permission granted.\", Toast.LENGTH_SHORT).show();\n                //reload my activity with permission granted or use the features what required the permission\n                finish();\n                startActivity(getIntent());\n            } else\n            {\n                Toast.makeText(LoginActivity.this, \"The app was not allowed to write to your storage. Hence, it cannot function properly. Please consider granting it this permission\", Toast.LENGTH_LONG).show();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9275270,"reputation":81,"user_id":6888105,"display_name":"Nicolas Bodin-Ripert"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1481882894,"creation_date":1481812231,"answer_id":41166644,"question_id":34342816,"body_markdown":"The following methodology is about \r\n\r\n - asking permissions dynamically ;\r\n - showing a AlertDialog if the user denies any permission\r\n - looping until the user accepts permission(s)\r\n \r\n**Create a &quot;static&quot; class for permissions methods**\r\n\r\n    public class PermissionsUtil {\r\n        public static final int PERMISSION_ALL = 1;\r\n    \r\n        public static boolean doesAppNeedPermissions(){\r\n            return android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP_MR1;\r\n        }\r\n    \r\n        public static String[] getPermissions(Context context)\r\n                throws PackageManager.NameNotFoundException {\r\n            PackageInfo info = context.getPackageManager().getPackageInfo(\r\n                    context.getPackageName(), PackageManager.GET_PERMISSIONS);\r\n    \r\n            return info.requestedPermissions;\r\n        }\r\n    \r\n        public static void askPermissions(Activity activity){\r\n            if(doesAppNeedPermissions()) {\r\n                try {\r\n                    String[] permissions = getPermissions(activity);\r\n    \r\n                    if(!checkPermissions(activity, permissions)){\r\n                        ActivityCompat.requestPermissions(activity, permissions,\r\n                                PERMISSION_ALL);\r\n                    }\r\n                } catch(Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static boolean checkPermissions(Context context, String... permissions){\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp;\r\n                    permissions != null) {\r\n                for (String permission : permissions) {\r\n                    if (ContextCompat.checkSelfPermission(context, permission) !=\r\n                            PackageManager.PERMISSION_GRANTED) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n**In MainActivity.java**\r\n\r\n        private void checkPermissions(){\r\n            PermissionsUtil.askPermissions(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String[] permissions,\r\n                                               @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            switch (requestCode) {\r\n                case PermissionsUtil.PERMISSION_ALL: {\r\n    \r\n                    if (grantResults.length &gt; 0) {\r\n    \r\n                        List&lt;Integer&gt; indexesOfPermissionsNeededToShow = new ArrayList&lt;&gt;();\r\n    \r\n                        for(int i = 0; i &lt; permissions.length; ++i) {\r\n                            if(ActivityCompat.shouldShowRequestPermissionRationale(this, permissions[i])) {\r\n                                indexesOfPermissionsNeededToShow.add(i);\r\n                            }\r\n                        }\r\n    \r\n                        int size = indexesOfPermissionsNeededToShow.size();\r\n                        if(size != 0) {\r\n                            int i = 0;\r\n                            boolean isPermissionGranted = true;\r\n    \r\n                            while(i &lt; size &amp;&amp; isPermissionGranted) {\r\n                                isPermissionGranted = grantResults[indexesOfPermissionsNeededToShow.get(i)]\r\n                                        == PackageManager.PERMISSION_GRANTED;\r\n                                i++;\r\n                            }\r\n    \r\n                            if(!isPermissionGranted) {\r\n    \r\n                                showDialogNotCancelable(&quot;Permissions mandatory&quot;,\r\n                                        &quot;All the permissions are required for this app&quot;,\r\n                                        new DialogInterface.OnClickListener() {\r\n                                            @Override\r\n                                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                                checkPermissions();\r\n                                            }\r\n                                        });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void showDialogNotCancelable(String title, String message,\r\n                                             DialogInterface.OnClickListener okListener) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(title)\r\n                    .setMessage(message)\r\n                    .setPositiveButton(&quot;OK&quot;, okListener)\r\n                    .setCancelable(false)\r\n                    .create()\r\n                    .show();\r\n        }","title":"Android 6.0 multiple permissions","body":"<p>The following methodology is about </p>\n\n<ul>\n<li>asking permissions dynamically ;</li>\n<li>showing a AlertDialog if the user denies any permission</li>\n<li>looping until the user accepts permission(s)</li>\n</ul>\n\n<p><strong>Create a \"static\" class for permissions methods</strong></p>\n\n<pre><code>public class PermissionsUtil {\n    public static final int PERMISSION_ALL = 1;\n\n    public static boolean doesAppNeedPermissions(){\n        return android.os.Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP_MR1;\n    }\n\n    public static String[] getPermissions(Context context)\n            throws PackageManager.NameNotFoundException {\n        PackageInfo info = context.getPackageManager().getPackageInfo(\n                context.getPackageName(), PackageManager.GET_PERMISSIONS);\n\n        return info.requestedPermissions;\n    }\n\n    public static void askPermissions(Activity activity){\n        if(doesAppNeedPermissions()) {\n            try {\n                String[] permissions = getPermissions(activity);\n\n                if(!checkPermissions(activity, permissions)){\n                    ActivityCompat.requestPermissions(activity, permissions,\n                            PERMISSION_ALL);\n                }\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public static boolean checkPermissions(Context context, String... permissions){\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp; context != null &amp;&amp;\n                permissions != null) {\n            for (String permission : permissions) {\n                if (ContextCompat.checkSelfPermission(context, permission) !=\n                        PackageManager.PERMISSION_GRANTED) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>In MainActivity.java</strong></p>\n\n<pre><code>    private void checkPermissions(){\n        PermissionsUtil.askPermissions(this);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String[] permissions,\n                                           @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        switch (requestCode) {\n            case PermissionsUtil.PERMISSION_ALL: {\n\n                if (grantResults.length &gt; 0) {\n\n                    List&lt;Integer&gt; indexesOfPermissionsNeededToShow = new ArrayList&lt;&gt;();\n\n                    for(int i = 0; i &lt; permissions.length; ++i) {\n                        if(ActivityCompat.shouldShowRequestPermissionRationale(this, permissions[i])) {\n                            indexesOfPermissionsNeededToShow.add(i);\n                        }\n                    }\n\n                    int size = indexesOfPermissionsNeededToShow.size();\n                    if(size != 0) {\n                        int i = 0;\n                        boolean isPermissionGranted = true;\n\n                        while(i &lt; size &amp;&amp; isPermissionGranted) {\n                            isPermissionGranted = grantResults[indexesOfPermissionsNeededToShow.get(i)]\n                                    == PackageManager.PERMISSION_GRANTED;\n                            i++;\n                        }\n\n                        if(!isPermissionGranted) {\n\n                            showDialogNotCancelable(\"Permissions mandatory\",\n                                    \"All the permissions are required for this app\",\n                                    new DialogInterface.OnClickListener() {\n                                        @Override\n                                        public void onClick(DialogInterface dialogInterface, int i) {\n                                            checkPermissions();\n                                        }\n                                    });\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private void showDialogNotCancelable(String title, String message,\n                                         DialogInterface.OnClickListener okListener) {\n        new AlertDialog.Builder(this)\n                .setTitle(title)\n                .setMessage(message)\n                .setPositiveButton(\"OK\", okListener)\n                .setCancelable(false)\n                .create()\n                .show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4266310,"reputation":532,"user_id":3489351,"display_name":"androidStud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487245742,"creation_date":1487245742,"answer_id":42273118,"question_id":34342816,"body_markdown":"Short and sweet :). what I believe in.\r\n\r\n      \r\n    int PERMISSION_ALL = 1;\r\n    String[] PERMISSIONS = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}; // List of permissions required\r\n    \r\n    public void askPermission()\r\n    {\r\n        for (String permission : PERMISSIONS) {\r\n            if (ActivityCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(PERMISSIONS, PERMISSION_ALL);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                           int[] grantResults) {\r\n\r\n        switch (requestCode) {\r\n            case 1:{\r\n                if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED){\r\n                    //Do your work.\r\n                } else {\r\n                    Toast.makeText(this, &quot;Until you grant the permission, we cannot proceed further&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                return;\r\n            }\r\n        }","title":"Android 6.0 multiple permissions","body":"<p>Short and sweet :). what I believe in.</p>\n\n<pre><code>int PERMISSION_ALL = 1;\nString[] PERMISSIONS = {Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}; // List of permissions required\n\npublic void askPermission()\n{\n    for (String permission : PERMISSIONS) {\n        if (ActivityCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(PERMISSIONS, PERMISSION_ALL);\n            return;\n        }\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                       int[] grantResults) {\n\n    switch (requestCode) {\n        case 1:{\n            if(grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED){\n                //Do your work.\n            } else {\n                Toast.makeText(this, \"Until you grant the permission, we cannot proceed further\", Toast.LENGTH_SHORT).show();\n            }\n            return;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9299705,"reputation":906,"user_id":6905587,"display_name":"Andrew Glukhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507886,"creation_date":1498198791,"answer_id":44714339,"question_id":34342816,"body_markdown":"Use helper like this (permissions names do not matter).\r\n\r\n    public class MyPermission {\r\n\r\n    private static final int PERMISSION_REQUEST_ALL = 127;\r\n    private MainActivity mMainActivity;\r\n\r\n    MyPermission(MainActivity mainActivity) {\r\n        mMainActivity = mainActivity;\r\n    }\r\n\r\n    public static boolean hasPermission(String permission, Context context) {\r\n        if (isNewPermissionModel()) {\r\n            return (ActivityCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static boolean hasPermissions(Context context, String... permissions) {\r\n        if (isNewPermissionModel() &amp;&amp; context != null &amp;&amp; permissions != null) {\r\n            for (String permission : permissions) {\r\n                if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static boolean shouldShowRationale(Activity activity, String permission) {\r\n        return isNewPermissionModel() &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(activity, permission);\r\n    }\r\n\r\n    private static boolean isNewPermissionModel() {\r\n        return VERSION.SDK_INT &gt; VERSION_CODES.LOLLIPOP_MR1;\r\n    }\r\n\r\n\r\n    /**\r\n     * check all permissions\r\n     */\r\n    void checkAll() {\r\n        //check dangerous permissions, make request if need (Android will ask only for the ones it needs)\r\n        String[] PERMISSIONS = {\r\n                permission.READ_CALENDAR,           \r\n                permission.ACCESS_COARSE_LOCATION   \r\n        };\r\n\r\n        if (!hasPermissions(mMainActivity, PERMISSIONS)) {\r\n            ActivityCompat.requestPermissions(mMainActivity, PERMISSIONS, PERMISSION_REQUEST_ALL);\r\n        }\r\n    }\r\n\r\n    void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        if (requestCode == PERMISSION_REQUEST_ALL) {\r\n            if (grantResults.length &gt; 0) {\r\n                //for not granted\r\n                for (int i = 0; i &lt; permissions.length; i++) {\r\n\r\n                    if (permissions[i].equals(permission.READ_CALENDAR)) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            smartRequestPermissions(permission.READ_CALENDAR, R.string.permission_required_dialog_read_calendar);\r\n                        }\r\n                    } else if (permissions[i].equals(permission.ACCESS_COARSE_LOCATION)) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            smartRequestPermissions(permission.ACCESS_COARSE_LOCATION, R.string.permission_required_dialog_access_coarse_location);\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void smartRequestPermissions(final String permissionName, int permissionRequiredDialog) {\r\n        if (shouldShowRationale(mMainActivity, permissionName)) {// If the user turned down the permission request in the past and chose the Don&#39;t ask again option in the permission request system dialog, this method returns false.\r\n\r\n            //Show an explanation to the user with action\r\n            mMainActivity.mSnackProgressBarManager.show(\r\n                    new SnackProgressBar(\r\n                            SnackProgressBar.TYPE_ACTION, mMainActivity.getString(permissionRequiredDialog)\r\n                    )\r\n                            .setAction(&quot;OK&quot;, new OnActionClickListener() {\r\n                                @Override\r\n                                public void onActionClick() {\r\n                                    checkAll();\r\n                                }\r\n                            })\r\n                            .setSwipeToDismiss(true).setAllowUserInput(true)\r\n                    , MainActivity.SNACKBAR_WARNING_DURATION\r\n            );\r\n\r\n        } // else do nothing\r\n    }\r\n    }\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<p>Use helper like this (permissions names do not matter).</p>\n<pre><code>public class MyPermission {\n\nprivate static final int PERMISSION_REQUEST_ALL = 127;\nprivate MainActivity mMainActivity;\n\nMyPermission(MainActivity mainActivity) {\n    mMainActivity = mainActivity;\n}\n\npublic static boolean hasPermission(String permission, Context context) {\n    if (isNewPermissionModel()) {\n        return (ActivityCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED);\n    }\n    return true;\n}\n\nprivate static boolean hasPermissions(Context context, String... permissions) {\n    if (isNewPermissionModel() &amp;&amp; context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nprivate static boolean shouldShowRationale(Activity activity, String permission) {\n    return isNewPermissionModel() &amp;&amp; ActivityCompat.shouldShowRequestPermissionRationale(activity, permission);\n}\n\nprivate static boolean isNewPermissionModel() {\n    return VERSION.SDK_INT &gt; VERSION_CODES.LOLLIPOP_MR1;\n}\n\n\n/**\n * check all permissions\n */\nvoid checkAll() {\n    //check dangerous permissions, make request if need (Android will ask only for the ones it needs)\n    String[] PERMISSIONS = {\n            permission.READ_CALENDAR,           \n            permission.ACCESS_COARSE_LOCATION   \n    };\n\n    if (!hasPermissions(mMainActivity, PERMISSIONS)) {\n        ActivityCompat.requestPermissions(mMainActivity, PERMISSIONS, PERMISSION_REQUEST_ALL);\n    }\n}\n\nvoid onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    if (requestCode == PERMISSION_REQUEST_ALL) {\n        if (grantResults.length &gt; 0) {\n            //for not granted\n            for (int i = 0; i &lt; permissions.length; i++) {\n\n                if (permissions[i].equals(permission.READ_CALENDAR)) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        smartRequestPermissions(permission.READ_CALENDAR, R.string.permission_required_dialog_read_calendar);\n                    }\n                } else if (permissions[i].equals(permission.ACCESS_COARSE_LOCATION)) {\n                    if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                        smartRequestPermissions(permission.ACCESS_COARSE_LOCATION, R.string.permission_required_dialog_access_coarse_location);\n                    }\n                }\n\n            }\n        }\n    }\n}\n\nprivate void smartRequestPermissions(final String permissionName, int permissionRequiredDialog) {\n    if (shouldShowRationale(mMainActivity, permissionName)) {// If the user turned down the permission request in the past and chose the Don't ask again option in the permission request system dialog, this method returns false.\n\n        //Show an explanation to the user with action\n        mMainActivity.mSnackProgressBarManager.show(\n                new SnackProgressBar(\n                        SnackProgressBar.TYPE_ACTION, mMainActivity.getString(permissionRequiredDialog)\n                )\n                        .setAction(&quot;OK&quot;, new OnActionClickListener() {\n                            @Override\n                            public void onActionClick() {\n                                checkAll();\n                            }\n                        })\n                        .setSwipeToDismiss(true).setAllowUserInput(true)\n                , MainActivity.SNACKBAR_WARNING_DURATION\n        );\n\n    } // else do nothing\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735908,"reputation":353,"user_id":4530103,"display_name":"Andrew Vovk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699508036,"creation_date":1508838791,"answer_id":46907385,"question_id":34342816,"body_markdown":"My approach is based on Nicks&#39; answer and hopefully is a bit more usable for multiple (as many as needed, not only two) permissions.\r\nIt suggests adding single-responsibility PermissionsHelper class:\r\n\r\n    import android.app.Activity;\r\n    import android.app.AlertDialog;\r\n    import android.content.pm.PackageManager;\r\n    import android.support.v4.app.ActivityCompat;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.util.Log;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n\r\n    public class PermissionsHelper {\r\n\r\n    private static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 100; // any code you want.\r\n\r\n    public void checkAndRequestPermissions(Activity activity, String... permissions) {\r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        for (String permission : permissions) {\r\n            if (ContextCompat.checkSelfPermission(activity, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                listPermissionsNeeded.add(permission);\r\n            }\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(activity, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n        }\r\n    }\r\n\r\n    public void onRequestPermissionsResult(Activity activity, int requestCode, String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case REQUEST_ID_MULTIPLE_PERMISSIONS: {\r\n                Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\r\n\r\n                for (String permission : permissions) {\r\n                    perms.put(permission, PackageManager.PERMISSION_GRANTED);\r\n                }\r\n\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int i = 0; i &lt; permissions.length; i++)\r\n                        perms.put(permissions[i], grantResults[i]);\r\n\r\n                    boolean allPermissionsGranted = true;\r\n                    for (String permission1 : permissions) {\r\n                        allPermissionsGranted = allPermissionsGranted &amp;&amp; (perms.get(permission1) == PackageManager.PERMISSION_GRANTED);\r\n                    }\r\n\r\n                    if (allPermissionsGranted) {\r\n                        Log.d(PermissionsHelper.class.getSimpleName(), &quot;onRequestPermissionsResult: all permissions granted&quot;);\r\n                    } else {\r\n                        for (String permission2 : perms.keySet())\r\n                            if (perms.get(permission2) == PackageManager.PERMISSION_GRANTED)\r\n                                perms.remove(permission2);\r\n\r\n                        StringBuilder message = new StringBuilder(&quot;The app has not been granted permissions:\\n\\n&quot;);\r\n                        for (String permission : perms.keySet()) {\r\n                            message.append(permission);\r\n                            message.append(&quot;\\n&quot;);\r\n                        }\r\n                        message.append(&quot;\\nHence, it cannot function properly.&quot; +\r\n                                &quot;\\nPlease consider granting it this permission in phone Settings.&quot;);\r\n\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n                        builder.setTitle(R.string.permission_required)\r\n                                .setMessage(message)\r\n                                .setPositiveButton(android.R.string.ok, (dialog, id) -&gt; dialog.cancel());\r\n                        AlertDialog alert = builder.create();\r\n                        alert.show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }\r\n\r\nIf one or several required permissions have not been granted by user, the detailed AlertDialog message will be shown to him.\r\n\r\nExample of usage in Activity:\r\n\r\n    \r\n    private PermissionsHelper permissionsHelper;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        checkPermissions();\r\n\r\n        //any other code\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        permissionsHelper.onRequestPermissionsResult(this, requestCode, permissions, grantResults);\r\n    }\r\n\r\n    private void checkPermissions() {\r\n        permissionsHelper = new PermissionsHelper();\r\n        permissionsHelper.checkAndRequestPermissions(this,\r\n                Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION);\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>My approach is based on Nicks' answer and hopefully is a bit more usable for multiple (as many as needed, not only two) permissions.\nIt suggests adding single-responsibility PermissionsHelper class:</p>\n<pre><code>import android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.pm.PackageManager;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.util.Log;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class PermissionsHelper {\n\nprivate static final int REQUEST_ID_MULTIPLE_PERMISSIONS = 100; // any code you want.\n\npublic void checkAndRequestPermissions(Activity activity, String... permissions) {\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    for (String permission : permissions) {\n        if (ContextCompat.checkSelfPermission(activity, permission) != PackageManager.PERMISSION_GRANTED) {\n            listPermissionsNeeded.add(permission);\n        }\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(activity, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n    }\n}\n\npublic void onRequestPermissionsResult(Activity activity, int requestCode, String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case REQUEST_ID_MULTIPLE_PERMISSIONS: {\n            Map&lt;String, Integer&gt; perms = new HashMap&lt;&gt;();\n\n            for (String permission : permissions) {\n                perms.put(permission, PackageManager.PERMISSION_GRANTED);\n            }\n\n            if (grantResults.length &gt; 0) {\n                for (int i = 0; i &lt; permissions.length; i++)\n                    perms.put(permissions[i], grantResults[i]);\n\n                boolean allPermissionsGranted = true;\n                for (String permission1 : permissions) {\n                    allPermissionsGranted = allPermissionsGranted &amp;&amp; (perms.get(permission1) == PackageManager.PERMISSION_GRANTED);\n                }\n\n                if (allPermissionsGranted) {\n                    Log.d(PermissionsHelper.class.getSimpleName(), &quot;onRequestPermissionsResult: all permissions granted&quot;);\n                } else {\n                    for (String permission2 : perms.keySet())\n                        if (perms.get(permission2) == PackageManager.PERMISSION_GRANTED)\n                            perms.remove(permission2);\n\n                    StringBuilder message = new StringBuilder(&quot;The app has not been granted permissions:\\n\\n&quot;);\n                    for (String permission : perms.keySet()) {\n                        message.append(permission);\n                        message.append(&quot;\\n&quot;);\n                    }\n                    message.append(&quot;\\nHence, it cannot function properly.&quot; +\n                            &quot;\\nPlease consider granting it this permission in phone Settings.&quot;);\n\n                    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n                    builder.setTitle(R.string.permission_required)\n                            .setMessage(message)\n                            .setPositiveButton(android.R.string.ok, (dialog, id) -&gt; dialog.cancel());\n                    AlertDialog alert = builder.create();\n                    alert.show();\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>If one or several required permissions have not been granted by user, the detailed AlertDialog message will be shown to him.</p>\n<p>Example of usage in Activity:</p>\n<pre><code>private PermissionsHelper permissionsHelper;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    checkPermissions();\n\n    //any other code\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    permissionsHelper.onRequestPermissionsResult(this, requestCode, permissions, grantResults);\n}\n\nprivate void checkPermissions() {\n    permissionsHelper = new PermissionsHelper();\n    permissionsHelper.checkAndRequestPermissions(this,\n            Manifest.permission.READ_EXTERNAL_STORAGE,\n            Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.ACCESS_COARSE_LOCATION);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1512034077,"creation_date":1512034077,"answer_id":47569952,"question_id":34342816,"body_markdown":"My handler class for request multiple permissions. You can check the [full using][1] here\r\n\r\n    public class RequestPermissionHandler {\r\n        private Activity mActivity;\r\n        private RequestPermissionListener mRequestPermissionListener;\r\n        private int mRequestCode;\r\n    \r\n        public void requestPermission(Activity activity, @NonNull String[] permissions, int requestCode,\r\n                RequestPermissionListener listener) {\r\n            mActivity = activity;\r\n            mRequestCode = requestCode;\r\n            mRequestPermissionListener = listener;\r\n    \r\n            if (!needRequestRuntimePermissions()) {\r\n                mRequestPermissionListener.onSuccess();\r\n                return;\r\n            }\r\n            requestUnGrantedPermissions(permissions, requestCode);\r\n        }\r\n    \r\n        private boolean needRequestRuntimePermissions() {\r\n            return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M;\r\n        }\r\n    \r\n        private void requestUnGrantedPermissions(String[] permissions, int requestCode) {\r\n            String[] unGrantedPermissions = findUnGrantedPermissions(permissions);\r\n            if (unGrantedPermissions.length == 0) {\r\n                mRequestPermissionListener.onSuccess();\r\n                return;\r\n            }\r\n            ActivityCompat.requestPermissions(mActivity, unGrantedPermissions, requestCode);\r\n        }\r\n    \r\n        private boolean isPermissionGranted(String permission) {\r\n            return ActivityCompat.checkSelfPermission(mActivity, permission)\r\n                    == PackageManager.PERMISSION_GRANTED;\r\n        }\r\n    \r\n        private String[] findUnGrantedPermissions(String[] permissions) {\r\n            List&lt;String&gt; unGrantedPermissionList = new ArrayList&lt;&gt;();\r\n            for (String permission : permissions) {\r\n                if (!isPermissionGranted(permission)) {\r\n                    unGrantedPermissionList.add(permission);\r\n                }\r\n            }\r\n            return unGrantedPermissionList.toArray(new String[0]);\r\n        }\r\n    \r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n                @NonNull int[] grantResults) {\r\n            if (requestCode == mRequestCode) {\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int grantResult : grantResults) {\r\n                        if (grantResult != PackageManager.PERMISSION_GRANTED) {\r\n                            mRequestPermissionListener.onFailed();\r\n                            return;\r\n                        }\r\n                    }\r\n                    mRequestPermissionListener.onSuccess();\r\n                } else {\r\n                    mRequestPermissionListener.onFailed();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public interface RequestPermissionListener {\r\n            void onSuccess();\r\n    \r\n            void onFailed();\r\n        }\r\n    }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45953930/5381331\r\n  [2]: https://i.stack.imgur.com/ha5LT.gif","title":"Android 6.0 multiple permissions","body":"<p>My handler class for request multiple permissions. You can check the <a href=\"https://stackoverflow.com/a/45953930/5381331\">full using</a> here</p>\n\n<pre><code>public class RequestPermissionHandler {\n    private Activity mActivity;\n    private RequestPermissionListener mRequestPermissionListener;\n    private int mRequestCode;\n\n    public void requestPermission(Activity activity, @NonNull String[] permissions, int requestCode,\n            RequestPermissionListener listener) {\n        mActivity = activity;\n        mRequestCode = requestCode;\n        mRequestPermissionListener = listener;\n\n        if (!needRequestRuntimePermissions()) {\n            mRequestPermissionListener.onSuccess();\n            return;\n        }\n        requestUnGrantedPermissions(permissions, requestCode);\n    }\n\n    private boolean needRequestRuntimePermissions() {\n        return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M;\n    }\n\n    private void requestUnGrantedPermissions(String[] permissions, int requestCode) {\n        String[] unGrantedPermissions = findUnGrantedPermissions(permissions);\n        if (unGrantedPermissions.length == 0) {\n            mRequestPermissionListener.onSuccess();\n            return;\n        }\n        ActivityCompat.requestPermissions(mActivity, unGrantedPermissions, requestCode);\n    }\n\n    private boolean isPermissionGranted(String permission) {\n        return ActivityCompat.checkSelfPermission(mActivity, permission)\n                == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private String[] findUnGrantedPermissions(String[] permissions) {\n        List&lt;String&gt; unGrantedPermissionList = new ArrayList&lt;&gt;();\n        for (String permission : permissions) {\n            if (!isPermissionGranted(permission)) {\n                unGrantedPermissionList.add(permission);\n            }\n        }\n        return unGrantedPermissionList.toArray(new String[0]);\n    }\n\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n            @NonNull int[] grantResults) {\n        if (requestCode == mRequestCode) {\n            if (grantResults.length &gt; 0) {\n                for (int grantResult : grantResults) {\n                    if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                        mRequestPermissionListener.onFailed();\n                        return;\n                    }\n                }\n                mRequestPermissionListener.onSuccess();\n            } else {\n                mRequestPermissionListener.onFailed();\n            }\n        }\n    }\n\n    public interface RequestPermissionListener {\n        void onSuccess();\n\n        void onFailed();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ha5LT.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ha5LT.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13045038,"reputation":3004,"user_id":9427138,"display_name":"Adarsh Vijayan P"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524201601,"creation_date":1524201601,"answer_id":49934503,"question_id":34342816,"body_markdown":"**Checking every situation**\r\n\r\n\r\nif denied - showing Alert dialog to user why we need permission\r\n\r\n    public static final int MULTIPLE_PERMISSIONS = 1;\r\n    public static final int CAMERA_PERMISSION_REQUEST_CODE = 2;\r\n    public static final int STORAGE_PERMISSION_REQUEST_CODE = 3;\r\n    \r\n        private void askPermissions() {\r\n \r\n        int permissionCheckStorage = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n\r\n        int permissionCheckCamera = ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.CAMERA); \r\n\r\n       // we already asked for permisson &amp; Permission granted, call camera intent\r\n        if (permissionCheckStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera == PackageManager.PERMISSION_GRANTED) {\r\n            \r\n            launchCamera();\r\n\r\n        } //asking permission for the first time\r\n         else if (permissionCheckStorage != PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera != PackageManager.PERMISSION_GRANTED) {\r\n             \r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                    MULTIPLE_PERMISSIONS);\r\n\r\n        } else {\r\n            // Permission denied, so request permission\r\n\r\n            // if camera request is denied\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.CAMERA)) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;You need to give permission to take pictures in order to work this feature.&quot;);\r\n                builder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n                    }\r\n                });\r\n                builder.setPositiveButton(&quot;GIVE PERMISSION&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n\r\n                        // Show permission request popup\r\n                        ActivityCompat.requestPermissions(this,\r\n                                new String[]{Manifest.permission.CAMERA},\r\n                                CAMERA_PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                builder.show();\r\n\r\n            }   // if storage request is denied\r\n                    else if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n                builder.setMessage(&quot;You need to give permission to access storage in order to work this feature.&quot;);\r\n                builder.setNegativeButton(&quot;CANCEL&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n                    }\r\n                });\r\n                builder.setPositiveButton(&quot;GIVE PERMISSION&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        dialogInterface.dismiss();\r\n\r\n                        // Show permission request popup\r\n                        ActivityCompat.requestPermissions(this,\r\n                                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                                STORAGE_PERMISSION_REQUEST_CODE);\r\n                    }\r\n                });\r\n                builder.show();\r\n\r\n            } \r\n\r\n        }\r\n    }\r\n\r\n**Checking Permission Results**\r\n\r\n\r\n     @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case CAMERA_PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA)) {\r\n                    // check whether camera permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n                    }\r\n                }\r\n                break;\r\n            case STORAGE_PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                    // check whether storage permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n                    }\r\n                }\r\n                break;\r\n            case MULTIPLE_PERMISSIONS:\r\n                if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA) &amp;&amp; permissions[1].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                    // check whether All permission granted or not.\r\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                        launchCamera();\r\n\r\n                    }\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n&gt; you can just copy and paste this code, it works fine. change context(this) &amp; permissions according to you.  ","title":"Android 6.0 multiple permissions","body":"<p><strong>Checking every situation</strong></p>\n\n<p>if denied - showing Alert dialog to user why we need permission</p>\n\n<pre><code>public static final int MULTIPLE_PERMISSIONS = 1;\npublic static final int CAMERA_PERMISSION_REQUEST_CODE = 2;\npublic static final int STORAGE_PERMISSION_REQUEST_CODE = 3;\n\n    private void askPermissions() {\n\n    int permissionCheckStorage = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE);\n\n    int permissionCheckCamera = ContextCompat.checkSelfPermission(this,\n            Manifest.permission.CAMERA); \n\n   // we already asked for permisson &amp; Permission granted, call camera intent\n    if (permissionCheckStorage == PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera == PackageManager.PERMISSION_GRANTED) {\n\n        launchCamera();\n\n    } //asking permission for the first time\n     else if (permissionCheckStorage != PackageManager.PERMISSION_GRANTED &amp;&amp; permissionCheckCamera != PackageManager.PERMISSION_GRANTED) {\n\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                MULTIPLE_PERMISSIONS);\n\n    } else {\n        // Permission denied, so request permission\n\n        // if camera request is denied\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.CAMERA)) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(\"You need to give permission to take pictures in order to work this feature.\");\n            builder.setNegativeButton(\"CANCEL\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            });\n            builder.setPositiveButton(\"GIVE PERMISSION\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n\n                    // Show permission request popup\n                    ActivityCompat.requestPermissions(this,\n                            new String[]{Manifest.permission.CAMERA},\n                            CAMERA_PERMISSION_REQUEST_CODE);\n                }\n            });\n            builder.show();\n\n        }   // if storage request is denied\n                else if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\n            builder.setMessage(\"You need to give permission to access storage in order to work this feature.\");\n            builder.setNegativeButton(\"CANCEL\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            });\n            builder.setPositiveButton(\"GIVE PERMISSION\", new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n\n                    // Show permission request popup\n                    ActivityCompat.requestPermissions(this,\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                            STORAGE_PERMISSION_REQUEST_CODE);\n                }\n            });\n            builder.show();\n\n        } \n\n    }\n}\n</code></pre>\n\n<p><strong>Checking Permission Results</strong></p>\n\n<pre><code> @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n    switch (requestCode) {\n        case CAMERA_PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA)) {\n                // check whether camera permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n                }\n            }\n            break;\n        case STORAGE_PERMISSION_REQUEST_CODE:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                // check whether storage permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n                }\n            }\n            break;\n        case MULTIPLE_PERMISSIONS:\n            if (grantResults.length &gt; 0 &amp;&amp; permissions[0].equals(Manifest.permission.CAMERA) &amp;&amp; permissions[1].equals(Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n                // check whether All permission granted or not.\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                    launchCamera();\n\n                }\n            }\n            break;\n        default:\n            break;\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>you can just copy and paste this code, it works fine. change context(this) &amp; permissions according to you.  </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8684774,"reputation":2195,"user_id":6499555,"accept_rate":50,"display_name":"Sachin Varma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507903,"creation_date":1524905409,"answer_id":50074661,"question_id":34342816,"body_markdown":"Simple way to ask multiple permission,\r\n\r\nhttps://github.com/sachinvarma/EasyPermission\r\n\r\nHow to add :\r\n\r\n    repositories {\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n\r\n    implementation &#39;com.github.sachinvarma:EasyPermission:1.0.1&#39;\r\n\r\n\r\nHow to ask permission:\r\n\r\n     List&lt;String&gt; permission = new ArrayList&lt;&gt;();\r\n     permission.add(EasyPermissionList.READ_EXTERNAL_STORAGE);\r\n     permission.add(EasyPermissionList.ACCESS_FINE_LOCATION);\r\n\r\n     new EasyPermissionInit(MainActivity.this, permission);\r\n\r\nFor more Details - &gt;\r\n\r\nhttps://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java","title":"Android 6.0 multiple permissions","body":"<p>Simple way to ask multiple permission,</p>\n<p><a href=\"https://github.com/sachinvarma/EasyPermission\" rel=\"nofollow noreferrer\">https://github.com/sachinvarma/EasyPermission</a></p>\n<p>How to add :</p>\n<pre><code>repositories {\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n\nimplementation 'com.github.sachinvarma:EasyPermission:1.0.1'\n</code></pre>\n<p>How to ask permission:</p>\n<pre><code> List&lt;String&gt; permission = new ArrayList&lt;&gt;();\n permission.add(EasyPermissionList.READ_EXTERNAL_STORAGE);\n permission.add(EasyPermissionList.ACCESS_FINE_LOCATION);\n\n new EasyPermissionInit(MainActivity.this, permission);\n</code></pre>\n<p>For more Details - &gt;</p>\n<p><a href=\"https://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java\" rel=\"nofollow noreferrer\">https://github.com/sachinvarma/EasyPermission/blob/master/app/src/main/java/com/sachinvarma/easypermissionsample/MainActivity.java</a></p>\n"},{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531243552,"creation_date":1531243552,"answer_id":51271069,"question_id":34342816,"body_markdown":"After seeing all the long and complex answers. I want post this answer.\r\n\r\n[**RxPermission**][3] is widely used library now for asking permission in one line code.\r\n\r\n    RxPermissions rxPermissions = new RxPermissions(this);\r\n    rxPermissions\r\n    .request(Manifest.permission.CAMERA,\r\n             Manifest.permission.READ_PHONE_STATE)\r\n    .subscribe(granted -&gt; {\r\n        if (granted) {\r\n           // All requested permissions are granted\r\n        } else {\r\n           // At least one permission is denied\r\n        }\r\n    });\r\n\r\nadd in your `build.gradle`\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.github.tbruyelle:rxpermissions:0.10.1&#39;\r\n        implementation &#39;com.jakewharton.rxbinding2:rxbinding:2.1.1&#39;\r\n    }\r\n\r\n**Isn&#39;t this easy?**\r\n\r\n  [1]: https://developer.android.com/guide/topics/permissions/overview\r\n  [2]: https://developer.android.com/training/permissions/requesting\r\n  [3]: https://github.com/tbruyelle/RxPermissions","title":"Android 6.0 multiple permissions","body":"<p>After seeing all the long and complex answers. I want post this answer.</p>\n\n<p><a href=\"https://github.com/tbruyelle/RxPermissions\" rel=\"nofollow noreferrer\"><strong>RxPermission</strong></a> is widely used library now for asking permission in one line code.</p>\n\n<pre><code>RxPermissions rxPermissions = new RxPermissions(this);\nrxPermissions\n.request(Manifest.permission.CAMERA,\n         Manifest.permission.READ_PHONE_STATE)\n.subscribe(granted -&gt; {\n    if (granted) {\n       // All requested permissions are granted\n    } else {\n       // At least one permission is denied\n    }\n});\n</code></pre>\n\n<p>add in your <code>build.gradle</code></p>\n\n<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ndependencies {\n    implementation 'com.github.tbruyelle:rxpermissions:0.10.1'\n    implementation 'com.jakewharton.rxbinding2:rxbinding:2.1.1'\n}\n</code></pre>\n\n<p><strong>Isn't this easy?</strong></p>\n"},{"tags":[],"owner":{"account_id":2987459,"reputation":9583,"user_id":2535875,"accept_rate":50,"display_name":"Md Imran Choudhury"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532602350,"creation_date":1532602350,"answer_id":51537104,"question_id":34342816,"body_markdown":"&gt; **I just use an array to achieved multiple requests, hope it helps someone. (Kotlin)**\r\n\r\n        // got all permission\r\n        private fun requestPermission(){\r\n            var mIndex: Int = -1\r\n            var requestList: Array&lt;String&gt; = Array(10, { &quot;&quot; } )\r\n    \r\n            // phone call Permission\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.CALL_PHONE\r\n            }\r\n            // SMS Permission\r\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.SEND_SMS\r\n            }\r\n    \r\n            // Access photos Permission\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.READ_EXTERNAL_STORAGE\r\n            }\r\n    \r\n            // Location Permission\r\n            if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                mIndex ++\r\n                requestList[mIndex] = Manifest.permission.ACCESS_FINE_LOCATION\r\n            }\r\n    \r\n            if(mIndex != -1){\r\n                ActivityCompat.requestPermissions(this, requestList, PERMISSIONS_REQUEST_ALL)\r\n            }\r\n        }\r\n    \r\n    \r\n        // permission response\r\n        override fun onRequestPermissionsResult(requestCode: Int,\r\n                                                permissions: Array&lt;String&gt;, grantResults: IntArray) {\r\n            when (requestCode) {\r\n                PERMISSIONS_REQUEST_ALL -&gt; {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;Phone Call permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;SMS permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;SMS permission accept.&quot;)\r\n                        }\r\n    \r\n                        // permission accept location\r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                        Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n                            Log.d(TAG, &quot;Location permission accept.&quot;)\r\n                        }\r\n    \r\n                    } else {\r\n                        Toast.makeText(mContext, &quot;Permission Failed!&quot;, Toast.LENGTH_LONG).show()\r\n                    }\r\n                    return\r\n                }\r\n            }\r\n        }","title":"Android 6.0 multiple permissions","body":"<blockquote>\n  <p><strong>I just use an array to achieved multiple requests, hope it helps someone. (Kotlin)</strong></p>\n</blockquote>\n\n<pre><code>    // got all permission\n    private fun requestPermission(){\n        var mIndex: Int = -1\n        var requestList: Array&lt;String&gt; = Array(10, { \"\" } )\n\n        // phone call Permission\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.CALL_PHONE\n        }\n        // SMS Permission\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.SEND_SMS\n        }\n\n        // Access photos Permission\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.READ_EXTERNAL_STORAGE\n        }\n\n        // Location Permission\n        if (ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission(mContext, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            mIndex ++\n            requestList[mIndex] = Manifest.permission.ACCESS_FINE_LOCATION\n        }\n\n        if(mIndex != -1){\n            ActivityCompat.requestPermissions(this, requestList, PERMISSIONS_REQUEST_ALL)\n        }\n    }\n\n\n    // permission response\n    override fun onRequestPermissionsResult(requestCode: Int,\n                                            permissions: Array&lt;String&gt;, grantResults: IntArray) {\n        when (requestCode) {\n            PERMISSIONS_REQUEST_ALL -&gt; {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.CALL_PHONE) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"Phone Call permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.SEND_SMS) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"SMS permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"SMS permission accept.\")\n                    }\n\n                    // permission accept location\n                    if (ContextCompat.checkSelfPermission(this,\n                                    Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n                        Log.d(TAG, \"Location permission accept.\")\n                    }\n\n                } else {\n                    Toast.makeText(mContext, \"Permission Failed!\", Toast.LENGTH_LONG).show()\n                }\n                return\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4272264,"reputation":464,"user_id":3493822,"display_name":"Hitesh Tarbundiya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1579797084,"creation_date":1536988387,"answer_id":52341780,"question_id":34342816,"body_markdown":"Refer this link for full understand of multiple permission, also full source code download, [click Here][1]\r\n\r\n\r\n  [1]: https://codingmitra.com/multiple-permission-run-time-in-android/\r\n\r\n\r\n\r\n\r\n       private boolean checkAndRequestPermissions() {\r\n        int permissionReadPhoneState = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE);\r\n        int permissionProcessOutGogingCalls = ContextCompat.checkSelfPermission(this, Manifest.permission.PROCESS_OUTGOING_CALLS);\r\n        int permissionProcessReadContacts = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS);\r\n        int permissionProcessReadCallLog = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG);\r\n \r\n        int permissionWriteStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        int permissionReadStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n \r\n        List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\r\n        if (permissionReadPhoneState != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_PHONE_STATE);\r\n        }\r\n        if (permissionProcessOutGogingCalls != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.PROCESS_OUTGOING_CALLS);\r\n        }\r\n        if (permissionProcessReadContacts != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_CONTACTS);\r\n        }\r\n        if (permissionProcessReadCallLog != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_CALL_LOG);\r\n        }\r\n        if (permissionWriteStorage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        }\r\n        if (permissionReadStorage != PackageManager.PERMISSION_GRANTED) {\r\n            listPermissionsNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\r\n        }\r\n        if (!listPermissionsNeeded.isEmpty()) {\r\n            ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n \r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length == 0 || grantResults == null) {\r\n            /*If result is null*/\r\n        } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            /*If We accept permission*/\r\n        } else if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n            /*If We Decline permission*/\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>Refer this link for full understand of multiple permission, also full source code download, <a href=\"https://codingmitra.com/multiple-permission-run-time-in-android/\" rel=\"nofollow noreferrer\">click Here</a></p>\n\n<pre><code>   private boolean checkAndRequestPermissions() {\n    int permissionReadPhoneState = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE);\n    int permissionProcessOutGogingCalls = ContextCompat.checkSelfPermission(this, Manifest.permission.PROCESS_OUTGOING_CALLS);\n    int permissionProcessReadContacts = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS);\n    int permissionProcessReadCallLog = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CALL_LOG);\n\n    int permissionWriteStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    int permissionReadStorage = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n\n    List&lt;String&gt; listPermissionsNeeded = new ArrayList&lt;&gt;();\n    if (permissionReadPhoneState != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_PHONE_STATE);\n    }\n    if (permissionProcessOutGogingCalls != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.PROCESS_OUTGOING_CALLS);\n    }\n    if (permissionProcessReadContacts != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_CONTACTS);\n    }\n    if (permissionProcessReadCallLog != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_CALL_LOG);\n    }\n    if (permissionWriteStorage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    }\n    if (permissionReadStorage != PackageManager.PERMISSION_GRANTED) {\n        listPermissionsNeeded.add(Manifest.permission.READ_EXTERNAL_STORAGE);\n    }\n    if (!listPermissionsNeeded.isEmpty()) {\n        ActivityCompat.requestPermissions(this, listPermissionsNeeded.toArray(new String[listPermissionsNeeded.size()]), REQUEST_ID_MULTIPLE_PERMISSIONS);\n        return false;\n    }\n    return true;\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String permissions[], int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (grantResults.length == 0 || grantResults == null) {\n        /*If result is null*/\n    } else if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        /*If We accept permission*/\n    } else if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n        /*If We Decline permission*/\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7139664,"reputation":50256,"user_id":5457853,"accept_rate":75,"display_name":"Thracian"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537470714,"creation_date":1537470714,"answer_id":52431779,"question_id":34342816,"body_markdown":"There is nothing wrong with answers asking for multiple permissions but multiple permission result code is not implemented very elegantly and may cause checking wrong permission result.\r\n\r\n`if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)` is terrible logic for checking multiple permissions result, i don&#39;t know why Google implemented such a terrible code.\r\n\r\nIt&#39;s a mess especially when you check multiple permissions. Let say you ask for `CAMERA`, `ACCESS_FINE_LOCATION` and `ACCESS_NETWORK_STATE`.\r\n\r\nYou need to check for `ACCESS_FINE_LOCATION` but user only granted `CAMERA` at first run and you check for `grantResults[1]` but in second run `ACCESS_FINE_LOCATION` becomes the permission with index 0. I got so many problems with user not granting all permissions at once and have to write so pointless permission result logic.\r\n\r\nYou should either use\r\n\r\n       int size = permissions.length;\r\n        boolean locationPermissionGranted = false;\r\n    \r\n        for (int i = 0; i &lt; size; i++) {\r\n            if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    &amp;&amp; grantResults[i] == PackageManager.PERMISSION_GRANTED) {\r\n                locationPermissionGranted = true;\r\n            }\r\n        }\r\n\r\nOr simpler one\r\n\r\n       if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    == PackageManager.PERMISSION_GRANTED) {\r\n               // Do something ...\r\n            }\r\n\r\nin `onPermissionRequestResult` method.","title":"Android 6.0 multiple permissions","body":"<p>There is nothing wrong with answers asking for multiple permissions but multiple permission result code is not implemented very elegantly and may cause checking wrong permission result.</p>\n\n<p><code>if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)</code> is terrible logic for checking multiple permissions result, i don't know why Google implemented such a terrible code.</p>\n\n<p>It's a mess especially when you check multiple permissions. Let say you ask for <code>CAMERA</code>, <code>ACCESS_FINE_LOCATION</code> and <code>ACCESS_NETWORK_STATE</code>.</p>\n\n<p>You need to check for <code>ACCESS_FINE_LOCATION</code> but user only granted <code>CAMERA</code> at first run and you check for <code>grantResults[1]</code> but in second run <code>ACCESS_FINE_LOCATION</code> becomes the permission with index 0. I got so many problems with user not granting all permissions at once and have to write so pointless permission result logic.</p>\n\n<p>You should either use</p>\n\n<pre><code>   int size = permissions.length;\n    boolean locationPermissionGranted = false;\n\n    for (int i = 0; i &lt; size; i++) {\n        if (permissions[i].equals(Manifest.permission.ACCESS_FINE_LOCATION)\n                &amp;&amp; grantResults[i] == PackageManager.PERMISSION_GRANTED) {\n            locationPermissionGranted = true;\n        }\n    }\n</code></pre>\n\n<p>Or simpler one</p>\n\n<pre><code>   if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n           // Do something ...\n        }\n</code></pre>\n\n<p>in <code>onPermissionRequestResult</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3193984,"reputation":141,"user_id":2697605,"display_name":"Newton_Jose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557424365,"creation_date":1557424365,"answer_id":56065014,"question_id":34342816,"body_markdown":"In Kotlin:\r\n\r\n    private val id = 1\r\n    private val permissions = arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.ACCESS_FINE_LOCATION)\r\n    fun hasPermissions(): Boolean {\r\n     for (perm in permissions) {\r\n                    if (ActivityCompat.checkSelfPermission(this, perm) != PackageManager.PERMISSION_GRANTED) {\r\n                        return false\r\n                    }\r\n                }\r\n\r\n            return true\r\n        }\r\n\r\n        if(! hasPermissions()){\r\n                       requestPermissions(this, permissions, id)\r\n               }","title":"Android 6.0 multiple permissions","body":"<p>In Kotlin:</p>\n\n<pre><code>private val id = 1\nprivate val permissions = arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.ACCESS_FINE_LOCATION)\nfun hasPermissions(): Boolean {\n for (perm in permissions) {\n                if (ActivityCompat.checkSelfPermission(this, perm) != PackageManager.PERMISSION_GRANTED) {\n                    return false\n                }\n            }\n\n        return true\n    }\n\n    if(! hasPermissions()){\n                   requestPermissions(this, permissions, id)\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7056776,"reputation":869,"user_id":6033457,"accept_rate":80,"display_name":"Vahag Chakhoyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699507945,"creation_date":1563953307,"answer_id":57177461,"question_id":34342816,"body_markdown":"This is what I have done in my activity. I am asking for camera and microphone permissions.\r\n\r\n    public class ActiveCallActivity extends AppCompatActivity {\r\n        .....\r\n        \r\n        private static final String cameraPermissionKey = &quot;cameraPermission&quot;;\r\n        private static final String microphonePermissionkey = &quot;microphonePermission&quot;;\r\n\r\n        private static ArrayList&lt;String&gt; permissionsQueue = new ArrayList&lt;String&gt;();\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            .....\r\n            // in ValidationCheckersAndValidators simply checking if have permission or not.\r\n            if(ValidationCheckersAndValidators.haveCameraPermission(this)) performHaveCameraPermissionLayout(); else performHaveNoCameraPermissionLayout();\r\n            if(ValidationCheckersAndValidators.haveMicrophonePermission(this)) performHaveMicrophonePermissionLayout(); else performHaveNoMicrophonePermissionLayout();\r\n\r\n        }\r\n\r\n        private void performHaveNoCameraPermissionLayout() {\r\n            .....\r\n            permissionsQueue.add(cameraPermissionKey);\r\n        }\r\n\r\n        private void performHaveNoMicrophonePermissionLayout() {\r\n            .....\r\n            permissionsQueue.add(microphonePermissionkey);\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n\r\n            .....\r\n            passThroughPermissionsQueue();\r\n        }\r\n\r\n        private void passThroughPermissionsQueue() {\r\n            if(!permissionsQueue.isEmpty()) {\r\n                String permissionKey = permissionsQueue.remove(0);\r\n                switch (permissionKey) {\r\n                    case cameraPermissionKey: {\r\n                        ValidationCheckersAndValidators.requestForCameraPermission(this);\r\n                        return;\r\n                    }\r\n                    case microphonePermissionkey: {\r\n                        ValidationCheckersAndValidators.requestForMicrophonePermission(this);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            switch(requestCode) {\r\n                case cameraPermissionRequestCode: {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        performHaveCameraPermissionLayout();\r\n                    }\r\n                    break;\r\n                }\r\n                case microphonePermissionRequestCode: {\r\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                        performHaveMicrophonePermissionLayout();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            passThroughPermissionsQueue();\r\n        }\r\n    }","title":"Android 6.0 multiple permissions","body":"<p>This is what I have done in my activity. I am asking for camera and microphone permissions.</p>\n<pre><code>public class ActiveCallActivity extends AppCompatActivity {\n    .....\n    \n    private static final String cameraPermissionKey = &quot;cameraPermission&quot;;\n    private static final String microphonePermissionkey = &quot;microphonePermission&quot;;\n\n    private static ArrayList&lt;String&gt; permissionsQueue = new ArrayList&lt;String&gt;();\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        .....\n        // in ValidationCheckersAndValidators simply checking if have permission or not.\n        if(ValidationCheckersAndValidators.haveCameraPermission(this)) performHaveCameraPermissionLayout(); else performHaveNoCameraPermissionLayout();\n        if(ValidationCheckersAndValidators.haveMicrophonePermission(this)) performHaveMicrophonePermissionLayout(); else performHaveNoMicrophonePermissionLayout();\n\n    }\n\n    private void performHaveNoCameraPermissionLayout() {\n        .....\n        permissionsQueue.add(cameraPermissionKey);\n    }\n\n    private void performHaveNoMicrophonePermissionLayout() {\n        .....\n        permissionsQueue.add(microphonePermissionkey);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        .....\n        passThroughPermissionsQueue();\n    }\n\n    private void passThroughPermissionsQueue() {\n        if(!permissionsQueue.isEmpty()) {\n            String permissionKey = permissionsQueue.remove(0);\n            switch (permissionKey) {\n                case cameraPermissionKey: {\n                    ValidationCheckersAndValidators.requestForCameraPermission(this);\n                    return;\n                }\n                case microphonePermissionkey: {\n                    ValidationCheckersAndValidators.requestForMicrophonePermission(this);\n                    return;\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch(requestCode) {\n            case cameraPermissionRequestCode: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    performHaveCameraPermissionLayout();\n                }\n                break;\n            }\n            case microphonePermissionRequestCode: {\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    performHaveMicrophonePermissionLayout();\n                }\n                break;\n            }\n        }\n        passThroughPermissionsQueue();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2842259,"reputation":23280,"user_id":2441637,"accept_rate":100,"display_name":"Hasan A Yousef"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565347639,"creation_date":1565347639,"answer_id":57428467,"question_id":34342816,"body_markdown":"You can use [Dexter][1]\r\n\r\nIn `build.gradle` add:\r\n```gradle\r\nimplementation &#39;com.karumi:dexter:5.0.0&#39;\r\n```\r\n\r\nAnd use it in your activity as:\r\n\r\n```kotlin\r\nval requiredPermissions = when {\r\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION)\r\n            else -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION)\r\n        }\r\n\r\nDexter.withActivity(this)\r\n     .withPermissions(\r\n           requiredPermissions\r\n      )\r\n     .withListener(object : MultiplePermissionsListener {\r\n        override fun onPermissionRationaleShouldBeShown(\r\n             permissions: MutableList&lt;PermissionRequest&gt;?,\r\n                    token: PermissionToken?\r\n             ) {\r\n                    /* ... */\r\n                }\r\n\r\n\r\n        override fun onPermissionsChecked(report: MultiplePermissionsReport) = \r\n             if (report.isAnyPermissionPermanentlyDenied) {\r\n                toast(&quot;You should grant all permissions&quot;) \r\n             } else {\r\n                toast(&quot;All permissions granted&quot;)\r\n\r\n                // continue here if permission is a must\r\n\r\n              }).check()\r\n\r\n             // continue here if permission is not a must\r\n```\r\n\r\n\r\n  [1]: https://github.co/Karumi/Dexter","title":"Android 6.0 multiple permissions","body":"<p>You can use <a href=\"https://github.co/Karumi/Dexter\" rel=\"nofollow noreferrer\">Dexter</a></p>\n\n<p>In <code>build.gradle</code> add:</p>\n\n<pre><code>implementation 'com.karumi:dexter:5.0.0'\n</code></pre>\n\n<p>And use it in your activity as:</p>\n\n<pre><code>val requiredPermissions = when {\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION,\n                Manifest.permission.ACCESS_BACKGROUND_LOCATION)\n            else -&gt; listOf(Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION)\n        }\n\nDexter.withActivity(this)\n     .withPermissions(\n           requiredPermissions\n      )\n     .withListener(object : MultiplePermissionsListener {\n        override fun onPermissionRationaleShouldBeShown(\n             permissions: MutableList&lt;PermissionRequest&gt;?,\n                    token: PermissionToken?\n             ) {\n                    /* ... */\n                }\n\n\n        override fun onPermissionsChecked(report: MultiplePermissionsReport) = \n             if (report.isAnyPermissionPermanentlyDenied) {\n                toast(\"You should grant all permissions\") \n             } else {\n                toast(\"All permissions granted\")\n\n                // continue here if permission is a must\n\n              }).check()\n\n             // continue here if permission is not a must\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15425800,"reputation":342,"user_id":11128514,"display_name":"Prateek Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645542541,"creation_date":1645542541,"answer_id":71223678,"question_id":34342816,"body_markdown":"&#128293; **NEW EASY AND CLEAN WAY OF ASKING MULTIPLE PERMISSIONS IN 2022** &#128293;\r\n\r\nAt the top of your activity class, write \r\n\r\n    private val multiplePermissionContract = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissionsStatusMap -&gt;\r\n        // permissionStatusMap is of type &lt;String, Boolean&gt;\r\n        // if all permissions accepted\r\n        if (!permissionsStatusMap.containsValue(false)) {\r\n\r\n            // All persmissions are accepted, do here whatever you want \r\n\r\n        } else {\r\n            Toast.makeText(this, &quot;all permissions not accepted&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\nAnd, launch the permission asking dialogs whenever you want like below(for now, I am thinking that you need to ask the permissions when you click on xyzButton)\r\n\r\n        xyzButton.setOnClickListener {\r\n            multiplePermissionContract.launch(\r\n                arrayOf(\r\n                    android.Manifest.permission.READ_CONTACTS, \r\n                    android.Manifest.permission.WRITE_CONTACTS, \r\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \r\n                    android.Manifest.permission.READ_SMS, \r\n                    android.Manifest.permission.CAMERA\r\n                )\r\n            )\r\n        }\r\n\r\n**NOTE -**\r\n- registerForActivityResult() method will always be called whenever we click on xyzButton. If all any of the all permissions is not accepted earlier, it will ask that particular permission again; else it will directly execute the if condition block.","title":"Android 6.0 multiple permissions","body":"<p>🔥 <strong>NEW EASY AND CLEAN WAY OF ASKING MULTIPLE PERMISSIONS IN 2022</strong> 🔥</p>\n<p>At the top of your activity class, write</p>\n<pre><code>private val multiplePermissionContract = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { permissionsStatusMap -&gt;\n    // permissionStatusMap is of type &lt;String, Boolean&gt;\n    // if all permissions accepted\n    if (!permissionsStatusMap.containsValue(false)) {\n\n        // All persmissions are accepted, do here whatever you want \n\n    } else {\n        Toast.makeText(this, &quot;all permissions not accepted&quot;, Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n<p>And, launch the permission asking dialogs whenever you want like below(for now, I am thinking that you need to ask the permissions when you click on xyzButton)</p>\n<pre><code>    xyzButton.setOnClickListener {\n        multiplePermissionContract.launch(\n            arrayOf(\n                android.Manifest.permission.READ_CONTACTS, \n                android.Manifest.permission.WRITE_CONTACTS, \n                android.Manifest.permission.WRITE_EXTERNAL_STORAGE, \n                android.Manifest.permission.READ_SMS, \n                android.Manifest.permission.CAMERA\n            )\n        )\n    }\n</code></pre>\n<p><strong>NOTE -</strong></p>\n<ul>\n<li>registerForActivityResult() method will always be called whenever we click on xyzButton. If all any of the all permissions is not accepted earlier, it will ask that particular permission again; else it will directly execute the if condition block.</li>\n</ul>\n"}],"owner":{"account_id":5453331,"reputation":2758,"user_id":4337510,"accept_rate":30,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226909,"favorite_count":0,"down_vote_count":1,"up_vote_count":196,"accepted_answer_id":34343101,"answer_count":23,"score":195,"last_activity_date":1699508059,"creation_date":1450380891,"question_id":34342816,"body_markdown":"I know that Android 6.0 has new permissions and I know I can call them with something like this \r\n\r\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) !=\r\n        PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(this,\r\n            new String[] { \r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n            }, PERMISSION_WRITE_STORAGE);\r\n    }\r\n\r\nToday I saw a Google app which needs 3 permissions: contacts, sms and camera. It&#39;s making a page 1-3 and calls them all together at the same time to activate.\r\n\r\nCan anybody tell me how I can call 4 permissions to activate at the same time like sms, camera, contacts and storage?\r\n\r\n\r\nExample (forgot the name of the google app :( )   \r\nThe app needs sms,contacts and camera \r\n\r\nthe app asked me (and made a dialog page1-3) activate sms, activate contacts and then camera. \r\nSo this google app was calling all 3 required permissions together and my question is how can i achive the same ?\r\n\r\n\r\n\r\n","title":"Android 6.0 multiple permissions","body":"<p>I know that Android 6.0 has new permissions and I know I can call them with something like this </p>\n\n<pre><code>if (ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) !=\n    PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(this,\n        new String[] { \n            Manifest.permission.WRITE_EXTERNAL_STORAGE\n        }, PERMISSION_WRITE_STORAGE);\n}\n</code></pre>\n\n<p>Today I saw a Google app which needs 3 permissions: contacts, sms and camera. It's making a page 1-3 and calls them all together at the same time to activate.</p>\n\n<p>Can anybody tell me how I can call 4 permissions to activate at the same time like sms, camera, contacts and storage?</p>\n\n<p>Example (forgot the name of the google app :( )<br>\nThe app needs sms,contacts and camera </p>\n\n<p>the app asked me (and made a dialog page1-3) activate sms, activate contacts and then camera. \nSo this google app was calling all 3 required permissions together and my question is how can i achive the same ?</p>\n"},{"tags":["java","visual-studio-code","compilation","output","settings"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1699496653,"post_id":77450065,"comment_id":136540580,"body_markdown":"I **strongly** urge you to use maven for building your project. As you have discovered, the native Java tooling can be a bit challenging to use.","body":"I <b>strongly</b> urge you to use maven for building your project. As you have discovered, the native Java tooling can be a bit challenging to use."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1699499055,"post_id":77450065,"comment_id":136540753,"body_markdown":"If you&#39;re using `javac` directly (or otherwise manually specifying the command line), then use the `-d` option to specify the output directory. But you should pretty much always use a build tool for any non-trivial Java project. Two common build tools in the Java ecosystem are Maven and Gradle (though others exist) and VS Code has extensions for both.","body":"If you&#39;re using <code>javac</code> directly (or otherwise manually specifying the command line), then use the <code>-d</code> option to specify the output directory. But you should pretty much always use a build tool for any non-trivial Java project. Two common build tools in the Java ecosystem are Maven and Gradle (though others exist) and VS Code has extensions for both."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699507963,"creation_date":1699507963,"answer_id":77450679,"question_id":77450065,"body_markdown":"It can be seen by screenshots that you are using *CodeRunner* to execute the code, so the `.class` file will be generated directly in the same level of the script file.\r\n\r\nPlease use the [Java extension package][1] to execute the script, so that the `&quot;java.project.outputPath&quot;: &quot;bin&quot;` settings will be used.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe verification method is to delete all the existing `.class` files, and then use Java extension toexecute the script. You will see that the `class` file is generated under the `bin` folder.\r\n\r\n*https://code.visualstudio.com/docs/java/java-tutorial*\r\n\r\n*Of course, I also suggest that you do not use CodeRunner first. Only the official extensions in the early stage will avoid a lot of trouble. Because there are many settings and configurations that are brought about by official extensions, CodeRunner only uses commands to run scripts.*\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/CS4Az.png","title":"When I run my .java projects, the compiler places the .class files in the src folder and in the bin folder","body":"<p>It can be seen by screenshots that you are using <em>CodeRunner</em> to execute the code, so the <code>.class</code> file will be generated directly in the same level of the script file.</p>\n<p>Please use the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java extension package</a> to execute the script, so that the <code>&quot;java.project.outputPath&quot;: &quot;bin&quot;</code> settings will be used.</p>\n<p><a href=\"https://i.stack.imgur.com/CS4Az.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CS4Az.png\" alt=\"enter image description here\" /></a></p>\n<p>The verification method is to delete all the existing <code>.class</code> files, and then use Java extension toexecute the script. You will see that the <code>class</code> file is generated under the <code>bin</code> folder.</p>\n<p><em><a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-tutorial</a></em></p>\n<p><em>Of course, I also suggest that you do not use CodeRunner first. Only the official extensions in the early stage will avoid a lot of trouble. Because there are many settings and configurations that are brought about by official extensions, CodeRunner only uses commands to run scripts.</em></p>\n"}],"owner":{"account_id":29859941,"reputation":3,"user_id":22883836,"display_name":"Guilherme Pereira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450679,"answer_count":1,"score":0,"last_activity_date":1699507963,"creation_date":1699496067,"question_id":77450065,"body_markdown":"I&#39;m having a problem with my output settings for my .java programs. Every time I click on the button to run my project, the compiler creates the .class files and throws them into src, while it also throws them into bin. Wouldn&#39;t it be right to put these .class files only in bin and leave the src folder &quot;clean&quot; (only with the .java files)? How can I fix this?\r\n\r\nI saw a question similar to mine (https://stackoverflow.com/questions/68945181/visual-studio-code-puts-class-files-in-src-folder-when-compiling), but the settings are correct, but the error is still there. My VS Workspace: https://i.stack.imgur.com/ONPIJ.png \r\n","title":"When I run my .java projects, the compiler places the .class files in the src folder and in the bin folder","body":"<p>I'm having a problem with my output settings for my .java programs. Every time I click on the button to run my project, the compiler creates the .class files and throws them into src, while it also throws them into bin. Wouldn't it be right to put these .class files only in bin and leave the src folder &quot;clean&quot; (only with the .java files)? How can I fix this?</p>\n<p>I saw a question similar to mine (<a href=\"https://stackoverflow.com/questions/68945181/visual-studio-code-puts-class-files-in-src-folder-when-compiling\">Visual Studio Code puts .class files in src folder when compiling</a>), but the settings are correct, but the error is still there. My VS Workspace: <a href=\"https://i.stack.imgur.com/ONPIJ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ONPIJ.png</a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":17261076,"reputation":123,"user_id":12498940,"display_name":"Dayakar Akula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699507886,"creation_date":1699507886,"answer_id":77450673,"question_id":77450636,"body_markdown":"androidx.activity:activity:1.7.0 update to this dependency they fixed the issue\r\n","title":"Expected Visual Media type got imageOnly","body":"<p>androidx.activity:activity:1.7.0 update to this dependency they fixed the issue</p>\n"}],"owner":{"account_id":20938962,"reputation":36,"user_id":15383501,"display_name":"Harsh Master"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77450673,"answer_count":1,"score":0,"last_activity_date":1699507886,"creation_date":1699507235,"question_id":77450636,"body_markdown":"I want to add a photo picker in my Android App, for which i got folllowing snippet from Android docs. ([PhotoPicker][1])\r\n\r\n    ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMultipleMedia =\r\n        registerForActivityResult(new PickMultipleVisualMedia(5), uris -&gt; {\r\n    // Callback is invoked after the user selects media items or closes the\r\n    // photo picker.\r\n    if (!uris.isEmpty()) {\r\n        Log.d(&quot;PhotoPicker&quot;, &quot;Number of items selected: &quot; + uris.size());\r\n    } else {\r\n        Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\r\n    }\r\n    });\r\n    pickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\r\n        .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\r\n        .build());\r\nBut i am getting an error:\r\n\r\n    &#39;setMediaType(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.VisualMediaType)&#39; in &#39;androidx.activity.result.PickVisualMediaRequest.Builder&#39; cannot be applied to &#39;(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.ImageOnly)&#39;\r\nThough there is this error, the app is running well. I am not able to fix the issue\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/training/data-storage/shared/photopicker","title":"Expected Visual Media type got imageOnly","body":"<p>I want to add a photo picker in my Android App, for which i got folllowing snippet from Android docs. (<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">PhotoPicker</a>)</p>\n<pre><code>ActivityResultLauncher&lt;PickVisualMediaRequest&gt; pickMultipleMedia =\n    registerForActivityResult(new PickMultipleVisualMedia(5), uris -&gt; {\n// Callback is invoked after the user selects media items or closes the\n// photo picker.\nif (!uris.isEmpty()) {\n    Log.d(&quot;PhotoPicker&quot;, &quot;Number of items selected: &quot; + uris.size());\n} else {\n    Log.d(&quot;PhotoPicker&quot;, &quot;No media selected&quot;);\n}\n});\npickMultipleMedia.launch(new PickVisualMediaRequest.Builder()\n    .setMediaType(ActivityResultContracts.PickVisualMedia.ImageOnly.INSTANCE)\n    .build());\n</code></pre>\n<p>But i am getting an error:</p>\n<pre><code>'setMediaType(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.VisualMediaType)' in 'androidx.activity.result.PickVisualMediaRequest.Builder' cannot be applied to '(androidx.activity.result.contract.ActivityResultContracts.PickVisualMedia.ImageOnly)'\n</code></pre>\n<p>Though there is this error, the app is running well. I am not able to fix the issue</p>\n"},{"tags":["java","android","classnotfoundexception","fast-excel"],"owner":{"account_id":28171438,"reputation":1,"user_id":21529931,"display_name":"Feystray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699506581,"creation_date":1699506581,"question_id":77450597,"body_markdown":"I am making an android app 1st time and have just learned fastexcel for using excel import and export from java.\r\nBut when i use Readable Workbook it gives me this error in logcat .\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.excel, PID: 14492\r\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/fasterxml/aalto/AsyncXMLInputFactory;\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)\r\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)\r\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)\r\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)\r\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)\r\nat android.app.Activity.performCreate(Activity.java:8591)\r\nat android.app.Activity.performCreate(Activity.java:8570)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)\r\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:226)\r\n\r\nat android.os.Looper.loop(Looper.java:313)\r\nat android.app.ActivityThread.main(ActivityThread.java:8757)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\r\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.aalto.AsyncXMLInputFactory\r\nat java.lang.VMClassLoader.findLoadedClass(Native Method)\r\nat java.lang.ClassLoader.findLoadedClass(ClassLoader.java:738)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:363)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)&#160;\r\n\tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)&#160;\r\n                                                                                                    \tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)&#160;\r\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)&#160;\r\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)&#160;\r\nat android.app.Activity.performCreate(Activity.java:8591)&#160;\r\n\tat android.app.Activity.performCreate(Activity.java:8570)&#160;\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)&#160;\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)&#160;\r\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)&#160;\r\nat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\nat android.os.Looper.loopOnce(Looper.java:226)&#160;\r\nat android.os.Looper.loop(Looper.java:313)&#160;\r\nat android.app.ActivityThread.main(ActivityThread.java:8757)&#160;\r\nat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)&#160;\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)&#160;\r\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/codehaus/stax2/XMLInputFactory2;\r\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)&#160;\r\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)&#160;\r\n\tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)&#160;\r\n                                                                                                    \tat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)&#160;\r\n                                                                                                    \tat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)&#160;\r\n                                                                                                    \tat com.example.excel.MainActivity.onCreate(MainActivity.java:106)&#160;\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8591)&#160;\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8570)&#160;\r\n                                                                                                    \t                                                                                                   Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;javax.xml.stream.XMLInputFactory&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes.dex&quot;, dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes4.dex&quot;, zip file &quot;/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/lib/arm, /system/lib, /system/system_ext/lib]\r\n                                      \r\n```\r\n\r\nThen I tried to import\r\n\r\n```\r\nimplementation(&quot;com.fasterxml:aalto-xml:1.3.2&quot;)\r\nimplementation(&quot;org.codehaus.woodstox:stax2-api:4.2.2&quot;)\r\n```\r\nBut nothing seems to change.\r\n\r\nI tried to do as much surfing even asked bing ai but none of them solve it.\r\nCan anyone help me in solving this?","title":"FastExcel Library java.lang.NoClassDefFoundError: Failed resolution of com/fasterxml/aalto/AsyncXMLInputFactory;","body":"<p>I am making an android app 1st time and have just learned fastexcel for using excel import and export from java.\nBut when i use Readable Workbook it gives me this error in logcat .</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.excel, PID: 14492\njava.lang.NoClassDefFoundError: Failed resolution of: Lcom/fasterxml/aalto/AsyncXMLInputFactory;\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83)\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48)\nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42)\nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150)\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60)\nat org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52)\nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239)\nat com.example.excel.MainActivity.onCreate(MainActivity.java:106)\nat android.app.Activity.performCreate(Activity.java:8591)\nat android.app.Activity.performCreate(Activity.java:8570)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n\nat android.os.Looper.loop(Looper.java:313)\nat android.app.ActivityThread.main(ActivityThread.java:8757)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.aalto.AsyncXMLInputFactory\nat java.lang.VMClassLoader.findLoadedClass(Native Method)\nat java.lang.ClassLoader.findLoadedClass(ClassLoader.java:738)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:363)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42) \nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150) \n    at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60) \n                                                                                                        at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52) \nat com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239) \nat com.example.excel.MainActivity.onCreate(MainActivity.java:106) \nat android.app.Activity.performCreate(Activity.java:8591) \n    at android.app.Activity.performCreate(Activity.java:8570) \n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384) \n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4150) \n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4325) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2574) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loopOnce(Looper.java:226) \nat android.os.Looper.loop(Looper.java:313) \nat android.app.ActivityThread.main(ActivityThread.java:8757) \nat java.lang.reflect.Method.invoke(Native Method) \n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:571) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1067) \nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/codehaus/stax2/XMLInputFactory2;\nat org.dhatim.fastexcel.reader.OPCPackage.extractPartEntriesFromContentTypes(OPCPackage.java:83) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:48) \nat org.dhatim.fastexcel.reader.OPCPackage.&lt;init&gt;(OPCPackage.java:42) \nat org.dhatim.fastexcel.reader.OPCPackage.open(OPCPackage.java:150) \n    at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:60) \n                                                                                                        at org.dhatim.fastexcel.reader.ReadableWorkbook.&lt;init&gt;(ReadableWorkbook.java:52) \n                                                                                                        at com.example.excel.MainActivity.fastreadexcel(MainActivity.java:239) \n                                                                                                        at com.example.excel.MainActivity.onCreate(MainActivity.java:106) \n                                                                                                        at android.app.Activity.performCreate(Activity.java:8591) \n                                                                                                        at android.app.Activity.performCreate(Activity.java:8570) \n                                                                                                                                                                                                           Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;javax.xml.stream.XMLInputFactory&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes.dex&quot;, dex file &quot;/data/data/com.example.excel/code_cache/.overlay/base.apk/classes4.dex&quot;, zip file &quot;/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~jNY_H2ILvVcOOka477mv8A==/com.example.excel-OUjGlL2JCYd_FLje_5m6sg==/lib/arm, /system/lib, /system/system_ext/lib]\n                                      \n</code></pre>\n<p>Then I tried to import</p>\n<pre><code>implementation(&quot;com.fasterxml:aalto-xml:1.3.2&quot;)\nimplementation(&quot;org.codehaus.woodstox:stax2-api:4.2.2&quot;)\n</code></pre>\n<p>But nothing seems to change.</p>\n<p>I tried to do as much surfing even asked bing ai but none of them solve it.\nCan anyone help me in solving this?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699506151,"creation_date":1699506151,"answer_id":77450566,"question_id":77449000,"body_markdown":"I think the main problem is that you are trying to click the wrong button? There is no element on the page with an ID of &quot;save&quot;. There&#39;s also no BUTTON element on the page. The SUBMIT button HTML is\r\n\r\n    &lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; ...&gt;\r\n\r\nYou can use a simple CSS selector to locate it,\r\n\r\n    input[name=&#39;submit&#39;]\r\n\r\nThere is no IFRAME around the SUBMIT button element so you don&#39;t need to switch into an IFRAME, etc.\r\n\r\nWorking code is below,\r\n\r\n    driver = new ChromeDriver();\r\n    driver.manage().window().maximize();\r\n    driver.get(&#39;https://demo.guru99.com/test/newtours/register.php&#39;);\r\n\r\n    driver.findElement(By.cssSelector(&quot;input[name=&#39;submit&#39;]&quot;)).click();","title":"I try to test signup functionality of https://demo.guru99.com/test/newtours/register.php","body":"<p>I think the main problem is that you are trying to click the wrong button? There is no element on the page with an ID of &quot;save&quot;. There's also no BUTTON element on the page. The SUBMIT button HTML is</p>\n<pre><code>&lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; ...&gt;\n</code></pre>\n<p>You can use a simple CSS selector to locate it,</p>\n<pre><code>input[name='submit']\n</code></pre>\n<p>There is no IFRAME around the SUBMIT button element so you don't need to switch into an IFRAME, etc.</p>\n<p>Working code is below,</p>\n<pre><code>driver = new ChromeDriver();\ndriver.manage().window().maximize();\ndriver.get('https://demo.guru99.com/test/newtours/register.php');\n\ndriver.findElement(By.cssSelector(&quot;input[name='submit']&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":29858633,"reputation":1,"user_id":22882857,"display_name":"Alexandru Scarlat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699506151,"creation_date":1699478144,"question_id":77449000,"body_markdown":"I can fill in the data but I can not submit because I have an overlay for cookies that I can&#39;t accept.\r\n\r\n&gt;element click intercepted: Element \\&lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; width=&quot;60&quot; height=&quot;23&quot; border=&quot;0&quot;&gt; is not clickable at point (394, 627). Other element would receive the click: \\&lt;iframe src=&quot;https://cmp-consent-tool.privacymanager.io/latest/index.html#/notice?theme=defaultTheme&amp;amp;useSystemFonts=false&amp;amp;cmpType=tcf&quot; id=&quot;gdpr-consent-notice&quot; class=&quot;faktor-iframe-wrapper&quot; aria-label=&quot;Privacy Manager window&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; frameborder=&quot;0&quot; scrolling=&quot;yes&quot; style=&quot;width: 100%; left: 0px; bottom: 0px; position: fixed; z-index: 2147483647; box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 30px 5px, rgba(0, 0, 0, 0.14) 0px 16px 24px 2px, rgba(0, 0, 0, 0.2) 0px 8px 10px -5px; height: 317px;&quot; cd_frame_id_=&quot;41e0d82a904b7400631e7cb189f47523&quot;&gt;&lt;/iframe&gt;\r\n\r\nI tried to switch to frame, iframe and click accept all, in so many ways as:\r\n\r\n    WebElement iframe = driver.findElement(By.id(&quot;gdpr-consent-notice&quot;));\r\n\tdriver.switchTo().frame(iframe);\r\n\r\nand\r\n\r\n    driver.findElement(By.xpath(&quot;//button[@id=&#39;save&#39;]//div[@class=&#39;action-wrapper&#39;]&quot;)).click();\r\n\tdriver.switchTo().defaultContent();\r\n\r\nI also tried with frame id 0 or 1, with CSS selector for button, and many other combinations I can&#39;t even remember. If you can check a solution on the link it would be wonderful.","title":"I try to test signup functionality of https://demo.guru99.com/test/newtours/register.php","body":"<p>I can fill in the data but I can not submit because I have an overlay for cookies that I can't accept.</p>\n<blockquote>\n<p>element click intercepted: Element &lt;input name=&quot;submit&quot; type=&quot;submit&quot; src=&quot;images/submit.gif&quot; width=&quot;60&quot; height=&quot;23&quot; border=&quot;0&quot;&gt; is not clickable at point (394, 627). Other element would receive the click: &lt;iframe src=&quot;https://cmp-consent-tool.privacymanager.io/latest/index.html#/notice?theme=defaultTheme&amp;useSystemFonts=false&amp;cmpType=tcf&quot; id=&quot;gdpr-consent-notice&quot; class=&quot;faktor-iframe-wrapper&quot; aria-label=&quot;Privacy Manager window&quot; role=&quot;dialog&quot; aria-modal=&quot;true&quot; frameborder=&quot;0&quot; scrolling=&quot;yes&quot; style=&quot;width: 100%; left: 0px; bottom: 0px; position: fixed; z-index: 2147483647; box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 30px 5px, rgba(0, 0, 0, 0.14) 0px 16px 24px 2px, rgba(0, 0, 0, 0.2) 0px 8px 10px -5px; height: 317px;&quot; cd_frame_id_=&quot;41e0d82a904b7400631e7cb189f47523&quot;&gt;</p>\n</blockquote>\n<p>I tried to switch to frame, iframe and click accept all, in so many ways as:</p>\n<pre><code>WebElement iframe = driver.findElement(By.id(&quot;gdpr-consent-notice&quot;));\ndriver.switchTo().frame(iframe);\n</code></pre>\n<p>and</p>\n<pre><code>driver.findElement(By.xpath(&quot;//button[@id='save']//div[@class='action-wrapper']&quot;)).click();\ndriver.switchTo().defaultContent();\n</code></pre>\n<p>I also tried with frame id 0 or 1, with CSS selector for button, and many other combinations I can't even remember. If you can check a solution on the link it would be wonderful.</p>\n"},{"tags":["java","unit-testing","debugging","code-coverage"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1699552431,"post_id":77450544,"comment_id":136549714,"body_markdown":"I believe JaCoCo also generates HTML pages, with links that allow you to drill down and see individual files and lines where issues occur.","body":"I believe JaCoCo also generates HTML pages, with links that allow you to drill down and see individual files and lines where issues occur."}],"owner":{"account_id":29860759,"reputation":1,"user_id":22884468,"display_name":"DanDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699505861,"creation_date":1699505861,"question_id":77450544,"body_markdown":"Is there any code coverage tool or debugger tool for Java that displays the branch coverage as a tree? I just thought that it is easier for the developer to debug and cover the code when there&#39;s a visual representation of the code. \r\n\r\nThanks\r\n\r\nI tried using the JaCoCo report generation xml to try if the data can be translated into individual branch path but it seems that the data was all summary of the coverage. ","title":"Code Coverage Tool Branch Coverage tree illustrator for Java","body":"<p>Is there any code coverage tool or debugger tool for Java that displays the branch coverage as a tree? I just thought that it is easier for the developer to debug and cover the code when there's a visual representation of the code.</p>\n<p>Thanks</p>\n<p>I tried using the JaCoCo report generation xml to try if the data can be translated into individual branch path but it seems that the data was all summary of the coverage.</p>\n"},{"tags":["java","spring-boot","gradle","postman"],"comments":[{"owner":{"account_id":23093411,"reputation":258,"user_id":17203927,"display_name":"redwards"},"score":0,"creation_date":1695950713,"post_id":77198965,"comment_id":136095153,"body_markdown":"I believe you need to annotate your controller fields with @Validated for it to work.","body":"I believe you need to annotate your controller fields with @Validated for it to work."}],"answers":[{"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695957022,"creation_date":1695957022,"answer_id":77199256,"question_id":77198965,"body_markdown":"what happens is that in the entity or model that you are using as a response in your RestController that is &quot;api/users&quot;, the User class or object does not have an attribute with a constraint of the default json converter of spring that is com.fasterxml.jackson.\r\n\r\nLo que debes es marcar con la anotaci&#243;n @JsonIgnore en la propiedad:\r\n\r\n    public class User(){\r\n      \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @JsonIngnore\r\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\r\n    private String name;}","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>what happens is that in the entity or model that you are using as a response in your RestController that is &quot;api/users&quot;, the User class or object does not have an attribute with a constraint of the default json converter of spring that is com.fasterxml.jackson.</p>\n<p>Lo que debes es marcar con la anotación @JsonIgnore en la propiedad:</p>\n<pre><code>public class User(){\n  \n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@JsonIngnore\n@NotBlank(message = &quot;Name field cannot be blank.&quot;)\n@Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\nprivate String name;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17996655,"reputation":1,"user_id":13079513,"display_name":"Edual Dan Sarmiento Garfias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699505195,"creation_date":1699505195,"answer_id":77450522,"question_id":77198965,"body_markdown":"The thing is, you&#39;re not intercepting RequestBody validations.\r\nThe comptroller should look something like this to get the errors on the application if you have them:\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user, BindingResult result) {\r\n        if (result.hasErrors()) {\r\n             Map&lt;String, String&gt; errores = new HashMap&lt;&gt;();\r\n        result.getFieldErrors().forEach(err -&gt; {\r\n            errores.put(err.getField(), String.format(&quot;El campo %s %s&quot;, err.getField(), err.getDefaultMessage()));\r\n        });\r\n        return ResponseEntity.badRequest().body(errores);\r\n\r\n        if (userService.existsByEmail(user.getEmail())) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\r\n        }\r\n        User newUser = userService.saveOrUpdateUser(user);\r\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\nSpring already has an interface that captures these validations and that is the BindingResult.","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>The thing is, you're not intercepting RequestBody validations.\nThe comptroller should look something like this to get the errors on the application if you have them:</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user, BindingResult result) {\n    if (result.hasErrors()) {\n         Map&lt;String, String&gt; errores = new HashMap&lt;&gt;();\n    result.getFieldErrors().forEach(err -&gt; {\n        errores.put(err.getField(), String.format(&quot;El campo %s %s&quot;, err.getField(), err.getDefaultMessage()));\n    });\n    return ResponseEntity.badRequest().body(errores);\n\n    if (userService.existsByEmail(user.getEmail())) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\n    }\n    User newUser = userService.saveOrUpdateUser(user);\n    return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\n}\n</code></pre>\n<p>Spring already has an interface that captures these validations and that is the BindingResult.</p>\n"}],"owner":{"account_id":20037559,"reputation":1,"user_id":14688930,"display_name":"NickVnkn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699505195,"creation_date":1695948750,"question_id":77198965,"body_markdown":"I made a spring boot setup with java, and I made some restrictions for the Json to not accept some kind of values, but when I input the values on my Json, my postman is accepting every value that I input\r\n\r\nUser.java class\r\n```\r\npackage com.example.demo.model;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.Validator;\r\nimport javax.validation.constraints.Email;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\nimport java.util.Objects;\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\r\n    private String name;\r\n\r\n    @NotBlank(message = &quot;DDD field cannot be blank.&quot;)\r\n    @Size(min = 2, max = 2, message = &quot;DDD must have 2 characters.&quot;)\r\n    private String ddd;\r\n\r\n    @NotBlank(message = &quot;Phone Number field cannot be blank.&quot;)\r\n    @Size(min = 8, max = 9, message = &quot;Phone number must have between 8 and 9 digits.&quot;)\r\n    private String phoneNumber;\r\n\r\n    @NotBlank(message = &quot;Email field cannot be blank.&quot;)\r\n    @Email(message = &quot;Invalid email format.&quot;)\r\n    @Column(unique = true)\r\n    private String email;\r\n\r\n    @NotBlank(message = &quot;Password field cannot be blank.&quot;)\r\n    @Size(min = 8, max = 12, message = &quot;Password must be between 8 and 12 characters&quot;)\r\n    private String password;\r\n\r\n    public User() {\r\n    }\r\n\r\n    public User(String name, String ddd, String phoneNumber, String email, String password) {\r\n        this.name = name;\r\n        this.ddd = ddd;\r\n        this.phoneNumber = phoneNumber;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    // Standard getters and setters\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public String getDdd() {\r\n        return ddd;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof User)) return false;\r\n        User user = (User) o;\r\n        return Objects.equals(id, user.id) &amp;&amp;\r\n                Objects.equals(email, user.email);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(id, email);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;User{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, ddd=&#39;&quot; + ddd + &#39;\\&#39;&#39; +\r\n                &quot;, phoneNumber=&#39;&quot; + phoneNumber + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nUserController.java\r\n\r\npackage com.example.demo.controller;\r\nimport com.example.demo.model.User;\r\nimport com.example.demo.service.UserService;\r\nimport com.example.demo.service.MailService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n    private final MailService mailService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService, MailService mailService) {\r\n        this.userService = userService;\r\n        this.mailService = mailService;\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\r\n        List&lt;User&gt; users = userService.getAllUsers();\r\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\r\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n        return userOptional\r\n                .map(user -&gt; new ResponseEntity&lt;&gt;(user, HttpStatus.OK))\r\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\r\n        if (userService.existsByEmail(user.getEmail())) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\r\n        }\r\n        User newUser = userService.saveOrUpdateUser(user);\r\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\r\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\r\n        if (userOptional.isPresent()) {\r\n            // Ensure the ID from the path matches the ID of the user being updated\r\n            user.setId(id);\r\n            User updatedUser = userService.saveOrUpdateUser(user);\r\n            return new ResponseEntity&lt;&gt;(updatedUser, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @PostMapping(&quot;/sendVerificationEmail&quot;)\r\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestParam String email) {\r\n        // Generate a verification code or content if needed\r\n        String verificationContent = &quot;Your verification content here&quot;;\r\n\r\n        // Use your MailService to send the email\r\n        mailService.sendVerificationEmail(email, &quot;Verification Email&quot;, verificationContent);\r\n\r\n        return ResponseEntity.ok(&quot;Email sent successfully.&quot;);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable Long id) {\r\n        if (userService.getUserById(id).isPresent()) {\r\n            userService.deleteUser(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```\r\n\r\n\r\n[Json Response](https://i.stack.imgur.com/UWdq0.png) I made an example with this picture for a better understanding\r\nThanks for the help\r\n\r\nI tried to put new dependecies on gradle like  \r\n\r\n```\r\ndependencies {\r\n    implementation &#39;org.hibernate.validator:hibernate-validator:7.0.2.Final&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.5.6.Final&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n}    \r\n```\r\n                                                                      \r\nbut it&#39;s not working","title":"My postman Json is accepting everything even with the fields being restricted","body":"<p>I made a spring boot setup with java, and I made some restrictions for the Json to not accept some kind of values, but when I input the values on my Json, my postman is accepting every value that I input</p>\n<p>User.java class</p>\n<pre><code>package com.example.demo.model;\n\nimport javax.persistence.*;\nimport javax.validation.Validator;\nimport javax.validation.constraints.Email;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\nimport java.util.Objects;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank(message = &quot;Name field cannot be blank.&quot;)\n    @Size(min = 2, max = 50, message = &quot;Name must be between 2 and 50 characters.&quot;)\n    private String name;\n\n    @NotBlank(message = &quot;DDD field cannot be blank.&quot;)\n    @Size(min = 2, max = 2, message = &quot;DDD must have 2 characters.&quot;)\n    private String ddd;\n\n    @NotBlank(message = &quot;Phone Number field cannot be blank.&quot;)\n    @Size(min = 8, max = 9, message = &quot;Phone number must have between 8 and 9 digits.&quot;)\n    private String phoneNumber;\n\n    @NotBlank(message = &quot;Email field cannot be blank.&quot;)\n    @Email(message = &quot;Invalid email format.&quot;)\n    @Column(unique = true)\n    private String email;\n\n    @NotBlank(message = &quot;Password field cannot be blank.&quot;)\n    @Size(min = 8, max = 12, message = &quot;Password must be between 8 and 12 characters&quot;)\n    private String password;\n\n    public User() {\n    }\n\n    public User(String name, String ddd, String phoneNumber, String email, String password) {\n        this.name = name;\n        this.ddd = ddd;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.password = password;\n    }\n\n    // Standard getters and setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public String getDdd() {\n        return ddd;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User)) return false;\n        User user = (User) o;\n        return Objects.equals(id, user.id) &amp;&amp;\n                Objects.equals(email, user.email);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(id, email);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, ddd='&quot; + ddd + '\\'' +\n                &quot;, phoneNumber='&quot; + phoneNumber + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre><code>UserController.java\n\npackage com.example.demo.controller;\nimport com.example.demo.model.User;\nimport com.example.demo.service.UserService;\nimport com.example.demo.service.MailService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n    private final MailService mailService;\n\n    @Autowired\n    public UserController(UserService userService, MailService mailService) {\n        this.userService = userService;\n        this.mailService = mailService;\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {\n        List&lt;User&gt; users = userService.getAllUsers();\n        return new ResponseEntity&lt;&gt;(users, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; getUserById(@PathVariable Long id) {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        return userOptional\n                .map(user -&gt; new ResponseEntity&lt;&gt;(user, HttpStatus.OK))\n                .orElse(new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND));\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) {\n        if (userService.existsByEmail(user.getEmail())) {\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT); // Email already exists\n        }\n        User newUser = userService.saveOrUpdateUser(user);\n        return new ResponseEntity&lt;&gt;(newUser, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; updateUser(@PathVariable Long id, @RequestBody User user) {\n        Optional&lt;User&gt; userOptional = userService.getUserById(id);\n        if (userOptional.isPresent()) {\n            // Ensure the ID from the path matches the ID of the user being updated\n            user.setId(id);\n            User updatedUser = userService.saveOrUpdateUser(user);\n            return new ResponseEntity&lt;&gt;(updatedUser, HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n\n    @PostMapping(&quot;/sendVerificationEmail&quot;)\n    public ResponseEntity&lt;String&gt; sendVerificationEmail(@RequestParam String email) {\n        // Generate a verification code or content if needed\n        String verificationContent = &quot;Your verification content here&quot;;\n\n        // Use your MailService to send the email\n        mailService.sendVerificationEmail(email, &quot;Verification Email&quot;, verificationContent);\n\n        return ResponseEntity.ok(&quot;Email sent successfully.&quot;);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Void&gt; deleteUser(@PathVariable Long id) {\n        if (userService.getUserById(id).isPresent()) {\n            userService.deleteUser(id);\n            return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UWdq0.png\" rel=\"nofollow noreferrer\">Json Response</a> I made an example with this picture for a better understanding\nThanks for the help</p>\n<p>I tried to put new dependecies on gradle like</p>\n<pre><code>dependencies {\n    implementation 'org.hibernate.validator:hibernate-validator:7.0.2.Final'\n    implementation 'org.hibernate:hibernate-core:5.5.6.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n}    \n</code></pre>\n<p>but it's not working</p>\n"},{"tags":["java","spring","rest","sonarqube"],"owner":{"account_id":29860638,"reputation":1,"user_id":22884381,"display_name":"Jayb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699504161,"creation_date":1699504161,"question_id":77450470,"body_markdown":"Is this item only applicable for restful?\r\nDoes it not apply to page calls from MVC to get/post method?\r\n\r\nI&#39;m asking this question because it only applies to restful.\r\nI think that&#39;s only true of restful.\r\nPlease check it out and answer.\r\n","title":"Sonarqube Make Sure allowing safe and unsafe HTTP methods are safe here questions","body":"<p>Is this item only applicable for restful?\nDoes it not apply to page calls from MVC to get/post method?</p>\n<p>I'm asking this question because it only applies to restful.\nI think that's only true of restful.\nPlease check it out and answer.</p>\n"},{"tags":["java","hibernate","caching","quarkus"],"comments":[{"owner":{"account_id":277236,"reputation":2669,"user_id":571113,"accept_rate":77,"display_name":"bobby"},"score":0,"creation_date":1585128099,"post_id":60845892,"comment_id":107651830,"body_markdown":"can you show us your code?","body":"can you show us your code?"},{"owner":{"display_name":"user13121042"},"score":0,"creation_date":1585129131,"post_id":60845892,"comment_id":107652287,"body_markdown":"Question has been updated.","body":"Question has been updated."}],"answers":[{"tags":[],"owner":{"display_name":"user13121042"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585817306,"creation_date":1585817306,"answer_id":60987588,"question_id":60845892,"body_markdown":"The problem has a simple solution, add a transaction to the last find operation:\r\n\r\n    transaction.begin();\r\n    doc = Document.findById(uuid);\r\n    transaction.commit();\r\n\r\n","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>The problem has a simple solution, add a transaction to the last find operation:</p>\n\n<pre><code>transaction.begin();\ndoc = Document.findById(uuid);\ntransaction.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15660060,"reputation":11,"user_id":11299227,"display_name":"张鹏鹏"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699503889,"creation_date":1699503889,"answer_id":77450457,"question_id":60845892,"body_markdown":"There&#39;s cache in the same transaction. So The second find in the step 7 is just get value from cache. The session is bond to the transaction,so clear the session which you inject in is not working. You must get session from the panache, then run clear method before find method.I think start a new transaction is not essential about this problem.","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>There's cache in the same transaction. So The second find in the step 7 is just get value from cache. The session is bond to the transaction,so clear the session which you inject in is not working. You must get session from the panache, then run clear method before find method.I think start a new transaction is not essential about this problem.</p>\n"}],"owner":{"display_name":"user13121042"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1699503889,"creation_date":1585127921,"question_id":60845892,"body_markdown":"I am new to quarkus and seem to be having a issue with the caching of hibernate in a unit test.\r\nThe test has the &#39;UserTransaction&#39; injected.\r\nThe test should check a database cleanup task. \r\n\r\nThis is what to I do:\r\n\r\n 1. create an entity\r\n 2. start an transaction\r\n 3. save the entity follwing the &quot;Active Record&quot; pattern with &#39;persistAndFlush&#39;\r\n 4. commit the transaction\r\n 5. try to fetch the entity from the database via &#39;find(id)&#39; to ensure it has been saved\r\n 6. run the cleanup task (the entity is deleted from the db)\r\n 7. try to fetch the entity from the database via &#39;find(id)&#39; again to ensure it has been deleted\r\n\r\n```\r\n    Document doc;\r\n    UUID uuid;\r\n    doc = new Document();\r\n    uuid = UUID.randomUUID();\r\n    doc.uuid = uuid;\r\n    doc.doc = new byte[0];\r\n    doc.createdAt = Instant.now();\r\n    transaction.begin();\r\n    doc.persistAndFlush();\r\n    transaction.commit();\r\n    doc = Document.findById(uuid);\r\n    Assertions.assertNotNull(doc);\r\n    TimeUnit.SECONDS.sleep(Long.parseLong(maxAge)+1);\r\n    scheduler.cleanUp();\r\n    doc = Document.findById(uuid);\r\n    Assertions.assertNull(doc);\r\n```\r\n\r\nStep 7 fails, because the &#39;find(id)&#39; returns the entity, although it is not in the db anymore.\r\n\r\nThis does NOT happen if I skip step 5! So it seems to be caching issue to me.\r\n\r\nI tried to Inject &#39;Session&#39;, &#39;SessionFactory&#39; and &#39;EntitiyManager&#39; to gain access to the current Hibernate Session, but none if this succeded.\r\n\r\nMaybe the whole approach lacks something I didn`t get?\r\nHow to make the world of entities match the database in a setup like mine?\r\n\r\nAny hints and ideas are welcome.\r\n\r\nTIA","title":"Quarkus Panache Hibernate: How to clear the cache, make entity world match the database state?","body":"<p>I am new to quarkus and seem to be having a issue with the caching of hibernate in a unit test.\nThe test has the 'UserTransaction' injected.\nThe test should check a database cleanup task. </p>\n\n<p>This is what to I do:</p>\n\n<ol>\n<li>create an entity</li>\n<li>start an transaction</li>\n<li>save the entity follwing the \"Active Record\" pattern with 'persistAndFlush'</li>\n<li>commit the transaction</li>\n<li>try to fetch the entity from the database via 'find(id)' to ensure it has been saved</li>\n<li>run the cleanup task (the entity is deleted from the db)</li>\n<li>try to fetch the entity from the database via 'find(id)' again to ensure it has been deleted</li>\n</ol>\n\n<pre><code>    Document doc;\n    UUID uuid;\n    doc = new Document();\n    uuid = UUID.randomUUID();\n    doc.uuid = uuid;\n    doc.doc = new byte[0];\n    doc.createdAt = Instant.now();\n    transaction.begin();\n    doc.persistAndFlush();\n    transaction.commit();\n    doc = Document.findById(uuid);\n    Assertions.assertNotNull(doc);\n    TimeUnit.SECONDS.sleep(Long.parseLong(maxAge)+1);\n    scheduler.cleanUp();\n    doc = Document.findById(uuid);\n    Assertions.assertNull(doc);\n</code></pre>\n\n<p>Step 7 fails, because the 'find(id)' returns the entity, although it is not in the db anymore.</p>\n\n<p>This does NOT happen if I skip step 5! So it seems to be caching issue to me.</p>\n\n<p>I tried to Inject 'Session', 'SessionFactory' and 'EntitiyManager' to gain access to the current Hibernate Session, but none if this succeded.</p>\n\n<p>Maybe the whole approach lacks something I didn`t get?\nHow to make the world of entities match the database in a setup like mine?</p>\n\n<p>Any hints and ideas are welcome.</p>\n\n<p>TIA</p>\n"},{"tags":["java","azure","apache-spark","apache-spark-sql","delta-lake"],"comments":[{"owner":{"account_id":9963,"reputation":82983,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1699517137,"post_id":77450436,"comment_id":136542469,"body_markdown":"look into stack trace and search for &quot;caused by&quot; entries - your current error message is incomplete","body":"look into stack trace and search for &quot;caused by&quot; entries - your current error message is incomplete"}],"owner":{"account_id":3242692,"reputation":10516,"user_id":2735275,"accept_rate":45,"display_name":"Aditya Sethi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699503879,"creation_date":1699503487,"question_id":77450436,"body_markdown":"I am trying to read data from the data that is saved in my datalake azure portal. Here is the code that I am using \r\n\r\n```\r\npackage com.example;\r\n\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        System.out.println( &quot;Hello World New!&quot; );\r\n        \r\n        // Set your Azure Storage account name and key\r\n        String azureClientId = &quot;&lt;azure-client-id&gt;&quot;;\r\n        String azureClientSecret = &quot;&lt;azure-client-secret&gt;&quot;;\r\n        String azureStorageAccountName = &quot;&lt;storage-name&gt;&quot;;\r\n\r\n        // Create a Spark configuration\r\n        SparkConf conf = new SparkConf().setAppName(&quot;PSDeltaLakeDemoRG&quot;);\r\n        SparkSession spark = SparkSession.builder().config(conf).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\r\n\r\n        // // Set Azure Storage configuration\r\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\r\n        // spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;SharedKey&quot;);\r\n        // spark.conf().set(&quot;fs.azure.account.key.&quot; + azureStorageAccountName, azureStorageAccountKey);\r\n\r\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider&quot;);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.id&quot;, azureClientId);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.secret&quot;, azureClientSecret);\r\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.endpoint&quot;, &quot;https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/token&quot;);\r\n        spark.conf().set(&quot;spark.databricks.delta.preview.enabled&quot;, &quot;true&quot;);\r\n        // Define the Azure Storage container and file path\r\n        String containerName = &quot;&lt;container-name&gt;&quot;;\r\n        String filePath = &quot;mnt/datalake/Output/YellowTaxis.delta&quot;;\r\n\r\n        // Read data from Azure Storage into a DataFrame\r\n        String azurePath = &quot;abfss://&quot; + containerName + &quot;@&quot; + azureStorageAccountName + &quot;.dfs.core.windows.net/&quot; + filePath;\r\n        \r\n        Dataset&lt;Row&gt; data = spark.read().format(&quot;delta&quot;).load(azurePath);\r\n        // DeltaTable deltaTable = DeltaTable.forPath(spark, azurePath);\r\n        // Dataset&lt;Row&gt; data = deltaTable.toDF();\r\n        // Perform operations on the data (e.g., show the content)\r\n        data.show();\r\n\r\n        // Stop the Spark session\r\n        spark.stop();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nThis is the error that I am getting\r\n\r\n```\r\nWARNING: All illegal access operations will be denied in a future release\r\nANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7ANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7Exception in thread &quot;main&quot; Unable to load key provider class.\r\n        at org.apache.hadoop.fs.azurebfs.AbfsConfiguration.getTokenProvider(AbfsConfiguration.java:477)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.initializeClient(AzureBlobFileSystemStore.java:814)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.&lt;init&gt;(AzureBlobFileSystemStore.java:149)\r\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.initialize(AzureBlobFileSystem.java:108)\r\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\r\n        at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\r\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\r\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\r\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\r\n        at org.apache.spark.sql.delta.DeltaTableUtils$.findDeltaTableRoot(DeltaTable.scala:164)\r\n        at org.apache.spark.sql.delta.sources.DeltaDataSource$.parsePathIdentifier(DeltaDataSource.scala:267)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1$lzycompute(DeltaTableV2.scala:67)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath$lzycompute(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath(DeltaTableV2.scala:62)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\r\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\r\n        at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\r\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:346)\r\n        at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\r\n        at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\r\n        at scala.Option.getOrElse(Option.scala:189)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\r\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:186)\r\n        at com.example.App.main(App.java:48)\r\n```\r\n\r\nDependencies that I am using is mentioned below.\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.0&lt;/version&gt; &lt;!-- Use the appropriate Spark version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n        &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt; &lt;!-- Use the appropriate Delta Lake version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;3.5.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- Use the appropriate Hadoop Azure version --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; \r\n```\r\n\r\nCan someone please suggest if I am missing anything.\r\n\r\nNote: I am able to access same data from the workspace that i have created in azure portal using spark and same configuration details.","title":"Azure deltalake read from Java","body":"<p>I am trying to read data from the data that is saved in my datalake azure portal. Here is the code that I am using</p>\n<pre><code>package com.example;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World New!&quot; );\n        \n        // Set your Azure Storage account name and key\n        String azureClientId = &quot;&lt;azure-client-id&gt;&quot;;\n        String azureClientSecret = &quot;&lt;azure-client-secret&gt;&quot;;\n        String azureStorageAccountName = &quot;&lt;storage-name&gt;&quot;;\n\n        // Create a Spark configuration\n        SparkConf conf = new SparkConf().setAppName(&quot;PSDeltaLakeDemoRG&quot;);\n        SparkSession spark = SparkSession.builder().config(conf).config(&quot;spark.master&quot;, &quot;local&quot;).getOrCreate();\n\n        // // Set Azure Storage configuration\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\n        // spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;SharedKey&quot;);\n        // spark.conf().set(&quot;fs.azure.account.key.&quot; + azureStorageAccountName, azureStorageAccountKey);\n\n        // spark.conf().set(&quot;fs.azure&quot;, &quot;org.apache.hadoop.fs.azure.NativeAzureFileSystem&quot;);\n        spark.conf().set(&quot;fs.azure.account.auth.type&quot;, &quot;OAuth&quot;);\n        spark.conf().set(&quot;fs.azure.account.oauth.provider.type&quot;, &quot;org.apache.hadoop.fs.azurebfs.oauth2.ClientCredsTokenProvider&quot;);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.id&quot;, azureClientId);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.secret&quot;, azureClientSecret);\n        spark.conf().set(&quot;fs.azure.account.auth.oauth2.client.endpoint&quot;, &quot;https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/token&quot;);\n        spark.conf().set(&quot;spark.databricks.delta.preview.enabled&quot;, &quot;true&quot;);\n        // Define the Azure Storage container and file path\n        String containerName = &quot;&lt;container-name&gt;&quot;;\n        String filePath = &quot;mnt/datalake/Output/YellowTaxis.delta&quot;;\n\n        // Read data from Azure Storage into a DataFrame\n        String azurePath = &quot;abfss://&quot; + containerName + &quot;@&quot; + azureStorageAccountName + &quot;.dfs.core.windows.net/&quot; + filePath;\n        \n        Dataset&lt;Row&gt; data = spark.read().format(&quot;delta&quot;).load(azurePath);\n        // DeltaTable deltaTable = DeltaTable.forPath(spark, azurePath);\n        // Dataset&lt;Row&gt; data = deltaTable.toDF();\n        // Perform operations on the data (e.g., show the content)\n        data.show();\n\n        // Stop the Spark session\n        spark.stop();\n    }\n}\n\n\n</code></pre>\n<p>This is the error that I am getting</p>\n<pre><code>WARNING: All illegal access operations will be denied in a future release\nANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7ANTLR Tool version 4.9.3 used for code generation does not match the current runtime version 4.7ANTLR Runtime version 4.9.3 used for parser compilation does not match the current runtime version 4.7Exception in thread &quot;main&quot; Unable to load key provider class.\n        at org.apache.hadoop.fs.azurebfs.AbfsConfiguration.getTokenProvider(AbfsConfiguration.java:477)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.initializeClient(AzureBlobFileSystemStore.java:814)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystemStore.&lt;init&gt;(AzureBlobFileSystemStore.java:149)\n        at org.apache.hadoop.fs.azurebfs.AzureBlobFileSystem.initialize(AzureBlobFileSystem.java:108)\n        at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3469)\n        at org.apache.hadoop.fs.FileSystem.access$300(FileSystem.java:174)\n        at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3574)\n        at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3521)\n        at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:540)\n        at org.apache.hadoop.fs.Path.getFileSystem(Path.java:365)\n        at org.apache.spark.sql.delta.DeltaTableUtils$.findDeltaTableRoot(DeltaTable.scala:164)\n        at org.apache.spark.sql.delta.sources.DeltaDataSource$.parsePathIdentifier(DeltaDataSource.scala:267)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1$lzycompute(DeltaTableV2.scala:67)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.x$1(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath$lzycompute(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.rootPath(DeltaTableV2.scala:62)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog$lzycompute(DeltaTableV2.scala:73)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.deltaLog(DeltaTableV2.scala:73)\n        at org.apache.spark.sql.delta.catalog.DeltaTableV2.toBaseRelation(DeltaTableV2.scala:139)\n        at org.apache.spark.sql.delta.sources.DeltaDataSource.createRelation(DeltaDataSource.scala:177)\n        at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:346)\n        at org.apache.spark.sql.DataFrameReader.loadV1Source(DataFrameReader.scala:229)\n        at org.apache.spark.sql.DataFrameReader.$anonfun$load$2(DataFrameReader.scala:211)\n        at scala.Option.getOrElse(Option.scala:189)\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:211)\n        at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:186)\n        at com.example.App.main(App.java:48)\n</code></pre>\n<p>Dependencies that I am using is mentioned below.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt; &lt;!-- Use the appropriate Spark version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.delta&lt;/groupId&gt;\n        &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt; &lt;!-- Use the appropriate Delta Lake version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n      &lt;version&gt;3.5.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-azure&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt; &lt;!-- Use the appropriate Hadoop Azure version --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; \n</code></pre>\n<p>Can someone please suggest if I am missing anything.</p>\n<p>Note: I am able to access same data from the workspace that i have created in azure portal using spark and same configuration details.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2803497,"reputation":25192,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1699450572,"post_id":77445953,"comment_id":136532581,"body_markdown":"When you say &quot;`getContacts()` is empty&quot;, what do you mean? Is it an empty list? an empty optional? an empty stream? The first optional is likely not empty but contains one element (an empty collection for example). `Optional.of(Optional.empty())` is not empty. It is a valid optional that contains one element (the element being an empty optional).","body":"When you say &quot;<code>getContacts()</code> is empty&quot;, what do you mean? Is it an empty list? an empty optional? an empty stream? The first optional is likely not empty but contains one element (an empty collection for example). <code>Optional.of(Optional.empty())</code> is not empty. It is a valid optional that contains one element (the element being an empty optional)."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1699450767,"post_id":77445953,"comment_id":136532620,"body_markdown":"In A, when you call findAny, you have a Stream containing 1 element, an empty list. That empty list is mapped to the string &quot;withAnyVal&quot;.","body":"In A, when you call findAny, you have a Stream containing 1 element, an empty list. That empty list is mapped to the string &quot;withAnyVal&quot;."},{"owner":{"account_id":39208,"reputation":251210,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1699451291,"post_id":77445953,"comment_id":136532770,"body_markdown":"What is the return type of `Detail#getContacts()`?","body":"What is the return type of <code>Detail#getContacts()</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699452942,"creation_date":1699451778,"answer_id":77446164,"question_id":77445953,"body_markdown":"`Optional.of(ArrayList&lt;&gt;)` will return `Optional&lt;ArrayList&lt;Object&gt;&gt;`.\r\n\r\nRefer: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()\r\n\r\n`Optional.stream()` - will return a stream of object if it exists. So, even if the list is empty, stream() will return a stream of empty list.\r\n\r\n`findAny()` will return that list.\r\n\r\nChange that `map(o -&gt; &quot;withAnyVal&quot;)` to `map(o -&gt; &quot;withAnyVal --&gt; &quot; + o)` to see what you are getting as `o`. You should get `[]` (empty list) as found any object.\r\n\r\n`flatMap` results in making that stream of lists an empty stream (as the list element in the stream is empty, so flatMap results in empty stream).\r\nWithout `flatMap`, the stream has an empty list as an element.\r\n\r\nCompare it with this:\r\n\r\n```\r\nint[][] ary = { {} };\r\nSystem.out.println(ary.length);\r\n```\r\n\r\nThis will return `1`. The array is not empty. The one element inside that array is an array and that array is empty.\r\nIf you flatten this array, you get `{}` - and hence 0 length. That&#39;s what `flatMap` does. After flattening, `findAny()` won&#39;t get anything.\r\nWithout `flatMap`, `findAny()` will get that array as it is the only element in the outer list.\r\n\r\n","title":"Java findAny with Optional","body":"<p><code>Optional.of(ArrayList&lt;&gt;)</code> will return <code>Optional&lt;ArrayList&lt;Object&gt;&gt;</code>.</p>\n<p>Refer: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#stream()</a></p>\n<p><code>Optional.stream()</code> - will return a stream of object if it exists. So, even if the list is empty, stream() will return a stream of empty list.</p>\n<p><code>findAny()</code> will return that list.</p>\n<p>Change that <code>map(o -&gt; &quot;withAnyVal&quot;)</code> to <code>map(o -&gt; &quot;withAnyVal --&gt; &quot; + o)</code> to see what you are getting as <code>o</code>. You should get <code>[]</code> (empty list) as found any object.</p>\n<p><code>flatMap</code> results in making that stream of lists an empty stream (as the list element in the stream is empty, so flatMap results in empty stream).\nWithout <code>flatMap</code>, the stream has an empty list as an element.</p>\n<p>Compare it with this:</p>\n<pre><code>int[][] ary = { {} };\nSystem.out.println(ary.length);\n</code></pre>\n<p>This will return <code>1</code>. The array is not empty. The one element inside that array is an array and that array is empty.\nIf you flatten this array, you get <code>{}</code> - and hence 0 length. That's what <code>flatMap</code> does. After flattening, <code>findAny()</code> won't get anything.\nWithout <code>flatMap</code>, <code>findAny()</code> will get that array as it is the only element in the outer list.</p>\n"}],"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1699601728,"accepted_answer_id":77446164,"answer_count":1,"score":-3,"last_activity_date":1699503799,"creation_date":1699450316,"question_id":77445953,"body_markdown":"```\r\nvar a = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\r\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\r\n    .findAny() // Optional&lt;Set&lt;String&gt;&gt;\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n```\r\nvar b = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\r\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\r\n    .flatMap(Collection::stream) // Stream&lt;String&gt;\r\n    .findAny() // Optional&lt;String&gt;\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n```\r\nvar c = Optional.of(new Detail())\r\n    .map(Detail::getContacts)\r\n    .stream()\r\n    .flatMap(Collection::stream)\r\n    .findAny()\r\n    .map(o -&gt; &quot;withAnyVal&quot;)\r\n    .orElse(null);\r\n```\r\n\r\nGiven: `getContacts()` is an empty collection.\r\n\r\nQuestion:\r\nWhy does the first one return `&quot;withAnyVal&quot;`? Shouldn&#39;t it fail in `findAny` and go to `orElse` which returns null?\r\n\r\nOnly b and c give the correct values `null`.\r\n","title":"Java findAny with Optional","body":"<pre><code>var a = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\n    .findAny() // Optional&lt;Set&lt;String&gt;&gt;\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<pre><code>var b = Optional.of(new Detail().getContacts()) // Optional&lt;Set&lt;String&gt;&gt;\n    .stream() // Stream&lt;Set&lt;String&gt;&gt;\n    .flatMap(Collection::stream) // Stream&lt;String&gt;\n    .findAny() // Optional&lt;String&gt;\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<pre><code>var c = Optional.of(new Detail())\n    .map(Detail::getContacts)\n    .stream()\n    .flatMap(Collection::stream)\n    .findAny()\n    .map(o -&gt; &quot;withAnyVal&quot;)\n    .orElse(null);\n</code></pre>\n<p>Given: <code>getContacts()</code> is an empty collection.</p>\n<p>Question:\nWhy does the first one return <code>&quot;withAnyVal&quot;</code>? Shouldn't it fail in <code>findAny</code> and go to <code>orElse</code> which returns null?</p>\n<p>Only b and c give the correct values <code>null</code>.</p>\n"},{"tags":["python","java","kotlin","kivy"],"owner":{"account_id":29860472,"reputation":1,"user_id":22884245,"display_name":"Fluid Homer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699503179,"creation_date":1699503179,"question_id":77450419,"body_markdown":"I have a Kivy program main.py in an appropriate folder right now. I want to just include the code in an Android Studio gradle package (with empty activity) along with an appropriate Java/Kotlin wrapper than runs the Kivy program. How to do so?\r\nMy code looks something like this.\r\n\r\n```\r\n   import org.kivy.android.PythonActivity;\r\n   import android.os.Bundle;\r\n\r\n   public class KivyWrapper extends PythonActivity {\r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n         super.onCreate(savedInstanceState);\r\n         super.loadApp(&quot;main.py&quot;); // Load your Kivy Python code here\r\n      }\r\n   }\r\n```\r\n\r\nGot the following error:\r\n\r\n```\r\n   Unable to resolve import org.kivy.android.PythonActivity;\r\n```","title":"How can I inculcate a Kivy-powered Python activity in the gradle file in Android Studio?","body":"<p>I have a Kivy program main.py in an appropriate folder right now. I want to just include the code in an Android Studio gradle package (with empty activity) along with an appropriate Java/Kotlin wrapper than runs the Kivy program. How to do so?\nMy code looks something like this.</p>\n<pre><code>   import org.kivy.android.PythonActivity;\n   import android.os.Bundle;\n\n   public class KivyWrapper extends PythonActivity {\n      @Override\n      public void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         super.loadApp(&quot;main.py&quot;); // Load your Kivy Python code here\n      }\n   }\n</code></pre>\n<p>Got the following error:</p>\n<pre><code>   Unable to resolve import org.kivy.android.PythonActivity;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1698609313,"post_id":77384172,"comment_id":136424282,"body_markdown":"The first problem in your question is caused because you have a duplicate mapping of both `cusotmer_id` and `product_id` in the `Order` entity. You use those columns for both mapping the ID directly, and as a reference column. This can lead to conflicts (for example, what should Hibernate do if your `customerId` is `1`, but your `customer` refers to a customer with ID `2`?). So that&#39;s why you need to mark one of the two as &quot;readonly&quot; so there is one source of truth. That&quot;s what happens if you add `insertable = false`  and `updatable = false`.","body":"The first problem in your question is caused because you have a duplicate mapping of both <code>cusotmer_id</code> and <code>product_id</code> in the <code>Order</code> entity. You use those columns for both mapping the ID directly, and as a reference column. This can lead to conflicts (for example, what should Hibernate do if your <code>customerId</code> is <code>1</code>, but your <code>customer</code> refers to a customer with ID <code>2</code>?). So that&#39;s why you need to mark one of the two as &quot;readonly&quot; so there is one source of truth. That&quot;s what happens if you add <code>insertable = false</code>  and <code>updatable = false</code>."},{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1698609433,"post_id":77384172,"comment_id":136424296,"body_markdown":"For your last paragraph, there isn&#39;t enough information in the question to solve that. Please edit your question to show an example of how you use the `insertable` and `updatable` parameter and how you are creating your entity. Because normally, this should work.","body":"For your last paragraph, there isn&#39;t enough information in the question to solve that. Please edit your question to show an example of how you use the <code>insertable</code> and <code>updatable</code> parameter and how you are creating your entity. Because normally, this should work."},{"owner":{"account_id":29780357,"reputation":11,"user_id":22823147,"display_name":"Kobkit Ruangsuriyakij"},"score":0,"creation_date":1698640474,"post_id":77384172,"comment_id":136426470,"body_markdown":"Sorry for unclear information. I&#39;ve already adding how I use insertable and updatable and how I create entity.","body":"Sorry for unclear information. I&#39;ve already adding how I use insertable and updatable and how I create entity."}],"owner":{"account_id":29780357,"reputation":11,"user_id":22823147,"display_name":"Kobkit Ruangsuriyakij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1699501217,"creation_date":1698596467,"question_id":77384172,"body_markdown":"In my project I need to access and save properties form order ( bridge table of customer and product) so I decided to create my custom bridge and use @OneToMany and @ManyToOne instead of using @ManyToMany. However with join column and column that I create to receive productId and customerId to save to database is mapped to the same column it&#39;s causing multiple mapped column error how can I save an object to database and still join these tables. should I use @ManyToMany ?\r\n\r\nOrder class : \r\n```\r\n@Column(name = &quot;customer_id&quot;)\r\nprivate int customerId;\r\n@Column(name = &quot;product_id&quot;)\r\nprivate int productId;\r\n \r\nRest of attributes ...\r\n \r\n@ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;product_id&quot;)\r\n    private Product product;\r\n \r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    private Customer customer;`\r\n\r\n```\r\nCustomer class : \r\n```\r\nRest of attributes ...\r\n@OneToMany(mappedBy = &quot;customer&quot;,\r\n            fetch = FetchType.LAZY,\r\n            cascade = {CascadeType.REMOVE,CascadeType.REFRESH})\r\nprivate List&lt;Order&gt; orders;\r\n```\r\n\r\nerror : Column &#39;customer_id&#39; is duplicated in mapping for entity (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column)\r\n\r\nPs. I assign customer_id and product_id in table orders to be fk\r\n\r\nI try to use @Column(insertable=false, updatable=false) that IntelliJ said \r\n```\r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;product_id&quot;,insertable=false,updatable = false)\r\n    private Product product;\r\n\r\n    @ManyToOne(cascade = CascadeType.REFRESH)\r\n    @JoinColumn(name = &quot;customer_id&quot;,insertable=false,updatable = false)\r\n    private Customer customer;\r\n```\r\nbut it doesn&#39;t work and facing error like this \r\nerror : Cannot add or update a child row: a foreign key constraint fails (`stockdb`.`orders`, CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)) \r\n\r\nI create entity and try to save it from CommandLineRunner like this :\r\n```\r\n@Bean\r\n\tpublic CommandLineRunner commandLineRunner(CustomerService customerService, OrderService orderService, ProductService productService) {\r\n\t\treturn runner -&gt; {\r\n\t\t\tsaveCustomer(customerService);\r\n\t\t\tsaveOrder(orderService,customerService,productService);\r\n\t\t};\r\n\t}\r\n\r\n\tprivate void saveOrder(OrderService orderService, CustomerService customerService, ProductService productService) {\r\n\t\torderService.saveOrder(new Order(2,1,200,100,&quot;home&quot;,LocalDateTime.now()));\r\n\t}\r\n\r\n\tprivate void saveCustomer(CustomerService customerService) {\r\n\t\tcustomerService.saveCustomer(new Customer(&quot;name&quot;,&quot;0000000000&quot;));\r\n\t}\r\n\r\n\r\n}\r\n```","title":"Duplicated mapping for entity java spring boot JPA","body":"<p>In my project I need to access and save properties form order ( bridge table of customer and product) so I decided to create my custom bridge and use @OneToMany and @ManyToOne instead of using @ManyToMany. However with join column and column that I create to receive productId and customerId to save to database is mapped to the same column it's causing multiple mapped column error how can I save an object to database and still join these tables. should I use @ManyToMany ?</p>\n<p>Order class :</p>\n<pre><code>@Column(name = &quot;customer_id&quot;)\nprivate int customerId;\n@Column(name = &quot;product_id&quot;)\nprivate int productId;\n \nRest of attributes ...\n \n@ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;product_id&quot;)\n    private Product product;\n \n    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;customer_id&quot;)\n    private Customer customer;`\n\n</code></pre>\n<p>Customer class :</p>\n<pre><code>Rest of attributes ...\n@OneToMany(mappedBy = &quot;customer&quot;,\n            fetch = FetchType.LAZY,\n            cascade = {CascadeType.REMOVE,CascadeType.REFRESH})\nprivate List&lt;Order&gt; orders;\n</code></pre>\n<p>error : Column 'customer_id' is duplicated in mapping for entity (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</p>\n<p>Ps. I assign customer_id and product_id in table orders to be fk</p>\n<p>I try to use @Column(insertable=false, updatable=false) that IntelliJ said</p>\n<pre><code>    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;product_id&quot;,insertable=false,updatable = false)\n    private Product product;\n\n    @ManyToOne(cascade = CascadeType.REFRESH)\n    @JoinColumn(name = &quot;customer_id&quot;,insertable=false,updatable = false)\n    private Customer customer;\n</code></pre>\n<p>but it doesn't work and facing error like this\nerror : Cannot add or update a child row: a foreign key constraint fails (<code>stockdb</code>.<code>orders</code>, CONSTRAINT <code>orders_ibfk_1</code> FOREIGN KEY (<code>product_id</code>) REFERENCES <code>product</code> (<code>id</code>))</p>\n<p>I create entity and try to save it from CommandLineRunner like this :</p>\n<pre><code>@Bean\n    public CommandLineRunner commandLineRunner(CustomerService customerService, OrderService orderService, ProductService productService) {\n        return runner -&gt; {\n            saveCustomer(customerService);\n            saveOrder(orderService,customerService,productService);\n        };\n    }\n\n    private void saveOrder(OrderService orderService, CustomerService customerService, ProductService productService) {\n        orderService.saveOrder(new Order(2,1,200,100,&quot;home&quot;,LocalDateTime.now()));\n    }\n\n    private void saveCustomer(CustomerService customerService) {\n        customerService.saveCustomer(new Customer(&quot;name&quot;,&quot;0000000000&quot;));\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","jframe","game-development"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699500956,"post_id":77450302,"comment_id":136540874,"body_markdown":"Your own code is throwing the darn exception! The solution is not to do this. SMH","body":"Your own code is throwing the darn exception! The solution is not to do this. SMH"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1699501146,"post_id":77450302,"comment_id":136540895,"body_markdown":"Simplified, you have method code like so: `public void mouseEntered(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }` Remove the `throw new ....` and replace it with code that you want to run instead.","body":"Simplified, you have method code like so: <code>public void mouseEntered(MouseEvent e) {             throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);          }</code> Remove the <code>throw new ....</code> and replace it with code that you want to run instead."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699501211,"post_id":77450302,"comment_id":136540902,"body_markdown":"Everywhere you have  `throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);`  delete that line. Replace it with something like `System.err.println (&quot;Foo not implemented yet.&quot;);` followed by a line that has `return bar;`. Substitute the actual method name for `Foo` and change `bar` to something that is compatible with the `return` type of the method.","body":"Everywhere you have  <code>throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);</code>  delete that line. Replace it with something like <code>System.err.println (&quot;Foo not implemented yet.&quot;);</code> followed by a line that has <code>return bar;</code>. Substitute the actual method name for <code>Foo</code> and change <code>bar</code> to something that is compatible with the <code>return</code> type of the method."}],"owner":{"account_id":29860310,"reputation":1,"user_id":22884121,"display_name":"Wieran100"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1699501072,"answer_count":0,"score":-1,"last_activity_date":1699500819,"creation_date":1699500642,"question_id":77450302,"body_markdown":"My program is a game of Connect 4 but I&#39;m trying to implement the minmax algorithm so I can calculate the best moves to create a bot that I can go against. The DrawGrid class is what actually creates the board and then the Connect4MinMax class contains the algorithm. I want to know why I keep getting this error when I try and run my program and how I can fix it.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.util.Arrays;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\n\r\n\r\npublic class DrawGrid1 {\r\n    public static void main(String[] args) {\r\n    Dimension dimension = new Dimension(1920, 1080);\r\n    new DrawGrid1(dimension);\r\n    }\r\n    private JFrame frame;\r\n    \r\n    public DrawGrid1(Dimension dimension) {\r\n        frame = new JFrame(&quot;Connect 4&quot;);\r\n        frame.setSize(dimension);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setPreferredSize(frame.getSize());\r\n        frame.add(new MultiDraw(dimension));\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static class MultiDraw extends JPanel implements MouseListener {\r\n        int startX = 10;\r\n        int startY = 10;\r\n        int cellSize = 120;\r\n        int turn = 2;\r\n        int rows = 8;\r\n        int cols = 8;\r\n        boolean winner = false;\r\n        String ccolor = &quot;&quot;;\r\n\r\n        Color[][] grid = new Color[rows][cols];\r\n\r\n        public MultiDraw(Dimension dimension) {\r\n            setSize(dimension);\r\n            setPreferredSize(dimension);\r\n            addMouseListener(this);\r\n            int x = 0;\r\n            for (int row = 0; row &lt; grid.length; row++) {\r\n                for (int col = 0; col &lt; grid[0].length; col++) {\r\n                    Color c;\r\n                    if (x % 2 == 0) {\r\n                        grid[row][col] = Color.LIGHT_GRAY;\r\n                    } else {\r\n                        grid[row][col] = Color.LIGHT_GRAY;\r\n                    }\r\n                    x++;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            Dimension d = getSize();\r\n            g2.setColor(new Color(80, 0, 60));\r\n            g2.fillRect(0, 0, d.width, d.height);\r\n            startX = 0;\r\n            startY = 0;\r\n\r\n            for (int row = 0; row &lt; grid.length; row++) {\r\n                for (int col = 0; col &lt; grid[0].length; col++) {\r\n                    g2.setColor(grid[row][col]);\r\n                    g2.fillOval(startX, startY, cellSize, cellSize);\r\n                    g2.setColor(Color.black);\r\n                    g2.drawOval(startX, startY, cellSize, cellSize);\r\n                    startX += cellSize;\r\n                }\r\n                startY += cellSize;\r\n                startX = 0;\r\n            }\r\n\r\n            g2.setColor(new Color(255, 255, 255));\r\n            if (winner == false) {\r\n                if (turn % 2 == 0)\r\n                    g2.drawString(&quot;Red&#39;s Turn&quot;, 1000, 20);\r\n                else\r\n                    g2.drawString(&quot;Yellow&#39;s Turn&quot;, 1000, 20);\r\n            } else {\r\n                g2.drawString(&quot;WINNER - &quot; + ccolor, 1000, 20);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n            if (winner == false) {\r\n                if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\r\n                    int clickedRow = y / cellSize;\r\n                    int clickedCol = x / cellSize;\r\n\r\n                    clickedRow = dropP(clickedCol);\r\n\r\n                    if (clickedRow != -1) {\r\n\r\n                        if (turn % 2 == 0) {\r\n                            grid[clickedRow][clickedCol] = Color.red;\r\n                            ccolor = &quot;RED&quot;;\r\n                        } else {\r\n                            grid[clickedRow][clickedCol] = Color.yellow;\r\n                            ccolor = &quot;Yellow&quot;;\r\n                        }\r\n                        turn++;\r\n                        if (checkForWinner(clickedCol, clickedRow, grid[clickedRow][clickedCol])) {\r\n                        winner = true;\r\n                    }\r\n                }\r\n            }\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    public int dropP(int cc) {\r\n        int cr = grid.length - 1;\r\n\r\n        while (cr &gt;= 0) {\r\n\r\n            if (grid[cr][cc].equals(Color.LIGHT_GRAY)) {\r\n                return cr;\r\n            }\r\n            cr--;\r\n        }\r\n\r\n        return -1;\r\n\r\n    }\r\n\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(MouseEvent e) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n        private boolean checkForWinner(int clickedCol, int clickedRow, Color color) {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n        }\r\n\r\n\r\n\r\npublic class Connect4MinMax extends DrawGrid1.MultiDraw {\r\n    private int currentPlayer = 1;\r\n\r\n    public Connect4MinMax(Dimension dimension) {\r\n        super(dimension);\r\n    }\r\n\r\n    public int getBestMove(int[][] board, int player) {\r\n        currentPlayer = player;\r\n        return minimax(board, 4, player, true);\r\n    }\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n        if (!winner &amp;&amp; currentPlayer == 1) {\r\n            int x = e.getX();\r\n            int y = e.getY();\r\n            if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\r\n                int clickedCol = x / cellSize;\r\n                int row = dropPiece(clickedCol, currentPlayer);\r\n\r\n                if (row != -1) {\r\n                    grid[row][clickedCol] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\r\n                    currentPlayer = 3 - currentPlayer; \r\n\r\n                    if (checkForWinner(clickedCol, row, grid[row][clickedCol])) {\r\n                        winner = true;\r\n                    } else {\r\n                        int bestMove = getBestMove(convertGridToBoard(grid), currentPlayer);\r\n                        int bestRow = dropPiece(bestMove, currentPlayer);\r\n                        grid[bestRow][bestMove] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\r\n                        currentPlayer = 3 - currentPlayer; \r\n                        if (checkForWinner(bestMove, bestRow, grid[bestRow][bestMove])) {\r\n                            winner = true;\r\n                        }\r\n                    }\r\n                }\r\n                repaint();\r\n            }\r\n        }\r\n    }\r\n\r\n    private int[][] convertGridToBoard(Color[][] grid) {\r\n        int[][] board = new int[grid.length][grid[0].length];\r\n        for (int row = 0; row &lt; grid.length; row++) {\r\n            for (int col = 0; col &lt; grid[0].length; col++) {\r\n                if (grid[row][col] == Color.RED) {\r\n                    board[row][col] = 1;\r\n                } else if (grid[row][col] == Color.YELLOW) {\r\n                    board[row][col] = 2;\r\n                } else {\r\n                    board[row][col] = 0;\r\n                }\r\n            }\r\n        }\r\n        return board;\r\n    }\r\n\r\n    private int dropPiece(int col, int player) {\r\n        int row = grid.length - 1;\r\n\r\n        while (row &gt;= 0) {\r\n            if (grid[row][col] == Color.LIGHT_GRAY) {\r\n                return row;\r\n            }\r\n            row--;\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public int minimax(int[][] board, int depth, int player, boolean maximizingPlayer) {\r\n        if (depth == 0 || isGameOver(board)) {\r\n            int score = evaluate(board);\r\n            System.out.println(&quot;Chosen Move: &quot; + (board[0].length / 2) + &quot;, Score: &quot; + score);\r\n            return score;\r\n        }\r\n\r\n        int[] validMoves = getValidMoves(board);\r\n        int bestMove = -1;\r\n        int bestScore = maximizingPlayer ? Integer.MIN_VALUE : Integer.MAX_VALUE;\r\n\r\n        for (int move : validMoves) {\r\n            int[][] newBoard = makeMove(board, move, player);\r\n            int score = minimax(newBoard, depth - 1, 3 - player, !maximizingPlayer);\r\n\r\n            if (maximizingPlayer) {\r\n            if (score &gt; bestScore) {\r\n                bestScore = score;\r\n                bestMove = move;\r\n            }\r\n        } else {\r\n            if (score &lt; bestScore) {\r\n                bestScore = score;\r\n                bestMove = move;\r\n            }\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Chosen Move: &quot; + bestMove + &quot;, Score: &quot; + bestScore);\r\n    return bestScore;\r\n}\r\n\r\n    private boolean isGameOver(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);     }\r\n\r\n    private int evaluate(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }\r\n\r\n    private int[] getValidMoves(int[][] board) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }\r\n\r\n    private int[][] makeMove(int[][] board, int move, int player) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n    }    \r\n\r\n            private boolean checkForWinner(int bestMove, int bestRow, Color color) {\r\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**The error I keep getting is:** \r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: Not supported yet.\r\n\tat DrawGrid1$MultiDraw.mouseEntered(DrawGrid1.java:150)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6625)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6381)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEnterExit(Container.java:4726)\r\n\tat java.desktop/java.awt.LightweightDispatcher.trackMouseEnterExit(Container.java:4704)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4555)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n```","title":"Whenever I run the main function, I receive an error and I don&#39;t know how I should deal with it","body":"<p>My program is a game of Connect 4 but I'm trying to implement the minmax algorithm so I can calculate the best moves to create a bot that I can go against. The DrawGrid class is what actually creates the board and then the Connect4MinMax class contains the algorithm. I want to know why I keep getting this error when I try and run my program and how I can fix it.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.util.Arrays;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\n\n\npublic class DrawGrid1 {\n    public static void main(String[] args) {\n    Dimension dimension = new Dimension(1920, 1080);\n    new DrawGrid1(dimension);\n    }\n    private JFrame frame;\n    \n    public DrawGrid1(Dimension dimension) {\n        frame = new JFrame(&quot;Connect 4&quot;);\n        frame.setSize(dimension);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setPreferredSize(frame.getSize());\n        frame.add(new MultiDraw(dimension));\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    public static class MultiDraw extends JPanel implements MouseListener {\n        int startX = 10;\n        int startY = 10;\n        int cellSize = 120;\n        int turn = 2;\n        int rows = 8;\n        int cols = 8;\n        boolean winner = false;\n        String ccolor = &quot;&quot;;\n\n        Color[][] grid = new Color[rows][cols];\n\n        public MultiDraw(Dimension dimension) {\n            setSize(dimension);\n            setPreferredSize(dimension);\n            addMouseListener(this);\n            int x = 0;\n            for (int row = 0; row &lt; grid.length; row++) {\n                for (int col = 0; col &lt; grid[0].length; col++) {\n                    Color c;\n                    if (x % 2 == 0) {\n                        grid[row][col] = Color.LIGHT_GRAY;\n                    } else {\n                        grid[row][col] = Color.LIGHT_GRAY;\n                    }\n                    x++;\n                }\n            }\n        }\n\n        @Override\n        public void paintComponent(Graphics g) {\n            Graphics2D g2 = (Graphics2D) g;\n            Dimension d = getSize();\n            g2.setColor(new Color(80, 0, 60));\n            g2.fillRect(0, 0, d.width, d.height);\n            startX = 0;\n            startY = 0;\n\n            for (int row = 0; row &lt; grid.length; row++) {\n                for (int col = 0; col &lt; grid[0].length; col++) {\n                    g2.setColor(grid[row][col]);\n                    g2.fillOval(startX, startY, cellSize, cellSize);\n                    g2.setColor(Color.black);\n                    g2.drawOval(startX, startY, cellSize, cellSize);\n                    startX += cellSize;\n                }\n                startY += cellSize;\n                startX = 0;\n            }\n\n            g2.setColor(new Color(255, 255, 255));\n            if (winner == false) {\n                if (turn % 2 == 0)\n                    g2.drawString(&quot;Red's Turn&quot;, 1000, 20);\n                else\n                    g2.drawString(&quot;Yellow's Turn&quot;, 1000, 20);\n            } else {\n                g2.drawString(&quot;WINNER - &quot; + ccolor, 1000, 20);\n            }\n        }\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            int x = e.getX();\n            int y = e.getY();\n            if (winner == false) {\n                if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\n                    int clickedRow = y / cellSize;\n                    int clickedCol = x / cellSize;\n\n                    clickedRow = dropP(clickedCol);\n\n                    if (clickedRow != -1) {\n\n                        if (turn % 2 == 0) {\n                            grid[clickedRow][clickedCol] = Color.red;\n                            ccolor = &quot;RED&quot;;\n                        } else {\n                            grid[clickedRow][clickedCol] = Color.yellow;\n                            ccolor = &quot;Yellow&quot;;\n                        }\n                        turn++;\n                        if (checkForWinner(clickedCol, clickedRow, grid[clickedRow][clickedCol])) {\n                        winner = true;\n                    }\n                }\n            }\n            repaint();\n        }\n    }\n\n    public int dropP(int cc) {\n        int cr = grid.length - 1;\n\n        while (cr &gt;= 0) {\n\n            if (grid[cr][cc].equals(Color.LIGHT_GRAY)) {\n                return cr;\n            }\n            cr--;\n        }\n\n        return -1;\n\n    }\n\n\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n        private boolean checkForWinner(int clickedCol, int clickedRow, Color color) {\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n        }\n\n\n\npublic class Connect4MinMax extends DrawGrid1.MultiDraw {\n    private int currentPlayer = 1;\n\n    public Connect4MinMax(Dimension dimension) {\n        super(dimension);\n    }\n\n    public int getBestMove(int[][] board, int player) {\n        currentPlayer = player;\n        return minimax(board, 4, player, true);\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        if (!winner &amp;&amp; currentPlayer == 1) {\n            int x = e.getX();\n            int y = e.getY();\n            if (x &lt; (cellSize * grid[0].length) &amp;&amp; y &lt; (cellSize * grid.length)) {\n                int clickedCol = x / cellSize;\n                int row = dropPiece(clickedCol, currentPlayer);\n\n                if (row != -1) {\n                    grid[row][clickedCol] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\n                    currentPlayer = 3 - currentPlayer; \n\n                    if (checkForWinner(clickedCol, row, grid[row][clickedCol])) {\n                        winner = true;\n                    } else {\n                        int bestMove = getBestMove(convertGridToBoard(grid), currentPlayer);\n                        int bestRow = dropPiece(bestMove, currentPlayer);\n                        grid[bestRow][bestMove] = (currentPlayer == 1) ? Color.RED : Color.YELLOW;\n                        currentPlayer = 3 - currentPlayer; \n                        if (checkForWinner(bestMove, bestRow, grid[bestRow][bestMove])) {\n                            winner = true;\n                        }\n                    }\n                }\n                repaint();\n            }\n        }\n    }\n\n    private int[][] convertGridToBoard(Color[][] grid) {\n        int[][] board = new int[grid.length][grid[0].length];\n        for (int row = 0; row &lt; grid.length; row++) {\n            for (int col = 0; col &lt; grid[0].length; col++) {\n                if (grid[row][col] == Color.RED) {\n                    board[row][col] = 1;\n                } else if (grid[row][col] == Color.YELLOW) {\n                    board[row][col] = 2;\n                } else {\n                    board[row][col] = 0;\n                }\n            }\n        }\n        return board;\n    }\n\n    private int dropPiece(int col, int player) {\n        int row = grid.length - 1;\n\n        while (row &gt;= 0) {\n            if (grid[row][col] == Color.LIGHT_GRAY) {\n                return row;\n            }\n            row--;\n        }\n\n        return -1;\n    }\n\n    public int minimax(int[][] board, int depth, int player, boolean maximizingPlayer) {\n        if (depth == 0 || isGameOver(board)) {\n            int score = evaluate(board);\n            System.out.println(&quot;Chosen Move: &quot; + (board[0].length / 2) + &quot;, Score: &quot; + score);\n            return score;\n        }\n\n        int[] validMoves = getValidMoves(board);\n        int bestMove = -1;\n        int bestScore = maximizingPlayer ? Integer.MIN_VALUE : Integer.MAX_VALUE;\n\n        for (int move : validMoves) {\n            int[][] newBoard = makeMove(board, move, player);\n            int score = minimax(newBoard, depth - 1, 3 - player, !maximizingPlayer);\n\n            if (maximizingPlayer) {\n            if (score &gt; bestScore) {\n                bestScore = score;\n                bestMove = move;\n            }\n        } else {\n            if (score &lt; bestScore) {\n                bestScore = score;\n                bestMove = move;\n            }\n        }\n    }\n\n    System.out.println(&quot;Chosen Move: &quot; + bestMove + &quot;, Score: &quot; + bestScore);\n    return bestScore;\n}\n\n    private boolean isGameOver(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;);     }\n\n    private int evaluate(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }\n\n    private int[] getValidMoves(int[][] board) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }\n\n    private int[][] makeMove(int[][] board, int move, int player) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n    }    \n\n            private boolean checkForWinner(int bestMove, int bestRow, Color color) {\n                throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); \n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>The error I keep getting is:</strong></p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsupportedOperationException: Not supported yet.\n    at DrawGrid1$MultiDraw.mouseEntered(DrawGrid1.java:150)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6625)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3398)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6381)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEnterExit(Container.java:4726)\n    at java.desktop/java.awt.LightweightDispatcher.trackMouseEnterExit(Container.java:4704)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4555)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699485824,"creation_date":1699485824,"answer_id":77449560,"question_id":77449454,"body_markdown":"A Spring library isn’t an issue, and one of the most common ways is to create a starter package that uses auto configuration. See [this](https://www.baeldung.com/spring-boot-custom-starter) and [this](https://docs.spring.io/spring-boot/docs/1.5.11.RELEASE/reference/html/boot-features-developing-auto-configuration.html).\r\n\r\nHowever, Your client app has can’t be creating `Foo` instances manually, because the beans have to be created and managed by Spring. If the structure/schema of config is predefined, you can provide a parser with your library that is capable of reading a config file, similar to what spring does with `application.properties`, and creates `Foo` instances. The client app has to be a Spring application in order to use your Spring library. ","title":"Using Spring DI in a library","body":"<p>A Spring library isn’t an issue, and one of the most common ways is to create a starter package that uses auto configuration. See <a href=\"https://www.baeldung.com/spring-boot-custom-starter\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://docs.spring.io/spring-boot/docs/1.5.11.RELEASE/reference/html/boot-features-developing-auto-configuration.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>However, Your client app has can’t be creating <code>Foo</code> instances manually, because the beans have to be created and managed by Spring. If the structure/schema of config is predefined, you can provide a parser with your library that is capable of reading a config file, similar to what spring does with <code>application.properties</code>, and creates <code>Foo</code> instances. The client app has to be a Spring application in order to use your Spring library.</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699499712,"creation_date":1699499712,"answer_id":77450260,"question_id":77449454,"body_markdown":"Without considering the encapsulation of attributes, you need to think about it yourself. In fact, there are many solutions, which are nothing more than dynamically passing some values ​​based on config and then generating instances.\r\n\r\nOf course, you can also implement the singleton pattern yourself. \r\nOr, in create, directly use if-else to judge the incoming string to instantiate the bar object.\r\n\r\nThe output of the code below is this:\r\n\r\n    BarOne\r\n    BarTwo\r\n\r\nThe following is the code. There is no logic written. It is a simple implementation.\r\n\r\n    package com;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n            Config config = new Config();\r\n            config.className = &quot;com.BarOne&quot;;\r\n            config.aClass = BarOne.class;\r\n    \r\n            Foo foo = FooFactory.create(config);\r\n    \r\n            foo.whatIsTheBar();\r\n    \r\n            config.className = &quot;com.BarTwo&quot;;\r\n            config.aClass = BarTwo.class;\r\n    \r\n            foo = FooFactory.create(config);\r\n    \r\n            foo.whatIsTheBar();\r\n        }\r\n    }\r\n    \r\n    class Config {\r\n        public String className;\r\n        public Class&lt;? extends Bar&gt; aClass;\r\n    }\r\n    \r\n    class FooFactory {\r\n        public static Foo create(Config config) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\r\n            Class&lt;?&gt; c = Class.forName(config.className);\r\n            return new Foo(config.aClass.cast(c.newInstance()));\r\n        }\r\n    }\r\n    \r\n    class Foo {\r\n        private Bar bar;\r\n        public Foo(Bar bar) {\r\n            this.bar = bar;\r\n        }\r\n    \r\n        public void whatIsTheBar() {\r\n            bar.show();\r\n        }\r\n    }\r\n    \r\n    interface Bar {\r\n        void show();\r\n    }\r\n    \r\n    class BarOne implements Bar {\r\n        public void show() {\r\n            System.out.println(&quot;BarOne&quot;);\r\n        }\r\n    }\r\n    \r\n    class BarTwo implements Bar {\r\n        public void show() {\r\n            System.out.println(&quot;BarTwo&quot;);\r\n        }\r\n    }","title":"Using Spring DI in a library","body":"<p>Without considering the encapsulation of attributes, you need to think about it yourself. In fact, there are many solutions, which are nothing more than dynamically passing some values ​​based on config and then generating instances.</p>\n<p>Of course, you can also implement the singleton pattern yourself.\nOr, in create, directly use if-else to judge the incoming string to instantiate the bar object.</p>\n<p>The output of the code below is this:</p>\n<pre><code>BarOne\nBarTwo\n</code></pre>\n<p>The following is the code. There is no logic written. It is a simple implementation.</p>\n<pre><code>package com;\n\npublic class Test {\n    public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n        Config config = new Config();\n        config.className = &quot;com.BarOne&quot;;\n        config.aClass = BarOne.class;\n\n        Foo foo = FooFactory.create(config);\n\n        foo.whatIsTheBar();\n\n        config.className = &quot;com.BarTwo&quot;;\n        config.aClass = BarTwo.class;\n\n        foo = FooFactory.create(config);\n\n        foo.whatIsTheBar();\n    }\n}\n\nclass Config {\n    public String className;\n    public Class&lt;? extends Bar&gt; aClass;\n}\n\nclass FooFactory {\n    public static Foo create(Config config) throws ClassNotFoundException, InstantiationException, IllegalAccessException {\n        Class&lt;?&gt; c = Class.forName(config.className);\n        return new Foo(config.aClass.cast(c.newInstance()));\n    }\n}\n\nclass Foo {\n    private Bar bar;\n    public Foo(Bar bar) {\n        this.bar = bar;\n    }\n\n    public void whatIsTheBar() {\n        bar.show();\n    }\n}\n\ninterface Bar {\n    void show();\n}\n\nclass BarOne implements Bar {\n    public void show() {\n        System.out.println(&quot;BarOne&quot;);\n    }\n}\n\nclass BarTwo implements Bar {\n    public void show() {\n        System.out.println(&quot;BarTwo&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699499712,"creation_date":1699484047,"question_id":77449454,"body_markdown":"I am developing a package that would be used as a dependency in an application. Thus, my package is NOT the executable application.\r\n\r\nI have a class `Foo` that has some dependencies. I want to be able to do something like:\r\n\r\n```\r\npublic class Foo {\r\n  @Autowired\r\n  Bar bar;\r\n\r\n  @Autowired\r\n  Player player\r\n\r\n  ... many other dependencies like this\r\n\r\n}\r\n```\r\n\r\nIn above, `Bar`, `Player` etc. are all interfaces and I have implemented concrete classes like:\r\n\r\n```\r\npublic class BarOne implements Bar {\r\n}\r\n\r\npublic class BarTwo implements Bar {\r\n}\r\n```\r\n\r\nI want Spring to instantiate the _correct implementation depending on a `Config` and this `Config` will NOT come from `application.properties`_. Remember I am developing a package meant to be used as a library. The application using this library may create multiple instances of `Foo` with different configs. So the application may use the library like:\r\n\r\n```\r\nFoo fooOne = FooFactory.create(config1);\r\nFoo fooTwo = FooFactory.create(config2);\r\n```\r\n\r\nCan anyone tell me how to accomplish this or is Spring not the right tool for this? I can use any DI Framework - doesn&#39;t have to be Spring.","title":"Using Spring DI in a library","body":"<p>I am developing a package that would be used as a dependency in an application. Thus, my package is NOT the executable application.</p>\n<p>I have a class <code>Foo</code> that has some dependencies. I want to be able to do something like:</p>\n<pre><code>public class Foo {\n  @Autowired\n  Bar bar;\n\n  @Autowired\n  Player player\n\n  ... many other dependencies like this\n\n}\n</code></pre>\n<p>In above, <code>Bar</code>, <code>Player</code> etc. are all interfaces and I have implemented concrete classes like:</p>\n<pre><code>public class BarOne implements Bar {\n}\n\npublic class BarTwo implements Bar {\n}\n</code></pre>\n<p>I want Spring to instantiate the <em>correct implementation depending on a <code>Config</code> and this <code>Config</code> will NOT come from <code>application.properties</code></em>. Remember I am developing a package meant to be used as a library. The application using this library may create multiple instances of <code>Foo</code> with different configs. So the application may use the library like:</p>\n<pre><code>Foo fooOne = FooFactory.create(config1);\nFoo fooTwo = FooFactory.create(config2);\n</code></pre>\n<p>Can anyone tell me how to accomplish this or is Spring not the right tool for this? I can use any DI Framework - doesn't have to be Spring.</p>\n"},{"tags":["java","azure","maven","azure-openai"],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699442327,"creation_date":1699442327,"answer_id":77445090,"question_id":77444107,"body_markdown":"I have added the dependencies **log4j-api, log4j-core, log4j-slf4j-impl**  in pom.xml file.\r\n\r\n**pom.xml :**\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI have modified the code to handle the exception.\r\n\r\n**Code :**\r\n\r\n```java\r\nimport com.azure.ai.openai.OpenAIClient;\r\nimport com.azure.ai.openai.OpenAIClientBuilder;\r\nimport com.azure.ai.openai.models.Choice;\r\nimport com.azure.ai.openai.models.Completions;\r\nimport com.azure.ai.openai.models.CompletionsOptions;\r\nimport com.azure.ai.openai.models.CompletionsUsage;\r\nimport com.azure.core.credential.AzureKeyCredential;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String azureOpenaiKey = &quot;&lt;key&gt;&quot;;\r\n        String endpoint = &quot;https://eastus.api.cognitive.microsoft.com&quot;;\r\n        String deploymentOrModelId = &quot;&lt;Model_ID&gt;&quot;;\r\n\r\n        OpenAIClient client = new OpenAIClientBuilder()\r\n                .endpoint(endpoint)\r\n                .credential(new AzureKeyCredential(azureOpenaiKey))\r\n                .buildClient();\r\n\r\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\r\n        prompt.add(&quot;When was Microsoft founded?&quot;);\r\n\r\n        try {\r\n            Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\r\n\r\n            if (completions != null) {\r\n                System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\r\n                for (Choice choice : completions.getChoices()) {\r\n                    System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\r\n                }\r\n\r\n                CompletionsUsage usage = completions.getUsage();\r\n                System.out.printf(&quot;Usage: number of prompt tokens is %d, &quot;\r\n                                + &quot;number of completion tokens is %d, and the number of total tokens in the request and response is %d.%n&quot;,\r\n                        usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\r\n            } else {\r\n                System.err.println(&quot;The response from the API is null.&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Output :**\r\n\r\nIt ran successfully as below.\r\n\r\n![enter image description here](https://i.imgur.com/bdtFBK7.png)","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; and Resource not found with Azure OpenAI service","body":"<p>I have added the dependencies <strong>log4j-api, log4j-core, log4j-slf4j-impl</strong>  in pom.xml file.</p>\n<p><strong>pom.xml :</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have modified the code to handle the exception.</p>\n<p><strong>Code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.azure.ai.openai.OpenAIClient;\nimport com.azure.ai.openai.OpenAIClientBuilder;\nimport com.azure.ai.openai.models.Choice;\nimport com.azure.ai.openai.models.Completions;\nimport com.azure.ai.openai.models.CompletionsOptions;\nimport com.azure.ai.openai.models.CompletionsUsage;\nimport com.azure.core.credential.AzureKeyCredential;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String azureOpenaiKey = &quot;&lt;key&gt;&quot;;\n        String endpoint = &quot;https://eastus.api.cognitive.microsoft.com&quot;;\n        String deploymentOrModelId = &quot;&lt;Model_ID&gt;&quot;;\n\n        OpenAIClient client = new OpenAIClientBuilder()\n                .endpoint(endpoint)\n                .credential(new AzureKeyCredential(azureOpenaiKey))\n                .buildClient();\n\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\n        prompt.add(&quot;When was Microsoft founded?&quot;);\n\n        try {\n            Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\n\n            if (completions != null) {\n                System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\n                for (Choice choice : completions.getChoices()) {\n                    System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\n                }\n\n                CompletionsUsage usage = completions.getUsage();\n                System.out.printf(&quot;Usage: number of prompt tokens is %d, &quot;\n                                + &quot;number of completion tokens is %d, and the number of total tokens in the request and response is %d.%n&quot;,\n                        usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\n            } else {\n                System.err.println(&quot;The response from the API is null.&quot;);\n            }\n        } catch (Exception e) {\n            System.err.println(&quot;Error: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<p>It ran successfully as below.</p>\n<p><img src=\"https://i.imgur.com/bdtFBK7.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":29853245,"reputation":3,"user_id":22878634,"display_name":"Jeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77445090,"answer_count":1,"score":0,"last_activity_date":1699499485,"creation_date":1699434051,"question_id":77444107,"body_markdown":"When I am using the quickstart demo code from Azure OpenAI website in OpenJDK 21.\r\n\r\n```\r\npackage com.azure.ai.openai.usage;\r\n\r\nimport com.azure.ai.openai.OpenAIClient;\r\nimport com.azure.ai.openai.OpenAIClientBuilder;\r\nimport com.azure.ai.openai.models.Choice;\r\nimport com.azure.ai.openai.models.Completions;\r\nimport com.azure.ai.openai.models.CompletionsOptions;\r\nimport com.azure.ai.openai.models.CompletionsUsage;\r\nimport com.azure.core.credential.AzureKeyCredential;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class GetCompletionsSample {\r\n\r\n    public static void main(String[] args) {\r\n        String azureOpenaiKey = &quot;MY AZURE OPENAI API KEY&quot;;\r\n        String endpoint = &quot;MY AZURE OPENAI ENDPOINT&quot;;\r\n        String deploymentOrModelId = &quot;gpt-35-turbo-instruct&quot;;\r\n\r\n        OpenAIClient client = new OpenAIClientBuilder()\r\n                .endpoint(endpoint)\r\n                .credential(new AzureKeyCredential(azureOpenaiKey))\r\n                .buildClient();\r\n\r\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\r\n        prompt.add(&quot;When was Microsoft founded?&quot;);\r\n\r\n        Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\r\n\r\n        System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\r\n        for (Choice choice : completions.getChoices()) {\r\n            System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\r\n        }\r\n\r\n        CompletionsUsage usage = completions.getUsage();\r\n        System.out.printf(&quot;Usage: number of prompt token is %d, &quot;\r\n                        + &quot;number of completion token is %d, and number of total tokens in request and response is %d.%n&quot;,\r\n                usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\r\n    }\r\n}\r\n```\r\nand show the error\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; com.azure.core.exception.ResourceNotFoundException: Status code 404, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}&quot;\r\n\tat com.azure.core.implementation.http.rest.RestProxyBase.instantiateUnexpectedException(RestProxyBase.java:347)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.ensureExpectedStatus(SyncRestProxy.java:130)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.handleRestReturnType(SyncRestProxy.java:213)\r\n\tat com.azure.core.implementation.http.rest.SyncRestProxy.invoke(SyncRestProxy.java:81)\r\n\tat com.azure.core.implementation.http.rest.RestProxyBase.invoke(RestProxyBase.java:109)\r\n\tat com.azure.core.http.rest.RestProxy.invoke(RestProxy.java:91)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy3.getCompletionsSync(Unknown Source)\r\n\tat com.azure.ai.openai.implementation.OpenAIClientImpl.getCompletionsWithResponse(OpenAIClientImpl.java:904)\r\n\tat com.azure.ai.openai.OpenAIClient.getCompletionsWithResponse(OpenAIClient.java:222)\r\n\tat com.azure.ai.openai.OpenAIClient.getCompletions(OpenAIClient.java:587)\r\n\tat com.azure.ai.openai.usage.GetCompletionsSample.main(GetCompletionsSample.java:29)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\nI have checked all the configuration and make sure the endpoint was correct, the deployment was created more than 10 hours, and my deployment ID is same as the model name. Am I missing something? This is the dependencies:\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nand I&#39;ve tried the solution from https://stackoverflow.com/questions/61819573/how-do-i-fix-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\r\nHowever, when I add dependencies to `pom.xml`, it still get the error in my [IntelliJ IDEA](https://i.stack.imgur.com/8s4Wa.png)\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot; and Resource not found with Azure OpenAI service","body":"<p>When I am using the quickstart demo code from Azure OpenAI website in OpenJDK 21.</p>\n<pre><code>package com.azure.ai.openai.usage;\n\nimport com.azure.ai.openai.OpenAIClient;\nimport com.azure.ai.openai.OpenAIClientBuilder;\nimport com.azure.ai.openai.models.Choice;\nimport com.azure.ai.openai.models.Completions;\nimport com.azure.ai.openai.models.CompletionsOptions;\nimport com.azure.ai.openai.models.CompletionsUsage;\nimport com.azure.core.credential.AzureKeyCredential;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GetCompletionsSample {\n\n    public static void main(String[] args) {\n        String azureOpenaiKey = &quot;MY AZURE OPENAI API KEY&quot;;\n        String endpoint = &quot;MY AZURE OPENAI ENDPOINT&quot;;\n        String deploymentOrModelId = &quot;gpt-35-turbo-instruct&quot;;\n\n        OpenAIClient client = new OpenAIClientBuilder()\n                .endpoint(endpoint)\n                .credential(new AzureKeyCredential(azureOpenaiKey))\n                .buildClient();\n\n        List&lt;String&gt; prompt = new ArrayList&lt;&gt;();\n        prompt.add(&quot;When was Microsoft founded?&quot;);\n\n        Completions completions = client.getCompletions(deploymentOrModelId, new CompletionsOptions(prompt));\n\n        System.out.printf(&quot;Model ID=%s is created at %s.%n&quot;, completions.getId(), completions.getCreatedAt());\n        for (Choice choice : completions.getChoices()) {\n            System.out.printf(&quot;Index: %d, Text: %s.%n&quot;, choice.getIndex(), choice.getText());\n        }\n\n        CompletionsUsage usage = completions.getUsage();\n        System.out.printf(&quot;Usage: number of prompt token is %d, &quot;\n                        + &quot;number of completion token is %d, and number of total tokens in request and response is %d.%n&quot;,\n                usage.getPromptTokens(), usage.getCompletionTokens(), usage.getTotalTokens());\n    }\n}\n</code></pre>\n<p>and show the error</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; com.azure.core.exception.ResourceNotFoundException: Status code 404, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;404&quot;,&quot;message&quot;: &quot;Resource not found&quot;}}&quot;\n    at com.azure.core.implementation.http.rest.RestProxyBase.instantiateUnexpectedException(RestProxyBase.java:347)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.ensureExpectedStatus(SyncRestProxy.java:130)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.handleRestReturnType(SyncRestProxy.java:213)\n    at com.azure.core.implementation.http.rest.SyncRestProxy.invoke(SyncRestProxy.java:81)\n    at com.azure.core.implementation.http.rest.RestProxyBase.invoke(RestProxyBase.java:109)\n    at com.azure.core.http.rest.RestProxy.invoke(RestProxy.java:91)\n    at jdk.proxy2/jdk.proxy2.$Proxy3.getCompletionsSync(Unknown Source)\n    at com.azure.ai.openai.implementation.OpenAIClientImpl.getCompletionsWithResponse(OpenAIClientImpl.java:904)\n    at com.azure.ai.openai.OpenAIClient.getCompletionsWithResponse(OpenAIClient.java:222)\n    at com.azure.ai.openai.OpenAIClient.getCompletions(OpenAIClient.java:587)\n    at com.azure.ai.openai.usage.GetCompletionsSample.main(GetCompletionsSample.java:29)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have checked all the configuration and make sure the endpoint was correct, the deployment was created more than 10 hours, and my deployment ID is same as the model name. Am I missing something? This is the dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-ai-openai&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-beta.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and I've tried the solution from <a href=\"https://stackoverflow.com/questions/61819573/how-do-i-fix-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\">How do I fix &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&quot;</a>\nHowever, when I add dependencies to <code>pom.xml</code>, it still get the error in my <a href=\"https://i.stack.imgur.com/8s4Wa.png\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","netbeans","deployment","netbeans-7"],"answers":[{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1410309193,"creation_date":1362692299,"answer_id":15282269,"question_id":15282098,"body_markdown":"You can add it into project&#39;s pom file, inside `&lt;project&gt;` tag:\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.4&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                  &lt;archive&gt;\r\n                      &lt;manifest&gt;\r\n                          &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\r\n                      &lt;/manifest&gt;\r\n                  &lt;/archive&gt;\r\n              &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>You can add it into project's pom file, inside <code>&lt;project&gt;</code> tag:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.4&lt;/version&gt;\n          &lt;configuration&gt;\n              &lt;archive&gt;\n                  &lt;manifest&gt;\n                      &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;\n                  &lt;/manifest&gt;\n              &lt;/archive&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2450259,"reputation":401,"user_id":2136729,"display_name":"fboulay"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1362735934,"creation_date":1362735934,"answer_id":15290986,"question_id":15282098,"body_markdown":"Another option is to use the `maven shade plugin`. Unlike the `maven jar plugin` showed by tigran, the `maven shade plugin` includes your dependencies in the generated jar.\r\nA sample usage of the plugin is :\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;your.main.Class&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>Another option is to use the <code>maven shade plugin</code>. Unlike the <code>maven jar plugin</code> showed by tigran, the <code>maven shade plugin</code> includes your dependencies in the generated jar.\nA sample usage of the plugin is :</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;your.main.Class&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19347481,"reputation":1,"user_id":14145695,"display_name":"Allan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699499203,"creation_date":1697224926,"answer_id":77290203,"question_id":15282098,"body_markdown":"In addition to the first two answers, I suggest people add it as a &quot;Code Template&quot; within the NetBeans settings. It will autocomplete once you type in a keyword and hit &lt;kbd&gt;Tab&lt;/kbd&gt;. This may be a feature that was unavailable at the time of this post.\r\n\r\n[NetBeans Maven POM Code Template Expansion][1]\r\n\r\nIn the linked picture you can see what my template autocompletes when I type `assembly` and hit &lt;kbd&gt;Tab&lt;/kbd&gt;. It fills in (where *${MC newVarName default=&quot;${exec.mainClass}&quot;}* dynamically points to the mainClass):\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;!-- NOTE: We don&#39;t need a groupId specification because the group is\r\n                org.apache.maven.plugins ...which is assumed by default.\r\n            --&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;descriptorRefs&gt;\r\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                &lt;/descriptorRefs&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\r\n                    &lt;/manifest&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DpB1c.png","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>In addition to the first two answers, I suggest people add it as a &quot;Code Template&quot; within the NetBeans settings. It will autocomplete once you type in a keyword and hit <kbd>Tab</kbd>. This may be a feature that was unavailable at the time of this post.</p>\n<p><a href=\"https://i.stack.imgur.com/DpB1c.png\" rel=\"nofollow noreferrer\">NetBeans Maven POM Code Template Expansion</a></p>\n<p>In the linked picture you can see what my template autocompletes when I type <code>assembly</code> and hit <kbd>Tab</kbd>. It fills in (where <em>${MC newVarName default=&quot;${exec.mainClass}&quot;}</em> dynamically points to the mainClass):</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;!-- NOTE: We don't need a groupId specification because the group is\n            org.apache.maven.plugins ...which is assumed by default.\n        --&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;descriptorRefs&gt;\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n            &lt;/descriptorRefs&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":1273101,"reputation":964,"user_id":1228945,"accept_rate":89,"display_name":"derigible"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20835,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":15282269,"answer_count":3,"score":20,"last_activity_date":1699499203,"creation_date":1362691702,"question_id":15282098,"body_markdown":"I am having a similar problem to [this][1] question. I have tried all the suggestions listed and am still at a loss. My issue is that I am trying to build a maven project and distribute it to other machines, but the jar files are not being populated with a correct Manifest. Each time I build and run I get the following error: `no main manifest attribute, in myjar.jar`. Is there some sort of configuration file I need to edit? I just don&#39;t know what is going on. I have attempted [this fix][2] also, but to no avail.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12266735/no-main-manifest-attribute-in-jar-netbeans\r\n  [2]: https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project","title":"Netbeans Maven Project Not adding Main Class to Manifest","body":"<p>I am having a similar problem to <a href=\"https://stackoverflow.com/questions/12266735/no-main-manifest-attribute-in-jar-netbeans\">this</a> question. I have tried all the suggestions listed and am still at a loss. My issue is that I am trying to build a maven project and distribute it to other machines, but the jar files are not being populated with a correct Manifest. Each time I build and run I get the following error: <code>no main manifest attribute, in myjar.jar</code>. Is there some sort of configuration file I need to edit? I just don't know what is going on. I have attempted <a href=\"https://stackoverflow.com/questions/2848642/how-to-setup-main-class-in-manifest-file-in-jar-produced-by-netbeans-project\">this fix</a> also, but to no avail.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":5,"creation_date":1699499855,"post_id":77450032,"comment_id":136540799,"body_markdown":"Good question. They probably thought it was worth the negligible cost to avoid unchecked casting and for consistency with the collectors that accept arguments. See also: https://stackoverflow.com/questions/43864005/is-it-allowed-adviseable-to-reuse-a-collector","body":"Good question. They probably thought it was worth the negligible cost to avoid unchecked casting and for consistency with the collectors that accept arguments. See also: <a href=\"https://stackoverflow.com/questions/43864005/is-it-allowed-adviseable-to-reuse-a-collector\" title=\"is it allowed adviseable to reuse a collector\">stackoverflow.com/questions/43864005/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1699542678,"post_id":77450032,"comment_id":136547642,"body_markdown":"What makes you so sure it&#39;s more efficient to save one Collector for everyone to use?","body":"What makes you so sure it&#39;s more efficient to save one Collector for everyone to use?"},{"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"score":0,"creation_date":1699746945,"post_id":77450032,"comment_id":136570535,"body_markdown":"@LouisWasserman I am not sure that reusing a Collector is more efficient, but it could be. I&#39;m pretty sure that it is not less efficient, but feel free to explain how that could happen.","body":"@LouisWasserman I am not sure that reusing a Collector is more efficient, but it could be. I&#39;m pretty sure that it is not less efficient, but feel free to explain how that could happen."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1700062877,"post_id":77450032,"comment_id":136609156,"body_markdown":"To reuse an object, you have to keep a reference to it, keeping its memory permanently allocated, regardless of whether you really need it at a later time. This is obviously less efficient than keeping the object only as long as you really need it. Accepting this disadvantage will only pay off if either 1) constructing the object is expensive, so skipping the construction saves time (does not apply to a collector) or 2) lots of instances are expected to potentially exist at the same time, so having one shared instance instead may have a net reduction of allocated memory (very unlikely here).","body":"To reuse an object, you have to keep a reference to it, keeping its memory permanently allocated, regardless of whether you really need it at a later time. This is obviously less efficient than keeping the object only as long as you really need it. Accepting this disadvantage will only pay off if either 1) constructing the object is expensive, so skipping the construction saves time (does not apply to a collector) or 2) lots of instances are expected to potentially exist at the same time, so having one shared instance instead may have a net reduction of allocated memory (very unlikely here)."}],"owner":{"account_id":1818352,"reputation":448,"user_id":1652984,"accept_rate":0,"display_name":"Alan Snyder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1699498907,"creation_date":1699495607,"question_id":77450032,"body_markdown":"If I understand correctly, a `Collector` is an immutable tuple of functions.\r\nSo, why do the `Collectors` methods all create a new `Collector` for each request?\r\nFor example, as long as type erasure is happening, I would think that only one `toList()`\r\n`Collector` is needed.","title":"Why does java.util.stream.Collectors always create a new Collector?","body":"<p>If I understand correctly, a <code>Collector</code> is an immutable tuple of functions.\nSo, why do the <code>Collectors</code> methods all create a new <code>Collector</code> for each request?\nFor example, as long as type erasure is happening, I would think that only one <code>toList()</code>\n<code>Collector</code> is needed.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":26539851,"reputation":86,"user_id":20170780,"display_name":"Hipposgrumm"},"score":0,"creation_date":1699122746,"post_id":77423326,"comment_id":136492744,"body_markdown":"Please add the `[minecraft]` tag so that people who watch it can find your question easier.","body":"Please add the <code>[minecraft]</code> tag so that people who watch it can find your question easier."},{"owner":{"account_id":19314891,"reputation":176,"user_id":14119878,"display_name":"Lapish"},"score":0,"creation_date":1699123118,"post_id":77423326,"comment_id":136492784,"body_markdown":"Done @Hipposgrumm","body":"Done @Hipposgrumm"},{"owner":{"account_id":4626602,"reputation":3739,"user_id":3750257,"display_name":"pppery"},"score":0,"creation_date":1699498647,"post_id":77423326,"comment_id":136540722,"body_markdown":"Does this answer your question? [What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?](https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1457863/what-causes-and-what-are-the-differences-between-noclassdeffounderror-and-classn\">What causes and what are the differences between NoClassDefFoundError and ClassNotFoundException?</a>"}],"owner":{"account_id":19314891,"reputation":176,"user_id":14119878,"display_name":"Lapish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699498636,"creation_date":1699122363,"question_id":77423326,"body_markdown":"I made a simple mod and want to subscribe to the event. When i start the server i get an error. What am i doing wrong?\r\n```\r\npublic class AuthLiteServer implements DedicatedServerModInitializer {\r\n\r\n    @Override\r\n    public void onInitializeServer() {\r\n        registerEvents();\r\n\r\n        AuthLite.LOGGER.info(&quot;AuthLite loaded&quot;);\r\n    }\r\n\r\n    //Error this\r\n    private void registerEvents() {\r\n        ServerLoginConnectionEvents.QUERY_START.register((handler, server, sender, synchronizer) -&gt; {\r\n            handler.acceptPlayer();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nfabric-mod.json\r\n```\r\n{\r\n\t&quot;schemaVersion&quot;: 1,\r\n\t&quot;id&quot;: &quot;auth-lite&quot;,\r\n\t&quot;version&quot;: &quot;${version}&quot;,\r\n\t&quot;name&quot;: &quot;Auth Lite&quot;,\r\n\t&quot;description&quot;: &quot; Minecraft Authentication Made Simple&quot;,\r\n\t&quot;authors&quot;: [\r\n\t\t&quot;Lapish!&quot;\r\n\t],\r\n\t&quot;contact&quot;: {\r\n\t\t&quot;homepage&quot;: &quot;https://fabricmc.net/&quot;,\r\n\t\t&quot;sources&quot;: &quot;https://github.com/FabricMC/fabric-example-mod&quot;\r\n\t},\r\n\t&quot;license&quot;: &quot;MIT&quot;,\r\n\t&quot;icon&quot;: &quot;assets/auth-lite/icon.png&quot;,\r\n\t&quot;environment&quot;: &quot;*&quot;,\r\n\t&quot;entrypoints&quot;: {\r\n\t\t&quot;main&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.AuthLite&quot;\r\n\t\t],\r\n\t\t&quot;client&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.AuthLiteClient&quot;\r\n\t\t],\r\n\t\t&quot;server&quot;: [\r\n\t\t\t&quot;com.lapish.authlite.server.AuthLiteServer&quot;\r\n\t\t]\r\n\t},\r\n\t&quot;depends&quot;: {\r\n\t\t&quot;fabricloader&quot;: &quot;&gt;=0.14.24&quot;,\r\n\t\t&quot;minecraft&quot;: &quot;~1.20.1&quot;,\r\n\t\t&quot;java&quot;: &quot;&gt;=17&quot;,\r\n\t\t&quot;fabric-api&quot;: &quot;*&quot;\r\n\t},\r\n\t&quot;suggests&quot;: {\r\n\t\t&quot;another-mod&quot;: &quot;*&quot;\r\n\t}\r\n}\r\n```\r\n```\r\nError:\r\njava.lang.RuntimeException: Could not execute entrypoint stage &#39;server&#39; due to errors, provided by &#39;auth-lite&#39;!\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.lambda$invokeEntrypoints$2(FabricLoaderImpl.java:387) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:385) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.game.minecraft.Hooks.startServer(Hooks.java:64) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.minecraft.server.Main.main(Main.java:112) ~[server-intermediary.jar:?]\r\n        at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69) ~[fabric-loader-0.14.24.jar:?]\r\n    \r\n\r\nCaused by: java.lang.NoClassDefFoundError: net/minecraft/server/network/ServerLoginNetworkHandler\r\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\r\n        ... 6 more\r\n\r\nCaused by: java.lang.ClassNotFoundException: net.minecraft.server.network.ServerLoginNetworkHandler\r\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226) ~[fabric-loader-0.14.24.jar:?]\r\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:119) ~[fabric-loader-0.14.24.jar:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\r\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\r\n        ... 6 more\r\n```","title":"Error with ServerLoginConnectionEvents Fabric(Minecraft)","body":"<p>I made a simple mod and want to subscribe to the event. When i start the server i get an error. What am i doing wrong?</p>\n<pre><code>public class AuthLiteServer implements DedicatedServerModInitializer {\n\n    @Override\n    public void onInitializeServer() {\n        registerEvents();\n\n        AuthLite.LOGGER.info(&quot;AuthLite loaded&quot;);\n    }\n\n    //Error this\n    private void registerEvents() {\n        ServerLoginConnectionEvents.QUERY_START.register((handler, server, sender, synchronizer) -&gt; {\n            handler.acceptPlayer();\n        });\n    }\n}\n</code></pre>\n<p>fabric-mod.json</p>\n<pre><code>{\n    &quot;schemaVersion&quot;: 1,\n    &quot;id&quot;: &quot;auth-lite&quot;,\n    &quot;version&quot;: &quot;${version}&quot;,\n    &quot;name&quot;: &quot;Auth Lite&quot;,\n    &quot;description&quot;: &quot; Minecraft Authentication Made Simple&quot;,\n    &quot;authors&quot;: [\n        &quot;Lapish!&quot;\n    ],\n    &quot;contact&quot;: {\n        &quot;homepage&quot;: &quot;https://fabricmc.net/&quot;,\n        &quot;sources&quot;: &quot;https://github.com/FabricMC/fabric-example-mod&quot;\n    },\n    &quot;license&quot;: &quot;MIT&quot;,\n    &quot;icon&quot;: &quot;assets/auth-lite/icon.png&quot;,\n    &quot;environment&quot;: &quot;*&quot;,\n    &quot;entrypoints&quot;: {\n        &quot;main&quot;: [\n            &quot;com.lapish.authlite.AuthLite&quot;\n        ],\n        &quot;client&quot;: [\n            &quot;com.lapish.authlite.AuthLiteClient&quot;\n        ],\n        &quot;server&quot;: [\n            &quot;com.lapish.authlite.server.AuthLiteServer&quot;\n        ]\n    },\n    &quot;depends&quot;: {\n        &quot;fabricloader&quot;: &quot;&gt;=0.14.24&quot;,\n        &quot;minecraft&quot;: &quot;~1.20.1&quot;,\n        &quot;java&quot;: &quot;&gt;=17&quot;,\n        &quot;fabric-api&quot;: &quot;*&quot;\n    },\n    &quot;suggests&quot;: {\n        &quot;another-mod&quot;: &quot;*&quot;\n    }\n}\n</code></pre>\n<pre><code>Error:\njava.lang.RuntimeException: Could not execute entrypoint stage 'server' due to errors, provided by 'auth-lite'!\n        at net.fabricmc.loader.impl.FabricLoaderImpl.lambda$invokeEntrypoints$2(FabricLoaderImpl.java:387) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:385) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.game.minecraft.Hooks.startServer(Hooks.java:64) ~[fabric-loader-0.14.24.jar:?]\n        at net.minecraft.server.Main.main(Main.java:112) ~[server-intermediary.jar:?]\n        at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:470) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotServer.main(KnotServer.java:23) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.server.FabricServerLauncher.main(FabricServerLauncher.java:69) ~[fabric-loader-0.14.24.jar:?]\n    \n\nCaused by: java.lang.NoClassDefFoundError: net/minecraft/server/network/ServerLoginNetworkHandler\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\n        ... 6 more\n\nCaused by: java.lang.ClassNotFoundException: net.minecraft.server.network.ServerLoginNetworkHandler\n        at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226) ~[fabric-loader-0.14.24.jar:?]\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:119) ~[fabric-loader-0.14.24.jar:?]\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n        at com.lapish.authlite.server.AuthLiteServer.registerEvents(AuthLiteServer.java:19) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at com.lapish.authlite.server.AuthLiteServer.onInitializeServer(AuthLiteServer.java:13) ~[auth-lite-0.1-1.20.1-dev.jar:?]\n        at net.fabricmc.loader.impl.FabricLoaderImpl.invokeEntrypoints(FabricLoaderImpl.java:383) ~[fabric-loader-0.14.24.jar:?]\n        ... 6 more\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1699462702,"post_id":77447502,"comment_id":136535611,"body_markdown":"Why isn&#39;t it correct? It&#39;s exactly 1 month and 1 day.","body":"Why isn&#39;t it correct? It&#39;s exactly 1 month and 1 day."},{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1699462703,"post_id":77447502,"comment_id":136535612,"body_markdown":"is 1 month 1 day correct? How this could be wrong","body":"is 1 month 1 day correct? How this could be wrong"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1699462879,"post_id":77447502,"comment_id":136535656,"body_markdown":"It&#39;s 1 day and 1 month. If you want the amount of days between `from` and `to`, you&#39;re looking for `ChronoUnit.DAYS.between(from, to);`","body":"It&#39;s 1 day and 1 month. If you want the amount of days between <code>from</code> and <code>to</code>, you&#39;re looking for <code>ChronoUnit.DAYS.between(from, to);</code>"},{"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"score":0,"creation_date":1699463060,"post_id":77447502,"comment_id":136535699,"body_markdown":"thanks @Rouge, it&#39;s exaclty what im looking for. can you put it as an answer so i can accept it","body":"thanks @Rouge, it&#39;s exaclty what im looking for. can you put it as an answer so i can accept it"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1699478050,"post_id":77447502,"comment_id":136538353,"body_markdown":"basically you want to [Calculate days between two Dates in Java 8](https://stackoverflow.com/q/27005861/85421) or [How to calculate the number of days in a period?](https://stackoverflow.com/q/30833582/85421)","body":"basically you want to <a href=\"https://stackoverflow.com/q/27005861/85421\">Calculate days between two Dates in Java 8</a> or <a href=\"https://stackoverflow.com/q/30833582/85421\">How to calculate the number of days in a period?</a>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699496500,"creation_date":1699462655,"answer_id":77447525,"question_id":77447502,"body_markdown":"The parts of a Period are *additive*: The period between your two dates is 1 month **and** 1 day.\r\n\r\n---\r\n\r\nTo calculate the period of days between LocalDates, use [`until()`][1]:\r\n\r\n    long daysBetween = from.until(to, ChronoUnit.DAYS);\r\n    \r\nor the convenience method [between()][2]:\r\n\r\n    long daysBetween = ChronoUnit.DAYS.between(from, to);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#until-java.time.temporal.Temporal-java.time.temporal.TemporalUnit-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-","title":"Java Period return wrong number of days between 2 dates","body":"<p>The parts of a Period are <em>additive</em>: The period between your two dates is 1 month <strong>and</strong> 1 day.</p>\n<hr />\n<p>To calculate the period of days between LocalDates, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#until-java.time.temporal.Temporal-java.time.temporal.TemporalUnit-\" rel=\"nofollow noreferrer\"><code>until()</code></a>:</p>\n<pre><code>long daysBetween = from.until(to, ChronoUnit.DAYS);\n</code></pre>\n<p>or the convenience method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\">between()</a>:</p>\n<pre><code>long daysBetween = ChronoUnit.DAYS.between(from, to);\n</code></pre>\n"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77447525,"answer_count":1,"score":0,"last_activity_date":1699496500,"creation_date":1699462466,"question_id":77447502,"body_markdown":"i have the following code to calculate the difference of days between 2 days `01/09/2023 and 02/10/2023` the excpected result is 31 days but the code return 1 days.\r\n\r\n    LocalDate from = LocalDate.of(2023, 9, 1);\r\n    LocalDate to = LocalDate.of(2023, 10, 02);\r\n\r\n    Period period = Period.between(from, to);\r\n\r\n    System.out.print(period.getYears() + &quot; years,&quot;);\r\n    System.out.print(period.getMonths() + &quot; months,&quot;);\r\n    System.out.print(period.getDays() + &quot; days&quot;);\r\n\r\noutput :\r\n\r\n    0 years,1 months,1 days\r\ncan anyone tell me what&#39;s the wrong with my code","title":"Java Period return wrong number of days between 2 dates","body":"<p>i have the following code to calculate the difference of days between 2 days <code>01/09/2023 and 02/10/2023</code> the excpected result is 31 days but the code return 1 days.</p>\n<pre><code>LocalDate from = LocalDate.of(2023, 9, 1);\nLocalDate to = LocalDate.of(2023, 10, 02);\n\nPeriod period = Period.between(from, to);\n\nSystem.out.print(period.getYears() + &quot; years,&quot;);\nSystem.out.print(period.getMonths() + &quot; months,&quot;);\nSystem.out.print(period.getDays() + &quot; days&quot;);\n</code></pre>\n<p>output :</p>\n<pre><code>0 years,1 months,1 days\n</code></pre>\n<p>can anyone tell me what's the wrong with my code</p>\n"},{"tags":["java","hibernate","reactive-programming","reactive","hibernate-reactive"],"answers":[{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699495389,"creation_date":1699495389,"answer_id":77450015,"question_id":77448787,"body_markdown":"Have you tried creating getters and setters for those private fields? \r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; 1.3.2. Getters and setters When using Hibernate Reactive outside the Quarkus environment, you’ll need to write your entity classes\r\n&gt; according to the usual JPA conventions, which require:\r\n&gt; \r\n&gt; private fields for persistent attributes, and\r\n&gt; \r\n&gt; a nullary constructor.\r\n\r\n\r\n  [1]: https://hibernate.org/reactive/documentation/2.0/reference/html_single/","title":"How to persist with hibernate-reactive and complex id?","body":"<p>Have you tried creating getters and setters for those private fields?</p>\n<p>From the <a href=\"https://hibernate.org/reactive/documentation/2.0/reference/html_single/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>1.3.2. Getters and setters When using Hibernate Reactive outside the Quarkus environment, you’ll need to write your entity classes\naccording to the usual JPA conventions, which require:</p>\n<p>private fields for persistent attributes, and</p>\n<p>a nullary constructor.</p>\n</blockquote>\n"}],"owner":{"account_id":28426803,"reputation":15,"user_id":21748054,"display_name":"MiKa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699495389,"creation_date":1699475591,"question_id":77448787,"body_markdown":"i have an error when i want to persist with Hibernate-reactive (hibernate-reactive-core 2.0.6.Final) &amp; spring-boot &amp; java17.\r\n\r\nMy entity :\r\n```java\r\nimport jakarta.persistence.*;\r\nimport lombok.*;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Table(name = &quot;MY_TABLE&quot;)\r\n@Entity\r\n@IdClass(MyTableId.class)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class MyTableEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;CODE_1&quot;)\r\n    private String code1;\r\n\r\n    @Column(name = &quot;NUM&quot;)\r\n    private Long num;\r\n\r\n    @Id\r\n    @Column(name = &quot;CODE_2&quot;)\r\n    private String code2;\r\n\r\n    @Id\r\n    @Column(name = &quot;DATE&quot;)\r\n    private LocalDateTime date;\r\n}\r\n```\r\n\r\nThe class ID : \r\n```java\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class MyTableId implements Serializable {\r\n    private String code1;\r\n    private String code2;\r\n    private LocalDateTime date;\r\n}\r\n```\r\nMy repository :\r\n\r\n```java\r\n@Repository\r\n@AllArgsConstructor\r\npublic class MyTableRepository {\r\n\r\n    private Stage.SessionFactory sessionFactory;\r\n\r\n    public Mono&lt;Void&gt; save(MyTableEntity myTableEntity) {\r\n        return Mono.fromCompletionStage(\r\n                sessionFactory.withSession(\r\n                    session -&gt; session.persist(myTableEntity)\r\n                ));\r\n    }\r\n\r\n// ... others methods to find in MyTable\r\n```\r\n\r\nBut i have an error when i call session.persist : \r\n&gt; java.util.concurrent.CompletableFuture@68e22cdc[Completed exceptionally: java.util.concurrent.CompletionException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.String myPackage.MyTableEntity.code2] by reflection for persistent property [myPackageEntity#code2] : MyTableEntity(code1=CODE_1, num=3, code2=ABCD1234, date=2023-11-08T21:21:39.835527200\r\n... ... ... ... ...\r\ncaused by: java.lang.IllegalArgumentException: Can not set java.lang.String field myPackage.MyTableEntity.code2 to myPackage.MyTableEntity\r\n\tat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n\r\nFor information, I have two others methods who find the entity and they work ... For example :\r\n```java\r\npublic Mono&lt;MyTableEntity&gt; findBlablabla(String code1) {\r\n        return Mono.fromCompletionStage(\r\n                sessionFactory.withSession(\r\n                        session -&gt;\r\n                                session\r\n                                        .createQuery(&quot;&quot;&quot;\r\n                                                        SELECT m from MyTableEntity m\r\n                                                        WHERE c.code1 like :code1\r\n                                                        ORDER BY c.date DESC\r\n                                                        LIMIT 1\r\n                                                        &quot;&quot;&quot;\r\n                                                , MyTableEntity.class)\r\n                                        .setParameter(&quot;code1&quot;, code1)\r\n                                        .getSingleResultOrNull()\r\n                )\r\n        );\r\n    }\r\n```\r\nAny idea ? Thanks.","title":"How to persist with hibernate-reactive and complex id?","body":"<p>i have an error when i want to persist with Hibernate-reactive (hibernate-reactive-core 2.0.6.Final) &amp; spring-boot &amp; java17.</p>\n<p>My entity :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\nimport lombok.*;\n\nimport java.time.LocalDateTime;\n\n@Table(name = &quot;MY_TABLE&quot;)\n@Entity\n@IdClass(MyTableId.class)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MyTableEntity {\n\n    @Id\n    @Column(name = &quot;CODE_1&quot;)\n    private String code1;\n\n    @Column(name = &quot;NUM&quot;)\n    private Long num;\n\n    @Id\n    @Column(name = &quot;CODE_2&quot;)\n    private String code2;\n\n    @Id\n    @Column(name = &quot;DATE&quot;)\n    private LocalDateTime date;\n}\n</code></pre>\n<p>The class ID :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class MyTableId implements Serializable {\n    private String code1;\n    private String code2;\n    private LocalDateTime date;\n}\n</code></pre>\n<p>My repository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\n@AllArgsConstructor\npublic class MyTableRepository {\n\n    private Stage.SessionFactory sessionFactory;\n\n    public Mono&lt;Void&gt; save(MyTableEntity myTableEntity) {\n        return Mono.fromCompletionStage(\n                sessionFactory.withSession(\n                    session -&gt; session.persist(myTableEntity)\n                ));\n    }\n\n// ... others methods to find in MyTable\n</code></pre>\n<p>But i have an error when i call session.persist :</p>\n<blockquote>\n<p>java.util.concurrent.CompletableFuture@68e22cdc[Completed exceptionally: java.util.concurrent.CompletionException: org.hibernate.HibernateException: java.util.concurrent.CompletionException: org.hibernate.property.access.spi.PropertyAccessException: Error accessing field [private java.lang.String myPackage.MyTableEntity.code2] by reflection for persistent property [myPackageEntity#code2] : MyTableEntity(code1=CODE_1, num=3, code2=ABCD1234, date=2023-11-08T21:21:39.835527200\n... ... ... ... ...\ncaused by: java.lang.IllegalArgumentException: Can not set java.lang.String field myPackage.MyTableEntity.code2 to myPackage.MyTableEntity\nat java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)</p>\n</blockquote>\n<p>For information, I have two others methods who find the entity and they work ... For example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;MyTableEntity&gt; findBlablabla(String code1) {\n        return Mono.fromCompletionStage(\n                sessionFactory.withSession(\n                        session -&gt;\n                                session\n                                        .createQuery(&quot;&quot;&quot;\n                                                        SELECT m from MyTableEntity m\n                                                        WHERE c.code1 like :code1\n                                                        ORDER BY c.date DESC\n                                                        LIMIT 1\n                                                        &quot;&quot;&quot;\n                                                , MyTableEntity.class)\n                                        .setParameter(&quot;code1&quot;, code1)\n                                        .getSingleResultOrNull()\n                )\n        );\n    }\n</code></pre>\n<p>Any idea ? Thanks.</p>\n"},{"tags":["java","google-chrome","selenium","selenium-chromedriver","serenity-bdd"],"comments":[{"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"score":0,"creation_date":1490970626,"post_id":43143014,"comment_id":73363679,"body_markdown":"About the &quot;controlled by automation&quot; text pop up: is there an issue it&#39;s causing? I was messing with the chrome driver the other day and it didn&#39;t show up screenshots, etc, and wasn&#39;t causing any element interaction issues.","body":"About the &quot;controlled by automation&quot; text pop up: is there an issue it&#39;s causing? I was messing with the chrome driver the other day and it didn&#39;t show up screenshots, etc, and wasn&#39;t causing any element interaction issues."},{"owner":{"account_id":9438736,"reputation":423,"user_id":7019951,"display_name":"BobbyB"},"score":0,"creation_date":1490973134,"post_id":43143014,"comment_id":73365503,"body_markdown":"No not really, i have some components under that pop up that wont be shown in screenshots when they are clicked. thats why :)","body":"No not really, i have some components under that pop up that wont be shown in screenshots when they are clicked. thats why :)"},{"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"score":0,"creation_date":1490974007,"post_id":43143014,"comment_id":73366103,"body_markdown":"Is this able to navigate URL and interact elements ?","body":"Is this able to navigate URL and interact elements ?"},{"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"score":0,"creation_date":1490982185,"post_id":43143014,"comment_id":73370769,"body_markdown":"@BobbyB did you try taking the screenshot and seeing if they were covered? Like I stated, I didn&#39;t see the popup in the screenshots I took the other day.","body":"@BobbyB did you try taking the screenshot and seeing if they were covered? Like I stated, I didn&#39;t see the popup in the screenshots I took the other day."}],"answers":[{"tags":[],"owner":{"account_id":10502709,"reputation":1303,"user_id":7740956,"display_name":"Anuj Teotia"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1576259314,"creation_date":1490976270,"answer_id":43145088,"question_id":43143014,"body_markdown":"Previously, passing the &quot;disable-infobars” ChromeOption to the WebDriver prevented Chrome from displaying this notification. Recently, the &quot;disable-infobars&quot; option has been deprecated and no longer removes the notification. The current workaround for this is to pass in an option called &quot;excludeSwitches&quot; and then exclude the &quot;enable_automation&quot; switch.\r\n\r\n    ChromeOptions options = new ChromeOptions(); \r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;}); \r\n    WebDriver driver = new ChromeDriver(options); \r\n","title":"Chrome is being controlled by automated test software","body":"<p>Previously, passing the \"disable-infobars” ChromeOption to the WebDriver prevented Chrome from displaying this notification. Recently, the \"disable-infobars\" option has been deprecated and no longer removes the notification. The current workaround for this is to pass in an option called \"excludeSwitches\" and then exclude the \"enable_automation\" switch.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions(); \noptions.setExperimentalOption(\"excludeSwitches\", new String[]{\"enable-automation\"}); \nWebDriver driver = new ChromeDriver(options); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2303244,"reputation":1851,"user_id":2023074,"display_name":"jgode"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1490984153,"creation_date":1490984153,"answer_id":43147194,"question_id":43143014,"body_markdown":"Add this to the options you pass to the driver:\r\n\r\n\toptions.addArguments(&quot;disable-infobars&quot;);\r\n","title":"Chrome is being controlled by automated test software","body":"<p>Add this to the options you pass to the driver:</p>\n\n<pre><code>options.addArguments(\"disable-infobars\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8435489,"reputation":11,"user_id":6329786,"display_name":"Sasank Sarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491460194,"creation_date":1491460194,"answer_id":43247380,"question_id":43143014,"body_markdown":"    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    //To Turns off multiple download warning\r\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n    \r\n    prefs.put( &quot;profile.content_settings.pattern_pairs.*.multiple-automatic-downloads&quot;, 1 );\r\n    \t\t\t\t\t\r\n    //Turns off download prompt\r\n    prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n    \t\t\t\t\tprefs.put(&quot;credentials_enable_service&quot;, false);\r\n    //To Stop Save password propmts\r\n    prefs.put(&quot;password_manager_enabled&quot;, false);\r\n    \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;chrome.switches&quot;,&quot;--disable-extensions&quot;);\r\n    //To Disable any browser notifications\r\n    options.addArguments(&quot;--disable-notifications&quot;);\r\n    //To disable yellow strip info bar which prompts info messages\r\n    options.addArguments(&quot;disable-infobars&quot;);\r\n    \r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Chromedriver path&quot;);\r\n    options.addArguments(&quot;--test-type&quot;);\r\n    driver = new ChromeDriver(options);\r\n    Log.info(&quot;Chrome browser started&quot;);","title":"Chrome is being controlled by automated test software","body":"<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n//To Turns off multiple download warning\nprefs.put(\"profile.default_content_settings.popups\", 0);\n\nprefs.put( \"profile.content_settings.pattern_pairs.*.multiple-automatic-downloads\", 1 );\n\n//Turns off download prompt\nprefs.put(\"download.prompt_for_download\", false);\n                    prefs.put(\"credentials_enable_service\", false);\n//To Stop Save password propmts\nprefs.put(\"password_manager_enabled\", false);\n\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"chrome.switches\",\"--disable-extensions\");\n//To Disable any browser notifications\noptions.addArguments(\"--disable-notifications\");\n//To disable yellow strip info bar which prompts info messages\noptions.addArguments(\"disable-infobars\");\n\noptions.setExperimentalOption(\"prefs\", prefs);\nSystem.setProperty(\"webdriver.chrome.driver\", \"Chromedriver path\");\noptions.addArguments(\"--test-type\");\ndriver = new ChromeDriver(options);\nLog.info(\"Chrome browser started\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3029527,"reputation":7159,"user_id":2568849,"accept_rate":79,"display_name":"Mesut GUNES"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1491471438,"creation_date":1491471438,"answer_id":43251314,"question_id":43143014,"body_markdown":"May someone needs this for Capybara, Watir should be like this:\r\n\r\n    Capybara.register_driver :chrome do |app|\r\n      $driver = Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; [ &quot;--disable-infobars&quot; ]})\r\n    end\r\n","title":"Chrome is being controlled by automated test software","body":"<p>May someone needs this for Capybara, Watir should be like this:</p>\n\n<pre><code>Capybara.register_driver :chrome do |app|\n  $driver = Capybara::Selenium::Driver.new(app, {:browser =&gt; :chrome, :args =&gt; [ \"--disable-infobars\" ]})\nend\n</code></pre>\n"},{"tags":[],"owner":{"account_id":531975,"reputation":314,"user_id":903184,"accept_rate":100,"display_name":"PDD"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1495155637,"creation_date":1495155637,"answer_id":44059870,"question_id":43143014,"body_markdown":"If anyone is using **Rails 5.1+**, which changed the testing structure a bit and Capybara is configured in this file now for system tests:\r\n\r\n    application_system_test_case.rb\r\n\r\nYou can add **&quot;args&quot;** in the options for **driven_by** like this:\r\n\r\n    driven_by :selenium, using: :chrome, screen_size: [1400, 1400], options: { args: [&quot;--disable-infobars&quot;] }","title":"Chrome is being controlled by automated test software","body":"<p>If anyone is using <strong>Rails 5.1+</strong>, which changed the testing structure a bit and Capybara is configured in this file now for system tests:</p>\n\n<pre><code>application_system_test_case.rb\n</code></pre>\n\n<p>You can add <strong>\"args\"</strong> in the options for <strong>driven_by</strong> like this:</p>\n\n<pre><code>driven_by :selenium, using: :chrome, screen_size: [1400, 1400], options: { args: [\"--disable-infobars\"] }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11521381,"reputation":1,"user_id":8443050,"display_name":"Tree Go"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551360431,"creation_date":1502337258,"answer_id":45604167,"question_id":43143014,"body_markdown":"It works for me by using **addArguments(array(&quot;disable-infobars&quot;))**\r\n\r\nThis is for **facebook/php-webdriver**\r\n\r\n    $options = new ChromeOptions();\r\n    $options-&gt;addArguments(array(&quot;disable-infobars&quot;));\r\n    $capabilities = DesiredCapabilities::chrome();\r\n    $capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\r\n    $this-&gt;driver = RemoteWebDriver::create(&#39;http://localhost:4444/wd/hub&#39;, $capabilities);\r\n\r\n","title":"Chrome is being controlled by automated test software","body":"<p>It works for me by using <strong>addArguments(array(\"disable-infobars\"))</strong></p>\n\n<p>This is for <strong>facebook/php-webdriver</strong></p>\n\n<pre><code>$options = new ChromeOptions();\n$options-&gt;addArguments(array(\"disable-infobars\"));\n$capabilities = DesiredCapabilities::chrome();\n$capabilities-&gt;setCapability(ChromeOptions::CAPABILITY, $options);\n$this-&gt;driver = RemoteWebDriver::create('http://localhost:4444/wd/hub', $capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1530022,"reputation":179,"user_id":1427426,"display_name":"cwnewhouse"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510702778,"creation_date":1510678735,"answer_id":47291296,"question_id":43143014,"body_markdown":"While the `disable-infobars` route will work, it will likely suppress the infobar in all cases (as suggested [here][1]), not just the case that the OP is referring to. This is overkill at best, and could lead to unexpected and inexplicable behavior in the future if you are not getting some important message.\r\n\r\nI think it&#39;s better to leverage the provided [`enable-automation`][2] switch by ***disabling it*** in the [`excludeSwitches`][3] area of your config/setup while doing nothing with regards to `disable-inforbars`. The `enable-automation` switch&#39;s description:\r\n&gt; Inform users that their browser is being controlled by an automated test.\r\n\r\nFor `nightwatch.conf.js` it would look something like this (and worked for me):\r\n\r\n    desiredCapabilities: {\r\n      ...\r\n      chromeOptions: {\r\n        excludeSwitches: [&#39;enable-automation&#39;],\r\n        ...\r\n      }\r\n    }\r\n\r\n This should only do what we are after: getting rid of that specific pesky message!\r\n\r\n**Edit [2017-11-14]**: This is now causing an even more annoying `Disable Developer Mode Extensions` alert/warning. I&#39;ve tried every relevant-looking flag/switch I could find that might help, but to no avail. I&#39;ve filed a bug with Chromium, so we&#39;ll see and I&#39;ll try to swing back through here if I get a resolution.\r\n\r\n  [1]: https://sqa.stackexchange.com/a/26262/29072\r\n  [2]: https://peter.sh/experiments/chromium-command-line-switches/#enable-automation\r\n  [3]: https://sites.google.com/a/chromium.org/chromedriver/capabilities\r\n","title":"Chrome is being controlled by automated test software","body":"<p>While the <code>disable-infobars</code> route will work, it will likely suppress the infobar in all cases (as suggested <a href=\"https://sqa.stackexchange.com/a/26262/29072\">here</a>), not just the case that the OP is referring to. This is overkill at best, and could lead to unexpected and inexplicable behavior in the future if you are not getting some important message.</p>\n\n<p>I think it's better to leverage the provided <a href=\"https://peter.sh/experiments/chromium-command-line-switches/#enable-automation\" rel=\"nofollow noreferrer\"><code>enable-automation</code></a> switch by <strong><em>disabling it</em></strong> in the <a href=\"https://sites.google.com/a/chromium.org/chromedriver/capabilities\" rel=\"nofollow noreferrer\"><code>excludeSwitches</code></a> area of your config/setup while doing nothing with regards to <code>disable-inforbars</code>. The <code>enable-automation</code> switch's description:</p>\n\n<blockquote>\n  <p>Inform users that their browser is being controlled by an automated test.</p>\n</blockquote>\n\n<p>For <code>nightwatch.conf.js</code> it would look something like this (and worked for me):</p>\n\n<pre><code>desiredCapabilities: {\n  ...\n  chromeOptions: {\n    excludeSwitches: ['enable-automation'],\n    ...\n  }\n}\n</code></pre>\n\n<p>This should only do what we are after: getting rid of that specific pesky message!</p>\n\n<p><strong>Edit [2017-11-14]</strong>: This is now causing an even more annoying <code>Disable Developer Mode Extensions</code> alert/warning. I've tried every relevant-looking flag/switch I could find that might help, but to no avail. I've filed a bug with Chromium, so we'll see and I'll try to swing back through here if I get a resolution.</p>\n"},{"tags":[],"owner":{"account_id":5892098,"reputation":1045,"user_id":4638372,"accept_rate":86,"display_name":"MatthewThomas.dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517163107,"creation_date":1517163107,"answer_id":48489721,"question_id":43143014,"body_markdown":"**Protractor solution:**\r\n\r\nI arrived here searching for a **Protractor** solution, if useful for anyone I found, with help from the above answers; with Protractor you can add Chrome specific options to the chromeOptions object, within the capabilities object in the protractor.config file, for example to use the disable-infobars option discussed above use the following:\r\n\r\n    capabilities: {\r\n      &#39;browserName&#39;: &#39;chrome&#39;,\r\n      &#39;chromeOptions&#39;: {\r\n        &#39;args&#39;: [&#39;disable-infobars&#39;]\r\n      }\r\n    },\r\n\r\nTo use the enable-automation also discussed above:\r\n\r\n    capabilities: {\r\n      &#39;browserName&#39;: &#39;chrome&#39;,\r\n      &#39;chromeOptions&#39;: {\r\n        &#39;excludeSwitches&#39;: [&#39;enable-automation&#39;]\r\n      }\r\n    }\r\n\r\ndisable-infobars is preferred in my circumstances.","title":"Chrome is being controlled by automated test software","body":"<p><strong>Protractor solution:</strong></p>\n\n<p>I arrived here searching for a <strong>Protractor</strong> solution, if useful for anyone I found, with help from the above answers; with Protractor you can add Chrome specific options to the chromeOptions object, within the capabilities object in the protractor.config file, for example to use the disable-infobars option discussed above use the following:</p>\n\n<pre><code>capabilities: {\n  'browserName': 'chrome',\n  'chromeOptions': {\n    'args': ['disable-infobars']\n  }\n},\n</code></pre>\n\n<p>To use the enable-automation also discussed above:</p>\n\n<pre><code>capabilities: {\n  'browserName': 'chrome',\n  'chromeOptions': {\n    'excludeSwitches': ['enable-automation']\n  }\n}\n</code></pre>\n\n<p>disable-infobars is preferred in my circumstances.</p>\n"},{"tags":[],"owner":{"account_id":13533484,"reputation":39,"user_id":9763287,"display_name":"Rishi12"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530782996,"creation_date":1530782996,"answer_id":51187878,"question_id":43143014,"body_markdown":"    public WebDriver SetupChromeDriver(){\r\n    \t\t//Initialize Chrome Driver\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\tprefs.put(&quot;safebrowsing.enabled&quot;, &quot;true&quot;); \r\n    \t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n    \t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n    \t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\toptions.addArguments(&quot;disable-infobars&quot;);\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:/Importent Softwares/Chrome Driver/chromedriver_2.37.exe&quot;);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\treturn driver;\r\n    }","title":"Chrome is being controlled by automated test software","body":"<pre><code>public WebDriver SetupChromeDriver(){\n        //Initialize Chrome Driver\n        ChromeOptions options = new ChromeOptions();\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n        prefs.put(\"safebrowsing.enabled\", \"true\"); \n        options.setExperimentalOption(\"prefs\", prefs); \n        options.addArguments(\"--disable-notifications\");\n        options.addArguments(\"--start-maximized\");\n        options.addArguments(\"disable-infobars\");\n        System.setProperty(\"webdriver.chrome.driver\", \"E:/Importent Softwares/Chrome Driver/chromedriver_2.37.exe\");\n        driver = new ChromeDriver(options);\n        return driver;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13096471,"reputation":89,"user_id":9462260,"display_name":"Rajeev"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1565692203,"creation_date":1565689681,"answer_id":57475171,"question_id":43143014,"body_markdown":"    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \r\n    WebDriver driver = new ChromeDriver(options);\r\n\r\nUse the above codes for latest Chrome drivers.","title":"Chrome is being controlled by automated test software","body":"<pre><code>ChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(\"useAutomationExtension\", false);\noptions.setExperimentalOption(\"excludeSwitches\",Collections.singletonList(\"enable-automation\"));    \nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Use the above codes for latest Chrome drivers.</p>\n"},{"tags":[],"owner":{"account_id":12547071,"reputation":706,"user_id":9129979,"display_name":"JM217"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1584355818,"creation_date":1567575296,"answer_id":57782058,"question_id":43143014,"body_markdown":"&quot;disable-info&quot; switch is not supported anymore for the latest chromedrivers. (at least 76.0).&lt;br&gt;\r\n@Rajeev&#39;s answer works and here I write the counterpart for C#.\r\n```\r\nChromeOptions chromeOptions = new ChromeOptions();\r\nchromeOptions.AddAdditionalCapability(&quot;useAutomationExtension&quot;, false);\r\nchromeOptions.AddExcludedArgument(&quot;enable-automation&quot;);\r\nDriver = new ChromeDriver(chromeOptions);\r\n```\r\n","title":"Chrome is being controlled by automated test software","body":"<p>\"disable-info\" switch is not supported anymore for the latest chromedrivers. (at least 76.0).<br>\n@Rajeev's answer works and here I write the counterpart for C#.</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.AddAdditionalCapability(\"useAutomationExtension\", false);\nchromeOptions.AddExcludedArgument(\"enable-automation\");\nDriver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5087593,"reputation":3,"user_id":4081637,"display_name":"JexAce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568204105,"creation_date":1568204105,"answer_id":57888922,"question_id":43143014,"body_markdown":"You may use this \r\n\r\n    options1.add_argument(&quot;--app=https://www.google.com.ph&quot;)","title":"Chrome is being controlled by automated test software","body":"<p>You may use this </p>\n\n<pre><code>options1.add_argument(\"--app=https://www.google.com.ph\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5053439,"reputation":1026,"user_id":4057328,"display_name":"Sodium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573470146,"creation_date":1573470146,"answer_id":58800089,"question_id":43143014,"body_markdown":"&quot;disable-infobars&quot; flag has been deprecated, but you can avoid this message by adding the following:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));    \r\n    WebDriver driver = new ChromeDriver(chromeOptions);","title":"Chrome is being controlled by automated test software","body":"<p>\"disable-infobars\" flag has been deprecated, but you can avoid this message by adding the following:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setExperimentalOption(\"useAutomationExtension\", false);\nchromeOptions.setExperimentalOption(\"excludeSwitches\",Collections.singletonList(\"enable-automation\"));    \nWebDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17812728,"reputation":61,"user_id":12936934,"display_name":"Mika Berglund"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1610899313,"creation_date":1610899313,"answer_id":65762853,"question_id":43143014,"body_markdown":"Tried many of these suggested solutions, but none of them worked. OK, my code is in C#, so there might be some differences in the WebDriver implementations for different platforms.\r\n\r\nAnyway, the solution that I got working was using the following options for Chrome when running on .NET.\r\n\r\n``` C#\r\nvar options = new ChromeOptions();\r\noptions.AddExcludedArguments(&quot;enable-automation&quot;);\r\n```\r\n\r\nOn .NET there doesn&#39;t seem to be any `setExperimentalOption()` method on the `ChromeOptions` class.","title":"Chrome is being controlled by automated test software","body":"<p>Tried many of these suggested solutions, but none of them worked. OK, my code is in C#, so there might be some differences in the WebDriver implementations for different platforms.</p>\n<p>Anyway, the solution that I got working was using the following options for Chrome when running on .NET.</p>\n<pre><code>var options = new ChromeOptions();\noptions.AddExcludedArguments(&quot;enable-automation&quot;);\n</code></pre>\n<p>On .NET there doesn't seem to be any <code>setExperimentalOption()</code> method on the <code>ChromeOptions</code> class.</p>\n"},{"tags":[],"owner":{"account_id":6781289,"reputation":89,"user_id":5223342,"display_name":"Lo&#239;c Joachim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617853578,"creation_date":1617853578,"answer_id":66997061,"question_id":43143014,"body_markdown":"It took a lot of fiddling but eventually I found a combination of flags that **works in 2021!** \r\n\r\nThis tells Chrome to ignore all SSL errors, disables the &quot;*Chrome is being controlled by automated test software*&quot; message and starts in full screen. \r\nAdd it to the Target field of your shortcut:\r\n\r\n    &quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot; --ignore-certificate-errors --test-type=webdriver --start-fullscreen","title":"Chrome is being controlled by automated test software","body":"<p>It took a lot of fiddling but eventually I found a combination of flags that <strong>works in 2021!</strong></p>\n<p>This tells Chrome to ignore all SSL errors, disables the &quot;<em>Chrome is being controlled by automated test software</em>&quot; message and starts in full screen.\nAdd it to the Target field of your shortcut:</p>\n<pre><code>&quot;C:\\Program Files\\Google\\Chrome\\Application\\chrome.exe&quot; --ignore-certificate-errors --test-type=webdriver --start-fullscreen\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8980539,"reputation":49,"user_id":6695921,"accept_rate":0,"display_name":"Ashu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623862782,"creation_date":1623862425,"answer_id":68007044,"question_id":43143014,"body_markdown":"It works for me, with this code I am able to disable **Chrome is being controlled by automated test software** as well as the **Save password popup**`\r\n\r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;credentials_enable_service&quot;, false);\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\r\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n \r\n    WebDriver driver = new ChromeDriver(options)","title":"Chrome is being controlled by automated test software","body":"<p>It works for me, with this code I am able to disable <strong>Chrome is being controlled by automated test software</strong> as well as the <strong>Save password popup</strong>`</p>\n<pre><code>    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;credentials_enable_service&quot;, false);\n\nChromeOptions options = new ChromeOptions();\noptions.setExperimentalOption(&quot;excludeSwitches&quot;,Collections.singletonList(&quot;enable-automation&quot;));\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n\nWebDriver driver = new ChromeDriver(options)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22072486,"reputation":81,"user_id":16333335,"display_name":"Prottoy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1699493764,"creation_date":1645735174,"answer_id":71257995,"question_id":43143014,"body_markdown":"**Works on 2022**\r\n\r\n**remove Chrome is being controlled by automated test software in python**\r\n\r\n```python\r\nfrom selenium.webdriver.chrome.webdriver import WebDriver\r\nfrom selenium.webdriver.chrome.options import Options\r\n\r\nchromeOptions = webdriver.ChromeOptions()\r\nchromeOptions.add_experimental_option(&quot;excludeSwitches&quot;, [&#39;enable-automation&#39;]);\r\nURL = &quot;https://google.com/&quot;\r\ndriver.get(URL)\r\n```","title":"Chrome is being controlled by automated test software","body":"<p><strong>Works on 2022</strong></p>\n<p><strong>remove Chrome is being controlled by automated test software in python</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>from selenium.webdriver.chrome.webdriver import WebDriver\nfrom selenium.webdriver.chrome.options import Options\n\nchromeOptions = webdriver.ChromeOptions()\nchromeOptions.add_experimental_option(&quot;excludeSwitches&quot;, ['enable-automation']);\nURL = &quot;https://google.com/&quot;\ndriver.get(URL)\n</code></pre>\n"}],"owner":{"account_id":9438736,"reputation":423,"user_id":7019951,"display_name":"BobbyB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123446,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":17,"score":41,"last_activity_date":1699493764,"creation_date":1490970025,"question_id":43143014,"body_markdown":"I am running automated tests in Chrome with Serenity BDD (Selenium).\r\n\r\nI had to download a new ChromeDriver, because my tests could not run -&gt; The test would open ChromeDriver but could not &quot;Browse as user&quot;. When I googled the issue, they said I had to update ChromeDriver.\r\n\r\nSo I updated ChromeDriver to version 2.28 and I also updated the Chrome version to Version 57.0.2987.98.\r\n\r\nBut now - EVERY TIME I run my tests this annoying text comes up:\r\n\r\n&gt; Chrome is being controlled by automated test software\r\n\r\nAnd it asks me if I want to save password. (I can&#39;t add pictures because I don&#39;t have enough &quot;points&quot;)\r\n\r\nIn the previous version, I had managed to block these 2 things by:\r\n\r\n    public class CustomChromeDriver implements DriverSource {\r\n    \r\n        @Override\r\n        public WebDriver newDriver() {\r\n            try {\r\n                DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n                Proxy proxy = new Proxy();\r\n                String proxyServer = String.format(&quot;AProxyIDontWantToDisplay&quot;, System.getenv(&quot;proxy.username&quot;), System.getenv(&quot;proxy.password&quot;));\r\n                proxy.setHttpProxy(proxyServer);\r\n                capabilities.setCapability(&quot;proxy&quot;, proxy);\r\n                ChromeOptions options = new ChromeOptions();\r\n                options.addArguments(Arrays.asList(&quot;--no-sandbox&quot;,&quot;--ignore-certificate-errors&quot;,&quot;--homepage=about:blank&quot;,&quot;--no-first-run&quot;));\r\n                capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n                ChromeDriver driver = new ChromeDriver(capabilities);\r\n                return driver;\r\n            } catch (Exception e) {\r\n                throw new Error(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public boolean takesScreenshots() {\r\n            return true;\r\n        }\r\n    }\r\n\r\nI know there is this one ([A link to same issue][1]),\r\nbut there are too many answers that don&#39;t work. \r\n\r\nAnybody that knows how to remove that?\r\n\r\n\r\n  [1]: https://sqa.stackexchange.com/questions/26051/chrome-driver-2-28-chrome-is-being-controlled-by-automated-test-software-notif","title":"Chrome is being controlled by automated test software","body":"<p>I am running automated tests in Chrome with Serenity BDD (Selenium).</p>\n\n<p>I had to download a new ChromeDriver, because my tests could not run -> The test would open ChromeDriver but could not \"Browse as user\". When I googled the issue, they said I had to update ChromeDriver.</p>\n\n<p>So I updated ChromeDriver to version 2.28 and I also updated the Chrome version to Version 57.0.2987.98.</p>\n\n<p>But now - EVERY TIME I run my tests this annoying text comes up:</p>\n\n<blockquote>\n  <p>Chrome is being controlled by automated test software</p>\n</blockquote>\n\n<p>And it asks me if I want to save password. (I can't add pictures because I don't have enough \"points\")</p>\n\n<p>In the previous version, I had managed to block these 2 things by:</p>\n\n<pre><code>public class CustomChromeDriver implements DriverSource {\n\n    @Override\n    public WebDriver newDriver() {\n        try {\n            DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n            Proxy proxy = new Proxy();\n            String proxyServer = String.format(\"AProxyIDontWantToDisplay\", System.getenv(\"proxy.username\"), System.getenv(\"proxy.password\"));\n            proxy.setHttpProxy(proxyServer);\n            capabilities.setCapability(\"proxy\", proxy);\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(Arrays.asList(\"--no-sandbox\",\"--ignore-certificate-errors\",\"--homepage=about:blank\",\"--no-first-run\"));\n            capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n            ChromeDriver driver = new ChromeDriver(capabilities);\n            return driver;\n        } catch (Exception e) {\n            throw new Error(e);\n        }\n    }\n\n    @Override\n    public boolean takesScreenshots() {\n        return true;\n    }\n}\n</code></pre>\n\n<p>I know there is this one (<a href=\"https://sqa.stackexchange.com/questions/26051/chrome-driver-2-28-chrome-is-being-controlled-by-automated-test-software-notif\">A link to same issue</a>),\nbut there are too many answers that don't work. </p>\n\n<p>Anybody that knows how to remove that?</p>\n"},{"tags":["java","generics","type-erasure","raw-types"],"comments":[{"owner":{"account_id":6651855,"reputation":224820,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1699431104,"post_id":77443781,"comment_id":136529041,"body_markdown":"What do you mean by &quot;Why&quot;? What kind of answer are you looking for? See https://stackoverflow.com/q/11007723/5133585 for a quote in the Java Language Specification that specifies this behaviour, if that&#39;s what you want.","body":"What do you mean by &quot;Why&quot;? What kind of answer are you looking for? See <a href=\"https://stackoverflow.com/q/11007723/5133585\">stackoverflow.com/q/11007723/5133585</a> for a quote in the Java Language Specification that specifies this behaviour, if that&#39;s what you want."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699444677,"post_id":77443781,"comment_id":136531491,"body_markdown":"The `List&lt;String&gt;` is not “erased to `List&lt;Object&gt;`”, as that wouldn’t be erasure but an incompatible type change. The `List&lt;String&gt;` is erased to `List`.","body":"The <code>List&lt;String&gt;</code> is not “erased to <code>List&lt;Object&gt;</code>”, as that wouldn’t be erasure but an incompatible type change. The <code>List&lt;String&gt;</code> is erased to <code>List</code>."},{"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"score":0,"creation_date":1699494055,"post_id":77443781,"comment_id":136540305,"body_markdown":"@Sweeper, @Holger, thanks for reply. I just don&#39;t understand why the type `List&lt;String&gt;` of `stringList` is erased, why it&#39;s designed in this way.  I think when `MyTemplate` is used as a raw type, it just means the formal type `T` is not specified. But the type of `stringList` is definitely `List&lt;String&gt;`, it doesn&#39;t depend on `T`.","body":"@Sweeper, @Holger, thanks for reply. I just don&#39;t understand why the type <code>List&lt;String&gt;</code> of <code>stringList</code> is erased, why it&#39;s designed in this way.  I think when <code>MyTemplate</code> is used as a raw type, it just means the formal type <code>T</code> is not specified. But the type of <code>stringList</code> is definitely <code>List&lt;String&gt;</code>, it doesn&#39;t depend on <code>T</code>."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699627378,"post_id":77443781,"comment_id":136559400,"body_markdown":"The declared type of `stringList`, `List&lt;String&gt;`, does not depend on `T` but that doesn’t matter when you access this member through the raw type `MyTemplate`. All members of the raw type will have a raw type, regardless of whether their type depends on the owner’s type parameters. A well known example is [`&lt;T&gt; T[] toArray(T[] a)`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D)) applied on a raw `Collection`. Its type parameter `T` does not depend on the collection’s `E`, still, calling on a raw `Collection` yields a raw `Object[]`.","body":"The declared type of <code>stringList</code>, <code>List&lt;String&gt;</code>, does not depend on <code>T</code> but that doesn’t matter when you access this member through the raw type <code>MyTemplate</code>. All members of the raw type will have a raw type, regardless of whether their type depends on the owner’s type parameters. A well known example is <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Collection.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; T[] toArray(T[] a)</code></a> applied on a raw <code>Collection</code>. Its type parameter <code>T</code> does not depend on the collection’s <code>E</code>, still, calling on a raw <code>Collection</code> yields a raw <code>Object[]</code>."},{"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"score":0,"creation_date":1699630088,"post_id":77443781,"comment_id":136560007,"body_markdown":"Holger - All right, obviously I was in a wrong cognition, thank you for educating me.","body":"Holger - All right, obviously I was in a wrong cognition, thank you for educating me."}],"owner":{"account_id":2684553,"reputation":716,"user_id":2319206,"accept_rate":50,"display_name":"Fengtao Ding"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699431403,"answer_count":0,"score":0,"last_activity_date":1699493582,"creation_date":1699430770,"question_id":77443781,"body_markdown":"Given below example:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MyTemplate&lt;T&gt; {\r\n\r\n    T parameterizedObj;\r\n    List&lt;String&gt; stringList;\r\n\r\n    public static void main(String[] args) {\r\n        String a = new MyTemplate().getStringList().get(0);\r\n    }\r\n\r\n    public List&lt;String&gt; getStringList() {\r\n        if (stringList == null) {\r\n            stringList = new ArrayList&lt;&gt;();\r\n            stringList.add(&quot;Hello&quot;);\r\n        }\r\n        return stringList;\r\n    }\r\n}\r\n```\r\nBelow error is given when compiling\r\n```\r\n/home/***/test/src/main/java/MyTemplate.java:10:56\r\njava: incompatible types: java.lang.Object cannot be converted to java.lang.String\r\n```\r\nWhen MyTemplate is used as a raw type in this form `new MyTemplate()` in line 10.\r\n\r\nI can understand the type of `T parameterizedObj` is erased to Object.\r\n\r\nBut I can&#39;t understand why `List&lt;String&gt; stringList` is erased to `List`. Since it has been concretized as `List&lt;String&gt;`. Why?\r\n\r\nI read the document [Raw Types][1] and [Type Erasure][2], but don&#39;t find an answer, I think they&#39;re talking about the use case of `T parameterizedObj`, not `List&lt;String&gt; stringList`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/erasure.html","title":"Why java raw type erase types of concretized members","body":"<p>Given below example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class MyTemplate&lt;T&gt; {\n\n    T parameterizedObj;\n    List&lt;String&gt; stringList;\n\n    public static void main(String[] args) {\n        String a = new MyTemplate().getStringList().get(0);\n    }\n\n    public List&lt;String&gt; getStringList() {\n        if (stringList == null) {\n            stringList = new ArrayList&lt;&gt;();\n            stringList.add(&quot;Hello&quot;);\n        }\n        return stringList;\n    }\n}\n</code></pre>\n<p>Below error is given when compiling</p>\n<pre><code>/home/***/test/src/main/java/MyTemplate.java:10:56\njava: incompatible types: java.lang.Object cannot be converted to java.lang.String\n</code></pre>\n<p>When MyTemplate is used as a raw type in this form <code>new MyTemplate()</code> in line 10.</p>\n<p>I can understand the type of <code>T parameterizedObj</code> is erased to Object.</p>\n<p>But I can't understand why <code>List&lt;String&gt; stringList</code> is erased to <code>List</code>. Since it has been concretized as <code>List&lt;String&gt;</code>. Why?</p>\n<p>I read the document <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">Raw Types</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Type Erasure</a>, but don't find an answer, I think they're talking about the use case of <code>T parameterizedObj</code>, not <code>List&lt;String&gt; stringList</code></p>\n"},{"tags":["java","oracle","hibernate","ojdbc","oracle18c"],"answers":[{"tags":[],"owner":{"account_id":16800883,"reputation":570,"user_id":14404460,"display_name":"devnull"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603938919,"creation_date":1603938919,"answer_id":64584148,"question_id":64581066,"body_markdown":"Can you please try to use \r\n\r\n    hibernate.globally_quoted_identifiers=false\r\n\r\nand ensure that DDL creating table does not use quotes i.e.\r\n\r\n    Create table &quot;ormtester.ADRESSES&quot; (\r\n        id  number(19) .......\r\n      .....\r\n       primary key (Id) .....\r\n      );","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>Can you please try to use</p>\n<pre><code>hibernate.globally_quoted_identifiers=false\n</code></pre>\n<p>and ensure that DDL creating table does not use quotes i.e.</p>\n<pre><code>Create table &quot;ormtester.ADRESSES&quot; (\n    id  number(19) .......\n  .....\n   primary key (Id) .....\n  );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19859222,"reputation":26,"user_id":14547915,"display_name":"dagru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1604049519,"creation_date":1604049519,"answer_id":64605597,"question_id":64581066,"body_markdown":"I had the same issue. My fault was a wrong hibernate dialect in persistence.xml.\r\nI changed it from org.hibernate.dialect.SQLServerDialect to **org.hibernate.dialect.Oracle12cDialect**\r\n\r\nIt may help you.","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I had the same issue. My fault was a wrong hibernate dialect in persistence.xml.\nI changed it from org.hibernate.dialect.SQLServerDialect to <strong>org.hibernate.dialect.Oracle12cDialect</strong></p>\n<p>It may help you.</p>\n"},{"tags":[],"owner":{"account_id":25136070,"reputation":1,"user_id":18982829,"display_name":"Th&#224;nh Thủy Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699493316,"creation_date":1699493316,"answer_id":77449909,"question_id":64581066,"body_markdown":"I changed it from hibernate entity manager 5.0.0. Final to 5.6.15. Final and it is fixed\r\n","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I changed it from hibernate entity manager 5.0.0. Final to 5.6.15. Final and it is fixed</p>\n"}],"owner":{"account_id":13897366,"reputation":31,"user_id":10033845,"display_name":"Marcin Sobolewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3497,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":64605597,"answer_count":3,"score":-1,"last_activity_date":1699493316,"creation_date":1603918115,"question_id":64581066,"body_markdown":"I have a problem with application made with Java 8, Spring 5, Hibernate 5.4.8 and Oracle 18c database. \r\n\r\nSpeaking about fundamental database config, I&#39;m using the `oracle.jdbc.OracleDriver` driver class and `org.hibernate.dialect.Oracle12cDialect` dialect along with the `ojdbc8 v.18.3.0.0` \r\n\r\nI&#39;m trying to insert an entity presented below: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n(and *BaseEntity* class):\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs I mentioned in the title of the question and at the beginnning - I have a problem when I&#39;m trying to insert *Address* entity. The error I&#39;m receiving is ORA-17132 invalid conversion requested.\r\n\r\nTo be clear, full error code is: `SQL Error: 17132, SQLState: 99999` and the stack trace is:\r\n\r\n        2020-10-28 21:30:59.951 DEBUG 4988 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not insert: [com.ormtester.datasources.domain.Address] [insert into ormtester.ADDRESSES (CITY, HOME_NUMBER, POSTAL_CODE, STREET) values (?, ?, ?, ?)]\r\n    \r\n    java.sql.SQLException: Zażądano niepoprawnej konwersji\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:781)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.getNUMBER(T4CVarcharAccessor.java:251)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.getLong(T4CVarcharAccessor.java:549)\r\n    \tat oracle.jdbc.driver.GeneratedStatement.getLong(GeneratedStatement.java:206)\r\n    \tat oracle.jdbc.driver.GeneratedScrollableResultSet.getLong(GeneratedScrollableResultSet.java:259)\r\n    \tat org.hibernate.id.IdentifierGeneratorHelper.get(IdentifierGeneratorHelper.java:120)\r\n    \tat org.hibernate.id.IdentifierGeneratorHelper.getGeneratedIdentity(IdentifierGeneratorHelper.java:77)\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:61)\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3106)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3699)\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:335)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:198)\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:128)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:702)\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:688)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\r\n    \tat com.sun.proxy.$Proxy107.persist(Unknown Source)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554)\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:588)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371)\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat com.sun.proxy.$Proxy113.saveAll(Unknown Source)\r\n    \tat com.ormtester.datasources.loader.DataLoader.loadAddresses(DataLoader.java:126)\r\n    \tat com.ormtester.datasources.loader.DataLoader.loadDataIntoSchema(DataLoader.java:93)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:772)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n    \tat com.ormtester.datasources.loader.DataLoader$$EnhancerBySpringCGLIB$$75d765cd.loadDataIntoSchema(&lt;generated&gt;)\r\n    \tat com.ormtester.datasources.loader.SchemaLoader.loadData(SchemaLoader.java:27)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.regenerateSchema(BaseTestableService.java:34)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.invoke(BaseTestableService.java:45)\r\n    \tat com.ormtester.datasources.base.BaseTestableService.fireTest(BaseTestableService.java:66)\r\n    \tat com.ormtester.standaloneapp.service.PrecedentTestingService.doTests(PrecedentTestingService.java:39)\r\n    \tat com.ormtester.standaloneapp.ws.TestingController.doTests(TestingController.java:25)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.NumberFormatException: null\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:497)\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:383)\r\n    \tat java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:809)\r\n    \tat oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:776)\r\n    \t... 118 common frames omitted\r\nSpeaking about generated query, in my jdbc log I can see that the values are binded properly to the insert statement, everything looks fine. Whole database has been created from Hibernate&#39;s hbm2ddl tool based on the same entity, the ADDRESSES table (binded with entity) is looking as below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe interesting fact is that when I&#39;m trying to execute the same insert statement (mentioned before, took from the JDBC&#39;s logs) straightly on the database, everything works fine. I have also tried changing versions of the `ojdbc8` from 12.x even to the newest 19.3.0.0 and the problem is still present and still the same. \r\n\r\nI have a strange feeling that Hibernate and/or ojdbc have some troubles with this kind of identity generation (but Oracle18c gives us the choice between autogeneration and sequences) but I cannot figure out , what causes the issue and how to resolve it. \r\n\r\nMaybe someone is able to help me with it? \r\n\r\nI will be really grateful for every help!\r\n\r\n  [1]: https://i.stack.imgur.com/SHKsr.png\r\n  [2]: https://i.stack.imgur.com/GHIic.png\r\n  [3]: https://i.stack.imgur.com/5EUzA.png","title":"ORA-17132 Invalid conversion requested during inserting an entity","body":"<p>I have a problem with application made with Java 8, Spring 5, Hibernate 5.4.8 and Oracle 18c database.</p>\n<p>Speaking about fundamental database config, I'm using the <code>oracle.jdbc.OracleDriver</code> driver class and <code>org.hibernate.dialect.Oracle12cDialect</code> dialect along with the <code>ojdbc8 v.18.3.0.0</code></p>\n<p>I'm trying to insert an entity presented below:</p>\n<p><a href=\"https://i.stack.imgur.com/SHKsr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SHKsr.png\" alt=\"enter image description here\" /></a></p>\n<p>(and <em>BaseEntity</em> class):</p>\n<p><a href=\"https://i.stack.imgur.com/GHIic.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHIic.png\" alt=\"enter image description here\" /></a></p>\n<p>As I mentioned in the title of the question and at the beginnning - I have a problem when I'm trying to insert <em>Address</em> entity. The error I'm receiving is ORA-17132 invalid conversion requested.</p>\n<p>To be clear, full error code is: <code>SQL Error: 17132, SQLState: 99999</code> and the stack trace is:</p>\n<pre><code>    2020-10-28 21:30:59.951 DEBUG 4988 --- [nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : could not insert: [com.ormtester.datasources.domain.Address] [insert into ormtester.ADDRESSES (CITY, HOME_NUMBER, POSTAL_CODE, STREET) values (?, ?, ?, ?)]\n\njava.sql.SQLException: Zażądano niepoprawnej konwersji\n    at oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:781)\n    at oracle.jdbc.driver.T4CVarcharAccessor.getNUMBER(T4CVarcharAccessor.java:251)\n    at oracle.jdbc.driver.T4CVarcharAccessor.getLong(T4CVarcharAccessor.java:549)\n    at oracle.jdbc.driver.GeneratedStatement.getLong(GeneratedStatement.java:206)\n    at oracle.jdbc.driver.GeneratedScrollableResultSet.getLong(GeneratedScrollableResultSet.java:259)\n    at org.hibernate.id.IdentifierGeneratorHelper.get(IdentifierGeneratorHelper.java:120)\n    at org.hibernate.id.IdentifierGeneratorHelper.getGeneratedIdentity(IdentifierGeneratorHelper.java:77)\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:61)\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3106)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3699)\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:335)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:292)\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:198)\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:128)\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:192)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:135)\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:62)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:108)\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:702)\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:688)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:314)\n    at com.sun.proxy.$Proxy107.persist(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:554)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:588)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy113.saveAll(Unknown Source)\n    at com.ormtester.datasources.loader.DataLoader.loadAddresses(DataLoader.java:126)\n    at com.ormtester.datasources.loader.DataLoader.loadDataIntoSchema(DataLoader.java:93)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:772)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n    at com.ormtester.datasources.loader.DataLoader$$EnhancerBySpringCGLIB$$75d765cd.loadDataIntoSchema(&lt;generated&gt;)\n    at com.ormtester.datasources.loader.SchemaLoader.loadData(SchemaLoader.java:27)\n    at com.ormtester.datasources.base.BaseTestableService.regenerateSchema(BaseTestableService.java:34)\n    at com.ormtester.datasources.base.BaseTestableService.invoke(BaseTestableService.java:45)\n    at com.ormtester.datasources.base.BaseTestableService.fireTest(BaseTestableService.java:66)\n    at com.ormtester.standaloneapp.service.PrecedentTestingService.doTests(PrecedentTestingService.java:39)\n    at com.ormtester.standaloneapp.ws.TestingController.doTests(TestingController.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NumberFormatException: null\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:497)\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:383)\n    at java.math.BigDecimal.&lt;init&gt;(BigDecimal.java:809)\n    at oracle.jdbc.driver.T4CVarcharAccessor.StringToNUMBER(T4CVarcharAccessor.java:776)\n    ... 118 common frames omitted\n</code></pre>\n<p>Speaking about generated query, in my jdbc log I can see that the values are binded properly to the insert statement, everything looks fine. Whole database has been created from Hibernate's hbm2ddl tool based on the same entity, the ADDRESSES table (binded with entity) is looking as below:</p>\n<p><a href=\"https://i.stack.imgur.com/5EUzA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5EUzA.png\" alt=\"enter image description here\" /></a></p>\n<p>The interesting fact is that when I'm trying to execute the same insert statement (mentioned before, took from the JDBC's logs) straightly on the database, everything works fine. I have also tried changing versions of the <code>ojdbc8</code> from 12.x even to the newest 19.3.0.0 and the problem is still present and still the same.</p>\n<p>I have a strange feeling that Hibernate and/or ojdbc have some troubles with this kind of identity generation (but Oracle18c gives us the choice between autogeneration and sequences) but I cannot figure out , what causes the issue and how to resolve it.</p>\n<p>Maybe someone is able to help me with it?</p>\n<p>I will be really grateful for every help!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4918962,"reputation":3446,"user_id":3962091,"accept_rate":71,"display_name":"NoChinDeluxe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456168964,"creation_date":1456168964,"answer_id":35562088,"question_id":35562024,"body_markdown":"This means that your View `myButton1` did not exist and so your line `View view = findViewById(R.id.myButton1);` returned `null`. Make sure you actually have a Button or some other view with the id `myButton1` assigned in your layout xml file.","title":"setLayoutParams on a null object reference","body":"<p>This means that your View <code>myButton1</code> did not exist and so your line <code>View view = findViewById(R.id.myButton1);</code> returned <code>null</code>. Make sure you actually have a Button or some other view with the id <code>myButton1</code> assigned in your layout xml file.</p>\n"}],"owner":{"account_id":5115041,"reputation":131,"user_id":4100486,"accept_rate":0,"display_name":"Zixing Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1699494007,"answer_count":1,"score":0,"last_activity_date":1699491990,"creation_date":1456168774,"question_id":35562024,"body_markdown":"I learn a very simple animation sample from Book &quot;Android Studio Development edition 6, Essentials&quot; Chapter 29&quot; and get an error as shown on logcat file:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setLayoutParams(android.view.ViewGroup$LayoutParams)&#39; on a null object reference.\r\n\r\nMy sample codes that are compiled successfully as shown below:\r\n\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.Toast;\r\n    \r\n    public class TransitionDemoActivity extends AppCompatActivity {\r\n        ViewGroup myLayout;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_transition_demo);\r\n    \r\n            myLayout=(ViewGroup)findViewById(R.id.myLayout);\r\n            myLayout.setOnTouchListener(\r\n                    new RelativeLayout.OnTouchListener() {\r\n                        public boolean onTouch(View v, MotionEvent m) {\r\n    \r\n                            handleTouch();\r\n                              return true;\r\n                        }\r\n                    });\r\n    \r\n        }\r\n        public void handleTouch() {\r\n            Toast.makeText(this,&quot;Touching&quot;,Toast.LENGTH_LONG).show();//for listener test\r\n    \r\n           View view = findViewById(R.id.myButton1);\r\n    \r\n            RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams\r\n                    (RelativeLayout.LayoutParams.WRAP_CONTENT,\r\n                    RelativeLayout.LayoutParams.WRAP_CONTENT);\r\n    \r\n           params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT,\r\n                    RelativeLayout.TRUE);\r\n            params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,\r\n                    RelativeLayout.TRUE);\r\n    \r\n           **view.setLayoutParams(params);**\r\n    \r\n            ViewGroup.LayoutParams lparams = view.getLayoutParams();\r\n    \r\n            lparams.width = 500;\r\n            lparams.height = 350;\r\n            view.setLayoutParams(lparams);\r\n        }\r\n    }\r\nI trace the code line to find the error code location on &quot;view.setLayoutParams(params), but I just can&#39;t resolve this issue. Anyone can help me.\r\nThanks","title":"setLayoutParams on a null object reference","body":"<p>I learn a very simple animation sample from Book \"Android Studio Development edition 6, Essentials\" Chapter 29\" and get an error as shown on logcat file:</p>\n\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setLayoutParams(android.view.ViewGroup$LayoutParams)' on a null object reference.</p>\n\n<p>My sample codes that are compiled successfully as shown below:</p>\n\n<pre><code>import android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.RelativeLayout;\nimport android.widget.Toast;\n\npublic class TransitionDemoActivity extends AppCompatActivity {\n    ViewGroup myLayout;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_transition_demo);\n\n        myLayout=(ViewGroup)findViewById(R.id.myLayout);\n        myLayout.setOnTouchListener(\n                new RelativeLayout.OnTouchListener() {\n                    public boolean onTouch(View v, MotionEvent m) {\n\n                        handleTouch();\n                          return true;\n                    }\n                });\n\n    }\n    public void handleTouch() {\n        Toast.makeText(this,\"Touching\",Toast.LENGTH_LONG).show();//for listener test\n\n       View view = findViewById(R.id.myButton1);\n\n        RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams\n                (RelativeLayout.LayoutParams.WRAP_CONTENT,\n                RelativeLayout.LayoutParams.WRAP_CONTENT);\n\n       params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT,\n                RelativeLayout.TRUE);\n        params.addRule(RelativeLayout.ALIGN_PARENT_BOTTOM,\n                RelativeLayout.TRUE);\n\n       **view.setLayoutParams(params);**\n\n        ViewGroup.LayoutParams lparams = view.getLayoutParams();\n\n        lparams.width = 500;\n        lparams.height = 350;\n        view.setLayoutParams(lparams);\n    }\n}\n</code></pre>\n\n<p>I trace the code line to find the error code location on \"view.setLayoutParams(params), but I just can't resolve this issue. Anyone can help me.\nThanks</p>\n"},{"tags":["java","string","newline","line-breaks"],"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":0,"creation_date":1264780087,"post_id":2163045,"comment_id":2107360,"body_markdown":"Do you want to eliminate all line breaks? Or you want to uniformize them to a standard solution?","body":"Do you want to eliminate all line breaks? Or you want to uniformize them to a standard solution?"},{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":4,"creation_date":1264780164,"post_id":2163045,"comment_id":2107376,"body_markdown":"Oh, if you want to delete all linefeeds, remove all \\n AND all \\r (because Windows linebreak is \\r\\n).","body":"Oh, if you want to delete all linefeeds, remove all \\n AND all \\r (because Windows linebreak is \\r\\n)."},{"owner":{"account_id":3578723,"reputation":843,"user_id":2987410,"display_name":"Sourav Chandra"},"score":1,"creation_date":1474292669,"post_id":2163045,"comment_id":66459237,"body_markdown":"Hey, FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use\n\n `myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)`\n\nOr replace with a single space\n\n  `myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)`","body":"Hey, FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use   <code>myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)</code>  Or replace with a single space    <code>myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":1,"up_vote_count":517,"is_accepted":true,"score":516,"last_activity_date":1344297570,"creation_date":1264780038,"answer_id":2163056,"question_id":2163045,"body_markdown":"You need to set `text` to the results of `text.replace()`:\r\n\r\n    String text = readFileAsString(&quot;textfile.txt&quot;);\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;).replace(&quot;\\r&quot;, &quot;&quot;);\r\n\r\nThis is necessary because Strings are immutable -- calling `replace` doesn&#39;t change the original String, it returns a new one that&#39;s been changed.  If you don&#39;t assign the result to `text`, then that new String is lost and garbage collected.\r\n\r\nAs for getting the newline String for any environment -- that is available by calling `System.getProperty(&quot;line.separator&quot;)`.","title":"How to remove line breaks from a file in Java?","body":"<p>You need to set <code>text</code> to the results of <code>text.replace()</code>:</p>\n\n<pre><code>String text = readFileAsString(\"textfile.txt\");\ntext = text.replace(\"\\n\", \"\").replace(\"\\r\", \"\");\n</code></pre>\n\n<p>This is necessary because Strings are immutable -- calling <code>replace</code> doesn't change the original String, it returns a new one that's been changed.  If you don't assign the result to <code>text</code>, then that new String is lost and garbage collected.</p>\n\n<p>As for getting the newline String for any environment -- that is available by calling <code>System.getProperty(\"line.separator\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":80592,"reputation":26519,"user_id":227803,"display_name":"Viktor Klang"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1264780562,"creation_date":1264780166,"answer_id":2163074,"question_id":2163045,"body_markdown":"    String text = readFileAsString(&quot;textfile.txt&quot;).replace(&quot;\\n&quot;,&quot;&quot;);\r\n\r\n.replace returns a new string, strings in Java are Immutable.","title":"How to remove line breaks from a file in Java?","body":"<pre><code>String text = readFileAsString(\"textfile.txt\").replace(\"\\n\",\"\");\n</code></pre>\n\n<p>.replace returns a new string, strings in Java are Immutable.</p>\n"},{"tags":[],"owner":{"account_id":21334,"reputation":11095,"user_id":51760,"display_name":"Aif"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1264780183,"creation_date":1264780183,"answer_id":2163078,"question_id":2163045,"body_markdown":"Linebreaks are not the same under windows/linux/mac. You should use [System.getProperties][1] with the attribute line.separator.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()","title":"How to remove line breaks from a file in Java?","body":"<p>Linebreaks are not the same under windows/linux/mac. You should use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"noreferrer\">System.getProperties</a> with the attribute line.separator.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1426678527,"creation_date":1264780340,"answer_id":2163104,"question_id":2163045,"body_markdown":"If you want to remove only line terminators that are valid on the current OS, you could do this:\r\n\r\n    text = text.replaceAll(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\r\n\r\nIf you want to make sure you remove any line separators, you can do it like this:\r\n\r\n    text = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\r\nOr, slightly more verbose, but less regexy:\r\n\r\n    text = text.replaceAll(&quot;\\\\r&quot;, &quot;&quot;).replaceAll(&quot;\\\\n&quot;, &quot;&quot;);","title":"How to remove line breaks from a file in Java?","body":"<p>If you want to remove only line terminators that are valid on the current OS, you could do this:</p>\n\n<pre><code>text = text.replaceAll(System.getProperty(\"line.separator\"), \"\");\n</code></pre>\n\n<p>If you want to make sure you remove any line separators, you can do it like this:</p>\n\n<pre><code>text = text.replaceAll(\"\\\\r|\\\\n\", \"\");\n</code></pre>\n\n<p>Or, slightly more verbose, but less regexy:</p>\n\n<pre><code>text = text.replaceAll(\"\\\\r\", \"\").replaceAll(\"\\\\n\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":272,"is_accepted":false,"score":272,"last_activity_date":1606313064,"creation_date":1264781272,"answer_id":2163204,"question_id":2163045,"body_markdown":"As noted in other answers, your code is not working *primarily* because `String.replace(...)` does not change the target `String`.  (It can&#39;t - Java strings are immutable!)  What `replace` actually does is to create and return  a new `String` object with the characters changed as required.  But your code then throws away that `String` ...\r\n\r\n----------\r\n\r\nHere are some possible solutions.  Which one is most correct depends on what exactly you are trying to do.\r\n    \r\n    // #1\r\n    text = text.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nSimply removes all the newline characters.  This does not cope with Windows or Mac line terminations.\r\n\r\n    // #2\r\n    text = text.replace(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\r\n\r\nRemoves all line terminators for the current platform.  This does not cope with the case where you are trying to process (for example) a UNIX file on Windows, or vice versa.\r\n\r\n    // #3\r\n    text = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\r\n\r\nRemoves all Windows, UNIX or Mac line terminators.  However, if the input file is text, this will concatenate words; e.g.\r\n\r\n    Goodbye cruel\r\n    world.\r\n\r\nbecomes\r\n\r\n    Goodbye cruelworld.\r\n\r\nSo you might actually want to do this:\r\n\r\n    // #4\r\n    text = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\r\n\r\nwhich replaces each line terminator with a space&lt;sup&gt;1&lt;/sup&gt;.  Since Java 8 you can also do this:\r\n\r\n    // #5\r\n    text = text.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\r\n\r\nAnd if you want to replace multiple line terminator with one space:\r\n\r\n    // #6\r\n    text = text.replaceAll(&quot;\\\\R+&quot;, &quot; &quot;);\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - Note there is a subtle difference between #3 and #4.  The sequence `\\r\\n` represents a single (Windows) line terminator, so we need to be careful not to replace it with two spaces.&lt;/sup&gt;\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>As noted in other answers, your code is not working <em>primarily</em> because <code>String.replace(...)</code> does not change the target <code>String</code>.  (It can't - Java strings are immutable!)  What <code>replace</code> actually does is to create and return  a new <code>String</code> object with the characters changed as required.  But your code then throws away that <code>String</code> ...</p>\n<hr />\n<p>Here are some possible solutions.  Which one is most correct depends on what exactly you are trying to do.</p>\n<pre><code>// #1\ntext = text.replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Simply removes all the newline characters.  This does not cope with Windows or Mac line terminations.</p>\n<pre><code>// #2\ntext = text.replace(System.getProperty(&quot;line.separator&quot;), &quot;&quot;);\n</code></pre>\n<p>Removes all line terminators for the current platform.  This does not cope with the case where you are trying to process (for example) a UNIX file on Windows, or vice versa.</p>\n<pre><code>// #3\ntext = text.replaceAll(&quot;\\\\r|\\\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Removes all Windows, UNIX or Mac line terminators.  However, if the input file is text, this will concatenate words; e.g.</p>\n<pre><code>Goodbye cruel\nworld.\n</code></pre>\n<p>becomes</p>\n<pre><code>Goodbye cruelworld.\n</code></pre>\n<p>So you might actually want to do this:</p>\n<pre><code>// #4\ntext = text.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\n</code></pre>\n<p>which replaces each line terminator with a space<sup>1</sup>.  Since Java 8 you can also do this:</p>\n<pre><code>// #5\ntext = text.replaceAll(&quot;\\\\R&quot;, &quot; &quot;);\n</code></pre>\n<p>And if you want to replace multiple line terminator with one space:</p>\n<pre><code>// #6\ntext = text.replaceAll(&quot;\\\\R+&quot;, &quot; &quot;);\n</code></pre>\n<hr />\n<p><sup>1 - Note there is a subtle difference between #3 and #4.  The sequence <code>\\r\\n</code> represents a single (Windows) line terminator, so we need to be careful not to replace it with two spaces.</sup></p>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1264784246,"creation_date":1264784246,"answer_id":2163543,"question_id":2163045,"body_markdown":"You may want to read your file with a `BufferedReader`. This class can break input into individual lines, which you can assemble at will. The way `BufferedReader` operates recognizes line ending conventions of the Linux, Windows and MacOS worlds automatically, regardless of the current platform.\r\n\r\nHence:\r\n\r\n    BufferedReader br = new BufferedReader(\r\n        new InputStreamReader(&quot;textfile.txt&quot;));\r\n    StringBuilder sb = new StringBuilder();\r\n    for (;;) {\r\n        String line = br.readLine();\r\n        if (line == null)\r\n            break;\r\n        sb.append(line);\r\n        sb.append(&#39; &#39;);   // SEE BELOW\r\n    }\r\n    String text = sb.toString();\r\n\r\nNote that `readLine()` does not include the line terminator in the returned string. The code above appends a space to avoid gluing together the last word of a line and the first word of the next line.\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>You may want to read your file with a <code>BufferedReader</code>. This class can break input into individual lines, which you can assemble at will. The way <code>BufferedReader</code> operates recognizes line ending conventions of the Linux, Windows and MacOS worlds automatically, regardless of the current platform.</p>\n\n<p>Hence:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(\n    new InputStreamReader(\"textfile.txt\"));\nStringBuilder sb = new StringBuilder();\nfor (;;) {\n    String line = br.readLine();\n    if (line == null)\n        break;\n    sb.append(line);\n    sb.append(' ');   // SEE BELOW\n}\nString text = sb.toString();\n</code></pre>\n\n<p>Note that <code>readLine()</code> does not include the line terminator in the returned string. The code above appends a space to avoid gluing together the last word of a line and the first word of the next line.</p>\n"},{"tags":[],"owner":{"account_id":1798931,"reputation":41,"user_id":1637702,"display_name":"MukeshKoshyM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511278592,"creation_date":1346387254,"answer_id":12208919,"question_id":2163045,"body_markdown":"    String text = readFileAsString(&quot;textfile.txt&quot;).replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nEven though the definition of trim() in oracle website is \r\n&quot;Returns a copy of the string, with leading and trailing whitespace omitted.&quot;\r\n\r\nthe documentation omits to say that new line characters (leading and trailing) will also be removed.\r\n\r\nIn short\r\n`String text = readFileAsString(&quot;textfile.txt&quot;).trim();` will also work for you.\r\n (Checked with Java 6)","title":"How to remove line breaks from a file in Java?","body":"<pre><code>String text = readFileAsString(\"textfile.txt\").replaceAll(\"\\n\", \"\");\n</code></pre>\n\n<p>Even though the definition of trim() in oracle website is \n\"Returns a copy of the string, with leading and trailing whitespace omitted.\"</p>\n\n<p>the documentation omits to say that new line characters (leading and trailing) will also be removed.</p>\n\n<p>In short\n<code>String text = readFileAsString(\"textfile.txt\").trim();</code> will also work for you.\n (Checked with Java 6)</p>\n"},{"tags":[],"owner":{"account_id":2027195,"reputation":21,"user_id":1811866,"display_name":"seyf"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1352457630,"creation_date":1352456285,"answer_id":13306123,"question_id":2163045,"body_markdown":"Try doing this:\r\n\r\n\r\n     textValue= textValue.replaceAll(&quot;\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\t&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\t&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\r&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\r&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n     textValue= textValue.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;&quot;);","title":"How to remove line breaks from a file in Java?","body":"<p>Try doing this:</p>\n\n<pre><code> textValue= textValue.replaceAll(\"\\n\", \"\");\n textValue= textValue.replaceAll(\"\\t\", \"\");\n textValue= textValue.replaceAll(\"\\\\n\", \"\");\n textValue= textValue.replaceAll(\"\\\\t\", \"\");\n textValue= textValue.replaceAll(\"\\r\", \"\");\n textValue= textValue.replaceAll(\"\\\\r\", \"\");\n textValue= textValue.replaceAll(\"\\r\\n\", \"\");\n textValue= textValue.replaceAll(\"\\\\r\\\\n\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1577756,"reputation":446,"user_id":1463812,"display_name":"JSBach"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1572624776,"creation_date":1362849362,"answer_id":15313599,"question_id":2163045,"body_markdown":"This would be efficient I guess\r\n\r\n    String s;\r\n    s = &quot;try this\\n try me.&quot;;\r\n    s.replaceAll(&quot;[\\\\r\\\\n]+&quot;, &quot;&quot;)\r\n","title":"How to remove line breaks from a file in Java?","body":"<p>This would be efficient I guess</p>\n\n<pre><code>String s;\ns = \"try this\\n try me.\";\ns.replaceAll(\"[\\\\r\\\\n]+\", \"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4801205,"reputation":149,"user_id":3877798,"display_name":"Ren&#225;n D"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1406306337,"creation_date":1406306337,"answer_id":24960480,"question_id":2163045,"body_markdown":"    str = str.replaceAll(&quot;\\\\r\\\\n|\\\\r|\\\\n&quot;, &quot; &quot;);\r\n\r\nWorked perfectly for me after searching a lot, having failed with every other line.","title":"How to remove line breaks from a file in Java?","body":"<pre><code>str = str.replaceAll(\"\\\\r\\\\n|\\\\r|\\\\n\", \" \");\n</code></pre>\n\n<p>Worked perfectly for me after searching a lot, having failed with every other line.</p>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483474612,"creation_date":1453411341,"answer_id":34934604,"question_id":2163045,"body_markdown":"You can use apache commons IOUtils to iterate through the line and append each line to StringBuilder. And don&#39;t forget to close the InputStream \r\n\r\n \r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    FileInputStream fin=new FileInputStream(&quot;textfile.txt&quot;);\r\n    LineIterator lt=IOUtils.lineIterator(fin, &quot;utf-8&quot;);\r\n    while(lt.hasNext())\r\n    {\r\n      sb.append(lt.nextLine());\r\n    }\r\n    String text = sb.toString();\r\n    IOUtils.closeQuitely(fin);","title":"How to remove line breaks from a file in Java?","body":"<p>You can use apache commons IOUtils to iterate through the line and append each line to StringBuilder. And don't forget to close the InputStream </p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nFileInputStream fin=new FileInputStream(\"textfile.txt\");\nLineIterator lt=IOUtils.lineIterator(fin, \"utf-8\");\nwhile(lt.hasNext())\n{\n  sb.append(lt.nextLine());\n}\nString text = sb.toString();\nIOUtils.closeQuitely(fin);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1507404,"reputation":9607,"user_id":1410465,"accept_rate":87,"display_name":"svarog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467467112,"creation_date":1467467112,"answer_id":38160859,"question_id":2163045,"body_markdown":"I find it odd that (Apache) [StringUtils][1] wasn&#39;t covered here yet.\r\n\r\nyou can remove all newlines (or any other occurences of a substring for that matter) from a string using the `.replace` method\r\n\r\n    StringUtils.replace(myString, &quot;\\n&quot;, &quot;&quot;);\r\n\r\nThis line will replace all newlines with the empty string. \r\n\r\n\r\nbecause newline is technically a character you can optionally use the `.replaceChars` method that will replace characters\r\n\r\n    StringUtils.replaceChars(myString, &#39;\\n&#39;, &#39;&#39;);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to remove line breaks from a file in Java?","body":"<p>I find it odd that (Apache) <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow\">StringUtils</a> wasn't covered here yet.</p>\n\n<p>you can remove all newlines (or any other occurences of a substring for that matter) from a string using the <code>.replace</code> method</p>\n\n<pre><code>StringUtils.replace(myString, \"\\n\", \"\");\n</code></pre>\n\n<p>This line will replace all newlines with the empty string. </p>\n\n<p>because newline is technically a character you can optionally use the <code>.replaceChars</code> method that will replace characters</p>\n\n<pre><code>StringUtils.replaceChars(myString, '\\n', '');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3578723,"reputation":843,"user_id":2987410,"display_name":"Sourav Chandra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474292644,"creation_date":1474292644,"answer_id":39574738,"question_id":2163045,"body_markdown":"FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use\r\n\r\n    myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot;\\n&quot;)\r\n\r\nOr replace with a single space\r\n\r\n    myString.trim().replaceAll(&quot;[\\n]{2,}&quot;, &quot; &quot;)","title":"How to remove line breaks from a file in Java?","body":"<p>FYI if you can want to replace simultaneous muti-linebreaks with single line break then you can use</p>\n\n<pre><code>myString.trim().replaceAll(\"[\\n]{2,}\", \"\\n\")\n</code></pre>\n\n<p>Or replace with a single space</p>\n\n<pre><code>myString.trim().replaceAll(\"[\\n]{2,}\", \" \")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490936416,"creation_date":1490936416,"answer_id":43132785,"question_id":2163045,"body_markdown":"You can use generic methods to replace any char with any char.\r\n\r\n\tpublic static void removeWithAnyChar(String str, char replceChar,\r\n\t\t\tchar replaceWith) {\r\n\t\tchar chrs[] = str.toCharArray();\r\n\t\tint i = 0;\r\n\t\twhile (i &lt; chrs.length) {\r\n\r\n\t\t\tif (chrs[i] == replceChar) {\r\n\t\t\t\tchrs[i] = replaceWith;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to remove line breaks from a file in Java?","body":"<p>You can use generic methods to replace any char with any char.</p>\n\n<pre><code>public static void removeWithAnyChar(String str, char replceChar,\n        char replaceWith) {\n    char chrs[] = str.toCharArray();\n    int i = 0;\n    while (i &lt; chrs.length) {\n\n        if (chrs[i] == replceChar) {\n            chrs[i] = replaceWith;\n        }\n        i++;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6447090,"reputation":391,"user_id":4995291,"display_name":"David McWhorter"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1493419500,"creation_date":1493419112,"answer_id":43689791,"question_id":2163045,"body_markdown":"[This function][1] normalizes down all whitespace, including line breaks, to single spaces.  Not exactly what the original question asked for, but likely to do exactly what is needed in many cases:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    final String cleansedString = StringUtils.normalizeSpace(rawString);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-","title":"How to remove line breaks from a file in Java?","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#normalizeSpace-java.lang.String-\" rel=\"noreferrer\">This function</a> normalizes down all whitespace, including line breaks, to single spaces.  Not exactly what the original question asked for, but likely to do exactly what is needed in many cases:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\n\nfinal String cleansedString = StringUtils.normalizeSpace(rawString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526967775,"creation_date":1526967775,"answer_id":50460567,"question_id":2163045,"body_markdown":"org.apache.commons.lang.StringUtils#chopNewline","title":"How to remove line breaks from a file in Java?","body":"<p>org.apache.commons.lang.StringUtils#chopNewline</p>\n"},{"tags":[],"owner":{"account_id":245509,"reputation":3661,"user_id":519035,"display_name":"AbstractVoid"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1624990727,"creation_date":1624990727,"answer_id":68183822,"question_id":2163045,"body_markdown":"In Kotlin, and also since Java 11, `String` has `lines()` method, which returns list of lines in the multi-line string.\r\nYou can get all the lines and then merge them into a single string.\r\n\r\nWith Kotlin it will be as simple as\r\n\r\n    str.lines().joinToString(&quot;&quot;)","title":"How to remove line breaks from a file in Java?","body":"<p>In Kotlin, and also since Java 11, <code>String</code> has <code>lines()</code> method, which returns list of lines in the multi-line string.\nYou can get all the lines and then merge them into a single string.</p>\n<p>With Kotlin it will be as simple as</p>\n<pre><code>str.lines().joinToString(&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":93140,"reputation":5391,"user_id":254944,"accept_rate":88,"display_name":"tree-hacker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718864,"favorite_count":0,"down_vote_count":2,"up_vote_count":309,"accepted_answer_id":2163056,"answer_count":17,"score":307,"last_activity_date":1699490190,"creation_date":1264779891,"question_id":2163045,"body_markdown":"How can I replace all line breaks from a string in Java in such a way that will work on Windows and Linux (ie no OS specific problems of carriage return/line feed/new line etc.)?\r\n\r\nI&#39;ve tried (note readFileAsString is a function that reads a text file into a String):    \t\t\r\n\r\n    String text = readFileAsString(&quot;textfile.txt&quot;);\r\n    text.replace(&quot;\\n&quot;, &quot;&quot;);\r\n\r\nbut this doesn&#39;t seem to work.\r\n\r\nHow can this be done?","title":"How to remove line breaks from a file in Java?","body":"<p>How can I replace all line breaks from a string in Java in such a way that will work on Windows and Linux (ie no OS specific problems of carriage return/line feed/new line etc.)?</p>\n\n<p>I've tried (note readFileAsString is a function that reads a text file into a String):          </p>\n\n<pre><code>String text = readFileAsString(\"textfile.txt\");\ntext.replace(\"\\n\", \"\");\n</code></pre>\n\n<p>but this doesn't seem to work.</p>\n\n<p>How can this be done?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":1,"creation_date":1679957492,"post_id":75860721,"comment_id":133811082,"body_markdown":"Are you sure you would like to know about the top-most *object*? Python uses class-based OOP, not [prototype-based OOP](https://en.wikipedia.org/w/index.php?title=Prototype-based_programming&amp;oldid=1138055586).","body":"Are you sure you would like to know about the top-most <i>object</i>? Python uses class-based OOP, not <a href=\"https://en.wikipedia.org/w/index.php?title=Prototype-based_programming&amp;oldid=1138055586\" rel=\"nofollow noreferrer\">prototype-based OOP</a>."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1679958408,"post_id":75860721,"comment_id":133811201,"body_markdown":"What exactly do you mean by &quot;top most&quot;? Please also make sure you are clear about the distinction between objects and classes.","body":"What exactly do you mean by &quot;top most&quot;? Please also make sure you are clear about the distinction between objects and classes."},{"owner":{"account_id":6475833,"reputation":90574,"user_id":5014455,"display_name":"juanpa.arrivillaga"},"score":0,"creation_date":1679964578,"post_id":75860721,"comment_id":133812016,"body_markdown":"&quot;which is the top most object.&quot; you mean the *top most type or class*? In Java, it is `Object`, in Python, it is `object`","body":"&quot;which is the top most object.&quot; you mean the <i>top most type or class</i>? In Java, it is <code>Object</code>, in Python, it is <code>object</code>"}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699489368,"creation_date":1679954862,"answer_id":75860770,"question_id":75860721,"body_markdown":"The root of the object hierarchy is &#39;object&#39;:\r\n\r\n     class foo:\r\n        pass\r\n\r\nand\r\n\r\n     class foo(object):\r\n         pass\r\n\r\nmean the same thing in Python3.\r\n\r\nEmpirical evidence:\r\n\r\n    &gt;&gt;&gt; class C:\r\n    ...  pass\r\n    ...\r\n    &gt;&gt;&gt; C.__bases__\r\n    (&lt;class &#39;object&#39;&gt;,)\r\n    &gt;&gt;&gt;\r\n\r\nDocumentation:\r\n\r\n- [https://docs.python.org/3/library/functions.html#object](https://docs.python.org/3/library/functions.html#object)","title":"Since everything in an object in Python, which is the top most object?","body":"<p>The root of the object hierarchy is 'object':</p>\n<pre><code> class foo:\n    pass\n</code></pre>\n<p>and</p>\n<pre><code> class foo(object):\n     pass\n</code></pre>\n<p>mean the same thing in Python3.</p>\n<p>Empirical evidence:</p>\n<pre><code>&gt;&gt;&gt; class C:\n...  pass\n...\n&gt;&gt;&gt; C.__bases__\n(&lt;class 'object'&gt;,)\n&gt;&gt;&gt;\n</code></pre>\n<p>Documentation:</p>\n<ul>\n<li><a href=\"https://docs.python.org/3/library/functions.html#object\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#object</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16331926,"reputation":31,"user_id":11795020,"display_name":"Zhaoyu Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679957859,"creation_date":1679956318,"answer_id":75860918,"question_id":75860721,"body_markdown":"In Python, the topmost object is `object`. \r\n\r\n&gt; It is the base class for all other classes in Python. ([reference][1])\r\n\r\nThe concept of `object` and `class` are actually both `objects`, as stated [here][2]:\r\n\r\n&gt; Creating a new class creates a new type of object, allowing new\r\n&gt; instances of that type to be made.\r\n\r\nAll objects in Python, including integers, strings, and functions, inherit from `object`. \r\n\r\n---\r\n\r\nIn Java, the topmost object is `Object`. \r\n\r\n&gt; Class `Object` is the root of the class hierarchy. Every class has `Object` as a superclass. All objects, including arrays, implement the methods of this class. ([reference][3])\r\n\r\nHowever, unlike Python, primitive types like `int` and `boolean` are not objects in Java and do not inherit from `Object`.\r\n\r\n---\r\n\r\nThe object-oriented principles of Python and Java are similar in many ways, as both languages are object-oriented and share many concepts, such as encapsulation, inheritance, and polymorphism. They also have differences:\r\n\r\nFor example, Python supports multiple inheritance, where a subclass can inherit from multiple base classes:\r\n\r\n&gt; the class inheritance mechanism allows multiple base classes ([reference][2])\r\n\r\nwhile Java only supports single inheritance, where a subclass can inherit from only one base class:\r\n\r\n&gt; Each class except Object is an extension of (that is, a subclass of) a single existing class and may implement interfaces. ([reference][4])\r\n\r\nAnd there are many more different implementations of them.\r\n\r\nI suggest you do more reading on [Java][5] and [Python][6] offical documents to understand these concepts. The documents are explained with examples, which can better answer your question.\r\n\r\n\r\n  [1]: https://docs.python.org/3/library/functions.html#object\r\n  [2]: https://docs.python.org/3/tutorial/classes.html#classes\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.4\r\n  [5]: https://docs.oracle.com/en/java/\r\n  [6]: https://www.python.org/doc/","title":"Since everything in an object in Python, which is the top most object?","body":"<p>In Python, the topmost object is <code>object</code>.</p>\n<blockquote>\n<p>It is the base class for all other classes in Python. (<a href=\"https://docs.python.org/3/library/functions.html#object\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>The concept of <code>object</code> and <code>class</code> are actually both <code>objects</code>, as stated <a href=\"https://docs.python.org/3/tutorial/classes.html#classes\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>Creating a new class creates a new type of object, allowing new\ninstances of that type to be made.</p>\n</blockquote>\n<p>All objects in Python, including integers, strings, and functions, inherit from <code>object</code>.</p>\n<hr />\n<p>In Java, the topmost object is <code>Object</code>.</p>\n<blockquote>\n<p>Class <code>Object</code> is the root of the class hierarchy. Every class has <code>Object</code> as a superclass. All objects, including arrays, implement the methods of this class. (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>However, unlike Python, primitive types like <code>int</code> and <code>boolean</code> are not objects in Java and do not inherit from <code>Object</code>.</p>\n<hr />\n<p>The object-oriented principles of Python and Java are similar in many ways, as both languages are object-oriented and share many concepts, such as encapsulation, inheritance, and polymorphism. They also have differences:</p>\n<p>For example, Python supports multiple inheritance, where a subclass can inherit from multiple base classes:</p>\n<blockquote>\n<p>the class inheritance mechanism allows multiple base classes (<a href=\"https://docs.python.org/3/tutorial/classes.html#classes\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>while Java only supports single inheritance, where a subclass can inherit from only one base class:</p>\n<blockquote>\n<p>Each class except Object is an extension of (that is, a subclass of) a single existing class and may implement interfaces. (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.4\" rel=\"nofollow noreferrer\">reference</a>)</p>\n</blockquote>\n<p>And there are many more different implementations of them.</p>\n<p>I suggest you do more reading on <a href=\"https://docs.oracle.com/en/java/\" rel=\"nofollow noreferrer\">Java</a> and <a href=\"https://www.python.org/doc/\" rel=\"nofollow noreferrer\">Python</a> offical documents to understand these concepts. The documents are explained with examples, which can better answer your question.</p>\n"}],"owner":{"account_id":3731894,"reputation":712,"user_id":3103957,"display_name":"user3103957"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1680000016,"answer_count":2,"score":0,"last_activity_date":1699489368,"creation_date":1679954386,"question_id":75860721,"body_markdown":"In Python, it is said that everything is an object. Could someone please help me which is the top most object. \r\n\r\nDo we have any such thing Java? Java does have a parent class called &quot;Object&quot; from which all other classes are inheriting. Not everything is an object in Java.\r\n\r\nIs the OO principle w.r.t the above, different between Python and Java?\r\n","title":"Since everything in an object in Python, which is the top most object?","body":"<p>In Python, it is said that everything is an object. Could someone please help me which is the top most object.</p>\n<p>Do we have any such thing Java? Java does have a parent class called &quot;Object&quot; from which all other classes are inheriting. Not everything is an object in Java.</p>\n<p>Is the OO principle w.r.t the above, different between Python and Java?</p>\n"},{"tags":["java","linux","spring-boot","memory","jvm"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1604007764,"post_id":64593968,"comment_id":114224290,"body_markdown":"it seems that your problem is that a GC (I assume you use `G1GC`) does not release memory back to the OS... in such a case you might benefit from [this](https://openjdk.java.net/jeps/346), but only since java-12, or switch to a GC that can do that. may be more details can be found [here](https://stackoverflow.com/questions/61506136/kubernetes-pod-memory-java-gc-logs/61512521#61512521) - it talks about docker, but touches the general idea of releasing memory","body":"it seems that your problem is that a GC (I assume you use <code>G1GC</code>) does not release memory back to the OS... in such a case you might benefit from <a href=\"https://openjdk.java.net/jeps/346\" rel=\"nofollow noreferrer\">this</a>, but only since java-12, or switch to a GC that can do that. may be more details can be found <a href=\"https://stackoverflow.com/questions/61506136/kubernetes-pod-memory-java-gc-logs/61512521#61512521\">here</a> - it talks about docker, but touches the general idea of releasing memory"}],"answers":[{"tags":[],"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604094260,"creation_date":1604094260,"answer_id":64616158,"question_id":64593968,"body_markdown":"Resident memory as reported by the OS doesn&#39;t tell you what component is consuming it. You&#39;ll have to gather additional data to figure out which part of the process is growing\r\n\r\nYou&#39;ll have to track\r\n\r\n* java heap and metaspace use - you can monitor this with [JMC][1], gc logging and many other java monitoring tools\r\n* jvm off-heap use - [NMT][2] \r\n* direct byte buffer use - [MX beans][3], also available via JMC\r\n* use by mapped files - `pmap -x &lt;pid&gt;` \r\n* use by native libraries e.g. used via JNI - difficult to monitor\r\n\r\n\r\n  [1]: https://github.com/openjdk/jmc\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\r\n  [3]: https://stackoverflow.com/a/47105769/1362755","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>Resident memory as reported by the OS doesn't tell you what component is consuming it. You'll have to gather additional data to figure out which part of the process is growing</p>\n<p>You'll have to track</p>\n<ul>\n<li>java heap and metaspace use - you can monitor this with <a href=\"https://github.com/openjdk/jmc\" rel=\"nofollow noreferrer\">JMC</a>, gc logging and many other java monitoring tools</li>\n<li>jvm off-heap use - <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html\" rel=\"nofollow noreferrer\">NMT</a></li>\n<li>direct byte buffer use - <a href=\"https://stackoverflow.com/a/47105769/1362755\">MX beans</a>, also available via JMC</li>\n<li>use by mapped files - <code>pmap -x &lt;pid&gt;</code></li>\n<li>use by native libraries e.g. used via JNI - difficult to monitor</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616088244,"creation_date":1616088244,"answer_id":66696089,"question_id":64593968,"body_markdown":"I also faced this situation and after a long time of research I found the solution [here][1]. Basically, for my case, it was just a matter of setting xms and xmx parameters on the jar invocation, forcing the GC to act constantly. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51768216/spring-boot-is-consuming-too-much-ram/51781625#answer-51769581","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>I also faced this situation and after a long time of research I found the solution <a href=\"https://stackoverflow.com/questions/51768216/spring-boot-is-consuming-too-much-ram/51781625#answer-51769581\">here</a>. Basically, for my case, it was just a matter of setting xms and xmx parameters on the jar invocation, forcing the GC to act constantly.</p>\n"},{"tags":[],"owner":{"account_id":144311,"reputation":5575,"user_id":353267,"accept_rate":100,"display_name":"jbindel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699489220,"creation_date":1699489220,"answer_id":77449726,"question_id":64593968,"body_markdown":"The accepted answer here may help you.\r\n\r\nhttps://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063#35610063\r\n\r\nSetting these for the tomcat9 JVM helped my own situation where a low-usage, low-memory application would nonetheless continue to consume RSS according to top on Linux. These environment variables disable some of the dynamic Glibc heuristics for releasing memory, which it won&#39;t do in some Tomcat scenarios.\r\n\r\n```\r\nexport MALLOC_ARENA_MAX=4\r\nexport MALLOC_MMAP_THRESHOLD_=131072\r\nexport MALLOC_TRIM_THRESHOLD_=131072\r\nexport MALLOC_TOP_PAD_=131072\r\nexport MALLOC_MMAP_MAX_=65536\r\n```\r\n\r\nA workaround in current JVMs (at least for Java 11 forward) is to use the `System.trim_native_heap` option to `jcmd`:\r\n\r\n`sudo jcmd &lt;pid&gt; System.trim_native_heap`\r\n\r\nThere is some discussion on the issues with Glibc not returning memory to the OS, and it looks like you may be using Linux.\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8269345\r\n\r\nhttps://bugs.openjdk.org/browse/JDK-8293114\r\n\r\nhttps://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>The accepted answer here may help you.</p>\n<p><a href=\"https://stackoverflow.com/questions/26041117/growing-resident-memory-usage-rss-of-java-process/35610063#35610063\">Growing resident memory usage (RSS) of Java Process</a></p>\n<p>Setting these for the tomcat9 JVM helped my own situation where a low-usage, low-memory application would nonetheless continue to consume RSS according to top on Linux. These environment variables disable some of the dynamic Glibc heuristics for releasing memory, which it won't do in some Tomcat scenarios.</p>\n<pre><code>export MALLOC_ARENA_MAX=4\nexport MALLOC_MMAP_THRESHOLD_=131072\nexport MALLOC_TRIM_THRESHOLD_=131072\nexport MALLOC_TOP_PAD_=131072\nexport MALLOC_MMAP_MAX_=65536\n</code></pre>\n<p>A workaround in current JVMs (at least for Java 11 forward) is to use the <code>System.trim_native_heap</code> option to <code>jcmd</code>:</p>\n<p><code>sudo jcmd &lt;pid&gt; System.trim_native_heap</code></p>\n<p>There is some discussion on the issues with Glibc not returning memory to the OS, and it looks like you may be using Linux.</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8269345\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8269345</a></p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-8293114\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8293114</a></p>\n<p><a href=\"https://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137\" rel=\"nofollow noreferrer\">https://marc.info/?l=openjdk-serviceability-dev&amp;m=168879617126137</a></p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1699489220,"creation_date":1603984339,"question_id":64593968,"body_markdown":"I have 23 Java processes running on one machine with 32GB. No process specifies JVM memory params such as Xmx. `java -XX:+PrintFlagsFinal -version | grep MaxHeapSize` reports that max default heap size is 8GB as expected. \r\n\r\nEvery process runs embedded Tomcat (Spring Boot apps (most at v 2.3.4)) except one is a standalone tomcat 9 instance running three WARs. These apps have low usage (usually one user and 10 minutes use a day). They are not memory or CPU intensive. One of them is Spring Boot admin and another is Spring Cloud&#39;s Eureka service registry. For these two, I have only a main method that simply bootstraps the Spring Boot application.\r\n\r\nYet, `RES` memory as shown in top for every process keeps gradually increasing. For example, Spring Boot service registry has increased from 1.1GB to 1.5GB in the last 12 hours. All processes show a similar small increase in `RES` but the total increase has reduced free memory by 2 GB in that same 12 hour period. This was the same in the previous 12 hours (and so on)until current free memory is now only 4.7GB.\r\n\r\nMy concern is that I continue to see this trend (even without app usage). Memory is never freed from the apps so total free memory continues to decrease. Is this normal since perhaps each JVM sees that memory is still available in the OS and that 8GB heap space is available to it? Will the JVMs stop taking memory at some point say once an OS free memory threshold is reached? Or will it continue until all free memory is used?\r\n\r\n**Update**\r\n\r\nThe heap used for most apps is under 200MB but the heap size is 1.5 - 2.8GB. Heap max is 8GB.\r\n","title":"Why does RES memory keep slowly growing for Java processes even for out of the box Spring Boot admin?","body":"<p>I have 23 Java processes running on one machine with 32GB. No process specifies JVM memory params such as Xmx. <code>java -XX:+PrintFlagsFinal -version | grep MaxHeapSize</code> reports that max default heap size is 8GB as expected.</p>\n<p>Every process runs embedded Tomcat (Spring Boot apps (most at v 2.3.4)) except one is a standalone tomcat 9 instance running three WARs. These apps have low usage (usually one user and 10 minutes use a day). They are not memory or CPU intensive. One of them is Spring Boot admin and another is Spring Cloud's Eureka service registry. For these two, I have only a main method that simply bootstraps the Spring Boot application.</p>\n<p>Yet, <code>RES</code> memory as shown in top for every process keeps gradually increasing. For example, Spring Boot service registry has increased from 1.1GB to 1.5GB in the last 12 hours. All processes show a similar small increase in <code>RES</code> but the total increase has reduced free memory by 2 GB in that same 12 hour period. This was the same in the previous 12 hours (and so on)until current free memory is now only 4.7GB.</p>\n<p>My concern is that I continue to see this trend (even without app usage). Memory is never freed from the apps so total free memory continues to decrease. Is this normal since perhaps each JVM sees that memory is still available in the OS and that 8GB heap space is available to it? Will the JVMs stop taking memory at some point say once an OS free memory threshold is reached? Or will it continue until all free memory is used?</p>\n<p><strong>Update</strong></p>\n<p>The heap used for most apps is under 200MB but the heap size is 1.5 - 2.8GB. Heap max is 8GB.</p>\n"},{"tags":["java","intellij-idea","generator"],"answers":[{"tags":[],"owner":{"account_id":24827981,"reputation":139,"user_id":18707490,"display_name":"Alexander Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651965110,"creation_date":1651965110,"answer_id":72156991,"question_id":72156953,"body_markdown":"Even tho there doesn&#39;t appear a Generator for Java you can still create a Java project, in the picture that you showed us it says Language and there is a Java option, they even give you the option to work with IntelliJ, Maven or Gradle. This type of project is going to be the same as a project generated with a Java generator. Here it is the documentation of how to create a new IntelliJ project, and it looks the same as yours [https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks][1]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks","title":"Problem with creating Java project in IntelliJ","body":"<p>Even tho there doesn't appear a Generator for Java you can still create a Java project, in the picture that you showed us it says Language and there is a Java option, they even give you the option to work with IntelliJ, Maven or Gradle. This type of project is going to be the same as a project generated with a Java generator. Here it is the documentation of how to create a new IntelliJ project, and it looks the same as yours <a href=\"https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/new-project-wizard.html#new-project-no-frameworks</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1699488825,"creation_date":1651970986,"answer_id":72157347,"question_id":72156953,"body_markdown":"# tl;dr\r\n\r\nThe option to create a plain Java project is right there in your screenshot: Choose `New Project`, then choose `Java` as the `language`. Specify your choice of build tool; if new to Java then I suggest `Maven`, but for a bigger and complicated project use `Gradle`. \r\n\r\n\r\n# Enhanced *New Project* wizard\r\n\r\nYou are seeing the new enhanced *New Project* wizard introduced in IntelliJ 2022.1. \r\n\r\n\r\nPersonally, I approve. I like the compact view showing the mix of language, build, and JDK options.\r\n\r\nSee [*What’s New in IntelliJ IDEA 2022.1*][1]. To quote:\r\n\r\n&gt; We reworked the New Project wizard interface to streamline creating new projects. You can quickly launch an empty project; use the pre-configured options for Java, Kotlin, Groovy, and JavaScript; or use generators if you have projects that are more complex.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nOr click any of those specialized generators listed beneath the heading *Generators*. For example, *Maven Archetype* where you choose from a list of commonly used archetypes, or *JavaFX* to make  project loaded with a fully functioning GUI app.\r\n\r\nTo specify an initial Java package, specify a Maven *GroupId* as seen in this screenshot.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/whatsnew/\r\n  [2]: https://i.stack.imgur.com/Kq4DI.gif\r\n  [3]: https://i.stack.imgur.com/884Hi.png","title":"Problem with creating Java project in IntelliJ","body":"<h1>tl;dr</h1>\n<p>The option to create a plain Java project is right there in your screenshot: Choose <code>New Project</code>, then choose <code>Java</code> as the <code>language</code>. Specify your choice of build tool; if new to Java then I suggest <code>Maven</code>, but for a bigger and complicated project use <code>Gradle</code>.</p>\n<h1>Enhanced <em>New Project</em> wizard</h1>\n<p>You are seeing the new enhanced <em>New Project</em> wizard introduced in IntelliJ 2022.1.</p>\n<p>Personally, I approve. I like the compact view showing the mix of language, build, and JDK options.</p>\n<p>See <a href=\"https://www.jetbrains.com/idea/whatsnew/\" rel=\"nofollow noreferrer\"><em>What’s New in IntelliJ IDEA 2022.1</em></a>. To quote:</p>\n<blockquote>\n<p>We reworked the New Project wizard interface to streamline creating new projects. You can quickly launch an empty project; use the pre-configured options for Java, Kotlin, Groovy, and JavaScript; or use generators if you have projects that are more complex.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/Kq4DI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kq4DI.gif\" alt=\"enter image description here\" /></a></p>\n<p>Or click any of those specialized generators listed beneath the heading <em>Generators</em>. For example, <em>Maven Archetype</em> where you choose from a list of commonly used archetypes, or <em>JavaFX</em> to make  project loaded with a fully functioning GUI app.</p>\n<p>To specify an initial Java package, specify a Maven <em>GroupId</em> as seen in this screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/884Hi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/884Hi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25229092,"reputation":11,"user_id":19064493,"display_name":"Blund .n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652465266,"creation_date":1652465266,"answer_id":72233813,"question_id":72156953,"body_markdown":"In order to get the sample code, from the previous java version, when creating a new Java project you just need to press the &quot;Add sample code&quot; box ^^^.\r\n","title":"Problem with creating Java project in IntelliJ","body":"<p>In order to get the sample code, from the previous java version, when creating a new Java project you just need to press the &quot;Add sample code&quot; box ^^^.</p>\n"}],"owner":{"account_id":25229092,"reputation":11,"user_id":19064493,"display_name":"Blund .n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1699488825,"creation_date":1651964565,"question_id":72156953,"body_markdown":"I&#39;ve downloaded IntelliJ but for some reason, I cant find a generator for java. I&#39;ve shown it too a few friends but they cant see whats wrong either, because they all have the java generator.\r\n\r\n\r\n[![A picture of what my intelliJ screen looks like][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NxcLX.png","title":"Problem with creating Java project in IntelliJ","body":"<p>I've downloaded IntelliJ but for some reason, I cant find a generator for java. I've shown it too a few friends but they cant see whats wrong either, because they all have the java generator.</p>\n<p><a href=\"https://i.stack.imgur.com/NxcLX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxcLX.png\" alt=\"A picture of what my intelliJ screen looks like\" /></a></p>\n"},{"tags":["java","localization","properties-file"],"comments":[{"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"score":0,"creation_date":1466491541,"post_id":37920973,"comment_id":63324063,"body_markdown":"That was an error: I actually meant `MessageFormat`.","body":"That was an error: I actually meant <code>MessageFormat</code>."}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1466422608,"creation_date":1466422608,"answer_id":37921557,"question_id":37920973,"body_markdown":"No there is no other way as it is how we are supposed to do it according to the javadoc.\r\n\r\n&gt; A single quote itself must be represented by doubled single quotes &#39;&#39; throughout a String\r\n\r\nAs workaround, what you could do is doing it programmatically using `replace(&quot;&#39;&quot;, &quot;&#39;&#39;&quot;)` or for this particular use case you could use the apostrophe character instead which is `’` it would be even more correct actually than using a single quote. \r\n\r\n    ","title":"How to use single quotes with MessageFormat","body":"<p>No there is no other way as it is how we are supposed to do it according to the javadoc.</p>\n\n<blockquote>\n  <p>A single quote itself must be represented by doubled single quotes '' throughout a String</p>\n</blockquote>\n\n<p>As workaround, what you could do is doing it programmatically using <code>replace(\"'\", \"''\")</code> or for this particular use case you could use the apostrophe character instead which is <code>’</code> it would be even more correct actually than using a single quote. </p>\n"},{"tags":[],"owner":{"account_id":954957,"reputation":2251,"user_id":980439,"display_name":"Frettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603111638,"creation_date":1603111638,"answer_id":64427651,"question_id":37920973,"body_markdown":"Probably too late for you, but someone else might find this useful: Instead of Java&#39;s MessageFormat, use [ICU (International Components for Unicode)][1] (or rather its Java port ICU4J). It&#39;s basically a set of tools and data to support you in internationalizing your application. And among those tools is their own version of MessageFormat. It&#39;s very similar (maybe even backwards compatible) and can handle single quotes exactly like you want it. It can even handle doubled/escaped single quotes so you can try it as a drop-in replacement for Java&#39;s MessageFormat without having to unescape your single quotes first.\r\n\r\n\r\n  [1]: http://site.icu-project.org/","title":"How to use single quotes with MessageFormat","body":"<p>Probably too late for you, but someone else might find this useful: Instead of Java's MessageFormat, use <a href=\"http://site.icu-project.org/\" rel=\"nofollow noreferrer\">ICU (International Components for Unicode)</a> (or rather its Java port ICU4J). It's basically a set of tools and data to support you in internationalizing your application. And among those tools is their own version of MessageFormat. It's very similar (maybe even backwards compatible) and can handle single quotes exactly like you want it. It can even handle doubled/escaped single quotes so you can try it as a drop-in replacement for Java's MessageFormat without having to unescape your single quotes first.</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699487335,"creation_date":1698934670,"answer_id":77410361,"question_id":37920973,"body_markdown":"`’` (U+2019 RIGHT SINGLE QUOTATION MARK) is the proper “apostrophe” to use in languages like English and French—not `&#39;`. \r\n\r\n`’` isn’t a metacharacter in this format, which means that there is no need to escape anything.","title":"How to use single quotes with MessageFormat","body":"<p><code>’</code> (U+2019 RIGHT SINGLE QUOTATION MARK) is the proper “apostrophe” to use in languages like English and French—not <code>'</code>.</p>\n<p><code>’</code> isn’t a metacharacter in this format, which means that there is no need to escape anything.</p>\n"}],"owner":{"account_id":3265289,"reputation":1455,"user_id":2749913,"accept_rate":65,"display_name":"AbVog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6166,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37921557,"answer_count":3,"score":14,"last_activity_date":1699487335,"creation_date":1466420865,"question_id":37920973,"body_markdown":"On my current project, we are using properties files for strings. Those strings are then &quot;formatted&quot; using MessageFormat. Unfortunately, MessagFormat has a handling of single quotes that becomes a bit of a hindrance in languages, such as French, which use a lot of apostrophes.\r\n\r\nFor instance, suppose we have this entry\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=User {0} does not exist\r\n\r\nWhen this gets translated into French, we get:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=L&#39;utilisateur {0} n&#39;existe pas\r\n\r\nThis, MessageFormat does not like...\r\n\r\nAnd I, do not like the following, i.e. having to use double quotes:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    login.userUnknown=L&#39;&#39;utilisateur {0} n&#39;&#39;existe pas\r\n\r\nThe reason I don&#39;t like it is that it causes spellchecking errors everywhere.\r\n\r\nQuestion: I am looking for an alternative to the instruction below, an alternative that does not need doubling quotes but still uses positional placeholders ({0}, {1}…). Is there anything else that can I use?\r\n\r\n\r\n    MessageFormat.format(Messages.getString(&quot;login.userUnkown&quot;), username);","title":"How to use single quotes with MessageFormat","body":"<p>On my current project, we are using properties files for strings. Those strings are then \"formatted\" using MessageFormat. Unfortunately, MessagFormat has a handling of single quotes that becomes a bit of a hindrance in languages, such as French, which use a lot of apostrophes.</p>\n\n<p>For instance, suppose we have this entry</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=User {0} does not exist\n</code></pre>\n\n<p>When this gets translated into French, we get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=L'utilisateur {0} n'existe pas\n</code></pre>\n\n<p>This, MessageFormat does not like...</p>\n\n<p>And I, do not like the following, i.e. having to use double quotes:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>login.userUnknown=L''utilisateur {0} n''existe pas\n</code></pre>\n\n<p>The reason I don't like it is that it causes spellchecking errors everywhere.</p>\n\n<p>Question: I am looking for an alternative to the instruction below, an alternative that does not need doubling quotes but still uses positional placeholders ({0}, {1}…). Is there anything else that can I use?</p>\n\n<pre><code>MessageFormat.format(Messages.getString(\"login.userUnkown\"), username);\n</code></pre>\n"},{"tags":["java","gradle","mapstruct","annotation-processing","deprecation-warning"],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4933,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628255077,"creation_date":1628253860,"answer_id":68681784,"question_id":68417327,"body_markdown":"Deprecation warnings can only be turned off globally, on the compilation level. So to disable them only for the generated mapper you&#39;d have to compile it separately. The easiest solution would be to have the model and mappers in separate modules. Then in the mapper module just disable deprecation warnings for the &#39;main&#39; sourceSet of the mapper module:\r\n\r\n\ttasks.named(&#39;compileJava&#39;, JavaCompile).configure {\r\n\t\tit.options.deprecation = false\r\n\t}\r\n\r\nAs for the test compilation I guess you&#39;d like to have the deprecation warnings there:\r\n\r\n\ttasks.named(&#39;compileTestJava&#39;, JavaCompile).configure {\r\n\t\tit.options.deprecation = true\r\n\t}\r\n    \r\nHere&#39;s an example on GitHub: https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>Deprecation warnings can only be turned off globally, on the compilation level. So to disable them only for the generated mapper you'd have to compile it separately. The easiest solution would be to have the model and mappers in separate modules. Then in the mapper module just disable deprecation warnings for the 'main' sourceSet of the mapper module:</p>\n<pre><code>tasks.named('compileJava', JavaCompile).configure {\n    it.options.deprecation = false\n}\n</code></pre>\n<p>As for the test compilation I guess you'd like to have the deprecation warnings there:</p>\n<pre><code>tasks.named('compileTestJava', JavaCompile).configure {\n    it.options.deprecation = true\n}\n</code></pre>\n<p>Here's an example on GitHub: <a href=\"https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings\" rel=\"nofollow noreferrer\">https://github.com/jannis-baratheon/stackoverflow--mapstruct-mapper-compile-warnings</a></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699486803,"creation_date":1699486803,"answer_id":77449617,"question_id":68417327,"body_markdown":"The upcoming MapStruct version 1.6.0 will automatically copy the `@Deprecated` annotation to the generated code, per issue [#2773](https://github.com/mapstruct/mapstruct/issues/2773).  This will prevent the deprecation warnings in the given example.","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>The upcoming MapStruct version 1.6.0 will automatically copy the <code>@Deprecated</code> annotation to the generated code, per issue <a href=\"https://github.com/mapstruct/mapstruct/issues/2773\" rel=\"nofollow noreferrer\">#2773</a>.  This will prevent the deprecation warnings in the given example.</p>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699486803,"creation_date":1626495181,"question_id":68417327,"body_markdown":"I have a Java project built using [Gradle](https://gradle.org) using the [MapStruct](https://mapstruct.org) code generator to generate mapping code.  I intentionally have deprecation warnings enabled, as I want to be made aware if I end up calling deprecated code, e.g. when upgrading library versions.\r\n\r\nI have a MapStruct mapper interface (annotated with [`@Mapper`](https://javadoc.io/static/org.mapstruct/mapstruct/1.4.2.Final/org/mapstruct/Mapper.html)) that contains a mapping method.  The mapping method &amp; one of the [custom mapping methods](https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods) it uses are being used by a feature which will be removed in the next major release version of the software, but which need to remain in the minor versions leading up to that point.  Therefore, I have marked these two methods as `@Deprecated` in order to communicate that they are going away, and to make sure I don&#39;t miss removing them when I remove the other deprecated code.\r\n\r\nWhen I compile the code, I get two deprecation warnings in the concrete class auto-generated by MapStruct for the mapper interface: one for implementing the deprecated mapping method, and one for calling the custom mapper method.\r\n\r\n## Goal\r\n\r\nI&#39;m hoping for a way to prevent these deprecation warnings from being emitted, while still keeping deprecation warnings for my own (non-autogenerated) code.\r\n\r\nIf I had hand-written the code, I would have annotated it with `@Deprecated`, which would suppress this warning.  Alternatively, there&#39;s `@SuppressWarnings(&quot;deprecation&quot;)` option to suppress it.  However, MapStruct currently [doesn&#39;t allow adding annotations to its generated code](https://github.com/mapstruct/mapstruct/issues/1574).\r\n\r\nThe other option that occurs to me is perhaps there&#39;s a way in Gradle to enable deprecation warnings just for generated classes (in `build/generated/sources/annotationProcessor/java`), but not for hand-written classes (in `src/main/java`).  I&#39;m not seeing a drop-in way of doing this.  There&#39;s an old forum post from nine years ago [discussing the issue](https://discuss.gradle.org/t/how-to-disable-compile-warnings-for-generated-classes/7343), though I&#39;m not sure how to apply it to the current Gradle landscape.\r\n\r\nHow can I suppress the auto-generated mapper class deprecation warnings without disabling the deprecation warnings for my non-generated code in the project?\r\n\r\n## Example\r\n\r\n**`build.gradle`**\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.4.2.Final&#39;\r\n    implementation &#39;org.mapstruct:mapstruct:1.4.2.Final&#39;\r\n}\r\n\r\ncompileJava {\r\n    options.deprecation = true\r\n}\r\n```\r\n\r\n**Java classes**\r\n\r\n```lang-java\r\npublic class Source {\r\n    private String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\n```lang-java\r\npublic class Target {\r\n    private String value;\r\n    public String getValue() { return value; }\r\n    public void setValue(String value) { this.value = value; }\r\n}\r\n```\r\n\r\n```lang-java\r\nimport org.mapstruct.Mapper;\r\n\r\n@Mapper\r\npublic interface ExampleMapping {\r\n    @Deprecated\r\n    Target map(Source source);\r\n\r\n    @Deprecated\r\n    default String mapString(String s) {\r\n        return s.toUpperCase();\r\n    }\r\n}\r\n```\r\n\r\n**Build output**\r\n\r\n```lang-none\r\n$ ./gradlew build\r\n\r\n&gt; Task :compileJava\r\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:13: warning: [deprecation] map(Source) in ExampleMapping has been deprecated\r\n    public Target map(Source source) {\r\n                  ^\r\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:20: warning: [deprecation] mapString(String) in ExampleMapping has been deprecated\r\n        target.setValue( mapString( source.getValue() ) );\r\n                         ^\r\n2 warnings\r\n\r\nBUILD SUCCESSFUL in 3s\r\n2 actionable tasks: 2 executed\r\n```\r\n\r\n**Generated code**\r\n\r\n```lang-java\r\nimport javax.annotation.processing.Generated;\r\n\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2021-07-16T22:41:15-0500&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.1.1.jar, environment: Java 11.0.9.1 (AdoptOpenJDK)&quot;\r\n)\r\npublic class ExampleMappingImpl implements ExampleMapping {\r\n\r\n    @Override\r\n    public Target map(Source source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n\r\n        Target target = new Target();\r\n\r\n        target.setValue( mapString( source.getValue() ) );\r\n\r\n        return target;\r\n    }\r\n}\r\n```","title":"In Gradle, can deprecation warnings be prevented in code autogenerated by the MapStruct annotation processor?","body":"<p>I have a Java project built using <a href=\"https://gradle.org\" rel=\"nofollow noreferrer\">Gradle</a> using the <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">MapStruct</a> code generator to generate mapping code.  I intentionally have deprecation warnings enabled, as I want to be made aware if I end up calling deprecated code, e.g. when upgrading library versions.</p>\n<p>I have a MapStruct mapper interface (annotated with <a href=\"https://javadoc.io/static/org.mapstruct/mapstruct/1.4.2.Final/org/mapstruct/Mapper.html\" rel=\"nofollow noreferrer\"><code>@Mapper</code></a>) that contains a mapping method.  The mapping method &amp; one of the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#adding-custom-methods\" rel=\"nofollow noreferrer\">custom mapping methods</a> it uses are being used by a feature which will be removed in the next major release version of the software, but which need to remain in the minor versions leading up to that point.  Therefore, I have marked these two methods as <code>@Deprecated</code> in order to communicate that they are going away, and to make sure I don't miss removing them when I remove the other deprecated code.</p>\n<p>When I compile the code, I get two deprecation warnings in the concrete class auto-generated by MapStruct for the mapper interface: one for implementing the deprecated mapping method, and one for calling the custom mapper method.</p>\n<h2 id=\"goal-o7lg\">Goal</h2>\n<p>I'm hoping for a way to prevent these deprecation warnings from being emitted, while still keeping deprecation warnings for my own (non-autogenerated) code.</p>\n<p>If I had hand-written the code, I would have annotated it with <code>@Deprecated</code>, which would suppress this warning.  Alternatively, there's <code>@SuppressWarnings(&quot;deprecation&quot;)</code> option to suppress it.  However, MapStruct currently <a href=\"https://github.com/mapstruct/mapstruct/issues/1574\" rel=\"nofollow noreferrer\">doesn't allow adding annotations to its generated code</a>.</p>\n<p>The other option that occurs to me is perhaps there's a way in Gradle to enable deprecation warnings just for generated classes (in <code>build/generated/sources/annotationProcessor/java</code>), but not for hand-written classes (in <code>src/main/java</code>).  I'm not seeing a drop-in way of doing this.  There's an old forum post from nine years ago <a href=\"https://discuss.gradle.org/t/how-to-disable-compile-warnings-for-generated-classes/7343\" rel=\"nofollow noreferrer\">discussing the issue</a>, though I'm not sure how to apply it to the current Gradle landscape.</p>\n<p>How can I suppress the auto-generated mapper class deprecation warnings without disabling the deprecation warnings for my non-generated code in the project?</p>\n<h2 id=\"example-dtpi\">Example</h2>\n<p><strong><code>build.gradle</code></strong></p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    annotationProcessor 'org.mapstruct:mapstruct-processor:1.4.2.Final'\n    implementation 'org.mapstruct:mapstruct:1.4.2.Final'\n}\n\ncompileJava {\n    options.deprecation = true\n}\n</code></pre>\n<p><strong>Java classes</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Source {\n    private String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Target {\n    private String value;\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapper;\n\n@Mapper\npublic interface ExampleMapping {\n    @Deprecated\n    Target map(Source source);\n\n    @Deprecated\n    default String mapString(String s) {\n        return s.toUpperCase();\n    }\n}\n</code></pre>\n<p><strong>Build output</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>$ ./gradlew build\n\n&gt; Task :compileJava\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:13: warning: [deprecation] map(Source) in ExampleMapping has been deprecated\n    public Target map(Source source) {\n                  ^\n/path/to/project/build/generated/sources/annotationProcessor/java/main/com/example/ExampleMappingImpl.java:20: warning: [deprecation] mapString(String) in ExampleMapping has been deprecated\n        target.setValue( mapString( source.getValue() ) );\n                         ^\n2 warnings\n\nBUILD SUCCESSFUL in 3s\n2 actionable tasks: 2 executed\n</code></pre>\n<p><strong>Generated code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.annotation.processing.Generated;\n\n@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2021-07-16T22:41:15-0500&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.1.1.jar, environment: Java 11.0.9.1 (AdoptOpenJDK)&quot;\n)\npublic class ExampleMappingImpl implements ExampleMapping {\n\n    @Override\n    public Target map(Source source) {\n        if ( source == null ) {\n            return null;\n        }\n\n        Target target = new Target();\n\n        target.setValue( mapString( source.getValue() ) );\n\n        return target;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","c++","qt","qt6"],"owner":{"account_id":14321735,"reputation":41,"user_id":10344880,"display_name":"gween"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699486800,"creation_date":1699486800,"question_id":77449616,"body_markdown":"## Overview\r\nI&#39;ve been trying to implement Google&#39;s one tap sign on for android with my Qt 6.5.3 android app. I&#39;ve been trying to follow the steps listed in their docs [https://developers.google.com/identity/one-tap/android/get-saved-credentials#java][1], but I don&#39;t really know anything about java so I&#39;ve been flying by the seat of my pants.\r\n\r\n## What I&#39;ve tried\r\nI have my java file `GoogleAuth.java` (shown below), and I try to call `DisplayOneTapSignIn` in my cpp code:\r\n\r\n```cpp\r\n   // GoogleAuth.cpp\r\n   if (QJniObject::isClassAvailable(&quot;com/test/google/GoogleAuth&quot;)) {\r\n        qDebug() &lt;&lt; &quot;Found GoogleAuth Class&quot;;\r\n        QJniObject googleAuth = QJniObject(&quot;com/test/google/GoogleAuth&quot;);\r\n        googleAuth.callObjectMethod&lt;void&gt;(&quot;DisplayOneTapSignIn&quot;);\r\n    } else {\r\n        qDebug() &lt;&lt; &quot;Could not find GoogleAuth Class&quot;;\r\n    }\r\n```\r\n\r\nThis doesn&#39;t work, though, and fails with:\r\n\r\n`Can&#39;t create handler inside thread that has not called Looper.prepare()`\r\n\r\nI don&#39;t really know how to proceed from here. From what I&#39;ve read I need to run my java class in a UI thread. I tried a few things in the java class that I found on threads, but none of them work.\r\n\r\nThis lead me to find this from Qt 5.15 [https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html][2]\r\n\r\n## Main question\r\nDo I need to proceed by doing something along the lines in the Qt 5.15 example link above since my java class extends AppCompatActivity? Or should I be doing something via java like creating a wrapper class that runs my GoogleAuth class in a ui thread? If the latter, any suggestions on how to do that?\r\n\r\n## Java code reference\r\n\r\n```java\r\n// GoogleAuth.java\r\npackage com.test.google;\r\n\r\nimport android.util.Log;\r\nimport com.google.android.gms.auth.api.identity.SignInClient;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.Builder;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.GoogleIdTokenRequestOptions;\r\nimport com.google.android.gms.auth.api.identity.BeginSignInResult;\r\nimport com.google.android.gms.auth.api.identity.Identity;\r\nimport android.os.PersistableBundle;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.content.IntentSender;\r\nimport android.content.IntentSender.SendIntentException;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\n\r\npublic class GoogleAuth extends AppCompatActivity {\r\n    // ...\r\n\r\n    private static final String TAG = &quot;GoogleAuth&quot;;\r\n\r\n    private static final int REQ_ONE_TAP = 2;\r\n    private boolean showOneTapUI = true;\r\n  \r\n    private SignInClient oneTapClient;\r\n    private BeginSignInRequest signInRequest;\r\n  \r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState,\r\n                         @Nullable PersistableBundle persistentState) {\r\n        super.onCreate(savedInstanceState, persistentState);\r\n\r\n        Log.d(TAG, &quot;onCreate start...&quot;);\r\n  \r\n        // This is where your UI code goes.\r\n        oneTapClient = Identity.getSignInClient(this);\r\n        signInRequest = BeginSignInRequest.builder()\r\n        // .setPasswordRequestOptions(PasswordRequestOptions.builder()\r\n        //         .setSupported(true)\r\n        //         .build())\r\n        .setGoogleIdTokenRequestOptions(GoogleIdTokenRequestOptions.builder()\r\n                .setSupported(true)\r\n                // Your server&#39;s client ID, not your Android client ID.\r\n                .setServerClientId(&quot;my-client-id&quot;)\r\n                // Only show accounts previously used to sign in.\r\n                .setFilterByAuthorizedAccounts(true)\r\n                .build())\r\n        // Automatically sign in when exactly one credential is retrieved.\r\n        .setAutoSelectEnabled(true)\r\n        .build();\r\n\r\n        Log.d(TAG, &quot;onCreate end...&quot;);\r\n\r\n    }\r\n\r\n    public void DisplayOneTapSignIn() {\r\n        Log.d(TAG, &quot;DisplayOneTapSignIn start...&quot;);\r\n\r\n        oneTapClient.beginSignIn(signInRequest)\r\n                .addOnSuccessListener(this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\r\n                @Override\r\n                public void onSuccess(BeginSignInResult result) {\r\n                        try {\r\n                        startIntentSenderForResult(\r\n                                result.getPendingIntent().getIntentSender(), REQ_ONE_TAP,\r\n                                null, 0, 0, 0);\r\n                        } catch (IntentSender.SendIntentException e) {\r\n                        Log.e(TAG, &quot;Couldn&#39;t start One Tap UI: &quot; + e.getLocalizedMessage());\r\n                        }\r\n                }\r\n                })\r\n                .addOnFailureListener(this, new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                        // No saved credentials found. Launch the One Tap sign-up flow, or\r\n                        // do nothing and continue presenting the signed-out UI.\r\n                        Log.d(TAG, e.getLocalizedMessage());\r\n                }\r\n                });\r\n        Log.d(TAG, &quot;DisplayOneTapSignIn end...&quot;);\r\n    }\r\n    // ...\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://developers.google.com/identity/one-tap/android/get-saved-credentials#java\r\n  [2]: https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html","title":"How to implement Google One Tap Sign On in QT 6.5?","body":"<h2>Overview</h2>\n<p>I've been trying to implement Google's one tap sign on for android with my Qt 6.5.3 android app. I've been trying to follow the steps listed in their docs <a href=\"https://developers.google.com/identity/one-tap/android/get-saved-credentials#java\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/one-tap/android/get-saved-credentials#java</a>, but I don't really know anything about java so I've been flying by the seat of my pants.</p>\n<h2>What I've tried</h2>\n<p>I have my java file <code>GoogleAuth.java</code> (shown below), and I try to call <code>DisplayOneTapSignIn</code> in my cpp code:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>   // GoogleAuth.cpp\n   if (QJniObject::isClassAvailable(&quot;com/test/google/GoogleAuth&quot;)) {\n        qDebug() &lt;&lt; &quot;Found GoogleAuth Class&quot;;\n        QJniObject googleAuth = QJniObject(&quot;com/test/google/GoogleAuth&quot;);\n        googleAuth.callObjectMethod&lt;void&gt;(&quot;DisplayOneTapSignIn&quot;);\n    } else {\n        qDebug() &lt;&lt; &quot;Could not find GoogleAuth Class&quot;;\n    }\n</code></pre>\n<p>This doesn't work, though, and fails with:</p>\n<p><code>Can't create handler inside thread that has not called Looper.prepare()</code></p>\n<p>I don't really know how to proceed from here. From what I've read I need to run my java class in a UI thread. I tried a few things in the java class that I found on threads, but none of them work.</p>\n<p>This lead me to find this from Qt 5.15 <a href=\"https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qtandroidextras-customactivity-example.html</a></p>\n<h2>Main question</h2>\n<p>Do I need to proceed by doing something along the lines in the Qt 5.15 example link above since my java class extends AppCompatActivity? Or should I be doing something via java like creating a wrapper class that runs my GoogleAuth class in a ui thread? If the latter, any suggestions on how to do that?</p>\n<h2>Java code reference</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// GoogleAuth.java\npackage com.test.google;\n\nimport android.util.Log;\nimport com.google.android.gms.auth.api.identity.SignInClient;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.Builder;\nimport com.google.android.gms.auth.api.identity.BeginSignInRequest.GoogleIdTokenRequestOptions;\nimport com.google.android.gms.auth.api.identity.BeginSignInResult;\nimport com.google.android.gms.auth.api.identity.Identity;\nimport android.os.PersistableBundle;\nimport android.os.Bundle;\nimport android.os.Looper;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.IntentSender;\nimport android.content.IntentSender.SendIntentException;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.OnFailureListener;\n\npublic class GoogleAuth extends AppCompatActivity {\n    // ...\n\n    private static final String TAG = &quot;GoogleAuth&quot;;\n\n    private static final int REQ_ONE_TAP = 2;\n    private boolean showOneTapUI = true;\n  \n    private SignInClient oneTapClient;\n    private BeginSignInRequest signInRequest;\n  \n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState,\n                         @Nullable PersistableBundle persistentState) {\n        super.onCreate(savedInstanceState, persistentState);\n\n        Log.d(TAG, &quot;onCreate start...&quot;);\n  \n        // This is where your UI code goes.\n        oneTapClient = Identity.getSignInClient(this);\n        signInRequest = BeginSignInRequest.builder()\n        // .setPasswordRequestOptions(PasswordRequestOptions.builder()\n        //         .setSupported(true)\n        //         .build())\n        .setGoogleIdTokenRequestOptions(GoogleIdTokenRequestOptions.builder()\n                .setSupported(true)\n                // Your server's client ID, not your Android client ID.\n                .setServerClientId(&quot;my-client-id&quot;)\n                // Only show accounts previously used to sign in.\n                .setFilterByAuthorizedAccounts(true)\n                .build())\n        // Automatically sign in when exactly one credential is retrieved.\n        .setAutoSelectEnabled(true)\n        .build();\n\n        Log.d(TAG, &quot;onCreate end...&quot;);\n\n    }\n\n    public void DisplayOneTapSignIn() {\n        Log.d(TAG, &quot;DisplayOneTapSignIn start...&quot;);\n\n        oneTapClient.beginSignIn(signInRequest)\n                .addOnSuccessListener(this, new OnSuccessListener&lt;BeginSignInResult&gt;() {\n                @Override\n                public void onSuccess(BeginSignInResult result) {\n                        try {\n                        startIntentSenderForResult(\n                                result.getPendingIntent().getIntentSender(), REQ_ONE_TAP,\n                                null, 0, 0, 0);\n                        } catch (IntentSender.SendIntentException e) {\n                        Log.e(TAG, &quot;Couldn't start One Tap UI: &quot; + e.getLocalizedMessage());\n                        }\n                }\n                })\n                .addOnFailureListener(this, new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                        // No saved credentials found. Launch the One Tap sign-up flow, or\n                        // do nothing and continue presenting the signed-out UI.\n                        Log.d(TAG, e.getLocalizedMessage());\n                }\n                });\n        Log.d(TAG, &quot;DisplayOneTapSignIn end...&quot;);\n    }\n    // ...\n  }\n</code></pre>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1699475508,"post_id":77448664,"comment_id":136537926,"body_markdown":"Is your input a single String of multiple lines with embedded newlines?","body":"Is your input a single String of multiple lines with embedded newlines?"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699475741,"post_id":77448664,"comment_id":136537970,"body_markdown":"`buffersize` and `file` cannot occupy the same space. Each assertion is tested from the same position. To cover both it is just 1 assertion: `(?=crashinfo (?:buffersize|file))`","body":"<code>buffersize</code> and <code>file</code> cannot occupy the same space. Each assertion is tested from the same position. To cover both it is just 1 assertion: <code>(?=crashinfo (?:buffersize|file))</code>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":0,"creation_date":1699477983,"post_id":77448664,"comment_id":136538345,"body_markdown":"Adjacent words was the attempt right ?  Even though everything is marked as a duplicate, this is not a duplicate of any order / anywhere !!","body":"Adjacent words was the attempt right ?  Even though everything is marked as a duplicate, this is not a duplicate of any order / anywhere !!"},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478188,"post_id":77448664,"comment_id":136538371,"body_markdown":"Whoever closed this **DID NOT** read the question. I am not asking how to write the regex, I am asking why the regex that I wrote, that seems like it *should* work, did not.","body":"Whoever closed this <b>DID NOT</b> read the question. I am not asking how to write the regex, I am asking why the regex that I wrote, that seems like it <i>should</i> work, did not."},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699478586,"post_id":77448664,"comment_id":136538445,"body_markdown":"I think sln solved it, his regex worked in my test case so I expect it will work in my real one. Thanks, sln!","body":"I think sln solved it, his regex worked in my test case so I expect it will work in my real one. Thanks, sln!"},{"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"score":0,"creation_date":1699479598,"post_id":77448664,"comment_id":136538643,"body_markdown":"`(?=crashinfo (?:buffersize|file))` looks for *either* &quot;crashinfo buffersize&quot; *or* &quot;crashinfo file&quot; but not both.","body":"<code>(?=crashinfo (?:buffersize|file))</code> looks for <i>either</i> &quot;crashinfo buffersize&quot; <i>or</i> &quot;crashinfo file&quot; but not both."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699481839,"post_id":77448664,"comment_id":136538986,"body_markdown":"`(?s)\\bcrashinfo(?: buffersize\\b.*\\bcrashinfo file\\b| file\\b.*\\bcrashinfo buffersize\\b)` is another way.","body":"<code>(?s)\\bcrashinfo(?: buffersize\\b.*\\bcrashinfo file\\b| file\\b.*\\bcrashinfo buffersize\\b)</code> is another way."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699485339,"post_id":77448664,"comment_id":136539433,"body_markdown":"tosher, did anyone actually answer your question? To satisfy your first lookahead, `(?=crashinfo buffersize)`, the regex engine moves the string pointer it maintains to the fourth line of data, immediately before `&quot;crashinfo buffersize 32&quot;`. The engine then pins the string pointer to that location because that is the only location for which the assertion `(?=crashinfo buffersize)` is satisfied. It therefore is unable to satisfy the second assertion, `(?=crashinfo file)`. That `crashinfo info` appears earlier in file is irrelevant...","body":"tosher, did anyone actually answer your question? To satisfy your first lookahead, <code>(?=crashinfo buffersize)</code>, the regex engine moves the string pointer it maintains to the fourth line of data, immediately before <code>&quot;crashinfo buffersize 32&quot;</code>. The engine then pins the string pointer to that location because that is the only location for which the assertion <code>(?=crashinfo buffersize)</code> is satisfied. It therefore is unable to satisfy the second assertion, <code>(?=crashinfo file)</code>. That <code>crashinfo info</code> appears earlier in file is irrelevant..."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699486491,"post_id":77448664,"comment_id":136539578,"body_markdown":"...Note that the regex engine could have moved the string pointer beyond the first instance of `&quot;crashinfo buffersize&quot;` had there been one more other instances of that string. [Here](https://regex101.com/r/Abl92p/1) is an example. The answers show what you need. In @AztecCodes&#39; answer, for example, the string pointer remains at the beginning of the string.","body":"...Note that the regex engine could have moved the string pointer beyond the first instance of <code>&quot;crashinfo buffersize&quot;</code> had there been one more other instances of that string. <a href=\"https://regex101.com/r/Abl92p/1\" rel=\"nofollow noreferrer\">Here</a> is an example. The answers show what you need. In @AztecCodes&#39; answer, for example, the string pointer remains at the beginning of the string."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1699486991,"post_id":77448664,"comment_id":136539649,"body_markdown":"This question had been closed because it was deemed to be a duplicate of an earlier question. I voted to reopen because the OP&#39;s question, given in the last sentence, was not answered in answers given to the earlier question. The answer to this questions concerns the way regex engines work, not what regex would work, very different things. From an education standpoint understanding why a solution doesn&#39;t work can be much more valuable than merely being pointed to a different solution that does work.","body":"This question had been closed because it was deemed to be a duplicate of an earlier question. I voted to reopen because the OP&#39;s question, given in the last sentence, was not answered in answers given to the earlier question. The answer to this questions concerns the way regex engines work, not what regex would work, very different things. From an education standpoint understanding why a solution doesn&#39;t work can be much more valuable than merely being pointed to a different solution that does work."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699527064,"post_id":77448664,"comment_id":136544464,"body_markdown":"In which context are you using the regex? Or, in other words, why are you using look-aheads?","body":"In which context are you using the regex? Or, in other words, why are you using look-aheads?"}],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1699475100,"creation_date":1699475100,"answer_id":77448735,"question_id":77448664,"body_markdown":"**My Regex:**\r\n```\r\nString regex = &quot;(?s)(?=.*crashinfo buffersize)(?=.*crashinfo file)&quot;;\r\n```","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p><strong>My Regex:</strong></p>\n<pre><code>String regex = &quot;(?s)(?=.*crashinfo buffersize)(?=.*crashinfo file)&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699476379,"creation_date":1699476379,"answer_id":77448848,"question_id":77448664,"body_markdown":"Use a _non-capturing group_, and the _union_ syntax.\r\n\r\n```none\r\n(?=crashinfo (?:buffersize|file))\r\n```\r\n\r\n","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p>Use a <em>non-capturing group</em>, and the <em>union</em> syntax.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?=crashinfo (?:buffersize|file))\n</code></pre>\n"}],"owner":{"account_id":29858375,"reputation":1,"user_id":22882672,"display_name":"cybertosher"},"comment_count":11,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700340994,"answer_count":2,"score":-2,"last_activity_date":1699486632,"creation_date":1699474351,"question_id":77448664,"body_markdown":"I am trying to write a regex in the Java 8 flavor that looks for two different static strings to occur in a multiline text file in any order. I have a regex that works in other circumstances, but not this one, and I cannot determine why this is so.\r\n\r\nI am searching the following text, with the goal of determining whether the strings &quot;crashinfo buffersize&quot; and &quot;crashinfo file&quot; *both* appear, in any order. I am using the regex `(?=crashinfo buffersize)(?=crashinfo file)` on the data below:\r\n\r\n```\r\nexception data-corruption buffer truncate\r\nexception data-corruption buffer log\r\nexception crashinfo file flash:crashinfo\r\nexception crashinfo buffersize 32\r\nexception crashinfo maximum files 1\r\nno exception crashinfo dump garbage-detector\r\nno monitor environment temperature notifies\r\nmonitor environment temperature syslog\r\nno monitor environment temperature history\r\nmonitor environment temperature low -25\r\n```\r\n\r\nI expect this to match since both strings *are* in the file, but the regex match fails. \r\n\r\nI searched for just `(?=crashinfo buffersize)` by itself, and that matches. I also searched for just `(?=crashinfo file)` by itself and it also matches. I expected that putting the two together would also match, since each matched in isolation. But the match fails. \r\n\r\nI have used constructions like this in other contexts and they worked fine. On this file, each individual lookahead succeeds on its own, but they fail if I use them together. I am stuck. Can anyone shine some light on what I am doing wrong?","title":"Two consecutive positive lookaheads fail but each individually succeeds","body":"<p>I am trying to write a regex in the Java 8 flavor that looks for two different static strings to occur in a multiline text file in any order. I have a regex that works in other circumstances, but not this one, and I cannot determine why this is so.</p>\n<p>I am searching the following text, with the goal of determining whether the strings &quot;crashinfo buffersize&quot; and &quot;crashinfo file&quot; <em>both</em> appear, in any order. I am using the regex <code>(?=crashinfo buffersize)(?=crashinfo file)</code> on the data below:</p>\n<pre><code>exception data-corruption buffer truncate\nexception data-corruption buffer log\nexception crashinfo file flash:crashinfo\nexception crashinfo buffersize 32\nexception crashinfo maximum files 1\nno exception crashinfo dump garbage-detector\nno monitor environment temperature notifies\nmonitor environment temperature syslog\nno monitor environment temperature history\nmonitor environment temperature low -25\n</code></pre>\n<p>I expect this to match since both strings <em>are</em> in the file, but the regex match fails.</p>\n<p>I searched for just <code>(?=crashinfo buffersize)</code> by itself, and that matches. I also searched for just <code>(?=crashinfo file)</code> by itself and it also matches. I expected that putting the two together would also match, since each matched in isolation. But the match fails.</p>\n<p>I have used constructions like this in other contexts and they worked fine. On this file, each individual lookahead succeeds on its own, but they fail if I use them together. I am stuck. Can anyone shine some light on what I am doing wrong?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":7830302,"reputation":504,"user_id":5920608,"display_name":"MESP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699454246,"creation_date":1699454246,"answer_id":77446504,"question_id":77446467,"body_markdown":"Found this code in the google Android documentation:\r\n\r\nJava: \r\n\r\n    int currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n    switch (currentNightMode) {\r\n        case Configuration.UI_MODE_NIGHT_NO:\r\n            // Night mode is not active, we&#39;re using the light theme\r\n            break;\r\n        case Configuration.UI_MODE_NIGHT_YES:\r\n            // Night mode is active, we&#39;re using dark theme\r\n            break;\r\n    }\r\n\r\nKotlin:\r\n\r\n    val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\r\n    when (currentNightMode) {\r\n        Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we&#39;re using the light theme.\r\n        Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we&#39;re using dark theme.\r\n    }\r\n\r\nsource: [Android docs.][1]\r\n\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/theming/darktheme","title":"how can I check System Dark mode is enabable or not","body":"<p>Found this code in the google Android documentation:</p>\n<p>Java:</p>\n<pre><code>int currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\nswitch (currentNightMode) {\n    case Configuration.UI_MODE_NIGHT_NO:\n        // Night mode is not active, we're using the light theme\n        break;\n    case Configuration.UI_MODE_NIGHT_YES:\n        // Night mode is active, we're using dark theme\n        break;\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\nwhen (currentNightMode) {\n    Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we're using the light theme.\n    Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we're using dark theme.\n}\n</code></pre>\n<p>source: <a href=\"https://developer.android.com/develop/ui/views/theming/darktheme\" rel=\"nofollow noreferrer\">Android docs.</a></p>\n"}],"owner":{"account_id":29855858,"reputation":1,"user_id":22880704,"display_name":"nayan Ghodadara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1699484987,"creation_date":1699453927,"question_id":77446467,"body_markdown":"```\r\nbinding.switchh.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean check) {\r\n                if(check){\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                }else{\r\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nHelp me to check switch while system dark mode is enabled","title":"how can I check System Dark mode is enabable or not","body":"<pre><code>binding.switchh.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean check) {\n                if(check){\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                }else{\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                }\n            }\n        });\n</code></pre>\n<p>Help me to check switch while system dark mode is enabled</p>\n"},{"tags":["java","selenium","automated-tests","selenium-chromedriver","socketexception"],"comments":[{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":1,"creation_date":1689125671,"post_id":63303153,"comment_id":135167805,"body_markdown":"Getting the same error here with latest chromedriver and chrome (114.0.5735.90) and Selenium 4.10.0","body":"Getting the same error here with latest chromedriver and chrome (114.0.5735.90) and Selenium 4.10.0"},{"owner":{"account_id":3531830,"reputation":1,"user_id":2951134,"display_name":"Lenny Primak"},"score":0,"creation_date":1689126159,"post_id":63303153,"comment_id":135167847,"body_markdown":"See answer https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror which worked for me","body":"See answer <a href=\"https://stackoverflow.com/questions/72540689/how-to-help-this-org-openqa-selenium-remote-http-websocketlistener-onerror\" title=\"how to help this org openqa selenium remote http websocketlistener onerror\">stackoverflow.com/questions/72540689/&hellip;</a> which worked for me"}],"answers":[{"tags":[],"owner":{"account_id":12817682,"reputation":257,"user_id":9273784,"display_name":"Ankit Agrawal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596824782,"creation_date":1596824782,"answer_id":63307353,"question_id":63303153,"body_markdown":"AS the name of exception suggest, there is issue in connection between your chromedriver and chrome browser.\r\n\r\nUpgrade chrome browser to 84 and then retry or you can also download downgraded version of chromedriver which is compatible with your version of chrome.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>AS the name of exception suggest, there is issue in connection between your chromedriver and chrome browser.</p>\n<p>Upgrade chrome browser to 84 and then retry or you can also download downgraded version of chromedriver which is compatible with your version of chrome.</p>\n"},{"tags":[],"owner":{"account_id":16512918,"reputation":1,"user_id":11931177,"display_name":"Abhinav Pandey"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657023816,"creation_date":1657023816,"answer_id":72869373,"question_id":63303153,"body_markdown":"I was also getting same error but it was resolved after changing selenium version.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>I was also getting same error but it was resolved after changing selenium version.</p>\n"},{"tags":[],"owner":{"account_id":11420809,"reputation":1,"user_id":8372358,"display_name":"Shubham Rathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696827718,"creation_date":1696827718,"answer_id":77256351,"question_id":63303153,"body_markdown":"Are you using driver listeners?\r\nIf yes, then driver is getting called even after quit and hence the error.","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>Are you using driver listeners?\nIf yes, then driver is getting called even after quit and hence the error.</p>\n"}],"owner":{"account_id":19240262,"reputation":31,"user_id":14060413,"display_name":"Mythreyi R."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9045,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1699484720,"creation_date":1596808040,"question_id":63303153,"body_markdown":"I am seeing a *java.net.SocketException: Connection reset* almost every time I use a driver.close() or driver.quit() statement. The browser does get closed and the exception isn&#39;t affecting any of my tests so far, but I would still like to understand why this is happening.\r\n\r\nI checked for a version incompatibility, but the issue persists even after I updated my ChromeDriver. (I&#39;m using ChromeDriver 84.0.4147.30 with Google Chrome Version 84.0.4147.105.) \r\n\r\nThe issue is intermittent, but usually occurs about 80% of the time.\r\n\r\nCode:\r\n```\r\npublic static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n        driver.close();\r\n        System.exit(0);\r\n    }\r\n```\r\nError:\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 84.0.4147.30 (48b3e868b4cc0aa7e8149519690b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 24445\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nAug 07, 2020 6:39:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nAug 07, 2020 6:39:14 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Connection reset\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n\tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n\tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n","title":"java.net.SocketException: Connection reset on Selenium driver.close() or driver.quit() statements","body":"<p>I am seeing a <em>java.net.SocketException: Connection reset</em> almost every time I use a driver.close() or driver.quit() statement. The browser does get closed and the exception isn't affecting any of my tests so far, but I would still like to understand why this is happening.</p>\n<p>I checked for a version incompatibility, but the issue persists even after I updated my ChromeDriver. (I'm using ChromeDriver 84.0.4147.30 with Google Chrome Version 84.0.4147.105.)</p>\n<p>The issue is intermittent, but usually occurs about 80% of the time.</p>\n<p>Code:</p>\n<pre><code>public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com/&quot;);\n        driver.close();\n        System.exit(0);\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 84.0.4147.30 (48b3e868b4cc0aa7e8149519690b6f6949e110a8-refs/branch-heads/4147@{#310}) on port 24445\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nAug 07, 2020 6:39:11 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nAug 07, 2020 6:39:14 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","logging","log4j2","c3p0"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1699479591,"post_id":77448944,"comment_id":136538639,"body_markdown":"That `&lt;logger&gt;` element should probably be a child of the `&lt;Loggers&gt; ... &lt;/Loggers&gt;` element. Also, not sure if it matters, but try setting the level of the logger as an _attribute_ rather than as a child element (e.g., `&lt;logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;trace&quot;/&gt;`).","body":"That <code>&lt;logger&gt;</code> element should probably be a child of the <code>&lt;Loggers&gt; ... &lt;&#47;Loggers&gt;</code> element. Also, not sure if it matters, but try setting the level of the logger as an <i>attribute</i> rather than as a child element (e.g., <code>&lt;logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;trace&quot;&#47;&gt;</code>)."},{"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"score":0,"creation_date":1699480816,"post_id":77448944,"comment_id":136538855,"body_markdown":"Tried that, still no go.","body":"Tried that, still no go."}],"answers":[{"tags":[],"owner":{"account_id":1511139,"reputation":13771,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699484645,"creation_date":1699484645,"answer_id":77449494,"question_id":77448944,"body_markdown":"You might place in your `c3p0.properties` file (or as a System property)\r\n\r\n    com.mchange.v2.log.MLog=log4j2\r\n\r\nc3p0 logs to its own logging facade, which supports fanning out to moust common log libraries.\r\n\r\nSee &quot;[configuring logging](https://www.mchange.com/projects/c3p0/#configuring_logging)&quot; for more.","title":"c3p0 log4j2 implementation","body":"<p>You might place in your <code>c3p0.properties</code> file (or as a System property)</p>\n<pre><code>com.mchange.v2.log.MLog=log4j2\n</code></pre>\n<p>c3p0 logs to its own logging facade, which supports fanning out to moust common log libraries.</p>\n<p>See &quot;<a href=\"https://www.mchange.com/projects/c3p0/#configuring_logging\" rel=\"nofollow noreferrer\">configuring logging</a>&quot; for more.</p>\n"}],"owner":{"account_id":22305462,"reputation":25,"user_id":22553624,"display_name":"user22553624"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77449494,"answer_count":1,"score":0,"last_activity_date":1699484645,"creation_date":1699477607,"question_id":77448944,"body_markdown":"I inherited a java tomcat web project project and I am trying to get c3p0 logging enabled and I cannot get it working for the life of me.\r\n\r\nI am using c3p0 with jdbc driver com.microsoft.sqlserver.jdbc.SQLServerDriver and this seems to work great.\r\n\r\nI&#39;ve done some research and there is no log4j2.properties file, but there is a log4j2.xml file that has logging def in it.  I added c3p0 logger name in but I cannot seem to get it to work.\r\n\r\n\r\nRegular logging is working.  What the application uses is \r\n\r\n\r\n\r\n```\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nprivate static Logger logger = LogManager.getLogger(&quot;TrackerLogger&quot;);\r\nlogger.info(&quot;HOLA&quot;);\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried adding this in various places but when i start up my java app, nothing is logging.   \r\n\r\n\r\n```\r\n        &lt;logger name=&quot;com.mchange.v2.c3p0&quot;&gt;\r\n        &lt;level value=&quot;trace&quot;/&gt;\r\n    \t&lt;/logger&gt;\r\n```\r\n\r\n\r\nHere is my log4j2.file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;trace&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RollingFile name=&quot;logFile&quot; fileName=&quot;c:/Tracker/Logs/current.log&quot; filePattern=&quot;c:/Tracker/Logs/%d{yyyy-MM-dd} tracker.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%X] [%t] %-5level - %msg%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\r\n\t\t\t&lt;/Policies&gt;   \r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;Logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\r\n    \t&lt;/Logger&gt;\r\n        &lt;Root level=&quot;trace&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n    \r\n&lt;/Configuration&gt;\r\n```\r\n\r\nIt&#39;s probably something simple and stupid i am missing.\r\n\r\nAny suggestions?\r\n","title":"c3p0 log4j2 implementation","body":"<p>I inherited a java tomcat web project project and I am trying to get c3p0 logging enabled and I cannot get it working for the life of me.</p>\n<p>I am using c3p0 with jdbc driver com.microsoft.sqlserver.jdbc.SQLServerDriver and this seems to work great.</p>\n<p>I've done some research and there is no log4j2.properties file, but there is a log4j2.xml file that has logging def in it.  I added c3p0 logger name in but I cannot seem to get it to work.</p>\n<p>Regular logging is working.  What the application uses is</p>\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nprivate static Logger logger = LogManager.getLogger(&quot;TrackerLogger&quot;);\nlogger.info(&quot;HOLA&quot;);\n\n</code></pre>\n<p>I've tried adding this in various places but when i start up my java app, nothing is logging.</p>\n<pre><code>        &lt;logger name=&quot;com.mchange.v2.c3p0&quot;&gt;\n        &lt;level value=&quot;trace&quot;/&gt;\n        &lt;/logger&gt;\n</code></pre>\n<p>Here is my log4j2.file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;trace&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;logFile&quot; fileName=&quot;c:/Tracker/Logs/current.log&quot; filePattern=&quot;c:/Tracker/Logs/%d{yyyy-MM-dd} tracker.log&quot; immediateFlush=&quot;true&quot; append=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%X] [%t] %-5level - %msg%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot;/&gt;\n            &lt;/Policies&gt;   \n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;Logger name=&quot;com.mchange.v2.c3p0&quot; level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;trace&quot;&gt;\n            &lt;AppenderRef ref=&quot;logFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n    \n&lt;/Configuration&gt;\n</code></pre>\n<p>It's probably something simple and stupid i am missing.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","hadoop","io","apache-spark","parquet"],"comments":[{"owner":{"account_id":2162429,"reputation":1801,"user_id":1916298,"display_name":"Franzi"},"score":1,"creation_date":1462366181,"post_id":34814082,"comment_id":61606470,"body_markdown":"Hi Lavd&#235;rim, Did you solve it?","body":"Hi Lavd&#235;rim, Did you solve it?"},{"owner":{"account_id":2180870,"reputation":1447,"user_id":1930402,"accept_rate":70,"display_name":"pnv"},"score":0,"creation_date":1575614523,"post_id":34814082,"comment_id":104633392,"body_markdown":"If it was any other format, say `.csv`, you should specify `format=&quot;com.databricks.spark.csv&quot;`, while you are reading.","body":"If it was any other format, say <code>.csv</code>, you should specify <code>format=&quot;com.databricks.spark.csv&quot;</code>, while you are reading."}],"answers":[{"tags":[],"owner":{"account_id":3088364,"reputation":3334,"user_id":2615065,"accept_rate":31,"display_name":"Srini"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1452893766,"creation_date":1452893766,"answer_id":34820249,"question_id":34814082,"body_markdown":"Can you try sqlContex.read.load, instead of sqlContext.parquetFile.?\r\n\r\nPlease refer the below link. \r\nhttp://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions\r\n\r\nPlease try and let me know, if that works. If not, we could try other way. ","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Can you try sqlContex.read.load, instead of sqlContext.parquetFile.?</p>\n\n<p>Please refer the below link. \n<a href=\"http://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions\" rel=\"nofollow\">http://spark.apache.org/docs/latest/sql-programming-guide.html#generic-loadsave-functions</a></p>\n\n<p>Please try and let me know, if that works. If not, we could try other way. </p>\n"},{"tags":[],"owner":{"account_id":6859769,"reputation":177,"user_id":5274206,"display_name":"Ryan Garaygay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467756379,"creation_date":1467432537,"answer_id":38156385,"question_id":34814082,"body_markdown":"if you open a parquet file (text editor), at the very bottom you will see something like &quot;parquet-mr&quot; and that could help you know what version/format the file was created from\r\n\r\nthe method above though simple, the &quot;creator&quot; can be something else like impala or other component that can create parquet files and you can use parquet-tools https://github.com/apache/parquet-mr/tree/master/parquet-tools\r\n\r\nsince it looks like you are using spark to read the parquet file you might be able to work-around it by setting spark.sql.parquet.filterPushdown to false. maybe try that first (more info here - https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration - change latest to your version of spark).\r\n\r\nif that does not work then maybe try if this is an issue with latest version of spark - if it does then you can try to trace history of which commits fixed it and that might give you an insight on possible work-around\r\n\r\nor if you know the parquet version you can use (switch) the corresponding branch of parquet-mr (build the parquet-tools for that) and use the tools for that version to test your metadata files (_metadata, _common_metadata) or one of the parquet file - you should be able to reproduce the error and debug from there","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>if you open a parquet file (text editor), at the very bottom you will see something like \"parquet-mr\" and that could help you know what version/format the file was created from</p>\n\n<p>the method above though simple, the \"creator\" can be something else like impala or other component that can create parquet files and you can use parquet-tools <a href=\"https://github.com/apache/parquet-mr/tree/master/parquet-tools\" rel=\"nofollow\">https://github.com/apache/parquet-mr/tree/master/parquet-tools</a></p>\n\n<p>since it looks like you are using spark to read the parquet file you might be able to work-around it by setting spark.sql.parquet.filterPushdown to false. maybe try that first (more info here - <a href=\"https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration\" rel=\"nofollow\">https://spark.apache.org/docs/latest/sql-programming-guide.html#configuration</a> - change latest to your version of spark).</p>\n\n<p>if that does not work then maybe try if this is an issue with latest version of spark - if it does then you can try to trace history of which commits fixed it and that might give you an insight on possible work-around</p>\n\n<p>or if you know the parquet version you can use (switch) the corresponding branch of parquet-mr (build the parquet-tools for that) and use the tools for that version to test your metadata files (_metadata, _common_metadata) or one of the parquet file - you should be able to reproduce the error and debug from there</p>\n"},{"tags":[],"owner":{"account_id":5669934,"reputation":549,"user_id":4484893,"display_name":"Bruno Faria"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550421237,"creation_date":1550421237,"answer_id":54735267,"question_id":34814082,"body_markdown":"I got the same problem trying to read a parquet file from S3. In my case the issue was the required libraries were not available for all workers in the cluster.\r\n\r\nThere are 2 ways to fix that:\r\n \r\n- Make sure you added the dependencies on the spark-submit command so it&#39;s distributed to the whole cluster\r\n- Add the dependencies on the /jars directory on your SPARK_HOME for each worker in the cluster.","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>I got the same problem trying to read a parquet file from S3. In my case the issue was the required libraries were not available for all workers in the cluster.</p>\n\n<p>There are 2 ways to fix that:</p>\n\n<ul>\n<li>Make sure you added the dependencies on the spark-submit command so it's distributed to the whole cluster</li>\n<li>Add the dependencies on the /jars directory on your SPARK_HOME for each worker in the cluster.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2783479,"reputation":592,"user_id":2395507,"display_name":"Ted"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596398971,"creation_date":1596398222,"answer_id":63220438,"question_id":34814082,"body_markdown":"Check your folder permissions. We have seen this error in other environments and it was caused by Spark not having the permission to access the file.","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Check your folder permissions. We have seen this error in other environments and it was caused by Spark not having the permission to access the file.</p>\n"},{"tags":[],"owner":{"account_id":6960023,"reputation":11,"user_id":12517135,"display_name":"Martin Lobet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693557008,"creation_date":1693557008,"answer_id":77021602,"question_id":34814082,"body_markdown":"Old thread but my fix was a bit different.\r\n\r\nThis error was thrown because I tried to create a external table pointing to an existing but empty parquet file (no rows, not even a schema).\r\n","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>Old thread but my fix was a bit different.</p>\n<p>This error was thrown because I tried to create a external table pointing to an existing but empty parquet file (no rows, not even a schema).</p>\n"}],"owner":{"account_id":7643921,"reputation":141,"user_id":5795199,"display_name":"Lavd&#235;rim Shala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37192,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1699483997,"creation_date":1452870586,"question_id":34814082,"body_markdown":"I have a SPARK project running on a Cloudera VM. On my project I load the data from a parquet file and then process these data. Everything works fine but The problem is that I need to run this project on a school cluster but there I am having problems while reading the parquet file at this part of code:\r\n\r\n    DataFrame schemaRDF = sqlContext.parquetFile(&quot;/var/tmp/graphs/sib200.parquet&quot;);\r\n\r\nI get the following error:\r\n\r\n    \r\n\r\n&gt;  Could not read footer: java.io.IOException: Could not read footer for\r\n&gt; file\r\n&gt; FileStatus{path=file:/var/tmp/graphs/sib200.parquet/_common_metadata;\r\n&gt; isDirectory=false; length=413; replication=0; blocksize=0;\r\n&gt; modification_time=0; access_time=0; owner=; group=;\r\n&gt; permission=rw-rw-rw-; isSymlink=false} at\r\n&gt; parquet.hadoop.ParquetFileReader.readAllFootersInParallel(ParquetFileReader.java:248)\r\n&gt; at\r\n&gt; org.apache.spark.sql.execution.datasources.parquet.ParquetRelation$$anonfun$28.apply(ParquetRelation.scala:750)\r\n\r\nBased on the search online it seems to be a parquet version problem.\r\n\r\nWhat I would like from you is to tell me how can I find the installed parquet version in a computer in order to check if both have the same version. Or in addition, if you know the exact solution for this error would also be perfect!\r\n","title":"Apache Parquet Could not read footer: java.io.IOException:","body":"<p>I have a SPARK project running on a Cloudera VM. On my project I load the data from a parquet file and then process these data. Everything works fine but The problem is that I need to run this project on a school cluster but there I am having problems while reading the parquet file at this part of code:</p>\n\n<pre><code>DataFrame schemaRDF = sqlContext.parquetFile(\"/var/tmp/graphs/sib200.parquet\");\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Could not read footer: java.io.IOException: Could not read footer for\n  file\n  FileStatus{path=file:/var/tmp/graphs/sib200.parquet/_common_metadata;\n  isDirectory=false; length=413; replication=0; blocksize=0;\n  modification_time=0; access_time=0; owner=; group=;\n  permission=rw-rw-rw-; isSymlink=false} at\n  parquet.hadoop.ParquetFileReader.readAllFootersInParallel(ParquetFileReader.java:248)\n  at\n  org.apache.spark.sql.execution.datasources.parquet.ParquetRelation$$anonfun$28.apply(ParquetRelation.scala:750)</p>\n</blockquote>\n\n<p>Based on the search online it seems to be a parquet version problem.</p>\n\n<p>What I would like from you is to tell me how can I find the installed parquet version in a computer in order to check if both have the same version. Or in addition, if you know the exact solution for this error would also be perfect!</p>\n"},{"tags":["java","spring","swagger","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":12488260,"reputation":9978,"user_id":9090751,"display_name":"Mafor"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1602991180,"creation_date":1576870215,"answer_id":59430454,"question_id":59357205,"body_markdown":"Yes, you can do it in the same place calling `addSecurityItem`:\r\n```\r\n  @Bean\r\n  public OpenAPI customOpenAPI() {\r\n    return new OpenAPI()\r\n            .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\r\n                new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\r\n                    .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\r\n            .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;))\r\n            .addSecurityItem(\r\n                    new SecurityRequirement().addList(&quot;bearer-jwt&quot;, Arrays.asList(&quot;read&quot;, &quot;write&quot;)));\r\n  }\r\n```\r\nGlobal security schema can be overridden by a different one with the `@SecurityRequirements` annotation. Including removing security schemas for an operation. For example, we can remove security for registration path.\r\n\r\n```\r\n@SecurityRequirements\r\n@PostMapping(&quot;/registration&quot;)\r\npublic ResponseEntity post(@RequestBody @Valid Registration: registration) {\r\n    return registrationService.register(registration);\r\n}\r\n```\r\n\r\nWhile still keeping security schemas for other APIs.\r\n\r\n**Old answer (Dec 20 &#39;19):**\r\n\r\nGlobal security schema can be overridden by a different one with the `@SecurityRequirements` annotation. but it cannot be removed for unsecured  paths. It is acctualy missing fueature in the **springdoc-openapi**, OpenAPI standard allows it. See [disable global security for particular operation][1]\r\n\r\nThere is a workaround though. The **springdoc-openapi** has a concept of an OpenApiCustomiser which can be used to intercept generated schema. Inside the customizer, an operation can be modified programmatically. To remove any inherited security, the field `security` needs to be set to an empty array. The logic may be based on any arbitrary rules e.g operation name. I used tags.\r\n\r\nThe customizer:\r\n```\r\nimport io.swagger.v3.oas.models.OpenAPI;\r\nimport io.swagger.v3.oas.models.Operation;\r\nimport io.swagger.v3.oas.models.PathItem;\r\nimport org.springdoc.api.OpenApiCustomiser;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@Component\r\npublic class SecurityOverrideCustomizer implements OpenApiCustomiser {\r\n\r\n    public static final String UNSECURED = &quot;security.open&quot;;\r\n\r\n    private static final List&lt;Function&lt;PathItem, Operation&gt;&gt; OPERATION_GETTERS = Arrays.asList(\r\n            PathItem::getGet, PathItem::getPost, PathItem::getDelete, PathItem::getHead,\r\n            PathItem::getOptions, PathItem::getPatch, PathItem::getPut);\r\n\r\n    @Override\r\n    public void customise(OpenAPI openApi) {\r\n        openApi.getPaths().forEach((path, item) -&gt; getOperations(item).forEach(operation -&gt; {\r\n            List&lt;String&gt; tags = operation.getTags();\r\n            if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\r\n                operation.setSecurity(Collections.emptyList());\r\n                operation.setTags(filterTags(tags));\r\n            }\r\n        }));\r\n    }\r\n\r\n    private static Stream&lt;Operation&gt; getOperations(PathItem pathItem) {\r\n        return OPERATION_GETTERS.stream()\r\n                .map(getter -&gt; getter.apply(pathItem))\r\n                .filter(Objects::nonNull);\r\n    }\r\n\r\n    private static List&lt;String&gt; filterTags(List&lt;String&gt; tags) {\r\n        return tags.stream()\r\n                .filter(t -&gt; !t.equals(UNSECURED))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nNow we can add `@Tag(name = SecurityOverrideCustomizer.UNSECURED)` to unsecured methods:\r\n```\r\n    @Tag(name = SecurityOverrideCustomizer.UNSECURED)\r\n    @GetMapping(&quot;/open&quot;)\r\n    @ResponseBody\r\n    public String open() {\r\n        return &quot;It works!&quot;;\r\n    }\r\n```\r\nPlease bear in mind that it is just a workaround. Hopefully, the issue will be resolved in the next **springdoc-openapi** versions (at the time of writing it the current version is 1.2.18).\r\n\r\nFor a working example see [springdoc-security-override-fix][2]\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-core/issues/2844\r\n  [2]: https://github.com/mafor/springdoc-security-override-fix","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Yes, you can do it in the same place calling <code>addSecurityItem</code>:</p>\n<pre><code>  @Bean\n  public OpenAPI customOpenAPI() {\n    return new OpenAPI()\n            .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\n                new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\n                    .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\n            .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;))\n            .addSecurityItem(\n                    new SecurityRequirement().addList(&quot;bearer-jwt&quot;, Arrays.asList(&quot;read&quot;, &quot;write&quot;)));\n  }\n</code></pre>\n<p>Global security schema can be overridden by a different one with the <code>@SecurityRequirements</code> annotation. Including removing security schemas for an operation. For example, we can remove security for registration path.</p>\n<pre><code>@SecurityRequirements\n@PostMapping(&quot;/registration&quot;)\npublic ResponseEntity post(@RequestBody @Valid Registration: registration) {\n    return registrationService.register(registration);\n}\n</code></pre>\n<p>While still keeping security schemas for other APIs.</p>\n<p><strong>Old answer (Dec 20 '19):</strong></p>\n<p>Global security schema can be overridden by a different one with the <code>@SecurityRequirements</code> annotation. but it cannot be removed for unsecured  paths. It is acctualy missing fueature in the <strong>springdoc-openapi</strong>, OpenAPI standard allows it. See <a href=\"https://github.com/swagger-api/swagger-core/issues/2844\" rel=\"noreferrer\">disable global security for particular operation</a></p>\n<p>There is a workaround though. The <strong>springdoc-openapi</strong> has a concept of an OpenApiCustomiser which can be used to intercept generated schema. Inside the customizer, an operation can be modified programmatically. To remove any inherited security, the field <code>security</code> needs to be set to an empty array. The logic may be based on any arbitrary rules e.g operation name. I used tags.</p>\n<p>The customizer:</p>\n<pre><code>import io.swagger.v3.oas.models.OpenAPI;\nimport io.swagger.v3.oas.models.Operation;\nimport io.swagger.v3.oas.models.PathItem;\nimport org.springdoc.api.OpenApiCustomiser;\nimport org.springframework.stereotype.Component;\n\nimport javax.validation.constraints.NotNull;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@Component\npublic class SecurityOverrideCustomizer implements OpenApiCustomiser {\n\n    public static final String UNSECURED = &quot;security.open&quot;;\n\n    private static final List&lt;Function&lt;PathItem, Operation&gt;&gt; OPERATION_GETTERS = Arrays.asList(\n            PathItem::getGet, PathItem::getPost, PathItem::getDelete, PathItem::getHead,\n            PathItem::getOptions, PathItem::getPatch, PathItem::getPut);\n\n    @Override\n    public void customise(OpenAPI openApi) {\n        openApi.getPaths().forEach((path, item) -&gt; getOperations(item).forEach(operation -&gt; {\n            List&lt;String&gt; tags = operation.getTags();\n            if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\n                operation.setSecurity(Collections.emptyList());\n                operation.setTags(filterTags(tags));\n            }\n        }));\n    }\n\n    private static Stream&lt;Operation&gt; getOperations(PathItem pathItem) {\n        return OPERATION_GETTERS.stream()\n                .map(getter -&gt; getter.apply(pathItem))\n                .filter(Objects::nonNull);\n    }\n\n    private static List&lt;String&gt; filterTags(List&lt;String&gt; tags) {\n        return tags.stream()\n                .filter(t -&gt; !t.equals(UNSECURED))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>Now we can add <code>@Tag(name = SecurityOverrideCustomizer.UNSECURED)</code> to unsecured methods:</p>\n<pre><code>    @Tag(name = SecurityOverrideCustomizer.UNSECURED)\n    @GetMapping(&quot;/open&quot;)\n    @ResponseBody\n    public String open() {\n        return &quot;It works!&quot;;\n    }\n</code></pre>\n<p>Please bear in mind that it is just a workaround. Hopefully, the issue will be resolved in the next <strong>springdoc-openapi</strong> versions (at the time of writing it the current version is 1.2.18).</p>\n<p>For a working example see <a href=\"https://github.com/mafor/springdoc-security-override-fix\" rel=\"noreferrer\">springdoc-security-override-fix</a></p>\n"},{"tags":[],"owner":{"display_name":"user11878890"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1580320530,"creation_date":1579797929,"answer_id":59883424,"question_id":59357205,"body_markdown":"Tested with v1.2.29 of springdoc-openapi: Its possible to disable security for particular Endpoint using: @SecurityRequirements\r\n\r\n\t@GetMapping(&quot;/open&quot;)\r\n\t@ResponseBody\r\n\t@SecurityRequirements\r\n\tpublic String open() {\r\n\t\treturn &quot;It works!&quot;;\r\n\t}\r\n\r\nFor older versions, for example tested with v1.2.28 using OperationCustomizer:\r\n\r\n    public static final String UNSECURED = &quot;security.open&quot;;\r\n    \r\n    @Bean\r\n    public OperationCustomizer customize() {\r\n    \treturn (Operation operation, HandlerMethod handlerMethod) -&gt; {\r\n    \t\tList&lt;String&gt; tags = operation.getTags();\r\n    \t\tif (tags != null &amp;&amp; tags.contains(UNSECURED)) {\r\n    \t\t\toperation.setSecurity(Collections.emptyList());\r\n    \t\t\toperation.setTags(tags.stream()\r\n    \t\t\t\t\t.filter(t -&gt; !t.equals(UNSECURED))\r\n    \t\t\t\t\t.collect(Collectors.toList()));\r\n    \t\t}\r\n    \t\treturn operation;\r\n    \t};\r\n    }","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Tested with v1.2.29 of springdoc-openapi: Its possible to disable security for particular Endpoint using: @SecurityRequirements</p>\n\n<pre><code>@GetMapping(\"/open\")\n@ResponseBody\n@SecurityRequirements\npublic String open() {\n    return \"It works!\";\n}\n</code></pre>\n\n<p>For older versions, for example tested with v1.2.28 using OperationCustomizer:</p>\n\n<pre><code>public static final String UNSECURED = \"security.open\";\n\n@Bean\npublic OperationCustomizer customize() {\n    return (Operation operation, HandlerMethod handlerMethod) -&gt; {\n        List&lt;String&gt; tags = operation.getTags();\n        if (tags != null &amp;&amp; tags.contains(UNSECURED)) {\n            operation.setSecurity(Collections.emptyList());\n            operation.setTags(tags.stream()\n                    .filter(t -&gt; !t.equals(UNSECURED))\n                    .collect(Collectors.toList()));\n        }\n        return operation;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19964164,"reputation":319,"user_id":14631114,"display_name":"Ranjan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662439560,"creation_date":1662439560,"answer_id":73616809,"question_id":59357205,"body_markdown":"According to Documentation of springdoc, for new versions you can do this\r\n\r\nAdd the @SecurityRequirement for the protected route like\r\n\r\n\r\n```java\r\n @PostMapping(value = &quot;/example&quot;)\r\n @SecurityRequirement(name = &quot;bearer-key&quot;)\r\n public ResponseEntity&lt;Object&gt; exampleHandler() {\r\n    /// logic here\r\n }\r\n```\r\n\r\nand then in your Security config class add \r\n\r\n```java\r\n@Bean\r\n public OpenAPI customOpenAPI() {\r\n   return new OpenAPI()\r\n          .components(new Components()\r\n          .addSecuritySchemes(&quot;bearer-key&quot;,\r\n          new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)));\r\n}\r\n```\r\n\r\nHere is the link to the [docs](https://springdoc.org/#how-do-i-add-authorization-header-in-requests)\r\n\r\n","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>According to Documentation of springdoc, for new versions you can do this</p>\n<p>Add the @SecurityRequirement for the protected route like</p>\n<pre class=\"lang-java prettyprint-override\"><code> @PostMapping(value = &quot;/example&quot;)\n @SecurityRequirement(name = &quot;bearer-key&quot;)\n public ResponseEntity&lt;Object&gt; exampleHandler() {\n    /// logic here\n }\n</code></pre>\n<p>and then in your Security config class add</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n public OpenAPI customOpenAPI() {\n   return new OpenAPI()\n          .components(new Components()\n          .addSecuritySchemes(&quot;bearer-key&quot;,\n          new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)));\n}\n</code></pre>\n<p>Here is the link to the <a href=\"https://springdoc.org/#how-do-i-add-authorization-header-in-requests\" rel=\"nofollow noreferrer\">docs</a></p>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699483993,"creation_date":1698851613,"answer_id":77403670,"question_id":59357205,"body_markdown":"Here is a variation for the opaque token (with Spring Boot 3):\r\n\r\n    @Configuration\r\n\tpublic class OpenApiConfiguration {\r\n\t\t@Bean\r\n\t\tpublic OpenAPI customOpenAPI() {\r\n\r\n\t\t\t// https://github.com/OAI/OpenAPI-Specification/blob/3.0.1/versions/3.0.1.md#securitySchemeObject\r\n\t\t\tvar securityScheme = new SecurityScheme()\r\n\t\t\t\t\t.type(SecurityScheme.Type.HTTP)\r\n\t\t\t\t\t.name(&quot;bearer&quot;)\r\n\t\t\t\t\t.scheme(&quot;bearer&quot;)\r\n\t\t\t\t\t.bearerFormat(&quot;opaque&quot;)\r\n\t\t\t\t\t.in(SecurityScheme.In.HEADER)\r\n\t\t\t\t\t.name(&quot;Authorization&quot;);\r\n\t\t\tvar securityComponent = new Components()\r\n\t\t\t\t\t.addSecuritySchemes(&quot;bearer&quot;, securityScheme);\r\n\t\t\tvar securityItem = new SecurityRequirement()\r\n\t\t\t\t\t.addList(&quot;bearer&quot;);\r\n\r\n\t\t\treturn new OpenAPI()\r\n\t\t\t\t\t.components(securityComponent)\r\n\t\t\t\t\t.addSecurityItem(securityItem);\r\n\t\t\t\t\t// ... other details as needed\r\n\t\t}\r\n\t}\r\n\r\nNote that if controller classes or methods are annotated with `@SecurityRequirement`, the name used in these requirements has to match name used in the scheme above, i.e.\r\n\r\n    @Operation(summary = &quot;...&quot;, security = {@SecurityRequirement(name = &quot;bearer&quot;)})\r\n\r\n","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>Here is a variation for the opaque token (with Spring Boot 3):</p>\n<pre><code>@Configuration\npublic class OpenApiConfiguration {\n    @Bean\n    public OpenAPI customOpenAPI() {\n\n        // https://github.com/OAI/OpenAPI-Specification/blob/3.0.1/versions/3.0.1.md#securitySchemeObject\n        var securityScheme = new SecurityScheme()\n                .type(SecurityScheme.Type.HTTP)\n                .name(&quot;bearer&quot;)\n                .scheme(&quot;bearer&quot;)\n                .bearerFormat(&quot;opaque&quot;)\n                .in(SecurityScheme.In.HEADER)\n                .name(&quot;Authorization&quot;);\n        var securityComponent = new Components()\n                .addSecuritySchemes(&quot;bearer&quot;, securityScheme);\n        var securityItem = new SecurityRequirement()\n                .addList(&quot;bearer&quot;);\n\n        return new OpenAPI()\n                .components(securityComponent)\n                .addSecurityItem(securityItem);\n                // ... other details as needed\n    }\n}\n</code></pre>\n<p>Note that if controller classes or methods are annotated with <code>@SecurityRequirement</code>, the name used in these requirements has to match name used in the scheme above, i.e.</p>\n<pre><code>@Operation(summary = &quot;...&quot;, security = {@SecurityRequirement(name = &quot;bearer&quot;)})\n</code></pre>\n"}],"owner":{"account_id":337726,"reputation":2190,"user_id":666176,"accept_rate":75,"display_name":"Cortlendt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21085,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":59430454,"answer_count":4,"score":21,"last_activity_date":1699483993,"creation_date":1576501404,"question_id":59357205,"body_markdown":"I have the following [`SecurityScheme`][1] definition using springdoc-openapi for java SpringBoot RESTful app:\r\n\r\n```\r\n    @Bean\r\n    public OpenAPI customOpenAPI() {\r\n        return new OpenAPI()\r\n                .components(new Components().addSecuritySchemes(&quot;bearer-jwt&quot;,\r\n                 new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(&quot;bearer&quot;).bearerFormat(&quot;JWT&quot;)\r\n                .in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)))\r\n                .info(new Info().title(&quot;App API&quot;).version(&quot;snapshot&quot;));\r\n    }\r\n```\r\nIs it possible to apply it globally to all paths, without having to go and add [`@SecurityRequirement`][2] annotations to [`@Operation`][3] annotation everywhere in the code?\r\n\r\nIf it is, how to add exclusions to unsecured paths?\r\n\r\n\r\n  [1]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityScheme.html\r\n  [2]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityRequirement.html\r\n  [3]: http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/Operation.html","title":"springdoc-openapi apply default global SecurityScheme possible?","body":"<p>I have the following <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityScheme.html\" rel=\"noreferrer\"><code>SecurityScheme</code></a> definition using springdoc-openapi for java SpringBoot RESTful app:</p>\n\n<pre><code>    @Bean\n    public OpenAPI customOpenAPI() {\n        return new OpenAPI()\n                .components(new Components().addSecuritySchemes(\"bearer-jwt\",\n                 new SecurityScheme().type(SecurityScheme.Type.HTTP).scheme(\"bearer\").bearerFormat(\"JWT\")\n                .in(SecurityScheme.In.HEADER).name(\"Authorization\")))\n                .info(new Info().title(\"App API\").version(\"snapshot\"));\n    }\n</code></pre>\n\n<p>Is it possible to apply it globally to all paths, without having to go and add <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/security/SecurityRequirement.html\" rel=\"noreferrer\"><code>@SecurityRequirement</code></a> annotations to <a href=\"http://docs.swagger.io/swagger-core/v2.1.1/apidocs/io/swagger/v3/oas/annotations/Operation.html\" rel=\"noreferrer\"><code>@Operation</code></a> annotation everywhere in the code?</p>\n\n<p>If it is, how to add exclusions to unsecured paths?</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1699484803,"post_id":77449442,"comment_id":136539363,"body_markdown":"https://www.liquidweb.com/kb/installing-tomcat-9-on-windows/","body":"<a href=\"https://www.liquidweb.com/kb/installing-tomcat-9-on-windows/\" rel=\"nofollow noreferrer\">liquidweb.com/kb/installing-tomcat-9-on-windows</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1699490907,"post_id":77449442,"comment_id":136540022,"body_markdown":"_Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;_ I have a similar (version 9.0.36) Tomcat installation on my computer (Windows OS and JDK 8), but have a _Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;_ when I run the `startup.bat`. I don&#39;t know if that makes a difference. With a successful Tomcat startup the a console page should remain open and closes on shutdown. I am using Windows Command Prompt.","body":"<i>Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;</i> I have a similar (version 9.0.36) Tomcat installation on my computer (Windows OS and JDK 8), but have a <i>Using CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;</i> when I run the <code>startup.bat</code>. I don&#39;t know if that makes a difference. With a successful Tomcat startup the a console page should remain open and closes on shutdown. I am using Windows Command Prompt."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1700033593,"post_id":77449442,"comment_id":136603880,"body_markdown":"Try .\\catalina.cmd run This will run the Tomcat in the current console and if any startup errors are encountered it should print on the console. Give it a try and check.","body":"Try .\\catalina.cmd run This will run the Tomcat in the current console and if any startup errors are encountered it should print on the console. Give it a try and check."}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699483885,"creation_date":1699483885,"question_id":77449442,"body_markdown":"I&#39;m trying to run [this][1] sample tomcat web application with **apache-tomcat-9.0.82** and java 8\r\n\r\nI&#39;ve moved the **sample.war** file to the recommended folder. Opened powershell with admin privileges:\r\n\r\n\r\n```\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; .\\startup.bat\r\nUsing CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;\r\nUsing CATALINA_HOME:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;\r\nUsing CATALINA_TMPDIR: &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps\\temp&quot;\r\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;\r\nUsing CLASSPATH:       &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\bootstrap.jar;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\tomcat-juli.jar&quot;\r\nUsing CATALINA_OPTS:   &quot;&quot;\r\n```\r\n\r\na console page opens for half a second and then closes...\r\n\r\nThe **C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\logs** directory is empty\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\r\n\r\n**EDIT**\r\nI haven&#39;t touched any config file. There&#39;s no process running on port 8080\r\n\r\n```\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; netstat -ano | findstr :8080\r\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt;\r\n```","title":"Tomcat sample application doesn&#39;t start","body":"<p>I'm trying to run <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/appdev/sample/\" rel=\"nofollow noreferrer\">this</a> sample tomcat web application with <strong>apache-tomcat-9.0.82</strong> and java 8</p>\n<p>I've moved the <strong>sample.war</strong> file to the recommended folder. Opened powershell with admin privileges:</p>\n<pre><code>PS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; .\\startup.bat\nUsing CATALINA_BASE:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps&quot;\nUsing CATALINA_HOME:   &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\webapps\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;\nUsing CLASSPATH:       &quot;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\bootstrap.jar;C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;\n</code></pre>\n<p>a console page opens for half a second and then closes...</p>\n<p>The <strong>C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\logs</strong> directory is empty</p>\n<p><strong>EDIT</strong>\nI haven't touched any config file. There's no process running on port 8080</p>\n<pre><code>PS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt; netstat -ano | findstr :8080\nPS C:\\apache-tomcat-9.0.82\\apache-tomcat-9.0.82\\bin&gt;\n</code></pre>\n"},{"tags":["java","android","react-native","android-studio"],"owner":{"account_id":29822304,"reputation":17,"user_id":22855187,"display_name":"LH333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699483315,"creation_date":1699483315,"question_id":77449401,"body_markdown":"It started goes wrong after i changed the package name in:\r\n&gt; In: android/app/src/main/java/MY/APP/NEW_ID/MainActivity.java:\r\nand\r\n&gt; In android/app/src/main/java/MY/APP/NEW_ID/MainApplication.java:\r\n\r\nThen started to appear the following error: \r\n\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 9m 13s\r\ninfo Run CLI with --verbose flag for more details.\r\n\r\n```\r\n\r\nThis is the main, but appear others things:\r\n\r\n\r\n\r\n```\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\nw: Detected multiple Kotlin daemon sessions at build/kotlin/sessions\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n121 actionable tasks: 116 executed, 5 up-to-date\r\n\r\ninfo &#128161; Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \r\n\r\nNote: /home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/node_modules/react-native-document-picker/android/src/main/java/com/reactnativedocumentpicker/RNDocumentPickerModule.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n/home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/android/app/src/main/java/com/notaedeo/MainApplication.java:61: error: cannot find symbol\r\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n    ^\r\n  symbol:   variable ReactNativeFlipper\r\n  location: class MainApplication\r\n1 error\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n```\r\n\r\n","title":"BUILD FAILED , Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;","body":"<p>It started goes wrong after i changed the package name in:</p>\n<blockquote>\n<p>In: android/app/src/main/java/MY/APP/NEW_ID/MainActivity.java:\nand\nIn android/app/src/main/java/MY/APP/NEW_ID/MainApplication.java:</p>\n</blockquote>\n<p>Then started to appear the following error:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 9m 13s\ninfo Run CLI with --verbose flag for more details.\n\n</code></pre>\n<p>This is the main, but appear others things:</p>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac FAILED\nw: Detected multiple Kotlin daemon sessions at build/kotlin/sessions\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/8.0.1/userguide/command_line_interface.html#sec:command_line_warnings\n121 actionable tasks: 116 executed, 5 up-to-date\n\ninfo 💡 Tip: Make sure that you have set up your development environment correctly, by running react-native doctor. To read more about doctor command visit: https://github.com/react-native-community/cli/blob/main/packages/cli-doctor/README.md#doctor \n\nNote: /home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/node_modules/react-native-document-picker/android/src/main/java/com/reactnativedocumentpicker/RNDocumentPickerModule.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n/home/leonardo/Documentos/Programacao/algoritimos/react_native/Notae_Deo/android/app/src/main/java/com/notaedeo/MainApplication.java:61: error: cannot find symbol\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n    ^\n  symbol:   variable ReactNativeFlipper\n  location: class MainApplication\n1 error\n\nFAILURE: Build failed with an exception.\n\n</code></pre>\n"},{"tags":["java","android","comparator","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699482077,"creation_date":1699482077,"answer_id":77449323,"question_id":77397257,"body_markdown":"&lt;h3&gt; Java Android Video Issue &lt;/h3&gt;\r\n\r\n**Comparator:**\r\nThe `Comparator Logic` you coded `(o1, o2) -&gt; Math.max(o1.height, o2.height)` is not correct. This `comparator` actually provides the maximum height when comparing two formats, but that&#39;s not the correct output for a comparator. A `comparator` should instead give an `integer` that indicates the order, like a negative number for `less than` zero for `equal` and a positive number for `greater than`.\r\n\r\nMake sure that the `TrackSelectionDialog` gets the `trackFormatComparator` correctly passed and is also used rightly.\r\n\r\nRegarding this replace the line of code with this:\r\n\r\n```java\r\n// Fixed the comparator logic code for sorting by height\r\ntrackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Integer.compare(o1.height, o2.height));\r\n```\r\n\r\nNow your `Comparator` should return an integer based on the height comparison, which is what is expected.","title":"ExoPlayer TrackSelectionDialog comparator not working","body":"<h3> Java Android Video Issue </h3>\n<p><strong>Comparator:</strong>\nThe <code>Comparator Logic</code> you coded <code>(o1, o2) -&gt; Math.max(o1.height, o2.height)</code> is not correct. This <code>comparator</code> actually provides the maximum height when comparing two formats, but that's not the correct output for a comparator. A <code>comparator</code> should instead give an <code>integer</code> that indicates the order, like a negative number for <code>less than</code> zero for <code>equal</code> and a positive number for <code>greater than</code>.</p>\n<p>Make sure that the <code>TrackSelectionDialog</code> gets the <code>trackFormatComparator</code> correctly passed and is also used rightly.</p>\n<p>Regarding this replace the line of code with this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Fixed the comparator logic code for sorting by height\ntrackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Integer.compare(o1.height, o2.height));\n</code></pre>\n<p>Now your <code>Comparator</code> should return an integer based on the height comparison, which is what is expected.</p>\n"}],"owner":{"account_id":14911195,"reputation":2478,"user_id":10766642,"display_name":"danyapd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77449323,"answer_count":1,"score":1,"last_activity_date":1699482077,"creation_date":1698766519,"question_id":77397257,"body_markdown":"I am printing video tracks to user in &quot;height&quot; + &quot;p&quot; format.\r\nBy default `TrackSelectionDialog` printing them let&#39;s say in random order. I want to reorder them from min to max.\r\n\r\nSo I have this in my `TrackSelectionView` `init`:\r\n\r\n    /**\r\n     * Initialize the view to select tracks for a specified renderer using {@link MappedTrackInfo} and\r\n     * a set of {@link DefaultTrackSelector.Parameters}.\r\n     *\r\n     * @param mappedTrackInfo The {@link MappedTrackInfo}.\r\n     * @param rendererIndex The index of the renderer.\r\n     * @param isDisabled Whether the renderer should be initially shown as disabled.\r\n     * @param overrides List of initial overrides to be shown for this renderer. There must be at most\r\n     *     one override for each track group. If {@link #setAllowMultipleOverrides(boolean)} hasn&#39;t\r\n     *     been set to {@code true}, only the first override is used.\r\n     * @param trackFormatComparator An optional comparator used to determine the display order of the\r\n     *     tracks within each track group.\r\n     * @param listener An optional listener for track selection updates.\r\n     */\r\n    public void init(\r\n            MappedTrackInfo mappedTrackInfo,\r\n            int rendererIndex,\r\n            boolean isDisabled,\r\n            List&lt;SelectionOverride&gt; overrides,\r\n            @Nullable Comparator&lt;Format&gt; trackFormatComparator,\r\n            @Nullable TrackSelectionListener listener) {\r\n        this.mappedTrackInfo = mappedTrackInfo;\r\n        this.rendererIndex = rendererIndex;\r\n        this.isDisabled = isDisabled;\r\n        if (trackFormatComparator == null)\r\n            this.trackInfoComparator = null;\r\n        else\r\n            this.trackInfoComparator = new Comparator&lt;TrackInfo&gt;() {\r\n                @Override\r\n                public int compare(TrackInfo o1, TrackInfo o2) {\r\n                    return trackFormatComparator.compare(o1.format, o2.format);\r\n                }\r\n            };\r\n        this.listener = listener;\r\n        int maxOverrides = allowMultipleOverrides ? overrides.size() : Math.min(overrides.size(), 1);\r\n        for (int i = 0; i &lt; maxOverrides; i++) {\r\n            SelectionOverride override = overrides.get(i);\r\n            this.overrides.put(override.groupIndex, override);\r\n        }\r\n        updateViews();\r\n    }\r\n\r\nI&#39;ve add this to my `TrackSelectionDialog`:\r\n\r\n    public void setTrackFormatComparator(@Nullable Comparator&lt;Format&gt; trackFormatComparator) {\r\n            TrackSelectionDialog.trackFormatComparator = trackFormatComparator;\r\n        }\r\n\r\nand uncomment `trackFormatComparator` in `onCreateView` of `TrackSelectionViewFragment` (in `TrackSelectionDialog` class):\r\n\r\n        trackSelectionView.init(\r\n                mappedTrackInfo,\r\n                rendererIndex,\r\n                isDisabled,\r\n                overrides,\r\n                trackFormatComparator  /*null*/,\r\n                /* listener= */ this);\r\n\r\nThen in my player activity I wrote this to sort video tracks by frame height:\r\n\r\n            TrackSelectionDialog trackSelectionDialog = TrackSelectionDialog.createForTrackSelector(\r\n                    trackSelector, dismissedDialog -&gt; isShowingTrackSelectionDialog = false);\r\n            trackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Math.max(o1.height, o2.height));\r\n            trackSelectionDialog.show(getSupportFragmentManager(), null);\r\n\r\nBut nothing happens. **Video tracks still sorted default.** \r\n\r\nWhat is wrong with my code or what part of code I&#39;ve forgot?","title":"ExoPlayer TrackSelectionDialog comparator not working","body":"<p>I am printing video tracks to user in &quot;height&quot; + &quot;p&quot; format.\nBy default <code>TrackSelectionDialog</code> printing them let's say in random order. I want to reorder them from min to max.</p>\n<p>So I have this in my <code>TrackSelectionView</code> <code>init</code>:</p>\n<pre><code>/**\n * Initialize the view to select tracks for a specified renderer using {@link MappedTrackInfo} and\n * a set of {@link DefaultTrackSelector.Parameters}.\n *\n * @param mappedTrackInfo The {@link MappedTrackInfo}.\n * @param rendererIndex The index of the renderer.\n * @param isDisabled Whether the renderer should be initially shown as disabled.\n * @param overrides List of initial overrides to be shown for this renderer. There must be at most\n *     one override for each track group. If {@link #setAllowMultipleOverrides(boolean)} hasn't\n *     been set to {@code true}, only the first override is used.\n * @param trackFormatComparator An optional comparator used to determine the display order of the\n *     tracks within each track group.\n * @param listener An optional listener for track selection updates.\n */\npublic void init(\n        MappedTrackInfo mappedTrackInfo,\n        int rendererIndex,\n        boolean isDisabled,\n        List&lt;SelectionOverride&gt; overrides,\n        @Nullable Comparator&lt;Format&gt; trackFormatComparator,\n        @Nullable TrackSelectionListener listener) {\n    this.mappedTrackInfo = mappedTrackInfo;\n    this.rendererIndex = rendererIndex;\n    this.isDisabled = isDisabled;\n    if (trackFormatComparator == null)\n        this.trackInfoComparator = null;\n    else\n        this.trackInfoComparator = new Comparator&lt;TrackInfo&gt;() {\n            @Override\n            public int compare(TrackInfo o1, TrackInfo o2) {\n                return trackFormatComparator.compare(o1.format, o2.format);\n            }\n        };\n    this.listener = listener;\n    int maxOverrides = allowMultipleOverrides ? overrides.size() : Math.min(overrides.size(), 1);\n    for (int i = 0; i &lt; maxOverrides; i++) {\n        SelectionOverride override = overrides.get(i);\n        this.overrides.put(override.groupIndex, override);\n    }\n    updateViews();\n}\n</code></pre>\n<p>I've add this to my <code>TrackSelectionDialog</code>:</p>\n<pre><code>public void setTrackFormatComparator(@Nullable Comparator&lt;Format&gt; trackFormatComparator) {\n        TrackSelectionDialog.trackFormatComparator = trackFormatComparator;\n    }\n</code></pre>\n<p>and uncomment <code>trackFormatComparator</code> in <code>onCreateView</code> of <code>TrackSelectionViewFragment</code> (in <code>TrackSelectionDialog</code> class):</p>\n<pre><code>    trackSelectionView.init(\n            mappedTrackInfo,\n            rendererIndex,\n            isDisabled,\n            overrides,\n            trackFormatComparator  /*null*/,\n            /* listener= */ this);\n</code></pre>\n<p>Then in my player activity I wrote this to sort video tracks by frame height:</p>\n<pre><code>        TrackSelectionDialog trackSelectionDialog = TrackSelectionDialog.createForTrackSelector(\n                trackSelector, dismissedDialog -&gt; isShowingTrackSelectionDialog = false);\n        trackSelectionDialog.setTrackFormatComparator((o1, o2) -&gt; Math.max(o1.height, o2.height));\n        trackSelectionDialog.show(getSupportFragmentManager(), null);\n</code></pre>\n<p>But nothing happens. <strong>Video tracks still sorted default.</strong></p>\n<p>What is wrong with my code or what part of code I've forgot?</p>\n"},{"tags":["java","error-handling","nested","try-catch-finally","try-finally"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1699403098,"post_id":77442101,"comment_id":136526593,"body_markdown":"Looking at the byte code produced might help answer your questions, and also the language spec.","body":"Looking at the byte code produced might help answer your questions, and also the language spec."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699406743,"post_id":77442101,"comment_id":136526849,"body_markdown":"This is not &#39;all or none at all&#39;. This is &#39;all&#39;.","body":"This is not &#39;all or none at all&#39;. This is &#39;all&#39;."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699406566,"creation_date":1699406566,"answer_id":77442343,"question_id":77442101,"body_markdown":"Add an `s4` and an `s5` into the mix and it becomes even clearer than it already should be that this is a hard to maintain mess that requires comments explaining why you&#39;ve got this bizarro mix of nested try blocks.\r\n\r\nHence, I suggest you do this instead:\r\n\r\n```\r\nThrowable t = null;\r\ntry { s1(); } catch (Throwable e) {t = e;}\r\ntry { s2(); } catch (Throwable e) {t = e;}\r\ntry { s3(); } catch (Throwable e) {t = e;}\r\nif (t != null) throw t;\r\n```\r\n\r\nYou can fancy that up some and replace `t = e;` with a utility method (`t = update(t, e);`) which, if an exception has already occurred, will attach them as suppressed exceptions just like how try-finally does it.\r\n\r\nOr, even nicer, add lambda support:\r\n\r\n```\r\npublic final class Cleanup {\r\n  public interface CleanupJob&lt;T extends Throwable&gt; {\r\n    void cleanup() throws T;\r\n  }\r\n\r\n  @SafeVarargs\r\n  public static &lt;T extends Throwable&gt; void cleanup(CleanupJob&lt;? extends T&gt;... jobs) {\r\n    Throwable ex = null;\r\n    for (var job : jobs) try {\r\n      job.cleanup();\r\n    } catch (Exception e) {\r\n      if (ex == null) {\r\n        ex = e;\r\n      } else {\r\n        ex.addSuppressed(e);\r\n      }\r\n    }\r\n\r\n    if (ex != null) throw (T) ex;\r\n  }\r\n}\r\n```\r\n\r\nTo use:\r\n\r\n```\r\nimport static CleanupRunner.cleanup;\r\n\r\n...\r\n\r\ncleanup(\r\n() -&gt; s1(),\r\n() -&gt; s2(),\r\n() -&gt; s3(),\r\n() -&gt; s4());\r\n\r\n// or even\r\n\r\ncleanup(\r\n  this::s1,\r\n  ref::s2,\r\n  SomeClass::staticS3\r\n);\r\n```\r\n\r\n&gt; Also is it theoretically possible that an Error is thrown by the JVM in the first code example at // not a statement (see code below), such that the inner try block isn&#39;t attemped anymore?\r\n\r\nIt is not.\r\n","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<p>Add an <code>s4</code> and an <code>s5</code> into the mix and it becomes even clearer than it already should be that this is a hard to maintain mess that requires comments explaining why you've got this bizarro mix of nested try blocks.</p>\n<p>Hence, I suggest you do this instead:</p>\n<pre><code>Throwable t = null;\ntry { s1(); } catch (Throwable e) {t = e;}\ntry { s2(); } catch (Throwable e) {t = e;}\ntry { s3(); } catch (Throwable e) {t = e;}\nif (t != null) throw t;\n</code></pre>\n<p>You can fancy that up some and replace <code>t = e;</code> with a utility method (<code>t = update(t, e);</code>) which, if an exception has already occurred, will attach them as suppressed exceptions just like how try-finally does it.</p>\n<p>Or, even nicer, add lambda support:</p>\n<pre><code>public final class Cleanup {\n  public interface CleanupJob&lt;T extends Throwable&gt; {\n    void cleanup() throws T;\n  }\n\n  @SafeVarargs\n  public static &lt;T extends Throwable&gt; void cleanup(CleanupJob&lt;? extends T&gt;... jobs) {\n    Throwable ex = null;\n    for (var job : jobs) try {\n      job.cleanup();\n    } catch (Exception e) {\n      if (ex == null) {\n        ex = e;\n      } else {\n        ex.addSuppressed(e);\n      }\n    }\n\n    if (ex != null) throw (T) ex;\n  }\n}\n</code></pre>\n<p>To use:</p>\n<pre><code>import static CleanupRunner.cleanup;\n\n...\n\ncleanup(\n() -&gt; s1(),\n() -&gt; s2(),\n() -&gt; s3(),\n() -&gt; s4());\n\n// or even\n\ncleanup(\n  this::s1,\n  ref::s2,\n  SomeClass::staticS3\n);\n</code></pre>\n<blockquote>\n<p>Also is it theoretically possible that an Error is thrown by the JVM in the first code example at // not a statement (see code below), such that the inner try block isn't attemped anymore?</p>\n</blockquote>\n<p>It is not.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699418482,"creation_date":1699406815,"answer_id":77442348,"question_id":77442101,"body_markdown":"&gt; _&quot;... I wanted to make sure that each statement is attempted to be executed (either all or none at all). ...&quot;_\r\n\r\nTo preface, with the provided examples, all of the statements will be executed.\\\r\nThere would be no, _&quot;... or none at all&quot;_.\r\n\r\nUtilize a _boolean_, here is an example.\r\n\r\n```java\r\nboolean exit = false;\r\ntry {\r\n        \r\n} catch (Throwable t) {\r\n    exit = true;\r\n} finally {\r\n    if (!exit) {\r\n        try {\r\n\r\n        } catch (Throwable t) {\r\n            exit = true;\r\n        } finally {\r\n        \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTypically, a _finally_ code-block is used to simply apply a final procedure.\\\r\nWhich, in some cases is actually necessary, e.g., closing a _[Closeable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html)_ object.\\\r\nAnd realistically, this is why the _[AutoCloseable](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html)_ interface, and the _[try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)_ syntax, was implemented.\r\n\r\n```java\r\nint value;\r\ntry {\r\n    value = Integer.parseInt(&quot;abc&quot;);\r\n} finally {\r\n    value = 123;\r\n}\r\n```\r\n\r\nIn other-words, while your code is permissible, and valid, you typically would not want to keep nesting the _try_ code-blocks.\\\r\nSimply re-evaluate your current _design_ and _[control-flow](https://en.wikipedia.org/wiki/Control_flow)_.\r\n\r\n&gt; _&quot;... Then I noticed that there is another (maybe more correct?) way to do the same thing ...&quot;_\r\n\r\nCorrect, this example will provide the same functionality.\\\r\nAnd, I imagine the _interpreter_ would compile a similar _&quot;[bytecode](https://en.wikipedia.org/wiki/Java_bytecode)&quot;_, for each.\r\n\r\n&gt; _&quot;... Is there actually a difference between those approaches in terms of guarantees that the JVM provides? ...&quot;_\r\n\r\nThe guarantees would be the same; the abstraction is the same.\\\r\nEach _finally_ block will be executed, regardless of whether a _Throwable_ is thrown or not; unlike the _catch_ block.\r\n\r\n&gt; _&quot;... is it theoretically possible that an `Error` is thrown by the JVM in the first code example ... such that the inner `try` block isn&#39;t attemped anymore? ...&quot;_\r\n\r\nSimilarly, if an _Error_ is thrown at that line, any subsequent code would not be executed.\\\r\nThe program will simply halt and exit.\\\r\nYou would need to place that code within a _try-catch_ block as well.\r\n\r\n```java\r\ntry {\r\n\r\n} finally {\r\n    try {\r\n        throw new Error();\r\n    } finally {\r\n\r\n    }\r\n}\r\n```\r\n","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<blockquote>\n<p><em>&quot;... I wanted to make sure that each statement is attempted to be executed (either all or none at all). ...&quot;</em></p>\n</blockquote>\n<p>To preface, with the provided examples, all of the statements will be executed.<br />\nThere would be no, <em>&quot;... or none at all&quot;</em>.</p>\n<p>Utilize a <em>boolean</em>, here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean exit = false;\ntry {\n        \n} catch (Throwable t) {\n    exit = true;\n} finally {\n    if (!exit) {\n        try {\n\n        } catch (Throwable t) {\n            exit = true;\n        } finally {\n        \n        }\n    }\n}\n</code></pre>\n<p>Typically, a <em>finally</em> code-block is used to simply apply a final procedure.<br />\nWhich, in some cases is actually necessary, e.g., closing a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\">Closeable</a></em> object.<br />\nAnd realistically, this is why the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoCloseable</a></em> interface, and the <em><a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a></em> syntax, was implemented.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int value;\ntry {\n    value = Integer.parseInt(&quot;abc&quot;);\n} finally {\n    value = 123;\n}\n</code></pre>\n<p>In other-words, while your code is permissible, and valid, you typically would not want to keep nesting the <em>try</em> code-blocks.<br />\nSimply re-evaluate your current <em>design</em> and <em><a href=\"https://en.wikipedia.org/wiki/Control_flow\" rel=\"nofollow noreferrer\">control-flow</a></em>.</p>\n<blockquote>\n<p><em>&quot;... Then I noticed that there is another (maybe more correct?) way to do the same thing ...&quot;</em></p>\n</blockquote>\n<p>Correct, this example will provide the same functionality.<br />\nAnd, I imagine the <em>interpreter</em> would compile a similar <em>&quot;<a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"nofollow noreferrer\">bytecode</a>&quot;</em>, for each.</p>\n<blockquote>\n<p><em>&quot;... Is there actually a difference between those approaches in terms of guarantees that the JVM provides? ...&quot;</em></p>\n</blockquote>\n<p>The guarantees would be the same; the abstraction is the same.<br />\nEach <em>finally</em> block will be executed, regardless of whether a <em>Throwable</em> is thrown or not; unlike the <em>catch</em> block.</p>\n<blockquote>\n<p><em>&quot;... is it theoretically possible that an <code>Error</code> is thrown by the JVM in the first code example ... such that the inner <code>try</code> block isn't attemped anymore? ...&quot;</em></p>\n</blockquote>\n<p>Similarly, if an <em>Error</em> is thrown at that line, any subsequent code would not be executed.<br />\nThe program will simply halt and exit.<br />\nYou would need to place that code within a <em>try-catch</em> block as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n\n} finally {\n    try {\n        throw new Error();\n    } finally {\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1699481495,"creation_date":1699400969,"question_id":77442101,"body_markdown":"Recently I was working on a &quot;cleanup&quot; method and I wanted to make sure that each statement is attempted to be executed. My first approach was something like this (where `s#;` are statements):\r\n\r\n```java\r\ntry {\r\n    s1;\r\n} finally {\r\n    try {\r\n        s2;\r\n    } finally {\r\n        s3;\r\n    }\r\n}\r\n```\r\n\r\nFor simplicity I have omitted the exception handling part here (the `catch` blocks), where I store the first occurring and subsequent suppressed `Throwable`s to rethrow later.\r\n\r\nThen I noticed that there is another (maybe more correct?) way to do the same thing:\r\n\r\n```java\r\ntry {\r\n    try {\r\n        s1;\r\n    } finally {\r\n        s2;\r\n    }\r\n} finally {\r\n    s3;\r\n}\r\n```\r\n\r\nIn my opinion the second approach *feels* more correct because as soon as `s1;` is attempted, we are already inside both `try` blocks, which guarantees that all `finally` blocks will be executed.\r\n\r\nMy question is: Is there actually a difference between those approaches in terms of guarantees that the JVM provides?\r\n\r\nAlso is it theoretically possible that an `Error` is thrown by the JVM in the first code example at `// not a statement` (see code below), such that the inner `try`-`finally` block isn&#39;t attemped anymore?\r\n\r\n```java\r\ntry {\r\n    s1;\r\n} finally {\r\n    // not a statement\r\n    try {\r\n        s2;\r\n    } finally {\r\n        s3;\r\n    }\r\n}\r\n```\r\n\r\nAccording to [11.1.3. Asynchronous Exceptions][1], exceptions can be thrown basically anywhere. This is the main reason why I think that nesting the `try`-`finally` blocks is necessary as shown in the second code example. Or do I understand the JLS wrong and exceptions can only occur if there is also a statement?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3","title":"Nested try-finally blocks, equivalence and guarantees in Java","body":"<p>Recently I was working on a &quot;cleanup&quot; method and I wanted to make sure that each statement is attempted to be executed. My first approach was something like this (where <code>s#;</code> are statements):</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    s1;\n} finally {\n    try {\n        s2;\n    } finally {\n        s3;\n    }\n}\n</code></pre>\n<p>For simplicity I have omitted the exception handling part here (the <code>catch</code> blocks), where I store the first occurring and subsequent suppressed <code>Throwable</code>s to rethrow later.</p>\n<p>Then I noticed that there is another (maybe more correct?) way to do the same thing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    try {\n        s1;\n    } finally {\n        s2;\n    }\n} finally {\n    s3;\n}\n</code></pre>\n<p>In my opinion the second approach <em>feels</em> more correct because as soon as <code>s1;</code> is attempted, we are already inside both <code>try</code> blocks, which guarantees that all <code>finally</code> blocks will be executed.</p>\n<p>My question is: Is there actually a difference between those approaches in terms of guarantees that the JVM provides?</p>\n<p>Also is it theoretically possible that an <code>Error</code> is thrown by the JVM in the first code example at <code>// not a statement</code> (see code below), such that the inner <code>try</code>-<code>finally</code> block isn't attemped anymore?</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    s1;\n} finally {\n    // not a statement\n    try {\n        s2;\n    } finally {\n        s3;\n    }\n}\n</code></pre>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.1.3\" rel=\"nofollow noreferrer\">11.1.3. Asynchronous Exceptions</a>, exceptions can be thrown basically anywhere. This is the main reason why I think that nesting the <code>try</code>-<code>finally</code> blocks is necessary as shown in the second code example. Or do I understand the JLS wrong and exceptions can only occur if there is also a statement?</p>\n"},{"tags":["java","spring","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":4989848,"reputation":1593,"user_id":4012408,"display_name":"Rafael Guillen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699481066,"creation_date":1699479953,"answer_id":77449154,"question_id":77449078,"body_markdown":"You can organize controllers and navigation this way:\r\n\r\n```java\r\n@Controller\r\n@RequestMapping(&quot;/index&quot;)\r\npublic class IndexController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;index&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n@Controller\r\n@RequestMapping(&quot;/account&quot;)\r\npublic class AccountController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;account&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n@Controller\r\n@RequestMapping(&quot;/register&quot;)\r\npublic class RegisterController {\r\n\r\n    @GetMapping()\r\n    public String get(Model model) {\r\n        return &quot;register&quot;;\r\n    }\r\n...\r\n\r\n}\r\n\r\n```\r\n","title":"Thymeleaf not redirecting to any page beside index.html","body":"<p>You can organize controllers and navigation this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;/index&quot;)\npublic class IndexController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;index&quot;;\n    }\n...\n\n}\n\n@Controller\n@RequestMapping(&quot;/account&quot;)\npublic class AccountController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;account&quot;;\n    }\n...\n\n}\n\n@Controller\n@RequestMapping(&quot;/register&quot;)\npublic class RegisterController {\n\n    @GetMapping()\n    public String get(Model model) {\n        return &quot;register&quot;;\n    }\n...\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":15108042,"reputation":19,"user_id":10903074,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77449154,"answer_count":1,"score":0,"last_activity_date":1699481066,"creation_date":1699479032,"question_id":77449078,"body_markdown":"So basically my issue is I can get the index or the front page for my spring boot application to load but any redirection or anything I do outside of the pages returns a whitelabel error.\r\n\r\nThe file structure looks as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe login controller is like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd the page I&#39;m trying to redirect to is the register.html and the controller for that looks as below:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2IH1p.png\r\n  [2]: https://i.stack.imgur.com/3GsTg.png\r\n  [3]: https://i.stack.imgur.com/5Iebt.png\r\n\r\nAny help with this would be greatly appreciated.","title":"Thymeleaf not redirecting to any page beside index.html","body":"<p>So basically my issue is I can get the index or the front page for my spring boot application to load but any redirection or anything I do outside of the pages returns a whitelabel error.</p>\n<p>The file structure looks as below:</p>\n<p><a href=\"https://i.stack.imgur.com/2IH1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IH1p.png\" alt=\"enter image description here\" /></a></p>\n<p>The login controller is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/3GsTg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3GsTg.png\" alt=\"enter image description here\" /></a></p>\n<p>And the page I'm trying to redirect to is the register.html and the controller for that looks as below:</p>\n<p><a href=\"https://i.stack.imgur.com/5Iebt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Iebt.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help with this would be greatly appreciated.</p>\n"},{"tags":["java","testing","java.util.scanner","inputstream","junit5"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699481546,"post_id":77448384,"comment_id":136538947,"body_markdown":"`Scanner sc = new Scanner(System.in)` runs when the object is constructed. `init()` runs after that. At that point it is too late to reassign the scanner input.","body":"<code>Scanner sc = new Scanner(System.in)</code> runs when the object is constructed. <code>init()</code> runs after that. At that point it is too late to reassign the scanner input."}],"answers":[{"tags":[],"owner":{"account_id":18030424,"reputation":11,"user_id":13105206,"display_name":"tim-danger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699480079,"creation_date":1699480079,"answer_id":77449171,"question_id":77448384,"body_markdown":"I guess you cannot reassign the &quot;standard&quot; input stream (i. e. your System&#39;s input) to your mock-implementation. However, you can create your own instance of a Scanner that uses your mock instead (of the &quot;standard&quot; input stream):\r\n\r\n    @Test\r\n    void test_inputstream_fails_on_mismatch() {\r\n        sc = new Scanner(mockInputStream);\r\n        assertEquals(&quot;quiffdt&quot;, sc.nextLine());\r\n    }\r\n\r\nThat test fails. Is that what you want?","title":"Why is the test &quot;test_inputstream...&quot; succeeding, shouldnt it be failing?","body":"<p>I guess you cannot reassign the &quot;standard&quot; input stream (i. e. your System's input) to your mock-implementation. However, you can create your own instance of a Scanner that uses your mock instead (of the &quot;standard&quot; input stream):</p>\n<pre><code>@Test\nvoid test_inputstream_fails_on_mismatch() {\n    sc = new Scanner(mockInputStream);\n    assertEquals(&quot;quiffdt&quot;, sc.nextLine());\n}\n</code></pre>\n<p>That test fails. Is that what you want?</p>\n"}],"owner":{"account_id":20347088,"reputation":13,"user_id":14924651,"display_name":"Jake Snell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699480079,"creation_date":1699471383,"question_id":77448384,"body_markdown":"```\r\npackage com.skilldistillery.lordo.app;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Scanner;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass UITest {\r\n\r\n\tScanner sc = new Scanner(System.in);\r\n\tInputStream mockInputStream;\r\n\t\r\n    @BeforeEach\r\n    void init() {\r\n        // This will run once before any of the test methods in the class.\r\n        mockInputStream = new MockInputStream();\r\n        System.setIn(mockInputStream);\r\n    }\r\n\r\n\t@Test\r\n\tvoid test_inputstream_fails_on_mismatch() {\r\n\t\tassertEquals(&quot;quiffdt&quot;, sc.nextLine());\r\n\t}\r\n\r\n}\r\nclass MockGame implements CLIGame {\r\n\t@Override\r\n\tpublic void pushEvent(GameEvent event) {}\r\n}\r\n\r\nclass MockInputStream extends InputStream {\r\n\r\n    private byte[] inputBytes;\r\n    private int position = 0;\r\n\r\n    public MockInputStream() {\r\n        String input = &quot;quit&quot; + System.lineSeparator();\r\n        this.inputBytes = input.getBytes();\r\n    }\r\n\r\n    @Override\r\n    public int read() throws IOException {\r\n        if (position &lt; inputBytes.length) {\r\n            return inputBytes[position++];\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public void close() throws IOException {\r\n        super.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIm really new to java, but i thought by setting my input stream to a custom one, i could mock the input stream. is this incorrect? Im trying to set up a mock for a project im working on. And i could be going about this completely wrong, im just not sure.","title":"Why is the test &quot;test_inputstream...&quot; succeeding, shouldnt it be failing?","body":"<pre><code>package com.skilldistillery.lordo.app;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Scanner;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nclass UITest {\n\n    Scanner sc = new Scanner(System.in);\n    InputStream mockInputStream;\n    \n    @BeforeEach\n    void init() {\n        // This will run once before any of the test methods in the class.\n        mockInputStream = new MockInputStream();\n        System.setIn(mockInputStream);\n    }\n\n    @Test\n    void test_inputstream_fails_on_mismatch() {\n        assertEquals(&quot;quiffdt&quot;, sc.nextLine());\n    }\n\n}\nclass MockGame implements CLIGame {\n    @Override\n    public void pushEvent(GameEvent event) {}\n}\n\nclass MockInputStream extends InputStream {\n\n    private byte[] inputBytes;\n    private int position = 0;\n\n    public MockInputStream() {\n        String input = &quot;quit&quot; + System.lineSeparator();\n        this.inputBytes = input.getBytes();\n    }\n\n    @Override\n    public int read() throws IOException {\n        if (position &lt; inputBytes.length) {\n            return inputBytes[position++];\n        } else {\n            return -1;\n        }\n    }\n    \n    @Override\n    public void close() throws IOException {\n        super.close();\n    }\n}\n\n</code></pre>\n<p>Im really new to java, but i thought by setting my input stream to a custom one, i could mock the input stream. is this incorrect? Im trying to set up a mock for a project im working on. And i could be going about this completely wrong, im just not sure.</p>\n"},{"tags":["java","spring","dependencies"],"comments":[{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699479233,"post_id":77449066,"comment_id":136538562,"body_markdown":"could you please add more `pom.xml` to the question?","body":"could you please add more <code>pom.xml</code> to the question?"},{"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"score":0,"creation_date":1699479638,"post_id":77449066,"comment_id":136538653,"body_markdown":"I added it into text","body":"I added it into text"},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":0,"creation_date":1699479883,"post_id":77449066,"comment_id":136538691,"body_markdown":"try removing `.idea` folder after closing the project. Roughly speaking, try re-initializing the project. Also, do you use public M2 repository?","body":"try removing <code>.idea</code> folder after closing the project. Roughly speaking, try re-initializing the project. Also, do you use public M2 repository?"},{"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"score":0,"creation_date":1699480708,"post_id":77449066,"comment_id":136538839,"body_markdown":"removing .idea helped. Thank you so much. And I have no idea honestly - I guess so from what I read","body":"removing .idea helped. Thank you so much. And I have no idea honestly - I guess so from what I read"}],"owner":{"account_id":29858718,"reputation":1,"user_id":22882917,"display_name":"Bronka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699479704,"creation_date":1699478903,"question_id":77449066,"body_markdown":"I am creating my first microservice in Spring and I would like to add dependency spring-boot-starter-validation into my pom.xml, but I have errors that this dependency does not exist. \r\n\r\nI am using java version 17, model Version: 4.0.0 and version of parent 3.1.5\r\n\r\n```\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthe errors I getting:\r\nhttps://i.stack.imgur.com/CEp9j.jpg\r\n\r\nhere is my pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;library&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;library&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;library&lt;/name&gt;\r\n\t&lt;description&gt;my first microservice - REST API library&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI am just trying to google I am new to non-university programming, so I would love to get some help. Thank you very much","title":"Why spring boot dependency spring-boot-starter-validation is missing","body":"<p>I am creating my first microservice in Spring and I would like to add dependency spring-boot-starter-validation into my pom.xml, but I have errors that this dependency does not exist.</p>\n<p>I am using java version 17, model Version: 4.0.0 and version of parent 3.1.5</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the errors I getting:\n<a href=\"https://i.stack.imgur.com/CEp9j.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CEp9j.jpg</a></p>\n<p>here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;library&lt;/groupId&gt;\n    &lt;artifactId&gt;library&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;library&lt;/name&gt;\n    &lt;description&gt;my first microservice - REST API library&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I am just trying to google I am new to non-university programming, so I would love to get some help. Thank you very much</p>\n"},{"tags":["java","angular","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1699476198,"post_id":77448103,"comment_id":136538047,"body_markdown":"you can&#39;t use wild-cards when sending credentials... so be sure to specify methods and header names explicitly... you might also need to be https on both ends for that. A standard GET does not trigger pre-flight CORS check, or any CORS rules. Only the existence of a custom header (which your authorizationheader is) would trigger pre-flight. Also be aware that allowing script access to the cookie that contains your JWT could leave your clients vulnerable to XSS.","body":"you can&#39;t use wild-cards when sending credentials... so be sure to specify methods and header names explicitly... you might also need to be https on both ends for that. A standard GET does not trigger pre-flight CORS check, or any CORS rules. Only the existence of a custom header (which your authorizationheader is) would trigger pre-flight. Also be aware that allowing script access to the cookie that contains your JWT could leave your clients vulnerable to XSS."}],"answers":[{"tags":[],"owner":{"account_id":6483306,"reputation":39,"user_id":5019661,"display_name":"petereneric"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1699473009,"creation_date":1699473009,"answer_id":77448543,"question_id":77448103,"body_markdown":"In my case I had to write the following code to my .htaccess file to prevent CORS error:\r\n\r\n    # Always set these headers.\r\n    Header always set Access-Control-Allow-Origin &quot;*&quot;\r\n    Header always set Access-Control-Allow-Methods &quot;POST, GET, OPTIONS, DELETE, PUT&quot;\r\n    Header always set Access-Control-Max-Age &quot;1000&quot;\r\n    Header always set Access-Control-Allow-Headers &quot;x-requested-with, Content-Type, \r\n    origin, authorization, accept, client-security-token&quot;\r\n    Header always set Access-Control-Expose-Headers: &quot;authorization&quot;\r\n\r\nFor changing or creating a .htaccess file you need access to the file system of your server.","title":"Allow the endpoint only if the user is authenticated","body":"<p>In my case I had to write the following code to my .htaccess file to prevent CORS error:</p>\n<pre><code># Always set these headers.\nHeader always set Access-Control-Allow-Origin &quot;*&quot;\nHeader always set Access-Control-Allow-Methods &quot;POST, GET, OPTIONS, DELETE, PUT&quot;\nHeader always set Access-Control-Max-Age &quot;1000&quot;\nHeader always set Access-Control-Allow-Headers &quot;x-requested-with, Content-Type, \norigin, authorization, accept, client-security-token&quot;\nHeader always set Access-Control-Expose-Headers: &quot;authorization&quot;\n</code></pre>\n<p>For changing or creating a .htaccess file you need access to the file system of your server.</p>\n"},{"tags":[],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1699478958,"creation_date":1699478958,"answer_id":77449070,"question_id":77448103,"body_markdown":"This is how I resolved this issue:\r\n\r\nIn Angular, I created the file **proxy.conf.json** in **src**.\r\n```json\r\n{\r\n  &quot;/api&quot;: {\r\n    &quot;target&quot;: &quot;http://localhost:8080&quot;,\r\n    &quot;pathRewrite&quot;: {\r\n      &quot;^/api&quot;: &quot;/api/&quot;\r\n    },\r\n    &quot;secure&quot;: false,\r\n    &quot;changeOrigin&quot;: true\r\n  }\r\n}\r\n```\r\n\r\nIn **angular.json** I added the following into `&quot;serve&quot;: {`\r\n```json\r\n&quot;options&quot;: {\r\n  &quot;browserTarget&quot;: &quot;angl:build&quot;,\r\n  &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\r\n},\r\n```\r\n\r\nIn **package.json** I replaced `&quot;start&quot;: &quot;ng serve&quot;,` with `&quot;start&quot;: &quot;ng serve --proxy-config src/proxy.conf.json&quot;,`.\r\n\r\nProblem solved, and it does exactly what I wanted. \r\nNothing changed in Spring Boot.","title":"Allow the endpoint only if the user is authenticated","body":"<p>This is how I resolved this issue:</p>\n<p>In Angular, I created the file <strong>proxy.conf.json</strong> in <strong>src</strong>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;/api&quot;: {\n    &quot;target&quot;: &quot;http://localhost:8080&quot;,\n    &quot;pathRewrite&quot;: {\n      &quot;^/api&quot;: &quot;/api/&quot;\n    },\n    &quot;secure&quot;: false,\n    &quot;changeOrigin&quot;: true\n  }\n}\n</code></pre>\n<p>In <strong>angular.json</strong> I added the following into <code>&quot;serve&quot;: {</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;options&quot;: {\n  &quot;browserTarget&quot;: &quot;angl:build&quot;,\n  &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;\n},\n</code></pre>\n<p>In <strong>package.json</strong> I replaced <code>&quot;start&quot;: &quot;ng serve&quot;,</code> with <code>&quot;start&quot;: &quot;ng serve --proxy-config src/proxy.conf.json&quot;,</code>.</p>\n<p>Problem solved, and it does exactly what I wanted.\nNothing changed in Spring Boot.</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77449070,"answer_count":2,"score":-1,"last_activity_date":1699478958,"creation_date":1699468314,"question_id":77448103,"body_markdown":"I am trying to send a GET request with Angular to my Spring Boot application. To be authenticated, this is how I pass the token to the headers:\r\n\r\n```typescript\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor() {}\r\n\r\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\r\n    const token = getCookieValue(&#39;token&#39;);\r\n\r\n    if (token) {\r\n      const authRequest = request.clone({\r\n        setHeaders: {\r\n          Authorization: `Bearer ${token}`\r\n        }\r\n      });\r\n      return next.handle(authRequest);\r\n    }\r\n    return next.handle(request);\r\n  }\r\n}\r\n```\r\n\r\nBrowser gives me this error:\r\n\r\n&gt; Access to XMLHttpRequest at\r\n&gt; &#39;http://localhost:8080/api/user-profile/get-data&#39; from origin\r\n&gt; &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to\r\n&gt; preflight request doesn&#39;t pass access control check: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource.\r\n\r\nThis is my configuration in Spring Boot:\r\n```java\r\npublic class SecurityConfiguration implements WebMvcConfigurer {\r\n    private final JwtFilter jwtFilter;\r\n    private final DataSource dataSource;\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:4200&quot;)\r\n                .allowedMethods(&quot;*&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n        http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\r\n\r\n        http.authorizeHttpRequests(auth -&gt;\r\n                auth\r\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;).authenticated() // also tried with &quot;/api/user-profile/**&quot;\r\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n        );\r\n\r\n        http.httpBasic(withDefaults());\r\n        http.oauth2Login(withDefaults());\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAnd this is how I can send a request and prevent a CORS error:\r\n\r\nSending a basic request (without token):\r\n```typescript\r\nthis.http.get(environment.apiBaseUrl + &#39;user-profile/get-data&#39;).subscribe(result =&gt; {\r\n  console.log(result);\r\n})\r\n```\r\nIn Spring Boot, replaced `.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()` with `.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/api/user-profile/**&quot;).permitAll()`.\r\n\r\nNow I don&#39;t receive an error message but I can send a request without being authenticated and this is not my goal.\r\n\r\nThis is how I try to read the token:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Component\r\npublic class JwtFilter extends OncePerRequestFilter {\r\n    private final CustomUserService customUserService;\r\n    private Jwt jwt;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n        String token = null;\r\n        String username = null;\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            token = authorizationHeader.substring(7);\r\n            // Check if token is valid\r\n            try {\r\n                jwt.isTokenValid(token, customUserService.loadUserByUsername(jwt.extractUsername(token)));\r\n            }\r\n            catch (Exception e) {\r\n                Response responseObj = Response.builder()\r\n                        .code(&quot;UNAUTHORIZED&quot;)\r\n                        .status(HttpStatus.UNAUTHORIZED)\r\n                        .timestamp(LocalDateTime.now())\r\n                        .messages(Collections.singletonList(&quot;Invalid token&quot;))\r\n                        .build();\r\n                ObjectMapper mapper = new ObjectMapper().registerModule(new JavaTimeModule());\r\n                String json = mapper.writeValueAsString(responseObj);\r\n                response.setContentType(&quot;application/json&quot;);\r\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n                response.getWriter().write(json);\r\n                return;\r\n            }\r\n            username = jwt.extractUsername(token);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = customUserService.loadUserByUsername(username);\r\n\r\n            if (jwt.isTokenValid(token, userDetails)) {\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\nI don&#39;t know what I am doing wrong, but `authorizationHeader` is always `null`.\r\n\r\n","title":"Allow the endpoint only if the user is authenticated","body":"<p>I am trying to send a GET request with Angular to my Spring Boot application. To be authenticated, this is how I pass the token to the headers:</p>\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n  constructor() {}\n\n  intercept(request: HttpRequest&lt;unknown&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;unknown&gt;&gt; {\n    const token = getCookieValue('token');\n\n    if (token) {\n      const authRequest = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return next.handle(authRequest);\n    }\n    return next.handle(request);\n  }\n}\n</code></pre>\n<p>Browser gives me this error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at\n'http://localhost:8080/api/user-profile/get-data' from origin\n'http://localhost:4200' has been blocked by CORS policy: Response to\npreflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource.</p>\n</blockquote>\n<p>This is my configuration in Spring Boot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfiguration implements WebMvcConfigurer {\n    private final JwtFilter jwtFilter;\n    private final DataSource dataSource;\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;http://localhost:4200&quot;)\n                .allowedMethods(&quot;*&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable);\n\n        http.sessionManagement(sess -&gt; sess.sessionAuthenticationStrategy(sessionAuthenticationStrategy()));\n\n        http.authorizeHttpRequests(auth -&gt;\n                auth\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/oauth&quot;).authenticated() // also tried with &quot;/api/user-profile/**&quot;\n                        .requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n        );\n\n        http.httpBasic(withDefaults());\n        http.oauth2Login(withDefaults());\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n</code></pre>\n<p>And this is how I can send a request and prevent a CORS error:</p>\n<p>Sending a basic request (without token):</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.http.get(environment.apiBaseUrl + 'user-profile/get-data').subscribe(result =&gt; {\n  console.log(result);\n})\n</code></pre>\n<p>In Spring Boot, replaced <code>.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;).permitAll()</code> with <code>.requestMatchers(&quot;/&quot;, &quot;/api/auth/**&quot;, &quot;/api/user-profile/**&quot;).permitAll()</code>.</p>\n<p>Now I don't receive an error message but I can send a request without being authenticated and this is not my goal.</p>\n<p>This is how I try to read the token:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    private final CustomUserService customUserService;\n    private Jwt jwt;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n        String token = null;\n        String username = null;\n\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            token = authorizationHeader.substring(7);\n            // Check if token is valid\n            try {\n                jwt.isTokenValid(token, customUserService.loadUserByUsername(jwt.extractUsername(token)));\n            }\n            catch (Exception e) {\n                Response responseObj = Response.builder()\n                        .code(&quot;UNAUTHORIZED&quot;)\n                        .status(HttpStatus.UNAUTHORIZED)\n                        .timestamp(LocalDateTime.now())\n                        .messages(Collections.singletonList(&quot;Invalid token&quot;))\n                        .build();\n                ObjectMapper mapper = new ObjectMapper().registerModule(new JavaTimeModule());\n                String json = mapper.writeValueAsString(responseObj);\n                response.setContentType(&quot;application/json&quot;);\n                response.setCharacterEncoding(&quot;UTF-8&quot;);\n                response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n                response.getWriter().write(json);\n                return;\n            }\n            username = jwt.extractUsername(token);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = customUserService.loadUserByUsername(username);\n\n            if (jwt.isTokenValid(token, userDetails)) {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>I don't know what I am doing wrong, but <code>authorizationHeader</code> is always <code>null</code>.</p>\n"},{"tags":["java","date-formatting","duration"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":5,"up_vote_count":102,"is_accepted":true,"score":97,"last_activity_date":1446131072,"creation_date":1225921772,"answer_id":266846,"question_id":266825,"body_markdown":"If you&#39;re using a version of Java prior to 8... you can use [Joda Time][1] and [`PeriodFormatter`][2]. If you&#39;ve really got a duration (i.e. an elapsed amount of time, with no reference to a calendar system) then you should probably be using `Duration` for the most part - you can then call `toPeriod` (specifying whatever `PeriodType` you want to reflect whether 25 hours becomes 1 day and 1 hour or not, etc) to get a `Period` which you can format.\r\n\r\nIf you&#39;re using Java 8 or later: I&#39;d normally suggest using `java.time.Duration` to represent the duration. You can then call `getSeconds()` or the like to obtain an integer for standard string formatting as per bobince&#39;s answer if you need to - although you should be careful of the situation where the duration is negative, as you probably want a *single* negative sign in the output string. So something like:\r\n\r\n    public static String formatDuration(Duration duration) {\r\n        long seconds = duration.getSeconds();\r\n        long absSeconds = Math.abs(seconds);\r\n        String positive = String.format(\r\n            &quot;%d:%02d:%02d&quot;,\r\n            absSeconds / 3600,\r\n            (absSeconds % 3600) / 60,\r\n            absSeconds % 60);\r\n        return seconds &lt; 0 ? &quot;-&quot; + positive : positive;\r\n    }\r\n\r\nFormatting this way is *reasonably* simple, if annoyingly manual. For *parsing* it becomes a harder matter in general... You could still use Joda Time even with Java 8 if you want to, of course.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/format/PeriodFormatter.html","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>If you're using a version of Java prior to 8... you can use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a> and <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/format/PeriodFormatter.html\" rel=\"noreferrer\"><code>PeriodFormatter</code></a>. If you've really got a duration (i.e. an elapsed amount of time, with no reference to a calendar system) then you should probably be using <code>Duration</code> for the most part - you can then call <code>toPeriod</code> (specifying whatever <code>PeriodType</code> you want to reflect whether 25 hours becomes 1 day and 1 hour or not, etc) to get a <code>Period</code> which you can format.</p>\n\n<p>If you're using Java 8 or later: I'd normally suggest using <code>java.time.Duration</code> to represent the duration. You can then call <code>getSeconds()</code> or the like to obtain an integer for standard string formatting as per bobince's answer if you need to - although you should be careful of the situation where the duration is negative, as you probably want a <em>single</em> negative sign in the output string. So something like:</p>\n\n<pre><code>public static String formatDuration(Duration duration) {\n    long seconds = duration.getSeconds();\n    long absSeconds = Math.abs(seconds);\n    String positive = String.format(\n        \"%d:%02d:%02d\",\n        absSeconds / 3600,\n        (absSeconds % 3600) / 60,\n        absSeconds % 60);\n    return seconds &lt; 0 ? \"-\" + positive : positive;\n}\n</code></pre>\n\n<p>Formatting this way is <em>reasonably</em> simple, if annoyingly manual. For <em>parsing</em> it becomes a harder matter in general... You could still use Joda Time even with Java 8 if you want to, of course.</p>\n"},{"tags":[],"owner":{"account_id":10108,"reputation":530002,"user_id":18936,"display_name":"bobince"},"down_vote_count":1,"up_vote_count":233,"is_accepted":false,"score":232,"last_activity_date":1440865595,"creation_date":1225924132,"answer_id":266970,"question_id":266825,"body_markdown":"If you don&#39;t want to drag in libraries, it&#39;s simple enough to do yourself using a Formatter, or related shortcut eg. given integer number of seconds s:\r\n\r\n      String.format(&quot;%d:%02d:%02d&quot;, s / 3600, (s % 3600) / 60, (s % 60));","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>If you don't want to drag in libraries, it's simple enough to do yourself using a Formatter, or related shortcut eg. given integer number of seconds s:</p>\n\n<pre><code>  String.format(\"%d:%02d:%02d\", s / 3600, (s % 3600) / 60, (s % 60));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204775,"reputation":317,"user_id":453178,"display_name":"Mihai Vasilache"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1306092155,"creation_date":1306092155,"answer_id":6090189,"question_id":266825,"body_markdown":"    long duration = 4 * 60 * 60 * 1000;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss.SSS&quot;, Locale.getDefault());\r\n    log.info(&quot;Duration: &quot; + sdf.format(new Date(duration - TimeZone.getDefault().getRawOffset())));","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<pre><code>long duration = 4 * 60 * 60 * 1000;\nSimpleDateFormat sdf = new SimpleDateFormat(\"HH:mm:ss.SSS\", Locale.getDefault());\nlog.info(\"Duration: \" + sdf.format(new Date(duration - TimeZone.getDefault().getRawOffset())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":41904,"reputation":5388,"user_id":121956,"accept_rate":44,"display_name":"Gili Nachum"},"down_vote_count":2,"up_vote_count":195,"is_accepted":false,"score":193,"last_activity_date":1542208572,"creation_date":1378375700,"answer_id":18633466,"question_id":266825,"body_markdown":"I use Apache common&#39;s [DurationFormatUtils][1] like so:  \r\n\r\n    DurationFormatUtils.formatDuration(millis, &quot;**H:mm:ss**&quot;, true);\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.0/org/apache/commons/lang3/time/DurationFormatUtils.html","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I use Apache common's <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.0/org/apache/commons/lang3/time/DurationFormatUtils.html\" rel=\"noreferrer\">DurationFormatUtils</a> like so:  </p>\n\n<pre><code>DurationFormatUtils.formatDuration(millis, \"**H:mm:ss**\", true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4258459,"reputation":41,"user_id":3483443,"display_name":"sbclint"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396321352,"creation_date":1396321352,"answer_id":22776038,"question_id":266825,"body_markdown":"This is a working option.\r\n\r\n\r\n    public static String showDuration(LocalTime otherTime){          \r\n        DateTimeFormatter df = DateTimeFormatter.ISO_LOCAL_TIME;\r\n        LocalTime now = LocalTime.now();\r\n        System.out.println(&quot;now: &quot; + now);\r\n        System.out.println(&quot;otherTime: &quot; + otherTime);\r\n        System.out.println(&quot;otherTime: &quot; + otherTime.format(df));\r\n        \r\n        Duration span = Duration.between(otherTime, now);\r\n        LocalTime fTime = LocalTime.ofNanoOfDay(span.toNanos());\r\n        String output = fTime.format(df);\r\n        \r\n        System.out.println(output);\r\n        return output;\r\n    }\r\n\r\nCall the method with\r\n\r\n    System.out.println(showDuration(LocalTime.of(9, 30, 0, 0)));\r\n\r\nProduces something like:\r\n\r\n    otherTime: 09:30\r\n    otherTime: 09:30:00\r\n    11:31:27.463\r\n    11:31:27.463","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This is a working option.</p>\n\n<pre><code>public static String showDuration(LocalTime otherTime){          \n    DateTimeFormatter df = DateTimeFormatter.ISO_LOCAL_TIME;\n    LocalTime now = LocalTime.now();\n    System.out.println(\"now: \" + now);\n    System.out.println(\"otherTime: \" + otherTime);\n    System.out.println(\"otherTime: \" + otherTime.format(df));\n\n    Duration span = Duration.between(otherTime, now);\n    LocalTime fTime = LocalTime.ofNanoOfDay(span.toNanos());\n    String output = fTime.format(df);\n\n    System.out.println(output);\n    return output;\n}\n</code></pre>\n\n<p>Call the method with</p>\n\n<pre><code>System.out.println(showDuration(LocalTime.of(9, 30, 0, 0)));\n</code></pre>\n\n<p>Produces something like:</p>\n\n<pre><code>otherTime: 09:30\notherTime: 09:30:00\n11:31:27.463\n11:31:27.463\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2614507,"reputation":304,"user_id":2263885,"display_name":"patrick"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1525708522,"creation_date":1422145866,"answer_id":28131899,"question_id":266825,"body_markdown":"This might be kind of hacky, but it is a good solution if one is bent on accomplishing this using Java 8&#39;s `java.time`:\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.time.temporal.ChronoField;\r\n    import java.time.temporal.Temporal;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.time.temporal.TemporalField;\r\n    import java.time.temporal.UnsupportedTemporalTypeException;\r\n    \r\n    public class TemporalDuration implements TemporalAccessor {\r\n        private static final Temporal BASE_TEMPORAL = LocalDateTime.of(0, 1, 1, 0, 0);\r\n        \r\n        private final Duration duration;\r\n        private final Temporal temporal;\r\n        \r\n        public TemporalDuration(Duration duration) {\r\n            this.duration = duration;\r\n            this.temporal = duration.addTo(BASE_TEMPORAL);\r\n        }\r\n        \r\n        @Override\r\n        public boolean isSupported(TemporalField field) {\r\n            if(!temporal.isSupported(field)) return false;\r\n            long value = temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\r\n            return value!=0L;\r\n        }\r\n    \r\n        @Override\r\n        public long getLong(TemporalField field) {\r\n            if(!isSupported(field)) throw new UnsupportedTemporalTypeException(new StringBuilder().append(field.toString()).toString());\r\n            return temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\r\n        }\r\n    \r\n        public Duration getDuration() {\r\n            return duration;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return dtf.format(this);\r\n        }\r\n        \r\n        private static final DateTimeFormatter dtf = new DateTimeFormatterBuilder()\r\n                .optionalStart()//second\r\n                .optionalStart()//minute\r\n                .optionalStart()//hour\r\n                .optionalStart()//day\r\n                .optionalStart()//month\r\n                .optionalStart()//year\r\n                .appendValue(ChronoField.YEAR).appendLiteral(&quot; Years &quot;).optionalEnd()\r\n                .appendValue(ChronoField.MONTH_OF_YEAR).appendLiteral(&quot; Months &quot;).optionalEnd()\r\n                .appendValue(ChronoField.DAY_OF_MONTH).appendLiteral(&quot; Days &quot;).optionalEnd()\r\n                .appendValue(ChronoField.HOUR_OF_DAY).appendLiteral(&quot; Hours &quot;).optionalEnd()\r\n                .appendValue(ChronoField.MINUTE_OF_HOUR).appendLiteral(&quot; Minutes &quot;).optionalEnd()\r\n                .appendValue(ChronoField.SECOND_OF_MINUTE).appendLiteral(&quot; Seconds&quot;).optionalEnd()\r\n                .toFormatter();\r\n    \r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This might be kind of hacky, but it is a good solution if one is bent on accomplishing this using Java 8's <code>java.time</code>:</p>\n\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.temporal.ChronoField;\nimport java.time.temporal.Temporal;\nimport java.time.temporal.TemporalAccessor;\nimport java.time.temporal.TemporalField;\nimport java.time.temporal.UnsupportedTemporalTypeException;\n\npublic class TemporalDuration implements TemporalAccessor {\n    private static final Temporal BASE_TEMPORAL = LocalDateTime.of(0, 1, 1, 0, 0);\n\n    private final Duration duration;\n    private final Temporal temporal;\n\n    public TemporalDuration(Duration duration) {\n        this.duration = duration;\n        this.temporal = duration.addTo(BASE_TEMPORAL);\n    }\n\n    @Override\n    public boolean isSupported(TemporalField field) {\n        if(!temporal.isSupported(field)) return false;\n        long value = temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\n        return value!=0L;\n    }\n\n    @Override\n    public long getLong(TemporalField field) {\n        if(!isSupported(field)) throw new UnsupportedTemporalTypeException(new StringBuilder().append(field.toString()).toString());\n        return temporal.getLong(field)-BASE_TEMPORAL.getLong(field);\n    }\n\n    public Duration getDuration() {\n        return duration;\n    }\n\n    @Override\n    public String toString() {\n        return dtf.format(this);\n    }\n\n    private static final DateTimeFormatter dtf = new DateTimeFormatterBuilder()\n            .optionalStart()//second\n            .optionalStart()//minute\n            .optionalStart()//hour\n            .optionalStart()//day\n            .optionalStart()//month\n            .optionalStart()//year\n            .appendValue(ChronoField.YEAR).appendLiteral(\" Years \").optionalEnd()\n            .appendValue(ChronoField.MONTH_OF_YEAR).appendLiteral(\" Months \").optionalEnd()\n            .appendValue(ChronoField.DAY_OF_MONTH).appendLiteral(\" Days \").optionalEnd()\n            .appendValue(ChronoField.HOUR_OF_DAY).appendLiteral(\" Hours \").optionalEnd()\n            .appendValue(ChronoField.MINUTE_OF_HOUR).appendLiteral(\" Minutes \").optionalEnd()\n            .appendValue(ChronoField.SECOND_OF_MINUTE).appendLiteral(\" Seconds\").optionalEnd()\n            .toFormatter();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1857429,"reputation":368,"user_id":1682715,"display_name":"Pavel_H"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473152435,"creation_date":1473152435,"answer_id":39344834,"question_id":266825,"body_markdown":"Here is one more sample how to format duration.\r\nNote that this sample shows both positive and negative duration as positive duration.\r\n\r\n    import static java.time.temporal.ChronoUnit.DAYS;\r\n    import static java.time.temporal.ChronoUnit.HOURS;\r\n    import static java.time.temporal.ChronoUnit.MINUTES;\r\n    import static java.time.temporal.ChronoUnit.SECONDS;\r\n    \r\n    import java.time.Duration;\r\n    \r\n    public class DurationSample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Let&#39;s say duration of 2days 3hours 12minutes and 46seconds\r\n    \t\tDuration d = Duration.ZERO.plus(2, DAYS).plus(3, HOURS).plus(12, MINUTES).plus(46, SECONDS);\r\n    \t\t\r\n    \t\t//in case of negative duration\r\n    \t\tif(d.isNegative()) d = d.negated();\r\n    \t\t\r\n    \t\t//format DAYS HOURS MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Total duration is %sdays %shrs %smin %ssec.\\n&quot;, d.toDays(), d.toHours() % 24, d.toMinutes() % 60, d.getSeconds() % 60);\r\n    \t\t\r\n    \t\t//or format HOURS MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Or total duration is %shrs %smin %sec.\\n&quot;, d.toHours(), d.toMinutes() % 60, d.getSeconds() % 60);\r\n    \r\n    \t\t//or format MINUTES SECONDS \r\n    \t\tSystem.out.printf(&quot;Or total duration is %smin %ssec.\\n&quot;, d.toMinutes(), d.getSeconds() % 60);\r\n    \r\n    \t\t//or format SECONDS only \r\n    \t\tSystem.out.printf(&quot;Or total duration is %ssec.\\n&quot;, d.getSeconds());\r\n    \t}\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Here is one more sample how to format duration.\nNote that this sample shows both positive and negative duration as positive duration.</p>\n\n<pre><code>import static java.time.temporal.ChronoUnit.DAYS;\nimport static java.time.temporal.ChronoUnit.HOURS;\nimport static java.time.temporal.ChronoUnit.MINUTES;\nimport static java.time.temporal.ChronoUnit.SECONDS;\n\nimport java.time.Duration;\n\npublic class DurationSample {\n    public static void main(String[] args) {\n        //Let's say duration of 2days 3hours 12minutes and 46seconds\n        Duration d = Duration.ZERO.plus(2, DAYS).plus(3, HOURS).plus(12, MINUTES).plus(46, SECONDS);\n\n        //in case of negative duration\n        if(d.isNegative()) d = d.negated();\n\n        //format DAYS HOURS MINUTES SECONDS \n        System.out.printf(\"Total duration is %sdays %shrs %smin %ssec.\\n\", d.toDays(), d.toHours() % 24, d.toMinutes() % 60, d.getSeconds() % 60);\n\n        //or format HOURS MINUTES SECONDS \n        System.out.printf(\"Or total duration is %shrs %smin %sec.\\n\", d.toHours(), d.toMinutes() % 60, d.getSeconds() % 60);\n\n        //or format MINUTES SECONDS \n        System.out.printf(\"Or total duration is %smin %ssec.\\n\", d.toMinutes(), d.getSeconds() % 60);\n\n        //or format SECONDS only \n        System.out.printf(\"Or total duration is %ssec.\\n\", d.getSeconds());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479146342,"creation_date":1479146342,"answer_id":40594963,"question_id":266825,"body_markdown":"My library [Time4J][1] offers a pattern-based solution (similar to `Apache DurationFormatUtils`, but more flexible):\r\n\r\n\tDuration&lt;ClockUnit&gt; duration =\r\n\t\tDuration.of(-573421, ClockUnit.SECONDS) // input in seconds only\r\n\t\t.with(Duration.STD_CLOCK_PERIOD); // performs normalization to h:mm:ss-structure\r\n\tString fs = Duration.formatter(ClockUnit.class, &quot;+##h:mm:ss&quot;).format(duration);\r\n\tSystem.out.println(fs); // output =&gt; -159:17:01\r\n\r\nThis code demonstrates the capabilities to handle hour overflow and sign handling, see also the API of duration-formatter [based on pattern][2].\r\n\r\n\r\n  [1]: https://github.com/MenoData/Time4J\r\n  [2]: http://time4j.net/javadoc-en/net/time4j/Duration.Formatter.html#ofPattern-java.lang.Class-java.lang.String-","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>My library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> offers a pattern-based solution (similar to <code>Apache DurationFormatUtils</code>, but more flexible):</p>\n\n<pre><code>Duration&lt;ClockUnit&gt; duration =\n    Duration.of(-573421, ClockUnit.SECONDS) // input in seconds only\n    .with(Duration.STD_CLOCK_PERIOD); // performs normalization to h:mm:ss-structure\nString fs = Duration.formatter(ClockUnit.class, \"+##h:mm:ss\").format(duration);\nSystem.out.println(fs); // output =&gt; -159:17:01\n</code></pre>\n\n<p>This code demonstrates the capabilities to handle hour overflow and sign handling, see also the API of duration-formatter <a href=\"http://time4j.net/javadoc-en/net/time4j/Duration.Formatter.html#ofPattern-java.lang.Class-java.lang.String-\" rel=\"nofollow noreferrer\">based on pattern</a>.</p>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699478890,"creation_date":1492998954,"answer_id":43578628,"question_id":266825,"body_markdown":"    String formatDuration(Temporal from, Temporal to) {\r\n        final StringBuilder builder = new StringBuilder();\r\n        for (ChronoUnit unit : new ChronoUnit[]{YEARS, MONTHS, WEEKS, DAYS, HOURS, MINUTES, SECONDS}) {\r\n            long amount = unit.between(from, to);\r\n            if (amount == 0) {\r\n                continue;\r\n            }\r\n            builder.append(&#39; &#39;)\r\n                    .append(amount)\r\n                    .append(&#39; &#39;)\r\n                    .append(unit.name().toLowerCase());\r\n            from = from.plus(amount, unit);\r\n        }\r\n        return builder.toString().trim();\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<pre><code>String formatDuration(Temporal from, Temporal to) {\n    final StringBuilder builder = new StringBuilder();\n    for (ChronoUnit unit : new ChronoUnit[]{YEARS, MONTHS, WEEKS, DAYS, HOURS, MINUTES, SECONDS}) {\n        long amount = unit.between(from, to);\n        if (amount == 0) {\n            continue;\n        }\n        builder.append(' ')\n                .append(amount)\n                .append(' ')\n                .append(unit.name().toLowerCase());\n        from = from.plus(amount, unit);\n    }\n    return builder.toString().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82476,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":74,"is_accepted":false,"score":74,"last_activity_date":1579358841,"creation_date":1496491252,"answer_id":44343699,"question_id":266825,"body_markdown":"This is easier since Java 9. A `Duration` still isn’t formattable, but methods for getting the hours, minutes and seconds are added, which makes the task somewhat more straightforward:\r\n\r\n\t\tLocalDateTime start = LocalDateTime.of(2019, Month.JANUARY, 17, 15, 24, 12);\r\n\t\tLocalDateTime end = LocalDateTime.of(2019, Month.JANUARY, 18, 15, 43, 33);\r\n\t\tDuration diff = Duration.between(start, end);\r\n\t\tString hms = String.format(&quot;%d:%02d:%02d&quot;, \r\n\t\t\t\t\t\t\t\t\tdiff.toHours(), \r\n\t\t\t\t\t\t\t\t\tdiff.toMinutesPart(), \r\n\t\t\t\t\t\t\t\t\tdiff.toSecondsPart());\r\n\t\tSystem.out.println(hms);\r\n\r\nThe output from this snippet is:\r\n\r\n&gt; 24:19:21","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This is easier since Java 9. A <code>Duration</code> still isn’t formattable, but methods for getting the hours, minutes and seconds are added, which makes the task somewhat more straightforward:</p>\n\n<pre><code>    LocalDateTime start = LocalDateTime.of(2019, Month.JANUARY, 17, 15, 24, 12);\n    LocalDateTime end = LocalDateTime.of(2019, Month.JANUARY, 18, 15, 43, 33);\n    Duration diff = Duration.between(start, end);\n    String hms = String.format(\"%d:%02d:%02d\", \n                                diff.toHours(), \n                                diff.toMinutesPart(), \n                                diff.toSecondsPart());\n    System.out.println(hms);\n</code></pre>\n\n<p>The output from this snippet is:</p>\n\n<blockquote>\n  <p>24:19:21</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6645430,"reputation":12674,"user_id":5129715,"accept_rate":78,"display_name":"mksteve"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1498637624,"creation_date":1498637624,"answer_id":44797053,"question_id":266825,"body_markdown":"How about the following function, which returns either \r\n+H:MM:SS\r\nor\r\n+H:MM:SS.sss\r\n\r\n\r\n    public static String formatInterval(final long interval, boolean millisecs )\r\n    {\r\n        final long hr = TimeUnit.MILLISECONDS.toHours(interval);\r\n        final long min = TimeUnit.MILLISECONDS.toMinutes(interval) %60;\r\n        final long sec = TimeUnit.MILLISECONDS.toSeconds(interval) %60;\r\n        final long ms = TimeUnit.MILLISECONDS.toMillis(interval) %1000;\r\n        if( millisecs ) {\r\n            return String.format(&quot;%02d:%02d:%02d.%03d&quot;, hr, min, sec, ms);\r\n        } else {\r\n            return String.format(&quot;%02d:%02d:%02d&quot;, hr, min, sec );\r\n        }\r\n    }","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>How about the following function, which returns either \n+H:MM:SS\nor\n+H:MM:SS.sss</p>\n\n<pre><code>public static String formatInterval(final long interval, boolean millisecs )\n{\n    final long hr = TimeUnit.MILLISECONDS.toHours(interval);\n    final long min = TimeUnit.MILLISECONDS.toMinutes(interval) %60;\n    final long sec = TimeUnit.MILLISECONDS.toSeconds(interval) %60;\n    final long ms = TimeUnit.MILLISECONDS.toMillis(interval) %1000;\n    if( millisecs ) {\n        return String.format(\"%02d:%02d:%02d.%03d\", hr, min, sec, ms);\n    } else {\n        return String.format(\"%02d:%02d:%02d\", hr, min, sec );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277712,"reputation":1679,"user_id":571856,"accept_rate":100,"display_name":"YourBestBet"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1522753914,"creation_date":1522753914,"answer_id":49628638,"question_id":266825,"body_markdown":"in scala, no library needed:\r\n        \r\n    def prettyDuration(str:List[String],seconds:Long):List[String]={\r\n      seconds match {\r\n        case t if t &lt; 60 =&gt; str:::List(s&quot;${t} seconds&quot;)\r\n        case t if (t &gt;= 60 &amp;&amp; t&lt; 3600 ) =&gt; List(s&quot;${t / 60} minutes&quot;):::prettyDuration(str, t%60)\r\n        case t if (t &gt;= 3600 &amp;&amp; t&lt; 3600*24 ) =&gt; List(s&quot;${t / 3600} hours&quot;):::prettyDuration(str, t%3600)\r\n        case t if (t&gt;= 3600*24 ) =&gt; List(s&quot;${t / (3600*24)} days&quot;):::prettyDuration(str, t%(3600*24))\r\n      }\r\n    }\r\n    val dur = prettyDuration(List.empty[String], 12345).mkString(&quot;&quot;)\r\n\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>in scala, no library needed:</p>\n\n<pre><code>def prettyDuration(str:List[String],seconds:Long):List[String]={\n  seconds match {\n    case t if t &lt; 60 =&gt; str:::List(s\"${t} seconds\")\n    case t if (t &gt;= 60 &amp;&amp; t&lt; 3600 ) =&gt; List(s\"${t / 60} minutes\"):::prettyDuration(str, t%60)\n    case t if (t &gt;= 3600 &amp;&amp; t&lt; 3600*24 ) =&gt; List(s\"${t / 3600} hours\"):::prettyDuration(str, t%3600)\n    case t if (t&gt;= 3600*24 ) =&gt; List(s\"${t / (3600*24)} days\"):::prettyDuration(str, t%(3600*24))\n  }\n}\nval dur = prettyDuration(List.empty[String], 12345).mkString(\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":995236,"reputation":904,"user_id":1011366,"accept_rate":60,"display_name":"lauhub"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1667856532,"creation_date":1530222154,"answer_id":51091602,"question_id":266825,"body_markdown":"This answer only uses `Duration` methods and works with Java 8 :\r\n\r\n    public static String format(Duration d) {\r\n\t\tlong days = d.toDays();\r\n\t\td = d.minusDays(days);\r\n\t\tlong hours = d.toHours();\r\n\t\td = d.minusHours(hours);\r\n\t\tlong minutes = d.toMinutes();\r\n\t\td = d.minusMinutes(minutes);\r\n\t\tlong seconds = d.getSeconds() ;\r\n\t\treturn \r\n\t\t\t\t(days ==  0?&quot;&quot;:days+&quot; days,&quot;)+ \r\n\t\t\t\t(hours == 0?&quot;&quot;:hours+&quot; hours,&quot;)+ \r\n\t\t\t\t(minutes ==  0?&quot;&quot;:minutes+&quot; minutes,&quot;)+ \r\n\t\t\t\t(seconds == 0?&quot;&quot;:seconds+&quot; seconds,&quot;);\r\n    }\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>This answer only uses <code>Duration</code> methods and works with Java 8 :</p>\n<pre><code>public static String format(Duration d) {\n    long days = d.toDays();\n    d = d.minusDays(days);\n    long hours = d.toHours();\n    d = d.minusHours(hours);\n    long minutes = d.toMinutes();\n    d = d.minusMinutes(minutes);\n    long seconds = d.getSeconds() ;\n    return \n            (days ==  0?&quot;&quot;:days+&quot; days,&quot;)+ \n            (hours == 0?&quot;&quot;:hours+&quot; hours,&quot;)+ \n            (minutes ==  0?&quot;&quot;:minutes+&quot; minutes,&quot;)+ \n            (seconds == 0?&quot;&quot;:seconds+&quot; seconds,&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4411657,"reputation":755,"user_id":3594403,"accept_rate":50,"display_name":"dpoetzsch"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1540479126,"creation_date":1540479126,"answer_id":52992235,"question_id":266825,"body_markdown":"In Scala, building up on YourBestBet&#39;s solution but simplified:\r\n\r\n    def prettyDuration(seconds: Long): List[String] = seconds match {\r\n      case t if t &lt; 60      =&gt; List(s&quot;${t} seconds&quot;)\r\n      case t if t &lt; 3600    =&gt; s&quot;${t / 60} minutes&quot; :: prettyDuration(t % 60)\r\n      case t if t &lt; 3600*24 =&gt; s&quot;${t / 3600} hours&quot; :: prettyDuration(t % 3600)\r\n      case t                =&gt; s&quot;${t / (3600*24)} days&quot; :: prettyDuration(t % (3600*24))\r\n    }\r\n  \r\n    val dur = prettyDuration(12345).mkString(&quot;, &quot;) // =&gt; 3 hours, 25 minutes, 45 seconds","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>In Scala, building up on YourBestBet's solution but simplified:</p>\n\n<pre><code>def prettyDuration(seconds: Long): List[String] = seconds match {\n  case t if t &lt; 60      =&gt; List(s\"${t} seconds\")\n  case t if t &lt; 3600    =&gt; s\"${t / 60} minutes\" :: prettyDuration(t % 60)\n  case t if t &lt; 3600*24 =&gt; s\"${t / 3600} hours\" :: prettyDuration(t % 3600)\n  case t                =&gt; s\"${t / (3600*24)} days\" :: prettyDuration(t % (3600*24))\n}\n\nval dur = prettyDuration(12345).mkString(\", \") // =&gt; 3 hours, 25 minutes, 45 seconds\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8180649,"reputation":615,"user_id":6157999,"display_name":"ctg"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1550691382,"creation_date":1550691382,"answer_id":54794030,"question_id":266825,"body_markdown":"There&#39;s a fairly simple and (IMO) elegant approach, at least for durations of less than 24 hours:\r\n\r\n`DateTimeFormatter.ISO_LOCAL_TIME.format(value.addTo(LocalTime.of(0, 0)))`\r\n\r\nFormatters need a temporal object to format, so you can create one by adding the duration to a LocalTime of 00:00 (i.e. midnight). This will give you a LocalTime representing the duration from midnight to that time, which is then easy to format in standard HH:mm:ss notation. This has the advantage of not needing an external library, and uses the java.time library to do the calculation, rather than manually calculating the hours, minutes and seconds.","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>There's a fairly simple and (IMO) elegant approach, at least for durations of less than 24 hours:</p>\n\n<p><code>DateTimeFormatter.ISO_LOCAL_TIME.format(value.addTo(LocalTime.of(0, 0)))</code></p>\n\n<p>Formatters need a temporal object to format, so you can create one by adding the duration to a LocalTime of 00:00 (i.e. midnight). This will give you a LocalTime representing the duration from midnight to that time, which is then easy to format in standard HH:mm:ss notation. This has the advantage of not needing an external library, and uses the java.time library to do the calculation, rather than manually calculating the hours, minutes and seconds.</p>\n"},{"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1592557492,"creation_date":1592557492,"answer_id":62466864,"question_id":266825,"body_markdown":"In scala (I saw some other attempts, and wasn&#39;t impressed):\r\n\r\n``` scala\r\ndef formatDuration(duration: Duration): String = {\r\n  import duration._ // get access to all the members ;)\r\n  f&quot;$toDaysPart $toHoursPart%02d:$toMinutesPart%02d:$toSecondsPart%02d:$toMillisPart%03d&quot;\r\n}\r\n```\r\nLooks horrible yes? Well that&#39;s why we use IDEs to write this stuff so that the method calls (`$toHoursPart` etc) are a different color.\r\n\r\nThe `f&quot;...&quot;` is a `printf`/`String.format` style string interpolator (which is what allows the `$` code injection to work)\r\nGiven an output of `1 14:06:32.583`, the `f` interpolated string would be equivalent to `String.format(&quot;1 %02d:%02d:%02d.%03d&quot;, 14, 6, 32, 583)`","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>In scala (I saw some other attempts, and wasn't impressed):</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def formatDuration(duration: Duration): String = {\n  import duration._ // get access to all the members ;)\n  f\"$toDaysPart $toHoursPart%02d:$toMinutesPart%02d:$toSecondsPart%02d:$toMillisPart%03d\"\n}\n</code></pre>\n\n<p>Looks horrible yes? Well that's why we use IDEs to write this stuff so that the method calls (<code>$toHoursPart</code> etc) are a different color.</p>\n\n<p>The <code>f\"...\"</code> is a <code>printf</code>/<code>String.format</code> style string interpolator (which is what allows the <code>$</code> code injection to work)\nGiven an output of <code>1 14:06:32.583</code>, the <code>f</code> interpolated string would be equivalent to <code>String.format(\"1 %02d:%02d:%02d.%03d\", 14, 6, 32, 583)</code></p>\n"},{"tags":[],"owner":{"account_id":17513701,"reputation":29,"user_id":12701130,"display_name":"ipserc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593715091,"creation_date":1593715091,"answer_id":62702984,"question_id":266825,"body_markdown":"using this func\r\n\r\n\tprivate static String strDuration(long duration) {\r\n\t\tint ms, s, m, h, d;\r\n\t\tdouble dec;\r\n\t\tdouble time = duration * 1.0;\r\n\r\n\t\ttime = (time / 1000.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\tms = (int)(dec * 1000);\r\n\r\n\t\ttime = (time / 60.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\ts = (int)(dec * 60);\r\n\r\n\t\ttime = (time / 60.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\tm = (int)(dec * 60);\r\n\r\n\t\ttime = (time / 24.0);\r\n\t\tdec = time % 1;\r\n\t\ttime = time - dec;\r\n\t\th = (int)(dec * 24);\r\n\t\t\r\n\t\td = (int)time;\r\n\t\t\r\n\t\treturn (String.format(&quot;%d d - %02d:%02d:%02d.%03d&quot;, d, h, m, s, ms));\r\n\t}\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>using this func</p>\n<pre><code>private static String strDuration(long duration) {\n    int ms, s, m, h, d;\n    double dec;\n    double time = duration * 1.0;\n\n    time = (time / 1000.0);\n    dec = time % 1;\n    time = time - dec;\n    ms = (int)(dec * 1000);\n\n    time = (time / 60.0);\n    dec = time % 1;\n    time = time - dec;\n    s = (int)(dec * 60);\n\n    time = (time / 60.0);\n    dec = time % 1;\n    time = time - dec;\n    m = (int)(dec * 60);\n\n    time = (time / 24.0);\n    dec = time % 1;\n    time = time - dec;\n    h = (int)(dec * 24);\n    \n    d = (int)time;\n    \n    return (String.format(&quot;%d d - %02d:%02d:%02d.%03d&quot;, d, h, m, s, ms));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17589878,"reputation":317,"user_id":12761967,"display_name":"Sergei Maleev"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1599071730,"creation_date":1599071730,"answer_id":63711661,"question_id":266825,"body_markdown":"I&#39;m not sure that is you want, but check this Android helper class \r\n\r\n    import android.text.format.DateUtils\r\n\r\n\r\nFor example: `DateUtils.formatElapsedTime()`\r\n\r\n\r\n[tag:Android] [tag:Date] [tag:Duration] [tag:ElapsedTime]","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I'm not sure that is you want, but check this Android helper class</p>\n<pre><code>import android.text.format.DateUtils\n</code></pre>\n<p>For example: <code>DateUtils.formatElapsedTime()</code></p>\n<p><a href=\"/questions/tagged/android\" class=\"post-tag\" title=\"show questions tagged &#39;android&#39;\" rel=\"tag\">android</a> <a href=\"/questions/tagged/date\" class=\"post-tag\" title=\"show questions tagged &#39;date&#39;\" rel=\"tag\">date</a> <a href=\"/questions/tagged/duration\" class=\"post-tag\" title=\"show questions tagged &#39;duration&#39;\" rel=\"tag\">duration</a> <a href=\"/questions/tagged/elapsedtime\" class=\"post-tag\" title=\"show questions tagged &#39;elapsedtime&#39;\" rel=\"tag\">elapsedtime</a></p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1609293106,"creation_date":1609293106,"answer_id":65501046,"question_id":266825,"body_markdown":"You can use [`java.time.Duration`][1] which is modelled on [ISO-8601 standards][2] and was introduced with *Java-8* as part of [JSR-310 implementation][3]. With *Java-9* some more convenience methods were introduced.\r\n\r\n**Demo:**\r\n\r\n    import java.time.Duration;\r\n    import java.time.LocalDateTime;\r\n    import java.time.Month;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\r\n    \t\tLocalDateTime endDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 18, 24, 30);\r\n    \r\n    \t\tDuration duration = Duration.between(startDateTime, endDateTime);\r\n    \t\t// Default format\r\n    \t\tSystem.out.println(duration);\r\n    \r\n    \t\t// Custom format\r\n    \t\t// ####################################Java-8####################################\r\n    \t\tString formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\r\n    \t\t\t\tduration.toMinutes() % 60, duration.toSeconds() % 60);\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \r\n    \t\t// ####################################Java-9####################################\r\n    \t\tformattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\r\n    \t\t\t\tduration.toSecondsPart());\r\n    \t\tSystem.out.println(formattedElapsedTime);\r\n    \t\t// ##############################################################################\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    PT3H4M5S\r\n    03:04:05\r\n    03:04:05\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n - For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n - If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"noreferrer\"><code>java.time.Duration</code></a> which is modelled on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO-8601 standards</a> and was introduced with <em>Java-8</em> as part of <a href=\"https://jcp.org/aboutJava/communityprocess/pfd/jsr310/JSR-310-guide.html\" rel=\"noreferrer\">JSR-310 implementation</a>. With <em>Java-9</em> some more convenience methods were introduced.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.Duration;\nimport java.time.LocalDateTime;\nimport java.time.Month;\n\npublic class Main {\n    public static void main(String[] args) {\n        LocalDateTime startDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 15, 20, 25);\n        LocalDateTime endDateTime = LocalDateTime.of(2020, Month.DECEMBER, 10, 18, 24, 30);\n\n        Duration duration = Duration.between(startDateTime, endDateTime);\n        // Default format\n        System.out.println(duration);\n\n        // Custom format\n        // ####################################Java-8####################################\n        String formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHours() % 24,\n                duration.toMinutes() % 60, duration.toSeconds() % 60);\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n\n        // ####################################Java-9####################################\n        formattedElapsedTime = String.format(&quot;%02d:%02d:%02d&quot;, duration.toHoursPart(), duration.toMinutesPart(),\n                duration.toSecondsPart());\n        System.out.println(formattedElapsedTime);\n        // ##############################################################################\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>PT3H4M5S\n03:04:05\n03:04:05\n</code></pre>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<ul>\n<li>For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</li>\n<li>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20376405,"reputation":139,"user_id":14947476,"display_name":"stanley"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1634906509,"creation_date":1609881210,"answer_id":65586659,"question_id":266825,"body_markdown":"There is yet another way to make it for java8. But it works if duration is no longer than 24 hours\r\n\r\n    public String formatDuration(Duration duration) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm.SSS&quot;);\r\n        return LocalTime.ofNanoOfDay(duration.toNanos()).format(formatter);\r\n    }\r\n\r\n","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>There is yet another way to make it for java8. But it works if duration is no longer than 24 hours</p>\n<pre><code>public String formatDuration(Duration duration) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;h:mm.SSS&quot;);\n    return LocalTime.ofNanoOfDay(duration.toNanos()).format(formatter);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612540479,"creation_date":1612540479,"answer_id":66066413,"question_id":266825,"body_markdown":"Looking at all those calculations, it may is helpful that most of the Units (Hours, Minutes, etc.) have a `.toFooPart()` convenience method.\r\n\r\nE.g.\r\n\r\n    Duration.ofMinutes(110L).toMinutesPart() == 50\r\n\r\nRead: the minutes elapsed to the next value of the parent unit (Hour).","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Looking at all those calculations, it may is helpful that most of the Units (Hours, Minutes, etc.) have a <code>.toFooPart()</code> convenience method.</p>\n<p>E.g.</p>\n<pre><code>Duration.ofMinutes(110L).toMinutesPart() == 50\n</code></pre>\n<p>Read: the minutes elapsed to the next value of the parent unit (Hour).</p>\n"},{"tags":[],"owner":{"account_id":87714,"reputation":5897,"user_id":243104,"accept_rate":63,"display_name":"Graham Lea"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1635224322,"creation_date":1635224322,"answer_id":69717677,"question_id":266825,"body_markdown":"Here&#39;s a one-liner for converting a `java.time.Duration` to a nice string in Kotlin:\r\n```\r\nduration.run {\r\n   &quot;%d:%02d:%02d.%03d&quot;.format(toHours(), toMinutesPart(), toSecondsPart(), toMillisPart())\r\n}\r\n```\r\nExample output:\r\n```120:56:03.004```","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>Here's a one-liner for converting a <code>java.time.Duration</code> to a nice string in Kotlin:</p>\n<pre><code>duration.run {\n   &quot;%d:%02d:%02d.%03d&quot;.format(toHours(), toMinutesPart(), toSecondsPart(), toMillisPart())\n}\n</code></pre>\n<p>Example output:\n<code>120:56:03.004</code></p>\n"}],"owner":{"display_name":"kofte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235711,"favorite_count":0,"down_vote_count":0,"up_vote_count":230,"accepted_answer_id":266846,"answer_count":22,"score":230,"last_activity_date":1699478890,"creation_date":1225921434,"question_id":266825,"body_markdown":"I&#39;d like to format a duration in seconds using a pattern like H:MM:SS. The current utilities in java are designed to format a time but not a duration.","title":"How to format a duration in java? (e.g format H:MM:SS)","body":"<p>I'd like to format a duration in seconds using a pattern like H:MM:SS. The current utilities in java are designed to format a time but not a duration.</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1699474790,"post_id":77448687,"comment_id":136537810,"body_markdown":"`151034` would suggest that the pattern needs to be `HHmmss`","body":"<code>151034</code> would suggest that the pattern needs to be <code>HHmmss</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1699474962,"post_id":77448687,"comment_id":136537837,"body_markdown":"So, using Java 17, `yyyyMMddHHmmss` works for me. *&quot;using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them. I use JDK 17&quot;* - sorry, but that doesn&#39;t make sense to me, the [JavaDocs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) clearly state that they are valid patterns","body":"So, using Java 17, <code>yyyyMMddHHmmss</code> works for me. <i>&quot;using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them. I use JDK 17&quot;</i> - sorry, but that doesn&#39;t make sense to me, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">JavaDocs</a> clearly state that they are valid patterns"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699475188,"post_id":77448687,"comment_id":136537878,"body_markdown":"Have you looked at https://stackoverflow.com/questions/26431882/difference-between-year-of-era-and-week-based-year ?","body":"Have you looked at <a href=\"https://stackoverflow.com/questions/26431882/difference-between-year-of-era-and-week-based-year\" title=\"difference between year of era and week based year\">stackoverflow.com/questions/26431882/&hellip;</a> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1699477521,"post_id":77448687,"comment_id":136538258,"body_markdown":"*&quot;I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.&quot;*  You should edit the question to explain *why* you can&#39;t  use them.","body":"<i>&quot;I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.&quot;</i>  You should edit the question to explain <i>why</i> you can&#39;t  use them."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73027,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1699476683,"creation_date":1699476683,"answer_id":77448871,"question_id":77448687,"body_markdown":"&gt; I know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i\r\n&gt; can&#39;t use them.\r\n\r\nNot only &#39;yyyy&#39; and &#39;dd&#39;, you also need to use &#39;HH&#39; instead of &#39;hh&#39; because &#39;hh&#39; makes sense only with am/pm marker i.e. for a 12-hour time format. For a  time with an am/pm marker, you need to use &#39;hh&#39; along with &#39;a&#39; e.g. &#39;hhmmss a&#39;. Check the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) to learn more about them.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n    LocalDateTime dt = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\r\n    System.out.println(dt);\r\n\r\n**Output from a sample run:**\r\n\r\n    2012-08-23T15:10:34\r\n\r\n[Online Demo](https://ideone.com/iYpIXM)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Unable to convert String to LocalDateTime format &quot;YYYYMMDDhhmmss&quot; (week year) pattern with (day of month)","body":"<blockquote>\n<p>I know using 'yyyy' and 'dd' are suggested on some questions, but i\ncan't use them.</p>\n</blockquote>\n<p>Not only 'yyyy' and 'dd', you also need to use 'HH' instead of 'hh' because 'hh' makes sense only with am/pm marker i.e. for a 12-hour time format. For a  time with an am/pm marker, you need to use 'hh' along with 'a' e.g. 'hhmmss a'. Check the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">documentation</a> to learn more about them.</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\nLocalDateTime dt = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\nSystem.out.println(dt);\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2012-08-23T15:10:34\n</code></pre>\n<p><a href=\"https://ideone.com/iYpIXM\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":7233072,"reputation":41,"user_id":5519221,"display_name":"cevelry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1699476683,"creation_date":1699474566,"question_id":77448687,"body_markdown":"I&#39;m getting the &quot;DateTimeParseException&quot; when parsing the given String:\r\n\r\nI know using &#39;yyyy&#39; and &#39;dd&#39; are suggested on some questions, but i can&#39;t use them.\r\nI use JDK 17\r\n\r\n```\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.*;\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYYMMDDhhmmss&quot;);\r\nLocalDateTime date = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\r\n```\r\n\r\nResult:\r\n```\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;20120823151034&#39; could not be parsed at index 0\r\n```","title":"Unable to convert String to LocalDateTime format &quot;YYYYMMDDhhmmss&quot; (week year) pattern with (day of month)","body":"<p>I'm getting the &quot;DateTimeParseException&quot; when parsing the given String:</p>\n<p>I know using 'yyyy' and 'dd' are suggested on some questions, but i can't use them.\nI use JDK 17</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.*;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;YYYYMMDDhhmmss&quot;);\nLocalDateTime date = LocalDateTime.parse(&quot;20120823151034&quot;, formatter);\n</code></pre>\n<p>Result:</p>\n<pre><code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '20120823151034' could not be parsed at index 0\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1693393131,"post_id":77006121,"comment_id":135753991,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)  Can you [edit] the question to include the source files and other information directly in the question as plain text?","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>  Can you <a href=\"https://stackoverflow.com/posts/77006121/edit\">edit</a> the question to include the source files and other information directly in the question as plain text?"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693393565,"post_id":77006121,"comment_id":135754070,"body_markdown":"yes updating ...","body":"yes updating ..."},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1693399011,"post_id":77006121,"comment_id":135755274,"body_markdown":"&quot;when I pull the image and try to run the container from that image&quot; ... How? What exact commands (or clicks, if using a GUI) are you doing to initiate that process?","body":"&quot;when I pull the image and try to run the container from that image&quot; ... How? What exact commands (or clicks, if using a GUI) are you doing to initiate that process?"},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1693400205,"post_id":77006121,"comment_id":135755561,"body_markdown":"`/.` and `./` are _very_ different things. It would be extremely abnormal to have a docker-compose.yml file in your root directory; are you sure this isn&#39;t just a typo?","body":"<code>&#47;.</code> and <code>.&#47;</code> are <i>very</i> different things. It would be extremely abnormal to have a docker-compose.yml file in your root directory; are you sure this isn&#39;t just a typo?"},{"owner":{"account_id":8002,"reputation":283783,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1693400309,"post_id":77006121,"comment_id":135755587,"body_markdown":"(you aren&#39;t showing the commands you&#39;re running, so I don&#39;t know if `/.` is something you&#39;re typing or otherwise it came from; note that putting something in a screenshot [doesn&#39;t count as showing it](https://meta.stackoverflow.com/a/285557/14122) for [mre] purposes -- we need reproduction steps as _text in the question_, not images)","body":"(you aren&#39;t showing the commands you&#39;re running, so I don&#39;t know if <code>&#47;.</code> is something you&#39;re typing or otherwise it came from; note that putting something in a screenshot <a href=\"https://meta.stackoverflow.com/a/285557/14122\">doesn&#39;t count as showing it</a> for <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> purposes -- we need reproduction steps as <i>text in the question</i>, not images)"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693404545,"post_id":77006121,"comment_id":135756621,"body_markdown":"docker run --name fullstack-api -p 8080:8080 \\\n--network fullstack_db ahmadmujtaba200210/fullstack \\\n--spring.datasource.url=jdbc:postgresql://db:5432/customer","body":"docker run --name fullstack-api -p 8080:8080 \\ --network fullstack_db ahmadmujtaba200210/fullstack \\ --spring.datasource.url=jdbc:postgresql://db:5432/customer"},{"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"score":0,"creation_date":1693404573,"post_id":77006121,"comment_id":135756630,"body_markdown":"&#128070;&#127995;&#128070;&#127995; command through which i am running my application","body":"👆🏻👆🏻 command through which i am running my application"}],"answers":[{"tags":[],"owner":{"account_id":18346641,"reputation":61,"user_id":13361708,"display_name":"heyValdemar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405712,"creation_date":1693405712,"answer_id":77008968,"question_id":77006121,"body_markdown":"Try running the Docker Compose setup without embedding it inside a Spring Boot app. Typically, you’d use Docker Compose to start your services from the host machine.\r\n\r\nUse `docker-compose up` to bring up your services and check for any errors.\r\n\r\nEnsure your application is waiting for the database to be fully ready before trying to connect. If your application starts before the database is ready, it might crash and restart continuously. There are tools like wait-for-it and dockerize that help with this.\r\n\r\n**Here&#39;s what you can do:**\r\n\r\n**Remove Docker Compose Dependencies:** In your `pom.xml` or `build.gradle`, look for a dependency related to `spring-boot-docker-compose` and remove it.\r\n\r\n**Remove Configuration:** In your Spring Boot `application.yml` or application.properties, look for any configuration property related to Docker Compose, like `spring.docker.compose.file`, and remove it.\r\n\r\n**Check Your Main Application Class**: In `FullstackApplication.java` (or wherever your main Spring Boot application class is), ensure you don&#39;t have any Docker Compose related beans or configurations. Remove any you find.\r\n\r\n**Rebuild &amp; Restart:** Once you&#39;ve made these changes, rebuild your Spring Boot application and restart the Docker Compose setup.\r\n\r\n**Check Logs:** Once you&#39;ve restarted, check the logs of the `fullstack-api` container again to make sure the error is resolved.\r\n\r\nRemember, when you&#39;re using Docker Compose outside of your Spring Boot application, you don&#39;t want any Docker Compose related logic inside your Spring Boot application. The two should operate independently.","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>Try running the Docker Compose setup without embedding it inside a Spring Boot app. Typically, you’d use Docker Compose to start your services from the host machine.</p>\n<p>Use <code>docker-compose up</code> to bring up your services and check for any errors.</p>\n<p>Ensure your application is waiting for the database to be fully ready before trying to connect. If your application starts before the database is ready, it might crash and restart continuously. There are tools like wait-for-it and dockerize that help with this.</p>\n<p><strong>Here's what you can do:</strong></p>\n<p><strong>Remove Docker Compose Dependencies:</strong> In your <code>pom.xml</code> or <code>build.gradle</code>, look for a dependency related to <code>spring-boot-docker-compose</code> and remove it.</p>\n<p><strong>Remove Configuration:</strong> In your Spring Boot <code>application.yml</code> or application.properties, look for any configuration property related to Docker Compose, like <code>spring.docker.compose.file</code>, and remove it.</p>\n<p><strong>Check Your Main Application Class</strong>: In <code>FullstackApplication.java</code> (or wherever your main Spring Boot application class is), ensure you don't have any Docker Compose related beans or configurations. Remove any you find.</p>\n<p><strong>Rebuild &amp; Restart:</strong> Once you've made these changes, rebuild your Spring Boot application and restart the Docker Compose setup.</p>\n<p><strong>Check Logs:</strong> Once you've restarted, check the logs of the <code>fullstack-api</code> container again to make sure the error is resolved.</p>\n<p>Remember, when you're using Docker Compose outside of your Spring Boot application, you don't want any Docker Compose related logic inside your Spring Boot application. The two should operate independently.</p>\n"},{"tags":[],"owner":{"account_id":29858468,"reputation":36,"user_id":22882740,"display_name":"MozzDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1699475062,"creation_date":1699475062,"answer_id":77448733,"question_id":77006121,"body_markdown":"In your application.properties set `spring.docker.compose.enabled=false`.\r\nwhen you build and compile your image then push to dockerHub, docker-compose.yml is not includ so you&#39;ll run into errors while compiling your code","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>In your application.properties set <code>spring.docker.compose.enabled=false</code>.\nwhen you build and compile your image then push to dockerHub, docker-compose.yml is not includ so you'll run into errors while compiling your code</p>\n"}],"owner":{"account_id":20823528,"reputation":63,"user_id":21365300,"display_name":"Ahmad Mujtaba"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77448733,"answer_count":2,"score":0,"last_activity_date":1699475062,"creation_date":1693383434,"question_id":77006121,"body_markdown":"I am using JIB for building my java docker image and pushing it into my repository. \r\n\r\nproblem: \r\n1. when I pull the image and try to run the container from that image, it shows no docker compose file found in the directory.\r\n2. container in the docker desktop is preventing from starting ( status: restarting)\r\n \r\nI am adding images of my docker-compose.yml file and docker log:\r\n\r\n\r\n    java.lang.IllegalStateException: No Docker Compose file found in directory &#39;/.&#39;\r\n\tat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getComposeFile(DockerComposeLifecycleManager.java:140) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:108) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.amigoes.fullstack.FullstackApplication.main(FullstackApplication.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\n\r\n\r\n\r\nthis is docker file:\r\n```\r\n services:\r\n  db:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 123456789\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    ports:\r\n      - &quot;5433:5432&quot;\r\n    networks:\r\n      - db\r\n    restart: unless-stopped\r\n  fullstack-api:\r\n    container_name: fullstack-api\r\n    image: ahmadmujtaba200210/fullstack\r\n    environment:\r\n      SPRING_DATASOURCE_URL: &quot;jdbc:postgresql://db:5432/customer&quot;\r\n    ports:\r\n      - &quot;8088:8080&quot;\r\n    networks:\r\n      - db\r\n    depends_on:\r\n      - db\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  db:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  db:\r\n\r\n```\r\n\r\n\r\nMy application.yml file:\r\n```\r\nserver:\r\n    error:\r\n        include-message: always\r\n    port: 8080\r\nspring:\r\n    datasource:\r\n        url: jdbc:postgresql://localhost:5433/customer\r\n        driver-class-name: org.postgresql.Driver\r\n        password: 123456789\r\n        username: postgres\r\n    jpa:\r\n        hibernate:\r\n            ddl-auto: none\r\n        properties:\r\n            hibernate:\r\n                dialect: org.hibernate.dialect.PostgreSQLDialect\r\n                format_sql: true\r\n                show_sql: true\r\n    main:\r\n        web-application-type: servlet\r\n    docker:\r\n        compose:\r\n            file: ./docker-compose.yaml\r\n\r\n```\r\n\r\n\r\n[docker desktop showing status of containers](https://i.stack.imgur.com/T0vHc.png)\r\n\r\nfound something interesting hope so yo may see some helping in solving my this problem as I am new to docker.\r\n\r\n[vulnerbility][1]\r\n\r\nmy docker file is there but still my code is not running.\r\nI am using Spring boot, docker, postgres and Jib \r\n\r\n I have tried with every file naming format given on google or spring guidlines: \r\n1.  ./docker/compose.yml (moved compose file in separate folder)\r\n2.  ./docker-compose.yaml\r\n3.  ./docker-compose.yml\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/obrhf.png","title":"No Docker Compose file found in directory &#39;/.&#39;","body":"<p>I am using JIB for building my java docker image and pushing it into my repository.</p>\n<p>problem:</p>\n<ol>\n<li>when I pull the image and try to run the container from that image, it shows no docker compose file found in the directory.</li>\n<li>container in the docker desktop is preventing from starting ( status: restarting)</li>\n</ol>\n<p>I am adding images of my docker-compose.yml file and docker log:</p>\n<pre><code>java.lang.IllegalStateException: No Docker Compose file found in directory '/.'\nat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-6.0.11.jar:6.0.11]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getComposeFile(DockerComposeLifecycleManager.java:140) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:108) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.2.jar:3.1.2]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\nat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\nat com.amigoes.fullstack.FullstackApplication.main(FullstackApplication.java:18) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\n</code></pre>\n<p>this is docker file:</p>\n<pre><code> services:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 123456789\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5433:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n  fullstack-api:\n    container_name: fullstack-api\n    image: ahmadmujtaba200210/fullstack\n    environment:\n      SPRING_DATASOURCE_URL: &quot;jdbc:postgresql://db:5432/customer&quot;\n    ports:\n      - &quot;8088:8080&quot;\n    networks:\n      - db\n    depends_on:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n\n</code></pre>\n<p>My application.yml file:</p>\n<pre><code>server:\n    error:\n        include-message: always\n    port: 8080\nspring:\n    datasource:\n        url: jdbc:postgresql://localhost:5433/customer\n        driver-class-name: org.postgresql.Driver\n        password: 123456789\n        username: postgres\n    jpa:\n        hibernate:\n            ddl-auto: none\n        properties:\n            hibernate:\n                dialect: org.hibernate.dialect.PostgreSQLDialect\n                format_sql: true\n                show_sql: true\n    main:\n        web-application-type: servlet\n    docker:\n        compose:\n            file: ./docker-compose.yaml\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/T0vHc.png\" rel=\"nofollow noreferrer\">docker desktop showing status of containers</a></p>\n<p>found something interesting hope so yo may see some helping in solving my this problem as I am new to docker.</p>\n<p><a href=\"https://i.stack.imgur.com/obrhf.png\" rel=\"nofollow noreferrer\">vulnerbility</a></p>\n<p>my docker file is there but still my code is not running.\nI am using Spring boot, docker, postgres and Jib</p>\n<p>I have tried with every file naming format given on google or spring guidlines:</p>\n<ol>\n<li>./docker/compose.yml (moved compose file in separate folder)</li>\n<li>./docker-compose.yaml</li>\n<li>./docker-compose.yml</li>\n</ol>\n"},{"tags":["java","post","httprequest","uri"],"owner":{"account_id":29741981,"reputation":1,"user_id":22794057,"display_name":"PatrickBateman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1699474129,"creation_date":1699442730,"question_id":77445128,"body_markdown":"I want to post the request in same formate.\r\n```\r\nPOST /api/bla/bla/test/token HTTP/1.1\r\nHost: example.com\r\nContent-Type: application/x-www-form-urlencoded\r\nAuthorization: Basic aaabbbCCCdddeeefffGGG\r\nclient_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\r\n&amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\r\n&amp;redirect_uri=xyz%2Ffolder\r\n```\r\n\r\n\r\n\r\nI have Implemented but getting bad request(&quot;ERROR: The request could not be satisfied&quot;). \r\nThis is how I implemented my request \r\n\r\n```\r\nHttpRequest requestCrafted = HttpRequest.newBuilder()\r\n                            .POST(HttpRequest.BodyPublishers.ofString(&quot;Vaffanculo&quot;))\r\n                            //.uri(URI.create(url))\r\n                            .uri(URI.create(&quot;http://signin/v2/tokens?credential=passkey&quot;))\r\n                            .headers(listheaders.toArray(String[]::new))\r\n                            .build();\r\n```\r\n\r\nTrying to manually execute the post request by interacting with the site and analyzing it via Burpsuite, I encounter the same error if I modify the post request.\r\n\r\nThis works correctly\r\n```\r\nPOST /api/bla/bla/test/token HTTP/2\r\nHost: example.com\r\n```\r\n[image](https://i.stack.imgur.com/xEW6F.png)\r\n\r\nThis returns the same error found when running my code\r\n```\r\nPOST http://example.com/api/bla/bla/test/token HTTP/2\r\nHost: example.com\r\n```\r\n[image](https://i.stack.imgur.com/xJu26.png)\r\n\r\nI tried removing the host when creating the URI, just passing it /api/bla/bla/test/token, but it doesn&#39;t work. I used also in URI.create both http:/api/bla/bla/test/token and https:///api/bla/bla/test/token but it doesn&#39;t work. How can I fix it? (I have to use HttpRequest)\r\n","title":"How to post request in java to get the response","body":"<p>I want to post the request in same formate.</p>\n<pre><code>POST /api/bla/bla/test/token HTTP/1.1\nHost: example.com\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic aaabbbCCCdddeeefffGGG\nclient_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\n&amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\n&amp;redirect_uri=xyz%2Ffolder\n</code></pre>\n<p>I have Implemented but getting bad request(&quot;ERROR: The request could not be satisfied&quot;).\nThis is how I implemented my request</p>\n<pre><code>HttpRequest requestCrafted = HttpRequest.newBuilder()\n                            .POST(HttpRequest.BodyPublishers.ofString(&quot;Vaffanculo&quot;))\n                            //.uri(URI.create(url))\n                            .uri(URI.create(&quot;http://signin/v2/tokens?credential=passkey&quot;))\n                            .headers(listheaders.toArray(String[]::new))\n                            .build();\n</code></pre>\n<p>Trying to manually execute the post request by interacting with the site and analyzing it via Burpsuite, I encounter the same error if I modify the post request.</p>\n<p>This works correctly</p>\n<pre><code>POST /api/bla/bla/test/token HTTP/2\nHost: example.com\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xEW6F.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>This returns the same error found when running my code</p>\n<pre><code>POST http://example.com/api/bla/bla/test/token HTTP/2\nHost: example.com\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xJu26.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I tried removing the host when creating the URI, just passing it /api/bla/bla/test/token, but it doesn't work. I used also in URI.create both http:/api/bla/bla/test/token and https:///api/bla/bla/test/token but it doesn't work. How can I fix it? (I have to use HttpRequest)</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","message-hub","sslengine"],"comments":[{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1517352884,"post_id":48454633,"comment_id":84059237,"body_markdown":"Looks like a bug in Kafka. The SSLEngine is a pretty difficult thing to drive correctly.","body":"Looks like a bug in Kafka. The SSLEngine is a pretty difficult thing to drive correctly."},{"owner":{"account_id":12812688,"reputation":111,"user_id":9270302,"display_name":"John Chu"},"score":1,"creation_date":1517506381,"post_id":48454633,"comment_id":84133368,"body_markdown":"Filed a issue on Kafka: https://issues.apache.org/jira/browse/KAFKA-6510","body":"Filed a issue on Kafka: <a href=\"https://issues.apache.org/jira/browse/KAFKA-6510\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/KAFKA-6510</a>"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1699478027,"post_id":48454633,"comment_id":136538352,"body_markdown":"The discussion there and at the other issue you linked doesn’t give much hope. They certainly didn’t understand the issue when the code was written.","body":"The discussion there and at the other issue you linked doesn’t give much hope. They certainly didn’t understand the issue when the code was written."}],"owner":{"account_id":12812688,"reputation":111,"user_id":9270302,"display_name":"John Chu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8152,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":0,"score":11,"last_activity_date":1699473855,"creation_date":1516930516,"question_id":48454633,"body_markdown":"I have a thread which once in a while is going to list the topics on the Message Hub. But once in a while, I am getting a :Failed to send SSL Close message.\r\n\r\nAny ideas?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerConfiguration());\r\n    try {\r\n        Map&lt;String, List&lt;PartitionInfo&gt;&gt; topics = consumer.listTopics();\r\n        return new ArrayList&lt;String&gt;(topics.keySet());\r\n    } finally {\r\n        if (consumer != null) {\r\n            **consumer.close();**\r\n        }\r\n    }\r\n\r\nI am getting the warning from **consumer.close**.\r\n\r\nThe configuration of the consumer:\r\n\r\n- sasl.mechanism = PLAIN \r\n- security.protocol = SASL_SSL \r\n- group.id = consumer1\r\n- ssl.enabled.protocol = TLSv1.2 \r\n- ssl.endpoint.identification.algorithm = HTTPS \r\n- ssl.protocol = TLSv1.2\r\n- sasl.jaas.config = org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;USERNAME&quot; password=&quot;PASSWORD&quot;;\r\n\r\n&gt; [WARN ] 2018-01-25 20:12:23.204 [ClusterChannelMonitorTaskThread]\r\n&gt; org.apache.kafka.common.network.SslTransportLayer  {} - Failed to send\r\n&gt; SSL Close message  java.io.IOException: Unexpected status returned by\r\n&gt; SSLEngine.wrap, expected CLOSED, received OK. Will not send close\r\n&gt; message to peer. \tat\r\n&gt; org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:158)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.utils.Utils.closeAll(Utils.java:663)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:59)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.doClose(Selector.java:582)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:573)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:539)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.common.network.Selector.close(Selector.java:250)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.NetworkClient.close(NetworkClient.java:505)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.close(ConsumerNetworkClient.java:439)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:71)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1613)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1573)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1549)\r\n&gt; [kafka-clients-0.11.0.0.jar:?] \tat\r\n&gt; com.ibm.saas.msg.kafka.KafkaMessageService.listChannelNames(KafkaMessageService.java:305)\r\n&gt; [saas-msg-kafka-TRUNK-SNAPSHOT.jar:TRUNK-SNAPSHOT]","title":"Failed to send SSL Close message","body":"<p>I have a thread which once in a while is going to list the topics on the Message Hub. But once in a while, I am getting a :Failed to send SSL Close message.</p>\n\n<p>Any ideas?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(getConsumerConfiguration());\ntry {\n    Map&lt;String, List&lt;PartitionInfo&gt;&gt; topics = consumer.listTopics();\n    return new ArrayList&lt;String&gt;(topics.keySet());\n} finally {\n    if (consumer != null) {\n        **consumer.close();**\n    }\n}\n</code></pre>\n\n<p>I am getting the warning from <strong>consumer.close</strong>.</p>\n\n<p>The configuration of the consumer:</p>\n\n<ul>\n<li>sasl.mechanism = PLAIN </li>\n<li>security.protocol = SASL_SSL </li>\n<li>group.id = consumer1</li>\n<li>ssl.enabled.protocol = TLSv1.2 </li>\n<li>ssl.endpoint.identification.algorithm = HTTPS </li>\n<li>ssl.protocol = TLSv1.2</li>\n<li>sasl.jaas.config = org.apache.kafka.common.security.plain.PlainLoginModule required username=\"USERNAME\" password=\"PASSWORD\";</li>\n</ul>\n\n<blockquote>\n  <p>[WARN ] 2018-01-25 20:12:23.204 [ClusterChannelMonitorTaskThread]\n  org.apache.kafka.common.network.SslTransportLayer  {} - Failed to send\n  SSL Close message  java.io.IOException: Unexpected status returned by\n  SSLEngine.wrap, expected CLOSED, received OK. Will not send close\n  message to peer.  at\n  org.apache.kafka.common.network.SslTransportLayer.close(SslTransportLayer.java:158)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.utils.Utils.closeAll(Utils.java:663)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.KafkaChannel.close(KafkaChannel.java:59)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.doClose(Selector.java:582)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:573)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:539)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.common.network.Selector.close(Selector.java:250)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.NetworkClient.close(NetworkClient.java:505)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.close(ConsumerNetworkClient.java:439)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.ClientUtils.closeQuietly(ClientUtils.java:71)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1613)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1573)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:1549)\n  [kafka-clients-0.11.0.0.jar:?]    at\n  com.ibm.saas.msg.kafka.KafkaMessageService.listChannelNames(KafkaMessageService.java:305)\n  [saas-msg-kafka-TRUNK-SNAPSHOT.jar:TRUNK-SNAPSHOT]</p>\n</blockquote>\n"},{"tags":["java","spring-boot","junit","spring-boot-test"],"comments":[{"owner":{"account_id":8503881,"reputation":113,"user_id":6376077,"display_name":"Christian Gabrisch"},"score":0,"creation_date":1695109284,"post_id":59193282,"comment_id":135976506,"body_markdown":"From Spring Boot 2.4 onwards, junit-vintage-engine has been removed from spring-boot-starter-test. Thus no need to explicitly exclude it any longer. https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes","body":"From Spring Boot 2.4 onwards, junit-vintage-engine has been removed from spring-boot-starter-test. Thus no need to explicitly exclude it any longer. <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.4-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1575557466,"creation_date":1575557466,"answer_id":59197712,"question_id":59193282,"body_markdown":"`junit-vintage-engine` is used for running JUnit 4 tests; `junit-jupiter-engine` for JUnit 5 tests.\r\n\r\nPresumably since you&#39;ll be writing only JUnit 5 tests for a new Spring Boot project, the vintage engine won&#39;t be needed, hence the default dependency exclusion in the POM.\r\n\r\n**Reference:**\r\n\r\nhttps://junit.org/junit5/docs/current/user-guide","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p><code>junit-vintage-engine</code> is used for running JUnit 4 tests; <code>junit-jupiter-engine</code> for JUnit 5 tests.</p>\n\n<p>Presumably since you'll be writing only JUnit 5 tests for a new Spring Boot project, the vintage engine won't be needed, hence the default dependency exclusion in the POM.</p>\n\n<p><strong>Reference:</strong></p>\n\n<p><a href=\"https://junit.org/junit5/docs/current/user-guide\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide</a></p>\n"},{"tags":[],"owner":{"account_id":13059268,"reputation":2313,"user_id":9437031,"display_name":"Dhwanil Patel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1581598273,"creation_date":1581598273,"answer_id":60208307,"question_id":59193282,"body_markdown":"**Answer : 1.** Based on reading i found some difference like,\r\n\r\n**junit-vintage-engine :** \r\n\r\n- Used in Junit-4 Testing.\r\n- Used to call core classes and annotations.\r\n- &#39;Assert&#39; which provide assertion methods for performing test.\r\n- &#39;Assume&#39; used to place assumptions.\r\n- Use annotation like, @Ignore, @Before, etc...\r\n\r\n\r\n**junit-jupiter-engine :** \r\n\r\n- Used in Junit-5 Testing\r\n- Provide some API which helpful to write test cases.\r\n- &#39;Assertions&#39; provides utility methods of assertion condition for testing.\r\n- &#39;Assumptions&#39; - utility method provide condition based on assumption.\r\n- Change the bit of annotation name like, @Disable, @BeforeAll, @BeforeEach, etc...\r\n\r\n**Answer : 2.** I&#39;m also amazed they are still providing older vintage library probably there is some reason which i don&#39;t know till now but based on current usage we&#39;ll see that in next update. \r\n\r\nHave a nice day!!! :)","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p><strong>Answer : 1.</strong> Based on reading i found some difference like,</p>\n\n<p><strong>junit-vintage-engine :</strong> </p>\n\n<ul>\n<li>Used in Junit-4 Testing.</li>\n<li>Used to call core classes and annotations.</li>\n<li>'Assert' which provide assertion methods for performing test.</li>\n<li>'Assume' used to place assumptions.</li>\n<li>Use annotation like, @Ignore, @Before, etc...</li>\n</ul>\n\n<p><strong>junit-jupiter-engine :</strong> </p>\n\n<ul>\n<li>Used in Junit-5 Testing</li>\n<li>Provide some API which helpful to write test cases.</li>\n<li>'Assertions' provides utility methods of assertion condition for testing.</li>\n<li>'Assumptions' - utility method provide condition based on assumption.</li>\n<li>Change the bit of annotation name like, @Disable, @BeforeAll, @BeforeEach, etc...</li>\n</ul>\n\n<p><strong>Answer : 2.</strong> I'm also amazed they are still providing older vintage library probably there is some reason which i don't know till now but based on current usage we'll see that in next update. </p>\n\n<p>Have a nice day!!! :)</p>\n"},{"tags":[],"owner":{"account_id":17658830,"reputation":84,"user_id":12817738,"display_name":"&#214;mer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583660350,"creation_date":1583660350,"answer_id":60586193,"question_id":59193282,"body_markdown":"First question is also related with the version of JDK. To be able to use jupiter engine, you must have Java 8 or higher. For second question; since the vintage engine is for JUnit4 and JUnit4 is greater than 10 years old, it is not recommended to be used. As far as I know, it has not been updated along this time although java has been evolved so much. I think that is why spring initializers enforce the use of junit-jupiter-engine.","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p>First question is also related with the version of JDK. To be able to use jupiter engine, you must have Java 8 or higher. For second question; since the vintage engine is for JUnit4 and JUnit4 is greater than 10 years old, it is not recommended to be used. As far as I know, it has not been updated along this time although java has been evolved so much. I think that is why spring initializers enforce the use of junit-jupiter-engine.</p>\n"}],"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42375,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":59197712,"answer_count":3,"score":38,"last_activity_date":1699473847,"creation_date":1575542291,"question_id":59193282,"body_markdown":"It&#39;s a two-fold question. \r\n\r\n1. What is the difference between `junit-vintage-engine` and `junit-jupiter-engine`?\r\n2. SpringBoot starter projects come with an exclusion for `junit-vintage-engine`. Is it to enforce the use of junit-jupiter-engine?\r\n\r\nBelow is the dependency of my SpringBoot project generated from [Spring Initializr][1]:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: https://start.spring.io/","title":"Difference between junit-vintage-engine and junit-jupiter-engine?","body":"<p>It's a two-fold question.</p>\n<ol>\n<li>What is the difference between <code>junit-vintage-engine</code> and <code>junit-jupiter-engine</code>?</li>\n<li>SpringBoot starter projects come with an exclusion for <code>junit-vintage-engine</code>. Is it to enforce the use of junit-jupiter-engine?</li>\n</ol>\n<p>Below is the dependency of my SpringBoot project generated from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","rest","wildfly","rest-client","microprofile"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697224435,"post_id":77286951,"comment_id":136258050,"body_markdown":"I don&#39;t see the `@Path(&quot;/user&quot;)`, but what version of WildFly are you running in? The 405  means you&#39;re not excepting the `POST` method on your server endpoint.","body":"I don&#39;t see the <code>@Path(&quot;&#47;user&quot;)</code>, but what version of WildFly are you running in? The 405  means you&#39;re not excepting the <code>POST</code> method on your server endpoint."}],"owner":{"account_id":29663271,"reputation":1,"user_id":22734388,"display_name":"Philipp W."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699473788,"creation_date":1697192513,"question_id":77286951,"body_markdown":"I&#39;m very new to RestAPI and I&#39;m stuck with this problem. I&#39;m trying to send a request using the Rest Client to my Wildfly Server, but I get this error:\r\n\r\n```\r\njavax.ws.rs.WebApplicationException: Unknown error, status code 405\r\n\r\n\tat org.jboss.resteasy.microprofile.client.DefaultResponseExceptionMapper.toThrowable(DefaultResponseExceptionMapper.java:21)\r\n\tat org.jboss.resteasy.microprofile.client.ExceptionMapping$HandlerException.mapException(ExceptionMapping.java:41)\r\n\tat org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:153)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy29.easy(Unknown Source)\r\n\tat UserResourceImplIT.add(UserResourceImplIT.java:30)\r\n```\r\n\r\nThis is my test:\r\n\r\n```\r\n\r\nimport java.net.URI;\r\nimport java.util.Date;\r\n\r\nimport javax.ws.rs.core.Response;\r\n\r\n\r\nimport org.eclipse.microprofile.rest.client.RestClientBuilder;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.tech11.startingasbackend.business.boundary.UserResource;\r\nimport com.tech11.startingasbackend.business.entity.CreateUserDTO;\r\n\r\npublic class UserResourceImplIT {\r\n\r\n    private UserResource client;\r\n\r\n     @BeforeEach\r\n     public void init() {\r\n     URI uri = URI.create(&quot;http://localhost:8080/starter&quot;);\r\n     this.client = RestClientBuilder\r\n     .newBuilder()\r\n     .baseUri(uri)\r\n     .build(UserResource.class);\r\n     }\r\n\r\n     @Test\r\n     public void add() {\r\n        Response response = this.client.easy(&quot;HELLO&quot;);\r\n\r\n     }\r\n}\r\n\r\n```\r\nMy Interface:\r\n\r\n```\r\npublic interface UserResource {\r\n\r\n    @POST\r\n    Response easy(String message);\r\n\r\n}\r\n```\r\n\r\nAnd my implementation:\r\n\r\n```\r\npublic class UserResourceImpl implements UserResource {\r\n   \r\n    @Override\r\n    public Response easy(String message) {\r\n       return Response.ok().build();\r\n    }\r\n```\r\nWhen I remove the @Path(&quot;/user&quot;) annotation from my Interface, the bug disappears, but nothing is posted in the database.\r\nDoes anyone know what I&#39;m missing and why this error occurs or how to proceed?","title":"Microprofile Rest Client Error javax.ws.rs.WebApplicationException: Unknown error, status code 405","body":"<p>I'm very new to RestAPI and I'm stuck with this problem. I'm trying to send a request using the Rest Client to my Wildfly Server, but I get this error:</p>\n<pre><code>javax.ws.rs.WebApplicationException: Unknown error, status code 405\n\n    at org.jboss.resteasy.microprofile.client.DefaultResponseExceptionMapper.toThrowable(DefaultResponseExceptionMapper.java:21)\n    at org.jboss.resteasy.microprofile.client.ExceptionMapping$HandlerException.mapException(ExceptionMapping.java:41)\n    at org.jboss.resteasy.microprofile.client.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:153)\n    at jdk.proxy2/jdk.proxy2.$Proxy29.easy(Unknown Source)\n    at UserResourceImplIT.add(UserResourceImplIT.java:30)\n</code></pre>\n<p>This is my test:</p>\n<pre><code>\nimport java.net.URI;\nimport java.util.Date;\n\nimport javax.ws.rs.core.Response;\n\n\nimport org.eclipse.microprofile.rest.client.RestClientBuilder;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nimport com.tech11.startingasbackend.business.boundary.UserResource;\nimport com.tech11.startingasbackend.business.entity.CreateUserDTO;\n\npublic class UserResourceImplIT {\n\n    private UserResource client;\n\n     @BeforeEach\n     public void init() {\n     URI uri = URI.create(&quot;http://localhost:8080/starter&quot;);\n     this.client = RestClientBuilder\n     .newBuilder()\n     .baseUri(uri)\n     .build(UserResource.class);\n     }\n\n     @Test\n     public void add() {\n        Response response = this.client.easy(&quot;HELLO&quot;);\n\n     }\n}\n\n</code></pre>\n<p>My Interface:</p>\n<pre><code>public interface UserResource {\n\n    @POST\n    Response easy(String message);\n\n}\n</code></pre>\n<p>And my implementation:</p>\n<pre><code>public class UserResourceImpl implements UserResource {\n   \n    @Override\n    public Response easy(String message) {\n       return Response.ok().build();\n    }\n</code></pre>\n<p>When I remove the @Path(&quot;/user&quot;) annotation from my Interface, the bug disappears, but nothing is posted in the database.\nDoes anyone know what I'm missing and why this error occurs or how to proceed?</p>\n"},{"tags":["java","android","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699472732,"creation_date":1699472732,"answer_id":77448521,"question_id":77448126,"body_markdown":"You cannot use the normal PDFBox on Android as it has dependencies on the Standard Java graphics library `awt` that the Java on Android does not use.\r\n\r\nThere is a port for Android, so use the following dependency\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.tom-roush:pdfbox-android:2.0.27.0&#39;\r\n}\r\n```\r\n\r\nThough I found the built in pdf libraries [PDFDocument][1] and [PdfRenderer][2] were good enough not to need external libraries like `pdfbox` or `itext` with their licensing/compatibility problems. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/pdf/PdfDocument\r\n  [2]: https://developer.android.com/reference/android/graphics/pdf/PdfRenderer","title":"pdfbox 3.0.0 library using in android studio for reading .pdf","body":"<p>You cannot use the normal PDFBox on Android as it has dependencies on the Standard Java graphics library <code>awt</code> that the Java on Android does not use.</p>\n<p>There is a port for Android, so use the following dependency</p>\n<pre><code>dependencies {\n    implementation 'com.tom-roush:pdfbox-android:2.0.27.0'\n}\n</code></pre>\n<p>Though I found the built in pdf libraries <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfDocument\" rel=\"nofollow noreferrer\">PDFDocument</a> and <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfRenderer\" rel=\"nofollow noreferrer\">PdfRenderer</a> were good enough not to need external libraries like <code>pdfbox</code> or <code>itext</code> with their licensing/compatibility problems.</p>\n"}],"owner":{"account_id":5129838,"reputation":955,"user_id":4154016,"accept_rate":67,"display_name":"Usman lqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1699472732,"creation_date":1699468554,"question_id":77448126,"body_markdown":"I&#39;m trying to read .pdf file for that I&#39;m using following code in activity button click but `&#39;Loader.loadPDF(file);&#39;` not work every time it shows me the error. \r\n\r\n\r\n    public void ReadMyPdfFile(View v){\r\n    \r\n        Thread thread = new Thread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;mPDF.pdf&quot;);\r\n\r\n                List&lt;String&gt; pageTexts = new ArrayList&lt;&gt;();\r\n                PDDocument pdDocument = null;\r\n                try {\r\n                    pdDocument = Loader.loadPDF(file);//&lt;-- error on this line\r\n                    int k = 0;\r\n                } catch (IOException e) {\r\n                    Log.i(TAG, &quot;ReadMyPdfFile: Exception++ &quot; + e.getMessage());\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\nlogcat\r\n\r\n `java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point;\r\n                                                                                                    \tat org.apache.pdfbox.pdmodel.PDDocument.&lt;clinit&gt;(PDDocument.java:104)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.createDocument(PDFParser.java:209)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187)\r\n                                                                                                    \tat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:156)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:466)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:348)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:303)\r\n                                                                                                    \tat org.apache.pdfbox.Loader.loadPDF(Loader.java:246)`\r\n\r\n In &#39;build.gradle&#39; following dependencies are added\r\n\r\n    implementation &#39;org.apache.pdfbox:pdfbox:3.0.0&#39;    \r\n    implementation &#39;org.apache.pdfbox:fontbox:3.0.0&#39;\r\n\r\n\r\nCan any body help me to resolve this issue?","title":"pdfbox 3.0.0 library using in android studio for reading .pdf","body":"<p>I'm trying to read .pdf file for that I'm using following code in activity button click but <code>'Loader.loadPDF(file);'</code> not work every time it shows me the error.</p>\n<pre><code>public void ReadMyPdfFile(View v){\n\n    Thread thread = new Thread(new Runnable(){\n        @Override\n        public void run() {\n            File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), &quot;mPDF.pdf&quot;);\n\n            List&lt;String&gt; pageTexts = new ArrayList&lt;&gt;();\n            PDDocument pdDocument = null;\n            try {\n                pdDocument = Loader.loadPDF(file);//&lt;-- error on this line\n                int k = 0;\n            } catch (IOException e) {\n                Log.i(TAG, &quot;ReadMyPdfFile: Exception++ &quot; + e.getMessage());\n                throw new RuntimeException(e);\n            }\n        }\n</code></pre>\n<p>logcat</p>\n<p><code>java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Point; at org.apache.pdfbox.pdmodel.PDDocument.&lt;clinit&gt;(PDDocument.java:104) at org.apache.pdfbox.pdfparser.PDFParser.createDocument(PDFParser.java:209) at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187) at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:156) at org.apache.pdfbox.Loader.loadPDF(Loader.java:466) at org.apache.pdfbox.Loader.loadPDF(Loader.java:348) at org.apache.pdfbox.Loader.loadPDF(Loader.java:303) at org.apache.pdfbox.Loader.loadPDF(Loader.java:246)</code></p>\n<p>In 'build.gradle' following dependencies are added</p>\n<pre><code>implementation 'org.apache.pdfbox:pdfbox:3.0.0'    \nimplementation 'org.apache.pdfbox:fontbox:3.0.0'\n</code></pre>\n<p>Can any body help me to resolve this issue?</p>\n"},{"tags":["java","spring","spring-boot","authorization"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699471879,"creation_date":1699467747,"answer_id":77448041,"question_id":77447043,"body_markdown":"Instead of using `@PreAuthorize`, you can do it manually using the following class:\r\n\r\n```java\r\npublic class SecurityHelper {\r\n  public static boolean hasAuthority(String authority) {\r\n    Collection&lt;? extends GrantedAuthority&gt; authorities = SecurityContextHolder.getContext().getAuthentication().getAuthorities();\r\n    return authorities.contains(new SimpleGrantedAuthority(authority));\r\n  }\r\n}\r\n```\r\n\r\nThen, you can define an additional class with methods for checking each scope, for example:\r\n```java\r\npublic class AuthorityChecker {\r\n  public static boolean hasDisplayAuthorization(){\r\n    return SecurityHelper.hasAuthority(&quot;SomeScopeName&quot;);\r\n  }\r\n  //...\r\n}\r\n```\r\nKeep in mind, that it will work as long as `SecurityContext` is available in the current thread, otherwise, it will throw an exception.\r\n\r\n","title":"Can I calculate user authorization with Spring&#39;s hasAuthority without throwing/catching an exception?","body":"<p>Instead of using <code>@PreAuthorize</code>, you can do it manually using the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityHelper {\n  public static boolean hasAuthority(String authority) {\n    Collection&lt;? extends GrantedAuthority&gt; authorities = SecurityContextHolder.getContext().getAuthentication().getAuthorities();\n    return authorities.contains(new SimpleGrantedAuthority(authority));\n  }\n}\n</code></pre>\n<p>Then, you can define an additional class with methods for checking each scope, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthorityChecker {\n  public static boolean hasDisplayAuthorization(){\n    return SecurityHelper.hasAuthority(&quot;SomeScopeName&quot;);\n  }\n  //...\n}\n</code></pre>\n<p>Keep in mind, that it will work as long as <code>SecurityContext</code> is available in the current thread, otherwise, it will throw an exception.</p>\n"}],"owner":{"account_id":1800064,"reputation":4881,"user_id":1638626,"accept_rate":75,"display_name":"Florian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699471879,"creation_date":1699458357,"question_id":77447043,"body_markdown":"My Java application uses Spring&#39;s `@PreAuthorize(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)` on methods to assert that the user is authorized to perform the actions in the methods. This annotation throws an `AccessDeniedException` if the user is unauthorized:\r\n```java\r\n@Override\r\n@PreAuthorize(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)\r\npublic void assertHasDisplayAuthorization() {\r\n    // empty on purpose\r\n}\r\n```\r\nOne of the application&#39;s endpoints wants to inform the user interface about which actions the user is able to perform. For that, it calculates an `Authorizations` object that renders as JSON like `{ canDisplay: true, canEdit: false, ... }`:\r\n```java\r\npublic Authorizations getAuthorizations() {\r\n    return new Authorizations(hasDisplayAuthorization(), hasEditAuthorization(), ...);\r\n}\r\n```\r\nThat calculation calls the `@PreAuthorize`&#39;d methods to determine the user&#39;s authorization:\r\n```java\r\nprivate boolean hasDisplayAuthorization() {\r\n    try {\r\n        validator.assertHasDisplayAuthorization();\r\n        return true;\r\n    } catch (AccessDeniedException e) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nThis works, but I don&#39;t like the fact that I need to throw and catch an exception just to calculate a simple true/false.\r\n\r\nIs there a possibility to calculate the `Authorizations` object without having to throw exceptions?\r\n\r\nFor example, would it be possible and reliable to calculate the authorization in an `@Value` annotation and just assign it to an object attribute?\r\n```java\r\n@Value(&quot;hasAuthority(&#39;SomeScopeName&#39;)&quot;)\r\nboolean canDisplay;\r\n\r\n... return new Authorizations(canDisplay, ...);\r\n```","title":"Can I calculate user authorization with Spring&#39;s hasAuthority without throwing/catching an exception?","body":"<p>My Java application uses Spring's <code>@PreAuthorize(&quot;hasAuthority('SomeScopeName')&quot;)</code> on methods to assert that the user is authorized to perform the actions in the methods. This annotation throws an <code>AccessDeniedException</code> if the user is unauthorized:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n@PreAuthorize(&quot;hasAuthority('SomeScopeName')&quot;)\npublic void assertHasDisplayAuthorization() {\n    // empty on purpose\n}\n</code></pre>\n<p>One of the application's endpoints wants to inform the user interface about which actions the user is able to perform. For that, it calculates an <code>Authorizations</code> object that renders as JSON like <code>{ canDisplay: true, canEdit: false, ... }</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Authorizations getAuthorizations() {\n    return new Authorizations(hasDisplayAuthorization(), hasEditAuthorization(), ...);\n}\n</code></pre>\n<p>That calculation calls the <code>@PreAuthorize</code>'d methods to determine the user's authorization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean hasDisplayAuthorization() {\n    try {\n        validator.assertHasDisplayAuthorization();\n        return true;\n    } catch (AccessDeniedException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>This works, but I don't like the fact that I need to throw and catch an exception just to calculate a simple true/false.</p>\n<p>Is there a possibility to calculate the <code>Authorizations</code> object without having to throw exceptions?</p>\n<p>For example, would it be possible and reliable to calculate the authorization in an <code>@Value</code> annotation and just assign it to an object attribute?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;hasAuthority('SomeScopeName')&quot;)\nboolean canDisplay;\n\n... return new Authorizations(canDisplay, ...);\n</code></pre>\n"},{"tags":["java","intellij-idea","console","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1699472343,"post_id":77448417,"comment_id":136537382,"body_markdown":"Please see https://plugins.jetbrains.com/docs/intellij/getting-help.html for the best resources to get help with the plug-in development for IntelliJ IDEA platform.","body":"Please see <a href=\"https://plugins.jetbrains.com/docs/intellij/getting-help.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/getting-help.html</a> for the best resources to get help with the plug-in development for IntelliJ IDEA platform."}],"owner":{"account_id":21696747,"reputation":21,"user_id":16010521,"display_name":"Thebest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699471776,"creation_date":1699471776,"question_id":77448417,"body_markdown":"I&#39;m developing an IntelliJ plugin for PhpStorm, and I&#39;m encountering an error during the execution of my plugin. It occurs every time I run my plugin. Could someone help to resolve it?\r\n\r\nThe error message I&#39;m getting is:\r\n\r\n```\r\nconfiguration must be postponed until the project is fully loaded.\r\n\tat com.intellij.op2023-11-06 20:51:14,855 [   5485] SEVERE - #c.i.w.c.f.i.WorkspaceFileIndexImpl - WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project configuration must be postponed until the project is fully loaded.\r\njava.lang.Throwable: WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project enapi.diagnostic.Logger.error(Logger.java:370)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getMainIndexData(WorkspaceFileIndexImpl.kt:281)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getOrCreateIndexData(WorkspaceFileIndexImpl.kt:273)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getFileInfo(WorkspaceFileIndexImpl.kt:240)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.findFileSet(WorkspaceFileIndexImpl.kt:200)\r\n\tat com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.isInContent(WorkspaceFileIndexImpl.kt:73)\r\n\tat com.intellij.openapi.roots.impl.ProjectFileIndexImpl.isInContent(ProjectFileIndexImpl.java:206)\r\n\tat java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.AbstractList$RandomAccessSpliterator.tryAdvance(AbstractList.java:706)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632)\r\n\tat one.util.streamex.AbstractStreamEx.anyMatch(AbstractStreamEx.java:543)\r\n\tat com.jetbrains.php.robo.run.RoboTasksToolWindowUpdateService$RoboBulkFileListener.after(RoboTasksToolWindowUpdateService.java:74)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.invokeMethod(MessageBusImpl.kt:699)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:663)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.executeOrAddToQueue(MessageBusImpl.kt:491)\r\n\tat com.intellij.util.messages.impl.ToDirectChildrenMessagePublisher.publish$intellij_platform_core(CompositeMessageBus.kt:310)\r\n\tat com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:448)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy51.after(Unknown Source)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.lambda$fireAfterEvents$19(PersistentFSImpl.java:1326)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.runSuppressing(PersistentFSImpl.java:955)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.fireAfterEvents(PersistentFSImpl.java:1323)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.applyMultipleEvents(PersistentFSImpl.java:1300)\r\n\tat com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.processEventsImpl(PersistentFSImpl.java:1263)\r\n\tat com.intellij.openapi.vfs.newvfs.AsyncEventSupport.processEventsFromRefresh(AsyncEventSupport.java:152)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEventsInWriteAction(RefreshSessionImpl.java:233)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$1(RefreshSessionImpl.java:214)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$7(ApplicationImpl.java:972)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:61)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:150)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$8(ApplicationImpl.java:972)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:970)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:953)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$2(RefreshSessionImpl.java:209)\r\n\tat com.intellij.openapi.application.WriteAction.lambda$run$1(WriteAction.java:87)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1006)\r\n\tat com.intellij.openapi.application.WriteAction.run(WriteAction.java:86)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEvents(RefreshSessionImpl.java:208)\r\n\tat com.intellij.openapi.vfs.newvfs.RefreshQueueImpl.lambda$queueSession$2(RefreshQueueImpl.java:104)\r\n\tat com.intellij.openapi.application.impl.NonBlockingReadActionImpl$Submission.lambda$safeTransferToEdt$7(NonBlockingReadActionImpl.java:711)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\r\n\tat com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\r\n\tat java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\r\n\tat java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\r\n\tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\r\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\r\n\tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\r\n\tat com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\r\n\tat com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\r\n\tat com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\r\n\tat com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\r\n\tat com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\r\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\r\n\tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\r\n```\r\n\r\ngradle.build.kts\r\n```\r\nplugins {\r\n  id(&quot;java&quot;)\r\n  id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.9.0&quot;\r\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.15.0&quot;\r\n}\r\n\r\ngroup = &quot;MagicPoint&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\n// Configure Gradle IntelliJ Plugin\r\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\nintellij {\r\n  version.set(&quot;2023.2.2&quot;)\r\n  type.set(&quot;PS&quot;) // Target IDE Platform\r\n\r\n  plugins.set(listOf(&quot;com.jetbrains.php:232.9921.55&quot;))\r\n}\r\n\r\ntasks {\r\n  // Set the JVM compatibility versions\r\n  withType&lt;JavaCompile&gt; {\r\n    sourceCompatibility = &quot;17&quot;\r\n    targetCompatibility = &quot;17&quot;\r\n  }\r\n  withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\r\n    kotlinOptions.jvmTarget = &quot;17&quot;\r\n  }\r\n\r\n  patchPluginXml {\r\n    sinceBuild.set(&quot;222&quot;)\r\n    untilBuild.set(&quot;232.*&quot;)\r\n  }\r\n\r\n  signPlugin {\r\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\r\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\r\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\r\n  }\r\n\r\n  publishPlugin {\r\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\r\n  }\r\n}\r\n\r\ndependencies {\r\n  implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)\r\n}\r\n```\r\n\r\nplugin.xml\r\n\r\n```\r\n&lt;idea-plugin&gt;\r\n  &lt;id&gt;Magic point&lt;/id&gt;\r\n\r\n  &lt;name&gt;Magic point&lt;/name&gt;\r\n\r\n  &lt;vendor email=&quot;&quot; url=&quot;&quot;&gt;Magic point&lt;/vendor&gt;\r\n\r\n  &lt;depends&gt;com.jetbrains.php&lt;/depends&gt;\r\n  &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;\r\n\r\n  &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\r\n    &lt;codeInsight.lineMarkerProvider language=&quot;PHP&quot; implementationClass=&quot;MagicLineMarker&quot; /&gt;\r\n  &lt;/extensions&gt;\r\n\r\n  &lt;actions&gt;\r\n    &lt;group id=&quot;startPoint&quot; text=&quot;Test&quot; popup=&quot;true&quot;&gt;\r\n      &lt;add-to-group group-id=&quot;MainMenu&quot; anchor=&quot;last&quot;/&gt;\r\n      &lt;action class=&quot;controllers.ViewController&quot; text=&quot;Create View&quot;&gt;\r\n      &lt;/action&gt;\r\n    &lt;/group&gt;\r\n  &lt;/actions&gt;\r\n&lt;/idea-plugin&gt;\r\n```\r\n\r\n\r\n\r\nI have read the intellij open api sdk.\r\nI setup a new project but it did not solve the problem","title":"IntelliJ Plugin for PhpStorm: &quot;WorkspaceFileIndex is not initialized yet&quot; error during plugin execution","body":"<p>I'm developing an IntelliJ plugin for PhpStorm, and I'm encountering an error during the execution of my plugin. It occurs every time I run my plugin. Could someone help to resolve it?</p>\n<p>The error message I'm getting is:</p>\n<pre><code>configuration must be postponed until the project is fully loaded.\n    at com.intellij.op2023-11-06 20:51:14,855 [   5485] SEVERE - #c.i.w.c.f.i.WorkspaceFileIndexImpl - WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project configuration must be postponed until the project is fully loaded.\njava.lang.Throwable: WorkspaceFileIndex is not initialized yet, empty data is returned. Activities which use the project enapi.diagnostic.Logger.error(Logger.java:370)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getMainIndexData(WorkspaceFileIndexImpl.kt:281)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getOrCreateIndexData(WorkspaceFileIndexImpl.kt:273)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.getFileInfo(WorkspaceFileIndexImpl.kt:240)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.findFileSet(WorkspaceFileIndexImpl.kt:200)\n    at com.intellij.workspaceModel.core.fileIndex.impl.WorkspaceFileIndexImpl.isInContent(WorkspaceFileIndexImpl.kt:73)\n    at com.intellij.openapi.roots.impl.ProjectFileIndexImpl.isInContent(ProjectFileIndexImpl.java:206)\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.AbstractList$RandomAccessSpliterator.tryAdvance(AbstractList.java:706)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632)\n    at one.util.streamex.AbstractStreamEx.anyMatch(AbstractStreamEx.java:543)\n    at com.jetbrains.php.robo.run.RoboTasksToolWindowUpdateService$RoboBulkFileListener.after(RoboTasksToolWindowUpdateService.java:74)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeMethod(MessageBusImpl.kt:699)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:663)\n    at com.intellij.util.messages.impl.MessageBusImplKt.executeOrAddToQueue(MessageBusImpl.kt:491)\n    at com.intellij.util.messages.impl.ToDirectChildrenMessagePublisher.publish$intellij_platform_core(CompositeMessageBus.kt:310)\n    at com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:448)\n    at jdk.proxy2/jdk.proxy2.$Proxy51.after(Unknown Source)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.lambda$fireAfterEvents$19(PersistentFSImpl.java:1326)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.runSuppressing(PersistentFSImpl.java:955)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.fireAfterEvents(PersistentFSImpl.java:1323)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.applyMultipleEvents(PersistentFSImpl.java:1300)\n    at com.intellij.openapi.vfs.newvfs.persistent.PersistentFSImpl.processEventsImpl(PersistentFSImpl.java:1263)\n    at com.intellij.openapi.vfs.newvfs.AsyncEventSupport.processEventsFromRefresh(AsyncEventSupport.java:152)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEventsInWriteAction(RefreshSessionImpl.java:233)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$1(RefreshSessionImpl.java:214)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$7(ApplicationImpl.java:972)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:61)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.util.PotemkinProgress.runInSwingThread(PotemkinProgress.java:150)\n    at com.intellij.openapi.application.impl.ApplicationImpl.lambda$runEdtProgressWriteAction$8(ApplicationImpl.java:972)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runEdtProgressWriteAction(ApplicationImpl.java:970)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithNonCancellableProgressInDispatchThread(ApplicationImpl.java:953)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.lambda$fireEvents$2(RefreshSessionImpl.java:209)\n    at com.intellij.openapi.application.WriteAction.lambda$run$1(WriteAction.java:87)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteActionWithClass(ApplicationImpl.java:980)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWriteAction(ApplicationImpl.java:1006)\n    at com.intellij.openapi.application.WriteAction.run(WriteAction.java:86)\n    at com.intellij.openapi.vfs.newvfs.RefreshSessionImpl.fireEvents(RefreshSessionImpl.java:208)\n    at com.intellij.openapi.vfs.newvfs.RefreshQueueImpl.lambda$queueSession$2(RefreshQueueImpl.java:104)\n    at com.intellij.openapi.application.impl.NonBlockingReadActionImpl$Submission.lambda$safeTransferToEdt$7(NonBlockingReadActionImpl.java:711)\n    at com.intellij.openapi.application.TransactionGuardImpl.runWithWritingAllowed(TransactionGuardImpl.java:208)\n    at com.intellij.openapi.application.TransactionGuardImpl.access$100(TransactionGuardImpl.java:21)\n    at com.intellij.openapi.application.TransactionGuardImpl$1.run(TransactionGuardImpl.java:190)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.openapi.application.impl.ApplicationImpl$4.run(ApplicationImpl.java:478)\n    at com.intellij.openapi.application.impl.FlushQueue.doRun(FlushQueue.java:79)\n    at com.intellij.openapi.application.impl.FlushQueue.runNextEvent(FlushQueue.java:121)\n    at com.intellij.openapi.application.impl.FlushQueue.flushNow(FlushQueue.java:41)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:792)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:739)\n    at java.desktop/java.awt.EventQueue$3.run(EventQueue.java:733)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:761)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.kt:685)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent$lambda$10(IdeEventQueue.kt:589)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runWithoutImplicitRead(ApplicationImpl.java:1485)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.kt:589)\n    at com.intellij.ide.IdeEventQueue.access$_dispatchEvent(IdeEventQueue.kt:67)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:369)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1$1.compute(IdeEventQueue.kt:368)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computePrioritized(CoreProgressManager.java:787)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:368)\n    at com.intellij.ide.IdeEventQueue$dispatchEvent$processEventRunnable$1$1.invoke(IdeEventQueue.kt:363)\n    at com.intellij.ide.IdeEventQueueKt.performActivity$lambda$1(IdeEventQueue.kt:992)\n    at com.intellij.openapi.application.TransactionGuardImpl.performActivity(TransactionGuardImpl.java:105)\n    at com.intellij.ide.IdeEventQueueKt.performActivity(IdeEventQueue.kt:992)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent$lambda$7(IdeEventQueue.kt:363)\n    at com.intellij.openapi.application.impl.ApplicationImpl.runIntendedWriteActionOnCurrentThread(ApplicationImpl.java:861)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.kt:405)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:207)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:128)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:117)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:105)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:92)\n</code></pre>\n<p>gradle.build.kts</p>\n<pre><code>plugins {\n  id(&quot;java&quot;)\n  id(&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.9.0&quot;\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.15.0&quot;\n}\n\ngroup = &quot;MagicPoint&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n}\n\n// Configure Gradle IntelliJ Plugin\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\nintellij {\n  version.set(&quot;2023.2.2&quot;)\n  type.set(&quot;PS&quot;) // Target IDE Platform\n\n  plugins.set(listOf(&quot;com.jetbrains.php:232.9921.55&quot;))\n}\n\ntasks {\n  // Set the JVM compatibility versions\n  withType&lt;JavaCompile&gt; {\n    sourceCompatibility = &quot;17&quot;\n    targetCompatibility = &quot;17&quot;\n  }\n  withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;17&quot;\n  }\n\n  patchPluginXml {\n    sinceBuild.set(&quot;222&quot;)\n    untilBuild.set(&quot;232.*&quot;)\n  }\n\n  signPlugin {\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\n  }\n\n  publishPlugin {\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\n  }\n}\n\ndependencies {\n  implementation(&quot;org.freemarker:freemarker:2.3.32&quot;)\n}\n</code></pre>\n<p>plugin.xml</p>\n<pre><code>&lt;idea-plugin&gt;\n  &lt;id&gt;Magic point&lt;/id&gt;\n\n  &lt;name&gt;Magic point&lt;/name&gt;\n\n  &lt;vendor email=&quot;&quot; url=&quot;&quot;&gt;Magic point&lt;/vendor&gt;\n\n  &lt;depends&gt;com.jetbrains.php&lt;/depends&gt;\n  &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;\n\n  &lt;extensions defaultExtensionNs=&quot;com.intellij&quot;&gt;\n    &lt;codeInsight.lineMarkerProvider language=&quot;PHP&quot; implementationClass=&quot;MagicLineMarker&quot; /&gt;\n  &lt;/extensions&gt;\n\n  &lt;actions&gt;\n    &lt;group id=&quot;startPoint&quot; text=&quot;Test&quot; popup=&quot;true&quot;&gt;\n      &lt;add-to-group group-id=&quot;MainMenu&quot; anchor=&quot;last&quot;/&gt;\n      &lt;action class=&quot;controllers.ViewController&quot; text=&quot;Create View&quot;&gt;\n      &lt;/action&gt;\n    &lt;/group&gt;\n  &lt;/actions&gt;\n&lt;/idea-plugin&gt;\n</code></pre>\n<p>I have read the intellij open api sdk.\nI setup a new project but it did not solve the problem</p>\n"},{"tags":["java","spring","file","download","controller"],"comments":[{"owner":{"account_id":2278469,"reputation":2375,"user_id":2004186,"accept_rate":62,"display_name":"Krzysztof Skrzynecki"},"score":4,"creation_date":1565335934,"post_id":5673260,"comment_id":101329079,"body_markdown":"It worth mentioning that Spring Framework changed a lot since 2011, so you can do it in a reactive way as well - [here](https://stackoverflow.com/a/46766566/2004186) is an example","body":"It worth mentioning that Spring Framework changed a lot since 2011, so you can do it in a reactive way as well - <a href=\"https://stackoverflow.com/a/46766566/2004186\">here</a> is an example"},{"owner":{"account_id":13495113,"reputation":61,"user_id":9736184,"display_name":"Muhammad Asher Toqeer"},"score":1,"creation_date":1617024977,"post_id":5673260,"comment_id":118177795,"body_markdown":"With later versions of spring, you just need to return the byte array with appropriate headers in ResponseEntity. Here is a full example: https://allaboutspringframework.com/java-spring-download-file-from-controller/","body":"With later versions of spring, you just need to return the byte array with appropriate headers in ResponseEntity. Here is a full example: <a href=\"https://allaboutspringframework.com/java-spring-download-file-from-controller/\" rel=\"nofollow noreferrer\">allaboutspringframework.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":96964,"reputation":3086,"user_id":263285,"accept_rate":75,"display_name":"kalyan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1302851183,"creation_date":1302850569,"answer_id":5673326,"question_id":5673260,"body_markdown":"What I can quickly think of is, generate the pdf and store it in webapp/downloads/&lt; RANDOM-FILENAME&gt;.pdf from the code and send a forward to this file using HttpServletRequest\r\n\r\n    request.getRequestDispatcher(&quot;/downloads/&lt;RANDOM-FILENAME&gt;.pdf&quot;).forward(request, response);\r\n\r\nor if you can configure your view resolver something like, \r\n\r\n      &lt;bean id=&quot;pdfViewResolver&quot;\r\n            class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot;\r\n                  value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n        &lt;property name=&quot;order&quot; value=”2″/&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/downloads/&quot; /&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.pdf&quot; /&gt;\r\n      &lt;/bean&gt;\r\n\r\nthen just return \r\n    \r\n    return &quot;RANDOM-FILENAME&quot;;\r\n\r\n\r\n","title":"Downloading a file from spring controllers","body":"<p>What I can quickly think of is, generate the pdf and store it in webapp/downloads/&lt; RANDOM-FILENAME>.pdf from the code and send a forward to this file using HttpServletRequest</p>\n\n<pre><code>request.getRequestDispatcher(\"/downloads/&lt;RANDOM-FILENAME&gt;.pdf\").forward(request, response);\n</code></pre>\n\n<p>or if you can configure your view resolver something like, </p>\n\n<pre><code>  &lt;bean id=\"pdfViewResolver\"\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n              value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"order\" value=”2″/&gt;\n    &lt;property name=\"prefix\" value=\"/downloads/\" /&gt;\n    &lt;property name=\"suffix\" value=\".pdf\" /&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>then just return </p>\n\n<pre><code>return \"RANDOM-FILENAME\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218893,"reputation":11735,"user_id":475456,"accept_rate":69,"display_name":"Infeligo"},"down_vote_count":7,"up_vote_count":442,"is_accepted":true,"score":435,"last_activity_date":1408822540,"creation_date":1302850791,"answer_id":5673356,"question_id":5673260,"body_markdown":"    @RequestMapping(value = &quot;/files/{file_name}&quot;, method = RequestMethod.GET)\r\n    public void getFile(\r\n        @PathVariable(&quot;file_name&quot;) String fileName, \r\n        HttpServletResponse response) {\r\n        try {\r\n          // get your file as InputStream\r\n          InputStream is = ...;\r\n          // copy it to response&#39;s OutputStream\r\n          org.apache.commons.io.IOUtils.copy(is, response.getOutputStream());\r\n          response.flushBuffer();\r\n        } catch (IOException ex) {\r\n          log.info(&quot;Error writing file to output stream. Filename was &#39;{}&#39;&quot;, fileName, ex);\r\n          throw new RuntimeException(&quot;IOError writing file to output stream&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nGenerally speaking, when you have `response.getOutputStream()`, you can write anything there. You can pass this output stream as a place to put generated PDF to your generator. Also, if you know what file type you are sending, you can set \r\n\r\n    response.setContentType(&quot;application/pdf&quot;);","title":"Downloading a file from spring controllers","body":"<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\npublic void getFile(\n    @PathVariable(\"file_name\") String fileName, \n    HttpServletResponse response) {\n    try {\n      // get your file as InputStream\n      InputStream is = ...;\n      // copy it to response's OutputStream\n      org.apache.commons.io.IOUtils.copy(is, response.getOutputStream());\n      response.flushBuffer();\n    } catch (IOException ex) {\n      log.info(\"Error writing file to output stream. Filename was '{}'\", fileName, ex);\n      throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n\n}\n</code></pre>\n\n<p>Generally speaking, when you have <code>response.getOutputStream()</code>, you can write anything there. You can pass this output stream as a place to put generated PDF to your generator. Also, if you know what file type you are sending, you can set </p>\n\n<pre><code>response.setContentType(\"application/pdf\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97762,"reputation":7689,"user_id":265022,"display_name":"lobster1234"},"down_vote_count":1,"up_vote_count":89,"is_accepted":false,"score":88,"last_activity_date":1483732106,"creation_date":1302850918,"answer_id":5673375,"question_id":5673260,"body_markdown":"You should be able to write the file on the response directly. Something like \r\n \r\n\r\n    response.setContentType(&quot;application/pdf&quot;);      \r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;somefile.pdf\\&quot;&quot;); \r\n\r\nand then write the file as a binary stream on `response.getOutputStream()`. Remember to do `response.flush()` at the end and that should do it.\r\n","title":"Downloading a file from spring controllers","body":"<p>You should be able to write the file on the response directly. Something like </p>\n\n<pre><code>response.setContentType(\"application/pdf\");      \nresponse.setHeader(\"Content-Disposition\", \"attachment; filename=\\\"somefile.pdf\\\"\"); \n</code></pre>\n\n<p>and then write the file as a binary stream on <code>response.getOutputStream()</code>. Remember to do <code>response.flush()</code> at the end and that should do it.</p>\n"},{"tags":[],"owner":{"account_id":1531824,"reputation":3794,"user_id":1428862,"display_name":"Scott Carlson"},"down_vote_count":0,"up_vote_count":307,"is_accepted":false,"score":307,"last_activity_date":1338479628,"creation_date":1338479628,"answer_id":10837053,"question_id":5673260,"body_markdown":"I was able to stream line this by using the built in support in Spring with it&#39;s ResourceHttpMessageConverter.  This will set the content-length and content-type if it can determine the mime-type\r\n\r\n\r\n    @RequestMapping(value = &quot;/files/{file_name}&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public FileSystemResource getFile(@PathVariable(&quot;file_name&quot;) String fileName) {\r\n    \treturn new FileSystemResource(myService.getFileFor(fileName)); \r\n    }\r\n","title":"Downloading a file from spring controllers","body":"<p>I was able to stream line this by using the built in support in Spring with it's ResourceHttpMessageConverter.  This will set the content-length and content-type if it can determine the mime-type</p>\n\n<pre><code>@RequestMapping(value = \"/files/{file_name}\", method = RequestMethod.GET)\n@ResponseBody\npublic FileSystemResource getFile(@PathVariable(\"file_name\") String fileName) {\n    return new FileSystemResource(myService.getFileFor(fileName)); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1481130343,"creation_date":1351507577,"answer_id":13120104,"question_id":5673260,"body_markdown":"With Spring 3.0 you can use the `HttpEntity` return object. If you use this, then your controller does not need a `HttpServletResponse` object, and therefore it is easier to test. \r\n*Except this, this answer is relative equals to the one of Infeligo*.\r\n\r\nIf the return value of your pdf framework is an byte array *(read the second part of my answer for other return values)* :\r\n\r\n\r\n    @RequestMapping(value = &quot;/files/{fileName}&quot;, method = RequestMethod.GET)\r\n    public HttpEntity&lt;byte[]&gt; createPdf(\r\n                     @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n        byte[] documentBody = this.pdfFramework.createPdf(filename);\r\n\r\n        HttpHeaders header = new HttpHeaders();\r\n        header.setContentType(MediaType.APPLICATION_PDF);\r\n        header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                       &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n        header.setContentLength(documentBody.length);\r\n\r\n        return new HttpEntity&lt;byte[]&gt;(documentBody, header);\r\n    }\r\n\r\n\r\n----\r\n**If the return type of your PDF Framework (`documentBbody`) is not already a byte array** (and also no `ByteArrayInputStream`) then it would been wise **NOT** to make it a byte array first. Instead it is better to use:\r\n\r\n- [`InputStreamResource`][1],\r\n- [`PathResource`][2] (since Spring 4.0) or\r\n- [`FileSystemResource`][3], \r\n\r\nexample with `FileSystemResource`:\r\n\r\n    @RequestMapping(value = &quot;/files/{fileName}&quot;, method = RequestMethod.GET)\r\n    public HttpEntity&lt;byte[]&gt; createPdf(\r\n                     @PathVariable(&quot;fileName&quot;) String fileName) throws IOException {\r\n\r\n        File document = this.pdfFramework.createPdf(filename);\r\n\r\n        HttpHeaders header = new HttpHeaders();\r\n        header.setContentType(MediaType.APPLICATION_PDF);\r\n        header.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                       &quot;attachment; filename=&quot; + fileName.replace(&quot; &quot;, &quot;_&quot;));\r\n        header.setContentLength(document.length());\r\n\r\n        return new HttpEntity&lt;byte[]&gt;(new FileSystemResource(document),\r\n                                      header);\r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\r\n  [2]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/PathResource.html\r\n  [3]: http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/FileSystemResource.html","title":"Downloading a file from spring controllers","body":"<p>With Spring 3.0 you can use the <code>HttpEntity</code> return object. If you use this, then your controller does not need a <code>HttpServletResponse</code> object, and therefore it is easier to test. \n<em>Except this, this answer is relative equals to the one of Infeligo</em>.</p>\n\n<p>If the return value of your pdf framework is an byte array <em>(read the second part of my answer for other return values)</em> :</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    byte[] documentBody = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(documentBody.length);\n\n    return new HttpEntity&lt;byte[]&gt;(documentBody, header);\n}\n</code></pre>\n\n<hr>\n\n<p><strong>If the return type of your PDF Framework (<code>documentBbody</code>) is not already a byte array</strong> (and also no <code>ByteArrayInputStream</code>) then it would been wise <strong>NOT</strong> to make it a byte array first. Instead it is better to use:</p>\n\n<ul>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"noreferrer\"><code>InputStreamResource</code></a>,</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/PathResource.html\" rel=\"noreferrer\"><code>PathResource</code></a> (since Spring 4.0) or</li>\n<li><a href=\"http://docs.spring.io/spring-framework/docs/4.1.6.RELEASE/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"noreferrer\"><code>FileSystemResource</code></a>, </li>\n</ul>\n\n<p>example with <code>FileSystemResource</code>:</p>\n\n<pre><code>@RequestMapping(value = \"/files/{fileName}\", method = RequestMethod.GET)\npublic HttpEntity&lt;byte[]&gt; createPdf(\n                 @PathVariable(\"fileName\") String fileName) throws IOException {\n\n    File document = this.pdfFramework.createPdf(filename);\n\n    HttpHeaders header = new HttpHeaders();\n    header.setContentType(MediaType.APPLICATION_PDF);\n    header.set(HttpHeaders.CONTENT_DISPOSITION,\n                   \"attachment; filename=\" + fileName.replace(\" \", \"_\"));\n    header.setContentLength(document.length());\n\n    return new HttpEntity&lt;byte[]&gt;(new FileSystemResource(document),\n                                  header);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2981494,"reputation":492,"user_id":2531361,"display_name":"Sunil"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1422294488,"creation_date":1385623478,"answer_id":20260077,"question_id":5673260,"body_markdown":"This code is working fine to download a file automatically from spring controller on clicking a link on jsp.     \r\n\r\n\r\n\r\n    @RequestMapping(value=&quot;/downloadLogFile&quot;)\r\n    public void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\r\n        try {\r\n            String filePathToBeServed = //complete file name with path;\r\n            File fileToDownload = new File(filePathToBeServed);\r\n            InputStream inputStream = new FileInputStream(fileToDownload);\r\n            response.setContentType(&quot;application/force-download&quot;);\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+fileName+&quot;.txt&quot;); \r\n            IOUtils.copy(inputStream, response.getOutputStream());\r\n            response.flushBuffer();\r\n            inputStream.close();\r\n        } catch (Exception e){\r\n            LOGGER.debug(&quot;Request could not be completed at this moment. Please try again.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        \r\n    }","title":"Downloading a file from spring controllers","body":"<p>This code is working fine to download a file automatically from spring controller on clicking a link on jsp.     </p>\n\n<pre><code>@RequestMapping(value=\"/downloadLogFile\")\npublic void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\n    try {\n        String filePathToBeServed = //complete file name with path;\n        File fileToDownload = new File(filePathToBeServed);\n        InputStream inputStream = new FileInputStream(fileToDownload);\n        response.setContentType(\"application/force-download\");\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=\"+fileName+\".txt\"); \n        IOUtils.copy(inputStream, response.getOutputStream());\n        response.flushBuffer();\n        inputStream.close();\n    } catch (Exception e){\n        LOGGER.debug(\"Request could not be completed at this moment. Please try again.\");\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1629938105,"creation_date":1414098555,"answer_id":26537519,"question_id":5673260,"body_markdown":"If you:\r\n\r\n- Don&#39;t want to load the whole file into a `byte[]` before sending to the response;\r\n- Want/need to send/download it via `InputStream`;\r\n- Want to have full control of the Mime Type and file name sent;\r\n- Have other `@ControllerAdvice` picking up exceptions for you (or not).\r\n\r\nThe code below is what you need:\r\n\r\n    @RequestMapping(value = &quot;/stuff/{stuffId}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;FileSystemResource&gt; downloadStuff(@PathVariable int stuffId)\r\n                                                                          throws IOException {\r\n        String fullPath = stuffService.figureOutFileNameFor(stuffId);\r\n        File file = new File(fullPath);\r\n        long fileLength = file.length(); // this is ok, but see note below\r\n\r\n        HttpHeaders respHeaders = new HttpHeaders();\r\n        respHeaders.setContentType(&quot;application/pdf&quot;);\r\n        respHeaders.setContentLength(fileLength);\r\n        respHeaders.setContentDispositionFormData(&quot;attachment&quot;, &quot;fileNameIwant.pdf&quot;);\r\n\r\n        return new ResponseEntity&lt;FileSystemResource&gt;(\r\n            new FileSystemResource(file), respHeaders, HttpStatus.OK\r\n        );\r\n    }\r\n\r\n\r\n**More on `setContentLength()`:** First of all, the [`content-length` header is optional per the HTTP 1.1 RFC][1]. Still, if you can provide a value, it is better. To obtain such value, know that `File#length()` should be good enough in the general case, so it is a safe default choice.&lt;br&gt;\r\nIn very specific scenarios, though, it [can be slow][2], in which case you should have it stored previously (e.g. in the DB), not calculated on the fly. Slow scenarios include: if the file is _very_ large, specially if it is on a remote system or something more elaborated like that - a database, maybe.\r\n\r\n---\r\n\r\n&lt;br&gt;\r\n\r\n### `InputStreamResource`\r\n\r\nIf your resource is not a file, e.g. you pick the data up from the DB, you should use [`InputStreamResource`][3]. Example:\r\n\r\n    InputStreamResource isr = new InputStreamResource(...);\r\n    return new ResponseEntity&lt;InputStreamResource&gt;(isr, respHeaders, HttpStatus.OK);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27228549/1850609\r\n  [2]: http://stackoverflow.com/questions/116574/\r\n  [3]: http://docs.spring.io/spring/docs/4.1.1.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html","title":"Downloading a file from spring controllers","body":"<p>If you:</p>\n<ul>\n<li>Don't want to load the whole file into a <code>byte[]</code> before sending to the response;</li>\n<li>Want/need to send/download it via <code>InputStream</code>;</li>\n<li>Want to have full control of the Mime Type and file name sent;</li>\n<li>Have other <code>@ControllerAdvice</code> picking up exceptions for you (or not).</li>\n</ul>\n<p>The code below is what you need:</p>\n<pre><code>@RequestMapping(value = &quot;/stuff/{stuffId}&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;FileSystemResource&gt; downloadStuff(@PathVariable int stuffId)\n                                                                      throws IOException {\n    String fullPath = stuffService.figureOutFileNameFor(stuffId);\n    File file = new File(fullPath);\n    long fileLength = file.length(); // this is ok, but see note below\n\n    HttpHeaders respHeaders = new HttpHeaders();\n    respHeaders.setContentType(&quot;application/pdf&quot;);\n    respHeaders.setContentLength(fileLength);\n    respHeaders.setContentDispositionFormData(&quot;attachment&quot;, &quot;fileNameIwant.pdf&quot;);\n\n    return new ResponseEntity&lt;FileSystemResource&gt;(\n        new FileSystemResource(file), respHeaders, HttpStatus.OK\n    );\n}\n</code></pre>\n<p><strong>More on <code>setContentLength()</code>:</strong> First of all, the <a href=\"https://stackoverflow.com/a/27228549/1850609\"><code>content-length</code> header is optional per the HTTP 1.1 RFC</a>. Still, if you can provide a value, it is better. To obtain such value, know that <code>File#length()</code> should be good enough in the general case, so it is a safe default choice.<br>\nIn very specific scenarios, though, it <a href=\"http://stackoverflow.com/questions/116574/\">can be slow</a>, in which case you should have it stored previously (e.g. in the DB), not calculated on the fly. Slow scenarios include: if the file is <em>very</em> large, specially if it is on a remote system or something more elaborated like that - a database, maybe.</p>\n<hr />\n<br>\n<h3><code>InputStreamResource</code></h3>\n<p>If your resource is not a file, e.g. you pick the data up from the DB, you should use <a href=\"http://docs.spring.io/spring/docs/4.1.1.RELEASE/javadoc-api/org/springframework/core/io/InputStreamResource.html\" rel=\"noreferrer\"><code>InputStreamResource</code></a>. Example:</p>\n<pre><code>InputStreamResource isr = new InputStreamResource(...);\nreturn new ResponseEntity&lt;InputStreamResource&gt;(isr, respHeaders, HttpStatus.OK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3233258,"reputation":560,"user_id":2728007,"display_name":"Siva Kumar"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1451382744,"creation_date":1451382744,"answer_id":34508533,"question_id":5673260,"body_markdown":"Below code worked for me to generate and download a text file.\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;byte[]&gt; getDownloadData() throws Exception {\r\n\t\t\t\r\n\t\tString regData = &quot;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.&quot;;\r\n\t\tbyte[] output = regData.getBytes();\r\n\r\n\t\tHttpHeaders responseHeaders = new HttpHeaders();\r\n\t\tresponseHeaders.set(&quot;charset&quot;, &quot;utf-8&quot;);\r\n\t\tresponseHeaders.setContentType(MediaType.valueOf(&quot;text/html&quot;));\r\n\t\tresponseHeaders.setContentLength(output.length);\r\n\t\tresponseHeaders.set(&quot;Content-disposition&quot;, &quot;attachment; filename=filename.txt&quot;);\r\n\r\n\t\treturn new ResponseEntity&lt;byte[]&gt;(output, responseHeaders, HttpStatus.OK);\r\n\t}","title":"Downloading a file from spring controllers","body":"<p>Below code worked for me to generate and download a text file.</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic ResponseEntity&lt;byte[]&gt; getDownloadData() throws Exception {\n\n    String regData = \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\";\n    byte[] output = regData.getBytes();\n\n    HttpHeaders responseHeaders = new HttpHeaders();\n    responseHeaders.set(\"charset\", \"utf-8\");\n    responseHeaders.setContentType(MediaType.valueOf(\"text/html\"));\n    responseHeaders.setContentLength(output.length);\n    responseHeaders.set(\"Content-disposition\", \"attachment; filename=filename.txt\");\n\n    return new ResponseEntity&lt;byte[]&gt;(output, responseHeaders, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2780715,"reputation":1058,"user_id":2393364,"display_name":"xxy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465981432,"creation_date":1465981432,"answer_id":37830837,"question_id":5673260,"body_markdown":"something like below\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n    public void getFile(HttpServletResponse response) {\r\n        try {\r\n            DefaultResourceLoader loader = new DefaultResourceLoader();\r\n            InputStream is = loader.getResource(&quot;classpath:META-INF/resources/Accepted.pdf&quot;).getInputStream();\r\n            IOUtils.copy(is, response.getOutputStream());\r\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=Accepted.pdf&quot;);\r\n            response.flushBuffer();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(&quot;IOError writing file to output stream&quot;);\r\n        }\r\n    }\r\n\r\nYou can display PDF or download it examples [here][1]\r\n\r\n\r\n  [1]: http://www.henryxi.com/display-pdf-in-spring-example","title":"Downloading a file from spring controllers","body":"<p>something like below</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic void getFile(HttpServletResponse response) {\n    try {\n        DefaultResourceLoader loader = new DefaultResourceLoader();\n        InputStream is = loader.getResource(\"classpath:META-INF/resources/Accepted.pdf\").getInputStream();\n        IOUtils.copy(is, response.getOutputStream());\n        response.setHeader(\"Content-Disposition\", \"attachment; filename=Accepted.pdf\");\n        response.flushBuffer();\n    } catch (IOException ex) {\n        throw new RuntimeException(\"IOError writing file to output stream\");\n    }\n}\n</code></pre>\n\n<p>You can display PDF or download it examples <a href=\"http://www.henryxi.com/display-pdf-in-spring-example\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":10872990,"reputation":1661,"user_id":7994269,"display_name":"Jorge Santos Neill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535643516,"creation_date":1535643516,"answer_id":52100829,"question_id":5673260,"body_markdown":"The following solution work for me\r\n\r\n        @RequestMapping(value=&quot;/download&quot;)\r\n    \tpublic void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\r\n    \t    try {\r\n    \t    \t\r\n    \t    \tString fileName=&quot;archivo demo.pdf&quot;;\r\n    \t        String filePathToBeServed = &quot;C:\\\\software\\\\Tomcat 7.0\\\\tmpFiles\\\\&quot;;\r\n    \t        File fileToDownload = new File(filePathToBeServed+fileName);\r\n    \t        \r\n    \t        InputStream inputStream = new FileInputStream(fileToDownload);\r\n    \t        response.setContentType(&quot;application/force-download&quot;);\r\n    \t        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot;+fileName); \r\n    \t        IOUtils.copy(inputStream, response.getOutputStream());\r\n    \t        response.flushBuffer();\r\n    \t        inputStream.close();\r\n    \t    } catch (Exception exception){\r\n    \t        System.out.println(exception.getMessage());\r\n    \t    }\r\n    \r\n    \t}","title":"Downloading a file from spring controllers","body":"<p>The following solution work for me</p>\n\n<pre><code>    @RequestMapping(value=\"/download\")\n    public void getLogFile(HttpSession session,HttpServletResponse response) throws Exception {\n        try {\n\n            String fileName=\"archivo demo.pdf\";\n            String filePathToBeServed = \"C:\\\\software\\\\Tomcat 7.0\\\\tmpFiles\\\\\";\n            File fileToDownload = new File(filePathToBeServed+fileName);\n\n            InputStream inputStream = new FileInputStream(fileToDownload);\n            response.setContentType(\"application/force-download\");\n            response.setHeader(\"Content-Disposition\", \"attachment; filename=\"+fileName); \n            IOUtils.copy(inputStream, response.getOutputStream());\n            response.flushBuffer();\n            inputStream.close();\n        } catch (Exception exception){\n            System.out.println(exception.getMessage());\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11913708,"reputation":107,"user_id":8718158,"accept_rate":100,"display_name":"Sagar Nair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556737673,"creation_date":1556737673,"answer_id":55941344,"question_id":5673260,"body_markdown":"If it helps anyone. You can do what the accepted answer by Infeligo has suggested but just put this extra bit in the code for a forced download.\r\n\r\n    response.setContentType(&quot;application/force-download&quot;);","title":"Downloading a file from spring controllers","body":"<p>If it helps anyone. You can do what the accepted answer by Infeligo has suggested but just put this extra bit in the code for a forced download.</p>\n\n<pre><code>response.setContentType(\"application/force-download\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444350,"reputation":131,"user_id":9061048,"accept_rate":100,"display_name":"theNextBigThing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580718186,"creation_date":1580718186,"answer_id":60035475,"question_id":5673260,"body_markdown":"This can be a useful answer.\r\n\r\nhttps://stackoverflow.com/questions/60034234/is-it-ok-to-export-data-as-pdf-format-in-frontend/\r\n\r\nExtending to this, adding content-disposition as an attachment(default) will download the file. If you want to view it, you need to set it to inline.","title":"Downloading a file from spring controllers","body":"<p>This can be a useful answer.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/60034234/is-it-ok-to-export-data-as-pdf-format-in-frontend/\">Is it ok to export data as pdf format in frontend?</a></p>\n\n<p>Extending to this, adding content-disposition as an attachment(default) will download the file. If you want to view it, you need to set it to inline.</p>\n"},{"tags":[],"owner":{"account_id":1854035,"reputation":3827,"user_id":1679995,"accept_rate":85,"display_name":"Tomasz Dzięcielewski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582626212,"creation_date":1582626212,"answer_id":60392347,"question_id":5673260,"body_markdown":"In my case I&#39;m generating some file on demand, so also url has to be generated.\r\n\r\nFor me works something like that:\r\n\r\n    @RequestMapping(value = &quot;/files/{filename:.+}&quot;, method = RequestMethod.GET, produces = &quot;text/csv&quot;)\r\n\t@ResponseBody\r\n\tpublic FileSystemResource getFile(@PathVariable String filename) {\r\n\t\tString path = dataProvider.getFullPath(filename);\r\n\t\treturn new FileSystemResource(new File(path));\r\n\t}\r\n\r\nVery important is mime type in `produces` and also that, that name of the file is a part of the link so you has to use `@PathVariable`.\r\n\r\nHTML code looks like that:\r\n\r\n    &lt;a th:href=&quot;@{|/dbreport/files/${file_name}|}&quot;&gt;Download&lt;/a&gt;\r\n\r\nWhere `${file_name}` is generated by Thymeleaf in controller and is i.e.: result_20200225.csv, so that whole url behing link is: `example.com/aplication/dbreport/files/result_20200225.csv`.\r\n\r\nAfter clicking on link browser asks me what to do with file - save or open.","title":"Downloading a file from spring controllers","body":"<p>In my case I'm generating some file on demand, so also url has to be generated.</p>\n\n<p>For me works something like that:</p>\n\n<pre><code>@RequestMapping(value = \"/files/{filename:.+}\", method = RequestMethod.GET, produces = \"text/csv\")\n@ResponseBody\npublic FileSystemResource getFile(@PathVariable String filename) {\n    String path = dataProvider.getFullPath(filename);\n    return new FileSystemResource(new File(path));\n}\n</code></pre>\n\n<p>Very important is mime type in <code>produces</code> and also that, that name of the file is a part of the link so you has to use <code>@PathVariable</code>.</p>\n\n<p>HTML code looks like that:</p>\n\n<pre><code>&lt;a th:href=\"@{|/dbreport/files/${file_name}|}\"&gt;Download&lt;/a&gt;\n</code></pre>\n\n<p>Where <code>${file_name}</code> is generated by Thymeleaf in controller and is i.e.: result_20200225.csv, so that whole url behing link is: <code>example.com/aplication/dbreport/files/result_20200225.csv</code>.</p>\n\n<p>After clicking on link browser asks me what to do with file - save or open.</p>\n"},{"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1660329340,"creation_date":1594562528,"answer_id":62862021,"question_id":5673260,"body_markdown":"### Do\r\n\r\n1. Return `ResponseEntity&lt;Resource&gt;` from a handler method\r\n1. Specify `Content-Type`\r\n1. Set `Content-Disposition` if necessary:\r\n    1. filename\r\n    1. type\r\n        1. [`inline`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#inline--) to force preview in a browser\r\n        1. [`attachment`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#attachment--) to force a download\r\n\r\n### Example\r\n\r\n```java\r\n@Controller\r\npublic class DownloadController {\r\n    @GetMapping(&quot;/downloadPdf.pdf&quot;)\r\n    // 1.\r\n    public ResponseEntity&lt;Resource&gt; downloadPdf() {\r\n        FileSystemResource resource = new FileSystemResource(&quot;/home/caco3/Downloads/JMC_Tutorial.pdf&quot;);\r\n        // 2.\r\n        MediaType mediaType = MediaTypeFactory\r\n                .getMediaType(resource)\r\n                .orElse(MediaType.APPLICATION_OCTET_STREAM);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(mediaType);\r\n        // 3\r\n        ContentDisposition disposition = ContentDisposition\r\n                // 3.2\r\n                .inline() // or .attachment()\r\n                // 3.1\r\n                .filename(resource.getFilename())\r\n                .build();\r\n        headers.setContentDisposition(disposition);\r\n        return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n### Explanation\r\n\r\n**Return `ResponseEntity&lt;Resource&gt;`**\r\n\r\nWhen you return a [`ResponseEntity&lt;Resource&gt;`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html), the [`ResourceHttpMessageConverter`](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html) writes file contents\r\n\r\nExamples of `Resource` implementations:\r\n\r\n* [`ByteArrayResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html) - based in `byte[]`\r\n* [`FileSystemResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html) - for a `File` or a `Path`\r\n* [`UrlResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html) - retrieved from `java.net.URL`\r\n* [`GridFsResource`](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/gridfs/GridFsResource.html) - a blob stored in MongoDB\r\n* [`ClassPathResource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html) - for files in classpath, for example files from `resources` directory. [My answer to question &quot;Read file from resources folder in Spring Boot&quot;](https://stackoverflow.com/a/68913967/6486622) explains how to locate the resource in classpath in details\r\n\r\n**Specify `Content-Type` explicitly**:\r\n\r\n_Reason: see &quot;[FileSystemResource is returned with content type json](https://stackoverflow.com/questions/28193999/filesystemresource-is-returned-with-content-type-json)&quot; question_\r\n\r\n\r\nOptions:\r\n\r\n* Hardcode the header\r\n* Use the [`MediaTypeFactory`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaTypeFactory.html) from Spring. The `MediaTypeFactory` maps `Resource` to `MediaType` using the `/org/springframework/http/mime.types` file\r\n* Use a third party library like [Apache Tika](https://tika.apache.org/)\r\n\r\n**Set `Content-Disposition` if necessary**:\r\n\r\nAbout [`Content-Disposition`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) header:\r\n\r\n&gt; The first parameter in the HTTP context is either `inline` (default value, indicating it can be displayed inside the Web page, or as the Web page) or `attachment` (indicating it should be downloaded; most browsers presenting a &#39;Save as&#39; dialog, prefilled with the value of the filename parameters if present).\r\n\r\nUse [`ContentDisposition`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html) in application:\r\n\r\n* To *preview* a file in a browser:\r\n    ```java\r\n    ContentDisposition disposition = ContentDisposition\r\n            .inline()\r\n            .filename(resource.getFilename())\r\n            .build();\r\n    ```\r\n\r\n* To force a *download*:\r\n    ```java\r\n    ContentDisposition disposition = ContentDisposition\r\n            .attachment()\r\n            .filename(resource.getFilename())\r\n            .build();\r\n    ```\r\n\r\n**Use `InputStreamResource` carefully**:\r\n\r\nSpecify `Content-Length` using the [`HttpHeaders#setContentLength`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setContentLength-long-) method if:\r\n\r\n1. The length is known\r\n2. You use `InputStreamResource`\r\n\r\n_Reason: Spring won&#39;t write `Content-Length` for `InputStreamResource` because Spring can&#39;t determine the length of the resource. Here is a snippet of code from `ResourceHttpMessageConverter`_:\r\n\r\n```java\r\n@Override\r\nprotected Long getContentLength(Resource resource, @Nullable MediaType contentType) throws IOException {\r\n\t// Don&#39;t try to determine contentLength on InputStreamResource - cannot be read afterwards...\r\n\t// Note: custom InputStreamResource subclasses could provide a pre-calculated content length!\r\n\tif (InputStreamResource.class == resource.getClass()) {\r\n\t\treturn null;\r\n\t}\r\n\tlong contentLength = resource.contentLength();\r\n\treturn (contentLength &lt; 0 ? null : contentLength);\r\n}\r\n```\r\n\r\nIn other cases Spring sets the `Content-Length`:\r\n\r\n```bash\r\n~ $ curl -I localhost:8080/downloadPdf.pdf  | grep &quot;Content-Length&quot;\r\nContent-Length: 7554270\r\n```","title":"Downloading a file from spring controllers","body":"<h3>Do</h3>\n<ol>\n<li>Return <code>ResponseEntity&lt;Resource&gt;</code> from a handler method</li>\n<li>Specify <code>Content-Type</code></li>\n<li>Set <code>Content-Disposition</code> if necessary:\n<ol>\n<li>filename</li>\n<li>type\n<ol>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#inline--\" rel=\"noreferrer\"><code>inline</code></a> to force preview in a browser</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html#attachment--\" rel=\"noreferrer\"><code>attachment</code></a> to force a download</li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<h3>Example</h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class DownloadController {\n    @GetMapping(&quot;/downloadPdf.pdf&quot;)\n    // 1.\n    public ResponseEntity&lt;Resource&gt; downloadPdf() {\n        FileSystemResource resource = new FileSystemResource(&quot;/home/caco3/Downloads/JMC_Tutorial.pdf&quot;);\n        // 2.\n        MediaType mediaType = MediaTypeFactory\n                .getMediaType(resource)\n                .orElse(MediaType.APPLICATION_OCTET_STREAM);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(mediaType);\n        // 3\n        ContentDisposition disposition = ContentDisposition\n                // 3.2\n                .inline() // or .attachment()\n                // 3.1\n                .filename(resource.getFilename())\n                .build();\n        headers.setContentDisposition(disposition);\n        return new ResponseEntity&lt;&gt;(resource, headers, HttpStatus.OK);\n    }\n}\n</code></pre>\n<h3>Explanation</h3>\n<p><strong>Return <code>ResponseEntity&lt;Resource&gt;</code></strong></p>\n<p>When you return a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html\" rel=\"noreferrer\"><code>ResponseEntity&lt;Resource&gt;</code></a>, the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/ResourceHttpMessageConverter.html\" rel=\"noreferrer\"><code>ResourceHttpMessageConverter</code></a> writes file contents</p>\n<p>Examples of <code>Resource</code> implementations:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"noreferrer\"><code>ByteArrayResource</code></a> - based in <code>byte[]</code></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/FileSystemResource.html\" rel=\"noreferrer\"><code>FileSystemResource</code></a> - for a <code>File</code> or a <code>Path</code></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/UrlResource.html\" rel=\"noreferrer\"><code>UrlResource</code></a> - retrieved from <code>java.net.URL</code></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/gridfs/GridFsResource.html\" rel=\"noreferrer\"><code>GridFsResource</code></a> - a blob stored in MongoDB</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html\" rel=\"noreferrer\"><code>ClassPathResource</code></a> - for files in classpath, for example files from <code>resources</code> directory. <a href=\"https://stackoverflow.com/a/68913967/6486622\">My answer to question &quot;Read file from resources folder in Spring Boot&quot;</a> explains how to locate the resource in classpath in details</li>\n</ul>\n<p><strong>Specify <code>Content-Type</code> explicitly</strong>:</p>\n<p><em>Reason: see &quot;<a href=\"https://stackoverflow.com/questions/28193999/filesystemresource-is-returned-with-content-type-json\">FileSystemResource is returned with content type json</a>&quot; question</em></p>\n<p>Options:</p>\n<ul>\n<li>Hardcode the header</li>\n<li>Use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/MediaTypeFactory.html\" rel=\"noreferrer\"><code>MediaTypeFactory</code></a> from Spring. The <code>MediaTypeFactory</code> maps <code>Resource</code> to <code>MediaType</code> using the <code>/org/springframework/http/mime.types</code> file</li>\n<li>Use a third party library like <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a></li>\n</ul>\n<p><strong>Set <code>Content-Disposition</code> if necessary</strong>:</p>\n<p>About <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"noreferrer\"><code>Content-Disposition</code></a> header:</p>\n<blockquote>\n<p>The first parameter in the HTTP context is either <code>inline</code> (default value, indicating it can be displayed inside the Web page, or as the Web page) or <code>attachment</code> (indicating it should be downloaded; most browsers presenting a 'Save as' dialog, prefilled with the value of the filename parameters if present).</p>\n</blockquote>\n<p>Use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ContentDisposition.html\" rel=\"noreferrer\"><code>ContentDisposition</code></a> in application:</p>\n<ul>\n<li><p>To <em>preview</em> a file in a browser:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentDisposition disposition = ContentDisposition\n        .inline()\n        .filename(resource.getFilename())\n        .build();\n</code></pre>\n</li>\n<li><p>To force a <em>download</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentDisposition disposition = ContentDisposition\n        .attachment()\n        .filename(resource.getFilename())\n        .build();\n</code></pre>\n</li>\n</ul>\n<p><strong>Use <code>InputStreamResource</code> carefully</strong>:</p>\n<p>Specify <code>Content-Length</code> using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#setContentLength-long-\" rel=\"noreferrer\"><code>HttpHeaders#setContentLength</code></a> method if:</p>\n<ol>\n<li>The length is known</li>\n<li>You use <code>InputStreamResource</code></li>\n</ol>\n<p><em>Reason: Spring won't write <code>Content-Length</code> for <code>InputStreamResource</code> because Spring can't determine the length of the resource. Here is a snippet of code from <code>ResourceHttpMessageConverter</code></em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected Long getContentLength(Resource resource, @Nullable MediaType contentType) throws IOException {\n    // Don't try to determine contentLength on InputStreamResource - cannot be read afterwards...\n    // Note: custom InputStreamResource subclasses could provide a pre-calculated content length!\n    if (InputStreamResource.class == resource.getClass()) {\n        return null;\n    }\n    long contentLength = resource.contentLength();\n    return (contentLength &lt; 0 ? null : contentLength);\n}\n</code></pre>\n<p>In other cases Spring sets the <code>Content-Length</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>~ $ curl -I localhost:8080/downloadPdf.pdf  | grep &quot;Content-Length&quot;\nContent-Length: 7554270\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637606055,"creation_date":1637606055,"answer_id":70070761,"question_id":5673260,"body_markdown":"I had to add this to download any file\r\n\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\r\nall code:\r\n\r\n    @Controller\r\n    public class FileController {\r\n\r\n    @RequestMapping(value = &quot;/file&quot;, method =RequestMethod.GET)\r\n    @ResponseBody\r\n    public FileSystemResource getFile(HttpServletResponse response) {\r\n\r\n        final File file = new File(&quot;file.txt&quot;);\r\n        response.setContentType(&quot;application/octet-stream&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;,\r\n                &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\r\n        return new FileSystemResource(file);\r\n     }\r\n    }\r\n    ","title":"Downloading a file from spring controllers","body":"<p>I had to add this to download any file</p>\n<pre><code>    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;,\n            &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\n</code></pre>\n<p>all code:</p>\n<pre><code>@Controller\npublic class FileController {\n\n@RequestMapping(value = &quot;/file&quot;, method =RequestMethod.GET)\n@ResponseBody\npublic FileSystemResource getFile(HttpServletResponse response) {\n\n    final File file = new File(&quot;file.txt&quot;);\n    response.setContentType(&quot;application/octet-stream&quot;);\n    response.setHeader(&quot;Content-Disposition&quot;,\n            &quot;attachment;filename=&quot;+&quot;file.txt&quot;);\n    return new FileSystemResource(file);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10368273,"reputation":742,"user_id":10195307,"display_name":"BugsForBreakfast"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470691,"creation_date":1699469747,"answer_id":77448240,"question_id":5673260,"body_markdown":"Very simple way to do it with SpringBoot:\r\n\r\n    import org.springframework.http.ContentDisposition;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;    \r\n    \r\n    @GetMapping(&quot;/file/{fileName}&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String fileName) {\r\n            // Create Headers for &quot;forcing download&quot;\r\n            HttpHeaders httpHeaders = new HttpHeaders();\r\n            httpHeaders.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n            // Headers for giving a custom name to the file and also the file extension, in this example .zip\r\n            httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\r\n                ContentDisposition.attachment().filename(String.format(&quot;%s.%s&quot;, fileName, &quot;zip&quot;)).build().toString());\r\n            // Get the bytes from your service (for example an aws bucket)\r\n            return ResponseEntity.ok().headers(httpHeaders).body(service.getFile(fileName));\r\n        }\r\n\r\nthe above code works, but its only for showing you how simple and easy it can be, but you should first check if the file exists before doing anything, then create the headers in another method and finally return (for clean code).","title":"Downloading a file from spring controllers","body":"<p>Very simple way to do it with SpringBoot:</p>\n<pre><code>import org.springframework.http.ContentDisposition;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;    \n\n@GetMapping(&quot;/file/{fileName}&quot;)\npublic ResponseEntity&lt;byte[]&gt; getFile(@PathVariable String fileName) {\n        // Create Headers for &quot;forcing download&quot;\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\n        // Headers for giving a custom name to the file and also the file extension, in this example .zip\n        httpHeaders.set(HttpHeaders.CONTENT_DISPOSITION,\n            ContentDisposition.attachment().filename(String.format(&quot;%s.%s&quot;, fileName, &quot;zip&quot;)).build().toString());\n        // Get the bytes from your service (for example an aws bucket)\n        return ResponseEntity.ok().headers(httpHeaders).body(service.getFile(fileName));\n    }\n</code></pre>\n<p>the above code works, but its only for showing you how simple and easy it can be, but you should first check if the file exists before doing anything, then create the headers in another method and finally return (for clean code).</p>\n"}],"owner":{"account_id":182385,"reputation":7573,"user_id":417045,"accept_rate":67,"display_name":"MilindaD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594734,"favorite_count":0,"down_vote_count":0,"up_vote_count":454,"accepted_answer_id":5673356,"answer_count":16,"score":454,"last_activity_date":1699470691,"creation_date":1302850004,"question_id":5673260,"body_markdown":"I have a requirement where I need to download a PDF from the website. The PDF needs to be generated within the code, which I thought would be a combination of freemarker and a PDF generation framework like iText. Any better way? \r\n\r\nHowever, my main problem is how do I allow the user to download a file through a Spring Controller?","title":"Downloading a file from spring controllers","body":"<p>I have a requirement where I need to download a PDF from the website. The PDF needs to be generated within the code, which I thought would be a combination of freemarker and a PDF generation framework like iText. Any better way? </p>\n\n<p>However, my main problem is how do I allow the user to download a file through a Spring Controller?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1699450929,"post_id":77445985,"comment_id":136532654,"body_markdown":"Way too much improper use of the `static` keyword.","body":"Way too much improper use of the <code>static</code> keyword."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1699450986,"post_id":77445985,"comment_id":136532680,"body_markdown":"@Ishan This isn&#39;t Swing code. It&#39;s using [StdDraw](https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html). Calling `StdDraw.show()` and `StdDraw.pause()` in a loop is the recommended way to do double-buffered animation.","body":"@Ishan This isn&#39;t Swing code. It&#39;s using <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\">StdDraw</a>. Calling <code>StdDraw.show()</code> and <code>StdDraw.pause()</code> in a loop is the recommended way to do double-buffered animation."},{"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1699452851,"post_id":77445985,"comment_id":136533162,"body_markdown":"You call `.clear()` in the `draw()` method of each individual ball. In addition to anything else that may be wrong, that alone would also show only the last ball to be drawn. You should call `clear()` *before drawing any balls* and never again.","body":"You call <code>.clear()</code> in the <code>draw()</code> method of each individual ball. In addition to anything else that may be wrong, that alone would also show only the last ball to be drawn. You should call <code>clear()</code> <i>before drawing any balls</i> and never again."},{"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"score":0,"creation_date":1699462893,"post_id":77445985,"comment_id":136535664,"body_markdown":"@JoachimSauer when I did what you said, it creates so many same balls in the same time so it looks like a moving snake. When I add ```clear()``` method into the while loop, same thing happens again. And when I add it into the for loop, it only creates one ball.","body":"@JoachimSauer when I did what you said, it creates so many same balls in the same time so it looks like a moving snake. When I add <code>clear()</code> method into the while loop, same thing happens again. And when I add it into the for loop, it only creates one ball."}],"answers":[{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1699451005,"creation_date":1699451005,"answer_id":77446065,"question_id":77445985,"body_markdown":"The only fields in your &quot;Ball&quot; class that should be `static` are &quot;number&quot;, &quot;balls&quot;, and &quot;ballColors&quot; as they are shared across all instances. All other fields need the `static` REMOVED so that each instance gets its own copy that is independent of the other instances.\r\n\r\nSo the fields would be:\r\n\r\n    public class Ball {\r\n\r\n        private double x;\r\n        private double y;\r\n        private double vx;\r\n        private double vy;\r\n        private double r;\r\n        private Color c;\r\n        private static int number;\r\n        private static Ball[] balls;\r\n        private static Color[] ballColors;\r\n\r\n        // ... other existing code ...\r\n\r\n    }","title":"Random bouncing balls","body":"<p>The only fields in your &quot;Ball&quot; class that should be <code>static</code> are &quot;number&quot;, &quot;balls&quot;, and &quot;ballColors&quot; as they are shared across all instances. All other fields need the <code>static</code> REMOVED so that each instance gets its own copy that is independent of the other instances.</p>\n<p>So the fields would be:</p>\n<pre><code>public class Ball {\n\n    private double x;\n    private double y;\n    private double vx;\n    private double vy;\n    private double r;\n    private Color c;\n    private static int number;\n    private static Ball[] balls;\n    private static Color[] ballColors;\n\n    // ... other existing code ...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699464935,"creation_date":1699453916,"answer_id":77446464,"question_id":77445985,"body_markdown":"## Updated response\r\n\r\nInstead of pulling in `StdDraw` from Maven (as I did below), I just copy-pasted the [source code](https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java) of the original class into my own local copy. This version comes with the `enableDoubleBuffering` and `pause` methods.\r\n\r\nYour main issue is calling `show()` and `pause(20)` each time your render `Ball` to the canvas. Loop over all the balls and update their positions. After you have updated all the positions (and accounted for collisions), you can draw them. Once you draw them, you can call `show()`.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n    private static final Color[] BALL_COLORS;\r\n\r\n    private static int number;\r\n    private static Ball[] balls;\r\n\r\n    static {\r\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        initialize();\r\n\r\n        while (true) {\r\n            loop();\r\n        }\r\n    }\r\n\r\n    public static void setImage() {\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setCanvasSize(500, 500);\r\n        StdDraw.setXscale(-1.0, 1.0);\r\n        StdDraw.setYscale(-1.0, 1.0);\r\n    }\r\n\r\n    private static void initialize() {\r\n        setImage();\r\n\r\n        double x, y, vx, vy, r;\r\n        Color c;\r\n\r\n        number = 100;\r\n        balls = new Ball[number];\r\n\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02;\r\n            c = BALL_COLORS[(random.nextInt(3))];\r\n\r\n            do {\r\n                x = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n                y = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n    }\r\n\r\n    private static void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        // Update positions\r\n        for (int i = 0; i &lt; number; i++) {\r\n            Ball ball = balls[i];\r\n\r\n            ball.move();\r\n\r\n            // check if ball has hit a wall and change direction\r\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVx(-ball.getVx());\r\n            }\r\n\r\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVy(-ball.getVy());\r\n            }\r\n        }\r\n\r\n        // Render\r\n        for (int i = 0; i &lt; number; i++) {\r\n            balls[i].draw();\r\n        }\r\n\r\n        // Update canvas\r\n        StdDraw.show();\r\n        StdDraw.pause(20);\r\n    }\r\n\r\n    public static class Ball {\r\n        private double x, y;\r\n        private double vx, vy;\r\n        private double r;\r\n        private Color c;\r\n\r\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.vx = vx;\r\n            this.vy = vy;\r\n            this.r = r;\r\n            this.c = c;\r\n        }\r\n\r\n        public void test() {\r\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n        }\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.filledCircle(x, y, r);\r\n            StdDraw.setPenColor(c);\r\n        }\r\n\r\n        public double getX() {\r\n            return x;\r\n        }\r\n\r\n        public double getY() {\r\n            return y;\r\n        }\r\n\r\n        public double getVy() {\r\n            return vy;\r\n        }\r\n\r\n        public double getVx() {\r\n            return vx;\r\n        }\r\n\r\n        public double getR() {\r\n            return r;\r\n        }\r\n\r\n        public void setX(double newX) {\r\n            x = newX;\r\n        }\r\n\r\n        public void setY(double newY) {\r\n            y = newY;\r\n        }\r\n\r\n        public void setVx(double newVx) {\r\n            vx = newVx;\r\n        }\r\n\r\n        public void setVy(double newVy) {\r\n            vy = newVy;\r\n        }\r\n\r\n        public void setR(double newR) {\r\n            r = newR;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Original response\r\n\r\nYou should restructure the program. The `Ball` class should not be responsible for drawing all the balls.\r\n\r\nMove this to its own class.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport edu.princeton.cs.introcs.StdDraw;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class App {\r\n    private static final Color[] BALL_COLORS;\r\n\r\n    private static int number;\r\n    private static Ball[] balls;\r\n\r\n    static {\r\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        initialize();\r\n\r\n        while (true) {\r\n            loop();\r\n        }\r\n    }\r\n\r\n    public static void setImage() {\r\n        StdDraw.setCanvasSize(500, 500);\r\n        StdDraw.setXscale(-1.0, 1.0);\r\n        StdDraw.setYscale(-1.0, 1.0);\r\n    }\r\n\r\n    private static void initialize() {\r\n        setImage();\r\n\r\n        double x, y, vx, vy, r;\r\n        Color c;\r\n\r\n        number = 100;\r\n        balls = new Ball[number];\r\n\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02;\r\n            c = BALL_COLORS[(random.nextInt(3))];\r\n\r\n            do {\r\n                x = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n                y = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n    }\r\n\r\n    private static void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        for (int i = 0; i &lt; number; i++) {\r\n            Ball ball = balls[i];\r\n\r\n            ball.draw();\r\n            ball.move();\r\n\r\n            // check if ball has hit a wall and change direction\r\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVx(-ball.getVx());\r\n            }\r\n\r\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\r\n                ball.setVy(-ball.getVy());\r\n            }\r\n\r\n            //balls[i].test();\r\n        }\r\n\r\n        StdDraw.show();\r\n        StdDraw.pause(20); // The pause method is undefined in version 1.0.1\r\n    }\r\n\r\n    public static class Ball {\r\n        private double x, y;\r\n        private double vx, vy;\r\n        private double r;\r\n        private Color c;\r\n\r\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.vx = vx;\r\n            this.vy = vy;\r\n            this.r = r;\r\n            this.c = c;\r\n        }\r\n\r\n        public void test() {\r\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n        }\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.filledCircle(x, y, r);\r\n            StdDraw.setPenColor(c);\r\n        }\r\n\r\n        public double getX() {\r\n            return x;\r\n        }\r\n\r\n        public double getY() {\r\n            return y;\r\n        }\r\n\r\n        public double getVy() {\r\n            return vy;\r\n        }\r\n\r\n        public double getVx() {\r\n            return vx;\r\n        }\r\n\r\n        public double getR() {\r\n            return r;\r\n        }\r\n\r\n        public void setX(double newX) {\r\n            x = newX;\r\n        }\r\n\r\n        public void setY(double newY) {\r\n            y = newY;\r\n        }\r\n\r\n        public void setVx(double newVx) {\r\n            vx = newVx;\r\n        }\r\n\r\n        public void setVy(double newVy) {\r\n            vy = newVy;\r\n        }\r\n\r\n        public void setR(double newR) {\r\n            r = newR;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlso, you should make this a Maven project, if you haven&#39;t already. Here is the required dependency.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\r\n    &lt;artifactId&gt;stdlib&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n### Boilerplate and Lombok\r\n\r\nIf you use Lombok, you can reduce your `Ball` class to simply:\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Ball {\r\n    private double x, y;\r\n    private double vx, vy;\r\n    private double r;\r\n    private Color c;\r\n\r\n    public void move() {\r\n        x += vx;\r\n        y += vy;\r\n    }\r\n\r\n    public void draw() {\r\n        StdDraw.filledCircle(x, y, r);\r\n        StdDraw.setPenColor(c);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    public void test() {\r\n        System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\r\n    }\r\n}\r\n```\r\n\r\nHere is the Maven dependency for Lombok:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.30&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\n**Note:** I noticed that both the `1.0.0` and `1.0.1` dependencies lack a `StdDraw::pause(int)` method...\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\r\n    &lt;artifactId&gt;introcs&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Random bouncing balls","body":"<h2>Updated response</h2>\n<p>Instead of pulling in <code>StdDraw</code> from Maven (as I did below), I just copy-pasted the <a href=\"https://introcs.cs.princeton.edu/java/stdlib/StdDraw.java\" rel=\"nofollow noreferrer\">source code</a> of the original class into my own local copy. This version comes with the <code>enableDoubleBuffering</code> and <code>pause</code> methods.</p>\n<p>Your main issue is calling <code>show()</code> and <code>pause(20)</code> each time your render <code>Ball</code> to the canvas. Loop over all the balls and update their positions. After you have updated all the positions (and accounted for collisions), you can draw them. Once you draw them, you can call <code>show()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.Random;\nimport java.awt.Color;\n\npublic class App {\n    private static final Color[] BALL_COLORS;\n\n    private static int number;\n    private static Ball[] balls;\n\n    static {\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n    }\n\n    public static void main(String[] args) {\n        initialize();\n\n        while (true) {\n            loop();\n        }\n    }\n\n    public static void setImage() {\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n    }\n\n    private static void initialize() {\n        setImage();\n\n        double x, y, vx, vy, r;\n        Color c;\n\n        number = 100;\n        balls = new Ball[number];\n\n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02;\n            c = BALL_COLORS[(random.nextInt(3))];\n\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n    }\n\n    private static void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        // Update positions\n        for (int i = 0; i &lt; number; i++) {\n            Ball ball = balls[i];\n\n            ball.move();\n\n            // check if ball has hit a wall and change direction\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\n                ball.setVx(-ball.getVx());\n            }\n\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\n                ball.setVy(-ball.getVy());\n            }\n        }\n\n        // Render\n        for (int i = 0; i &lt; number; i++) {\n            balls[i].draw();\n        }\n\n        // Update canvas\n        StdDraw.show();\n        StdDraw.pause(20);\n    }\n\n    public static class Ball {\n        private double x, y;\n        private double vx, vy;\n        private double r;\n        private Color c;\n\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\n            this.x = x;\n            this.y = y;\n            this.vx = vx;\n            this.vy = vy;\n            this.r = r;\n            this.c = c;\n        }\n\n        public void test() {\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n        }\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.filledCircle(x, y, r);\n            StdDraw.setPenColor(c);\n        }\n\n        public double getX() {\n            return x;\n        }\n\n        public double getY() {\n            return y;\n        }\n\n        public double getVy() {\n            return vy;\n        }\n\n        public double getVx() {\n            return vx;\n        }\n\n        public double getR() {\n            return r;\n        }\n\n        public void setX(double newX) {\n            x = newX;\n        }\n\n        public void setY(double newY) {\n            y = newY;\n        }\n\n        public void setVx(double newVx) {\n            vx = newVx;\n        }\n\n        public void setVy(double newVy) {\n            vy = newVy;\n        }\n\n        public void setR(double newR) {\n            r = newR;\n        }\n    }\n}\n</code></pre>\n<h2>Original response</h2>\n<p>You should restructure the program. The <code>Ball</code> class should not be responsible for drawing all the balls.</p>\n<p>Move this to its own class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport edu.princeton.cs.introcs.StdDraw;\n\nimport java.util.Random;\nimport java.awt.Color;\n\npublic class App {\n    private static final Color[] BALL_COLORS;\n\n    private static int number;\n    private static Ball[] balls;\n\n    static {\n        BALL_COLORS = new Color[]{StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n    }\n\n    public static void main(String[] args) {\n        initialize();\n\n        while (true) {\n            loop();\n        }\n    }\n\n    public static void setImage() {\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n    }\n\n    private static void initialize() {\n        setImage();\n\n        double x, y, vx, vy, r;\n        Color c;\n\n        number = 100;\n        balls = new Ball[number];\n\n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02;\n            c = BALL_COLORS[(random.nextInt(3))];\n\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n    }\n\n    private static void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        for (int i = 0; i &lt; number; i++) {\n            Ball ball = balls[i];\n\n            ball.draw();\n            ball.move();\n\n            // check if ball has hit a wall and change direction\n            if (Math.abs(ball.getX() + ball.getVx()) &gt; (1.0 - ball.getR())) {\n                ball.setVx(-ball.getVx());\n            }\n\n            if (Math.abs(ball.getY() + ball.getVy()) &gt; (1.0 - ball.getR())) {\n                ball.setVy(-ball.getVy());\n            }\n\n            //balls[i].test();\n        }\n\n        StdDraw.show();\n        StdDraw.pause(20); // The pause method is undefined in version 1.0.1\n    }\n\n    public static class Ball {\n        private double x, y;\n        private double vx, vy;\n        private double r;\n        private Color c;\n\n        public Ball(double x, double y, double vx, double vy, double r, Color c) {\n            this.x = x;\n            this.y = y;\n            this.vx = vx;\n            this.vy = vy;\n            this.r = r;\n            this.c = c;\n        }\n\n        public void test() {\n            System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n        }\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.filledCircle(x, y, r);\n            StdDraw.setPenColor(c);\n        }\n\n        public double getX() {\n            return x;\n        }\n\n        public double getY() {\n            return y;\n        }\n\n        public double getVy() {\n            return vy;\n        }\n\n        public double getVx() {\n            return vx;\n        }\n\n        public double getR() {\n            return r;\n        }\n\n        public void setX(double newX) {\n            x = newX;\n        }\n\n        public void setY(double newY) {\n            y = newY;\n        }\n\n        public void setVx(double newVx) {\n            vx = newVx;\n        }\n\n        public void setVy(double newVy) {\n            vy = newVy;\n        }\n\n        public void setR(double newR) {\n            r = newR;\n        }\n    }\n}\n</code></pre>\n<p>Also, you should make this a Maven project, if you haven't already. Here is the required dependency.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\n    &lt;artifactId&gt;stdlib&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h3>Boilerplate and Lombok</h3>\n<p>If you use Lombok, you can reduce your <code>Ball</code> class to simply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\n@Setter\npublic class Ball {\n    private double x, y;\n    private double vx, vy;\n    private double r;\n    private Color c;\n\n    public void move() {\n        x += vx;\n        y += vy;\n    }\n\n    public void draw() {\n        StdDraw.filledCircle(x, y, r);\n        StdDraw.setPenColor(c);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public void test() {\n        System.out.println(&quot;vx: &quot; + vx + &quot; ve vy: &quot; + vy);\n    }\n}\n</code></pre>\n<p>Here is the Maven dependency for Lombok:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.30&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p><strong>Note:</strong> I noticed that both the <code>1.0.0</code> and <code>1.0.1</code> dependencies lack a <code>StdDraw::pause(int)</code> method...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.princeton-java-introduction&lt;/groupId&gt;\n    &lt;artifactId&gt;introcs&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699470563,"creation_date":1699462797,"answer_id":77447542,"question_id":77445985,"body_markdown":"To make all balls visible, just move `StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);` out of `box.draw()` to the `while` loop.\r\n\r\nAdditionnaly you should split `move()` and `draw()` for all balls at once  \r\n\r\n```java\r\npublic class App {\r\n\r\n    private static final int XMIN = -1;\r\n    private static final int XMAX = 1;\r\n    private static final int YMIN = -1;\r\n    private static final int YMAX = 1;\r\n\r\n    private final Color[] colors = { StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE };\r\n    private final Ball[] balls;\r\n\r\n    public App(int totalBalls) {\r\n        balls = new Ball[totalBalls];\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        int totalBalls = 100;\r\n        int canvasWidth = 500;\r\n        int canvasHeight = 500;\r\n\r\n        App app = new App(totalBalls);\r\n        app.init(canvasWidth, canvasHeight);\r\n\r\n        while (true) {\r\n            app.loop();\r\n        }\r\n    }\r\n\r\n    private void init(int canvasWidth, int canvasHeight) {\r\n        setImage(canvasWidth, canvasHeight);\r\n\r\n        Random random = new Random();\r\n\r\n        for (int i = 0; i &lt; balls.length; i++) {\r\n            double radius = random.nextDouble() * 0.08 + 0.02;\r\n            Color color = colors[random.nextInt(3)];\r\n\r\n            balls[i] = new Ball(radius, color);\r\n            balls[i].x = getCoordinate(random, XMIN, XMAX, radius);\r\n            balls[i].y = getCoordinate(random, YMIN, YMAX, radius);\r\n            balls[i].vx = getSpeed(random);\r\n            balls[i].vy = getSpeed(random);\r\n        }\r\n    }\r\n\r\n    private static double getCoordinate(Random random,\r\n                                        double min, double max,\r\n                                        double radius) {\r\n        min += radius;\r\n        max -= radius;\r\n        return (random.nextDouble() * (max - min)) + min;\r\n    }\r\n\r\n    private static double getSpeed(Random random) {\r\n        return random.nextDouble() * 0.04 - 0.02;\r\n    }\r\n\r\n    private static void setImage(int canvasWidth, int canvasHeight) {\r\n        StdDraw.enableDoubleBuffering();\r\n        StdDraw.setCanvasSize(canvasWidth, canvasHeight);\r\n        StdDraw.setXscale(XMIN, XMAX);\r\n        StdDraw.setYscale(YMIN, YMAX);\r\n    }\r\n\r\n    private void loop() {\r\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\r\n        moveBalls();\r\n        drawBalls();\r\n\r\n        StdDraw.show();\r\n        StdDraw.pause(20);\r\n    }\r\n\r\n    private void moveBalls() {\r\n        for (Ball ball : balls) {\r\n            ball.move();\r\n\r\n            hitTheWallX(ball);\r\n            hitTheWallY(ball);\r\n        }\r\n    }\r\n\r\n    private void drawBalls() {\r\n        for (Ball ball : balls)\r\n            ball.draw();\r\n    }\r\n\r\n    private static void hitTheWallX(Ball ball) {\r\n        if (ball.x - ball.radius &lt;= XMIN || ball.x + ball.radius &gt;= XMAX)\r\n            ball.vx = -ball.vx;\r\n    }\r\n\r\n    private static void hitTheWallY(Ball ball) {\r\n        if (ball.y - ball.radius &lt;= YMIN || ball.y + ball.radius &gt;= YMAX)\r\n            ball.vy = -ball.vy;\r\n    }\r\n\r\n    @RequiredArgsConstructor\r\n    private static class Ball {\r\n\r\n        private final double radius;\r\n        private final Color color;\r\n\r\n        private double x;\r\n        private double y;\r\n        private double vx;\r\n        private double vy;\r\n\r\n        public void move() {\r\n            x += vx;\r\n            y += vy;\r\n        }\r\n\r\n        public void draw() {\r\n            StdDraw.setPenColor(color);\r\n            StdDraw.filledCircle(x, y, radius);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n","title":"Random bouncing balls","body":"<p>To make all balls visible, just move <code>StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);</code> out of <code>box.draw()</code> to the <code>while</code> loop.</p>\n<p>Additionnaly you should split <code>move()</code> and <code>draw()</code> for all balls at once</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n\n    private static final int XMIN = -1;\n    private static final int XMAX = 1;\n    private static final int YMIN = -1;\n    private static final int YMAX = 1;\n\n    private final Color[] colors = { StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE };\n    private final Ball[] balls;\n\n    public App(int totalBalls) {\n        balls = new Ball[totalBalls];\n    }\n\n    public static void main(String... args) {\n        int totalBalls = 100;\n        int canvasWidth = 500;\n        int canvasHeight = 500;\n\n        App app = new App(totalBalls);\n        app.init(canvasWidth, canvasHeight);\n\n        while (true) {\n            app.loop();\n        }\n    }\n\n    private void init(int canvasWidth, int canvasHeight) {\n        setImage(canvasWidth, canvasHeight);\n\n        Random random = new Random();\n\n        for (int i = 0; i &lt; balls.length; i++) {\n            double radius = random.nextDouble() * 0.08 + 0.02;\n            Color color = colors[random.nextInt(3)];\n\n            balls[i] = new Ball(radius, color);\n            balls[i].x = getCoordinate(random, XMIN, XMAX, radius);\n            balls[i].y = getCoordinate(random, YMIN, YMAX, radius);\n            balls[i].vx = getSpeed(random);\n            balls[i].vy = getSpeed(random);\n        }\n    }\n\n    private static double getCoordinate(Random random,\n                                        double min, double max,\n                                        double radius) {\n        min += radius;\n        max -= radius;\n        return (random.nextDouble() * (max - min)) + min;\n    }\n\n    private static double getSpeed(Random random) {\n        return random.nextDouble() * 0.04 - 0.02;\n    }\n\n    private static void setImage(int canvasWidth, int canvasHeight) {\n        StdDraw.enableDoubleBuffering();\n        StdDraw.setCanvasSize(canvasWidth, canvasHeight);\n        StdDraw.setXscale(XMIN, XMAX);\n        StdDraw.setYscale(YMIN, YMAX);\n    }\n\n    private void loop() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n\n        moveBalls();\n        drawBalls();\n\n        StdDraw.show();\n        StdDraw.pause(20);\n    }\n\n    private void moveBalls() {\n        for (Ball ball : balls) {\n            ball.move();\n\n            hitTheWallX(ball);\n            hitTheWallY(ball);\n        }\n    }\n\n    private void drawBalls() {\n        for (Ball ball : balls)\n            ball.draw();\n    }\n\n    private static void hitTheWallX(Ball ball) {\n        if (ball.x - ball.radius &lt;= XMIN || ball.x + ball.radius &gt;= XMAX)\n            ball.vx = -ball.vx;\n    }\n\n    private static void hitTheWallY(Ball ball) {\n        if (ball.y - ball.radius &lt;= YMIN || ball.y + ball.radius &gt;= YMAX)\n            ball.vy = -ball.vy;\n    }\n\n    @RequiredArgsConstructor\n    private static class Ball {\n\n        private final double radius;\n        private final Color color;\n\n        private double x;\n        private double y;\n        private double vx;\n        private double vy;\n\n        public void move() {\n            x += vx;\n            y += vy;\n        }\n\n        public void draw() {\n            StdDraw.setPenColor(color);\n            StdDraw.filledCircle(x, y, radius);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19484108,"reputation":33,"user_id":14253819,"display_name":"refik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77446464,"answer_count":3,"score":0,"last_activity_date":1699470563,"creation_date":1699450506,"question_id":77445985,"body_markdown":"I&#39;m trying to write a program that contains 100 random balls with only red, green or blue colors. I can only use [`edu.princeton.cs.introcs.StdDraw`](https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html) and `java.util.Random` libraries. Also I have to store the ball objects in an array.\r\n\r\nI wrote this code but when I run it, I only see one ball. What am I doing wrong?\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.awt.Color;\r\n\r\npublic class Ball {\r\n\tprivate static double x;\r\n\tprivate static double y;\r\n\tprivate static double vx;\r\n\tprivate static double vy;\r\n\tprivate static double r;\r\n\tprivate static Color c;\r\n\tprivate static int number;\r\n\tprivate static Ball[] balls;\r\n\tprivate static Color[] ballColors;\r\n\t\r\n\tpublic Ball(double x, double y, double vx, double vy, double r, Color c) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t\tthis.vx = vx;\r\n\t\tthis.vy = vy;\r\n\t\tthis.r = r;\r\n\t\tthis.c= c;\r\n\t}\r\n\t\r\n\tpublic void test() {\r\n\t\tSystem.out.println(&quot;vx: &quot;+vx+&quot; ve vy: &quot;+vy);\r\n\t}\r\n\t\r\n\tpublic static void setImage() {\r\n\t\tStdDraw.setCanvasSize(500, 500);\r\n\t\tStdDraw.setXscale(-1.0, 1.0);\r\n\t\tStdDraw.setYscale(-1.0, 1.0);\r\n\t\tStdDraw.enableDoubleBuffering();\r\n\t}\r\n\t\r\n\tpublic void move() {\r\n\t\t/*\r\n\t\tif(Math.abs(x + vx) &gt; (1.0 - r)) {\r\n\t\t\tvx = -vx;\r\n\t\t}\r\n\t\t\r\n\t\tif(Math.abs(y + vy) &gt; (1.0 - r)) {\r\n\t\t\tvy = -vy;\r\n\t\t}\r\n\t\t*/\r\n\t\t\r\n\t\tx = x + vx;\r\n\t\ty = y + vy;\r\n\t}\r\n\t\r\n\tpublic void draw() {\r\n\t\tStdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\r\n\t\tStdDraw.filledCircle(x, y, r);\t\r\n\t\tStdDraw.setPenColor(c);\r\n\t}\r\n\t\r\n\tpublic static double getX() {\r\n\t\treturn x;\r\n\t}\r\n\t\r\n\tpublic double getY() {\r\n\t\treturn y;\r\n\t}\r\n\t\r\n\tpublic double getVy() {\r\n\t\treturn vy;\r\n\t}\r\n\t\r\n\tpublic static double getVx() {\r\n\t\treturn vx;\r\n\t}\r\n\t\r\n\tpublic double getR() {\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tpublic void setX(double newX) {\r\n\t\tx = newX;\r\n\t}\r\n\t\r\n\tpublic void setY(double newY) {\r\n\t\ty = newY;\r\n\t}\r\n\t\r\n\tpublic void setVx(double newVx) {\r\n\t\tvx = newVx;\r\n\t}\r\n\t\r\n\tpublic void setVy(double newVy) {\r\n\t\tvy = newVy;\r\n\t}\r\n\t\r\n\tpublic void setR(double newR) {\r\n\t\tr = newR;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tBall.setImage();\r\n\t\t\r\n\t\tnumber = 100; //number of balls\r\n\t\tballs = new Ball[number];\r\n\t\tballColors = new Color[] {StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\r\n\t\t\r\n\t\tRandom random = new Random();\r\n        for (int i = 0; i &lt; number; i++) {\r\n        \tdo {\r\n            \tx = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            do {\r\n            \ty = random.nextDouble() * 2 - 1;\r\n            } while (Math.abs(x) &gt; (1 - r));\r\n            \r\n            vx = random.nextDouble() * 0.04 - 0.02;\r\n            vy = random.nextDouble() * 0.04 - 0.02;\r\n            r = random.nextDouble() * 0.08 + 0.02; \r\n            c = ballColors[(random.nextInt(3))];\r\n            balls[i] = new Ball(x, y, vx, vy, r, c);\r\n        }\r\n       \r\n        while(true) {\r\n        \tfor (int i = 0; i &lt; number; i++) {\r\n\t\t\t\tballs[i].draw();\r\n\t\t\t\tballs[i].move();\r\n\r\n                // check if ball has hit a wall and change direction\r\n\t\t\t\tif(Math.abs(balls[i].getX() + balls[i].getVx()) &gt; (1.0 - r)) {\r\n\t\t\t\t\tballs[i].setVx(-balls[i].getVx());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(Math.abs(balls[i].getY() + balls[i].getVy()) &gt; (1.0 - r)) {\r\n\t\t\t\t\tballs[i].setVy(-balls[i].getVy());\r\n\t\t\t\t}\r\n\r\n                //balls[i].test();\r\n                StdDraw.show();\r\n    \t\t\tStdDraw.pause(20);\r\n            }\r\n        }\r\n\t}\r\n}\r\n```","title":"Random bouncing balls","body":"<p>I'm trying to write a program that contains 100 random balls with only red, green or blue colors. I can only use <a href=\"https://introcs.cs.princeton.edu/java/stdlib/javadoc/StdDraw.html\" rel=\"nofollow noreferrer\"><code>edu.princeton.cs.introcs.StdDraw</code></a> and <code>java.util.Random</code> libraries. Also I have to store the ball objects in an array.</p>\n<p>I wrote this code but when I run it, I only see one ball. What am I doing wrong?</p>\n<pre><code>import java.util.Random;\nimport java.awt.Color;\n\npublic class Ball {\n    private static double x;\n    private static double y;\n    private static double vx;\n    private static double vy;\n    private static double r;\n    private static Color c;\n    private static int number;\n    private static Ball[] balls;\n    private static Color[] ballColors;\n    \n    public Ball(double x, double y, double vx, double vy, double r, Color c) {\n        this.x = x;\n        this.y = y;\n        this.vx = vx;\n        this.vy = vy;\n        this.r = r;\n        this.c= c;\n    }\n    \n    public void test() {\n        System.out.println(&quot;vx: &quot;+vx+&quot; ve vy: &quot;+vy);\n    }\n    \n    public static void setImage() {\n        StdDraw.setCanvasSize(500, 500);\n        StdDraw.setXscale(-1.0, 1.0);\n        StdDraw.setYscale(-1.0, 1.0);\n        StdDraw.enableDoubleBuffering();\n    }\n    \n    public void move() {\n        /*\n        if(Math.abs(x + vx) &gt; (1.0 - r)) {\n            vx = -vx;\n        }\n        \n        if(Math.abs(y + vy) &gt; (1.0 - r)) {\n            vy = -vy;\n        }\n        */\n        \n        x = x + vx;\n        y = y + vy;\n    }\n    \n    public void draw() {\n        StdDraw.clear(StdDraw.BOOK_LIGHT_BLUE);\n        StdDraw.filledCircle(x, y, r);  \n        StdDraw.setPenColor(c);\n    }\n    \n    public static double getX() {\n        return x;\n    }\n    \n    public double getY() {\n        return y;\n    }\n    \n    public double getVy() {\n        return vy;\n    }\n    \n    public static double getVx() {\n        return vx;\n    }\n    \n    public double getR() {\n        return r;\n    }\n    \n    public void setX(double newX) {\n        x = newX;\n    }\n    \n    public void setY(double newY) {\n        y = newY;\n    }\n    \n    public void setVx(double newVx) {\n        vx = newVx;\n    }\n    \n    public void setVy(double newVy) {\n        vy = newVy;\n    }\n    \n    public void setR(double newR) {\n        r = newR;\n    }\n\n    public static void main(String[] args) {\n        Ball.setImage();\n        \n        number = 100; //number of balls\n        balls = new Ball[number];\n        ballColors = new Color[] {StdDraw.GREEN, StdDraw.RED, StdDraw.BLUE};\n        \n        Random random = new Random();\n        for (int i = 0; i &lt; number; i++) {\n            do {\n                x = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            do {\n                y = random.nextDouble() * 2 - 1;\n            } while (Math.abs(x) &gt; (1 - r));\n            \n            vx = random.nextDouble() * 0.04 - 0.02;\n            vy = random.nextDouble() * 0.04 - 0.02;\n            r = random.nextDouble() * 0.08 + 0.02; \n            c = ballColors[(random.nextInt(3))];\n            balls[i] = new Ball(x, y, vx, vy, r, c);\n        }\n       \n        while(true) {\n            for (int i = 0; i &lt; number; i++) {\n                balls[i].draw();\n                balls[i].move();\n\n                // check if ball has hit a wall and change direction\n                if(Math.abs(balls[i].getX() + balls[i].getVx()) &gt; (1.0 - r)) {\n                    balls[i].setVx(-balls[i].getVx());\n                }\n                \n                if(Math.abs(balls[i].getY() + balls[i].getVy()) &gt; (1.0 - r)) {\n                    balls[i].setVy(-balls[i].getVy());\n                }\n\n                //balls[i].test();\n                StdDraw.show();\n                StdDraw.pause(20);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1642612503,"post_id":70774947,"comment_id":125119448,"body_markdown":"Each time you invoke a method, you might get back a different result. Store `response.getBody()` in a variable.","body":"Each time you invoke a method, you might get back a different result. Store <code>response.getBody()</code> in a variable."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1642612723,"post_id":70774947,"comment_id":125119549,"body_markdown":"Your fix now returns `null` in some possible cases (I guess), maybe you created just another *Possible null pointer dereference in mypackage.myMethod(String) due to* **return value of called method**. The error message is right, I think. `… ? response.getBody().getData() : null;` is what I mean. You could define some default response data (initialized) and return that if the response you get is `null`.","body":"Your fix now returns <code>null</code> in some possible cases (I guess), maybe you created just another <i>Possible null pointer dereference in mypackage.myMethod(String) due to</i> <b>return value of called method</b>. The error message is right, I think. <code>… ? response.getBody().getData() : null;</code> is what I mean. You could define some default response data (initialized) and return that if the response you get is <code>null</code>."},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1642612885,"post_id":70774947,"comment_id":125119635,"body_markdown":"what is the type of response ?","body":"what is the type of response ?"},{"owner":{"account_id":1146245,"reputation":580,"user_id":1128925,"accept_rate":78,"display_name":"cliff2310"},"score":0,"creation_date":1642613178,"post_id":70774947,"comment_id":125119751,"body_markdown":"Show more code.","body":"Show more code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1642617736,"post_id":70774947,"comment_id":125121585,"body_markdown":"Are you expecting `response` or `response.getBody()` to return null during normal operation of your application?  If not, you should treat such conditions as errors by throwing exceptions, rather than just returning null to indicate an error.","body":"Are you expecting <code>response</code> or <code>response.getBody()</code> to return null during normal operation of your application?  If not, you should treat such conditions as errors by throwing exceptions, rather than just returning null to indicate an error."},{"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"score":0,"creation_date":1642667427,"post_id":70774947,"comment_id":125133329,"body_markdown":"@AndyTurner your solution works perfect! if you want, include as answer to mark it as solution. Thanks","body":"@AndyTurner your solution works perfect! if you want, include as answer to mark it as solution. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138050,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642674205,"creation_date":1642673899,"answer_id":70784406,"question_id":70774947,"body_markdown":"Each time you invoke a method, you might get back a different result. You may know that you will get the same result back each time, but Sonarqube doesn&#39;t.\r\n\r\nAssign `response.getBody()` to a variable so you don&#39;t have to call it again:\r\n\r\n```\r\nif (response != null) {\r\n  var body = response.getBody();\r\n  if (body != null) {\r\n    return body.getData();\r\n  }\r\n}\r\nreturn null;\r\n```\r\n\r\nYou can do it with Optional, alternatively:\r\n\r\n```\r\nreturn Optional.ofNullable(response).map(ResponseType::getBody).map(BodyType::getData).orElse(null);\r\n```\r\n","title":"sonar rule &quot;possible null pointer exception&quot;","body":"<p>Each time you invoke a method, you might get back a different result. You may know that you will get the same result back each time, but Sonarqube doesn't.</p>\n<p>Assign <code>response.getBody()</code> to a variable so you don't have to call it again:</p>\n<pre><code>if (response != null) {\n  var body = response.getBody();\n  if (body != null) {\n    return body.getData();\n  }\n}\nreturn null;\n</code></pre>\n<p>You can do it with Optional, alternatively:</p>\n<pre><code>return Optional.ofNullable(response).map(ResponseType::getBody).map(BodyType::getData).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70784406,"answer_count":1,"score":1,"last_activity_date":1699469981,"creation_date":1642612443,"question_id":70774947,"body_markdown":"I&#39;m finding a problem in my Sonar I don&#39;t know how to solve.\r\n\r\nThe error I have is:\r\n\r\n    Possible null pointer dereference in mypackage.myMethod(String) due to return value of called method\r\n\r\nAt the very begining it was:\r\n\r\n     response.getBody().getData();\r\n\r\n\r\nSo what I did was:\r\n\r\n\r\n    return (response != null &amp;&amp; response.getBody() != null) ? response.getBody().getData() : null;\r\n\r\n\r\nBut the error is still there. \r\n\r\nAm I missunderstanding the error?? How can I solve?\r\n","title":"sonar rule &quot;possible null pointer exception&quot;","body":"<p>I'm finding a problem in my Sonar I don't know how to solve.</p>\n<p>The error I have is:</p>\n<pre><code>Possible null pointer dereference in mypackage.myMethod(String) due to return value of called method\n</code></pre>\n<p>At the very begining it was:</p>\n<pre><code> response.getBody().getData();\n</code></pre>\n<p>So what I did was:</p>\n<pre><code>return (response != null &amp;&amp; response.getBody() != null) ? response.getBody().getData() : null;\n</code></pre>\n<p>But the error is still there.</p>\n<p>Am I missunderstanding the error?? How can I solve?</p>\n"},{"tags":["java","android","widget","admob","ads"],"comments":[{"owner":{"account_id":39846,"reputation":991113,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1699473326,"post_id":77448186,"comment_id":136537551,"body_markdown":"&quot;I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;&quot; -- your code uses `com.google.android.gms.ads.AdView`. App widgets can use neither that nor `WebView`, and there is no requirement for the launcher app to have the SDK for any particular ad network.","body":"&quot;I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;&quot; -- your code uses <code>com.google.android.gms.ads.AdView</code>. App widgets can use neither that nor <code>WebView</code>, and there is no requirement for the launcher app to have the SDK for any particular ad network."}],"owner":{"account_id":29857818,"reputation":1,"user_id":22882233,"display_name":"Niklas Strasser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699469265,"creation_date":1699469265,"question_id":77448186,"body_markdown":"is it possible to show an ad in a widget in android studio? I&#39;ve already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;. Widgets do support certain views, but not the required &quot;WebView&quot;.\r\nI got this info out of following discussion (2016): https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q .\r\n\r\nDoes anyone of you know if they added something since then or if it&#39;s still not possible. I also would be interested in any workarounds if you got some.\r\n\r\n\r\nI&#39;ve already tested to implement a basic widget with an an ad, provided from AdMob for terms of testing, but the widget only shows the text &quot;Can&#39;t load widget&quot;.\r\n\r\n\r\n**Java:**\r\n\r\n```\r\npublic class AdWidget extends AppWidgetProvider {\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        // There may be multiple widgets active, so update all of them\r\n        for (int appWidgetId : appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onEnabled(Context context) {\r\n        // Enter relevant functionality for when the first widget is created\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        // Enter relevant functionality for when the last widget is disabled\r\n    }\r\n\r\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\r\n            int appWidgetId) {\r\n\r\n        CharSequence widgetText = context.getString(R.string.appwidget_text);\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.ad_widget);\r\n\r\n        // Instruct the widget manager to update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**XML:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/AdWidget_Body&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.AdWidget&quot;&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/AdWidget_Ad&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        ads:adSize=&quot;BANNER&quot;\r\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\r\n\r\n    &lt;/com.google.android.gms.ads.AdView&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nThanks,\r\n\r\nNiklas\r\n\r\n","title":"Android Studio Ad in Widget","body":"<p>is it possible to show an ad in a widget in android studio? I've already read some posts about this topic and found out that mobile ads need a &quot;WebView&quot;. Widgets do support certain views, but not the required &quot;WebView&quot;.\nI got this info out of following discussion (2016): <a href=\"https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q\" rel=\"nofollow noreferrer\">https://groups.google.com/g/google-admob-ads-sdk/c/crEu0FsSs0Q</a> .</p>\n<p>Does anyone of you know if they added something since then or if it's still not possible. I also would be interested in any workarounds if you got some.</p>\n<p>I've already tested to implement a basic widget with an an ad, provided from AdMob for terms of testing, but the widget only shows the text &quot;Can't load widget&quot;.</p>\n<p><strong>Java:</strong></p>\n<pre><code>public class AdWidget extends AppWidgetProvider {\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        // There may be multiple widgets active, so update all of them\n        for (int appWidgetId : appWidgetIds) {\n            updateAppWidget(context, appWidgetManager, appWidgetId);\n        }\n    }\n\n    @Override\n    public void onEnabled(Context context) {\n        // Enter relevant functionality for when the first widget is created\n    }\n\n    @Override\n    public void onDisabled(Context context) {\n        // Enter relevant functionality for when the last widget is disabled\n    }\n\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager,\n            int appWidgetId) {\n\n        CharSequence widgetText = context.getString(R.string.appwidget_text);\n        // Construct the RemoteViews object\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.ad_widget);\n\n        // Instruct the widget manager to update the widget\n        appWidgetManager.updateAppWidget(appWidgetId, views);\n    }\n}\n</code></pre>\n<p><strong>XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/AdWidget_Body&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.AdWidget&quot;&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/AdWidget_Ad&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        ads:adSize=&quot;BANNER&quot;\n        ads:adUnitId=&quot;ca-app-pub-3940256099942544/6300978111&quot;&gt;\n\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Thanks,</p>\n<p>Niklas</p>\n"},{"tags":["java","servlets","https","jetty","keystore"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1636731292,"creation_date":1636731292,"answer_id":69945374,"question_id":69945173,"body_markdown":"This message means that the SNI provided by your HTTP Client&#39;s TLS layer doesn&#39;t match one of the SNI hosts in your keystore.\r\n\r\nKnow that SNI itself has restrictions:\r\n\r\n* `localhost` is not allowed\r\n* IP Address Literals are not allowed (eg: `192.168.1.215` or `fe80::3831:400c:dc07:7c40`)\r\n* All SNI HostNames must contain at least 1 `.` in it&#39;s name (so don&#39;t use shorthand host/domain names, use fully qualified canonical host/domain names)\r\n\r\nThese restrictions are in the spec and are often the cause of most of the issues like what you are experiencing.\r\n\r\nDepending on your version of Java these SNI restrictions are checked sooner in the Java networking stack then other versions of Java. (Java 11 is less restrictive with the `.` in hostname restriction vs Java 17+ which enforces it)","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>This message means that the SNI provided by your HTTP Client's TLS layer doesn't match one of the SNI hosts in your keystore.</p>\n<p>Know that SNI itself has restrictions:</p>\n<ul>\n<li><code>localhost</code> is not allowed</li>\n<li>IP Address Literals are not allowed (eg: <code>192.168.1.215</code> or <code>fe80::3831:400c:dc07:7c40</code>)</li>\n<li>All SNI HostNames must contain at least 1 <code>.</code> in it's name (so don't use shorthand host/domain names, use fully qualified canonical host/domain names)</li>\n</ul>\n<p>These restrictions are in the spec and are often the cause of most of the issues like what you are experiencing.</p>\n<p>Depending on your version of Java these SNI restrictions are checked sooner in the Java networking stack then other versions of Java. (Java 11 is less restrictive with the <code>.</code> in hostname restriction vs Java 17+ which enforces it)</p>\n"},{"tags":[],"owner":{"account_id":6828033,"reputation":611,"user_id":5253113,"display_name":"Nitin Singhal"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1643653209,"creation_date":1643653209,"answer_id":70930917,"question_id":69945173,"body_markdown":"I was also facing same issue when I was running my application from local. As localhost is not allowed for SNI, I disabled the SNI check temporarily in my code. Below is the code I modified for running my application locally :\r\n\r\n    SecureRequestCustomizer src = new SecureRequestCustomizer();\r\n    src.setSniHostCheck(false);\r\n    https_config.addCustomizer(src);\r\n\r\nNote: For PROD version, SniHostCheck is still set to true for us. And I don&#39;t recommend anyone to set it to false.","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>I was also facing same issue when I was running my application from local. As localhost is not allowed for SNI, I disabled the SNI check temporarily in my code. Below is the code I modified for running my application locally :</p>\n<pre><code>SecureRequestCustomizer src = new SecureRequestCustomizer();\nsrc.setSniHostCheck(false);\nhttps_config.addCustomizer(src);\n</code></pre>\n<p>Note: For PROD version, SniHostCheck is still set to true for us. And I don't recommend anyone to set it to false.</p>\n"},{"tags":[],"owner":{"account_id":27869276,"reputation":1,"user_id":21280176,"display_name":"CY Cc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677241631,"creation_date":1677241631,"answer_id":75556567,"question_id":69945173,"body_markdown":"For self-signed keystore, It&#39;s tricky that needs to put the hostname (e.g. localhost) int the name.\r\n\r\nhttps://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US\r\n\r\n&quot;When prompted for a first name and the last name, enter the domain name of the server. For example, myserver or myserver.mycompany.com&quot;","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>For self-signed keystore, It's tricky that needs to put the hostname (e.g. localhost) int the name.</p>\n<p><a href=\"https://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US\" rel=\"nofollow noreferrer\">https://community.pivotal.io/s/article/Generating-a-self-signed-SSL-certificate-using-the-Java-keytool-command?language=en_US</a></p>\n<p>&quot;When prompted for a first name and the last name, enter the domain name of the server. For example, myserver or myserver.mycompany.com&quot;</p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699469260,"creation_date":1699469260,"answer_id":77448185,"question_id":69945173,"body_markdown":"An adaptation of [@nitin-singhal&#39;s answer](https://stackoverflow.com/a/70930917/3196753) with before/after context added for better understanding.\r\n\r\n\r\nBefore:\r\n```java\r\nHttpConnectionFactory(new HttpConfiguration());\r\n```\r\n\r\nAfter:\r\n```java\r\n// Disable SNI checks for easier testing (replicates Jetty 9.x behavior)\r\nHttpConfiguration httpsConfig = new HttpConfiguration();\r\nSecureRequestCustomizer customizer = new SecureRequestCustomizer();\r\ncustomizer.setSniHostCheck(false);\r\nhttpsConfig.addCustomizer(customizer);\r\n\r\nHttpConnectionFactory httpConnection = new HttpConnectionFactory(httpsConfig);\r\n```\r\n","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>An adaptation of <a href=\"https://stackoverflow.com/a/70930917/3196753\">@nitin-singhal's answer</a> with before/after context added for better understanding.</p>\n<p>Before:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpConnectionFactory(new HttpConfiguration());\n</code></pre>\n<p>After:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Disable SNI checks for easier testing (replicates Jetty 9.x behavior)\nHttpConfiguration httpsConfig = new HttpConfiguration();\nSecureRequestCustomizer customizer = new SecureRequestCustomizer();\ncustomizer.setSniHostCheck(false);\nhttpsConfig.addCustomizer(customizer);\n\nHttpConnectionFactory httpConnection = new HttpConnectionFactory(httpsConfig);\n</code></pre>\n"}],"owner":{"account_id":17881132,"reputation":167,"user_id":12989881,"display_name":"CooderSK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14219,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":69945374,"answer_count":4,"score":9,"last_activity_date":1699469260,"creation_date":1636730444,"question_id":69945173,"body_markdown":"I am trying to solve an issue with my Jetty servlet running over HTTPS.\r\n\r\nIt is showing this error page in the browser:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat I did:\r\n\r\n1) I created my Keystore and Truststore as is described here: https://stackoverflow.com/questions/47434877/how-to-generate-keystore-and-truststore\r\n\r\n2) Both files were placed in the directory of my project and code was written up to load these files.\r\n\r\n```\r\npackage sk.cood.metahost.server;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.eclipse.jetty.server.*;\r\nimport org.eclipse.jetty.servlet.ServletContextHandler;\r\nimport org.eclipse.jetty.servlet.ServletHolder;\r\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\r\n\r\nimport java.io.*;\r\n\r\n@WebServlet(displayName = &quot;MetaHostServlet&quot;, urlPatterns = { &quot;/*&quot; })\r\npublic class MetaHostServlet extends HttpServlet {\r\n    private static File keyStoreFile;\r\n    private static File trustStoreFile;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        loadKeyStores();\r\n\r\n        Server server = new Server(8080);\r\n        ServerConnector connector = createSSLConnector(server, &quot;password&quot;, &quot;password&quot;, false);\r\n        server.addConnector(connector);\r\n\r\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n        context.addServlet(new ServletHolder(new MetaHostServlet()),&quot;/*&quot;);\r\n        context.setContextPath(&quot;/&quot;);\r\n        server.setHandler(context);\r\n\r\n        server.start();\r\n        server.join();\r\n    }\r\n\r\n    private static void loadKeyStores() {\r\n        keyStoreFile = new File(&quot;keystore.jks&quot;);\r\n        trustStoreFile = new File(&quot;truststore.jks&quot;);\r\n        if (!keyStoreFile.exists()) {\r\n            throw new RuntimeException(&quot;Key store file does not exist on path &#39;&quot;+keyStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n        }\r\n        if (!trustStoreFile.exists()) {\r\n            throw new RuntimeException(&quot;Trust store file does not exist on path &#39;&quot;+trustStoreFile.getAbsolutePath()+&quot;&#39;&quot;);\r\n        }\r\n    }\r\n\r\n    private static ServerConnector createSSLConnector(Server server, String keyStorePassword, String trustStorePassword, boolean isClientAuthNeeded) {\r\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\r\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\r\n        sslContextFactory.setKeyStorePassword(keyStorePassword);\r\n        sslContextFactory.setTrustStorePath(trustStoreFile.getAbsolutePath());\r\n        sslContextFactory.setTrustStorePassword(trustStorePassword);\r\n        sslContextFactory.setNeedClientAuth(isClientAuthNeeded);\r\n\r\n        HttpConfiguration https_config = new HttpConfiguration();\r\n        https_config.setSendServerVersion(false);\r\n        https_config.setRequestHeaderSize(512 * 1024);\r\n        https_config.setResponseHeaderSize(512 * 1024);\r\n\r\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\r\n        https_config.addCustomizer(src);\r\n\r\n        return new ServerConnector(server, sslContextFactory, new HttpConnectionFactory(https_config));\r\n    }\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException {\r\n        res.setContentType(&quot;text/html&quot;);\r\n        res.setStatus(HttpServletResponse.SC_OK);\r\n        res.getWriter().println(&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;);\r\n        res.getWriter().println(&quot;session=&quot; + req.getSession(true).getId());\r\n    }\r\n}\r\n```\r\n\r\n3) I started my servlet with jetty and tried to connect to localhost:8080 and mentioned error appears.\r\n\r\nThen I tried to create other Keystores and Truststores by other guides, for example, I added DNS alternative names to my new Keystore as is described here: https://serverfault.com/questions/488003/keytool-subjectalternativename but nothing helped me.\r\n\r\nI don&#39;t know what is wrong in my case, maybe someone more experienced with jetty and certificates will help.\r\n\r\nThank you so much!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2JgYH.png","title":"org.eclipse.jetty.http.BadMessageException: 400: Invalid SNI","body":"<p>I am trying to solve an issue with my Jetty servlet running over HTTPS.</p>\n<p>It is showing this error page in the browser:</p>\n<p><a href=\"https://i.stack.imgur.com/2JgYH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2JgYH.png\" alt=\"enter image description here\" /></a></p>\n<p>What I did:</p>\n<ol>\n<li><p>I created my Keystore and Truststore as is described here: <a href=\"https://stackoverflow.com/questions/47434877/how-to-generate-keystore-and-truststore\">How to generate keystore and truststore</a></p>\n</li>\n<li><p>Both files were placed in the directory of my project and code was written up to load these files.</p>\n</li>\n</ol>\n<pre><code>package sk.cood.metahost.server;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.eclipse.jetty.server.*;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.eclipse.jetty.util.ssl.SslContextFactory;\n\nimport java.io.*;\n\n@WebServlet(displayName = &quot;MetaHostServlet&quot;, urlPatterns = { &quot;/*&quot; })\npublic class MetaHostServlet extends HttpServlet {\n    private static File keyStoreFile;\n    private static File trustStoreFile;\n\n    public static void main(String[] args) throws Exception {\n        loadKeyStores();\n\n        Server server = new Server(8080);\n        ServerConnector connector = createSSLConnector(server, &quot;password&quot;, &quot;password&quot;, false);\n        server.addConnector(connector);\n\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n        context.addServlet(new ServletHolder(new MetaHostServlet()),&quot;/*&quot;);\n        context.setContextPath(&quot;/&quot;);\n        server.setHandler(context);\n\n        server.start();\n        server.join();\n    }\n\n    private static void loadKeyStores() {\n        keyStoreFile = new File(&quot;keystore.jks&quot;);\n        trustStoreFile = new File(&quot;truststore.jks&quot;);\n        if (!keyStoreFile.exists()) {\n            throw new RuntimeException(&quot;Key store file does not exist on path '&quot;+keyStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n        if (!trustStoreFile.exists()) {\n            throw new RuntimeException(&quot;Trust store file does not exist on path '&quot;+trustStoreFile.getAbsolutePath()+&quot;'&quot;);\n        }\n    }\n\n    private static ServerConnector createSSLConnector(Server server, String keyStorePassword, String trustStorePassword, boolean isClientAuthNeeded) {\n        SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();\n        sslContextFactory.setKeyStorePath(keyStoreFile.getAbsolutePath());\n        sslContextFactory.setKeyStorePassword(keyStorePassword);\n        sslContextFactory.setTrustStorePath(trustStoreFile.getAbsolutePath());\n        sslContextFactory.setTrustStorePassword(trustStorePassword);\n        sslContextFactory.setNeedClientAuth(isClientAuthNeeded);\n\n        HttpConfiguration https_config = new HttpConfiguration();\n        https_config.setSendServerVersion(false);\n        https_config.setRequestHeaderSize(512 * 1024);\n        https_config.setResponseHeaderSize(512 * 1024);\n\n        SecureRequestCustomizer src = new SecureRequestCustomizer();\n        https_config.addCustomizer(src);\n\n        return new ServerConnector(server, sslContextFactory, new HttpConnectionFactory(https_config));\n    }\n\n    @Override\n    public void doGet(HttpServletRequest req, HttpServletResponse res) throws IOException, ServletException {\n        res.setContentType(&quot;text/html&quot;);\n        res.setStatus(HttpServletResponse.SC_OK);\n        res.getWriter().println(&quot;&lt;h1&gt;Hello World!&lt;/h1&gt;&quot;);\n        res.getWriter().println(&quot;session=&quot; + req.getSession(true).getId());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>I started my servlet with jetty and tried to connect to localhost:8080 and mentioned error appears.</li>\n</ol>\n<p>Then I tried to create other Keystores and Truststores by other guides, for example, I added DNS alternative names to my new Keystore as is described here: <a href=\"https://serverfault.com/questions/488003/keytool-subjectalternativename\">https://serverfault.com/questions/488003/keytool-subjectalternativename</a> but nothing helped me.</p>\n<p>I don't know what is wrong in my case, maybe someone more experienced with jetty and certificates will help.</p>\n<p>Thank you so much!</p>\n"},{"tags":["java","spring","authentication","spring-security"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1699462627,"post_id":77447003,"comment_id":136535596,"body_markdown":"Your question confused me somewhat - `the user may remain logged in for a very long time despite his password was changed` - this seems to imply that someone other than the user himself can change his password, correct? If my understanding is correct, then this is a security issue - first someone else will be aware of the user&#39;s password, and second this someone will have to send the password somehow to the user (email for example). The standard flow is that the user remains logged in, if his password expires during active session, and the next time he logs in you force him to change it.","body":"Your question confused me somewhat - <code>the user may remain logged in for a very long time despite his password was changed</code> - this seems to imply that someone other than the user himself can change his password, correct? If my understanding is correct, then this is a security issue - first someone else will be aware of the user&#39;s password, and second this someone will have to send the password somehow to the user (email for example). The standard flow is that the user remains logged in, if his password expires during active session, and the next time he logs in you force him to change it."},{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1699465431,"post_id":77447003,"comment_id":136536170,"body_markdown":"What do you mean with a password expiring? How can a password expire?","body":"What do you mean with a password expiring? How can a password expire?"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699466016,"post_id":77447003,"comment_id":136536271,"body_markdown":"No, I mean that user changes his password by himself via api that I should implement. But as he stays in an active session, I suppose a method “ authenticate” will not be called until this session expires even if password was changed. I’m trying to figure out is there any way to force closing session right after password was changed by user in order to call method “authenticate” with new password that he will pass","body":"No, I mean that user changes his password by himself via api that I should implement. But as he stays in an active session, I suppose a method “ authenticate” will not be called until this session expires even if password was changed. I’m trying to figure out is there any way to force closing session right after password was changed by user in order to call method “authenticate” with new password that he will pass"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699466240,"post_id":77447003,"comment_id":136536303,"body_markdown":"@Toerktumlare I will add column “expiration_date” in table with users and I will check if expiration_date + 1 year &gt; current_date while authenticate user","body":"@Toerktumlare I will add column “expiration_date” in table with users and I will check if expiration_date + 1 year &gt; current_date while authenticate user"},{"owner":{"account_id":2064278,"reputation":13118,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1699467277,"post_id":77447003,"comment_id":136536489,"body_markdown":"Just invalidate the session then","body":"Just invalidate the session then"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699467556,"post_id":77447003,"comment_id":136536535,"body_markdown":"How can I do it properly? At what point of my app? I would be grateful if you share some examples","body":"How can I do it properly? At what point of my app? I would be grateful if you share some examples"},{"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"score":0,"creation_date":1699467804,"post_id":77447003,"comment_id":136536580,"body_markdown":"@Toerktumlare And also how can invalidate session right after password expires?","body":"@Toerktumlare And also how can invalidate session right after password expires?"},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1699477636,"post_id":77447003,"comment_id":136538281,"body_markdown":"Why? Password expiry doesn’t have to be enforced to the minute and second. The user had a valid password when he logged in, and he won’t next time. This requirement cannot be serious.","body":"Why? Password expiry doesn’t have to be enforced to the minute and second. The user had a valid password when he logged in, and he won’t next time. This requirement cannot be serious."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1699483887,"post_id":77447003,"comment_id":136539245,"body_markdown":"Let&#39;s say you enforce password renewal the moment the old one expires (user definitely won&#39;t be happy that you disrupt him for no good reason, but ...). Why do you want to do that? From security pov, you already know that the user is changing his own password (he is logged), from user experience pov you are giving him bad experience for no benefit. If you are calling the shots, I am urging you to rethink your choice (you will be reworking it). If that&#39;s a client request, do your best to convince him this is a bad idea (he will have you reworking it) and choose some stardard (sane) workflow.","body":"Let&#39;s say you enforce password renewal the moment the old one expires (user definitely won&#39;t be happy that you disrupt him for no good reason, but ...). Why do you want to do that? From security pov, you already know that the user is changing his own password (he is logged), from user experience pov you are giving him bad experience for no benefit. If you are calling the shots, I am urging you to rethink your choice (you will be reworking it). If that&#39;s a client request, do your best to convince him this is a bad idea (he will have you reworking it) and choose some stardard (sane) workflow."}],"owner":{"account_id":10416430,"reputation":353,"user_id":11993600,"display_name":"SorryForAsking"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1699468493,"creation_date":1699458104,"question_id":77447003,"body_markdown":"I have a simple Spring security config for &quot;Basic auth&quot; in my app. Now I need to implement password expiration. My question is how can I close a user&#39;s active session if his password was changed? First I thought about `server.servlet.session.timeout` but then I have discovered that this timeout starts from the last user&#39;s request. But in my application it is normal, if I receive requests every 5 seconds from a particular user, this means that the user may remain logged in for a very long time despite his password was changed by user (for avoiding password expiration) or expired.\r\n\r\nHere is my security config:\r\n\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        private final AuthenticationProvider customAuthenticationProvider;\r\n    \r\n        public SecurityConfig(AuthenticationProvider customAuthenticationProvider) {\r\n            this.customAuthenticationProvider = customAuthenticationProvider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                    .antMatchers(\r\n                            &quot;/app/user&quot;,\r\n                            &quot;/app/user/password/refresh&quot;\r\n                    ).hasRole(&quot;ADMIN&quot;)\r\n                    .antMatchers(&quot;/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                    .anyRequest().authenticated()\r\n                    .and().httpBasic();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) {\r\n            auth.authenticationProvider(customAuthenticationProvider);\r\n        }\r\n    \r\n    }\r\n    \r\n\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n        private static final Logger log = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n        private final UserService userService;\r\n    \r\n        public CustomAuthenticationProvider(@NonNull final UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) {\r\n            String userName = authentication.getName();\r\n            User user = userService.getUserByName(userName);\r\n            String encryptedPassword = DigestUtils.encodePassword(authentication.getCredentials().toString(), user.getSalt());\r\n            String encryptedPasswordFromDb = user.getPassword();\r\n    \r\n            //TODO add validating expiration date\r\n            if (encryptedPassword.equals(encryptedPasswordFromDb)) {\r\n                return new UsernamePasswordAuthenticationToken(\r\n                        userName,\r\n                        encryptedPassword,\r\n                        List.of(new SimpleGrantedAuthority(String.format(\r\n                                &quot;ROLE_%s&quot;,\r\n                                user.getRoleName()\r\n                        ))));\r\n            }\r\n    \r\n            log.error(&quot;Incorrect password for user {}&quot;, userName);\r\n            throw new IllegalArgumentException(String.format(&quot;Incorrect password for user %s&quot;, userName));\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }\r\n\r\n","title":"How to reopen user&#39;s session and force him to authenticate if his password was changed or expired in Sping security?","body":"<p>I have a simple Spring security config for &quot;Basic auth&quot; in my app. Now I need to implement password expiration. My question is how can I close a user's active session if his password was changed? First I thought about <code>server.servlet.session.timeout</code> but then I have discovered that this timeout starts from the last user's request. But in my application it is normal, if I receive requests every 5 seconds from a particular user, this means that the user may remain logged in for a very long time despite his password was changed by user (for avoiding password expiration) or expired.</p>\n<p>Here is my security config:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final AuthenticationProvider customAuthenticationProvider;\n\n    public SecurityConfig(AuthenticationProvider customAuthenticationProvider) {\n        this.customAuthenticationProvider = customAuthenticationProvider;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .antMatchers(\n                        &quot;/app/user&quot;,\n                        &quot;/app/user/password/refresh&quot;\n                ).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/**&quot;).hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and().httpBasic();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(customAuthenticationProvider);\n    }\n\n}\n\n\n\n@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n    private static final Logger log = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n    private final UserService userService;\n\n    public CustomAuthenticationProvider(@NonNull final UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) {\n        String userName = authentication.getName();\n        User user = userService.getUserByName(userName);\n        String encryptedPassword = DigestUtils.encodePassword(authentication.getCredentials().toString(), user.getSalt());\n        String encryptedPasswordFromDb = user.getPassword();\n\n        //TODO add validating expiration date\n        if (encryptedPassword.equals(encryptedPasswordFromDb)) {\n            return new UsernamePasswordAuthenticationToken(\n                    userName,\n                    encryptedPassword,\n                    List.of(new SimpleGrantedAuthority(String.format(\n                            &quot;ROLE_%s&quot;,\n                            user.getRoleName()\n                    ))));\n        }\n\n        log.error(&quot;Incorrect password for user {}&quot;, userName);\n        throw new IllegalArgumentException(String.format(&quot;Incorrect password for user %s&quot;, userName));\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n"},{"tags":["java","saml","x509certificate","saml-2.0","opensaml"],"answers":[{"tags":[],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467830,"creation_date":1699467830,"answer_id":77448052,"question_id":77445817,"body_markdown":"just add these lines after creating Signature, createSignature();\r\n\r\n\r\n\t\t\tassertion.setSignature(signature);\r\n\t\t\tResponseMarshaller marshaller = new ResponseMarshaller();\r\n\t\t\tElement element = marshaller.marshall(response);\r\n\t\t\t\r\n\t\t\tif (signature != null) {\r\n\t\t\t\tSigner.signObject(signature);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tXMLHelper.writeNode(element, baos);\r\n","title":"Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling,","body":"<p>just add these lines after creating Signature, createSignature();</p>\n<pre><code>        assertion.setSignature(signature);\n        ResponseMarshaller marshaller = new ResponseMarshaller();\n        Element element = marshaller.marshall(response);\n        \n        if (signature != null) {\n            Signer.signObject(signature);\n        }\n        \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        XMLHelper.writeNode(element, baos);\n</code></pre>\n"}],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699467830,"creation_date":1699449064,"question_id":77445817,"body_markdown":"I am not able to generate SAMLResponse, receiving errors; &quot;Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling&quot;, &quot;XMLObject does not have an XMLSignature instance, unable to compute signature&quot;.\r\n\r\nI also tried logging the input stream of the public key by inStream.read(), It prints &quot;inStream: -1&quot;, which I believe is returned when the input file is empty, which is definitely not empty, I am confused, is this is the error or what?\r\n\r\nReceiving following lines of error logs;\r\n\r\n    { role=ADMIN } - Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling\r\n    { role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - org.opensaml.xml.signature.SignatureException: XMLObject does not have an XMLSignature instance, unable to compute signature\r\n    { role=ADMIN } - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n    java.lang.NullPointerException: null // at the mentioned error point\r\n\r\n\r\nCode:\r\n\r\n    package HIE.utils;\r\n    \r\n    \r\n    public class SSOSAMLResponse1 {\r\n    \r\n        public Response createSAMLResponse(final String subjectId, final HashMap&lt;String, List&lt;String&gt;&gt; attributes, String issuer) {\r\n            try {\r\n                DefaultBootstrap.bootstrap();\r\n                DateTime datetime = new DateTime(Utilities.getCurrentTimeStamp());\r\n    \r\n                Issuer responseIssuer = null;\r\n                Issuer assertionIssuer = null;\r\n                Subject subject = null;\r\n                AttributeStatement attributeStatement = null;\r\n    \r\n                Status status = createStatus();\r\n    \r\n                if (!Utilities.isNull(issuer)) {\r\n                    responseIssuer = createIssuer(issuer);\r\n                    assertionIssuer = createIssuer(issuer);\r\n                }\r\n    \r\n                if (!Utilities.isNull(subjectId)) {\r\n                    subject = createSubject(subjectId);\r\n                }\r\n    \r\n                if (!Utilities.isNull(attributes) &amp;&amp; attributes.size() != 0) {\r\n                    attributeStatement = createAttributeStatement(attributes);\r\n                }\r\n    \r\n                Conditions conditions = createConditions(datetime);\r\n    \r\n                AuthnStatement authnStatement = createAuthnStatement(datetime);\r\n    \r\n                Assertion assertion = createAssertion(datetime, subject, assertionIssuer, authnStatement, attributeStatement, conditions);\r\n    \r\n                Signature signature = createSignature();\r\n                assertion.setSignature(signature);\r\n                Signer.signObject(signature); // point of error\r\n    \r\n                return createResponse(datetime, responseIssuer, status, assertion);\r\n    \r\n            } catch(Throwable t) {\r\n                log.warn(t.getMessage());\r\n                log.warn(t.getLocalizedMessage());\r\n                log.warn(t.toString());\r\n                t.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        // skipping other defined functions\r\n    \r\n        private Signature createSignature() throws Throwable {\r\n            String absolutePath = &quot;C:/Users/USER/Desktop/office-projects/medicalservice/src/main/resources/sso/&quot;;\r\n            String privateKeyLocation = absolutePath + &quot;x509_priv.pem&quot;;\r\n            String publicKeyLocation =  absolutePath + &quot;x509_cert.crt&quot;;\r\n    \r\n            SignatureBuilder builder = new SignatureBuilder();\r\n            Signature signature = builder.buildObject();\r\n            Credential credential = getSigningCredential(publicKeyLocation, privateKeyLocation);\r\n            signature.setSigningCredential(credential);\r\n            signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\r\n            signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n    \r\n            return signature;\r\n        }\r\n    \r\n        public Credential getSigningCredential(String publicKeyLocation, String privateKeyLocation) throws Throwable {\r\n            // create public key (cert) portion of credential\r\n            InputStream inStream = new FileInputStream(publicKeyLocation);\r\n            CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            X509Certificate x509Certificate = (X509Certificate) cf.generateCertificate(inStream);\r\n            log.info(&quot;inStream: {}&quot;, inStream.read());\r\n            inStream.close();\r\n    \r\n            // create private key\r\n            File file = new File(privateKeyLocation);\r\n            String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\r\n    \r\n            String privateKeyPEM = key\r\n                    .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                    .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n                    .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n    \r\n            log.info(&quot;privateKeyPEM {}&quot;, privateKeyPEM);\r\n    \r\n            byte[] encoded = Base64.decodeBase64(privateKeyPEM);\r\n    \r\n            PKCS8EncodedKeySpec kSpec = new PKCS8EncodedKeySpec(encoded);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = kf.generatePrivate(kSpec);\r\n    \r\n            // create credential and initialize\r\n            BasicX509Credential credential = new BasicX509Credential();\r\n            credential.setEntityCertificate(x509Certificate);\r\n            credential.setPrivateKey(privateKey);\r\n    \r\n            return credential;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling,","body":"<p>I am not able to generate SAMLResponse, receiving errors; &quot;Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling&quot;, &quot;XMLObject does not have an XMLSignature instance, unable to compute signature&quot;.</p>\n<p>I also tried logging the input stream of the public key by inStream.read(), It prints &quot;inStream: -1&quot;, which I believe is returned when the input file is empty, which is definitely not empty, I am confused, is this is the error or what?</p>\n<p>Receiving following lines of error logs;</p>\n<pre><code>{ role=ADMIN } - Unable to compute signature, Signature XMLObject does not have the XMLSignature created during marshalling\n{ role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - org.opensaml.xml.signature.SignatureException: XMLObject does not have an XMLSignature instance, unable to compute signature\n{ role=ADMIN } - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\njava.lang.NullPointerException: null // at the mentioned error point\n</code></pre>\n<p>Code:</p>\n<pre><code>package HIE.utils;\n\n\npublic class SSOSAMLResponse1 {\n\n    public Response createSAMLResponse(final String subjectId, final HashMap&lt;String, List&lt;String&gt;&gt; attributes, String issuer) {\n        try {\n            DefaultBootstrap.bootstrap();\n            DateTime datetime = new DateTime(Utilities.getCurrentTimeStamp());\n\n            Issuer responseIssuer = null;\n            Issuer assertionIssuer = null;\n            Subject subject = null;\n            AttributeStatement attributeStatement = null;\n\n            Status status = createStatus();\n\n            if (!Utilities.isNull(issuer)) {\n                responseIssuer = createIssuer(issuer);\n                assertionIssuer = createIssuer(issuer);\n            }\n\n            if (!Utilities.isNull(subjectId)) {\n                subject = createSubject(subjectId);\n            }\n\n            if (!Utilities.isNull(attributes) &amp;&amp; attributes.size() != 0) {\n                attributeStatement = createAttributeStatement(attributes);\n            }\n\n            Conditions conditions = createConditions(datetime);\n\n            AuthnStatement authnStatement = createAuthnStatement(datetime);\n\n            Assertion assertion = createAssertion(datetime, subject, assertionIssuer, authnStatement, attributeStatement, conditions);\n\n            Signature signature = createSignature();\n            assertion.setSignature(signature);\n            Signer.signObject(signature); // point of error\n\n            return createResponse(datetime, responseIssuer, status, assertion);\n\n        } catch(Throwable t) {\n            log.warn(t.getMessage());\n            log.warn(t.getLocalizedMessage());\n            log.warn(t.toString());\n            t.printStackTrace();\n            return null;\n        }\n    }\n\n    // skipping other defined functions\n\n    private Signature createSignature() throws Throwable {\n        String absolutePath = &quot;C:/Users/USER/Desktop/office-projects/medicalservice/src/main/resources/sso/&quot;;\n        String privateKeyLocation = absolutePath + &quot;x509_priv.pem&quot;;\n        String publicKeyLocation =  absolutePath + &quot;x509_cert.crt&quot;;\n\n        SignatureBuilder builder = new SignatureBuilder();\n        Signature signature = builder.buildObject();\n        Credential credential = getSigningCredential(publicKeyLocation, privateKeyLocation);\n        signature.setSigningCredential(credential);\n        signature.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\n        signature.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n\n        return signature;\n    }\n\n    public Credential getSigningCredential(String publicKeyLocation, String privateKeyLocation) throws Throwable {\n        // create public key (cert) portion of credential\n        InputStream inStream = new FileInputStream(publicKeyLocation);\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n        X509Certificate x509Certificate = (X509Certificate) cf.generateCertificate(inStream);\n        log.info(&quot;inStream: {}&quot;, inStream.read());\n        inStream.close();\n\n        // create private key\n        File file = new File(privateKeyLocation);\n        String key = new String(Files.readAllBytes(file.toPath()), Charset.defaultCharset());\n\n        String privateKeyPEM = key\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        log.info(&quot;privateKeyPEM {}&quot;, privateKeyPEM);\n\n        byte[] encoded = Base64.decodeBase64(privateKeyPEM);\n\n        PKCS8EncodedKeySpec kSpec = new PKCS8EncodedKeySpec(encoded);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey privateKey = kf.generatePrivate(kSpec);\n\n        // create credential and initialize\n        BasicX509Credential credential = new BasicX509Credential();\n        credential.setEntityCertificate(x509Certificate);\n        credential.setPrivateKey(privateKey);\n\n        return credential;\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user9455968"},"score":2,"creation_date":1525541400,"post_id":50192200,"comment_id":87401283,"body_markdown":"Show use some code that demonstrates your problem.","body":"Show use some code that demonstrates your problem."},{"owner":{"account_id":231518,"reputation":32297,"user_id":495796,"accept_rate":79,"display_name":"Robin Green"},"score":1,"creation_date":1525541519,"post_id":50192200,"comment_id":87401320,"body_markdown":"Anjula, you are obviously a newbie Java coder, so instead of trying to guess what the root cause is and ask about that, please post the full details of your actual problem.","body":"Anjula, you are obviously a newbie Java coder, so instead of trying to guess what the root cause is and ask about that, please post the full details of your actual problem."},{"owner":{"account_id":12921108,"reputation":717,"user_id":9343566,"display_name":"Anjula Serasinghe"},"score":0,"creation_date":1525542297,"post_id":50192200,"comment_id":87401588,"body_markdown":"Hi @RobinGreen yes i am and at no point was i meaning to hide it the only reason i didnt post is since it is a group project that we are working on and the rest of the members are not keen on the information being posted on the internet. No other reason. Although i have added some information hope thats sufficient","body":"Hi @RobinGreen yes i am and at no point was i meaning to hide it the only reason i didnt post is since it is a group project that we are working on and the rest of the members are not keen on the information being posted on the internet. No other reason. Although i have added some information hope thats sufficient"}],"answers":[{"tags":[],"owner":{"account_id":12033869,"reputation":130,"user_id":8803161,"display_name":"Dmich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467749,"creation_date":1525541784,"answer_id":50192285,"question_id":50192200,"body_markdown":"To answer your question, a BufferedWriter by itself does not &#39;require&#39; getters. \r\n\r\nIf your BufferedWriter is not writing data, then the problem might be how you are actually writing the data. You also might want to check if you are calling `.close()` when you are done writing the data. \r\n\r\nAnother problem might be how your data is returned from the get-er. \r\n\r\n*Edit:\r\nThank you for updating your question. &lt;br/&gt;\r\nIf you want to write out the details of `character_Class`, you do need to call the getters of the specific information that you want to get from the class. \r\n\r\nThe reason why `bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);` doesn&#39;t throw an exception or crash is because of how java coerces classes to String. \r\n\r\nThe line of code: &lt;br/&gt;\r\n`&quot;Your Character Class:&quot; + character_Class`&lt;br/&gt;\r\nis the same as: &lt;br/&gt;\r\n`&quot;Your Character Class:&quot; + character_Class.toString()`\r\n\r\nSame happens with objects from skillInfo: \r\n`bufWrite.write(&quot;&quot; + o.toString() + &quot;-  Rank(skill Points) :&quot; + rank);`\r\n\r\nBasically, if you concatenate &#39;+&#39; a String and an object, it calls toString() on the object. If you concatenate a String and a primitive type, it just converts them to Strings first. \r\n","title":"does bufferedWriter require getters","body":"<p>To answer your question, a BufferedWriter by itself does not 'require' getters.</p>\n<p>If your BufferedWriter is not writing data, then the problem might be how you are actually writing the data. You also might want to check if you are calling <code>.close()</code> when you are done writing the data.</p>\n<p>Another problem might be how your data is returned from the get-er.</p>\n<p>*Edit:\nThank you for updating your question. <br/>\nIf you want to write out the details of <code>character_Class</code>, you do need to call the getters of the specific information that you want to get from the class.</p>\n<p>The reason why <code>bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);</code> doesn't throw an exception or crash is because of how java coerces classes to String.</p>\n<p>The line of code: <br/>\n<code>&quot;Your Character Class:&quot; + character_Class</code><br/>\nis the same as: <br/>\n<code>&quot;Your Character Class:&quot; + character_Class.toString()</code></p>\n<p>Same happens with objects from skillInfo:\n<code>bufWrite.write(&quot;&quot; + o.toString() + &quot;-  Rank(skill Points) :&quot; + rank);</code></p>\n<p>Basically, if you concatenate '+' a String and an object, it calls toString() on the object. If you concatenate a String and a primitive type, it just converts them to Strings first.</p>\n"}],"owner":{"account_id":12921108,"reputation":717,"user_id":9343566,"display_name":"Anjula Serasinghe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1699467749,"creation_date":1525541210,"question_id":50192200,"body_markdown":"Hi i know the use of getters is to restrict access. The issue is i have a buffered writer that is using some information in another class. Therefore using getters i have gotten that information and written into a file using the bufferedWriter.\r\n\r\nThe issue comes when i am trying to use some information in the same class as the bufferedWriter. It doesnt write those details . Shows no error in the code either just doesnt write it. If the data is in the same class as the buffered writer i assume that it doesnt need to be accessed using getters? although the values are stored in another method. Explain this\r\nThank you alot\r\n\r\n     bufWrite.write(&quot;Your Character Class:&quot; + character_Class + &quot;\\n&quot;);\r\n        bufWrite.write(&quot;Your Character Level:&quot; + level + &quot;\\n&quot;);\r\nThe character class and level here are from 1 class called character. To access these information i have used getters (Since the buffered writer is inside another class.Basically i have 3 classes. Character details in one and i am using the bufferedWriter which is in a different class to store these details into a file.)\r\nThese details are written into the file completely.\r\n\r\n    for(Object o:skillInfo){\r\n                bufWrite.write(&quot;&quot; + o + &quot;-  Rank(skill Points) :&quot; + rank);\r\n            }\r\n\r\ni am trying to use this foreach loop to write stuff inside a linkedlist. This linked list is inside the same class as the buffered writer statements are. But this doesnt get written while the other details(as listed above) get written. The only difference is that those details are using getters since they are not in the same class as the bufferedWriter is while the linked list is in the same as the bufferedWriter thus doesnt use a getter.\r\n\r\nI hope this is clear enough\r\n\r\n**Update \r\n\r\nAlso please note that the character.Level and the rank are user entered values.\r\n\r\n\r\n","title":"does bufferedWriter require getters","body":"<p>Hi i know the use of getters is to restrict access. The issue is i have a buffered writer that is using some information in another class. Therefore using getters i have gotten that information and written into a file using the bufferedWriter.</p>\n\n<p>The issue comes when i am trying to use some information in the same class as the bufferedWriter. It doesnt write those details . Shows no error in the code either just doesnt write it. If the data is in the same class as the buffered writer i assume that it doesnt need to be accessed using getters? although the values are stored in another method. Explain this\nThank you alot</p>\n\n<pre><code> bufWrite.write(\"Your Character Class:\" + character_Class + \"\\n\");\n    bufWrite.write(\"Your Character Level:\" + level + \"\\n\");\n</code></pre>\n\n<p>The character class and level here are from 1 class called character. To access these information i have used getters (Since the buffered writer is inside another class.Basically i have 3 classes. Character details in one and i am using the bufferedWriter which is in a different class to store these details into a file.)\nThese details are written into the file completely.</p>\n\n<pre><code>for(Object o:skillInfo){\n            bufWrite.write(\"\" + o + \"-  Rank(skill Points) :\" + rank);\n        }\n</code></pre>\n\n<p>i am trying to use this foreach loop to write stuff inside a linkedlist. This linked list is inside the same class as the buffered writer statements are. But this doesnt get written while the other details(as listed above) get written. The only difference is that those details are using getters since they are not in the same class as the bufferedWriter is while the linked list is in the same as the bufferedWriter thus doesnt use a getter.</p>\n\n<p>I hope this is clear enough</p>\n\n<p>**Update </p>\n\n<p>Also please note that the character.Level and the rank are user entered values.</p>\n"},{"tags":["java","spring-boot","maven","spring-kafka"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1699466784,"post_id":77447372,"comment_id":136536393,"body_markdown":"Are the package names same?","body":"Are the package names same?"},{"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"score":0,"creation_date":1699466859,"post_id":77447372,"comment_id":136536401,"body_markdown":"@springenthusiast you can give try\n1. `@Import(CommonProjectConfig.class)`\n2. `@ComponentScan(&quot;common project package&quot;)`\n3. Suggest you to keep different properties file name like common.properties|yaml so that we can override in other projects\n`--spring.config.location=classpath:/default.properties,classpath:/common.properties`","body":"@springenthusiast you can give try 1. <code>@Import(CommonProjectConfig.class)</code> 2. <code>@ComponentScan(&quot;common project package&quot;)</code> 3. Suggest you to keep different properties file name like common.properties|yaml so that we can override in other projects <code>--spring.config.location=classpath:&#47;default.properties,class&zwnj;&#8203;path:&#47;common.propert&zwnj;&#8203;ies</code>"}],"answers":[{"tags":[],"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699467632,"creation_date":1699467632,"answer_id":77448038,"question_id":77447372,"body_markdown":"**For the first question**\r\n\r\nIf the dependency has a different package name, then use `@ComponentScan` like below to load any beans from another package.\r\n\r\n`@ComponentScan(basePackages = &quot;com.test.dependency&quot;)`\r\n\r\nYou can also declare beans programmatically in your main application.\r\n\r\n**For second question**\r\n\r\nThere are many ways to do this. You can \r\n1. Import the property source (using @Import)\r\n2. Have an auto configuration annotation (Have a look at this [AutoConfiguration example][1])\r\n3. Have defaults loaded from the properties using classpath resolution. (See the same SO on how the application.properties was read) \r\n\r\n**For question 3:**\r\n\r\nIMO, the dependency must allow override properties from the main application. As defaults, you can keep the values in the dependency, but whether it is the default ones to pick up must be dictated by the main application. This approach can be seen in many other sdks and even spring modules itself.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring","title":"how to have repeated configurations in springboot as jar and use as dependency","body":"<p><strong>For the first question</strong></p>\n<p>If the dependency has a different package name, then use <code>@ComponentScan</code> like below to load any beans from another package.</p>\n<p><code>@ComponentScan(basePackages = &quot;com.test.dependency&quot;)</code></p>\n<p>You can also declare beans programmatically in your main application.</p>\n<p><strong>For second question</strong></p>\n<p>There are many ways to do this. You can</p>\n<ol>\n<li>Import the property source (using @Import)</li>\n<li>Have an auto configuration annotation (Have a look at this <a href=\"https://stackoverflow.com/questions/44718763/how-to-inherit-application-properties-in-spring\">AutoConfiguration example</a>)</li>\n<li>Have defaults loaded from the properties using classpath resolution. (See the same SO on how the application.properties was read)</li>\n</ol>\n<p><strong>For question 3:</strong></p>\n<p>IMO, the dependency must allow override properties from the main application. As defaults, you can keep the values in the dependency, but whether it is the default ones to pick up must be dictated by the main application. This approach can be seen in many other sdks and even spring modules itself.</p>\n"}],"owner":{"account_id":5984442,"reputation":375,"user_id":4702372,"accept_rate":59,"display_name":"springenthusiast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699467632,"creation_date":1699461355,"question_id":77447372,"body_markdown":"We have many microservices for multiple tasks and most of them have some common functionality like log configuration, metrics configuration and kafka configuration etc.\r\nWe are planning to have a common JAR with common functionalities and utilise in all microservices.\r\n\r\nWhen we created custom springboot jar with `application.yml` having these common configuration and few other @Component and @Service classes and included as dependency in microservices it&#39;s not reading any property from JAR specific `application.yml` inside the JAR.\r\n\r\nCustom springboot jar -\r\n\r\n    src/main/java - \r\n    \r\n        @Configuration\r\n        public class KafkaConfiguration {}\r\n        \r\n        @Service\r\n        public class CommonProcessor {}\r\n    \r\n   src/main/resources -\r\n    \r\n **application.yml**\r\n    \r\n    logging:\r\n      level:\r\n        org.apache: DEBUG\r\n    spring:\r\n      cloud:\r\n        stream:\r\n          kafka:\r\n            binder:\r\n              autoCreateTopics: false\r\n              brokers: localhost:9092\r\n              configuration:\r\n                sasl:\r\n                  jaas:\r\n                    config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;&quot; password=&quot;&quot;;\r\n\r\nIn `KafkaConfiguration.java` I am reading above properties and creating kafka connection, kafka template object etc. and if I write sample consumer/producer inside this jar and run as springboot project everything works fine.\r\n\r\nBu I want to use this jar as dependency in my microservice and utilise the kafka connections/kafkatemplate etc. i.e when it is unable to load any properties from above `application.yml` and fails creating bean.\r\n\r\nMicroservice structure -\r\n\r\n*src/main/java* \r\n\r\n    @Component\r\n    public class Consumer {\r\n    @Autowired\r\n    KafkaTemplate kafkaTemplate;\r\n    }\r\n\r\n*src/main/resources*\r\n\r\n**application.yml**\r\n\r\n    test:\r\n     property: test\r\n    example:\r\n     service:\r\n      url: https://localhost:8080/service\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    &lt;artifactId&gt;common-jar&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n\r\nWhat am I missing here because of which my JAR file fails to create the beans defined inside it by loading the properties? Is this approach of having 2 application.yml not correct? what is best way to have common properties in one place?","title":"how to have repeated configurations in springboot as jar and use as dependency","body":"<p>We have many microservices for multiple tasks and most of them have some common functionality like log configuration, metrics configuration and kafka configuration etc.\nWe are planning to have a common JAR with common functionalities and utilise in all microservices.</p>\n<p>When we created custom springboot jar with <code>application.yml</code> having these common configuration and few other @Component and @Service classes and included as dependency in microservices it's not reading any property from JAR specific <code>application.yml</code> inside the JAR.</p>\n<p>Custom springboot jar -</p>\n<pre><code>src/main/java - \n\n    @Configuration\n    public class KafkaConfiguration {}\n    \n    @Service\n    public class CommonProcessor {}\n</code></pre>\n<p>src/main/resources -</p>\n<p><strong>application.yml</strong></p>\n<pre><code>logging:\n  level:\n    org.apache: DEBUG\nspring:\n  cloud:\n    stream:\n      kafka:\n        binder:\n          autoCreateTopics: false\n          brokers: localhost:9092\n          configuration:\n            sasl:\n              jaas:\n                config: org.apache.kafka.common.security.plain.PlainLoginModule required username=&quot;&quot; password=&quot;&quot;;\n</code></pre>\n<p>In <code>KafkaConfiguration.java</code> I am reading above properties and creating kafka connection, kafka template object etc. and if I write sample consumer/producer inside this jar and run as springboot project everything works fine.</p>\n<p>Bu I want to use this jar as dependency in my microservice and utilise the kafka connections/kafkatemplate etc. i.e when it is unable to load any properties from above <code>application.yml</code> and fails creating bean.</p>\n<p>Microservice structure -</p>\n<p><em>src/main/java</em></p>\n<pre><code>@Component\npublic class Consumer {\n@Autowired\nKafkaTemplate kafkaTemplate;\n}\n</code></pre>\n<p><em>src/main/resources</em></p>\n<p><strong>application.yml</strong></p>\n<pre><code>test:\n property: test\nexample:\n service:\n  url: https://localhost:8080/service\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.test&lt;/groupId&gt;\n&lt;artifactId&gt;common-jar&lt;/artifactId&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n</code></pre>\n<p>What am I missing here because of which my JAR file fails to create the beans defined inside it by loading the properties? Is this approach of having 2 application.yml not correct? what is best way to have common properties in one place?</p>\n"},{"tags":["java","spring","testing","module","spring-data-jpa"],"comments":[{"owner":{"account_id":3597402,"reputation":1164,"user_id":3001675,"accept_rate":86,"display_name":"LIvanov"},"score":0,"creation_date":1698384373,"post_id":77218252,"comment_id":136400978,"body_markdown":"How do you configure modulith, so that your domain classes in every module can live in a `domain` subpackage? When running `org.springframework.modulith.core.ApplicationModules#verify` I get `Duplicate key domain (attempted merging values # Domain ...`","body":"How do you configure modulith, so that your domain classes in every module can live in a <code>domain</code> subpackage? When running <code>org.springframework.modulith.core.ApplicationModules#verify</code> I get <code>Duplicate key domain (attempted merging values # Domain ...</code>"}],"answers":[{"tags":[],"owner":{"account_id":7745899,"reputation":1296,"user_id":5863693,"accept_rate":89,"display_name":"Yos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696451603,"creation_date":1696451172,"answer_id":77232762,"question_id":77218252,"body_markdown":"The problem is that `@EnableJpaRepositories` will look for all repositories defined in the project including `OutboundOrderJpaPersistence` to initialize them as Spring beans. However, the `@ApplicationModuleTest` annotation by default will import [only the module under test][1] which will exclude `orderfulfillment` module which contains `OutboundOrderJpaPersistence`. As a result the application crashes.\r\n\r\nYou have several options here:\r\n1. Add `@SpringBootTest` and `@EnableScenarios` annotations to the test class.\r\n2. Use `@ApplicationModuleTest(extraIncludes = &quot;orderfulfillment&quot;)` - not recommended because as soon as you add another repository which `inventorymanagement` doesn&#39;t depend on, you will run into the same issue again.\r\n3. In case `inventorymanagement` module depends on `orderfulfillment` then you could use `@ApplicationModuleTest(ApplicationModuleTest.BootstrapMode.DIRECT_DEPENDENCIES)` but I wouldn&#39;t recommend this because as soon as you add another repository which `inventorymanagement` doesn&#39;t depend on, you will run into the same issue again.\r\n\r\n  [1]: https://docs.spring.io/spring-modulith/docs/current/reference/html/#testing.bootstrap-modes","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>The problem is that <code>@EnableJpaRepositories</code> will look for all repositories defined in the project including <code>OutboundOrderJpaPersistence</code> to initialize them as Spring beans. However, the <code>@ApplicationModuleTest</code> annotation by default will import <a href=\"https://docs.spring.io/spring-modulith/docs/current/reference/html/#testing.bootstrap-modes\" rel=\"nofollow noreferrer\">only the module under test</a> which will exclude <code>orderfulfillment</code> module which contains <code>OutboundOrderJpaPersistence</code>. As a result the application crashes.</p>\n<p>You have several options here:</p>\n<ol>\n<li>Add <code>@SpringBootTest</code> and <code>@EnableScenarios</code> annotations to the test class.</li>\n<li>Use <code>@ApplicationModuleTest(extraIncludes = &quot;orderfulfillment&quot;)</code> - not recommended because as soon as you add another repository which <code>inventorymanagement</code> doesn't depend on, you will run into the same issue again.</li>\n<li>In case <code>inventorymanagement</code> module depends on <code>orderfulfillment</code> then you could use <code>@ApplicationModuleTest(ApplicationModuleTest.BootstrapMode.DIRECT_DEPENDENCIES)</code> but I wouldn't recommend this because as soon as you add another repository which <code>inventorymanagement</code> doesn't depend on, you will run into the same issue again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4512875,"reputation":108,"user_id":3668523,"display_name":"DanieldeJong93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699467140,"creation_date":1699467140,"answer_id":77448003,"question_id":77218252,"body_markdown":"After discussion with the maintainer of the spring-modulith it has been resolved in a later version. This version is of not yet fully released by spring.\r\n\r\nSee https://github.com/spring-projects/spring-modulith/issues/316 for more information.","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>After discussion with the maintainer of the spring-modulith it has been resolved in a later version. This version is of not yet fully released by spring.</p>\n<p>See <a href=\"https://github.com/spring-projects/spring-modulith/issues/316\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-modulith/issues/316</a> for more information.</p>\n"}],"owner":{"account_id":4512875,"reputation":108,"user_id":3668523,"display_name":"DanieldeJong93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77448003,"answer_count":2,"score":1,"last_activity_date":1699467140,"creation_date":1696277419,"question_id":77218252,"body_markdown":"While working with Spring Modulith I am trying to test the ApplicationModuleTest in a multi module application. I am running into problems when spring is trying to create JpaRepositories implementations for modules that are not under test.\r\n\r\nMy project structure is as follows:\r\n\r\n&gt; nl.daniel.dejong\r\n&gt; - Application.java\r\n&gt; - inventorymanagement\r\n&gt;   - domain\r\n&gt;     - ProductService.java\r\n&gt;     - Product.java\r\n&gt;     - ProductId.java\r\n&gt;   - infrastructure.persistence\r\n&gt;     - ProductJpaPersistence.java\r\n&gt; - orderfulfillment\r\n&gt;   - domain\r\n&gt;     - OutboundOrder.java\r\n&gt;   - infrastructure.persistence\r\n&gt;     - OutboundOrderJpaPersistence.java\r\n\r\nThe persistences are default JpaPersistences using the domain object as domain object eg:\r\n\r\n    @Repository\r\n    public interface ProductJpaPersistence extends ProductPersistence, JpaRepository&lt;Product, ProductId&gt; {\r\n    }\r\n\r\nMy Application.java looks as follows\r\n\r\n    @SpringBootApplication\r\n    @EnableAsync\r\n    @ConfigurationPropertiesScan\r\n    @EnableJpaRepositories\r\n    public class Application {\r\n        public static void main(String... args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nWhen creating a `ApplicationModuleTest` for the product module It is trying to create a `OutboundOrderJpaPersistence` bean. The results into the problem that the ApplicationModuleTest annotation filters the scope of the test and therefor it cannot find the OutboundOrder that the Repository is managing. \r\n\r\nTest:\r\n\r\n    @ApplicationModuleTest\r\n    @RequiredArgsConstructor\r\n    class ProductIntegrationTest {\r\n        private static final String PRODUCT_NAME = &quot;Product 1&quot;;\r\n        private final ProductService productService;\r\n    \r\n        @Test\r\n        public void createProduct(Scenario scenario) {\r\n            var createProduct = new Product();\r\n            createProduct.setName(PRODUCT_NAME);\r\n    \r\n            scenario.stimulate(() -&gt; productService.create(createProduct))\r\n                    .andWaitForEventOfType(ProductCreated.class)\r\n                    .matchingMappedValue(ProductCreated::name, PRODUCT_NAME);\r\n    \r\n        }\r\n    }\r\n\r\nStackTrace:\r\n\r\n    org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [final nl.daniel.dejong.inventorymanagement.application.product.ProductService productService] in constructor [public nl.daniel.dejong.inventorymanagement.ProductIntegrationTest(nl.daniel.dejong.inventorymanagement.application.product.ProductService)]: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:159)\r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameters(ParameterResolutionUtils.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:59)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.getApplicationContext(SpringExtension.java:283)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.resolveParameter(SpringExtension.java:269)\r\n    \tat org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:136)\r\n    \t... 51 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;outboundOrderJpaPersistence&#39; defined in nl.daniel.dejong.orderfulfillment.infrastructure.persistence.OutboundOrderJpaPersistence defined in @EnableJpaRepositories declared on Application: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\r\n    \t... 55 more\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82)\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\r\n    \t... 76 more\r\n\r\nWhen changing the `@EnableJpaRepositories` to point to the module under test `@EnableJpaRepositories(&quot;nl.daniel.dejong.inventorymanagement&quot;)` the test works as expected.\r\n\r\nPS: The situation described above is a representation as close as possible to the full implementation, but it could miss some information. Left out some of the details to not cloud the post.\r\n\r\nAm I doing something wrong here or is this unexpected behavior?\r\n\r\nEdit: by actually removing the ‘EnableJpaRepositories’ from the ‘Application.Java’ I am able to override the repository locations by using a configuration containing ‘EnableJpaRepositories’ in the test. I am still of opinion that SpringModulith should have a way of doing this by itself.","title":"Spring Modulith - ApplicationModuleTest with JPA repositories in different modules","body":"<p>While working with Spring Modulith I am trying to test the ApplicationModuleTest in a multi module application. I am running into problems when spring is trying to create JpaRepositories implementations for modules that are not under test.</p>\n<p>My project structure is as follows:</p>\n<blockquote>\n<p>nl.daniel.dejong</p>\n<ul>\n<li>Application.java</li>\n<li>inventorymanagement\n<ul>\n<li>domain\n<ul>\n<li>ProductService.java</li>\n<li>Product.java</li>\n<li>ProductId.java</li>\n</ul>\n</li>\n<li>infrastructure.persistence\n<ul>\n<li>ProductJpaPersistence.java</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>orderfulfillment\n<ul>\n<li>domain\n<ul>\n<li>OutboundOrder.java</li>\n</ul>\n</li>\n<li>infrastructure.persistence\n<ul>\n<li>OutboundOrderJpaPersistence.java</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>The persistences are default JpaPersistences using the domain object as domain object eg:</p>\n<pre><code>@Repository\npublic interface ProductJpaPersistence extends ProductPersistence, JpaRepository&lt;Product, ProductId&gt; {\n}\n</code></pre>\n<p>My Application.java looks as follows</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\n@ConfigurationPropertiesScan\n@EnableJpaRepositories\npublic class Application {\n    public static void main(String... args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>When creating a <code>ApplicationModuleTest</code> for the product module It is trying to create a <code>OutboundOrderJpaPersistence</code> bean. The results into the problem that the ApplicationModuleTest annotation filters the scope of the test and therefor it cannot find the OutboundOrder that the Repository is managing.</p>\n<p>Test:</p>\n<pre><code>@ApplicationModuleTest\n@RequiredArgsConstructor\nclass ProductIntegrationTest {\n    private static final String PRODUCT_NAME = &quot;Product 1&quot;;\n    private final ProductService productService;\n\n    @Test\n    public void createProduct(Scenario scenario) {\n        var createProduct = new Product();\n        createProduct.setName(PRODUCT_NAME);\n\n        scenario.stimulate(() -&gt; productService.create(createProduct))\n                .andWaitForEventOfType(ProductCreated.class)\n                .matchingMappedValue(ProductCreated::name, PRODUCT_NAME);\n\n    }\n}\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>org.junit.jupiter.api.extension.ParameterResolutionException: Failed to resolve parameter [final nl.daniel.dejong.inventorymanagement.application.product.ProductService productService] in constructor [public nl.daniel.dejong.inventorymanagement.ProductIntegrationTest(nl.daniel.dejong.inventorymanagement.application.product.ProductService)]: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:159)\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameters(ParameterResolutionUtils.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:59)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestClassConstructor(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateTestClass(ClassBasedTestDescriptor.java:310)\n    at org.junit.jupiter.engine.descriptor.ClassTestDescriptor.instantiateTestClass(ClassTestDescriptor.java:79)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:286)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$before$2(ClassBasedTestDescriptor.java:203)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6ed000ba testClass = nl.daniel.dejong.inventorymanagement.ProductIntegrationTest, locations = [], classes = [nl.daniel.dejong.Application], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [[ImportsContextCustomizer@5862dc47 key = [org.springframework.modulith.test.ModuleTestAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7857fe2, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@446a1e84, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@626abbd0, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37313c84, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@415b0b49, org.springframework.modulith.test.ModuleContextCustomizerFactory$ModuleContextCustomizer@17503f8a, org.springframework.boot.test.context.SpringBootTestAnnotation@ab9d71ae], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.getApplicationContext(SpringExtension.java:283)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.resolveParameter(SpringExtension.java:269)\n    at org.junit.jupiter.engine.execution.ParameterResolutionUtils.resolveParameter(ParameterResolutionUtils.java:136)\n    ... 51 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'outboundOrderJpaPersistence' defined in nl.daniel.dejong.orderfulfillment.infrastructure.persistence.OutboundOrderJpaPersistence defined in @EnableJpaRepositories declared on Application: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:967)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)\n    ... 55 more\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class nl.daniel.dejong.orderfulfillment.domain.order.OutboundOrder\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:192)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:467)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:97)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:82)\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:245)\n    at org.springframework.data.util.Lazy.get(Lazy.java:114)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)\n    ... 76 more\n</code></pre>\n<p>When changing the <code>@EnableJpaRepositories</code> to point to the module under test <code>@EnableJpaRepositories(&quot;nl.daniel.dejong.inventorymanagement&quot;)</code> the test works as expected.</p>\n<p>PS: The situation described above is a representation as close as possible to the full implementation, but it could miss some information. Left out some of the details to not cloud the post.</p>\n<p>Am I doing something wrong here or is this unexpected behavior?</p>\n<p>Edit: by actually removing the ‘EnableJpaRepositories’ from the ‘Application.Java’ I am able to override the repository locations by using a configuration containing ‘EnableJpaRepositories’ in the test. I am still of opinion that SpringModulith should have a way of doing this by itself.</p>\n"},{"tags":["java","oracle"],"answers":[{"tags":[],"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699452672,"creation_date":1699441627,"answer_id":77445005,"question_id":77444853,"body_markdown":"The error says\r\n\r\n&gt; PLS-00221: &#39;insert_order&#39; is not a procedure or is undefined\r\n\r\nYou said\r\n\r\n&gt; insert_order in oracle database is a function\r\n\r\nand your test calls it as a function. So the error is correct - it is not a procedure, it is a function, and you are calling it as a procedure in `&quot;{call integ_pkg.insert_order(:input)}&quot;`, as you are not allowing for the return value.\r\n\r\nYou can call it with assignment of the return value to another placeholder, with something like\r\n\r\n```\r\n&quot;{:output = integ_pkg.insert_order(:input)}&quot;\r\n```\r\n\r\nor\r\n\r\n```\r\n&quot;{:output = call integ_pkg.insert_order(:input)}&quot;\r\n```\r\n\r\nbut then you have to get the result out, which I don&#39;t think JPA supports in this form (at least in JPA 2.0 - don&#39;t know much about it but looking at  [their wiki](https://en.wikibooks.org/wiki/Java_Persistence/Advanced_Topics#Stored_Procedures)).\r\n\r\nInstead, you can call the function as part of a query:\r\n\r\n```\r\n&quot;{select integ_pkg.insert_order(:input) from dual}&quot;\r\n```\r\n\r\nwhich will return the CLOB result - though as a String, not a BigInteger; your current result retrieval looks odd...","title":"PLS-00221: &#39;insert_order&#39; is not a procedure or is undefined","body":"<p>The error says</p>\n<blockquote>\n<p>PLS-00221: 'insert_order' is not a procedure or is undefined</p>\n</blockquote>\n<p>You said</p>\n<blockquote>\n<p>insert_order in oracle database is a function</p>\n</blockquote>\n<p>and your test calls it as a function. So the error is correct - it is not a procedure, it is a function, and you are calling it as a procedure in <code>&quot;{call integ_pkg.insert_order(:input)}&quot;</code>, as you are not allowing for the return value.</p>\n<p>You can call it with assignment of the return value to another placeholder, with something like</p>\n<pre><code>&quot;{:output = integ_pkg.insert_order(:input)}&quot;\n</code></pre>\n<p>or</p>\n<pre><code>&quot;{:output = call integ_pkg.insert_order(:input)}&quot;\n</code></pre>\n<p>but then you have to get the result out, which I don't think JPA supports in this form (at least in JPA 2.0 - don't know much about it but looking at  <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/Advanced_Topics#Stored_Procedures\" rel=\"nofollow noreferrer\">their wiki</a>).</p>\n<p>Instead, you can call the function as part of a query:</p>\n<pre><code>&quot;{select integ_pkg.insert_order(:input) from dual}&quot;\n</code></pre>\n<p>which will return the CLOB result - though as a String, not a BigInteger; your current result retrieval looks odd...</p>\n"}],"owner":{"account_id":1464588,"reputation":1889,"user_id":1377850,"accept_rate":31,"display_name":"franco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699466514,"creation_date":1699440406,"question_id":77444853,"body_markdown":"I want to call function with java jpa hibernate\r\n\r\nI try with this code :\r\n\r\n\r\n      String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \r\n              &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \r\n              &quot;                                [\\r\\n&quot; + \r\n              &quot;                                    {\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \r\n              &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \r\n              &quot;                                    }\\r\\n&quot; + \r\n              &quot;                                ]\\r\\n&quot; + \r\n              &quot;                        }&quot;;\r\n    \r\n         Query query = em\r\n                .createNativeQuery(&quot;{call integ_pkg.insert_order(:input)} &quot;);\r\n        query.setParameter(&quot;input&quot;, input);\r\n        \r\n        BigInteger result = (BigInteger) query.getResultList().get(0);\r\n        System.out.println(&quot;result    :&quot;+result);\r\n    \t\t\r\n\r\nbut when I test the code I have this error :\r\n\r\n\t\r\n\r\n    \tCaused by: java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00221: &#39;insert_order&#39; is not a procedure or is undefined\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\nas an information **insert_order** in oracle database is a function\r\n\r\n\r\nthis is the test directly in database :\r\n\r\n\r\n    declare\r\n        request_detail clob := &#39;{ &quot;p_principal&quot;:\r\n                                    [\r\n                                        {\r\n                                        &quot;p_emp&quot;: 200,\r\n                                        &quot;p_request&quot;: 23,\r\n                                        &quot;p_date&quot;: &quot;23-10-2024&quot;,\r\n                                        &quot;p_info&quot;: &quot;test&quot;\r\n                                        }\r\n                                    ]\r\n                                    ,&quot;p_detail&quot;:\r\n                                    [\r\n                                        {\r\n                                        &quot;p_emp&quot;: 200,\r\n                                        &quot;p_date&quot;: &quot;23-10-2024&quot;,\r\n                                        &quot;p_info&quot;: &quot;test&quot;\r\n                                        }\r\n                                    ]\r\n                            }&#39;;\r\n        json_out                    clob;\r\n    begin\r\n    \r\n    json_out := integ_pkg.insert_order(request_detail);\r\n    dbms_output.put_line(json_out);\r\n    end;\r\n        \r\n\r\nthe output is like this :\r\n\r\n    \t{&quot;p_principal&quot;:[{&quot;p_num_generate&quot;:15,&quot;p_error&quot;:null}]\r\n    ,&quot;p_detail&quot;:[{&quot;p_emp&quot;:200,&quot;p_error&quot;:null}]}\r\n\r\n\r\nthe problem is to know how call the function using java jpa hibernate\r\n\r\n\r\n\r\n**updated :**\r\n\r\nI try with this code :\r\n\r\n    Query query = em\r\n                .createNativeQuery(&quot;select integ_pkg.insert_order(:input)} from dual&quot;);\r\n        query.setParameter(&quot;input&quot;, input);\r\n        \r\n        String  result = (String) query.getResultList().get(0);\r\n        System.out.println(&quot;result    :&quot;+result);\r\n    \t\r\n\t\t\r\n\t\t\r\n\r\n   \r\n\r\n\r\nbut I have this error :\r\n\t\t\r\n\t\r\n\r\n    java.lang.NullPointerException: null\r\n    at oracle.jdbc.driver.T4C8Oall.getNumRows(T4C8Oall.java:1153)\r\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\r\n    at oracle.jdbc.driver.T4CPreparedStatement.executeMaybeDescribe(T4CPreparedStatement.java:866)\r\n    \t","title":"PLS-00221: &#39;insert_order&#39; is not a procedure or is undefined","body":"<p>I want to call function with java jpa hibernate</p>\n<p>I try with this code :</p>\n<pre><code>  String input=   &quot;{ \\&quot;p_principal\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_request\\&quot;: 23,\\r\\n&quot; + \n          &quot;                                 \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                                ,\\&quot;p_detail\\&quot;:\\r\\n&quot; + \n          &quot;                                [\\r\\n&quot; + \n          &quot;                                    {\\r\\n&quot; + \n          &quot;                                    \\&quot;p_emp\\&quot;: 200,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_date\\&quot;: \\&quot;23-10-2024\\&quot;,\\r\\n&quot; + \n          &quot;                                    \\&quot;p_info\\&quot;: \\&quot;test\\&quot;\\r\\n&quot; + \n          &quot;                                    }\\r\\n&quot; + \n          &quot;                                ]\\r\\n&quot; + \n          &quot;                        }&quot;;\n\n     Query query = em\n            .createNativeQuery(&quot;{call integ_pkg.insert_order(:input)} &quot;);\n    query.setParameter(&quot;input&quot;, input);\n    \n    BigInteger result = (BigInteger) query.getResultList().get(0);\n    System.out.println(&quot;result    :&quot;+result);\n        \n</code></pre>\n<p>but when I test the code I have this error :</p>\n<pre><code>    Caused by: java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00221: 'insert_order' is not a procedure or is undefined\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n<p>as an information <strong>insert_order</strong> in oracle database is a function</p>\n<p>this is the test directly in database :</p>\n<pre><code>declare\n    request_detail clob := '{ &quot;p_principal&quot;:\n                                [\n                                    {\n                                    &quot;p_emp&quot;: 200,\n                                    &quot;p_request&quot;: 23,\n                                    &quot;p_date&quot;: &quot;23-10-2024&quot;,\n                                    &quot;p_info&quot;: &quot;test&quot;\n                                    }\n                                ]\n                                ,&quot;p_detail&quot;:\n                                [\n                                    {\n                                    &quot;p_emp&quot;: 200,\n                                    &quot;p_date&quot;: &quot;23-10-2024&quot;,\n                                    &quot;p_info&quot;: &quot;test&quot;\n                                    }\n                                ]\n                        }';\n    json_out                    clob;\nbegin\n\njson_out := integ_pkg.insert_order(request_detail);\ndbms_output.put_line(json_out);\nend;\n    \n</code></pre>\n<p>the output is like this :</p>\n<pre><code>    {&quot;p_principal&quot;:[{&quot;p_num_generate&quot;:15,&quot;p_error&quot;:null}]\n,&quot;p_detail&quot;:[{&quot;p_emp&quot;:200,&quot;p_error&quot;:null}]}\n</code></pre>\n<p>the problem is to know how call the function using java jpa hibernate</p>\n<p><strong>updated :</strong></p>\n<p>I try with this code :</p>\n<pre><code>Query query = em\n            .createNativeQuery(&quot;select integ_pkg.insert_order(:input)} from dual&quot;);\n    query.setParameter(&quot;input&quot;, input);\n    \n    String  result = (String) query.getResultList().get(0);\n    System.out.println(&quot;result    :&quot;+result);\n    \n    \n    \n</code></pre>\n<p>but I have this error :</p>\n<pre><code>java.lang.NullPointerException: null\nat oracle.jdbc.driver.T4C8Oall.getNumRows(T4C8Oall.java:1153)\nat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:807)\nat oracle.jdbc.driver.T4CPreparedStatement.executeMaybeDescribe(T4CPreparedStatement.java:866)\n    \n</code></pre>\n"},{"tags":["java","data-structures","linked-list","doubly-linked-list"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698835454,"post_id":77402002,"comment_id":136454447,"body_markdown":"When you are creating a linked-list, you are adding a new element at the `next` of the last element. `ptr` in your first case keeps track of that last element. In the second approach you are just replacing the first element every time.","body":"When you are creating a linked-list, you are adding a new element at the <code>next</code> of the last element. <code>ptr</code> in your first case keeps track of that last element. In the second approach you are just replacing the first element every time."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698851141,"post_id":77402002,"comment_id":136457584,"body_markdown":"Look carefully. `head` is never modified in the method while `ptr` is. So these variables do not contain the same value and hence, are not interchangeable. All your other questions are about consequences of that difference.","body":"Look carefully. <code>head</code> is never modified in the method while <code>ptr</code> is. So these variables do not contain the same value and hence, are not interchangeable. All your other questions are about consequences of that difference."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698838120,"creation_date":1698838120,"answer_id":77402271,"question_id":77402002,"body_markdown":"If you would perform `return ptr` instead of `return head` in the first solution, you would actually do the same as in the second. The name of the variable that you use in the `return` statement is of course not of importance; it is the node (reference) that you return that is important.\r\n\r\nAnd so it is clear that with that modification you return the *last* node that was appended to the list (see last iteration of the loop). That node has its `next` field still at `null`. The caller would have to navigate via the `prev` references back to the head to eventually find it.\r\n\r\n","title":"Why can&#39;t I use head directly in this linked list problem instead of initializing and using ptr?","body":"<p>If you would perform <code>return ptr</code> instead of <code>return head</code> in the first solution, you would actually do the same as in the second. The name of the variable that you use in the <code>return</code> statement is of course not of importance; it is the node (reference) that you return that is important.</p>\n<p>And so it is clear that with that modification you return the <em>last</em> node that was appended to the list (see last iteration of the loop). That node has its <code>next</code> field still at <code>null</code>. The caller would have to navigate via the <code>prev</code> references back to the head to eventually find it.</p>\n"},{"tags":[],"owner":{"account_id":27513230,"reputation":1,"user_id":20994721,"display_name":"SAMEER KHANNA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699466183,"creation_date":1699466183,"answer_id":77447909,"question_id":77402002,"body_markdown":"Initializing a node as `head` and using `ptr` for traversal helps in visualizing the `head` node as the starting point of the doubly linked list. If you use `head` directly to build the doubly linked list, you will lose the starting node and later, you will have to traverse backwards to get the starting node.\r\n\r\nIf you return `ptr` in the first case, then `ptr` is the last node of the linked list and hence will return only one node, whereas `head` is the first node and will return all the nodes.","title":"Why can&#39;t I use head directly in this linked list problem instead of initializing and using ptr?","body":"<p>Initializing a node as <code>head</code> and using <code>ptr</code> for traversal helps in visualizing the <code>head</code> node as the starting point of the doubly linked list. If you use <code>head</code> directly to build the doubly linked list, you will lose the starting node and later, you will have to traverse backwards to get the starting node.</p>\n<p>If you return <code>ptr</code> in the first case, then <code>ptr</code> is the last node of the linked list and hence will return only one node, whereas <code>head</code> is the first node and will return all the nodes.</p>\n"}],"owner":{"account_id":29801705,"reputation":1,"user_id":22839347,"display_name":"mysterymartian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699466183,"creation_date":1698835007,"question_id":77402002,"body_markdown":"I was going through this solution for implementing a doubly linked list when I came across this doubt\r\n\r\n```java\r\npublic class Solution\r\n{\r\n    public static Node constructDLL(int []arr) {\r\n        Node head = new Node(arr[0]);\r\n        Node ptr = head;\r\n        for(int i = 1; i&lt;arr.length; i++) {\r\n            Node node = new Node(arr[i]);\r\n            ptr.next = node;\r\n            node.prev = ptr;\r\n            ptr = node;\r\n        }\r\n        return head;\r\n    }\r\n}\r\n```\r\nWhy can&#39;t I use head directly in this linked list problem instead of initializing and using ptr like this? \r\n\r\n```java\r\npublic class Solution\r\n{\r\n    public static Node constructDLL(int []arr) {\r\n        Node head = new Node(arr[0]);\r\n  \r\n        for(int i = 1; i&lt;arr.length; i++) {\r\n            Node node = new Node(arr[i]);\r\n            head.next = node;\r\n            node.prev = head;\r\n            head= node;\r\n        }\r\n        return head;\r\n    }\r\n}\r\n```\r\n\r\nAnd if ptr refers to head, why does returning ptr return one value but returning head returns all the values in the array? I&#39;m new to linked list and these things have got me super confused.","title":"Why can&#39;t I use head directly in this linked list problem instead of initializing and using ptr?","body":"<p>I was going through this solution for implementing a doubly linked list when I came across this doubt</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution\n{\n    public static Node constructDLL(int []arr) {\n        Node head = new Node(arr[0]);\n        Node ptr = head;\n        for(int i = 1; i&lt;arr.length; i++) {\n            Node node = new Node(arr[i]);\n            ptr.next = node;\n            node.prev = ptr;\n            ptr = node;\n        }\n        return head;\n    }\n}\n</code></pre>\n<p>Why can't I use head directly in this linked list problem instead of initializing and using ptr like this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution\n{\n    public static Node constructDLL(int []arr) {\n        Node head = new Node(arr[0]);\n  \n        for(int i = 1; i&lt;arr.length; i++) {\n            Node node = new Node(arr[i]);\n            head.next = node;\n            node.prev = head;\n            head= node;\n        }\n        return head;\n    }\n}\n</code></pre>\n<p>And if ptr refers to head, why does returning ptr return one value but returning head returns all the values in the array? I'm new to linked list and these things have got me super confused.</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","java-threads"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1491788881,"post_id":43271626,"comment_id":73692548,"body_markdown":"Use the `ExecutorService.awaitTermination` method instead of `executor.isTerminated()`. See the javadoc for ExecutorService for details.","body":"Use the <code>ExecutorService.awaitTermination</code> method instead of <code>executor.isTerminated()</code>. See the javadoc for ExecutorService for details."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1699466148,"creation_date":1491549989,"answer_id":43272125,"question_id":43271626,"body_markdown":"What you are doing is a busy-spin-loop, and it is a very bad thing to do, because a) it consumes a full CPU core per thread, and b) it actually keeps the CPU busy, which means that it is stealing processing time from other threads that might have useful work to do.\r\n\r\nThere is a number of ways you can solve this, I will list them from worst to best.\r\n\r\n* The simplest way to improve your code is to invoke the `java.lang.Thread.sleep(long millis)` method, passing it `0` as a parameter. This is also known as a &quot;yield&quot; operation, and it essentially means &quot;if there are any other threads that have some useful work to do, let them run, and return back to me once they are done.&quot;  This is only marginally better than busy-spin-looping because it will still consume 100% CPU. The benefit is that it will only consume CPU while other threads do not have anything to do, so at least it will not slow other things down.\r\n\r\n* The next best, but still not very smart, way to improve your code is by invoking the `java.lang.Thread.sleep(long millis)` method passing it `1` as a parameter.  This is known as a &quot;pass&quot; operation, and it essentially means &quot;release the remainder of my time-slice to any other threads that might have some useful work to do&quot;.  In other words, the remainder of the time-slice is forfeited, even if no useful work needs to be done in the entire system.  This will bring CPU consumption down to almost zero.  The disadvantages are that a) the CPU consumption will actually be slightly above zero, b) the machine will not be able to go to some low-power sleep mode, and c) your worker thread will be slightly less responsive: it will pick up work to do only on a timeslice boundary.\r\n\r\n* The best way to solve your problem is by using the *synchronization* mechanism built into java, as explained in this answer: https://stackoverflow.com/a/5999146/773113  This will not only consume zero CPU, but it will even allow the machine to go into a low power mode while waiting.\r\n\r\n* To solve your problem for the most general case, where you don&#39;t want to just wait until a condition, but to actually also pass information about the work that has been done or work which is to be done, you would use a `BlockingQueue`.  (https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html)  The blocking queue works using the java built-in synchronization mechanism *and* allows one thread to pass information to another.","title":"Java ExecutorService:- Notify a thread to wake up when an event occurs","body":"<p>What you are doing is a busy-spin-loop, and it is a very bad thing to do, because a) it consumes a full CPU core per thread, and b) it actually keeps the CPU busy, which means that it is stealing processing time from other threads that might have useful work to do.</p>\n<p>There is a number of ways you can solve this, I will list them from worst to best.</p>\n<ul>\n<li><p>The simplest way to improve your code is to invoke the <code>java.lang.Thread.sleep(long millis)</code> method, passing it <code>0</code> as a parameter. This is also known as a &quot;yield&quot; operation, and it essentially means &quot;if there are any other threads that have some useful work to do, let them run, and return back to me once they are done.&quot;  This is only marginally better than busy-spin-looping because it will still consume 100% CPU. The benefit is that it will only consume CPU while other threads do not have anything to do, so at least it will not slow other things down.</p>\n</li>\n<li><p>The next best, but still not very smart, way to improve your code is by invoking the <code>java.lang.Thread.sleep(long millis)</code> method passing it <code>1</code> as a parameter.  This is known as a &quot;pass&quot; operation, and it essentially means &quot;release the remainder of my time-slice to any other threads that might have some useful work to do&quot;.  In other words, the remainder of the time-slice is forfeited, even if no useful work needs to be done in the entire system.  This will bring CPU consumption down to almost zero.  The disadvantages are that a) the CPU consumption will actually be slightly above zero, b) the machine will not be able to go to some low-power sleep mode, and c) your worker thread will be slightly less responsive: it will pick up work to do only on a timeslice boundary.</p>\n</li>\n<li><p>The best way to solve your problem is by using the <em>synchronization</em> mechanism built into java, as explained in this answer: <a href=\"https://stackoverflow.com/a/5999146/773113\">https://stackoverflow.com/a/5999146/773113</a>  This will not only consume zero CPU, but it will even allow the machine to go into a low power mode while waiting.</p>\n</li>\n<li><p>To solve your problem for the most general case, where you don't want to just wait until a condition, but to actually also pass information about the work that has been done or work which is to be done, you would use a <code>BlockingQueue</code>.  (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html</a>)  The blocking queue works using the java built-in synchronization mechanism <em>and</em> allows one thread to pass information to another.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491564763,"creation_date":1491564763,"answer_id":43277072,"question_id":43271626,"body_markdown":"There&#39;s already a great answer by @MikeNakis, but I feel inclined to offer another option as well.\r\n\r\nThis option however involves changing the Manager API to return a **Future**.\r\n\r\nThe changes to Manager I would propose are these :\r\n\r\n- drop the `getRequestStatus()` method\r\n- make `getRequestResponse()` return `Future&lt;Integer&gt;`\r\n\r\nwith these changes in place `MyRunnable`&#39;s `run()` method can change to :\r\n\r\n    public void run() {     \r\n        try {\r\n            Random rand = new Random();\r\n            int  n = rand.nextInt(35);\r\n            String requestId = UUID.randomUUID().toString();\r\n            managerObj.registerRequest(requestId, n);\r\n            managerObj.publishMessage(requestId);\r\n\r\n            // Future.get() blocks and waits for the result without consuming CPU\r\n            int response = managerObj.getRequestResponse(requestId).get();\r\n            // do something else\r\n            managerObj.unregisterRequest(requestId);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n\r\nThe easiest way to implement the `Future&lt;&gt;` will likely be using Java&#39;s [`java.util.concurrent.FutureTask`][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html","title":"Java ExecutorService:- Notify a thread to wake up when an event occurs","body":"<p>There's already a great answer by @MikeNakis, but I feel inclined to offer another option as well.</p>\n\n<p>This option however involves changing the Manager API to return a <strong>Future</strong>.</p>\n\n<p>The changes to Manager I would propose are these :</p>\n\n<ul>\n<li>drop the <code>getRequestStatus()</code> method</li>\n<li>make <code>getRequestResponse()</code> return <code>Future&lt;Integer&gt;</code></li>\n</ul>\n\n<p>with these changes in place <code>MyRunnable</code>'s <code>run()</code> method can change to :</p>\n\n<pre><code>public void run() {     \n    try {\n        Random rand = new Random();\n        int  n = rand.nextInt(35);\n        String requestId = UUID.randomUUID().toString();\n        managerObj.registerRequest(requestId, n);\n        managerObj.publishMessage(requestId);\n\n        // Future.get() blocks and waits for the result without consuming CPU\n        int response = managerObj.getRequestResponse(requestId).get();\n        // do something else\n        managerObj.unregisterRequest(requestId);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n\n<p>The easiest way to implement the <code>Future&lt;&gt;</code> will likely be using Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/FutureTask.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.FutureTask</code></a>.</p>\n"}],"owner":{"account_id":1446301,"reputation":4889,"user_id":1364646,"accept_rate":65,"display_name":"Anurag Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":43272125,"answer_count":2,"score":3,"last_activity_date":1699466148,"creation_date":1491548434,"question_id":43271626,"body_markdown":"I have a Manager class to which multiple threads register themselves (used `UUID` to generate unique identifiers per requests), gives payload to process and get their corresponding responses from the manager. I am using `java.util.concurrent.ExecutorService` to launch multiple threads. Here is an implementation for testing my Manager functionality- \r\n\r\n    public class ManagerTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tManager myManager = new Manager();\r\n                // Start listening to the messages from different threads\r\n    \t\t\tmyManager.consumeMessages();\r\n    \t\t\tint num_threads = Integer.parseInt(args[0]);\r\n    \t\t\tExecutorService executor = Executors.newFixedThreadPool(num_threads);\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; num_threads; i++) {\r\n                    // class implementation is given below\r\n    \t\t\t\tRunnable worker = new MyRunnable(myManager);\r\n    \t\t\t\texecutor.execute(worker);\r\n    \t\t\t}\r\n    \t\t\texecutor.shutdown();\r\n    \t\t\t// Wait until all threads are finish\r\n    \t\t\twhile (!executor.isTerminated()) {\r\n    \t \r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;\\nFinished all threads&quot;);\r\n\r\n    \t\t\tmyManager.closeConnection();\r\n    \t\t\r\n    \t\t} catch (IOException | TimeoutException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere is the implementation of `MyRunnable` class\r\n\r\n    class MyRunnable implements Runnable {\r\n    \tprivate Manager managerObj;\r\n    \tpublic MyRunnable(Manager managerObj) {\r\n    \t\tthis.managerObj = managerObj;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\t\t\r\n    \t\ttry {\r\n    \t\t\tRandom rand = new Random();\r\n    \t\t\tint  n = rand.nextInt(35);\r\n    \t\t\tString requestId = UUID.randomUUID().toString();\r\n    \t\t\tmanagerObj.registerRequest(requestId, n);\r\n    \t\t\tmanagerObj.publishMessage(requestId);\r\n                // Want to avoid this while loop\r\n    \t\t\twhile( ! managerObj.getRequestStatus(requestId)){\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tint response = managerObj.getRequestResponse(requestId);\r\n    \t\t\t// do something else\r\n    \t\t\tmanagerObj.unregisterRequest(requestId);\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe manager will process requests and depending on the payload the response of a request can take varying amount of time. Whenever manager gets the response it sets the requests status to true by calling this function `setRequestStatus(requestId)`. After this the thread will exit from the `while loop` and continues its execution.\r\n\r\nThe code if working fine, but the thread is doing too much work then needed by continuously looping over the while loop until the condition is met. \r\n\r\nIs their a way to make a thread sleep after sending the requests to the manager, and manager signals this thread to wake up when its response is ready. \r\n\r\nPardon me if this sounds too simple to someone, I am a newbie to java and java-threading interface.","title":"Java ExecutorService:- Notify a thread to wake up when an event occurs","body":"<p>I have a Manager class to which multiple threads register themselves (used <code>UUID</code> to generate unique identifiers per requests), gives payload to process and get their corresponding responses from the manager. I am using <code>java.util.concurrent.ExecutorService</code> to launch multiple threads. Here is an implementation for testing my Manager functionality- </p>\n\n<pre><code>public class ManagerTest {\n    public static void main(String[] args) {\n        try {\n            Manager myManager = new Manager();\n            // Start listening to the messages from different threads\n            myManager.consumeMessages();\n            int num_threads = Integer.parseInt(args[0]);\n            ExecutorService executor = Executors.newFixedThreadPool(num_threads);\n\n            for (int i = 0; i &lt; num_threads; i++) {\n                // class implementation is given below\n                Runnable worker = new MyRunnable(myManager);\n                executor.execute(worker);\n            }\n            executor.shutdown();\n            // Wait until all threads are finish\n            while (!executor.isTerminated()) {\n\n            }\n            System.out.println(\"\\nFinished all threads\");\n\n            myManager.closeConnection();\n\n        } catch (IOException | TimeoutException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the implementation of <code>MyRunnable</code> class</p>\n\n<pre><code>class MyRunnable implements Runnable {\n    private Manager managerObj;\n    public MyRunnable(Manager managerObj) {\n        this.managerObj = managerObj;\n    }\n\n    @Override\n    public void run() {     \n        try {\n            Random rand = new Random();\n            int  n = rand.nextInt(35);\n            String requestId = UUID.randomUUID().toString();\n            managerObj.registerRequest(requestId, n);\n            managerObj.publishMessage(requestId);\n            // Want to avoid this while loop\n            while( ! managerObj.getRequestStatus(requestId)){\n\n            }\n            int response = managerObj.getRequestResponse(requestId);\n            // do something else\n            managerObj.unregisterRequest(requestId);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>The manager will process requests and depending on the payload the response of a request can take varying amount of time. Whenever manager gets the response it sets the requests status to true by calling this function <code>setRequestStatus(requestId)</code>. After this the thread will exit from the <code>while loop</code> and continues its execution.</p>\n\n<p>The code if working fine, but the thread is doing too much work then needed by continuously looping over the while loop until the condition is met. </p>\n\n<p>Is their a way to make a thread sleep after sending the requests to the manager, and manager signals this thread to wake up when its response is ready. </p>\n\n<p>Pardon me if this sounds too simple to someone, I am a newbie to java and java-threading interface.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1699469194,"post_id":77447704,"comment_id":136536820,"body_markdown":"Ultimately, I believe that your model is incorrect.  Does it make sense that every Child is a Parent?   Every child HAS a parent, but not every child IS A parent.  Read up on favoring composition over inheritance.","body":"Ultimately, I believe that your model is incorrect.  Does it make sense that every Child is a Parent?   Every child HAS a parent, but not every child IS A parent.  Read up on favoring composition over inheritance."},{"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"score":0,"creation_date":1699470758,"post_id":77447704,"comment_id":136537097,"body_markdown":"@lane.maxwell - In my use case, Parent class has &#39;X&#39; behavior and Child class has &#39;X+Y&#39; behavior. Based on the type of request I need to decide if &#39;X&#39; or &#39;X+Y&#39; . Does it not make sense to use inheritance in such a scenario?","body":"@lane.maxwell - In my use case, Parent class has &#39;X&#39; behavior and Child class has &#39;X+Y&#39; behavior. Based on the type of request I need to decide if &#39;X&#39; or &#39;X+Y&#39; . Does it not make sense to use inheritance in such a scenario?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1699475735,"post_id":77447704,"comment_id":136537967,"body_markdown":"I would not use inheritance for this; I would use composition.  There isn&#39;t enough space in these comments to elaborate on why composition is a better approach, and it&#39;s off-topic for the question, so it doesn&#39;t warrant an answer, but take some time exploring Google for `composition over inheritance`.  Define an interface that contains the behavior you want from the Parent, have the Parent implement that interface, and inject that Interface into your Child.","body":"I would not use inheritance for this; I would use composition.  There isn&#39;t enough space in these comments to elaborate on why composition is a better approach, and it&#39;s off-topic for the question, so it doesn&#39;t warrant an answer, but take some time exploring Google for <code>composition over inheritance</code>.  Define an interface that contains the behavior you want from the Parent, have the Parent implement that interface, and inject that Interface into your Child."}],"answers":[{"tags":[],"owner":{"account_id":29857313,"reputation":26,"user_id":22881850,"display_name":"Megha Dogra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699464755,"creation_date":1699464755,"answer_id":77447751,"question_id":77447704,"body_markdown":"Here you can see you have two beans of same type so spring is unable to differntaiate which one to inject first . As per solution you said is right we can use @primary annotation as well to solve this issue. By tht spring will be able to undersatnd which one is primary or which one should be injected first . or we can use @Autowire under @qualifer annotaion to specify which bean name you want to inject.","title":"Spring @Component annotation on both Parent and Child class","body":"<p>Here you can see you have two beans of same type so spring is unable to differntaiate which one to inject first . As per solution you said is right we can use @primary annotation as well to solve this issue. By tht spring will be able to undersatnd which one is primary or which one should be injected first . or we can use @Autowire under @qualifer annotaion to specify which bean name you want to inject.</p>\n"},{"tags":[],"owner":{"account_id":7780793,"reputation":25,"user_id":5887268,"display_name":"Daniel Jabłoński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699466124,"creation_date":1699464758,"answer_id":77447752,"question_id":77447704,"body_markdown":"make Parent class abstract:\r\n\r\n    @Component\r\n    public abstract class Parent {}\r\n    \r\n    @Component\r\n    @Profile(&quot;profileOneName&quot;)\r\n    public class ChildProfileOne extends Parent{}\r\n    \r\n    @Component\r\n    @Profile(&quot;profileTwoName&quot;)\r\n    public class ChildProfileTwo extends Parent{}","title":"Spring @Component annotation on both Parent and Child class","body":"<p>make Parent class abstract:</p>\n<pre><code>@Component\npublic abstract class Parent {}\n\n@Component\n@Profile(&quot;profileOneName&quot;)\npublic class ChildProfileOne extends Parent{}\n\n@Component\n@Profile(&quot;profileTwoName&quot;)\npublic class ChildProfileTwo extends Parent{}\n</code></pre>\n"}],"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77447751,"answer_count":2,"score":0,"last_activity_date":1699466124,"creation_date":1699464194,"question_id":77447704,"body_markdown":"I am working on a spring boot application where I have a Parent and a Child class where Child extends Parent class. I am using `@Component` annotation for both the classes so as to be able to manage their instances by Spring. \r\n    \r\n    @Component\r\n    public class Parent {}\r\n\r\n    @Component\r\n    public class Child extends Parent{}\r\n\r\nThis results in a `NoUniqueBeanDefinitionException` \r\n`org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;com.example.Parent&#39; available: expected single matching bean but found 2: Parent,Child`\r\n\r\nUsing `@Primary` on the Parent class solves the issue but am wondering what is the best practice or recommended way to follow in the above scenario?\r\n\r\nEdit: The Parent class already exists and is being injected in multiple classes already using `@Resource(type = Parent.class)`. I am adding the Child class newly and would prefer to not modify the existing code as much as possible.","title":"Spring @Component annotation on both Parent and Child class","body":"<p>I am working on a spring boot application where I have a Parent and a Child class where Child extends Parent class. I am using <code>@Component</code> annotation for both the classes so as to be able to manage their instances by Spring.</p>\n<pre><code>@Component\npublic class Parent {}\n\n@Component\npublic class Child extends Parent{}\n</code></pre>\n<p>This results in a <code>NoUniqueBeanDefinitionException</code>\n<code>org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'com.example.Parent' available: expected single matching bean but found 2: Parent,Child</code></p>\n<p>Using <code>@Primary</code> on the Parent class solves the issue but am wondering what is the best practice or recommended way to follow in the above scenario?</p>\n<p>Edit: The Parent class already exists and is being injected in multiple classes already using <code>@Resource(type = Parent.class)</code>. I am adding the Child class newly and would prefer to not modify the existing code as much as possible.</p>\n"},{"tags":["java","hibernate","session","transactions","entitymanager"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":1,"creation_date":1699467857,"post_id":77447807,"comment_id":136536591,"body_markdown":"Have you tried batch inserts instead of writing in parallel?","body":"Have you tried batch inserts instead of writing in parallel?"},{"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"score":0,"creation_date":1699481518,"post_id":77447807,"comment_id":136538943,"body_markdown":"No, I will give a try. But how can I tell the entityManager which is injected by annotation to make batch inserts?","body":"No, I will give a try. But how can I tell the entityManager which is injected by annotation to make batch inserts?"},{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":0,"creation_date":1699556820,"post_id":77447807,"comment_id":136550442,"body_markdown":"You are probably looking for this tutorial - https://www.baeldung.com/jpa-hibernate-batch-insert-update.","body":"You are probably looking for this tutorial - <a href=\"https://www.baeldung.com/jpa-hibernate-batch-insert-update\" rel=\"nofollow noreferrer\">baeldung.com/jpa-hibernate-batch-insert-update</a>."}],"owner":{"account_id":29709751,"reputation":11,"user_id":22769710,"display_name":"sensen ol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699465561,"creation_date":1699465233,"question_id":77447807,"body_markdown":"I want to write parallel into database in J2EE.\r\nIn DB, there are some triggers fired which checks data consistency, that&#39;s why I want to run it parallel.\r\n\r\nImportant is that same transaction is used, because in case of an error of any thread the transaction should be rollbacked and no partially data is persisted.\r\n\r\n1. This is not working parallel. Maybe using of parallel multiple entity managers inside a transaction is not possible?\r\n\r\n        @Stateless\r\n        @Local\r\n        @TransactionManagement(TransactionManagementType.BEAN)\r\n        public class ParallelBean {\r\n        \r\n        private static ThreadPoolExecutor executor;\r\n        \r\n        @Resource\r\n        private SessionContext sessionContext;\r\n        \r\n        private ThreadLocal&lt;EntityManager&gt; threadLocal = new ThreadLocal&lt;EntityManager&gt;();\r\n        \r\n        @PersistenceUnit(unitName = &quot;BASE_&quot;)\r\n        private EntityManagerFactory entityManagerFactory;\r\n        \r\n        public void writeParallel() {\r\n        \t\tUserTransaction beginTransaction = sessionContext.getUserTransaction();\r\n        \t\tbeginTransaction.begin();\r\n        \t\tMap&lt;Integer, EntityManager&gt; map = new HashMap&lt;&gt;();\r\n        \t\tfor (int i = 0; i &lt; 6; i++) {\r\n        \t\t\tEntityManager em = entityManagerFactory.createEntityManager();\r\n        \t\t\tem.joinTransaction();\r\n        \t\t\tmap.put(i, em);\r\n        \t\t}\r\n        \t\tfinal List&lt;Future&lt;?&gt;&gt; futureElements = new ArrayList&lt;&gt;();\r\n        \t\tfor (int i = 0; i &lt; 6; i++) {\r\n        \t\t\tfinal int a = i;\r\n        \t\t\tfutureElements.add(executor.submit(() -&gt; {\r\n        \t\t\t\tEntityManager entityManager = map.get(a);\r\n        \t\t\t\tthreadLocal.set(entityManager);\r\n        \t\t\t    createEntity();\r\n        \t\t\t}));\r\n        \t\t}\r\n        \r\n        \t\treadResults(futureElements);\r\n        \t\tbeginTransaction.commit();\r\n        \t}\r\n        \r\n        \t@Transactional(value = TxType.REQUIRED)\r\n        \tpublic void createEntity() throws NotSupportedException, SystemException {\r\n        \t\tDummyBusinessEntity newEntity = new DummyBusinessEntity ();\r\n        \t\tthreadLocal.get().persist(newEntity);\r\n        \t}\r\n        }\r\n\r\n2. This is working parallel, but makes a commit after each insert which leads in case of error to inconsistent data\r\n\r\n\r\n        @Stateless\r\n        @Local\r\n        @TransactionManagement(TransactionManagementType.BEAN)\r\n        public class ParallelBean {\r\n        \r\n    \tprivate static ThreadPoolExecutor executor;\r\n    \r\n        @Resource\r\n        private SessionContext sessionContext;\r\n    \r\n    \t@PersistenceUnit(unitName = &quot;BASE_&quot;)\r\n    \tprivate EntityManagerFactory entityManagerFactory;\r\n        \r\n        public void writeParallel() {\r\n        \t\tUserTransaction beginTransaction = sessionContext.getUserTransaction();\r\n        \t\tbeginTransaction.begin();\r\n    \r\n        \t\tfinal List&lt;Future&lt;?&gt;&gt; futureElements = new ArrayList&lt;&gt;();\r\n        \t\tfor (int i = 0; i &lt; 6; i++) {\r\n        \t\t\tfinal int a = i;\r\n        \t\t\tfutureElements.add(executor.submit(() -&gt; {\r\n        \t\t\t    createEntity();\r\n        \t\t\t}));\r\n        \t\t}\r\n        \r\n        \t\treadResults(futureElements);\r\n        \t\tbeginTransaction.commit();\r\n        \t}\r\n        \r\n        \t@Transactional(value = TxType.REQUIRED)\r\n        \tpublic void createEntity() throws NotSupportedException, SystemException {\r\n        \t\tDummyBusinessEntity newEntity = new DummyBusinessEntity ();\r\n                dummyDao.persistData(newEntity);\r\n        \t}\r\n        }\r\n    \r\n        @Stateless\r\n        @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n        @Local\r\n        public class DummyDAO {\r\n        \r\n            @PersistenceContext(unitName = &quot;BASE_&quot;, type = PersistenceContextType.TRANSACTION)\r\n            protected EntityManager em;\r\n        \r\n        \r\n            public void persistData(DummyBE entity) {\r\n                em.persist(entity);\r\n            }\r\n        }\r\n","title":"Multithreading in Hibernate environment does not working","body":"<p>I want to write parallel into database in J2EE.\nIn DB, there are some triggers fired which checks data consistency, that's why I want to run it parallel.</p>\n<p>Important is that same transaction is used, because in case of an error of any thread the transaction should be rollbacked and no partially data is persisted.</p>\n<ol>\n<li><p>This is not working parallel. Maybe using of parallel multiple entity managers inside a transaction is not possible?</p>\n<pre><code> @Stateless\n @Local\n @TransactionManagement(TransactionManagementType.BEAN)\n public class ParallelBean {\n\n private static ThreadPoolExecutor executor;\n\n @Resource\n private SessionContext sessionContext;\n\n private ThreadLocal&lt;EntityManager&gt; threadLocal = new ThreadLocal&lt;EntityManager&gt;();\n\n @PersistenceUnit(unitName = &quot;BASE_&quot;)\n private EntityManagerFactory entityManagerFactory;\n\n public void writeParallel() {\n         UserTransaction beginTransaction = sessionContext.getUserTransaction();\n         beginTransaction.begin();\n         Map&lt;Integer, EntityManager&gt; map = new HashMap&lt;&gt;();\n         for (int i = 0; i &lt; 6; i++) {\n             EntityManager em = entityManagerFactory.createEntityManager();\n             em.joinTransaction();\n             map.put(i, em);\n         }\n         final List&lt;Future&lt;?&gt;&gt; futureElements = new ArrayList&lt;&gt;();\n         for (int i = 0; i &lt; 6; i++) {\n             final int a = i;\n             futureElements.add(executor.submit(() -&gt; {\n                 EntityManager entityManager = map.get(a);\n                 threadLocal.set(entityManager);\n                 createEntity();\n             }));\n         }\n\n         readResults(futureElements);\n         beginTransaction.commit();\n     }\n\n     @Transactional(value = TxType.REQUIRED)\n     public void createEntity() throws NotSupportedException, SystemException {\n         DummyBusinessEntity newEntity = new DummyBusinessEntity ();\n         threadLocal.get().persist(newEntity);\n     }\n }\n</code></pre>\n</li>\n<li><p>This is working parallel, but makes a commit after each insert which leads in case of error to inconsistent data</p>\n<pre><code> @Stateless\n @Local\n @TransactionManagement(TransactionManagementType.BEAN)\n public class ParallelBean {\n\n private static ThreadPoolExecutor executor;\n\n @Resource\n private SessionContext sessionContext;\n\n @PersistenceUnit(unitName = &quot;BASE_&quot;)\n private EntityManagerFactory entityManagerFactory;\n\n public void writeParallel() {\n         UserTransaction beginTransaction = sessionContext.getUserTransaction();\n         beginTransaction.begin();\n\n         final List&lt;Future&lt;?&gt;&gt; futureElements = new ArrayList&lt;&gt;();\n         for (int i = 0; i &lt; 6; i++) {\n             final int a = i;\n             futureElements.add(executor.submit(() -&gt; {\n                 createEntity();\n             }));\n         }\n\n         readResults(futureElements);\n         beginTransaction.commit();\n     }\n\n     @Transactional(value = TxType.REQUIRED)\n     public void createEntity() throws NotSupportedException, SystemException {\n         DummyBusinessEntity newEntity = new DummyBusinessEntity ();\n         dummyDao.persistData(newEntity);\n     }\n }\n\n @Stateless\n @TransactionAttribute(TransactionAttributeType.REQUIRED)\n @Local\n public class DummyDAO {\n\n     @PersistenceContext(unitName = &quot;BASE_&quot;, type = PersistenceContextType.TRANSACTION)\n     protected EntityManager em;\n\n\n     public void persistData(DummyBE entity) {\n         em.persist(entity);\n     }\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":2,"creation_date":1539856725,"post_id":52871449,"comment_id":92656507,"body_markdown":"Please post your project structure.","body":"Please post your project structure."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1539856875,"post_id":52871449,"comment_id":92656597,"body_markdown":"Use `@Controller`. `@RestController` will return the response as is.","body":"Use <code>@Controller</code>. <code>@RestController</code> will return the response as is."},{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1539857503,"post_id":52871449,"comment_id":92656961,"body_markdown":"@RestController is the culprit. :)","body":"@RestController is the culprit. :)"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1539860232,"post_id":52871449,"comment_id":92658385,"body_markdown":"Pa tison, You told me that you want to use jsp page, that&#39;s why I added new answer","body":"Pa tison, You told me that you want to use jsp page, that&#39;s why I added new answer"}],"answers":[{"tags":[],"owner":{"account_id":5783334,"reputation":360,"user_id":4563347,"display_name":"Mohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699465258,"creation_date":1539856935,"answer_id":52871582,"question_id":52871449,"body_markdown":"Have you configured the Spring MVC?\r\n\r\nUse Spring MVC InternalResourceViewResolver by adding this in spring configuration file:\r\n\r\n    &lt;bean id=&quot;viewResolver&quot;\r\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;&gt;&lt;/property&gt;\r\n     &lt;/bean&gt;\r\n \r\nand only return &quot;customer&quot; in the controller\r\n\r\nIn your annotation-driven configuration the InternalResourceViewResolver should be set in the configuration class which extends WebMvcConfigurerAdapter like such:\r\n\r\n    @Bean\r\n    public ViewResolver getViewResolver(){\r\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n        resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        return resolver;\r\n    }\r\n\r\n\r\nThese two lines will do all the magic.\r\n \r\n      resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\r\n      resolver.setSuffix(&quot;.html&quot;);\r\n\r\nwhere it will set the customer to customer.html and your pages should be in /WEB-INF/pages/.\r\n\r\n\r\nIf you are using Spring boot add these two properties in application.properties,\r\n\r\n\r\n      spring.mvc.view.prefix=/view/\r\n      spring.mvc.view.suffix=.jsp\r\n\r\nand also add these two dependencies.\r\n\r\n     &lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nviews named as customer.html placed in src/main/resources/templates.\r\n\r\nFollow this answer to complete understanding.\r\nhttps://stackoverflow.com/questions/36100212/by-default-where-does-spring-boot-expect-views-to-be-stored","title":"Spring return String but must return html","body":"<p>Have you configured the Spring MVC?</p>\n<p>Use Spring MVC InternalResourceViewResolver by adding this in spring configuration file:</p>\n<pre><code>&lt;bean id=&quot;viewResolver&quot;\n    class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;&gt;&lt;/property&gt;\n &lt;/bean&gt;\n</code></pre>\n<p>and only return &quot;customer&quot; in the controller</p>\n<p>In your annotation-driven configuration the InternalResourceViewResolver should be set in the configuration class which extends WebMvcConfigurerAdapter like such:</p>\n<pre><code>@Bean\npublic ViewResolver getViewResolver(){\n    InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n    resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\n    resolver.setSuffix(&quot;.html&quot;);\n    return resolver;\n}\n</code></pre>\n<p>These two lines will do all the magic.</p>\n<pre><code>  resolver.setPrefix(&quot;/WEB-INF/pages/&quot;);\n  resolver.setSuffix(&quot;.html&quot;);\n</code></pre>\n<p>where it will set the customer to customer.html and your pages should be in /WEB-INF/pages/.</p>\n<p>If you are using Spring boot add these two properties in application.properties,</p>\n<pre><code>  spring.mvc.view.prefix=/view/\n  spring.mvc.view.suffix=.jsp\n</code></pre>\n<p>and also add these two dependencies.</p>\n<pre><code> &lt;dependency&gt;\n&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>views named as customer.html placed in src/main/resources/templates.</p>\n<p>Follow this answer to complete understanding.\n<a href=\"https://stackoverflow.com/questions/36100212/by-default-where-does-spring-boot-expect-views-to-be-stored\">By default, where does Spring Boot expect views to be stored?</a></p>\n"},{"tags":[],"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1539860150,"creation_date":1539860150,"answer_id":52872420,"question_id":52871449,"body_markdown":"If you want to use jsp then create a folder\r\n\r\n    main -&gt; \r\n          webapp -&gt; \r\n            WEB-INF-&gt; \r\n              views\r\nPut your jsp page inside `views` folder. \r\nNow in your `application.properties` add these lines\r\n\r\n    spring.mvc.view.prefix:/WEB-INF/views/\r\n    spring.mvc.view.suffix:.jsp\r\n\r\nNow in your `pom.xml` add these dependenct\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring return String but must return html","body":"<p>If you want to use jsp then create a folder</p>\n\n<pre><code>main -&gt; \n      webapp -&gt; \n        WEB-INF-&gt; \n          views\n</code></pre>\n\n<p>Put your jsp page inside <code>views</code> folder. \nNow in your <code>application.properties</code> add these lines</p>\n\n<pre><code>spring.mvc.view.prefix:/WEB-INF/views/\nspring.mvc.view.suffix:.jsp\n</code></pre>\n\n<p>Now in your <code>pom.xml</code> add these dependenct</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14569514,"reputation":3,"user_id":10523213,"display_name":"Pa tison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":52872420,"answer_count":2,"score":-5,"last_activity_date":1699465258,"creation_date":1539856431,"question_id":52871449,"body_markdown":"    @RestController\r\n    public class ControllerCustomer {\r\n        @RequestMapping(&quot;customer&quot;)\r\n        public String customer(){\r\n            return &quot;customer&quot;;\r\n        }\r\n\r\nFile customer.html in template folder\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNdRm.png","title":"Spring return String but must return html","body":"<pre><code>@RestController\npublic class ControllerCustomer {\n    @RequestMapping(\"customer\")\n    public String customer(){\n        return \"customer\";\n    }\n</code></pre>\n\n<p>File customer.html in template folder</p>\n\n<p><a href=\"https://i.stack.imgur.com/WNdRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNdRm.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","review","google-my-business-api","google-my-business"],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699464749,"creation_date":1699464749,"answer_id":77447748,"question_id":77447501,"body_markdown":"I found another way to get the review setting up a request to the Google My Business API using the OkHttp client, but still I am interested to know what is the Maven dependency. Here is what I did:\r\n\r\n\r\n \r\n\r\n    String accessToken = &quot;your_access_token&quot;;\r\n    \r\n            // Construct the URL\r\n            String url = &quot;https://mybusiness.googleapis.com/v4/accounts/&quot; + ACCOUNT_ID + \r\n                         &quot;/locations/&quot; + LOCATION_ID + &quot;/reviews/&quot; + REVIEW_ID;\r\n    \r\n                // Create an instance of OkHttpClient\r\n                OkHttpClient client = new OkHttpClient();\r\n        \r\n                // Build the request, adding the required headers\r\n                Request request = new Request.Builder()\r\n                        .url(url)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken)\r\n                        .build();\r\n        \r\n                // Execute the request\r\n                try (Response response = client.newCall(request).execute()) {\r\n                    // Check if the response was successful\r\n                    if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                        // Extract the response body as a string\r\n                        String responseBody = response.body().string();\r\n                        System.out.println(responseBody);\r\n                    } else {\r\n                        // If the response was not successful, handle it appropriately\r\n                        System.out.println(&quot;Response not successful: &quot; + response);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }","title":"What is the maven dependency for Google My Business V4 API in order to read reviews?","body":"<p>I found another way to get the review setting up a request to the Google My Business API using the OkHttp client, but still I am interested to know what is the Maven dependency. Here is what I did:</p>\n<pre><code>String accessToken = &quot;your_access_token&quot;;\n\n        // Construct the URL\n        String url = &quot;https://mybusiness.googleapis.com/v4/accounts/&quot; + ACCOUNT_ID + \n                     &quot;/locations/&quot; + LOCATION_ID + &quot;/reviews/&quot; + REVIEW_ID;\n\n            // Create an instance of OkHttpClient\n            OkHttpClient client = new OkHttpClient();\n    \n            // Build the request, adding the required headers\n            Request request = new Request.Builder()\n                    .url(url)\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken)\n                    .build();\n    \n            // Execute the request\n            try (Response response = client.newCall(request).execute()) {\n                // Check if the response was successful\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    // Extract the response body as a string\n                    String responseBody = response.body().string();\n                    System.out.println(responseBody);\n                } else {\n                    // If the response was not successful, handle it appropriately\n                    System.out.println(&quot;Response not successful: &quot; + response);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n</code></pre>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699464749,"creation_date":1699462452,"question_id":77447501,"body_markdown":"Using this documentation [accounts.locations.reviews.get][1] I am trying to read the specific review in `JAVA 18`, The problem is that I do not find the Maven Dependency for this Old API that is not deprecated yet.  \r\nBefore I used to do \r\n\r\n    \tMyBusiness.Accounts.Locations.Reviews.Get myReview= mybusiness.accounts().locations().reviews().get(reviewName);\r\n\t\t\tReview response=myReview.execute();\r\n\r\nNow even I am not able to initialise the API! \r\n\r\nI tried to add to pom.xml:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;google-api-services-mybusiness&lt;/artifactId&gt;\r\n    &lt;version&gt;v4-rev20211101-1.32.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\nbut it does not accept and there is an error: \r\n\r\n\r\n&gt; Missing artifact com.google.apis:google-api-services-mybusiness:jar:v4-rev20211101-1.32.1\r\n\r\nWhat I can do?\r\n\r\n\r\n  [1]: https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/get\r\n  [2]: https://i.stack.imgur.com/lOqEM.png","title":"What is the maven dependency for Google My Business V4 API in order to read reviews?","body":"<p>Using this documentation <a href=\"https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/get\" rel=\"nofollow noreferrer\">accounts.locations.reviews.get</a> I am trying to read the specific review in <code>JAVA 18</code>, The problem is that I do not find the Maven Dependency for this Old API that is not deprecated yet.<br />\nBefore I used to do</p>\n<pre><code>    MyBusiness.Accounts.Locations.Reviews.Get myReview= mybusiness.accounts().locations().reviews().get(reviewName);\n        Review response=myReview.execute();\n</code></pre>\n<p>Now even I am not able to initialise the API!</p>\n<p>I tried to add to pom.xml:</p>\n<p><a href=\"https://i.stack.imgur.com/lOqEM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lOqEM.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n&lt;artifactId&gt;google-api-services-mybusiness&lt;/artifactId&gt;\n&lt;version&gt;v4-rev20211101-1.32.1&lt;/version&gt;\n</code></pre>\n\nbut it does not accept and there is an error: \n<blockquote>\n<p>Missing artifact com.google.apis:google-api-services-mybusiness:jar:v4-rev20211101-1.32.1</p>\n</blockquote>\n<p>What I can do?</p>\n"},{"tags":["java","android","xml","android-fragments"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1651962686,"post_id":72156771,"comment_id":127491694,"body_markdown":"Does this answer your question? [java.lang.IllegalStateException: Fragment no longer exists for key f1: index 3](https://stackoverflow.com/questions/11756102/java-lang-illegalstateexception-fragment-no-longer-exists-for-key-f1-index-3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11756102/java-lang-illegalstateexception-fragment-no-longer-exists-for-key-f1-index-3\">java.lang.IllegalStateException: Fragment no longer exists for key f1: index 3</a>"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1651965418,"post_id":72156771,"comment_id":127492034,"body_markdown":"Your fragment should never, ever, ever, ever be calling `getActivity().setContentView(R.layout.main_fragment);` - it should be returning its own view via `onCreateView` or by using the `Fragment(@LayoutResId)` super constructor. What are you trying to do with that?","body":"Your fragment should never, ever, ever, ever be calling <code>getActivity().setContentView(R.layout.main_fragment);</code> - it should be returning its own view via <code>onCreateView</code> or by using the <code>Fragment(@LayoutResId)</code> super constructor. What are you trying to do with that?"}],"answers":[{"tags":[],"owner":{"account_id":11212736,"reputation":341,"user_id":8226352,"display_name":"Rajalakshmi Arumugam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666335469,"creation_date":1666335469,"answer_id":74149821,"question_id":72156771,"body_markdown":"There is an issue with viewpager2 detach from recyclerview\r\nhttps://issuetracker.google.com/issues/154751401\r\n\r\nAs per my knowledge two fixes are there:\r\n\r\n 1. add this line in your xml viewpager2 component. \r\n\r\n           &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:layout_below=&quot;@id/tabBar&quot;\r\n            android:id=&quot;@+id/pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:saveEnabled=&quot;false&quot;&gt;\r\n \r\nBut the above one don&#39;t save the current instance, which the fragment will recreate each time it pops back.\r\n\r\n 2. The recommended solution is add the below line on your mainfragment\r\n\r\n         override fun onDestroyView() {\r\n            super.onDestroyView()\r\n            viewPager.adapter = null\r\n        }\r\n\r\n\r\n\r\n","title":"Android ViewPager 2 - Fragment no longer exists for key","body":"<p>There is an issue with viewpager2 detach from recyclerview\n<a href=\"https://issuetracker.google.com/issues/154751401\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/154751401</a></p>\n<p>As per my knowledge two fixes are there:</p>\n<ol>\n<li><p>add this line in your xml viewpager2 component.</p>\n<pre><code>   &lt;androidx.viewpager2.widget.ViewPager2\n    android:layout_below=&quot;@id/tabBar&quot;\n    android:id=&quot;@+id/pager&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;1&quot;\n    android:saveEnabled=&quot;false&quot;&gt;\n</code></pre>\n</li>\n</ol>\n<p>But the above one don't save the current instance, which the fragment will recreate each time it pops back.</p>\n<ol start=\"2\">\n<li><p>The recommended solution is add the below line on your mainfragment</p>\n<pre><code> override fun onDestroyView() {\n    super.onDestroyView()\n    viewPager.adapter = null\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":16879198,"reputation":509,"user_id":12424975,"display_name":"Samuele B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2111,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1699464301,"creation_date":1651962499,"question_id":72156771,"body_markdown":"I have an app in which a main fragment contains a tab layout tied to a ViewPager2 in order to navigate between three different fragments. When I rotate my phone&#39;s screen, the app crashes with this error:\r\n\r\nFragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\r\n(complete error stack at the end of the post)\r\n\r\nThis is my setup:\r\n\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:id=&quot;@+id/main_activity_coordinator&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:id=&quot;@+id/app_bar&quot;\r\n        android:theme=&quot;@style/Theme.VirtualGymBuddy.AppBarOverlay&quot;\r\n    &gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:title=&quot;@string/app_name&quot; /&gt;\r\n\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:tag=&quot;MAIN-FRAG&quot;\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:navGraph=&quot;@navigation/nav_graph&quot;\r\n        /&gt;\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nmain_fragment.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:tag=&quot;MAIN-FRAG&quot;\r\n    android:id=&quot;@+id/main_relative_layout&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:paddingTop=&quot;?attr/actionBarSize&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:tabTextAppearance=&quot;@style/MyTabLayoutStyle&quot;\r\n        &gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tab1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/tab1&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tab2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/tab2&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabItem\r\n            android:id=&quot;@+id/tab3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/tab3&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:layout_below=&quot;@id/tabBar&quot;\r\n            android:id=&quot;@+id/pager&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n        /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\ncontent_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/content_main_constraint&quot;\r\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/nav_graph&quot;\r\n        /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nActivityMain.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private AppBarConfiguration appBarConfiguration;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(null);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n        if (id == R.id.action_settings) {\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\r\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\r\n                || super.onSupportNavigateUp();\r\n    }\r\n\r\n}\r\n```\r\n\r\nMainFragment.java\r\n```\r\npublic class MainFragment extends Fragment {\r\n    private ViewPager2 viewPager;\r\n    private NavigationAdapter navigationAdapter;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        getActivity().setContentView(R.layout.main_fragment);\r\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabBar);\r\n        int[] tabTexts = {\r\n                R.string.tab_1,\r\n                R.string.tab_2,\r\n                R.string.tab_3\r\n        };\r\n\r\n        // set up view pager and attach mediator to tab layout\r\n        this.viewPager = getActivity().findViewById(R.id.pager);\r\n        this.navigationAdapter = new NavigationAdapter(this);\r\n        viewPager.setAdapter(this.navigationAdapter);\r\n        new TabLayoutMediator(tabLayout, viewPager,\r\n                (tab, position) -&gt; tab.setText(\r\n                        tabTexts[position]\r\n                )\r\n        ).attach();\r\n    }\r\n}\r\n```\r\n\r\nNavigationAdapter.java\r\n```\r\npublic class NavigationAdapter extends FragmentStateAdapter {\r\n\r\n\r\n    public NavigationAdapter(@NonNull FragmentActivity fragmentActivity) {\r\n        super(fragmentActivity);\r\n    }\r\n\r\n    public NavigationAdapter(@NonNull Fragment fragment) {\r\n        super(fragment);\r\n    }\r\n\r\n    public NavigationAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n        super(fragmentManager, lifecycle);\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        switch (position) {\r\n            case 0:\r\n                return new Fragment1();\r\n            case 1:\r\n                return new Fragment2();\r\n            case 2:\r\n                return new Fragment3();\r\n\r\n        }\r\n        throw new AssertionError();\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 3;\r\n    }\r\n}\r\n```\r\n\r\nnav_graph.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_graph&quot;\r\n    app:startDestination=&quot;@id/MainFragment&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/MainFragment&quot;\r\n        android:name=&quot;com.myapp.fragments.MainFragment&quot;\r\n        android:label=&quot;@string/first_fragment_label&quot;\r\n        tools:layout=&quot;@layout/main_fragment&quot; /&gt;\r\n&lt;/navigation&gt;\r\n```\r\n\r\nEverything works fine and I can navigate through the fragments handled by ViewPager2.\r\n\r\nHowever, as soon as I rotate the screen inside of one of those fragments, I get this:\r\n\r\n```\r\n2022-05-08 00:08:12.339 12343-12343/com.myapp E/FragmentManager: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\r\n2022-05-08 00:08:12.339 12343-12343/com.myapp E/FragmentManager: Activity state:\r\n2022-05-08 00:08:12.358 12343-12343/com.myapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.myapp, PID: 12343\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp/com.myapp.MainActivity}: java.lang.IllegalStateException: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2827)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2902)\r\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4784)\r\n        at android.app.ActivityThread.-wrap18(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:169)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6578)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n     Caused by: java.lang.IllegalStateException: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\r\n        at androidx.fragment.app.FragmentManager.getFragment(FragmentManager.java:975)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.restoreState(FragmentStateAdapter.java:549)\r\n        at androidx.viewpager2.widget.ViewPager2.restorePendingState(ViewPager2.java:350)\r\n        at androidx.viewpager2.widget.ViewPager2.dispatchRestoreInstanceState(ViewPager2.java:375)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\r\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\r\n        at android.view.View.restoreHierarchyState(View.java:17620)\r\n        at com.android.internal.policy.PhoneWindow.restoreHierarchyState(PhoneWindow.java:2130)\r\n        at android.app.Activity.onRestoreInstanceState(Activity.java:1122)\r\n        at android.app.Activity.performRestoreInstanceState(Activity.java:1077)\r\n        at android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1260)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2800)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2902)&#160;\r\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4784)&#160;\r\n        at android.app.ActivityThread.-wrap18(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n        at android.os.Looper.loop(Looper.java:169)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6578)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\n```\r\n\r\nWhat&#39;s wrong with my setup?","title":"Android ViewPager 2 - Fragment no longer exists for key","body":"<p>I have an app in which a main fragment contains a tab layout tied to a ViewPager2 in order to navigate between three different fragments. When I rotate my phone's screen, the app crashes with this error:</p>\n<p>Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\n(complete error stack at the end of the post)</p>\n<p>This is my setup:</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:id=&quot;@+id/main_activity_coordinator&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n    &lt;com.google.android.material.appbar.AppBarLayout\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:id=&quot;@+id/app_bar&quot;\n        android:theme=&quot;@style/Theme.VirtualGymBuddy.AppBarOverlay&quot;\n    &gt;\n\n        &lt;com.google.android.material.appbar.MaterialToolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;?attr/colorPrimary&quot;\n            app:title=&quot;@string/app_name&quot; /&gt;\n\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n\n    &lt;androidx.fragment.app.FragmentContainerView\n        android:tag=&quot;MAIN-FRAG&quot;\n        android:id=&quot;@+id/nav_host_fragment&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:navGraph=&quot;@navigation/nav_graph&quot;\n        /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>main_fragment.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:tag=&quot;MAIN-FRAG&quot;\n    android:id=&quot;@+id/main_relative_layout&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:paddingTop=&quot;?attr/actionBarSize&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:tabTextAppearance=&quot;@style/MyTabLayoutStyle&quot;\n        &gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=&quot;@+id/tab1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/tab1&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=&quot;@+id/tab2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/tab2&quot; /&gt;\n\n        &lt;com.google.android.material.tabs.TabItem\n            android:id=&quot;@+id/tab3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/tab3&quot; /&gt;\n\n    &lt;/com.google.android.material.tabs.TabLayout&gt;\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:layout_below=&quot;@id/tabBar&quot;\n            android:id=&quot;@+id/pager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n        /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>content_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/content_main_constraint&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_content_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/nav_graph&quot;\n        /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>ActivityMain.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private AppBarConfiguration appBarConfiguration;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(null);\n        setContentView(R.layout.activity_main);\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.menu_main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.action_settings) {\n            return true;\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n        return NavigationUI.navigateUp(navController, appBarConfiguration)\n                || super.onSupportNavigateUp();\n    }\n\n}\n</code></pre>\n<p>MainFragment.java</p>\n<pre><code>public class MainFragment extends Fragment {\n    private ViewPager2 viewPager;\n    private NavigationAdapter navigationAdapter;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        getActivity().setContentView(R.layout.main_fragment);\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabBar);\n        int[] tabTexts = {\n                R.string.tab_1,\n                R.string.tab_2,\n                R.string.tab_3\n        };\n\n        // set up view pager and attach mediator to tab layout\n        this.viewPager = getActivity().findViewById(R.id.pager);\n        this.navigationAdapter = new NavigationAdapter(this);\n        viewPager.setAdapter(this.navigationAdapter);\n        new TabLayoutMediator(tabLayout, viewPager,\n                (tab, position) -&gt; tab.setText(\n                        tabTexts[position]\n                )\n        ).attach();\n    }\n}\n</code></pre>\n<p>NavigationAdapter.java</p>\n<pre><code>public class NavigationAdapter extends FragmentStateAdapter {\n\n\n    public NavigationAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public NavigationAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public NavigationAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position) {\n            case 0:\n                return new Fragment1();\n            case 1:\n                return new Fragment2();\n            case 2:\n                return new Fragment3();\n\n        }\n        throw new AssertionError();\n    }\n\n    @Override\n    public int getItemCount() {\n        return 3;\n    }\n}\n</code></pre>\n<p>nav_graph.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_graph&quot;\n    app:startDestination=&quot;@id/MainFragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/MainFragment&quot;\n        android:name=&quot;com.myapp.fragments.MainFragment&quot;\n        android:label=&quot;@string/first_fragment_label&quot;\n        tools:layout=&quot;@layout/main_fragment&quot; /&gt;\n&lt;/navigation&gt;\n</code></pre>\n<p>Everything works fine and I can navigate through the fragments handled by ViewPager2.</p>\n<p>However, as soon as I rotate the screen inside of one of those fragments, I get this:</p>\n<pre><code>2022-05-08 00:08:12.339 12343-12343/com.myapp E/FragmentManager: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\n2022-05-08 00:08:12.339 12343-12343/com.myapp E/FragmentManager: Activity state:\n2022-05-08 00:08:12.358 12343-12343/com.myapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.myapp, PID: 12343\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp/com.myapp.MainActivity}: java.lang.IllegalStateException: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2827)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2902)\n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4784)\n        at android.app.ActivityThread.-wrap18(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:169)\n        at android.app.ActivityThread.main(ActivityThread.java:6578)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: java.lang.IllegalStateException: Fragment no longer exists for key f#0: unique id c4576c9c-4bbd-4dc0-a304-b86653ed2820\n        at androidx.fragment.app.FragmentManager.getFragment(FragmentManager.java:975)\n        at androidx.viewpager2.adapter.FragmentStateAdapter.restoreState(FragmentStateAdapter.java:549)\n        at androidx.viewpager2.widget.ViewPager2.restorePendingState(ViewPager2.java:350)\n        at androidx.viewpager2.widget.ViewPager2.dispatchRestoreInstanceState(ViewPager2.java:375)\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\n        at android.view.ViewGroup.dispatchRestoreInstanceState(ViewGroup.java:3729)\n        at android.view.View.restoreHierarchyState(View.java:17620)\n        at com.android.internal.policy.PhoneWindow.restoreHierarchyState(PhoneWindow.java:2130)\n        at android.app.Activity.onRestoreInstanceState(Activity.java:1122)\n        at android.app.Activity.performRestoreInstanceState(Activity.java:1077)\n        at android.app.Instrumentation.callActivityOnRestoreInstanceState(Instrumentation.java:1260)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2800)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2902) \n        at android.app.ActivityThread.handleRelaunchActivity(ActivityThread.java:4784) \n        at android.app.ActivityThread.-wrap18(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1609) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:169) \n        at android.app.ActivityThread.main(ActivityThread.java:6578) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n\n</code></pre>\n<p>What's wrong with my setup?</p>\n"},{"tags":["java","hibernate","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1699425373,"post_id":77443097,"comment_id":136528228,"body_markdown":"You can still using native query or register a custom function (https://stackoverflow.com/questions/76631693/hibernate-6-quarkush2dialect-registerfunction-removed)","body":"You can still using native query or register a custom function (<a href=\"https://stackoverflow.com/questions/76631693/hibernate-6-quarkush2dialect-registerfunction-removed\" title=\"hibernate 6 quarkush2dialect registerfunction removed\">stackoverflow.com/questions/76631693/&hellip;</a>)"},{"owner":{"account_id":20206980,"reputation":3,"user_id":14821109,"display_name":"Thai Huynh"},"score":0,"creation_date":1699428353,"post_id":77443097,"comment_id":136528617,"body_markdown":"Thanks Luca, \nI think it has the same root cause with the issue: https://stackoverflow.com/questions/76094543/hibernate-reactive-dto-projection-issue","body":"Thanks Luca,  I think it has the same root cause with the issue: <a href=\"https://stackoverflow.com/questions/76094543/hibernate-reactive-dto-projection-issue\" title=\"hibernate reactive dto projection issue\">stackoverflow.com/questions/76094543/&hellip;</a>"},{"owner":{"account_id":20206980,"reputation":3,"user_id":14821109,"display_name":"Thai Huynh"},"score":0,"creation_date":1699428606,"post_id":77443097,"comment_id":136528645,"body_markdown":"I will try to convert it to STRING_AGG() instead of array_agg. Hope it works!","body":"I will try to convert it to STRING_AGG() instead of array_agg. Hope it works!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1699485474,"post_id":77443097,"comment_id":136539454,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":20206980,"reputation":3,"user_id":14821109,"display_name":"Thai Huynh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699463728,"creation_date":1699463728,"answer_id":77447654,"question_id":77443097,"body_markdown":"Using the Quarkus Reactive PgPool instead of the Panache. \r\n\r\n - The PgPool support **Row** which helps us to convert to several type of PostgreSQL\r\n\r\n&gt; row.getArrayOfStrings(&#39;name of the array_agg column&#39;)\r\n\r\n","title":"How to mapping to Entity an ARRAY_AGG columns with LEFT JOIN","body":"<p>Using the Quarkus Reactive PgPool instead of the Panache.</p>\n<ul>\n<li>The PgPool support <strong>Row</strong> which helps us to convert to several type of PostgreSQL</li>\n</ul>\n<blockquote>\n<p>row.getArrayOfStrings('name of the array_agg column')</p>\n</blockquote>\n"}],"owner":{"account_id":20206980,"reputation":3,"user_id":14821109,"display_name":"Thai Huynh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699463728,"creation_date":1699422470,"question_id":77443097,"body_markdown":"Using the Panache.PanacheEntityBase.find(&quot;query&quot;) to SELECT data from PostgreSQL.\r\n\r\nI do the LEFT JOIN for 2 tables, then use array_agg(&quot;text&quot;) and alias it to a column.\r\n\r\n`SELECT p1_0.unp_status, p1_0.id, array_agg(p2_0.portnumber)`\r\n \r\nThe native SQL is &quot;OK&quot; but when I convert it to Panache syntax and project it to a class.\r\nI got the error: \r\n\r\n    \r\n\r\n&gt; Could not determine appropriate instantiation strategy - no matching\r\n&gt; constructor found and one or more arguments did not define alias for\r\n&gt; bean-injection. \r\n\r\nHow can I mapping that &quot;array_agg&quot; join column to the Entity or ProjectionClass ? \r\n\r\n\r\nI try some ways like : \r\n\r\n- @Transient \r\n- ProjectionClass { \r\n  private Port port;\r\n  private List&lt;String&gt; portnumber;\r\n}`\r\n\r\nBut it still error mapping. \r\n\r\n","title":"How to mapping to Entity an ARRAY_AGG columns with LEFT JOIN","body":"<p>Using the Panache.PanacheEntityBase.find(&quot;query&quot;) to SELECT data from PostgreSQL.</p>\n<p>I do the LEFT JOIN for 2 tables, then use array_agg(&quot;text&quot;) and alias it to a column.</p>\n<p><code>SELECT p1_0.unp_status, p1_0.id, array_agg(p2_0.portnumber)</code></p>\n<p>The native SQL is &quot;OK&quot; but when I convert it to Panache syntax and project it to a class.\nI got the error:</p>\n<blockquote>\n<p>Could not determine appropriate instantiation strategy - no matching\nconstructor found and one or more arguments did not define alias for\nbean-injection.</p>\n</blockquote>\n<p>How can I mapping that &quot;array_agg&quot; join column to the Entity or ProjectionClass ?</p>\n<p>I try some ways like :</p>\n<ul>\n<li>@Transient</li>\n<li>ProjectionClass {\nprivate Port port;\nprivate List portnumber;\n}`</li>\n</ul>\n<p>But it still error mapping.</p>\n"},{"tags":["java","bit"],"answers":[{"tags":[],"owner":{"account_id":2364020,"reputation":4921,"user_id":2070111,"accept_rate":81,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539546117,"creation_date":1539546117,"answer_id":52806446,"question_id":52805988,"body_markdown":"The comment would be better expressed as &#39;Get the least significant bit set&#39;. To understand what is going on, you need to examine how negative numbers are represented in binary. The technique is called twos complement and works by starting with the positive representation of the number; you  complement each bit (i.e. 1 -&gt; 0 and 0 -&gt; 1). You then add 1 to this number. In the example of 12:\r\n\r\n    00001100 12\r\n    11110011 complement\r\n    00000001 binary 1\r\n    11110100 add to complement to form twos complement negative\r\n\r\nIf you now AND the original value with the negative, you get\r\n\r\n    00000100 \r\n\r\nwhere the only bit set corresponds to the least significant bit set in the original pattern.","title":"what happens in a &amp;= -a with Java","body":"<p>The comment would be better expressed as 'Get the least significant bit set'. To understand what is going on, you need to examine how negative numbers are represented in binary. The technique is called twos complement and works by starting with the positive representation of the number; you  complement each bit (i.e. 1 -> 0 and 0 -> 1). You then add 1 to this number. In the example of 12:</p>\n\n<pre><code>00001100 12\n11110011 complement\n00000001 binary 1\n11110100 add to complement to form twos complement negative\n</code></pre>\n\n<p>If you now AND the original value with the negative, you get</p>\n\n<pre><code>00000100 \n</code></pre>\n\n<p>where the only bit set corresponds to the least significant bit set in the original pattern.</p>\n"},{"tags":[],"owner":{"account_id":8443019,"reputation":949,"user_id":6334782,"accept_rate":76,"display_name":"otoomey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699463628,"creation_date":1539549390,"answer_id":52806880,"question_id":52805988,"body_markdown":"As the comment said, `diff &amp; -diff` returns the value of the last bit that was set on diff. For example:\r\n\r\n    diff = 14\r\n    .... = 1110 (binary)\r\n    ....     ^ last set bit\r\n    .... 10 is the last set bit\r\n    .... 10 in decimal is 2\r\n\r\nAnother example\r\n\r\n    diff = 24\r\n    .... = 11000 (binary)\r\n    ....    ^ last set bit\r\n    .... 1000 is the last set bit\r\n    .... 1000 in decimal is 8","title":"what happens in a &amp;= -a with Java","body":"<p>As the comment said, <code>diff &amp; -diff</code> returns the value of the last bit that was set on diff. For example:</p>\n<pre><code>diff = 14\n.... = 1110 (binary)\n....     ^ last set bit\n.... 10 is the last set bit\n.... 10 in decimal is 2\n</code></pre>\n<p>Another example</p>\n<pre><code>diff = 24\n.... = 11000 (binary)\n....    ^ last set bit\n.... 1000 is the last set bit\n.... 1000 in decimal is 8\n</code></pre>\n"}],"owner":{"account_id":14542652,"reputation":21,"user_id":10503856,"display_name":"Xueqian Long"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":52806446,"answer_count":2,"score":-2,"last_activity_date":1699463628,"creation_date":1539542992,"question_id":52805988,"body_markdown":"I see this comment, but don&#39;t understand it. \r\n\r\n Get its last set bit\r\n\r\n    diff &amp;= -diff;\r\n    \r\nI tried \r\n\r\n    int a = 3 &amp; -3; it returns 1.\r\n    int a = 2 &amp; -2; it returns 2.\r\n    int a = 4 &amp; -4; it returns 4.\r\n    int a = 5 &amp; -5; it returns 1.","title":"what happens in a &amp;= -a with Java","body":"<p>I see this comment, but don't understand it. </p>\n\n<p>Get its last set bit</p>\n\n<pre><code>diff &amp;= -diff;\n</code></pre>\n\n<p>I tried </p>\n\n<pre><code>int a = 3 &amp; -3; it returns 1.\nint a = 2 &amp; -2; it returns 2.\nint a = 4 &amp; -4; it returns 4.\nint a = 5 &amp; -5; it returns 1.\n</code></pre>\n"},{"tags":["java","spring-boot","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1699444874,"post_id":77443564,"comment_id":136531526,"body_markdown":"So your problem is that `getItemA()` can return `null`. The solution is either, to fix the method to not return `null` or fix the caller to not invoke `getPrice()` unconditionally on a reference that might be `null`. In either case, it’s entirely unrelated to the fact that you’re using the code together with `CompletableFuture`. You would have the same problem if you were not using `CompletableFuture`.","body":"So your problem is that <code>getItemA()</code> can return <code>null</code>. The solution is either, to fix the method to not return <code>null</code> or fix the caller to not invoke <code>getPrice()</code> unconditionally on a reference that might be <code>null</code>. In either case, it’s entirely unrelated to the fact that you’re using the code together with <code>CompletableFuture</code>. You would have the same problem if you were not using <code>CompletableFuture</code>."}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699463018,"creation_date":1699428676,"question_id":77443564,"body_markdown":"I have these CompletableFutures:\r\n\r\n```Java\r\nCompletableFuture&lt;Info&gt; futureA =\r\n    createFutureA(multipleItems, startDate, source, context);\r\n\r\nCompletableFuture&lt;PPPInfo&gt; futureB =\r\n    createFutureB(multipleItems, startDate, source, context);\r\n\r\nCompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(futureA, futureB);\r\n```\r\n\r\n`futureA` calls `createFutureA` which can be seen below:\r\n\r\n```Java\r\nprivate CompletableFuture&lt;PPPInfo&gt; createFutureA(\r\n      MultipleItems multipleItems,\r\n      String startDate,\r\n      Source source,\r\n      Context context) {\r\n    return CompletableFuture.supplyAsync(\r\n        () -&gt;\r\n            getItemAPrice(\r\n                Double.parseDouble(multiplePrices.getItemA().getPrice()),\r\n                startDate,\r\n                source,\r\n                ITEMA,\r\n                context));\r\n}\r\n```\r\n\r\nThere are some occasions where `multiplePrices.getItemA()` is `null` which causes a `NullPointerException` in `createFutureA` and is an issue when the application then calls `combinedFuture.get()`. How should I handle this if I might have occasions where `futureA` is null?","title":"How to handle if CompletableFuture might be null on occasions","body":"<p>I have these CompletableFutures:</p>\n<pre><code>CompletableFuture&lt;Info&gt; futureA =\n    createFutureA(multipleItems, startDate, source, context);\n\nCompletableFuture&lt;PPPInfo&gt; futureB =\n    createFutureB(multipleItems, startDate, source, context);\n\nCompletableFuture&lt;Void&gt; combinedFuture = CompletableFuture.allOf(futureA, futureB);\n</code></pre>\n<p><code>futureA</code> calls <code>createFutureA</code> which can be seen below:</p>\n<pre><code>private CompletableFuture&lt;PPPInfo&gt; createFutureA(\n      MultipleItems multipleItems,\n      String startDate,\n      Source source,\n      Context context) {\n    return CompletableFuture.supplyAsync(\n        () -&gt;\n            getItemAPrice(\n                Double.parseDouble(multiplePrices.getItemA().getPrice()),\n                startDate,\n                source,\n                ITEMA,\n                context));\n}\n</code></pre>\n<p>There are some occasions where <code>multiplePrices.getItemA()</code> is <code>null</code> which causes a <code>NullPointerException</code> in <code>createFutureA</code> and is an issue when the application then calls <code>combinedFuture.get()</code>. How should I handle this if I might have occasions where <code>futureA</code> is null?</p>\n"},{"tags":["java","request","http-post"],"comments":[{"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"score":12,"creation_date":1550593904,"post_id":53389433,"comment_id":96321795,"body_markdown":"There is an open bug related to your question: [Socket Exception from bind to localhost if JVM installed on a share](https://bugs.openjdk.java.net/browse/JDK-8068568)","body":"There is an open bug related to your question: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068568\" rel=\"nofollow noreferrer\">Socket Exception from bind to localhost if JVM installed on a share</a>"},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":1,"creation_date":1550663947,"post_id":53389433,"comment_id":96349978,"body_markdown":"this may be related to network issue you can use packet tracer to identify where your error occurs","body":"this may be related to network issue you can use packet tracer to identify where your error occurs"},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1550755553,"post_id":53389433,"comment_id":96392792,"body_markdown":"There appears to be a [workaround](https://stackoverflow.com/a/35774170/3080094) for the bug that Vusal mentioned. You could test the workaround to see if the bug is related to your issue.","body":"There appears to be a <a href=\"https://stackoverflow.com/a/35774170/3080094\">workaround</a> for the bug that Vusal mentioned. You could test the workaround to see if the bug is related to your issue."},{"owner":{"account_id":4059188,"reputation":103,"user_id":3336161,"display_name":"KUTAY ZORLU"},"score":0,"creation_date":1628272806,"post_id":53389433,"comment_id":121385175,"body_markdown":"Could you please write your ALL command Line  to run this APPLICATION ?","body":"Could you please write your ALL command Line  to run this APPLICATION ?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1691772481,"post_id":53389433,"comment_id":135541695,"body_markdown":"//computername is a thought , file:// is also. Other subtleties with http networking include port number of the server you are calling 8080 or 80 if it is an http server, if not then it is file protocol.","body":"//computername is a thought , file:// is also. Other subtleties with http networking include port number of the server you are calling 8080 or 80 if it is an http server, if not then it is file protocol."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1696566271,"post_id":53389433,"comment_id":136172283,"body_markdown":"Lene get this straight! The &quot;app&quot; is the one on another drive!?   If so then its original conf file probably contains &quot;local settings&quot;  not &quot;mapped drive settings&quot; inside for paths! Or is there something reciprocal in how it gains it&#39;s configuration across machines?","body":"Lene get this straight! The &quot;app&quot; is the one on another drive!?   If so then its original conf file probably contains &quot;local settings&quot;  not &quot;mapped drive settings&quot; inside for paths! Or is there something reciprocal in how it gains it&#39;s configuration across machines?"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664112015,"creation_date":1664110926,"answer_id":73844691,"question_id":53389433,"body_markdown":"Hazard a guess, the server has no binding to a port to listen for network external machine connections in either it&#39;s own configuration files or to its machine port in its OS configuration &quot;network settings&quot; the external calling PC is using, that and with http it should simply be a domain http url called.\r\n\r\n*I best also point that the jdk or jre have a &quot;jconsole&quot; program in their /bin directories can be used to set up network connections for the binaries running the caller JVM.\r\nThis appears To be the problem, your java client program needs a binding to a port to the other machine to connect to it.*\r\n\r\nIf you are calling a file from another machine , use mapped drive syntax of &quot;file://&quot;+&quot;//servername/afolder/file.txt&quot;\r\nThis scheme is for url&#39;s that are mapped drives.","title":"Java.net.SocketException: Invalid argument: create In mapped drive","body":"<p>Hazard a guess, the server has no binding to a port to listen for network external machine connections in either it's own configuration files or to its machine port in its OS configuration &quot;network settings&quot; the external calling PC is using, that and with http it should simply be a domain http url called.</p>\n<p><em>I best also point that the jdk or jre have a &quot;jconsole&quot; program in their /bin directories can be used to set up network connections for the binaries running the caller JVM.\nThis appears To be the problem, your java client program needs a binding to a port to the other machine to connect to it.</em></p>\n<p>If you are calling a file from another machine , use mapped drive syntax of &quot;file://&quot;+&quot;//servername/afolder/file.txt&quot;\nThis scheme is for url's that are mapped drives.</p>\n"},{"tags":[],"owner":{"account_id":25910587,"reputation":1,"user_id":19821948,"display_name":"Ti_alcof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699462995,"creation_date":1699462995,"answer_id":77447563,"question_id":53389433,"body_markdown":"I had one Socket Exception whan using apache cxf, when it calls ClientImpl but somehow because of Proxy it couldnt pass the value to autenticate.. I started to read it directilly from applicattion.properties using ConfigProvider.getConfig().getValue(&#39;foo.foo&#39;, string.class);","title":"Java.net.SocketException: Invalid argument: create In mapped drive","body":"<p>I had one Socket Exception whan using apache cxf, when it calls ClientImpl but somehow because of Proxy it couldnt pass the value to autenticate.. I started to read it directilly from applicattion.properties using ConfigProvider.getConfig().getValue('foo.foo', string.class);</p>\n"}],"owner":{"account_id":11105849,"reputation":742,"user_id":8153040,"accept_rate":43,"display_name":"kfir"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4294,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":2,"score":26,"last_activity_date":1699462995,"creation_date":1542704395,"question_id":53389433,"body_markdown":"I created a Java application that sends an HTTP POST request to another server.\r\n\r\n- The firewall in the server is off.\r\n- The firewall in the PC is off.\r\n\r\nThe application works perfectly on the PC in the C drive.\r\n\r\nThe application works perfectly on the PC with a local mapping drive.\r\n\r\nBut, when I put my application in a network mapping drive, I get an error:\r\n\r\n&gt; java.net.SocketException: Invalid argument: create in mapped drive\r\n\r\nThis is my code:\r\n\r\n\tHttpClient httpClient = HttpClientBuilder.create().build();\r\n\tHttpPost postRequest = new HttpPost(getUrl());\r\n\tpostRequest.setHeader(AUTHERIZTION, getAuthString());\r\n\r\n\tHttpResponse response = httpClient.execute(postRequest);\r\n\r\nThis is the full error:\r\n\r\n    java.net.SocketException: Invalid argument: create\r\n        at java.net.Socket.createImpl(Unknown Source)\r\n        at java.net.Socket.getImpl(Unknown Source)\r\n        at java.net.Socket.setSoTimeout(Unknown Source)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119)\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\r\n        at rest.RestClient.postGetQuery(RestClient.java:105)\r\n        at frame.ScanJFrame.initProperty(ScanJFrame.java:195)\r\n        at Main.runAction(Main.java:63)\r\n        at Main.main(Main.java:21)\r\n\r\nI tried this:\r\n\r\n    setx _JAVA_OPTIONS -Djava.net.preferIPv4Stack=true\r\n\r\nBut, nothing changed.\r\n\r\nWhat can I do?\r\n","title":"Java.net.SocketException: Invalid argument: create In mapped drive","body":"<p>I created a Java application that sends an HTTP POST request to another server.</p>\n<ul>\n<li>The firewall in the server is off.</li>\n<li>The firewall in the PC is off.</li>\n</ul>\n<p>The application works perfectly on the PC in the C drive.</p>\n<p>The application works perfectly on the PC with a local mapping drive.</p>\n<p>But, when I put my application in a network mapping drive, I get an error:</p>\n<blockquote>\n<p>java.net.SocketException: Invalid argument: create in mapped drive</p>\n</blockquote>\n<p>This is my code:</p>\n<pre><code>HttpClient httpClient = HttpClientBuilder.create().build();\nHttpPost postRequest = new HttpPost(getUrl());\npostRequest.setHeader(AUTHERIZTION, getAuthString());\n\nHttpResponse response = httpClient.execute(postRequest);\n</code></pre>\n<p>This is the full error:</p>\n<pre><code>java.net.SocketException: Invalid argument: create\n    at java.net.Socket.createImpl(Unknown Source)\n    at java.net.Socket.getImpl(Unknown Source)\n    at java.net.Socket.setSoTimeout(Unknown Source)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:119)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)\n    at rest.RestClient.postGetQuery(RestClient.java:105)\n    at frame.ScanJFrame.initProperty(ScanJFrame.java:195)\n    at Main.runAction(Main.java:63)\n    at Main.main(Main.java:21)\n</code></pre>\n<p>I tried this:</p>\n<pre><code>setx _JAVA_OPTIONS -Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>But, nothing changed.</p>\n<p>What can I do?</p>\n"},{"tags":["java","maven","teamcity","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":15574969,"reputation":514,"user_id":11236310,"display_name":"Yamo93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699462951,"creation_date":1699462951,"answer_id":77447558,"question_id":72173721,"body_markdown":"If you remove the goal from pom.xml, it will no longer require the check:\r\n\r\nRemove this line inside of your Jacoco plugin in the pom.xml file.\r\n`&lt;goal&gt;check&lt;/goal&gt;`","title":"maven plugin jacoco: Coverage checks have not been met. See log for details","body":"<p>If you remove the goal from pom.xml, it will no longer require the check:</p>\n<p>Remove this line inside of your Jacoco plugin in the pom.xml file.\n<code>&lt;goal&gt;check&lt;/goal&gt;</code></p>\n"}],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699462951,"creation_date":1652106818,"question_id":72173721,"body_markdown":"I understand that if we set \r\n    \r\n    &lt;jacoco.skip.exec&gt;true&lt;/jacoco.skip.exec&gt; \r\n\r\nin pom.xml, it might skip the skip the jacoco checking. However, in my case the tests are conducted on TeamCity, on which we have no control of the environment configuration, therefore it might be that the above flag is not set. As a result, it shows:\r\n\r\n    Failed to execute goal org.jacoco:jacoco-maven-plugin:0.8.8:check (verify) on project xxxx: Coverage checks have not been met. See log for details. \r\n\r\non the failure of two tests which I decorated with annotation @Ignore\r\n\r\nI thought those two tests were skipped but the integration test failed because jacoco still picked them up.\r\n\r\nHow can I do from the code level to disable jacoco checking?\r\n\r\n","title":"maven plugin jacoco: Coverage checks have not been met. See log for details","body":"<p>I understand that if we set</p>\n<pre><code>&lt;jacoco.skip.exec&gt;true&lt;/jacoco.skip.exec&gt; \n</code></pre>\n<p>in pom.xml, it might skip the skip the jacoco checking. However, in my case the tests are conducted on TeamCity, on which we have no control of the environment configuration, therefore it might be that the above flag is not set. As a result, it shows:</p>\n<pre><code>Failed to execute goal org.jacoco:jacoco-maven-plugin:0.8.8:check (verify) on project xxxx: Coverage checks have not been met. See log for details. \n</code></pre>\n<p>on the failure of two tests which I decorated with annotation @Ignore</p>\n<p>I thought those two tests were skipped but the integration test failed because jacoco still picked them up.</p>\n<p>How can I do from the code level to disable jacoco checking?</p>\n"},{"tags":["java","utf-8","spark-java"],"owner":{"reputation":496,"user_id":4368869,"accept_rate":50,"display_name":"Robert S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699462896,"creation_date":1699294451,"question_id":77433332,"body_markdown":"I wonder if there is a way to configure SparkJava to encode all request data with a character set of my choice regardless of it comes from query parameters or POST data.  I have a number of web app&#39;s that I need to retroactively apply [STIG V-206410][1]. I am looking for the most efficient way and hoping I need not go through every GET/POST/PUT handler and encode data manually with Java string encoding methods.\r\n\r\nI looked at SparkJava&#39;s `before()` filter documentation, but I did not get the impression it is able to modify request data.\r\n\r\n  [1]: https://www.stigviewer.com/stig/web_server_security_requirements_guide/2022-09-20/finding/V-206410","title":"Can SparkJava encoding all request data as UTF-8 by default?","body":"<p>I wonder if there is a way to configure SparkJava to encode all request data with a character set of my choice regardless of it comes from query parameters or POST data.  I have a number of web app's that I need to retroactively apply <a href=\"https://www.stigviewer.com/stig/web_server_security_requirements_guide/2022-09-20/finding/V-206410\" rel=\"nofollow noreferrer\">STIG V-206410</a>. I am looking for the most efficient way and hoping I need not go through every GET/POST/PUT handler and encode data manually with Java string encoding methods.</p>\n<p>I looked at SparkJava's <code>before()</code> filter documentation, but I did not get the impression it is able to modify request data.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":0,"creation_date":1588138860,"post_id":61494901,"comment_id":108781262,"body_markdown":"can you show us your service implementation?","body":"can you show us your service implementation?"},{"owner":{"display_name":"user9065831"},"score":0,"creation_date":1588139791,"post_id":61494901,"comment_id":108781568,"body_markdown":"@Sparsh, error is for ‘SpeakerController’, you are posting code for ‘SessionController’.. speaker vs session.. please revise your question","body":"@Sparsh, error is for ‘SpeakerController’, you are posting code for ‘SessionController’.. speaker vs session.. please revise your question"},{"owner":{"account_id":17482058,"reputation":1832,"user_id":12675847,"display_name":"user1234SI."},"score":2,"creation_date":1588141350,"post_id":61494901,"comment_id":108782106,"body_markdown":"If you&#39;re following an online course where you&#39;ve been told to use both `@RestController` and `@Component` I would suggest you to look for another one, or if this isn&#39;t the case, you should use only `@RestController`.Anyway this will not solve your problem, please revise your question like @Aman Garg said above.","body":"If you&#39;re following an online course where you&#39;ve been told to use both <code>@RestController</code> and <code>@Component</code> I would suggest you to look for another one, or if this isn&#39;t the case, you should use only <code>@RestController</code>.Anyway this will not solve your problem, please revise your question like @Aman Garg said above."},{"owner":{"account_id":16476408,"reputation":67,"user_id":11904256,"display_name":"Sparsh Verma"},"score":0,"creation_date":1588144741,"post_id":61494901,"comment_id":108783517,"body_markdown":"I don&#39;t implement any service @varman","body":"I don&#39;t implement any service @varman"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1588144928,"post_id":61494901,"comment_id":108783611,"body_markdown":"I highly doubt that that is actually your `pom.xml`. in your code you are using Spring Data JPA, but there is nothing in your `pom.xml` that is including those dependencies. So what you are showing here is probably not what you are currently using!","body":"I highly doubt that that is actually your <code>pom.xml</code>. in your code you are using Spring Data JPA, but there is nothing in your <code>pom.xml</code> that is including those dependencies. So what you are showing here is probably not what you are currently using!"},{"owner":{"account_id":16476408,"reputation":67,"user_id":11904256,"display_name":"Sparsh Verma"},"score":0,"creation_date":1588145266,"post_id":61494901,"comment_id":108783773,"body_markdown":"I am using spring-data-JPA.jar file by adding it into modules @M.Deinum","body":"I am using spring-data-JPA.jar file by adding it into modules @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1588145973,"post_id":61494901,"comment_id":108784109,"body_markdown":"It should be part of your dependencies, not in your modules.","body":"It should be part of your dependencies, not in your modules."},{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":1,"creation_date":1588185070,"post_id":61494901,"comment_id":108806052,"body_markdown":"Please add the jpa dependency to your pom.xml and try &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;","body":"Please add the jpa dependency to your pom.xml and try &lt;dependency&gt;     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;     &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;     &lt;version&gt;2.2.6.RELEASE&lt;/version&gt; &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1314450,"reputation":320,"user_id":1261671,"accept_rate":25,"display_name":"tom808"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605741514,"creation_date":1605741514,"answer_id":64902935,"question_id":61494901,"body_markdown":"Looks like you have run into the same issue that I have following Dan Bunker&#39;s spring boot Pluralsight course?\r\n\r\nLooks like the course is a little out of date now and the latest version of spring boot doesn&#39;t appear to work with the project setup. Specifically I think it&#39;s a problem with how we have defined the JpaRespositories such that they cannot be auto wired.\r\n\r\nObviously if we are both following a beginners course it&#39;s a little tricky to establish the root cause. \r\n\r\nI downgraded my project to 2.1.9.RELEASE in pom.xml:\r\n\r\n     &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nAnd it worked! Good luck.","title":"sessionRepository in com.sparsh.conferencedemo.controllers.SessionController required a bean of type that could not be found","body":"<p>Looks like you have run into the same issue that I have following Dan Bunker's spring boot Pluralsight course?</p>\n<p>Looks like the course is a little out of date now and the latest version of spring boot doesn't appear to work with the project setup. Specifically I think it's a problem with how we have defined the JpaRespositories such that they cannot be auto wired.</p>\n<p>Obviously if we are both following a beginners course it's a little tricky to establish the root cause.</p>\n<p>I downgraded my project to 2.1.9.RELEASE in pom.xml:</p>\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>And it worked! Good luck.</p>\n"},{"tags":[],"owner":{"account_id":4272954,"reputation":1,"user_id":3494344,"display_name":"user3494344"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699462000,"creation_date":1699462000,"answer_id":77447454,"question_id":61494901,"body_markdown":"This is the problem from Dan Bunker&#39;s spring boot Pluralsight course &quot;Spring Framework 2: Creating Your First Spring Boot Application&quot;.\r\nFor newer Spring Boot versions (I am using 2.7.17) you need to comment out Autowired from both SessionsController and SpeakersController:\r\n\r\n    public class SessionsController {\r\n        //@Autowired\r\n        private SessionRepository sessionRepository;\r\n    ...\r\n    \r\n    public class SpeakersController {\r\n        //@Autowired\r\n        private SpeakerRepository speakerRepository;\r\n\r\n","title":"sessionRepository in com.sparsh.conferencedemo.controllers.SessionController required a bean of type that could not be found","body":"<p>This is the problem from Dan Bunker's spring boot Pluralsight course &quot;Spring Framework 2: Creating Your First Spring Boot Application&quot;.\nFor newer Spring Boot versions (I am using 2.7.17) you need to comment out Autowired from both SessionsController and SpeakersController:</p>\n<pre><code>public class SessionsController {\n    //@Autowired\n    private SessionRepository sessionRepository;\n...\n\npublic class SpeakersController {\n    //@Autowired\n    private SpeakerRepository speakerRepository;\n</code></pre>\n"}],"owner":{"account_id":16476408,"reputation":67,"user_id":11904256,"display_name":"Sparsh Verma"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64902935,"answer_count":2,"score":0,"last_activity_date":1699462000,"creation_date":1588138248,"question_id":61494901,"body_markdown":"I was trying to create a simple CRUD spring boot application after watching an online course. But when i run the application it shown an error &quot;Field speakerRepository in com.sparsh.conferencedemo.controllers.SpeakerController required a bean of type &#39;com.sparsh.conferencedemo.repositories.SpeakerRepository&#39; that could not be found.&quot; I don&#39;t understand what I am doing wrong. Also I am new to the spring boot. So any help please. I am posting my code below.\r\n\r\n This is my **SessionController**\r\n```\r\npackage com.sparsh.conferencedemo.controllers;\r\n\r\n\r\nimport com.sparsh.conferencedemo.models.Session;\r\nimport com.sparsh.conferencedemo.repositories.SessionRepository;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/sessions&quot;)\r\npublic class SessionController {\r\n\r\n    @Autowired\r\n    private SessionRepository sessionRepository;\r\n\r\n    @GetMapping\r\n    private List&lt;Session&gt; list(){\r\n        return sessionRepository.findAll();\r\n    }\r\n    @GetMapping\r\n    @RequestMapping(&quot;{id}&quot;)\r\n    private Session get(@PathVariable Long id){\r\n        return sessionRepository.getOne(id);\r\n    }\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public Session create(@RequestBody final Session session){\r\n        return sessionRepository.saveAndFlush(session);\r\n    }\r\n\r\n @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.DELETE)\r\n    public void delete(@PathVariable Long id){\r\n        sessionRepository.\r\n    }\r\n\r\n\r\n    @RequestMapping(value=&quot;{id}&quot;, method = RequestMethod.PUT)\r\n    public Session update(@PathVariable Long id, @RequestBody Session session){\r\n        Session existingSesseion=sessionRepository.getOne(id);\r\n        BeanUtils.copyProperties(session, existingSesseion, &quot;session_id&quot;);\r\n        return sessionRepository.saveAndFlush(existingSesseion);\r\n    }\r\n}\r\n```\r\nThis is my **SessionRepository** interface\r\n```\r\npackage com.sparsh.conferencedemo.repositories;\r\nimport com.sparsh.conferencedemo.models.Session;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\npublic interface SessionRepository extends JpaRepository&lt;Session, Long&gt; {\r\n\r\n}\r\n\r\n```\r\nThis is my **pom.xml** file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.sparsh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;conference-demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nThis is my Model for Session\r\n```\r\npackage com.sparsh.conferencedemo.models;\r\nimport javax.persistence.*;\r\nimport java.util.List;\r\n@Entity(name=&quot;sessions&quot;)\r\npublic class Session {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long session_id;\r\n    private String session_name;\r\n    private String session_description;\r\n    private String session_length;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name=&quot;session_speakers&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;session_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;speaker_id&quot;)\r\n    )\r\n    private List&lt;Speaker&gt; speakers;\r\n\r\n    public Session(){\r\n\r\n    }\r\n\r\n    public List&lt;Speaker&gt; getSpeakers() {\r\n        return speakers;\r\n    }\r\n\r\n    public void setSpeakers(List&lt;Speaker&gt; speakers) {\r\n        this.speakers = speakers;\r\n    }\r\n\r\n\r\n    public Long getSession_id() {\r\n        return session_id;\r\n    }\r\n\r\n    public void setSession_id(Long session_id) {\r\n        this.session_id = session_id;\r\n    }\r\n\r\n    public String getSession_name() {\r\n        return session_name;\r\n    }\r\n\r\n    public void setSession_name(String session_name) {\r\n        this.session_name = session_name;\r\n    }\r\n\r\n    public String getSession_description() {\r\n        return session_description;\r\n    }\r\n\r\n    public void setSession_description(String session_description) {\r\n        this.session_description = session_description;\r\n    }\r\n\r\n    public String getSession_length() {\r\n        return session_length;\r\n    }\r\n\r\n    public void setSession_length(String session_length) {\r\n        this.session_length = session_length;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is my main Application Class\r\n```\r\npackage com.sparsh.conferencedemo;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n@SpringBootApplication\r\npublic class ConferenceDemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ConferenceDemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\nThese are the modules I am using in IntelliJ its an image link\r\n&lt;https://i.stack.imgur.com/5PLvw.jpg&gt;\r\n\r\nThese are the error I am getting in the console\r\n```\r\n :: Spring Boot ::        (v2.2.6.RELEASE)\r\n\r\n2020-04-29 12:44:29.844  INFO 10572 --- [           main] c.s.c.ConferenceDemoApplication          : Starting ConferenceDemoApplication on DESKTOP-JBQF1EV with PID 10572 (C:\\Users\\spars\\OneDrive\\Desktop\\conference-demo\\target\\classes started by spars in C:\\Users\\spars\\OneDrive\\Desktop\\conference-demo)\r\n2020-04-29 12:44:29.859  INFO 10572 --- [           main] c.s.c.ConferenceDemoApplication          : No active profile set, falling back to default profiles: default\r\n2020-04-29 12:44:38.081  INFO 10572 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2020-04-29 12:44:38.174  INFO 10572 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-04-29 12:44:38.175  INFO 10572 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]\r\n2020-04-29 12:44:38.582  INFO 10572 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2020-04-29 12:44:38.582  INFO 10572 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8561 ms\r\n2020-04-29 12:44:39.083  WARN 10572 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sessionController&#39;: Unsatisfied dependency expressed through field &#39;sessionRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.sparsh.conferencedemo.repositories.SessionRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2020-04-29 12:44:39.090  INFO 10572 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2020-04-29 12:44:39.647  INFO 10572 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2020-04-29 12:44:40.370 ERROR 10572 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField sessionRepository in com.sparsh.conferencedemo.controllers.SessionController required a bean of type &#39;com.sparsh.conferencedemo.repositories.SessionRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.sparsh.conferencedemo.repositories.SessionRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n```","title":"sessionRepository in com.sparsh.conferencedemo.controllers.SessionController required a bean of type that could not be found","body":"<p>I was trying to create a simple CRUD spring boot application after watching an online course. But when i run the application it shown an error \"Field speakerRepository in com.sparsh.conferencedemo.controllers.SpeakerController required a bean of type 'com.sparsh.conferencedemo.repositories.SpeakerRepository' that could not be found.\" I don't understand what I am doing wrong. Also I am new to the spring boot. So any help please. I am posting my code below.</p>\n\n<p>This is my <strong>SessionController</strong></p>\n\n<pre><code>package com.sparsh.conferencedemo.controllers;\n\n\nimport com.sparsh.conferencedemo.models.Session;\nimport com.sparsh.conferencedemo.repositories.SessionRepository;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(\"/api/v1/sessions\")\npublic class SessionController {\n\n    @Autowired\n    private SessionRepository sessionRepository;\n\n    @GetMapping\n    private List&lt;Session&gt; list(){\n        return sessionRepository.findAll();\n    }\n    @GetMapping\n    @RequestMapping(\"{id}\")\n    private Session get(@PathVariable Long id){\n        return sessionRepository.getOne(id);\n    }\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public Session create(@RequestBody final Session session){\n        return sessionRepository.saveAndFlush(session);\n    }\n\n @RequestMapping(value=\"{id}\", method = RequestMethod.DELETE)\n    public void delete(@PathVariable Long id){\n        sessionRepository.\n    }\n\n\n    @RequestMapping(value=\"{id}\", method = RequestMethod.PUT)\n    public Session update(@PathVariable Long id, @RequestBody Session session){\n        Session existingSesseion=sessionRepository.getOne(id);\n        BeanUtils.copyProperties(session, existingSesseion, \"session_id\");\n        return sessionRepository.saveAndFlush(existingSesseion);\n    }\n}\n</code></pre>\n\n<p>This is my <strong>SessionRepository</strong> interface</p>\n\n<pre><code>package com.sparsh.conferencedemo.repositories;\nimport com.sparsh.conferencedemo.models.Session;\nimport org.springframework.data.jpa.repository.JpaRepository;\npublic interface SessionRepository extends JpaRepository&lt;Session, Long&gt; {\n\n}\n\n</code></pre>\n\n<p>This is my <strong>pom.xml</strong> file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sparsh&lt;/groupId&gt;\n    &lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;conference-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n\n<p>This is my Model for Session</p>\n\n<pre><code>package com.sparsh.conferencedemo.models;\nimport javax.persistence.*;\nimport java.util.List;\n@Entity(name=\"sessions\")\npublic class Session {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long session_id;\n    private String session_name;\n    private String session_description;\n    private String session_length;\n\n    @ManyToMany\n    @JoinTable(\n            name=\"session_speakers\",\n            joinColumns = @JoinColumn(name = \"session_id\"),\n            inverseJoinColumns = @JoinColumn(name = \"speaker_id\")\n    )\n    private List&lt;Speaker&gt; speakers;\n\n    public Session(){\n\n    }\n\n    public List&lt;Speaker&gt; getSpeakers() {\n        return speakers;\n    }\n\n    public void setSpeakers(List&lt;Speaker&gt; speakers) {\n        this.speakers = speakers;\n    }\n\n\n    public Long getSession_id() {\n        return session_id;\n    }\n\n    public void setSession_id(Long session_id) {\n        this.session_id = session_id;\n    }\n\n    public String getSession_name() {\n        return session_name;\n    }\n\n    public void setSession_name(String session_name) {\n        this.session_name = session_name;\n    }\n\n    public String getSession_description() {\n        return session_description;\n    }\n\n    public void setSession_description(String session_description) {\n        this.session_description = session_description;\n    }\n\n    public String getSession_length() {\n        return session_length;\n    }\n\n    public void setSession_length(String session_length) {\n        this.session_length = session_length;\n    }\n}\n\n</code></pre>\n\n<p>This is my main Application Class</p>\n\n<pre><code>package com.sparsh.conferencedemo;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication\npublic class ConferenceDemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ConferenceDemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>These are the modules I am using in IntelliJ its an image link\n<a href=\"https://i.stack.imgur.com/5PLvw.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/5PLvw.jpg</a></p>\n\n<p>These are the error I am getting in the console</p>\n\n<pre><code> :: Spring Boot ::        (v2.2.6.RELEASE)\n\n2020-04-29 12:44:29.844  INFO 10572 --- [           main] c.s.c.ConferenceDemoApplication          : Starting ConferenceDemoApplication on DESKTOP-JBQF1EV with PID 10572 (C:\\Users\\spars\\OneDrive\\Desktop\\conference-demo\\target\\classes started by spars in C:\\Users\\spars\\OneDrive\\Desktop\\conference-demo)\n2020-04-29 12:44:29.859  INFO 10572 --- [           main] c.s.c.ConferenceDemoApplication          : No active profile set, falling back to default profiles: default\n2020-04-29 12:44:38.081  INFO 10572 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-04-29 12:44:38.174  INFO 10572 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-04-29 12:44:38.175  INFO 10572 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.33]\n2020-04-29 12:44:38.582  INFO 10572 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2020-04-29 12:44:38.582  INFO 10572 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8561 ms\n2020-04-29 12:44:39.083  WARN 10572 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sessionController': Unsatisfied dependency expressed through field 'sessionRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.sparsh.conferencedemo.repositories.SessionRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2020-04-29 12:44:39.090  INFO 10572 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2020-04-29 12:44:39.647  INFO 10572 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-04-29 12:44:40.370 ERROR 10572 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField sessionRepository in com.sparsh.conferencedemo.controllers.SessionController required a bean of type 'com.sparsh.conferencedemo.repositories.SessionRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.sparsh.conferencedemo.repositories.SessionRepository' in your configuration.\n\n\nProcess finished with exit code 1\n\n\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1699461392,"creation_date":1699461392,"answer_id":77447378,"question_id":77446179,"body_markdown":"I&#39;m not sure if it is a limitation from Azure, I increased the chunk size and try to reduce the block stage less than 11 which resolved the issue.","title":"Java - Spring Boot - Azure Blob Storage - Status Code 400 - InvalidBlobOrBlock - The specified blob or block content is invalid","body":"<p>I'm not sure if it is a limitation from Azure, I increased the chunk size and try to reduce the block stage less than 11 which resolved the issue.</p>\n"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77447378,"answer_count":1,"score":0,"last_activity_date":1699461392,"creation_date":1699451865,"question_id":77446179,"body_markdown":"I have to upload large zip file to Azure Blob Storage which contains xml files, each xml file size will be around 200-300 MB. I&#39;m trying to upload the file in chunks using React JS and at the server side I&#39;m using Spring Boot and receiving the chunks and I want to process all the chunks together. But at the `blockBlobClient.stageBlock()` I get 400 bad request with message `InvalidBlobOrBlock - The specified blob or block content is invalid` somewhere while processing. Here is the code that I have written. Please help me to resolve the issue.\r\n\r\n**Edit:**\r\nSeems like Stage 11th block in blockBlobClient.stageBlock() is returning 400\r\n\r\n\r\n**React code: Chunk process and upload**\r\n\r\n    const uploadInsights = async () =&gt; {\r\n        setLoading(true);\r\n        const chunkSize = 2 * 1024 * 1024;\r\n        const totalChunks = Math.ceil(file.size / chunkSize);\r\n        let uploadedChunks = 0;\r\n        for (let chunkNumber = 0; chunkNumber &lt; totalChunks; chunkNumber++) {\r\n          const start = chunkNumber * chunkSize;\r\n          const end =\r\n            chunkNumber === totalChunks - 1\r\n              ? file.size\r\n              : (chunkNumber + 1) * chunkSize;\r\n          const chunk = file.slice(start, end);\r\n          console.log(&#39;chunk no&#39;, chunkNumber, &#39;chunk&#39;, chunk);\r\n          const formData = new FormData();\r\n          formData.append(&#39;filename&#39;, file.name);\r\n          formData.append(&#39;fileChunk&#39;, chunk);\r\n          // @ts-ignore\r\n          formData.append(&#39;chunkNumber&#39;, chunkNumber);\r\n          // @ts-ignore\r\n          formData.append(&#39;totalChunks&#39;, totalChunks);\r\n    \r\n          try {\r\n            let response = await analyticsService.uploadFeatureAnalyticsInsights(\r\n              formData,\r\n            );\r\n            if (response?.data?.success) {\r\n              uploadedChunks++;\r\n              const newProgress = (uploadedChunks / totalChunks) * 100;\r\n              setProgress(newProgress);\r\n            } else {\r\n              console.log(\r\n                `Error uploading chunk ${chunkNumber + 1}: ${\r\n                  response?.data?.status\r\n                }`,\r\n              );\r\n            }\r\n          } catch (error: any) {\r\n            console.log(\r\n              `Error uploading chunk ${chunkNumber + 1}: ${\r\n                error?.response?.status\r\n              }`,\r\n            );\r\n          }\r\n        }\r\n        setLoading(false);\r\n        setProgress(0);\r\n      };\r\n\r\n\r\n**Java/Spring Boot**\r\n\r\n`uploadInsights(...)` is the method that processes the file chunks\r\n\r\n    import com.azure.storage.blob.BlobClient;\r\n    import com.azure.storage.blob.BlobServiceClient;\r\n    import com.azure.storage.blob.specialized.BlockBlobClient;\r\n    import com.app.exception.general.AppException;\r\n    \r\n    import lombok.NonNull;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.log4j.Log4j2;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.util.*;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    @Log4j2\r\n    @Service\r\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n    public class FeatureAnalyticsService {\r\n    \r\n        private static final Map&lt;String, List&lt;String&gt;&gt; chunkIds = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        private static final Map&lt;String, List&lt;byte[]&gt;&gt; fileChunks = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        private static final Map&lt;String, List&lt;ByteArrayInputStream&gt;&gt; chunkStreams =\r\n                new ConcurrentHashMap&lt;&gt;();\r\n    \r\n        private final BlobServiceClient blobServiceClient;\r\n    \r\n        private static byte @NonNull [] getChunkBytes(@NonNull MultipartFile fileChunk)\r\n                throws IOException {\r\n            return fileChunk.getInputStream().readAllBytes();\r\n        }\r\n    \r\n        private static void updateChunkIds(String filename, String base64ChunkId) {\r\n            List&lt;String&gt; chunkNumbers;\r\n            if (chunkIds.containsKey(filename)) {\r\n                chunkNumbers = chunkIds.get(filename);\r\n            } else {\r\n                chunkNumbers = new ArrayList&lt;&gt;();\r\n            }\r\n            chunkNumbers.add(base64ChunkId);\r\n            chunkIds.put(filename, chunkNumbers);\r\n        }\r\n    \r\n        private static void updateChunkStream(String filename, ByteArrayInputStream chunk) {\r\n            List&lt;ByteArrayInputStream&gt; chunks;\r\n            if (chunkStreams.containsKey(filename)) {\r\n                chunks = chunkStreams.get(filename);\r\n            } else {\r\n                chunks = new ArrayList&lt;&gt;();\r\n            }\r\n            chunks.add(chunk);\r\n            chunkStreams.put(filename, chunks);\r\n        }\r\n    \r\n        private static void updateChunks(String filename, byte[] chunkBytes) {\r\n            List&lt;byte[]&gt; chunks;\r\n            if (fileChunks.containsKey(filename)) {\r\n                chunks = fileChunks.get(filename);\r\n            } else {\r\n                chunks = new ArrayList&lt;&gt;();\r\n            }\r\n            chunks.add(chunkBytes);\r\n            fileChunks.put(filename, chunks);\r\n        }\r\n    \r\n        public boolean uploadInsights(\r\n                String filename, @NonNull MultipartFile fileChunk, int chunkNumber, int totalChunks) {\r\n            BlobClient blobClient = getBlobClient(filename);\r\n            String base64ChunkId =\r\n                    Base64.getEncoder().encodeToString(String.valueOf(chunkNumber).getBytes());\r\n            updateChunkIds(filename, base64ChunkId);\r\n            try {\r\n                byte[] chunkBytes = getChunkBytes(fileChunk);\r\n                updateChunks(filename, chunkBytes);\r\n                ByteArrayInputStream chunk = new ByteArrayInputStream(chunkBytes);\r\n                updateChunkStream(filename, chunk);\r\n            } catch (IOException e) {\r\n                throw new AppException(e.getMessage());\r\n            }\r\n            if (chunkNumber == totalChunks - 1) {\r\n                List&lt;String&gt; chunkNumbers = chunkIds.get(filename);\r\n                List&lt;byte[]&gt; chunkBytes = fileChunks.get(filename);\r\n                List&lt;ByteArrayInputStream&gt; chunks = chunkStreams.get(filename);\r\n                BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\r\n                try {\r\n                    for (int i = 0; i &lt; chunkNumbers.size(); i++) {\r\n                        log.info(&quot;Chunk Number {}, Chunk Size {}&quot;, i, chunkBytes.get(i).length);\r\n                        blockBlobClient.stageBlock(\r\n                                chunkNumbers.get(i), chunks.get(i), chunkBytes.get(i).length); // error area\r\n                    }\r\n                    blockBlobClient.commitBlockList(chunkNumbers);\r\n                    chunkIds.remove(filename);\r\n                    fileChunks.remove(filename);\r\n                    chunkStreams.remove(filename);\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage());\r\n                    chunkIds.remove(filename);\r\n                    fileChunks.remove(filename);\r\n                    chunkStreams.remove(filename);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private @NonNull BlobClient getBlobClient(String filename) {\r\n            return blobServiceClient.createBlobContainerIfNotExists(&quot;uploads&quot;).getBlobClient(filename);\r\n        }\r\n    }\r\n\r\n**Errors at server side**\r\n\r\n    Chunk Number 0, Chunk Size 2097152\r\n    Chunk Number 1, Chunk Size 2097152\r\n    Chunk Number 2, Chunk Size 2097152\r\n    Chunk Number 3, Chunk Size 2097152\r\n    Chunk Number 4, Chunk Size 2097152\r\n    Chunk Number 5, Chunk Size 2097152\r\n    Chunk Number 6, Chunk Size 2097152\r\n    Chunk Number 7, Chunk Size 2097152\r\n    Chunk Number 8, Chunk Size 2097152\r\n    Chunk Number 9, Chunk Size 2097152\r\n    Chunk Number 10, Chunk Size 2097152\r\n    Status code 400, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidBlobOrBlock&lt;/Code&gt;&lt;Message&gt;The specified blob or block content is invalid.\r\n    RequestId:30fc912d-801e-0014-0245-12c1d4000000\r\n    Time:2023-11-08T13:16:08.4879527Z&lt;/Message&gt;&lt;/Error&gt;&quot;\r\n\r\n","title":"Java - Spring Boot - Azure Blob Storage - Status Code 400 - InvalidBlobOrBlock - The specified blob or block content is invalid","body":"<p>I have to upload large zip file to Azure Blob Storage which contains xml files, each xml file size will be around 200-300 MB. I'm trying to upload the file in chunks using React JS and at the server side I'm using Spring Boot and receiving the chunks and I want to process all the chunks together. But at the <code>blockBlobClient.stageBlock()</code> I get 400 bad request with message <code>InvalidBlobOrBlock - The specified blob or block content is invalid</code> somewhere while processing. Here is the code that I have written. Please help me to resolve the issue.</p>\n<p><strong>Edit:</strong>\nSeems like Stage 11th block in blockBlobClient.stageBlock() is returning 400</p>\n<p><strong>React code: Chunk process and upload</strong></p>\n<pre><code>const uploadInsights = async () =&gt; {\n    setLoading(true);\n    const chunkSize = 2 * 1024 * 1024;\n    const totalChunks = Math.ceil(file.size / chunkSize);\n    let uploadedChunks = 0;\n    for (let chunkNumber = 0; chunkNumber &lt; totalChunks; chunkNumber++) {\n      const start = chunkNumber * chunkSize;\n      const end =\n        chunkNumber === totalChunks - 1\n          ? file.size\n          : (chunkNumber + 1) * chunkSize;\n      const chunk = file.slice(start, end);\n      console.log('chunk no', chunkNumber, 'chunk', chunk);\n      const formData = new FormData();\n      formData.append('filename', file.name);\n      formData.append('fileChunk', chunk);\n      // @ts-ignore\n      formData.append('chunkNumber', chunkNumber);\n      // @ts-ignore\n      formData.append('totalChunks', totalChunks);\n\n      try {\n        let response = await analyticsService.uploadFeatureAnalyticsInsights(\n          formData,\n        );\n        if (response?.data?.success) {\n          uploadedChunks++;\n          const newProgress = (uploadedChunks / totalChunks) * 100;\n          setProgress(newProgress);\n        } else {\n          console.log(\n            `Error uploading chunk ${chunkNumber + 1}: ${\n              response?.data?.status\n            }`,\n          );\n        }\n      } catch (error: any) {\n        console.log(\n          `Error uploading chunk ${chunkNumber + 1}: ${\n            error?.response?.status\n          }`,\n        );\n      }\n    }\n    setLoading(false);\n    setProgress(0);\n  };\n</code></pre>\n<p><strong>Java/Spring Boot</strong></p>\n<p><code>uploadInsights(...)</code> is the method that processes the file chunks</p>\n<pre><code>import com.azure.storage.blob.BlobClient;\nimport com.azure.storage.blob.BlobServiceClient;\nimport com.azure.storage.blob.specialized.BlockBlobClient;\nimport com.app.exception.general.AppException;\n\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.log4j.Log4j2;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.util.*;\nimport java.util.concurrent.ConcurrentHashMap;\n\n@Log4j2\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class FeatureAnalyticsService {\n\n    private static final Map&lt;String, List&lt;String&gt;&gt; chunkIds = new ConcurrentHashMap&lt;&gt;();\n\n    private static final Map&lt;String, List&lt;byte[]&gt;&gt; fileChunks = new ConcurrentHashMap&lt;&gt;();\n\n    private static final Map&lt;String, List&lt;ByteArrayInputStream&gt;&gt; chunkStreams =\n            new ConcurrentHashMap&lt;&gt;();\n\n    private final BlobServiceClient blobServiceClient;\n\n    private static byte @NonNull [] getChunkBytes(@NonNull MultipartFile fileChunk)\n            throws IOException {\n        return fileChunk.getInputStream().readAllBytes();\n    }\n\n    private static void updateChunkIds(String filename, String base64ChunkId) {\n        List&lt;String&gt; chunkNumbers;\n        if (chunkIds.containsKey(filename)) {\n            chunkNumbers = chunkIds.get(filename);\n        } else {\n            chunkNumbers = new ArrayList&lt;&gt;();\n        }\n        chunkNumbers.add(base64ChunkId);\n        chunkIds.put(filename, chunkNumbers);\n    }\n\n    private static void updateChunkStream(String filename, ByteArrayInputStream chunk) {\n        List&lt;ByteArrayInputStream&gt; chunks;\n        if (chunkStreams.containsKey(filename)) {\n            chunks = chunkStreams.get(filename);\n        } else {\n            chunks = new ArrayList&lt;&gt;();\n        }\n        chunks.add(chunk);\n        chunkStreams.put(filename, chunks);\n    }\n\n    private static void updateChunks(String filename, byte[] chunkBytes) {\n        List&lt;byte[]&gt; chunks;\n        if (fileChunks.containsKey(filename)) {\n            chunks = fileChunks.get(filename);\n        } else {\n            chunks = new ArrayList&lt;&gt;();\n        }\n        chunks.add(chunkBytes);\n        fileChunks.put(filename, chunks);\n    }\n\n    public boolean uploadInsights(\n            String filename, @NonNull MultipartFile fileChunk, int chunkNumber, int totalChunks) {\n        BlobClient blobClient = getBlobClient(filename);\n        String base64ChunkId =\n                Base64.getEncoder().encodeToString(String.valueOf(chunkNumber).getBytes());\n        updateChunkIds(filename, base64ChunkId);\n        try {\n            byte[] chunkBytes = getChunkBytes(fileChunk);\n            updateChunks(filename, chunkBytes);\n            ByteArrayInputStream chunk = new ByteArrayInputStream(chunkBytes);\n            updateChunkStream(filename, chunk);\n        } catch (IOException e) {\n            throw new AppException(e.getMessage());\n        }\n        if (chunkNumber == totalChunks - 1) {\n            List&lt;String&gt; chunkNumbers = chunkIds.get(filename);\n            List&lt;byte[]&gt; chunkBytes = fileChunks.get(filename);\n            List&lt;ByteArrayInputStream&gt; chunks = chunkStreams.get(filename);\n            BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\n            try {\n                for (int i = 0; i &lt; chunkNumbers.size(); i++) {\n                    log.info(&quot;Chunk Number {}, Chunk Size {}&quot;, i, chunkBytes.get(i).length);\n                    blockBlobClient.stageBlock(\n                            chunkNumbers.get(i), chunks.get(i), chunkBytes.get(i).length); // error area\n                }\n                blockBlobClient.commitBlockList(chunkNumbers);\n                chunkIds.remove(filename);\n                fileChunks.remove(filename);\n                chunkStreams.remove(filename);\n            } catch (Exception e) {\n                log.error(e.getMessage());\n                chunkIds.remove(filename);\n                fileChunks.remove(filename);\n                chunkStreams.remove(filename);\n                return false;\n            }\n        }\n        return true;\n    }\n\n    private @NonNull BlobClient getBlobClient(String filename) {\n        return blobServiceClient.createBlobContainerIfNotExists(&quot;uploads&quot;).getBlobClient(filename);\n    }\n}\n</code></pre>\n<p><strong>Errors at server side</strong></p>\n<pre><code>Chunk Number 0, Chunk Size 2097152\nChunk Number 1, Chunk Size 2097152\nChunk Number 2, Chunk Size 2097152\nChunk Number 3, Chunk Size 2097152\nChunk Number 4, Chunk Size 2097152\nChunk Number 5, Chunk Size 2097152\nChunk Number 6, Chunk Size 2097152\nChunk Number 7, Chunk Size 2097152\nChunk Number 8, Chunk Size 2097152\nChunk Number 9, Chunk Size 2097152\nChunk Number 10, Chunk Size 2097152\nStatus code 400, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;InvalidBlobOrBlock&lt;/Code&gt;&lt;Message&gt;The specified blob or block content is invalid.\nRequestId:30fc912d-801e-0014-0245-12c1d4000000\nTime:2023-11-08T13:16:08.4879527Z&lt;/Message&gt;&lt;/Error&gt;&quot;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","rest"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1699460132,"post_id":77447172,"comment_id":136535062,"body_markdown":"See https://stackoverflow.com/questions/76120200/postgres-consecutive-id-numbers-end-user","body":"See <a href=\"https://stackoverflow.com/questions/76120200/postgres-consecutive-id-numbers-end-user\" title=\"postgres consecutive id numbers end user\">stackoverflow.com/questions/76120200/&hellip;</a>"},{"owner":{"account_id":101001,"reputation":119768,"user_id":271959,"display_name":"Frank Heikens"},"score":0,"creation_date":1699460708,"post_id":77447172,"comment_id":136535183,"body_markdown":"That&#39;s how a sequence works. If you don&#39;t want this behavior, you can&#39;t use a sequence and you have to create your own algorithm.","body":"That&#39;s how a sequence works. If you don&#39;t want this behavior, you can&#39;t use a sequence and you have to create your own algorithm."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699460595,"creation_date":1699460595,"answer_id":77447277,"question_id":77447172,"body_markdown":"The reason for the gap is that an id was provided by a sequence or serial column or equivalent. That id source now moved on to the next higher id, it doesn&#39;t role back with the rest of the transaction. It kind of lives outside of transactions.\r\n\r\nThis is actually important, because creating sequential ids without gap is slow. If you would want to do that you&#39;d have to \r\n1. lock what ever generates your ids. \r\n2. Get the new id\r\n3. Use it\r\n4. eventually complete the transaction, releasing the lock.\r\nWhich basically means you are processing everything that needs an id sequentially.\r\n\r\nThis is really bad for performance and therefore normally not done.\r\n\r\nIf there really is a need for sequential ids the process above can be implemented.","title":"Why does a DataIntegrityViolationException in Spring consume an ID, resulting in a gap in the sequence, and how can it be fixed?","body":"<p>The reason for the gap is that an id was provided by a sequence or serial column or equivalent. That id source now moved on to the next higher id, it doesn't role back with the rest of the transaction. It kind of lives outside of transactions.</p>\n<p>This is actually important, because creating sequential ids without gap is slow. If you would want to do that you'd have to</p>\n<ol>\n<li>lock what ever generates your ids.</li>\n<li>Get the new id</li>\n<li>Use it</li>\n<li>eventually complete the transaction, releasing the lock.\nWhich basically means you are processing everything that needs an id sequentially.</li>\n</ol>\n<p>This is really bad for performance and therefore normally not done.</p>\n<p>If there really is a need for sequential ids the process above can be implemented.</p>\n"}],"owner":{"account_id":29856754,"reputation":1,"user_id":22881432,"display_name":"Lior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699460595,"creation_date":1699459545,"question_id":77447172,"body_markdown":"I have a @ControllerAdvice class with an exception handler that catches DataIntegrityViolationException when attempting to save a user with a name that already exists due to a unique constraint in my database. However, when this handler is triggered, it seems to &quot;consume&quot; the ID, and the next successful save operation results in a gap in the ID sequence. How can I fix it?\r\n\r\nHandler\r\n\r\n```\r\n@ControllerAdvice\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler(DataIntegrityViolationException.class)\r\n    protected ResponseEntity&lt;Object&gt; handleDataIntegrityViolation(DataIntegrityViolationException ex) {\r\n        var errorDTO = new ErrorDTO(BAD_REQUEST);\r\n        errorDTO.setMessage(&quot;The record with this name already exists&quot;);\r\n        errorDTO.setDebugMessage(ex.getMostSpecificCause().getMessage());\r\n        return buildResponseEntity(errorDTO);\r\n    }\r\n\r\n    private ResponseEntity&lt;Object&gt; buildResponseEntity(ErrorDTO errorDTO) {\r\n        return new ResponseEntity&lt;&gt;(errorDTO, errorDTO.getStatus());\r\n    }\r\n}\r\n```\r\n\r\nThe method in service layer:\r\n\r\n\r\n```\r\n@Transactional\r\n    public ReaderDTO saveDto(ReaderDTO readerDTO) {\r\n        var reader = readerMapper.readerDTOToReader(readerDTO);\r\n        var savedReader = readersRepository.save(reader);\r\n        return readerMapper.readerToReaderDTO(savedReader);\r\n    }\r\n```\r\n\r\nController method:\r\n\r\n```\r\n@Override\r\n    public ResponseEntity&lt;ReaderDTO&gt; create(ReaderDTO readerDTO) {\r\n        var savedDto = readerService.saveDto(readerDTO);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(savedDto);\r\n    }\r\n```\r\n\r\nand method in interface:\r\n\r\n```\r\n@Operation(\r\n            summary = &quot;Create a new reader&quot;,\r\n            description = &quot;Create a new reader record&quot;,\r\n            responses = {\r\n                    @ApiResponse(\r\n                            responseCode = &quot;201&quot;,\r\n                            description = &quot;Reader created successfully&quot;,\r\n                            content = @Content(\r\n                                    mediaType = &quot;application/json&quot;,\r\n                                    schema = @Schema(implementation = ReaderDTO.class)\r\n                            )\r\n                    ),\r\n                    @ApiResponse(\r\n                            responseCode = &quot;400&quot;,\r\n                            description = &quot;Bad request&quot;,\r\n                            content = @Content(\r\n                                    mediaType = &quot;application/json&quot;,\r\n                                    schema = @Schema(implementation = ErrorDTO.class)\r\n                            )\r\n                    )\r\n            }\r\n    )\r\n    @PostMapping\r\n    ResponseEntity&lt;ReaderDTO&gt; create(@RequestBody ReaderDTO readerDTO);\r\n```\r\n\r\nThanks in advance\r\n\r\n\r\n\r\nEverything is ok when I use the service method like that\r\n\r\n\r\n```\r\n @Transactional\r\n    public ReaderDTO saveDto(ReaderDTO readerDTO) {\r\n        var oneByName = findOneByName(readerDTO.getName());\r\n        if (oneByName.isPresent()) {\r\n            throw new DataIntegrityViolationException(&quot;Wow&quot;);\r\n        }\r\n        var reader = readerMapper.readerDTOToReader(readerDTO);\r\n        var savedReader = readersRepository.save(reader);\r\n        return readerMapper.readerToReaderDTO(savedReader);\r\n    }\r\n```\r\n\r\nbut I don&#39;t want to use direct throw of exception ","title":"Why does a DataIntegrityViolationException in Spring consume an ID, resulting in a gap in the sequence, and how can it be fixed?","body":"<p>I have a @ControllerAdvice class with an exception handler that catches DataIntegrityViolationException when attempting to save a user with a name that already exists due to a unique constraint in my database. However, when this handler is triggered, it seems to &quot;consume&quot; the ID, and the next successful save operation results in a gap in the ID sequence. How can I fix it?</p>\n<p>Handler</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(DataIntegrityViolationException.class)\n    protected ResponseEntity&lt;Object&gt; handleDataIntegrityViolation(DataIntegrityViolationException ex) {\n        var errorDTO = new ErrorDTO(BAD_REQUEST);\n        errorDTO.setMessage(&quot;The record with this name already exists&quot;);\n        errorDTO.setDebugMessage(ex.getMostSpecificCause().getMessage());\n        return buildResponseEntity(errorDTO);\n    }\n\n    private ResponseEntity&lt;Object&gt; buildResponseEntity(ErrorDTO errorDTO) {\n        return new ResponseEntity&lt;&gt;(errorDTO, errorDTO.getStatus());\n    }\n}\n</code></pre>\n<p>The method in service layer:</p>\n<pre><code>@Transactional\n    public ReaderDTO saveDto(ReaderDTO readerDTO) {\n        var reader = readerMapper.readerDTOToReader(readerDTO);\n        var savedReader = readersRepository.save(reader);\n        return readerMapper.readerToReaderDTO(savedReader);\n    }\n</code></pre>\n<p>Controller method:</p>\n<pre><code>@Override\n    public ResponseEntity&lt;ReaderDTO&gt; create(ReaderDTO readerDTO) {\n        var savedDto = readerService.saveDto(readerDTO);\n        return ResponseEntity.status(HttpStatus.CREATED).body(savedDto);\n    }\n</code></pre>\n<p>and method in interface:</p>\n<pre><code>@Operation(\n            summary = &quot;Create a new reader&quot;,\n            description = &quot;Create a new reader record&quot;,\n            responses = {\n                    @ApiResponse(\n                            responseCode = &quot;201&quot;,\n                            description = &quot;Reader created successfully&quot;,\n                            content = @Content(\n                                    mediaType = &quot;application/json&quot;,\n                                    schema = @Schema(implementation = ReaderDTO.class)\n                            )\n                    ),\n                    @ApiResponse(\n                            responseCode = &quot;400&quot;,\n                            description = &quot;Bad request&quot;,\n                            content = @Content(\n                                    mediaType = &quot;application/json&quot;,\n                                    schema = @Schema(implementation = ErrorDTO.class)\n                            )\n                    )\n            }\n    )\n    @PostMapping\n    ResponseEntity&lt;ReaderDTO&gt; create(@RequestBody ReaderDTO readerDTO);\n</code></pre>\n<p>Thanks in advance</p>\n<p>Everything is ok when I use the service method like that</p>\n<pre><code> @Transactional\n    public ReaderDTO saveDto(ReaderDTO readerDTO) {\n        var oneByName = findOneByName(readerDTO.getName());\n        if (oneByName.isPresent()) {\n            throw new DataIntegrityViolationException(&quot;Wow&quot;);\n        }\n        var reader = readerMapper.readerDTOToReader(readerDTO);\n        var savedReader = readersRepository.save(reader);\n        return readerMapper.readerToReaderDTO(savedReader);\n    }\n</code></pre>\n<p>but I don't want to use direct throw of exception</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2569410,"reputation":545,"user_id":2228525,"display_name":"Nitesh Sharma"},"score":0,"creation_date":1699453446,"post_id":77446351,"comment_id":136533331,"body_markdown":"can you please explain what do you want as a result ? you program is throwing IndexOutOfBound exception.","body":"can you please explain what do you want as a result ? you program is throwing IndexOutOfBound exception."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":5,"creation_date":1699453659,"post_id":77446351,"comment_id":136533387,"body_markdown":"`scnr.next()` → `scnr.nextLine()` ?","body":"<code>scnr.next()</code> → <code>scnr.nextLine()</code> ?"},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1699453818,"post_id":77446351,"comment_id":136533432,"body_markdown":"@NiteshSharma no it doesn&#39;t?","body":"@NiteshSharma no it doesn&#39;t?"},{"owner":{"account_id":29855777,"reputation":11,"user_id":22880638,"display_name":"aLop"},"score":0,"creation_date":1699453857,"post_id":77446351,"comment_id":136533445,"body_markdown":"that was it...why did I not think of that. Thank you so much","body":"that was it...why did I not think of that. Thank you so much"},{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1699455459,"post_id":77446351,"comment_id":136533886,"body_markdown":"Please don&#39;t edit your question to add things like &quot;resolved&quot; to the title, and changing the body of the question to fix the problem. If you managed to solve your problem, that&#39;s great, but you mark a question as solved by accepting an answer(if it answered your question), if there is no current answer (or none that actually identify the problem), then post your own answer describing the solution in sufficient detail and accept it after the timeout.","body":"Please don&#39;t edit your question to add things like &quot;resolved&quot; to the title, and changing the body of the question to fix the problem. If you managed to solve your problem, that&#39;s great, but you mark a question as solved by accepting an answer(if it answered your question), if there is no current answer (or none that actually identify the problem), then post your own answer describing the solution in sufficient detail and accept it after the timeout."},{"owner":{"account_id":29855777,"reputation":11,"user_id":22880638,"display_name":"aLop"},"score":0,"creation_date":1699456223,"post_id":77446351,"comment_id":136534080,"body_markdown":"@MarkRotteveel My apologies, first time user of this site. will keep in mind for the future.","body":"@MarkRotteveel My apologies, first time user of this site. will keep in mind for the future."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699455742,"creation_date":1699455742,"answer_id":77446716,"question_id":77446351,"body_markdown":"First of all when you use `scan.next()` you get an input up to the next space character. You should use `scan.nextLine()` instead.\r\n\r\nSecond, do not use string concatenation in loop. Do use `StringBuilder` instead.\r\n\r\nOhter you code is fine.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n    System.out.println(removeNotLetters(scan.nextLine()));\r\n}\r\n\r\npublic static String removeNotLetters(String str) {\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        char ch = str.charAt(i);\r\n\r\n        if (Character.isLetter(ch))\r\n            buf.append(ch);\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"java Lab Remove all non-alpha characters","body":"<p>First of all when you use <code>scan.next()</code> you get an input up to the next space character. You should use <code>scan.nextLine()</code> instead.</p>\n<p>Second, do not use string concatenation in loop. Do use <code>StringBuilder</code> instead.</p>\n<p>Ohter you code is fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n    System.out.println(removeNotLetters(scan.nextLine()));\n}\n\npublic static String removeNotLetters(String str) {\n    StringBuilder buf = new StringBuilder(str.length());\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        char ch = str.charAt(i);\n\n        if (Character.isLetter(ch))\n            buf.append(ch);\n    }\n\n    return buf.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29855777,"reputation":11,"user_id":22880638,"display_name":"aLop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699458404,"creation_date":1699457125,"answer_id":77446897,"question_id":77446351,"body_markdown":"@teapot418 was correct scnr.next() → scnr.nextLine() fixed the issue.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String uInput = scnr.nextLine();\r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; uInput.length(); i++) {\r\n         char c = uInput.charAt(i);\r\n         if (Character.isLetter(c)) {\r\n            result += c;\r\n         }\r\n      }\r\n      System.out.println(result);          \r\n   }\r\n}\r\n```","title":"java Lab Remove all non-alpha characters","body":"<p>@teapot418 was correct scnr.next() → scnr.nextLine() fixed the issue.</p>\n<pre><code>import java.util.Scanner;\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String uInput = scnr.nextLine();\n      String result = &quot;&quot;;\n      \n      for (int i = 0; i &lt; uInput.length(); i++) {\n         char c = uInput.charAt(i);\n         if (Character.isLetter(c)) {\n            result += c;\n         }\n      }\n      System.out.println(result);          \n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699460205,"creation_date":1699460205,"answer_id":77447233,"question_id":77446351,"body_markdown":"If you&#39;re learning loops, then you&#39;ll eventually also see the [Enhanced For Loop](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html):\r\n\r\n    for (char c : uInput.toCharArray()) {\r\n       if (Character.isLetter(c)) {\r\n          result += c;\r\n       }\r\n    }\r\n","title":"java Lab Remove all non-alpha characters","body":"<p>If you're learning loops, then you'll eventually also see the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">Enhanced For Loop</a>:</p>\n<pre><code>for (char c : uInput.toCharArray()) {\n   if (Character.isLetter(c)) {\n      result += c;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":29855777,"reputation":11,"user_id":22880638,"display_name":"aLop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1699460205,"creation_date":1699453147,"question_id":77446351,"body_markdown":"&gt; Write a program that removes all non alpha characters from the given\r\n&gt; input.\r\n&gt; \r\n&gt; Ex: If the input is:\r\n&gt; -Hello, 1 world$!\r\n&gt; \r\n&gt; the output is: Helloworld\r\n\r\nMy issue is that I can only return the first word &quot;Hello&quot;. This section is on loops, so I&#39;m trying to use a loop.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String uInput = scnr.next();\r\n      String result = &quot;&quot;;\r\n      \r\n      for (int i = 0; i &lt; uInput.length(); i++) {\r\n         char c = uInput.charAt(i);\r\n         if (Character.isLetter(c)) {\r\n            result += c;\r\n         }\r\n      }\r\n      System.out.println(result);\r\n            \r\n   }\r\n}\r\n","title":"java Lab Remove all non-alpha characters","body":"<blockquote>\n<p>Write a program that removes all non alpha characters from the given\ninput.</p>\n<p>Ex: If the input is:\n-Hello, 1 world$!</p>\n<p>the output is: Helloworld</p>\n</blockquote>\n<p>My issue is that I can only return the first word &quot;Hello&quot;. This section is on loops, so I'm trying to use a loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String uInput = scnr.next();\n      String result = &quot;&quot;;\n      \n      for (int i = 0; i &lt; uInput.length(); i++) {\n         char c = uInput.charAt(i);\n         if (Character.isLetter(c)) {\n            result += c;\n         }\n      }\n      System.out.println(result);\n            \n   }\n}\n</code></pre>\n"},{"tags":["java","quarkus","drools","bpmn","kogito"],"comments":[{"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"score":0,"creation_date":1699539824,"post_id":77447104,"comment_id":136546947,"body_markdown":"I&#39;m probably not understanding your question, but you can declare the same DataStore in multiple different rule units and then pass the same DataStore instance to all of them at creation time or even set it at a later stage. What am I missing?","body":"I&#39;m probably not understanding your question, but you can declare the same DataStore in multiple different rule units and then pass the same DataStore instance to all of them at creation time or even set it at a later stage. What am I missing?"},{"owner":{"account_id":29856413,"reputation":11,"user_id":22881156,"display_name":"Chaudassin"},"score":0,"creation_date":1699870433,"post_id":77447104,"comment_id":136580744,"body_markdown":"@MarioFusco, let me clarify : with Drools 7, the Working Memory was persistent through ALL the BPMN process. That was very useful because I could declare a variable that was readable and writable through all the process.\n\nWith drools 8 and the RuleUnit style, it seems that every RuleUnit has it own Working Memory, which means there is no more a persistent memory area through the whole workflow.\n\nSeems like the only way to reproduce the behaviour is to declare a process variable in the bpmn and initialize every DataStore in the RuleUnit with it, but it&#39;s not as simple as what I had before.","body":"@MarioFusco, let me clarify : with Drools 7, the Working Memory was persistent through ALL the BPMN process. That was very useful because I could declare a variable that was readable and writable through all the process.  With drools 8 and the RuleUnit style, it seems that every RuleUnit has it own Working Memory, which means there is no more a persistent memory area through the whole workflow.  Seems like the only way to reproduce the behaviour is to declare a process variable in the bpmn and initialize every DataStore in the RuleUnit with it, but it&#39;s not as simple as what I had before."},{"owner":{"account_id":17250244,"reputation":226,"user_id":12490561,"display_name":"Emmanuel B."},"score":0,"creation_date":1699896862,"post_id":77447104,"comment_id":136585782,"body_markdown":"Hi @Chaudassin, \nmaybe another way to phrase it :  is there a way to share a set of objets between BPMN tasks without having to declare them explicitely in a Java Holder object like RuleUnit ?\n\nThe &quot;insert&quot; keyword authorized that in a way in previous drools version as the wm info (with these anonymous &quot;new&quot; objets inserted) was shared among different DRL tasks.\n\nSo some objects in the WM were transient to process/rules and unknown  to outside world. \n\nsee also :  https://stackoverflow.com/questions/77444305/how-does-drl-key-insert-in-rule-conditions-works-with-ruleunit-in-drools","body":"Hi @Chaudassin,  maybe another way to phrase it :  is there a way to share a set of objets between BPMN tasks without having to declare them explicitely in a Java Holder object like RuleUnit ?  The &quot;insert&quot; keyword authorized that in a way in previous drools version as the wm info (with these anonymous &quot;new&quot; objets inserted) was shared among different DRL tasks.  So some objects in the WM were transient to process/rules and unknown  to outside world.   see also :  <a href=\"https://stackoverflow.com/questions/77444305/how-does-drl-key-insert-in-rule-conditions-works-with-ruleunit-in-drools\" title=\"how does drl key insert in rule conditions works with ruleunit in drools\">stackoverflow.com/questions/77444305/&hellip;</a>"}],"owner":{"account_id":29856413,"reputation":11,"user_id":22881156,"display_name":"Chaudassin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1699459856,"creation_date":1699458961,"question_id":77447104,"body_markdown":"Context : I am migrating my Java/DRL project from Drools 7 to Drools 8.\r\n\r\nTo do this I am using the new Rule Unit style combined with kogito/quarkus recommended by Drools. I am trying to figure out how one can achieve to do this :\r\n\r\n&gt; DataSources can be shared across different units, providing a\r\n&gt; coordination mechanism between them. (source -&gt; [sharing_dataSource](https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/KIE/index.html#rule-unit-api_packaging-deploying) )\r\n\r\nLet&#39;s say I have two Rule Unit A and B such as :\r\n\r\n*Start -&gt; A -&gt; B -&gt; End*\r\n\r\nThen I should define two Java Class **AUnit** and **BUnit** implementing RuleUnitData. Both class have their owns DataStore fields standing for the entry-point of each rule unit.\r\n\r\nI don&#39;t understand how it is possible to define a shared DataStore between my two RuleUnits since a DataStore should be declared in either one or the other one ... But maybe I&#39;m getting wrong on something.\r\n\r\nI have actually no idea how to do this.","title":"How to share DataStore between two different rule unit in a BPMN process with Drools 8?","body":"<p>Context : I am migrating my Java/DRL project from Drools 7 to Drools 8.</p>\n<p>To do this I am using the new Rule Unit style combined with kogito/quarkus recommended by Drools. I am trying to figure out how one can achieve to do this :</p>\n<blockquote>\n<p>DataSources can be shared across different units, providing a\ncoordination mechanism between them. (source -&gt; <a href=\"https://docs.drools.org/8.39.0.Final/drools-docs/docs-website/drools/KIE/index.html#rule-unit-api_packaging-deploying\" rel=\"nofollow noreferrer\">sharing_dataSource</a> )</p>\n</blockquote>\n<p>Let's say I have two Rule Unit A and B such as :</p>\n<p><em>Start -&gt; A -&gt; B -&gt; End</em></p>\n<p>Then I should define two Java Class <strong>AUnit</strong> and <strong>BUnit</strong> implementing RuleUnitData. Both class have their owns DataStore fields standing for the entry-point of each rule unit.</p>\n<p>I don't understand how it is possible to define a shared DataStore between my two RuleUnits since a DataStore should be declared in either one or the other one ... But maybe I'm getting wrong on something.</p>\n<p>I have actually no idea how to do this.</p>\n"},{"tags":["java","xml","parsing","dom"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1699389110,"post_id":77441217,"comment_id":136524850,"body_markdown":"You are trying to parse invalid XML? The expected result is an error.","body":"You are trying to parse invalid XML? The expected result is an error."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1699389282,"post_id":77441217,"comment_id":136524870,"body_markdown":"your question isn&#39;t really about xml parsing.  you are really asking how to handle data which you expect to be there, which is not (the xml itself is valid).  this is entirely up to you as the developer.  if the data is allowed to be missing, then you should just keep going.  if the data is required, then you should throw an exception or return some other appropriate error to the user.","body":"your question isn&#39;t really about xml parsing.  you are really asking how to handle data which you expect to be there, which is not (the xml itself is valid).  this is entirely up to you as the developer.  if the data is allowed to be missing, then you should just keep going.  if the data is required, then you should throw an exception or return some other appropriate error to the user."},{"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"score":0,"creation_date":1699389402,"post_id":77441217,"comment_id":136524894,"body_markdown":"While asking a question, you need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example):\nPlease edit your original question and provide the following:\n(1) Well-formed XML file sample. \n(2) What you need to do, i.e. logic, and your code attempt trying to implement it. \n(3) Desired output based on the sample data in #1 above.\nAll within the question as text, no images.","body":"While asking a question, you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: Please edit your original question and provide the following: (1) Well-formed XML file sample.  (2) What you need to do, i.e. logic, and your code attempt trying to implement it.  (3) Desired output based on the sample data in #1 above. All within the question as text, no images."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699389486,"post_id":77441217,"comment_id":136524910,"body_markdown":"@jtahlborn Please distinguish between well-formed and valid. A document is valid when it passed the grammar (=schema) test.","body":"@jtahlborn Please distinguish between well-formed and valid. A document is valid when it passed the grammar (=schema) test."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699389783,"post_id":77441217,"comment_id":136524963,"body_markdown":"@aled Valid/invalid XML requires a schema check. As long as that is not happening, all he is trying to parse is wellformed XML, or he gets some syntax error.","body":"@aled Valid/invalid XML requires a schema check. As long as that is not happening, all he is trying to parse is wellformed XML, or he gets some syntax error."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699389624,"creation_date":1699389280,"answer_id":77441302,"question_id":77441217,"body_markdown":"You are parsing XML into a DOM structure, for that all you need is a syntactically correct XML document. Insiders will talk about a &#39;well formed&#39; document.\r\n\r\nNow you want to enforce that only specific tags are being used, and maybe you want to enforce they occur in the right amount or sequence. This is where you need to define which tags, how often and in what order they should appear.\r\nSuch information goes into a grammar, which would be defined in an [XML Schema][1]. A document that passed a grammar check is called valid.\r\n\r\nThe W3C has a very nice introduction into the topic called [XML Schema Part0: Primer][2].\r\n\r\nIf you believe that is too much to deal with for your small example, you can put the validation into your application. On the DOM tree check whether an element has the expected child node. Or check if it has the expected attribute. If it is missing, your code may make use of a default value.\r\nBut if your document is getting complex, the schema based approach will all of a sudden look simpler and easier to maintain.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/XML_Schema_(W3C)\r\n  [2]: https://www.w3.org/TR/xmlschema-0/","title":"How to handle missing tag when parsing xml using DOM?","body":"<p>You are parsing XML into a DOM structure, for that all you need is a syntactically correct XML document. Insiders will talk about a 'well formed' document.</p>\n<p>Now you want to enforce that only specific tags are being used, and maybe you want to enforce they occur in the right amount or sequence. This is where you need to define which tags, how often and in what order they should appear.\nSuch information goes into a grammar, which would be defined in an <a href=\"https://en.wikipedia.org/wiki/XML_Schema_(W3C)\" rel=\"nofollow noreferrer\">XML Schema</a>. A document that passed a grammar check is called valid.</p>\n<p>The W3C has a very nice introduction into the topic called <a href=\"https://www.w3.org/TR/xmlschema-0/\" rel=\"nofollow noreferrer\">XML Schema Part0: Primer</a>.</p>\n<p>If you believe that is too much to deal with for your small example, you can put the validation into your application. On the DOM tree check whether an element has the expected child node. Or check if it has the expected attribute. If it is missing, your code may make use of a default value.\nBut if your document is getting complex, the schema based approach will all of a sudden look simpler and easier to maintain.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163837,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699459766,"creation_date":1699389716,"answer_id":77441346,"question_id":77441217,"body_markdown":"&gt; Tell me how to handle this case so that in its absence, some other string is written to the ArrayList (for example, &quot;No data&quot;)?\r\n\r\nIf you want defaults for the &quot;title&quot; and &quot;enclosure&quot; values, then set them, on a per-item basis.  For example,\r\n```\r\n        // ...\r\n        Element itemElement = (Element) itemNodeList.item(i);\r\n        String itemTitle = &quot;No title&quot;;\r\n        String itemEnclosure = &quot;no data&quot;;\r\n        // ...\r\n```\r\nThen replace those appropriately as you parse the child nodes, instead of immediately updating your lists.  For example,\r\n```\r\n                    // ...\r\n                    case &quot;enclosure&quot;:{\r\n                        itemEnclosure = childElement.getAttribute(&quot;url&quot;);\r\n                        break;\r\n                    }\r\n                    // ...\r\n```\r\nAfter you have processed all the children of each item node, you have the appropriate information to add to your lists, whether it was read from child nodes or remains the default:\r\n```\r\n        // ...\r\n        for (int j = 0; j &lt; childNodes.getLength(); j++){\r\n            // ...\r\n        }\r\n        title.add(itemTitle);\r\n        enclosure.add(itemEnclosure);\r\n        // ...\r\n```\r\n\r\n----\r\nBe aware, however, that if any of your items contain more than one title or more than one enclosure, then some of those will not be captured.  If you want to be able to support multiples like that then you need a different internal representation for your data.","title":"How to handle missing tag when parsing xml using DOM?","body":"<blockquote>\n<p>Tell me how to handle this case so that in its absence, some other string is written to the ArrayList (for example, &quot;No data&quot;)?</p>\n</blockquote>\n<p>If you want defaults for the &quot;title&quot; and &quot;enclosure&quot; values, then set them, on a per-item basis.  For example,</p>\n<pre><code>        // ...\n        Element itemElement = (Element) itemNodeList.item(i);\n        String itemTitle = &quot;No title&quot;;\n        String itemEnclosure = &quot;no data&quot;;\n        // ...\n</code></pre>\n<p>Then replace those appropriately as you parse the child nodes, instead of immediately updating your lists.  For example,</p>\n<pre><code>                    // ...\n                    case &quot;enclosure&quot;:{\n                        itemEnclosure = childElement.getAttribute(&quot;url&quot;);\n                        break;\n                    }\n                    // ...\n</code></pre>\n<p>After you have processed all the children of each item node, you have the appropriate information to add to your lists, whether it was read from child nodes or remains the default:</p>\n<pre><code>        // ...\n        for (int j = 0; j &lt; childNodes.getLength(); j++){\n            // ...\n        }\n        title.add(itemTitle);\n        enclosure.add(itemEnclosure);\n        // ...\n</code></pre>\n<hr />\n<p>Be aware, however, that if any of your items contain more than one title or more than one enclosure, then some of those will not be captured.  If you want to be able to support multiples like that then you need a different internal representation for your data.</p>\n"}],"owner":{"account_id":18844459,"reputation":5,"user_id":17542986,"display_name":"Илья Величко"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77441346,"answer_count":2,"score":0,"last_activity_date":1699459766,"creation_date":1699388314,"question_id":77441217,"body_markdown":"I&#39;m trying to do XML parsing using DOM, but the problem is that the &lt;enclosure&gt; tag is missing in some places. Tell me how to handle this case so that in its absence, some other string is written to the ArrayList (for example, &quot;No data&quot;)? I&#39;m new to Java. I did it according to the tutorial\r\n\r\nXML of similar content:\r\n\r\n    &lt;item&gt;\r\n    &lt;title&gt;number 1&lt;/title&gt;\r\n    &lt;/item&gt;\r\n    \r\n    &lt;item&gt;\r\n    &lt;title&gt;number 2&lt;/title&gt;\r\n    &lt;enclosure url=&quot;https://www.google.com/&quot;/&gt;\r\n    &lt;/item&gt;\r\n\r\nPart of the Java Code:\r\n\r\n    List&lt;String&gt; title = new ArrayList&lt;&gt;(); \r\n    List&lt;String&gt; enclosure = new ArrayList&lt;&gt;();\r\n\r\n    NodeList itemNodeList = document.getElementsByTagName(&quot;item&quot;);\r\n    for (int i = 0; i &lt; itemNodeList.getLength(); i++){\r\n        if (itemNodeList.item(i).getNodeType() == Node.ELEMENT_NODE){\r\n            Element itemElement = (Element) itemNodeList.item(i);\r\n\r\n            NodeList childNodes = itemElement.getChildNodes();\r\n            for (int j = 0; j &lt; childNodes.getLength(); j++){\r\n                if (childNodes.item(j).getNodeType() == Node.ELEMENT_NODE){\r\n                    Element childElement = (Element) childNodes.item(j);\r\n                    \r\n                    switch (childElement.getNodeName()){\r\n                        case &quot;title&quot;:{\r\n                            title.add(childElement.getTextContent());  \r\n                            break;\r\n                        }\r\n                        case &quot;enclosure&quot;:{\r\n                            String info = childElement.getAttribute(&quot;url&quot;);\r\n                            enclosure.add(info); \r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to handle missing tag when parsing xml using DOM?","body":"<p>I'm trying to do XML parsing using DOM, but the problem is that the  tag is missing in some places. Tell me how to handle this case so that in its absence, some other string is written to the ArrayList (for example, &quot;No data&quot;)? I'm new to Java. I did it according to the tutorial</p>\n<p>XML of similar content:</p>\n<pre><code>&lt;item&gt;\n&lt;title&gt;number 1&lt;/title&gt;\n&lt;/item&gt;\n\n&lt;item&gt;\n&lt;title&gt;number 2&lt;/title&gt;\n&lt;enclosure url=&quot;https://www.google.com/&quot;/&gt;\n&lt;/item&gt;\n</code></pre>\n<p>Part of the Java Code:</p>\n<pre><code>List&lt;String&gt; title = new ArrayList&lt;&gt;(); \nList&lt;String&gt; enclosure = new ArrayList&lt;&gt;();\n\nNodeList itemNodeList = document.getElementsByTagName(&quot;item&quot;);\nfor (int i = 0; i &lt; itemNodeList.getLength(); i++){\n    if (itemNodeList.item(i).getNodeType() == Node.ELEMENT_NODE){\n        Element itemElement = (Element) itemNodeList.item(i);\n\n        NodeList childNodes = itemElement.getChildNodes();\n        for (int j = 0; j &lt; childNodes.getLength(); j++){\n            if (childNodes.item(j).getNodeType() == Node.ELEMENT_NODE){\n                Element childElement = (Element) childNodes.item(j);\n                \n                switch (childElement.getNodeName()){\n                    case &quot;title&quot;:{\n                        title.add(childElement.getTextContent());  \n                        break;\n                    }\n                    case &quot;enclosure&quot;:{\n                        String info = childElement.getAttribute(&quot;url&quot;);\n                        enclosure.add(info); \n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1430353520,"post_id":6172972,"comment_id":48034544,"body_markdown":"BTW: the correct way to write to the console is via `System.console()` (which knows the encoding), however this does not work with Eclipse as it has a missing console emulation.","body":"BTW: the correct way to write to the console is via <code>System.console()</code> (which knows the encoding), however this does not work with Eclipse as it has a missing console emulation."}],"answers":[{"tags":[],"owner":{"display_name":"user684934"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1306737325,"creation_date":1306737325,"answer_id":6173007,"question_id":6172972,"body_markdown":"Probably you want to ask your IDE, assuming you&#39;re using one.  If you&#39;re not, then it&#39;s whatever your shell is using.  If you happen to be using eclipse, it will be the same as your &quot;project characterset&quot;, which you can find/change by right-clicking on your project, properties, and Resource -&gt; Text file encoding","title":"How to get console charset?","body":"<p>Probably you want to ask your IDE, assuming you're using one.  If you're not, then it's whatever your shell is using.  If you happen to be using eclipse, it will be the same as your \"project characterset\", which you can find/change by right-clicking on your project, properties, and Resource -> Text file encoding</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306737408,"creation_date":1306737408,"answer_id":6173017,"question_id":6172972,"body_markdown":"In general: you&#39;d have to ask the *shell* what charset it is currently using to display characters. \r\n\r\nGuessing not knowing: there is no standard way in Java as (I guess) there&#39;s no standard for consoles to report the actual charset. We&#39;ll have to detect the actual operating system or *console provider* (eclipse, ...) and use their specific functionalities to get the name of the actual charset.\r\n\r\n","title":"How to get console charset?","body":"<p>In general: you'd have to ask the <em>shell</em> what charset it is currently using to display characters. </p>\n\n<p>Guessing not knowing: there is no standard way in Java as (I guess) there's no standard for consoles to report the actual charset. We'll have to detect the actual operating system or <em>console provider</em> (eclipse, ...) and use their specific functionalities to get the name of the actual charset.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303885,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306737737,"creation_date":1306737737,"answer_id":6173066,"question_id":6172972,"body_markdown":"There is no standardized way to get that information from the system. *Usually* it will be the platform default encoding, but as you&#39;ve noticed, that&#39;s not necessarily the case (it&#39;s not documented, as far as I know).\r\n\r\nYou *could* go the ugly route and use reflection to find out which encoding Java uses. The following code is **entirely un-portable** and has only been verified to work on one specific version of the OpenJDK, it&#39;s experimentation and **not** meant for production:\r\n\r\n\tfinal Class&lt;? extends PrintStream&gt; stdOutClass = System.out.getClass();\r\n\tfinal Field charOutField = stdOutClass.getDeclaredField(&quot;charOut&quot;);\r\n\tcharOutField.setAccessible(true);\r\n\tOutputStreamWriter o = (OutputStreamWriter) charOutField.get(System.out);\r\n\tSystem.out.println(o.getEncoding());\r\n\r\nThis prints `UTF8` [sic] on my system, which isn&#39;t surprising, as I&#39;m using a UTF-8 locale on a Linux machine.","title":"How to get console charset?","body":"<p>There is no standardized way to get that information from the system. <em>Usually</em> it will be the platform default encoding, but as you've noticed, that's not necessarily the case (it's not documented, as far as I know).</p>\n\n<p>You <em>could</em> go the ugly route and use reflection to find out which encoding Java uses. The following code is <strong>entirely un-portable</strong> and has only been verified to work on one specific version of the OpenJDK, it's experimentation and <strong>not</strong> meant for production:</p>\n\n<pre><code>final Class&lt;? extends PrintStream&gt; stdOutClass = System.out.getClass();\nfinal Field charOutField = stdOutClass.getDeclaredField(\"charOut\");\ncharOutField.setAccessible(true);\nOutputStreamWriter o = (OutputStreamWriter) charOutField.get(System.out);\nSystem.out.println(o.getEncoding());\n</code></pre>\n\n<p>This prints <code>UTF8</code> [sic] on my system, which isn't surprising, as I'm using a UTF-8 locale on a Linux machine.</p>\n"},{"tags":[],"owner":{"account_id":316613,"reputation":1876,"user_id":632879,"display_name":"ubzack"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1365696513,"creation_date":1365696513,"answer_id":15953692,"question_id":6172972,"body_markdown":"Since JDK 1.1, you can construct an OutputStreamWriter using the System out field, and call getEncoding().\r\n\r\n    OutputStreamWriter osw = new OutputStreamWriter(System.out);\r\n    System.out.println(osw.getEncoding());","title":"How to get console charset?","body":"<p>Since JDK 1.1, you can construct an OutputStreamWriter using the System out field, and call getEncoding().</p>\n\n<pre><code>OutputStreamWriter osw = new OutputStreamWriter(System.out);\nSystem.out.println(osw.getEncoding());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316051,"reputation":2805,"user_id":2033093,"display_name":"David M. Lloyd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699459689,"creation_date":1699459689,"answer_id":77447187,"question_id":6172972,"body_markdown":"Since Java 17, there is a method called `charset` on `java.io.Console` which you can call to get the encoding for the console. Use it like this:\r\n\r\n```java\r\nConsole con = System.console();\r\nCharset cs = con.charset();\r\n```\r\n","title":"How to get console charset?","body":"<p>Since Java 17, there is a method called <code>charset</code> on <code>java.io.Console</code> which you can call to get the encoding for the console. Use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Console con = System.console();\nCharset cs = con.charset();\n</code></pre>\n"}],"owner":{"account_id":748218,"reputation":165,"user_id":739890,"display_name":"tmp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4350,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6173017,"answer_count":5,"score":9,"last_activity_date":1699459689,"creation_date":1306737021,"question_id":6172972,"body_markdown":"How to get console (cmd.exe in windows, linux shell, or eclipse console output) charset encoding?\r\n`java.nio.charset.Charset.defaultCharset()` seems to be only for input/output files, not console.","title":"How to get console charset?","body":"<p>How to get console (cmd.exe in windows, linux shell, or eclipse console output) charset encoding?\n<code>java.nio.charset.Charset.defaultCharset()</code> seems to be only for input/output files, not console.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1638456353,"post_id":70199219,"comment_id":124097530,"body_markdown":"The code looks fine. Make sure you have the latest jdk, and the latest PDFBox version (2.0.24).","body":"The code looks fine. Make sure you have the latest jdk, and the latest PDFBox version (2.0.24)."},{"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"score":0,"creation_date":1638683284,"post_id":70199219,"comment_id":124150398,"body_markdown":"@TilmanHausherr i changed PDFBox to latest version and my jdk is 11.0.2. The message still appear (twice). Should the warning bother me?","body":"@TilmanHausherr i changed PDFBox to latest version and my jdk is 11.0.2. The message still appear (twice). Should the warning bother me?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1638775083,"post_id":70199219,"comment_id":124168688,"body_markdown":"The warning isn&#39;t that important, it warns about poor quality programming. However if it warns twice despite that you create only one document, then it means the code above isn&#39;t your actual code. Look for other `new PDDocument()` or `PDDocument.load()` occurrences in your code.","body":"The warning isn&#39;t that important, it warns about poor quality programming. However if it warns twice despite that you create only one document, then it means the code above isn&#39;t your actual code. Look for other <code>new PDDocument()</code> or <code>PDDocument.load()</code> occurrences in your code."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1638775133,"post_id":70199219,"comment_id":124168699,"body_markdown":"The current jdk11 is `11.0.13`, not `11.0.2`.","body":"The current jdk11 is <code>11.0.13</code>, not <code>11.0.2</code>."}],"answers":[{"tags":[],"owner":{"account_id":19717239,"reputation":98,"user_id":14436422,"display_name":"spartalos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699459192,"creation_date":1699459192,"answer_id":77447130,"question_id":70199219,"body_markdown":"According to their documentation you have to close the pdf in a finally block:\r\n\r\nhttps://pdfbox.apache.org/2.0/faq.html#why-do-i-get-a-%22warning%3A-you-did-not-close-the-pdf-document%22%3F\r\n\r\nIt&#39;s worth a try.","title":"PdfBox: You did not close a PDF Document","body":"<p>According to their documentation you have to close the pdf in a finally block:</p>\n<p><a href=\"https://pdfbox.apache.org/2.0/faq.html#why-do-i-get-a-%22warning%3A-you-did-not-close-the-pdf-document%22%3F\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/2.0/faq.html#why-do-i-get-a-%22warning%3A-you-did-not-close-the-pdf-document%22%3F</a></p>\n<p>It's worth a try.</p>\n"}],"owner":{"account_id":22795094,"reputation":25,"user_id":16948779,"display_name":"Leah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":587,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1699459192,"creation_date":1638447038,"question_id":70199219,"body_markdown":"I have closed the PDDocument in Apache PDFBox after convert image to pdf. I am getting the warning: You did not close PDF Document when I shutdown my instance. \r\n\r\nCode:\r\n\r\n    private File imageToPDDocument(Path mergeDirectory, File file) throws IOException {\r\n            PDDocument doc = new PDDocument();\r\n            InputStream in = new FileInputStream(file);\r\n            BufferedImage bimg = ImageIO.read(in);\r\n            float width = bimg.getWidth();\r\n            float height = bimg.getHeight();\r\n            PDPage page = new PDPage(new PDRectangle(width, height));\r\n            doc.addPage(page);\r\n            PDImageXObject img = PDImageXObject.createFromFileByContent(file, doc);\r\n            PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n            contentStream.drawImage(img, 0, 0);\r\n            contentStream.close();\r\n            File pdfFile = Files.createTempFile(mergeDirectory, String.valueOf(System.currentTimeMillis()), &quot;.tmp&quot;).toFile();\r\n            doc.save(pdfFile);\r\n            in.close();\r\n            doc.close();\r\n            return pdfFile;\r\n        }","title":"PdfBox: You did not close a PDF Document","body":"<p>I have closed the PDDocument in Apache PDFBox after convert image to pdf. I am getting the warning: You did not close PDF Document when I shutdown my instance.</p>\n<p>Code:</p>\n<pre><code>private File imageToPDDocument(Path mergeDirectory, File file) throws IOException {\n        PDDocument doc = new PDDocument();\n        InputStream in = new FileInputStream(file);\n        BufferedImage bimg = ImageIO.read(in);\n        float width = bimg.getWidth();\n        float height = bimg.getHeight();\n        PDPage page = new PDPage(new PDRectangle(width, height));\n        doc.addPage(page);\n        PDImageXObject img = PDImageXObject.createFromFileByContent(file, doc);\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n        contentStream.drawImage(img, 0, 0);\n        contentStream.close();\n        File pdfFile = Files.createTempFile(mergeDirectory, String.valueOf(System.currentTimeMillis()), &quot;.tmp&quot;).toFile();\n        doc.save(pdfFile);\n        in.close();\n        doc.close();\n        return pdfFile;\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1699458966,"creation_date":1699458966,"answer_id":77447106,"question_id":77447049,"body_markdown":"Take the returns out of the individual ifs, and put it after the last check.  You want to run all the if statements to check all the error conditions.  The returns are making it leave the function after the first failure it finds.\r\n\r\nUse a single return right before you do the calculations that may not have data.  That will prevent a crash or incorrect results from not being able to run the calculation, but still run all the checks.","title":"How to setError() on EditText fields that dont meet the requirements","body":"<p>Take the returns out of the individual ifs, and put it after the last check.  You want to run all the if statements to check all the error conditions.  The returns are making it leave the function after the first failure it finds.</p>\n<p>Use a single return right before you do the calculations that may not have data.  That will prevent a crash or incorrect results from not being able to run the calculation, but still run all the checks.</p>\n"}],"owner":{"account_id":29856383,"reputation":3,"user_id":22881132,"display_name":"PocketGrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77447106,"answer_count":1,"score":0,"last_activity_date":1699458966,"creation_date":1699458441,"question_id":77447049,"body_markdown":"I am currently in the process of making my first high school Android App project. \r\nThe App is basically a pressure calculator where the user enters 2 numbers (force and area) and the output is the pressure (force/area) displayed in certain pressure units such as Bar, Pascal and mmHg.\r\nThat part is working fine, when I enter certain numbers I get the result that is correct.\r\nThe problem is when I want to setError() on EditText fields that dont meet the next requirements: 1. The input field is 0 (cant divide with 0) and 2. The field is empty.\r\nI have written code that prevents the app from crashing but doesnt properly set the error indicator on all fields that dont meet the criteria.\r\nFor an example, in this image although both of the fields are empty, I only get the error indicator on the 1st field and not the both: https://i.stack.imgur.com/vXXQj.png\r\nOr here, where one of the fields is empty and the other has a zero but only the empty field gets an indicator (https://i.stack.imgur.com/7pD63.png).\r\nHere is the code from MainActivity.java:\r\n\r\n\r\n```Java\r\n\r\n\r\n\r\npackage com.example.app_calculator;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Button;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TextView tvTitle, tvForce, tvSA, tvOutput, tvPascal, tvBar, tvmmHg;\r\n        EditText etForce, etSA;\r\n\r\n        Button button;\r\n\r\n       tvTitle=findViewById(R.id.tvTitle);\r\n       tvForce=findViewById(R.id.tvForce);\r\n       tvSA=findViewById(R.id.tvSA);\r\n       tvOutput=findViewById(R.id.tvOutput);\r\n       tvPascal=findViewById(R.id.tvPascal);\r\n       tvBar=findViewById(R.id.tvBar);\r\n       tvmmHg=findViewById(R.id.tvmmHg);\r\n\r\n       etForce=findViewById(R.id.etForce);\r\n       etSA=findViewById(R.id.etSA);\r\n\r\n\r\n       button=findViewById(R.id.button);\r\n\r\n\r\n\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n\r\n\r\n        String force0 = etForce.getText().toString();\r\n        String area0 = etSA.getText().toString();\r\n\r\n\r\n        String errorMsg1 = getString(R.string.key_errorMsg1);\r\n        String errorMsg2 = getString(R.string.key_errorMsg2);\r\n\r\n\r\n\r\n        if(force0.isEmpty()){\r\n            etForce.setError(errorMsg1);\r\n            return;\r\n        }\r\n\r\n        if(area0.isEmpty()){\r\n            etSA.setError(errorMsg1);\r\n            return;\r\n        }\r\n\r\n        if(area0.matches(&quot;0&quot;)){\r\n            etSA.setError(errorMsg2);\r\n            return;\r\n        }\r\n\r\n        if(force0.matches(&quot;0&quot;)){\r\n            etForce.setError(errorMsg2);\r\n            return;\r\n        }\r\n\r\n        if(!force0.isEmpty() &amp;&amp; !area0.isEmpty() &amp;&amp; !force0.matches(&quot;0&quot;) &amp;&amp; !area0.matches(&quot;0&quot;)){\r\n\r\n        double force = Double.valueOf(force0);\r\n        double area = Double.valueOf(area0);\r\n\r\n        //Paskali\r\n        double pascal = (double)force/area;\r\n        tvPascal.setText(String.valueOf(pascal+&quot; Pa&quot;));\r\n\r\n\r\n        //Bar\r\n        double bar = pascal/100000;\r\n        tvBar.setText(String.valueOf(bar+&quot; Bar&quot;));\r\n\r\n        //mmHg\r\n\r\n        double mmHg = pascal * 0.00750062;\r\n        tvmmHg.setText(String.valueOf(mmHg+&quot; mmHg&quot;));\r\n    }\r\n\r\n    }\r\n});\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried basically everything but have no clue how to fix it. Any help is appreciated.","title":"How to setError() on EditText fields that dont meet the requirements","body":"<p>I am currently in the process of making my first high school Android App project.\nThe App is basically a pressure calculator where the user enters 2 numbers (force and area) and the output is the pressure (force/area) displayed in certain pressure units such as Bar, Pascal and mmHg.\nThat part is working fine, when I enter certain numbers I get the result that is correct.\nThe problem is when I want to setError() on EditText fields that dont meet the next requirements: 1. The input field is 0 (cant divide with 0) and 2. The field is empty.\nI have written code that prevents the app from crashing but doesnt properly set the error indicator on all fields that dont meet the criteria.\nFor an example, in this image although both of the fields are empty, I only get the error indicator on the 1st field and not the both: <a href=\"https://i.stack.imgur.com/vXXQj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/vXXQj.png</a>\nOr here, where one of the fields is empty and the other has a zero but only the empty field gets an indicator (<a href=\"https://i.stack.imgur.com/7pD63.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7pD63.png</a>).\nHere is the code from MainActivity.java:</p>\n<pre><code>\n\n\npackage com.example.app_calculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Button;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TextView tvTitle, tvForce, tvSA, tvOutput, tvPascal, tvBar, tvmmHg;\n        EditText etForce, etSA;\n\n        Button button;\n\n       tvTitle=findViewById(R.id.tvTitle);\n       tvForce=findViewById(R.id.tvForce);\n       tvSA=findViewById(R.id.tvSA);\n       tvOutput=findViewById(R.id.tvOutput);\n       tvPascal=findViewById(R.id.tvPascal);\n       tvBar=findViewById(R.id.tvBar);\n       tvmmHg=findViewById(R.id.tvmmHg);\n\n       etForce=findViewById(R.id.etForce);\n       etSA=findViewById(R.id.etSA);\n\n\n       button=findViewById(R.id.button);\n\n\n\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n\n\n\n        String force0 = etForce.getText().toString();\n        String area0 = etSA.getText().toString();\n\n\n        String errorMsg1 = getString(R.string.key_errorMsg1);\n        String errorMsg2 = getString(R.string.key_errorMsg2);\n\n\n\n        if(force0.isEmpty()){\n            etForce.setError(errorMsg1);\n            return;\n        }\n\n        if(area0.isEmpty()){\n            etSA.setError(errorMsg1);\n            return;\n        }\n\n        if(area0.matches(&quot;0&quot;)){\n            etSA.setError(errorMsg2);\n            return;\n        }\n\n        if(force0.matches(&quot;0&quot;)){\n            etForce.setError(errorMsg2);\n            return;\n        }\n\n        if(!force0.isEmpty() &amp;&amp; !area0.isEmpty() &amp;&amp; !force0.matches(&quot;0&quot;) &amp;&amp; !area0.matches(&quot;0&quot;)){\n\n        double force = Double.valueOf(force0);\n        double area = Double.valueOf(area0);\n\n        //Paskali\n        double pascal = (double)force/area;\n        tvPascal.setText(String.valueOf(pascal+&quot; Pa&quot;));\n\n\n        //Bar\n        double bar = pascal/100000;\n        tvBar.setText(String.valueOf(bar+&quot; Bar&quot;));\n\n        //mmHg\n\n        double mmHg = pascal * 0.00750062;\n        tvmmHg.setText(String.valueOf(mmHg+&quot; mmHg&quot;));\n    }\n\n    }\n});\n\n\n\n    }\n}\n\n</code></pre>\n<p>I tried basically everything but have no clue how to fix it. Any help is appreciated.</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":25264129,"reputation":1,"user_id":19094587,"display_name":"Nouha Ameri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652334347,"creation_date":1652278444,"answer_id":72202634,"question_id":71606483,"body_markdown":"    kc.realm(realmName).groups().group(groupRepresentation.getId()).remove();\r\n\r\ntry to delete it with the group representation id it works.","title":"Keycloak: how to delete and edit a Group","body":"<pre><code>kc.realm(realmName).groups().group(groupRepresentation.getId()).remove();\n</code></pre>\n<p>try to delete it with the group representation id it works.</p>\n"},{"tags":[],"owner":{"account_id":20278663,"reputation":1,"user_id":14873027,"display_name":"Tatarusanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1699458936,"creation_date":1699458936,"answer_id":77447099,"question_id":71606483,"body_markdown":"Just for the record, this was the solution:\r\n\r\n    public void deleteKeycloakGroup() {\r\n        try {\r\n            GroupRepresentation groupRepresentation = keycloak.realm(realm)\r\n                    .groups()\r\n                    .groups()\r\n                    .stream()\r\n                    .filter(xpto -&gt; xpto.getName().equals()).collect(Collectors.toList()).get(0);\r\n\r\n            keycloak.realm(realm).groups().group(groupRepresentation.getId()).remove();\r\n\r\n        } catch (Exception e) {\r\n        }\r\n    }\r\n\r\n\r\nIgnore the .filter()...","title":"Keycloak: how to delete and edit a Group","body":"<p>Just for the record, this was the solution:</p>\n<pre><code>public void deleteKeycloakGroup() {\n    try {\n        GroupRepresentation groupRepresentation = keycloak.realm(realm)\n                .groups()\n                .groups()\n                .stream()\n                .filter(xpto -&gt; xpto.getName().equals()).collect(Collectors.toList()).get(0);\n\n        keycloak.realm(realm).groups().group(groupRepresentation.getId()).remove();\n\n    } catch (Exception e) {\n    }\n}\n</code></pre>\n<p>Ignore the .filter()...</p>\n"}],"owner":{"account_id":20278663,"reputation":1,"user_id":14873027,"display_name":"Tatarusanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1699458936,"creation_date":1648141052,"question_id":71606483,"body_markdown":"I already tried a bunch of different ways and none of them work.\r\n\r\n(First of all im using this, and works with other methods, like create/delete user, create group etc etc)\r\n\r\n    public void startKeycoak(String username, String password) {\r\n        Keycloak kc = KeycloakBuilder.builder()\r\n                .serverUrl(uri)\r\n                .realm(realmName)\r\n                .username(username)\r\n                .password(password)\r\n                .clientId(client)\r\n                .resteasyClient(\r\n                        new ResteasyClientBuilder()\r\n                                .connectionPoolSize(10).build())\r\n                .build();\r\n    \r\n        this.kc = kc;\r\n    }\r\n\r\nProblem starts here:\r\n\r\n    public void deleteGroup(String groupName) {\r\n        GroupRepresentation groupRepresentation = kc.realm(realmName)\r\n                .groups()\r\n                .groups()\r\n                .stream()\r\n                .filter(group -&gt; group.getName().equals(groupName)).collect(Collectors.toList()).get(0);\r\n    \r\n    \r\n        //  kc.realm(realmName).groups().group(existingGroups.getName()).remove(); -&gt; Not Working \r\n    \r\n      //  boolean a = kc.realm(realmName).groups().groups().remove(groupRepresentation); -&gt; Not Workings - returns a false\r\n    }\r\n    \r\n        public void updateGroup(String newName, String oldName) {\r\n            GroupRepresentation groupRepresentation = kc.realm(realmName)\r\n                    .groups()\r\n                    .groups()\r\n                    .stream()\r\n                    .filter(group -&gt; group.getName().equals(oldName)).collect(Collectors.toList()).get(0);\r\n    \r\n            //groupRepresentation.setName(newName);  -&gt; 1 - Not working\r\n    \r\n            //kc.realm(realmName).groups().groups().stream().filter(g -&gt; {  -&gt; 2 - Not Working\r\n                //g.setName(oldName);\r\n                //return false;\r\n            //});\r\n        }\r\n\r\nLike I said before its working with a lot of methods except those two.","title":"Keycloak: how to delete and edit a Group","body":"<p>I already tried a bunch of different ways and none of them work.</p>\n<p>(First of all im using this, and works with other methods, like create/delete user, create group etc etc)</p>\n<pre><code>public void startKeycoak(String username, String password) {\n    Keycloak kc = KeycloakBuilder.builder()\n            .serverUrl(uri)\n            .realm(realmName)\n            .username(username)\n            .password(password)\n            .clientId(client)\n            .resteasyClient(\n                    new ResteasyClientBuilder()\n                            .connectionPoolSize(10).build())\n            .build();\n\n    this.kc = kc;\n}\n</code></pre>\n<p>Problem starts here:</p>\n<pre><code>public void deleteGroup(String groupName) {\n    GroupRepresentation groupRepresentation = kc.realm(realmName)\n            .groups()\n            .groups()\n            .stream()\n            .filter(group -&gt; group.getName().equals(groupName)).collect(Collectors.toList()).get(0);\n\n\n    //  kc.realm(realmName).groups().group(existingGroups.getName()).remove(); -&gt; Not Working \n\n  //  boolean a = kc.realm(realmName).groups().groups().remove(groupRepresentation); -&gt; Not Workings - returns a false\n}\n\n    public void updateGroup(String newName, String oldName) {\n        GroupRepresentation groupRepresentation = kc.realm(realmName)\n                .groups()\n                .groups()\n                .stream()\n                .filter(group -&gt; group.getName().equals(oldName)).collect(Collectors.toList()).get(0);\n\n        //groupRepresentation.setName(newName);  -&gt; 1 - Not working\n\n        //kc.realm(realmName).groups().groups().stream().filter(g -&gt; {  -&gt; 2 - Not Working\n            //g.setName(oldName);\n            //return false;\n        //});\n    }\n</code></pre>\n<p>Like I said before its working with a lot of methods except those two.</p>\n"},{"tags":["java","testing","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1699481669,"post_id":77447088,"comment_id":136538958,"body_markdown":"Indeed, assertArg does not play well with multiple verifications of the same method - the assertion error is immediately propagated. Does a custom matcher / argThat fulfill your needs? If not, please explain why, ideally with a code example","body":"Indeed, assertArg does not play well with multiple verifications of the same method - the assertion error is immediately propagated. Does a custom matcher / argThat fulfill your needs? If not, please explain why, ideally with a code example"},{"owner":{"account_id":3239231,"reputation":151,"user_id":8937376,"display_name":"basseur"},"score":0,"creation_date":1699518294,"post_id":77447088,"comment_id":136542671,"body_markdown":"That would definitely be an option, but I was hoping that Mockito could already do that. I will try and come up with something.","body":"That would definitely be an option, but I was hoping that Mockito could already do that. I will try and come up with something."}],"owner":{"account_id":3239231,"reputation":151,"user_id":8937376,"display_name":"basseur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1699458824,"creation_date":1699458824,"question_id":77447088,"body_markdown":"When _verifying_ multiple different calls to a method of a mock, it is possible to call `verify()` twice for each invocation.\r\n\r\nThis will work when not using matchers:\r\n```java\r\n    @Test\r\n    @DisplayName(&quot;verify two different calls&quot;)\r\n    void verifyTwoDifferentCalls() {\r\n        someMock.someMethod(1, &quot;any string&quot;);\r\n        someMock.someMethod(2, &quot;any string&quot;);\r\n\r\n        verify(someMock).someMethod(1, &quot;any string&quot;);\r\n        verify(someMock).someMethod(2, &quot;any string&quot;);\r\n    }\r\n```\r\n\r\nThis will also work when using simple matchers:\r\n```java\r\n    @Test\r\n    @DisplayName(&quot;verify two different calls with eq()&quot;)\r\n    void verifyTwoDifferentCallsWithEq() {\r\n        someMock.someMethod(1, &quot;any string&quot;);\r\n        someMock.someMethod(2, &quot;any string&quot;);\r\n\r\n        verify(someMock).someMethod(eq(1), anyString());\r\n        verify(someMock).someMethod(eq(2), anyString());\r\n    }\r\n```\r\n\r\nHowever, it does not work when using `assertArg()`:\r\n```java\r\n    @Test\r\n    @DisplayName(&quot;verify two different calls with asserArg()&quot;)\r\n    void verifyTwoDifferentCallsWithAsserArg() {\r\n        someMock.someMethod(1, &quot;any string&quot;);\r\n        someMock.someMethod(2, &quot;any string&quot;);\r\n\r\n        verify(someMock).someMethod(\r\n            assertArg(someInt -&gt; assertThat(someInt).isEqualTo(1)),\r\n            anyString()\r\n        );\r\n        verify(someMock).someMethod(\r\n            assertArg(someInt -&gt; assertThat(someInt).isEqualTo(2)),\r\n            anyString()\r\n        );\r\n    }\r\n```\r\n\r\nThe reason behind this is probably the inner assertion failing on at least one of the calls.\r\n![image](https://github.com/mockito/mockito/assets/32487587/21a46e79-7512-44ad-8f3b-0ac1c4253fe0)\r\n\r\nSo far, the only way I know how to test something like this is to use `ArgumentCaptor`s:\r\n```java\r\n    @Test\r\n    @DisplayName(&quot;verify two different calls with ArgumentCaptor&quot;)\r\n    void verifyTwoDifferentCallsWithArgumentCaptor() {\r\n        someMock.someMethod(1, &quot;any string&quot;);\r\n        someMock.someMethod(2, &quot;any string&quot;);\r\n\r\n        final ArgumentCaptor&lt;Integer&gt; someIntCaptor = ArgumentCaptor.forClass(Integer.class);\r\n\r\n        verify(someMock, times(2)).someMethod(someIntCaptor.capture(), anyString());\r\n\r\n        assertThat(someIntCaptor.getAllValues()).containsExactly(1, 2);\r\n    }\r\n```\r\n\r\nNow, my question: Is there any way to do this without using an `ArgumentCaptor`?","title":"Assertions on arguments of called methods using Mockito but without ArgumentCaptor","body":"<p>When <em>verifying</em> multiple different calls to a method of a mock, it is possible to call <code>verify()</code> twice for each invocation.</p>\n<p>This will work when not using matchers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @DisplayName(&quot;verify two different calls&quot;)\n    void verifyTwoDifferentCalls() {\n        someMock.someMethod(1, &quot;any string&quot;);\n        someMock.someMethod(2, &quot;any string&quot;);\n\n        verify(someMock).someMethod(1, &quot;any string&quot;);\n        verify(someMock).someMethod(2, &quot;any string&quot;);\n    }\n</code></pre>\n<p>This will also work when using simple matchers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @DisplayName(&quot;verify two different calls with eq()&quot;)\n    void verifyTwoDifferentCallsWithEq() {\n        someMock.someMethod(1, &quot;any string&quot;);\n        someMock.someMethod(2, &quot;any string&quot;);\n\n        verify(someMock).someMethod(eq(1), anyString());\n        verify(someMock).someMethod(eq(2), anyString());\n    }\n</code></pre>\n<p>However, it does not work when using <code>assertArg()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @DisplayName(&quot;verify two different calls with asserArg()&quot;)\n    void verifyTwoDifferentCallsWithAsserArg() {\n        someMock.someMethod(1, &quot;any string&quot;);\n        someMock.someMethod(2, &quot;any string&quot;);\n\n        verify(someMock).someMethod(\n            assertArg(someInt -&gt; assertThat(someInt).isEqualTo(1)),\n            anyString()\n        );\n        verify(someMock).someMethod(\n            assertArg(someInt -&gt; assertThat(someInt).isEqualTo(2)),\n            anyString()\n        );\n    }\n</code></pre>\n<p>The reason behind this is probably the inner assertion failing on at least one of the calls.\n<img src=\"https://github.com/mockito/mockito/assets/32487587/21a46e79-7512-44ad-8f3b-0ac1c4253fe0\" alt=\"image\" /></p>\n<p>So far, the only way I know how to test something like this is to use <code>ArgumentCaptor</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    @DisplayName(&quot;verify two different calls with ArgumentCaptor&quot;)\n    void verifyTwoDifferentCallsWithArgumentCaptor() {\n        someMock.someMethod(1, &quot;any string&quot;);\n        someMock.someMethod(2, &quot;any string&quot;);\n\n        final ArgumentCaptor&lt;Integer&gt; someIntCaptor = ArgumentCaptor.forClass(Integer.class);\n\n        verify(someMock, times(2)).someMethod(someIntCaptor.capture(), anyString());\n\n        assertThat(someIntCaptor.getAllValues()).containsExactly(1, 2);\n    }\n</code></pre>\n<p>Now, my question: Is there any way to do this without using an <code>ArgumentCaptor</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9785,"page":72,"page_size":100}
