{"items":[{"tags":["java","object"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1686765504,"post_id":76476344,"comment_id":134845631,"body_markdown":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question *as text*, [not as pictures of text](https://meta.stackoverflow.com/q/285551/328193).  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  Relevant code and error messages need to be included in your question <i>as text</i>, <a href=\"https://meta.stackoverflow.com/q/285551/328193\">not as pictures of text</a>.  Just linking to screen shots makes it more difficult for people to help you.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1686765527,"post_id":76476344,"comment_id":134845639,"body_markdown":"Additionally... This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?","body":"Additionally... This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?"}],"answers":[{"comments":[{"owner":{"account_id":28822072,"reputation":1,"user_id":22074377,"display_name":"Supratik Dash"},"score":0,"creation_date":1686798269,"post_id":76476452,"comment_id":134849726,"body_markdown":"Thank you so much...it really works now...","body":"Thank you so much...it really works now..."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686798403,"post_id":76476452,"comment_id":134849734,"body_markdown":"No problem, glad it helped.","body":"No problem, glad it helped."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686766387,"creation_date":1686766387,"answer_id":76476452,"question_id":76476344,"body_markdown":"You&#39;ll need to use the _ob_ instance to access _a_ and _b_.\r\n\r\n```java\r\nob.a = sc.nextDouble();\r\nob.b = sc.nextDouble();\r\n```","title":"There is no syntax error in this program, but the values aren&#39;t coming as intended.....How can I make this program run?","body":"<p>You'll need to use the <em>ob</em> instance to access <em>a</em> and <em>b</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ob.a = sc.nextDouble();\nob.b = sc.nextDouble();\n</code></pre>\n"}],"owner":{"account_id":28822072,"reputation":1,"user_id":22074377,"display_name":"Supratik Dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1686766387,"creation_date":1686765374,"question_id":76476344,"body_markdown":"(https://i.stack.imgur.com/kDec2.jpg)\r\n\r\n\r\nI&#39;m a newbie to Java, and haven&#39;t completed learned it yet. Still, I&#39;m trying my best to solve as many problems as possible and get better.\r\n\r\nSo my query is, how can this program be fixed ??\r\n\r\nThe output is something like (https://i.stack.imgur.com/c4qCn.jpg)\r\n\r\nSomeone please correct this program, without removing the Scanner class.\r\n\r\nI really tried to make this program run, but it just wasn&#39;t working. The values were always 0 or 0.0, no matter what I did....\r\n\r\nCan someone also explain what went wrong here ??\r\n\r\nThank you in advance.&#129303;&#129303;","title":"There is no syntax error in this program, but the values aren&#39;t coming as intended.....How can I make this program run?","body":"<p>(<a href=\"https://i.stack.imgur.com/kDec2.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/kDec2.jpg</a>)</p>\n<p>I'm a newbie to Java, and haven't completed learned it yet. Still, I'm trying my best to solve as many problems as possible and get better.</p>\n<p>So my query is, how can this program be fixed ??</p>\n<p>The output is something like (<a href=\"https://i.stack.imgur.com/c4qCn.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/c4qCn.jpg</a>)</p>\n<p>Someone please correct this program, without removing the Scanner class.</p>\n<p>I really tried to make this program run, but it just wasn't working. The values were always 0 or 0.0, no matter what I did....</p>\n<p>Can someone also explain what went wrong here ??</p>\n<p>Thank you in advance.ðŸ¤—ðŸ¤—</p>\n"},{"tags":["java","api","filter","parameters","qs"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686766554,"post_id":76476449,"comment_id":134845801,"body_markdown":"You should ask about the problem that you are trying to resolve rather than asking for recommendations.","body":"You should ask about the problem that you are trying to resolve rather than asking for recommendations."}],"owner":{"account_id":26495549,"reputation":1,"user_id":20133370,"display_name":"Ram"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686766327,"creation_date":1686766327,"question_id":76476449,"body_markdown":"Is there an established Java library for parsing URL parameters with nested LHS brackets,like what might be outputted through js qs? Maybe taking all of the params and mapping them to an object? Or do people typically just manually parse those?\r\n\r\nex:`GET /items?filter[price][gte]=10&amp;filter[price][lte]=100&amp;name=apple`\r\n\r\nI&#39;ve found a couple of small personal projects that look promising, but just wondering what other people are using.","title":"Java Parser for LHS brackets URL parameters","body":"<p>Is there an established Java library for parsing URL parameters with nested LHS brackets,like what might be outputted through js qs? Maybe taking all of the params and mapping them to an object? Or do people typically just manually parse those?</p>\n<p>ex:<code>GET /items?filter[price][gte]=10&amp;filter[price][lte]=100&amp;name=apple</code></p>\n<p>I've found a couple of small personal projects that look promising, but just wondering what other people are using.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"score":0,"creation_date":1686766654,"post_id":76476411,"comment_id":134845822,"body_markdown":"Thanks !!! Got what was going wrong","body":"Thanks !!! Got what was going wrong"}],"tags":[],"owner":{"account_id":8388208,"reputation":856,"user_id":6297856,"accept_rate":56,"display_name":"ImJustACowLol"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686765937,"creation_date":1686765937,"answer_id":76476411,"question_id":76476360,"body_markdown":"In Spring Boot, you do not have to box the object that you are trying to return as JSON to the client inside of a HashMap. \r\n\r\nInstead, typically one writes a `DTO` (Data Transfer Object) class that resembles the JSON that you want to return. For example, if I want to return:\r\n\r\n```json\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;,\r\n  &quot;fooList&quot;: [&quot;bar&quot;, &quot;bar&quot;, &quot;bar&quot;],\r\n  &quot;fooObject&quot;: { &quot;field&quot;: &quot;...&quot; }\r\n}\r\n```\r\n\r\nThen in Java, I&#39;d write a DTO class as follows:\r\n\r\n```java\r\npublic class MyDTO {\r\n  private String foo;\r\n  private String[] fooList; // Can be a list as well\r\n  private FooObject fooObject;\r\n\r\n  // Getters to get access to the fields here\r\n}\r\n\r\npublic class FooObject {\r\n  private Object object;\r\n  // Getters to get access to the fields here\r\n}\r\n```\r\n\r\nThen, to return this with Spring Boot, you just set it as the object on the `ResponseEntity`: `return new ResponseEntity&lt;&gt;(new MyDTO(...), HttpStatusCode.valueOf(200));`\r\n\r\nI would highly suggest that you follow the approach of creating a DTO class specific to the response that you want to return.","title":"Can&#39;t return JSONObject in the ResponseEntity properly in spring boot","body":"<p>In Spring Boot, you do not have to box the object that you are trying to return as JSON to the client inside of a HashMap.</p>\n<p>Instead, typically one writes a <code>DTO</code> (Data Transfer Object) class that resembles the JSON that you want to return. For example, if I want to return:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;fooList&quot;: [&quot;bar&quot;, &quot;bar&quot;, &quot;bar&quot;],\n  &quot;fooObject&quot;: { &quot;field&quot;: &quot;...&quot; }\n}\n</code></pre>\n<p>Then in Java, I'd write a DTO class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDTO {\n  private String foo;\n  private String[] fooList; // Can be a list as well\n  private FooObject fooObject;\n\n  // Getters to get access to the fields here\n}\n\npublic class FooObject {\n  private Object object;\n  // Getters to get access to the fields here\n}\n</code></pre>\n<p>Then, to return this with Spring Boot, you just set it as the object on the <code>ResponseEntity</code>: <code>return new ResponseEntity&lt;&gt;(new MyDTO(...), HttpStatusCode.valueOf(200));</code></p>\n<p>I would highly suggest that you follow the approach of creating a DTO class specific to the response that you want to return.</p>\n"}],"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686765937,"creation_date":1686765536,"question_id":76476360,"body_markdown":"I am trying to return the json object into the hashmap of response entity object along with other fields, but I getting something else for the fields where the corresponding value is a json object.\r\n\r\nI tried debugging but every hashmap in the response flow was having the required response structure.\r\n\r\nI tried sending this from the backend:\r\n```\r\nHashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        HashMap&lt;String, Object&gt; hashMap2 = new HashMap&lt;&gt;();\r\n        JSONObject jsonObject = new JSONObject();\r\n        jsonObject.put(&quot;key&quot;, &quot;dummy value&quot;);\r\n        hashMap2.put(&quot;key&quot;, &quot;dummy value&quot;);\r\n        hashMap2.put(&quot;new key&quot;, jsonObject);\r\n        hashMap.put(&quot;data&quot;, jsonObject);\r\n        hashMap.put(&quot;data2&quot;, hashMap2);\r\n        hashMap.put(&quot;extra field&quot;, &quot;extra value&quot;);\r\n        return new ResponseEntity&lt;&gt;(hashMap, HttpStatusCode.valueOf(200));\r\n```\r\n\r\nAnd I am getting this in the response:\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;empty&quot;: false,\r\n        &quot;mapType&quot;: &quot;java.util.HashMap&quot;\r\n    },\r\n    &quot;data2&quot;: {\r\n        &quot;new key&quot;: {\r\n            &quot;empty&quot;: false,\r\n            &quot;mapType&quot;: &quot;java.util.HashMap&quot;\r\n        },\r\n        &quot;key&quot;: &quot;dummy value&quot;\r\n    },\r\n    &quot;extra field&quot;: &quot;extra value&quot;\r\n}\r\n```","title":"Can&#39;t return JSONObject in the ResponseEntity properly in spring boot","body":"<p>I am trying to return the json object into the hashmap of response entity object along with other fields, but I getting something else for the fields where the corresponding value is a json object.</p>\n<p>I tried debugging but every hashmap in the response flow was having the required response structure.</p>\n<p>I tried sending this from the backend:</p>\n<pre><code>HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n        HashMap&lt;String, Object&gt; hashMap2 = new HashMap&lt;&gt;();\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(&quot;key&quot;, &quot;dummy value&quot;);\n        hashMap2.put(&quot;key&quot;, &quot;dummy value&quot;);\n        hashMap2.put(&quot;new key&quot;, jsonObject);\n        hashMap.put(&quot;data&quot;, jsonObject);\n        hashMap.put(&quot;data2&quot;, hashMap2);\n        hashMap.put(&quot;extra field&quot;, &quot;extra value&quot;);\n        return new ResponseEntity&lt;&gt;(hashMap, HttpStatusCode.valueOf(200));\n</code></pre>\n<p>And I am getting this in the response:</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;empty&quot;: false,\n        &quot;mapType&quot;: &quot;java.util.HashMap&quot;\n    },\n    &quot;data2&quot;: {\n        &quot;new key&quot;: {\n            &quot;empty&quot;: false,\n            &quot;mapType&quot;: &quot;java.util.HashMap&quot;\n        },\n        &quot;key&quot;: &quot;dummy value&quot;\n    },\n    &quot;extra field&quot;: &quot;extra value&quot;\n}\n</code></pre>\n"},{"tags":["java","mysql","xml","spring","mybatis"],"comments":[{"owner":{"account_id":7426697,"reputation":2803,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"score":0,"creation_date":1463413257,"post_id":37257251,"comment_id":62042585,"body_markdown":"Do you have another mapping with id=&quot;Question&quot;?","body":"Do you have another mapping with id=&quot;Question&quot;?"},{"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"score":0,"creation_date":1463413820,"post_id":37257251,"comment_id":62042938,"body_markdown":"No. That&#39;s something I even tried changing incase I had another mapping somewhere named Question. I have searched through my mappings and can&#39;t find one and changing the name gives me the same error just with a reference to the new name.","body":"No. That&#39;s something I even tried changing incase I had another mapping somewhere named Question. I have searched through my mappings and can&#39;t find one and changing the name gives me the same error just with a reference to the new name."},{"owner":{"account_id":7890476,"reputation":12318,"user_id":5960800,"accept_rate":67,"display_name":"Blank"},"score":0,"creation_date":1463455070,"post_id":37257251,"comment_id":62059634,"body_markdown":"Is `Mapper.Java` and `Mapper.xml` in one same directory?","body":"Is <code>Mapper.Java</code> and <code>Mapper.xml</code> in one same directory?"},{"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"score":0,"creation_date":1463485658,"post_id":37257251,"comment_id":62075862,"body_markdown":"This error just means that you have syntax error in your mapping file (very confusing I would say). You may try to simplify it and start with some small and working file and incrementally change it.","body":"This error just means that you have syntax error in your mapping file (very confusing I would say). You may try to simplify it and start with some small and working file and incrementally change it."}],"answers":[{"tags":[],"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1463491646,"creation_date":1463491646,"answer_id":37277575,"question_id":37257251,"body_markdown":"Yep It looks like there was an error somewhere in my select statement. I ended up just rewriting it a different way. \r\n\r\n    &lt;select id=&quot;getQuestions&quot; resultMap=&quot;Question&quot;&gt;\r\n\t\tSELECT\r\n\t\t\tq.field_id,\r\n\t\t\tq.data_type,\r\n\t\t\tq.title,\r\n\t\t\tq.description,\r\n\t\t\tq.options\r\n\t\tFROM\r\n\t\t\tquestions q\r\n\t\tWHERE\r\n\t\t \tjob_id = #{job_id}\r\n\t\tAND\r\n\t\t\tfield_id\r\n\t\tIN\r\n\t\t\t(SELECT \r\n\t\t\t\tfs.field_id\r\n\t\t\tFROM\r\n\t\t\t\tquestion_services qs\r\n\t\t\tINNER JOIN \r\n\t\t\t\tservices s \r\n\t\t\tON\r\n\t\t\t\tqs.service_id = s.service_id \r\n\t\t\tAND\r\n\t\t\t\tqs.job_id = s.job_id\r\n\t\t\tWHERE\r\n\t\t\t\ts.job_id=#{job_id}\r\n\t\t\tAND\r\n\t\t\t\ts.service_id\r\n\t\t\tIN\r\n\t\t\t&lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;shifts&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n        \t\t#{item}\r\n  \t\t\t&lt;/foreach&gt;\r\n\t\t\t);\r\n\t&lt;/select&gt;","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Yep It looks like there was an error somewhere in my select statement. I ended up just rewriting it a different way. </p>\n\n<pre><code>&lt;select id=\"getQuestions\" resultMap=\"Question\"&gt;\n    SELECT\n        q.field_id,\n        q.data_type,\n        q.title,\n        q.description,\n        q.options\n    FROM\n        questions q\n    WHERE\n        job_id = #{job_id}\n    AND\n        field_id\n    IN\n        (SELECT \n            fs.field_id\n        FROM\n            question_services qs\n        INNER JOIN \n            services s \n        ON\n            qs.service_id = s.service_id \n        AND\n            qs.job_id = s.job_id\n        WHERE\n            s.job_id=#{job_id}\n        AND\n            s.service_id\n        IN\n        &lt;foreach item=\"item\" index=\"index\" collection=\"shifts\" open=\"(\" separator=\",\" close=\")\"&gt;\n            #{item}\n        &lt;/foreach&gt;\n        );\n&lt;/select&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":0,"creation_date":1603997105,"post_id":43290343,"comment_id":114220096,"body_markdown":"This worked for me as I had same names of mappers in two different projects and first project was being referenced in second project or included as a classpath so eventually both mappers were being loaded causing this issue.","body":"This worked for me as I had same names of mappers in two different projects and first project was being referenced in second project or included as a classpath so eventually both mappers were being loaded causing this issue."}],"tags":[],"owner":{"account_id":5112610,"reputation":135,"user_id":4098779,"accept_rate":40,"display_name":"Manu Bhat"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491627325,"creation_date":1491627325,"answer_id":43290343,"question_id":37257251,"body_markdown":"Adding this answer since in my case the problem was different but the exception was same . The exception said ,\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.model.mymapper.BaseResultMap\r\n\r\nThis can also happen if you have the same mapper xml present in multiple locations and that duplicate xml gets picked up and parsed. Its good to check that even if by mistake you have taken a backup of the mapper xmls and that lies in the location or sub folders which the mybatis configurer scans for.","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Adding this answer since in my case the problem was different but the exception was same . The exception said ,</p>\n\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.model.mymapper.BaseResultMap\n</code></pre>\n\n<p>This can also happen if you have the same mapper xml present in multiple locations and that duplicate xml gets picked up and parsed. Its good to check that even if by mistake you have taken a backup of the mapper xmls and that lies in the location or sub folders which the mybatis configurer scans for.</p>\n"},{"tags":[],"owner":{"account_id":19626105,"reputation":1,"user_id":14365380,"display_name":"Akil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601450381,"creation_date":1601446600,"answer_id":64131879,"question_id":37257251,"body_markdown":"I will suggest to use mapper file auto loading feature instead of. (this solution is recommended)\r\n    \r\ndelete the mybatis.mapperLocations property.\r\n    \r\n    mybatis:\r\n      typeAliasesPackage: com.fiberhome.payroll.model\r\n      mapperLocations: classpath*:**/mapper/*.xml\r\n\r\nchange storing directory and file name of mapper file as follow:\r\n    \r\nAnd you can use the `@Mapper` instead of the `@MapperScan`.\r\n    \r\nAdd the `@org.apache.ibatis.annotations.Mapper` interface on mapper interfaces as follow:\r\n    \r\n    @Mapper\r\n    public interface DmClassInfoDao {\r\n        // ...\r\n    }\r\n    Delete the @MapperScan from java config\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.fiberhome.payroll&quot;})\r\n    @MapperScan(&quot;com.fiberhome.payroll.dao&quot;)\r\n    public class MybatisSpringBootApp {\r\n        // ...\r\n    }","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>I will suggest to use mapper file auto loading feature instead of. (this solution is recommended)</p>\n<p>delete the mybatis.mapperLocations property.</p>\n<pre><code>mybatis:\n  typeAliasesPackage: com.fiberhome.payroll.model\n  mapperLocations: classpath*:**/mapper/*.xml\n</code></pre>\n<p>change storing directory and file name of mapper file as follow:</p>\n<p>And you can use the <code>@Mapper</code> instead of the <code>@MapperScan</code>.</p>\n<p>Add the <code>@org.apache.ibatis.annotations.Mapper</code> interface on mapper interfaces as follow:</p>\n<pre><code>@Mapper\npublic interface DmClassInfoDao {\n    // ...\n}\nDelete the @MapperScan from java config\n\n@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.fiberhome.payroll&quot;})\n@MapperScan(&quot;com.fiberhome.payroll.dao&quot;)\npublic class MybatisSpringBootApp {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6435198,"reputation":154,"user_id":4986987,"display_name":"brt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664770382,"creation_date":1664770382,"answer_id":73931063,"question_id":37257251,"body_markdown":"I was getting this same error when extending a resultMap before declaring it in the xml.  Solved by moving the extending `&lt;resultMap&gt;` declaration below the source map, like so:\r\n\r\n```\r\n&lt;resultMap id=&quot;sourceMap&quot;&gt;\r\n  // results\r\n&lt;/resultMap&gt;\r\n\r\n&lt;resultMap id=&quot;extendingMap&quot; extends=&quot;sourceMap&quot;&gt;\r\n  // more results\r\n&lt;/resultMap&gt;\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>I was getting this same error when extending a resultMap before declaring it in the xml.  Solved by moving the extending <code>&lt;resultMap&gt;</code> declaration below the source map, like so:</p>\n<pre><code>&lt;resultMap id=&quot;sourceMap&quot;&gt;\n  // results\n&lt;/resultMap&gt;\n\n&lt;resultMap id=&quot;extendingMap&quot; extends=&quot;sourceMap&quot;&gt;\n  // more results\n&lt;/resultMap&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425610,"reputation":9,"user_id":7351955,"display_name":"lstan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686765871,"creation_date":1686765871,"answer_id":76476405,"question_id":37257251,"body_markdown":"Old post but I had same issue with different solution so hopefully this will help others who find this error.\r\n\r\nI was trying to get away from mappers defined in xml and use in java annotations. \r\n\r\nTwo things caused this error for me\r\n1. I was setting setConfigLocation for mybatis-config.xml plus the setMapperLocations. setMapperLocations scans the package for mappers and the config file had mappers defined so I had duplicates thus &quot;Mapped Statements collection already contains value...&quot;\r\n\r\n        @Bean\r\n        public static SqlSessionFactory sqlSessionFactory() throws Exception {\r\n                        SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\r\n                        sqlSessionFactoryBean.setDataSource(dataSource());\r\n                        sqlSessionFactoryBean.setConfigLocation(\r\n                                new PathMatchingResourcePatternResolver().getResource(&quot;classpath:mybatis-config.xml&quot;)\r\n                        );\r\n                        sqlSessionFactoryBean.setTypeAliasesPackage(&quot;org.xxxxx&quot;);\r\n                      sqlSessionFactoryBean.setMapperLocations(\r\n                                new PathMatchingResourcePatternResolver().getResources(&quot;classpath:sql/*.xml&quot;)\r\n                        );\r\n                \r\n                        return sqlSessionFactoryBean.getObject();\r\n        }\r\n    \r\n    2. I had 2 selects of the same name in .xml mapper \r\n    \r\n      \r\n    \r\n          &lt;select id=&quot;selectListOld&quot; resultMap=&quot;myResultMap&quot;&gt;\r\n\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Old post but I had same issue with different solution so hopefully this will help others who find this error.</p>\n<p>I was trying to get away from mappers defined in xml and use in java annotations.</p>\n<p>Two things caused this error for me</p>\n<ol>\n<li><p>I was setting setConfigLocation for mybatis-config.xml plus the setMapperLocations. setMapperLocations scans the package for mappers and the config file had mappers defined so I had duplicates thus &quot;Mapped Statements collection already contains value...&quot;</p>\n<pre><code> @Bean\n public static SqlSessionFactory sqlSessionFactory() throws Exception {\n                 SqlSessionFactoryBean sqlSessionFactoryBean = new SqlSessionFactoryBean();\n                 sqlSessionFactoryBean.setDataSource(dataSource());\n                 sqlSessionFactoryBean.setConfigLocation(\n                         new PathMatchingResourcePatternResolver().getResource(&quot;classpath:mybatis-config.xml&quot;)\n                 );\n                 sqlSessionFactoryBean.setTypeAliasesPackage(&quot;org.xxxxx&quot;);\n               sqlSessionFactoryBean.setMapperLocations(\n                         new PathMatchingResourcePatternResolver().getResources(&quot;classpath:sql/*.xml&quot;)\n                 );\n\n                 return sqlSessionFactoryBean.getObject();\n }\n</code></pre>\n<ol start=\"2\">\n<li><p>I had 2 selects of the same name in .xml mapper</p>\n   \n</li>\n</ol>\n</li>\n</ol>\n"}],"owner":{"account_id":8453068,"reputation":71,"user_id":6341298,"display_name":"Russell Fillmore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19542,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":37277575,"answer_count":5,"score":5,"last_activity_date":1686765871,"creation_date":1463411484,"question_id":37257251,"body_markdown":"Hey I&#39;m using Mybatis with Spring Annotations. \r\n\r\nand getting this error:\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.mappers.QuestionsMapper.Question\r\n\r\nhere is the domain class (sans getters and setters):\r\n\r\n    public class Question {\r\n\r\n\t\r\n\t    String optionsAsString;\r\n\t    String typeAsString;\r\n\t    Integer fieldId;\r\n\t    String title;\r\n\t    String description;\r\n\t\r\n\t    public Question(){\r\n\t    }\t\r\n\t}\r\n\r\nhere is my Mapper.Java class\r\n\r\n    @MapperScan\r\n    public interface Mapper {\r\n\t\r\n\tpublic List&lt;Question&gt; getQuestions(@Param(&quot;shifts&quot;) List&lt;Integer&gt; shifts, @Param(&quot;job_id&quot;) Integer job_id);\r\n    }\r\nlastly here is the Mapper.xml\r\n\r\n    &lt;mapper namespace=&quot;com.mypackage.mappers.Mapper&quot;&gt;\r\n\t&lt;resultMap type=&quot;com.mypackage.domain.Question&quot; id=&quot;Question&quot;&gt;\r\n\t\t&lt;id column=&quot;field_id&quot; property=&quot;fieldId&quot; /&gt;\r\n\t\t&lt;result column=&quot;data_type&quot; property=&quot;typeAsString&quot; /&gt;\r\n\t\t&lt;result column=&quot;title&quot; property=&quot;title&quot; /&gt;\r\n\t\t&lt;result column=&quot;description&quot; property=&quot;description&quot; /&gt;\r\n\t\t&lt;result column=&quot;options&quot; property=&quot;optionsAsString&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n\r\n\t&lt;select id=&quot;com.mypackage.mappers.Mapper.getQuestions&quot; resultMap=&quot;Question&quot; timeout=&quot;10&quot;&gt;\r\n\t\tSELECT\r\n\t\tf.field_id,\r\n\t\tf.data_type,\r\n\t\tf.title,\r\n\t\tf.options,\r\n\t\tf.description \r\n\t\tFROM\r\n\t\t \t(SELECT DISTINCT q.*\r\n\t\t \tFROM\r\n\t\t\t\tquestion_services qs INNER JOIN\r\n\t\t\t\tquestions q \r\n\t\t\t\tON qs.field_id=q.field_id AND q.job_id = qs.job_id INNER JOIN\r\n\t\t\t\tservices s\r\n\t\t\t\tON qs.service_id = s.service_id and qs.job_id = s.job_id\r\n\t\t\t\tWHERE s.job_id = #{job_id} AND s.service_id in\r\n\t\t\t\t&lt;foreach item=&quot;shift&quot; collection=&quot;shifts&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n\t\t\t\t\t#{shift}\r\n\t\t\t\t&lt;/foreach&gt;\r\n\t\t\t) f\r\n\t&lt;/select&gt;\r\n&lt;/mapper&gt;\r\n\r\nI&#39;m inclined to believe there is something wrong with the xml select statement. Probably with how I am using foreach. I have another mapper using a similar format it just does not use for each and it is not having any problems.\r\n\r\n","title":"java.lang.IllegalArgumentException: Result Maps collection already contains value for","body":"<p>Hey I'm using Mybatis with Spring Annotations. </p>\n\n<p>and getting this error:</p>\n\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. Cause: java.lang.IllegalArgumentException: Result Maps collection already contains value for com.mypackage.mappers.QuestionsMapper.Question\n</code></pre>\n\n<p>here is the domain class (sans getters and setters):</p>\n\n<pre><code>public class Question {\n\n\n    String optionsAsString;\n    String typeAsString;\n    Integer fieldId;\n    String title;\n    String description;\n\n    public Question(){\n    }   \n}\n</code></pre>\n\n<p>here is my Mapper.Java class</p>\n\n<pre><code>@MapperScan\npublic interface Mapper {\n\npublic List&lt;Question&gt; getQuestions(@Param(\"shifts\") List&lt;Integer&gt; shifts, @Param(\"job_id\") Integer job_id);\n}\n</code></pre>\n\n<p>lastly here is the Mapper.xml</p>\n\n<pre><code>&lt;mapper namespace=\"com.mypackage.mappers.Mapper\"&gt;\n&lt;resultMap type=\"com.mypackage.domain.Question\" id=\"Question\"&gt;\n    &lt;id column=\"field_id\" property=\"fieldId\" /&gt;\n    &lt;result column=\"data_type\" property=\"typeAsString\" /&gt;\n    &lt;result column=\"title\" property=\"title\" /&gt;\n    &lt;result column=\"description\" property=\"description\" /&gt;\n    &lt;result column=\"options\" property=\"optionsAsString\" /&gt;\n&lt;/resultMap&gt;\n\n&lt;select id=\"com.mypackage.mappers.Mapper.getQuestions\" resultMap=\"Question\" timeout=\"10\"&gt;\n    SELECT\n    f.field_id,\n    f.data_type,\n    f.title,\n    f.options,\n    f.description \n    FROM\n        (SELECT DISTINCT q.*\n        FROM\n            question_services qs INNER JOIN\n            questions q \n            ON qs.field_id=q.field_id AND q.job_id = qs.job_id INNER JOIN\n            services s\n            ON qs.service_id = s.service_id and qs.job_id = s.job_id\n            WHERE s.job_id = #{job_id} AND s.service_id in\n            &lt;foreach item=\"shift\" collection=\"shifts\" open=\"(\" separator=\",\" close=\")\"&gt;\n                #{shift}\n            &lt;/foreach&gt;\n        ) f\n&lt;/select&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm inclined to believe there is something wrong with the xml select statement. Probably with how I am using foreach. I have another mapper using a similar format it just does not use for each and it is not having any problems.</p>\n"},{"tags":["java","biginteger","modulo"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":2,"creation_date":1686753610,"post_id":76474681,"comment_id":134843004,"body_markdown":"Can you show the value of `B`instead of `b`? I suspect overflow while calculating `b`.","body":"Can you show the value of <code>B</code>instead of <code>b</code>? I suspect overflow while calculating <code>b</code>."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1686753642,"post_id":76474681,"comment_id":134843013,"body_markdown":"You are clearly dealing with integer (or long) overflow. It should be obvious that 10e9+7 (which is 10000000007 in other notation) multiplied with itself will not result in a number that starts with 776.....","body":"You are clearly dealing with integer (or long) overflow. It should be obvious that 10e9+7 (which is 10000000007 in other notation) multiplied with itself will not result in a number that starts with 776....."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1686754169,"post_id":76474681,"comment_id":134843132,"body_markdown":"Does this answer your question? [Incorrect Multiplication Result](https://stackoverflow.com/questions/23299070/incorrect-multiplication-result)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23299070/incorrect-multiplication-result\">Incorrect Multiplication Result</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1686754183,"post_id":76474681,"comment_id":134843136,"body_markdown":"Did you mean `1.0e9+7`? That would actually work, since that number squared fits in a `long`. But `10e9+7` squared doesn&#39;t. Note that `10e9 == 1.0e10`.","body":"Did you mean <code>1.0e9+7</code>? That would actually work, since that number squared fits in a <code>long</code>. But <code>10e9+7</code> squared doesn&#39;t. Note that <code>10e9 == 1.0e10</code>."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686753668,"creation_date":1686753668,"answer_id":76474761,"question_id":76474681,"body_markdown":"`a * a` overflows the value of `Long.MAX_VALUE`. As Benoit suggested in his comment, you&#39;re printing `b` twice. The value of `B` is not `7766279771452241969` but `100000000140000000049`.","title":"modulo gives wrong result for big number in Java","body":"<p><code>a * a</code> overflows the value of <code>Long.MAX_VALUE</code>. As Benoit suggested in his comment, you're printing <code>b</code> twice. The value of <code>B</code> is not <code>7766279771452241969</code> but <code>100000000140000000049</code>.</p>\n"},{"tags":[],"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686760504,"creation_date":1686759026,"answer_id":76475581,"question_id":76474681,"body_markdown":"First things first, `long b = a * a` overflows, since it should have the value `100.000.000.140.000.000.049` and it&#39;s greater than the max value of a signed long (`2^63 - 1 = 9.223.372.036.854.775.807`).\r\n\r\nSecondly, I think it should be said that there are some differences between the two operation that you&#39;ve used. As stated in the comments of [this answer][1], java has the [*_reminder_* operator `%`][2] and does not provide a *_modulo_* operator or a function, like `BigInteger` does. Those are two slightly different things.\r\n\r\nMathematically if you want the result of *c*, given as *c = a (mod b)*, it will be a number such that *1 &lt; c &lt; b* (e.g. `4 (mod 3) = 1`). Consequently, if *b = a * a*, then *b (mod a) = a * a (mod a) = 0*.\r\nIf you want to read more about it, I suggest you to take a look at [modular arithmetic][3].\r\n\r\nThe java reminder operator `%`, gives the reminder of the division (considering `n % d`), which has *n* as the numerator and *d* as the denominator. When mixing positive and negative numbers, there could be some inconsistencies with *n (mod d)*, since \r\n&gt;[mod and remainder are actually semantically different operations][6]\r\n\r\nIn conclusion, if you want to use modulo, you should rely on the [functions provided from BigInteger][5], otherwise use the reminder operator.\r\nI also suggest [this reading][4] that explain the difference between modulus and reminder.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/90247/10301322\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\r\n  [3]: https://en.wikipedia.org/wiki/Modular_arithmetic\r\n  [4]: https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\r\n  [6]: https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/#the-blurry-line-between-mod-and-remainder","title":"modulo gives wrong result for big number in Java","body":"<p>First things first, <code>long b = a * a</code> overflows, since it should have the value <code>100.000.000.140.000.000.049</code> and it's greater than the max value of a signed long (<code>2^63 - 1 = 9.223.372.036.854.775.807</code>).</p>\n<p>Secondly, I think it should be said that there are some differences between the two operation that you've used. As stated in the comments of <a href=\"https://stackoverflow.com/a/90247/10301322\">this answer</a>, java has the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"nofollow noreferrer\"><em><em>reminder</em></em> operator <code>%</code></a> and does not provide a <em><em>modulo</em></em> operator or a function, like <code>BigInteger</code> does. Those are two slightly different things.</p>\n<p>Mathematically if you want the result of <em>c</em>, given as <em>c = a (mod b)</em>, it will be a number such that <em>1 &lt; c &lt; b</em> (e.g. <code>4 (mod 3) = 1</code>). Consequently, if <em>b = a * a</em>, then <em>b (mod a) = a * a (mod a) = 0</em>.\nIf you want to read more about it, I suggest you to take a look at <a href=\"https://en.wikipedia.org/wiki/Modular_arithmetic\" rel=\"nofollow noreferrer\">modular arithmetic</a>.</p>\n<p>The java reminder operator <code>%</code>, gives the reminder of the division (considering <code>n % d</code>), which has <em>n</em> as the numerator and <em>d</em> as the denominator. When mixing positive and negative numbers, there could be some inconsistencies with <em>n (mod d)</em>, since</p>\n<blockquote>\n<p><a href=\"https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/#the-blurry-line-between-mod-and-remainder\" rel=\"nofollow noreferrer\">mod and remainder are actually semantically different operations</a></p>\n</blockquote>\n<p>In conclusion, if you want to use modulo, you should rely on the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">functions provided from BigInteger</a>, otherwise use the reminder operator.\nI also suggest <a href=\"https://therenegadecoder.com/blog/java-has-a-remainder-operator-not-a-mod-operator/\" rel=\"nofollow noreferrer\">this reading</a> that explain the difference between modulus and reminder.</p>\n"}],"owner":{"account_id":7652132,"reputation":51,"user_id":5800424,"display_name":"Pawan Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76474761,"answer_count":2,"score":0,"last_activity_date":1686765215,"creation_date":1686753163,"question_id":76474681,"body_markdown":"look at the below Java Code : \r\n```java\r\n        long a = (long) 10e9+7;\r\n        long b = (a * a);\r\n\r\n        System.out.println(&quot;b is &quot; + b);\r\n        System.out.println(&quot;b%a is &quot; + (b%a));\r\n\r\n        System.out.println();\r\n\r\n\r\n        BigInteger A = BigInteger.valueOf((long) 10e9+7);\r\n        BigInteger B = A.multiply(A);\r\n\r\n\r\n        System.out.println(&quot;B is &quot; + B.longValue());\r\n        System.out.println(&quot;B.mod(A) is &quot; + B.mod(A));\r\n```\r\n\r\nOutput: \r\n\r\n```\r\nb is 7766279771452241969\r\nb%a is 6015846137   ///-&gt;&gt; why ?? overflow \r\n\r\nB is 7766279771452241969 //// -&gt; should not overflow \r\nB.mod(A) is 0\r\n```\r\n\r\nI was expecting % to give 0 in above case. But it gives some other numbers for the % ","title":"modulo gives wrong result for big number in Java","body":"<p>look at the below Java Code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        long a = (long) 10e9+7;\n        long b = (a * a);\n\n        System.out.println(&quot;b is &quot; + b);\n        System.out.println(&quot;b%a is &quot; + (b%a));\n\n        System.out.println();\n\n\n        BigInteger A = BigInteger.valueOf((long) 10e9+7);\n        BigInteger B = A.multiply(A);\n\n\n        System.out.println(&quot;B is &quot; + B.longValue());\n        System.out.println(&quot;B.mod(A) is &quot; + B.mod(A));\n</code></pre>\n<p>Output:</p>\n<pre><code>b is 7766279771452241969\nb%a is 6015846137   ///-&gt;&gt; why ?? overflow \n\nB is 7766279771452241969 //// -&gt; should not overflow \nB.mod(A) is 0\n</code></pre>\n<p>I was expecting % to give 0 in above case. But it gives some other numbers for the %</p>\n"},{"tags":["java","xml","jaxb","eclipselink","moxy"],"answers":[{"tags":[],"owner":{"account_id":4738824,"reputation":663,"user_id":3832336,"display_name":"marcelv3612"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686764713,"creation_date":1629616266,"answer_id":68879213,"question_id":67733375,"body_markdown":"As you wrote, you are trying to implement JAXB following documentation, but the documentation you linked is for EclipseLink version 2.5 and you are running into problems with a feature that was added in EL v2.6. The current stable release is 3.0.0, which you are running, based on your `pom.xml`.\r\n\r\nCheck out the newer documentation for EL. And since the link for the documentation for the feature you are running into problems with is not present on the homepage, you can find it here:\r\nhttps://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB and presentation of the concepts [here][1].\r\n\r\n\r\n  [1]: https://bugzillaattachments.eclipsecontent.org/bugs/attachment.cgi?id=252463","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<p>As you wrote, you are trying to implement JAXB following documentation, but the documentation you linked is for EclipseLink version 2.5 and you are running into problems with a feature that was added in EL v2.6. The current stable release is 3.0.0, which you are running, based on your <code>pom.xml</code>.</p>\n<p>Check out the newer documentation for EL. And since the link for the documentation for the feature you are running into problems with is not present on the homepage, you can find it here:\n<a href=\"https://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/EclipseLink/Examples/MOXy/BVinJAXB</a> and presentation of the concepts <a href=\"https://bugzillaattachments.eclipsecontent.org/bugs/attachment.cgi?id=252463\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23815599,"reputation":1,"user_id":17823905,"display_name":"busyandnot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641478850,"creation_date":1641478850,"answer_id":70608557,"question_id":67733375,"body_markdown":"### Solution ####\r\n\r\nThe message\r\n\r\n    &quot;[EL Warning]: moxy: 2022-01-06 14:59:32.0--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead...&quot;\r\n\r\nis not responsible for the NullPointerException, Hence, it is not an issue. Apart from it use matching versions of Eclipselink moxy and jasb-xjc:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n      &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIf there, remove file jaxb.properties as it is not needed in case of dynamic jaxb context.\r\n\r\n","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<h3>Solution</h3>\n<p>The message</p>\n<pre><code>&quot;[EL Warning]: moxy: 2022-01-06 14:59:32.0--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead...&quot;\n</code></pre>\n<p>is not responsible for the NullPointerException, Hence, it is not an issue. Apart from it use matching versions of Eclipselink moxy and jasb-xjc:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n  &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If there, remove file jaxb.properties as it is not needed in case of dynamic jaxb context.</p>\n"}],"owner":{"account_id":21749395,"reputation":31,"user_id":16055584,"display_name":"Rise_Against"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686764713,"creation_date":1622179991,"question_id":67733375,"body_markdown":"I am trying to follow the [documentation][1] and implement the `Dynamic JAXB/Moxy marshalling`. But it&#39;s not working as desired and throws the following error:\r\n```\r\n[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n```\r\n\r\nMy `XSD` is in the `resources` folder and I am using the `XSD` from the [documentation][2]. After reading I am trying to create the `POJO` for it on the go and using the marshaling method to create the XML. Following is the code for it:\r\n```\r\nimport org.eclipse.persistence.dynamic.DynamicEntity;\r\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext;\r\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory;\r\n\r\nimport jakarta.xml.bind.JAXBException;\r\nimport jakarta.xml.bind.Marshaller;\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) throws JAXBException {\r\n\t\tfinal ClassLoader classLoader = Demo.class.getClassLoader();\r\n\t\tfinal InputStream xsd = classLoader.getResourceAsStream(&quot;customer.xsd&quot;);\r\n\t\t//final InputStream xml = classLoader.getResourceAsStream(&quot;customer.xml&quot;);\r\n\r\n\t\tMap&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(1);\r\n\t\tproperties.put(&quot;eclipselink.beanvalidation.facets&quot;, true);\r\n\r\n\t\tSystem.setProperty(&quot;com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.noCorrectnessCheck&quot;, &quot;true&quot;);\r\n\t\tfinal DynamicJAXBContext jaxbContext = DynamicJAXBContextFactory.createContextFromXSD(xsd, null, classLoader, properties);\r\n\t\tDynamicEntity customer = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Customer&quot;);\r\n\t\tDynamicEntity address = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Address&quot;);\r\n\t\tcustomer.set(&quot;name&quot;, &quot;Jane Doe&quot;);\r\n\t\taddress.set(&quot;street&quot;, &quot;1 Any Street&quot;).set(&quot;city&quot;, &quot;Any Town&quot;);\r\n\t\tcustomer.set(&quot;address&quot;, address);\r\n\t\tMarshaller marshaller = jaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\tmarshaller.marshal(customer, System.out);\r\n\t}\r\n}\r\n```\r\n\r\nI have following `dependency` in `pom.xml`:\r\n\r\n&lt;dependencies&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2-b01&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;\r\n\r\n\r\nWhen I run I get following error:\r\n```\r\n[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink&#39;s JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preProcessXmlAccessorType(AnnotationsProcessor.java:1628)\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preBuildTypeInfo(AnnotationsProcessor.java:603)\r\n\tat org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.processClassesAndProperties(AnnotationsProcessor.java:304)\r\n\tat org.eclipse.persistence.jaxb.compiler.Generator.&lt;init&gt;(Generator.java:115)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext$SchemaContextInput.createContextState(DynamicJAXBContext.java:350)\r\n\tat org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:206)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext.&lt;init&gt;(DynamicJAXBContext.java:85)\r\n\tat org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory.createContextFromXSD(DynamicJAXBContextFactory.java:281)\r\n\tat com.JaxBDynamic.Demo.main(Demo.java:25)\r\n```\r\n\r\nI am not sure what&#39;s wrong as I am following the steps as mentioned in the [documentation][1]. I could not find anything related to this issue so posting here to get some feedback.\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\r\n  [2]: https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm#:~:text=Example%2015-27%20Sample%20XML%20Schema%20Document","title":"Dynamic JAXB/MOXy Marshalling throws MOXy BV: Facets generation could not be configured","body":"<p>I am trying to follow the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\" rel=\"nofollow noreferrer\">documentation</a> and implement the <code>Dynamic JAXB/Moxy marshalling</code>. But it's not working as desired and throws the following error:</p>\n<pre><code>[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\nException in thread &quot;main&quot; java.lang.NullPointerException\n</code></pre>\n<p>My <code>XSD</code> is in the <code>resources</code> folder and I am using the <code>XSD</code> from the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm#:%7E:text=Example%2015-27%20Sample%20XML%20Schema%20Document\" rel=\"nofollow noreferrer\">documentation</a>. After reading I am trying to create the <code>POJO</code> for it on the go and using the marshaling method to create the XML. Following is the code for it:</p>\n<pre><code>import org.eclipse.persistence.dynamic.DynamicEntity;\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext;\nimport org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory;\n\nimport jakarta.xml.bind.JAXBException;\nimport jakarta.xml.bind.Marshaller;\n\npublic class Demo {\n\n    public static void main(String[] args) throws JAXBException {\n        final ClassLoader classLoader = Demo.class.getClassLoader();\n        final InputStream xsd = classLoader.getResourceAsStream(&quot;customer.xsd&quot;);\n        //final InputStream xml = classLoader.getResourceAsStream(&quot;customer.xml&quot;);\n\n        Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;(1);\n        properties.put(&quot;eclipselink.beanvalidation.facets&quot;, true);\n\n        System.setProperty(&quot;com.sun.tools.xjc.api.impl.s2j.SchemaCompilerImpl.noCorrectnessCheck&quot;, &quot;true&quot;);\n        final DynamicJAXBContext jaxbContext = DynamicJAXBContextFactory.createContextFromXSD(xsd, null, classLoader, properties);\n        DynamicEntity customer = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Customer&quot;);\n        DynamicEntity address = jaxbContext.newDynamicEntity(&quot;org.JaxBDynamic.Address&quot;);\n        customer.set(&quot;name&quot;, &quot;Jane Doe&quot;);\n        address.set(&quot;street&quot;, &quot;1 Any Street&quot;).set(&quot;city&quot;, &quot;Any Town&quot;);\n        customer.set(&quot;address&quot;, address);\n        Marshaller marshaller = jaxbContext.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(customer, System.out);\n    }\n}\n</code></pre>\n<p>I have following <code>dependency</code> in <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2-b01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I run I get following error:</p>\n<pre><code>[EL Warning]: moxy: 2021-05-28 10:54:09.432--MOXy BV: Facets generation could not be configured. EclipseLink's JavaModelInputImpl was not detected, instead JavaModelInput is of class: class org.eclipse.persistence.jaxb.javamodel.xjc.XJCJavaModelInputImpl\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preProcessXmlAccessorType(AnnotationsProcessor.java:1628)\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.preBuildTypeInfo(AnnotationsProcessor.java:603)\n    at org.eclipse.persistence.jaxb.compiler.AnnotationsProcessor.processClassesAndProperties(AnnotationsProcessor.java:304)\n    at org.eclipse.persistence.jaxb.compiler.Generator.&lt;init&gt;(Generator.java:115)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext$SchemaContextInput.createContextState(DynamicJAXBContext.java:350)\n    at org.eclipse.persistence.jaxb.JAXBContext.&lt;init&gt;(JAXBContext.java:206)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContext.&lt;init&gt;(DynamicJAXBContext.java:85)\n    at org.eclipse.persistence.jaxb.dynamic.DynamicJAXBContextFactory.createContextFromXSD(DynamicJAXBContextFactory.java:281)\n    at com.JaxBDynamic.Demo.main(Demo.java:25)\n</code></pre>\n<p>I am not sure what's wrong as I am following the steps as mentioned in the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/solutions/jpatoxml006.htm\" rel=\"nofollow noreferrer\">documentation</a>. I could not find anything related to this issue so posting here to get some feedback.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"comments":[{"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"score":0,"creation_date":1452083990,"post_id":34598356,"comment_id":57011588,"body_markdown":"Handling the exception in the CorsFilter works, but it is not very clean. In fact what i really need is handling the exception for all filters","body":"Handling the exception in the CorsFilter works, but it is not very clean. In fact what i really need is handling the exception for all filters"},{"owner":{"account_id":1907144,"reputation":1933,"user_id":1721778,"display_name":"Thanh Nguyen Van"},"score":47,"creation_date":1486459426,"post_id":34598356,"comment_id":71342317,"body_markdown":"Exception throw from `Filter` may not be catch by `@ControllerAdvice` because in may not reach `DispatcherServlet`.","body":"Exception throw from <code>Filter</code> may not be catch by <code>@ControllerAdvice</code> because in may not reach <code>DispatcherServlet</code>."}],"tags":[],"owner":{"account_id":3157647,"reputation":447,"user_id":2669657,"display_name":"user2669657"},"comment_count":2,"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1451935518,"creation_date":1451935518,"answer_id":34598356,"question_id":34595605,"body_markdown":"It&#39;s strange because @ControllerAdvice should works, are you catching the correct Exception?\r\n\r\n    @ControllerAdvice\r\n    public class GlobalDefaultExceptionHandler {\r\n\r\n        @ResponseBody\r\n    \t@ExceptionHandler(value = DataAccessException.class)\r\n    \tpublic String defaultErrorHandler(HttpServletResponse response, DataAccessException e) throws Exception {\r\n           response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n           //Json return\r\n        }\r\n    }\r\n\r\nAlso try to catch this exception in CorsFilter and send 500 error, something like this\r\n\r\n    @ExceptionHandler(DataAccessException.class)\r\n    @ResponseBody\r\n    public String handleDataException(DataAccessException ex, HttpServletResponse response) {\r\n        response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n        //Json return\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>It's strange because @ControllerAdvice should works, are you catching the correct Exception?</p>\n\n<pre><code>@ControllerAdvice\npublic class GlobalDefaultExceptionHandler {\n\n    @ResponseBody\n    @ExceptionHandler(value = DataAccessException.class)\n    public String defaultErrorHandler(HttpServletResponse response, DataAccessException e) throws Exception {\n       response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n       //Json return\n    }\n}\n</code></pre>\n\n<p>Also try to catch this exception in CorsFilter and send 500 error, something like this</p>\n\n<pre><code>@ExceptionHandler(DataAccessException.class)\n@ResponseBody\npublic String handleDataException(DataAccessException ex, HttpServletResponse response) {\n    response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n    //Json return\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"score":0,"creation_date":1476271365,"post_id":34612801,"comment_id":67272404,"body_markdown":"But in a rest api redirecting with location isn&#39;t a good solution.","body":"But in a rest api redirecting with location isn&#39;t a good solution."},{"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"score":1,"creation_date":1476273013,"post_id":34612801,"comment_id":67273470,"body_markdown":"@jmattheis The above is not a redirect.","body":"@jmattheis The above is not a redirect."},{"owner":{"account_id":5321728,"reputation":10701,"user_id":4244993,"accept_rate":71,"display_name":"jmattheis"},"score":0,"creation_date":1476275414,"post_id":34612801,"comment_id":67274936,"body_markdown":"True, I saw location and thought it had something todo with the http location. Then this is what I need (:","body":"True, I saw location and thought it had something todo with the http location. Then this is what I need (:"},{"owner":{"account_id":427496,"reputation":853,"user_id":809289,"accept_rate":79,"display_name":"k-den"},"score":0,"creation_date":1495147265,"post_id":34612801,"comment_id":75142713,"body_markdown":"Could you add the Java configuration equivalent to the web.xml, if one exists?","body":"Could you add the Java configuration equivalent to the web.xml, if one exists?"},{"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"score":1,"creation_date":1495177408,"post_id":34612801,"comment_id":75151349,"body_markdown":"@k-den There is no Java config equivalent in the current spec I think, but you can mix web.xml and Java config.","body":"@k-den There is no Java config equivalent in the current spec I think, but you can mix web.xml and Java config."},{"owner":{"account_id":9642226,"reputation":1060,"user_id":7156098,"display_name":"alegria"},"score":0,"creation_date":1532420980,"post_id":34612801,"comment_id":89956272,"body_markdown":"I was able to extract the exception info with `(Throwable)request.getAttribute(&quot;org.springframework.web.servlet.DispatcherServlet.EXCEPTION&quot;)`","body":"I was able to extract the exception info with <code>(Throwable)request.getAttribute(&quot;org.springframework.web.ser&zwnj;&#8203;vlet.DispatcherServl&zwnj;&#8203;et.EXCEPTION&quot;)</code>"},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1551515750,"post_id":34612801,"comment_id":96675284,"body_markdown":"Or you can inject `org.springframework.boot.web.servlet.error.ErrorAttributes` into controller if you use spring-boot. This bean already has methods to extract exception and other useful information.","body":"Or you can inject <code>org.springframework.boot.web.servlet.error.ErrorAttributes</code> into controller if you use spring-boot. This bean already has methods to extract exception and other useful information."}],"tags":[],"owner":{"account_id":1577409,"reputation":16015,"user_id":1463522,"accept_rate":64,"display_name":"holmis83"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1452000247,"creation_date":1452000247,"answer_id":34612801,"question_id":34595605,"body_markdown":"If you want a generic way, you can define an error page in web.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;error-page&gt;\r\n      &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type&gt;\r\n      &lt;location&gt;/500&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nAnd add mapping in Spring MVC:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Controller\r\n    public class ErrorController {\r\n\r\n        @RequestMapping(value=&quot;/500&quot;)\r\n        public @ResponseBody String handleException(HttpServletRequest req) {\r\n            // you can get the exception thrown\r\n            Throwable t = (Throwable)req.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n\r\n            // customize response to what you want\r\n            return &quot;Internal server error.&quot;;\r\n        }\r\n    }\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>If you want a generic way, you can define an error page in web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error-page&gt;\n  &lt;exception-type&gt;java.lang.Throwable&lt;/exception-type&gt;\n  &lt;location&gt;/500&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n\n<p>And add mapping in Spring MVC:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ErrorController {\n\n    @RequestMapping(value=\"/500\")\n    public @ResponseBody String handleException(HttpServletRequest req) {\n        // you can get the exception thrown\n        Throwable t = (Throwable)req.getAttribute(\"javax.servlet.error.exception\");\n\n        // customize response to what you want\n        return \"Internal server error.\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1571835335,"post_id":34633687,"comment_id":103371704,"body_markdown":"Could you post your ErrorResponse Class?","body":"Could you post your ErrorResponse Class?"},{"owner":{"account_id":2537677,"reputation":714,"user_id":2204326,"display_name":"ratijas"},"score":1,"creation_date":1580590400,"post_id":34633687,"comment_id":106149586,"body_markdown":"@Shivakumar ErrorResponse class is probably a simple DTO with simple code/message properties.","body":"@Shivakumar ErrorResponse class is probably a simple DTO with simple code/message properties."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1623743267,"post_id":34633687,"comment_id":120158076,"body_markdown":"This does not re-use the ControllerAdvice / RestControllerAdvice, does it?","body":"This does not re-use the ControllerAdvice / RestControllerAdvice, does it?"},{"owner":{"account_id":1145915,"reputation":1167,"user_id":1128689,"accept_rate":65,"display_name":"ToFi"},"score":1,"creation_date":1645362458,"post_id":34633687,"comment_id":125846148,"body_markdown":"@Puce you can&#39;t leverage `@ControllerAdvice` in this context because &quot;as specified by the java servlet specification Filters execute always before a Servlet is invoked [and] a `@ControllerAdvice` is only useful for controller which are executed inside the DispatcherServlet.&quot; as you can read here: https://stackoverflow.com/a/30345053/1128689","body":"@Puce you can&#39;t leverage <code>@ControllerAdvice</code> in this context because &quot;as specified by the java servlet specification Filters execute always before a Servlet is invoked [and] a <code>@ControllerAdvice</code> is only useful for controller which are executed inside the DispatcherServlet.&quot; as you can read here: <a href=\"https://stackoverflow.com/a/30345053/1128689\">stackoverflow.com/a/30345053/1128689</a>"}],"tags":[],"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"comment_count":4,"down_vote_count":2,"up_vote_count":150,"is_accepted":true,"score":148,"last_activity_date":1452085350,"creation_date":1452084824,"answer_id":34633687,"question_id":34595605,"body_markdown":"So this is what I did:\r\n\r\nI read the basics about filters [here](http://tutorials.jenkov.com/java-servlets/servlet-filters.html) and I figured out that I need to create a custom filter that will be first in the filter chain and will have a try catch to catch all runtime exceptions that might occur there. Then i need to create the json manually and put it in the response.\r\n\r\nSo here is my custom filter:\r\n\r\n    public class ExceptionHandlerFilter extends OncePerRequestFilter {\r\n\r\n        @Override\r\n        public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            try {\r\n                filterChain.doFilter(request, response);\r\n            } catch (RuntimeException e) {\r\n \r\n                // custom error response class used across my project\r\n                ErrorResponse errorResponse = new ErrorResponse(e);\r\n\r\n                response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\r\n                response.getWriter().write(convertObjectToJson(errorResponse));\r\n        }\r\n    }\r\n\r\n        public String convertObjectToJson(Object object) throws JsonProcessingException {\r\n            if (object == null) {\r\n                return null;\r\n            }\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            return mapper.writeValueAsString(object);\r\n        }\r\n    }\r\n\r\nAnd then i added it in the web.xml before the `CorsFilter`. And it works! \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt; \r\n        &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \r\n        &lt;filter-class&gt;xx.xxxxxx.xxxxx.api.controllers.filters.ExceptionHandlerFilter&lt;/filter-class&gt; \r\n    &lt;/filter&gt; \r\n \r\n\r\n    &lt;filter-mapping&gt; \r\n        &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt; \r\n    &lt;/filter-mapping&gt; \r\n \r\n    &lt;filter&gt; \r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt; \r\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \r\n    &lt;/filter&gt; \r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>So this is what I did:</p>\n\n<p>I read the basics about filters <a href=\"http://tutorials.jenkov.com/java-servlets/servlet-filters.html\">here</a> and I figured out that I need to create a custom filter that will be first in the filter chain and will have a try catch to catch all runtime exceptions that might occur there. Then i need to create the json manually and put it in the response.</p>\n\n<p>So here is my custom filter:</p>\n\n<pre><code>public class ExceptionHandlerFilter extends OncePerRequestFilter {\n\n    @Override\n    public void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            filterChain.doFilter(request, response);\n        } catch (RuntimeException e) {\n\n            // custom error response class used across my project\n            ErrorResponse errorResponse = new ErrorResponse(e);\n\n            response.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());\n            response.getWriter().write(convertObjectToJson(errorResponse));\n    }\n}\n\n    public String convertObjectToJson(Object object) throws JsonProcessingException {\n        if (object == null) {\n            return null;\n        }\n        ObjectMapper mapper = new ObjectMapper();\n        return mapper.writeValueAsString(object);\n    }\n}\n</code></pre>\n\n<p>And then i added it in the web.xml before the <code>CorsFilter</code>. And it works! </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt; \n    &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \n    &lt;filter-class&gt;xx.xxxxxx.xxxxx.api.controllers.filters.ExceptionHandlerFilter&lt;/filter-class&gt; \n&lt;/filter&gt; \n\n\n&lt;filter-mapping&gt; \n    &lt;filter-name&gt;exceptionHandlerFilter&lt;/filter-name&gt; \n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt; \n&lt;/filter-mapping&gt; \n\n&lt;filter&gt; \n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt; \n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt; \n&lt;/filter&gt; \n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CorsFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2404464,"reputation":1067,"user_id":2101345,"display_name":"Cyva"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1484322621,"creation_date":1484322621,"answer_id":41638440,"question_id":34595605,"body_markdown":"When you want to test a state of application and in case of a problem return HTTP error I would suggest a filter. The filter below handles all HTTP requests. The shortest solution in Spring Boot with a javax filter.\r\n\r\nIn the implementation can be various conditions. In my case the applicationManager testing if the application is ready. \r\n\r\n\r\n    import ...ApplicationManager;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class SystemIsReadyFilter implements Filter {\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationManager applicationManager;\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {}\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n    \t\tif (!applicationManager.isApplicationReady()) {\r\n    \t\t\t((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE, &quot;The service is booting.&quot;);\r\n    \t\t} else {\r\n    \t\t\tchain.doFilter(request, response);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {}\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>When you want to test a state of application and in case of a problem return HTTP error I would suggest a filter. The filter below handles all HTTP requests. The shortest solution in Spring Boot with a javax filter.</p>\n\n<p>In the implementation can be various conditions. In my case the applicationManager testing if the application is ready. </p>\n\n<pre><code>import ...ApplicationManager;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class SystemIsReadyFilter implements Filter {\n\n    @Autowired\n    private ApplicationManager applicationManager;\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {}\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        if (!applicationManager.isApplicationReady()) {\n            ((HttpServletResponse) response).sendError(HttpServletResponse.SC_SERVICE_UNAVAILABLE, \"The service is booting.\");\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public void destroy() {}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":10,"creation_date":1493215605,"post_id":43242424,"comment_id":74321295,"body_markdown":"Well, you are welcome to share your own solution that sounds the way to do it :)","body":"Well, you are welcome to share your own solution that sounds the way to do it :)"},{"owner":{"account_id":77917,"reputation":2688,"user_id":222116,"display_name":"R&#252;diger Schulz"},"score":2,"creation_date":1512654500,"post_id":43242424,"comment_id":82352653,"body_markdown":"If you want to avoid having a Controller wired into your filter (which is what @Bato-BairTsyrenov is referring to I assume), you can easily extract the logic where you create the ErrorDTO into it&#39;s own `@Component` class and use that in the Filter and in the Controller.","body":"If you want to avoid having a Controller wired into your filter (which is what @Bato-BairTsyrenov is referring to I assume), you can easily extract the logic where you create the ErrorDTO into it&#39;s own <code>@Component</code> class and use that in the Filter and in the Controller."},{"owner":{"account_id":3174880,"reputation":3187,"user_id":2683000,"accept_rate":38,"display_name":"psv"},"score":2,"creation_date":1550135990,"post_id":43242424,"comment_id":96161809,"body_markdown":"I do not totally agree with you, because this is not very clean to inject a specific controller in your filter.","body":"I do not totally agree with you, because this is not very clean to inject a specific controller in your filter."},{"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"score":0,"creation_date":1550244512,"post_id":43242424,"comment_id":96210424,"body_markdown":"As mentioned in the `answer` this is one of the ways! I have not claimed that it is the best way. Thank you for sharing your concern @psv  I am sure the community would appreciate the solution you have in mind :)","body":"As mentioned in the <code>answer</code> this is one of the ways! I have not claimed that it is the best way. Thank you for sharing your concern @psv  I am sure the community would appreciate the solution you have in mind :)"}],"tags":[],"owner":{"account_id":1268826,"reputation":7565,"user_id":1225551,"accept_rate":75,"display_name":"Raf"},"comment_count":4,"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1492901857,"creation_date":1491429934,"answer_id":43242424,"question_id":34595605,"body_markdown":"I come across this issue myself and I performed the steps below to reuse my ```ExceptionController``` that is annotated with ```@ControllerAdvise``` for ```Exceptions``` thrown in a registered Filter.\r\n\r\nThere are obviously many ways to handle exception but, in my case, I wanted the exception to be handled by my ```ExceptionController``` because I am stubborn and also because I don&#39;t want to copy/paste the same code (i.e. I have some processing/logging code in ```ExceptionController```). I would like to return the beautiful ```JSON``` response just like the rest of the exceptions thrown not from a Filter. \r\n\r\n    {\r\n      &quot;status&quot;: 400,\r\n      &quot;message&quot;: &quot;some exception thrown when executing the request&quot;\r\n    }\r\n\r\nAnyway, I managed to make use of my ```ExceptionHandler``` and I had to do a little bit of extra as shown below in steps:\r\n\r\n**Steps**\r\n_____________________________\r\n\r\n 1. You have a custom filter that may or may not throw an exception\r\n 2. You have a Spring controller that handles exceptions using ```@ControllerAdvise``` i.e. MyExceptionController\r\n\r\n\r\n**Sample code**\r\n\r\n    //sample Filter, to be added in web.xml\r\n    public MyFilterThatThrowException implements Filter {\r\n       //Spring Controller annotated with @ControllerAdvise which has handlers\r\n       //for exceptions\r\n       private MyExceptionController myExceptionController; \r\n       \r\n       @Override\r\n       public void destroy() {\r\n    \t\t// TODO Auto-generated method stub\r\n       }\r\n       \r\n       @Override\r\n       public void init(FilterConfig arg0) throws ServletException {\r\n           //Manually get an instance of MyExceptionController\r\n           ApplicationContext ctx = WebApplicationContextUtils\r\n    \t\t\t      .getRequiredWebApplicationContext(arg0.getServletContext());\r\n           \r\n           //MyExceptionHanlder is now accessible because I loaded it manually\r\n           this.myExceptionController = ctx.getBean(MyExceptionController.class); \r\n       }\r\n     \r\n       @Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tHttpServletRequest req = (HttpServletRequest) request;\r\n    \t\tHttpServletResponse res = (HttpServletResponse) response;\r\n            \r\n            try {\r\n               //code that throws exception\r\n            } catch(Exception ex) {\r\n              //MyObject is whatever the output of the below method\r\n              MyObject errorDTO = myExceptionController.handleMyException(req, ex); \r\n    \t\t  \r\n              //set the response object\r\n              res.setStatus(errorDTO .getStatus());\r\n    \t\t  res.setContentType(&quot;application/json&quot;);\r\n    \t\t  \r\n              //pass down the actual obj that exception handler normally send\r\n    \t\t  ObjectMapper mapper = new ObjectMapper();\r\n    \t\t  PrintWriter out = res.getWriter(); \r\n    \t\t  out.print(mapper.writeValueAsString(errorDTO ));\r\n    \t\t  out.flush();\r\n    \t\t\t\t\r\n    \t\t  return; \r\n            }\r\n    \r\n            //proceed normally otherwise\r\n            chain.doFilter(request, response); \r\n         }\r\n    }\r\n\r\nAnd now the sample Spring Controller that handles ```Exception``` in normal cases (i.e. exceptions that are not  usually thrown in Filter level, the one we want to use for exceptions thrown in a Filter) \r\n\r\n    //sample SpringController \r\n    @ControllerAdvice\r\n    public class ExceptionController extends ResponseEntityExceptionHandler {\r\n        \r\n        //sample handler\r\n    \t@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    \t@ExceptionHandler(SQLException.class)\r\n    \tpublic @ResponseBody MyObject handleSQLException(HttpServletRequest request,\r\n    \t\t\tException ex){\r\n    \t\tErrorDTO response = new ErrorDTO (400, &quot;some exception thrown when &quot;\r\n    \t\t\t\t+ &quot;executing the request.&quot;); \r\n    \t\treturn response;\r\n    \t}\r\n        //other handlers\r\n    }\r\n\r\nSharing the solution with those who wish to use ```ExceptionController``` for ```Exceptions``` thrown in a Filter.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I come across this issue myself and I performed the steps below to reuse my <code>ExceptionController</code> that is annotated with <code>@ControllerAdvise</code> for <code>Exceptions</code> thrown in a registered Filter.</p>\n\n<p>There are obviously many ways to handle exception but, in my case, I wanted the exception to be handled by my <code>ExceptionController</code> because I am stubborn and also because I don't want to copy/paste the same code (i.e. I have some processing/logging code in <code>ExceptionController</code>). I would like to return the beautiful <code>JSON</code> response just like the rest of the exceptions thrown not from a Filter. </p>\n\n<pre><code>{\n  \"status\": 400,\n  \"message\": \"some exception thrown when executing the request\"\n}\n</code></pre>\n\n<p>Anyway, I managed to make use of my <code>ExceptionHandler</code> and I had to do a little bit of extra as shown below in steps:</p>\n\n<p><strong>Steps</strong></p>\n\n<hr>\n\n<ol>\n<li>You have a custom filter that may or may not throw an exception</li>\n<li>You have a Spring controller that handles exceptions using <code>@ControllerAdvise</code> i.e. MyExceptionController</li>\n</ol>\n\n<p><strong>Sample code</strong></p>\n\n<pre><code>//sample Filter, to be added in web.xml\npublic MyFilterThatThrowException implements Filter {\n   //Spring Controller annotated with @ControllerAdvise which has handlers\n   //for exceptions\n   private MyExceptionController myExceptionController; \n\n   @Override\n   public void destroy() {\n        // TODO Auto-generated method stub\n   }\n\n   @Override\n   public void init(FilterConfig arg0) throws ServletException {\n       //Manually get an instance of MyExceptionController\n       ApplicationContext ctx = WebApplicationContextUtils\n                  .getRequiredWebApplicationContext(arg0.getServletContext());\n\n       //MyExceptionHanlder is now accessible because I loaded it manually\n       this.myExceptionController = ctx.getBean(MyExceptionController.class); \n   }\n\n   @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse res = (HttpServletResponse) response;\n\n        try {\n           //code that throws exception\n        } catch(Exception ex) {\n          //MyObject is whatever the output of the below method\n          MyObject errorDTO = myExceptionController.handleMyException(req, ex); \n\n          //set the response object\n          res.setStatus(errorDTO .getStatus());\n          res.setContentType(\"application/json\");\n\n          //pass down the actual obj that exception handler normally send\n          ObjectMapper mapper = new ObjectMapper();\n          PrintWriter out = res.getWriter(); \n          out.print(mapper.writeValueAsString(errorDTO ));\n          out.flush();\n\n          return; \n        }\n\n        //proceed normally otherwise\n        chain.doFilter(request, response); \n     }\n}\n</code></pre>\n\n<p>And now the sample Spring Controller that handles <code>Exception</code> in normal cases (i.e. exceptions that are not  usually thrown in Filter level, the one we want to use for exceptions thrown in a Filter) </p>\n\n<pre><code>//sample SpringController \n@ControllerAdvice\npublic class ExceptionController extends ResponseEntityExceptionHandler {\n\n    //sample handler\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    @ExceptionHandler(SQLException.class)\n    public @ResponseBody MyObject handleSQLException(HttpServletRequest request,\n            Exception ex){\n        ErrorDTO response = new ErrorDTO (400, \"some exception thrown when \"\n                + \"executing the request.\"); \n        return response;\n    }\n    //other handlers\n}\n</code></pre>\n\n<p>Sharing the solution with those who wish to use <code>ExceptionController</code> for <code>Exceptions</code> thrown in a Filter.</p>\n"},{"comments":[{"owner":{"account_id":9229113,"reputation":1100,"user_id":6855849,"accept_rate":75,"display_name":"Samet BaskÄ±cÄ±"},"score":0,"creation_date":1522256691,"post_id":43457607,"comment_id":86087905,"body_markdown":"does it effect any auto configuration?","body":"does it effect any auto configuration?"},{"owner":{"account_id":208843,"reputation":8250,"user_id":459579,"display_name":"ThomasRS"},"score":0,"creation_date":1581341815,"post_id":43457607,"comment_id":106388991,"body_markdown":"Note that HandlerExceptionResolver does not necessarily handle the exception. So it might fall through as HTTP 200. Using response.setStatus(..) before calling it seems safer.","body":"Note that HandlerExceptionResolver does not necessarily handle the exception. So it might fall through as HTTP 200. Using response.setStatus(..) before calling it seems safer."}],"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492455016,"creation_date":1492455016,"answer_id":43457607,"question_id":34595605,"body_markdown":"This is my solution by overriding default Spring Boot /error handler\r\n\r\n    package com.mypackage;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.web.ErrorAttributes;\r\n    import org.springframework.core.annotation.AnnotationUtils;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.util.Assert;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.context.request.RequestAttributes;\r\n    import org.springframework.web.context.request.ServletRequestAttributes;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * This controller is vital in order to handle exceptions thrown in Filters.\r\n     */\r\n    @RestController\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public class ErrorController implements org.springframework.boot.autoconfigure.web.ErrorController {\r\n\r\n        private final static Logger LOGGER = LoggerFactory.getLogger(ErrorController.class);\r\n\r\n        private final ErrorAttributes errorAttributes;\r\n\r\n        @Autowired\r\n        public ErrorController(ErrorAttributes errorAttributes) {\r\n            Assert.notNull(errorAttributes, &quot;ErrorAttributes must not be null&quot;);\r\n            this.errorAttributes = errorAttributes;\r\n        }\r\n\r\n        @Override\r\n        public String getErrorPath() {\r\n            return &quot;/error&quot;;\r\n        }\r\n\r\n        @RequestMapping\r\n        public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest aRequest, HttpServletResponse response) {\r\n            RequestAttributes requestAttributes = new ServletRequestAttributes(aRequest);\r\n            Map&lt;String, Object&gt; result =     this.errorAttributes.getErrorAttributes(requestAttributes, false);\r\n\r\n            Throwable error = this.errorAttributes.getError(requestAttributes);\r\n\r\n            ResponseStatus annotation =     AnnotationUtils.getAnnotation(error.getClass(), ResponseStatus.class);\r\n            HttpStatus statusCode = annotation != null ? annotation.value() : HttpStatus.INTERNAL_SERVER_ERROR;\r\n    \r\n            result.put(&quot;status&quot;, statusCode.value());\r\n            result.put(&quot;error&quot;, statusCode.getReasonPhrase());\r\n    \r\n            LOGGER.error(result.toString());\r\n            return new ResponseEntity&lt;&gt;(result, statusCode) ;\r\n        }\r\n    \r\n    }\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>This is my solution by overriding default Spring Boot /error handler</p>\n\n<pre><code>package com.mypackage;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.web.ErrorAttributes;\nimport org.springframework.core.annotation.AnnotationUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.util.Assert;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.context.request.RequestAttributes;\nimport org.springframework.web.context.request.ServletRequestAttributes;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.Map;\n\n/**\n * This controller is vital in order to handle exceptions thrown in Filters.\n */\n@RestController\n@RequestMapping(\"/error\")\npublic class ErrorController implements org.springframework.boot.autoconfigure.web.ErrorController {\n\n    private final static Logger LOGGER = LoggerFactory.getLogger(ErrorController.class);\n\n    private final ErrorAttributes errorAttributes;\n\n    @Autowired\n    public ErrorController(ErrorAttributes errorAttributes) {\n        Assert.notNull(errorAttributes, \"ErrorAttributes must not be null\");\n        this.errorAttributes = errorAttributes;\n    }\n\n    @Override\n    public String getErrorPath() {\n        return \"/error\";\n    }\n\n    @RequestMapping\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest aRequest, HttpServletResponse response) {\n        RequestAttributes requestAttributes = new ServletRequestAttributes(aRequest);\n        Map&lt;String, Object&gt; result =     this.errorAttributes.getErrorAttributes(requestAttributes, false);\n\n        Throwable error = this.errorAttributes.getError(requestAttributes);\n\n        ResponseStatus annotation =     AnnotationUtils.getAnnotation(error.getClass(), ResponseStatus.class);\n        HttpStatus statusCode = annotation != null ? annotation.value() : HttpStatus.INTERNAL_SERVER_ERROR;\n\n        result.put(\"status\", statusCode.value());\n        result.put(\"error\", statusCode.getReasonPhrase());\n\n        LOGGER.error(result.toString());\n        return new ResponseEntity&lt;&gt;(result, statusCode) ;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4277003,"reputation":227,"user_id":3497380,"display_name":"Maciej"},"score":1,"creation_date":1534925797,"post_id":50818385,"comment_id":90875195,"body_markdown":"Thanks now testing this solution but in my case work perfect.","body":"Thanks now testing this solution but in my case work perfect."},{"owner":{"account_id":8888292,"reputation":362,"user_id":6635869,"display_name":"Fma"},"score":1,"creation_date":1573124530,"post_id":50818385,"comment_id":103783169,"body_markdown":"clean and simple one addition for spring boot 2.0+ you should add\n\n`@Override\n    public String getErrorPath()\n    {\n        return null;\n    }`","body":"clean and simple one addition for spring boot 2.0+ you should add  <code>@Override     public String getErrorPath()     {         return null;     }</code>"},{"owner":{"account_id":353475,"reputation":824,"user_id":691183,"display_name":"Marx"},"score":1,"creation_date":1595850204,"post_id":50818385,"comment_id":111607200,"body_markdown":"you can use\njavax.servlet.RequestDispatcher.ERROR_EXCEPTION instead of &quot;javax.servlet.error.exception&quot;","body":"you can use javax.servlet.RequestDispatcher.ERROR_EXCEPTION instead of &quot;javax.servlet.error.exception&quot;"},{"owner":{"account_id":19964164,"reputation":319,"user_id":14631114,"display_name":"Ranjan Kumar"},"score":0,"creation_date":1661670756,"post_id":50818385,"comment_id":129823639,"body_markdown":"This solution very neat and clean, works for me","body":"This solution very neat and clean, works for me"}],"tags":[],"owner":{"account_id":23953,"reputation":463,"user_id":60548,"accept_rate":50,"display_name":"AndyB"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1528809895,"creation_date":1528809895,"answer_id":50818385,"question_id":34595605,"body_markdown":"So, here&#39;s what I did based on an amalgamation of the above answers... We already had a `GlobalExceptionHandler` annotated with `@ControllerAdvice` and I also wanted to find a way to re-use that code to handle exceptions that come from filters.\r\n\r\nThe simplest solution I could find was to leave the exception handler alone, and implement an error controller as follows:\r\n\r\n    @Controller\r\n    public class ErrorControllerImpl implements ErrorController {\r\n      @RequestMapping(&quot;/error&quot;)\r\n      public void handleError(HttpServletRequest request) throws Throwable {\r\n        if (request.getAttribute(&quot;javax.servlet.error.exception&quot;) != null) {\r\n          throw (Throwable) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nSo, any errors caused by exceptions first pass through the `ErrorController` and are re-directed off to the exception handler by rethrowing them from within a `@Controller` context, whereas any other errors (not caused directly by an exception) pass through the `ErrorController` without modification.\r\n\r\nAny reasons why this is actually a bad idea?","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>So, here's what I did based on an amalgamation of the above answers... We already had a <code>GlobalExceptionHandler</code> annotated with <code>@ControllerAdvice</code> and I also wanted to find a way to re-use that code to handle exceptions that come from filters.</p>\n\n<p>The simplest solution I could find was to leave the exception handler alone, and implement an error controller as follows:</p>\n\n<pre><code>@Controller\npublic class ErrorControllerImpl implements ErrorController {\n  @RequestMapping(\"/error\")\n  public void handleError(HttpServletRequest request) throws Throwable {\n    if (request.getAttribute(\"javax.servlet.error.exception\") != null) {\n      throw (Throwable) request.getAttribute(\"javax.servlet.error.exception\");\n    }\n  }\n}\n</code></pre>\n\n<p>So, any errors caused by exceptions first pass through the <code>ErrorController</code> and are re-directed off to the exception handler by rethrowing them from within a <code>@Controller</code> context, whereas any other errors (not caused directly by an exception) pass through the <code>ErrorController</code> without modification.</p>\n\n<p>Any reasons why this is actually a bad idea?</p>\n"},{"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1550532738,"creation_date":1550515958,"answer_id":54753653,"question_id":34595605,"body_markdown":"Just to complement the other fine answers provided, as I too recently wanted a **single** error/exception handling component in a simple SpringBoot app containing filters that may throw exceptions, with other exceptions potentially thrown from controller methods.  \r\n\r\nFortunately, it seems there is nothing to prevent you from combining your controller advice with an override of Spring&#39;s default error handler to provide consistent response payloads, allow you to share logic, inspect exceptions from filters, trap specific service-thrown exceptions, etc.  \r\n\r\nE.g.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n@ControllerAdvice\r\n@RestController\r\npublic class GlobalErrorHandler implements ErrorController {\r\n\r\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n  @ExceptionHandler(ValidationException.class)\r\n  public Error handleValidationException(\r\n      final ValidationException validationException) {\r\n    return new Error(&quot;400&quot;, &quot;Incorrect params&quot;); // whatever\r\n  }\r\n\r\n  @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n  @ExceptionHandler(Exception.class)\r\n  public Error handleUnknownException(final Exception exception) {\r\n    return new Error(&quot;500&quot;, &quot;Unexpected error processing request&quot;);\r\n  }\r\n\r\n  @RequestMapping(&quot;/error&quot;)\r\n  public ResponseEntity&lt;Error&gt; handleError(final HttpServletRequest request,\r\n      final HttpServletResponse response) {\r\n\r\n    Object exception = request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n    \r\n    // TODO: Logic to inspect exception thrown from Filters...\r\n    return ResponseEntity.badRequest().body(new Error(/* whatever */));\r\n  }\r\n\r\n  @Override\r\n  public String getErrorPath() {\r\n    return &quot;/error&quot;;\r\n  }\r\n\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Just to complement the other fine answers provided, as I too recently wanted a <strong>single</strong> error/exception handling component in a simple SpringBoot app containing filters that may throw exceptions, with other exceptions potentially thrown from controller methods.  </p>\n\n<p>Fortunately, it seems there is nothing to prevent you from combining your controller advice with an override of Spring's default error handler to provide consistent response payloads, allow you to share logic, inspect exceptions from filters, trap specific service-thrown exceptions, etc.  </p>\n\n<p>E.g.</p>\n\n<pre><code>\n@ControllerAdvice\n@RestController\npublic class GlobalErrorHandler implements ErrorController {\n\n  @ResponseStatus(HttpStatus.BAD_REQUEST)\n  @ExceptionHandler(ValidationException.class)\n  public Error handleValidationException(\n      final ValidationException validationException) {\n    return new Error(\"400\", \"Incorrect params\"); // whatever\n  }\n\n  @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n  @ExceptionHandler(Exception.class)\n  public Error handleUnknownException(final Exception exception) {\n    return new Error(\"500\", \"Unexpected error processing request\");\n  }\n\n  @RequestMapping(\"/error\")\n  public ResponseEntity handleError(final HttpServletRequest request,\n      final HttpServletResponse response) {\n\n    Object exception = request.getAttribute(\"javax.servlet.error.exception\");\n\n    // TODO: Logic to inspect exception thrown from Filters...\n    return ResponseEntity.badRequest().body(new Error(/* whatever */));\n  }\n\n  @Override\n  public String getErrorPath() {\n    return \"/error\";\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1601651603,"post_id":55864206,"comment_id":113481103,"body_markdown":"Looks promising... How would you modify it to handle exceptions thrown by **validators**? They also run *before* the `Controller`.","body":"Looks promising... How would you modify it to handle exceptions thrown by <b>validators</b>? They also run <i>before</i> the <code>Controller</code>."},{"owner":{"account_id":13360741,"reputation":574,"user_id":9642851,"display_name":"Ayman Patel"},"score":0,"creation_date":1601885210,"post_id":55864206,"comment_id":113533759,"body_markdown":"`FilterChainExceptionHandler` would work for only Runtime exceptions. What to do for \n Checked Exceptions such as `MethodArgumentNotValidException` , `ServletRequestBindingException` .etc","body":"<code>FilterChainExceptionHandler</code> would work for only Runtime exceptions. What to do for   Checked Exceptions such as <code>MethodArgumentNotValidException</code> , <code>ServletRequestBindingException</code> .etc"},{"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"score":5,"creation_date":1602942125,"post_id":55864206,"comment_id":113881837,"body_markdown":"Thank you soo much you made my day, I spend a lot of time to deal with but at the end I saw this and it&#39;s works awesome","body":"Thank you soo much you made my day, I spend a lot of time to deal with but at the end I saw this and it&#39;s works awesome"},{"owner":{"account_id":1410845,"reputation":65,"user_id":1337469,"display_name":"Yoshimitsu"},"score":1,"creation_date":1632634237,"post_id":55864206,"comment_id":122542852,"body_markdown":"how does the filter &quot;redirect the exception to the above defined exception handling&quot;?","body":"how does the filter &quot;redirect the exception to the above defined exception handling&quot;?"},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":1,"creation_date":1632653703,"post_id":55864206,"comment_id":122546373,"body_markdown":"@Yoshimitsu It passes the exception to the HandlerExceptionResolver which then uses the default Spring mechanism to handle the exception (i.e. using the defined `@ExceptionHandler`).","body":"@Yoshimitsu It passes the exception to the HandlerExceptionResolver which then uses the default Spring mechanism to handle the exception (i.e. using the defined <code>@ExceptionHandler</code>)."},{"owner":{"account_id":8187839,"reputation":651,"user_id":6163105,"display_name":"David"},"score":2,"creation_date":1637260144,"post_id":55864206,"comment_id":123785184,"body_markdown":"This seems to be the best way to handle the errors. I had tried manually writing to the response but had a timestamp that wasn&#39;t being serialized properly and was getting a partial JSON response. Manually invoking the exception resolver works perfectly.","body":"This seems to be the best way to handle the errors. I had tried manually writing to the response but had a timestamp that wasn&#39;t being serialized properly and was getting a partial JSON response. Manually invoking the exception resolver works perfectly."},{"owner":{"account_id":3418535,"reputation":856,"user_id":2866793,"display_name":"Tomasz JagieÅ‚Å‚o"},"score":6,"creation_date":1649847823,"post_id":55864206,"comment_id":126978158,"body_markdown":"@ssc-hrep3 Great answer, but note, that in case of not handled exception, response status will be 200. To avoid that, I would add check, if resolveException returned null, and if yes, rethrow catched exception.","body":"@ssc-hrep3 Great answer, but note, that in case of not handled exception, response status will be 200. To avoid that, I would add check, if resolveException returned null, and if yes, rethrow catched exception."},{"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"score":0,"creation_date":1659961322,"post_id":55864206,"comment_id":129412000,"body_markdown":"@Tomasz do you have any example of it?","body":"@Tomasz do you have any example of it?"},{"owner":{"account_id":3418535,"reputation":856,"user_id":2866793,"display_name":"Tomasz JagieÅ‚Å‚o"},"score":0,"creation_date":1660069118,"post_id":55864206,"comment_id":129444296,"body_markdown":"@DaveKraczo\nchange\n\nresolver.resolveException(request, response, null, e);\n\nto\n\nif (resolver.resolveException(request, response, null, e) == null) {\n    throw e;\n}","body":"@DaveKraczo change  resolver.resolveException(request, response, null, e);  to  if (resolver.resolveException(request, response, null, e) == null) {     throw e; }"},{"owner":{"account_id":2386165,"reputation":151,"user_id":2087103,"accept_rate":75,"display_name":"user2087103"},"score":0,"creation_date":1683205007,"post_id":55864206,"comment_id":134332964,"body_markdown":"@TomaszJagieÅ‚Å‚o neat. Other solution is handling Exception and throw a generic error if not handled. Something like this on the `@ControllerAdvice` class\n`@ExceptionHandler(Exception.class)\npublic ResponseEntity&lt;HttpResponse&gt; internalServerErrorException(Exception e) { \ndo yourthings}`","body":"@TomaszJagieÅ‚Å‚o neat. Other solution is handling Exception and throw a generic error if not handled. Something like this on the <code>@ControllerAdvice</code> class <code>@ExceptionHandler(Exception.class) public ResponseEntity&lt;HttpResponse&gt; internalServerErrorException(Exception e) {  do yourthings}</code>"},{"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"score":0,"creation_date":1701994242,"post_id":55864206,"comment_id":136846676,"body_markdown":"This forms circular dependency: https://stackoverflow.com/questions/77623570/circular-dependency-in-spring-filters","body":"This forms circular dependency: <a href=\"https://stackoverflow.com/questions/77623570/circular-dependency-in-spring-filters\" title=\"circular dependency in spring filters\">stackoverflow.com/questions/77623570/&hellip;</a>"}],"tags":[],"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"comment_count":11,"down_vote_count":2,"up_vote_count":135,"is_accepted":false,"score":133,"last_activity_date":1569307525,"creation_date":1556269336,"answer_id":55864206,"question_id":34595605,"body_markdown":"I wanted to provide a solution based on [the answer of @kopelitsa](https://stackoverflow.com/a/34633687/3233827). The main differences being:\r\n\r\n 1. Reusing the controller exception handling by using the `HandlerExceptionResolver`.\r\n 2. Using Java config over XML config\r\n\r\n---\r\n\r\nFirst, you need to make sure, that you have a class that handles exceptions occurring in a regular RestController/Controller (a class annotated with `@RestControllerAdvice` or `@ControllerAdvice` and method(s) annotated with `@ExceptionHandler`). This handles your exceptions occurring in a controller. Here is an example using the RestControllerAdvice:\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionTranslator {\r\n\r\n        @ExceptionHandler(RuntimeException.class)\r\n        @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n        public ErrorDTO processRuntimeException(RuntimeException e) {\r\n            return createErrorDTO(HttpStatus.INTERNAL_SERVER_ERROR, &quot;An internal server error occurred.&quot;, e);\r\n        }\r\n\r\n        private ErrorDTO createErrorDTO(HttpStatus status, String message, Exception e) {\r\n            (...)\r\n        }\r\n    }\r\n\r\nTo reuse this behavior in the Spring Security filter chain, you need to define a Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling. Here is an example:\r\n\r\n    @Component\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {\r\n\r\n        private final Logger log = LoggerFactory.getLogger(getClass());\r\n\r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n\t    private HandlerExceptionResolver resolver;\r\n\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n\r\n            try {\r\n                filterChain.doFilter(request, response);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Spring Security Filter Chain Exception:&quot;, e);\r\n                resolver.resolveException(request, response, null, e);\r\n            }\r\n\t\t}\r\n\t}\r\n\r\nThe created filter then needs to be added to the SecurityConfiguration. You need to hook it into the chain very early, because all preceding filter&#39;s exceptions won&#39;t be caught. In my case, it was reasonable to add it before the `LogoutFilter`. See the default filter chain and its order [in the official docs](https://docs.spring.io/spring-security/site/docs/current/reference/html/ns-config.html#ns-custom-filters). Here is an example:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n        @Autowired\r\n        private FilterChainExceptionHandler filterChainExceptionHandler;\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .addFilterBefore(filterChainExceptionHandler, LogoutFilter.class)\r\n                (...)\r\n        }\r\n\r\n    }","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I wanted to provide a solution based on <a href=\"https://stackoverflow.com/a/34633687/3233827\">the answer of @kopelitsa</a>. The main differences being:</p>\n\n<ol>\n<li>Reusing the controller exception handling by using the <code>HandlerExceptionResolver</code>.</li>\n<li>Using Java config over XML config</li>\n</ol>\n\n<hr>\n\n<p>First, you need to make sure, that you have a class that handles exceptions occurring in a regular RestController/Controller (a class annotated with <code>@RestControllerAdvice</code> or <code>@ControllerAdvice</code> and method(s) annotated with <code>@ExceptionHandler</code>). This handles your exceptions occurring in a controller. Here is an example using the RestControllerAdvice:</p>\n\n<pre><code>@RestControllerAdvice\npublic class ExceptionTranslator {\n\n    @ExceptionHandler(RuntimeException.class)\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public ErrorDTO processRuntimeException(RuntimeException e) {\n        return createErrorDTO(HttpStatus.INTERNAL_SERVER_ERROR, \"An internal server error occurred.\", e);\n    }\n\n    private ErrorDTO createErrorDTO(HttpStatus status, String message, Exception e) {\n        (...)\n    }\n}\n</code></pre>\n\n<p>To reuse this behavior in the Spring Security filter chain, you need to define a Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling. Here is an example:</p>\n\n<pre><code>@Component\npublic class FilterChainExceptionHandler extends OncePerRequestFilter {\n\n    private final Logger log = LoggerFactory.getLogger(getClass());\n\n    @Autowired\n    @Qualifier(\"handlerExceptionResolver\")\n    private HandlerExceptionResolver resolver;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        try {\n            filterChain.doFilter(request, response);\n        } catch (Exception e) {\n            log.error(\"Spring Security Filter Chain Exception:\", e);\n            resolver.resolveException(request, response, null, e);\n        }\n    }\n}\n</code></pre>\n\n<p>The created filter then needs to be added to the SecurityConfiguration. You need to hook it into the chain very early, because all preceding filter's exceptions won't be caught. In my case, it was reasonable to add it before the <code>LogoutFilter</code>. See the default filter chain and its order <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/ns-config.html#ns-custom-filters\" rel=\"noreferrer\">in the official docs</a>. Here is an example:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private FilterChainExceptionHandler filterChainExceptionHandler;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .addFilterBefore(filterChainExceptionHandler, LogoutFilter.class)\n            (...)\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8978785,"reputation":51,"user_id":6694666,"display_name":"Adewagold"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1564753327,"creation_date":1564753327,"answer_id":57327708,"question_id":34595605,"body_markdown":"After reading through different methods suggested in the above answers, I decided to handle the authentication exceptions by using a custom filter. I was able to handle the response status and codes using an error response class using the following method.\r\n\r\nI created a custom filter and modified my security config by using the addFilterAfter method and added after the CorsFilter class.\r\n\r\n    @Component\r\n    public class AuthFilter implements Filter {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        //Cast the servlet request and response to HttpServletRequest and HttpServletResponse\r\n        HttpServletResponse httpServletResponse = (HttpServletResponse) response;\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        \r\n        // Grab the exception from the request attribute\r\n        Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n        //Set response content type to application/json\r\n        httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n        \r\n        //check if exception is not null and determine the instance of the exception to further manipulate the status codes and messages of your exception\r\n        if(exception!=null &amp;&amp; exception instanceof AuthorizationParameterNotFoundException){\r\n            ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),&quot;Authetication Failed!&quot;);\r\n            httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n            PrintWriter writer = httpServletResponse.getWriter();\r\n            writer.write(convertObjectToJson(errorResponse));\r\n            writer.flush();\r\n            return;\r\n        }\r\n        // If exception instance cannot be determined, then throw a nice exception and desired response code.\r\n        else if(exception!=null){\r\n                ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),&quot;Authetication Failed!&quot;);\r\n                PrintWriter writer = httpServletResponse.getWriter();\r\n                writer.write(convertObjectToJson(errorResponse));\r\n                writer.flush();\r\n                return;\r\n            }\r\n            else {\r\n            // proceed with the initial request if no exception is thrown.\r\n                chain.doFilter(httpServletRequest,httpServletResponse);\r\n            }\r\n        }\r\n\r\n    public String convertObjectToJson(Object object) throws JsonProcessingException {\r\n        if (object == null) {\r\n            return null;\r\n        }\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return mapper.writeValueAsString(object);\r\n    }\r\n    }\r\n\r\nSecurityConfig class\r\n\r\n        @Configuration\r\n        public class JwtSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Autowired\r\n        AuthFilter authenticationFilter;\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.addFilterAfter(authenticationFilter, CorsFilter.class).csrf().disable()\r\n                    .cors(); //........\r\n            return http;\r\n         }\r\n       }\r\n\r\nErrorResponse class\r\n\r\n    public class ErrorResponse  {\r\n    private final String message;\r\n    private final String description;\r\n\r\n    public ErrorResponse(String description, String message) {\r\n        this.message = message;\r\n        this.description = description;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }}","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>After reading through different methods suggested in the above answers, I decided to handle the authentication exceptions by using a custom filter. I was able to handle the response status and codes using an error response class using the following method.</p>\n\n<p>I created a custom filter and modified my security config by using the addFilterAfter method and added after the CorsFilter class.</p>\n\n<pre><code>@Component\npublic class AuthFilter implements Filter {\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    //Cast the servlet request and response to HttpServletRequest and HttpServletResponse\n    HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n    // Grab the exception from the request attribute\n    Exception exception = (Exception) request.getAttribute(\"javax.servlet.error.exception\");\n    //Set response content type to application/json\n    httpServletResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\n\n    //check if exception is not null and determine the instance of the exception to further manipulate the status codes and messages of your exception\n    if(exception!=null &amp;&amp; exception instanceof AuthorizationParameterNotFoundException){\n        ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),\"Authetication Failed!\");\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        PrintWriter writer = httpServletResponse.getWriter();\n        writer.write(convertObjectToJson(errorResponse));\n        writer.flush();\n        return;\n    }\n    // If exception instance cannot be determined, then throw a nice exception and desired response code.\n    else if(exception!=null){\n            ErrorResponse errorResponse = new ErrorResponse(exception.getMessage(),\"Authetication Failed!\");\n            PrintWriter writer = httpServletResponse.getWriter();\n            writer.write(convertObjectToJson(errorResponse));\n            writer.flush();\n            return;\n        }\n        else {\n        // proceed with the initial request if no exception is thrown.\n            chain.doFilter(httpServletRequest,httpServletResponse);\n        }\n    }\n\npublic String convertObjectToJson(Object object) throws JsonProcessingException {\n    if (object == null) {\n        return null;\n    }\n    ObjectMapper mapper = new ObjectMapper();\n    return mapper.writeValueAsString(object);\n}\n}\n</code></pre>\n\n<p>SecurityConfig class</p>\n\n<pre><code>    @Configuration\n    public class JwtSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Autowired\n    AuthFilter authenticationFilter;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.addFilterAfter(authenticationFilter, CorsFilter.class).csrf().disable()\n                .cors(); //........\n        return http;\n     }\n   }\n</code></pre>\n\n<p>ErrorResponse class</p>\n\n<pre><code>public class ErrorResponse  {\nprivate final String message;\nprivate final String description;\n\npublic ErrorResponse(String description, String message) {\n    this.message = message;\n    this.description = description;\n}\n\npublic String getMessage() {\n    return message;\n}\n\npublic String getDescription() {\n    return description;\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1975861,"reputation":612,"user_id":1773664,"display_name":"Santiago Carrillo"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1585591023,"creation_date":1585591023,"answer_id":60936580,"question_id":34595605,"body_markdown":"You can use the following method inside the catch block:\r\n\r\n    response.sendError(HttpStatus.UNAUTHORIZED.value(), &quot;Invalid token&quot;)\r\n\r\n\r\nNotice that you can use any HttpStatus code and a custom message.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>You can use the following method inside the catch block:</p>\n\n<pre><code>response.sendError(HttpStatus.UNAUTHORIZED.value(), \"Invalid token\")\n</code></pre>\n\n<p>Notice that you can use any HttpStatus code and a custom message.</p>\n"},{"comments":[{"owner":{"account_id":6838802,"reputation":98,"user_id":5259846,"display_name":"Neeraj Vernekar"},"score":0,"creation_date":1593762616,"post_id":61759224,"comment_id":110897859,"body_markdown":"Would you mind sharing a code snippet of your global error handler?","body":"Would you mind sharing a code snippet of your global error handler?"},{"owner":{"account_id":353475,"reputation":824,"user_id":691183,"display_name":"Marx"},"score":0,"creation_date":1595846979,"post_id":61759224,"comment_id":111605699,"body_markdown":"it doesn&#39;t work for me. I made custom exception, which extends ServletException, added support for this exception in ExceptionHandler, but it hasn&#39;t been intercepted there.","body":"it doesn&#39;t work for me. I made custom exception, which extends ServletException, added support for this exception in ExceptionHandler, but it hasn&#39;t been intercepted there."}],"tags":[],"owner":{"account_id":2289030,"reputation":288,"user_id":2012411,"accept_rate":75,"display_name":"beta-brad"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589307836,"creation_date":1589307836,"answer_id":61759224,"question_id":34595605,"body_markdown":"You do not need to create a custom Filter for this.  We solved this by creating custom exceptions that extend ServletException (which is thrown from the doFilter method, shown in the declaration). These are then caught and handled by our global error handler. \r\n\r\nedit: grammar","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>You do not need to create a custom Filter for this.  We solved this by creating custom exceptions that extend ServletException (which is thrown from the doFilter method, shown in the declaration). These are then caught and handled by our global error handler. </p>\n\n<p>edit: grammar</p>\n"},{"tags":[],"owner":{"account_id":8604418,"reputation":31,"user_id":6445004,"display_name":"thomas Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614922735,"creation_date":1614922735,"answer_id":66487380,"question_id":34595605,"body_markdown":"I had the same issue in webflux, going on the theme that someone is looking to resuse there @ControllerAdvice, you do not want to throw a direct exception or return a mono error in the webfilter, however you want to set the response to be the mono error.\r\n\r\n```\r\n    public class YourFilter implements WebFilter {\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain) {\r\n        exchange.getResponse().writeWith(Mono.error(new YouException()));\r\n        return chain.filter(exchange)\r\n    }\r\n}\r\n```\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I had the same issue in webflux, going on the theme that someone is looking to resuse there @ControllerAdvice, you do not want to throw a direct exception or return a mono error in the webfilter, however you want to set the response to be the mono error.</p>\n<pre><code>    public class YourFilter implements WebFilter {\n\n\n    @Override\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final WebFilterChain chain) {\n        exchange.getResponse().writeWith(Mono.error(new YouException()));\n        return chain.filter(exchange)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11962495,"reputation":151,"user_id":8753168,"accept_rate":0,"display_name":"Luca Pasini"},"score":0,"creation_date":1623176078,"post_id":67455229,"comment_id":120002383,"body_markdown":"OutputStream has no method &#39;println&#39;, but you can use &#39;write&#39; by passing a string and calling string.getBytes()","body":"OutputStream has no method &#39;println&#39;, but you can use &#39;write&#39; by passing a string and calling string.getBytes()"}],"tags":[],"owner":{"account_id":14109827,"reputation":35,"user_id":10192987,"display_name":"Sumit Basu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620544945,"creation_date":1620544945,"answer_id":67455229,"question_id":34595605,"body_markdown":"In Filters, we don&#39;t have a control with `@ControllerAdvice` or `@RestControllerAdvice` to handle our exceptions that could occur at the time of doing the authentication. Because, DispatcherServlet will only come into picture after the Controller class hits.\r\nSo, we need to do the following.\r\n\r\n1) we need to have \r\n\r\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\r\n&quot;response&quot; object we can pass it from `public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)` of `GenericFilterBean.java` implementation class.\r\n2) We can use the below utility class to write or print our error JSON model or String object into the ServletResponse output stream.\r\n\r\n\r\n    public static void handleUnAuthorizedError(ServletResponse response,Exception e)\r\n\t{\r\n\t\tErrorModel error = null;\r\n\t\tif(e!=null)\r\n\t\t\terror = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, e.getMessage());\r\n\t\telse\r\n\t\t\terror = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, ApplicationConstants.UNAUTHORIZED);\r\n\t\t\r\n\t\tJsonUtils jsonUtils = new JsonUtils();\r\n\t\tHttpServletResponse httpResponse = (HttpServletResponse) response;\r\n\t\thttpResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n\t\thttpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n\t\ttry {\r\n\t\t\thttpResponse.getOutputStream().println(jsonUtils.convertToJSON(error));\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public String convertToJSON(Object inputObj) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tString orderJson = null;\r\n    \t\ttry {\r\n    \t\t\torderJson = objectMapper.writeValueAsString(inputObj);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn orderJson;\r\n    \t}","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>In Filters, we don't have a control with <code>@ControllerAdvice</code> or <code>@RestControllerAdvice</code> to handle our exceptions that could occur at the time of doing the authentication. Because, DispatcherServlet will only come into picture after the Controller class hits.\nSo, we need to do the following.</p>\n<ol>\n<li><p>we need to have</p>\n<p>HttpServletResponse httpResponse = (HttpServletResponse) response;</p>\n</li>\n</ol>\n<p>&quot;response&quot; object we can pass it from <code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)</code> of <code>GenericFilterBean.java</code> implementation class.\n2) We can use the below utility class to write or print our error JSON model or String object into the ServletResponse output stream.</p>\n<pre><code>public static void handleUnAuthorizedError(ServletResponse response,Exception e)\n{\n    ErrorModel error = null;\n    if(e!=null)\n        error = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, e.getMessage());\n    else\n        error = new ErrorModel(ErrorCodes.ACCOUNT_UNAUTHORIZED, ApplicationConstants.UNAUTHORIZED);\n    \n    JsonUtils jsonUtils = new JsonUtils();\n    HttpServletResponse httpResponse = (HttpServletResponse) response;\n    httpResponse.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    httpResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    try {\n        httpResponse.getOutputStream().println(jsonUtils.convertToJSON(error));\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n\n\npublic String convertToJSON(Object inputObj) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String orderJson = null;\n        try {\n            orderJson = objectMapper.writeValueAsString(inputObj);\n        }\n        catch(Exception e){\n            e.printStackTrace();\n        }\n        return orderJson;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3091204,"reputation":319,"user_id":2617244,"display_name":"Vivek Dhiman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649833001,"creation_date":1649833001,"answer_id":71853131,"question_id":34595605,"body_markdown":"Late to the party but we can also use it like this:\r\n\r\n    @ApiIgnore\r\n    @RestControllerAdvice\r\n    public class ExceptionHandlerController {\r\n    \r\n    \t@Autowired\r\n    \tprivate MessageSource messageSource;\r\n    \r\n\r\nAnd in the filter:\r\n\r\n    @Component\r\n    public class MyFilter extends OncePerRequestFilter {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;handlerExceptionResolver&quot;)\r\n    \tprivate HandlerExceptionResolver exceptionResolver;\r\n    \r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain) {\r\n        \t\ttry {\r\n        \t\t  // Some exception\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthis.exceptionResolver.resolveException(request, response, null, e);\r\n        \t\t}\r\n        \t}\r\n\r\n\r\n    \r\n\r\n\r\n\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Late to the party but we can also use it like this:</p>\n<pre><code>@ApiIgnore\n@RestControllerAdvice\npublic class ExceptionHandlerController {\n\n    @Autowired\n    private MessageSource messageSource;\n</code></pre>\n<p>And in the filter:</p>\n<pre><code>@Component\npublic class MyFilter extends OncePerRequestFilter {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private HandlerExceptionResolver exceptionResolver;\n\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain) {\n            try {\n              // Some exception\n            } catch (Exception e) {\n                this.exceptionResolver.resolveException(request, response, null, e);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4060289,"reputation":891,"user_id":3337028,"accept_rate":67,"display_name":"Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674979167,"creation_date":1674979167,"answer_id":75273396,"question_id":34595605,"body_markdown":"Global Default Exception Handlers will work only at Controller or Service level. They will not work at filter level. I found below solution working fine with Spring Boot Security - JWT filter\r\n\r\n[https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/][1]\r\n\r\n\r\n  [1]: https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/\r\n\r\nBelow is the snippet I added\r\n\r\n        httpServletResponse.setContentType(&quot;application/json&quot;);\r\n        httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        httpServletResponse.getWriter().write(&quot;{\\&quot;error\\&quot;:\\&quot;invalid_token\\&quot;,\\&quot;error_description\\&quot;:\\&quot;Invalid Token\\&quot;}&quot;);","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>Global Default Exception Handlers will work only at Controller or Service level. They will not work at filter level. I found below solution working fine with Spring Boot Security - JWT filter</p>\n<p><a href=\"https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/\" rel=\"nofollow noreferrer\">https://www.jvt.me/posts/2022/01/17/spring-servlet-filter-error-handling/</a></p>\n<p>Below is the snippet I added</p>\n<pre><code>    httpServletResponse.setContentType(&quot;application/json&quot;);\n    httpServletResponse.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    httpServletResponse.getWriter().write(&quot;{\\&quot;error\\&quot;:\\&quot;invalid_token\\&quot;,\\&quot;error_description\\&quot;:\\&quot;Invalid Token\\&quot;}&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18980491,"reputation":11,"user_id":13851970,"display_name":"kashyap jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686764341,"creation_date":1677346078,"answer_id":75567172,"question_id":34595605,"body_markdown":"FIlter:\r\n-------\r\n\r\n    @Autowired\r\n    UnauthenticatedRequestHandler unauthenticatedRequestHandler;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try{\r\n            //...\r\n\r\n            if (!isValid) throw new BadCredentialsException(&quot;exception.jwt.inValid&quot;);\r\n\r\n            //...\r\n\r\n            if (!accessTokenDTO.isValid()) throw new BadCredentialsException(&quot;exception.token.inValid&quot;);\r\n\r\n            //...\r\n\r\n            if (!user.isEmailVerified()) throw new DisabledException(&quot;exception.user.notVerified&quot;);\r\n\r\n            //...\r\n\r\n            filterChain.doFilter(request, response);\r\n        }\r\n        catch (AuthenticationException ex){\r\n            unauthenticatedRequestHandler.commence(request,response,ex);\r\n        }\r\n\r\nHandler:\r\n--------\r\n\r\n    @Component\r\n    public class UnauthenticatedRequestHandler implements \r\n    AuthenticationEntryPoint {\r\n    final Logger log = LoggerFactory.getLogger(getClass());\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n        log.error(authException.toString());\r\n\r\n        String message = messageSource.getMessage(authException.getMessage(),null,null, Locale.getDefault());\r\n\r\n        if(message == null) message = authException.getMessage();\r\n\r\n        ResponseDTO&lt;Object&gt; res = ResponseDTO.builder()\r\n                .status(false)\r\n                .message(message)\r\n                .build();\r\n\r\n        String jsonString = new ObjectMapper().writeValueAsString(res);\r\n\r\n        response.setContentType(&quot;application/json&quot;);\r\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n        response.getOutputStream().println(jsonString);\r\n    }\r\n\r\nRegistering AuthenticationEntryPoint in security config:\r\n-------------------------------------------------------\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .exceptionHandling().authenticationEntryPoint(unauthenticatedHandler).and()}","title":"How to manage exceptions thrown in filters in Spring?","body":"<h2>FIlter:</h2>\n<pre><code>@Autowired\nUnauthenticatedRequestHandler unauthenticatedRequestHandler;\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try{\n        //...\n\n        if (!isValid) throw new BadCredentialsException(&quot;exception.jwt.inValid&quot;);\n\n        //...\n\n        if (!accessTokenDTO.isValid()) throw new BadCredentialsException(&quot;exception.token.inValid&quot;);\n\n        //...\n\n        if (!user.isEmailVerified()) throw new DisabledException(&quot;exception.user.notVerified&quot;);\n\n        //...\n\n        filterChain.doFilter(request, response);\n    }\n    catch (AuthenticationException ex){\n        unauthenticatedRequestHandler.commence(request,response,ex);\n    }\n</code></pre>\n<h2>Handler:</h2>\n<pre><code>@Component\npublic class UnauthenticatedRequestHandler implements \nAuthenticationEntryPoint {\nfinal Logger log = LoggerFactory.getLogger(getClass());\n@Autowired\nprivate MessageSource messageSource;\n@Override\npublic void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n    log.error(authException.toString());\n\n    String message = messageSource.getMessage(authException.getMessage(),null,null, Locale.getDefault());\n\n    if(message == null) message = authException.getMessage();\n\n    ResponseDTO&lt;Object&gt; res = ResponseDTO.builder()\n            .status(false)\n            .message(message)\n            .build();\n\n    String jsonString = new ObjectMapper().writeValueAsString(res);\n\n    response.setContentType(&quot;application/json&quot;);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n    response.getOutputStream().println(jsonString);\n}\n</code></pre>\n<h2>Registering AuthenticationEntryPoint in security config:</h2>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .exceptionHandling().authenticationEntryPoint(unauthenticatedHandler).and()}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22908132,"reputation":31,"user_id":17045864,"display_name":"Adarsh Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679662326,"creation_date":1679662326,"answer_id":75833892,"question_id":34595605,"body_markdown":"**As specified by the java servlet specification Filters execute always before a Servlet is invoked. Now a @ControllerAdvice is only useful for controller which are executed inside the DispatcherServlet. So using a Filter and expecting a @ControllerAdvice or in this case the @ExceptionHandler, to be invoked isn&#39;t going to happen.**\r\n\r\n[ssc-hrep3][1] has beautifully solved this problem.\r\n\r\nIn the Spring Security filter chain, you just need to define a new FilterChainExceptionHandler Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling.\r\n\r\n  [1]: https://stackoverflow.com/users/3233827/ssc-hrep3","title":"How to manage exceptions thrown in filters in Spring?","body":"<p><strong>As specified by the java servlet specification Filters execute always before a Servlet is invoked. Now a @ControllerAdvice is only useful for controller which are executed inside the DispatcherServlet. So using a Filter and expecting a @ControllerAdvice or in this case the @ExceptionHandler, to be invoked isn't going to happen.</strong></p>\n<p><a href=\"https://stackoverflow.com/users/3233827/ssc-hrep3\">ssc-hrep3</a> has beautifully solved this problem.</p>\n<p>In the Spring Security filter chain, you just need to define a new FilterChainExceptionHandler Filter and hook it into your security configuration. The filter needs to redirect the exception to the above defined exception handling.</p>\n"},{"comments":[{"owner":{"account_id":2386165,"reputation":151,"user_id":2087103,"accept_rate":75,"display_name":"user2087103"},"score":0,"creation_date":1683219738,"post_id":76130837,"comment_id":134336944,"body_markdown":"I&#39;m interested in not adding the filter to the `ApplicationFilterChain` but only to the `SpringSecurityFilterChain`, but how do you do that?","body":"I&#39;m interested in not adding the filter to the <code>ApplicationFilterChain</code> but only to the <code>SpringSecurityFilterChain</code>, but how do you do that?"}],"tags":[],"owner":{"account_id":5890453,"reputation":1,"user_id":4637248,"display_name":"Karol"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160085,"creation_date":1682693961,"answer_id":76130837,"question_id":34595605,"body_markdown":"@ssc-hrep3\r\n\r\nAnswering instead of comment - as commenting is not possible for me:\r\nYour solution is the cleanest one - but I would change one thing in the answer.\r\n\r\nThe @Component annotation on the intended Security Filter will add the same filter to the application filter chain. You can verify this by simply logging the call.\r\n\r\n- I would instead build this object from a simple method without @Bean annotation in the SecurityConfiguration - making sure this filter is only executed inside the Spring Security Filter Chain Proxy.\r\n- Or you would not configure this filter for spring security specifically but making sure your filter runs before spring security filter chain proxy.\r\n\r\nI guess the first variant was intended by your implementation.\r\n\r\nInstead of:\r\n\r\n    @Component\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\r\n\r\n\r\nRemoving the @Component annotation:\r\n\r\n    public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\r\n\r\nIn the SecurityConfiguration class then:\r\n\r\n    private FilterChainExceptionHandler filterChainExceptionHandler(...args){\r\n      return new FilterChainExceptionHandler(...args)\r\n    }\r\n\r\nThe registration in the SecurityFilterChain basically remains the same\r\n\r\n    .addFilterBefore(filterChainExceptionHandler(...args), LogoutFilter.class)\r\n\r\nRequired beans can be injected into the SecurityConfiguration class by constructor injection and then used when calling the factory method defined above.","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>@ssc-hrep3</p>\n<p>Answering instead of comment - as commenting is not possible for me:\nYour solution is the cleanest one - but I would change one thing in the answer.</p>\n<p>The @Component annotation on the intended Security Filter will add the same filter to the application filter chain. You can verify this by simply logging the call.</p>\n<ul>\n<li>I would instead build this object from a simple method without @Bean annotation in the SecurityConfiguration - making sure this filter is only executed inside the Spring Security Filter Chain Proxy.</li>\n<li>Or you would not configure this filter for spring security specifically but making sure your filter runs before spring security filter chain proxy.</li>\n</ul>\n<p>I guess the first variant was intended by your implementation.</p>\n<p>Instead of:</p>\n<pre><code>@Component\npublic class FilterChainExceptionHandler extends OncePerRequestFilter {...}\n</code></pre>\n<p>Removing the @Component annotation:</p>\n<pre><code>public class FilterChainExceptionHandler extends OncePerRequestFilter {...}\n</code></pre>\n<p>In the SecurityConfiguration class then:</p>\n<pre><code>private FilterChainExceptionHandler filterChainExceptionHandler(...args){\n  return new FilterChainExceptionHandler(...args)\n}\n</code></pre>\n<p>The registration in the SecurityFilterChain basically remains the same</p>\n<pre><code>.addFilterBefore(filterChainExceptionHandler(...args), LogoutFilter.class)\n</code></pre>\n<p>Required beans can be injected into the SecurityConfiguration class by constructor injection and then used when calling the factory method defined above.</p>\n"}],"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213614,"favorite_count":0,"down_vote_count":0,"up_vote_count":200,"accepted_answer_id":34633687,"answer_count":19,"score":200,"last_activity_date":1686764341,"creation_date":1451925278,"question_id":34595605,"body_markdown":"I want to use generic way to manage 5xx error codes, let&#39;s say specifically the case when the db is down across my whole spring application. I want a pretty error json instead of a stack trace. \r\n\r\nFor the controllers I have a `@ControllerAdvice` class for the different exceptions and this is also catching the case that the db is stopping in the middle of the request. But this is not all. I also happen to have a custom `CorsFilter` extending `OncePerRequestFilter` and there when i call `doFilter` i get the `CannotGetJdbcConnectionException` and it will not be managed by the `@ControllerAdvice`. I read several things online that only made me more confused. \r\n\r\nSo I have a lot of questions:\r\n \r\n- Do i need to implement a custom filter? I found the `ExceptionTranslationFilter` but this only handles `AuthenticationException` or `AccessDeniedException`. \r\n- I thought of implementing my own `HandlerExceptionResolver`, but this made me doubt, I don&#39;t have any custom exception to manage, there must be a more obvious way than this. I also tried to add a try/catch and call an implementation of the `HandlerExceptionResolver` (should be good enough, my exception is nothing special) but this is not returning anything in the response, i get a status 200 and an empty body. \r\n\r\nIs there any good way to deal with this? Thanks\r\n\r\n","title":"How to manage exceptions thrown in filters in Spring?","body":"<p>I want to use generic way to manage 5xx error codes, let's say specifically the case when the db is down across my whole spring application. I want a pretty error json instead of a stack trace. </p>\n\n<p>For the controllers I have a <code>@ControllerAdvice</code> class for the different exceptions and this is also catching the case that the db is stopping in the middle of the request. But this is not all. I also happen to have a custom <code>CorsFilter</code> extending <code>OncePerRequestFilter</code> and there when i call <code>doFilter</code> i get the <code>CannotGetJdbcConnectionException</code> and it will not be managed by the <code>@ControllerAdvice</code>. I read several things online that only made me more confused. </p>\n\n<p>So I have a lot of questions:</p>\n\n<ul>\n<li>Do i need to implement a custom filter? I found the <code>ExceptionTranslationFilter</code> but this only handles <code>AuthenticationException</code> or <code>AccessDeniedException</code>. </li>\n<li>I thought of implementing my own <code>HandlerExceptionResolver</code>, but this made me doubt, I don't have any custom exception to manage, there must be a more obvious way than this. I also tried to add a try/catch and call an implementation of the <code>HandlerExceptionResolver</code> (should be good enough, my exception is nothing special) but this is not returning anything in the response, i get a status 200 and an empty body. </li>\n</ul>\n\n<p>Is there any good way to deal with this? Thanks</p>\n"},{"tags":["java","postgresql","hibernate"],"owner":{"account_id":25499801,"reputation":3,"user_id":19293271,"display_name":"Roi Tiefenbrunn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686763994,"creation_date":1686763994,"question_id":76476187,"body_markdown":"I have the following configuration:\r\n\r\n# Entity A\r\n```\r\n@Entity\r\npublic class A {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    int id;\r\n\r\n    @OneToMany(mappedBy = &quot;key.a&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;B&gt;  bs;\r\n\r\n    public A() {\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public Set&lt;B&gt; getBs() {\r\n        return bs;\r\n    }\r\n}\r\n```\r\n\r\n# Entity B\r\n```\r\n@Entity\r\npublic class B {\r\n    @EmbeddedId\r\n    BKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.b&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;C&gt; cs;\r\n\r\n    public B() {\r\n    }\r\n\r\n    public B(A a) {\r\n        this.key = new BKey(a);\r\n    }\r\n\r\n    public BKey getKey() {\r\n        return key;\r\n    }\r\n\r\n    public Set&lt;C&gt; getCs() {\r\n        return cs;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class BKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;b_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;a_id&quot;)\r\n    A a;\r\n\r\n    public BKey() {\r\n    }\r\n\r\n    public BKey(A a) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM B o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.a = a;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public A getA() {\r\n        return a;\r\n    }\r\n}\r\n```\r\n\r\n# Entity C\r\n```\r\n@Entity\r\npublic class C {\r\n    @EmbeddedId\r\n    CKey key;\r\n\r\n    @OneToMany(mappedBy = &quot;key.c&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    Set&lt;D&gt; ds;\r\n\r\n    public C() {\r\n    }\r\n\r\n    public C(B b){\r\n        this.key = new CKey(b);\r\n    }\r\n\r\n    public CKey getKey() {\r\n        return key;\r\n    }\r\n\r\n    public Set&lt;D&gt; getDs() {\r\n        return ds;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class CKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;c_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\r\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\r\n    })\r\n    B b;\r\n\r\n    public CKey() {\r\n    }\r\n\r\n    public CKey(B b) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM C o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.b = b;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public B getB() {\r\n        return b;\r\n    }\r\n}\r\n```\r\n\r\n# Entity D\r\n```\r\n@Entity\r\npublic class D {\r\n    @EmbeddedId\r\n    DKey key;\r\n\r\n    public D() {\r\n    }\r\n\r\n    public D(C c) {\r\n        this.key = new DKey(c);\r\n    }\r\n\r\n    public DKey getKey() {\r\n        return key;\r\n    }\r\n}\r\n\r\n@Embeddable\r\npublic class DKey implements Serializable {\r\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\r\n\r\n    @Column(name = &quot;d_id&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;c_id&quot;),\r\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\r\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\r\n    })\r\n    C c;\r\n\r\n    public DKey() {\r\n    }\r\n\r\n    public DKey(C c) {\r\n        try (Session session = DbConfig.sessionFactory.openSession()) {\r\n            Query&lt;Integer&gt; query = session.createQuery(\r\n                    &quot;SELECT MAX(o.key.id) FROM D o&quot;,\r\n                    Integer.class\r\n            );\r\n            Integer maxID = query.uniqueResult();\r\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\r\n        }\r\n        this.c = c;\r\n        id = ID_GEN.getAndIncrement();\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public C getC() {\r\n        return c;\r\n    }\r\n}\r\n```\r\n\r\nSeems like I didn&#39;t configure the `@JoinColumns` annotation for field `c` in class `DKey` correctly, as when I try to run the program I get the following error:\r\n```\r\norg.hibernate.MappingException: Error creating SQL create commands for table : D\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\r\n\tat org.hibernate.mapping.Column.getTypeForEntityValue(Column.java:401)\r\n\tat org.hibernate.mapping.Column.getColumnSize(Column.java:345)\r\n\tat org.hibernate.mapping.Column.getSqlTypeName(Column.java:269)\r\n\tat org.hibernate.mapping.Column.getSqlType(Column.java:293)\r\n\tat org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\r\n\t... 71 more\r\n```\r\n\r\nWhat should have I done?\r\n\r\n\r\nI have tried to configure these annotations in many different ways with no better results. \r\nThis has to be at the configuration of class `DKey` as without that class everything works fine. ","title":"@JoinColumns to an entity who already has @JoinColumns in JAVA Hibernate","body":"<p>I have the following configuration:</p>\n<h1>Entity A</h1>\n<pre><code>@Entity\npublic class A {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int id;\n\n    @OneToMany(mappedBy = &quot;key.a&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;B&gt;  bs;\n\n    public A() {\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public Set&lt;B&gt; getBs() {\n        return bs;\n    }\n}\n</code></pre>\n<h1>Entity B</h1>\n<pre><code>@Entity\npublic class B {\n    @EmbeddedId\n    BKey key;\n\n    @OneToMany(mappedBy = &quot;key.b&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;C&gt; cs;\n\n    public B() {\n    }\n\n    public B(A a) {\n        this.key = new BKey(a);\n    }\n\n    public BKey getKey() {\n        return key;\n    }\n\n    public Set&lt;C&gt; getCs() {\n        return cs;\n    }\n}\n\n@Embeddable\npublic class BKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;b_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;a_id&quot;)\n    A a;\n\n    public BKey() {\n    }\n\n    public BKey(A a) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM B o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.a = a;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public A getA() {\n        return a;\n    }\n}\n</code></pre>\n<h1>Entity C</h1>\n<pre><code>@Entity\npublic class C {\n    @EmbeddedId\n    CKey key;\n\n    @OneToMany(mappedBy = &quot;key.c&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    Set&lt;D&gt; ds;\n\n    public C() {\n    }\n\n    public C(B b){\n        this.key = new CKey(b);\n    }\n\n    public CKey getKey() {\n        return key;\n    }\n\n    public Set&lt;D&gt; getDs() {\n        return ds;\n    }\n}\n\n@Embeddable\npublic class CKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;c_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\n    })\n    B b;\n\n    public CKey() {\n    }\n\n    public CKey(B b) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM C o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.b = b;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public B getB() {\n        return b;\n    }\n}\n</code></pre>\n<h1>Entity D</h1>\n<pre><code>@Entity\npublic class D {\n    @EmbeddedId\n    DKey key;\n\n    public D() {\n    }\n\n    public D(C c) {\n        this.key = new DKey(c);\n    }\n\n    public DKey getKey() {\n        return key;\n    }\n}\n\n@Embeddable\npublic class DKey implements Serializable {\n    private static final AtomicInteger ID_GEN = new AtomicInteger(0);\n\n    @Column(name = &quot;d_id&quot;)\n    int id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;c_id&quot;, referencedColumnName = &quot;c_id&quot;),\n            @JoinColumn(name = &quot;b_id&quot;, referencedColumnName = &quot;b_id&quot;),\n            @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;)\n    })\n    C c;\n\n    public DKey() {\n    }\n\n    public DKey(C c) {\n        try (Session session = DbConfig.sessionFactory.openSession()) {\n            Query&lt;Integer&gt; query = session.createQuery(\n                    &quot;SELECT MAX(o.key.id) FROM D o&quot;,\n                    Integer.class\n            );\n            Integer maxID = query.uniqueResult();\n            ID_GEN.getAndSet(maxID == null ? 1 : maxID + 1);\n        }\n        this.c = c;\n        id = ID_GEN.getAndIncrement();\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public C getC() {\n        return c;\n    }\n}\n</code></pre>\n<p>Seems like I didn't configure the <code>@JoinColumns</code> annotation for field <code>c</code> in class <code>DKey</code> correctly, as when I try to run the program I get the following error:</p>\n<pre><code>org.hibernate.MappingException: Error creating SQL create commands for table : D\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2\n    at org.hibernate.mapping.Column.getTypeForEntityValue(Column.java:401)\n    at org.hibernate.mapping.Column.getColumnSize(Column.java:345)\n    at org.hibernate.mapping.Column.getSqlTypeName(Column.java:269)\n    at org.hibernate.mapping.Column.getSqlType(Column.java:293)\n    at org.hibernate.tool.schema.internal.StandardTableExporter.getSqlCreateStrings(StandardTableExporter.java:99)\n    ... 71 more\n</code></pre>\n<p>What should have I done?</p>\n<p>I have tried to configure these annotations in many different ways with no better results.\nThis has to be at the configuration of class <code>DKey</code> as without that class everything works fine.</p>\n"},{"tags":["java","vtk"],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686763539,"creation_date":1686763539,"question_id":76476135,"body_markdown":"Trying to run/debug my project using intellij (windows), got errors like:\r\n\r\n    java.lang.UnsatisfiedLinkError: no vtk{Anything} in java.library.path\r\n\r\n{Anything} can be any class of vtk i&#39;m trying to use, for example:\r\n\r\n    java.lang.UnsatisfiedLinkError: no vtkRenderingCoreJava in java.library.path\r\n    java.lang.UnsatisfiedLinkError: no vtkFiltersModelingJava in java.library.path\r\n    java.lang.UnsatisfiedLinkError: no vtkViewsContext2DJava in java.library.path\r\n    etc...\r\n\r\nI know this problem can be solved adding `-Djava.library.path=` to VM option.\r\nI had a very similar problem with simpleITK and solved it: https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib\r\n\r\nBut my answer now is: How can i get JNI lib for vtk? Or native lib? Or any file that solves my problem?\r\nI tried with this one but doesn&#39;t work: https://people.ece.ubc.ca/andrewkh/vtk-jni.html\r\n\r\nthen, i try following this: https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325\r\n\r\ni &#39;git clone VTK&#39; and use cmake/visual-studio to make a build.\r\nconfiguration is Debug x64 ALL-BUILD, using VTK_WRAP_JAVA=ON.\r\nmy build finish with no errors, but now i dont know what is the path to the file that i need to put into `-Djava.library.path=`","title":"VTK java.lang.UnsatisfiedLinkError","body":"<p>Trying to run/debug my project using intellij (windows), got errors like:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no vtk{Anything} in java.library.path\n</code></pre>\n<p>{Anything} can be any class of vtk i'm trying to use, for example:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: no vtkRenderingCoreJava in java.library.path\njava.lang.UnsatisfiedLinkError: no vtkFiltersModelingJava in java.library.path\njava.lang.UnsatisfiedLinkError: no vtkViewsContext2DJava in java.library.path\netc...\n</code></pre>\n<p>I know this problem can be solved adding <code>-Djava.library.path=</code> to VM option.\nI had a very similar problem with simpleITK and solved it: <a href=\"https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib\">Where do i get SimpleITK JNI Lib?</a></p>\n<p>But my answer now is: How can i get JNI lib for vtk? Or native lib? Or any file that solves my problem?\nI tried with this one but doesn't work: <a href=\"https://people.ece.ubc.ca/andrewkh/vtk-jni.html\" rel=\"nofollow noreferrer\">https://people.ece.ubc.ca/andrewkh/vtk-jni.html</a></p>\n<p>then, i try following this: <a href=\"https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325\" rel=\"nofollow noreferrer\">https://discourse.vtk.org/t/installation-of-vtk-9-0-with-python-java-wrappers/3325</a></p>\n<p>i 'git clone VTK' and use cmake/visual-studio to make a build.\nconfiguration is Debug x64 ALL-BUILD, using VTK_WRAP_JAVA=ON.\nmy build finish with no errors, but now i dont know what is the path to the file that i need to put into <code>-Djava.library.path=</code></p>\n"},{"tags":["java","spring-boot","resources","classpath","eclipse-classpath"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686763208,"creation_date":1686763208,"answer_id":76476091,"question_id":76475495,"body_markdown":"It is an error to try to save files in the resource directory of the source project. It may not even exist at execution time, for example if the application is deployed as a .war or .jar file. The resources directories are only expected to exist only when building the application, not when executing. You need to configure a directory separated from the application to upload files.","title":"Static file doesn&#39;t exist error . Springboot","body":"<p>It is an error to try to save files in the resource directory of the source project. It may not even exist at execution time, for example if the application is deployed as a .war or .jar file. The resources directories are only expected to exist only when building the application, not when executing. You need to configure a directory separated from the application to upload files.</p>\n"}],"owner":{"account_id":18638542,"reputation":11,"user_id":13584863,"display_name":"Pradeep pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686763208,"creation_date":1686758487,"question_id":76475495,"body_markdown":"I am trying to create a folder named img under static folder of springboot .Wanting it in a dynamic manner / in a way that it works on other peoples computer hence not preferring hardcoding. I am new to springboot \r\n\r\nthe location of the static folder is src/main/resources/static .\r\n \r\nThe output for the below statement is :- C:\\Users\\Pradeep\\Documents\\workspace-spring-tool-suite-4-4.17.2.RELEASE\\EventHub\\target\\classes ( providing this thinking this might help)\r\n\r\nSystem.out.println(new ClassPathResource(&quot;&quot;).getFile().getAbsolutePath()); \r\n\r\n\r\n```\r\npackage com.eventhub.service.impl;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardCopyOption;\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport com.eventhub.service.FileService;\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Service\r\npublic class FileServiceImpl implements FileService{\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic String uploadFile(MultipartFile file) throws IOException {\r\n\t\t// getting file name\r\n\r\n\t\tString fileName = file.getOriginalFilename();\r\n\r\n\t\t// Create a random name for our file to be stored in the db\r\n\r\n\t\tString randomId = UUID.randomUUID().toString();\r\n\r\n\t\t// adding the extension of our uploaded file\r\n\r\n\t\tString fileNameDb = randomId.concat(fileName.substring(fileName.lastIndexOf(&quot;.&quot;)));\r\n\r\n\t\t// full storage path\r\n\r\n\t\t//String fileStoragePath = path + File.separator + fileNameDb;\r\n\r\n\r\n\r\n\r\n\r\n\t\t//creating the storage folder if it doesn&#39;t exists (for now img )\r\n\r\n\t//\tFile f = new File(path);\r\n\r\n\t//\tFile saveFile = new ClassPathResource(&quot;static/img&quot;).getFile();\r\n\r\n\t\tResource resource = new ClassPathResource(&quot;static&quot;);\r\n\t    File staticDir = resource.getFile();\r\n\r\n\t    System.out.println(staticDir);\r\n\r\n\r\n\t    File saveFile = new File(staticDir, &quot;img&quot;);\r\n\r\n\t\tif(!saveFile.exists()) {\r\n\r\n\t\t\tsaveFile.mkdirs();\r\n\r\n\t\t}\r\n\r\n\t\t// coping the file in our folder / directory\r\n\r\n\t\ttry {\r\n\r\n//\t\t\tPath path1 =   Paths.get(saveFile.getAbsolutePath() + File.separator + fileNameDb);\r\n//\r\n//\t\t\tFiles.copy(file.getInputStream(), path1);\r\n\r\n\t\t\tFile targetFile = new File(saveFile, fileNameDb);\r\n\t\t    Files.copy(file.getInputStream(), targetFile.toPath(),                 StandardCopyOption.REPLACE_EXISTING);\r\n\r\n\t\t//\tFiles.copy(file.getInputStream(),Paths.get(fileStoragePath));\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn fileNameDb;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nerror when the method is called is :- \r\n```\r\n\r\njava.io.FileNotFoundException: class path resource [static] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:226) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:169) ~[spring-core-6.0.9.jar:6.0.9]\r\n\tat com.eventhub.service.impl.FileServiceImpl.uploadFile(FileServiceImpl.java:55) ~[classes/:na]\r\n\tat com.eventhub.service.impl.EventServiceImpl.createEvent(EventServiceImpl.java:75) ~[classes/:na]\r\n\tat com.eventhub.controllers.EventController.addEvent(EventController.java:79) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na][2m2023-06-14T21:16:27.103+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36minMXBeanRegistrar$SpringApplicationAdmin[0;39m [2m:[0;39m Application shutdown requested.\r\n[2m2023-06-14T21:16:27.168+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-06-14T21:16:27.172+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Destroying Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n[2m2023-06-14T21:16:27.208+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[2m2023-06-14T21:16:27.225+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown initiated...\r\n[2m2023-06-14T21:16:27.286+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown completed.\r\n```\r\n\r\n\r\n\r\nwhen i tried Resource resource = new ClassPathResource(&quot;&quot;); use this the image gets uploaded under img folder which is created under the target folder .\r\n\r\nResource resource = new ClassPathResource(&quot;static/&quot;);\r\nResource resource = new ClassPathResource(&quot;/static&quot;);\r\n\r\nthese also didnt work ","title":"Static file doesn&#39;t exist error . Springboot","body":"<p>I am trying to create a folder named img under static folder of springboot .Wanting it in a dynamic manner / in a way that it works on other peoples computer hence not preferring hardcoding. I am new to springboot</p>\n<p>the location of the static folder is src/main/resources/static .</p>\n<p>The output for the below statement is :- C:\\Users\\Pradeep\\Documents\\workspace-spring-tool-suite-4-4.17.2.RELEASE\\EventHub\\target\\classes ( providing this thinking this might help)</p>\n<p>System.out.println(new ClassPathResource(&quot;&quot;).getFile().getAbsolutePath());</p>\n<pre><code>package com.eventhub.service.impl;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\nimport java.util.UUID;\n\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport com.eventhub.service.FileService;\n\n\n\n\n\n\n@Service\npublic class FileServiceImpl implements FileService{\n\n\n\n    @Override\n    public String uploadFile(MultipartFile file) throws IOException {\n        // getting file name\n\n        String fileName = file.getOriginalFilename();\n\n        // Create a random name for our file to be stored in the db\n\n        String randomId = UUID.randomUUID().toString();\n\n        // adding the extension of our uploaded file\n\n        String fileNameDb = randomId.concat(fileName.substring(fileName.lastIndexOf(&quot;.&quot;)));\n\n        // full storage path\n\n        //String fileStoragePath = path + File.separator + fileNameDb;\n\n\n\n\n\n        //creating the storage folder if it doesn't exists (for now img )\n\n    //  File f = new File(path);\n\n    //  File saveFile = new ClassPathResource(&quot;static/img&quot;).getFile();\n\n        Resource resource = new ClassPathResource(&quot;static&quot;);\n        File staticDir = resource.getFile();\n\n        System.out.println(staticDir);\n\n\n        File saveFile = new File(staticDir, &quot;img&quot;);\n\n        if(!saveFile.exists()) {\n\n            saveFile.mkdirs();\n\n        }\n\n        // coping the file in our folder / directory\n\n        try {\n\n//          Path path1 =   Paths.get(saveFile.getAbsolutePath() + File.separator + fileNameDb);\n//\n//          Files.copy(file.getInputStream(), path1);\n\n            File targetFile = new File(saveFile, fileNameDb);\n            Files.copy(file.getInputStream(), targetFile.toPath(),                 StandardCopyOption.REPLACE_EXISTING);\n\n        //  Files.copy(file.getInputStream(),Paths.get(fileStoragePath));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return fileNameDb;\n    }\n\n\n\n\n\n\n\n}\n\n</code></pre>\n<p>error when the method is called is :-</p>\n<pre><code>\njava.io.FileNotFoundException: class path resource [static] cannot be resolved to URL because it does not exist\n    at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:226) ~[spring-core-6.0.9.jar:6.0.9]\n    at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:169) ~[spring-core-6.0.9.jar:6.0.9]\n    at com.eventhub.service.impl.FileServiceImpl.uploadFile(FileServiceImpl.java:55) ~[classes/:na]\n    at com.eventhub.service.impl.EventServiceImpl.createEvent(EventServiceImpl.java:75) ~[classes/:na]\n    at com.eventhub.controllers.EventController.addEvent(EventController.java:79) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na][2m2023-06-14T21:16:27.103+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36minMXBeanRegistrar$SpringApplicationAdmin[0;39m [2m:[0;39m Application shutdown requested.\n[2m2023-06-14T21:16:27.168+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-06-14T21:16:27.172+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Destroying Spring FrameworkServlet 'dispatcherServlet'\n[2m2023-06-14T21:16:27.208+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mj.LocalContainerEntityManagerFactoryBean[0;39m [2m:[0;39m Closing JPA EntityManagerFactory for persistence unit 'default'\n[2m2023-06-14T21:16:27.225+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown initiated...\n[2m2023-06-14T21:16:27.286+05:30[0;39m [32m INFO[0;39m [35m24976[0;39m [2m---[0;39m [2m[n(41)-127.0.0.1][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m eventhub - Shutdown completed.\n</code></pre>\n<p>when i tried Resource resource = new ClassPathResource(&quot;&quot;); use this the image gets uploaded under img folder which is created under the target folder .</p>\n<p>Resource resource = new ClassPathResource(&quot;static/&quot;);\nResource resource = new ClassPathResource(&quot;/static&quot;);</p>\n<p>these also didnt work</p>\n"},{"tags":["java","android"],"owner":{"account_id":24081623,"reputation":1,"user_id":18056226,"display_name":"Human"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686762454,"creation_date":1686762454,"question_id":76476008,"body_markdown":"I am using AIDE to make an android app. I figured it would be easier for me to iterate through a list of permissions since there are so many. My current code is giving no errors, it&#39;s just simply not working. All it is supposed to do so far is iterate through and check all the permissions listed in a string and if they are not granted it is supposed to request them.\n\nMy Current Code:\n```\npackage blah.blah.blah;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE_MULTIPLE = 1;\n\n    private static final String[] PERMISSIONS = {\n\t\t&quot;android.permission.ACCESS_ALL_DOWNLOADS&quot;,\n//Other permissions \n\t\t&quot;android.permission.WRITE_USER_DICTIONARY&quot; \n    };\n\n    private Map&lt;String, Integer&gt; permissionRequestCodes;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        checkAndRequestPermissions();\n    }\n\n    private void checkAndRequestPermissions() {\n        List&lt;String&gt; permissionsNeeded = new ArrayList&lt;&gt;();\n        permissionRequestCodes = new HashMap&lt;&gt;();\n\n        // Check each permission\n        for (String permission : PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n                permissionsNeeded.add(permission);\n\n                // Assign a unique request code for each permission\n                permissionRequestCodes.put(permission, generateUniqueRequestCode(permission));\n            }\n        }\n\n        // Request permissions\n        if (!permissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(\n                this,\n                permissionsNeeded.toArray(new String[0]),\n                PERMISSION_REQUEST_CODE_MULTIPLE\n            );\n        } else {\n            // All permissions already granted\n            proceedWithApp();\n        }\n    }\n\n    private int generateUniqueRequestCode(String permission) {\n        // Generate a unique request code based on the permission string\n        return permission.hashCode();\n    }\n\n    private void proceedWithApp() {\n        // Do something with the app after all permissions are granted\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == PERMISSION_REQUEST_CODE_MULTIPLE) {\n            boolean allPermissionsGranted = true;\n\n            for (int i = 0; i &lt; grantResults.length; i++) {\n                String permission = permissions[i];\n                int grantResult = grantResults[i];\n\n                if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                    allPermissionsGranted = false;\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n            }\n\n            if (allPermissionsGranted) {\n                // All permissions granted\n                proceedWithApp();\n            } else {\n                // Handle the case when some permissions were denied\n            }\n        } else {\n            // Handle other permission request codes if needed\n            Integer permissionRequestCode = permissionRequestCodes.get(permissions[0]);\n\n            if (permissionRequestCode != null) {\n                // Handle individual permission request result\n                handlePermissionRequestResult(permissionRequestCode, permissions, grantResults);\n            }\n        }\n    }\n\n    private void handlePermissionRequestResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // Find the permission that matches the request code\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n\n            if (requestCode == permissionRequestCodes.get(permission)) {\n                int grantResult = grantResults[i];\n\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, permission + &quot; granted&quot;);\n                } else {\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n\n                // Handle the permission request result for this specific permission if needed\n                break;\n            }\n        }\n\t}\n}\n```\n\nThe app opens but it does nothing.","title":"Iterating permission requests on Android","body":"<p>I am using AIDE to make an android app. I figured it would be easier for me to iterate through a list of permissions since there are so many. My current code is giving no errors, it's just simply not working. All it is supposed to do so far is iterate through and check all the permissions listed in a string and if they are not granted it is supposed to request them.</p>\n<p>My Current Code:</p>\n<pre><code>package blah.blah.blah;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final int PERMISSION_REQUEST_CODE_MULTIPLE = 1;\n\n    private static final String[] PERMISSIONS = {\n        &quot;android.permission.ACCESS_ALL_DOWNLOADS&quot;,\n//Other permissions \n        &quot;android.permission.WRITE_USER_DICTIONARY&quot; \n    };\n\n    private Map&lt;String, Integer&gt; permissionRequestCodes;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        checkAndRequestPermissions();\n    }\n\n    private void checkAndRequestPermissions() {\n        List&lt;String&gt; permissionsNeeded = new ArrayList&lt;&gt;();\n        permissionRequestCodes = new HashMap&lt;&gt;();\n\n        // Check each permission\n        for (String permission : PERMISSIONS) {\n            if (ContextCompat.checkSelfPermission(this, permission) != PackageManager.PERMISSION_GRANTED) {\n                permissionsNeeded.add(permission);\n\n                // Assign a unique request code for each permission\n                permissionRequestCodes.put(permission, generateUniqueRequestCode(permission));\n            }\n        }\n\n        // Request permissions\n        if (!permissionsNeeded.isEmpty()) {\n            ActivityCompat.requestPermissions(\n                this,\n                permissionsNeeded.toArray(new String[0]),\n                PERMISSION_REQUEST_CODE_MULTIPLE\n            );\n        } else {\n            // All permissions already granted\n            proceedWithApp();\n        }\n    }\n\n    private int generateUniqueRequestCode(String permission) {\n        // Generate a unique request code based on the permission string\n        return permission.hashCode();\n    }\n\n    private void proceedWithApp() {\n        // Do something with the app after all permissions are granted\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == PERMISSION_REQUEST_CODE_MULTIPLE) {\n            boolean allPermissionsGranted = true;\n\n            for (int i = 0; i &lt; grantResults.length; i++) {\n                String permission = permissions[i];\n                int grantResult = grantResults[i];\n\n                if (grantResult != PackageManager.PERMISSION_GRANTED) {\n                    allPermissionsGranted = false;\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n            }\n\n            if (allPermissionsGranted) {\n                // All permissions granted\n                proceedWithApp();\n            } else {\n                // Handle the case when some permissions were denied\n            }\n        } else {\n            // Handle other permission request codes if needed\n            Integer permissionRequestCode = permissionRequestCodes.get(permissions[0]);\n\n            if (permissionRequestCode != null) {\n                // Handle individual permission request result\n                handlePermissionRequestResult(permissionRequestCode, permissions, grantResults);\n            }\n        }\n    }\n\n    private void handlePermissionRequestResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        // Find the permission that matches the request code\n        for (int i = 0; i &lt; permissions.length; i++) {\n            String permission = permissions[i];\n\n            if (requestCode == permissionRequestCodes.get(permission)) {\n                int grantResult = grantResults[i];\n\n                if (grantResult == PackageManager.PERMISSION_GRANTED) {\n                    Log.d(&quot;Permission&quot;, permission + &quot; granted&quot;);\n                } else {\n                    Log.d(&quot;Permission&quot;, permission + &quot; denied&quot;);\n                }\n\n                // Handle the permission request result for this specific permission if needed\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The app opens but it does nothing.</p>\n"},{"tags":["java","user-interface","netbeans"],"comments":[{"owner":{"account_id":3474675,"reputation":649,"user_id":2908213,"display_name":"hankd"},"score":0,"creation_date":1384965099,"post_id":20101383,"comment_id":29950941,"body_markdown":"Go try it out, then come back with the code you tried and a specific question about it. You should probably start by reading this: http://docs.oracle.com/javase/tutorial/uiswing/components/button.html","body":"Go try it out, then come back with the code you tried and a specific question about it. You should probably start by reading this: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/button.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1384965161,"post_id":20101383,"comment_id":29950988,"body_markdown":"NetBeans 6.7.1 is quite old. Insist upon using 7.x.","body":"NetBeans 6.7.1 is quite old. Insist upon using 7.x."}],"answers":[{"tags":[],"owner":{"account_id":3325430,"reputation":121,"user_id":2795607,"display_name":"ckinfos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416627927,"creation_date":1384965753,"answer_id":20101743,"question_id":20101383,"body_markdown":"Quicky one: \r\n i assume u have already created a jframe and inside u have the button.\r\n\r\n 1.in design mode select the jButton and on the right property panel go to the events. find the onclick event of the jbutton\r\n 2. in the method the netbeans creates in your code window go and write :\r\n\r\n`jFrame.getContentPane().setBackground(Color.Green);`    \r\n\r\nWith this u tell the application when u click the button change the color of the jFrame. Offcourse u have to change the name to what u r using i.e. i use jFrame but you may have called it xFramex. so u have to write it as :\r\n\r\n    xFramex.getContentPane().setBackgroundcolor(Color.Green);\r\n\r\nwhat u should know is that all containers(jPanel, JFrame etc) in java have the getContentPane() method for handing the colors and other styles.\r\nIf u dont want the default colors like i have shown above (Color.Green) then u have to change it to something like this :\r\n\r\n`jFrame.getContentPane().setBackground(new Color(128, 234, 10));`\r\n\r\nThe Color syntax is : Red (0-255), Green (0-255), Blue (0-255)\r\nU can easily find the combination desired if u open the Paint app of windows and look the numbers in the color palette there.\r\nHope i helped a bit.\r\n","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>Quicky one: \n i assume u have already created a jframe and inside u have the button.</p>\n\n<p>1.in design mode select the jButton and on the right property panel go to the events. find the onclick event of the jbutton\n 2. in the method the netbeans creates in your code window go and write :</p>\n\n<p><code>jFrame.getContentPane().setBackground(Color.Green);</code>    </p>\n\n<p>With this u tell the application when u click the button change the color of the jFrame. Offcourse u have to change the name to what u r using i.e. i use jFrame but you may have called it xFramex. so u have to write it as :</p>\n\n<pre><code>xFramex.getContentPane().setBackgroundcolor(Color.Green);\n</code></pre>\n\n<p>what u should know is that all containers(jPanel, JFrame etc) in java have the getContentPane() method for handing the colors and other styles.\nIf u dont want the default colors like i have shown above (Color.Green) then u have to change it to something like this :</p>\n\n<p><code>jFrame.getContentPane().setBackground(new Color(128, 234, 10));</code></p>\n\n<p>The Color syntax is : Red (0-255), Green (0-255), Blue (0-255)\nU can easily find the combination desired if u open the Paint app of windows and look the numbers in the color palette there.\nHope i helped a bit.</p>\n"},{"tags":[],"owner":{"account_id":3929063,"reputation":1,"user_id":3248403,"display_name":"JAthey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390995272,"creation_date":1390991927,"answer_id":21428501,"question_id":20101383,"body_markdown":"This is what I used to change the background using a button add this to your jbutton that I called blue \r\n\r\n\tblue.addActionListener(new ActionListener() {\r\n    \tpublic void actionPerformed(ActionEvent evt) {\r\n    \tSystem.out.println(&quot;blue.actionPerformed, event=&quot;+evt);\r\n\tsetDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n    \tgetContentPane().setLayout(null);\r\n    \tgetContentPane().setBackground(newjava.awt.Color(51,98,118));\r\n    \t\t\t\t\t}","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>This is what I used to change the background using a button add this to your jbutton that I called blue </p>\n\n<pre><code>blue.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent evt) {\n    System.out.println(\"blue.actionPerformed, event=\"+evt);\nsetDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n    getContentPane().setLayout(null);\n    getContentPane().setBackground(newjava.awt.Color(51,98,118));\n                    }\n</code></pre>\n"}],"owner":{"account_id":3613533,"reputation":1,"user_id":3013990,"display_name":"user3013990"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7972,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686762395,"creation_date":1384964783,"question_id":20101383,"body_markdown":"I&#39;m using Netbeans 6.7.1. I&#39;m making a GUI application. \r\n\r\nWhat I want to have happen when I press a button (btnEnter, I named it) is for the background color of my application to change (not the color of the button, but of the mainPanel). Does anyone know how to achieve this?\r\n\r\nThanks!","title":"Netbeans GUI Background Color Change on Button Press","body":"<p>I'm using Netbeans 6.7.1. I'm making a GUI application. </p>\n\n<p>What I want to have happen when I press a button (btnEnter, I named it) is for the background color of my application to change (not the color of the button, but of the mainPanel). Does anyone know how to achieve this?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","firebase","firebase-authentication","firebase-cloud-messaging"],"owner":{"account_id":12869851,"reputation":113,"user_id":9308720,"display_name":"thank you"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686762361,"creation_date":1686762361,"question_id":76475997,"body_markdown":"I was building an app one year ago. The app was working perfectly at that time. After a year, I want to run the app again but now when I run the app this error is showed everytime.\r\n\r\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;                                                                                                    \tat com.google.firebase.database.DatabaseRegistrar.getComponents(DatabaseRegistrar.java:38)\r\n                                                                                                    \tat com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\r\n                                                                                                    \tat com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:439)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:296)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:264)\r\n                                                                                                    \tat com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:249)\r\n                                                                                                    \tat com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:66)\r\n                                                                                                    \tat android.content.ContentProvider.attachInfo(ContentProvider.java:2429)\r\n                                                                                                    \tat android.content.ContentProvider.attachInfo(ContentProvider.java:2399)\r\n                                                                                                    \tat com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:58)\r\n                                                                                                    \tat android.app.ActivityThread.installProvider(ActivityThread.java:8190)\r\n                                                                                                    \tat android.app.ActivityThread.installContentProviders(ActivityThread.java:7726)\r\n                                                                                                    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:7546)\r\n                                                                                                    \tat android.app.ActivityThread.access$1400(ActivityThread.java:301)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:246)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8633)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\r\n                                                                                                    Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.firebase.appcheck.interop.InternalAppCheckTokenProvider&quot; on path: DexPathList[[zip file &quot;/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/lib/arm64, /data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAWCw==/base.apk!/lib/arm64-v8a, /system/lib64]]\r\n                                                                                                    \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\r\n                                                                                                    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n                                                                                                    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n\r\n\r\nHere is my build.gradle(:app) file\r\n\r\n  \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    android {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;31.0.0&quot;\r\n    defaultConfig {\r\n        applicationId &quot;com.application.testapp&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        // Enabling multidex support.\r\n        multiDexEnabled true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.1.0&#39;\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n\r\n    //    implementation &#39;com.google.firebase:firebase-iid&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-functions:20.3.0&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-analytics:19.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-config:21.0.2&#39;\r\n\r\n    // Add the SDK for Firebase Cloud Messaging\r\n    implementation &#39;com.google.firebase:firebase-messaging:20.2.4&#39;\r\n\r\n    implementation &#39;com.google.firebase:firebase-appcheck:17.0.1&#39;\r\n\r\n    implementation &quot;androidx.multidex:multidex:2.0.1&quot;\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    implementation &#39;com.github.chrisbanes:PhotoView:2.3.0&#39;\r\n\r\n    implementation &#39;com.github.barteksc:android-pdf-viewer:2.8.2&#39;\r\n\r\n    }\r\n\r\nHere is my build.gradle(:testapp) file\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n\r\n        //For Glide\r\n        mavenCentral()\r\n        \r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.5.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        \r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n\r\n        //Zoom in/out\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        \r\n    }\r\n    }\r\n \r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\nAndroid Gradle Plugin Version 3.5.2 and Gradle Version is 5.4.1\r\n\r\nPlease help me to solve the problem. I search the solution on Internet but unfortunately not able to solve the problem. Thank you.\r\n\r\n","title":"Cannot solve java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider","body":"<p>I was building an app one year ago. The app was working perfectly at that time. After a year, I want to run the app again but now when I run the app this error is showed everytime.</p>\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/firebase/appcheck/interop/InternalAppCheckTokenProvider;                                                                                                      at com.google.firebase.database.DatabaseRegistrar.getComponents(DatabaseRegistrar.java:38)\n                                                                                                    at com.google.firebase.tracing.ComponentMonitor.processRegistrar(ComponentMonitor.java:28)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.discoverComponents(ComponentRuntime.java:117)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:99)\n                                                                                                    at com.google.firebase.components.ComponentRuntime.&lt;init&gt;(ComponentRuntime.java:46)\n                                                                                                    at com.google.firebase.components.ComponentRuntime$Builder.build(ComponentRuntime.java:387)\n                                                                                                    at com.google.firebase.FirebaseApp.&lt;init&gt;(FirebaseApp.java:439)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:296)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:264)\n                                                                                                    at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:249)\n                                                                                                    at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:66)\n                                                                                                    at android.content.ContentProvider.attachInfo(ContentProvider.java:2429)\n                                                                                                    at android.content.ContentProvider.attachInfo(ContentProvider.java:2399)\n                                                                                                    at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:58)\n                                                                                                    at android.app.ActivityThread.installProvider(ActivityThread.java:8190)\n                                                                                                    at android.app.ActivityThread.installContentProviders(ActivityThread.java:7726)\n                                                                                                    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7546)\n                                                                                                    at android.app.ActivityThread.access$1400(ActivityThread.java:301)\n                                                                                                    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2166)\n                                                                                                    at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                    at android.os.Looper.loop(Looper.java:246)\n                                                                                                    at android.app.ActivityThread.main(ActivityThread.java:8633)\n                                                                                                    at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n                                                                                                Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.firebase.appcheck.interop.InternalAppCheckTokenProvider&quot; on path: DexPathList[[zip file &quot;/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAMCM==/lib/arm64, /data/app/~~KSAGapddSqoZ-CllJmTAyw==/com.application.testApp-xwYLI9_QcCtUIHFtUwAWCw==/base.apk!/lib/arm64-v8a, /system/lib64]]\n                                                                                                    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:207)\n                                                                                                    at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n                                                                                                    at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n</code></pre>\n<p>Here is my build.gradle(:app) file</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\ncompileSdkVersion 33\nbuildToolsVersion &quot;31.0.0&quot;\ndefaultConfig {\n    applicationId &quot;com.application.testapp&quot;\n    minSdkVersion 19\n    targetSdkVersion 33\n    versionCode 1\n    versionName &quot;1.0.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n    // Enabling multidex support.\n    multiDexEnabled true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nlintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\ntestImplementation 'junit:junit:4.13'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\nimplementation 'com.google.android.material:material:1.1.0'\n\nimplementation 'androidx.recyclerview:recyclerview:1.1.0'\nimplementation 'androidx.cardview:cardview:1.0.0'\n\n//    implementation 'com.google.firebase:firebase-iid'\nimplementation 'com.google.firebase:firebase-storage:20.2.0'\nimplementation 'com.google.firebase:firebase-functions:20.3.0'\n\nimplementation 'com.google.firebase:firebase-analytics:19.0.0'\nimplementation 'com.google.firebase:firebase-database:20.0.1'\nimplementation 'com.google.firebase:firebase-auth:21.0.1'\nimplementation 'com.google.android.gms:play-services-auth:19.2.0'\nimplementation 'com.google.firebase:firebase-config:21.0.2'\n\n// Add the SDK for Firebase Cloud Messaging\nimplementation 'com.google.firebase:firebase-messaging:20.2.4'\n\nimplementation 'com.google.firebase:firebase-appcheck:17.0.1'\n\nimplementation &quot;androidx.multidex:multidex:2.0.1&quot;\n\nimplementation 'com.github.bumptech.glide:glide:4.11.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\nimplementation 'com.github.chrisbanes:PhotoView:2.3.0'\n\nimplementation 'com.github.barteksc:android-pdf-viewer:2.8.2'\n\n}\n</code></pre>\n<p>Here is my build.gradle(:testapp) file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\nrepositories {\n    google()\n    jcenter()\n\n    //For Glide\n    mavenCentral()\n    \n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.5.2'\n    classpath 'com.google.gms:google-services:4.3.3'\n    \n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n\n    //Zoom in/out\n    maven { url &quot;https://jitpack.io&quot; }\n    \n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p>Android Gradle Plugin Version 3.5.2 and Gradle Version is 5.4.1</p>\n<p>Please help me to solve the problem. I search the solution on Internet but unfortunately not able to solve the problem. Thank you.</p>\n"},{"tags":["java","intellij-idea","build"],"answers":[{"comments":[{"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"score":0,"creation_date":1686762138,"post_id":76475062,"comment_id":134844937,"body_markdown":"Hi, i already configured the vm option for run/debug. My problem is with the build, intellij appears to build my project ignoring my vm option, that&#39;s what i need to fix.","body":"Hi, i already configured the vm option for run/debug. My problem is with the build, intellij appears to build my project ignoring my vm option, that&#39;s what i need to fix."},{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1686764568,"post_id":76475062,"comment_id":134845451,"body_markdown":"So Its about not running the application in IntelliJ. Right?. Build tool is maven?  Try this..  $ mvn spring-boot:run -Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&quot;.","body":"So Its about not running the application in IntelliJ. Right?. Build tool is maven?  Try this..  $ mvn spring-boot:run -Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&zwnj;&#8203;&quot;."},{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1686764884,"post_id":76475062,"comment_id":134845511,"body_markdown":"You can try setting PATH in windows. if its needed to run","body":"You can try setting PATH in windows. if its needed to run"},{"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"score":0,"creation_date":1686769364,"post_id":76475062,"comment_id":134846250,"body_markdown":"https://www.computerhope.com/issues/ch000549.htm                                   Set Env variable for windows","body":"<a href=\"https://www.computerhope.com/issues/ch000549.htm\" rel=\"nofollow noreferrer\">computerhope.com/issues/ch000549.htm</a>                                   Set Env variable for windows"},{"owner":{"account_id":17383128,"reputation":5475,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1687791435,"post_id":76475062,"comment_id":134982470,"body_markdown":"You can also try adding the option to the Maven runner in the IDE: &#39;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner -&gt; VM Options&#39;","body":"You can also try adding the option to the Maven runner in the IDE: &#39;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner -&gt; VM Options&#39;"}],"tags":[],"owner":{"account_id":5475023,"reputation":90,"user_id":4353227,"accept_rate":100,"display_name":"Suresh Kumar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686755919,"creation_date":1686755600,"answer_id":76475062,"question_id":76474447,"body_markdown":"If you need to configure vm options in intellij. Run -&gt; Edit configurations -&gt; Modify options -&gt;Add VM Options. There you can configure.  Reference intellij 2023.1 Version.\r\n\r\nRefer this if you are looking at runtime, assuming maven is used as build tool.\r\n\r\nhttps://stackoverflow.com/questions/72482376/add-jvm-options-to-a-spring-boot-application-started-via-mvn-spring-bootrun","title":"Intellij build vm option setting: -Djava.library.path=","body":"<p>If you need to configure vm options in intellij. Run -&gt; Edit configurations -&gt; Modify options -&gt;Add VM Options. There you can configure.  Reference intellij 2023.1 Version.</p>\n<p>Refer this if you are looking at runtime, assuming maven is used as build tool.</p>\n<p><a href=\"https://stackoverflow.com/questions/72482376/add-jvm-options-to-a-spring-boot-application-started-via-mvn-spring-bootrun\">Add jvm options to a Spring Boot application started via mvn spring-boot:run</a></p>\n"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686762037,"creation_date":1686751459,"question_id":76474447,"body_markdown":"My project need the vm option to run properly, with this:\r\n\r\n-Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&quot;\r\n\r\nif not configured, every run/debug returns this error:\r\n\r\njava.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path\r\n\r\nand this is the exact error that i get when i build my project and try to execute the jar.\r\nI&#39;m using intellij with windows. How can i &quot;configure the vm option&quot; for build?","title":"Intellij build vm option setting: -Djava.library.path=","body":"<p>My project need the vm option to run properly, with this:</p>\n<p>-Djava.library.path=&quot;C:\\your-path\\SimpleITK-2.2.1-Java-win64&quot;</p>\n<p>if not configured, every run/debug returns this error:</p>\n<p>java.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path</p>\n<p>and this is the exact error that i get when i build my project and try to execute the jar.\nI'm using intellij with windows. How can i &quot;configure the vm option&quot; for build?</p>\n"},{"tags":["java","griddb"],"answers":[{"tags":[],"owner":{"account_id":5285429,"reputation":253,"user_id":4219597,"accept_rate":55,"display_name":"Chuah Cheng Jun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686761289,"creation_date":1685583191,"answer_id":76378161,"question_id":76378160,"body_markdown":"After some digging and researching, I found the way to get the gridstore.jar dependency. Here are the steps listed below:\r\n\r\n1. Go to https://github.com/griddb/griddb and clone the repository down into your local machine. Open your terminal and navigate to the folder, run the following command:\r\n```\r\ncd java_client\r\n./make_source_for_mvn.sh\r\nmvn clean\r\nmvn install\r\n```\r\n2. After the Maven has done the compilation, it could create a gridstore JAR file located under the java_client/target path, the name would be something like this: gridstore-x.x.x\r\n\r\n3. Then go to the terminal and navigate to your own repository that you want to install this dependency, run the following command:\r\n\r\n```\r\nmvn install:install-file -Dfile=/path_to_the_griddb_folder/java_client/target/gridstore-x.x.x.jar\r\n-DgroupId=com.toshiba.mwcloud -DartifactId=gs -Dversion=4.0 -Dpackaging=jar\r\n```\r\n\r\n4. It should install the dependency into your repository. Then inside your pom.xml file, add the following dependency:\r\n```\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;com.toshiba.mwcloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gs&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd then you should be able to import the libraries now.","title":"Getting GridDB dependency for pom.xml","body":"<p>After some digging and researching, I found the way to get the gridstore.jar dependency. Here are the steps listed below:</p>\n<ol>\n<li>Go to <a href=\"https://github.com/griddb/griddb\" rel=\"nofollow noreferrer\">https://github.com/griddb/griddb</a> and clone the repository down into your local machine. Open your terminal and navigate to the folder, run the following command:</li>\n</ol>\n<pre><code>cd java_client\n./make_source_for_mvn.sh\nmvn clean\nmvn install\n</code></pre>\n<ol start=\"2\">\n<li><p>After the Maven has done the compilation, it could create a gridstore JAR file located under the java_client/target path, the name would be something like this: gridstore-x.x.x</p>\n</li>\n<li><p>Then go to the terminal and navigate to your own repository that you want to install this dependency, run the following command:</p>\n</li>\n</ol>\n<pre><code>mvn install:install-file -Dfile=/path_to_the_griddb_folder/java_client/target/gridstore-x.x.x.jar\n-DgroupId=com.toshiba.mwcloud -DartifactId=gs -Dversion=4.0 -Dpackaging=jar\n</code></pre>\n<ol start=\"4\">\n<li>It should install the dependency into your repository. Then inside your pom.xml file, add the following dependency:</li>\n</ol>\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;com.toshiba.mwcloud&lt;/groupId&gt;\n    &lt;artifactId&gt;gs&lt;/artifactId&gt;\n    &lt;version&gt;4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And then you should be able to import the libraries now.</p>\n"}],"owner":{"account_id":5285429,"reputation":253,"user_id":4219597,"accept_rate":55,"display_name":"Chuah Cheng Jun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686761289,"creation_date":1685583191,"question_id":76378160,"body_markdown":"I am trying to use GridDB with my Java application, and I am following this tutorial (https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee) to play around with it. \r\n\r\nSo before starting, I am required to get the GridDB dependency into my Java application but it doesn&#39;t work, while Maven repository doesn&#39;t have the dependency either. The GridDB official website is lacking some steps on how to install the dependency, does anyone knows how?","title":"Getting GridDB dependency for pom.xml","body":"<p>I am trying to use GridDB with my Java application, and I am following this tutorial (<a href=\"https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee\" rel=\"nofollow noreferrer\">https://medium.com/griddb/migrating-from-mysql-to-griddb-8e1ad82e1cee</a>) to play around with it.</p>\n<p>So before starting, I am required to get the GridDB dependency into my Java application but it doesn't work, while Maven repository doesn't have the dependency either. The GridDB official website is lacking some steps on how to install the dependency, does anyone knows how?</p>\n"},{"tags":["java","mapper"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1686771608,"post_id":76475762,"comment_id":134846643,"body_markdown":"Does this answer your question? [Jackson converting LocalDatetime](https://stackoverflow.com/questions/53820977/jackson-converting-localdatetime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53820977/jackson-converting-localdatetime\">Jackson converting LocalDatetime</a>"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686760479,"creation_date":1686760479,"question_id":76475762,"body_markdown":"Entity class\r\n\r\n    class User {\r\n      String name;\r\n      LocalDateTime date;\r\n    }\r\n\r\nAnd dto\r\n\r\n    class UserDto {\r\n      String name;\r\n      String date;\r\n    }\r\n\r\nWhen I transform the dto into an entity object\r\n\r\n    ModelMapper modelMapper = new ModelMapper();\r\n    public User dtoToEntityConverter(UserDto dto) {\r\n       return modelMapper.map(dto, User.class);\r\n    }\r\n\r\nI get the date field of the dto object in this format:\r\n\r\n    &quot;2021-03-17T23:05:33.371479&quot;\r\n\r\nand after the conversion I get NULL Why doesn&#39;t ModelMapper convert LocalDateTime?\r\n","title":"ModelMapper returns null for LocalDateTime after conversion","body":"<p>Entity class</p>\n<pre><code>class User {\n  String name;\n  LocalDateTime date;\n}\n</code></pre>\n<p>And dto</p>\n<pre><code>class UserDto {\n  String name;\n  String date;\n}\n</code></pre>\n<p>When I transform the dto into an entity object</p>\n<pre><code>ModelMapper modelMapper = new ModelMapper();\npublic User dtoToEntityConverter(UserDto dto) {\n   return modelMapper.map(dto, User.class);\n}\n</code></pre>\n<p>I get the date field of the dto object in this format:</p>\n<pre><code>&quot;2021-03-17T23:05:33.371479&quot;\n</code></pre>\n<p>and after the conversion I get NULL Why doesn't ModelMapper convert LocalDateTime?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1450087,"reputation":11188,"user_id":1409374,"display_name":"rickhg12hs"},"score":0,"creation_date":1686315018,"post_id":76440281,"comment_id":134785721,"body_markdown":"Would you show a portion of the file you want to import?","body":"Would you show a portion of the file you want to import?"}],"owner":{"account_id":26344646,"reputation":1,"user_id":20003216,"display_name":"abi rajasekar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686760150,"creation_date":1686313856,"question_id":76440281,"body_markdown":"I have tried importing a excel file using mongoDB compass. Using Import and selecting CSV file in mongo db compass but Its not successfully importing showing following error.key **PK must not contain null bytes in mongo db compass**. If i try using other option like delimiter and tried all but using space its importing but all records in collection is like encoded something like this..**&quot;   3 &#39; H ? W3    cÞº8 ** How to import the excel file.  \r\n\r\nPlease help with this thing.","title":"How to Import excel file in Mongo DB compass. Facing Error like key PK must not contain null bytes inmongo db compass","body":"<p>I have tried importing a excel file using mongoDB compass. Using Import and selecting CSV file in mongo db compass but Its not successfully importing showing following error.key <strong>PK must not contain null bytes in mongo db compass</strong>. If i try using other option like delimiter and tried all but using space its importing but all records in collection is like encoded something like this..**&quot;   3 ' H ? W3    cÞº8 ** How to import the excel file.</p>\n<p>Please help with this thing.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1686756326,"post_id":76475017,"comment_id":134843612,"body_markdown":"Someone had the same problem: https://stackoverflow.com/questions/66071165/how-to-pass-parameters-in-a-native-query-jpa","body":"Someone had the same problem: <a href=\"https://stackoverflow.com/questions/66071165/how-to-pass-parameters-in-a-native-query-jpa\" title=\"how to pass parameters in a native query jpa\">stackoverflow.com/questions/66071165/&hellip;</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1686756668,"post_id":76475017,"comment_id":134843686,"body_markdown":"Have you tried without the single quotes?","body":"Have you tried without the single quotes?"},{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":0,"creation_date":1686758080,"post_id":76475017,"comment_id":134844043,"body_markdown":"tried , inject the param but query blows \n\n`Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.`","body":"tried , inject the param but query blows   <code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]   Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.</code>"}],"answers":[{"comments":[{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":0,"creation_date":1686759952,"post_id":76475664,"comment_id":134844466,"body_markdown":"yeah . Will inject it but query will not work\n`Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]   Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.`","body":"yeah . Will inject it but query will not work <code>Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: text[] @&gt; character varying[]   Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.</code>"},{"owner":{"account_id":3822950,"reputation":74,"user_id":3170573,"display_name":"JMPG Developer"},"score":0,"creation_date":1686760263,"post_id":76475664,"comment_id":134844533,"body_markdown":"Maybe you should do an explicity cast to the array:\n```\n@Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId]::text[] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)","body":"Maybe you should do an explicity cast to the array: ``` @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId]::text[] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)"},{"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"score":1,"creation_date":1686761337,"post_id":76475664,"comment_id":134844753,"body_markdown":"thank you: casting did the magic. Your syntax is wrong, but:  \n`@Query(value = &quot;SELECT * FROM my_user t WHERE t.tenant_ids  @&gt; CAST(?1 AS text[])&quot; ,nativeQuery = true)`\n(Detail tenant id needs to be between curly brackets)","body":"thank you: casting did the magic. Your syntax is wrong, but:   <code>@Query(value = &quot;SELECT * FROM my_user t WHERE t.tenant_ids  @&gt; CAST(?1 AS text[])&quot; ,nativeQuery = true)</code> (Detail tenant id needs to be between curly brackets)"}],"tags":[],"owner":{"account_id":3822950,"reputation":74,"user_id":3170573,"display_name":"JMPG Developer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686759651,"creation_date":1686759651,"answer_id":76475664,"question_id":76475017,"body_markdown":"In your query, you are using a named parameter &quot;:tenantId&quot; in the native SQL query. However, when you&#39;re trying to reference it in the array literal, you are using single quotes around the parameter, which is causing the issue. Additionally, the parameter name in the @Param annotation should match the parameter name in the query.\r\n\r\nTo resolve this issue, you should remove the single quotes around the parameter in the array literal and ensure that the parameter name in the @Param annotation matches the parameter name in the query.\r\n\r\nHere&#39;s an updated version of your code:\r\n\r\n       \r\n    public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\r\n    \r\n       @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)\r\n       Set&lt;MyUser&gt; findDrivers(@Param(&quot;tenantId&quot;) String tenantId);\r\n    \r\n    }\r\n\r\n","title":"Native Query JPA - not replacing parameters","body":"<p>In your query, you are using a named parameter &quot;:tenantId&quot; in the native SQL query. However, when you're trying to reference it in the array literal, you are using single quotes around the parameter, which is causing the issue. Additionally, the parameter name in the @Param annotation should match the parameter name in the query.</p>\n<p>To resolve this issue, you should remove the single quotes around the parameter in the array literal and ensure that the parameter name in the @Param annotation matches the parameter name in the query.</p>\n<p>Here's an updated version of your code:</p>\n<pre><code>public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\n\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[:tenantId] AND x.roles @&gt; ARRAY['driver']&quot;, nativeQuery = true)\n   Set&lt;MyUser&gt; findDrivers(@Param(&quot;tenantId&quot;) String tenantId);\n\n}\n</code></pre>\n"}],"owner":{"account_id":8420805,"reputation":760,"user_id":6319675,"display_name":"JPG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76475664,"answer_count":1,"score":3,"last_activity_date":1686759651,"creation_date":1686755296,"question_id":76475017,"body_markdown":"I got an text[] column type in postgres \r\n\r\nI am trying to do this \r\n\r\n```\r\npublic interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\r\n\r\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[&#39;:tenantId&#39;] AND x.roles @&gt; ARRAY[&#39;driver&#39;]&quot;, nativeQuery = true)\r\n    Set&lt;MyUser&gt; findDrivers(String tenantId);\r\n\r\n}\r\n\r\n ```\r\n\r\nMy issue is that the param is not replaces. I guessing it&#39;s because of the single quote. \r\n\r\nI tried using `@Param(&quot;tenant_id&quot;)` didn&#39;t work.\r\n \r\nAlso tried with Indexed Parameters like `?1` \r\n","title":"Native Query JPA - not replacing parameters","body":"<p>I got an text[] column type in postgres</p>\n<p>I am trying to do this</p>\n<pre><code>public interface MyUserRepo extends CrudRepository&lt;MyUser, String&gt; {\n\n   @Query(value = &quot;SELECT * FROM my_user x WHERE x.tenant_ids @&gt; ARRAY[':tenantId'] AND x.roles @&gt; ARRAY['driver']&quot;, nativeQuery = true)\n    Set&lt;MyUser&gt; findDrivers(String tenantId);\n\n}\n\n</code></pre>\n<p>My issue is that the param is not replaces. I guessing it's because of the single quote.</p>\n<p>I tried using <code>@Param(&quot;tenant_id&quot;)</code> didn't work.</p>\n<p>Also tried with Indexed Parameters like <code>?1</code></p>\n"},{"tags":["java","hibernate","jpa","many-to-many","one-to-many"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686770318,"post_id":76475647,"comment_id":134846423,"body_markdown":"Revisit your Registro &#39;fetcha&#39; and &#39;columna&#39; relationships, as it isn&#39;t clear why a Registro would have only a single fetcha and columna instance and that you&#39;d try to map them as a ManyToMany. Look at your image again, as you are missing or incorrectly mapping your &#39;orderDetail&#39; intermediary entity with ManyToMany mappings when your diagram shows it should be using ManyToOne","body":"Revisit your Registro &#39;fetcha&#39; and &#39;columna&#39; relationships, as it isn&#39;t clear why a Registro would have only a single fetcha and columna instance and that you&#39;d try to map them as a ManyToMany. Look at your image again, as you are missing or incorrectly mapping your &#39;orderDetail&#39; intermediary entity with ManyToMany mappings when your diagram shows it should be using ManyToOne"}],"owner":{"account_id":28659275,"reputation":1,"user_id":21944531,"display_name":"Alfredo Amaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686759637,"creation_date":1686759492,"question_id":76475647,"body_markdown":"I wanted to make this:\r\n[enter image description here](https://i.stack.imgur.com/IwCrT.png)\r\nA many to many relation whit an entity in the niddle \r\nso i created 2 entities, both One-to-may and the new entity with 2 many-to-many relations\r\n\r\nAlso i read that the collection mapping using the one-to-many annotation must be  one of these (java.util.Set, java.util.Collection, java.util.List, java.util.Map, java.util.SortedSet, java.util.SortedMap) \r\n\r\nWhat am i missing ??\r\n\r\n```\r\npackage com.SplitTable.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\n\r\n@Entity\r\n@Table(name=&quot;Fechas&quot;) \r\npublic class Fecha implements Serializable {\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;fecha_ID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id=null;\r\n\t\r\n\t@Column(name=&quot;fecha&quot;, unique = true)\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Date fecha;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;Fecha&quot;, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;Registro&gt; Registros_fecha = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic Fecha(Date fecha) {\r\n\t\tthis.fecha=fecha;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Date getFecha() {\r\n\t\treturn fecha;\r\n\t}\r\n\r\n\tpublic void setFecha(Date fecha) {\r\n\t\tthis.fecha = fecha;\r\n\t}\r\n\r\n\tpublic Set&lt;Registro&gt; getRegistros() {\r\n\t\treturn Registros_fecha;\r\n\t}\r\n\r\n\tpublic void setRegistros(Set&lt;Registro&gt; registros) {\r\n\t\tRegistros_fecha = registros;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;Registros&quot;)\r\npublic class Registro {\r\n\t@Id\r\n\t@Column(name = &quot;registro_Id&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\t@ManyToMany\r\n\t@JoinColumn(name=&quot;fecha_id&quot;)\r\n\t@Column(name=&quot;fecha&quot;)\r\n\tprivate Fecha fecha;\r\n\r\n\t@ManyToMany\r\n\t@JoinColumn(name=&quot;column_id&quot;)\r\n\t@Column(name=&quot;columna&quot;)\r\n\tprivate Columna columna;\r\n\t\r\n\t@Column(name=&quot;valor&quot;) // valor de la columna\r\n\tprivate Integer val;\r\n\t\r\n\tpublic Registro(Fecha fec, Columna col ,Integer val) {\r\n\t\tthis.fecha=fec;\r\n\t\tthis.columna=col;\r\n\t\tthis.val=val;\r\n\t}\r\n\t\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Fecha getFecha() {\r\n\t\treturn fecha;\r\n\t}\r\n\r\n\tpublic void setFecha(Fecha fecha) {\r\n\t\tthis.fecha = fecha;\r\n\t}\r\n\r\n\tpublic Columna getCol() {\r\n\t\treturn columna;\r\n\t}\r\n\r\n\tpublic void setCol(Columna col) {\r\n\t\tthis.columna = col;\r\n\t}\r\n\r\n\tpublic Integer getVal() {\r\n\t\treturn val;\r\n\t}\r\n\r\n\tpublic void setVal(Integer val) {\r\n\t\tthis.val = val;\r\n\t}\r\n```\r\n\r\n```\r\npackage com.SplitTable.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name=&quot;Columnas&quot;)\r\npublic class Columna implements Serializable{\r\n\t\r\n\t@Id\r\n\t@Column(name = &quot;columna_ID&quot;)\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate Long id=null;\r\n\t\r\n\r\n\t@Column(name=&quot;columna&quot;, unique = true)\r\n\tprivate String columna;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;Columna&quot;, cascade = CascadeType.ALL)\r\n\tprivate Set&lt;Registro&gt; Registros_columna = new HashSet&lt;&gt;();\r\n\t\r\n\tpublic Columna(String columna) {\r\n\t\tthis.columna=columna;\r\n\t}\r\n\t\tpublic Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getColumna() {\r\n\t\t\treturn columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setColumna(String columna) {\r\n\t\t\tthis.columna = columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Set&lt;Registro&gt; getRegistros() {\r\n\t\t\treturn Registros_columna;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setRegistros(Set&lt;Registro&gt; registros) {\r\n\t\t\tRegistros_columna = registros;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n```\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI wanted to make something like this\r\n[enter image description here](https://i.stack.imgur.com/R2JXv.png)\r\n\r\nThe error says that i am not using the annotations correctly but i think i am\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat com.SplitTable.test.Schema_Creation_test.main(Schema_Creation_test.java:14)\r\nCaused by: org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: com.SplitTable.model.Registro.columna\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.getCollectionBinder(CollectionBinder.java:325)\r\n\tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:1977)\r\n\tat org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:968)\r\n\tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:793)\r\n\tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat com.SSimport.utils.JPA_Utils.&lt;clinit&gt;(JPA_Utils.java:8)\r\n\t... 1 more\r\n\r\n```\r\n","title":"Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: (Already tried other posts suggestions)","body":"<p>I wanted to make this:\n<a href=\"https://i.stack.imgur.com/IwCrT.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nA many to many relation whit an entity in the niddle\nso i created 2 entities, both One-to-may and the new entity with 2 many-to-many relations</p>\n<p>Also i read that the collection mapping using the one-to-many annotation must be  one of these (java.util.Set, java.util.Collection, java.util.List, java.util.Map, java.util.SortedSet, java.util.SortedMap)</p>\n<p>What am i missing ??</p>\n<pre><code>package com.SplitTable.model;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport javax.persistence.Temporal;\nimport javax.persistence.TemporalType;\n\n@Entity\n@Table(name=&quot;Fechas&quot;) \npublic class Fecha implements Serializable {\n    \n    @Id\n    @Column(name = &quot;fecha_ID&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id=null;\n    \n    @Column(name=&quot;fecha&quot;, unique = true)\n    @Temporal(TemporalType.DATE)\n    private Date fecha;\n    \n    @OneToMany(mappedBy = &quot;Fecha&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Registro&gt; Registros_fecha = new HashSet&lt;&gt;();\n    \n    public Fecha(Date fecha) {\n        this.fecha=fecha;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Date getFecha() {\n        return fecha;\n    }\n\n    public void setFecha(Date fecha) {\n        this.fecha = fecha;\n    }\n\n    public Set&lt;Registro&gt; getRegistros() {\n        return Registros_fecha;\n    }\n\n    public void setRegistros(Set&lt;Registro&gt; registros) {\n        Registros_fecha = registros;\n    }\n    \n    \n    \n}\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;Registros&quot;)\npublic class Registro {\n    @Id\n    @Column(name = &quot;registro_Id&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @ManyToMany\n    @JoinColumn(name=&quot;fecha_id&quot;)\n    @Column(name=&quot;fecha&quot;)\n    private Fecha fecha;\n\n    @ManyToMany\n    @JoinColumn(name=&quot;column_id&quot;)\n    @Column(name=&quot;columna&quot;)\n    private Columna columna;\n    \n    @Column(name=&quot;valor&quot;) // valor de la columna\n    private Integer val;\n    \n    public Registro(Fecha fec, Columna col ,Integer val) {\n        this.fecha=fec;\n        this.columna=col;\n        this.val=val;\n    }\n    \n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Fecha getFecha() {\n        return fecha;\n    }\n\n    public void setFecha(Fecha fecha) {\n        this.fecha = fecha;\n    }\n\n    public Columna getCol() {\n        return columna;\n    }\n\n    public void setCol(Columna col) {\n        this.columna = col;\n    }\n\n    public Integer getVal() {\n        return val;\n    }\n\n    public void setVal(Integer val) {\n        this.val = val;\n    }\n</code></pre>\n<pre><code>package com.SplitTable.model;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=&quot;Columnas&quot;)\npublic class Columna implements Serializable{\n    \n    @Id\n    @Column(name = &quot;columna_ID&quot;)\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id=null;\n    \n\n    @Column(name=&quot;columna&quot;, unique = true)\n    private String columna;\n    \n    @OneToMany(mappedBy = &quot;Columna&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Registro&gt; Registros_columna = new HashSet&lt;&gt;();\n    \n    public Columna(String columna) {\n        this.columna=columna;\n    }\n        public Long getId() {\n            return id;\n        }\n        \n        public void setId(Long id) {\n            this.id = id;\n        }\n        \n        public String getColumna() {\n            return columna;\n        }\n        \n        public void setColumna(String columna) {\n            this.columna = columna;\n        }\n        \n        public Set&lt;Registro&gt; getRegistros() {\n            return Registros_columna;\n        }\n        \n        public void setRegistros(Set&lt;Registro&gt; registros) {\n            Registros_columna = registros;\n        }\n    }\n</code></pre>\n<pre><code>\n\n</code></pre>\n<p>I wanted to make something like this\n<a href=\"https://i.stack.imgur.com/R2JXv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The error says that i am not using the annotations correctly but i think i am</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at com.SplitTable.test.Schema_Creation_test.main(Schema_Creation_test.java:14)\nCaused by: org.hibernate.AnnotationException: Illegal attempt to map a non collection as a @OneToMany, @ManyToMany or @CollectionOfElements: com.SplitTable.model.Registro.columna\n    at org.hibernate.cfg.annotations.CollectionBinder.getCollectionBinder(CollectionBinder.java:325)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:1977)\n    at org.hibernate.cfg.AnnotationBinder.processIdPropertiesIfNotAlready(AnnotationBinder.java:968)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:793)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:225)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:239)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:282)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at com.SSimport.utils.JPA_Utils.&lt;clinit&gt;(JPA_Utils.java:8)\n    ... 1 more\n\n</code></pre>\n"},{"tags":["java","archlinux","pacman-package-manager"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673277821,"post_id":75059197,"comment_id":132456897,"body_markdown":"This should not be necessary. Please clarify &quot;messed up tomcat projects&quot;. What is the exact error you see for them?","body":"This should not be necessary. Please clarify &quot;messed up tomcat projects&quot;. What is the exact error you see for them?"},{"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"score":0,"creation_date":1673278159,"post_id":75059197,"comment_id":132457038,"body_markdown":"Hello @OneCricketeer, I have updated my question with more informations about the issue","body":"Hello @OneCricketeer, I have updated my question with more informations about the issue"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673311720,"post_id":75059197,"comment_id":132466141,"body_markdown":"I see. In that case, have you tried purging `jre11-openjdk` package first before downgrading? You may also need to run `jps` and stop existing JVM processes","body":"I see. In that case, have you tried purging <code>jre11-openjdk</code> package first before downgrading? You may also need to run <code>jps</code> and stop existing JVM processes"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1673312492,"post_id":75059197,"comment_id":132466248,"body_markdown":"I found https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html and https://bugs.openjdk.org/browse/JDK-8277072.","body":"I found <a href=\"https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html\" rel=\"nofollow noreferrer\">mail-archive.com/users@tomcat.apache.org/msg140646.html</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8277072\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8277072</a>."},{"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"score":0,"creation_date":1673620187,"post_id":75059197,"comment_id":132546431,"body_markdown":"Can you provide me a full procedure on how to downgrade java?","body":"Can you provide me a full procedure on how to downgrade java?"}],"answers":[{"tags":[],"owner":{"account_id":471566,"reputation":1676,"user_id":879444,"display_name":"TheEllis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686759438,"creation_date":1686759438,"answer_id":76475637,"question_id":75059197,"body_markdown":"The error,\r\n\r\n&gt; WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\r\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n appears to be a bug in certain openjdk versions, and can be ignored.\r\n\r\nAccording to [this tomcat thread][1], tomcat versions &gt;= 9.0.64 automatically suppress this error message. \r\n\r\nIn my case, I wasn&#39;t in a position to upgrade tomcat immediately, but you tell tomcat to suppress the message by adding the following to the context.xml file, either within the web application context.xml or the global context.xml. I chose to update the global context.xml.\r\n\r\n    &lt;Context clearReferencesObjectStreamClassCaches=&quot;false&quot;&gt;\r\n\r\n\r\n  [1]: https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html","title":"downgrade java version on archlinux","body":"<p>The error,</p>\n<blockquote>\n<p>WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\njava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>appears to be a bug in certain openjdk versions, and can be ignored.</p>\n<p>According to <a href=\"https://www.mail-archive.com/users@tomcat.apache.org/msg140646.html\" rel=\"nofollow noreferrer\">this tomcat thread</a>, tomcat versions &gt;= 9.0.64 automatically suppress this error message.</p>\n<p>In my case, I wasn't in a position to upgrade tomcat immediately, but you tell tomcat to suppress the message by adding the following to the context.xml file, either within the web application context.xml or the global context.xml. I chose to update the global context.xml.</p>\n<pre><code>&lt;Context clearReferencesObjectStreamClassCaches=&quot;false&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":5431662,"reputation":659,"user_id":4322337,"accept_rate":75,"display_name":"rilent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686759438,"creation_date":1673276756,"question_id":75059197,"body_markdown":"I have just updated java on my archlinux server and now it mess up my tomcat projects.\r\n\r\nI want to downgrade java from 11.0.17.u1 to 11.0.13.u8\r\n\r\nI looked at my var/cache/pacman/pkg folder and it seems like my old package are still there\r\n\r\n    jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst \r\n    \r\n    jre11-openjdk-headless-11.0.13.u8-1-x86_64.pkg.tar.zst\r\n\r\nI am trying to run this command to force the installation of this java version : \r\n\r\n    sudo pacman -U jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst\r\nBut it does not let me and I get this message :\r\n\r\n    loading packages...\r\n    warning: downgrading package jre11-openjdk (11.0.17.u1-1 =&gt; 11.0.13.u8-1)\r\n    resolving dependencies...\r\n    warning: cannot resolve &quot;jre11-openjdk-headless=11.0.13.u8-1&quot;, a dependency of &quot;jre11-openjdk&quot;\r\n    :: The following package cannot be upgraded due to unresolvable dependencies:\r\n          jre11-openjdk\r\n\r\nWhat can I do to force the downgrade?\r\n\r\n\r\n\r\n----\r\nFurther infos:\r\n\r\nThis is the error I am getting since I updated the JVM\r\n\r\n    09-Jan-2023 15:46:44.910 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\r\n    \tjava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\nThe tomcat servers I have not restarted yet (which are still running under the old jvm are doing just fine.\r\n\r\nI found this topic here : \r\n\r\n[https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse][1]\r\n\r\nThe solution that is brought is to upgrade the tomcat version. I am in an emergency situation where I don&#39;t have the time to update all my tomcat servers right now.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse","title":"downgrade java version on archlinux","body":"<p>I have just updated java on my archlinux server and now it mess up my tomcat projects.</p>\n<p>I want to downgrade java from 11.0.17.u1 to 11.0.13.u8</p>\n<p>I looked at my var/cache/pacman/pkg folder and it seems like my old package are still there</p>\n<pre><code>jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst \n\njre11-openjdk-headless-11.0.13.u8-1-x86_64.pkg.tar.zst\n</code></pre>\n<p>I am trying to run this command to force the installation of this java version :</p>\n<pre><code>sudo pacman -U jre11-openjdk-11.0.13.u8-1-x86_64.pkg.tar.zst\n</code></pre>\n<p>But it does not let me and I get this message :</p>\n<pre><code>loading packages...\nwarning: downgrading package jre11-openjdk (11.0.17.u1-1 =&gt; 11.0.13.u8-1)\nresolving dependencies...\nwarning: cannot resolve &quot;jre11-openjdk-headless=11.0.13.u8-1&quot;, a dependency of &quot;jre11-openjdk&quot;\n:: The following package cannot be upgraded due to unresolvable dependencies:\n      jre11-openjdk\n</code></pre>\n<p>What can I do to force the downgrade?</p>\n<hr />\n<p>Further infos:</p>\n<p>This is the error I am getting since I updated the JVM</p>\n<pre><code>09-Jan-2023 15:46:44.910 WARNING [main] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesObjectStreamClassCaches Failed to clear soft references from ObjectStreamClass$Caches for web application [docs]\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>The tomcat servers I have not restarted yet (which are still running under the old jvm are doing just fine.</p>\n<p>I found this topic here :</p>\n<p><a href=\"https://stackoverflow.com/questions/73457793/classcastexception-when-stopping-tomcat-10-inside-eclipse\">ClassCastException when stopping Tomcat 10 inside Eclipse</a></p>\n<p>The solution that is brought is to upgrade the tomcat version. I am in an emergency situation where I don't have the time to update all my tomcat servers right now.</p>\n"},{"tags":["java","sql-injection","checkmarx"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1519700266,"post_id":49000382,"comment_id":85005958,"body_markdown":"*whatever query it was in text area is being executed directly* - well that is very dangerous isn&#39;t it","body":"<i>whatever query it was in text area is being executed directly</i> - well that is very dangerous isn&#39;t it"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":0,"creation_date":1519700413,"post_id":49000382,"comment_id":85005989,"body_markdown":"Is your question &quot;how do I make this secure&quot;, or &quot;how do I make this alert go away?&quot; If you have to run SQL directly from the user (really consider if you do), security needs to happen in a lot of layers. Managed access to this functionality, a SQL user (or user(s) as appropriate) with extremely limited rights, etc.","body":"Is your question &quot;how do I make this secure&quot;, or &quot;how do I make this alert go away?&quot; If you have to run SQL directly from the user (really consider if you do), security needs to happen in a lot of layers. Managed access to this functionality, a SQL user (or user(s) as appropriate) with extremely limited rights, etc."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700433,"post_id":49000382,"comment_id":85005994,"body_markdown":"@ScaryWombat agreed but this is a feature for couple of user one or two and controlled by role.","body":"@ScaryWombat agreed but this is a feature for couple of user one or two and controlled by role."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700486,"post_id":49000382,"comment_id":85006017,"body_markdown":"@CollinD how to I make this vulnerability go away !! Yeah it is validating the user at server layer and its rights to execute the query before really interacting with the database","body":"@CollinD how to I make this vulnerability go away !! Yeah it is validating the user at server layer and its rights to execute the query before really interacting with the database"},{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1519700522,"post_id":49000382,"comment_id":85006022,"body_markdown":"@KundanSaini You&#39;re baking a vulnerability into your application in my opinion.","body":"@KundanSaini You&#39;re baking a vulnerability into your application in my opinion."},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":0,"creation_date":1519700944,"post_id":49000382,"comment_id":85006119,"body_markdown":"@CollinD any suggestion to make it more secure and same time passes with checkmarx scan.","body":"@CollinD any suggestion to make it more secure and same time passes with checkmarx scan."},{"owner":{"account_id":24564,"reputation":123812,"user_id":62576,"accept_rate":100,"display_name":"Ken White"},"score":3,"creation_date":1519701327,"post_id":49000382,"comment_id":85006214,"body_markdown":"You make the vulnerability go away by changing your app to not directly execute SQL entered by users. Your entire design is flawed from a security standpoint, and you can&#39;t just pretend it&#39;s not. Your question is like *I drive around with a paper bag over my head. The person giving me my driving test says that&#39;s dangerous and won&#39;t give me a passing grade.. How do I keep driving around with a paper bag over my head and still pass my test?*. The answer: &quot;You can&#39;t. Quit being silly and pull the bag off your head.&quot;","body":"You make the vulnerability go away by changing your app to not directly execute SQL entered by users. Your entire design is flawed from a security standpoint, and you can&#39;t just pretend it&#39;s not. Your question is like <i>I drive around with a paper bag over my head. The person giving me my driving test says that&#39;s dangerous and won&#39;t give me a passing grade.. How do I keep driving around with a paper bag over my head and still pass my test?</i>. The answer: &quot;You can&#39;t. Quit being silly and pull the bag off your head.&quot;"},{"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"score":1,"creation_date":1519701633,"post_id":49000382,"comment_id":85006273,"body_markdown":"@KenWhite Thanks Ken !! Let me change the design, it doesn&#39;t make sense to have this feature with the security threat.","body":"@KenWhite Thanks Ken !! Let me change the design, it doesn&#39;t make sense to have this feature with the security threat."}],"answers":[{"tags":[],"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520448299,"creation_date":1520448299,"answer_id":49159171,"question_id":49000382,"body_markdown":"CW answer:\r\n\r\nThere is no way to allow users to enter arbitrary SQL safely.\r\n\r\nCheckmarx is correct in warning about this as a security vulnerability.\r\n\r\nChange the design of the application so that it does not accept arbitrary user input and execute it as code (e.g. SQL queries). This is the definition of an injection attack. ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>CW answer:</p>\n\n<p>There is no way to allow users to enter arbitrary SQL safely.</p>\n\n<p>Checkmarx is correct in warning about this as a security vulnerability.</p>\n\n<p>Change the design of the application so that it does not accept arbitrary user input and execute it as code (e.g. SQL queries). This is the definition of an injection attack. </p>\n"},{"tags":[],"owner":{"account_id":5094001,"reputation":592,"user_id":4086042,"display_name":"SPoint"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543574827,"creation_date":1543574827,"answer_id":53555983,"question_id":49000382,"body_markdown":"There is only one solution to solve an SQL-Injection : Parametrize yours queries !\r\n\r\nSee https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>There is only one solution to solve an SQL-Injection : Parametrize yours queries !</p>\n\n<p>See <a href=\"https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\" rel=\"nofollow noreferrer\">https://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet</a></p>\n"},{"tags":[],"owner":{"account_id":10963357,"reputation":21,"user_id":8055904,"display_name":"mdamircoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686759253,"creation_date":1686759253,"answer_id":76475616,"question_id":49000382,"body_markdown":"Checkmarx captures lot of False Positive scenarios - and it&#39;s justifiable as to warn user. But the problem is, even if you write validation functions to sanitize the inputs, it still flags them as bug - biggest issue of this tool.\r\n\r\nFurthermore, it captures SQL Injection bugs even with MongoDB.\r\n\r\nMy recommendation is, **just add validation functions which removes unnecessary characters, checks string length, data type, etc. That&#39;s good enough.** Don&#39;t bother if Checkmarx still captures that as error. As rightly said - Checkmarx is far far behind from perfection. ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>Checkmarx captures lot of False Positive scenarios - and it's justifiable as to warn user. But the problem is, even if you write validation functions to sanitize the inputs, it still flags them as bug - biggest issue of this tool.</p>\n<p>Furthermore, it captures SQL Injection bugs even with MongoDB.</p>\n<p>My recommendation is, <strong>just add validation functions which removes unnecessary characters, checks string length, data type, etc. That's good enough.</strong> Don't bother if Checkmarx still captures that as error. As rightly said - Checkmarx is far far behind from perfection.</p>\n"}],"owner":{"account_id":10774867,"reputation":97,"user_id":7927266,"display_name":"Kundan Saini"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12012,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":3,"score":1,"last_activity_date":1686759253,"creation_date":1519700166,"question_id":49000382,"body_markdown":"I am getting a checkmarx HIGH vulnerability issue SQL Injection. \r\n\r\nrequirement is user can insert any SQL query in the text area, on click on submit this query passes through request payload and server side it is being hold using request body annotation to pass across the layer.\r\n\r\nvulnerability 1 :- saying this request is not sanitized.\r\n\r\nvulnerability 2 :- second place is where I am doing executeUpdate for the sql query using Statement object as I can not use PreparedStatement, there is no dynamic parameter available. whatever query it was in text area is being executed directly.\r\n\r\nI have tried HtmlUtils.htmlEscape(sqlQuery) and StringEscapeUtils but it fails to resolve the vulnerability.\r\n\r\nThe requirement is like this only I had to give text area to the user to put the query so that server can take it and execute it directly.\r\n\r\nAny suggestion ? how to resolve it !!\r\nThanks ","title":"Checkmarx high vulnerability issue SQL injection","body":"<p>I am getting a checkmarx HIGH vulnerability issue SQL Injection. </p>\n\n<p>requirement is user can insert any SQL query in the text area, on click on submit this query passes through request payload and server side it is being hold using request body annotation to pass across the layer.</p>\n\n<p>vulnerability 1 :- saying this request is not sanitized.</p>\n\n<p>vulnerability 2 :- second place is where I am doing executeUpdate for the sql query using Statement object as I can not use PreparedStatement, there is no dynamic parameter available. whatever query it was in text area is being executed directly.</p>\n\n<p>I have tried HtmlUtils.htmlEscape(sqlQuery) and StringEscapeUtils but it fails to resolve the vulnerability.</p>\n\n<p>The requirement is like this only I had to give text area to the user to put the query so that server can take it and execute it directly.</p>\n\n<p>Any suggestion ? how to resolve it !!\nThanks </p>\n"},{"tags":["java","spring-boot","eclipse","hibernate","jpa"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1686769762,"post_id":76475605,"comment_id":134846324,"body_markdown":"Please show some relevant code like the entities, pom.xml/build.gradle file, application properties.","body":"Please show some relevant code like the entities, pom.xml/build.gradle file, application properties."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1686870696,"post_id":76475605,"comment_id":134861644,"body_markdown":"[Generating tables from entities](https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks007.htm)","body":"<a href=\"https://www.eclipse.org/webtools/dali/docs/3.2/user_guide/tasks007.htm\" rel=\"nofollow noreferrer\">Generating tables from entities</a>"}],"owner":{"account_id":9016705,"reputation":950,"user_id":6719286,"display_name":"racerX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686759193,"creation_date":1686759193,"question_id":76475605,"body_markdown":"I am trying to create the ddl from entities in a spring boot project. I am using eclipse Version: 2023-03 (4.27.0). Ideally, I am looking for something similar to the JPA Buddy plugin in intellij where you can right click on an entity and it gives the option &quot;Show ddl ...&quot;. Most solutions I look at assume you already have a &quot;JPA&quot; project, I don&#39;t, mine is a Spring Boot Project. Next, some solutions talk about adding JPA facet to the project. When I select properties for the project, there is no such thing as &quot;Project Facet&quot;, but there is &quot;Project Natures&quot; which currently includes &quot;Java&quot; and &quot;Maven Nature&quot; for me. And when I try to add a nature, the only options I see are &quot; Gradle Project Nature&quot; and &quot;WikiTextNature&quot;, so I assumed I have to install a JPA specific software like mentioned here https://stackoverflow.com/questions/50817803/jpa-tools-menu-missing-from-eclipse, but could not find that specific one. I didn&#39;t see any obvious looking candidate, I tried the &quot;Hibernate Tools (Helios) 3.4.x&quot; and the &quot;Hibernate Tools (Indigo) 3.4.x&quot; but none worked. I also tried adding the required properties in the properties file as mentioned here, https://www.baeldung.com/spring-data-jpa-generate-db-schema, but that too did not work.","title":"How to generate DDL from entities in eclipse","body":"<p>I am trying to create the ddl from entities in a spring boot project. I am using eclipse Version: 2023-03 (4.27.0). Ideally, I am looking for something similar to the JPA Buddy plugin in intellij where you can right click on an entity and it gives the option &quot;Show ddl ...&quot;. Most solutions I look at assume you already have a &quot;JPA&quot; project, I don't, mine is a Spring Boot Project. Next, some solutions talk about adding JPA facet to the project. When I select properties for the project, there is no such thing as &quot;Project Facet&quot;, but there is &quot;Project Natures&quot; which currently includes &quot;Java&quot; and &quot;Maven Nature&quot; for me. And when I try to add a nature, the only options I see are &quot; Gradle Project Nature&quot; and &quot;WikiTextNature&quot;, so I assumed I have to install a JPA specific software like mentioned here <a href=\"https://stackoverflow.com/questions/50817803/jpa-tools-menu-missing-from-eclipse\">JPA Tools Menu Missing From Eclipse</a>, but could not find that specific one. I didn't see any obvious looking candidate, I tried the &quot;Hibernate Tools (Helios) 3.4.x&quot; and the &quot;Hibernate Tools (Indigo) 3.4.x&quot; but none worked. I also tried adding the required properties in the properties file as mentioned here, <a href=\"https://www.baeldung.com/spring-data-jpa-generate-db-schema\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-generate-db-schema</a>, but that too did not work.</p>\n"},{"tags":["java","postgresql","jdbc","classloader","servletexception"],"comments":[{"owner":{"account_id":4186934,"reputation":746,"user_id":3430478,"display_name":"Shweta Gupta"},"score":0,"creation_date":1561373776,"post_id":56734786,"comment_id":100028910,"body_markdown":"Strange. This is usually due to missing jar in classpath. Can you please provide bit more detailed stacktrace?","body":"Strange. This is usually due to missing jar in classpath. Can you please provide bit more detailed stacktrace?"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374005,"post_id":56734786,"comment_id":100029020,"body_markdown":"Yeah! Thanks for your reply!                                                        \n                                                                                                                   \nSEVERE: Servlet.service() for servlet [login.submit.register.LoginRegister] in context with path [/RegistrationPage] threw exception [Servlet execution threw an exception] with root cause\njava.lang.NoClassDefFoundError: java/sql/Driver\n\tat java.base/java.lang.ClassLoader.findBootstrapClass(Native Method)\n\tat java.base/java.lang.ClassLoader.findBootstrapClassOrNull(ClassLoader.java:1257)","body":"Yeah! Thanks for your reply!                                                                                                                                                                             SEVERE: Servlet.service() for servlet [login.submit.register.LoginRegister] in context with path [/RegistrationPage] threw exception [Servlet execution threw an exception] with root cause java.lang.NoClassDefFoundError: java/sql/Driver \tat java.base/java.lang.ClassLoader.findBootstrapClass(Native Method) \tat java.base/java.lang.ClassLoader.findBootstrapClassOrNull(Cla&zwnj;&#8203;ssLoader.java:1257)"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374135,"post_id":56734786,"comment_id":100029085,"body_markdown":"I have the postgres and mysql connectors jars - am I missing any?","body":"I have the postgres and mysql connectors jars - am I missing any?"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":1,"creation_date":1561374375,"post_id":56734786,"comment_id":100029240,"body_markdown":"Please see https://stackoverflow.com/questions/17484764/java-lang-classnotfoundexception-com-mysql-jdbc-driver-in-eclipse","body":"Please see <a href=\"https://stackoverflow.com/questions/17484764/java-lang-classnotfoundexception-com-mysql-jdbc-driver-in-eclipse\" title=\"java lang classnotfoundexception com mysql jdbc driver in eclipse\">stackoverflow.com/questions/17484764/&hellip;</a>"},{"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"score":0,"creation_date":1561374535,"post_id":56734786,"comment_id":100029321,"body_markdown":"I am using postgres, not mysql, so my link is &quot;org.postgres.Driver&quot;, and I have already added the driver jars to the project. What else can I do?","body":"I am using postgres, not mysql, so my link is &quot;org.postgres.Driver&quot;, and I have already added the driver jars to the project. What else can I do?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1581513794,"post_id":56734786,"comment_id":106459076,"body_markdown":"`java.sql.Driver` is part of the JDK, seems like your Java installation is broken","body":"<code>java.sql.Driver</code> is part of the JDK, seems like your Java installation is broken"},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1666988944,"post_id":56734786,"comment_id":131073037,"body_markdown":"NoClassDefFound indicates that the class was found but could not be initialised. Sounds like a URL or password problem, or the Tomcat server does not have access to the DB server.","body":"NoClassDefFound indicates that the class was found but could not be initialised. Sounds like a URL or password problem, or the Tomcat server does not have access to the DB server."}],"answers":[{"tags":[],"owner":{"account_id":2139570,"reputation":168,"user_id":1898593,"display_name":"tony-orlando"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589741348,"creation_date":1589741348,"answer_id":61857026,"question_id":56734786,"body_markdown":"I know this has nothing to do with Servlets, but I had the same problem with a module application that uses SQLite:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: java/sql/Driver\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:206)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:759)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:680)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:605)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\t...\r\n    Caused by: java.lang.ClassNotFoundException: java.sql.Driver\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 14 more\r\n\r\n\r\nA little puzzling at at first, but I finally figured it out.  I just had to add the *requires* statement for *java.sql* to the `module-info.java`:\r\n\r\n    module mymodule {\r\n        ...\r\n        requires sqlite.jdbc;\r\n        requires java.sql;\r\n    }\r\n\r\n(The *requires sqlite.jdbc* was already in there, added it above just for clarity)\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>I know this has nothing to do with Servlets, but I had the same problem with a module application that uses SQLite:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: java/sql/Driver\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:206)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:759)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassInModuleOrNull(BuiltinClassLoader.java:680)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:605)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:315)\n...\nCaused by: java.lang.ClassNotFoundException: java.sql.Driver\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 14 more\n</code></pre>\n\n<p>A little puzzling at at first, but I finally figured it out.  I just had to add the <em>requires</em> statement for <em>java.sql</em> to the <code>module-info.java</code>:</p>\n\n<pre><code>module mymodule {\n    ...\n    requires sqlite.jdbc;\n    requires java.sql;\n}\n</code></pre>\n\n<p>(The <em>requires sqlite.jdbc</em> was already in there, added it above just for clarity)</p>\n"},{"tags":[],"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666982708,"creation_date":1666982708,"answer_id":74239698,"question_id":56734786,"body_markdown":"If you are getting this problem while running Jetpack compose desktop app,\r\nconsider adding this line into `build.gradle.kts`\r\n\r\n```gradle\r\ncompose.desktop {\r\n    application {\r\n        // ..\r\n        nativeDistributions {\r\n            // ...\r\n            modules(&quot;java.sql&quot;)\r\n        }\r\n    }\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>If you are getting this problem while running Jetpack compose desktop app,\nconsider adding this line into <code>build.gradle.kts</code></p>\n<pre><code>compose.desktop {\n    application {\n        // ..\n        nativeDistributions {\n            // ...\n            modules(&quot;java.sql&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1549929,"reputation":4174,"user_id":1442571,"display_name":"Nantoka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686759037,"creation_date":1686759037,"answer_id":76475582,"question_id":56734786,"body_markdown":"For Kotlin Compose Multiplatform this seems to fall in the category &quot;It&#39;s a feature and not a bug&quot;. philoopher97 posted already the solution. \r\n\r\nSee [here][1] for a complete explanation including a hint on how to configure Proguard. \r\n\r\n\r\n  [1]: https://github.com/JetBrains/compose-multiplatform/issues/2668#issuecomment-1419178642","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>For Kotlin Compose Multiplatform this seems to fall in the category &quot;It's a feature and not a bug&quot;. philoopher97 posted already the solution.</p>\n<p>See <a href=\"https://github.com/JetBrains/compose-multiplatform/issues/2668#issuecomment-1419178642\" rel=\"nofollow noreferrer\">here</a> for a complete explanation including a hint on how to configure Proguard.</p>\n"}],"owner":{"account_id":16193589,"reputation":31,"user_id":11691760,"display_name":"Matteo Lunghi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4874,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1686759037,"creation_date":1561372570,"question_id":56734786,"body_markdown":"I am trying to build a login-registration web app which essentially lets users register on a database and then allows them to log in. I have written all the code, and I am trying to connect my program to my database. Here is the error I receive: \r\n\r\n    Exception\r\n    \r\n    javax.servlet.ServletException: Servlet execution threw an exception\r\n    \torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\r\n    Root Cause\r\n    \r\n    java.lang.NoClassDefFoundError: java/sql/Driver\r\n\r\nI have added all the Postgres, Tomcat, and SQL connector/driver jar to my `classpath` and my `WEB-INF/lib` folders. I am not really sure what else to do. I have tried testing with another class and I am able to connect to my database. I have triple check my connection URL as well. What&#39;s wrong?\r\n\r\nThanks!\r\n","title":"java.lang.NoClassDefFoundError: java/sql/Driver?","body":"<p>I am trying to build a login-registration web app which essentially lets users register on a database and then allows them to log in. I have written all the code, and I am trying to connect my program to my database. Here is the error I receive: </p>\n\n<pre><code>Exception\n\njavax.servlet.ServletException: Servlet execution threw an exception\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n\nRoot Cause\n\njava.lang.NoClassDefFoundError: java/sql/Driver\n</code></pre>\n\n<p>I have added all the Postgres, Tomcat, and SQL connector/driver jar to my <code>classpath</code> and my <code>WEB-INF/lib</code> folders. I am not really sure what else to do. I have tried testing with another class and I am able to connect to my database. I have triple check my connection URL as well. What's wrong?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","android","bluetooth","ime","soft-input-panel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686783431,"post_id":76475507,"comment_id":134848422,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2263582,"reputation":21,"user_id":1992976,"display_name":"Ney Candido"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686758949,"creation_date":1686758949,"answer_id":76475567,"question_id":76475507,"body_markdown":"Never mind folks, is my reconnecting routine that is totally idiot! I made the same function to connect and reconnect, so when you hide the keyboard it invokes the reconnect function and disconnects the device... OH MY!","title":"Keep Android 11 IME active in background","body":"<p>Never mind folks, is my reconnecting routine that is totally idiot! I made the same function to connect and reconnect, so when you hide the keyboard it invokes the reconnect function and disconnects the device... OH MY!</p>\n"}],"owner":{"account_id":2263582,"reputation":21,"user_id":1992976,"display_name":"Ney Candido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686758949,"creation_date":1686758558,"question_id":76475507,"body_markdown":"I developed a IME for Android that connects on bluetooth device and receive reading from it but still expose a conventional software keyboard. The problem is that if I hide the keyboard, the bluetooth device disconnects. \r\n\r\nI made it reconnect automatically when the keyboard is displayed again. But I what want is that even if keyboard is hidden my device still able to send data to app. This is possible?","title":"Keep Android 11 IME active in background","body":"<p>I developed a IME for Android that connects on bluetooth device and receive reading from it but still expose a conventional software keyboard. The problem is that if I hide the keyboard, the bluetooth device disconnects.</p>\n<p>I made it reconnect automatically when the keyboard is displayed again. But I what want is that even if keyboard is hidden my device still able to send data to app. This is possible?</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686758611,"creation_date":1686758611,"answer_id":76475512,"question_id":76475435,"body_markdown":"It looks like you are missing this option on that `Files.splitter()`:\r\n\r\n\t/**\r\n\t * Specify the header name for the first line to be carried as a header in the\r\n\t * messages emitted for the remaining lines.\r\n\t * @param firstLineHeaderName the header name to carry first line.\r\n\t * @return the FileSplitterSpec\r\n\t */\r\n\tpublic FileSplitterSpec firstLineAsHeader(String firstLineHeaderName) {\r\n\r\nThe `org.springframework.integration.file.splitter.FileSplitter$FileMarker` error is not possible if you don&#39;t use `markers = true` for that `FileSplitter`.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter","title":"Transform InputStream into Object, then Object into Json","body":"<p>It looks like you are missing this option on that <code>Files.splitter()</code>:</p>\n<pre><code>/**\n * Specify the header name for the first line to be carried as a header in the\n * messages emitted for the remaining lines.\n * @param firstLineHeaderName the header name to carry first line.\n * @return the FileSplitterSpec\n */\npublic FileSplitterSpec firstLineAsHeader(String firstLineHeaderName) {\n</code></pre>\n<p>The <code>org.springframework.integration.file.splitter.FileSplitter$FileMarker</code> error is not possible if you don't use <code>markers = true</code> for that <code>FileSplitter</code>.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/file.html#file-splitter</a></p>\n"}],"owner":{"account_id":7715174,"reputation":31,"user_id":20444450,"display_name":"Beez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76475512,"answer_count":1,"score":0,"last_activity_date":1686758611,"creation_date":1686758068,"question_id":76475435,"body_markdown":"I am reading in an InputStream from an `Sftp.inboundStreamingAdapter` that stream is passed to a message channel that this flow reads from and tries to convert the stream (which is a .csv) into an object, and then for the secondary transformation it should convert that object into json. The problem is the header file (I think). The csv looks like this the screenshot below. My object uses the headers to map to my object, but since I am splitting the file up by each line in the file I believe that causes the error. I&#39;m assuming this isn&#39;t the correct approach to this problem, any help would be much appreciated.\r\n\r\n\r\n[![Sample Csv][1]][1]\r\n\r\n    @Bean\r\n    public IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\r\n                                           QueueChannel kafkaPojoMessageChannel) {\r\n\r\n        return IntegrationFlow.from(inboundFilesMessageChannel)\r\n                              .split(Files.splitter())\r\n                              .transform(new StreamToMyObject) // TODO: Turn InputStream to MyObject Object\r\n                              .transform(new ObjectToJsonTransformer())\r\n                              .log(LoggingHandler.Level.DEBUG,\r\n                                   &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\r\n                                   m -&gt; &quot;Payload: &quot; + m.getPayload())\r\n                              .channel(kafkaPojoMessageChannel)\r\n                              .get();\r\n    }\r\n\r\nI have tried creating my own custom InputStreamToObject Transformers, but I have came up short, my latest attempt I used an `ObjectInputStream` and have tried to use the ois.readFrom(inputStream) method to convert it into my ObjectClass using something like this, and adding the StreamToObject class in the first transformer. \r\n\r\n```\r\npublic class StreamToMyObjectConverter implements GenericTransformer&lt;InputStream, MyObject&gt; {\r\n    @Override\r\n    public MyObject transform(InputStream inputStream) {\r\n        try (ObjectInputStream ois = new ObjectInputStream(inputStream)){\r\n            return (MyObject) ois.readObject();\r\n        }\r\n        catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\nObject: Which is generated by jsonschema2pojo.\r\n\r\nI think the issue is I can&#39;t map to the object from the stream because of the headers. I&#39;m not sure if this is the best approach. Any suggestions would be much appreciated.\r\n\r\n```\r\n@JsonInclude(Include.NON_NULL)\r\n@JsonPropertyOrder({&quot;email&quot;, &quot;RECIPIENT_ID&quot;, &quot;ENCODED_RECIPIENT_ID&quot;, &quot;contactId&quot;, &quot;code&quot;, &quot;messageId&quot;, &quot;userAgent&quot;, &quot;messageName&quot;, &quot;mailingTemplateId&quot;, &quot;subjectLine&quot;, &quot;docType&quot;, &quot;reportId&quot;, &quot;sendType&quot;, &quot;bounceType&quot;, &quot;urlDescription&quot;, &quot;clickUrl&quot;, &quot;optOutDetails&quot;, &quot;messageGroupId&quot;, &quot;programId&quot;, &quot;timestamp&quot;, &quot;originatedFrom&quot;, &quot;eventId&quot;, &quot;externalSystemName&quot;, &quot;externalSystemReferenceId&quot;, &quot;trackingCode&quot;})\r\npublic class MyObject {\r\n    @JsonProperty(&quot;email&quot;)\r\n    private String email;\r\n    @JsonProperty(&quot;RECIPIENT_ID&quot;)\r\n    private String recipientId;\r\n    @JsonProperty(&quot;ENCODED_RECIPIENT_ID&quot;)\r\n    private String encodedRecipientId;\r\n    @JsonProperty(&quot;contactId&quot;)\r\n    private String contactId;\r\n    @JsonProperty(&quot;code&quot;)\r\n    private String code;\r\n    @JsonProperty(&quot;messageId&quot;)\r\n    private String messageId;\r\n    @JsonProperty(&quot;userAgent&quot;)\r\n    private String userAgent;\r\n    @JsonProperty(&quot;messageName&quot;)\r\n    private String messageName;\r\n    @JsonProperty(&quot;mailingTemplateId&quot;)\r\n    private String mailingTemplateId;\r\n    @JsonProperty(&quot;subjectLine&quot;)\r\n    private String subjectLine;\r\n    @JsonProperty(&quot;docType&quot;)\r\n    private String docType;\r\n    @JsonProperty(&quot;reportId&quot;)\r\n    private String reportId;\r\n    @JsonProperty(&quot;sendType&quot;)\r\n    private String sendType;\r\n    @JsonProperty(&quot;bounceType&quot;)\r\n    private String bounceType;\r\n    @JsonProperty(&quot;urlDescription&quot;)\r\n    private String urlDescription;\r\n    @JsonProperty(&quot;clickUrl&quot;)\r\n    private String clickUrl;\r\n    @JsonProperty(&quot;optOutDetails&quot;)\r\n    private String optOutDetails;\r\n    @JsonProperty(&quot;messageGroupId&quot;)\r\n    private String messageGroupId;\r\n    @JsonProperty(&quot;programId&quot;)\r\n    private String programId;\r\n    @JsonProperty(&quot;timestamp&quot;)\r\n    private String timestamp;\r\n    @JsonProperty(&quot;originatedFrom&quot;)\r\n    private String originatedFrom;\r\n    @JsonProperty(&quot;eventId&quot;)\r\n    private String eventId;\r\n    @JsonProperty(&quot;externalSystemName&quot;)\r\n    private String externalSystemName;\r\n    @JsonProperty(&quot;externalSystemReferenceId&quot;)\r\n    private String externalSystemReferenceId;\r\n    @JsonProperty(&quot;trackingCode&quot;)\r\n    private String trackingCode;\r\n}\r\n\r\n```\r\nStackTrace:\r\n\r\n```\r\nCaused by: org.springframework.messaging.MessageHandlingException: error occurred during processing message in &#39;MethodInvokingMessageProcessor&#39; [org.springframework.integration.handler.MethodInvokingMessageProcessor@5f2f9a4d], failedMessage=GenericMessage [payload=FileMarker [filePath=/downloaddummy_acoustic.csv, mark=START], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686691008000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:1250}, file_remoteDirectory=/download, id=ca7bd14f-6967-0040-4f56-e63c715ae1c5, file_marker=START, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4e9ca373, file_remoteFile=dummy_acoustic.csv, timestamp=1686758001364}]\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:117)\r\n\tat org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\r\n\tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\r\n\t... 42 more\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method transform(org.springframework.integration.file.splitter.FileSplitter$FileMarker) cannot be found on type com.thrivent.enterprisemarketingchannelactivation.engage.converter.StreamToEmailInteractionConverter\r\n\tat org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:225)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\r\n\tat org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:380)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:119)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\r\n\tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\r\n\tat org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:611)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:604)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:590)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:561)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:476)\r\n\tat org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:354)\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:114)\r\n\t... 44 more\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3peq.png","title":"Transform InputStream into Object, then Object into Json","body":"<p>I am reading in an InputStream from an <code>Sftp.inboundStreamingAdapter</code> that stream is passed to a message channel that this flow reads from and tries to convert the stream (which is a .csv) into an object, and then for the secondary transformation it should convert that object into json. The problem is the header file (I think). The csv looks like this the screenshot below. My object uses the headers to map to my object, but since I am splitting the file up by each line in the file I believe that causes the error. I'm assuming this isn't the correct approach to this problem, any help would be much appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/r3peq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3peq.png\" alt=\"Sample Csv\" /></a></p>\n<pre><code>@Bean\npublic IntegrationFlow readCsvFileFlow(MessageChannel inboundFilesMessageChannel,\n                                       QueueChannel kafkaPojoMessageChannel) {\n\n    return IntegrationFlow.from(inboundFilesMessageChannel)\n                          .split(Files.splitter())\n                          .transform(new StreamToMyObject) // TODO: Turn InputStream to MyObject Object\n                          .transform(new ObjectToJsonTransformer())\n                          .log(LoggingHandler.Level.DEBUG,\n                               &quot;AcousticEngageDataSftpToKafkaIntegrationFlow&quot;,\n                               m -&gt; &quot;Payload: &quot; + m.getPayload())\n                          .channel(kafkaPojoMessageChannel)\n                          .get();\n}\n</code></pre>\n<p>I have tried creating my own custom InputStreamToObject Transformers, but I have came up short, my latest attempt I used an <code>ObjectInputStream</code> and have tried to use the ois.readFrom(inputStream) method to convert it into my ObjectClass using something like this, and adding the StreamToObject class in the first transformer.</p>\n<pre><code>public class StreamToMyObjectConverter implements GenericTransformer&lt;InputStream, MyObject&gt; {\n    @Override\n    public MyObject transform(InputStream inputStream) {\n        try (ObjectInputStream ois = new ObjectInputStream(inputStream)){\n            return (MyObject) ois.readObject();\n        }\n        catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>Object: Which is generated by jsonschema2pojo.</p>\n<p>I think the issue is I can't map to the object from the stream because of the headers. I'm not sure if this is the best approach. Any suggestions would be much appreciated.</p>\n<pre><code>@JsonInclude(Include.NON_NULL)\n@JsonPropertyOrder({&quot;email&quot;, &quot;RECIPIENT_ID&quot;, &quot;ENCODED_RECIPIENT_ID&quot;, &quot;contactId&quot;, &quot;code&quot;, &quot;messageId&quot;, &quot;userAgent&quot;, &quot;messageName&quot;, &quot;mailingTemplateId&quot;, &quot;subjectLine&quot;, &quot;docType&quot;, &quot;reportId&quot;, &quot;sendType&quot;, &quot;bounceType&quot;, &quot;urlDescription&quot;, &quot;clickUrl&quot;, &quot;optOutDetails&quot;, &quot;messageGroupId&quot;, &quot;programId&quot;, &quot;timestamp&quot;, &quot;originatedFrom&quot;, &quot;eventId&quot;, &quot;externalSystemName&quot;, &quot;externalSystemReferenceId&quot;, &quot;trackingCode&quot;})\npublic class MyObject {\n    @JsonProperty(&quot;email&quot;)\n    private String email;\n    @JsonProperty(&quot;RECIPIENT_ID&quot;)\n    private String recipientId;\n    @JsonProperty(&quot;ENCODED_RECIPIENT_ID&quot;)\n    private String encodedRecipientId;\n    @JsonProperty(&quot;contactId&quot;)\n    private String contactId;\n    @JsonProperty(&quot;code&quot;)\n    private String code;\n    @JsonProperty(&quot;messageId&quot;)\n    private String messageId;\n    @JsonProperty(&quot;userAgent&quot;)\n    private String userAgent;\n    @JsonProperty(&quot;messageName&quot;)\n    private String messageName;\n    @JsonProperty(&quot;mailingTemplateId&quot;)\n    private String mailingTemplateId;\n    @JsonProperty(&quot;subjectLine&quot;)\n    private String subjectLine;\n    @JsonProperty(&quot;docType&quot;)\n    private String docType;\n    @JsonProperty(&quot;reportId&quot;)\n    private String reportId;\n    @JsonProperty(&quot;sendType&quot;)\n    private String sendType;\n    @JsonProperty(&quot;bounceType&quot;)\n    private String bounceType;\n    @JsonProperty(&quot;urlDescription&quot;)\n    private String urlDescription;\n    @JsonProperty(&quot;clickUrl&quot;)\n    private String clickUrl;\n    @JsonProperty(&quot;optOutDetails&quot;)\n    private String optOutDetails;\n    @JsonProperty(&quot;messageGroupId&quot;)\n    private String messageGroupId;\n    @JsonProperty(&quot;programId&quot;)\n    private String programId;\n    @JsonProperty(&quot;timestamp&quot;)\n    private String timestamp;\n    @JsonProperty(&quot;originatedFrom&quot;)\n    private String originatedFrom;\n    @JsonProperty(&quot;eventId&quot;)\n    private String eventId;\n    @JsonProperty(&quot;externalSystemName&quot;)\n    private String externalSystemName;\n    @JsonProperty(&quot;externalSystemReferenceId&quot;)\n    private String externalSystemReferenceId;\n    @JsonProperty(&quot;trackingCode&quot;)\n    private String trackingCode;\n}\n\n</code></pre>\n<p>StackTrace:</p>\n<pre><code>Caused by: org.springframework.messaging.MessageHandlingException: error occurred during processing message in 'MethodInvokingMessageProcessor' [org.springframework.integration.handler.MethodInvokingMessageProcessor@5f2f9a4d], failedMessage=GenericMessage [payload=FileMarker [filePath=/downloaddummy_acoustic.csv, mark=START], headers={file_remoteHostPort=transfer-campaign-us-2.goacoustic.com:22, file_remoteFileInfo={&quot;directory&quot;:false,&quot;filename&quot;:&quot;dummy_acoustic.csv&quot;,&quot;link&quot;:false,&quot;modified&quot;:1686691008000,&quot;permissions&quot;:&quot;rw-r-----&quot;,&quot;remoteDirectory&quot;:&quot;/download&quot;,&quot;size&quot;:1250}, file_remoteDirectory=/download, id=ca7bd14f-6967-0040-4f56-e63c715ae1c5, file_marker=START, closeableResource=org.springframework.integration.file.remote.session.CachingSessionFactory$CachedSession@4e9ca373, file_remoteFile=dummy_acoustic.csv, timestamp=1686758001364}]\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191)\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:117)\n    at org.springframework.integration.transformer.AbstractMessageProcessingTransformer.transform(AbstractMessageProcessingTransformer.java:115)\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:119)\n    ... 42 more\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method transform(org.springframework.integration.file.splitter.FileSplitter$FileMarker) cannot be found on type com.thrivent.enterprisemarketingchannelactivation.engage.converter.StreamToEmailInteractionConverter\n    at org.springframework.expression.spel.ast.MethodReference.findAccessorForMethod(MethodReference.java:225)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:135)\n    at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:380)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:93)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:119)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:376)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:169)\n    at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:154)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:611)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:604)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:590)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:561)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:476)\n    at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:354)\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:114)\n    ... 44 more\n\n</code></pre>\n"},{"tags":["java","json","api","azure-functions","content-type"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686758183,"creation_date":1686758183,"answer_id":76475457,"question_id":76475157,"body_markdown":"You were nearly there: in HTTP there are separated headers for request and response, and you tried to add a request header instead of a response header.\r\n\r\nTry this in your last statement:\r\n``` lang-java\r\nreturn request.createResponseBuilder(HttpStatus.OK).header(&quot;Content-Type&quot;, &quot;application/json&quot;).body(orders).build();\r\n```","title":"Setting the Content-Type to application/json in a Java Azure Function","body":"<p>You were nearly there: in HTTP there are separated headers for request and response, and you tried to add a request header instead of a response header.</p>\n<p>Try this in your last statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return request.createResponseBuilder(HttpStatus.OK).header(&quot;Content-Type&quot;, &quot;application/json&quot;).body(orders).build();\n</code></pre>\n"}],"owner":{"account_id":10592686,"reputation":5,"user_id":7802665,"display_name":"Fra_Di_Rienzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76475457,"answer_count":1,"score":0,"last_activity_date":1686758183,"creation_date":1686756162,"question_id":76475157,"body_markdown":"I have developed a Java Azure function that is triggered by an HTTP Request, performs a query to CosmosDB, and return the retrieved data to the caller (front end). The problem is that the Content-Type of the Azure Function is plain text instead of application/json.\r\n\r\nthis is the code of my azure function:\r\n\r\n```\r\n@FunctionName(&quot;backorders&quot;)\r\n    public HttpResponseMessage run(\r\n            @HttpTrigger(\r\n                name = &quot;req&quot;,\r\n                methods = {HttpMethod.GET},\r\n                authLevel = AuthorizationLevel.ANONYMOUS)\r\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n            final ExecutionContext context) {\r\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\r\n        try{     \r\n            createConnection();\r\n        } catch (Exception e){\r\n            System.out.println(&quot;An error occured when connecting to the DB&quot;);\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when connecting to the DB&quot;).build();\r\n        }\r\n        ArrayList&lt;String&gt; supplyPlannerIds = new ArrayList&lt;&gt;();\r\n        try{\r\n            Map&lt;String,String&gt; headers = request.getQueryParameters();\r\n            System.out.println(headers.values());\r\n            String param = headers.getOrDefault(&quot;spids&quot;, &quot;&quot;);\r\n            if(param.equals(&quot;&quot;)){\r\n                System.out.println(&quot;The list of Supply Planner IDs can not be empty&quot;);\r\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;The list of Supply Planner IDs can not be empty&quot;).build();\r\n            } else {\r\n                System.out.println(&quot;Parsing the request body&quot;);\r\n                supplyPlannerIds = new ArrayList&lt;String&gt;(Arrays.asList(param.split(&quot;,&quot;)));\r\n            }\r\n        } catch (Exception e){\r\n            System.out.println(&quot;An error occured when fetching the SupplyPlannerIds&quot;);\r\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when retrieving the list of SupplyPlannerIds from the request&quot;).build();\r\n        }\r\n        BackorderListRepo orderRepo = new BackorderListRepo(container, supplyPlannerIds);\r\n        ArrayList&lt;Backorder&gt; orders = orderRepo.retrieveBackorders();\r\n        //String json = new Gson().toJson(orders);\r\n        return request.createResponseBuilder(HttpStatus.OK).body(orders).build();   \r\n    }\r\n```\r\n\r\nthis is my local.settings.json:\r\n\r\n```\r\n{\r\n  &quot;IsEncrypted&quot;: false,\r\n  &quot;Values&quot;: {\r\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\r\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;\r\n  }\r\n}\r\n```\r\n\r\nthis is my host.json\r\n\r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\r\n  } \r\n}\r\n```\r\n\r\nin particular when I call it using Postman this is what I get \r\n[postman call][1]\r\n\r\n\r\nI tried the following line of code but it didn&#39;t work\r\n`String json = new Gson().toJson(orders);`\r\n\r\nI also tried the following but it didn&#39;t work\r\n`request.getHeaders().put(&quot;content-type&quot;, &quot;application/json&quot;);`\r\n\r\nthanks a lot in advance for your appreciated help :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fHhe1.png","title":"Setting the Content-Type to application/json in a Java Azure Function","body":"<p>I have developed a Java Azure function that is triggered by an HTTP Request, performs a query to CosmosDB, and return the retrieved data to the caller (front end). The problem is that the Content-Type of the Azure Function is plain text instead of application/json.</p>\n<p>this is the code of my azure function:</p>\n<pre><code>@FunctionName(&quot;backorders&quot;)\n    public HttpResponseMessage run(\n            @HttpTrigger(\n                name = &quot;req&quot;,\n                methods = {HttpMethod.GET},\n                authLevel = AuthorizationLevel.ANONYMOUS)\n                HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n            final ExecutionContext context) {\n        context.getLogger().info(&quot;Java HTTP trigger processed a request.&quot;);\n        try{     \n            createConnection();\n        } catch (Exception e){\n            System.out.println(&quot;An error occured when connecting to the DB&quot;);\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when connecting to the DB&quot;).build();\n        }\n        ArrayList&lt;String&gt; supplyPlannerIds = new ArrayList&lt;&gt;();\n        try{\n            Map&lt;String,String&gt; headers = request.getQueryParameters();\n            System.out.println(headers.values());\n            String param = headers.getOrDefault(&quot;spids&quot;, &quot;&quot;);\n            if(param.equals(&quot;&quot;)){\n                System.out.println(&quot;The list of Supply Planner IDs can not be empty&quot;);\n                return request.createResponseBuilder(HttpStatus.BAD_REQUEST).body(&quot;The list of Supply Planner IDs can not be empty&quot;).build();\n            } else {\n                System.out.println(&quot;Parsing the request body&quot;);\n                supplyPlannerIds = new ArrayList&lt;String&gt;(Arrays.asList(param.split(&quot;,&quot;)));\n            }\n        } catch (Exception e){\n            System.out.println(&quot;An error occured when fetching the SupplyPlannerIds&quot;);\n            return request.createResponseBuilder(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occured when retrieving the list of SupplyPlannerIds from the request&quot;).build();\n        }\n        BackorderListRepo orderRepo = new BackorderListRepo(container, supplyPlannerIds);\n        ArrayList&lt;Backorder&gt; orders = orderRepo.retrieveBackorders();\n        //String json = new Gson().toJson(orders);\n        return request.createResponseBuilder(HttpStatus.OK).body(orders).build();   \n    }\n</code></pre>\n<p>this is my local.settings.json:</p>\n<pre><code>{\n  &quot;IsEncrypted&quot;: false,\n  &quot;Values&quot;: {\n    &quot;AzureWebJobsStorage&quot;: &quot;&quot;,\n    &quot;FUNCTIONS_WORKER_RUNTIME&quot;: &quot;java&quot;\n  }\n}\n</code></pre>\n<p>this is my host.json</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[3.*, 4.0.0)&quot;\n  } \n}\n</code></pre>\n<p>in particular when I call it using Postman this is what I get\n<a href=\"https://i.stack.imgur.com/fHhe1.png\" rel=\"nofollow noreferrer\">postman call</a></p>\n<p>I tried the following line of code but it didn't work\n<code>String json = new Gson().toJson(orders);</code></p>\n<p>I also tried the following but it didn't work\n<code>request.getHeaders().put(&quot;content-type&quot;, &quot;application/json&quot;);</code></p>\n<p>thanks a lot in advance for your appreciated help :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1686742757,"post_id":76473016,"comment_id":134840274,"body_markdown":"@aled when I wrap t1.wait with a synchronized keyword it never waits.","body":"@aled when I wrap t1.wait with a synchronized keyword it never waits."},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1686743173,"post_id":76473016,"comment_id":134840387,"body_markdown":"It seems like you do not understand the concept of wait/notify methods, more details here - https://stackoverflow.com/questions/2536692/a-simple-scenario-using-wait-and-notify-in-java . Also would be great to know the whole scenario of your program to be able to advice you a proper solution.","body":"It seems like you do not understand the concept of wait/notify methods, more details here - <a href=\"https://stackoverflow.com/questions/2536692/a-simple-scenario-using-wait-and-notify-in-java\" title=\"a simple scenario using wait and notify in java\">stackoverflow.com/questions/2536692/&hellip;</a> . Also would be great to know the whole scenario of your program to be able to advice you a proper solution."}],"answers":[{"comments":[{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1686742810,"post_id":76473102,"comment_id":134840285,"body_markdown":"When synchronized keyword is used it never runs t1.wait(). And t1.sleep(10_000L) has no effect.","body":"When synchronized keyword is used it never runs t1.wait(). And t1.sleep(10_000L) has no effect."}],"tags":[],"owner":{"account_id":16042704,"reputation":1,"user_id":11578739,"display_name":"hyz"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1686742554,"creation_date":1686742554,"answer_id":76473102,"question_id":76473016,"body_markdown":"1. Object.wait() use in conjunction with synchronzed. \r\n2. by Thread.sleep(long millis)","title":"How can I pause a runnable or a thread in Java?","body":"<ol>\n<li>Object.wait() use in conjunction with synchronzed.</li>\n<li>by Thread.sleep(long millis)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686758025,"creation_date":1686743288,"answer_id":76473207,"question_id":76473016,"body_markdown":"The methods wait and notify need to be used inside of synchronized methods or blocks, where they&#39;re called on the object whose intrinsic lock is being held. Entering the synchronized block gives a thread the chance to check the state of the object without interference from other threads, so that it can decide whether it needs to wait. \r\n\r\nThe wait/notify mechanism has a lot of assumptions baked into it and is pretty involved, for details see the Java concurrency tutorial. In particular there is lots of good information in\r\nhttps://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html. but it sounds like it&#39;s too complicated for what you want. \r\n\r\nIf you want to pause for a fixed amount of time, have the pausing thread use Thread.sleep. sleep is a static method that always affects the current thread, you can&#39;t use it to put another thread to sleep.  If you could, that would be a security issue; malicious code could suppress other threads.\r\n\r\nIf you want the thread to pause until some other thread tells it it can go, CountdownLatch is a simpler alternative.","title":"How can I pause a runnable or a thread in Java?","body":"<p>The methods wait and notify need to be used inside of synchronized methods or blocks, where they're called on the object whose intrinsic lock is being held. Entering the synchronized block gives a thread the chance to check the state of the object without interference from other threads, so that it can decide whether it needs to wait.</p>\n<p>The wait/notify mechanism has a lot of assumptions baked into it and is pretty involved, for details see the Java concurrency tutorial. In particular there is lots of good information in\n<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html</a>. but it sounds like it's too complicated for what you want.</p>\n<p>If you want to pause for a fixed amount of time, have the pausing thread use Thread.sleep. sleep is a static method that always affects the current thread, you can't use it to put another thread to sleep.  If you could, that would be a security issue; malicious code could suppress other threads.</p>\n<p>If you want the thread to pause until some other thread tells it it can go, CountdownLatch is a simpler alternative.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686743721,"post_id":76473220,"comment_id":134840532,"body_markdown":"Which thread calls `wait()` is irrelevant. The salient fact is that there is no `synchronized` block around the `wait()`.","body":"Which thread calls <code>wait()</code> is irrelevant. The salient fact is that there is no <code>synchronized</code> block around the <code>wait()</code>."}],"tags":[],"owner":{"account_id":11051358,"reputation":9,"user_id":8115698,"display_name":"lu kevin"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686744309,"creation_date":1686743394,"answer_id":76473220,"question_id":76473016,"body_markdown":"\r\nIf you want to change your task state, the better way is to design a FSM (Finite State Machine), that means :\r\n1) set task default state, `false` for example\r\n2) change it to `true` when you call t1.start()\r\n3) change it to `false` when you wanna stop it\r\n\r\nsomething like below\r\n\r\n    private AtomicBoolean running = new AtomicBoolean(false);\r\n\r\n    @Override\r\n    public void run() {\r\n        final boolean success = running.compareAndSet(false, true);\r\n        if (! success) {\r\n            throw new IllegalStateException(&quot;xxxxx&quot;);\r\n        }\r\n        while (running.get()) {\r\n            System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\r\n            try {\r\n                Thread.sleep(1_000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void stop()  {\r\n        if (! running.compareAndSet(true, false)) {\r\n            throw new IllegalStateException(&quot;stop task failure.&quot;);\r\n        }\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        FootballRunner footballRunner = new FootballRunner();\r\n        Thread t1 = new Thread(footballRunner, &quot;one&quot;);\r\n        t1.start();\r\n        // sleep for a while to wait t1 start\r\n        Thread.sleep(100);\r\n        footballRunner.stop();\r\n    }\r\n\r\n","title":"How can I pause a runnable or a thread in Java?","body":"<p>If you want to change your task state, the better way is to design a FSM (Finite State Machine), that means :</p>\n<ol>\n<li>set task default state, <code>false</code> for example</li>\n<li>change it to <code>true</code> when you call t1.start()</li>\n<li>change it to <code>false</code> when you wanna stop it</li>\n</ol>\n<p>something like below</p>\n<pre><code>private AtomicBoolean running = new AtomicBoolean(false);\n\n@Override\npublic void run() {\n    final boolean success = running.compareAndSet(false, true);\n    if (! success) {\n        throw new IllegalStateException(&quot;xxxxx&quot;);\n    }\n    while (running.get()) {\n        System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\n        try {\n            Thread.sleep(1_000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\npublic void stop()  {\n    if (! running.compareAndSet(true, false)) {\n        throw new IllegalStateException(&quot;stop task failure.&quot;);\n    }\n}\n\n\npublic static void main(String[] args) throws InterruptedException {\n    FootballRunner footballRunner = new FootballRunner();\n    Thread t1 = new Thread(footballRunner, &quot;one&quot;);\n    t1.start();\n    // sleep for a while to wait t1 start\n    Thread.sleep(100);\n    footballRunner.stop();\n}\n</code></pre>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1686743650,"answer_count":3,"score":1,"last_activity_date":1686758025,"creation_date":1686741923,"question_id":76473016,"body_markdown":"I have `Runnable` class:\r\n\r\n    package com.example.testtest;\r\n    \r\n    public class FootballRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            while (true) {\r\n                System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\r\n                try {\r\n                    Thread.sleep(1_000);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nand have the main class:\r\n\r\n    package com.example.testtest;\r\n    \r\n    public class TestScheduling {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            FootballRunner footballRunner = new FootballRunner();\r\n            Thread t1 = new Thread(footballRunner, &quot;one&quot;);\r\n            t1.start();\r\n            t1.wait();\r\n        }\r\n    }\r\n\r\n\r\nbut when I try to make it wait it throws an exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner\r\n    \tat java.base/java.lang.Object.wait(Native Method)\r\n    \tat java.base/java.lang.Object.wait(Object.java:338)\r\n    \tat com.example.testtest.TestScheduling.main(TestScheduling.java:8)\r\n\r\nWhat does &quot;current thread is not owner&quot; mean? How I can make `t1` to pause?","title":"How can I pause a runnable or a thread in Java?","body":"<p>I have <code>Runnable</code> class:</p>\n<pre><code>package com.example.testtest;\n\npublic class FootballRunner implements Runnable {\n    @Override\n    public void run() {\n        while (true) {\n            System.out.println(&quot;Running &quot; + Thread.currentThread().getId() + &quot; &quot; + Math.random());\n            try {\n                Thread.sleep(1_000);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and have the main class:</p>\n<pre><code>package com.example.testtest;\n\npublic class TestScheduling {\n    public static void main(String[] args) throws InterruptedException {\n        FootballRunner footballRunner = new FootballRunner();\n        Thread t1 = new Thread(footballRunner, &quot;one&quot;);\n        t1.start();\n        t1.wait();\n    }\n}\n</code></pre>\n<p>but when I try to make it wait it throws an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalMonitorStateException: current thread is not owner\n    at java.base/java.lang.Object.wait(Native Method)\n    at java.base/java.lang.Object.wait(Object.java:338)\n    at com.example.testtest.TestScheduling.main(TestScheduling.java:8)\n</code></pre>\n<p>What does &quot;current thread is not owner&quot; mean? How I can make <code>t1</code> to pause?</p>\n"},{"tags":["java","javafx","textarea","listener"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1686664407,"post_id":76465547,"comment_id":134828034,"body_markdown":"You have already outlined a possible solution. I am not sure where exactly you see a problem.","body":"You have already outlined a possible solution. I am not sure where exactly you see a problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1686666412,"post_id":76465547,"comment_id":134828505,"body_markdown":"*but the problem is, that it detects a change every time the Notes Text Area is updated.* - not understanding why that is a problem? Just keep setting the variable to &quot;true&quot; every time a change is made. You only need to test the variable when the user invokes a action that requires the text area to be saved.","body":"<i>but the problem is, that it detects a change every time the Notes Text Area is updated.</i> - not understanding why that is a problem? Just keep setting the variable to &quot;true&quot; every time a change is made. You only need to test the variable when the user invokes a action that requires the text area to be saved."},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686668401,"post_id":76465547,"comment_id":134829062,"body_markdown":"@camickr The problem is, that a change is detetected even though just the relevant note is loaded. There should only be a detection of a change if the text is in the note text area is manually changed by the user.","body":"@camickr The problem is, that a change is detetected even though just the relevant note is loaded. There should only be a detection of a change if the text is in the note text area is manually changed by the user."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1686671617,"post_id":76465547,"comment_id":134829858,"body_markdown":"So you need to add your &quot;change listener&quot; AFTER the code is loaded. Or you need to reset the boolean variable to false AFTER the code is loaded. Can&#39;t give any more specific advice because we don&#39;t know what GUI toolkit you are using.","body":"So you need to add your &quot;change listener&quot; AFTER the code is loaded. Or you need to reset the boolean variable to false AFTER the code is loaded. Can&#39;t give any more specific advice because we don&#39;t know what GUI toolkit you are using."},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686675561,"post_id":76465547,"comment_id":134830710,"body_markdown":"I tried but it is not working. I am using JavaFX.","body":"I tried but it is not working. I am using JavaFX."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1686689805,"post_id":76465547,"comment_id":134833348,"body_markdown":"I don&#39;t use JavaFX so I can&#39;t help. Post an [mre] demonstrating the problem for others to see what you are doing.","body":"I don&#39;t use JavaFX so I can&#39;t help. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem for others to see what you are doing."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686732579,"post_id":76465547,"comment_id":134838244,"body_markdown":"show code its easier to help / fix problem","body":"show code its easier to help / fix problem"},{"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"score":0,"creation_date":1686734372,"post_id":76465547,"comment_id":134838601,"body_markdown":"@Anon I have added code to my question.","body":"@Anon I have added code to my question."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686754256,"post_id":76465547,"comment_id":134843153,"body_markdown":"the method you added has nothing to do with saving its only retrieving info?","body":"the method you added has nothing to do with saving its only retrieving info?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1686755801,"post_id":76465547,"comment_id":134843499,"body_markdown":"The code you posted doesn&#39;t seem to have anything at all to do with the problem you describe. Please post a [mre] as requested. I don&#39;t see a way this question can be answered without one.","body":"The code you posted doesn&#39;t seem to have anything at all to do with the problem you describe. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as requested. I don&#39;t see a way this question can be answered without one."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686757961,"creation_date":1686756928,"answer_id":76475270,"question_id":76465547,"body_markdown":"My guess is that you are looking for `primaryStage.setOnCloseRequest`. Here is an example app. This app uses the `Button&#39;s` style to determine if a save needs to happen. You may choose to use a variable/property.\r\n\r\n\r\n----------\r\n\r\n\r\n**Main**\r\n```\r\nimport java.util.Optional;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n    String originalText;\r\n    \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btnSave = new Button(&quot;Save&quot;);\r\n        btnSave.setOnAction(event -&gt; System.out.println(&quot;Saving text!!!&quot;));\r\n        \r\n        originalText = loadOriginalText();        \r\n        TextArea textArea = new TextArea(originalText);\r\n        textArea.setWrapText(true);\r\n        textArea.textProperty().addListener((obs, oldText, newText) -&gt;{\r\n            if(newText != null)\r\n            {\r\n                if(!originalText.equals(newText))\r\n                {\r\n                    btnSave.setStyle(&quot;-fx-border-color: red;&quot;);\r\n                }\r\n                else\r\n                {\r\n                    btnSave.setStyle(null);\r\n                }                \r\n            }\r\n        });        \r\n        \r\n        VBox root = new VBox(new StackPane(textArea), new StackPane(btnSave));\r\n        Scene scene = new Scene(root, 500, 500);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\r\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\r\n            {\r\n                Alert alert = new Alert(AlertType.CONFIRMATION);\r\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\r\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\r\n                alert.setContentText(&quot;Press &#39;Ok&#39; to close the app with save. Press &#39;Cancel&#39; to close the app with out save.&quot;);\r\n\r\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n                if (result.get() == ButtonType.OK)\r\n                {\r\n                   btnSave.fire();\r\n                   \r\n                } \r\n                \r\n                Platform.exit();\r\n            }\r\n        });        \r\n    }\r\n    \r\n    public String loadOriginalText()\r\n    {\r\n        return &quot;&quot;&quot;\r\n               Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&#39;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n               &quot;&quot;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n**Note: Doing this in `FXML` will require the `Main` have access to the save `Button`. This is something I would do in the `Main` using ideas from [MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) or [passing parameters](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml). The code below does not work as-is. I freestyle it without an IDE.**\r\n\r\nbasically something like\r\n\r\n```\r\nimport java.util.Optional;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Alert;\r\nimport javafx.scene.control.Alert.AlertType;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonType;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class App extends Application {\r\n    Button btnSave;\r\n    \r\n    public static void main(String[] args) {\r\n        App.launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        \r\n        FXMLLoader yourControllerLoader = new FXMLLoader(getClass().getResource(&quot;yourfxml.fxml&quot;));\r\n        YourFxmlRootNodeType fxmlRoot = yourControllerLoader.load();\r\n        YourController yourController = yourControllerLoader.getController();\r\n        \r\n        Button btnSave = yourController.getSaveButton();        \r\n        \r\n        Scene scene = new Scene(fxmlRoot, 500, 500);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n        \r\n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\r\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\r\n            {\r\n                Alert alert = new Alert(AlertType.CONFIRMATION);\r\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\r\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\r\n                alert.setContentText(&quot;Press &#39;Ok&#39; to close the app with save. Press &#39;Cancel&#39; to close the app with out save.&quot;);\r\n\r\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\r\n                if (result.get() == ButtonType.OK)\r\n                {\r\n                   btnSave.fire();\r\n                   \r\n                } \r\n                \r\n                Platform.exit();\r\n            }\r\n        });        \r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/HuDsI.gif","title":"Listener for TextArea which changes several times - Java","body":"<p>My guess is that you are looking for <code>primaryStage.setOnCloseRequest</code>. Here is an example app. This app uses the <code>Button's</code> style to determine if a save needs to happen. You may choose to use a variable/property.</p>\n<hr />\n<p><strong>Main</strong></p>\n<pre><code>import java.util.Optional;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n    String originalText;\n    \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button btnSave = new Button(&quot;Save&quot;);\n        btnSave.setOnAction(event -&gt; System.out.println(&quot;Saving text!!!&quot;));\n        \n        originalText = loadOriginalText();        \n        TextArea textArea = new TextArea(originalText);\n        textArea.setWrapText(true);\n        textArea.textProperty().addListener((obs, oldText, newText) -&gt;{\n            if(newText != null)\n            {\n                if(!originalText.equals(newText))\n                {\n                    btnSave.setStyle(&quot;-fx-border-color: red;&quot;);\n                }\n                else\n                {\n                    btnSave.setStyle(null);\n                }                \n            }\n        });        \n        \n        VBox root = new VBox(new StackPane(textArea), new StackPane(btnSave));\n        Scene scene = new Scene(root, 500, 500);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\n            {\n                Alert alert = new Alert(AlertType.CONFIRMATION);\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\n                alert.setContentText(&quot;Press 'Ok' to close the app with save. Press 'Cancel' to close the app with out save.&quot;);\n\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\n                if (result.get() == ButtonType.OK)\n                {\n                   btnSave.fire();\n                   \n                } \n                \n                Platform.exit();\n            }\n        });        \n    }\n    \n    public String loadOriginalText()\n    {\n        return &quot;&quot;&quot;\n               Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\n               &quot;&quot;&quot;;\n    }\n}\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/HuDsI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuDsI.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Note: Doing this in <code>FXML</code> will require the <code>Main</code> have access to the save <code>Button</code>. This is something I would do in the <code>Main</code> using ideas from <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">MVC</a> or <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">passing parameters</a>. The code below does not work as-is. I freestyle it without an IDE.</strong></p>\n<p>basically something like</p>\n<pre><code>import java.util.Optional;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Alert.AlertType;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonType;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class App extends Application {\n    Button btnSave;\n    \n    public static void main(String[] args) {\n        App.launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        FXMLLoader yourControllerLoader = new FXMLLoader(getClass().getResource(&quot;yourfxml.fxml&quot;));\n        YourFxmlRootNodeType fxmlRoot = yourControllerLoader.load();\n        YourController yourController = yourControllerLoader.getController();\n        \n        Button btnSave = yourController.getSaveButton();        \n        \n        Scene scene = new Scene(fxmlRoot, 500, 500);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        \n        primaryStage.setOnCloseRequest((windowEvent)-&gt;{\n            if(btnSave.getStyle().equals(&quot;-fx-border-color: red;&quot;))\n            {\n                Alert alert = new Alert(AlertType.CONFIRMATION);\n                alert.setTitle(&quot;Confirmation Dialog&quot;);\n                alert.setHeaderText(&quot;Do you want to save the text before ending the app?&quot;);\n                alert.setContentText(&quot;Press 'Ok' to close the app with save. Press 'Cancel' to close the app with out save.&quot;);\n\n                Optional&lt;ButtonType&gt; result = alert.showAndWait();\n                if (result.get() == ButtonType.OK)\n                {\n                   btnSave.fire();\n                   \n                } \n                \n                Platform.exit();\n            }\n        });        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12719792,"reputation":3,"user_id":9240628,"display_name":"Jacob J."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686757961,"creation_date":1686663499,"question_id":76465547,"body_markdown":"I have a programm with a TextArea which enables the user to add notes to a particular verse number. Every verse number has a dedicated note entry. The values for the verses and the notes are loaded from a SQLite database. The text is loaded correctly and the &quot;Save&quot; (&quot;Speichern&quot;) button is working.\r\n\r\nI want to show an alert window, which displays the question &quot;Do you want to save the text?&quot;, when the user has changed the TextArea and not clicked on the &quot;Save&quot; button. I have tried to add a listener for the TextArea having a variable , but the problem is, that it detects a change every time the Notes Text Area is updated.\r\n\r\nMy idea is to save the text of the Notes Text Area to a String or HashMap, after the verse is loaded. There should be a respective String or a HashMap which saves the original notes. The String / HashMap should then be compared to the value of the listener, but only if the &quot;Save&quot; button hasn&#39;t been clicked on before closing the programm.\r\n\r\nHow do I achieve this?\r\n\r\n\r\n\r\n[This is how the relevant of the programm looks like.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EWuBR.png\r\n\r\nThis is the method which I am trying to change:\r\n\r\n    private void loadNotesFromPaliVerse() throws SQLException {\r\n\r\n\r\n        // Check if a number has been selected\r\n        Integer selectedNumber = comboBoxVerseNr.getValue();\r\n\r\n        if (selectedNumber == null) {\r\n            return;\r\n        }\r\n\r\n        if (selectedNumber.equals(previousSelectedNumber)) {\r\n            return;\r\n        }\r\n\r\n\r\n        // Retrieve verse number based on comboBoxVerseNr\r\n\r\n        String queryNote = DatabaseMethods.notesToPaliVerse(comboBoxVerseNr.getValue());\r\n\r\n\r\n        try (PreparedStatement statement = connection.prepareStatement(queryNote)) {\r\n\r\n            try (ResultSet resultSet = statement.executeQuery()) {\r\n                if (resultSet.next()) {\r\n\r\n                    // Retrieve text value from the table\r\n                    String textValue = resultSet.getString(&quot;Notes&quot;);\r\n\r\n                    // Insert text into TextArea\r\n                    notesTextArea.setText(textValue);\r\n\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    // No corresponding entry found, clear the TextArea\r\n                    notesTextArea.clear();\r\n                  \r\n\r\n                }\r\n            }\r\n        }\r\n    }","title":"Listener for TextArea which changes several times - Java","body":"<p>I have a programm with a TextArea which enables the user to add notes to a particular verse number. Every verse number has a dedicated note entry. The values for the verses and the notes are loaded from a SQLite database. The text is loaded correctly and the &quot;Save&quot; (&quot;Speichern&quot;) button is working.</p>\n<p>I want to show an alert window, which displays the question &quot;Do you want to save the text?&quot;, when the user has changed the TextArea and not clicked on the &quot;Save&quot; button. I have tried to add a listener for the TextArea having a variable , but the problem is, that it detects a change every time the Notes Text Area is updated.</p>\n<p>My idea is to save the text of the Notes Text Area to a String or HashMap, after the verse is loaded. There should be a respective String or a HashMap which saves the original notes. The String / HashMap should then be compared to the value of the listener, but only if the &quot;Save&quot; button hasn't been clicked on before closing the programm.</p>\n<p>How do I achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/EWuBR.png\" rel=\"nofollow noreferrer\">This is how the relevant of the programm looks like.</a></p>\n<p>This is the method which I am trying to change:</p>\n<pre><code>private void loadNotesFromPaliVerse() throws SQLException {\n\n\n    // Check if a number has been selected\n    Integer selectedNumber = comboBoxVerseNr.getValue();\n\n    if (selectedNumber == null) {\n        return;\n    }\n\n    if (selectedNumber.equals(previousSelectedNumber)) {\n        return;\n    }\n\n\n    // Retrieve verse number based on comboBoxVerseNr\n\n    String queryNote = DatabaseMethods.notesToPaliVerse(comboBoxVerseNr.getValue());\n\n\n    try (PreparedStatement statement = connection.prepareStatement(queryNote)) {\n\n        try (ResultSet resultSet = statement.executeQuery()) {\n            if (resultSet.next()) {\n\n                // Retrieve text value from the table\n                String textValue = resultSet.getString(&quot;Notes&quot;);\n\n                // Insert text into TextArea\n                notesTextArea.setText(textValue);\n\n\n\n\n            } else {\n\n                // No corresponding entry found, clear the TextArea\n                notesTextArea.clear();\n              \n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"comments":[{"owner":{"account_id":13871294,"reputation":29,"user_id":10014331,"display_name":"Abhinav"},"score":0,"creation_date":1593895709,"post_id":62729171,"comment_id":110938996,"body_markdown":"Basically I want to wrap my errors in response entity and return a proper response code. Where can I handle that?","body":"Basically I want to wrap my errors in response entity and return a proper response code. Where can I handle that?"},{"owner":{"account_id":14301688,"reputation":71,"user_id":10330859,"display_name":"Matjag"},"score":0,"creation_date":1598259554,"post_id":62729171,"comment_id":112389157,"body_markdown":"@Abhinav Responding with code other than 200 is against the graphql documentation","body":"@Abhinav Responding with code other than 200 is against the graphql documentation"}],"tags":[],"owner":{"account_id":6302434,"reputation":5409,"user_id":4896651,"accept_rate":75,"display_name":"Shadov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1593865989,"creation_date":1593865989,"answer_id":62729171,"question_id":62728773,"body_markdown":"I have this and it&#39;s working for me. Pretty much regular spring stuff for exception handling, but there is no `@ControllerAdvice` (it&#39;s kotlin btw, if you can&#39;t understand - let me know, but I think it&#39;s pretty clear even without kotlin knowledge).\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    import org.springframework.web.bind.annotation.ExceptionHandler\r\n    import com.oembedler.moon.graphql.boot.error.ThrowableGraphQLError\r\n\r\n    internal class GraphQLExceptionHandler {\r\n        @ExceptionHandler(AppException::class)\r\n        fun handleGenericException(ex: AppException): ThrowableGraphQLError {\r\n            return ThrowableGraphQLError(ex)\r\n        }\r\n\r\n        @ExceptionHandler(Exception::class)\r\n        fun handleGenericException(ex: Exception): ThrowableGraphQLError {\r\n            return ThrowableGraphQLError(TechnicalException())\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    internal open class GraphQLConfiguration {\r\n        @Bean\r\n        open fun graphQLExceptionHandler(): GraphQLExceptionHandler {\r\n            return GraphQLExceptionHandler()\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have quite a few dependencies tho, in case they matter here:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;graphql.version&gt;5.4.1&lt;/graphql.version&gt;\r\n    &lt;graphql-datetime-spring-boot-starter.version&gt;1.4.0&lt;/graphql-datetime-spring-boot-starter.version&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.zhokhov.graphql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;graphql-datetime-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;${graphql-datetime-spring-boot-starter.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to override DataFetcherExceptionHandler in GraphQL Java?","body":"<p>I have this and it's working for me. Pretty much regular spring stuff for exception handling, but there is no <code>@ControllerAdvice</code> (it's kotlin btw, if you can't understand - let me know, but I think it's pretty clear even without kotlin knowledge).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.web.bind.annotation.ExceptionHandler\nimport com.oembedler.moon.graphql.boot.error.ThrowableGraphQLError\n\ninternal class GraphQLExceptionHandler {\n    @ExceptionHandler(AppException::class)\n    fun handleGenericException(ex: AppException): ThrowableGraphQLError {\n        return ThrowableGraphQLError(ex)\n    }\n\n    @ExceptionHandler(Exception::class)\n    fun handleGenericException(ex: Exception): ThrowableGraphQLError {\n        return ThrowableGraphQLError(TechnicalException())\n    }\n}\n\n@Configuration\ninternal open class GraphQLConfiguration {\n    @Bean\n    open fun graphQLExceptionHandler(): GraphQLExceptionHandler {\n        return GraphQLExceptionHandler()\n    }\n}\n</code></pre>\n<p>I have quite a few dependencies tho, in case they matter here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;graphql.version&gt;5.4.1&lt;/graphql.version&gt;\n&lt;graphql-datetime-spring-boot-starter.version&gt;1.4.0&lt;/graphql-datetime-spring-boot-starter.version&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphiql-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;voyager-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-java-tools&lt;/artifactId&gt;\n  &lt;version&gt;${graphql.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.zhokhov.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;graphql-datetime-spring-boot-starter&lt;/artifactId&gt;\n  &lt;version&gt;${graphql-datetime-spring-boot-starter.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13871294,"reputation":29,"user_id":10014331,"display_name":"Abhinav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62729171,"answer_count":1,"score":1,"last_activity_date":1686757741,"creation_date":1593863631,"question_id":62728773,"body_markdown":"I am using the following starter for Graphql integration\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\r\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n1) I am not sure how to override the SimpleDataFetcherExceptionHandler with my own CustomExceptionHandler. The library already autowires a lot of stuff. Do I need to create a separate configuration for graphQl object? The documentation is not much helpful.\r\n\r\n2) I also tried to integrate @ControllerAdvice to my Graphql java spring boot application but the errors are not matched by the exception handlers inside it. They are handled by GraphQl error handler. How does error propagates inside Graphql?\r\n\r\n\r\nHow can I change this behaviour?\r\n\r\n\r\n\r\n\r\n","title":"How to override DataFetcherExceptionHandler in GraphQL Java?","body":"<p>I am using the following starter for Graphql integration</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.graphql-java-kickstart&lt;/groupId&gt;\n    &lt;artifactId&gt;graphql-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol>\n<li><p>I am not sure how to override the SimpleDataFetcherExceptionHandler with my own CustomExceptionHandler. The library already autowires a lot of stuff. Do I need to create a separate configuration for graphQl object? The documentation is not much helpful.</p>\n</li>\n<li><p>I also tried to integrate @ControllerAdvice to my Graphql java spring boot application but the errors are not matched by the exception handlers inside it. They are handled by GraphQl error handler. How does error propagates inside Graphql?</p>\n</li>\n</ol>\n<p>How can I change this behaviour?</p>\n"},{"tags":["c#","java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1222712042,"creation_date":1222712042,"answer_id":149959,"question_id":149932,"body_markdown":"I tend to approach naming threads the same as naming methods or variables.  Pick something that concisely describes the process that the thread is responsible for.  I don&#39;t think there&#39;s a lot of extra information that you can or should put into a thread-name.  Expressive but terse is the primary goal.\r\n\r\nThe only convention might be to add an incremented suffix to threads that are part of a pool.","title":"Naming conventions for threads?","body":"<p>I tend to approach naming threads the same as naming methods or variables.  Pick something that concisely describes the process that the thread is responsible for.  I don't think there's a lot of extra information that you can or should put into a thread-name.  Expressive but terse is the primary goal.</p>\n\n<p>The only convention might be to add an incremented suffix to threads that are part of a pool.</p>\n"},{"tags":[],"owner":{"account_id":10442,"reputation":10058,"user_id":19734,"accept_rate":91,"display_name":"Thorsten79"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1222713880,"creation_date":1222712044,"answer_id":149960,"question_id":149932,"body_markdown":"There&#39;s to my knowledge no standard. Over the time I&#39;ve found these guidelines to be helpful:\r\n\r\n  - Use short names because they don&#39;t make the lines in a log file too long.\r\n\r\n  - Create names where the important part is at the beginning. Log viewers in a graphical user interface tend to have tables with columns, and the thread column is usually small or will be made small by you to read everything else.\r\n\r\n  - Do not use the word &quot;thread&quot; in the thread name because it is obvious.\r\n\r\n  - make the thread names easily grep-able. Avoid similar sounding thread names\r\n\r\n  - if you have several threads of the same nature, enumerate them with IDs that are unique to one execution of the application or one log file, whichever fits your logging habits.\r\n\r\n  - avoid generalizations like &quot;WorkerThread&quot; (how do you name the next 5 worker threads?), &quot;GUIThread&quot; (which GUI? is it for one window? for everything?) or &quot;Calculation&quot; (what does it calculate?).\r\n\r\n  - if you have a test group that uses thread names to grep your application&#39;s log files, do not rename your threads after some time. Your testers will hate you for doing so. Thread names in well-tested applications should be there to stay.\r\n\r\n  - when you have threads that service a network connection, try to include the target network address in the thread name (e.g. channel_123.212.123.3). Don&#39;t forget about enumeration though if there are multiple connections to the same host.\r\n\r\nIf you have many threads and forgot to name one, your log mechanism should output a unique thread ID instead (API-specific, e.g. by calling pthread_self() )","title":"Naming conventions for threads?","body":"<p>There's to my knowledge no standard. Over the time I've found these guidelines to be helpful:</p>\n\n<ul>\n<li><p>Use short names because they don't make the lines in a log file too long.</p></li>\n<li><p>Create names where the important part is at the beginning. Log viewers in a graphical user interface tend to have tables with columns, and the thread column is usually small or will be made small by you to read everything else.</p></li>\n<li><p>Do not use the word \"thread\" in the thread name because it is obvious.</p></li>\n<li><p>make the thread names easily grep-able. Avoid similar sounding thread names</p></li>\n<li><p>if you have several threads of the same nature, enumerate them with IDs that are unique to one execution of the application or one log file, whichever fits your logging habits.</p></li>\n<li><p>avoid generalizations like \"WorkerThread\" (how do you name the next 5 worker threads?), \"GUIThread\" (which GUI? is it for one window? for everything?) or \"Calculation\" (what does it calculate?).</p></li>\n<li><p>if you have a test group that uses thread names to grep your application's log files, do not rename your threads after some time. Your testers will hate you for doing so. Thread names in well-tested applications should be there to stay.</p></li>\n<li><p>when you have threads that service a network connection, try to include the target network address in the thread name (e.g. channel_123.212.123.3). Don't forget about enumeration though if there are multiple connections to the same host.</p></li>\n</ul>\n\n<p>If you have many threads and forgot to name one, your log mechanism should output a unique thread ID instead (API-specific, e.g. by calling pthread_self() )</p>\n"},{"tags":[],"owner":{"account_id":5640,"reputation":6378,"user_id":9193,"accept_rate":75,"display_name":"William"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222712390,"creation_date":1222712390,"answer_id":149990,"question_id":149932,"body_markdown":"Naming threads is useful and you should follow a naming convention that would for anything else, be that variables, methods or classes. Name them according to what they do and be succinct. If you ever run into a problem that requires a thread dump it will be nice to look at the name and know where to look in your code for the problem rather than examining stack traces and guessing.\r\n\r\nThe only different is that if there are multiple threads of the same type you really should add an index of some sort as thread names should be unique to satisfy certain APIs. It can also help with logging if you show the thread name to know how your application behaves with partial execution happening on different threads.","title":"Naming conventions for threads?","body":"<p>Naming threads is useful and you should follow a naming convention that would for anything else, be that variables, methods or classes. Name them according to what they do and be succinct. If you ever run into a problem that requires a thread dump it will be nice to look at the name and know where to look in your code for the problem rather than examining stack traces and guessing.</p>\n\n<p>The only different is that if there are multiple threads of the same type you really should add an index of some sort as thread names should be unique to satisfy certain APIs. It can also help with logging if you show the thread name to know how your application behaves with partial execution happening on different threads.</p>\n"},{"tags":[],"owner":{"account_id":6590,"reputation":13159,"user_id":11142,"accept_rate":49,"display_name":"anjanb"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222716907,"creation_date":1222716907,"answer_id":150292,"question_id":149932,"body_markdown":"while Thorsten&#39;s answer is the most comprehensive, you might want to look at how Tomcat names its Threads. I&#39;ve found that useful. We were running multiple threads with a quartz scheduler and many of the naming rules that Thorsten suggests were useful.\r\n\r\nAre you going to be using a Thread pool ? If yes, then that will reduce the chances that you can add more useful meta info. If not, the sky is the limit to how much useful info you can have.","title":"Naming conventions for threads?","body":"<p>while Thorsten's answer is the most comprehensive, you might want to look at how Tomcat names its Threads. I've found that useful. We were running multiple threads with a quartz scheduler and many of the naming rules that Thorsten suggests were useful.</p>\n\n<p>Are you going to be using a Thread pool ? If yes, then that will reduce the chances that you can add more useful meta info. If not, the sky is the limit to how much useful info you can have.</p>\n"},{"tags":[],"owner":{"account_id":6812,"reputation":32631,"user_id":11574,"accept_rate":68,"display_name":"core"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1223351314,"creation_date":1223351314,"answer_id":177170,"question_id":149932,"body_markdown":"What about:\r\n\r\n[namespace].[Class][.Class...].[Method][current thread]?\r\n\r\nSo you have the names:\r\n\r\nBiz.Caching.ExpireDeadItems1&lt;br/&gt;\r\nBiz.Caching.ExpireDeadItems2&lt;br/&gt;\r\nBiz.Caching.ExpireDeadItems3&lt;br/&gt;\r\n\r\netc., for each thread.","title":"Naming conventions for threads?","body":"<p>What about:</p>\n\n<p>[namespace].[Class][.Class...].[Method][current thread]?</p>\n\n<p>So you have the names:</p>\n\n<p>Biz.Caching.ExpireDeadItems1<br/>\nBiz.Caching.ExpireDeadItems2<br/>\nBiz.Caching.ExpireDeadItems3<br/></p>\n\n<p>etc., for each thread.</p>\n"},{"tags":[],"owner":{"account_id":6692,"reputation":30422,"user_id":11361,"accept_rate":97,"display_name":"Dror Helper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1223451805,"creation_date":1223451805,"answer_id":181710,"question_id":149932,"body_markdown":"I&#39;ve seen several naming conventions for threads in .NET.\r\n\r\nSome prefer using &#39;t&#39; in the beginning of the name (ex. *tMain Thread*) but I don&#39;t think it has any real value.\r\nInstead why not just use plain descriptive names (line variables) such as *HouseKeeping*, *Scheduler* and so on.","title":"Naming conventions for threads?","body":"<p>I've seen several naming conventions for threads in .NET.</p>\n\n<p>Some prefer using 't' in the beginning of the name (ex. <em>tMain Thread</em>) but I don't think it has any real value.\nInstead why not just use plain descriptive names (line variables) such as <em>HouseKeeping</em>, <em>Scheduler</em> and so on.</p>\n"},{"tags":[],"owner":{"account_id":1980669,"reputation":35,"user_id":1777374,"display_name":"Ginjitzu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686757661,"creation_date":1686757661,"answer_id":76475371,"question_id":149932,"body_markdown":"I&#39;d like to contribute an pattern that I have begun using to make my thread names meaningful. As I see it, a thread is like a worker who performs a task. As such, I like to look at the task the thread is to perform, and give the thread a name that identifies it as the performer of that task.\r\n\r\nFor instance, a person whose task is to mop a floor might be called a janitor. In this case `Mop(floor)` would be my task and `janitor` would be my thread.\r\nIn C#, my code might look something like, \r\n\r\n```\r\nThread janitor = new Thread(() =&gt; Mop(floor));\r\njanitor.Start();\r\n```\r\n\r\nOr, if I have a stream that I want to monitor for incoming data, then the task is to monitor a stream. The thread, who&#39;s duty is to perform that task would be a stream monitor.\r\n\r\n```\r\n_streamMonitor = new Thread(() =&gt; Monitor(stream));\r\n_streamMonitor.Start();\r\n```","title":"Naming conventions for threads?","body":"<p>I'd like to contribute an pattern that I have begun using to make my thread names meaningful. As I see it, a thread is like a worker who performs a task. As such, I like to look at the task the thread is to perform, and give the thread a name that identifies it as the performer of that task.</p>\n<p>For instance, a person whose task is to mop a floor might be called a janitor. In this case <code>Mop(floor)</code> would be my task and <code>janitor</code> would be my thread.\nIn C#, my code might look something like,</p>\n<pre><code>Thread janitor = new Thread(() =&gt; Mop(floor));\njanitor.Start();\n</code></pre>\n<p>Or, if I have a stream that I want to monitor for incoming data, then the task is to monitor a stream. The thread, who's duty is to perform that task would be a stream monitor.</p>\n<pre><code>_streamMonitor = new Thread(() =&gt; Monitor(stream));\n_streamMonitor.Start();\n</code></pre>\n"}],"owner":{"account_id":6812,"reputation":32631,"user_id":11574,"accept_rate":68,"display_name":"core"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15124,"favorite_count":0,"down_vote_count":1,"up_vote_count":48,"accepted_answer_id":149960,"answer_count":7,"score":47,"last_activity_date":1686757661,"creation_date":1222711582,"question_id":149932,"body_markdown":"It&#39;s helpful to name threads so one can sort out which threads are doing what for diagnostic and debugging purposes.\r\n\r\nIs there a particular naming convention for threads in a heavily multi-threaded application that works better than another? Any guidelines? What kind of information should go into the name for a thread? What have you learned about naming your threads that could be helpful to others?\r\n","title":"Naming conventions for threads?","body":"<p>It's helpful to name threads so one can sort out which threads are doing what for diagnostic and debugging purposes.</p>\n\n<p>Is there a particular naming convention for threads in a heavily multi-threaded application that works better than another? Any guidelines? What kind of information should go into the name for a thread? What have you learned about naming your threads that could be helpful to others?</p>\n"},{"tags":["java","android","qt"],"owner":{"account_id":17885002,"reputation":171,"user_id":12992909,"display_name":"Fausto01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686756748,"creation_date":1686756748,"question_id":76475249,"body_markdown":"Is there a way to open the app switcher programmatically in Java?\r\nI&#39;ve managed to handle the home button by invoking\r\n\r\n    moveTaskToBack(true);\r\nbut I haven&#39;t find anything on how to handle the app switch button.\r\nI need to handle these buttons because on my device (PAX A920), using Qt, the os is not intercepting them.","title":"Android open app switcher programmatically","body":"<p>Is there a way to open the app switcher programmatically in Java?\nI've managed to handle the home button by invoking</p>\n<pre><code>moveTaskToBack(true);\n</code></pre>\n<p>but I haven't find anything on how to handle the app switch button.\nI need to handle these buttons because on my device (PAX A920), using Qt, the os is not intercepting them.</p>\n"},{"tags":["java","c#","azure-devops","tfs","clearcase"],"answers":[{"comments":[{"owner":{"account_id":28820779,"reputation":19,"user_id":22073339,"display_name":"Balaji"},"score":0,"creation_date":1686757219,"post_id":76475178,"comment_id":134843819,"body_markdown":"@ VonC - Thanks for your valuable comments, which is more helpful for me to approach this scenario â˜ºï¸","body":"@ VonC - Thanks for your valuable comments, which is more helpful for me to approach this scenario â˜ºï¸"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1686757544,"post_id":76475178,"comment_id":134843899,"body_markdown":"@Balaji No problem. If you are using Git with Azure Devops, I have explained back in 2009 the difference between the ClearCase branches and the Git branches in &quot;[Flexible vs static branching (Git vs Clearcase/Accurev)](https://stackoverflow.com/a/764219/6309)&quot;.","body":"@Balaji No problem. If you are using Git with Azure Devops, I have explained back in 2009 the difference between the ClearCase branches and the Git branches in &quot;<a href=\"https://stackoverflow.com/a/764219/6309\">Flexible vs static branching (Git vs Clearcase/Accurev)</a>&quot;."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686756314,"creation_date":1686756314,"answer_id":76475178,"question_id":76474717,"body_markdown":"&gt; the Team who takes care of ClearCase tweaks the view in such a way that 2nd developer will not be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so will not be able to checkout.\r\n\r\nI suspect this would involve, with ClearCase:\r\n\r\n- a dedicated branch type for the first developer: Using the [`mkbrtype` command](https://www.ibm.com/docs/en/rational-clearcase/8.0.1?topic=ucm-mkbrtype), the admin can create a new branch type that is used only for the first developer&#39;s work.\r\n\r\n- a config spec for the first developer&#39;s view:The admin can edit the config spec for the first developer&#39;s view to include the new branch type. The config spec might look something like this:\r\n\r\n   ```\r\n   element * CHECKEDOUT\r\n   element * .../first_developer_branch/LATEST\r\n   element * /main/LATEST -mkbranch first_developer_branch\r\n   ```\r\n\r\n   This config spec tells ClearCase to show the first developer any files they have checked out, then the latest version on their branch, and finally to make a new branch if they check out a file that does not already have a branch of this type.\r\n\r\n- an access restriction to the new branch type: Using the `cleartool protect -chgrp` and `cleartool protect -chmod` commands, the admin can change the group and permissions of the new branch type so that only the first developer (and the admin) can check out files on this branch.\r\n\r\n- a config spec for the second developer&#39;s view: The admin can edit the config spec for the second developer&#39;s view to exclude the new branch type. The config spec might look something like this:\r\n\r\n   ```\r\n   element * CHECKEDOUT\r\n   element * !.../first_developer_branch/LATEST\r\n   element * /main/LATEST -mkbranch second_developer_branch\r\n   ```\r\n\r\n   This config spec tells ClearCase to show the second developer any files they have checked out, then the latest version on the main branch, but not to show them any files on the first developer&#39;s branch. If they try to check out a file that the first developer has already checked out on their branch, they will receive an error.\r\n\r\nThis setup would allow the first developer to work on files without the second developer being able to access them. However, it is a very restrictive setup that goes against the collaborative nature of most modern development workflows. The idea in most modern workflows is that developers should be able to work on any part of the codebase, and any conflicts between their work should be resolved through communication and code reviews, rather than preventing access to the code.\r\n\r\nSince the [Azure Devops branching strategies](https://learn.microsoft.com/en-us/azure/devops/repos/git/git-branching-guidance?view=azure-devops) do not emulate directly this ClearCase approach, you could instead use Azure DevOps to manage a similar process of concurrent development by multiple developers.  \r\nThat would involve:\r\n\r\n- creating a branch for the first developer to work on. This branch would be based off the `main` branch (or whatever your primary development branch is.\r\n\r\n- setting the &quot;Branch Policies and Permissions&quot; on the first developer&#39;s branch to restrict who can push changes. You can require pull requests for any changes and set up reviewers for these pull requests. You can also restrict who has push and merge permissions on this branch to just the first developer and any necessary admins.\r\n\r\n- creating  a branch for the second developer to work on. This branch would also be based off the `main` branch.\r\n\r\n- setting the &quot;Branch Policies and Permissions&quot; for the second developer&#39;s branch to restrict who can push changes.  \r\nAgain, you can require pull requests for any changes and set up reviewers for these pull requests. Restrict who has push and merge permissions on this branch to just the second developer and any necessary admins.\r\n\r\nNow, both developers can work independently on their respective branches without affecting each other&#39;s work. When they are ready to merge their changes into the main codebase, they can create a pull request, which can be reviewed and approved by the relevant parties.\r\n\r\nThis set-up does not prevent the second developer from seeing the first developer&#39;s changes, but it does prevent them from pushing changes to the first developer&#39;s branch. This is more in line with the collaborative nature of modern development workflows, where all code is visible to all developers and conflicts are resolved through communication and code reviews.  \r\n\r\nHowever, if the second developer needs to work on the same file as the first developer, they could potentially face merge conflicts when they try to merge their changes back to the main branch. In this case, they would need to resolve these conflicts, which could involve integrating the first developer&#39;s changes into their own code. This process is facilitated by [Azure DevOps&#39; built-in conflict resolution tools](https://learn.microsoft.com/en-us/azure/devops/repos/git/merging?view=azure-devops&amp;tabs=visual-studio-2022).","title":"Can Clearcase Branch Strategy be applied on AzureDevops Platform","body":"<blockquote>\n<p>the Team who takes care of ClearCase tweaks the view in such a way that 2nd developer will not be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so will not be able to checkout.</p>\n</blockquote>\n<p>I suspect this would involve, with ClearCase:</p>\n<ul>\n<li><p>a dedicated branch type for the first developer: Using the <a href=\"https://www.ibm.com/docs/en/rational-clearcase/8.0.1?topic=ucm-mkbrtype\" rel=\"nofollow noreferrer\"><code>mkbrtype</code> command</a>, the admin can create a new branch type that is used only for the first developer's work.</p>\n</li>\n<li><p>a config spec for the first developer's view:The admin can edit the config spec for the first developer's view to include the new branch type. The config spec might look something like this:</p>\n<pre><code>element * CHECKEDOUT\nelement * .../first_developer_branch/LATEST\nelement * /main/LATEST -mkbranch first_developer_branch\n</code></pre>\n<p>This config spec tells ClearCase to show the first developer any files they have checked out, then the latest version on their branch, and finally to make a new branch if they check out a file that does not already have a branch of this type.</p>\n</li>\n<li><p>an access restriction to the new branch type: Using the <code>cleartool protect -chgrp</code> and <code>cleartool protect -chmod</code> commands, the admin can change the group and permissions of the new branch type so that only the first developer (and the admin) can check out files on this branch.</p>\n</li>\n<li><p>a config spec for the second developer's view: The admin can edit the config spec for the second developer's view to exclude the new branch type. The config spec might look something like this:</p>\n<pre><code>element * CHECKEDOUT\nelement * !.../first_developer_branch/LATEST\nelement * /main/LATEST -mkbranch second_developer_branch\n</code></pre>\n<p>This config spec tells ClearCase to show the second developer any files they have checked out, then the latest version on the main branch, but not to show them any files on the first developer's branch. If they try to check out a file that the first developer has already checked out on their branch, they will receive an error.</p>\n</li>\n</ul>\n<p>This setup would allow the first developer to work on files without the second developer being able to access them. However, it is a very restrictive setup that goes against the collaborative nature of most modern development workflows. The idea in most modern workflows is that developers should be able to work on any part of the codebase, and any conflicts between their work should be resolved through communication and code reviews, rather than preventing access to the code.</p>\n<p>Since the <a href=\"https://learn.microsoft.com/en-us/azure/devops/repos/git/git-branching-guidance?view=azure-devops\" rel=\"nofollow noreferrer\">Azure Devops branching strategies</a> do not emulate directly this ClearCase approach, you could instead use Azure DevOps to manage a similar process of concurrent development by multiple developers.<br />\nThat would involve:</p>\n<ul>\n<li><p>creating a branch for the first developer to work on. This branch would be based off the <code>main</code> branch (or whatever your primary development branch is.</p>\n</li>\n<li><p>setting the &quot;Branch Policies and Permissions&quot; on the first developer's branch to restrict who can push changes. You can require pull requests for any changes and set up reviewers for these pull requests. You can also restrict who has push and merge permissions on this branch to just the first developer and any necessary admins.</p>\n</li>\n<li><p>creating  a branch for the second developer to work on. This branch would also be based off the <code>main</code> branch.</p>\n</li>\n<li><p>setting the &quot;Branch Policies and Permissions&quot; for the second developer's branch to restrict who can push changes.<br />\nAgain, you can require pull requests for any changes and set up reviewers for these pull requests. Restrict who has push and merge permissions on this branch to just the second developer and any necessary admins.</p>\n</li>\n</ul>\n<p>Now, both developers can work independently on their respective branches without affecting each other's work. When they are ready to merge their changes into the main codebase, they can create a pull request, which can be reviewed and approved by the relevant parties.</p>\n<p>This set-up does not prevent the second developer from seeing the first developer's changes, but it does prevent them from pushing changes to the first developer's branch. This is more in line with the collaborative nature of modern development workflows, where all code is visible to all developers and conflicts are resolved through communication and code reviews.</p>\n<p>However, if the second developer needs to work on the same file as the first developer, they could potentially face merge conflicts when they try to merge their changes back to the main branch. In this case, they would need to resolve these conflicts, which could involve integrating the first developer's changes into their own code. This process is facilitated by <a href=\"https://learn.microsoft.com/en-us/azure/devops/repos/git/merging?view=azure-devops&amp;tabs=visual-studio-2022\" rel=\"nofollow noreferrer\">Azure DevOps' built-in conflict resolution tools</a>.</p>\n"}],"owner":{"account_id":28820779,"reputation":19,"user_id":22073339,"display_name":"Balaji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686756314,"creation_date":1686753355,"question_id":76474717,"body_markdown":"When there is a possibility of developers working simultaneously on the same application and the VOB (files/code) in the clearcase, got their release planned next consecutive months then the 2nd developer won&#39;t have the latest production code (The 2nd developer won&#39;t have the 1st developer&#39;s changes on his branch).  \r\n\r\nIn my scenario, the Team who takes care of clearcase tweaks the view in such a way that 2nd developer won&#39;t be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so won&#39;t be able to checkout. Clearcase Branch Strategy will be applied to the development and release view configuration as planned by the team.  \r\n  \r\nWanted to know if there is any method as above, could be followed on the AzureDevops to overcome the scenario. ","title":"Can Clearcase Branch Strategy be applied on AzureDevops Platform","body":"<p>When there is a possibility of developers working simultaneously on the same application and the VOB (files/code) in the clearcase, got their release planned next consecutive months then the 2nd developer won't have the latest production code (The 2nd developer won't have the 1st developer's changes on his branch).</p>\n<p>In my scenario, the Team who takes care of clearcase tweaks the view in such a way that 2nd developer won't be able to access the files/code which the 1st developer is working on. It would pop an error stating that another branch is currently working on, so won't be able to checkout. Clearcase Branch Strategy will be applied to the development and release view configuration as planned by the team.</p>\n<p>Wanted to know if there is any method as above, could be followed on the AzureDevops to overcome the scenario.</p>\n"},{"tags":["java","algorithm","matrix","optimization"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1686639236,"post_id":76462320,"comment_id":134822584,"body_markdown":"If all you want is to improve your working code, it&#39;s better to post on the Code Review Stack Exchange","body":"If all you want is to improve your working code, it&#39;s better to post on the Code Review Stack Exchange"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1686639264,"post_id":76462320,"comment_id":134822588,"body_markdown":"So what exactly is the question?","body":"So what exactly is the question?"},{"owner":{"account_id":26559860,"reputation":49,"user_id":20187870,"display_name":"Juan David"},"score":1,"creation_date":1686639571,"post_id":76462320,"comment_id":134822650,"body_markdown":"@Jorn I understand. I did not know Code Review Stack exchange existed. Thank you for showing me that.","body":"@Jorn I understand. I did not know Code Review Stack exchange existed. Thank you for showing me that."}],"answers":[{"tags":[],"owner":{"account_id":8016064,"reputation":980,"user_id":11148084,"display_name":"asds_asds"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686756227,"creation_date":1686756227,"answer_id":76475165,"question_id":76462320,"body_markdown":"Assuming the matrix has N rows and M columns\r\nObservations:\r\n\r\n 1. Elements at Position `(x,y) &lt;-&gt; (N-x,y) &lt;-&gt; (x, M-y) &lt;-&gt; (N-x, M-y)` can be exchanged among themselves but not with any other position.\r\n 2. If the maximum element among these is fixed at the top left position, i.e. `(x,y)` then the other three can occupy the remaining positions in 3P3 = 6 `(nPr = n!/(n-r)!)` ways.\r\n\r\nTo find any maximum matrix, you can fix the maximum element for each value of (x,y) at the top left and arrange the remaining in any way you want.\r\n\r\n\r\nTo find all the maximum matrices you&#39;ll have to generate all possible combinations `(6^(N/2 * M/2))`","title":"Flip rows and columns of an array until the sum of the elements in the upper left quadrant is maximal","body":"<p>Assuming the matrix has N rows and M columns\nObservations:</p>\n<ol>\n<li>Elements at Position <code>(x,y) &lt;-&gt; (N-x,y) &lt;-&gt; (x, M-y) &lt;-&gt; (N-x, M-y)</code> can be exchanged among themselves but not with any other position.</li>\n<li>If the maximum element among these is fixed at the top left position, i.e. <code>(x,y)</code> then the other three can occupy the remaining positions in 3P3 = 6 <code>(nPr = n!/(n-r)!)</code> ways.</li>\n</ol>\n<p>To find any maximum matrix, you can fix the maximum element for each value of (x,y) at the top left and arrange the remaining in any way you want.</p>\n<p>To find all the maximum matrices you'll have to generate all possible combinations <code>(6^(N/2 * M/2))</code></p>\n"}],"owner":{"account_id":26559860,"reputation":49,"user_id":20187870,"display_name":"Juan David"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686756227,"creation_date":1686639162,"question_id":76462320,"body_markdown":"There is a HackerRank coding challenge on which asks the programmer to find the largest sum of the elements in the upper left quadrant of a matrix by reversing either rows or columns.\r\n\r\n[Here&#39;s a link to a similar post with working answers][1]\r\n\r\nI&#39;m trying to actually return the new matrix rather than just the sum. I&#39;ve come up with something, but I&#39;m not sure if this is the best way to go about it. I could really use some pointers on how to make this better. My algorithm goes something like this\r\n\r\n 1. Calculate the sum of the upper left quadrant\r\n 2. Clone data of input matrix into a variable &quot;maxMatrix&quot;\r\n 3. Flip a row\r\n 4. Check if the current sum &gt; previous sum\r\n 5. If true, make appropriate changes to maxMatrix\r\n 6. Flip column\r\n 7. Repeat steps 4-5\r\n 8. Repeat until sum is maximal\r\n\r\nThe code I came up with looks like this\r\n\r\n```\r\npublic static int upperLeftSum(int[][] arr) {\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\t// Find sum of upper left quadrant\r\n\t\tfor(int l =0;l&lt;arr.length/2;l++) {\r\n\t\t\tfor(int c= 0;c&lt;arr.length/2;c++) {\r\n\t\t\t\t//System.out.print(arr[l][c] + &quot; &quot;);\r\n\t\t\t\tsum += arr[l][c];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t\r\n\t}\r\n\t\r\n\tpublic static int[][] reverseRow(int[][] arr, int row){\r\n\r\n\t\t// We calculate the sum of the elements at each half of the row\r\n        int firsthalf = 0, secondhalf = 0;\r\n\t\tfor(int i=0;i&lt;arr.length/2;i++) {\r\n\t\t\tfirsthalf += arr[row][i];\r\n\t\t\tsecondhalf += arr[row][arr.length - i -1];\r\n\t\t}\r\n\t\t\r\n        // If the sum of the right half of the row is bigger, we flip the row\r\n        if(firsthalf &lt; secondhalf){\r\n            int start = 0, end = arr.length -1;\r\n\r\n\t\t    while(start &lt; end) {\r\n\t\t\t    int temp = arr[row][start];\r\n\t\t\t    arr[row][start] = arr[row][end];\r\n\t\t\t    arr[row][end] = temp;\r\n\t\t\t\r\n\t\t\t    start++;\r\n\t\t\t    end--;\r\n\t\t    }\r\n        }\r\n\t\t\r\n\t\t\r\n\t\treturn arr;\r\n\t}\r\n\t\r\n\tpublic static int[][] reverseColumn(int[][] arr, int col){\r\n\r\n\t\t// We calculate the sum of the elements at each half of the column\r\n        int firsthalf = 0, secondhalf = 0;\r\n\t\tfor(int i=0;i&lt;arr.length/2;i++) {\r\n\t\t\tfirsthalf += arr[i][col];\r\n\t\t\tsecondhalf += arr[arr.length - i - 1][col];\r\n\t\t}\r\n\r\n        // If the sum of the right half of the row is bigger, we flip the column\r\n        if(firsthalf &lt; secondhalf){\r\n            int start = 0, end = arr.length -1;\r\n\r\n\t\t    while(start &lt; end) {\r\n\t\t\t    int temp = arr[start][col];\r\n\t\t\t    arr[start][col] = arr[end][col];\r\n\t\t\t    arr[end][col] = temp;\r\n\t\t\t\r\n\t\t\t    start++;\r\n\t\t\t    end--;\r\n\t\t    }    \r\n        }\r\n        \r\n\r\n\t\treturn arr;\r\n\t}\r\n\t\r\n\tpublic static int[][] matrixGame(int[][] arr){\r\n\t\tint maxSum = upperLeftSum(arr);\r\n\t\tint[][] maxMatrix = new int[arr.length][arr.length];\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\tmaxMatrix[i] = arr[i].clone();\r\n\t\t}\r\n\t\t\r\n\t\tboolean maximal = false;\r\n\t\tint l = 0;\r\n\t\twhile(l&lt;arr.length*2) {\r\n\t\t\tint firsthalf = 0, secondhalf = 0;\r\n\r\n\t\t\t\r\n\t\t\tif(l % 2 == 0){\r\n\t\t\t\tarr = reverseRow(arr, l/2);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tarr = reverseColumn(arr, l/2);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tint sum = upperLeftSum(arr);\r\n\t\t\tif(sum &gt; maxSum) {\r\n\t\t\t\t//System.out.println(sum + &quot; is greater than &quot; + maxSum + &quot;. Therefore, the currently maximized array is&quot;);\r\n\t\t\t\tmaxSum = sum;\r\n\t\t\t\t//maxMatrix = arr.clone();\r\n\t\t\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\t\t\tmaxMatrix[i] = arr[i].clone();\r\n\t\t\t\t}\r\n\t\t\t\t//printMatrix(maxMatrix);\r\n\t\t\t\tl=0;\r\n\t\t\t} else {\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn maxMatrix;\r\n\t}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40205519/largest-sum-of-upper-left-quadrant-of-matrix-that-can-be-formed-by-reversing-row","title":"Flip rows and columns of an array until the sum of the elements in the upper left quadrant is maximal","body":"<p>There is a HackerRank coding challenge on which asks the programmer to find the largest sum of the elements in the upper left quadrant of a matrix by reversing either rows or columns.</p>\n<p><a href=\"https://stackoverflow.com/questions/40205519/largest-sum-of-upper-left-quadrant-of-matrix-that-can-be-formed-by-reversing-row\">Here's a link to a similar post with working answers</a></p>\n<p>I'm trying to actually return the new matrix rather than just the sum. I've come up with something, but I'm not sure if this is the best way to go about it. I could really use some pointers on how to make this better. My algorithm goes something like this</p>\n<ol>\n<li>Calculate the sum of the upper left quadrant</li>\n<li>Clone data of input matrix into a variable &quot;maxMatrix&quot;</li>\n<li>Flip a row</li>\n<li>Check if the current sum &gt; previous sum</li>\n<li>If true, make appropriate changes to maxMatrix</li>\n<li>Flip column</li>\n<li>Repeat steps 4-5</li>\n<li>Repeat until sum is maximal</li>\n</ol>\n<p>The code I came up with looks like this</p>\n<pre><code>public static int upperLeftSum(int[][] arr) {\n        int sum = 0;\n        \n        // Find sum of upper left quadrant\n        for(int l =0;l&lt;arr.length/2;l++) {\n            for(int c= 0;c&lt;arr.length/2;c++) {\n                //System.out.print(arr[l][c] + &quot; &quot;);\n                sum += arr[l][c];\n            }\n        }\n        return sum;\n    \n    }\n    \n    public static int[][] reverseRow(int[][] arr, int row){\n\n        // We calculate the sum of the elements at each half of the row\n        int firsthalf = 0, secondhalf = 0;\n        for(int i=0;i&lt;arr.length/2;i++) {\n            firsthalf += arr[row][i];\n            secondhalf += arr[row][arr.length - i -1];\n        }\n        \n        // If the sum of the right half of the row is bigger, we flip the row\n        if(firsthalf &lt; secondhalf){\n            int start = 0, end = arr.length -1;\n\n            while(start &lt; end) {\n                int temp = arr[row][start];\n                arr[row][start] = arr[row][end];\n                arr[row][end] = temp;\n            \n                start++;\n                end--;\n            }\n        }\n        \n        \n        return arr;\n    }\n    \n    public static int[][] reverseColumn(int[][] arr, int col){\n\n        // We calculate the sum of the elements at each half of the column\n        int firsthalf = 0, secondhalf = 0;\n        for(int i=0;i&lt;arr.length/2;i++) {\n            firsthalf += arr[i][col];\n            secondhalf += arr[arr.length - i - 1][col];\n        }\n\n        // If the sum of the right half of the row is bigger, we flip the column\n        if(firsthalf &lt; secondhalf){\n            int start = 0, end = arr.length -1;\n\n            while(start &lt; end) {\n                int temp = arr[start][col];\n                arr[start][col] = arr[end][col];\n                arr[end][col] = temp;\n            \n                start++;\n                end--;\n            }    \n        }\n        \n\n        return arr;\n    }\n    \n    public static int[][] matrixGame(int[][] arr){\n        int maxSum = upperLeftSum(arr);\n        int[][] maxMatrix = new int[arr.length][arr.length];\n        \n        for(int i=0;i&lt;arr.length;i++) {\n            maxMatrix[i] = arr[i].clone();\n        }\n        \n        boolean maximal = false;\n        int l = 0;\n        while(l&lt;arr.length*2) {\n            int firsthalf = 0, secondhalf = 0;\n\n            \n            if(l % 2 == 0){\n                arr = reverseRow(arr, l/2);\n            }\n            else{\n                arr = reverseColumn(arr, l/2);\n            }\n            \n            int sum = upperLeftSum(arr);\n            if(sum &gt; maxSum) {\n                //System.out.println(sum + &quot; is greater than &quot; + maxSum + &quot;. Therefore, the currently maximized array is&quot;);\n                maxSum = sum;\n                //maxMatrix = arr.clone();\n                for(int i=0;i&lt;arr.length;i++) {\n                    maxMatrix[i] = arr[i].clone();\n                }\n                //printMatrix(maxMatrix);\n                l=0;\n            } else {\n                l++;\n            }\n        }\n        \n        return maxMatrix;\n    }\n</code></pre>\n"},{"tags":["java","testing","matrix","junit","determinants"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1686756509,"post_id":76475129,"comment_id":134843652,"body_markdown":"check the documentation of `assertEquals` - I am pretty sure the first value is the expected one; the second is the *calculated* one (and `(-2 * -3) - (3 * 1) = 6 - 3 = 3` not `9`)","body":"check the documentation of <code>assertEquals</code> - I am pretty sure the first value is the expected one; the second is the <i>calculated</i> one (and <code>(-2 * -3) - (3 * 1) = 6 - 3 = 3</code> not <code>9</code>)"},{"owner":{"account_id":27072453,"reputation":33,"user_id":20622911,"display_name":"cnd"},"score":0,"creation_date":1686756842,"post_id":76475129,"comment_id":134843730,"body_markdown":"That&#39;s right, I just tried it with the 3 and it works, I had put -1 and not 1 in the calculator. I cant believe that was the error...","body":"That&#39;s right, I just tried it with the 3 and it works, I had put -1 and not 1 in the calculator. I cant believe that was the error..."}],"owner":{"account_id":27072453,"reputation":33,"user_id":20622911,"display_name":"cnd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686756056,"creation_date":1686756056,"question_id":76475129,"body_markdown":"I was testing a code to calculate the determinant of a 2x2 matrix. This is the code: \r\n\r\n```\r\npackage maths;\r\n\r\npublic class Matrix {\r\n\r\n    public static int determinant(int[][] matrix){\r\n    \tint result = (matrix[0][0] * matrix[1][1]) - (matrix[0][1] * matrix[1][0]);\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am 99.9% sure that this code is fine, in fact I tried displaying the matrices and results on the screen and they were fine. Then I created this test in another class.\r\n\r\n```\r\npackage maths;\r\n\r\nimport org.junit.Test;\r\nimport static org.junit.Assert.assertEquals;\r\n\r\npublic class SolutionTest {\r\n\t\r\n    @Test\r\n    public void detTest() {\r\n    \tint[][] matrix1 = { { 1, 2 }, { 3, 4 } };\r\n    \tint[][] matrix2 = { { 5, 6 }, { 7, 8 } };\r\n    \tint[][] matrix3 = { { -2, 3 }, { 1, -3 } };\r\n        assertEquals(Matrix.det2(matrix1), -2);\r\n        assertEquals(Matrix.det2(matrix2), -2);\r\n        assertEquals(Matrix.det2(matrix3), 9);\r\n    }\r\n}\r\n```\r\n\r\nI have tried other matrices calculating by hand and in determinant calculators in case I was entering wrong expected solutions but I am not. In fact sometimes I get ```expected&lt;3&gt; but was &lt;9&gt;``` when I have not put 3 in the tests as expected result but 9.","title":"My tests to calculate the determinant of a 2x2 matrix do not work","body":"<p>I was testing a code to calculate the determinant of a 2x2 matrix. This is the code:</p>\n<pre><code>package maths;\n\npublic class Matrix {\n\n    public static int determinant(int[][] matrix){\n        int result = (matrix[0][0] * matrix[1][1]) - (matrix[0][1] * matrix[1][0]);\n        return result;\n    }\n\n}\n</code></pre>\n<p>I am 99.9% sure that this code is fine, in fact I tried displaying the matrices and results on the screen and they were fine. Then I created this test in another class.</p>\n<pre><code>package maths;\n\nimport org.junit.Test;\nimport static org.junit.Assert.assertEquals;\n\npublic class SolutionTest {\n    \n    @Test\n    public void detTest() {\n        int[][] matrix1 = { { 1, 2 }, { 3, 4 } };\n        int[][] matrix2 = { { 5, 6 }, { 7, 8 } };\n        int[][] matrix3 = { { -2, 3 }, { 1, -3 } };\n        assertEquals(Matrix.det2(matrix1), -2);\n        assertEquals(Matrix.det2(matrix2), -2);\n        assertEquals(Matrix.det2(matrix3), 9);\n    }\n}\n</code></pre>\n<p>I have tried other matrices calculating by hand and in determinant calculators in case I was entering wrong expected solutions but I am not. In fact sometimes I get <code>expected&lt;3&gt; but was &lt;9&gt;</code> when I have not put 3 in the tests as expected result but 9.</p>\n"},{"tags":["java","file-io","text-processing"],"comments":[{"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar WosiÅ„ski"},"score":1,"creation_date":1359534155,"post_id":9149648,"comment_id":20382316,"body_markdown":"Important question. Such thing gives ability to work with big files with low RAM usage and low IO operations.","body":"Important question. Such thing gives ability to work with big files with low RAM usage and low IO operations."}],"answers":[{"comments":[{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":0,"creation_date":1328450576,"post_id":9149691,"comment_id":11504518,"body_markdown":"This does only work on byte basis, wouldn&#39;t you have to do the encoding related size calculations by yourself?","body":"This does only work on byte basis, wouldn&#39;t you have to do the encoding related size calculations by yourself?"},{"owner":{"account_id":229289,"reputation":8836,"user_id":492158,"display_name":"MForster"},"score":1,"creation_date":1328451419,"post_id":9149691,"comment_id":11504647,"body_markdown":"Obviously, this depends on the encoding. Byte-wise searching for a new-line character (\\0x0a) in ASCII or Latin-1 encoding (or other encodings with 1 byte per character) is safe. I believe that doing this for UTF-8 is safe, too, because all multi-byte sequences have the high bit set. It would fail for, e.g., UTF-16.","body":"Obviously, this depends on the encoding. Byte-wise searching for a new-line character (\\0x0a) in ASCII or Latin-1 encoding (or other encodings with 1 byte per character) is safe. I believe that doing this for UTF-8 is safe, too, because all multi-byte sequences have the high bit set. It would fail for, e.g., UTF-16."},{"owner":{"account_id":323244,"reputation":11569,"user_id":643141,"display_name":"Hauke Ingmar Schmidt"},"score":0,"creation_date":1328451801,"post_id":9149691,"comment_id":11504718,"body_markdown":"You are right, for typical encodings including UTF-8 this should not be a problem (as long as you can define &quot;line ending&quot;, that is ;-)).","body":"You are right, for typical encodings including UTF-8 this should not be a problem (as long as you can define &quot;line ending&quot;, that is ;-))."},{"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar WosiÅ„ski"},"score":0,"creation_date":1686753967,"post_id":9149691,"comment_id":134843093,"body_markdown":"No solution for getting the position of the last new line sign","body":"No solution for getting the position of the last new line sign"}],"tags":[],"owner":{"account_id":229289,"reputation":8836,"user_id":492158,"display_name":"MForster"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1328449206,"creation_date":1328449206,"answer_id":9149691,"question_id":9149648,"body_markdown":"You could find the beginning of the last line by scanning the file and then truncate it using [`FileChannel.truncate`][1] or [`RandomAccessFile.setLength`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate%28long%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#setLength%28long%29","title":"Deleting the last line of a file with Java","body":"<p>You could find the beginning of the last line by scanning the file and then truncate it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate%28long%29\"><code>FileChannel.truncate</code></a> or <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html#setLength%28long%29\"><code>RandomAccessFile.setLength</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":1,"creation_date":1678035374,"post_id":12708069,"comment_id":133450996,"body_markdown":"Woah! That code&#39;s really long! Any way to do this without so much code?","body":"Woah! That code&#39;s really long! Any way to do this without so much code?"},{"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar WosiÅ„ski"},"score":0,"creation_date":1686755841,"post_id":12708069,"comment_id":134843510,"body_markdown":"I made it shorter but without skipping most part of the file.","body":"I made it shorter but without skipping most part of the file."}],"tags":[],"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar WosiÅ„ski"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686755753,"creation_date":1349265660,"answer_id":12708069,"question_id":9149648,"body_markdown":"\r\nBy using `RandomAccessFile` you can:\r\n\r\n - find the position of the last new line character. To read the position: **getFilePointer()**. To truncate the file: **setLength(long)**.\r\n - optimization: to read only end of the file use method **seek(long)** to jump ahead. Challenge is to define the jump. \r\n\r\nOtherwise read whole file and store only the last position of the &quot;\\n&quot;. // Unix new line convention\r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class TruncateFileExample {\r\n    public static void main(String[] args) {\r\n        String filename = &quot;path/to/your/file.txt&quot;;\r\n\r\n        try (RandomAccessFile raf = new RandomAccessFile(filename, &quot;rw&quot;)) {\r\n            long fileLength = raf.length();\r\n            if (fileLength == 0) {\r\n                // File is empty, nothing to delete\r\n                return;\r\n            }\r\n\r\n            // Start searching for the last newline character from the end of the file\r\n            long position = fileLength - 1;\r\n            raf.seek(position);\r\n\r\n            int lastByte;\r\n            while ((lastByte = raf.read()) != -1) {\r\n                if (lastByte == &#39;\\n&#39;) {\r\n                    // Found the last newline character\r\n                    break;\r\n                }\r\n                position--;\r\n                raf.seek(position);\r\n            }\r\n\r\n            // Truncate the file at the position of the last newline character\r\n            raf.setLength(position);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"Deleting the last line of a file with Java","body":"<p>By using <code>RandomAccessFile</code> you can:</p>\n<ul>\n<li>find the position of the last new line character. To read the position: <strong>getFilePointer()</strong>. To truncate the file: <strong>setLength(long)</strong>.</li>\n<li>optimization: to read only end of the file use method <strong>seek(long)</strong> to jump ahead. Challenge is to define the jump.</li>\n</ul>\n<p>Otherwise read whole file and store only the last position of the &quot;\\n&quot;. // Unix new line convention</p>\n<pre><code>import java.io.*;\n\npublic class TruncateFileExample {\n    public static void main(String[] args) {\n        String filename = &quot;path/to/your/file.txt&quot;;\n\n        try (RandomAccessFile raf = new RandomAccessFile(filename, &quot;rw&quot;)) {\n            long fileLength = raf.length();\n            if (fileLength == 0) {\n                // File is empty, nothing to delete\n                return;\n            }\n\n            // Start searching for the last newline character from the end of the file\n            long position = fileLength - 1;\n            raf.seek(position);\n\n            int lastByte;\n            while ((lastByte = raf.read()) != -1) {\n                if (lastByte == '\\n') {\n                    // Found the last newline character\n                    break;\n                }\n                position--;\n                raf.seek(position);\n            }\n\n            // Truncate the file at the position of the last newline character\n            raf.setLength(position);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":249310,"reputation":2533,"user_id":525271,"accept_rate":67,"display_name":"Sergiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9870,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9149691,"answer_count":2,"score":9,"last_activity_date":1686755753,"creation_date":1328448774,"question_id":9149648,"body_markdown":"I have a `.txt` file, which I want to process in Java. I want to delete its last line.\r\n\r\nI need ideas on how to achieve this without having to copy the entire content into another file and ignoring the last line.  Any suggestions?\r\n","title":"Deleting the last line of a file with Java","body":"<p>I have a <code>.txt</code> file, which I want to process in Java. I want to delete its last line.</p>\n\n<p>I need ideas on how to achieve this without having to copy the entire content into another file and ignoring the last line.  Any suggestions?</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686795385,"post_id":76475086,"comment_id":134849502,"body_markdown":"Seems like a plugin applied implicitly with the `org.openjfx.javafxplugin` plugin isn&#39;t compatible with your version of Gradle. Try updating that plugin from `0.0.10` to the latest version (`0.0.14` at the time of writing this comment).","body":"Seems like a plugin applied implicitly with the <code>org.openjfx.javafxplugin</code> plugin isn&#39;t compatible with your version of Gradle. Try updating that plugin from <code>0.0.10</code> to the latest version (<code>0.0.14</code> at the time of writing this comment)."}],"owner":{"account_id":21503239,"reputation":1,"user_id":17331937,"display_name":"Metatronix "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686755746,"creation_date":1686755746,"question_id":76475086,"body_markdown":"I&#39;m trying to build a JavaFX application using Gradle. This is my first time using Gradle, so it is a fresh install. Like the title suggests, when I go to build my application, there is a build failure when it gets to the task responsible for creating the start scripts: startScripts.\r\nThe traceback goes as such:\r\n\r\n```\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.String org.gradle.api.tasks.JavaExec.getMain()&#39;\t\r\nat org.javamodularity.moduleplugin.tasks.AbstractExecutionMutator.getMainClassName(AbstractExecutionMutator.java:26)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.buildStartScriptsJvmArgs(StartScriptsMutator.java:83)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.configureStartScriptsDoFirst(StartScriptsMutator.java:61)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:42)\t\r\nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:39)\t\r\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:828)\t\r\nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\t\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\t\r\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\t\r\nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\t\r\nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\t\r\nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\t\r\nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\t\r\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\t\r\nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\t\r\nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\t\r\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\t\r\nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\t\r\nat org.gradle.internal.Either$Right.fold(Either.java:175)\t\r\nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\t\r\nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\t\r\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\t\r\nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\t\r\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\t\r\nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\t\r\nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\t\r\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\t\r\nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\t\r\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\t\r\nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\t\r\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\t\r\nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\t\r\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\t\r\nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\t\r\nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\t\r\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\t\r\nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\t\r\nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\t\r\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\t\r\nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\t\r\nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\t\r\nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\t\r\nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\t\r\nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\t\r\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\t\r\nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\t\r\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\t\r\nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\t\r\nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\t\r\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\t\r\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\t\r\nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\t\r\nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\t\r\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\t\r\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\t\r\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\t\r\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\t\r\nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\t\r\nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\t\r\nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\t\r\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\t\r\nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\t\r\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\t\r\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n```\r\n\r\nIt should also be mentioned that Gradle is warning me about a deprecation: \r\n```\r\nThe AbstractCompile.destinationDir property has been deprecated.\t\r\nThis is scheduled to be removed in Gradle 9.0.\t\r\nPlease use the destinationDirectory property instead.\r\n```\r\nMy build.gradle file is as follows:\r\n\r\n```\r\nplugins {\r\n  id &#39;application&#39;\r\n  id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n  id &#39;org.beryx.jlink&#39; version &#39;2.24.4&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\njavafx {\r\n    version = &quot;20&quot;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;tech.jimothy.InitiativeTracker&#39;\r\n    }\r\n}\r\n\r\napplication {\r\n    mainClass = &quot;tech.jimothy.InitiativeTracker&quot;\r\n    mainModule = &quot;tech.jimothy&quot;\r\n}\r\n\r\njlink {\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;tech.jimothy&#39;\r\n    }\r\n}\r\n```\r\n\r\n&#39;gradle -version&#39; yields:\r\n\r\n```\r\n------------------------------------------------------------\r\nGradle 8.1.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-04-21 12:31:26 UTC\r\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.15\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9)\r\nOS:           Linux 6.3.5-arch1-1 amd64\r\n```\r\n\r\n\r\n\r\n\r\nAt first, I thought maybe the deprecation had something to do with it, but the documentation on it wasn&#39;t too clear to me. I am new to the Gradle DSL based on Groovy, so a lot of this is confusing to me. I would really appreciate some guidance with this error. ","title":"Gradle failing to build at startScripts task: java.lang.NoSuchMethodError: &#39;java.lang.String org.gradle.api.tasks.JavaExec.getMain()&#39;","body":"<p>I'm trying to build a JavaFX application using Gradle. This is my first time using Gradle, so it is a fresh install. Like the title suggests, when I go to build my application, there is a build failure when it gets to the task responsible for creating the start scripts: startScripts.\nThe traceback goes as such:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.String org.gradle.api.tasks.JavaExec.getMain()'  \nat org.javamodularity.moduleplugin.tasks.AbstractExecutionMutator.getMainClassName(AbstractExecutionMutator.java:26)    \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.buildStartScriptsJvmArgs(StartScriptsMutator.java:83)  \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator.configureStartScriptsDoFirst(StartScriptsMutator.java:61)  \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:42) \nat org.javamodularity.moduleplugin.tasks.StartScriptsMutator$1.execute(StartScriptsMutator.java:39) \nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:828)    \nat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)    \nat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)  \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)  \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)  \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210) \nat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193) \nat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)    \nat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)    \nat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)  \nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)  \nat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53) \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73) \nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56) \nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44) \nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67) \nat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37) \nat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41) \nat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)   \nat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55) \nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50) \nat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28) \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)   \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)   \nat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)   \nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40) \nat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29) \nat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)  \nat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)  \nat org.gradle.internal.Either$Right.fold(Either.java:175)   \nat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)    \nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)   \nat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)   \nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36) \nat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25) \nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36) \nat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22) \nat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)    \nat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)  \nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)   \nat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)   \nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)   \nat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)   \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)    \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)    \nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76) \nat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37) \nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)   \nat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)   \nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71) \nat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81) \nat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53) \nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32) \nat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21) \nat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)  \nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)   \nat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)   \nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75) \nat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41) \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)    \nat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)    \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30) \nat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21) \nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37) \nat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27) \nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)   \nat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)   \nat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)  \nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)   \nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)  \nat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)   \nat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)   \nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57) \nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)   \nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)   \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)   \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)  \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)    \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157) \nat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)  \nat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53) \nat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73) \nat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52) \nat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)   \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)  \nat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)  \nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)   \nat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)   \nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)   \nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\n</code></pre>\n<p>It should also be mentioned that Gradle is warning me about a deprecation:</p>\n<pre><code>The AbstractCompile.destinationDir property has been deprecated.    \nThis is scheduled to be removed in Gradle 9.0.  \nPlease use the destinationDirectory property instead.\n</code></pre>\n<p>My build.gradle file is as follows:</p>\n<pre><code>plugins {\n  id 'application'\n  id 'org.openjfx.javafxplugin' version '0.0.10'\n  id 'org.beryx.jlink' version '2.24.4'\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;20&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'tech.jimothy.InitiativeTracker'\n    }\n}\n\napplication {\n    mainClass = &quot;tech.jimothy.InitiativeTracker&quot;\n    mainModule = &quot;tech.jimothy&quot;\n}\n\njlink {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'tech.jimothy'\n    }\n}\n</code></pre>\n<p>'gradle -version' yields:</p>\n<pre><code>------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9)\nOS:           Linux 6.3.5-arch1-1 amd64\n</code></pre>\n<p>At first, I thought maybe the deprecation had something to do with it, but the documentation on it wasn't too clear to me. I am new to the Gradle DSL based on Groovy, so a lot of this is confusing to me. I would really appreciate some guidance with this error.</p>\n"},{"tags":["java","arraylist","java-8"],"comments":[{"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"score":0,"creation_date":1686744409,"post_id":76473282,"comment_id":134840698,"body_markdown":"Please fix your question, your Employee class won&#39;t compile as it has not types for its fields","body":"Please fix your question, your Employee class won&#39;t compile as it has not types for its fields"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686744755,"post_id":76473282,"comment_id":134840793,"body_markdown":"Why is that class called `Components` if it encapsulates *one* entity?","body":"Why is that class called <code>Components</code> if it encapsulates <i>one</i> entity?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686744768,"post_id":76473282,"comment_id":134840796,"body_markdown":"Use a set instead of a list and make equals/hashCode look at empId.","body":"Use a set instead of a list and make equals/hashCode look at empId."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686745937,"post_id":76473282,"comment_id":134841067,"body_markdown":"You still don&#39;t have the right code posted. You can&#39;t &quot;convert&quot; a single employee with a *collection* of the class you wrongly call `Components` since an employee only has one according to your code","body":"You still don&#39;t have the right code posted. You can&#39;t &quot;convert&quot; a single employee with a <i>collection</i> of the class you wrongly call <code>Components</code> since an employee only has one according to your code"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686747684,"creation_date":1686747684,"answer_id":76473880,"question_id":76473282,"body_markdown":"First you should change your expected result, because it contains a collection of elements and not one property twice (hard to perform that in Java):\r\n``` lang-json\r\n{\r\n  &quot;convertedEmployees&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,\r\n      &quot;components&quot;: [\r\n        {\r\n          &quot;cmpId&quot;: 1,\r\n          &quot;cmpName&quot;: &quot;ABC&quot;\r\n        },\r\n        {\r\n          &quot;cmpId&quot;: 2,\r\n          &quot;cmpName&quot;: &quot;BCD&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThe Java classes to achieve this (please separate them into individual files,  add annotations as appropriate and set visibility as private as possible):\r\n``` lang-java\r\nclass Root {\r\n  Set&lt;EmployeeConverter&gt; convertedEmployees = new HashSet&lt;&gt;();\r\n}\r\n\r\nclass EmployeeConverter {\r\n  int empId;\r\n  Set&lt;Component&gt; components = new HashSet&lt;&gt;();\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return empId;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    EmployeeConverter employeeConverter = (EmployeeConverter) o;\r\n    return empId == employeeConverter.empId;\r\n  }\r\n}\r\n\r\nclass Component {\r\n  int cmpId;\r\n  String cmpName;\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return cmpId;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) {\r\n      return true;\r\n    }\r\n    if (o == null || getClass() != o.getClass()) {\r\n      return false;\r\n    }\r\n    Component component = (Component) o;\r\n    return cmpId == component.cmpId;\r\n  }\r\n}\r\n```\r\n\r\nThe outer `Root` class is necessary because the outer object also has a property `convertedEmployees` that is already a collection. I made all of your collections actually sets because you want to deduplicate contents. For this it is necessary to provide proper `equals` and `hashcode` implementations (they always have to go together) - you can let them generate in most IDEs that are a bit specialized on Java. I distinguished just by the IDs, not by the other content in my implementation, since that&#39;s what seems appropriate for your requirements.\r\n\r\nWhen you now put multiple `Component`s into one `EmployeeConverter` they will automatically be deduplicated. Also when you put multiple `EmployeeConverter`s into the `Root`.\r\n\r\nAs I&#39;m not sure about how you read in the JSON, `Map`s with the ID as key could be better suited instead of the `Set`s.","title":"How to remove the duplicate from inner list","body":"<p>First you should change your expected result, because it contains a collection of elements and not one property twice (hard to perform that in Java):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;convertedEmployees&quot;: [\n    {\n      &quot;empId&quot;: 30594,\n      &quot;components&quot;: [\n        {\n          &quot;cmpId&quot;: 1,\n          &quot;cmpName&quot;: &quot;ABC&quot;\n        },\n        {\n          &quot;cmpId&quot;: 2,\n          &quot;cmpName&quot;: &quot;BCD&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>The Java classes to achieve this (please separate them into individual files,  add annotations as appropriate and set visibility as private as possible):</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Root {\n  Set&lt;EmployeeConverter&gt; convertedEmployees = new HashSet&lt;&gt;();\n}\n\nclass EmployeeConverter {\n  int empId;\n  Set&lt;Component&gt; components = new HashSet&lt;&gt;();\n\n  @Override\n  public int hashCode() {\n    return empId;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    EmployeeConverter employeeConverter = (EmployeeConverter) o;\n    return empId == employeeConverter.empId;\n  }\n}\n\nclass Component {\n  int cmpId;\n  String cmpName;\n\n  @Override\n  public int hashCode() {\n    return cmpId;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    Component component = (Component) o;\n    return cmpId == component.cmpId;\n  }\n}\n</code></pre>\n<p>The outer <code>Root</code> class is necessary because the outer object also has a property <code>convertedEmployees</code> that is already a collection. I made all of your collections actually sets because you want to deduplicate contents. For this it is necessary to provide proper <code>equals</code> and <code>hashcode</code> implementations (they always have to go together) - you can let them generate in most IDEs that are a bit specialized on Java. I distinguished just by the IDs, not by the other content in my implementation, since that's what seems appropriate for your requirements.</p>\n<p>When you now put multiple <code>Component</code>s into one <code>EmployeeConverter</code> they will automatically be deduplicated. Also when you put multiple <code>EmployeeConverter</code>s into the <code>Root</code>.</p>\n<p>As I'm not sure about how you read in the JSON, <code>Map</code>s with the ID as key could be better suited instead of the <code>Set</code>s.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686755703,"creation_date":1686755703,"answer_id":76475077,"question_id":76473282,"body_markdown":"You may try library _Josson_ to transform the JSON and remove the duplicate by function `group()`.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;Employee\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\r\n        &quot;      \\&quot;components\\&quot;: {&quot; +\r\n        &quot;        \\&quot;cmpid\\&quot;: 2,&quot; +\r\n        &quot;        \\&quot;cmpName\\&quot;: \\&quot;BCD\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(EmployeeConverter:&quot; +\r\n        &quot;        Employee&quot; +\r\n        &quot;        .group(empId,components)&quot; +\r\n        &quot;        .field(components&quot; +\r\n        &quot;               .group(cmpid,cmpName)&quot; +\r\n        &quot;               .field(cmpName[0])&quot; +\r\n        &quot;         )&quot; +\r\n        &quot;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;EmployeeConverter&quot; : [ {\r\n        &quot;empId&quot; : 30594,\r\n        &quot;components&quot; : [ {\r\n          &quot;cmpid&quot; : 1,\r\n          &quot;cmpName&quot; : &quot;ABC&quot;\r\n        }, {\r\n          &quot;cmpid&quot; : 2,\r\n          &quot;cmpName&quot; : &quot;BCD&quot;\r\n        } ]\r\n      } ]\r\n    }\r\n","title":"How to remove the duplicate from inner list","body":"<p>You may try library <em>Josson</em> to transform the JSON and remove the duplicate by function <code>group()</code>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;Employee\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 1,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;ABC\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;empId\\&quot;: 30594,&quot; +\n    &quot;      \\&quot;components\\&quot;: {&quot; +\n    &quot;        \\&quot;cmpid\\&quot;: 2,&quot; +\n    &quot;        \\&quot;cmpName\\&quot;: \\&quot;BCD\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(EmployeeConverter:&quot; +\n    &quot;        Employee&quot; +\n    &quot;        .group(empId,components)&quot; +\n    &quot;        .field(components&quot; +\n    &quot;               .group(cmpid,cmpName)&quot; +\n    &quot;               .field(cmpName[0])&quot; +\n    &quot;         )&quot; +\n    &quot;)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;EmployeeConverter&quot; : [ {\n    &quot;empId&quot; : 30594,\n    &quot;components&quot; : [ {\n      &quot;cmpid&quot; : 1,\n      &quot;cmpName&quot; : &quot;ABC&quot;\n    }, {\n      &quot;cmpid&quot; : 2,\n      &quot;cmpName&quot; : &quot;BCD&quot;\n    } ]\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":19567278,"reputation":89,"user_id":14319127,"display_name":"reddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76475077,"answer_count":2,"score":0,"last_activity_date":1686755703,"creation_date":1686743794,"question_id":76473282,"body_markdown":"Below is the model class\r\n\r\n``` lang-java\r\npublic class Employee {\r\n    private int empId;\r\n    private Components components;\r\n}\r\n\r\npublic class Components{\r\n    private int cmpid;\r\n    private String cmpName;\r\n}\r\n```\r\nBelow is the Json response which I got from Database\r\n\r\n``` lang-json\r\n{\r\n  &quot;Employee&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 2,\r\n        &quot;cmpName&quot;: &quot;BCD&quot;\r\n      },\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI want to convert in to the below Object (remove the component object if duplicate example componenetid 1 and name ABC )\r\n\r\n``` lang-java\r\npublic class EmployeeConverter {\r\n\r\n    private int employeeID\r\n    List&lt;Components&gt; components\r\n}\r\n```\r\n``` lang-json    \r\n{\r\n  &quot;EmployeeConverter&quot;: [\r\n    {\r\n      &quot;empId&quot;: 30594,      \r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 1,\r\n        &quot;cmpName&quot;: &quot;ABC&quot;\r\n      },\r\n      &quot;components&quot;: {\r\n        &quot;cmpid&quot;: 2,\r\n        &quot;cmpName&quot;: &quot;BCD&quot;\r\n      }                \r\n    }\r\n  ]\r\n}\r\n```\r\nI am able to achieve using the for loop by going through each record but just wanted to check if there is there any way to achieve using the java8 ","title":"How to remove the duplicate from inner list","body":"<p>Below is the model class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n    private int empId;\n    private Components components;\n}\n\npublic class Components{\n    private int cmpid;\n    private String cmpName;\n}\n</code></pre>\n<p>Below is the Json response which I got from Database</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;Employee&quot;: [\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      }\n    },\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      }\n    },\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 2,\n        &quot;cmpName&quot;: &quot;BCD&quot;\n      },\n    }\n  ]\n}\n</code></pre>\n<p>I want to convert in to the below Object (remove the component object if duplicate example componenetid 1 and name ABC )</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeConverter {\n\n    private int employeeID\n    List&lt;Components&gt; components\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;EmployeeConverter&quot;: [\n    {\n      &quot;empId&quot;: 30594,      \n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 1,\n        &quot;cmpName&quot;: &quot;ABC&quot;\n      },\n      &quot;components&quot;: {\n        &quot;cmpid&quot;: 2,\n        &quot;cmpName&quot;: &quot;BCD&quot;\n      }                \n    }\n  ]\n}\n</code></pre>\n<p>I am able to achieve using the for loop by going through each record but just wanted to check if there is there any way to achieve using the java8</p>\n"},{"tags":["java","git"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1686748002,"post_id":76472484,"comment_id":134841613,"body_markdown":"_&quot;Git has the function of recording the modification history of files&quot;_ funnily enough it doesn&#39;t. It takes snapshots of files, and the diffs are calculated dynamically.","body":"<i>&quot;Git has the function of recording the modification history of files&quot;</i> funnily enough it doesn&#39;t. It takes snapshots of files, and the diffs are calculated dynamically."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1686749634,"post_id":76472484,"comment_id":134841983,"body_markdown":"@evolutionxbox Sorry, I misunderstood Git. But if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?","body":"@evolutionxbox Sorry, I misunderstood Git. But if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?"},{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1686749785,"post_id":76472484,"comment_id":134842016,"body_markdown":"Not really since it uses very efficient compression algorithms. This is also why we don&#39;t store binaries, or similar files, in git without using git-lfs.","body":"Not really since it uses very efficient compression algorithms. This is also why we don&#39;t store binaries, or similar files, in git without using git-lfs."},{"owner":{"account_id":10847936,"reputation":84938,"user_id":7976758,"display_name":"phd"},"score":0,"creation_date":1686755737,"post_id":76472484,"comment_id":134843482,"body_markdown":"@SageJustus &quot;*â€¦if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?*&quot; Quite a common misunderstanding. Git actually never saves copies of identical files â€” it stores references to previous files.","body":"@SageJustus &quot;<i>â€¦if git saves each snapshot, doesn&#39;t it need to consume a lot of storage space?</i>&quot; Quite a common misunderstanding. Git actually never saves copies of identical files â€” it stores references to previous files."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1686786262,"post_id":76472484,"comment_id":134848674,"body_markdown":"@phd Are the `identical files` you mean the exact same files? If only one line is different, is it `identical files`?","body":"@phd Are the <code>identical files</code> you mean the exact same files? If only one line is different, is it <code>identical files</code>?"},{"owner":{"account_id":10847936,"reputation":84938,"user_id":7976758,"display_name":"phd"},"score":0,"creation_date":1686805560,"post_id":76472484,"comment_id":134850324,"body_markdown":"@SageJustus No, identical files must be identical. One line different â€” and Git stores the different files under different addresses in its DB. But again, it employs tricks to lower required disk space. Sometimes it stores full blobs and sometimes it optimizes storage by storing only difference (deltas).","body":"@SageJustus No, identical files must be identical. One line different â€” and Git stores the different files under different addresses in its DB. But again, it employs tricks to lower required disk space. Sometimes it stores full blobs and sometimes it optimizes storage by storing only difference (deltas)."}],"answers":[{"comments":[{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1686786004,"post_id":76475019,"comment_id":134848651,"body_markdown":"Actually, I don&#39;t want to reinvent the wheel. But I also can&#39;t use a pure blogging framework, because I actually want to integrate this functionality in my Java project. Can you briefly talk about `https://jbake.org`&#39;s requirement for keeping historical records, and what technology does it use?","body":"Actually, I don&#39;t want to reinvent the wheel. But I also can&#39;t use a pure blogging framework, because I actually want to integrate this functionality in my Java project. Can you briefly talk about <code>https:&#47;&#47;jbake.org</code>&#39;s requirement for keeping historical records, and what technology does it use?"},{"owner":{"account_id":6540,"reputation":14591,"user_id":11047,"display_name":"Adrian J. Moreno"},"score":0,"creation_date":1686811714,"post_id":76475019,"comment_id":134851168,"body_markdown":"I&#39;ve no idea about JBake, it&#39;s just the first Java-based project I found while looking for something like Jekyll.","body":"I&#39;ve no idea about JBake, it&#39;s just the first Java-based project I found while looking for something like Jekyll."}],"tags":[],"owner":{"account_id":6540,"reputation":14591,"user_id":11047,"display_name":"Adrian J. Moreno"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686755333,"creation_date":1686755333,"answer_id":76475019,"question_id":76472484,"body_markdown":"I think you&#39;re trying to reinvent the wheel here. There is an offering called [GitHub Pages][1], which allows you to create a blog using markdown files. Under the hood, the static site generator https://jekyllrb.com (Ruby) converts the markdown files to HTML. You manage all the blog files with `git`, tracking changes over time of course. Push an update to your production branch, then relative files are generated and pushed live. \r\n\r\nThere&#39;s also a static site generator built with Java called https://jbake.org. You can view the source code for that, which should give you some insight into how to accomplish what you&#39;re describing. \r\n\r\n\r\n  [1]: https://pages.github.com/","title":"How to use git to record the modification history of blog posts in building a blog website?","body":"<p>I think you're trying to reinvent the wheel here. There is an offering called <a href=\"https://pages.github.com/\" rel=\"nofollow noreferrer\">GitHub Pages</a>, which allows you to create a blog using markdown files. Under the hood, the static site generator <a href=\"https://jekyllrb.com\" rel=\"nofollow noreferrer\">https://jekyllrb.com</a> (Ruby) converts the markdown files to HTML. You manage all the blog files with <code>git</code>, tracking changes over time of course. Push an update to your production branch, then relative files are generated and pushed live.</p>\n<p>There's also a static site generator built with Java called <a href=\"https://jbake.org\" rel=\"nofollow noreferrer\">https://jbake.org</a>. You can view the source code for that, which should give you some insight into how to accomplish what you're describing.</p>\n"}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686755333,"creation_date":1686738016,"question_id":76472484,"body_markdown":"I found out that SO can record the history of modifying questions.\r\n\r\n[![Edit Record Screenshot][1]][1]\r\n\r\nI want to build a blog with a function to view and record the modification history of all blog posts.\r\n\r\nGit has the function of recording the modification history of files.\r\n\r\n**How should I combine Git and Java to achieve this functionality? Or shouldn&#39;t Git be used for this functionality?**\r\n\r\nAny ideas can help me, thanks.\r\n\r\n  [1]: https://i.stack.imgur.com/6jUtO.png","title":"How to use git to record the modification history of blog posts in building a blog website?","body":"<p>I found out that SO can record the history of modifying questions.</p>\n<p><a href=\"https://i.stack.imgur.com/6jUtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jUtO.png\" alt=\"Edit Record Screenshot\" /></a></p>\n<p>I want to build a blog with a function to view and record the modification history of all blog posts.</p>\n<p>Git has the function of recording the modification history of files.</p>\n<p><strong>How should I combine Git and Java to achieve this functionality? Or shouldn't Git be used for this functionality?</strong></p>\n<p>Any ideas can help me, thanks.</p>\n"},{"tags":["java","floating-point","double","rounding"],"comments":[{"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"score":0,"creation_date":1332920092,"post_id":9902968,"comment_id":12634790,"body_markdown":"In my case the answer is 0 and not 1 and the last line it is not printing as it breaks the loop there. Here is my output ......\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 0","body":"In my case the answer is 0 and not 1 and the last line it is not printing as it breaks the loop there. Here is my output ...... 8.499999999999998 rounded is 8 7.5 rounded is 8 7.499999999999999 rounded is 7 6.5 rounded is 7 6.499999999999999 rounded is 6 5.5 rounded is 6 5.499999999999999 rounded is 5 4.5 rounded is 5 4.499999999999999 rounded is 4 3.5 rounded is 4 3.4999999999999996 rounded is 3 2.5 rounded is 3 2.4999999999999996 rounded is 2 1.5 rounded is 2 1.4999999999999998 rounded is 1 0.5 rounded is 1 0.49999999999999994 rounded is 0"},{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":1,"creation_date":1332920647,"post_id":9902968,"comment_id":12634957,"body_markdown":"On java 1.7.0 it works ok http://i.imgur.com/hZeqx.png","body":"On java 1.7.0 it works ok <a href=\"http://i.imgur.com/hZeqx.png\" rel=\"nofollow noreferrer\">i.imgur.com/hZeqx.png</a>"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1332921182,"post_id":9902968,"comment_id":12635121,"body_markdown":"@Adel: See my comment on [Oli&#39;s answer](http://stackoverflow.com/a/9903075/157247), looks like Java 6 implements this (and [documents that it does](http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double))) in a way that can cause a further loss of precision by adding `0.5` to the number and then using `floor`; Java 7 [no longer documents it that way](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)) (presumably/hopefully because they fixed it).","body":"@Adel: See my comment on <a href=\"http://stackoverflow.com/a/9903075/157247\">Oli&#39;s answer</a>, looks like Java 6 implements this (and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">documents that it does</a>) in a way that can cause a further loss of precision by adding <code>0.5</code> to the number and then using <code>floor</code>; Java 7 <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">no longer documents it that way</a> (presumably/hopefully because they fixed it)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1332955955,"post_id":9902968,"comment_id":12649090,"body_markdown":"It was a bug in a test program I wrote. ;)","body":"It was a bug in a test program I wrote. ;)"},{"owner":{"account_id":1489317,"reputation":9140,"user_id":1396822,"accept_rate":82,"display_name":"aka.nice"},"score":0,"creation_date":1342002665,"post_id":9902968,"comment_id":15079312,"body_markdown":"Ah good find ! I found another problem of floor(x+0.5) in old Squeak Smalltalk http://bugs.squeak.org/view.php?id=7134","body":"Ah good find ! I found another problem of floor(x+0.5) in old Squeak Smalltalk <a href=\"http://bugs.squeak.org/view.php?id=7134\" rel=\"nofollow noreferrer\">bugs.squeak.org/view.php?id=7134</a>"},{"owner":{"account_id":1038955,"reputation":55573,"user_id":1045444,"accept_rate":89,"display_name":"Somnath Muluk"},"score":0,"creation_date":1472562792,"post_id":9902968,"comment_id":65794028,"body_markdown":"Because [Accuracy_problems](https://en.wikipedia.org/wiki/Floating_point#Accuracy_problems)","body":"Because <a href=\"https://en.wikipedia.org/wiki/Floating_point#Accuracy_problems\" rel=\"nofollow noreferrer\">Accuracy_problems</a>"},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512730441,"post_id":9902968,"comment_id":82385582,"body_markdown":"Another example that shows floating point values cannot be taken at face value.","body":"Another example that shows floating point values cannot be taken at face value."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1512732420,"post_id":9902968,"comment_id":82386648,"body_markdown":"@Micha&#235;lRoy esp when work on the edge of it&#39;s accuracy. A favourite example for me is `1.0 % 0.1` is hard to explain.","body":"@Micha&#235;lRoy esp when work on the edge of it&#39;s accuracy. A favourite example for me is <code>1.0 % 0.1</code> is hard to explain."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512735099,"post_id":9902968,"comment_id":82388151,"body_markdown":"After thinking about it.  I don&#39;t see a problem.   0.49999999999999994 is larger than the smallest representable number less than 0.5, and the representation in **decimal human-readable form is itself an approximation** that is trying to fool us.","body":"After thinking about it.  I don&#39;t see a problem.   0.49999999999999994 is larger than the smallest representable number less than 0.5, and the representation in <b>decimal human-readable form is itself an approximation</b> that is trying to fool us."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1512739161,"post_id":9902968,"comment_id":82390419,"body_markdown":"@Micha&#235;lRoy `0.49999999999999994 &lt; 0.5` as `double`s is true. As it is less than 0.5 it should round down.","body":"@Micha&#235;lRoy <code>0.49999999999999994 &lt; 0.5</code> as <code>double</code>s is true. As it is less than 0.5 it should round down."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1512740691,"post_id":9902968,"comment_id":82391293,"body_markdown":"I do understand. and the error is half of the precision.  Which is itself half of the precision after a single addition.  This is akin to sampling noise, in a way.","body":"I do understand. and the error is half of the precision.  Which is itself half of the precision after a single addition.  This is akin to sampling noise, in a way."}],"answers":[{"comments":[{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1332920663,"post_id":9903075,"comment_id":12634964,"body_markdown":"I don&#39;t see that definition of `round` in [the Javadoc for `Math.round`](http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)) or in the overview of the `Math` class.","body":"I don&#39;t see that definition of <code>round</code> in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\">the Javadoc for <code>Math.round</code></a> or in the overview of the <code>Math</code> class."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1332920819,"post_id":9903075,"comment_id":12635002,"body_markdown":"@ Oli: Oh now that&#39;s interesting, they took that bit out for Java 7 (the docs I linked to) -- maybe in order to avoid causing this sort of odd behavior by triggering a (further) loss of precision.","body":"@ Oli: Oh now that&#39;s interesting, they took that bit out for Java 7 (the docs I linked to) -- maybe in order to avoid causing this sort of odd behavior by triggering a (further) loss of precision."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1332921152,"post_id":9903075,"comment_id":12635109,"body_markdown":"@T.J.Crowder: Yes, it is interesting.  Do you know if there&#39;s any kind of &quot;release notes&quot;/&quot;improvements&quot; doc for individual Java versions, so that we can verify this assumption?","body":"@T.J.Crowder: Yes, it is interesting.  Do you know if there&#39;s any kind of &quot;release notes&quot;/&quot;improvements&quot; doc for individual Java versions, so that we can verify this assumption?"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1332924806,"post_id":9903075,"comment_id":12636321,"body_markdown":"@ Oli: I expect there must be something buried in here: http://www.oracle.com/technetwork/java/javase/jdk7-relnotes-429209.html Hard to see trees what with all that forest.","body":"@ Oli: I expect there must be something buried in here: <a href=\"http://www.oracle.com/technetwork/java/javase/jdk7-relnotes-429209.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/jdk7-relnotes-429209.html</a> Hard to see trees what with all that forest."},{"owner":{"account_id":277464,"reputation":509,"user_id":571484,"accept_rate":50,"display_name":"Mohammad Fadin"},"score":0,"creation_date":1333405574,"post_id":9903075,"comment_id":12759377,"body_markdown":"Could you explain the last 2 lines for me please? &quot;This is because 0.49999999999999994 ........&quot;","body":"Could you explain the last 2 lines for me please? &quot;This is because 0.49999999999999994 ........&quot;"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":6,"creation_date":1333405672,"post_id":9903075,"comment_id":12759396,"body_markdown":"@MohammadFadin: Take a look at e.g. http://en.wikipedia.org/wiki/Single_precision and http://en.wikipedia.org/wiki/Unit_in_the_last_place.","body":"@MohammadFadin: Take a look at e.g. <a href=\"http://en.wikipedia.org/wiki/Single_precision\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Single_precision</a> and <a href=\"http://en.wikipedia.org/wiki/Unit_in_the_last_place\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Unit_in_the_last_place</a>."},{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":0,"creation_date":1407741731,"post_id":9903075,"comment_id":39316031,"body_markdown":"It looks to me as though the OpenJDK 7 code that you show would still fail for (for example) `a = 5e15 + 1`: with this value, `a + 0.5d` is not exactly representable, so with round-ties-to-even the result of the sum is rounded up to `5e15 + 2` (and the floor, of course, would have no effect).  What am I missing?  (FWIW, Python 2.5 had this bug, as well as the bug the OP describes; `round(5e15 + 1)` gives `5000000000000002.0`.  Both are fixed in Python 2.6 and later.)","body":"It looks to me as though the OpenJDK 7 code that you show would still fail for (for example) <code>a = 5e15 + 1</code>: with this value, <code>a + 0.5d</code> is not exactly representable, so with round-ties-to-even the result of the sum is rounded up to <code>5e15 + 2</code> (and the floor, of course, would have no effect).  What am I missing?  (FWIW, Python 2.5 had this bug, as well as the bug the OP describes; <code>round(5e15 + 1)</code> gives <code>5000000000000002.0</code>.  Both are fixed in Python 2.6 and later.)"},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1407746923,"post_id":9903075,"comment_id":39318555,"body_markdown":"@MarkDickinson: Perhaps there are two bugs :)","body":"@MarkDickinson: Perhaps there are two bugs :)"},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1412107119,"post_id":9903075,"comment_id":40953625,"body_markdown":"@MarkDickinson: Would adding 0x1.fffffffffffffp-2 and then adding in 0x0.0000000000001 p-2, rather adding 0.5 directly, be a good approach?  Adding the former value would be equivalent to adding 0.5 except when the result would be either very near zero, or too large to add 0.5 precisely.","body":"@MarkDickinson: Would adding 0x1.fffffffffffffp-2 and then adding in 0x0.0000000000001 p-2, rather adding 0.5 directly, be a good approach?  Adding the former value would be equivalent to adding 0.5 except when the result would be either very near zero, or too large to add 0.5 precisely."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":2,"creation_date":1512884958,"post_id":9903075,"comment_id":82432905,"body_markdown":"I can&#39;t help but think that this fix is only cosmetic, since zero is most visible. There are no doubt many other floating point values affected by this rounding error.","body":"I can&#39;t help but think that this fix is only cosmetic, since zero is most visible. There are no doubt many other floating point values affected by this rounding error."},{"owner":{"account_id":3941049,"reputation":51697,"user_id":3255455,"display_name":"gnasher729"},"score":3,"creation_date":1591764304,"post_id":9903075,"comment_id":110176176,"body_markdown":"@Micha&#235;lRoy Actually, no. It&#39;s that one specific number. No other number is smaller than n + 1/2 but close enough to n + 1/2 so that adding x + 1/2 gives n + 1 and not something smaller.","body":"@Micha&#235;lRoy Actually, no. It&#39;s that one specific number. No other number is smaller than n + 1/2 but close enough to n + 1/2 so that adding x + 1/2 gives n + 1 and not something smaller."},{"owner":{"account_id":2796858,"reputation":6358,"user_id":2430669,"display_name":"Micha&#235;l Roy"},"score":1,"creation_date":1591880939,"post_id":9903075,"comment_id":110227840,"body_markdown":"@gnasher  I disagree.  Rounding is domain-dependent for this reason.  You do not round numbers the same way for scientific applications and financial applications for this very reason.  For example: using anything else than floor(x + .5f) for graphics or DSP will inevitably lead to disaster.  That&#39;s probably also why round() is never used in scientific apps.","body":"@gnasher  I disagree.  Rounding is domain-dependent for this reason.  You do not round numbers the same way for scientific applications and financial applications for this very reason.  For example: using anything else than floor(x + .5f) for graphics or DSP will inevitably lead to disaster.  That&#39;s probably also why round() is never used in scientific apps."}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":12,"down_vote_count":4,"up_vote_count":597,"is_accepted":true,"score":593,"last_activity_date":1686754580,"creation_date":1332920281,"answer_id":9903075,"question_id":9902968,"body_markdown":"**Summary**\r\n\r\nIn Java 6 (and presumably earlier), `round(x)` is implemented as `floor(x+0.5)`.&lt;sup&gt;1&lt;/sup&gt;   This is a specification bug, for precisely this one pathological case.&lt;sup&gt;2&lt;/sup&gt;  Java 7 no longer mandates this broken implementation.&lt;sup&gt;3&lt;/sup&gt;\r\n\r\n**The problem**\r\n\r\n0.5+0.49999999999999994 is exactly 1 in double precision:\r\n\r\n    static void print(double d) {\r\n        System.out.printf(&quot;%016x\\n&quot;, Double.doubleToLongBits(d));\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        double a = 0.5;\r\n        double b = 0.49999999999999994;\r\n\r\n        print(a);      // 3fe0000000000000\r\n        print(b);      // 3fdfffffffffffff\r\n        print(a+b);    // 3ff0000000000000\r\n        print(1.0);    // 3ff0000000000000\r\n    }\r\n\r\nThis is because 0.49999999999999994 has a smaller exponent than 0.5, so when they&#39;re added, its mantissa is shifted, and the ULP gets bigger.\r\n\r\n**The solution**\r\n\r\nSince Java 7, OpenJDK (for example) implements it thus:&lt;sup&gt;4&lt;/sup&gt;\r\n\r\n    public static long round(double a) {\r\n        if (a != 0x1.fffffffffffffp-2) // greatest double value less than 0.5\r\n            return (long)floor(a + 0.5d);\r\n        else\r\n            return 0;\r\n    }\r\n\r\n&lt;hr&gt;\r\n\r\n&lt;sub&gt;\r\n1. http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n2. https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675 (credits to @SimonNickerson for finding this)\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n3. http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\r\n&lt;/sub&gt;\r\n\r\n&lt;sub&gt;\r\n4. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/lang/Math.java#Math.round%28double%29\r\n&lt;/sub&gt;","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p><strong>Summary</strong></p>\n<p>In Java 6 (and presumably earlier), <code>round(x)</code> is implemented as <code>floor(x+0.5)</code>.<sup>1</sup>   This is a specification bug, for precisely this one pathological case.<sup>2</sup>  Java 7 no longer mandates this broken implementation.<sup>3</sup></p>\n<p><strong>The problem</strong></p>\n<p>0.5+0.49999999999999994 is exactly 1 in double precision:</p>\n<pre><code>static void print(double d) {\n    System.out.printf(&quot;%016x\\n&quot;, Double.doubleToLongBits(d));\n}\n\npublic static void main(String args[]) {\n    double a = 0.5;\n    double b = 0.49999999999999994;\n\n    print(a);      // 3fe0000000000000\n    print(b);      // 3fdfffffffffffff\n    print(a+b);    // 3ff0000000000000\n    print(1.0);    // 3ff0000000000000\n}\n</code></pre>\n<p>This is because 0.49999999999999994 has a smaller exponent than 0.5, so when they're added, its mantissa is shifted, and the ULP gets bigger.</p>\n<p><strong>The solution</strong></p>\n<p>Since Java 7, OpenJDK (for example) implements it thus:<sup>4</sup></p>\n<pre><code>public static long round(double a) {\n    if (a != 0x1.fffffffffffffp-2) // greatest double value less than 0.5\n        return (long)floor(a + 0.5d);\n    else\n        return 0;\n}\n</code></pre>\n<hr>\n<sub>\n1. http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#round%28double%29\n</sub>\n<sub>\n2. https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675 (credits to @SimonNickerson for finding this)\n</sub>\n<sub>\n3. http://docs.oracle.com/javase/7/docs/api/java/lang/Math.html#round%28double%29\n</sub>\n<sub>\n4. http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/lang/Math.java#Math.round%28double%29\n</sub>\n"},{"comments":[{"owner":{"account_id":2080753,"reputation":2368,"user_id":1852787,"accept_rate":100,"display_name":"Iv&#225;n P&#233;rez"},"score":0,"creation_date":1412256666,"post_id":9903125,"comment_id":41014092,"body_markdown":"In Java 7 (the version you are using to test it) the bug is fixed.","body":"In Java 7 (the version you are using to test it) the bug is fixed."},{"owner":{"account_id":118083,"reputation":11385,"user_id":308851,"accept_rate":82,"display_name":"chx"},"score":1,"creation_date":1424350973,"post_id":9903125,"comment_id":45518227,"body_markdown":"I think you meant 32 bit. I doubt http://en.wikipedia.org/wiki/ZEBRA_%28computer%29 could run Java and I doubt there has been a 33 bit machine since.","body":"I think you meant 32 bit. I doubt <a href=\"http://en.wikipedia.org/wiki/ZEBRA_%28computer%29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/ZEBRA_%28computer%29</a> could run Java and I doubt there has been a 33 bit machine since."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":0,"creation_date":1424351172,"post_id":9903125,"comment_id":45518348,"body_markdown":"@chx quite obviously, because I&#39;ve written 32 bit before :)","body":"@chx quite obviously, because I&#39;ve written 32 bit before :)"}],"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"comment_count":3,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1510770238,"creation_date":1332920550,"answer_id":9903125,"question_id":9902968,"body_markdown":"I&#39;ve got the same on JDK 1.6 32-bit, but on Java 7 64-bit I&#39;ve got 0 for 0.49999999999999994 which rounded is 0 and the last line is not printed. It seems to be a VM issue, however, using floating points, you should expect the results to differ a bit on various environments (CPU, 32- or 64-bit mode).\r\n\r\nAnd, when using `round` or inverting matrices, etc., these *bits* can make a huge difference.\r\n\r\nx64 output:\r\n\r\n    10.5 rounded is 11\r\n    10.499999999999998 rounded is 10\r\n    9.5 rounded is 10\r\n    9.499999999999998 rounded is 9\r\n    8.5 rounded is 9\r\n    8.499999999999998 rounded is 8\r\n    7.5 rounded is 8\r\n    7.499999999999999 rounded is 7\r\n    6.5 rounded is 7\r\n    6.499999999999999 rounded is 6\r\n    5.5 rounded is 6\r\n    5.499999999999999 rounded is 5\r\n    4.5 rounded is 5\r\n    4.499999999999999 rounded is 4\r\n    3.5 rounded is 4\r\n    3.4999999999999996 rounded is 3\r\n    2.5 rounded is 3\r\n    2.4999999999999996 rounded is 2\r\n    1.5 rounded is 2\r\n    1.4999999999999998 rounded is 1\r\n    0.5 rounded is 1\r\n    0.49999999999999994 rounded is 0\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>I've got the same on JDK 1.6 32-bit, but on Java 7 64-bit I've got 0 for 0.49999999999999994 which rounded is 0 and the last line is not printed. It seems to be a VM issue, however, using floating points, you should expect the results to differ a bit on various environments (CPU, 32- or 64-bit mode).</p>\n\n<p>And, when using <code>round</code> or inverting matrices, etc., these <em>bits</em> can make a huge difference.</p>\n\n<p>x64 output:</p>\n\n<pre><code>10.5 rounded is 11\n10.499999999999998 rounded is 10\n9.5 rounded is 10\n9.499999999999998 rounded is 9\n8.5 rounded is 9\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":6,"creation_date":1332921375,"post_id":9903269,"comment_id":12635182,"body_markdown":"+1: Nice find!  Ties in with the differences in documentation between Java 6 and 7 as explained in my answer.","body":"+1: Nice find!  Ties in with the differences in documentation between Java 6 and 7 as explained in my answer."},{"owner":{"account_id":1637842,"reputation":155176,"user_id":1708801,"accept_rate":30,"display_name":"Shafik Yaghmour"},"score":2,"creation_date":1510816692,"post_id":9903269,"comment_id":81598098,"body_markdown":"Implementing round() is [a lot harder than most would think](https://stackoverflow.com/a/24348037/1708801)","body":"Implementing round() is <a href=\"https://stackoverflow.com/a/24348037/1708801\">a lot harder than most would think</a>"},{"owner":{"account_id":4671000,"reputation":3197,"user_id":3782797,"accept_rate":100,"display_name":"vinc17"},"score":0,"creation_date":1686755911,"post_id":9903269,"comment_id":134843518,"body_markdown":"@ShafikYaghmour On this subject, x86 only implements rounding to integer in the 4 IEEE 754-1985 rounding modes (`vroundsd` instruction), but unfortunately, this means that for rounding to nearest, this is ties-to-even instead of ties-to-away as specified for `round()`. Adding ties-to-away in hardware would probably cost almost nothing when one already has the other rounding modes. I don&#39;t know this case for the other architectures.","body":"@ShafikYaghmour On this subject, x86 only implements rounding to integer in the 4 IEEE 754-1985 rounding modes (<code>vroundsd</code> instruction), but unfortunately, this means that for rounding to nearest, this is ties-to-even instead of ties-to-away as specified for <code>round()</code>. Adding ties-to-away in hardware would probably cost almost nothing when one already has the other rounding modes. I don&#39;t know this case for the other architectures."}],"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"comment_count":3,"down_vote_count":0,"up_vote_count":241,"is_accepted":false,"score":241,"last_activity_date":1686754770,"creation_date":1332921233,"answer_id":9903269,"question_id":9902968,"body_markdown":"This appears to be a known bug (&lt;a href=&quot;https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675&quot;&gt;Java bug 6430675: Math.round has surprising behavior for 0x1.fffffffffffffp-2&lt;/a&gt;) which has been fixed in Java 7.","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>This appears to be a known bug (<a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\" rel=\"nofollow noreferrer\">Java bug 6430675: Math.round has surprising behavior for 0x1.fffffffffffffp-2</a>) which has been fixed in Java 7.</p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1332942783,"post_id":9903777,"comment_id":12643374,"body_markdown":"what happens with 1.499999999999999994 here then? returns 2 ? it should return 1, but this should get you the same error as earlier, but with a 1. ?","body":"what happens with 1.499999999999999994 here then? returns 2 ? it should return 1, but this should get you the same error as earlier, but with a 1. ?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":7,"creation_date":1333019545,"post_id":9903777,"comment_id":12666608,"body_markdown":"1.499999999999999994 cannot be represented in double-precision floating-point. 1.4999999999999998 is the smallest double less than 1.5. As you can see from the question, the `floor` method rounds it correctly.","body":"1.499999999999999994 cannot be represented in double-precision floating-point. 1.4999999999999998 is the smallest double less than 1.5. As you can see from the question, the <code>floor</code> method rounds it correctly."}],"tags":[],"owner":{"account_id":473751,"reputation":19104,"user_id":883033,"accept_rate":63,"display_name":"Chandra Sekhar"},"comment_count":2,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1510771311,"creation_date":1332923397,"answer_id":9903777,"question_id":9902968,"body_markdown":"Source code in JDK 6:\r\n\r\n    public static long round(double a) {\r\n        return (long)Math.floor(a + 0.5d);\r\n    }\r\n\r\nSource code in JDK 7:\r\n\r\n    public static long round(double a) {\r\n        if (a != 0x1.fffffffffffffp-2) {\r\n            // a is not the greatest double value less than 0.5\r\n            return (long)Math.floor(a + 0.5d);\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\nWhen the value is 0.49999999999999994d, in JDK 6, it will call **floor** and hence returns 1, but in JDK 7, the `if` condition is checking whether the number is the greatest double value less than 0.5 or not. As in this case the number is not the greatest double value less than 0.5, so the `else` block returns 0.\r\n\r\nYou can try 0.49999999999999999d, which will return 1, but not 0, because this is the greatest double value less than 0.5.\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>Source code in JDK 6:</p>\n\n<pre><code>public static long round(double a) {\n    return (long)Math.floor(a + 0.5d);\n}\n</code></pre>\n\n<p>Source code in JDK 7:</p>\n\n<pre><code>public static long round(double a) {\n    if (a != 0x1.fffffffffffffp-2) {\n        // a is not the greatest double value less than 0.5\n        return (long)Math.floor(a + 0.5d);\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>When the value is 0.49999999999999994d, in JDK 6, it will call <strong>floor</strong> and hence returns 1, but in JDK 7, the <code>if</code> condition is checking whether the number is the greatest double value less than 0.5 or not. As in this case the number is not the greatest double value less than 0.5, so the <code>else</code> block returns 0.</p>\n\n<p>You can try 0.49999999999999999d, which will return 1, but not 0, because this is the greatest double value less than 0.5.</p>\n"},{"tags":[],"owner":{"account_id":953085,"reputation":1269,"user_id":978865,"accept_rate":11,"display_name":"S.P Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1510774314,"creation_date":1370431181,"answer_id":16938560,"question_id":9902968,"body_markdown":"The answer hereafter is an excerpt of an [Oracle][1] [bug report 6430675][2] at. Visit the report for the full explanation.\r\n\r\n**The methods {Math, StrictMath.round are operationally defined as**\r\n\r\n    (long)Math.floor(a + 0.5d)\r\n\r\nfor double arguments. While this definition usually works as expected, it gives the surprising result of 1, rather than 0, for 0x1.fffffffffffffp-2 (0.49999999999999994).\r\n\r\nThe value 0.49999999999999994 is the greatest floating-point value less than 0.5. As a hexadecimal floating-point literal its value is 0x1.fffffffffffffp-2, which is equal to (2 - 2^52) * 2^-2. == (0.5 - 2^54).  Therefore, the exact value of the sum\r\n\r\n    (0.5 - 2^54) + 0.5\r\n\r\nis 1 - 2^54. This is halfway between the two adjacent floating-point numbers (1 - 2^53) and 1. In the IEEE 754 arithmetic round to nearest even rounding mode used by Java, when a floating-point results is inexact, the closer of the two representable floating-point values which bracket the exact result must be returned; if both values are equally close, the one which its last bit zero is returned. In this case the correct return value from the add is 1, not the greatest value less than 1.\r\n\r\nWhile the method is operating as defined, the behavior on this input is very surprising; the specification could be amended to something more like &quot;Round to the closest long, rounding ties up,&quot; which would allow the behavior on this input to be changed.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>The answer hereafter is an excerpt of an <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle</a> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6430675\" rel=\"nofollow noreferrer\">bug report 6430675</a> at. Visit the report for the full explanation.</p>\n<p><strong>The methods {Math, StrictMath.round are operationally defined as</strong></p>\n<pre><code>(long)Math.floor(a + 0.5d)\n</code></pre>\n<p>for double arguments. While this definition usually works as expected, it gives the surprising result of 1, rather than 0, for 0x1.fffffffffffffp-2 (0.49999999999999994).</p>\n<p>The value 0.49999999999999994 is the greatest floating-point value less than 0.5. As a hexadecimal floating-point literal its value is 0x1.fffffffffffffp-2, which is equal to (2 - 2^52) * 2^-2. == (0.5 - 2^54).  Therefore, the exact value of the sum</p>\n<pre><code>(0.5 - 2^54) + 0.5\n</code></pre>\n<p>is 1 - 2^54. This is halfway between the two adjacent floating-point numbers (1 - 2^53) and 1. In the IEEE 754 arithmetic round to nearest even rounding mode used by Java, when a floating-point results is inexact, the closer of the two representable floating-point values which bracket the exact result must be returned; if both values are equally close, the one which its last bit zero is returned. In this case the correct return value from the add is 1, not the greatest value less than 1.</p>\n<p>While the method is operating as defined, the behavior on this input is very surprising; the specification could be amended to something more like &quot;Round to the closest long, rounding ties up,&quot; which would allow the behavior on this input to be changed.</p>\n"}],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78956,"favorite_count":0,"down_vote_count":3,"up_vote_count":593,"accepted_answer_id":9903075,"answer_count":5,"score":590,"last_activity_date":1686754770,"creation_date":1332919827,"question_id":9902968,"body_markdown":"In the following program you can see that each value slightly less than `.5` is rounded down, except for `0.5`.\r\n\r\n    for (int i = 10; i &gt;= 0; i--) {\r\n        long l = Double.doubleToLongBits(i + 0.5);\r\n        double x;\r\n        do {\r\n            x = Double.longBitsToDouble(l);\r\n            System.out.println(x + &quot; rounded is &quot; + Math.round(x));\r\n            l--;\r\n        } while (Math.round(x) &gt; i);\r\n    }\r\n\r\nprints\r\n\r\n    10.5 rounded is 11\r\n    10.499999999999998 rounded is 10\r\n    9.5 rounded is 10\r\n    9.499999999999998 rounded is 9\r\n    8.5 rounded is 9\r\n    8.499999999999998 rounded is 8\r\n    7.5 rounded is 8\r\n    7.499999999999999 rounded is 7\r\n    6.5 rounded is 7\r\n    6.499999999999999 rounded is 6\r\n    5.5 rounded is 6\r\n    5.499999999999999 rounded is 5\r\n    4.5 rounded is 5\r\n    4.499999999999999 rounded is 4\r\n    3.5 rounded is 4\r\n    3.4999999999999996 rounded is 3\r\n    2.5 rounded is 3\r\n    2.4999999999999996 rounded is 2\r\n    1.5 rounded is 2\r\n    1.4999999999999998 rounded is 1\r\n    0.5 rounded is 1\r\n    0.49999999999999994 rounded is 1\r\n    0.4999999999999999 rounded is 0\r\n\r\nI am using Java 6 update 31.\r\n","title":"Why does Math.round(0.49999999999999994) return 1?","body":"<p>In the following program you can see that each value slightly less than <code>.5</code> is rounded down, except for <code>0.5</code>.</p>\n\n<pre><code>for (int i = 10; i &gt;= 0; i--) {\n    long l = Double.doubleToLongBits(i + 0.5);\n    double x;\n    do {\n        x = Double.longBitsToDouble(l);\n        System.out.println(x + \" rounded is \" + Math.round(x));\n        l--;\n    } while (Math.round(x) &gt; i);\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>10.5 rounded is 11\n10.499999999999998 rounded is 10\n9.5 rounded is 10\n9.499999999999998 rounded is 9\n8.5 rounded is 9\n8.499999999999998 rounded is 8\n7.5 rounded is 8\n7.499999999999999 rounded is 7\n6.5 rounded is 7\n6.499999999999999 rounded is 6\n5.5 rounded is 6\n5.499999999999999 rounded is 5\n4.5 rounded is 5\n4.499999999999999 rounded is 4\n3.5 rounded is 4\n3.4999999999999996 rounded is 3\n2.5 rounded is 3\n2.4999999999999996 rounded is 2\n1.5 rounded is 2\n1.4999999999999998 rounded is 1\n0.5 rounded is 1\n0.49999999999999994 rounded is 1\n0.4999999999999999 rounded is 0\n</code></pre>\n\n<p>I am using Java 6 update 31.</p>\n"},{"tags":["java","java-8","httpurlconnection","http-patch"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686739266,"post_id":76472589,"comment_id":134839602,"body_markdown":"If you got error 405, or any other HTTP status code, it means there is no problem with your client code. The server rejected the verb PATCH. That&#39;s where you need to look. NB &quot;please ignore multiple try/catch block added in above code since it is just TEST code&quot; is not any kind of an excuse. Test code needs to be just as good as production code. Otherwise you&#39;re only testing bugs in the test code. There is no point in writing rubbish in the first place, let alone debugging the rubbish to remove the rubbish that you shouldn&#39;t have written in the first place.","body":"If you got error 405, or any other HTTP status code, it means there is no problem with your client code. The server rejected the verb PATCH. That&#39;s where you need to look. NB &quot;please ignore multiple try/catch block added in above code since it is just TEST code&quot; is not any kind of an excuse. Test code needs to be just as good as production code. Otherwise you&#39;re only testing bugs in the test code. There is no point in writing rubbish in the first place, let alone debugging the rubbish to remove the rubbish that you shouldn&#39;t have written in the first place."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1686740334,"post_id":76472589,"comment_id":134839818,"body_markdown":"As @xerx593 says: What happened when you actually used PATCH? And are you certain that the URL you are hitting supports that method?","body":"As @xerx593 says: What happened when you actually used PATCH? And are you certain that the URL you are hitting supports that method?"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686743978,"post_id":76472589,"comment_id":134840582,"body_markdown":"Hi @tgdavies \nPlease see updated code by using PATCH method directly and corresponding ERROR Logs too. yes client API only accept PATCH method (works via curl/postman). Let me know if you need anymore info","body":"Hi @tgdavies  Please see updated code by using PATCH method directly and corresponding ERROR Logs too. yes client API only accept PATCH method (works via curl/postman). Let me know if you need anymore info"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686744287,"post_id":76472589,"comment_id":134840671,"body_markdown":"Hi @user207421\nAs you suggested remodified code by removing multiple try/catch blocks. That client API only accepts PATCH, not sure why this PATCH request rejected , so after googling added below mentioned lined in code to overcome issue, unfortunately not working even after added below lines...\npatchConnection.setRequestMethod(&quot;POST&quot;);patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);","body":"Hi @user207421 As you suggested remodified code by removing multiple try/catch blocks. That client API only accepts PATCH, not sure why this PATCH request rejected , so after googling added below mentioned lined in code to overcome issue, unfortunately not working even after added below lines... patchConnection.setRequestMethod(&quot;POST&quot;);patchConnection.set&zwnj;&#8203;RequestProperty(&quot;X-H&zwnj;&#8203;TTP-Method-Override&quot;&zwnj;&#8203;, &quot;PATCH&quot;);"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686745947,"post_id":76472589,"comment_id":134841071,"body_markdown":"I can only repeat. You need to investigate the server. The error message shows that the PATCH got through, so the problem isn&#39;t at the client.","body":"I can only repeat. You need to investigate the server. The error message shows that the PATCH got through, so the problem isn&#39;t at the client."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1686750812,"post_id":76472589,"comment_id":134842295,"body_markdown":"Correct, this jdk version client unfortunately (due to an [outdated restriction](https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/net/HttpURLConnection.java#L314)) doesn&#39;t support this (PATCH) http method. i would not try to hack (method-override), but (with java8) look for an alternative (/3rd party) client or try to upgrade java...","body":"Correct, this jdk version client unfortunately (due to an <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/net/HttpURLConnection.java#L314\" rel=\"nofollow noreferrer\">outdated restriction</a>) doesn&#39;t support this (PATCH) http method. i would not try to hack (method-override), but (with java8) look for an alternative (/3rd party) client or try to upgrade java..."},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686751366,"post_id":76472589,"comment_id":134842438,"body_markdown":"Hi @xerx593\nThanks for your valuable response. Even tried with &quot;X-HTTP-Method-Override&quot; , seems like not working, what other 3rd party libraries available to send PATCH request?can you suggest some other way in java 8 itself? Note: As told earlier Java upgrade is not possible in my case since there is dependency with Infra","body":"Hi @xerx593 Thanks for your valuable response. Even tried with &quot;X-HTTP-Method-Override&quot; , seems like not working, what other 3rd party libraries available to send PATCH request?can you suggest some other way in java 8 itself? Note: As told earlier Java upgrade is not possible in my case since there is dependency with Infra"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1686752601,"post_id":76472589,"comment_id":134842723,"body_markdown":"you tried [this fix](https://stackoverflow.com/a/32503192/592355) (without considering the &quot;server part&quot;:) ...when the server is not under your control (and it doesn&#39;t work out of box), it is waste of time. Alternatively (staying on java8): https://hc.apache.org/index.html seems an &quot;approved oss&quot; choice, as confirmed by [1](https://stackoverflow.com/a/25163132/592355), [2](https://stackoverflow.com/a/46907921/592355). &quot;Hacking client&quot; though seems also quite popular [3](https://stackoverflow.com/a/46323891/592355), [4](https://stackoverflow.com/a/40606633/592355)","body":"you tried <a href=\"https://stackoverflow.com/a/32503192/592355\">this fix</a> (without considering the &quot;server part&quot;:) ...when the server is not under your control (and it doesn&#39;t work out of box), it is waste of time. Alternatively (staying on java8): <a href=\"https://hc.apache.org/index.html\" rel=\"nofollow noreferrer\">hc.apache.org/index.html</a> seems an &quot;approved oss&quot; choice, as confirmed by <a href=\"https://stackoverflow.com/a/25163132/592355\">1</a>, <a href=\"https://stackoverflow.com/a/46907921/592355\">2</a>. &quot;Hacking client&quot; though seems also quite popular <a href=\"https://stackoverflow.com/a/46323891/592355\">3</a>, <a href=\"https://stackoverflow.com/a/40606633/592355\">4</a>"}],"answers":[{"comments":[{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686903601,"post_id":76474925,"comment_id":134865113,"body_markdown":"Hi @evren\nI tired above mentioned way also, still getting &quot;405 Method Not Allowed&quot; error response. no luck","body":"Hi @evren I tired above mentioned way also, still getting &quot;405 Method Not Allowed&quot; error response. no luck"},{"owner":{"account_id":2408344,"reputation":375,"user_id":2104151,"accept_rate":50,"display_name":"techprat"},"score":0,"creation_date":1686917474,"post_id":76474925,"comment_id":134867989,"body_markdown":"have you tried from some other rest client like postman or soap ui. where you can easily change the http method and header and test the API. As it might be that the service endpoint is not excepting some other http method for the operation you are trying","body":"have you tried from some other rest client like postman or soap ui. where you can easily change the http method and header and test the API. As it might be that the service endpoint is not excepting some other http method for the operation you are trying"},{"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"score":0,"creation_date":1686918452,"post_id":76474925,"comment_id":134868189,"body_markdown":"Hi @techprat\nYes tried via postman with PATCH method, which gives desired results, the same endpoint trying to invoke via programming which resulted &quot;405 Method Not Allowed&quot; error.","body":"Hi @techprat Yes tried via postman with PATCH method, which gives desired results, the same endpoint trying to invoke via programming which resulted &quot;405 Method Not Allowed&quot; error."}],"tags":[],"owner":{"account_id":22429349,"reputation":130,"user_id":16635445,"display_name":"evren"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686754677,"creation_date":1686754677,"answer_id":76474925,"question_id":76472589,"body_markdown":"&quot;PATCH&quot; is not supported with Java 8 for setRequestedMethod within HttpURLConnection. You can use &quot;POST&quot; instead and set &quot;X-HTTP-Method-Override&quot; header attribute to &quot;PATCH&quot; as a work-around solution.\r\n\r\n    patchConnection.setRequestMethod(&quot;POST&quot;);\r\n    patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n\r\n","title":"Invalid HTTP method: PATCH in Java 8","body":"<p>&quot;PATCH&quot; is not supported with Java 8 for setRequestedMethod within HttpURLConnection. You can use &quot;POST&quot; instead and set &quot;X-HTTP-Method-Override&quot; header attribute to &quot;PATCH&quot; as a work-around solution.</p>\n<pre><code>patchConnection.setRequestMethod(&quot;POST&quot;);\npatchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\n</code></pre>\n"}],"owner":{"account_id":13729295,"reputation":867,"user_id":9907182,"display_name":"Justin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686754677,"creation_date":1686738822,"question_id":76472589,"body_markdown":"I am trying to post payload to ClientApp RESTAPI via `PATCH` as `HTTP_METHOD` in Java.\r\n\r\nThere are lot of similar ERROR found in google and got suggestion to use `X-HTTP-Method-Override` header.\r\n\r\nI followed [this blog][1] code base to achieve the same.\r\n\r\n**Java Version:** `1.8.0_171`\r\n\r\nCode:\r\n\r\n    package com.in.Test;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.ProtocolException;\r\n    import java.net.URL;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    \r\n    public class ConnectToCorbion {\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t String PATCH_PARAMS = &quot;[ { \\&quot;op\\&quot;: \\&quot;replace\\&quot;, \\&quot;path\\&quot;: \\&quot;/optionalFields1/text1\\&quot;, \\&quot;value\\&quot;: \\&quot;SR234568\\&quot;, \\&quot;from\\&quot; : \\&quot;string\\&quot; }]&quot;;\r\n    \t\tString my_url = &quot;https://uat.clientapp.com/api/ChangeActivities&quot;;\r\n    \t\tbyte[] patchData       = PATCH_PARAMS.getBytes( StandardCharsets.UTF_8 );\r\n    \t\tURL obj = null;\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;BEFORE&quot;);\r\n    \t\t\tobj = new URL(my_url);\r\n    \t\t\tSystem.out.println(&quot;AFTER&quot;);\r\n    \t\r\n    \t\t\r\n    \t\tString username = &quot;username&quot;;\r\n    \t\tString password = &quot;password&quot;;\r\n    \r\n    \t\tHttpURLConnection patchConnection = null;\r\n    \t\r\n    \t\t\tSystem.out.println(&quot;BEFORE openConnection&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tpatchConnection = (HttpURLConnection) obj.openConnection();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;AFTER openConnection&quot;);\r\n    \t\t\tpatchConnection.setRequestMethod(&quot;PATCH&quot;);\r\n    \t\t//patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tpatchConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\tpatchConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json-patch+json&quot;);\r\n    \t\tpatchConnection.setRequestProperty(&quot;messageType&quot;, &quot;application/json-patch+json&quot;);\r\n    \r\n    \t\t// connection code if you are using java 8 or above\r\n    \t\tpatchConnection.setRequestProperty(&quot;Authorization&quot;,\r\n    \t\t    &quot;Basic &quot; + Base64.getEncoder().encodeToString(\r\n    \t\t      (username + &quot;:&quot; + password).getBytes()\r\n    \t\t    )\r\n    \t\t);\r\n    \t\t// connection code if you are using java 8 or above ends here\r\n    \r\n    \t\t\r\n    \r\n    \t\tpatchConnection.setDoOutput(true);\r\n    \t\tOutputStream os = null;\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;BEFORE getOutputStream&quot;);\r\n    \t\t\tos = patchConnection.getOutputStream();\r\n    \t\t\tSystem.out.println(&quot;AFTER getOutputStream&quot;);\r\n    \t\t\r\n    \t\r\n    \t\t\tos.write(PATCH_PARAMS.getBytes());\r\n    \t\t\r\n    \t\r\n    \t\t\tos.flush();\r\n    \t\t\r\n    \t\t\tos.close();\r\n    \t\t\r\n    \r\n    \t\tint responseCode = 0;\r\n    \t\t\r\n    \t\t\tresponseCode = patchConnection.getResponseCode();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Response Code :  &quot; + responseCode);\r\n    \r\n    \t\tif (responseCode == HttpURLConnection.HTTP_CREATED) { //success\r\n    \t\t    BufferedReader in = null;\r\n    \t\t\r\n    \t\t\t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\t\tpatchConnection.getInputStream()));\r\n    \t\t\t\r\n    \t\t    String inputLine;\r\n    \t\t    StringBuffer response = new StringBuffer();\r\n    \r\n    \t\t   \r\n    \t\t\t\twhile ((inputLine = in .readLine()) != null) {\r\n    \t\t\t\t    response.append(inputLine);\r\n    \t\t\t\t}\r\n    \t\t\t\r\n    \t\t\t\tin .close();\r\n    \t\t\t\r\n    \t\t    System.out.println(response.toString());\r\n    \t\t} else {\r\n    \t\t    System.out.println(&quot;PATCH NOT WORKING&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**ERROR LOG:**\r\n\r\n    BEFORE\r\n    AFTER\r\n    BEFORE openConnection\r\n    AFTER openConnection\r\n    Exception in thread &quot;main&quot; java.net.ProtocolException: Invalid HTTP method: PATCH\r\n    \tat java.net.HttpURLConnection.setRequestMethod(Unknown Source)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.setRequestMethod(Unknown Source)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(Unknown Source)\r\n    \tat com.in.Test.ConnectToCorbion.main(ConnectToCorbion.java:44)\r\n\r\n**Note:** Not able to upgrade Java version as it depends on Organization infra setup.\r\n\r\nHow can i able to achieve this PATCH Request ? Kindly suggest me what went wrong or some other way to achieve the same\r\n\r\n  [1]: https://www.technicalbridge.in/2022/08/how-to-invoke-rest-api-patch-request-with-auth-using-java.html?sc=1686736475347#c1023887268308670265\r\n","title":"Invalid HTTP method: PATCH in Java 8","body":"<p>I am trying to post payload to ClientApp RESTAPI via <code>PATCH</code> as <code>HTTP_METHOD</code> in Java.</p>\n<p>There are lot of similar ERROR found in google and got suggestion to use <code>X-HTTP-Method-Override</code> header.</p>\n<p>I followed <a href=\"https://www.technicalbridge.in/2022/08/how-to-invoke-rest-api-patch-request-with-auth-using-java.html?sc=1686736475347#c1023887268308670265\" rel=\"nofollow noreferrer\">this blog</a> code base to achieve the same.</p>\n<p><strong>Java Version:</strong> <code>1.8.0_171</code></p>\n<p>Code:</p>\n<pre><code>package com.in.Test;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.ProtocolException;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic class ConnectToCorbion {\n    \n    \n    \n    public static void main(String[] args) throws IOException {\n        \n         String PATCH_PARAMS = &quot;[ { \\&quot;op\\&quot;: \\&quot;replace\\&quot;, \\&quot;path\\&quot;: \\&quot;/optionalFields1/text1\\&quot;, \\&quot;value\\&quot;: \\&quot;SR234568\\&quot;, \\&quot;from\\&quot; : \\&quot;string\\&quot; }]&quot;;\n        String my_url = &quot;https://uat.clientapp.com/api/ChangeActivities&quot;;\n        byte[] patchData       = PATCH_PARAMS.getBytes( StandardCharsets.UTF_8 );\n        URL obj = null;\n        \n            System.out.println(&quot;BEFORE&quot;);\n            obj = new URL(my_url);\n            System.out.println(&quot;AFTER&quot;);\n    \n        \n        String username = &quot;username&quot;;\n        String password = &quot;password&quot;;\n\n        HttpURLConnection patchConnection = null;\n    \n            System.out.println(&quot;BEFORE openConnection&quot;);\n            try {\n                patchConnection = (HttpURLConnection) obj.openConnection();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            System.out.println(&quot;AFTER openConnection&quot;);\n            patchConnection.setRequestMethod(&quot;PATCH&quot;);\n        //patchConnection.setRequestProperty(&quot;X-HTTP-Method-Override&quot;, &quot;PATCH&quot;);\n        \n        \n        \n        patchConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        patchConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json-patch+json&quot;);\n        patchConnection.setRequestProperty(&quot;messageType&quot;, &quot;application/json-patch+json&quot;);\n\n        // connection code if you are using java 8 or above\n        patchConnection.setRequestProperty(&quot;Authorization&quot;,\n            &quot;Basic &quot; + Base64.getEncoder().encodeToString(\n              (username + &quot;:&quot; + password).getBytes()\n            )\n        );\n        // connection code if you are using java 8 or above ends here\n\n        \n\n        patchConnection.setDoOutput(true);\n        OutputStream os = null;\n        \n            System.out.println(&quot;BEFORE getOutputStream&quot;);\n            os = patchConnection.getOutputStream();\n            System.out.println(&quot;AFTER getOutputStream&quot;);\n        \n    \n            os.write(PATCH_PARAMS.getBytes());\n        \n    \n            os.flush();\n        \n            os.close();\n        \n\n        int responseCode = 0;\n        \n            responseCode = patchConnection.getResponseCode();\n        \n        System.out.println(&quot;Response Code :  &quot; + responseCode);\n\n        if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\n            BufferedReader in = null;\n        \n                in = new BufferedReader(new InputStreamReader(\n                        patchConnection.getInputStream()));\n            \n            String inputLine;\n            StringBuffer response = new StringBuffer();\n\n           \n                while ((inputLine = in .readLine()) != null) {\n                    response.append(inputLine);\n                }\n            \n                in .close();\n            \n            System.out.println(response.toString());\n        } else {\n            System.out.println(&quot;PATCH NOT WORKING&quot;);\n        }\n        \n    }\n\n}\n</code></pre>\n<p><strong>ERROR LOG:</strong></p>\n<pre><code>BEFORE\nAFTER\nBEFORE openConnection\nAFTER openConnection\nException in thread &quot;main&quot; java.net.ProtocolException: Invalid HTTP method: PATCH\n    at java.net.HttpURLConnection.setRequestMethod(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.setRequestMethod(Unknown Source)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestMethod(Unknown Source)\n    at com.in.Test.ConnectToCorbion.main(ConnectToCorbion.java:44)\n</code></pre>\n<p><strong>Note:</strong> Not able to upgrade Java version as it depends on Organization infra setup.</p>\n<p>How can i able to achieve this PATCH Request ? Kindly suggest me what went wrong or some other way to achieve the same</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":458111,"reputation":397,"user_id":4693472,"display_name":"Laurent G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686754529,"creation_date":1686754359,"question_id":76474859,"body_markdown":"I got a Spring based (boot 2.4.13 &amp; integration 5.4.12) project and aside it another Spring based project that uses some of its code.\r\n\r\nMy problem is that using jars of the first project with a main class from the second, the run fails with a missing dependency diagnostic.\r\n\r\nFunny enough, if I unzip the jars, each in its (new clean) directory and replace its place in the classpath with the unjarred/unzipped directory, it falls into functioning, not failing with missing dependency.\r\n\r\nI checked that unzip -l and find in the unjarred top directory both list .class files in the same order. Same thing for *.properties files that are not pom.properties.\r\n\r\nSo I can not explain the difference in behaviour by plain order between classes nor configuration properties files.\r\n\r\nSo I wonder : is there something done differently (and on purpose) by Spring when classes come from a jar or could it be a lack of luck that directories and pom.properties files order has mattered ?","title":"What would explain Spring Boot behaviour change between jars and plain directories","body":"<p>I got a Spring based (boot 2.4.13 &amp; integration 5.4.12) project and aside it another Spring based project that uses some of its code.</p>\n<p>My problem is that using jars of the first project with a main class from the second, the run fails with a missing dependency diagnostic.</p>\n<p>Funny enough, if I unzip the jars, each in its (new clean) directory and replace its place in the classpath with the unjarred/unzipped directory, it falls into functioning, not failing with missing dependency.</p>\n<p>I checked that unzip -l and find in the unjarred top directory both list .class files in the same order. Same thing for *.properties files that are not pom.properties.</p>\n<p>So I can not explain the difference in behaviour by plain order between classes nor configuration properties files.</p>\n<p>So I wonder : is there something done differently (and on purpose) by Spring when classes come from a jar or could it be a lack of luck that directories and pom.properties files order has mattered ?</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"score":0,"creation_date":1358458063,"post_id":14385753,"comment_id":20015196,"body_markdown":"It would be useful to know which Java version, which app server you are using.","body":"It would be useful to know which Java version, which app server you are using."},{"owner":{"account_id":112555,"reputation":2031,"user_id":296853,"accept_rate":47,"display_name":"Michael Campbell"},"score":0,"creation_date":1358458984,"post_id":14385753,"comment_id":20015590,"body_markdown":"Tomcat 7, Sun/Oracle java 1.6.","body":"Tomcat 7, Sun/Oracle java 1.6."}],"answers":[{"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358447763,"creation_date":1358447763,"answer_id":14385821,"question_id":14385753,"body_markdown":"You need to find a way how to gather some statistic about GC work. Actually there are some methods to do this. I will not do copy-paste, just give you the link to similar question:\r\n\r\n[Can you get basic GC stats in Java?][1]\r\n\r\nI believe, you will think of how to analyze this statistic and decide when GC is constantly active.\r\n\r\nBecause this question contains some new idea of applying GC statistic, I don&#39;t think, that it is duplicate.\r\n\r\n  [1]: https://stackoverflow.com/questions/466878/can-you-get-basic-gc-stats-in-java","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>You need to find a way how to gather some statistic about GC work. Actually there are some methods to do this. I will not do copy-paste, just give you the link to similar question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/466878/can-you-get-basic-gc-stats-in-java\">Can you get basic GC stats in Java?</a></p>\n\n<p>I believe, you will think of how to analyze this statistic and decide when GC is constantly active.</p>\n\n<p>Because this question contains some new idea of applying GC statistic, I don't think, that it is duplicate.</p>\n"},{"comments":[{"owner":{"account_id":112555,"reputation":2031,"user_id":296853,"accept_rate":47,"display_name":"Michael Campbell"},"score":0,"creation_date":1358517473,"post_id":14386035,"comment_id":20035742,"body_markdown":"Thanks - I&#39;m not sure that we are actually *leaking* memory (although we might be); the process is one that is taking in an enormous amount of data and summarizing, so perhaps an algorithm/design change is in order.\n\nThat said, our 0&#39;th step is to just kill the offending process to save the system.  Then we diagnose and fix the problem, but your solution is something we will look into, and I understand where you&#39;re coming from.","body":"Thanks - I&#39;m not sure that we are actually <i>leaking</i> memory (although we might be); the process is one that is taking in an enormous amount of data and summarizing, so perhaps an algorithm/design change is in order.  That said, our 0&#39;th step is to just kill the offending process to save the system.  Then we diagnose and fix the problem, but your solution is something we will look into, and I understand where you&#39;re coming from."}],"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358448586,"creation_date":1358448586,"answer_id":14386035,"question_id":14385753,"body_markdown":"The best thing to do is to find out the memory leak and fix it.\r\n\r\nA simple way to exit on high memory usage:\r\n\r\n    if(Runtime.getRuntime().totalMemory()&gt;100*1024*1024)\r\n        System.exit(0);","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>The best thing to do is to find out the memory leak and fix it.</p>\n\n<p>A simple way to exit on high memory usage:</p>\n\n<pre><code>if(Runtime.getRuntime().totalMemory()&gt;100*1024*1024)\n    System.exit(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358448622,"creation_date":1358448622,"answer_id":14386040,"question_id":14385753,"body_markdown":"Try to look what processes are currently running in the JVM.\r\n\r\n - with `jstack` you can make a thread dump (there are other ways to do that as well)\r\n - with `jvisualvm` you could peek into the current state of the JVM (takes some resources)\r\n - also turn on `verbosegc` (to prove your assumption that GC is frequent)\r\n\r\n","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>Try to look what processes are currently running in the JVM.</p>\n\n<ul>\n<li>with <code>jstack</code> you can make a thread dump (there are other ways to do that as well)</li>\n<li>with <code>jvisualvm</code> you could peek into the current state of the JVM (takes some resources)</li>\n<li>also turn on <code>verbosegc</code> (to prove your assumption that GC is frequent)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":0,"creation_date":1358450903,"post_id":14386549,"comment_id":20011724,"body_markdown":"I don&#39;t think you can modify those parameters though, can you?","body":"I don&#39;t think you can modify those parameters though, can you?"},{"owner":{"account_id":2166167,"reputation":1645,"user_id":1919251,"display_name":"parsifal"},"score":0,"creation_date":1358453377,"post_id":14386549,"comment_id":20012940,"body_markdown":"@sharakan - you can&#39;t modify the actual limits, but the OP seems to be describing the conditions this feature was created to handle. If he isn&#39;t currently using the parallel or concurrent collector, it might be worth switching to one of them.","body":"@sharakan - you can&#39;t modify the actual limits, but the OP seems to be describing the conditions this feature was created to handle. If he isn&#39;t currently using the parallel or concurrent collector, it might be worth switching to one of them."},{"owner":{"account_id":96904,"reputation":6821,"user_id":263149,"accept_rate":81,"display_name":"sharakan"},"score":0,"creation_date":1358518926,"post_id":14386549,"comment_id":20036494,"body_markdown":"@parsifal good point, didn&#39;t realize he hadn&#39;t specified his GC choice in the question.  I assumed he was using CMS.","body":"@parsifal good point, didn&#39;t realize he hadn&#39;t specified his GC choice in the question.  I assumed he was using CMS."}],"tags":[],"owner":{"account_id":2166167,"reputation":1645,"user_id":1919251,"display_name":"parsifal"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1358450734,"creation_date":1358450734,"answer_id":14386549,"question_id":14385753,"body_markdown":"The parallel and concurrent collectors have an &quot;overhead limit&quot; that might do what you want:\r\n\r\n&gt; if more than 98% of the total time is spent in garbage collection and less than 2% of the heap is recovered, an OutOfMemoryError will be thrown\r\n\r\nSee http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html for more information.","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>The parallel and concurrent collectors have an \"overhead limit\" that might do what you want:</p>\n\n<blockquote>\n  <p>if more than 98% of the total time is spent in garbage collection and less than 2% of the heap is recovered, an OutOfMemoryError will be thrown</p>\n</blockquote>\n\n<p>See <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":1034933,"reputation":2686,"user_id":1042483,"accept_rate":73,"display_name":"Imposter"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1358501870,"creation_date":1358501870,"answer_id":14396018,"question_id":14385753,"body_markdown":"We can get the statistics from\r\n \r\n 1):The option -XX:+PrintGCTimeStamps will add a time stamp at the start of each collection. This is useful to see how frequently garbage collections occur.\r\n \r\nWith the above option we can get rough estimation whether you supposition that the process is heroically GC&#39;ing causing a CPU spike or not . \r\n\r\nIf your suppossition is right then start tunig your GC .\r\n\r\n   \r\n\r\n     Both parallel collector and Concurrent Collector will throw an OutOfMemoryError if too much time is being\r\n     spent in garbage collection: if more than 98% of the total time is spent in garbage collection and \r\n    less than 2% of the heap is recovered, an OutOfMemoryError will be thrown. the option X:-UseGCOverheadLimit \r\n     is enabled by default for both Parallel and concurrent collector . Check whether this option is disabled in\r\n     your system .  \r\n\r\n For more information about Gc tuning in JVM refer [this](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html) and for vm debugging options check [this](http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#DebuggingOptions)\r\n\r\n ","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>We can get the statistics from</p>\n\n<p>1):The option -XX:+PrintGCTimeStamps will add a time stamp at the start of each collection. This is useful to see how frequently garbage collections occur.</p>\n\n<p>With the above option we can get rough estimation whether you supposition that the process is heroically GC'ing causing a CPU spike or not . </p>\n\n<p>If your suppossition is right then start tunig your GC .</p>\n\n<pre><code> Both parallel collector and Concurrent Collector will throw an OutOfMemoryError if too much time is being\n spent in garbage collection: if more than 98% of the total time is spent in garbage collection and \nless than 2% of the heap is recovered, an OutOfMemoryError will be thrown. the option X:-UseGCOverheadLimit \n is enabled by default for both Parallel and concurrent collector . Check whether this option is disabled in\n your system .  \n</code></pre>\n\n<p>For more information about Gc tuning in JVM refer <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">this</a> and for vm debugging options check <a href=\"http://www.oracle.com/technetwork/java/javase/tech/vmoptions-jsp-140102.html#DebuggingOptions\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":112555,"reputation":2031,"user_id":296853,"accept_rate":47,"display_name":"Michael Campbell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1686754522,"creation_date":1358447472,"question_id":14385753,"body_markdown":"We have a JVM process that infrequently pegs the CPU at 100%, with what appears to be (according to visualgc) a very nearly exhausted heap.  Our supposition is that the process is heroically GC&#39;ing causing a CPU spike, which is affecting the overall health of the entire system (consisting of other JVMs doing different things).\r\n\r\nThis process is not critical and can be restarted.  Is there a way to tune the JVM via the command line which starts it to make it fall on its own sword rather than it keep GC&#39;ing and causing the entire box to suffer?\r\n\r\nOf note is that we are not getting OOMExceptions, so the heap isn&#39;t TOTALLY exhausted, but just barely not, we think.\r\n\r\nAlternatively, something to give us some insight as to what in the JVM is actually using the CPU in the way that it is to confirm/deny our GC supposition?","title":"How to tune a jvm to crash instead of heroically GC till 100% CPU utilization?","body":"<p>We have a JVM process that infrequently pegs the CPU at 100%, with what appears to be (according to visualgc) a very nearly exhausted heap.  Our supposition is that the process is heroically GC'ing causing a CPU spike, which is affecting the overall health of the entire system (consisting of other JVMs doing different things).</p>\n\n<p>This process is not critical and can be restarted.  Is there a way to tune the JVM via the command line which starts it to make it fall on its own sword rather than it keep GC'ing and causing the entire box to suffer?</p>\n\n<p>Of note is that we are not getting OOMExceptions, so the heap isn't TOTALLY exhausted, but just barely not, we think.</p>\n\n<p>Alternatively, something to give us some insight as to what in the JVM is actually using the CPU in the way that it is to confirm/deny our GC supposition?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":19883552,"reputation":33,"user_id":14671518,"display_name":"taing hong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630998450,"creation_date":1606970772,"answer_id":65120068,"question_id":65009672,"body_markdown":"It works.\r\nmy libraries were not correct.\r\nI downloaded the right library.\r\n\r\nLatest working version : selenium-java-3.141.59","title":"Selenium test returns same error java.net.SocketException with chrome and egde","body":"<p>It works.\nmy libraries were not correct.\nI downloaded the right library.</p>\n<p>Latest working version : selenium-java-3.141.59</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630998475,"post_id":69083625,"comment_id":122097637,"body_markdown":"Please provide additional details in your answer. As it&#39;s currently written, it&#39;s hard to understand your solution.","body":"Please provide additional details in your answer. As it&#39;s currently written, it&#39;s hard to understand your solution."}],"tags":[],"owner":{"account_id":22678301,"reputation":21,"user_id":16848963,"display_name":"Arthur Prin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630997633,"creation_date":1630997633,"answer_id":69083625,"question_id":65009672,"body_markdown":"You can use driver.quit();\r\n\r\nBest regards.","title":"Selenium test returns same error java.net.SocketException with chrome and egde","body":"<p>You can use driver.quit();</p>\n<p>Best regards.</p>\n"}],"owner":{"account_id":19883552,"reputation":33,"user_id":14671518,"display_name":"taing hong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6992,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":65120068,"answer_count":2,"score":0,"last_activity_date":1686754365,"creation_date":1606324630,"question_id":65009672,"body_markdown":"i have a very basic test with selenium.\r\ni tried with chrome then with edge.\r\nthe test runs but at the end, there an error and the test never stops by itself.\r\nI have the same version for chromedriver and chromimum and chrome.\r\nI hace the same version edge driver and edge.\r\ni&#39;m using this version for selenium: selenium-java-4.0.0-alpha-6\r\nHere is the code:\r\n```lang-java\r\npublic class Test2 {   \r\n    public static void main(String[] args) throws InterruptedException {      \r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\selenium\\\\edge\\\\msedgedriver.exe&quot;);\r\n        WebDriver driver = new EdgeDriver();  \r\n        // Launch website  \r\n        driver.navigate().to(&quot;http://www.google.com/&quot;);         \r\n        Thread.sleep(2000);\r\n        driver.close();     \r\n    }   \r\n}\r\n```\r\nHere is the error trace:\r\n&lt;pre&gt;\r\nStarting MSEdgeDriver 87.0.664.47 (ba159091e772c52e16e8d82850f3c8b934507b5d)\r\non port 2793 Only local connections are allowed. \r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping MSEdgeDriver safe.\r\nMSEdgeDriver was started successfully. Nov. 25, 2020 12:06:43 P.M.\r\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO: Detected dialect: W3C 13486 \r\n[AsyncHttpClient-3-3] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError java.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n \tat java.base/java.lang.Thread.run(Thread.java:830) Nov. 25, 2020\r\n12:06:51 P.M. org.openqa.selenium.remote.http.WebSocket$Listener\r\nonError WARNING: Connection reset java.net.SocketException: Connection reset\r\n \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\r\n \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n&lt;/pre&gt;\r\n\r\n","title":"Selenium test returns same error java.net.SocketException with chrome and egde","body":"<p>i have a very basic test with selenium.\ni tried with chrome then with edge.\nthe test runs but at the end, there an error and the test never stops by itself.\nI have the same version for chromedriver and chromimum and chrome.\nI hace the same version edge driver and edge.\ni'm using this version for selenium: selenium-java-4.0.0-alpha-6\nHere is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test2 {   \n    public static void main(String[] args) throws InterruptedException {      \n        System.setProperty(&quot;webdriver.edge.driver&quot;, &quot;C:\\\\selenium\\\\edge\\\\msedgedriver.exe&quot;);\n        WebDriver driver = new EdgeDriver();  \n        // Launch website  \n        driver.navigate().to(&quot;http://www.google.com/&quot;);         \n        Thread.sleep(2000);\n        driver.close();     \n    }   \n}\n</code></pre>\n<p>Here is the error trace:</p>\n<pre>\nStarting MSEdgeDriver 87.0.664.47 (ba159091e772c52e16e8d82850f3c8b934507b5d)\non port 2793 Only local connections are allowed. \nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping MSEdgeDriver safe.\nMSEdgeDriver was started successfully. Nov. 25, 2020 12:06:43 P.M.\norg.openqa.selenium.remote.ProtocolHandshake createSession INFO: Detected dialect: W3C 13486 \n[AsyncHttpClient-3-3] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:830) Nov. 25, 2020\n12:06:51 P.M. org.openqa.selenium.remote.http.WebSocket$Listener\nonError WARNING: Connection reset java.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1133)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:148)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n</pre>\n"},{"tags":["java","spring","spring-data-jpa","hikaricp"],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686754282,"creation_date":1686754282,"question_id":76474848,"body_markdown":"I have a web app that can connect to multiple DB instances and multiple schemas on each instance (there is one schema per tenant). I use [AbstractRoutingDataSource][1] to manage a [HikariDataSource][2] for each instance. When a request comes in I need to get the dataSource and use `setCatalog(tenantId)` to set the schema. The problem is, the subsequent query fails with `java.sql.SQLSyntaxErrorException: Table &#39;my_previous_schema.my_table&#39; doesn&#39;t exist`. Where `my_previous_schema` is the schema set for the dataSource before I called `setCatalog`. \r\n\r\nI suspect what&#39;s happening is that the PreparedStatement created by the JPARepository used `my_previous_schema`, but I&#39;m not 100% sure. Any ideas on how to resolve this?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\r\n  [2]: https://www.javadoc.io/doc/com.zaxxer/HikariCP/3.2.0/com/zaxxer/hikari/HikariDataSource.html","title":"Spring, Hikari and multiple DB schemas","body":"<p>I have a web app that can connect to multiple DB instances and multiple schemas on each instance (there is one schema per tenant). I use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/lookup/AbstractRoutingDataSource.html\" rel=\"nofollow noreferrer\">AbstractRoutingDataSource</a> to manage a <a href=\"https://www.javadoc.io/doc/com.zaxxer/HikariCP/3.2.0/com/zaxxer/hikari/HikariDataSource.html\" rel=\"nofollow noreferrer\">HikariDataSource</a> for each instance. When a request comes in I need to get the dataSource and use <code>setCatalog(tenantId)</code> to set the schema. The problem is, the subsequent query fails with <code>java.sql.SQLSyntaxErrorException: Table 'my_previous_schema.my_table' doesn't exist</code>. Where <code>my_previous_schema</code> is the schema set for the dataSource before I called <code>setCatalog</code>.</p>\n<p>I suspect what's happening is that the PreparedStatement created by the JPARepository used <code>my_previous_schema</code>, but I'm not 100% sure. Any ideas on how to resolve this?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":28814291,"reputation":26,"user_id":22068286,"display_name":"john marshal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1686754026,"creation_date":1686676434,"answer_id":76467287,"question_id":76467198,"body_markdown":"If notifications are not being displayed in Android Studio, there are    a few possible reasons and troubleshooting steps you can try:\r\n     Ensure that notifications are enabled in Android Studio. Go to File    -&gt; Settings (or Preferences on macOS) -&gt; Appearance &amp;       Behavior -&gt; Notifications. Make sure that the desired notification       types are set    to &quot;Log Errors&quot; or a higher level.\r\n     Confirm that your system&#39;s notification settings allow Android Studio    to display notifications. On your Android device, go to       Settings -&gt;    Apps -&gt; Android Studio [-][1]&gt; Notifications. Ensure that      notifications    are allowed, and the desired notification channels      are enabled.\r\n     Sometimes, a simple restart can resolve notification issues. Close    Android Studio completely and reopen it to see if the       notifications    start appearing.\r\n     Android Studio&#39;s Event Log can provide information about any errors    or issues that may be affecting notifications. Go to View      -&gt; Tool    Windows -&gt; Event Log. Look for any relevant error messages or    notifications related to notifications.\r\n     Make sure you are using the latest version of Android Studio. Check    for updates and install any available updates to ensure you     have the    most up-to-date version of the IDE.\r\n     If you have enabled &quot;Power Save&quot; mode in Android Studio, it may    suppress certain notifications. Disable this mode by going to    File    -&gt;    Power Save Mode and unchecking the option.\r\n     If you are expecting specific notifications in your code,    double-check that you have implemented them correctly. Review your       code for any issues that might be preventing the notifications from      being triggered.\r\n     In some cases, antivirus software or firewall settings can interfere    with Android Studio&#39;s notifications. Temporarily disable    these tools    and check if the notifications start appearing.\r\n\r\n\r\n  [1]: https://thefurniturevilla.co.uk/","title":"Android Studio notifications not being displayed","body":"<p>If notifications are not being displayed in Android Studio, there are    a few possible reasons and troubleshooting steps you can try:\nEnsure that notifications are enabled in Android Studio. Go to File    -&gt; Settings (or Preferences on macOS) -&gt; Appearance &amp;       Behavior -&gt; Notifications. Make sure that the desired notification       types are set    to &quot;Log Errors&quot; or a higher level.\nConfirm that your system's notification settings allow Android Studio    to display notifications. On your Android device, go to       Settings -&gt;    Apps -&gt; Android Studio <a href=\"https://thefurniturevilla.co.uk/\" rel=\"nofollow noreferrer\">-</a>&gt; Notifications. Ensure that      notifications    are allowed, and the desired notification channels      are enabled.\nSometimes, a simple restart can resolve notification issues. Close    Android Studio completely and reopen it to see if the       notifications    start appearing.\nAndroid Studio's Event Log can provide information about any errors    or issues that may be affecting notifications. Go to View      -&gt; Tool    Windows -&gt; Event Log. Look for any relevant error messages or    notifications related to notifications.\nMake sure you are using the latest version of Android Studio. Check    for updates and install any available updates to ensure you     have the    most up-to-date version of the IDE.\nIf you have enabled &quot;Power Save&quot; mode in Android Studio, it may    suppress certain notifications. Disable this mode by going to    File    -&gt;    Power Save Mode and unchecking the option.\nIf you are expecting specific notifications in your code,    double-check that you have implemented them correctly. Review your       code for any issues that might be preventing the notifications from      being triggered.\nIn some cases, antivirus software or firewall settings can interfere    with Android Studio's notifications. Temporarily disable    these tools    and check if the notifications start appearing.</p>\n"},{"comments":[{"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"score":1,"creation_date":1686678553,"post_id":76467321,"comment_id":134831332,"body_markdown":"Thank you @Remc4 - very helpful and targeted.  It does appear that the error was the phone not displaying the notifications - odd in that I thought the code would prompt notification feedback regardless of phone&#39;s internal settings.  Thank you again.","body":"Thank you @Remc4 - very helpful and targeted.  It does appear that the error was the phone not displaying the notifications - odd in that I thought the code would prompt notification feedback regardless of phone&#39;s internal settings.  Thank you again."}],"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686677489,"creation_date":1686676744,"answer_id":76467321,"question_id":76467198,"body_markdown":"There is a logic error in `startNotification()`. `compat.areNotificationsEnabled()` always returns false if app has no notification permissions! Also `requestPermission()` function is irrelevant, because the code already asks for permissions in `startNotification()`.\r\n\r\nButton click listener doesn&#39;t need to call `requestPermission()`:\r\n```java\r\nbutton = findViewById(R.id.button);\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\tcounter++;\r\n\t\tbutton.setText(&quot;&quot; + counter);\r\n\t\tif (counter &gt;= 5) {\r\n\t\t\tstartNotification();\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\nAnd you can simplify `startNotification()`:\r\n```java\r\npublic void startNotification() {\r\n\tif (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n        //Request permissions and return\r\n\t\tActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\t\tNotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n\t\tNotificationManager manager = getSystemService(NotificationManager.class);\r\n\t\tmanager.createNotificationChannel(channel);\r\n\t}\r\n\t\r\n\tNotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID)\r\n\t\t\t.setSmallIcon(R.drawable.ic_add_alert_24)\r\n\t\t\t.setContentTitle(&quot;Title&quot;)\r\n\t\t\t.setContentText(&quot;Notification Text&quot;)\r\n            .setChannelId(CHANNEL_ID) //You might want to include this\r\n\t\t\t.setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n\r\n\tNotificationManagerCompat.from(MainActivity.this)\r\n\t\t\t.notify(1, builder.build());\r\n}\r\n```\r\n\r\nI also noticed you&#39;re using `CHANNEL_ID` wrong. This code will create a new notification channel every time you launch the app:\r\n\r\n[![Notification categories][1]][1]\r\n\r\nInstead, just set `CHANNEL_ID` to some constant:\r\n\r\n```java\r\npublic final String CHANNEL_ID = &quot;Default channel&quot;;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WeqhAl.png","title":"Android Studio notifications not being displayed","body":"<p>There is a logic error in <code>startNotification()</code>. <code>compat.areNotificationsEnabled()</code> always returns false if app has no notification permissions! Also <code>requestPermission()</code> function is irrelevant, because the code already asks for permissions in <code>startNotification()</code>.</p>\n<p>Button click listener doesn't need to call <code>requestPermission()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>button = findViewById(R.id.button);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        counter++;\n        button.setText(&quot;&quot; + counter);\n        if (counter &gt;= 5) {\n            startNotification();\n        }\n    }\n});\n</code></pre>\n<p>And you can simplify <code>startNotification()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void startNotification() {\n    if (ActivityCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n        //Request permissions and return\n        ActivityCompat.requestPermissions(MainActivity.this, new String[]{android.Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\n        return;\n    }\n    \n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n        NotificationManager manager = getSystemService(NotificationManager.class);\n        manager.createNotificationChannel(channel);\n    }\n    \n    NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID)\n            .setSmallIcon(R.drawable.ic_add_alert_24)\n            .setContentTitle(&quot;Title&quot;)\n            .setContentText(&quot;Notification Text&quot;)\n            .setChannelId(CHANNEL_ID) //You might want to include this\n            .setPriority(NotificationCompat.PRIORITY_DEFAULT);\n\n    NotificationManagerCompat.from(MainActivity.this)\n            .notify(1, builder.build());\n}\n</code></pre>\n<p>I also noticed you're using <code>CHANNEL_ID</code> wrong. This code will create a new notification channel every time you launch the app:</p>\n<p><a href=\"https://i.stack.imgur.com/WeqhAl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WeqhAl.png\" alt=\"Notification categories\" /></a></p>\n<p>Instead, just set <code>CHANNEL_ID</code> to some constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final String CHANNEL_ID = &quot;Default channel&quot;;\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76467287,"answer_count":2,"score":0,"last_activity_date":1686754026,"creation_date":1686675700,"question_id":76467198,"body_markdown":"I have a button which, when pressed 5 times will create a user notification.  I am able to get the app to run however when pressing the button, I can see that the &quot;counter&quot; is incrementing but when &gt;=5 there is not any notification being displayed.  I have entered into AndroidManifest.xml these lines:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n```\r\n\r\nBelow is my MainActivity.java file:\r\n```\r\npackage com.enetapplications.localnotifications;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.app.NotificationCompat;\r\nimport androidx.core.app.NotificationManagerCompat;\r\n\r\nimport android.app.Notification;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.Manifest;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button button;\r\n    public final String CHANNEL_ID = &quot;1_&quot; + System.currentTimeMillis();\r\n    int counter = 0;\r\n    private static final int PERMISSION_REQUEST_CODE = 123;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button = findViewById(R.id.button);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                requestPermission();\r\n\r\n                counter++;\r\n                button.setText(&quot;&quot; + counter);\r\n                if (counter &gt;= 5) {\r\n                    startNotification();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void startNotification() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.ic_add_alert_24)\r\n                .setContentTitle(&quot;Title&quot;)\r\n                .setContentText(&quot;Notification Text&quot;)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\r\n\r\n        NotificationManagerCompat compat = NotificationManagerCompat.from(MainActivity.this);\r\n        if (compat.areNotificationsEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\r\n            } else {\r\n                compat.notify(1, builder.build());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void requestPermission() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (checkSelfPermission(Manifest.permission.VIBRATE) != PackageManager.PERMISSION_GRANTED) {\r\n                requestPermissions(new String[]{Manifest.permission.VIBRATE}, PERMISSION_REQUEST_CODE);\r\n            } else {\r\n                startNotification();\r\n            }\r\n        } else {\r\n            startNotification();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == PERMISSION_REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                startNotification();\r\n            } else {\r\n                // Handle permission denied\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Android Studio notifications not being displayed","body":"<p>I have a button which, when pressed 5 times will create a user notification.  I am able to get the app to run however when pressing the button, I can see that the &quot;counter&quot; is incrementing but when &gt;=5 there is not any notification being displayed.  I have entered into AndroidManifest.xml these lines:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n</code></pre>\n<p>Below is my MainActivity.java file:</p>\n<pre><code>package com.enetapplications.localnotifications;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.app.NotificationCompat;\nimport androidx.core.app.NotificationManagerCompat;\n\nimport android.app.Notification;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.Manifest;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n    public final String CHANNEL_ID = &quot;1_&quot; + System.currentTimeMillis();\n    int counter = 0;\n    private static final int PERMISSION_REQUEST_CODE = 123;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button = findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                requestPermission();\n\n                counter++;\n                button.setText(&quot;&quot; + counter);\n                if (counter &gt;= 5) {\n                    startNotification();\n                }\n            }\n        });\n    }\n\n    public void startNotification() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;Channel Name&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel);\n        }\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, CHANNEL_ID)\n                .setSmallIcon(R.drawable.ic_add_alert_24)\n                .setContentTitle(&quot;Title&quot;)\n                .setContentText(&quot;Notification Text&quot;)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT);\n\n        NotificationManagerCompat compat = NotificationManagerCompat.from(MainActivity.this);\n        if (compat.areNotificationsEnabled()) {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\n            } else {\n                compat.notify(1, builder.build());\n            }\n        }\n    }\n\n    private void requestPermission() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if (checkSelfPermission(Manifest.permission.VIBRATE) != PackageManager.PERMISSION_GRANTED) {\n                requestPermissions(new String[]{Manifest.permission.VIBRATE}, PERMISSION_REQUEST_CODE);\n            } else {\n                startNotification();\n            }\n        } else {\n            startNotification();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == PERMISSION_REQUEST_CODE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                startNotification();\n            } else {\n                // Handle permission denied\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","groovy","apache-nifi"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686752229,"post_id":76474490,"comment_id":134842633,"body_markdown":"One of the values you are trying to parse as a number is not. Debug the script to find which one.","body":"One of the values you are trying to parse as a number is not. Debug the script to find which one."}],"answers":[{"comments":[{"owner":{"account_id":13194639,"reputation":41,"user_id":16704419,"display_name":"Jemna81"},"score":0,"creation_date":1686756914,"post_id":76474621,"comment_id":134843745,"body_markdown":"Thank you @chubbsondubs it&#39;s working","body":"Thank you @chubbsondubs it&#39;s working"}],"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686753717,"creation_date":1686752703,"answer_id":76474621,"question_id":76474490,"body_markdown":"A NumberFormatException means some field you are trying to turn into a BigDecimal isn&#39;t a number.  Probably likely that one of those fields is empty and that will trigger a NumberFormatException. But, you have it worse than that because EACH LINE could have an issue that the other lines don&#39;t.  The issue could be on line 5434, but you won&#39;t know which line had the problem because a NFE isn&#39;t going to carry the line out of the data.  So, you need some better debugging in there.  Right now it&#39;s like finding a needle in a haystack.\r\n\r\nMy suggestion is to build a small method to do that logic rather than inlining it over and over.  Turn the inline `line[0..10]?.trim()?.toBigDecimal()` into:\r\n\r\n```\r\nNumber toNumber( String line, ObjectRange range) {\r\n   try {\r\n      String v = line[range]?.trim()\r\n      return v ? v.toBigDecimal() : null   // this will handle v == null or v is empty\r\n   } catch( Exception ex ) {\r\n      throw new Exception(&quot;Encountered exception at ${range} in line ${line}: ${ex}&quot;, ex)\r\n   }\r\n}\r\n```\r\n\r\nThen change:\r\n```\r\ndef record = [\r\n                SEQ_LD: &#39;ADMIN.SEQ_INFO.NEXTVAL&#39;,\r\n                NO: toNumber(line, 0..10 ),\r\n                PA: line[11..12]?.trim() ?: &#39;&#39;,\r\n                PAR: toNumber(line, 13..23 ),\r\n                CD: line[24..27]?.trim() ?: &#39;&#39;,\r\n                ...\r\n]\r\n```\r\n\r\nIf you still have trouble you could do something to identify which field was having trouble by trapping the exception (ie NFE), and throwing a new exception in the method with the range in the message to know which part had problems.\r\n\r\nYou then need to keep track of the line number as you parse things so you can show that back when you find a problem.  You&#39;ll want to trap exceptions in the loop and write out the line number of the offending line.  Probably best to halt the entire process by throwing an exception with the line number:\r\n\r\n```\r\nint lineNumber = 1\r\nreader.eachLine { line -&gt;\r\n   try {\r\n      ....your logic here....\r\n      lineNumber++\r\n   } catch( Exception ex ) {\r\n      throw new IOException( &quot;Exception encountered at line ${lineNumber}: ${ex.getMessage()}&quot;, ex )\r\n   }\r\n}\r\n```","title":"Groovy Scrtipt Error property DateTimeFormatter for class for NiFi 1.16.3","body":"<p>A NumberFormatException means some field you are trying to turn into a BigDecimal isn't a number.  Probably likely that one of those fields is empty and that will trigger a NumberFormatException. But, you have it worse than that because EACH LINE could have an issue that the other lines don't.  The issue could be on line 5434, but you won't know which line had the problem because a NFE isn't going to carry the line out of the data.  So, you need some better debugging in there.  Right now it's like finding a needle in a haystack.</p>\n<p>My suggestion is to build a small method to do that logic rather than inlining it over and over.  Turn the inline <code>line[0..10]?.trim()?.toBigDecimal()</code> into:</p>\n<pre><code>Number toNumber( String line, ObjectRange range) {\n   try {\n      String v = line[range]?.trim()\n      return v ? v.toBigDecimal() : null   // this will handle v == null or v is empty\n   } catch( Exception ex ) {\n      throw new Exception(&quot;Encountered exception at ${range} in line ${line}: ${ex}&quot;, ex)\n   }\n}\n</code></pre>\n<p>Then change:</p>\n<pre><code>def record = [\n                SEQ_LD: 'ADMIN.SEQ_INFO.NEXTVAL',\n                NO: toNumber(line, 0..10 ),\n                PA: line[11..12]?.trim() ?: '',\n                PAR: toNumber(line, 13..23 ),\n                CD: line[24..27]?.trim() ?: '',\n                ...\n]\n</code></pre>\n<p>If you still have trouble you could do something to identify which field was having trouble by trapping the exception (ie NFE), and throwing a new exception in the method with the range in the message to know which part had problems.</p>\n<p>You then need to keep track of the line number as you parse things so you can show that back when you find a problem.  You'll want to trap exceptions in the loop and write out the line number of the offending line.  Probably best to halt the entire process by throwing an exception with the line number:</p>\n<pre><code>int lineNumber = 1\nreader.eachLine { line -&gt;\n   try {\n      ....your logic here....\n      lineNumber++\n   } catch( Exception ex ) {\n      throw new IOException( &quot;Exception encountered at line ${lineNumber}: ${ex.getMessage()}&quot;, ex )\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":13194639,"reputation":41,"user_id":16704419,"display_name":"Jemna81"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76474621,"answer_count":1,"score":0,"last_activity_date":1686753717,"creation_date":1686751723,"question_id":76474490,"body_markdown":"I generate a flow file with this data format(text):\r\n```\r\n+0002150736YY+0701748361MN      0001-01-01SSD+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000-000000000002860+000000000000000+000000000000000     1+0000000000000002023-05-23+0701748361                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \r\n+0002152097XX+0701763467RR      0001-01-01SSF+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000011845+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000     1+0000000000000002023-05-23+0701763467                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \r\n```\r\nI&#39;m trying to execute a groovy script with the ExecuteGroovyScript process in order to output a json file, and for each key has its value:\r\n```\r\nimport groovy.json.JsonBuilder\r\nimport java.nio.charset.StandardCharsets\r\nimport java.time.LocalDate\r\n\r\ndef flowFile = session.get()\r\nif (flowFile) {\r\n    def datePattern = DateTimeFormatter.ofPattern(&#39;yyyy-MM-dd&#39;)\r\n\r\n    def records = []\r\n\r\n    flowFile.read().withReader(&#39;ISO-8859-1&#39;) { reader -&gt;\r\n        reader.eachLine { line -&gt;\r\n            def record = [\r\n                SEQ_LD: &#39;ADMIN.SEQ_INFO.NEXTVAL&#39;,\r\n                NO: line[0..10]?.trim()?.toBigDecimal(),\r\n                PA: line[11..12]?.trim() ?: &#39;&#39;,\r\n                PAR: line[13..23]?.trim()?.toBigDecimal(),\r\n                CD: line[24..27]?.trim() ?: &#39;&#39;,\r\n                CFOUR: line[28..31]?.trim() ?: &#39;&#39;,\r\n                DTIR: line[32..41]?.trim() != &#39;0000-00-00&#39; ? LocalDate.parse(line[32..41]?.trim(), datePattern) : null,\r\n                DEV: line[42..44]?.trim() ?: &#39;&#39;,\r\n                EXBL: line[45..60]?.trim()?.toBigDecimal(),\r\n                NEXBL: line[61..76]?.trim()?.toBigDecimal(),\r\n                SUSP: line[77..92]?.trim()?.toBigDecimal(),\r\n                NEXBL_SUSP: line[93..108]?.trim()?.toBigDecimal(),\r\n                SOLC: line[109..124]?.trim()?.toBigDecimal(),\r\n                MXBL: line[125..140]?.trim()?.toBigDecimal(),\r\n                MMIX: line[141..156]?.trim()?.toBigDecimal(),\r\n                ABD: line[157..172]?.trim()?.toBigDecimal(),\r\n                EXBLFF: line[173..188]?.trim()?.toBigDecimal(),\r\n                MTGR: line[189..204]?.trim()?.toBigDecimal(),\r\n                MKLM: line[205..220]?.trim()?.toBigDecimal(),\r\n                MXYR: line[221..236]?.trim()?.toBigDecimal(),\r\n                MHHH: line[237..252]?.trim()?.toBigDecimal(),\r\n                MOPO: line[253..268]?.trim()?.toBigDecimal(),\r\n                MNBFR: line[269..284]?.trim()?.toBigDecimal(),\r\n                CGTRH: line[285..289]?.trim() ?: &#39;&#39;,\r\n                IPOING: line[290..290]?.trim() ?: &#39;&#39;,\r\n                BGFTU: line[291..306]?.trim()?.toBigDecimal(),\r\n                DLJHJ: line[307..316]?.trim() != &#39;0000-00-00&#39; ? LocalDate.parse(line[307..316]?.trim(), datePattern) : null,\r\n                NHJGY: line[317..327]?.trim()?.toBigDecimal(),\r\n                AACBT: line[328..328]?.trim() ?: &#39;&#39;,\r\n                TRT: LocalDate.parse(&#39;2023-06-05&#39;, datePattern)\r\n            ]\r\n            records &lt;&lt; record\r\n        }\r\n    }\r\n\r\n    def json = new JsonBuilder(records)\r\n    def jsonBytes = json.toString().getBytes(StandardCharsets.UTF_8)\r\n    flowFile = session.write(flowFile, { outputStream -&gt;\r\n        outputStream.write(jsonBytes)\r\n    } as OutputStreamCallback)\r\n\r\n    flowFile = session.putAttribute(flowFile, &#39;filename&#39;, &#39;output.json&#39;)\r\n    session.transfer(flowFile, REL_SUCCESS)\r\n}\r\n```\r\nbut every time I get this error, I don&#39;t understand where is the problem:\r\n```\r\n\r\nAll NodesExecuteGroovyScript[id=afb7a99f-0188-1000-0000-00004af5fb62] java.lang.NumberFormatException: java.lang.NumberFormatException\r\n```\r\nAny help please? thank you","title":"Groovy Scrtipt Error property DateTimeFormatter for class for NiFi 1.16.3","body":"<p>I generate a flow file with this data format(text):</p>\n<pre><code>+0002150736YY+0701748361MN      0001-01-01SSD+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000-000000000002860+000000000000000+000000000000000     1+0000000000000002023-05-23+0701748361                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n+0002152097XX+0701763467RR      0001-01-01SSF+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000011845+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000+000000000000000     1+0000000000000002023-05-23+0701763467                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            \n</code></pre>\n<p>I'm trying to execute a groovy script with the ExecuteGroovyScript process in order to output a json file, and for each key has its value:</p>\n<pre><code>import groovy.json.JsonBuilder\nimport java.nio.charset.StandardCharsets\nimport java.time.LocalDate\n\ndef flowFile = session.get()\nif (flowFile) {\n    def datePattern = DateTimeFormatter.ofPattern('yyyy-MM-dd')\n\n    def records = []\n\n    flowFile.read().withReader('ISO-8859-1') { reader -&gt;\n        reader.eachLine { line -&gt;\n            def record = [\n                SEQ_LD: 'ADMIN.SEQ_INFO.NEXTVAL',\n                NO: line[0..10]?.trim()?.toBigDecimal(),\n                PA: line[11..12]?.trim() ?: '',\n                PAR: line[13..23]?.trim()?.toBigDecimal(),\n                CD: line[24..27]?.trim() ?: '',\n                CFOUR: line[28..31]?.trim() ?: '',\n                DTIR: line[32..41]?.trim() != '0000-00-00' ? LocalDate.parse(line[32..41]?.trim(), datePattern) : null,\n                DEV: line[42..44]?.trim() ?: '',\n                EXBL: line[45..60]?.trim()?.toBigDecimal(),\n                NEXBL: line[61..76]?.trim()?.toBigDecimal(),\n                SUSP: line[77..92]?.trim()?.toBigDecimal(),\n                NEXBL_SUSP: line[93..108]?.trim()?.toBigDecimal(),\n                SOLC: line[109..124]?.trim()?.toBigDecimal(),\n                MXBL: line[125..140]?.trim()?.toBigDecimal(),\n                MMIX: line[141..156]?.trim()?.toBigDecimal(),\n                ABD: line[157..172]?.trim()?.toBigDecimal(),\n                EXBLFF: line[173..188]?.trim()?.toBigDecimal(),\n                MTGR: line[189..204]?.trim()?.toBigDecimal(),\n                MKLM: line[205..220]?.trim()?.toBigDecimal(),\n                MXYR: line[221..236]?.trim()?.toBigDecimal(),\n                MHHH: line[237..252]?.trim()?.toBigDecimal(),\n                MOPO: line[253..268]?.trim()?.toBigDecimal(),\n                MNBFR: line[269..284]?.trim()?.toBigDecimal(),\n                CGTRH: line[285..289]?.trim() ?: '',\n                IPOING: line[290..290]?.trim() ?: '',\n                BGFTU: line[291..306]?.trim()?.toBigDecimal(),\n                DLJHJ: line[307..316]?.trim() != '0000-00-00' ? LocalDate.parse(line[307..316]?.trim(), datePattern) : null,\n                NHJGY: line[317..327]?.trim()?.toBigDecimal(),\n                AACBT: line[328..328]?.trim() ?: '',\n                TRT: LocalDate.parse('2023-06-05', datePattern)\n            ]\n            records &lt;&lt; record\n        }\n    }\n\n    def json = new JsonBuilder(records)\n    def jsonBytes = json.toString().getBytes(StandardCharsets.UTF_8)\n    flowFile = session.write(flowFile, { outputStream -&gt;\n        outputStream.write(jsonBytes)\n    } as OutputStreamCallback)\n\n    flowFile = session.putAttribute(flowFile, 'filename', 'output.json')\n    session.transfer(flowFile, REL_SUCCESS)\n}\n</code></pre>\n<p>but every time I get this error, I don't understand where is the problem:</p>\n<pre><code>\nAll NodesExecuteGroovyScript[id=afb7a99f-0188-1000-0000-00004af5fb62] java.lang.NumberFormatException: java.lang.NumberFormatException\n</code></pre>\n<p>Any help please? thank you</p>\n"},{"tags":["java","aspectj","allure"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686781140,"post_id":76474760,"comment_id":134848187,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28820896,"reputation":1,"user_id":22073438,"display_name":"M M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686753666,"creation_date":1686753666,"question_id":76474760,"body_markdown":"I am writing an e2e test using @SpringBootTest annotation. I am also using @Autowired test services to process logic during the test. Methods of the test services have @Step() annotation above them with some description of the step.\r\nThe issue is that the @Step annotations are not added to allure report by default.\r\n\r\nI tried to add aspectjweaver dependency to pom.xml so it could weave those annotations and this solution worked for me, but I could not find a way to limit aspectjweaver to work only with my test classes during test execution and aspectjweaver tried to weave some of source classes and there were several exceptions for some datasources. As long as I need aspectjweaver to only weave @Step annotations for allure, I don&#39;t want to configure it for my source code to avoid those exceptions. ","title":"How to attach @Step(&quot;My step description&quot;) annotations to allure report?","body":"<p>I am writing an e2e test using @SpringBootTest annotation. I am also using @Autowired test services to process logic during the test. Methods of the test services have @Step() annotation above them with some description of the step.\nThe issue is that the @Step annotations are not added to allure report by default.</p>\n<p>I tried to add aspectjweaver dependency to pom.xml so it could weave those annotations and this solution worked for me, but I could not find a way to limit aspectjweaver to work only with my test classes during test execution and aspectjweaver tried to weave some of source classes and there were several exceptions for some datasources. As long as I need aspectjweaver to only weave @Step annotations for allure, I don't want to configure it for my source code to avoid those exceptions.</p>\n"},{"tags":["java","bert-language-model","djl"],"owner":{"account_id":28820846,"reputation":1,"user_id":22073393,"display_name":"Alexander Stoyanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686753633,"creation_date":1686753633,"question_id":76474758,"body_markdown":"I want to build a simple java application using DJL that is first trained on a relatively large number of text documents. Then I want to model to be saved. After this I want to be able to answer multiple questions that will be answered based on the text document contents that I used for training.\r\n\r\nAll the examples that I find show how to use QAInput where I have one question and one paragraph from which the answered should be derived. Instead I want to first add multiple paragraphs (documents). Then I want to ask multiple questions. Psudo code\r\n\r\nString text1, text2, .... , text1000\r\nmodel.addContext(text1);\r\nmodel.addContext(text2);\r\n....\r\nmodel.addContext(text1000);\r\n\r\nString question1;\r\nString question2;\r\n\r\nString answere1 = translator.predict(question1)\r\nString answere2 = translator.predict(question1)\r\n\r\n\r\n\r\nEvery time I search I get the following code\r\n\r\n    BertTranslator translator = new BertTranslator();\r\n    Criteria&lt;QAInput, String&gt; criteria = Criteria.builder()\r\n                .setTypes(QAInput.class, String.class)\r\n                .optModelPath(Paths.get(&quot;src/main/resources/trace_cased_bertqa.pt&quot;))\r\n                .optTranslator(translator)\r\n                .optProgress(new ProgressBar()).build();\r\n\r\n    ZooModel&lt;QAInput, String&gt; model = criteria.loadModel();\r\n        \r\n        try (Predictor&lt;QAInput, String&gt; predictor = model.newPredictor(translator)) {\r\npredictor.predict(input);\r\n}\r\n\r\nHere the input consists of Question and Paragraph","title":"DJL build my own model for Questions and Answers","body":"<p>I want to build a simple java application using DJL that is first trained on a relatively large number of text documents. Then I want to model to be saved. After this I want to be able to answer multiple questions that will be answered based on the text document contents that I used for training.</p>\n<p>All the examples that I find show how to use QAInput where I have one question and one paragraph from which the answered should be derived. Instead I want to first add multiple paragraphs (documents). Then I want to ask multiple questions. Psudo code</p>\n<p>String text1, text2, .... , text1000\nmodel.addContext(text1);\nmodel.addContext(text2);\n....\nmodel.addContext(text1000);</p>\n<p>String question1;\nString question2;</p>\n<p>String answere1 = translator.predict(question1)\nString answere2 = translator.predict(question1)</p>\n<p>Every time I search I get the following code</p>\n<pre><code>BertTranslator translator = new BertTranslator();\nCriteria&lt;QAInput, String&gt; criteria = Criteria.builder()\n            .setTypes(QAInput.class, String.class)\n            .optModelPath(Paths.get(&quot;src/main/resources/trace_cased_bertqa.pt&quot;))\n            .optTranslator(translator)\n            .optProgress(new ProgressBar()).build();\n\nZooModel&lt;QAInput, String&gt; model = criteria.loadModel();\n    \n    try (Predictor&lt;QAInput, String&gt; predictor = model.newPredictor(translator)) {\n</code></pre>\n<p>predictor.predict(input);\n}</p>\n<p>Here the input consists of Question and Paragraph</p>\n"},{"tags":["java","api","yelp"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1686749474,"post_id":76474125,"comment_id":134841949,"body_markdown":"In the onFailure method you seem to log an Exception, can you share if an Exception happens and what the Log / its stacktrace says about it?","body":"In the onFailure method you seem to log an Exception, can you share if an Exception happens and what the Log / its stacktrace says about it?"},{"owner":{"account_id":28820343,"reputation":1,"user_id":22072981,"display_name":"Raymond Truong"},"score":0,"creation_date":1686753440,"post_id":76474125,"comment_id":134842952,"body_markdown":"Shared, thanks for looking my friend","body":"Shared, thanks for looking my friend"}],"owner":{"account_id":28820343,"reputation":1,"user_id":22072981,"display_name":"Raymond Truong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686753578,"creation_date":1686749334,"question_id":76474125,"body_markdown":"I want to retrieve data but API isn&#39;t letting me, onFailure runs and I have no idea why, please see code below. I believe there is something wrong with my dataRespone class but I&#39;m not sure what. I have tried to trouble shoot and used chatgpt. Also compared it to my instructors code and I can&#39;t spot a difference and I have implemented all dependancies. If you need more code please let me know. \r\n\r\nSorry if this is a silly question, like I said, new to coding :)\r\n\r\n\r\n\r\n```\r\n public class dataResponse implements Serializable {\r\n\r\n    @SerializedName(&quot;total&quot;)\r\n    int total;\r\n\r\n    @SerializedName(&quot;businesses&quot;)\r\n    ArrayList&lt;Business&gt; businesses;\r\n\r\n\r\n    class Business {\r\n\r\n        @SerializedName(&quot;rating&quot;)\r\n        int rating;\r\n\r\n        @SerializedName(&quot;price&quot;)\r\n        String price;\r\n\r\n        @SerializedName(&quot;categories&quot;)\r\n        ArrayList&lt;Category&gt; categories;\r\n\r\n        @SerializedName(&quot;location&quot;)\r\n        Location location;\r\n    }\r\n\r\n    class Category {\r\n\r\n        @SerializedName(&quot;alias&quot;)\r\n        String alias;\r\n\r\n        @SerializedName(&quot;title&quot;)\r\n        String title;\r\n    }\r\n\r\n    class Location {\r\n\r\n        @SerializedName(&quot;city&quot;)\r\n        String city;\r\n\r\n        @SerializedName(&quot;zip_code&quot;)\r\n        String zip_code;\r\n\r\n    }\r\n\r\n{\r\n  &quot;businesses&quot;: [\r\n    {\r\n      &quot;alias&quot;: &quot;golden-boy-pizza-hamburg&quot;,\r\n      &quot;categories&quot;: [\r\n        {\r\n          &quot;alias&quot;: &quot;pizza&quot;,\r\n          &quot;title&quot;: &quot;Pizza&quot;\r\n        },\r\n        {\r\n          &quot;alias&quot;: &quot;food&quot;,\r\n          &quot;title&quot;: &quot;Food&quot;\r\n        }\r\n      ],\r\n      &quot;coordinates&quot;: {\r\n        &quot;latitude&quot;: 41.7873382568359,\r\n        &quot;longitude&quot;: -123.051551818848\r\n      },\r\n      &quot;display_phone&quot;: &quot;(415) 982-9738&quot;,\r\n      &quot;distance&quot;: 4992.437696561071,\r\n      &quot;id&quot;: &quot;QPOI0dYeAl3U8iPM_IYWnA&quot;,\r\n      &quot;image_url&quot;: &quot;https://yelp-photos.yelpcorp.com/bphoto/b0mx7p6x9Z1ivb8yzaU3dg/o.jpg&quot;,\r\n      &quot;is_closed&quot;: true,\r\n      &quot;location&quot;: {\r\n        &quot;address1&quot;: &quot;James&quot;,\r\n        &quot;address2&quot;: &quot;Street&quot;,\r\n        &quot;address3&quot;: &quot;68M&quot;,\r\n        &quot;city&quot;: &quot;Los Angeles&quot;,\r\n        &quot;country&quot;: &quot;US&quot;,\r\n        &quot;display_address&quot;: [\r\n          &quot;James&quot;,\r\n          &quot;Street&quot;,\r\n          &quot;68M&quot;,\r\n          &quot;Los Angeles, CA 22399&quot;\r\n        ],\r\n        &quot;state&quot;: &quot;CA&quot;,\r\n        &quot;zip_code&quot;: &quot;22399&quot;\r\n      },\r\n      &quot;name&quot;: &quot;Golden Boy Pizza&quot;,\r\n      &quot;phone&quot;: &quot;+14159829738&quot;,\r\n      &quot;price&quot;: &quot;$&quot;,\r\n      &quot;rating&quot;: 4,\r\n      &quot;review_count&quot;: 903,\r\n      &quot;transactions&quot;: [\r\n        &quot;restaurant_reservation&quot;\r\n      ],\r\n      &quot;url&quot;: &quot;https://www.yelp.com/biz/golden-boy-pizza-hamburg?adjust_creative=XsIsNkqpLmHqfJ51zfRn3A&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_search&amp;utm_source=XsIsNkqpLmHqfJ51zfRn3A&quot;\r\n    }\r\n  ],\r\n  &quot;region&quot;: {\r\n    &quot;center&quot;: {\r\n      &quot;latitude&quot;: 37.76089938976322,\r\n      &quot;longitude&quot;: -122.43644714355469\r\n    }\r\n  },\r\n  &quot;total&quot;: 6800\r\n}\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    SearchView searchView;\r\n    String auth = &quot;Bearer p8zuza3LuAcpUQfF6TpOoKs9bnoQWiv1sPLUa75RfghOHPW_srLe5vdJlj-ma4Em5-wgd3nQ2f9UMP-UH5uhZHAHu8RNVyfZLPTOzooTGSNm0ioC4zzmrIf5VyaJZHYx&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        String location = &quot;Montreal&quot;;\r\n        String term = &quot;food&quot;;\r\n\r\n        Call&lt;List&lt;dataResponse&gt;&gt; call = RetrofitClient.getInstance().getApi().getBusinesses(location, term);\r\n\r\n        call.enqueue(new Callback&lt;List&lt;dataResponse&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;dataResponse&gt;&gt; call, Response&lt;List&lt;dataResponse&gt;&gt; response) {\r\n                    List&lt;dataResponse&gt; data = response.body();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;dataResponse&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(MainActivity.this, &quot;Request Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                Log.e(&quot;TAG&quot;, &quot;Request Failed: &quot; + t.getMessage(), t);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\n**logcat**\r\n\r\nRequest Failed: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\njava.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\nat com.google.gson.stream.JsonReader.beginArray(JsonReader.java:358)\r\nat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\r\nat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\nat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40)\r\nat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\r\nat retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243)\r\nat retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:153) at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:539)at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)at java.lang.Thread.run(Thread.java:1012)","title":"Java API for yelp, illegalStateExceptom","body":"<p>I want to retrieve data but API isn't letting me, onFailure runs and I have no idea why, please see code below. I believe there is something wrong with my dataRespone class but I'm not sure what. I have tried to trouble shoot and used chatgpt. Also compared it to my instructors code and I can't spot a difference and I have implemented all dependancies. If you need more code please let me know.</p>\n<p>Sorry if this is a silly question, like I said, new to coding :)</p>\n<pre><code> public class dataResponse implements Serializable {\n\n    @SerializedName(&quot;total&quot;)\n    int total;\n\n    @SerializedName(&quot;businesses&quot;)\n    ArrayList&lt;Business&gt; businesses;\n\n\n    class Business {\n\n        @SerializedName(&quot;rating&quot;)\n        int rating;\n\n        @SerializedName(&quot;price&quot;)\n        String price;\n\n        @SerializedName(&quot;categories&quot;)\n        ArrayList&lt;Category&gt; categories;\n\n        @SerializedName(&quot;location&quot;)\n        Location location;\n    }\n\n    class Category {\n\n        @SerializedName(&quot;alias&quot;)\n        String alias;\n\n        @SerializedName(&quot;title&quot;)\n        String title;\n    }\n\n    class Location {\n\n        @SerializedName(&quot;city&quot;)\n        String city;\n\n        @SerializedName(&quot;zip_code&quot;)\n        String zip_code;\n\n    }\n\n{\n  &quot;businesses&quot;: [\n    {\n      &quot;alias&quot;: &quot;golden-boy-pizza-hamburg&quot;,\n      &quot;categories&quot;: [\n        {\n          &quot;alias&quot;: &quot;pizza&quot;,\n          &quot;title&quot;: &quot;Pizza&quot;\n        },\n        {\n          &quot;alias&quot;: &quot;food&quot;,\n          &quot;title&quot;: &quot;Food&quot;\n        }\n      ],\n      &quot;coordinates&quot;: {\n        &quot;latitude&quot;: 41.7873382568359,\n        &quot;longitude&quot;: -123.051551818848\n      },\n      &quot;display_phone&quot;: &quot;(415) 982-9738&quot;,\n      &quot;distance&quot;: 4992.437696561071,\n      &quot;id&quot;: &quot;QPOI0dYeAl3U8iPM_IYWnA&quot;,\n      &quot;image_url&quot;: &quot;https://yelp-photos.yelpcorp.com/bphoto/b0mx7p6x9Z1ivb8yzaU3dg/o.jpg&quot;,\n      &quot;is_closed&quot;: true,\n      &quot;location&quot;: {\n        &quot;address1&quot;: &quot;James&quot;,\n        &quot;address2&quot;: &quot;Street&quot;,\n        &quot;address3&quot;: &quot;68M&quot;,\n        &quot;city&quot;: &quot;Los Angeles&quot;,\n        &quot;country&quot;: &quot;US&quot;,\n        &quot;display_address&quot;: [\n          &quot;James&quot;,\n          &quot;Street&quot;,\n          &quot;68M&quot;,\n          &quot;Los Angeles, CA 22399&quot;\n        ],\n        &quot;state&quot;: &quot;CA&quot;,\n        &quot;zip_code&quot;: &quot;22399&quot;\n      },\n      &quot;name&quot;: &quot;Golden Boy Pizza&quot;,\n      &quot;phone&quot;: &quot;+14159829738&quot;,\n      &quot;price&quot;: &quot;$&quot;,\n      &quot;rating&quot;: 4,\n      &quot;review_count&quot;: 903,\n      &quot;transactions&quot;: [\n        &quot;restaurant_reservation&quot;\n      ],\n      &quot;url&quot;: &quot;https://www.yelp.com/biz/golden-boy-pizza-hamburg?adjust_creative=XsIsNkqpLmHqfJ51zfRn3A&amp;utm_campaign=yelp_api_v3&amp;utm_medium=api_v3_business_search&amp;utm_source=XsIsNkqpLmHqfJ51zfRn3A&quot;\n    }\n  ],\n  &quot;region&quot;: {\n    &quot;center&quot;: {\n      &quot;latitude&quot;: 37.76089938976322,\n      &quot;longitude&quot;: -122.43644714355469\n    }\n  },\n  &quot;total&quot;: 6800\n}\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    SearchView searchView;\n    String auth = &quot;Bearer p8zuza3LuAcpUQfF6TpOoKs9bnoQWiv1sPLUa75RfghOHPW_srLe5vdJlj-ma4Em5-wgd3nQ2f9UMP-UH5uhZHAHu8RNVyfZLPTOzooTGSNm0ioC4zzmrIf5VyaJZHYx&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        String location = &quot;Montreal&quot;;\n        String term = &quot;food&quot;;\n\n        Call&lt;List&lt;dataResponse&gt;&gt; call = RetrofitClient.getInstance().getApi().getBusinesses(location, term);\n\n        call.enqueue(new Callback&lt;List&lt;dataResponse&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;dataResponse&gt;&gt; call, Response&lt;List&lt;dataResponse&gt;&gt; response) {\n                    List&lt;dataResponse&gt; data = response.body();\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;List&lt;dataResponse&gt;&gt; call, Throwable t) {\n                Toast.makeText(MainActivity.this, &quot;Request Failed&quot;, Toast.LENGTH_SHORT).show();\n                Log.e(&quot;TAG&quot;, &quot;Request Failed: &quot; + t.getMessage(), t);\n            }\n        });\n    }\n\n}\n\n**logcat**\n\nRequest Failed: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\njava.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\nat com.google.gson.stream.JsonReader.beginArray(JsonReader.java:358)\nat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\nat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\nat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:40)\nat retrofit2.converter.gson.GsonResponseBodyConverter.convert(GsonResponseBodyConverter.java:27)\nat retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:243)\nat retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:153) at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:539)at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n"},{"tags":["java","android","popupmenu"],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686753469,"creation_date":1686753469,"question_id":76474729,"body_markdown":"I&#39;m new to android. I want to create a popup menu with custom color but I don&#39;t know how to set color of padding in popup menu.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5AHA9.png\r\n\r\nthis is my style: \r\n\r\n    &lt;style name=&quot;temp&quot; parent=&quot;Widget.AppCompat.PopupMenu&quot;&gt;\r\n        &lt;item name=&quot;android:panelFullBackground&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;android:popupBackground&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;android:itemBackground&quot;&gt;@color/teal_200&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand this is how I set in java:\r\n\r\n    Context menuStyleContext = new ContextThemeWrapper(activity, R.style.temp);\r\n    PopupMenu popupMenu = new PopupMenu(menuStyleContext, holder.menuButton);\r\n\r\nwhat should I do?","title":"how to change color of padding of popup menu in android?","body":"<p>I'm new to android. I want to create a popup menu with custom color but I don't know how to set color of padding in popup menu.\n<a href=\"https://i.stack.imgur.com/5AHA9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5AHA9.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my style:</p>\n<pre><code>&lt;style name=&quot;temp&quot; parent=&quot;Widget.AppCompat.PopupMenu&quot;&gt;\n    &lt;item name=&quot;android:panelFullBackground&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;android:popupBackground&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;android:colorBackground&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;android:itemBackground&quot;&gt;@color/teal_200&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and this is how I set in java:</p>\n<pre><code>Context menuStyleContext = new ContextThemeWrapper(activity, R.style.temp);\nPopupMenu popupMenu = new PopupMenu(menuStyleContext, holder.menuButton);\n</code></pre>\n<p>what should I do?</p>\n"},{"tags":["java","multidimensional-array"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1686755446,"post_id":26010220,"comment_id":134843415,"body_markdown":"Looks like some pretty standard path finding. Using a depth first search or breadth first. What have you tried and why isn&#39;t it working?","body":"Looks like some pretty standard path finding. Using a depth first search or breadth first. What have you tried and why isn&#39;t it working?"},{"owner":{"account_id":3399087,"reputation":1712,"user_id":2851837,"accept_rate":71,"display_name":"Robin Trietsch"},"score":0,"creation_date":1686845194,"post_id":26010220,"comment_id":134857259,"body_markdown":"I have no idea, this question is almost 9 years old &#128517;","body":"I have no idea, this question is almost 9 years old ðŸ˜…"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1686906431,"post_id":26010220,"comment_id":134865704,"body_markdown":"Ha! The number of times I do that, I just see it come up in the list and don&#39;t even bother checking the date.","body":"Ha! The number of times I do that, I just see it come up in the list and don&#39;t even bother checking the date."},{"owner":{"account_id":3399087,"reputation":1712,"user_id":2851837,"accept_rate":71,"display_name":"Robin Trietsch"},"score":0,"creation_date":1686998863,"post_id":26010220,"comment_id":134877700,"body_markdown":"No worries, I thought it was funny &#128578; thanks for the help anyways","body":"No worries, I thought it was funny ðŸ™‚ thanks for the help anyways"}],"answers":[{"comments":[{"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"score":1,"creation_date":1412678603,"post_id":26010549,"comment_id":41147505,"body_markdown":"http://ekiras.blogspot.in/2014/10/program-to-find-all-paths-in-matrix-of-2d-array.html view this link to see a sample program","body":"<a href=\"http://ekiras.blogspot.in/2014/10/program-to-find-all-paths-in-matrix-of-2d-array.html\" rel=\"nofollow noreferrer\">ekiras.blogspot.in/2014/10/&hellip;</a> view this link to see a sample program"}],"tags":[],"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411542100,"creation_date":1411542100,"answer_id":26010549,"question_id":26010220,"body_markdown":"Probably you can use three methods for doing this and call them recursively.\r\n\r\n1. goNortEast(); Search for an element to the index [N-1][M+1] if N&gt;0, else there will be no element NOrtEast of the current element, if element exists this will also lead to a new path.\r\n\r\n2. goEast(); Each element can go East by index [N][M+1];\r\n\r\n3. goSouthEast(); Search for element at index [N+1][M+1] if the element exists, this will also lead to a new path, \r\n\r\nCall these three methods on each element starting from [0][0], then [1][0] and so on.\r\n\r\nfor [0][0], it will call goNorthEast[]- will not satisfy condition goEast();-index[0][1] and goSouthEast(); index[1][1] now call the same three methods of these elements.\r\n\r\nAt the end you will get all possible paths from the element you started.","title":"Generate all paths/routes through 2D array in Java","body":"<p>Probably you can use three methods for doing this and call them recursively.</p>\n\n<ol>\n<li><p>goNortEast(); Search for an element to the index [N-1][M+1] if N>0, else there will be no element NOrtEast of the current element, if element exists this will also lead to a new path.</p></li>\n<li><p>goEast(); Each element can go East by index [N][M+1];</p></li>\n<li><p>goSouthEast(); Search for element at index [N+1][M+1] if the element exists, this will also lead to a new path, </p></li>\n</ol>\n\n<p>Call these three methods on each element starting from [0][0], then [1][0] and so on.</p>\n\n<p>for [0][0], it will call goNorthEast[]- will not satisfy condition goEast();-index[0][1] and goSouthEast(); index[1][1] now call the same three methods of these elements.</p>\n\n<p>At the end you will get all possible paths from the element you started.</p>\n"}],"owner":{"account_id":3399087,"reputation":1712,"user_id":2851837,"accept_rate":71,"display_name":"Robin Trietsch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686753034,"creation_date":1411540862,"question_id":26010220,"body_markdown":"I&#39;m working in Java. Given a matrix NxM, I need to find all possible paths through the array. It is only allowed to go diagonally up or down, or go to the right. An example 4x4 matrix:\r\n\r\n    3  5  7  9\r\n    2  4  6  8\r\n    9  3  7  5\r\n    6  8  2  4\r\n\r\nThe numbers in the matrix can be any arbitrary value. I would like to generate all possible routes through the matrix, starting in one of the four numbers in the first column. It is only allowed to move Northeast, East, and Southeast. An example route:\r\n\r\n    3-5 7 9\r\n       \\\r\n    2 4 6-8\r\n    9 3 7 5\r\n    6 8 2 4\r\n\r\nSo all routes consist of M numbers. I&#39;m using a 2D array to hold this NxM matrix. Some more possible paths are:\r\n\r\n    3 4 6 5\r\n    3 5 6 9\r\n    9 4 7 4\r\n    9 3 6 9\r\n\r\nIs there a way to easily generate all paths in Java?\r\n\r\nAny help is much appreciated!","title":"Generate all paths/routes through 2D array in Java","body":"<p>I'm working in Java. Given a matrix NxM, I need to find all possible paths through the array. It is only allowed to go diagonally up or down, or go to the right. An example 4x4 matrix:</p>\n\n<pre><code>3  5  7  9\n2  4  6  8\n9  3  7  5\n6  8  2  4\n</code></pre>\n\n<p>The numbers in the matrix can be any arbitrary value. I would like to generate all possible routes through the matrix, starting in one of the four numbers in the first column. It is only allowed to move Northeast, East, and Southeast. An example route:</p>\n\n<pre><code>3-5 7 9\n   \\\n2 4 6-8\n9 3 7 5\n6 8 2 4\n</code></pre>\n\n<p>So all routes consist of M numbers. I'm using a 2D array to hold this NxM matrix. Some more possible paths are:</p>\n\n<pre><code>3 4 6 5\n3 5 6 9\n9 4 7 4\n9 3 6 9\n</code></pre>\n\n<p>Is there a way to easily generate all paths in Java?</p>\n\n<p>Any help is much appreciated!</p>\n"},{"tags":["java","vector"],"comments":[{"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"score":1,"creation_date":1685037411,"post_id":76334935,"comment_id":134608989,"body_markdown":"The error you have encountered is a ClassCastException. Which means you are going to cast a `javax.swing.JTable` object into a `java.util.Vector` object, which is illegal. If you can debug your code, check what is the actual object type of the output of the `input.readObject()` call. Then you can do the casting correctly.","body":"The error you have encountered is a ClassCastException. Which means you are going to cast a <code>javax.swing.JTable</code> object into a <code>java.util.Vector</code> object, which is illegal. If you can debug your code, check what is the actual object type of the output of the <code>input.readObject()</code> call. Then you can do the casting correctly."},{"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"score":2,"creation_date":1685038375,"post_id":76334935,"comment_id":134609167,"body_markdown":"From your error I would say that the input.readObject() is returning javax.swing.JTable but you are expecting a Vector. My suggestion would be to actually debug the code and see at runtime what happens.","body":"From your error I would say that the input.readObject() is returning javax.swing.JTable but you are expecting a Vector. My suggestion would be to actually debug the code and see at runtime what happens."}],"answers":[{"tags":[],"owner":{"account_id":20134324,"reputation":1,"user_id":14765801,"display_name":"gomezbc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686752941,"creation_date":1686752941,"answer_id":76474650,"question_id":76334935,"body_markdown":"The problem may be that you are not defining the type of the matrix. I suggest declaring the matrix as Vector&lt;Vector&lt;Object&gt;&gt;.\r\n\r\n`Vector&lt;Vector&lt;Object&gt;&gt; tableData = (Vector&lt;Vector&lt;Object&gt;&gt;)input.readObject();`\r\n\r\nAnother tip, you can add the matrix without doing a loop, with \r\n\r\n`model.setDataVector(tableData, columnIdentifiers);`\r\n\r\ncolumnIdentifiers refer to the name of the columns of the table.\r\nDocumentation about this method: https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html#setDataVector(java.util.Vector,java.util.Vector)","title":"Error class Java.util.Vector casting method","body":"<p>The problem may be that you are not defining the type of the matrix. I suggest declaring the matrix as Vector&lt;Vector&gt;.</p>\n<p><code>Vector&lt;Vector&lt;Object&gt;&gt; tableData = (Vector&lt;Vector&lt;Object&gt;&gt;)input.readObject();</code></p>\n<p>Another tip, you can add the matrix without doing a loop, with</p>\n<p><code>model.setDataVector(tableData, columnIdentifiers);</code></p>\n<p>columnIdentifiers refer to the name of the columns of the table.\nDocumentation about this method: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html#setDataVector(java.util.Vector,java.util.Vector)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/DefaultTableModel.html#setDataVector(java.util.Vector,java.util.Vector)</a></p>\n"}],"owner":{"account_id":3746074,"reputation":1,"user_id":3114715,"display_name":"Eduardo Agostinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686752941,"creation_date":1685036096,"question_id":76334935,"body_markdown":"I&#39;m using `import java.util.Vector`, and when I get to the line in red where I use the Vector, the below error occurs:\r\n\r\n```\r\njava.lang.ClassCastException: class javax.swing.JTable cannot be cast to class java.util.Vector (javax.swing.JTable is in module java.desktop of loader &#39;bootstrap&#39;; java.util.Vector is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nMy method:\r\n\r\n```\r\nprivate void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n     try {\r\n            FileInputStream file = new FileInputStream(&quot;Dados.bin&quot;);\r\n            ObjectInputStream input = new ObjectInputStream(file);\r\n\r\n            //TODO: ERROR NEXT LINE\r\n            Vector&lt;Vector&gt; tableData = (Vector&lt;Vector&gt;)input.readObject();\r\n            \r\n            input.close();\r\n            file.close();\r\n            \r\n            DefaultTableModel model = (DefaultTableModel) tblClientes.getModel();\r\n            for (int i = 0; i &lt; tableData.size(); i++){\r\n                Vector row = tableData.get(i);\r\n                model.addRow(new Object[]{row.get(0), row.get(1), row.get(2), row.get(3)});\r\n            };\r\n        }\r\n        catch(Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }         \r\n```\r\n\r\nI tried some alternative codes but without success.\r\n\r\n\r\n\r\n","title":"Error class Java.util.Vector casting method","body":"<p>I'm using <code>import java.util.Vector</code>, and when I get to the line in red where I use the Vector, the below error occurs:</p>\n<pre><code>java.lang.ClassCastException: class javax.swing.JTable cannot be cast to class java.util.Vector (javax.swing.JTable is in module java.desktop of loader 'bootstrap'; java.util.Vector is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>My method:</p>\n<pre><code>private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n     try {\n            FileInputStream file = new FileInputStream(&quot;Dados.bin&quot;);\n            ObjectInputStream input = new ObjectInputStream(file);\n\n            //TODO: ERROR NEXT LINE\n            Vector&lt;Vector&gt; tableData = (Vector&lt;Vector&gt;)input.readObject();\n            \n            input.close();\n            file.close();\n            \n            DefaultTableModel model = (DefaultTableModel) tblClientes.getModel();\n            for (int i = 0; i &lt; tableData.size(); i++){\n                Vector row = tableData.get(i);\n                model.addRow(new Object[]{row.get(0), row.get(1), row.get(2), row.get(3)});\n            };\n        }\n        catch(Exception ex) {\n            ex.printStackTrace();\n        }\n    }         \n</code></pre>\n<p>I tried some alternative codes but without success.</p>\n"},{"tags":["java","algorithm","data-structures","time-complexity","complexity-theory"],"comments":[{"owner":{"account_id":19679090,"reputation":686,"user_id":14406682,"display_name":"Maurycyt"},"score":1,"creation_date":1686744672,"post_id":76470810,"comment_id":134840769,"body_markdown":"Yep, your understanding is correct.","body":"Yep, your understanding is correct."}],"answers":[{"tags":[],"owner":{"account_id":18919752,"reputation":305,"user_id":13804040,"display_name":"Rahul Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686751760,"creation_date":1686751760,"answer_id":76474496,"question_id":76470810,"body_markdown":"&gt;Is my approach correct here ?\r\n\r\nYes, it is.\r\n\r\n&gt;Also please clarify when to Multiple the nested loop iterations, when to sum the nested loop iterations.\r\n\r\nWell, it depends on the algorithm you are trying to solve. Try changes you perspective a little bit. \r\nSee, we are using no. of operation as a proxy for time here, right? So all we need to do is find the total number of unit operation required i.e. sum. So for you code example one, we can say:\r\n\r\n    T.C = m + m + m + m +....+ m\r\n\r\nHow many times are we adding the m options ? N times right ?\r\nthat why, we are writing it as `m * n`\r\n\r\nPractice more. Try to find the T.C&#39;s of recursive problems, it will give you more clarity  ","title":"Is Outer loop iterations are considered here in the nested loops, where inner loops iterations depends on outer loop values?","body":"<blockquote>\n<p>Is my approach correct here ?</p>\n</blockquote>\n<p>Yes, it is.</p>\n<blockquote>\n<p>Also please clarify when to Multiple the nested loop iterations, when to sum the nested loop iterations.</p>\n</blockquote>\n<p>Well, it depends on the algorithm you are trying to solve. Try changes you perspective a little bit.\nSee, we are using no. of operation as a proxy for time here, right? So all we need to do is find the total number of unit operation required i.e. sum. So for you code example one, we can say:</p>\n<pre><code>T.C = m + m + m + m +....+ m\n</code></pre>\n<p>How many times are we adding the m options ? N times right ?\nthat why, we are writing it as <code>m * n</code></p>\n<p>Practice more. Try to find the T.C's of recursive problems, it will give you more clarity</p>\n"}],"owner":{"account_id":21849354,"reputation":11,"user_id":16141665,"display_name":"nullr4pt0r"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686751760,"creation_date":1686725401,"question_id":76470810,"body_markdown":"**Code 1**\r\n```\r\n    for(int i=1-N)\r\n        for(int i=1-M)\r\n```\r\n\r\nThe inner loop runs M times each Outer loop iterations.Outer loop N times , Inner loop M times.\r\n**TC  = O(N*M)**\r\n\r\n**Code 2**\r\n\r\n```\r\n    for(int i=1-N)\r\n        for(int j=1-i)\r\n```\r\n\r\nThe outer loop runs N times.\r\nInner loop iterations are not fixed here. It runs based on the outer loop i value.\r\n- Example :\r\n- i = 1 , j = 1-1\r\n- i=2 , j= 1- 2\r\n- i=N , j = 1 - N\r\n\r\nInner loop iterations are 1,2,3,....N. Applying the Sum of N natural numbers formula we get\r\nN(N + 1) / 2.\r\n\r\nTime Complexity will be O(N^2).\r\n\r\nMy confusion is , outer loop runs N times. Inner loop runs based on outer loop i value.\r\n\r\nwill the TC find like this ?\r\n\r\n&gt; Outer loop + inner loop (sum the loops because the inner loop value based on outer loop values)\r\n&gt; N + N(N + 1) / 2 = 2N + N^2 =\\ neglecting the lower order as per Big Oh principles = O(N^2).\r\n\r\nIs my approach correct here ?\r\n\r\nAs per my understandings,\r\n\r\n1) If inner loop values runs irrespective of outer loop values like code 1, We should multiply the outer loop iterations and inner loop iterations.\r\n\r\n2) If the inner loop runs based on the outer loop values and not fixed number of iterations like code 2, we should sum the outer loop iterations and inner loop iterations.\r\n\r\nAlso please clarify when to Multiple the nested loop iterations, when to sum the nested loop iterations.\r\n\r\nI am just learning the DSA in java. This time complexity finding confusing me.","title":"Is Outer loop iterations are considered here in the nested loops, where inner loops iterations depends on outer loop values?","body":"<p><strong>Code 1</strong></p>\n<pre><code>    for(int i=1-N)\n        for(int i=1-M)\n</code></pre>\n<p>The inner loop runs M times each Outer loop iterations.Outer loop N times , Inner loop M times.\n<strong>TC  = O(N*M)</strong></p>\n<p><strong>Code 2</strong></p>\n<pre><code>    for(int i=1-N)\n        for(int j=1-i)\n</code></pre>\n<p>The outer loop runs N times.\nInner loop iterations are not fixed here. It runs based on the outer loop i value.</p>\n<ul>\n<li>Example :</li>\n<li>i = 1 , j = 1-1</li>\n<li>i=2 , j= 1- 2</li>\n<li>i=N , j = 1 - N</li>\n</ul>\n<p>Inner loop iterations are 1,2,3,....N. Applying the Sum of N natural numbers formula we get\nN(N + 1) / 2.</p>\n<p>Time Complexity will be O(N^2).</p>\n<p>My confusion is , outer loop runs N times. Inner loop runs based on outer loop i value.</p>\n<p>will the TC find like this ?</p>\n<blockquote>\n<p>Outer loop + inner loop (sum the loops because the inner loop value based on outer loop values)\nN + N(N + 1) / 2 = 2N + N^2 =\\ neglecting the lower order as per Big Oh principles = O(N^2).</p>\n</blockquote>\n<p>Is my approach correct here ?</p>\n<p>As per my understandings,</p>\n<ol>\n<li><p>If inner loop values runs irrespective of outer loop values like code 1, We should multiply the outer loop iterations and inner loop iterations.</p>\n</li>\n<li><p>If the inner loop runs based on the outer loop values and not fixed number of iterations like code 2, we should sum the outer loop iterations and inner loop iterations.</p>\n</li>\n</ol>\n<p>Also please clarify when to Multiple the nested loop iterations, when to sum the nested loop iterations.</p>\n<p>I am just learning the DSA in java. This time complexity finding confusing me.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2439686,"reputation":81,"user_id":2128570,"display_name":"Saeed Farahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686751101,"creation_date":1686747197,"answer_id":76473808,"question_id":74747692,"body_markdown":"According to this open issue on spring repository: [https://github.com/spring-projects/spring-framework/issues/23755][1] there&#39;s no direct way to do this.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/23755\r\n\r\nMy solution is to first create a configuration for task scheduler:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SchedulingConfiguration implements SchedulingConfigurer {\r\n      @Override\r\n      public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        var threadPoolTaskScheduler = new CustomThreadPoolTaskScheduler();\r\n        threadPoolTaskScheduler.initialize();\r\n    \r\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n      }\r\n    }\r\n\r\nThen create a custom ThreadPoolTaskScheduler:\r\n\r\n    public class CustomThreadPoolTaskScheduler extends ThreadPoolTaskScheduler {\r\n      @Override\r\n      protected ScheduledExecutorService createExecutor(\r\n          int poolSize,\r\n          ThreadFactory threadFactory,\r\n          RejectedExecutionHandler rejectedExecutionHandler) {\r\n        return new CustomScheduledThreadPoolExecutor(poolSize, threadFactory, rejectedExecutionHandler);\r\n      }\r\n    }\r\n\r\nwhile CustomThreadPoolTaskScheduler looks like:\r\n\r\n    public class CustomScheduledThreadPoolExecutor extends ScheduledThreadPoolExecutor {\r\n      public CustomScheduledThreadPoolExecutor(\r\n          int corePoolSize,\r\n          ThreadFactory threadFactory,\r\n          RejectedExecutionHandler handler) {\r\n        super(corePoolSize, threadFactory, handler);\r\n       }\r\n    \r\n      @Override\r\n      protected &lt;V&gt; RunnableScheduledFuture&lt;V&gt; decorateTask(\r\n      Callable&lt;V&gt; callable, RunnableScheduledFuture&lt;V&gt; task) {\r\n        return new CustomTask&lt;&gt;(task);\r\n      }\r\n    \r\n      @Override\r\n      protected &lt;V&gt; RunnableScheduledFuture&lt;V&gt; decorateTask(\r\n          Runnable runnable, RunnableScheduledFuture&lt;V&gt; task) {\r\n        return new CustomTask&lt;&gt;(task);\r\n      }\r\n    \r\n      private record CustomTask&lt;V&gt;(RunnableScheduledFuture&lt;V&gt; task)\r\n      implements RunnableScheduledFuture&lt;V&gt; {\r\n    \r\n        @Override\r\n        public void run() {\r\n          try {\r\n            // DO SOMETHING BEFORE....\r\n\r\n            task.run();\r\n          } finally {\r\n            // DO SOMETHING AFTER....\r\n          }\r\n        }\r\n    \r\n        @Override\r\n        public boolean cancel(boolean mayInterruptIfRunning) {\r\n          return task.cancel(mayInterruptIfRunning);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCancelled() {\r\n          return task.isCancelled();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isDone() {\r\n          return task.isDone();\r\n        }\r\n    \r\n        @Override\r\n        public V get() throws InterruptedException, ExecutionException {\r\n          return task.get();\r\n        }\r\n    \r\n        @Override\r\n        public V get(long timeout, @IsNotNullable TimeUnit unit)\r\n        throws InterruptedException, ExecutionException, TimeoutException {\r\n          return task.get(timeout, unit);\r\n        }\r\n    \r\n        @Override\r\n        public long getDelay(@IsNotNullable TimeUnit unit) {\r\n          return task.getDelay(unit);\r\n        }\r\n    \r\n        @Override\r\n        public int compareTo(@IsNotNullable Delayed o) {\r\n          return task.compareTo(o);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isPeriodic() {\r\n          return task.isPeriodic();\r\n        }\r\n      }\r\n    }","title":"Decorator to clear thread context for Spring @Scheduled annotation","body":"<p>According to this open issue on spring repository: <a href=\"https://github.com/spring-projects/spring-framework/issues/23755\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/23755</a> there's no direct way to do this.</p>\n<p>My solution is to first create a configuration for task scheduler:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class SchedulingConfiguration implements SchedulingConfigurer {\n  @Override\n  public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n    var threadPoolTaskScheduler = new CustomThreadPoolTaskScheduler();\n    threadPoolTaskScheduler.initialize();\n\n    taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\n  }\n}\n</code></pre>\n<p>Then create a custom ThreadPoolTaskScheduler:</p>\n<pre><code>public class CustomThreadPoolTaskScheduler extends ThreadPoolTaskScheduler {\n  @Override\n  protected ScheduledExecutorService createExecutor(\n      int poolSize,\n      ThreadFactory threadFactory,\n      RejectedExecutionHandler rejectedExecutionHandler) {\n    return new CustomScheduledThreadPoolExecutor(poolSize, threadFactory, rejectedExecutionHandler);\n  }\n}\n</code></pre>\n<p>while CustomThreadPoolTaskScheduler looks like:</p>\n<pre><code>public class CustomScheduledThreadPoolExecutor extends ScheduledThreadPoolExecutor {\n  public CustomScheduledThreadPoolExecutor(\n      int corePoolSize,\n      ThreadFactory threadFactory,\n      RejectedExecutionHandler handler) {\n    super(corePoolSize, threadFactory, handler);\n   }\n\n  @Override\n  protected &lt;V&gt; RunnableScheduledFuture&lt;V&gt; decorateTask(\n  Callable&lt;V&gt; callable, RunnableScheduledFuture&lt;V&gt; task) {\n    return new CustomTask&lt;&gt;(task);\n  }\n\n  @Override\n  protected &lt;V&gt; RunnableScheduledFuture&lt;V&gt; decorateTask(\n      Runnable runnable, RunnableScheduledFuture&lt;V&gt; task) {\n    return new CustomTask&lt;&gt;(task);\n  }\n\n  private record CustomTask&lt;V&gt;(RunnableScheduledFuture&lt;V&gt; task)\n  implements RunnableScheduledFuture&lt;V&gt; {\n\n    @Override\n    public void run() {\n      try {\n        // DO SOMETHING BEFORE....\n\n        task.run();\n      } finally {\n        // DO SOMETHING AFTER....\n      }\n    }\n\n    @Override\n    public boolean cancel(boolean mayInterruptIfRunning) {\n      return task.cancel(mayInterruptIfRunning);\n    }\n\n    @Override\n    public boolean isCancelled() {\n      return task.isCancelled();\n    }\n\n    @Override\n    public boolean isDone() {\n      return task.isDone();\n    }\n\n    @Override\n    public V get() throws InterruptedException, ExecutionException {\n      return task.get();\n    }\n\n    @Override\n    public V get(long timeout, @IsNotNullable TimeUnit unit)\n    throws InterruptedException, ExecutionException, TimeoutException {\n      return task.get(timeout, unit);\n    }\n\n    @Override\n    public long getDelay(@IsNotNullable TimeUnit unit) {\n      return task.getDelay(unit);\n    }\n\n    @Override\n    public int compareTo(@IsNotNullable Delayed o) {\n      return task.compareTo(o);\n    }\n\n    @Override\n    public boolean isPeriodic() {\n      return task.isPeriodic();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":19110915,"reputation":17,"user_id":13956932,"display_name":"Abhishek Surve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686751101,"creation_date":1670615374,"question_id":74747692,"body_markdown":"Want to clear the thread contex post execution of the functions annotated with `@Scheduled` in spring boot\r\n\r\nUsage\r\n\r\n```java\r\n@Scheduled(fixedDelayString = &quot;10000&quot;)\r\n    publi void doSomething() {\r\n}\r\n```\r\n\r\nConfig for scheduled thread pool\r\n\r\n```java\r\n@Bean(destroyMethod = &quot;shutdownNow&quot;)\r\n        public ScheduledExecutorService scheduledExecutorService() {\r\n            return Executors.newScheduledThreadPool(5);\r\n }\r\n```\r\n\r\n\r\nHave created a simple decorator to solve the same\r\n\r\n```java\r\npackage com.demo.decorator;\r\n\r\nimport com.demo.utils.GeneralUtils;\r\nimport org.springframework.core.task.TaskDecorator;\r\n\r\npublic class ThreadContextDecorator implements TaskDecorator {\r\n\r\n    @Override\r\n    public Runnable decorate(Runnable runnable) {\r\n        return () -&gt; {\r\n            try {\r\n                runnable.run();\r\n            } finally {\r\n                GeneralUtils.clearContext();\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n```\r\n\r\nNot sure how to add it in bean of `ScheduledExecutorService`\r\n","title":"Decorator to clear thread context for Spring @Scheduled annotation","body":"<p>Want to clear the thread contex post execution of the functions annotated with <code>@Scheduled</code> in spring boot</p>\n<p>Usage</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelayString = &quot;10000&quot;)\n    publi void doSomething() {\n}\n</code></pre>\n<p>Config for scheduled thread pool</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(destroyMethod = &quot;shutdownNow&quot;)\n        public ScheduledExecutorService scheduledExecutorService() {\n            return Executors.newScheduledThreadPool(5);\n }\n</code></pre>\n<p>Have created a simple decorator to solve the same</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.demo.decorator;\n\nimport com.demo.utils.GeneralUtils;\nimport org.springframework.core.task.TaskDecorator;\n\npublic class ThreadContextDecorator implements TaskDecorator {\n\n    @Override\n    public Runnable decorate(Runnable runnable) {\n        return () -&gt; {\n            try {\n                runnable.run();\n            } finally {\n                GeneralUtils.clearContext();\n            }\n        };\n    }\n}\n\n</code></pre>\n<p>Not sure how to add it in bean of <code>ScheduledExecutorService</code></p>\n"},{"tags":["java","rest","curl","cxf","jira"],"answers":[{"tags":[],"owner":{"account_id":1565001,"reputation":3510,"user_id":1453994,"display_name":"GlennV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464166144,"creation_date":1464166144,"answer_id":37432084,"question_id":37429109,"body_markdown":"Is that Apache CXF that you use to send the REST call?\r\n\r\nIn general if you notice a difference between what you try manually and what your code does, it helps to enable logging, so you can compare whether your code really does the same thing (probably not).\r\n\r\nFor Apache CXF, how to enable logging is described here:\r\n  \r\n  - [General CXF Logging][1]\r\n  - [Message Logging][2]\r\n\r\nEven if that does not help you immediately, it can be useful to add those logs to your question here to make it easier for other people to spot the problem.\r\n\r\n  [1]: http://cxf.apache.org/docs/general-cxf-logging.html\r\n  [2]: http://cxf.apache.org/docs/message-logging.html","title":"WebClient - Jira rest api, with unexpected result","body":"<p>Is that Apache CXF that you use to send the REST call?</p>\n\n<p>In general if you notice a difference between what you try manually and what your code does, it helps to enable logging, so you can compare whether your code really does the same thing (probably not).</p>\n\n<p>For Apache CXF, how to enable logging is described here:</p>\n\n<ul>\n<li><a href=\"http://cxf.apache.org/docs/general-cxf-logging.html\" rel=\"nofollow\">General CXF Logging</a></li>\n<li><a href=\"http://cxf.apache.org/docs/message-logging.html\" rel=\"nofollow\">Message Logging</a></li>\n</ul>\n\n<p>Even if that does not help you immediately, it can be useful to add those logs to your question here to make it easier for other people to spot the problem.</p>\n"},{"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":2,"creation_date":1686763383,"post_id":76474357,"comment_id":134845214,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76474357/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28801703,"reputation":1,"user_id":22058437,"display_name":"Srk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686750898,"creation_date":1686750898,"answer_id":76474357,"question_id":37429109,"body_markdown":"public JiraService() {\r\n        this.webClient = WebClient.builder()\r\n                .baseUrl(JIRA_URL)\r\n                .defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + JIRA_API_TOKEN)\r\n                .build();\r\n    }\r\n\r\n    public Mono&lt;String&gt; getIssue(String issueKey) {\r\n        return webClient.get()\r\n                .uri(&quot;issue/&quot; + issueKey)\r\n                .retrieve()\r\n                .bodyToMono(String.class);\r\n    }","title":"WebClient - Jira rest api, with unexpected result","body":"<p>public JiraService() {\nthis.webClient = WebClient.builder()\n.baseUrl(JIRA_URL)\n.defaultHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + JIRA_API_TOKEN)\n.build();\n}</p>\n<pre><code>public Mono&lt;String&gt; getIssue(String issueKey) {\n    return webClient.get()\n            .uri(&quot;issue/&quot; + issueKey)\n            .retrieve()\n            .bodyToMono(String.class);\n}\n</code></pre>\n"}],"owner":{"account_id":4309055,"reputation":1901,"user_id":3984006,"accept_rate":96,"display_name":"user16655"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37432084,"answer_count":2,"score":1,"last_activity_date":1686750898,"creation_date":1464156820,"question_id":37429109,"body_markdown":"I&#39;m trying to fetch issues from JIRA through the Jira Rest Api. When I use curl it&#39;s no problem, and I get the issues I want. The problem is that I want to do this through Java code (I use the maven changes plugin, with some small modifications), but the plugin doesn&#39;t find the issues. I get 200 status response, but the response doesn&#39;t contain any issues. \r\n\r\nHere is a snippet from the Java code (the authentication is done in the setup): \r\n\r\n        WebClient client = setupWebClient(jiraUrl);\r\n        doSessionAuth(client);\r\n        client.replacePath(&quot;/rest/api/2/search&quot;);\r\n        client.type(MediaType.APPLICATION_JSON_TYPE);\r\n        client.accept(MediaType.APPLICATION_JSON_TYPE);\r\n        client.query(&quot;key&quot;, &quot;&lt;Issue-key&gt;&quot;);\r\n        Response res = client.get(); \r\n\r\nThis gives me a 200 response with this JSON: \r\n\r\n    {&quot;startAt&quot;:0,&quot;maxResults&quot;:50,&quot;total&quot;:0,&quot;issues&quot;:[]}\r\n\r\nThis is my curl request which gives me the expected ressult: \r\n\r\n    curl -u user:password -X GET -H &quot;Content-Type:application/json&quot; https://bankid.atlassian.net/rest/api/2/search?key=&lt;Issue-key&gt;&amp;maxResults=10\r\n\r\nI&#39;ve also tried with using POST and a JSON query: \r\n\r\n    WebClient client = setupWebClient(jiraUrl);\r\n    doSessionAuth(client);\r\n    \r\n    String jqlQuery = new    JqlQueryBuilder(log).urlEncode(false).filter(filter).build();\r\n    \r\n    StringWriter searchParamStringWriter = new StringWriter()\r\n    JsonGenerator gen = jsonFactory.createGenerator(searchParamStringWriter);\r\n    gen.writeStartObject();\r\n    gen.writeStringField(&quot;jql&quot;, jqlQuery);\r\n    gen.writeNumberField(&quot;maxResults&quot;, nbEntriesMax);\r\n    gen.writeArrayFieldStart(&quot;fields&quot;);\r\n    gen.writeString(&quot;*all&quot;);\r\n    gen.writeEndArray();\r\n    gen.writeEndObject();\r\n    gen.close();\r\n    client.replacePath(&quot;/rest/api/2/search&quot;);\r\n    client.type(MediaType.APPLICATION_JSON_TYPE);\r\n    client.accept(MediaType.APPLICATION_JSON_TYPE);\r\n    log.debug(&quot;JQL query [&quot; + searchParamStringWriter.toString() + &quot;]&quot;);\r\n    Response searchResponse = client.post(searchParamStringWriter.toString());\r\n\r\nIt&#39;s the same here. The corresponding curl gives me the expected result (one issue), but this returns a 200 response but with no issues. \r\n\r\nI can&#39;t seem to find out what&#39;s wrong. Any pointers? Also, is it possible to see exactly which path the client sends the request to (to make sure there isn&#39;t anything wrong with my set-up)? I&#39;ve read through the API but haven&#39;t found anything. \r\n\r\n","title":"WebClient - Jira rest api, with unexpected result","body":"<p>I'm trying to fetch issues from JIRA through the Jira Rest Api. When I use curl it's no problem, and I get the issues I want. The problem is that I want to do this through Java code (I use the maven changes plugin, with some small modifications), but the plugin doesn't find the issues. I get 200 status response, but the response doesn't contain any issues. </p>\n\n<p>Here is a snippet from the Java code (the authentication is done in the setup): </p>\n\n<pre><code>    WebClient client = setupWebClient(jiraUrl);\n    doSessionAuth(client);\n    client.replacePath(\"/rest/api/2/search\");\n    client.type(MediaType.APPLICATION_JSON_TYPE);\n    client.accept(MediaType.APPLICATION_JSON_TYPE);\n    client.query(\"key\", \"&lt;Issue-key&gt;\");\n    Response res = client.get(); \n</code></pre>\n\n<p>This gives me a 200 response with this JSON: </p>\n\n<pre><code>{\"startAt\":0,\"maxResults\":50,\"total\":0,\"issues\":[]}\n</code></pre>\n\n<p>This is my curl request which gives me the expected ressult: </p>\n\n<pre><code>curl -u user:password -X GET -H \"Content-Type:application/json\" https://bankid.atlassian.net/rest/api/2/search?key=&lt;Issue-key&gt;&amp;maxResults=10\n</code></pre>\n\n<p>I've also tried with using POST and a JSON query: </p>\n\n<pre><code>WebClient client = setupWebClient(jiraUrl);\ndoSessionAuth(client);\n\nString jqlQuery = new    JqlQueryBuilder(log).urlEncode(false).filter(filter).build();\n\nStringWriter searchParamStringWriter = new StringWriter()\nJsonGenerator gen = jsonFactory.createGenerator(searchParamStringWriter);\ngen.writeStartObject();\ngen.writeStringField(\"jql\", jqlQuery);\ngen.writeNumberField(\"maxResults\", nbEntriesMax);\ngen.writeArrayFieldStart(\"fields\");\ngen.writeString(\"*all\");\ngen.writeEndArray();\ngen.writeEndObject();\ngen.close();\nclient.replacePath(\"/rest/api/2/search\");\nclient.type(MediaType.APPLICATION_JSON_TYPE);\nclient.accept(MediaType.APPLICATION_JSON_TYPE);\nlog.debug(\"JQL query [\" + searchParamStringWriter.toString() + \"]\");\nResponse searchResponse = client.post(searchParamStringWriter.toString());\n</code></pre>\n\n<p>It's the same here. The corresponding curl gives me the expected result (one issue), but this returns a 200 response but with no issues. </p>\n\n<p>I can't seem to find out what's wrong. Any pointers? Also, is it possible to see exactly which path the client sends the request to (to make sure there isn't anything wrong with my set-up)? I've read through the API but haven't found anything. </p>\n"},{"tags":["java","maven","intellij-idea","java-native-interface","simpleitk"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1686692693,"post_id":76468748,"comment_id":134833761,"body_markdown":"`But cant find this &#39;VM option&#39;, i think it is too old.` it is hidden by default in newer versions of IntelliJ. You can make it visible under &quot;Modify options&quot; in the top right of the &quot;Run/Debug Configuration&quot; dialogue","body":"<code>But cant find this &#39;VM option&#39;, i think it is too old.</code> it is hidden by default in newer versions of IntelliJ. You can make it visible under &quot;Modify options&quot; in the top right of the &quot;Run/Debug Configuration&quot; dialogue"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686750739,"creation_date":1686690500,"question_id":76468748,"body_markdown":"i am trying to use simpleitk with java.  \r\nalready setup pom.xml and maven works with no error or warning.  \r\ni can even import simpleitk in my scripts and run without problems.\r\n\r\nwhen trying to make something a little bit more complex, i bumped into:\r\n\r\njava.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path\r\n\r\nsearching for a solution i find:\r\n\r\n&lt;https://itk.org/Wiki/SimpleITK/GettingStarted/A_visual_guide_to_SimpleITK_in_Java&gt;\r\n\r\nbut the example uses eclipse, and i&#39;m unable to &quot;set the \\*Native library location&quot; in intellij.  \r\nsearching, i find \\*[How to set the java.library.path in intelliJ Idea](https://stackoverflow.com/questions/19308010/how-to-set-the-java-library-path-in-intellij-idea). But cant find this &#39;VM option&#39;, i think it is too old.  \r\ni search a lot and tried other things but got no results.\r\n\r\nWhere do i find the \\*JNI? Is it supposed to be like &#39;SimpleITK-0.9.0.jar&#39;? Because i find this on a random maven repository and tried to paste the path everywhere such as:\r\n\r\nenrivonrment variables path  \r\nfile/Project Structure/Modules/Dependencies  \r\nfile/Project Structure/Libraries  \r\nfile/Project Structure/Artifacts\r\n\r\nbut all with no success.\\*","title":"no SimpleITKJava in java.library.path with intellij","body":"<p>i am trying to use simpleitk with java.<br />\nalready setup pom.xml and maven works with no error or warning.<br />\ni can even import simpleitk in my scripts and run without problems.</p>\n<p>when trying to make something a little bit more complex, i bumped into:</p>\n<p>java.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path</p>\n<p>searching for a solution i find:</p>\n<p><a href=\"https://itk.org/Wiki/SimpleITK/GettingStarted/A_visual_guide_to_SimpleITK_in_Java\" rel=\"nofollow noreferrer\">https://itk.org/Wiki/SimpleITK/GettingStarted/A_visual_guide_to_SimpleITK_in_Java</a></p>\n<p>but the example uses eclipse, and i'm unable to &quot;set the *Native library location&quot; in intellij.<br />\nsearching, i find *<a href=\"https://stackoverflow.com/questions/19308010/how-to-set-the-java-library-path-in-intellij-idea\">How to set the java.library.path in intelliJ Idea</a>. But cant find this 'VM option', i think it is too old.<br />\ni search a lot and tried other things but got no results.</p>\n<p>Where do i find the *JNI? Is it supposed to be like 'SimpleITK-0.9.0.jar'? Because i find this on a random maven repository and tried to paste the path everywhere such as:</p>\n<p>enrivonrment variables path<br />\nfile/Project Structure/Modules/Dependencies<br />\nfile/Project Structure/Libraries<br />\nfile/Project Structure/Artifacts</p>\n<p>but all with no success.*</p>\n"},{"tags":["java","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":7429503,"reputation":153,"user_id":5650995,"display_name":"AnotherBrick"},"score":0,"creation_date":1686753616,"post_id":76474329,"comment_id":134843007,"body_markdown":"I recognize that but Im restricted by the project architecture, which requires creating a seperate class for every component including the writer. is there a way you can show me how to transform your example into a class form ?","body":"I recognize that but Im restricted by the project architecture, which requires creating a seperate class for every component including the writer. is there a way you can show me how to transform your example into a class form ?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1686758044,"post_id":76474329,"comment_id":134844027,"body_markdown":"`Im restricted by the project architecture, which requires creating a seperate class for every component including the writer.`: Interesting! Just curious, why is that? If you REALLY can&#39;t use a class from Spring Batch as is, then you can just create a class `class MyCustomWriter extends FlatFileItemWriter` and use that instead (you won&#39;t have a builder through, so you can create an instance of `MyCustomWriter` and use setters to configure properties).","body":"<code>Im restricted by the project architecture, which requires creating a seperate class for every component including the writer.</code>: Interesting! Just curious, why is that? If you REALLY can&#39;t use a class from Spring Batch as is, then you can just create a class <code>class MyCustomWriter extends FlatFileItemWriter</code> and use that instead (you won&#39;t have a builder through, so you can create an instance of <code>MyCustomWriter</code> and use setters to configure properties)."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686750702,"creation_date":1686750702,"answer_id":76474329,"question_id":76473609,"body_markdown":"You don&#39;t need to extend `FlatFileItemWriter` to write data to a csv file. That built-in reader can be used for that. Here is a quick example:\r\n\r\n```\r\n@Bean\r\npublic FlatFileItemWriter&lt;Person&gt; itemWriter() {\r\n    return new FlatFileItemWriterBuilder&lt;Person&gt;()\r\n            .resource(new FileSystemResource(&quot;persons.csv&quot;))\r\n            .name(&quot;personItemWriter&quot;)\r\n            .delimited()\r\n            .names(&quot;id&quot;, &quot;name&quot;)\r\n            .build();\r\n}\r\n```","title":"Spring Batch - How to create a custom writer that extends flatfileitemwriter to write in a csv file in Java","body":"<p>You don't need to extend <code>FlatFileItemWriter</code> to write data to a csv file. That built-in reader can be used for that. Here is a quick example:</p>\n<pre><code>@Bean\npublic FlatFileItemWriter&lt;Person&gt; itemWriter() {\n    return new FlatFileItemWriterBuilder&lt;Person&gt;()\n            .resource(new FileSystemResource(&quot;persons.csv&quot;))\n            .name(&quot;personItemWriter&quot;)\n            .delimited()\n            .names(&quot;id&quot;, &quot;name&quot;)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":7429503,"reputation":153,"user_id":5650995,"display_name":"AnotherBrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686750702,"creation_date":1686745926,"question_id":76473609,"body_markdown":"How do I create a custom writer that extends flatfileitemwriter to write in a csv file ? I&#39;m very new to Spring Batch and I looked everywhere for an example but couldn&#39;t find one that creates a class that extends flatfileitemwriter and implements it to write a csv file. Could someone please write a working example for me ?\r\n","title":"Spring Batch - How to create a custom writer that extends flatfileitemwriter to write in a csv file in Java","body":"<p>How do I create a custom writer that extends flatfileitemwriter to write in a csv file ? I'm very new to Spring Batch and I looked everywhere for an example but couldn't find one that creates a class that extends flatfileitemwriter and implements it to write a csv file. Could someone please write a working example for me ?</p>\n"},{"tags":["java","proxy","windows-authentication","ntlm","tomcat9"],"owner":{"account_id":28806808,"reputation":1,"user_id":22062490,"display_name":"L-Lah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686750568,"creation_date":1686750568,"question_id":76474308,"body_markdown":"I have a java (1.8) web application using NTLM proxy authentication to call a webservice (https) behind a windows proxy. The proxy requires authentication.\r\nWith Tomcat 7.0.81 as a windows service my web applications works fine.\r\nWhen I try to upgrade to Tomcat 9.0.73, the proxy authentication keeps failing with this error message:\r\n`java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;` \r\nI am wondering what is the difference between Tomcat 7 and Tomcat 9 when it comes to the proxy authentication using NTLM.\r\nI ran the same application in Tomcat 7 and Tomcat 9 in the same windows machine and Tomcat 9 keeps failing with the error message :\r\n`java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;` \r\n\r\nHere is a part of the log from Tomcat 7 after enabling the proxy authentication logging:\r\n\r\n```\r\nJun 7, 2023 3:16:15 PM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\r\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned sun.net.www.protocol.http.ntlm.NTLMAuthentication@21c70e\r\n\r\nFINEST: KeepAlive stream used: https://example.com/Service\r\nJun 7, 2023 3:16:15 PM sun.net.www.protocol.http.HttpURLConnection doTunneling\r\n\r\nFINE: sun.net.www.MessageHeader@6113702b1 HTTP/1.1 200 Connection established\r\n\r\n```\r\n\r\n\r\nFor Tomcat 9 as a windows service the proxy authentication fails at the last step:\r\n\r\n```\r\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\r\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned sun.net.www.protocol.http.ntlm.NTLMAuthentication@1a8c7f2d\r\n\r\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection doTunneling\r\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection$1 run\r\nFINEST: Requesting Authentication: host =proxy.com url = https://example.com/Service\r\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection$1 run\r\nFINEST: Authentication returned: null\r\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\r\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned null\r\nJun 7, 2023 11:54:38 AM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging\r\nWARNING: Interceptor for { https://example.com/Service has thrown exception, unwinding now\r\norg.apache.cxf.interceptor.Fault: Marshalling Error: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;\r\n```\r\n\r\nI went through Tomcat 9 documentation but I could not find anything related to NTLM proxy authentication.\r\nI don&#39;t have access to the proxy or the proxy logs to see what credentials does Tomcat 9 sends to the proxy.\r\n\r\nSo everything is the same except Tomcat version:\r\n-same java web application\r\n-same version of Java (1.8.0_361) and same windows 10 machine so it must be something related to Tomcat 9.\r\nAny help is much appreciated\r\n","title":"NTLM proxy authentication works with Tomcat 7 (as a windows service) but fails with Tomcat 9 (as a windows service)","body":"<p>I have a java (1.8) web application using NTLM proxy authentication to call a webservice (https) behind a windows proxy. The proxy requires authentication.\nWith Tomcat 7.0.81 as a windows service my web applications works fine.\nWhen I try to upgrade to Tomcat 9.0.73, the proxy authentication keeps failing with this error message:\n<code>java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;</code>\nI am wondering what is the difference between Tomcat 7 and Tomcat 9 when it comes to the proxy authentication using NTLM.\nI ran the same application in Tomcat 7 and Tomcat 9 in the same windows machine and Tomcat 9 keeps failing with the error message :\n<code>java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;</code></p>\n<p>Here is a part of the log from Tomcat 7 after enabling the proxy authentication logging:</p>\n<pre><code>Jun 7, 2023 3:16:15 PM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned sun.net.www.protocol.http.ntlm.NTLMAuthentication@21c70e\n\nFINEST: KeepAlive stream used: https://example.com/Service\nJun 7, 2023 3:16:15 PM sun.net.www.protocol.http.HttpURLConnection doTunneling\n\nFINE: sun.net.www.MessageHeader@6113702b1 HTTP/1.1 200 Connection established\n\n</code></pre>\n<p>For Tomcat 9 as a windows service the proxy authentication fails at the last step:</p>\n<pre><code>Jun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned sun.net.www.protocol.http.ntlm.NTLMAuthentication@1a8c7f2d\n\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection doTunneling\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection$1 run\nFINEST: Requesting Authentication: host =proxy.com url = https://example.com/Service\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection$1 run\nFINEST: Authentication returned: null\nJun 7, 2023 11:54:38 AM sun.net.www.protocol.http.HttpURLConnection getHttpProxyAuthentication\nFINER: Proxy Authentication for AuthenticationHeader: prefer NTLM returned null\nJun 7, 2023 11:54:38 AM org.apache.cxf.phase.PhaseInterceptorChain doDefaultLogging\nWARNING: Interceptor for { https://example.com/Service has thrown exception, unwinding now\norg.apache.cxf.interceptor.Fault: Marshalling Error: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 407 Proxy Authentication Required&quot;\n</code></pre>\n<p>I went through Tomcat 9 documentation but I could not find anything related to NTLM proxy authentication.\nI don't have access to the proxy or the proxy logs to see what credentials does Tomcat 9 sends to the proxy.</p>\n<p>So everything is the same except Tomcat version:\n-same java web application\n-same version of Java (1.8.0_361) and same windows 10 machine so it must be something related to Tomcat 9.\nAny help is much appreciated</p>\n"},{"tags":["java","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624554166,"creation_date":1624554166,"answer_id":68119969,"question_id":68118717,"body_markdown":"The issue seems to be connected with abnormal threads termination when your &quot;Hold target rate time&quot; ends. \r\n\r\nAre you sure you&#39;re running test in [non-GUI mode][1] and following other [JMeter Best Practices][2] \r\n\r\nThe options are in:\r\n\r\n 1. Ignore the errors as they are client-side errors\r\n 2. Introduce ramp-down so the threads will be terminated gradually, it can be done using [Throughput Shaping Timer][3]\r\n 3. Remove last requests which are failing from the .jtl results file using [Filter Results Tool][4]\r\n 4. Reach out to the [plugin developers and/or maintainers][5] and report the issue there\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/get-started.html#non_gui\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html\r\n  [3]: https://www.blazemeter.com/blog/using-jmeters-throughput-shaping-timer-plugin/\r\n  [4]: https://jmeter-plugins.org/wiki/FilterResultsTool/\r\n  [5]: https://groups.google.com/g/jmeter-plugins","title":"JMeter 5.4.1: java.net.SocketException: Socket Closed at the end of test","body":"<p>The issue seems to be connected with abnormal threads termination when your &quot;Hold target rate time&quot; ends.</p>\n<p>Are you sure you're running test in <a href=\"https://jmeter.apache.org/usermanual/get-started.html#non_gui\" rel=\"nofollow noreferrer\">non-GUI mode</a> and following other <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a></p>\n<p>The options are in:</p>\n<ol>\n<li>Ignore the errors as they are client-side errors</li>\n<li>Introduce ramp-down so the threads will be terminated gradually, it can be done using <a href=\"https://www.blazemeter.com/blog/using-jmeters-throughput-shaping-timer-plugin/\" rel=\"nofollow noreferrer\">Throughput Shaping Timer</a></li>\n<li>Remove last requests which are failing from the .jtl results file using <a href=\"https://jmeter-plugins.org/wiki/FilterResultsTool/\" rel=\"nofollow noreferrer\">Filter Results Tool</a></li>\n<li>Reach out to the <a href=\"https://groups.google.com/g/jmeter-plugins\" rel=\"nofollow noreferrer\">plugin developers and/or maintainers</a> and report the issue there</li>\n</ol>\n"}],"owner":{"account_id":22042293,"reputation":1,"user_id":16307927,"display_name":"michglus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3797,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686749995,"creation_date":1624548849,"question_id":68118717,"body_markdown":"No matter how many threads I use, Jmeter shows errors in the end of the test. Just in the end - until that moment there are no errors. When threads are being closed, the last few of them are failed due to:\r\n\r\n    Non HTTP response code: javax.net.ssl.SSLException message:Non HTTP response message: java.net.SocketException: Socket Closed\r\n\r\nor\r\n\r\n    Non HTTP response code: javax.net.ssl.SSLException message:Non HTTP response message: java.net.SocketException: Socket Closed\r\n\r\nor\r\n\r\n    Non HTTP response code: java.lang.IllegalStateException message:Non HTTP response message: Connection pool shut down\r\n\r\nThree of them can be found in some of the failed threads most of the time.\r\nI&#39;ve tried almost every solution I&#39;ve found in the net (including those on stackoverflow) but none of them fixed the problem. Below are links to examples I tried:\r\n\r\n&lt;https://cwiki.apache.org/confluence/display/jmeter/JMeterSocketClosed&gt; &lt;br/&gt;\r\n&lt;https://www.xtivia.com/blog/fixing-jmeter-socket-errors&gt;\r\n\r\nThe setup of the script:&lt;br/&gt;\r\n1. [bzm - Concurrency Thread Group][1]&lt;br/&gt;\r\n2. User Defined Variables\r\n3. [CSV Data Set Config][2]&lt;br/&gt;\r\n4. [HTTP Cache Manager][3]&lt;br/&gt;\r\n5. [HTTP Cookie Manager][4]&lt;br/&gt;\r\n6. [HTTP Request Defaults][5]&lt;br/&gt;\r\n7. [One of HTTP Requests][6]&lt;br/&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3ztSD.png\r\n  [2]: https://i.stack.imgur.com/PmYan.png\r\n  [3]: https://i.stack.imgur.com/XcHDi.png\r\n  [4]: https://i.stack.imgur.com/0fDLm.png\r\n  [5]: https://i.stack.imgur.com/sOAMN.png\r\n  [6]: https://i.stack.imgur.com/OBCDS.png\r\n\r\nCan anybody help me?","title":"JMeter 5.4.1: java.net.SocketException: Socket Closed at the end of test","body":"<p>No matter how many threads I use, Jmeter shows errors in the end of the test. Just in the end - until that moment there are no errors. When threads are being closed, the last few of them are failed due to:</p>\n<pre><code>Non HTTP response code: javax.net.ssl.SSLException message:Non HTTP response message: java.net.SocketException: Socket Closed\n</code></pre>\n<p>or</p>\n<pre><code>Non HTTP response code: javax.net.ssl.SSLException message:Non HTTP response message: java.net.SocketException: Socket Closed\n</code></pre>\n<p>or</p>\n<pre><code>Non HTTP response code: java.lang.IllegalStateException message:Non HTTP response message: Connection pool shut down\n</code></pre>\n<p>Three of them can be found in some of the failed threads most of the time.\nI've tried almost every solution I've found in the net (including those on stackoverflow) but none of them fixed the problem. Below are links to examples I tried:</p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/jmeter/JMeterSocketClosed\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/jmeter/JMeterSocketClosed</a> <br/>\n<a href=\"https://www.xtivia.com/blog/fixing-jmeter-socket-errors\" rel=\"nofollow noreferrer\">https://www.xtivia.com/blog/fixing-jmeter-socket-errors</a></p>\n<p>The setup of the script:<br/></p>\n<ol>\n<li><a href=\"https://i.stack.imgur.com/3ztSD.png\" rel=\"nofollow noreferrer\">bzm - Concurrency Thread Group</a><br/></li>\n<li>User Defined Variables</li>\n<li><a href=\"https://i.stack.imgur.com/PmYan.png\" rel=\"nofollow noreferrer\">CSV Data Set Config</a><br/></li>\n<li><a href=\"https://i.stack.imgur.com/XcHDi.png\" rel=\"nofollow noreferrer\">HTTP Cache Manager</a><br/></li>\n<li><a href=\"https://i.stack.imgur.com/0fDLm.png\" rel=\"nofollow noreferrer\">HTTP Cookie Manager</a><br/></li>\n<li><a href=\"https://i.stack.imgur.com/sOAMN.png\" rel=\"nofollow noreferrer\">HTTP Request Defaults</a><br/></li>\n<li><a href=\"https://i.stack.imgur.com/OBCDS.png\" rel=\"nofollow noreferrer\">One of HTTP Requests</a><br/></li>\n</ol>\n<p>Can anybody help me?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686749292,"post_id":76474074,"comment_id":134841902,"body_markdown":"Please show a [mcve] that includes your consumer code since what you&#39;ve shown is only a producer and some unknown mock... Kafka already has MockConsumer class that will not connect to a running broker","body":"Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that includes your consumer code since what you&#39;ve shown is only a producer and some unknown mock... Kafka already has MockConsumer class that will not connect to a running broker"},{"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"score":0,"creation_date":1686749454,"post_id":76474074,"comment_id":134841943,"body_markdown":"I added the KafkaConsumerConfiguration class.","body":"I added the KafkaConsumerConfiguration class."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1686780653,"post_id":76474074,"comment_id":134848125,"body_markdown":"Spring Boot automatically creates the correct configuration classes with `@Configuration` annotation. You do not need your own classes https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka And EmbeddedBroker should work as well https://docs.spring.io/spring-kafka/reference/html/#ktu","body":"Spring Boot automatically creates the correct configuration classes with <code>@Configuration</code> annotation. You do not need your own classes <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> And EmbeddedBroker should work as well <a href=\"https://docs.spring.io/spring-kafka/reference/html/#ktu\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/reference/html/#ktu</a>"}],"owner":{"account_id":26559725,"reputation":13,"user_id":20187759,"display_name":"1029Coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686749421,"creation_date":1686748945,"question_id":76474074,"body_markdown":"I tested the application locally with a Kafka set up, and the consumers starts and listen to the local Kafka topic, and call a service when a message is consumed.\r\n\r\nI&#39;m trying to reproduce and test the behaviour in an integration test, but the consumer fails to start during the integration test. This problem happens with both the @EmbbededKafka set up, or with the usage of Kafka testcontainers.\r\n\r\nI know the configuration, the name of the topic, group id and ports are properly sets due to some debugging.\r\n\r\nSince I don&#39;t really have more context to provide, here is some relevant code about the integration class:\r\n\r\n```\r\n@Testcontainers\r\n@EnableAutoConfiguration(exclude = KafkaAutoConfiguration.class)\r\n@ContextConfiguration(initializers = SqlContainerConfiguration.class, classes = {\r\n    KafkaConsumerConfiguration.class,\r\n    KafkaProducerConfiguration.class,\r\n    KafkaListenerService.class\r\n})\r\n@ActiveProfiles(&quot;integration&quot;)\r\n@SpringBootTest(classes = {TestOrchestratorApplication.class, KafkaConsumerConfiguration.class},\r\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Import({KafkaProducerConfiguration.class, KafkaConsumerConfiguration.class, KafkaListenerService.class})\r\n@DirtiesContext\r\npublic class KafkaIntegrationTest {\r\n\r\n  @Autowired\r\n  private KafkaProducerConfiguration kafkaProducerConfiguration;\r\n\r\n  @Autowired\r\n  private KafkaConsumerConfiguration kafkaConsumerConfiguration;\r\n\r\n  @Autowired\r\n  private KafkaListenerService kafkaListenerService;\r\n\r\n// some mocked API and Interfaces\r\n\r\n  private static final String TEST_TOPIC = â€œtest-topic&quot;;\r\n\r\n  @Container\r\n  private static KafkaContainer kafkaContainer = new KafkaContainer(&quot;5.5.0&quot;)\r\n                                                     .withEnv(&quot;KAFKA_AUTO_CREATE_TOPICS_ENABLE&quot;, &quot;true&quot;);\r\n\r\n  @DynamicPropertySource\r\n  static void kafkaProperties(DynamicPropertyRegistry registry) {\r\n    List&lt;String&gt; env = new ArrayList&lt;&gt;();\r\n    env.add(&quot;KAFKA_LISTENERS=&quot; + kafkaContainer.getBootstrapServers());\r\n    env.add(&quot;KAFKA_ADVERTISED_LISTENERS=&quot; + &quot;PLAINTEXT://localhost:9093&quot;);\r\n    env.add(&quot;KAFKA_CFG_ADVERTISED_LISTENERS=&quot; + kafkaContainer.getBootstrapServers());\r\n    kafkaContainer.setEnv(env);\r\n    kafkaContainer.setEnv(env);\r\n    // Start the container\r\n    kafkaContainer.start();\r\n    String bootstrapServers = kafkaContainer.getBootstrapServers();\r\n    // Remove the &quot;PLAINTEXT://&quot; prefix if present\r\n    if (bootstrapServers.startsWith(&quot;PLAINTEXT://&quot;)) {\r\n      bootstrapServers = bootstrapServers.substring(&quot;PLAINTEXT://&quot;.length());\r\n    }\r\n\r\n    // Configure the bootstrap servers for the consumer and producer\r\n    String finalBootstrapServers = bootstrapServers;\r\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, () -&gt; finalBootstrapServers);\r\n    String finalBootstrapServers1 = bootstrapServers;\r\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, () -&gt; finalBootstrapServers1);\r\n  }\r\n\r\n@Test\r\npublic void testKafkaIntegration() throws Exception {\r\n  KafkaTemplate&lt;String, UserEvent&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(kafkaProducerConfiguration.producerFactory());\r\n\r\n// Mock method\r\n   when(methodToBeMocked)â€¦\r\n\r\n  // Send the message to the Kafka topic\r\n  ListenableFuture&lt;?&gt; sendResult = kafkaTemplate.send(TEST_TOPIC, aMessageToBeSend);\r\n\r\n  // Wait for the message to be sent\r\n  sendResult.get(10, TimeUnit.SECONDS);\r\n\r\n  // Wait for the listener to be invoked\r\n  latch.await(10, TimeUnit.SECONDS);\r\n  System.out.println(kafkaContainer.getLogs());\r\n  if (sendResult.isDone() &amp;&amp; !sendResult.isCancelled()) {\r\n// verify mock has been called\r\n    verify(methodToBeMocked)â€¦..;\r\n  } else {\r\n    fail(&quot;Failed to send message&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nIn this case, not only the service method isn&#39;t called, but in the kafka logs, there is not trace of the consumer, so it seems it is not even started.\r\n\r\nIn the application, I have a KafkaConsumerConfiguration class, which is autowired, and by debugging I can confirm that the KafkaConsumerConfiguration Bean is called.\r\n\r\nHere is the consumer configuration class:\r\n\r\n\r\n```\r\n\r\n@Configuration\r\npublic class KafkaConsumerConfiguration {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerConfiguration.class);\r\n\r\n  @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n  private String bootstrapServers;\r\n\r\n  @Value(&quot;${spring.kafka.group-id}&quot;)\r\n  private String groupId;\r\n\r\n  private final Map&lt;String, Object&gt; consumerConfig;\r\n\r\n  public KafkaConsumerConfiguration(\r\n      @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapServers,\r\n      @Value(&quot;${spring.kafka.group-id}&quot;) String groupId\r\n  ) {\r\n    this.bootstrapServers = bootstrapServers;\r\n    this.groupId = groupId;\r\n\r\n    consumerConfig = Map.of(\r\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers,\r\n        ConsumerConfig.GROUP_ID_CONFIG, groupId,\r\n        ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;,\r\n        ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, keyDeserializer,\r\n        ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, valueDeserializer\r\n    );\r\n  }\r\n\r\n  public static final Class&lt;StringDeserializer&gt; keyDeserializer = StringDeserializer.class;\r\n  public static final Class&lt;JsonDeserializer&gt; valueDeserializer = JsonDeserializer.class;\r\n\r\n  @Bean\r\n  public ConsumerFactory&lt;String, UserEvent&gt; consumerFactory() {\r\n    logger.info(&quot;Creating Consumer Factory with Configuration: {}&quot;, consumerConfig);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig, new StringDeserializer(), new JsonDeserializer&lt;&gt;());\r\n  }\r\n\r\n  public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, UserEvent&gt;&gt; factory(\r\n      ConsumerFactory&lt;String, UserEvent&gt; consumerFactory\r\n  ) {\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, UserEvent&gt; factory =\r\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    factory.setConsumerFactory(consumerFactory);\r\n    return factory;\r\n  }\r\n\r\n  public void setBootstrapServers(String bootstrapServers) {\r\n    this.bootstrapServers = bootstrapServers;\r\n  }\r\n\r\n  public void setGroupId(String groupId) {\r\n    this.groupId = groupId;\r\n  }\r\n\r\n  public Map&lt;String, Object&gt; getConsumerConfig() {\r\n    return consumerConfig;\r\n  }\r\n}\r\n```\r\n","title":"Kafka Containers Integration test, autowired Consumer doesn&#39;t start","body":"<p>I tested the application locally with a Kafka set up, and the consumers starts and listen to the local Kafka topic, and call a service when a message is consumed.</p>\n<p>I'm trying to reproduce and test the behaviour in an integration test, but the consumer fails to start during the integration test. This problem happens with both the @EmbbededKafka set up, or with the usage of Kafka testcontainers.</p>\n<p>I know the configuration, the name of the topic, group id and ports are properly sets due to some debugging.</p>\n<p>Since I don't really have more context to provide, here is some relevant code about the integration class:</p>\n<pre><code>@Testcontainers\n@EnableAutoConfiguration(exclude = KafkaAutoConfiguration.class)\n@ContextConfiguration(initializers = SqlContainerConfiguration.class, classes = {\n    KafkaConsumerConfiguration.class,\n    KafkaProducerConfiguration.class,\n    KafkaListenerService.class\n})\n@ActiveProfiles(&quot;integration&quot;)\n@SpringBootTest(classes = {TestOrchestratorApplication.class, KafkaConsumerConfiguration.class},\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import({KafkaProducerConfiguration.class, KafkaConsumerConfiguration.class, KafkaListenerService.class})\n@DirtiesContext\npublic class KafkaIntegrationTest {\n\n  @Autowired\n  private KafkaProducerConfiguration kafkaProducerConfiguration;\n\n  @Autowired\n  private KafkaConsumerConfiguration kafkaConsumerConfiguration;\n\n  @Autowired\n  private KafkaListenerService kafkaListenerService;\n\n// some mocked API and Interfaces\n\n  private static final String TEST_TOPIC = â€œtest-topic&quot;;\n\n  @Container\n  private static KafkaContainer kafkaContainer = new KafkaContainer(&quot;5.5.0&quot;)\n                                                     .withEnv(&quot;KAFKA_AUTO_CREATE_TOPICS_ENABLE&quot;, &quot;true&quot;);\n\n  @DynamicPropertySource\n  static void kafkaProperties(DynamicPropertyRegistry registry) {\n    List&lt;String&gt; env = new ArrayList&lt;&gt;();\n    env.add(&quot;KAFKA_LISTENERS=&quot; + kafkaContainer.getBootstrapServers());\n    env.add(&quot;KAFKA_ADVERTISED_LISTENERS=&quot; + &quot;PLAINTEXT://localhost:9093&quot;);\n    env.add(&quot;KAFKA_CFG_ADVERTISED_LISTENERS=&quot; + kafkaContainer.getBootstrapServers());\n    kafkaContainer.setEnv(env);\n    kafkaContainer.setEnv(env);\n    // Start the container\n    kafkaContainer.start();\n    String bootstrapServers = kafkaContainer.getBootstrapServers();\n    // Remove the &quot;PLAINTEXT://&quot; prefix if present\n    if (bootstrapServers.startsWith(&quot;PLAINTEXT://&quot;)) {\n      bootstrapServers = bootstrapServers.substring(&quot;PLAINTEXT://&quot;.length());\n    }\n\n    // Configure the bootstrap servers for the consumer and producer\n    String finalBootstrapServers = bootstrapServers;\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, () -&gt; finalBootstrapServers);\n    String finalBootstrapServers1 = bootstrapServers;\n    registry.add(&quot;spring.kafka.bootstrap-servers&quot;, () -&gt; finalBootstrapServers1);\n  }\n\n@Test\npublic void testKafkaIntegration() throws Exception {\n  KafkaTemplate&lt;String, UserEvent&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(kafkaProducerConfiguration.producerFactory());\n\n// Mock method\n   when(methodToBeMocked)â€¦\n\n  // Send the message to the Kafka topic\n  ListenableFuture&lt;?&gt; sendResult = kafkaTemplate.send(TEST_TOPIC, aMessageToBeSend);\n\n  // Wait for the message to be sent\n  sendResult.get(10, TimeUnit.SECONDS);\n\n  // Wait for the listener to be invoked\n  latch.await(10, TimeUnit.SECONDS);\n  System.out.println(kafkaContainer.getLogs());\n  if (sendResult.isDone() &amp;&amp; !sendResult.isCancelled()) {\n// verify mock has been called\n    verify(methodToBeMocked)â€¦..;\n  } else {\n    fail(&quot;Failed to send message&quot;);\n  }\n}\n\n</code></pre>\n<p>In this case, not only the service method isn't called, but in the kafka logs, there is not trace of the consumer, so it seems it is not even started.</p>\n<p>In the application, I have a KafkaConsumerConfiguration class, which is autowired, and by debugging I can confirm that the KafkaConsumerConfiguration Bean is called.</p>\n<p>Here is the consumer configuration class:</p>\n<pre><code>\n@Configuration\npublic class KafkaConsumerConfiguration {\n\n  private static final Logger logger = LoggerFactory.getLogger(KafkaConsumerConfiguration.class);\n\n  @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n  private String bootstrapServers;\n\n  @Value(&quot;${spring.kafka.group-id}&quot;)\n  private String groupId;\n\n  private final Map&lt;String, Object&gt; consumerConfig;\n\n  public KafkaConsumerConfiguration(\n      @Value(&quot;${spring.kafka.bootstrap-servers}&quot;) String bootstrapServers,\n      @Value(&quot;${spring.kafka.group-id}&quot;) String groupId\n  ) {\n    this.bootstrapServers = bootstrapServers;\n    this.groupId = groupId;\n\n    consumerConfig = Map.of(\n        ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers,\n        ConsumerConfig.GROUP_ID_CONFIG, groupId,\n        ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;,\n        ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, keyDeserializer,\n        ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, valueDeserializer\n    );\n  }\n\n  public static final Class&lt;StringDeserializer&gt; keyDeserializer = StringDeserializer.class;\n  public static final Class&lt;JsonDeserializer&gt; valueDeserializer = JsonDeserializer.class;\n\n  @Bean\n  public ConsumerFactory&lt;String, UserEvent&gt; consumerFactory() {\n    logger.info(&quot;Creating Consumer Factory with Configuration: {}&quot;, consumerConfig);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig, new StringDeserializer(), new JsonDeserializer&lt;&gt;());\n  }\n\n  public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, UserEvent&gt;&gt; factory(\n      ConsumerFactory&lt;String, UserEvent&gt; consumerFactory\n  ) {\n    ConcurrentKafkaListenerContainerFactory&lt;String, UserEvent&gt; factory =\n        new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    return factory;\n  }\n\n  public void setBootstrapServers(String bootstrapServers) {\n    this.bootstrapServers = bootstrapServers;\n  }\n\n  public void setGroupId(String groupId) {\n    this.groupId = groupId;\n  }\n\n  public Map&lt;String, Object&gt; getConsumerConfig() {\n    return consumerConfig;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","admob","adblock"],"comments":[{"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"score":0,"creation_date":1686723184,"post_id":76470305,"comment_id":134836366,"body_markdown":"Seems like people here just doing downvoting games even without reading issues.","body":"Seems like people here just doing downvoting games even without reading issues."}],"answers":[{"tags":[],"owner":{"account_id":11470295,"reputation":818,"user_id":8407336,"display_name":"LethalMaus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686720159,"creation_date":1686720159,"answer_id":76470332,"question_id":76470305,"body_markdown":"There is no official method provided by the Android operating system to programmatically detect whether an ad blocker is installed on a device. Android does not expose specific APIs or system-level information that can be used to determine the presence of ad-blocking software.\r\n\r\nHowever, it&#39;s important to note that ad-blocking apps can work in various ways, such as modifying DNS settings, intercepting network traffic, or utilizing VPN services. In some cases, you may be able to infer the presence of an ad blocker indirectly by examining network requests and responses, but this approach may not be foolproof and can be challenging to implement reliably.\r\n\r\nPlease keep in mind that the ad-blocking functionality and detection methods can change over time as new software versions and techniques are developed. It&#39;s a good practice to respect users&#39; preferences and privacy choices regarding ad blockers.","title":"How to detect ad blocker in my android app?","body":"<p>There is no official method provided by the Android operating system to programmatically detect whether an ad blocker is installed on a device. Android does not expose specific APIs or system-level information that can be used to determine the presence of ad-blocking software.</p>\n<p>However, it's important to note that ad-blocking apps can work in various ways, such as modifying DNS settings, intercepting network traffic, or utilizing VPN services. In some cases, you may be able to infer the presence of an ad blocker indirectly by examining network requests and responses, but this approach may not be foolproof and can be challenging to implement reliably.</p>\n<p>Please keep in mind that the ad-blocking functionality and detection methods can change over time as new software versions and techniques are developed. It's a good practice to respect users' preferences and privacy choices regarding ad blockers.</p>\n"}],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76470332,"answer_count":1,"score":0,"last_activity_date":1686749367,"creation_date":1686719782,"question_id":76470305,"body_markdown":"Is there any way to detect when ad blocker is running in app ? I want to detect in my app that if user uses any app to block ads in app. if yes then I want to show popup to user to ask him to disable ad blocker while using app. ","title":"How to detect ad blocker in my android app?","body":"<p>Is there any way to detect when ad blocker is running in app ? I want to detect in my app that if user uses any app to block ads in app. if yes then I want to show popup to user to ask him to disable ad blocker while using app.</p>\n"},{"tags":["java","spring-boot","spring-mvc","json-api","crnk"],"owner":{"account_id":25254519,"reputation":32,"user_id":19086479,"display_name":"Mohamed amine ben hassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686749141,"creation_date":1686749141,"question_id":76474097,"body_markdown":"I tried working with a difffrent dependency but it seems that it requires different configuration  :\r\n\r\n\r\n\r\n\r\n       &lt;!-- https://mvnrepository.com/artifact/io.crnk/crnk-jpa --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.crnk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;crnk-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.20180326220647&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\nthis is the exemple that I am trying to implement in my work i found the link in the official documentation of crnk  \r\nhttps://github.com/crnk-project/crnk-example/blob/master/crnk-example-service/src/main/java/io/crnk/example/service/repository/VoteRepository.java\r\n\r\n\r\n\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n\r\n\r\n\r\n    package com.example.json_api_test.Repository;\r\n    import com.example.json_api_test.Entity.User;\r\n    import io.crnk.jpa.JpaEntityRepository;\r\n    import io.crnk.jpa.JpaModule;\r\n    import io.crnk.jpa.JpaRepositoryConfig;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import java.util.UUID;\r\n\r\n    @Component\r\n    public class UserRepository extends JpaEntityRepository&lt;User, UUID&gt;{\r\n\r\n\r\n         public UserRepository() {\r\n\r\n        super(User.class);  \r\n    }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    this is the error I get \r\n&#39;JpaEntityRepository(io.crnk.jpa.JpaModule, io.crnk.jpa.JpaRepositoryConfig&lt;com.example.json_api_test.Entity.User&gt;)&#39; in &#39;io.crnk.jpa.JpaEntityRepository&#39; cannot be applied to &#39;(java.lang.Class&lt;com.example.json_api_test.Entity.User&gt;)&#39;\r\n\r\n\r\n\r\n\r\n\r\n","title":"what&#39;s the alternative of ResourceRepositoryBase in crnk since i cant find crnk-data-jpa Dependency anywhere","body":"<p>I tried working with a difffrent dependency but it seems that it requires different configuration  :</p>\n<pre><code>   &lt;!-- https://mvnrepository.com/artifact/io.crnk/crnk-jpa --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.crnk&lt;/groupId&gt;\n        &lt;artifactId&gt;crnk-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.5.20180326220647&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>this is the exemple that I am trying to implement in my work i found the link in the official documentation of crnk<br />\n<a href=\"https://github.com/crnk-project/crnk-example/blob/master/crnk-example-service/src/main/java/io/crnk/example/service/repository/VoteRepository.java\" rel=\"nofollow noreferrer\">https://github.com/crnk-project/crnk-example/blob/master/crnk-example-service/src/main/java/io/crnk/example/service/repository/VoteRepository.java</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package com.example.json_api_test.Repository;\nimport com.example.json_api_test.Entity.User;\nimport io.crnk.jpa.JpaEntityRepository;\nimport io.crnk.jpa.JpaModule;\nimport io.crnk.jpa.JpaRepositoryConfig;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.UUID;\n\n@Component\npublic class UserRepository extends JpaEntityRepository&lt;User, UUID&gt;{\n\n\n     public UserRepository() {\n\n    super(User.class);  \n}\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>this is the error I get \n</code></pre>\n<p>'JpaEntityRepository(io.crnk.jpa.JpaModule, io.crnk.jpa.JpaRepositoryConfig&lt;com.example.json_api_test.Entity.User&gt;)' in 'io.crnk.jpa.JpaEntityRepository' cannot be applied to '(java.lang.Class&lt;com.example.json_api_test.Entity.User&gt;)'</p>\n"},{"tags":["java","file","truncate","r.java-file"],"answers":[{"tags":[],"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1418471678,"creation_date":1418471334,"answer_id":27458458,"question_id":27458402,"body_markdown":"Quoting from [`FileChannel.truncate` javadocs](https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate(long)):\r\n\r\n&gt;  If the given size is greater than or equal to the file&#39;s current size then the file is not modified.\r\n\r\nSince you emptied the file before truncating, its size will be 0. `38 &gt; 0`, so issuing a `.trucate(38)` will result in a no-op. \r\n\r\nEither you truncate to 38 bytes without trucating to 0 first, or you truncate to 0 and write 38 bytes to it (e.g. 38 zeroes).","title":"How to delete the file contents (not file, need same inode) in Java and then truncate the file to a specific size (say 38 bytes)","body":"<p>Quoting from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/channels/FileChannel.html#truncate(long)\" rel=\"nofollow\"><code>FileChannel.truncate</code> javadocs</a>:</p>\n\n<blockquote>\n  <p>If the given size is greater than or equal to the file's current size then the file is not modified.</p>\n</blockquote>\n\n<p>Since you emptied the file before truncating, its size will be 0. <code>38 &gt; 0</code>, so issuing a <code>.trucate(38)</code> will result in a no-op. </p>\n\n<p>Either you truncate to 38 bytes without trucating to 0 first, or you truncate to 0 and write 38 bytes to it (e.g. 38 zeroes).</p>\n"},{"comments":[{"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"score":0,"creation_date":1418473563,"post_id":27458667,"comment_id":43354422,"body_markdown":"Close, but not the same. He&#39;s closing the file after truncating to 0, then opening it and trying to &quot;un-truncate&quot; an already saved file. More importantly, this works.","body":"Close, but not the same. He&#39;s closing the file after truncating to 0, then opening it and trying to &quot;un-truncate&quot; an already saved file. More importantly, this works."}],"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418473073,"creation_date":1418473073,"answer_id":27458667,"question_id":27458402,"body_markdown":"&gt; - Delete all its contents.\r\n&gt; - Truncate the same file to a given size (Say 38 bytes ....)\r\n\r\nSo the question is, how would one delete a file&#39;s content without deleting the file and while also retaining the ability to truncate the file? This is my take on it:\r\n\r\n&lt;!-- begin snippet --&gt;\r\n\r\n    String fileName = &quot;/home/me/dummy/a.1&quot;;\r\n    // file exists already\r\n    RandomAccessFile raf = new RandomAccessFile(fileName, &quot;rw&quot;);\r\n    try {\r\n    \t// set the file pointer at 0 position\r\n    \traf.seek(0);\r\n    \t// print current length\r\n    \tlong size = raf.length();\r\n    \tSystem.out.println(&quot;Before deleting -  fileSize = &quot; + size);\r\n    \r\n   \t\t// delete file content\r\n    \traf.setLength(0);\r\n    \t// truncate file to 38\r\n    \traf.setLength(Math.min(size, 38));\r\n    \t// print the new length\r\n    \tSystem.out.println(&quot;After deleting - filesize = &quot; + raf.length());\r\n    \r\n   \t} catch (IOException e) {\r\n    \te.printStackTrace();\r\n    } finally {\r\n    \traf.close();\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhat do you guys think; does that satisfy the seemingly conflicting requirements?\r\n\r\n","title":"How to delete the file contents (not file, need same inode) in Java and then truncate the file to a specific size (say 38 bytes)","body":"<blockquote>\n  <ul>\n  <li>Delete all its contents.</li>\n  <li>Truncate the same file to a given size (Say 38 bytes ....)</li>\n  </ul>\n</blockquote>\n\n<p>So the question is, how would one delete a file's content without deleting the file and while also retaining the ability to truncate the file? This is my take on it:</p>\n\n\n\n<pre><code>String fileName = \"/home/me/dummy/a.1\";\n// file exists already\nRandomAccessFile raf = new RandomAccessFile(fileName, \"rw\");\ntry {\n    // set the file pointer at 0 position\n    raf.seek(0);\n    // print current length\n    long size = raf.length();\n    System.out.println(\"Before deleting -  fileSize = \" + size);\n\n    // delete file content\n    raf.setLength(0);\n    // truncate file to 38\n    raf.setLength(Math.min(size, 38));\n    // print the new length\n    System.out.println(\"After deleting - filesize = \" + raf.length());\n\n} catch (IOException e) {\n    e.printStackTrace();\n} finally {\n    raf.close();\n}\n</code></pre>\n\n\n\n<p>What do you guys think; does that satisfy the seemingly conflicting requirements?</p>\n"},{"tags":[],"owner":{"account_id":3928179,"reputation":35,"user_id":3247759,"display_name":"Sygsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686748505,"creation_date":1686748505,"answer_id":76474002,"question_id":27458402,"body_markdown":"According to the last code with RandomAccessFile:\r\n\r\nThe first action setLength(0) removes all physical blocks of 512 bytes occupied by the file on the medium before it was opened.\r\n\r\nThe second action setLength(38) allocates one physical block (512 bytes) to the file; this block is filled with zeros, the first 38 bytes of which go into the RAM.\r\n\r\nThe allocated block is very likely not the block from the previous set that made up the same file before it was opened. Thus, it is impossible to retrieve old information.\r\n\r\nThis requires block-by-block access operations at the lower level of the file system API.\r\n\r\nIt can be argued that a setLength(SIZE) operation with a SIZE greater than the file length always gets new bytes filled with zeros.","title":"How to delete the file contents (not file, need same inode) in Java and then truncate the file to a specific size (say 38 bytes)","body":"<p>According to the last code with RandomAccessFile:</p>\n<p>The first action setLength(0) removes all physical blocks of 512 bytes occupied by the file on the medium before it was opened.</p>\n<p>The second action setLength(38) allocates one physical block (512 bytes) to the file; this block is filled with zeros, the first 38 bytes of which go into the RAM.</p>\n<p>The allocated block is very likely not the block from the previous set that made up the same file before it was opened. Thus, it is impossible to retrieve old information.</p>\n<p>This requires block-by-block access operations at the lower level of the file system API.</p>\n<p>It can be argued that a setLength(SIZE) operation with a SIZE greater than the file length always gets new bytes filled with zeros.</p>\n"}],"owner":{"account_id":5178451,"reputation":47,"user_id":4144823,"accept_rate":50,"display_name":"Rohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2068,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27458458,"answer_count":3,"score":0,"last_activity_date":1686748505,"creation_date":1418470975,"question_id":27458402,"body_markdown":"I want to achieve the following in Java realm:\r\n\r\n- Open a non-zero sized file.\r\n- Delete all its contents.\r\n- Truncate the same file to a given size (Say 38 bytes ....)\r\n\r\n* Somehow, if I delete the contents (works), even if I issue truncate after that, its not honored and file size stays 0.\r\n                \r\n            String fileName = &quot;/home/me/dummy/a.1&quot;;\r\n            try {\r\n\t\t         Long size = 0L;\r\n\t\t         \r\n\t\t         // file exists already\r\n\t\t         RandomAccessFile raf = new RandomAccessFile(fileName, &quot;rw&quot;);\r\n                 // set the file pointer at 0 position\r\n\t\t         raf.seek(0);\r\n\t\t         // print current length\r\n\t\t         size = raf.length();\r\n\t\t         System.out.println(&quot;Before deleting -  fileSize = &quot; + size);\r\n\r\n\t\t         // set the file length to 0\r\n\t\t         raf.setLength(0);\r\n\t\t         // print the new length\r\n\t\t         System.out.println(&quot;After deleting - filesize = &quot; + raf.length());\r\n\t\t         raf.close();\r\n\t\t     \r\n\t\t\t\t\r\n\t\t\t\t// truncating file to Size = 38 bytes\r\n\t\t\t\tFileChannel outChan = new FileOutputStream(fileName, true).getChannel();\r\n\t\t\t\tSystem.out.println(&quot;Before Truncating - File size = &quot;+outChan.size());\r\n\t\t\t\toutChan.truncate(38);\r\n\t\t\t\tSystem.out.println(&quot;Aftre truncating  - File size = &quot;+outChan.size());\r\n\t\t\t    outChan.close();\r\n\t\t\t\t\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t} \r\n\r\n\r\nMy O/Ps :\r\n\r\nBefore deleting -  fileSize = 21\r\n\r\nAfter deleting - filesize = 0\r\n\r\nBefore Truncating - File size = 0\r\n\r\nAftre truncating  - File size = 0\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;I have tried multiple other options like : \r\n\r\n\r\n1. Truncating the file to 0 and then to say 38 bytes (non-zero value that i want)\r\n\r\n                // truncating file to Size = 0 bytes and then to 38 bytes\r\n\t\t\t\tFileChannel outChan = new FileOutputStream(fileName, true).getChannel();\r\n\t\t\t\tSystem.out.println(&quot;Before Truncating - File size = &quot;+outChan.size());\r\n                outChan.truncate(0);\t\t\t\t\r\n                outChan.truncate(38);\r\n\t\t\t\tSystem.out.println(&quot;Aftre truncating  - File size = &quot;+outChan.size());\r\n\t\t\t    outChan.close();\r\n\r\nDoesn&#39;t work. File Size stays 0. Only 1st truncate is honored.\r\n\r\n&lt;br&gt;&lt;br&gt;2. Truncate the file to 0, close the channel, open the channel again and truncate to 38 bytes.\r\n\r\n                FileChannel outChan = new FileOutputStream(fileName, true).getChannel();\r\n\t\t\t\tSystem.out.println(&quot;Before Truncating - File size = &quot;+outChan.size());\r\n                outChan.truncate(0);\t\r\n                outChan.close();\r\n                 FileChannel outChan1 = new FileOutputStream(fileName, true).getChannel(); \t\t\t\r\n                outChan1.truncate(38);\r\n\t\t\t\tSystem.out.println(&quot;Aftre truncating  - File size = &quot;+outChan1.size());\r\n\t\t\t    outChan.close();\r\n\r\nDoesn&#39;t work. File Size stays 0. Only 1st truncate is honored.\r\n\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;Your inputs on how can I delete the file contents and truncate it to a non-zero size. It would b great if i can do it in only one open unlike opening it as (RandomAccessFile and then as FileChannel).\r\n\r\nThanks. ","title":"How to delete the file contents (not file, need same inode) in Java and then truncate the file to a specific size (say 38 bytes)","body":"<p>I want to achieve the following in Java realm:</p>\n\n<ul>\n<li>Open a non-zero sized file.</li>\n<li>Delete all its contents.</li>\n<li><p>Truncate the same file to a given size (Say 38 bytes ....)</p></li>\n<li><p>Somehow, if I delete the contents (works), even if I issue truncate after that, its not honored and file size stays 0.</p>\n\n<pre><code>    String fileName = \"/home/me/dummy/a.1\";\n    try {\n         Long size = 0L;\n\n         // file exists already\n         RandomAccessFile raf = new RandomAccessFile(fileName, \"rw\");\n         // set the file pointer at 0 position\n         raf.seek(0);\n         // print current length\n         size = raf.length();\n         System.out.println(\"Before deleting -  fileSize = \" + size);\n\n         // set the file length to 0\n         raf.setLength(0);\n         // print the new length\n         System.out.println(\"After deleting - filesize = \" + raf.length());\n         raf.close();\n\n\n        // truncating file to Size = 38 bytes\n        FileChannel outChan = new FileOutputStream(fileName, true).getChannel();\n        System.out.println(\"Before Truncating - File size = \"+outChan.size());\n        outChan.truncate(38);\n        System.out.println(\"Aftre truncating  - File size = \"+outChan.size());\n        outChan.close();\n\n    } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n    } \n</code></pre></li>\n</ul>\n\n<p>My O/Ps :</p>\n\n<p>Before deleting -  fileSize = 21</p>\n\n<p>After deleting - filesize = 0</p>\n\n<p>Before Truncating - File size = 0</p>\n\n<p>Aftre truncating  - File size = 0</p>\n\n<p><br><br>I have tried multiple other options like : </p>\n\n<ol>\n<li><p>Truncating the file to 0 and then to say 38 bytes (non-zero value that i want)</p>\n\n<pre><code>        // truncating file to Size = 0 bytes and then to 38 bytes\n        FileChannel outChan = new FileOutputStream(fileName, true).getChannel();\n        System.out.println(\"Before Truncating - File size = \"+outChan.size());\n        outChan.truncate(0);                \n        outChan.truncate(38);\n        System.out.println(\"Aftre truncating  - File size = \"+outChan.size());\n        outChan.close();\n</code></pre></li>\n</ol>\n\n<p>Doesn't work. File Size stays 0. Only 1st truncate is honored.</p>\n\n<p><br><br>2. Truncate the file to 0, close the channel, open the channel again and truncate to 38 bytes.</p>\n\n<pre><code>            FileChannel outChan = new FileOutputStream(fileName, true).getChannel();\n            System.out.println(\"Before Truncating - File size = \"+outChan.size());\n            outChan.truncate(0);    \n            outChan.close();\n             FileChannel outChan1 = new FileOutputStream(fileName, true).getChannel();          \n            outChan1.truncate(38);\n            System.out.println(\"Aftre truncating  - File size = \"+outChan1.size());\n            outChan.close();\n</code></pre>\n\n<p>Doesn't work. File Size stays 0. Only 1st truncate is honored.</p>\n\n<p><br><br>Your inputs on how can I delete the file contents and truncate it to a non-zero size. It would b great if i can do it in only one open unlike opening it as (RandomAccessFile and then as FileChannel).</p>\n\n<p>Thanks. </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1466761747,"post_id":38010397,"comment_id":63463588,"body_markdown":"You are familiar with comparators?","body":"You are familiar with comparators?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1466762119,"post_id":38010397,"comment_id":63463815,"body_markdown":"Could you perhaps add more details regarding the desired sort behaviour? At least for me it&#39;s kind of hard to understand how the sort is supposed to work...","body":"Could you perhaps add more details regarding the desired sort behaviour? At least for me it&#39;s kind of hard to understand how the sort is supposed to work..."}],"answers":[{"tags":[],"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466761848,"creation_date":1466761848,"answer_id":38010472,"question_id":38010397,"body_markdown":"use comparators:\r\n\r\n    Collections.sort(List&lt;T&gt; list, Comparator&lt;T&gt; c) \r\n\r\nand build your comparator accordingly","title":"How to Sort a List by Sublist containing Integers","body":"<p>use comparators:</p>\n\n<pre><code>Collections.sort(List&lt;T&gt; list, Comparator&lt;T&gt; c) \n</code></pre>\n\n<p>and build your comparator accordingly</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466762274,"creation_date":1466762274,"answer_id":38010625,"question_id":38010397,"body_markdown":"You can use a comparator that sorts based on the content of the sublist:\r\n\r\n1. Make sure all sublists are sorted in descending order (your example seems to reflect this requirement):\r\n\r\n    ```list.forEach(sublist -&gt; Collections.sort(sublist.sort(Collections.reverseOrder())));```\r\n\r\n2. Sort the outer list based on the first element of the sublist\r\n\r\n    ``Collections.sort(list, (sublistone, sublisttwo) -&gt; sublistone.get(0).compareTo(sublisttwo.get(0)));``\r\n\r\n","title":"How to Sort a List by Sublist containing Integers","body":"<p>You can use a comparator that sorts based on the content of the sublist:</p>\n\n<ol>\n<li><p>Make sure all sublists are sorted in descending order (your example seems to reflect this requirement):</p>\n\n<p><code>list.forEach(sublist -&gt; Collections.sort(sublist.sort(Collections.reverseOrder())));</code></p></li>\n<li><p>Sort the outer list based on the first element of the sublist</p>\n\n<p><code>Collections.sort(list, (sublistone, sublisttwo) -&gt; sublistone.get(0).compareTo(sublisttwo.get(0)));</code></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5806757,"reputation":3715,"user_id":4579155,"accept_rate":73,"display_name":"abarisone"},"score":1,"creation_date":1466769984,"post_id":38010662,"comment_id":63468395,"body_markdown":"Please edit with more information. Code-only and &quot;try this&quot; answers are discouraged, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;. We make an effort here to be a resource for knowledge.","body":"Please edit with more information. Code-only and &quot;try this&quot; answers are discouraged, because they contain no searchable content, and don&#39;t explain why someone should &quot;try this&quot;. We make an effort here to be a resource for knowledge."}],"tags":[],"owner":{"account_id":6371966,"reputation":1212,"user_id":4944133,"display_name":"Kerwin"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466762369,"creation_date":1466762369,"answer_id":38010662,"question_id":38010397,"body_markdown":"    Collections.sort(new ArrayList&lt;List&lt;Integer&gt;&gt;(), new Comparator&lt;List&lt;Integer&gt;&gt;() {\r\n        public int compare(final List&lt;Integer&gt; o1, final List&lt;Integer&gt; o2) {\r\n            return o1.get(1) - o2.get(1);\r\n        }\r\n    });","title":"How to Sort a List by Sublist containing Integers","body":"<pre><code>Collections.sort(new ArrayList&lt;List&lt;Integer&gt;&gt;(), new Comparator&lt;List&lt;Integer&gt;&gt;() {\n    public int compare(final List&lt;Integer&gt; o1, final List&lt;Integer&gt; o2) {\n        return o1.get(1) - o2.get(1);\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1466766269,"post_id":38011088,"comment_id":63466213,"body_markdown":"stick to comparator","body":"stick to comparator"}],"tags":[],"owner":{"account_id":8697184,"reputation":11,"user_id":6508217,"display_name":"Rega von Wonderbach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466763706,"creation_date":1466763706,"answer_id":38011088,"question_id":38010397,"body_markdown":"sorry guys I pretty much just figured it out by typing it out. Little more background. I am working with pixel data. x and y as the inner lists values. there are groups of pixels that are far from each other bus some are at the same height or at a different x. But i want to sort on the height.\r\n\r\nit went as follows:\r\n\r\n    public List&lt;List&gt; sortSubList(final List&lt;List&gt; areas) {\r\n        List&lt;List&gt; sorted = new ArrayList&lt;&gt;();\r\n        conuloop:\r\n        for (List&lt;List&gt; area : areas) {\r\n            if (sorted.contains(area)) {\r\n                continue;\r\n            } else {\r\n                if (sorted.isEmpty()) {\r\n                    sorted.add(area);\r\n                } else {\r\n                    int pos = 1;\r\n                    for (List&lt;List&gt; sortArea : sorted) {\r\n                        if ((int) sortArea.get(0).get(1) &lt;= (int) area.get(0).get(1)) {\r\n                            sorted.add(pos, area);\r\n                            continue conuloop;\r\n                        } else {\r\n                           pos += 1;\r\n                        }\r\n                    }\r\n                    sorted.add(0, area);\r\n                 }\r\n            }\r\n        }\r\n        return sorted;\r\n    }\r\n\r\n\r\nIf you guys have any suggestions to make this more efficient and less time consuming, because this has to go over a lot of data. I&#39;d be happy to hear it.","title":"How to Sort a List by Sublist containing Integers","body":"<p>sorry guys I pretty much just figured it out by typing it out. Little more background. I am working with pixel data. x and y as the inner lists values. there are groups of pixels that are far from each other bus some are at the same height or at a different x. But i want to sort on the height.</p>\n\n<p>it went as follows:</p>\n\n<pre><code>public List&lt;List&gt; sortSubList(final List&lt;List&gt; areas) {\n    List&lt;List&gt; sorted = new ArrayList&lt;&gt;();\n    conuloop:\n    for (List&lt;List&gt; area : areas) {\n        if (sorted.contains(area)) {\n            continue;\n        } else {\n            if (sorted.isEmpty()) {\n                sorted.add(area);\n            } else {\n                int pos = 1;\n                for (List&lt;List&gt; sortArea : sorted) {\n                    if ((int) sortArea.get(0).get(1) &lt;= (int) area.get(0).get(1)) {\n                        sorted.add(pos, area);\n                        continue conuloop;\n                    } else {\n                       pos += 1;\n                    }\n                }\n                sorted.add(0, area);\n             }\n        }\n    }\n    return sorted;\n}\n</code></pre>\n\n<p>If you guys have any suggestions to make this more efficient and less time consuming, because this has to go over a lot of data. I'd be happy to hear it.</p>\n"},{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686748479,"creation_date":1686748167,"answer_id":76473953,"question_id":38010397,"body_markdown":"More generally, Using a comparator, you could do something like:\r\n\r\n```java\r\nList&lt;ArrayList&lt;Integer&gt;&gt;&gt; integers = new ArrayList&lt;&gt;();\r\nComparator&lt;ArrayList&lt;Integer&gt;&gt;&gt; minIntegerComparator = Comparator.comparing(k-&gt;k.stream().min((v1,v2)-&gt;v1.compareTo(v2)).get());\r\n        \t\t\r\nCollections.sort(integers, minIntegerComparator);\r\n```\r\n\r\nwhich finds the minimum value in each sublist and compares against those to sort the main list.\r\n\r\nNote that if a value is null, or if a sublist is empty/null, this may fail -  but you can mitigate using things like `.orElseGet(()-&gt;0)` instead of `.get()` to provide default values","title":"How to Sort a List by Sublist containing Integers","body":"<p>More generally, Using a comparator, you could do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ArrayList&lt;Integer&gt;&gt;&gt; integers = new ArrayList&lt;&gt;();\nComparator&lt;ArrayList&lt;Integer&gt;&gt;&gt; minIntegerComparator = Comparator.comparing(k-&gt;k.stream().min((v1,v2)-&gt;v1.compareTo(v2)).get());\n                \nCollections.sort(integers, minIntegerComparator);\n</code></pre>\n<p>which finds the minimum value in each sublist and compares against those to sort the main list.</p>\n<p>Note that if a value is null, or if a sublist is empty/null, this may fail -  but you can mitigate using things like <code>.orElseGet(()-&gt;0)</code> instead of <code>.get()</code> to provide default values</p>\n"}],"owner":{"account_id":8697184,"reputation":11,"user_id":6508217,"display_name":"Rega von Wonderbach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1686748479,"creation_date":1466761632,"question_id":38010397,"body_markdown":"So if you have this:\r\n\r\n    List&lt;Integer&gt; subList;\r\n        for example contains: [0, 6] or [2, 6] , [7, 6]\r\n            [[0, 6], [2, 6], [7, 6]]\r\n    List&lt;List&gt; list;\r\n        contains subLists: [0, 6], [2, 6], [7, 6] or [55, 4], [57, 5], [58, 5]\r\n            [[[0, 6], [2, 6], [7, 6]], [[55, 4], [57, 5], [58, 5]]]\r\nHow do you sort the List on the second value of the subList ascendingly. you can assume that the other values in other subLists are considerably far away from the previous or next subList. There are no values the same from subList to subList.\r\n\r\ninto the following:\r\n\r\n    [[[55, 4], [57, 5], [58, 5]], [[0, 6], [2, 6], [7, 6]]]\r\n","title":"How to Sort a List by Sublist containing Integers","body":"<p>So if you have this:</p>\n\n<pre><code>List&lt;Integer&gt; subList;\n    for example contains: [0, 6] or [2, 6] , [7, 6]\n        [[0, 6], [2, 6], [7, 6]]\nList&lt;List&gt; list;\n    contains subLists: [0, 6], [2, 6], [7, 6] or [55, 4], [57, 5], [58, 5]\n        [[[0, 6], [2, 6], [7, 6]], [[55, 4], [57, 5], [58, 5]]]\n</code></pre>\n\n<p>How do you sort the List on the second value of the subList ascendingly. you can assume that the other values in other subLists are considerably far away from the previous or next subList. There are no values the same from subList to subList.</p>\n\n<p>into the following:</p>\n\n<pre><code>[[[55, 4], [57, 5], [58, 5]], [[0, 6], [2, 6], [7, 6]]]\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":1,"creation_date":1686733449,"post_id":76471797,"comment_id":134838422,"body_markdown":"Use the [Amazon SDK](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html). Just declare an `S3Client` bean that you&#39;ll use for your upload.","body":"Use the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html\" rel=\"nofollow noreferrer\">Amazon SDK</a>. Just declare an <code>S3Client</code> bean that you&#39;ll use for your upload."},{"owner":{"account_id":15602286,"reputation":417,"user_id":13201006,"display_name":"Aditya"},"score":1,"creation_date":1686733562,"post_id":76471797,"comment_id":134838444,"body_markdown":"Audio files are similar to any other file, you use S3Client in SDK to upload it.","body":"Audio files are similar to any other file, you use S3Client in SDK to upload it."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1686733914,"post_id":76471797,"comment_id":134838513,"body_markdown":"What&#39;s your exact problem? What did you try? How did it fail? Please read [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users)","body":"What&#39;s your exact problem? What did you try? How did it fail? Please read <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>"}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1686748001,"post_id":76473886,"comment_id":134841612,"body_markdown":"Link-only answers are generally [frowned upon](http://meta.stackexchange.com/a/8259/204922) on Stack Overflow. In time it is possible for links to atrophy and become unavailable, meaning that your answer is useless to users in the future. It would be best if you could provide the general details of your answer in your actual post, citing your link as a reference.","body":"Link-only answers are generally <a href=\"http://meta.stackexchange.com/a/8259/204922\">frowned upon</a> on Stack Overflow. In time it is possible for links to atrophy and become unavailable, meaning that your answer is useless to users in the future. It would be best if you could provide the general details of your answer in your actual post, citing your link as a reference."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1686748063,"post_id":76473886,"comment_id":134841633,"body_markdown":"All the Java logic he is asking for is in these AWS Doc  links.","body":"All the Java logic he is asking for is in these AWS Doc  links."}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686748438,"creation_date":1686747730,"answer_id":76473886,"question_id":76471797,"body_markdown":"See the ***Photo App example*** in the [AWS Code Lib][1]. It shows both Amazon S3 upload and download Java example code in a Spring BOOT app. It also uses the AWS SDK for Java V2. Here is the [DEV Guide][2] in case you have not worked with V2. \r\n\r\nThe example linked below shows use of PNG images; however, it will point you in the right direction. It has Java logic to upload an object to an Amazon S3 bucket and likewise, Java logic to download an object from an S3 bucket. \r\n\r\nFor example, this illustration shows downloading an object. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n [Creating a dynamic web application that analyzes photos using the AWS SDK for Java][4]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [3]: https://i.stack.imgur.com/02381.png\r\n  [4]: https://docs.aws.amazon.com/code-library/latest/ug/s3_example_cross_RekognitionPhotoAnalyzer_section.html","title":"How to upload and download MP3 audio files in AWS S3 bucket using springboot/ java","body":"<p>See the <em><strong>Photo App example</strong></em> in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Lib</a>. It shows both Amazon S3 upload and download Java example code in a Spring BOOT app. It also uses the AWS SDK for Java V2. Here is the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">DEV Guide</a> in case you have not worked with V2.</p>\n<p>The example linked below shows use of PNG images; however, it will point you in the right direction. It has Java logic to upload an object to an Amazon S3 bucket and likewise, Java logic to download an object from an S3 bucket.</p>\n<p>For example, this illustration shows downloading an object.</p>\n<p><a href=\"https://i.stack.imgur.com/02381.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/02381.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/s3_example_cross_RekognitionPhotoAnalyzer_section.html\" rel=\"nofollow noreferrer\">Creating a dynamic web application that analyzes photos using the AWS SDK for Java</a></p>\n"}],"owner":{"account_id":9251061,"reputation":1,"user_id":6871553,"display_name":"Sourav Manna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686748438,"creation_date":1686733227,"question_id":76471797,"body_markdown":"I am trying to implement an application by which I will upload and download MP3 audio files in AWS s3 bucket using spring boot and java. Could some help me to get the things done. It would be very helpful for me.\r\n\r\n\r\nThank you in advance.\r\n\r\n","title":"How to upload and download MP3 audio files in AWS S3 bucket using springboot/ java","body":"<p>I am trying to implement an application by which I will upload and download MP3 audio files in AWS s3 bucket using spring boot and java. Could some help me to get the things done. It would be very helpful for me.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686748293,"creation_date":1686748293,"answer_id":76473975,"question_id":76473690,"body_markdown":"The solution is to use a &quot;partial mock&quot; by adding the `@Spy` annotation to the class under test like so:  \r\n\r\n    @InjectMocks\r\n    @Spy\r\n    private RepositoryMetricsInvocationAspect aspect;\r\n\r\n\r\nThen in the test I can do this:  \r\n\r\n```\r\ndoNothing().when(aspect).recordRepositoryInvocationMetrics(any(Method.class), any(Object.class), anyLong()); \r\n```\r\nThe method will still be called, but the code within it won&#39;t be executed. \r\nThis allows me to test the logic of the class without executing the static `Timer` methods. ","title":"I have a spring boot unit tests code that builds a Timer using method chaining, how can I handle/bypass that during the test?","body":"<p>The solution is to use a &quot;partial mock&quot; by adding the <code>@Spy</code> annotation to the class under test like so:</p>\n<pre><code>@InjectMocks\n@Spy\nprivate RepositoryMetricsInvocationAspect aspect;\n</code></pre>\n<p>Then in the test I can do this:</p>\n<pre><code>doNothing().when(aspect).recordRepositoryInvocationMetrics(any(Method.class), any(Object.class), anyLong()); \n</code></pre>\n<p>The method will still be called, but the code within it won't be executed.\nThis allows me to test the logic of the class without executing the static <code>Timer</code> methods.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76473975,"answer_count":1,"score":0,"last_activity_date":1686748293,"creation_date":1686746399,"question_id":76473690,"body_markdown":"The class under test contains the following method: \r\n\r\n    protected void recordRepositoryInvocationMetrics(Method method, Object target, long queryDuration) {\r\n        Timer.builder(&quot;mysql.call.duration&quot;)\r\n             .description(&quot;MySqL Database call Duration&quot;)\r\n             .tag(&quot;method.name&quot;, target.getClass().getSimpleName() + &quot;.&quot; + method.getName())\r\n             .tag(&quot;service.name&quot;, context.getId() != null ? context.getId() : &quot;unknown&quot;)\r\n             .register(meterRegistry)\r\n             .record(queryDuration, TimeUnit.MILLISECONDS);\r\n    }\r\n\r\nIt&#39;s causing me no end of headaches trying to get this test to work.  \r\nHow can I bypass/handle this method?   \r\nCan I restructure this code in such a way that makes it easier to mock perhaps?   \r\n","title":"I have a spring boot unit tests code that builds a Timer using method chaining, how can I handle/bypass that during the test?","body":"<p>The class under test contains the following method:</p>\n<pre><code>protected void recordRepositoryInvocationMetrics(Method method, Object target, long queryDuration) {\n    Timer.builder(&quot;mysql.call.duration&quot;)\n         .description(&quot;MySqL Database call Duration&quot;)\n         .tag(&quot;method.name&quot;, target.getClass().getSimpleName() + &quot;.&quot; + method.getName())\n         .tag(&quot;service.name&quot;, context.getId() != null ? context.getId() : &quot;unknown&quot;)\n         .register(meterRegistry)\n         .record(queryDuration, TimeUnit.MILLISECONDS);\n}\n</code></pre>\n<p>It's causing me no end of headaches trying to get this test to work.<br />\nHow can I bypass/handle this method?<br />\nCan I restructure this code in such a way that makes it easier to mock perhaps?</p>\n"},{"tags":["java","regex","replaceall"],"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1319600092,"post_id":7898467,"comment_id":9642758,"body_markdown":"So strings in this scenario contain no escape characters?","body":"So strings in this scenario contain no escape characters?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1319600346,"post_id":7898467,"comment_id":9642785,"body_markdown":"That&#39;s right I just should ignore anything inside a string...","body":"That&#39;s right I just should ignore anything inside a string..."}],"answers":[{"comments":[{"owner":{"account_id":986113,"reputation":2448,"user_id":1004555,"accept_rate":83,"display_name":"Niall Byrne"},"score":0,"creation_date":1319601224,"post_id":7898532,"comment_id":9642873,"body_markdown":"I believe it&#39;s called a negative look around, excludes strings that match that criteria.","body":"I believe it&#39;s called a negative look around, excludes strings that match that criteria."},{"owner":{"account_id":986113,"reputation":2448,"user_id":1004555,"accept_rate":83,"display_name":"Niall Byrne"},"score":0,"creation_date":1319601721,"post_id":7898532,"comment_id":9642947,"body_markdown":"http://rubular.com/r/Bz9lEasQWT  shows it working, can you provide an example?  I never tried 2 negative look arounds in java...","body":"<a href=\"http://rubular.com/r/Bz9lEasQWT\" rel=\"nofollow noreferrer\">rubular.com/r/Bz9lEasQWT</a>  shows it working, can you provide an example?  I never tried 2 negative look arounds in java..."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1319603374,"post_id":7898532,"comment_id":9643141,"body_markdown":"The exact line where the first passes but the later fails: `out.println(&quot;adding this to other&quot;)`","body":"The exact line where the first passes but the later fails: <code>out.println(&quot;adding this to other&quot;)</code>"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1319608067,"post_id":7898532,"comment_id":9643648,"body_markdown":"This only works because every match is on a separate line in your test.  Add the `m` modifier (so the `.` can match newlines) and you get no matches.  There is a way to do this with a lookahead (see my demo), but I don&#39;t recommend it.","body":"This only works because every match is on a separate line in your test.  Add the <code>m</code> modifier (so the <code>.</code> can match newlines) and you get no matches.  There is a way to do this with a lookahead (see my demo), but I don&#39;t recommend it."},{"owner":{"account_id":117692,"reputation":24336,"user_id":308097,"accept_rate":81,"display_name":"Michael Low"},"score":0,"creation_date":1319608119,"post_id":7898532,"comment_id":9643653,"body_markdown":"+1 because this is about as good as you&#39;re going to get with regex I think. But it still fails e.g. - here is this test &quot;in&quot; a line - regex just isn&#39;t a reliable way of marking when the quotes start and finish.","body":"+1 because this is about as good as you&#39;re going to get with regex I think. But it still fails e.g. - here is this test &quot;in&quot; a line - regex just isn&#39;t a reliable way of marking when the quotes start and finish."}],"tags":[],"owner":{"account_id":986113,"reputation":2448,"user_id":1004555,"accept_rate":83,"display_name":"Niall Byrne"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1319601176,"creation_date":1319600840,"answer_id":7898532,"question_id":7898467,"body_markdown":"This seems to work (in so far as I understand your requirements from the examples provided):\r\n\r\n     (?!.*\\s+this\\s+.*\\&quot;)\\s+this\\s+\r\n\r\nhttp://rubular.com/r/jZvR4XEbRf\r\n\r\nYou may need to adjust the escaping for java.\r\n\r\nThis is a bit better actually:\r\n\r\n     (?!\\&quot;.*\\s+this\\s+)(?!\\s+this\\s+.*\\&quot;)\\s+this\\s+","title":"Replace a word that is not on a string","body":"<p>This seems to work (in so far as I understand your requirements from the examples provided):</p>\n\n<pre><code> (?!.*\\s+this\\s+.*\\\")\\s+this\\s+\n</code></pre>\n\n<p><a href=\"http://rubular.com/r/jZvR4XEbRf\" rel=\"nofollow\">http://rubular.com/r/jZvR4XEbRf</a></p>\n\n<p>You may need to adjust the escaping for java.</p>\n\n<p>This is a bit better actually:</p>\n\n<pre><code> (?!\\\".*\\s+this\\s+)(?!\\s+this\\s+.*\\\")\\s+this\\s+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319607694,"creation_date":1319607694,"answer_id":7899061,"question_id":7898467,"body_markdown":"The only reliable way to do this is to search for EITHER a complete, quoted sequence OR the search term.  You do this with one regex, and after each match you determine which one you matched.  If it&#39;s the search term, you replace it; otherwise you leave it alone.  \r\n\r\nThat means you can&#39;t use `replaceAll()`.  Instead you have to use the `appendReplacement()` and `appendTail()` methods like `replaceAll()` itself does.  Here&#39;s an example:\r\n\r\n    String s = &quot;Replace this example. Don&#39;t replace \\&quot;this example.\\&quot; Replace this example.&quot;;\r\n    System.out.println(s);\r\n\r\n    Pattern p = Pattern.compile(&quot;\\&quot;[^\\&quot;]*\\&quot;|(\\\\bexample\\\\b)&quot;);\r\n    Matcher m = p.matcher(s);\r\n    StringBuffer sb = new StringBuffer();\r\n\r\n    while (m.find())\r\n    {\r\n      if (m.start(1) != -1)\r\n      {\r\n        m.appendReplacement(sb, &quot;REPLACE&quot;);\r\n      }\r\n    }\r\n    m.appendTail(sb);\r\n    System.out.println(sb.toString());\r\n\r\noutput:\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    Replace this example. Don&#39;t replace &quot;this example.&quot; Replace this example.\r\n    Replace this REPLACE. Don&#39;t replace &quot;this example.&quot; Replace this REPLACE.\r\n\r\n**[See demo online][1]**  \r\n\r\nI&#39;m assuming every quotation mark is significant and they can&#39;t be escaped--in other words, that you&#39;re working with prose, not source code.  Escaped quotes can be dealt with, but it greatly complicates the regex.\r\n\r\nIf you really must use `replaceAll()`, there *is* a trick where you use a lookahead to assert that the match is followed by an even number of quotes.  But it&#39;s really ugly, and for large texts you might find it prohibitively expensive, performance-wise.\r\n\r\n\r\n  [1]: http://ideone.com/J4PPq","title":"Replace a word that is not on a string","body":"<p>The only reliable way to do this is to search for EITHER a complete, quoted sequence OR the search term.  You do this with one regex, and after each match you determine which one you matched.  If it's the search term, you replace it; otherwise you leave it alone.  </p>\n\n<p>That means you can't use <code>replaceAll()</code>.  Instead you have to use the <code>appendReplacement()</code> and <code>appendTail()</code> methods like <code>replaceAll()</code> itself does.  Here's an example:</p>\n\n<pre><code>String s = \"Replace this example. Don't replace \\\"this example.\\\" Replace this example.\";\nSystem.out.println(s);\n\nPattern p = Pattern.compile(\"\\\"[^\\\"]*\\\"|(\\\\bexample\\\\b)\");\nMatcher m = p.matcher(s);\nStringBuffer sb = new StringBuffer();\n\nwhile (m.find())\n{\n  if (m.start(1) != -1)\n  {\n    m.appendReplacement(sb, \"REPLACE\");\n  }\n}\nm.appendTail(sb);\nSystem.out.println(sb.toString());\n</code></pre>\n\n<p>output:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Replace this example. Don't replace \"this example.\" Replace this example.\nReplace this REPLACE. Don't replace \"this example.\" Replace this REPLACE.\n</code></pre>\n\n<p><strong><a href=\"http://ideone.com/J4PPq\" rel=\"nofollow\">See demo online</a></strong>  </p>\n\n<p>I'm assuming every quotation mark is significant and they can't be escaped--in other words, that you're working with prose, not source code.  Escaped quotes can be dealt with, but it greatly complicates the regex.</p>\n\n<p>If you really must use <code>replaceAll()</code>, there <em>is</em> a trick where you use a lookahead to assert that the match is followed by an even number of quotes.  But it's really ugly, and for large texts you might find it prohibitively expensive, performance-wise.</p>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":7898532,"answer_count":2,"score":3,"last_activity_date":1686748229,"creation_date":1319599884,"question_id":7898467,"body_markdown":"I&#39;m trying to replace a word in a file whenever it appears except when it is contained in a string: \r\n\r\nSo I should replace `this` in \r\n\r\n    The test in this line consists in ... \r\n\r\nBut should not match in :\r\n\r\n    The test &quot;in this line&quot; consist in ... \r\n\r\nThis is what I&#39;m trying: \r\n\r\n\r\n     line.replaceAll( &quot;\\\\s+this\\\\s+&quot;, &quot; that &quot;)\r\n\r\n\r\nBut it fails with this scenario so I tried using: \r\n\r\n     line.replaceAll( &quot;[^\\&quot;]\\\\s+this\\\\s+&quot;, &quot; that &quot;)\r\n\r\nBut doesn&#39;t work either.\r\n","title":"Replace a word that is not on a string","body":"<p>I'm trying to replace a word in a file whenever it appears except when it is contained in a string:</p>\n<p>So I should replace <code>this</code> in</p>\n<pre><code>The test in this line consists in ... \n</code></pre>\n<p>But should not match in :</p>\n<pre><code>The test &quot;in this line&quot; consist in ... \n</code></pre>\n<p>This is what I'm trying:</p>\n<pre><code> line.replaceAll( &quot;\\\\s+this\\\\s+&quot;, &quot; that &quot;)\n</code></pre>\n<p>But it fails with this scenario so I tried using:</p>\n<pre><code> line.replaceAll( &quot;[^\\&quot;]\\\\s+this\\\\s+&quot;, &quot; that &quot;)\n</code></pre>\n<p>But doesn't work either.</p>\n"},{"tags":["java","security","ssl","handshake"],"answers":[{"comments":[{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1607214521,"post_id":58569526,"comment_id":115202804,"body_markdown":"one such use case is testing. More often then not, Beta systems will be a copy of Prod, with little regard to what breaks when it&#39;s a 1:1 copy, like certificates... I&#39;ve made a pretty penny developing all sorts of SSL test clients with a hostname warning (non fatal). I think in the vast majority of cases, we are fine if someone does a MITM on a test client (if they manage to get into a test box, if they think it&#39;s even worth it...)","body":"one such use case is testing. More often then not, Beta systems will be a copy of Prod, with little regard to what breaks when it&#39;s a 1:1 copy, like certificates... I&#39;ve made a pretty penny developing all sorts of SSL test clients with a hostname warning (non fatal). I think in the vast majority of cases, we are fine if someone does a MITM on a test client (if they manage to get into a test box, if they think it&#39;s even worth it...)"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1607236046,"post_id":58569526,"comment_id":115205819,"body_markdown":"@DraxDomax: The problem is not that such code gets used in testing but that the same code then gets used in production - since it works. It is much better to have a realistic test setup, like overriding the mapping between hostname and IP (for example with a local hosts file) so that the correct hostname can be used, instead of using a different hostname to access the service. Also using the wrong hostname can also cause problems with servers sensitiv to SNI (the hostname send in the TLS handshake): they might provide a different web application or simply fail if the wrong hostname is used.","body":"@DraxDomax: The problem is not that such code gets used in testing but that the same code then gets used in production - since it works. It is much better to have a realistic test setup, like overriding the mapping between hostname and IP (for example with a local hosts file) so that the correct hostname can be used, instead of using a different hostname to access the service. Also using the wrong hostname can also cause problems with servers sensitiv to SNI (the hostname send in the TLS handshake): they might provide a different web application or simply fail if the wrong hostname is used."},{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1607264717,"post_id":58569526,"comment_id":115212069,"body_markdown":"I know I come across as rude (perhaps due to me being on the spectrum) but I just want to re-emphasize, in the most friendly and cool way :) that I wrote &quot;test clients&quot; - testware, which has no business getting shipped anywhere :) Yeah, I totally would not respect a bypassed hostnames verifier on a production client - even if it has a switch, I know someone will leave that switch open JUST when we don&#39;t need to (Murphy&#39;s Law)!","body":"I know I come across as rude (perhaps due to me being on the spectrum) but I just want to re-emphasize, in the most friendly and cool way :) that I wrote &quot;test clients&quot; - testware, which has no business getting shipped anywhere :) Yeah, I totally would not respect a bypassed hostnames verifier on a production client - even if it has a switch, I know someone will leave that switch open JUST when we don&#39;t need to (Murphy&#39;s Law)!"},{"owner":{"account_id":4443960,"reputation":988,"user_id":3617811,"accept_rate":75,"display_name":"DraxDomax"},"score":0,"creation_date":1607264919,"post_id":58569526,"comment_id":115212127,"body_markdown":"as for realistic - you have to be realistic about the kind of people you are working with. They barely code in Java, let alone resolve any SSL problems. I prefer giving them the power to author tests rapidly (remember their boss has a quota of how many tests they need to automate this week), with the least help required (Devs and DevOps usually don&#39;t give a pluck about QA and rarely help with anything). ******** Penetration testing is a different concern and is done by it&#39;s own framework and by specialists","body":"as for realistic - you have to be realistic about the kind of people you are working with. They barely code in Java, let alone resolve any SSL problems. I prefer giving them the power to author tests rapidly (remember their boss has a quota of how many tests they need to automate this week), with the least help required (Devs and DevOps usually don&#39;t give a pluck about QA and rarely help with anything). ******** Penetration testing is a different concern and is done by it&#39;s own framework and by specialists"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1607265339,"post_id":58569526,"comment_id":115212245,"body_markdown":"@DraxDomax: If it stays in a test environment this is likely not a security problem.  It might still result in the mentioned functionality problem though if the hostname in the TLS handshake (SNI) does not match the hostname for the specific server setup.","body":"@DraxDomax: If it stays in a test environment this is likely not a security problem.  It might still result in the mentioned functionality problem though if the hostname in the TLS handshake (SNI) does not match the hostname for the specific server setup."}],"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1572082043,"creation_date":1572081633,"answer_id":58569526,"question_id":58569380,"body_markdown":"&gt; From security(like man in the middle attack) point of view I think it must return false all the time.\r\n\r\nAlmost correct. This method is only called if the default verification detects a problem. In almost all cases such a problem means that the connection should be aborted to keep it secure.\r\n\r\n&gt; However surfing on the internet most of the time I come accross solutions that return a raw &#39;true&#39; (without any work on the arguments).\r\n\r\nThis is wrong almost every time. The authors of such code usually don&#39;t understand the implications (possible MITM as you correctly said) and just want their code to work somehow. Yes, it will work but it will also work when it should not, i.e. it is insecure.\r\n\r\nTypical reasons that the default verification fails are that the server is improperly configured with the wrong certificate or that the server is accessed with the wrong hostname (i.e. not the one in the certificate).\r\n\r\n&gt; So its confusing to me when,why and how should I use it.\r\n\r\nYou should use it only if you know that the host is returning a certificate with the wrong subject but you also know what exactly will be wrong and will properly verify this expectation inside your implementation. \r\n\r\nOf course, it is much better to not work around in all applications accessing the server but instead to fix the real problem. Depending on the real cause of the problem this usually means either fixing the certificate at the server or fixing the hostname used to access the server. ","title":"How to use HostnameVerifier?","body":"<blockquote>\n  <p>From security(like man in the middle attack) point of view I think it must return false all the time.</p>\n</blockquote>\n\n<p>Almost correct. This method is only called if the default verification detects a problem. In almost all cases such a problem means that the connection should be aborted to keep it secure.</p>\n\n<blockquote>\n  <p>However surfing on the internet most of the time I come accross solutions that return a raw 'true' (without any work on the arguments).</p>\n</blockquote>\n\n<p>This is wrong almost every time. The authors of such code usually don't understand the implications (possible MITM as you correctly said) and just want their code to work somehow. Yes, it will work but it will also work when it should not, i.e. it is insecure.</p>\n\n<p>Typical reasons that the default verification fails are that the server is improperly configured with the wrong certificate or that the server is accessed with the wrong hostname (i.e. not the one in the certificate).</p>\n\n<blockquote>\n  <p>So its confusing to me when,why and how should I use it.</p>\n</blockquote>\n\n<p>You should use it only if you know that the host is returning a certificate with the wrong subject but you also know what exactly will be wrong and will properly verify this expectation inside your implementation. </p>\n\n<p>Of course, it is much better to not work around in all applications accessing the server but instead to fix the real problem. Depending on the real cause of the problem this usually means either fixing the certificate at the server or fixing the hostname used to access the server. </p>\n"},{"comments":[{"owner":{"account_id":7217817,"reputation":3317,"user_id":5509575,"display_name":"Hack5"},"score":0,"creation_date":1686746489,"post_id":67936979,"comment_id":134841199,"body_markdown":"`hostname` is ALWAYS equal to `session.getPeerHost()`, even if a MITM attack is taking place! This snippet is identical to returning true, which you should NEVER do!","body":"<code>hostname</code> is ALWAYS equal to <code>session.getPeerHost()</code>, even if a MITM attack is taking place! This snippet is identical to returning true, which you should NEVER do!"}],"tags":[],"owner":{"account_id":3582712,"reputation":850,"user_id":5714136,"display_name":"galian"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1624517213,"creation_date":1623414174,"answer_id":67936979,"question_id":58569380,"body_markdown":"Check if the session host is what we expect.\r\n\r\n```java\r\npublic boolean verify(String hostname, SSLSession session) {\r\n   return hostname.equals(session.getPeerHost());\r\n}\r\n```","title":"How to use HostnameVerifier?","body":"<p>Check if the session host is what we expect.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean verify(String hostname, SSLSession session) {\n   return hostname.equals(session.getPeerHost());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7217817,"reputation":3317,"user_id":5509575,"display_name":"Hack5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686747641,"creation_date":1686747641,"answer_id":76473874,"question_id":58569380,"body_markdown":"If you&#39;re just trying to make the system trust a specific certificate in place of the expected hostname, you could try this (Kotlin) code:\r\n```kotlin\r\n            return if (hostname == &quot;proxy.example.com&quot;) { // the host that is being connected to over TCP\r\n                val cert = session.peerCertificates[0] as? X509Certificate ?: return false\r\n                cert.subjectAlternativeNames.contains(listOf(2, &quot;subject.example.com&quot;)) // the certificate that is being served\r\n            } else {\r\n                false\r\n            }\r\n```\r\n\r\nIt won&#39;t work for some old certificates that use CN identification only (not SAN), but this would be trivial to fix. ","title":"How to use HostnameVerifier?","body":"<p>If you're just trying to make the system trust a specific certificate in place of the expected hostname, you could try this (Kotlin) code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>            return if (hostname == &quot;proxy.example.com&quot;) { // the host that is being connected to over TCP\n                val cert = session.peerCertificates[0] as? X509Certificate ?: return false\n                cert.subjectAlternativeNames.contains(listOf(2, &quot;subject.example.com&quot;)) // the certificate that is being served\n            } else {\n                false\n            }\n</code></pre>\n<p>It won't work for some old certificates that use CN identification only (not SAN), but this would be trivial to fix.</p>\n"}],"owner":{"account_id":7134726,"reputation":3847,"user_id":5454794,"display_name":"beatrice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16620,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58569526,"answer_count":3,"score":9,"last_activity_date":1686747641,"creation_date":1572080177,"question_id":58569380,"body_markdown":"I am experimenting right now with SSL configs using KeyManager and TrustManager, everything seems clear to me except the HostNameVerifier part.\r\n\r\nI have read the followings:&lt;br&gt;\r\nhttps://docs.oracle.com/javase/7/docs/api/javax/net/ssl/HostnameVerifier.html &lt;br&gt;\r\nhttps://lightbend.github.io/ssl-config/HostnameVerification.html\r\n\r\nSo basically it comes in effect when the requested URL and the URL in the cert are mismatch.\r\n\r\nWhat is the best practice to handle this?\r\n\r\n     new HostnameVerifier() {\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession session) {\r\n              // some code\r\n            }\r\n        };\r\n\r\nFrom security(like man in the middle attack) point of view I think it must return false all the time.But in this case what is the purpose of this whole thing?&lt;br&gt; However surfing on the internet most of the time I come accross solutions that return a raw &#39;true&#39; (without any work on the arguments).\r\n\r\nSo its confusing to me when,why and how should I use it.\r\n\r\nCould you elaborate it please?","title":"How to use HostnameVerifier?","body":"<p>I am experimenting right now with SSL configs using KeyManager and TrustManager, everything seems clear to me except the HostNameVerifier part.</p>\n\n<p>I have read the followings:<br>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/HostnameVerifier.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/HostnameVerifier.html</a> <br>\n<a href=\"https://lightbend.github.io/ssl-config/HostnameVerification.html\" rel=\"noreferrer\">https://lightbend.github.io/ssl-config/HostnameVerification.html</a></p>\n\n<p>So basically it comes in effect when the requested URL and the URL in the cert are mismatch.</p>\n\n<p>What is the best practice to handle this?</p>\n\n<pre><code> new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession session) {\n          // some code\n        }\n    };\n</code></pre>\n\n<p>From security(like man in the middle attack) point of view I think it must return false all the time.But in this case what is the purpose of this whole thing?<br> However surfing on the internet most of the time I come accross solutions that return a raw 'true' (without any work on the arguments).</p>\n\n<p>So its confusing to me when,why and how should I use it.</p>\n\n<p>Could you elaborate it please?</p>\n"},{"tags":["java","hibernate","jpa","scrollableresults"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1677828904,"post_id":72354412,"comment_id":133417961,"body_markdown":"Did you figure this out? I&#39;m stuck someplace similar.","body":"Did you figure this out? I&#39;m stuck someplace similar."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1687292135,"post_id":72354412,"comment_id":134915555,"body_markdown":"&#39;I feel like that&#39;s a hack and probably not the right solution&#39; - well, depends on what you define as &#39;right&#39;. Performance-wise it&#39;s exactly the same, since there&#39;s no way to get the parents&#39; and children&#39;s data in a single query anyway","body":"&#39;I feel like that&#39;s a hack and probably not the right solution&#39; - well, depends on what you define as &#39;right&#39;. Performance-wise it&#39;s exactly the same, since there&#39;s no way to get the parents&#39; and children&#39;s data in a single query anyway"}],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1686747395,"creation_date":1653337184,"question_id":72354412,"body_markdown":"I&#39;ve got an eagerly fetched one-to-many collection inside of an entity:\r\n```\r\n@OneToMany(fetch = FetchType.EAGER)\r\n@Fetch(FetchMode.SUBSELECT)\r\n@JoinColumns({\r\n    @JoinColumn(name=&quot;FK_COL_1&quot;, referencedColumnName=&quot;keyValue1&quot;),\r\n    @JoinColumn(name=&quot;FK_COL_2&quot;, referencedColumnName=&quot;keyValue2&quot;),\r\n    @JoinColumn(name=&quot;FK_COL_3&quot;, referencedColumnName=&quot;keyValue3&quot;),\r\n})\r\nprivate List&lt;ChildRecord&gt; children = new ArrayList&lt;&gt;();\r\n```\r\nThis works normally when not using `ScrollableResults`: `query.getResultList()`. Hibernate fetches the parent entity, then subsequently fetches all the children. I can see this when SQL printing is turned on.\r\n\r\nHowever, when using `ScrollableResults`:\r\n```\r\nquery.setReadOnly(true)\r\n    .setFetchSize(10000)\r\n    .setCacheable(false)\r\n    .scroll(ScrollMode.FORWARD_ONLY)\r\n```\r\n... it&#39;s *not* eagerly fetched. As a result, we reference the collection by calling the getter after the session is closed, and we get our lovely error: `failed to lazily initialize a collection of role: com.foo.bar.Parent.children, could not initialize proxy - no Session`. Obviously we *could* just manually invoke the getter before closing the results, but I feel like that&#39;s a hack and probably not the right solution.\r\n\r\n**And so I ask:** why is it not eagerly fetching the collection when using `ScrollableResults`?\r\n\r\nI debugged Hibernate a bit and discovered that the `loadCounter` is set to 1 when `context.initializeNonLazyCollections` is invoked (which is supposed to load the children). Because it&#39;s not zero, it doesn&#39;t initialize any of them. When using `ScrollableResults`, manipulation of `loadCounter` is done inside of `ScrollableResultsImpl.prepareCurrentRow` via the `beforeLoad()` and `afterLoad()` methods. *However*, within `Loader.loadSingleRow` (which `ScrollableResultsImpl` calls), there is no `afterLoad()` called before `initializeNonLazyCollections()` is called on the context. Thus, `loadCounter` is still stuck at 1, and none of the collections are loaded.\r\n\r\nThis is as opposed to the non-scrollable case where `Loader.doQueryAndInitializeNonLazyCollections` *does* call `afterLoad()` prior to calling `initializeNonLazyCollections()`. This sets `loadCounter` back to zero, and thus it can loop over the children and fetch them.\r\n\r\nIs this a bug in Hibernate? Am I missing something here? This worked fine in Hibernate 4.3.11, but appears to not work in 5.4.24 and 5.6.8. It seems like [this change](https://github.com/hibernate/hibernate-orm/commit/cc01f2561dbca95bd58048f85e283ba1719ee588) is the one that broke it; using a version prior seems to resolve this particular problem, as does invoke the getters manually before closing the session.\r\n\r\nNote: A open ticket ([HHH-14383][1]) is already open with hibernate regarding the issue.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-14383","title":"ScrollableResults not initializing eager collections in Hibernate 5?","body":"<p>I've got an eagerly fetched one-to-many collection inside of an entity:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER)\n@Fetch(FetchMode.SUBSELECT)\n@JoinColumns({\n    @JoinColumn(name=&quot;FK_COL_1&quot;, referencedColumnName=&quot;keyValue1&quot;),\n    @JoinColumn(name=&quot;FK_COL_2&quot;, referencedColumnName=&quot;keyValue2&quot;),\n    @JoinColumn(name=&quot;FK_COL_3&quot;, referencedColumnName=&quot;keyValue3&quot;),\n})\nprivate List&lt;ChildRecord&gt; children = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This works normally when not using <code>ScrollableResults</code>: <code>query.getResultList()</code>. Hibernate fetches the parent entity, then subsequently fetches all the children. I can see this when SQL printing is turned on.</p>\n<p>However, when using <code>ScrollableResults</code>:</p>\n<pre><code>query.setReadOnly(true)\n    .setFetchSize(10000)\n    .setCacheable(false)\n    .scroll(ScrollMode.FORWARD_ONLY)\n</code></pre>\n<p>... it's <em>not</em> eagerly fetched. As a result, we reference the collection by calling the getter after the session is closed, and we get our lovely error: <code>failed to lazily initialize a collection of role: com.foo.bar.Parent.children, could not initialize proxy - no Session</code>. Obviously we <em>could</em> just manually invoke the getter before closing the results, but I feel like that's a hack and probably not the right solution.</p>\n<p><strong>And so I ask:</strong> why is it not eagerly fetching the collection when using <code>ScrollableResults</code>?</p>\n<p>I debugged Hibernate a bit and discovered that the <code>loadCounter</code> is set to 1 when <code>context.initializeNonLazyCollections</code> is invoked (which is supposed to load the children). Because it's not zero, it doesn't initialize any of them. When using <code>ScrollableResults</code>, manipulation of <code>loadCounter</code> is done inside of <code>ScrollableResultsImpl.prepareCurrentRow</code> via the <code>beforeLoad()</code> and <code>afterLoad()</code> methods. <em>However</em>, within <code>Loader.loadSingleRow</code> (which <code>ScrollableResultsImpl</code> calls), there is no <code>afterLoad()</code> called before <code>initializeNonLazyCollections()</code> is called on the context. Thus, <code>loadCounter</code> is still stuck at 1, and none of the collections are loaded.</p>\n<p>This is as opposed to the non-scrollable case where <code>Loader.doQueryAndInitializeNonLazyCollections</code> <em>does</em> call <code>afterLoad()</code> prior to calling <code>initializeNonLazyCollections()</code>. This sets <code>loadCounter</code> back to zero, and thus it can loop over the children and fetch them.</p>\n<p>Is this a bug in Hibernate? Am I missing something here? This worked fine in Hibernate 4.3.11, but appears to not work in 5.4.24 and 5.6.8. It seems like <a href=\"https://github.com/hibernate/hibernate-orm/commit/cc01f2561dbca95bd58048f85e283ba1719ee588\" rel=\"nofollow noreferrer\">this change</a> is the one that broke it; using a version prior seems to resolve this particular problem, as does invoke the getters manually before closing the session.</p>\n<p>Note: A open ticket (<a href=\"https://hibernate.atlassian.net/browse/HHH-14383\" rel=\"nofollow noreferrer\">HHH-14383</a>) is already open with hibernate regarding the issue.</p>\n"},{"tags":["javascript","java"],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686747365,"creation_date":1686672736,"question_id":76466839,"body_markdown":"I am using graal/javascript 21.3.6 to create a Java object (call it MySerializable) using JavaScript.  The resulting Java object needs to be fully serializable.  The Java constructor takes a Map passed in from JavaScript/Graal.  The passed in Map is a PolyglotMap instance, which is not serializable and contains non-serializable objects.  In the MySerializable constructor I can call back to Graal to convert the PolyglotMap to something else, but I&#39;m having real trouble finding out how to do this.  Note the PolyglotMap and PolyglotWrapper (its interface) are all package protected so I can&#39;t use any of their methods.  Also, during the MySerializable constructor, I do not have access to the Context object used to run the script.  \r\n\r\nAs an illustration, here is some pseudo-code:\r\n\r\n```javascript\r\n   var MySerializable = Java.type(&quot;MySerializable&quot;);\r\n   var SomeOtherClass = Java.type(&quot;SomeOtherClass&quot;);\r\n   var config = { &quot;a&quot; : 1, &quot;b&quot; : SomeOtherClass() }\r\n   var x = MySerializable(config)\r\n```\r\n\r\n```java\r\npublic class SomeOtherClass implements Serializable {\r\n   public SomeOtherClass() { }\r\n}\r\n\r\npublic class MySerializable implements Serializable {\r\n\r\n   HashMap serializableConfig ;\r\n\r\n   public MySerializable(Map config) {\r\n        this.serializableConfig = MakeSerializable(config);\r\n   }\r\n```\r\nHow can I implement the MakeSerializable() method above?  \r\n\r\n   ","title":"How do I convert objects created in Graal JavaScript to serializable Java objects","body":"<p>I am using graal/javascript 21.3.6 to create a Java object (call it MySerializable) using JavaScript.  The resulting Java object needs to be fully serializable.  The Java constructor takes a Map passed in from JavaScript/Graal.  The passed in Map is a PolyglotMap instance, which is not serializable and contains non-serializable objects.  In the MySerializable constructor I can call back to Graal to convert the PolyglotMap to something else, but I'm having real trouble finding out how to do this.  Note the PolyglotMap and PolyglotWrapper (its interface) are all package protected so I can't use any of their methods.  Also, during the MySerializable constructor, I do not have access to the Context object used to run the script.</p>\n<p>As an illustration, here is some pseudo-code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>   var MySerializable = Java.type(&quot;MySerializable&quot;);\n   var SomeOtherClass = Java.type(&quot;SomeOtherClass&quot;);\n   var config = { &quot;a&quot; : 1, &quot;b&quot; : SomeOtherClass() }\n   var x = MySerializable(config)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeOtherClass implements Serializable {\n   public SomeOtherClass() { }\n}\n\npublic class MySerializable implements Serializable {\n\n   HashMap serializableConfig ;\n\n   public MySerializable(Map config) {\n        this.serializableConfig = MakeSerializable(config);\n   }\n</code></pre>\n<p>How can I implement the MakeSerializable() method above?</p>\n"},{"tags":["java","android","automation","sdk"],"owner":{"account_id":1106482,"reputation":709,"user_id":1097774,"accept_rate":94,"display_name":"Quick learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686746812,"creation_date":1686746812,"question_id":76473749,"body_markdown":"I am starting the android SDK validation, So, for that, i would like to call the android backend functions as part for SDK validation. So, is there a way to call the android backend functions/methods using any programming language like Java, javascript etc.\r\n\r\nAlso, if there is any tool or portal for SDK automation can also share which would help for me for automation.","title":"How to call android backend functions using java","body":"<p>I am starting the android SDK validation, So, for that, i would like to call the android backend functions as part for SDK validation. So, is there a way to call the android backend functions/methods using any programming language like Java, javascript etc.</p>\n<p>Also, if there is any tool or portal for SDK automation can also share which would help for me for automation.</p>\n"},{"tags":["java","import","directory","package"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686297850,"post_id":76437692,"comment_id":134782451,"body_markdown":"There&#39;s nothing inherently wrong with your arrangement apart from bad [naming](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) so it might be something to do with your IDE. I don&#39;t use IDEs and have *never* used VS Code but presumably it can import Maven projects. If so, you can import [this](https://technojeeves.com/tech/maven-proj.zip) which uses your exact structure and will run. I don&#39;t think a package named `java` is allowed, so I renamed that `jaava`. Change the names as you wish, but package names are lower case.","body":"There&#39;s nothing inherently wrong with your arrangement apart from bad <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">naming</a> so it might be something to do with your IDE. I don&#39;t use IDEs and have <i>never</i> used VS Code but presumably it can import Maven projects. If so, you can import <a href=\"https://technojeeves.com/tech/maven-proj.zip\" rel=\"nofollow noreferrer\">this</a> which uses your exact structure and will run. I don&#39;t think a package named <code>java</code> is allowed, so I renamed that <code>jaava</code>. Change the names as you wish, but package names are lower case."},{"owner":{"account_id":28785163,"reputation":1,"user_id":22045800,"display_name":"Manav"},"score":0,"creation_date":1686980443,"post_id":76437692,"comment_id":134876180,"body_markdown":"@g00se I&#39;m learning DSA through Java and I don&#39;t think that I&#39;ll be using Maven to learn DSA. So, can you please assist me to do this without Maven?","body":"@g00se I&#39;m learning DSA through Java and I don&#39;t think that I&#39;ll be using Maven to learn DSA. So, can you please assist me to do this without Maven?"}],"answers":[{"comments":[{"owner":{"account_id":28785163,"reputation":1,"user_id":22045800,"display_name":"Manav"},"score":0,"creation_date":1686978251,"post_id":76473630,"comment_id":134876077,"body_markdown":"Didn&#39;t work. This error is shown:  `The declared package &quot;Java.DSA.Step3.Arrays&quot; does not match the expected package &quot;&quot;Java(536871240)`","body":"Didn&#39;t work. This error is shown:  <code>The declared package &quot;Java.DSA.Step3.Arrays&quot; does not match the expected package &quot;&quot;Java(536871240)</code>"},{"owner":{"account_id":27765939,"reputation":1,"user_id":21197290,"display_name":"nightlongbytom"},"score":0,"creation_date":1687007803,"post_id":76473630,"comment_id":134878647,"body_markdown":"https://stackoverflow.com/questions/69872033/the-declared-package-package-name-does-not-match-the-expected-package-in-vs. A similar problem has been solved in this post, might it&#39;ll help you!","body":"<a href=\"https://stackoverflow.com/questions/69872033/the-declared-package-package-name-does-not-match-the-expected-package-in-vs\" title=\"the declared package package name does not match the expected package in vs\">stackoverflow.com/questions/69872033/&hellip;</a>. A similar problem has been solved in this post, might it&#39;ll help you!"}],"tags":[],"owner":{"account_id":27765939,"reputation":1,"user_id":21197290,"display_name":"nightlongbytom"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686746214,"creation_date":1686746035,"answer_id":76473630,"question_id":76437692,"body_markdown":"Your package path is wrong. Therefore you should change `package Java.DSA.Step3;` to `package Java.DSA.Step3.Arrays;`. I think it&#39;ll help!","title":"Importing package from parent directory","body":"<p>Your package path is wrong. Therefore you should change <code>package Java.DSA.Step3;</code> to <code>package Java.DSA.Step3.Arrays;</code>. I think it'll help!</p>\n"}],"owner":{"account_id":28785163,"reputation":1,"user_id":22045800,"display_name":"Manav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686746214,"creation_date":1686291640,"question_id":76437692,"body_markdown":"I want to import a custom package `ArrGen` to a java file `file.java`. `file.java` is in a subdirectory. \r\n```\r\nJava\r\n   |_ArrGen (package)\r\n           |_IntArr.java\r\n   |_DSA\r\n        |_Step1\r\n        |_Step2\r\n        |_Step3\r\n              |_Arrays\r\n                      |_file.java\r\n```\r\n\r\n\r\nI tried doing this in `file.java` (from an answer to a question similar to this question ([link][1])):\r\n\r\n```\r\npackage Java.DSA.Step3;\r\nimport Java.ArrGen.*;\r\n\r\npublic class largestElement{ // largestElement == file.java\r\n    public static void main(String[] args) {\r\n        \r\n    }\r\n}\r\n```\r\nBut the `package` line gave this error: \r\n`The declared package &quot;Java.DSA.Step3&quot; does not match the expected package &quot;&quot; Java(536871240)`\r\n\r\nAnd the `import` line gave this error: \r\n`The import Java cannot be resolved Java(268435846)`\r\n\r\nI&#39;m using VS Code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58644914/importing-packages-from-parent-folder","title":"Importing package from parent directory","body":"<p>I want to import a custom package <code>ArrGen</code> to a java file <code>file.java</code>. <code>file.java</code> is in a subdirectory.</p>\n<pre><code>Java\n   |_ArrGen (package)\n           |_IntArr.java\n   |_DSA\n        |_Step1\n        |_Step2\n        |_Step3\n              |_Arrays\n                      |_file.java\n</code></pre>\n<p>I tried doing this in <code>file.java</code> (from an answer to a question similar to this question (<a href=\"https://stackoverflow.com/questions/58644914/importing-packages-from-parent-folder\">link</a>)):</p>\n<pre><code>package Java.DSA.Step3;\nimport Java.ArrGen.*;\n\npublic class largestElement{ // largestElement == file.java\n    public static void main(String[] args) {\n        \n    }\n}\n</code></pre>\n<p>But the <code>package</code> line gave this error:\n<code>The declared package &quot;Java.DSA.Step3&quot; does not match the expected package &quot;&quot; Java(536871240)</code></p>\n<p>And the <code>import</code> line gave this error:\n<code>The import Java cannot be resolved Java(268435846)</code></p>\n<p>I'm using VS Code.</p>\n"},{"tags":["java","docker","maven","amazon-ec2","micronaut"],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686746044,"creation_date":1686679416,"question_id":76467594,"body_markdown":"I can build and run native micronaut images:\r\n\r\n`./mvnw package -Dpackaging=docker-native -Pgraalvm`\r\n\r\nBut I&#39;m working on an Apple M1 and pushing them to EC2 Linux. Where I get this error:\r\n\r\n`exec /app/application: exec format error`\r\n\r\nI believe this is because it&#39;s building for arm64 but I need it to build for amd64. Any idea how I can nudge maven to build micronaut docker images for the right architecture? (I&#39;m currently going the long way around by defining my own Dockerfile with a --platform flag and pushing the jar into it, but this feels like it&#39;s not the standard way of doing things given micronaut can build the image for me). Thanks.","title":"Specify build architecture for micronaut docker images","body":"<p>I can build and run native micronaut images:</p>\n<p><code>./mvnw package -Dpackaging=docker-native -Pgraalvm</code></p>\n<p>But I'm working on an Apple M1 and pushing them to EC2 Linux. Where I get this error:</p>\n<p><code>exec /app/application: exec format error</code></p>\n<p>I believe this is because it's building for arm64 but I need it to build for amd64. Any idea how I can nudge maven to build micronaut docker images for the right architecture? (I'm currently going the long way around by defining my own Dockerfile with a --platform flag and pushing the jar into it, but this feels like it's not the standard way of doing things given micronaut can build the image for me). Thanks.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":0,"creation_date":1438271386,"post_id":31728446,"comment_id":51392683,"body_markdown":"Please describe the expected output and the actual output.","body":"Please describe the expected output and the actual output."},{"owner":{"account_id":5955901,"reputation":10524,"user_id":4682610,"accept_rate":29,"display_name":"Florian Schaetz"},"score":2,"creation_date":1438271526,"post_id":31728446,"comment_id":51392784,"body_markdown":"IIRC this JSON library is simply quite old and doesn&#39;t support generics, this is why you get this warning. You can ignore it.","body":"IIRC this JSON library is simply quite old and doesn&#39;t support generics, this is why you get this warning. You can ignore it."},{"owner":{"account_id":2081957,"reputation":4035,"user_id":1853785,"display_name":"Omar Mainegra"},"score":2,"creation_date":1438272086,"post_id":31728446,"comment_id":51393163,"body_markdown":"Your example works just fine, for type safety warning refers to http://stackoverflow.com/a/16415553/1853785","body":"Your example works just fine, for type safety warning refers to <a href=\"http://stackoverflow.com/a/16415553/1853785\">stackoverflow.com/a/16415553/1853785</a>"}],"answers":[{"comments":[{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1438282921,"post_id":31728955,"comment_id":51399510,"body_markdown":"I will try this. Thank you.","body":"I will try this. Thank you."},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":0,"creation_date":1438340398,"post_id":31728955,"comment_id":51422449,"body_markdown":"Do you have a download link for the jackson library? The only thing I can find is this, but I don&#39;t see a download link: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.7","body":"Do you have a download link for the jackson library? The only thing I can find is this, but I don&#39;t see a download link: <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.7\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson/wiki/Jackson-Release-2.7</a>"},{"owner":{"account_id":2551281,"reputation":2483,"user_id":2214980,"accept_rate":100,"display_name":"MichaelCleverly"},"score":0,"creation_date":1438432528,"post_id":31728955,"comment_id":51456247,"body_markdown":"Preferably, you should convert your project into a maven project, and then just define the library as a dependency in your pom.xml. However, you should be able to get the functionality above with the jackson core-library: https://github.com/FasterXML/jackson-core","body":"Preferably, you should convert your project into a maven project, and then just define the library as a dependency in your pom.xml. However, you should be able to get the functionality above with the jackson core-library: <a href=\"https://github.com/FasterXML/jackson-core\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-core</a>"},{"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"score":1,"creation_date":1438716041,"post_id":31728955,"comment_id":51560369,"body_markdown":"I downloaded this jar: http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.5.0/jackson-core-2.5.0.jar and added it to the library thing and I get a red line under the words: JSONObject and JSONArray","body":"I downloaded this jar: <a href=\"http://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.5.0/jackson-core-2.5.0.jar\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-co&zwnj;&#8203;re/&hellip;</a> and added it to the library thing and I get a red line under the words: JSONObject and JSONArray"},{"owner":{"account_id":2551281,"reputation":2483,"user_id":2214980,"accept_rate":100,"display_name":"MichaelCleverly"},"score":0,"creation_date":1438756168,"post_id":31728955,"comment_id":51573438,"body_markdown":"That&#39;s because they&#39;re not part of the solution I provided.","body":"That&#39;s because they&#39;re not part of the solution I provided."}],"tags":[],"owner":{"account_id":2551281,"reputation":2483,"user_id":2214980,"accept_rate":100,"display_name":"MichaelCleverly"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1686745933,"creation_date":1438272745,"answer_id":31728955,"question_id":31728446,"body_markdown":"I would suggest that you just make a simple ArrayList&lt;String&gt; with your objects, and then serialize them into JSON with a serializer (Using the Jackson library in the example below). It would look something like this:\r\n\r\n   First, define your model in a class (Made without incapsulations for readability):\r\n\r\n    public class Country{\r\n      public String name;\r\n      public Integer population;\r\n      public List&lt;String&gt; states;\r\n    }\r\n\r\nThen you can go ahead and create it, and populate the list: \r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.codehaus.jackson.JsonGenerationException;\r\n    import org.codehaus.jackson.map.JsonMappingException;\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n\r\n    public class JsonWriter {  \r\n\r\n      public static void main(String[] args) {  \r\n\r\n        Country countryObj = new Country();  \r\n        countryObj.name = &quot;India&quot;;\r\n        countryObj.population = 1000000;\r\n\r\n        List&lt;String&gt; listOfStates = new ArrayList&lt;String&gt;();  \r\n        listOfStates.add(&quot;Madhya Pradesh&quot;);  \r\n        listOfStates.add(&quot;Maharastra&quot;);  \r\n        listOfStates.add(&quot;Rajasthan&quot;);  \r\n\r\n        countryObj.states = listOfStates ;  \r\n        ObjectMapper mapper = new ObjectMapper();\r\n\r\n        try {  \r\n\r\n            // Writing to a file   \r\n            mapper.writeValue(new File(&quot;c:\\\\country.json&quot;), countryObj );\r\n\r\n        } catch (IOException e) {  \r\n            e.printStackTrace();  \r\n        }  \r\n\r\n      }  \r\n    }","title":"Write a json file in java","body":"<p>I would suggest that you just make a simple ArrayList with your objects, and then serialize them into JSON with a serializer (Using the Jackson library in the example below). It would look something like this:</p>\n<p>First, define your model in a class (Made without incapsulations for readability):</p>\n<pre><code>public class Country{\n  public String name;\n  public Integer population;\n  public List&lt;String&gt; states;\n}\n</code></pre>\n<p>Then you can go ahead and create it, and populate the list:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport org.codehaus.jackson.JsonGenerationException;\nimport org.codehaus.jackson.map.JsonMappingException;\nimport org.codehaus.jackson.map.ObjectMapper;\n\npublic class JsonWriter {  \n\n  public static void main(String[] args) {  \n\n    Country countryObj = new Country();  \n    countryObj.name = &quot;India&quot;;\n    countryObj.population = 1000000;\n\n    List&lt;String&gt; listOfStates = new ArrayList&lt;String&gt;();  \n    listOfStates.add(&quot;Madhya Pradesh&quot;);  \n    listOfStates.add(&quot;Maharastra&quot;);  \n    listOfStates.add(&quot;Rajasthan&quot;);  \n\n    countryObj.states = listOfStates ;  \n    ObjectMapper mapper = new ObjectMapper();\n\n    try {  \n\n        // Writing to a file   \n        mapper.writeValue(new File(&quot;c:\\\\country.json&quot;), countryObj );\n\n    } catch (IOException e) {  \n        e.printStackTrace();  \n    }  \n\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":3165787,"reputation":941,"user_id":2675845,"accept_rate":61,"display_name":"RuuddR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121029,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":31728955,"answer_count":1,"score":14,"last_activity_date":1686745933,"creation_date":1438271308,"question_id":31728446,"body_markdown":"I want to write a json file in java, but it doesn&#39;t work, I get this warning:\r\nI want to know how to do this, because I am going to convert a cfg file that is tabbed to json.\r\n\r\n    Type safety: The method add(Object) belongs to the raw type ArrayList. References to generic type ArrayList&lt;E&gt; should be parameterized\r\n\r\nand I have this code:\r\n\r\n    package json;  \r\n      \r\n    import java.io.File;  \r\n    import java.io.FileWriter;  \r\n    import java.io.IOException;  \r\n      \r\n    import org.json.simple.JSONArray;  \r\n    import org.json.simple.JSONObject;\r\n    \r\n    public class JsonWriter {  \r\n      \r\n        public static void main(String[] args) {  \r\n      \r\n            JSONObject countryObj = new JSONObject();  \r\n            countryObj.put(&quot;Name&quot;, &quot;India&quot;);  \r\n            countryObj.put(&quot;Population&quot;, new Integer(1000000));  \r\n      \r\n            JSONArray listOfStates = new JSONArray();  \r\n            listOfStates.add(&quot;Madhya Pradesh&quot;);  \r\n            listOfStates.add(&quot;Maharastra&quot;);  \r\n            listOfStates.add(&quot;Rajasthan&quot;);  \r\n      \r\n            countryObj.put(&quot;States&quot;, listOfStates);  \r\n      \r\n            try {  \r\n                  \r\n                // Writing to a file  \r\n                File file=new File(&quot;JsonFile.json&quot;);  \r\n                file.createNewFile();  \r\n                FileWriter fileWriter = new FileWriter(file);  \r\n                System.out.println(&quot;Writing JSON object to file&quot;);  \r\n                System.out.println(&quot;-----------------------&quot;);  \r\n                System.out.print(countryObj);  \r\n      \r\n                fileWriter.write(countryObj.toJSONString());  \r\n                fileWriter.flush();  \r\n                fileWriter.close();  \r\n      \r\n            } catch (IOException e) {  \r\n                e.printStackTrace();  \r\n            }  \r\n      \r\n        }  \r\n    }  ","title":"Write a json file in java","body":"<p>I want to write a json file in java, but it doesn't work, I get this warning:\nI want to know how to do this, because I am going to convert a cfg file that is tabbed to json.</p>\n\n<pre><code>Type safety: The method add(Object) belongs to the raw type ArrayList. References to generic type ArrayList&lt;E&gt; should be parameterized\n</code></pre>\n\n<p>and I have this code:</p>\n\n<pre><code>package json;  \n\nimport java.io.File;  \nimport java.io.FileWriter;  \nimport java.io.IOException;  \n\nimport org.json.simple.JSONArray;  \nimport org.json.simple.JSONObject;\n\npublic class JsonWriter {  \n\n    public static void main(String[] args) {  \n\n        JSONObject countryObj = new JSONObject();  \n        countryObj.put(\"Name\", \"India\");  \n        countryObj.put(\"Population\", new Integer(1000000));  \n\n        JSONArray listOfStates = new JSONArray();  \n        listOfStates.add(\"Madhya Pradesh\");  \n        listOfStates.add(\"Maharastra\");  \n        listOfStates.add(\"Rajasthan\");  \n\n        countryObj.put(\"States\", listOfStates);  \n\n        try {  \n\n            // Writing to a file  \n            File file=new File(\"JsonFile.json\");  \n            file.createNewFile();  \n            FileWriter fileWriter = new FileWriter(file);  \n            System.out.println(\"Writing JSON object to file\");  \n            System.out.println(\"-----------------------\");  \n            System.out.print(countryObj);  \n\n            fileWriter.write(countryObj.toJSONString());  \n            fileWriter.flush();  \n            fileWriter.close();  \n\n        } catch (IOException e) {  \n            e.printStackTrace();  \n        }  \n\n    }  \n}  \n</code></pre>\n"},{"tags":["java","minio"],"owner":{"account_id":28819924,"reputation":1,"user_id":22072651,"display_name":"MadLego"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686745186,"creation_date":1686745186,"question_id":76473465,"body_markdown":"I&#39;m using latest Min IO docker image and latest version of Min IO.\r\nThere is no problem with fetching data from buckets but upload or put methods doesn&#39;t work for me.\r\nNext part of code\r\n\r\n`minioClient.putObject(PutObjectArgs.builder()\r\n                    .contentType(contentType)\r\n                    .stream(inputStream, -1, 5242881)\r\n                    .bucket(bucket)\r\n                    .object(objectName)\r\n                    .build());`\r\n\r\nIs throwing error like this\r\n\r\n`io.minio.errors.ErrorResponseException: Invalid Request (request has multiple authentication types, please use one)\r\n\tat io.minio.S3Base$1.onResponse(S3Base.java:690)`\r\n\r\nI tried to make bucket public and create new user with admin like access rules","title":"Min IO. Problem with adding data to Min IO","body":"<p>I'm using latest Min IO docker image and latest version of Min IO.\nThere is no problem with fetching data from buckets but upload or put methods doesn't work for me.\nNext part of code</p>\n<p><code>minioClient.putObject(PutObjectArgs.builder() .contentType(contentType) .stream(inputStream, -1, 5242881) .bucket(bucket) .object(objectName) .build());</code></p>\n<p>Is throwing error like this</p>\n<p><code>io.minio.errors.ErrorResponseException: Invalid Request (request has multiple authentication types, please use one) at io.minio.S3Base$1.onResponse(S3Base.java:690)</code></p>\n<p>I tried to make bucket public and create new user with admin like access rules</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10121318,"reputation":421,"user_id":7478145,"display_name":"elgsylvain85"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686745037,"creation_date":1686745037,"answer_id":76473441,"question_id":76473187,"body_markdown":"Please note that below annotation @Enumerated(EnumType.STRING) indicate to your ORM (JPA) to save String and not default numeric enum.\r\n\r\nIf you want to :\r\n\r\n- Save numeric enum then remove &quot;EnumType.STRING&quot;\r\n- Or save String but with specific format then check with your override of &quot;toString()&quot;. Stop to re-write &quot;name&quot; property ","title":"Enum name is saved to the database instead of enum value","body":"<p>Please note that below annotation @Enumerated(EnumType.STRING) indicate to your ORM (JPA) to save String and not default numeric enum.</p>\n<p>If you want to :</p>\n<ul>\n<li>Save numeric enum then remove &quot;EnumType.STRING&quot;</li>\n<li>Or save String but with specific format then check with your override of &quot;toString()&quot;. Stop to re-write &quot;name&quot; property</li>\n</ul>\n"}],"owner":{"account_id":20264119,"reputation":265,"user_id":14861772,"display_name":"dovexz12323"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76473441,"answer_count":1,"score":2,"last_activity_date":1686745037,"creation_date":1686743073,"question_id":76473187,"body_markdown":"I have an enum:\r\n\r\n        public enum AccountType {\r\n           CURRENT_ACCOUNT(&quot;currentAccount&quot;),\r\n       \r\n           private final String name;\r\n    \r\n           AccountType(String name) {\r\n               this.name = name;\r\n           }\r\n    \r\n           @JsonValue\r\n           public String getName() {\r\n               return name;\r\n           }\r\n    \r\n           @Override\r\n           public String toString() {\r\n               return getName();\r\n           }\r\n       }\r\n\r\n\r\nI have the fiel annotated with @Enumerate:\r\n\r\n    @Column(name = &quot;account_type&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private AccountType accountType;\r\n\r\n\r\nYet when I am saving the values to the database, the name of the enum (&quot;CURRENT_ACCOUNT&quot;) is saved, rather than the property value of the enum (&quot;currentAccount&quot;), what should be done, for it to be saved as the &quot;currentAccount&quot; and not &quot;CURRENT_ACCOUNT&quot;.\r\n\r\n","title":"Enum name is saved to the database instead of enum value","body":"<p>I have an enum:</p>\n<pre><code>    public enum AccountType {\n       CURRENT_ACCOUNT(&quot;currentAccount&quot;),\n   \n       private final String name;\n\n       AccountType(String name) {\n           this.name = name;\n       }\n\n       @JsonValue\n       public String getName() {\n           return name;\n       }\n\n       @Override\n       public String toString() {\n           return getName();\n       }\n   }\n</code></pre>\n<p>I have the fiel annotated with @Enumerate:</p>\n<pre><code>@Column(name = &quot;account_type&quot;, nullable = false)\n@Enumerated(EnumType.STRING)\nprivate AccountType accountType;\n</code></pre>\n<p>Yet when I am saving the values to the database, the name of the enum (&quot;CURRENT_ACCOUNT&quot;) is saved, rather than the property value of the enum (&quot;currentAccount&quot;), what should be done, for it to be saved as the &quot;currentAccount&quot; and not &quot;CURRENT_ACCOUNT&quot;.</p>\n"},{"tags":["java","maven","maven-2"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655450980,"post_id":72653073,"comment_id":128339913,"body_markdown":"Can you show the full settings.xml file...","body":"Can you show the full settings.xml file..."},{"owner":{"account_id":25576012,"reputation":21,"user_id":19355456,"display_name":"Sonal Chavan"},"score":0,"creation_date":1655476542,"post_id":72653073,"comment_id":128348458,"body_markdown":"@khmarbaise edited the question to include that.","body":"@khmarbaise edited the question to include that."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1655480131,"post_id":72653073,"comment_id":128349864,"body_markdown":"Hm... looks correct so far. Check to call the plugin goal with full groupId:artifactId:version:goal.","body":"Hm... looks correct so far. Check to call the plugin goal with full groupId:artifactId:version:goal."},{"owner":{"account_id":11102083,"reputation":1171,"user_id":9914653,"display_name":"hitchhiker"},"score":0,"creation_date":1679603345,"post_id":72653073,"comment_id":133755793,"body_markdown":"This issue can also happen in a multi-module Maven project when the command is run in the parent module instead of from inside a specific module.","body":"This issue can also happen in a multi-module Maven project when the command is run in the parent module instead of from inside a specific module."}],"owner":{"account_id":25576012,"reputation":21,"user_id":19355456,"display_name":"Sonal Chavan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1686744972,"creation_date":1655424382,"question_id":72653073,"body_markdown":"My root pom has spotless plugin -\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\r\n \r\n    &lt;configuration&gt;\r\n            \r\n        &lt;ratchetFrom&gt;origin/main&lt;/ratchetFrom&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;\r\n                \r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.md&lt;/include&gt;\r\n                    &lt;include&gt;.gitignore&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                \r\n                &lt;trimTrailingWhitespace/&gt;\r\n                &lt;endWithNewline/&gt;\r\n                &lt;indent&gt;\r\n                    &lt;tabs&gt;true&lt;/tabs&gt;\r\n                    &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n                &lt;/indent&gt;\r\n            &lt;/format&gt;\r\n        &lt;/formats&gt;\r\n            \r\n        &lt;java&gt;\r\n              \r\n            &lt;googleJavaFormat&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n                &lt;style&gt;AOSP&lt;/style&gt;\r\n                &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\r\n            &lt;/googleJavaFormat&gt;\r\n\r\n            &lt;licenseHeader&gt;\r\n                &lt;content&gt;/* (C)$YEAR */&lt;/content&gt;  \r\n            &lt;/licenseHeader&gt;\r\n        &lt;/java&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nMy .m2/settings.xml has spotless pluginGroup added (... is organization related info) -\r\n\r\n```\r\n&lt;settings&gt;\r\n\t&lt;mirrors&gt;\r\n\r\n\t\t&lt;mirror&gt;\r\n\t\t\t&lt;id&gt;...&lt;/id&gt;\r\n\t\t\t&lt;mirrorOf&gt;...&lt;/mirrorOf&gt;\r\n\t\t\t&lt;name&gt;...&lt;/name&gt;\r\n\t\t\t&lt;url&gt;...&lt;/url&gt;\r\n\t\t&lt;/mirror&gt;\r\n\t\t&lt;mirror&gt;\r\n\t\t\t&lt;id&gt;...&lt;/id&gt;\r\n\t\t\t&lt;mirrorOf&gt;...&lt;/mirrorOf&gt;\r\n\t\t\t&lt;url&gt;...&lt;/url&gt;\r\n\t\t&lt;/mirror&gt;\r\n\t&lt;/mirrors&gt;\r\n\r\n        &lt;pluginGroups&gt;\r\n        \t&lt;pluginGroup&gt;com.diffplug.spotless&lt;/pluginGroup&gt;\r\n    \t&lt;/pluginGroups&gt;\r\n\r\n\r\n&lt;/settings&gt;\r\n```\r\n\r\n\r\nStill when i run mvn spotless:apply or mvn spotless:check, i get following error -\r\n\r\n No plugin found for prefix &#39;spotless&#39; in the current project and in the plugin groups [com.diffplug.spotless, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (/Users/sonal.chavan/.m2/repository), central (https://repo.maven.apache.org/maven2)] \r\n\r\nAny help with this would be appreciated.\r\n","title":"No plugin found for prefix &#39;spotless&#39; in the current project","body":"<p>My root pom has spotless plugin -</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\n \n    &lt;configuration&gt;\n            \n        &lt;ratchetFrom&gt;origin/main&lt;/ratchetFrom&gt;\n        &lt;formats&gt;\n            &lt;format&gt;\n                \n                &lt;includes&gt;\n                    &lt;include&gt;*.md&lt;/include&gt;\n                    &lt;include&gt;.gitignore&lt;/include&gt;\n                &lt;/includes&gt;\n                \n                &lt;trimTrailingWhitespace/&gt;\n                &lt;endWithNewline/&gt;\n                &lt;indent&gt;\n                    &lt;tabs&gt;true&lt;/tabs&gt;\n                    &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n                &lt;/indent&gt;\n            &lt;/format&gt;\n        &lt;/formats&gt;\n            \n        &lt;java&gt;\n              \n            &lt;googleJavaFormat&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;style&gt;AOSP&lt;/style&gt;\n                &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\n            &lt;/googleJavaFormat&gt;\n\n            &lt;licenseHeader&gt;\n                &lt;content&gt;/* (C)$YEAR */&lt;/content&gt;  \n            &lt;/licenseHeader&gt;\n        &lt;/java&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My .m2/settings.xml has spotless pluginGroup added (... is organization related info) -</p>\n<pre><code>&lt;settings&gt;\n    &lt;mirrors&gt;\n\n        &lt;mirror&gt;\n            &lt;id&gt;...&lt;/id&gt;\n            &lt;mirrorOf&gt;...&lt;/mirrorOf&gt;\n            &lt;name&gt;...&lt;/name&gt;\n            &lt;url&gt;...&lt;/url&gt;\n        &lt;/mirror&gt;\n        &lt;mirror&gt;\n            &lt;id&gt;...&lt;/id&gt;\n            &lt;mirrorOf&gt;...&lt;/mirrorOf&gt;\n            &lt;url&gt;...&lt;/url&gt;\n        &lt;/mirror&gt;\n    &lt;/mirrors&gt;\n\n        &lt;pluginGroups&gt;\n            &lt;pluginGroup&gt;com.diffplug.spotless&lt;/pluginGroup&gt;\n        &lt;/pluginGroups&gt;\n\n\n&lt;/settings&gt;\n</code></pre>\n<p>Still when i run mvn spotless:apply or mvn spotless:check, i get following error -</p>\n<p>No plugin found for prefix 'spotless' in the current project and in the plugin groups [com.diffplug.spotless, org.apache.maven.plugins, org.codehaus.mojo] available from the repositories [local (/Users/sonal.chavan/.m2/repository), central (https://repo.maven.apache.org/maven2)]</p>\n<p>Any help with this would be appreciated.</p>\n"},{"tags":["java","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686744582,"creation_date":1683608408,"answer_id":76205975,"question_id":76202076,"body_markdown":"Your code is correct and returns number of paragraphs in the whole document including paragraphs in header/footer, textboxes, footnotes etc. See Aspose.Words DOM for more information:\r\n&lt;https://docs.aspose.com/words/java/aspose-words-document-object-model/&gt;\r\n\r\nHowever, for example, if you use Aspose.Words in evaluation mode, the document might be truncated due to evaluation version limitations. In evaluation mode Aspose.Words limits the maximum document size to several hundreds of paragraphs.  To test it whiteout limitations, you can [request a free temporary 30-days license][1].\r\n\r\n\r\n  [1]: https://purchase.aspose.com/temporary-license/","title":"How can i get total paragraph count in word document using Aspose.words library in java","body":"<p>Your code is correct and returns number of paragraphs in the whole document including paragraphs in header/footer, textboxes, footnotes etc. See Aspose.Words DOM for more information:\n<a href=\"https://docs.aspose.com/words/java/aspose-words-document-object-model/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/aspose-words-document-object-model/</a></p>\n<p>However, for example, if you use Aspose.Words in evaluation mode, the document might be truncated due to evaluation version limitations. In evaluation mode Aspose.Words limits the maximum document size to several hundreds of paragraphs.  To test it whiteout limitations, you can <a href=\"https://purchase.aspose.com/temporary-license/\" rel=\"nofollow noreferrer\">request a free temporary 30-days license</a>.</p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76205975,"answer_count":1,"score":1,"last_activity_date":1686744582,"creation_date":1683559883,"question_id":76202076,"body_markdown":"I was trying with node collection but it is not giving exact count. i am looking for Table and cell count.\r\n```\r\nDocument doc=new Document(filePath);\r\nNodeCollection nodeCollection = doc.getChildNodes(NodeType.Paragraph,true);\r\nint paraCount = nodeCollection.getCount();\r\nSystem.out.println(paraCount);\r\n```","title":"How can i get total paragraph count in word document using Aspose.words library in java","body":"<p>I was trying with node collection but it is not giving exact count. i am looking for Table and cell count.</p>\n<pre><code>Document doc=new Document(filePath);\nNodeCollection nodeCollection = doc.getChildNodes(NodeType.Paragraph,true);\nint paraCount = nodeCollection.getCount();\nSystem.out.println(paraCount);\n</code></pre>\n"},{"tags":["java","android","html","web-testing"],"comments":[{"owner":{"account_id":183147,"reputation":2251,"user_id":418352,"accept_rate":100,"display_name":"Erica"},"score":0,"creation_date":1343891290,"post_id":11772571,"comment_id":15634239,"body_markdown":"Do you get any error messages when it crashes?","body":"Do you get any error messages when it crashes?"},{"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"score":0,"creation_date":1343891835,"post_id":11772571,"comment_id":15634432,"body_markdown":"Edit: Here&#39;s the error message : 08-02 00:16:47.364: E/EmbeddedLogger(1577): Error getting package label:","body":"Edit: Here&#39;s the error message : 08-02 00:16:47.364: E/EmbeddedLogger(1577): Error getting package label:"},{"owner":{"account_id":370965,"reputation":10053,"user_id":719212,"accept_rate":83,"display_name":"ductran"},"score":1,"creation_date":1343892278,"post_id":11772571,"comment_id":15634566,"body_markdown":"@user1526556 Please update your question and add full error message from logcat","body":"@user1526556 Please update your question and add full error message from logcat"},{"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"score":0,"creation_date":1343925496,"post_id":11772571,"comment_id":15649589,"body_markdown":"I believe it is a problem with the HTTP response using the execute function. I put a log after ea line and it seems to crash there. I didn&#39;t get an error from my logcat though.","body":"I believe it is a problem with the HTTP response using the execute function. I put a log after ea line and it seems to crash there. I didn&#39;t get an error from my logcat though."},{"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"score":0,"creation_date":1343957302,"post_id":11772571,"comment_id":15660195,"body_markdown":"It&#39;s working on an older tablet, but not one with android 4.0 or 3.0.","body":"It&#39;s working on an older tablet, but not one with android 4.0 or 3.0."}],"answers":[{"comments":[{"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"score":0,"creation_date":1343924839,"post_id":11774859,"comment_id":15649309,"body_markdown":"how would I go about doing this?","body":"how would I go about doing this?"},{"owner":{"account_id":1489768,"reputation":392,"user_id":1397152,"accept_rate":50,"display_name":"Alexrs95"},"score":0,"creation_date":1343985928,"post_id":11774859,"comment_id":15667238,"body_markdown":"You have to create an inner class in your Activity. This class have to extends of AsyncTask and you have to put the method `getHtml` in `doInBackground()`","body":"You have to create an inner class in your Activity. This class have to extends of AsyncTask and you have to put the method <code>getHtml</code> in <code>doInBackground()</code>"},{"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"score":0,"creation_date":1344014789,"post_id":11774859,"comment_id":15679622,"body_markdown":"For some reason, it works but then as soon as I uncomment out the toast, it crashes. Am I not allowed to have any toasts displayed from the background thread?","body":"For some reason, it works but then as soon as I uncomment out the toast, it crashes. Am I not allowed to have any toasts displayed from the background thread?"},{"owner":{"account_id":1489768,"reputation":392,"user_id":1397152,"accept_rate":50,"display_name":"Alexrs95"},"score":0,"creation_date":1344611171,"post_id":11774859,"comment_id":15847087,"body_markdown":"I think the Toast have to run in the UI Thread, try to put the toast in the `onPostExecute()`method","body":"I think the Toast have to run in the UI Thread, try to put the toast in the <code>onPostExecute()</code>method"}],"tags":[],"owner":{"account_id":1489768,"reputation":392,"user_id":1397152,"accept_rate":50,"display_name":"Alexrs95"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686743933,"creation_date":1343900517,"answer_id":11774859,"question_id":11772571,"body_markdown":"I think you are trying to download the HTML code in the UI Thread. Try to download it in the background, using [AsynkTask][1]\r\n\r\nEdit. If you say that it works on Android 2.2 but it doesn&#39;t work on Android 4.0/3.0 I&#39;m completely sure you are trying to download it in the UI thread. From Android 3.0, [you can&#39;t do long process in the UI thread][2] because you can block it. You must do the download in a [different thread][3]\r\n&lt;br/&gt;\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: http://developer.android.com/guide/practices/seamlessness.html#threads\r\n  [3]: http://developer.android.com/guide/components/processes-and-threads.html#ThreadSafe","title":"Downloading html source code and loading it","body":"<p>I think you are trying to download the HTML code in the UI Thread. Try to download it in the background, using <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsynkTask</a></p>\n<p>Edit. If you say that it works on Android 2.2 but it doesn't work on Android 4.0/3.0 I'm completely sure you are trying to download it in the UI thread. From Android 3.0, <a href=\"http://developer.android.com/guide/practices/seamlessness.html#threads\" rel=\"nofollow noreferrer\">you can't do long process in the UI thread</a> because you can block it. You must do the download in a <a href=\"http://developer.android.com/guide/components/processes-and-threads.html#ThreadSafe\" rel=\"nofollow noreferrer\">different thread</a>\n<br/></p>\n"}],"owner":{"account_id":1657411,"reputation":563,"user_id":1526556,"accept_rate":75,"display_name":"jimmyC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11774859,"answer_count":1,"score":0,"last_activity_date":1686743933,"creation_date":1343891114,"question_id":11772571,"body_markdown":"I found this code from here https://stackoverflow.com/questions/3067827/download-html-source-android . But when I try running it, my program keeps crashing. I have already added the internet permission in. Any ideas?\r\n\r\nEdit:  Here is the full error message. 08-02 00:16:47.364: E/EmbeddedLogger(1577): Error getting package label: com.jimmyc.lawrenceh.schedulinglookup\r\n\r\nEdit2: It works on Android 2.2 but it doesn&#39;t work on Android 4.0/3.0. \r\n   \r\n\r\n     private void initialize() {\r\n          //initialize variables here\r\n          try {\r\n              getHtml();\r\n          }\r\n          catch (IOException e) {\r\n              // TODO Auto-generated catch block\r\n              e.printStackTrace();\r\n          }\r\n        }\r\n        \r\n        public void getHtml() throws ClientProtocolException, IOException {\r\n            HttpClient httpClient = new DefaultHttpClient();\r\n            HttpContext localContext = new BasicHttpContext();\r\n            HttpGet httpGet = new HttpGet(&quot;http://www.yahoo.com&quot;);\r\n            HttpResponse response = httpClient.execute(httpGet, localContext);\r\n            String result = &quot;&quot;;\r\n            \r\n            BufferedReader reader = \r\n                new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n            \r\n            String line = null;\r\n            while ((line = reader.readLine()) != null){\r\n                result += line + &quot;\\n&quot;;\r\n                // Toast.makeText(Connect.this, line.toString(), Toast.LENGTH_LONG).show();\r\n              \r\n            }\r\n        }\r\n        \r\n        ","title":"Downloading html source code and loading it","body":"<p>I found this code from here <a href=\"https://stackoverflow.com/questions/3067827/download-html-source-android\">download html source android?</a> . But when I try running it, my program keeps crashing. I have already added the internet permission in. Any ideas?</p>\n\n<p>Edit:  Here is the full error message. 08-02 00:16:47.364: E/EmbeddedLogger(1577): Error getting package label: com.jimmyc.lawrenceh.schedulinglookup</p>\n\n<p>Edit2: It works on Android 2.2 but it doesn't work on Android 4.0/3.0. </p>\n\n<pre><code> private void initialize() {\n      //initialize variables here\n      try {\n          getHtml();\n      }\n      catch (IOException e) {\n          // TODO Auto-generated catch block\n          e.printStackTrace();\n      }\n    }\n\n    public void getHtml() throws ClientProtocolException, IOException {\n        HttpClient httpClient = new DefaultHttpClient();\n        HttpContext localContext = new BasicHttpContext();\n        HttpGet httpGet = new HttpGet(\"http://www.yahoo.com\");\n        HttpResponse response = httpClient.execute(httpGet, localContext);\n        String result = \"\";\n\n        BufferedReader reader = \n            new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\n        String line = null;\n        while ((line = reader.readLine()) != null){\n            result += line + \"\\n\";\n            // Toast.makeText(Connect.this, line.toString(), Toast.LENGTH_LONG).show();\n\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1686745603,"post_id":76473226,"comment_id":134840989,"body_markdown":"What exactly do you mean by &#39;disable ssl validation&#39;? Du you mean skip the handshale, because that won&#39;t be possible. But maybe you&#39;re thinking more like ```curl --insecure```?","body":"What exactly do you mean by &#39;disable ssl validation&#39;? Du you mean skip the handshale, because that won&#39;t be possible. But maybe you&#39;re thinking more like <code>curl --insecure</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686743772,"creation_date":1686743772,"answer_id":76473278,"question_id":76473226,"body_markdown":"Since https protocol is designed for security purposes you are not able to disable the validation(ssl handshake). So you can simply switch your web application to http protocol.","title":"How do i disable ssl validation/verification in java using only java code?","body":"<p>Since https protocol is designed for security purposes you are not able to disable the validation(ssl handshake). So you can simply switch your web application to http protocol.</p>\n"}],"owner":{"account_id":25180968,"reputation":21,"user_id":19022474,"display_name":"NxN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686743772,"creation_date":1686743455,"question_id":76473226,"body_markdown":"I wanted to disable or set ssl validation to false when sending to https server of mine. Can any one tell me how to do it?","title":"How do i disable ssl validation/verification in java using only java code?","body":"<p>I wanted to disable or set ssl validation to false when sending to https server of mine. Can any one tell me how to do it?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1686753014,"post_id":76473146,"comment_id":134842833,"body_markdown":"Both `privateLookupIn` and `setAccessible` perform the same checks - that is if the target package is `open` to the caller module.","body":"Both <code>privateLookupIn</code> and <code>setAccessible</code> perform the same checks - that is if the target package is <code>open</code> to the caller module."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686845934,"post_id":76473146,"comment_id":134857414,"body_markdown":"The warning is *not* because youâ€™re using `publicLookup()` to access the `public` method `privateLookupIn`. If you took the time to read the message, you should have noticed that it clearly is about using `privateLookupIn` on `java.util.HashMap.class`. Youâ€™d get the same result when using `MethodHandles.privateLookupIn(HashMap.class, MethodHandles.lookup())` directly. Which will *fail* in Java&#160;17, by the way. As the warning says at its end: â€œ*All illegal access operations will be denied in a future release*â€","body":"The warning is <i>not</i> because youâ€™re using <code>publicLookup()</code> to access the <code>public</code> method <code>privateLookupIn</code>. If you took the time to read the message, you should have noticed that it clearly is about using <code>privateLookupIn</code> on <code>java.util.HashMap.class</code>. Youâ€™d get the same result when using <code>MethodHandles.privateLookupIn(HashMap.class, MethodHandles.lookup())</code> directly. Which will <i>fail</i> in Java 17, by the way. As the warning says at its end: â€œ<i>All illegal access operations will be denied in a future release</i>â€"}],"owner":{"account_id":1976336,"reputation":883,"user_id":1774051,"accept_rate":40,"display_name":"user1774051"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686743755,"creation_date":1686742834,"question_id":76473146,"body_markdown":"I&#39;ve got some piece of code, that is supposed to work with Java 8+. The larger surrounding project is heavily based on Reflection, and should be made ready for Java 9+.\r\n\r\nWhat I am doing now, is this: If I can obtain a private Lookup via MethodHandles.lookup().privateLookupIn(Class), then I am using that private Lookup instead of Reflection. That should be safe for current Java versions, at least to 17, without warnings.\r\n\r\nThat works, indeed, with one exception: I am getting a warning, when attempting to obtain the private Lookup itself. In other words, the code below emits a warning:\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access using Lookup on lookup.demo.LookupDemo (file:/C:/Work/ews/4.28/LookupDemo/bin/) to class java.util.HashMap\r\nWARNING: Please consider reporting this to the maintainers of lookup.demo.LookupDemo\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\nIn my opinion, the Lookup returned by MethodHandles.publicLookup() should be able with\r\na public class (MethodHandles), thus giving permission to the public method MethodHandles.privateLookupIn?\r\n\r\nThanks,\r\n\r\nJochen\r\n\r\n\r\n```\r\npublic class LookupDemo {\r\n\tpublic static void main(String[] pArgs) throws Exception {\r\n\t\tSystem.out.println(&quot;Lookup = &quot; +\r\n                           getPrivateLookup(HashMap.class));\r\n\t}\r\n\r\n    // Note: The following method can still be compiled with Java 8,\r\n    // although it produces a different result.\r\n\tprivate static Lookup getPrivateLookup(Class&lt;?&gt; pType) {\r\n\t\ttry {\r\n            // This is supposed to work fine on Java 9+\r\n\t\t\tfinal Method method = MethodHandles.class.getDeclaredMethod(&quot;privateLookupIn&quot;, Class.class, Lookup.class);\r\n\t\t\tfinal MethodHandle mh = MethodHandles.publicLookup().unreflect(method);\r\n\t\t\treturn (Lookup) mh.invoke(pType, MethodHandles.lookup());\r\n\t\t} catch (Throwable t) {\r\n            // We are running on Java 8.\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How to obtain a private Lookup?","body":"<p>I've got some piece of code, that is supposed to work with Java 8+. The larger surrounding project is heavily based on Reflection, and should be made ready for Java 9+.</p>\n<p>What I am doing now, is this: If I can obtain a private Lookup via MethodHandles.lookup().privateLookupIn(Class), then I am using that private Lookup instead of Reflection. That should be safe for current Java versions, at least to 17, without warnings.</p>\n<p>That works, indeed, with one exception: I am getting a warning, when attempting to obtain the private Lookup itself. In other words, the code below emits a warning:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access using Lookup on lookup.demo.LookupDemo (file:/C:/Work/ews/4.28/LookupDemo/bin/) to class java.util.HashMap\nWARNING: Please consider reporting this to the maintainers of lookup.demo.LookupDemo\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>In my opinion, the Lookup returned by MethodHandles.publicLookup() should be able with\na public class (MethodHandles), thus giving permission to the public method MethodHandles.privateLookupIn?</p>\n<p>Thanks,</p>\n<p>Jochen</p>\n<pre><code>public class LookupDemo {\n    public static void main(String[] pArgs) throws Exception {\n        System.out.println(&quot;Lookup = &quot; +\n                           getPrivateLookup(HashMap.class));\n    }\n\n    // Note: The following method can still be compiled with Java 8,\n    // although it produces a different result.\n    private static Lookup getPrivateLookup(Class&lt;?&gt; pType) {\n        try {\n            // This is supposed to work fine on Java 9+\n            final Method method = MethodHandles.class.getDeclaredMethod(&quot;privateLookupIn&quot;, Class.class, Lookup.class);\n            final MethodHandle mh = MethodHandles.publicLookup().unreflect(method);\n            return (Lookup) mh.invoke(pType, MethodHandles.lookup());\n        } catch (Throwable t) {\n            // We are running on Java 8.\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","simpleitk"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1686606306,"post_id":76460264,"comment_id":134819389,"body_markdown":"mvnrepository.com is just a web-based index. It&#39;s not a repository itself. That said, it does list what repos the artifact exists within. Look for &#39;Repositories&#39; [on the artifact page](https://mvnrepository.com/artifact/org.itk.simple/simpleitk/0.9.0). In this case, ImageJ and Loci (never heard of either).","body":"mvnrepository.com is just a web-based index. It&#39;s not a repository itself. That said, it does list what repos the artifact exists within. Look for &#39;Repositories&#39; <a href=\"https://mvnrepository.com/artifact/org.itk.simple/simpleitk/0.9.0\" rel=\"nofollow noreferrer\">on the artifact page</a>. In this case, ImageJ and Loci (never heard of either)."}],"answers":[{"comments":[{"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"score":0,"creation_date":1686744412,"post_id":76460493,"comment_id":134840699,"body_markdown":"Thank you for the answer. I manage to fix the maven problems, now iam trying to fix new error: java.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path\n\nthe tutorial explain how to fix this error, with an JNI lib, but where do i get this JNI lib? Do i get this by building SimpleITK with cmake? if so, how exactly? Cant find any answer, i already know how to set the Native library location in intellij.","body":"Thank you for the answer. I manage to fix the maven problems, now iam trying to fix new error: java.lang.UnsatisfiedLinkError: no SimpleITKJava in java.library.path  the tutorial explain how to fix this error, with an JNI lib, but where do i get this JNI lib? Do i get this by building SimpleITK with cmake? if so, how exactly? Cant find any answer, i already know how to set the Native library location in intellij."},{"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"score":0,"creation_date":1686744709,"post_id":76460493,"comment_id":134840778,"body_markdown":"i find this tutorial for building simpleitk: simpleitk.readthedocs.io/en/master/buildingWindows.html and i&#39;m building right now, hope i can find the JNI after this.","body":"i find this tutorial for building simpleitk: simpleitk.readthedocs.io/en/master/buildingWindows.html and i&#39;m building right now, hope i can find the JNI after this."},{"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"score":0,"creation_date":1686750556,"post_id":76460493,"comment_id":134842224,"body_markdown":"I managed to solve! https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib/76473695#76473695","body":"I managed to solve! <a href=\"https://stackoverflow.com/questions/76472858/where-do-i-get-simpleitk-jni-lib/76473695#76473695\" title=\"where do i get simpleitk jni lib\">stackoverflow.com/questions/76472858/&hellip;</a>"}],"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686606088,"creation_date":1686606088,"answer_id":76460493,"question_id":76460264,"body_markdown":"Only the POM for Simpleitk is available from the ImageJ repository.  The binaries are not available there.  You can see that by browsing the repository:\r\n\r\nhttps://maven.imagej.net/content/repositories/releases/org/itk/simple/simpleitk/0.9.0/\r\n\r\nAs for solving the problem of how to get it working with Maven, unfortunately it might not be as simple as adding a Maven repository and dependency.  From [this post on the ImageJ list](https://imagej.net/pipermail/imagej-devel/2014-April/002002.html), it was asked:\r\n\r\n&gt; Does anybody know if there is a maven repository for SimpleITK??\r\n\r\nAnd the response:\r\n\r\n&gt; Please note that what you ask for is not *exactly* trivial: SimpleITK is a\r\n&gt; Java (and Python) wrapper around a *native* library written in C++.\r\n&gt;\r\n&gt; Therefore you get all the wonderful problems of platform-dependent\r\n&gt; development: you need to make sure that you have the correct set of\r\n&gt; libraries, compiled for your particular operating system and CPU, working\r\n&gt; well with your other libraries (this is a particular problem with\r\n&gt; libstdc++ on Linux, where you cannot simply take your ITK libraries to\r\n&gt; another version of the same operating system, on the same CPU, and expect\r\n&gt; things to work).\r\n&gt;\r\n&gt; You also get the problem that depending on your platform, you need to have\r\n&gt; the libraries in a directory that is either in the system library search\r\n&gt; path or in a directory referenced by the PATH environment variable and/or\r\n&gt; the java.library.path property (that must be set *before* the Java Runtime\r\n&gt; Environment is started up, any changes after that will be ignored rather\r\n&gt; blatantly).\r\n&gt;\r\n&gt; These native libraries can be attached artifacts to the .jar artifacts on\r\n&gt; the Maven repository [*1*], but you will never be truly\r\n&gt; platform-independent anymore.\r\n\r\nThere are instructions on how to get it working with Java here:\r\n\r\nhttps://simpleitk.readthedocs.io/en/master/setUp.html#setup-java\r\n\r\n---\r\n\r\nHowever, I did find the simpleitk binaries in this repository:\r\n\r\nhttps://maven.scijava.org/content/groups/public/org/itk/simple/simpleitk/0.9.0/\r\n\r\nThere is a JAR in there - but I haven&#39;t tried it.  It sounds like from all the previous info that simply having a JAR won&#39;t be enough because you&#39;ll need native bindings installed on your system, but you can give it a try by adding:\r\n\r\n```\r\n&lt;repository&gt;\r\n    &lt;id&gt;scijava&lt;/id&gt;\r\n    &lt;url&gt;https://maven.scijava.org/content/groups/public&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n\r\nNo guarantees it will work though.","title":"what is the dependency of simpleitk for maven?","body":"<p>Only the POM for Simpleitk is available from the ImageJ repository.  The binaries are not available there.  You can see that by browsing the repository:</p>\n<p><a href=\"https://maven.imagej.net/content/repositories/releases/org/itk/simple/simpleitk/0.9.0/\" rel=\"nofollow noreferrer\">https://maven.imagej.net/content/repositories/releases/org/itk/simple/simpleitk/0.9.0/</a></p>\n<p>As for solving the problem of how to get it working with Maven, unfortunately it might not be as simple as adding a Maven repository and dependency.  From <a href=\"https://imagej.net/pipermail/imagej-devel/2014-April/002002.html\" rel=\"nofollow noreferrer\">this post on the ImageJ list</a>, it was asked:</p>\n<blockquote>\n<p>Does anybody know if there is a maven repository for SimpleITK??</p>\n</blockquote>\n<p>And the response:</p>\n<blockquote>\n<p>Please note that what you ask for is not <em>exactly</em> trivial: SimpleITK is a\nJava (and Python) wrapper around a <em>native</em> library written in C++.</p>\n<p>Therefore you get all the wonderful problems of platform-dependent\ndevelopment: you need to make sure that you have the correct set of\nlibraries, compiled for your particular operating system and CPU, working\nwell with your other libraries (this is a particular problem with\nlibstdc++ on Linux, where you cannot simply take your ITK libraries to\nanother version of the same operating system, on the same CPU, and expect\nthings to work).</p>\n<p>You also get the problem that depending on your platform, you need to have\nthe libraries in a directory that is either in the system library search\npath or in a directory referenced by the PATH environment variable and/or\nthe java.library.path property (that must be set <em>before</em> the Java Runtime\nEnvironment is started up, any changes after that will be ignored rather\nblatantly).</p>\n<p>These native libraries can be attached artifacts to the .jar artifacts on\nthe Maven repository [<em>1</em>], but you will never be truly\nplatform-independent anymore.</p>\n</blockquote>\n<p>There are instructions on how to get it working with Java here:</p>\n<p><a href=\"https://simpleitk.readthedocs.io/en/master/setUp.html#setup-java\" rel=\"nofollow noreferrer\">https://simpleitk.readthedocs.io/en/master/setUp.html#setup-java</a></p>\n<hr />\n<p>However, I did find the simpleitk binaries in this repository:</p>\n<p><a href=\"https://maven.scijava.org/content/groups/public/org/itk/simple/simpleitk/0.9.0/\" rel=\"nofollow noreferrer\">https://maven.scijava.org/content/groups/public/org/itk/simple/simpleitk/0.9.0/</a></p>\n<p>There is a JAR in there - but I haven't tried it.  It sounds like from all the previous info that simply having a JAR won't be enough because you'll need native bindings installed on your system, but you can give it a try by adding:</p>\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;scijava&lt;/id&gt;\n    &lt;url&gt;https://maven.scijava.org/content/groups/public&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p>No guarantees it will work though.</p>\n"},{"tags":[],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686743701,"creation_date":1686743701,"answer_id":76473268,"question_id":76460264,"body_markdown":"i fix it, at least the maven problems. Now i can import the lib and intelisense works.\r\n\r\nmy pom.xml with no errors or warnings:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.itk.simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;simpleitk&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;version&gt;0.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.0&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jzy3d-releases&lt;/id&gt;\r\n                &lt;name&gt;Jzy3d Releases&lt;/name&gt;\r\n                &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;imagej.public&lt;/id&gt;\r\n                &lt;url&gt;https://maven.imagej.net/content/groups/public&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;scijava.public&lt;/id&gt;\r\n                &lt;url&gt;https://maven.scijava.org/content/repositories/public/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    &lt;/project&gt;","title":"what is the dependency of simpleitk for maven?","body":"<p>i fix it, at least the maven problems. Now i can import the lib and intelisense works.</p>\n<p>my pom.xml with no errors or warnings:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;20&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;20&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\n            &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.itk.simple&lt;/groupId&gt;\n            &lt;artifactId&gt;simpleitk&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\n            &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-releases&lt;/id&gt;\n            &lt;name&gt;Jzy3d Releases&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;imagej.public&lt;/id&gt;\n            &lt;url&gt;https://maven.imagej.net/content/groups/public&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;scijava.public&lt;/id&gt;\n            &lt;url&gt;https://maven.scijava.org/content/repositories/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686743701,"creation_date":1686603248,"question_id":76460264,"body_markdown":"first time using maven, searching for &#39;simpleitk&#39; in mvnrepository.com returns this:\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.itk.simple/simpleitk --&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.itk.simple/simpleitk --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.itk.simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;simpleitk&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.0&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthis does not work as it is not in the central repository used by maven.\r\nerror: Could not find artifact org.itk.simple:simpleitk:jar:0.9.0\r\n\r\nI find out that there are the tag \\&lt;repositories\\&gt;, where i can put a \\&lt;repository\\&gt;,\r\ni tried:\r\n\r\n```\r\n&lt;repository&gt;\r\n    &lt;id&gt;ImageJ&lt;/id&gt;\r\n    &lt;url&gt;https://maven.imagej.net/content/repositories/releases/&lt;/url&gt;\r\n&lt;/repository&gt;\r\n&lt;repository&gt;\r\n    &lt;id&gt;mvnrepository&lt;/id&gt;\r\n    &lt;name&gt;mvnrepository&lt;/name&gt;\r\n    &lt;url&gt;https://www.mvnrepository.com&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n\r\nerror: Could not transfer artifact org.itk.simple:simpleitk:pom:0.9.0 from/to mvnrepository (https://www.mvnrepository.com): status code: 403, reason phrase: Forbidden (403)\r\n\r\nCan anybody help me plz?\r\n\r\ni try to search a lot for &#39;simpleitk&#39; dependencies for maven but cant find anything.","title":"what is the dependency of simpleitk for maven?","body":"<p>first time using maven, searching for 'simpleitk' in mvnrepository.com returns this:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.itk.simple/simpleitk --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.itk.simple&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleitk&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this does not work as it is not in the central repository used by maven.\nerror: Could not find artifact org.itk.simple:simpleitk:jar:0.9.0</p>\n<p>I find out that there are the tag &lt;repositories&gt;, where i can put a &lt;repository&gt;,\ni tried:</p>\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;ImageJ&lt;/id&gt;\n    &lt;url&gt;https://maven.imagej.net/content/repositories/releases/&lt;/url&gt;\n&lt;/repository&gt;\n&lt;repository&gt;\n    &lt;id&gt;mvnrepository&lt;/id&gt;\n    &lt;name&gt;mvnrepository&lt;/name&gt;\n    &lt;url&gt;https://www.mvnrepository.com&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p>error: Could not transfer artifact org.itk.simple:simpleitk:pom:0.9.0 from/to mvnrepository (<a href=\"https://www.mvnrepository.com\" rel=\"nofollow noreferrer\">https://www.mvnrepository.com</a>): status code: 403, reason phrase: Forbidden (403)</p>\n<p>Can anybody help me plz?</p>\n<p>i try to search a lot for 'simpleitk' dependencies for maven but cant find anything.</p>\n"},{"tags":["java","lua","luajava"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686781159,"post_id":76473042,"comment_id":134848189,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":17229078,"reputation":1,"user_id":12474088,"display_name":"æ°·èŠ½å·å››ç³¸ä¹ƒ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686743257,"creation_date":1686742094,"question_id":76473042,"body_markdown":"I&#39;m using luajava.\r\nwant to do like this\r\n\r\n```lua\r\nlocal result = luajava.newInstance(&quot;org.foo.Bar&quot;,javaobj);\r\n```\r\n\r\nThen i found i can&#39;t use javaobj as a argument\r\n\r\ntoo many method needs a javaobj as argument\r\n\r\nbut i can&#39;t use complex argument in lua","title":"How to pass java object to lua then pass it back","body":"<p>I'm using luajava.\nwant to do like this</p>\n<pre class=\"lang-lua prettyprint-override\"><code>local result = luajava.newInstance(&quot;org.foo.Bar&quot;,javaobj);\n</code></pre>\n<p>Then i found i can't use javaobj as a argument</p>\n<p>too many method needs a javaobj as argument</p>\n<p>but i can't use complex argument in lua</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686728068,"post_id":76471090,"comment_id":134837282,"body_markdown":"I am stuck on this issue for a day.","body":"I am stuck on this issue for a day."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686728089,"post_id":76471090,"comment_id":134837288,"body_markdown":"no cipher suites in common means that server and client can not agree on which cipher to use because there is no intersection both sides support (and that fits to the server key type). Modern servers mostly use EC keys, may be this error happens because you use RSA key pair. What Java version do you use on client and server side?","body":"no cipher suites in common means that server and client can not agree on which cipher to use because there is no intersection both sides support (and that fits to the server key type). Modern servers mostly use EC keys, may be this error happens because you use RSA key pair. What Java version do you use on client and server side?"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686728154,"post_id":76471090,"comment_id":134837306,"body_markdown":"How to fix it. what we need to change in the code.","body":"How to fix it. what we need to change in the code."},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686728218,"post_id":76471090,"comment_id":134837321,"body_markdown":"The java version is java 8","body":"The java version is java 8"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1686728326,"post_id":76471090,"comment_id":134837332,"body_markdown":"Which JVM are you using?some of the older oracle JVMs have limits  and will require the Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files","body":"Which JVM are you using?some of the older oracle JVMs have limits  and will require the Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686728377,"post_id":76471090,"comment_id":134837340,"body_markdown":"openjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~20.04-b09)\nOpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)","body":"openjdk version &quot;1.8.0_362&quot; OpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~20.04-b09) OpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)"},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686728438,"post_id":76471090,"comment_id":134837356,"body_markdown":"I am not sure about JCE can you guide me","body":"I am not sure about JCE can you guide me"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686729152,"post_id":76471090,"comment_id":134837507,"body_markdown":"IMHO I wouldn&#39;t start a new project using Java 8. Even if it is an LTS release with is supported for many years it is quite old. IMHO you should better start with Java 17 (also LTS). This will save you work later as you don&#39;t have to migrate client and server to a newer Java release.","body":"IMHO I wouldn&#39;t start a new project using Java 8. Even if it is an LTS release with is supported for many years it is quite old. IMHO you should better start with Java 17 (also LTS). This will save you work later as you don&#39;t have to migrate client and server to a newer Java release."},{"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"score":0,"creation_date":1686729943,"post_id":76471090,"comment_id":134837675,"body_markdown":"We are still getting the exception in java 17 also","body":"We are still getting the exception in java 17 also"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1686730345,"post_id":76471090,"comment_id":134837774,"body_markdown":"This may mean that the server can&#39;t find its certificate.","body":"This may mean that the server can&#39;t find its certificate."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686732029,"post_id":76471090,"comment_id":134838133,"body_markdown":"I case of cipher problems you can run test tools like https://testssl.sh to see what ciphers your server supports.","body":"I case of cipher problems you can run test tools like <a href=\"https://testssl.sh\" rel=\"nofollow noreferrer\">testssl.sh</a> to see what ciphers your server supports."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1686732930,"post_id":76471090,"comment_id":134838313,"body_markdown":"(@user207421) in particular, check that the `getResourceAsStream` calls are returning nonnull; if the server keystore _resource_ isn&#39;t accessible, the keystore _object_ and thus the KeyManager will be empty, and the server won&#39;t be able to support any of the usual protocols. PS: are you sure you&#39;re running 8? Your posted stacktrace is from a modulized version (9 up).","body":"(@user207421) in particular, check that the <code>getResourceAsStream</code> calls are returning nonnull; if the server keystore <i>resource</i> isn&#39;t accessible, the keystore <i>object</i> and thus the KeyManager will be empty, and the server won&#39;t be able to support any of the usual protocols. PS: are you sure you&#39;re running 8? Your posted stacktrace is from a modulized version (9 up)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686743552,"post_id":76471090,"comment_id":134840486,"body_markdown":"(@dave_thompson_085) To be even more particular, if the server can&#39;t find its certificate the only cipher suites it can use are the anonymous ones, which are normally, and rightfully, disabled: so when it comes to choose from the intersection of its own enabled cipher suites and the client&#39;s, the intersection set is empty, so there are &#39;no cipher suites in common&#39;.","body":"(@dave_thompson_085) To be even more particular, if the server can&#39;t find its certificate the only cipher suites it can use are the anonymous ones, which are normally, and rightfully, disabled: so when it comes to choose from the intersection of its own enabled cipher suites and the client&#39;s, the intersection set is empty, so there are &#39;no cipher suites in common&#39;."}],"answers":[{"tags":[],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686743015,"creation_date":1686741650,"answer_id":76472967,"question_id":76471090,"body_markdown":"The issue was solved by creating a different folder for server and client in the resource folder and placed there certificate there.\r\n\r\nWorks in eclipse and command line (java 17)","title":"SSL Client Server Handshakeexception: no cipher suites in common","body":"<p>The issue was solved by creating a different folder for server and client in the resource folder and placed there certificate there.</p>\n<p>Works in eclipse and command line (java 17)</p>\n"}],"owner":{"account_id":28003343,"reputation":47,"user_id":21387155,"display_name":"cokachi"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686743015,"creation_date":1686727868,"question_id":76471090,"body_markdown":"This is a sample client server program with ssl in java.\r\nWe are getting an exception when the client sends data to the server. The server\r\nstops after printing the exception. Please help.\r\n\r\nMy Server code \r\n\r\n```\r\npackage SSLExample;\r\n\r\n\r\nimport java.security.Security;\r\nimport java.security.KeyStore;\r\nimport java.security.Provider;\r\nimport java.security.SecureRandom;\r\nimport java.io.InputStream;\r\nimport javax.net.ssl.TrustManagerFactory;\r\n\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\n\r\n\r\nimport javax.net.ssl.TrustManager;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.X509KeyManager;\r\n\r\n\r\nimport javax.net.ssl.KeyManager;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLServerSocketFactory;\r\nimport javax.net.ssl.SSLServerSocket;\r\nimport javax.net.ssl.SSLSocket;\r\n\r\nimport java.io.PrintWriter;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\n\r\n\r\n\r\n\r\n\r\npublic class SSLServer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n//\t\t\tSystem.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n// we are just getting and printing all the providers that&#39;s all not related to server.\t\t\t\r\n\t\t\tProvider [] provider = Security.getProviders();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;provider size : &quot;+ provider.length);\r\n\t\t\t\r\n\t\t\tfor(int i =0; i&lt; provider.length;i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;provider name :&quot;+provider[i].getName());\r\n\t\t\t\tSystem.out.println(&quot;provider info :&quot;+provider[i].getInfo());\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;provider to String :&quot;+provider[i].toString());\r\n\t\t\t\tSystem.out.println(&quot;========================================&quot;);\r\n\t\t\t}\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);  // for more details visit https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore       \r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString password = &quot;abcdefg&quot;;\r\n\t\t\t\r\n\t\t\tInputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/server-certificate.p12&quot;);\r\n\t\t\t\r\n\t\t\tkeystore.load(inputStream,password.toCharArray());\r\n\t\t\t\r\n\t\t\t//TrustManagerFactory()\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString password2 = &quot;aabbcc&quot;;\r\n\t\t\t\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\t\t\t\r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;,&quot;SunJSSE&quot;);\r\n\t\t\t\r\n\t\t\tInputStream inputStream2 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/client-certificate.p12&quot;);\r\n\t\t\ttrustStore.load(inputStream2,password2.toCharArray());\r\n\t\t\t\r\n\t\t\ttrustManagerFactory.init(trustStore);\r\n\t\t\t\r\n\t\t\tX509TrustManager x509TrustManager = null;\r\n\t\t\t\r\n\t\t\tfor(TrustManager trustManager: trustManagerFactory.getTrustManagers())\r\n\t\t\t{\r\n\t\t\t\tif(trustManager instanceof X509TrustManager)\r\n\t\t\t\t{\r\n\t\t\t\t\tx509TrustManager = (X509TrustManager) trustManager;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(x509TrustManager == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new NullPointerException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// KeyManagerFactory()\r\n\t\t\t\r\n\t\t\tKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;,&quot;SunJSSE&quot;);\r\n\t\t\t\r\n\t\t\tkeyManagerFactory.init(keystore,password.toCharArray());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tX509KeyManager x509KeyManager = null;\r\n\t\t\t\r\n\t\t\tfor(KeyManager keyManager: keyManagerFactory.getKeyManagers())\r\n\t\t\t{\r\n\t\t\t\tif(keyManager instanceof X509KeyManager)\r\n\t\t\t\t{\r\n\t\t\t\t\tx509KeyManager = (X509KeyManager) keyManager;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(x509KeyManager == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new NullPointerException();\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tSSLContext sSLContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tsSLContext.init(new KeyManager [] {x509KeyManager},new TrustManager [] {x509TrustManager},SecureRandom.getInstanceStrong());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSSLServerSocketFactory sSLServerSocketFactory = sSLContext.getServerSocketFactory();\r\n\t\t\t\r\n\t\t\tSSLServerSocket sSLServerSocket = (SSLServerSocket) sSLServerSocketFactory.createServerSocket(8333);\r\n\t\t\t\r\n\t\t\tsSLServerSocket.setNeedClientAuth(true);\r\n\t\t\t\r\n//\t\t\tsSLServerSocket.setEnabledCipherSuites(\r\n//\t\t    \t      new String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot; });\r\n\t\t\t\r\n\t\t\tsSLServerSocket.setEnabledProtocols(new String [] {&quot;TLSv1.2&quot;});\r\n\t\t\t\r\n\t\t\tSSLSocket sSLSocket = (SSLSocket) sSLServerSocket.accept();\r\n\t\t\t\r\n\t\t\t//InputStream and OutputStream Stuff\r\n\t\t\t\r\n\t\t\tPrintWriter printWriter = new PrintWriter(sSLSocket.getOutputStream(),true); //out\r\n\t\t\t\r\n\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sSLSocket.getInputStream()));  //in\r\n\t\t\t\r\n\t\t\tString inputLine=&quot;hello&quot;;\r\n\t\t\t\r\n//\t\t\tprintWriter.println();\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;data: &quot;+ bufferedReader.readLine());\r\n\t\t\t\t\r\n\t\t\t\tif(inputLine.equalsIgnoreCase(&quot;Exit&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(inputLine);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Exiting&quot;);\r\n\t\t\t\r\n\t\t}catch(Exception exception)\r\n\t\t{\r\n\t\t\texception.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nMy Client Code\r\n\r\n```\r\npackage SSLExample;\r\n\r\n\r\nimport java.security.Security;\r\nimport java.security.KeyStore;\r\nimport java.security.Provider;\r\nimport java.security.SecureRandom;\r\nimport java.io.InputStream;\r\nimport javax.net.ssl.TrustManagerFactory;\r\n\r\nimport javax.net.ssl.X509TrustManager;\r\n\r\n\r\n\r\nimport javax.net.ssl.TrustManager;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.X509KeyManager;\r\n\r\n\r\nimport javax.net.ssl.KeyManager;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLServerSocketFactory;\r\nimport javax.net.ssl.SSLServerSocket;\r\nimport javax.net.ssl.SSLSocket;\r\n\r\nimport java.io.PrintWriter;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\n\r\n\r\n\r\n\r\n\r\npublic class SSLServer {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n//\t\t\tSystem.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n// we are just getting and printing all the providers that&#39;s all not related to server.\t\t\t\r\n\t\t\tProvider [] provider = Security.getProviders();\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;provider size : &quot;+ provider.length);\r\n\t\t\t\r\n\t\t\tfor(int i =0; i&lt; provider.length;i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;provider name :&quot;+provider[i].getName());\r\n\t\t\t\tSystem.out.println(&quot;provider info :&quot;+provider[i].getInfo());\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;provider to String :&quot;+provider[i].toString());\r\n\t\t\t\tSystem.out.println(&quot;========================================&quot;);\r\n\t\t\t}\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);  // for more details visit https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore       \r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString password = &quot;abcdefg&quot;;\r\n\t\t\t\r\n\t\t\tInputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/server-certificate.p12&quot;);\r\n\t\t\t\r\n\t\t\tkeystore.load(inputStream,password.toCharArray());\r\n\t\t\t\r\n\t\t\t//TrustManagerFactory()\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tString password2 = &quot;aabbcc&quot;;\r\n\t\t\t\r\n\t\t\tKeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n\t\t\t\r\n\t\t\tTrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;,&quot;SunJSSE&quot;);\r\n\t\t\t\r\n\t\t\tInputStream inputStream2 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/client-certificate.p12&quot;);\r\n\t\t\ttrustStore.load(inputStream2,password2.toCharArray());\r\n\t\t\t\r\n\t\t\ttrustManagerFactory.init(trustStore);\r\n\t\t\t\r\n\t\t\tX509TrustManager x509TrustManager = null;\r\n\t\t\t\r\n\t\t\tfor(TrustManager trustManager: trustManagerFactory.getTrustManagers())\r\n\t\t\t{\r\n\t\t\t\tif(trustManager instanceof X509TrustManager)\r\n\t\t\t\t{\r\n\t\t\t\t\tx509TrustManager = (X509TrustManager) trustManager;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(x509TrustManager == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new NullPointerException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// KeyManagerFactory()\r\n\t\t\t\r\n\t\t\tKeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;,&quot;SunJSSE&quot;);\r\n\t\t\t\r\n\t\t\tkeyManagerFactory.init(keystore,password.toCharArray());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tX509KeyManager x509KeyManager = null;\r\n\t\t\t\r\n\t\t\tfor(KeyManager keyManager: keyManagerFactory.getKeyManagers())\r\n\t\t\t{\r\n\t\t\t\tif(keyManager instanceof X509KeyManager)\r\n\t\t\t\t{\r\n\t\t\t\t\tx509KeyManager = (X509KeyManager) keyManager;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(x509KeyManager == null)\r\n\t\t\t{\r\n\t\t\t\tthrow new NullPointerException();\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tSSLContext sSLContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\tsSLContext.init(new KeyManager [] {x509KeyManager},new TrustManager [] {x509TrustManager},SecureRandom.getInstanceStrong());\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSSLServerSocketFactory sSLServerSocketFactory = sSLContext.getServerSocketFactory();\r\n\t\t\t\r\n\t\t\tSSLServerSocket sSLServerSocket = (SSLServerSocket) sSLServerSocketFactory.createServerSocket(8333);\r\n\t\t\t\r\n\t\t\tsSLServerSocket.setNeedClientAuth(true);\r\n\t\t\t\r\n//\t\t\tsSLServerSocket.setEnabledCipherSuites(\r\n//\t\t    \t      new String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot; });\r\n\t\t\t\r\n\t\t\tsSLServerSocket.setEnabledProtocols(new String [] {&quot;TLSv1.2&quot;});\r\n\t\t\t\r\n\t\t\tSSLSocket sSLSocket = (SSLSocket) sSLServerSocket.accept();\r\n\t\t\t\r\n\t\t\t//InputStream and OutputStream Stuff\r\n\t\t\t\r\n\t\t\tPrintWriter printWriter = new PrintWriter(sSLSocket.getOutputStream(),true); //out\r\n\t\t\t\r\n\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sSLSocket.getInputStream()));  //in\r\n\t\t\t\r\n\t\t\tString inputLine=&quot;hello&quot;;\r\n\t\t\t\r\n//\t\t\tprintWriter.println();\r\n\t\t\twhile(true)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;data: &quot;+ bufferedReader.readLine());\r\n\t\t\t\t\r\n\t\t\t\tif(inputLine.equalsIgnoreCase(&quot;Exit&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(inputLine);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Exiting&quot;);\r\n\t\t\t\r\n\t\t}catch(Exception exception)\r\n\t\t{\r\n\t\t\texception.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nCommands used for generating certificates\r\n\r\n```\r\nopenssl req -newkey rsa:2048 -nodes -keyout client-key.pem -x509 -days 365 -out client-certificate.pem\r\nopenssl req -newkey rsa:2048 -nodes -keyout server-key.pem -x509 -days 365 -out server-certificate.pem\r\n\r\nopenssl pkcs12 -inkey client-key.pem -in client-certificate.pem -export -out client-certificate.p12\r\nopenssl pkcs12 -inkey server-key.pem -in server-certificate.pem -export -out server-certificate.p12\r\n```\r\n\r\nError got during in the server\r\n\r\n```\r\njavax.net.ssl.SSLHandshakeException: no cipher suites in common\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:347)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:294)\r\n\tat java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)\r\n\tat java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)\r\n\tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n\tat java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1091)\r\n\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:843)\r\n\tat java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:802)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1507)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1417)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:922)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1013)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:181)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:326)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:392)\r\n\tat SSLExample.SSLServer.main(SSLServer.java:149)\r\n```\r\n\r\nThis is the exception that we are getting Do we need to add anything for cipher suite. is there anything missing in the code.\r\nplease help.","title":"SSL Client Server Handshakeexception: no cipher suites in common","body":"<p>This is a sample client server program with ssl in java.\nWe are getting an exception when the client sends data to the server. The server\nstops after printing the exception. Please help.</p>\n<p>My Server code</p>\n<pre><code>package SSLExample;\n\n\nimport java.security.Security;\nimport java.security.KeyStore;\nimport java.security.Provider;\nimport java.security.SecureRandom;\nimport java.io.InputStream;\nimport javax.net.ssl.TrustManagerFactory;\n\nimport javax.net.ssl.X509TrustManager;\n\n\n\nimport javax.net.ssl.TrustManager;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.X509KeyManager;\n\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.net.ssl.SSLServerSocket;\nimport javax.net.ssl.SSLSocket;\n\nimport java.io.PrintWriter;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\n\n\n\n\npublic class SSLServer {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        \n        try {\n            \n//          System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n// we are just getting and printing all the providers that's all not related to server.         \n            Provider [] provider = Security.getProviders();\n            \n            System.out.println(&quot;provider size : &quot;+ provider.length);\n            \n            for(int i =0; i&lt; provider.length;i++)\n            {\n                System.out.println(&quot;provider name :&quot;+provider[i].getName());\n                System.out.println(&quot;provider info :&quot;+provider[i].getInfo());\n                \n                System.out.println(&quot;provider to String :&quot;+provider[i].toString());\n                System.out.println(&quot;========================================&quot;);\n            }\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);  // for more details visit https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore       \n            \n            \n            String password = &quot;abcdefg&quot;;\n            \n            InputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/server-certificate.p12&quot;);\n            \n            keystore.load(inputStream,password.toCharArray());\n            \n            //TrustManagerFactory()\n            \n            \n            String password2 = &quot;aabbcc&quot;;\n            \n            KeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            \n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;,&quot;SunJSSE&quot;);\n            \n            InputStream inputStream2 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/client-certificate.p12&quot;);\n            trustStore.load(inputStream2,password2.toCharArray());\n            \n            trustManagerFactory.init(trustStore);\n            \n            X509TrustManager x509TrustManager = null;\n            \n            for(TrustManager trustManager: trustManagerFactory.getTrustManagers())\n            {\n                if(trustManager instanceof X509TrustManager)\n                {\n                    x509TrustManager = (X509TrustManager) trustManager;\n                    break;\n                }\n            }\n            \n            if(x509TrustManager == null)\n            {\n                throw new NullPointerException();\n            }\n            \n            // KeyManagerFactory()\n            \n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;,&quot;SunJSSE&quot;);\n            \n            keyManagerFactory.init(keystore,password.toCharArray());\n            \n            \n            X509KeyManager x509KeyManager = null;\n            \n            for(KeyManager keyManager: keyManagerFactory.getKeyManagers())\n            {\n                if(keyManager instanceof X509KeyManager)\n                {\n                    x509KeyManager = (X509KeyManager) keyManager;\n                }\n            }\n            \n            if(x509KeyManager == null)\n            {\n                throw new NullPointerException();\n            }\n            \n\n            SSLContext sSLContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sSLContext.init(new KeyManager [] {x509KeyManager},new TrustManager [] {x509TrustManager},SecureRandom.getInstanceStrong());\n            \n            \n            \n            SSLServerSocketFactory sSLServerSocketFactory = sSLContext.getServerSocketFactory();\n            \n            SSLServerSocket sSLServerSocket = (SSLServerSocket) sSLServerSocketFactory.createServerSocket(8333);\n            \n            sSLServerSocket.setNeedClientAuth(true);\n            \n//          sSLServerSocket.setEnabledCipherSuites(\n//                    new String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot; });\n            \n            sSLServerSocket.setEnabledProtocols(new String [] {&quot;TLSv1.2&quot;});\n            \n            SSLSocket sSLSocket = (SSLSocket) sSLServerSocket.accept();\n            \n            //InputStream and OutputStream Stuff\n            \n            PrintWriter printWriter = new PrintWriter(sSLSocket.getOutputStream(),true); //out\n            \n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sSLSocket.getInputStream()));  //in\n            \n            String inputLine=&quot;hello&quot;;\n            \n//          printWriter.println();\n            while(true)\n            {\n                \n                System.out.println(&quot;data: &quot;+ bufferedReader.readLine());\n                \n                if(inputLine.equalsIgnoreCase(&quot;Exit&quot;))\n                {\n                    break;\n                }\n                \n                System.out.println(inputLine);\n            }\n            \n            System.out.println(&quot;Exiting&quot;);\n            \n        }catch(Exception exception)\n        {\n            exception.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>My Client Code</p>\n<pre><code>package SSLExample;\n\n\nimport java.security.Security;\nimport java.security.KeyStore;\nimport java.security.Provider;\nimport java.security.SecureRandom;\nimport java.io.InputStream;\nimport javax.net.ssl.TrustManagerFactory;\n\nimport javax.net.ssl.X509TrustManager;\n\n\n\nimport javax.net.ssl.TrustManager;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.X509KeyManager;\n\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.net.ssl.SSLServerSocket;\nimport javax.net.ssl.SSLSocket;\n\nimport java.io.PrintWriter;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\n\n\n\n\npublic class SSLServer {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        \n        try {\n            \n//          System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n// we are just getting and printing all the providers that's all not related to server.         \n            Provider [] provider = Security.getProviders();\n            \n            System.out.println(&quot;provider size : &quot;+ provider.length);\n            \n            for(int i =0; i&lt; provider.length;i++)\n            {\n                System.out.println(&quot;provider name :&quot;+provider[i].getName());\n                System.out.println(&quot;provider info :&quot;+provider[i].getInfo());\n                \n                System.out.println(&quot;provider to String :&quot;+provider[i].toString());\n                System.out.println(&quot;========================================&quot;);\n            }\n            KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);  // for more details visit https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#KeyStore       \n            \n            \n            String password = &quot;abcdefg&quot;;\n            \n            InputStream inputStream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/server-certificate.p12&quot;);\n            \n            keystore.load(inputStream,password.toCharArray());\n            \n            //TrustManagerFactory()\n            \n            \n            String password2 = &quot;aabbcc&quot;;\n            \n            KeyStore trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            \n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;PKIX&quot;,&quot;SunJSSE&quot;);\n            \n            InputStream inputStream2 = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;src/main/java/SSLExample/client-certificate.p12&quot;);\n            trustStore.load(inputStream2,password2.toCharArray());\n            \n            trustManagerFactory.init(trustStore);\n            \n            X509TrustManager x509TrustManager = null;\n            \n            for(TrustManager trustManager: trustManagerFactory.getTrustManagers())\n            {\n                if(trustManager instanceof X509TrustManager)\n                {\n                    x509TrustManager = (X509TrustManager) trustManager;\n                    break;\n                }\n            }\n            \n            if(x509TrustManager == null)\n            {\n                throw new NullPointerException();\n            }\n            \n            // KeyManagerFactory()\n            \n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;,&quot;SunJSSE&quot;);\n            \n            keyManagerFactory.init(keystore,password.toCharArray());\n            \n            \n            X509KeyManager x509KeyManager = null;\n            \n            for(KeyManager keyManager: keyManagerFactory.getKeyManagers())\n            {\n                if(keyManager instanceof X509KeyManager)\n                {\n                    x509KeyManager = (X509KeyManager) keyManager;\n                }\n            }\n            \n            if(x509KeyManager == null)\n            {\n                throw new NullPointerException();\n            }\n            \n\n            SSLContext sSLContext = SSLContext.getInstance(&quot;TLS&quot;);\n            sSLContext.init(new KeyManager [] {x509KeyManager},new TrustManager [] {x509TrustManager},SecureRandom.getInstanceStrong());\n            \n            \n            \n            SSLServerSocketFactory sSLServerSocketFactory = sSLContext.getServerSocketFactory();\n            \n            SSLServerSocket sSLServerSocket = (SSLServerSocket) sSLServerSocketFactory.createServerSocket(8333);\n            \n            sSLServerSocket.setNeedClientAuth(true);\n            \n//          sSLServerSocket.setEnabledCipherSuites(\n//                    new String[] { &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot; });\n            \n            sSLServerSocket.setEnabledProtocols(new String [] {&quot;TLSv1.2&quot;});\n            \n            SSLSocket sSLSocket = (SSLSocket) sSLServerSocket.accept();\n            \n            //InputStream and OutputStream Stuff\n            \n            PrintWriter printWriter = new PrintWriter(sSLSocket.getOutputStream(),true); //out\n            \n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(sSLSocket.getInputStream()));  //in\n            \n            String inputLine=&quot;hello&quot;;\n            \n//          printWriter.println();\n            while(true)\n            {\n                \n                System.out.println(&quot;data: &quot;+ bufferedReader.readLine());\n                \n                if(inputLine.equalsIgnoreCase(&quot;Exit&quot;))\n                {\n                    break;\n                }\n                \n                System.out.println(inputLine);\n            }\n            \n            System.out.println(&quot;Exiting&quot;);\n            \n        }catch(Exception exception)\n        {\n            exception.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>Commands used for generating certificates</p>\n<pre><code>openssl req -newkey rsa:2048 -nodes -keyout client-key.pem -x509 -days 365 -out client-certificate.pem\nopenssl req -newkey rsa:2048 -nodes -keyout server-key.pem -x509 -days 365 -out server-certificate.pem\n\nopenssl pkcs12 -inkey client-key.pem -in client-certificate.pem -export -out client-certificate.p12\nopenssl pkcs12 -inkey server-key.pem -in server-certificate.pem -export -out server-certificate.p12\n</code></pre>\n<p>Error got during in the server</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: no cipher suites in common\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:347)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:294)\n    at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)\n    at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)\n    at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\n    at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1091)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:843)\n    at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:802)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:183)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1507)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1417)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:922)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1013)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:181)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:161)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:326)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:392)\n    at SSLExample.SSLServer.main(SSLServer.java:149)\n</code></pre>\n<p>This is the exception that we are getting Do we need to add anything for cipher suite. is there anything missing in the code.\nplease help.</p>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1489311214,"post_id":42745784,"comment_id":72608456,"body_markdown":"As a general rule, when you find yourself casting, you are probably not doing what you think you are doing (or want to be doing).","body":"As a general rule, when you find yourself casting, you are probably not doing what you think you are doing (or want to be doing)."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1489311687,"post_id":42745784,"comment_id":72608587,"body_markdown":"Why would you do that? Do you realize that this consists in serializing the customer to JSON, then parsing the JSON to a CustomerDTO? It&#39;s very inefficient, obscure, will fail at runtime if the two classes don&#39;t have the same structure, and won&#39;t support refactoring. Why don&#39;t you just create a constructor or a method creating a CustomerDTO from a Customer?","body":"Why would you do that? Do you realize that this consists in serializing the customer to JSON, then parsing the JSON to a CustomerDTO? It&#39;s very inefficient, obscure, will fail at runtime if the two classes don&#39;t have the same structure, and won&#39;t support refactoring. Why don&#39;t you just create a constructor or a method creating a CustomerDTO from a Customer?"}],"answers":[{"comments":[{"owner":{"account_id":2375179,"reputation":516,"user_id":2078777,"accept_rate":40,"display_name":"VijayaKumar Thangavel"},"score":0,"creation_date":1489311269,"post_id":42745800,"comment_id":72608471,"body_markdown":"What to use there then? and If i not use that CustomerDTO how object mapper will know which object to convert?","body":"What to use there then? and If i not use that CustomerDTO how object mapper will know which object to convert?"},{"owner":{"account_id":2375179,"reputation":516,"user_id":2078777,"accept_rate":40,"display_name":"VijayaKumar Thangavel"},"score":0,"creation_date":1489311566,"post_id":42745800,"comment_id":72608549,"body_markdown":"sorry missed that. i tried the same but got below warning\nThe method readValues(JsonParser, ResolvedType) in the type ObjectMapper is not applicable for the arguments (Iterable&lt;Customer&gt;, Class&lt;CustomerDTO&gt;)","body":"sorry missed that. i tried the same but got below warning The method readValues(JsonParser, ResolvedType) in the type ObjectMapper is not applicable for the arguments (Iterable&lt;Customer&gt;, Class&lt;CustomerDTO&gt;)"}],"tags":[],"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489311347,"creation_date":1489311110,"answer_id":42745800,"question_id":42745784,"body_markdown":"    mapper.convertValue(customer, CustomerDTO.class)\r\n\r\nThis attempts to create a single `CustomerDTO`, not a list of them.\r\n\r\nPerhaps this will help:\r\n\r\n    mapper.readValues(customer, CustomerDTO.class).readAll()","title":"How to convert List&lt;Entity&gt; to List&lt;DTO&gt; Objects using object mapper?","body":"<pre><code>mapper.convertValue(customer, CustomerDTO.class)\n</code></pre>\n\n<p>This attempts to create a single <code>CustomerDTO</code>, not a list of them.</p>\n\n<p>Perhaps this will help:</p>\n\n<pre><code>mapper.readValues(customer, CustomerDTO.class).readAll()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":443053,"reputation":33789,"user_id":834045,"accept_rate":88,"display_name":"Kousha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625375272,"creation_date":1625375272,"answer_id":68241874,"question_id":42745784,"body_markdown":"You can do something like:\r\n\r\n```java\r\nstatic &lt;T&gt; List&lt;T&gt; typeCastList(final Iterable&lt;?&gt; fromList,\r\n                                final Class&lt;T&gt; instanceClass) {\r\n    final List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    for (final Object item : fromList) {\r\n        final T entry = item instanceof List&lt;?&gt; ? instanceClass.cast(item) : mapper.convertValue(item, instanceClass);\r\n        list.add(entry);\r\n    }\r\n\r\n    return list;\r\n}\r\n\r\n// And the usage is\r\nfinal List&lt;DTO&gt; castedList = typeCastList(entityList, DTO.class);\r\n```\r\n\r\n\r\n","title":"How to convert List&lt;Entity&gt; to List&lt;DTO&gt; Objects using object mapper?","body":"<p>You can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; List&lt;T&gt; typeCastList(final Iterable&lt;?&gt; fromList,\n                                final Class&lt;T&gt; instanceClass) {\n    final List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    final ObjectMapper mapper = new ObjectMapper();\n    for (final Object item : fromList) {\n        final T entry = item instanceof List&lt;?&gt; ? instanceClass.cast(item) : mapper.convertValue(item, instanceClass);\n        list.add(entry);\n    }\n\n    return list;\n}\n\n// And the usage is\nfinal List&lt;DTO&gt; castedList = typeCastList(entityList, DTO.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1201601,"reputation":21929,"user_id":1172155,"accept_rate":45,"display_name":"App Work"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686742709,"creation_date":1686742709,"answer_id":76473131,"question_id":42745784,"body_markdown":"Java 8 way: \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \tList&lt;Customer&gt; customerList = customerRepository.findAll();\r\n    \treturn customerList.stream().map(o -&gt; mapper.convertValue(o, CustomerDto.class)).collect(Collectors.toList());\r\n\r\n\r\n","title":"How to convert List&lt;Entity&gt; to List&lt;DTO&gt; Objects using object mapper?","body":"<p>Java 8 way:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n    List&lt;Customer&gt; customerList = customerRepository.findAll();\n    return customerList.stream().map(o -&gt; mapper.convertValue(o, CustomerDto.class)).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2375179,"reputation":516,"user_id":2078777,"accept_rate":40,"display_name":"VijayaKumar Thangavel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686742709,"creation_date":1489311025,"question_id":42745784,"body_markdown":"I have a method like this:\r\n\r\n    public List&lt;CustomerDTO&gt; getAllCustomers() {\r\n        Iterable&lt;Customer&gt; customer = customerRepository.findAll();\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        return (List&lt;CustomerDTO&gt;) mapper.convertValue(customer, CustomerDTO.class);\r\n    }\r\n\r\nwhen i try to convert `List` values i am getting below message\r\n\r\n&gt;com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of com.finman.customer.CustomerDTO out of START_ARRAY token\r\n\r\n\r\n","title":"How to convert List&lt;Entity&gt; to List&lt;DTO&gt; Objects using object mapper?","body":"<p>I have a method like this:</p>\n\n<pre><code>public List&lt;CustomerDTO&gt; getAllCustomers() {\n    Iterable&lt;Customer&gt; customer = customerRepository.findAll();\n    ObjectMapper mapper = new ObjectMapper();\n    return (List&lt;CustomerDTO&gt;) mapper.convertValue(customer, CustomerDTO.class);\n}\n</code></pre>\n\n<p>when i try to convert <code>List</code> values i am getting below message</p>\n\n<blockquote>\n  <p>com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of com.finman.customer.CustomerDTO out of START_ARRAY token</p>\n</blockquote>\n"},{"tags":["java","hibernate","hibernate-mapping"],"owner":{"account_id":967747,"reputation":67,"user_id":990855,"accept_rate":45,"display_name":"user990855"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686742708,"creation_date":1686742708,"question_id":76473130,"body_markdown":"I have the following table structure:\r\n\r\nMyIndicator    IndicatorId, IndicatorType, SomeLinkColumn\r\nIndicatorA     IndicatorId, SomeAValue, SomeBValue\r\nIndicatorB     IndicatorId, IndBSubType, Value\r\n\r\nFor indicator type A we can only have one, but indicator B we can have multiple subtypes on the same id.\r\nFor example\r\nMyIndicator\r\nId: 1000        Type: A       Link: 999\r\nId: 1001        Type: B       Link: 998\r\n\r\nIndicatorA\r\nId: 1000        Medicine         Tablets\r\n\r\nIndicatorB\r\nId: 1000      SubType: Food      Value: Peas\r\nId: 1000      SubType: Bathroom  Value: Toothpaste\r\n\r\nThese were existing code, so I can&#39;t recode everything, the existing should still work. Both indicatorA and indicatorB use to be one-to-one, but now the requirement was for the PK to change on indicatorB to include Subtype. \r\n\r\nHibernate XML mapping currently has 2 &lt;joined-subclass tags that maps to the two subclasses. \r\n\r\nHow do I make the one subclass be one-to-many?","title":"Hibernate: How to do a subclass per table with a one to many relationship in xml","body":"<p>I have the following table structure:</p>\n<p>MyIndicator    IndicatorId, IndicatorType, SomeLinkColumn\nIndicatorA     IndicatorId, SomeAValue, SomeBValue\nIndicatorB     IndicatorId, IndBSubType, Value</p>\n<p>For indicator type A we can only have one, but indicator B we can have multiple subtypes on the same id.\nFor example\nMyIndicator\nId: 1000        Type: A       Link: 999\nId: 1001        Type: B       Link: 998</p>\n<p>IndicatorA\nId: 1000        Medicine         Tablets</p>\n<p>IndicatorB\nId: 1000      SubType: Food      Value: Peas\nId: 1000      SubType: Bathroom  Value: Toothpaste</p>\n<p>These were existing code, so I can't recode everything, the existing should still work. Both indicatorA and indicatorB use to be one-to-one, but now the requirement was for the PK to change on indicatorB to include Subtype.</p>\n<p>Hibernate XML mapping currently has 2 &lt;joined-subclass tags that maps to the two subclasses.</p>\n<p>How do I make the one subclass be one-to-many?</p>\n"},{"tags":["java","multithreading","kotlin","virtual-threads"],"comments":[{"owner":{"account_id":22067462,"reputation":132,"user_id":16763958,"display_name":"QuasiStellar"},"score":0,"creation_date":1686743120,"post_id":76473121,"comment_id":134840370,"body_markdown":"Consider looking into coroutines - the ultimate solution for asynchronous code in kotlin.","body":"Consider looking into coroutines - the ultimate solution for asynchronous code in kotlin."}],"owner":{"account_id":2093916,"reputation":1061,"user_id":1863111,"accept_rate":20,"display_name":"lukisp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686742656,"creation_date":1686742656,"question_id":76473121,"body_markdown":"I have project in kotlin with Java 19 (with experimental features on). I have code:\r\n```\r\nprivate val virtualExecutor = Executors.newVirtualThreadPerTaskExecutor()\r\n\r\n\r\nprivate fun countTenantsConsumption(\r\n        paged: Page&lt;Tenant&gt;,\r\n        command: RequestCommand\r\n    ): List&lt;TenantConsumption&gt; {\r\n        val callable = Callable {\r\n            paged.payload!!.parallelStream()\r\n                .map { Pair(it, callForTenantData(command.tenantDataCommand(it))) }\r\n                .map { TenantDataProcessor(it.first, it.second, factorService).process() }\r\n                .collect(Collectors.toList())\r\n        }\r\n\r\n        return virtualExecutor.submit(callable).get()\r\n    }\r\n```\r\n\r\nand I function ```callForTenantData``` has logger inside:\r\n```\r\nprivate fun callForTenantData(readingCallCommand: ReadingCallCommand): List&lt;PeriodDeviceReading&gt; {\r\n        val start = System.currentTimeMillis()\r\n        val data = //call for data\r\n        logger.info(&quot;Loading data on ${Thread.currentThread().threadId()}, virtual: ${Thread.currentThread().isVirtual} took: ${System.currentTimeMillis() - start}ms&quot;)\r\n        return data\r\n    }\r\n```\r\n\r\nand I&#39;m getting output:\r\n```\r\n[ForkJoinPool.commonPool-worker-18] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 138, virtual: false took: 232ms\r\n[ForkJoinPool.commonPool-worker-11] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 96, virtual: false took: 231ms\r\n[ForkJoinPool.commonPool-worker-19] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 139, virtual: false took: 231ms\r\n[ForkJoinPool.commonPool-worker-2] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 87, virtual: false took: 230ms\r\n[ForkJoinPool.commonPool-worker-4] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 89, virtual: false took: 232ms\r\n[ForkJoinPool.commonPool-worker-7] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 92, virtual: false took: 237ms\r\n[ForkJoinPool.commonPool-worker-20] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 140, virtual: false took: 239ms\r\n[ForkJoinPool.commonPool-worker-21] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 141, virtual: false took: 280ms\r\n[ForkJoinPool.commonPool-worker-16] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 137, virtual: false took: 282ms\r\n[ForkJoinPool.commonPool-worker-9] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 94, virtual: false took: 282ms\r\n[ForkJoinPool.commonPool-worker-10] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 95, virtual: false took: 282ms\r\n[ForkJoinPool.commonPool-worker-13] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 98, virtual: false took: 281ms\r\n[ForkJoinPool.commonPool-worker-6] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 91, virtual: false took: 282ms\r\n[ForkJoinPool.commonPool-worker-17] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 136, virtual: false took: 281ms\r\n[ForkJoinPool.commonPool-worker-2] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 87, virtual: false took: 50ms\r\n[] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 134, virtual: true took: 282ms\r\n[ForkJoinPool.commonPool-worker-1] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 86, virtual: false took: 285ms\r\n[ForkJoinPool.commonPool-worker-20] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 140, virtual: false took: 35ms\r\n[ForkJoinPool.commonPool-worker-16] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 137, virtual: false took: 50ms\r\n[ForkJoinPool.commonPool-worker-6] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 91, virtual: false took: 50ms\r\n```\r\n\r\nOnly first element in stream is processed by virtual thread. Why ?\r\nHow fix it to process all stream on virtual threads ? \r\n\r\n","title":"Kotlin/Java parallel stream on virtual threads","body":"<p>I have project in kotlin with Java 19 (with experimental features on). I have code:</p>\n<pre><code>private val virtualExecutor = Executors.newVirtualThreadPerTaskExecutor()\n\n\nprivate fun countTenantsConsumption(\n        paged: Page&lt;Tenant&gt;,\n        command: RequestCommand\n    ): List&lt;TenantConsumption&gt; {\n        val callable = Callable {\n            paged.payload!!.parallelStream()\n                .map { Pair(it, callForTenantData(command.tenantDataCommand(it))) }\n                .map { TenantDataProcessor(it.first, it.second, factorService).process() }\n                .collect(Collectors.toList())\n        }\n\n        return virtualExecutor.submit(callable).get()\n    }\n</code></pre>\n<p>and I function <code>callForTenantData</code> has logger inside:</p>\n<pre><code>private fun callForTenantData(readingCallCommand: ReadingCallCommand): List&lt;PeriodDeviceReading&gt; {\n        val start = System.currentTimeMillis()\n        val data = //call for data\n        logger.info(&quot;Loading data on ${Thread.currentThread().threadId()}, virtual: ${Thread.currentThread().isVirtual} took: ${System.currentTimeMillis() - start}ms&quot;)\n        return data\n    }\n</code></pre>\n<p>and I'm getting output:</p>\n<pre><code>[ForkJoinPool.commonPool-worker-18] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 138, virtual: false took: 232ms\n[ForkJoinPool.commonPool-worker-11] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 96, virtual: false took: 231ms\n[ForkJoinPool.commonPool-worker-19] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 139, virtual: false took: 231ms\n[ForkJoinPool.commonPool-worker-2] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 87, virtual: false took: 230ms\n[ForkJoinPool.commonPool-worker-4] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 89, virtual: false took: 232ms\n[ForkJoinPool.commonPool-worker-7] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 92, virtual: false took: 237ms\n[ForkJoinPool.commonPool-worker-20] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 140, virtual: false took: 239ms\n[ForkJoinPool.commonPool-worker-21] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 141, virtual: false took: 280ms\n[ForkJoinPool.commonPool-worker-16] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 137, virtual: false took: 282ms\n[ForkJoinPool.commonPool-worker-9] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 94, virtual: false took: 282ms\n[ForkJoinPool.commonPool-worker-10] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 95, virtual: false took: 282ms\n[ForkJoinPool.commonPool-worker-13] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 98, virtual: false took: 281ms\n[ForkJoinPool.commonPool-worker-6] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 91, virtual: false took: 282ms\n[ForkJoinPool.commonPool-worker-17] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 136, virtual: false took: 281ms\n[ForkJoinPool.commonPool-worker-2] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 87, virtual: false took: 50ms\n[] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 134, virtual: true took: 282ms\n[ForkJoinPool.commonPool-worker-1] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 86, virtual: false took: 285ms\n[ForkJoinPool.commonPool-worker-20] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 140, virtual: false took: 35ms\n[ForkJoinPool.commonPool-worker-16] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 137, virtual: false took: 50ms\n[ForkJoinPool.commonPool-worker-6] c.i.n.d.c.TenantdatasErviCeimpl     : Loading data on 91, virtual: false took: 50ms\n</code></pre>\n<p>Only first element in stream is processed by virtual thread. Why ?\nHow fix it to process all stream on virtual threads ?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1676559964,"post_id":75473926,"comment_id":133164802,"body_markdown":"It doesn&#39;t have that annotation, it is located here https://github.com/spring-cloud/spring-cloud-commons/blob/main/spring-cloud-commons/src/main/java/org/springframework/cloud/client/loadbalancer/LoadBalancerClientsProperties.java","body":"It doesn&#39;t have that annotation, it is located here <a href=\"https://github.com/spring-cloud/spring-cloud-commons/blob/main/spring-cloud-commons/src/main/java/org/springframework/cloud/client/loadbalancer/LoadBalancerClientsProperties.java\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-commons/blob/main/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21844132,"reputation":11,"user_id":16137261,"display_name":"Piotr HeÅ‚miniak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686742518,"creation_date":1686742518,"answer_id":76473096,"question_id":75473926,"body_markdown":"Try upgrading `org.springframework.cloud` dependencies to `3.1.x`. I had the same issue on 3.0.4, but on 3.1.5 and 3.1.6 it was ok. Specifically, in my case the problem was with `spring-cloud-starter-netflix-eureka-client` version.","title":"How to fix the problem of &quot;No ConfigurationProperties annotation&quot; in a Spring Cloud project?","body":"<p>Try upgrading <code>org.springframework.cloud</code> dependencies to <code>3.1.x</code>. I had the same issue on 3.0.4, but on 3.1.5 and 3.1.6 it was ok. Specifically, in my case the problem was with <code>spring-cloud-starter-netflix-eureka-client</code> version.</p>\n"}],"owner":{"account_id":27784938,"reputation":1,"user_id":21212595,"display_name":"Lei Xiongwei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686742518,"creation_date":1676558824,"question_id":75473926,"body_markdown":"```\r\njava.lang.IllegalStateException: No ConfigurationProperties annotation found on  &#39;org.springframework.cloud.client.loadbalancer.LoadBalancerProperties&#39;.\r\n\tat org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.18.jar:5.3.18]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.registerBeanDefinition(ConfigurationPropertiesBeanRegistrar.java:86) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.register(ConfigurationPropertiesBeanRegistrar.java:60) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.register(ConfigurationPropertiesBeanRegistrar.java:54) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.registerBeanDefinitions(EnableConfigurationPropertiesRegistrar.java:49) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.18.jar:5.3.18]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat com.atguigu.gateway.GulimallGatewayApplication.main(GulimallGatewayApplication.java:15) ~[classes/:na]\r\n```\r\n\r\nThis is the detail of exception information, the existing solution of similar problems can&#39;t solve this problem. I just a new coder in this scope, please help me.\r\n\r\nI just want this sub-project can run smoothly without exceptions and erros, the specific functions will be add by myself later.\r\nSpring Boot version:\r\n\r\n```xml\r\n&lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nJDK and Spring Cloud version:\r\n\r\n```xml\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n```\r\n\r\nThese are other important dependencies:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-alibaba-nacos-config&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nThe main Application:\r\n\r\n```java\r\n\r\n@EnableDiscoveryClient\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class GulimallGatewayApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GulimallGatewayApplication.class, args);\r\n    }\r\n\r\n}\r\n```","title":"How to fix the problem of &quot;No ConfigurationProperties annotation&quot; in a Spring Cloud project?","body":"<pre><code>java.lang.IllegalStateException: No ConfigurationProperties annotation found on  'org.springframework.cloud.client.loadbalancer.LoadBalancerProperties'.\n    at org.springframework.util.Assert.state(Assert.java:97) ~[spring-core-5.3.18.jar:5.3.18]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.registerBeanDefinition(ConfigurationPropertiesBeanRegistrar.java:86) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.register(ConfigurationPropertiesBeanRegistrar.java:60) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.context.properties.ConfigurationPropertiesBeanRegistrar.register(ConfigurationPropertiesBeanRegistrar.java:54) ~[spring-boot-2.6.6.jar:2.6.6]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.context.properties.EnableConfigurationPropertiesRegistrar.registerBeanDefinitions(EnableConfigurationPropertiesRegistrar.java:49) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.context.annotation.ImportBeanDefinitionRegistrar.registerBeanDefinitions(ImportBeanDefinitionRegistrar.java:86) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.18.jar:5.3.18]\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\n    at com.atguigu.gateway.GulimallGatewayApplication.main(GulimallGatewayApplication.java:15) ~[classes/:na]\n</code></pre>\n<p>This is the detail of exception information, the existing solution of similar problems can't solve this problem. I just a new coder in this scope, please help me.</p>\n<p>I just want this sub-project can run smoothly without exceptions and erros, the specific functions will be add by myself later.\nSpring Boot version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>JDK and Spring Cloud version:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n</code></pre>\n<p>These are other important dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-alibaba-nacos-config&lt;/artifactId&gt;\n            &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The main Application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableDiscoveryClient\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class GulimallGatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GulimallGatewayApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1686737508,"post_id":76472316,"comment_id":134839262,"body_markdown":"It looks like you are mixing springboot 2.x and 3.x. Not sure if that is the reason though. What do you get in the console if you add trace logging to org?","body":"It looks like you are mixing springboot 2.x and 3.x. Not sure if that is the reason though. What do you get in the console if you add trace logging to org?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686741124,"post_id":76472316,"comment_id":134839952,"body_markdown":"Remove `spring-web` and add `spring-boot-starter-web`. Remove the `spring-boot-dependencies` as well as your junit dependencies. You didn&#39;t include a server hence nothing will start.","body":"Remove <code>spring-web</code> and add <code>spring-boot-starter-web</code>. Remove the <code>spring-boot-dependencies</code> as well as your junit dependencies. You didn&#39;t include a server hence nothing will start."}],"answers":[{"comments":[{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686737957,"post_id":76472397,"comment_id":134839362,"body_markdown":"After adding the @SpringBootApplication\nI got an error saying:java.lang.NoClassDefFoundError: org/springframework/core/NestedIOException\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:323) ~[spring-context-5.3.25.jar:5.3.25]","body":"After adding the @SpringBootApplication I got an error saying:java.lang.NoClassDefFoundError: org/springframework/core/NestedIOException \tat org.springframework.context.annotation.ConfigurationClassPos&zwnj;&#8203;tProcessor.processCo&zwnj;&#8203;nfigBeanDefinitions(&zwnj;&#8203;ConfigurationClassPo&zwnj;&#8203;stProcessor.java:323&zwnj;&#8203;) ~[spring-context-5.3.25.jar:5.3.25]"},{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686738110,"post_id":76472397,"comment_id":134839383,"body_markdown":"I am aware of the configuration  , will be changed after solving the initial problems","body":"I am aware of the configuration  , will be changed after solving the initial problems"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686738434,"post_id":76472397,"comment_id":134839441,"body_markdown":"For this kind of errors like missing dependencies the best way is to get an initial setup for gradle from here: https://start.spring.io/","body":"For this kind of errors like missing dependencies the best way is to get an initial setup for gradle from here: <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686738901,"post_id":76472397,"comment_id":134839537,"body_markdown":"Tried getting the gradle from start.spring.io , no change","body":"Tried getting the gradle from start.spring.io , no change"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686740431,"post_id":76472397,"comment_id":134839834,"body_markdown":"Your original posted question is outdated now. I suggest to delete it. Post the new one with your current code, gradle file, properties file and application start log with error message you get now.","body":"Your original posted question is outdated now. I suggest to delete it. Post the new one with your current code, gradle file, properties file and application start log with error message you get now."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686737974,"creation_date":1686737384,"answer_id":76472397,"question_id":76472316,"body_markdown":"It looks like an important annotation is missing in your main application class:\r\n```\r\n@SpringBootApplication\r\npublic class Main {\r\n// ...\r\n}\r\n```\r\nBTW: the common way to configure Spring Boot application is defining the properties in a file. Like `application.properties` or `application.yaml`. Check any Spring Boot documentation for more details. Hard-coded properties are hard to maintain.","title":"Springbootapplication stops after initialization","body":"<p>It looks like an important annotation is missing in your main application class:</p>\n<pre><code>@SpringBootApplication\npublic class Main {\n// ...\n}\n</code></pre>\n<p>BTW: the common way to configure Spring Boot application is defining the properties in a file. Like <code>application.properties</code> or <code>application.yaml</code>. Check any Spring Boot documentation for more details. Hard-coded properties are hard to maintain.</p>\n"},{"comments":[{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686742004,"post_id":76472960,"comment_id":134840116,"body_markdown":"NovastarAPI:test: Could not find org.springframework.boot:spring-boot-starter-web:.\nRequired by:\n    project :","body":"NovastarAPI:test: Could not find org.springframework.boot:spring-boot-starter-web:. Required by:     project :"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686742139,"post_id":76472960,"comment_id":134840152,"body_markdown":"If the plugin is applied as stated (or you haven&#39;t posted your own `build.gradle`) this should work.","body":"If the plugin is applied as stated (or you haven&#39;t posted your own <code>build.gradle</code>) this should work."},{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686742327,"post_id":76472960,"comment_id":134840200,"body_markdown":"I didn&#39;t understand your last comment...","body":"I didn&#39;t understand your last comment..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686742532,"post_id":76472960,"comment_id":134840240,"body_markdown":"Extended the answer, you were missing the id `io.spring.dependency-management` plugin as well (which explains the additional dependencies).","body":"Extended the answer, you were missing the id <code>io.spring.dependency-management</code> plugin as well (which explains the additional dependencies)."},{"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"score":0,"creation_date":1686743552,"post_id":76472960,"comment_id":134840485,"body_markdown":"Worked after changing the://    implementation files(&#39;src/Libs/gson-2.2.2.jar/gson-2.2.2.jar&#39;); to     implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.7&#39;","body":"Worked after changing the://    implementation files(&#39;src/Libs/gson-2.2.2.jar/gson-2.2.2.jar&#39;); to     implementation group: &#39;com.google.code.gson&#39;, name: &#39;gson&#39;, version: &#39;2.7&#39;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686745285,"post_id":76472960,"comment_id":134840900,"body_markdown":"The gson dependency I already added. You don&#39;t need the version as Spring Boot manages it for a compatible version.","body":"The gson dependency I already added. You don&#39;t need the version as Spring Boot manages it for a compatible version."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686742490,"creation_date":1686741595,"answer_id":76472960,"question_id":76472316,"body_markdown":"There are 2 things wrong with your application. \r\n\r\n1. You are missing `@SpringBootApplication`\r\n2. You are using the wrong dependencies and are trying to be smarter then Spring Boot (Probably due to the missing `io.spring.dependency-management` plugin) \r\n3. (Bonus) Instead of `NovaOpt.GetInstance()` instead place this in an `@Bean` method so you can inject it into your controller. \r\n\r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication springApplication = new SpringApplication(Main.class);\r\n        springApplication.setDefaultProperties(Map.of(&quot;server.port&quot;, &quot;8090&quot;));\r\n        springApplication.run(args);\r\n    }\r\n\r\n    @Bean\r\n    NovaOpt novaOpt() {\r\n      return NovaOpt.GetInstance();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class Spring {\r\n    \r\n    private final NovaOpt novaOpt;\r\n    \r\n    public Spring(NovaOpt novaOpt) {\r\n      this.novaOpt=novaOpt;\r\n    }\r\n\r\n    // Request handling methods\r\n\r\n}\r\n```\r\n\r\nIn your gradle file cleanup your dependencies\r\n\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation files(&#39;src/NOVASDK/SDK/NovaSdk.jar&#39;)\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    implementation(&#39;com.google.code.gson:gson&#39;)\r\n    testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) \r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nNow you have a correct spring boot application class and proper dependencies.","title":"Springbootapplication stops after initialization","body":"<p>There are 2 things wrong with your application.</p>\n<ol>\n<li>You are missing <code>@SpringBootApplication</code></li>\n<li>You are using the wrong dependencies and are trying to be smarter then Spring Boot (Probably due to the missing <code>io.spring.dependency-management</code> plugin)</li>\n<li>(Bonus) Instead of <code>NovaOpt.GetInstance()</code> instead place this in an <code>@Bean</code> method so you can inject it into your controller.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        SpringApplication springApplication = new SpringApplication(Main.class);\n        springApplication.setDefaultProperties(Map.of(&quot;server.port&quot;, &quot;8090&quot;));\n        springApplication.run(args);\n    }\n\n    @Bean\n    NovaOpt novaOpt() {\n      return NovaOpt.GetInstance();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class Spring {\n    \n    private final NovaOpt novaOpt;\n    \n    public Spring(NovaOpt novaOpt) {\n      this.novaOpt=novaOpt;\n    }\n\n    // Request handling methods\n\n}\n</code></pre>\n<p>In your gradle file cleanup your dependencies</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation files('src/NOVASDK/SDK/NovaSdk.jar')\n\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('com.google.code.gson:gson')\n    testImplementation('org.springframework.boot:spring-boot-starter-test') \n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Now you have a correct spring boot application class and proper dependencies.</p>\n"}],"owner":{"account_id":21650464,"reputation":45,"user_id":15971176,"display_name":"Idan Zehavi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76472397,"answer_count":2,"score":2,"last_activity_date":1686742490,"creation_date":1686736845,"question_id":76472316,"body_markdown":"When running my springbootapp It stops immediately after initialization with no errors.\r\nI&#39;ve attempted to implement a solution using a function:\r\n\r\n    public static void waitForTermination() {\r\n        try {\r\n            // Wait indefinitely\r\n            Object lock = new Object();\r\n            synchronized (lock) {\r\n                lock.wait();\r\n            }\r\n        } catch (InterruptedException e) {\r\n            // Handle interruption if needed\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n\r\nThat prevented It from stopping , however , the API itself didn&#39;t respond to any request,\r\nmoreover when checking the process itself it showed:\r\n&gt; TCP    127.0.0.1:53768        127.0.0.1:53767        ESTABLISHED     11584\r\n\r\nHere&#39;s the Main App:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            NovaOpt novaOpt = NovaOpt.GetInstance();\r\n    \r\n            SpringApplication springApplication = new SpringApplication(Main.class);\r\n            springApplication.setDefaultProperties(Collections.singletonMap(&quot;server.port&quot;, &quot;8090&quot;));\r\n            springApplication.run(args);\r\n    \r\n    //        waitForTermination();\r\n    \r\n    \r\n        }\r\n    \r\n        public static void waitForTermination() {\r\n            try {\r\n                // Wait indefinitely\r\n                Object lock = new Object();\r\n                synchronized (lock) {\r\n                    lock.wait();\r\n                }\r\n            } catch (InterruptedException e) {\r\n                // Handle interruption if needed\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nAnd here&#39;s the Spring class I&#39;ve created to manage routing:\r\n\r\n    package org.example;\r\n    \r\n    import novj.publ.api.NovaOpt;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n        @RestController\r\n        @RequestMapping(&quot;/api&quot;)\r\n    \r\n        public class Spring {\r\n            NovaOpt novaOpt = NovaOpt.GetInstance();\r\n    \r\n            @GetMapping(&quot;/hello&quot;)\r\n            public String sayHello() {\r\n                return &quot;Hello, World!&quot;;\r\n            }\r\n    \r\n            @GetMapping(&quot;/GetScreenBrightness/{screenIp}&quot;)\r\n            public String getScreenBrightness(@RequestParam(&quot;screenIp&quot;) String screenIp) {\r\n                String username = System.getenv(&quot;USERNAME&quot;);\r\n                String password = System.getenv(&quot;PASSWORD&quot;);\r\n    //        NovaHelper.fullLogin(novaOpt , username , password , screenIp);\r\n                System.out.printf(&quot;Username:&quot; + username);\r\n                return &quot;Hello&quot;;\r\n            }\r\n    \r\n    \r\n        }\r\n\r\nHere&#39;s my build.gradle:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\r\n    \r\n    }\r\n    \r\n    group = &#39;org.example&#39;\r\n    version = &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n        implementation files(&#39;src/NOVASDK/SDK/NovaSdk.jar&#39;)\r\n        implementation files(&#39;src/Libs/gson-2.2.2.jar/gson-2.2.2.jar&#39;);\r\n    \r\n        implementation(&#39;org.springframework:spring-web:6.0.9&#39;)\r\n    \r\n    \r\n        implementation platform(&#39;org.springframework.boot:spring-boot-dependencies:2.7.8&#39;)\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    \r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-web:latest.release&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n","title":"Springbootapplication stops after initialization","body":"<p>When running my springbootapp It stops immediately after initialization with no errors.\nI've attempted to implement a solution using a function:</p>\n<pre><code>public static void waitForTermination() {\n    try {\n        // Wait indefinitely\n        Object lock = new Object();\n        synchronized (lock) {\n            lock.wait();\n        }\n    } catch (InterruptedException e) {\n        // Handle interruption if needed\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>That prevented It from stopping , however , the API itself didn't respond to any request,\nmoreover when checking the process itself it showed:</p>\n<blockquote>\n<p>TCP    127.0.0.1:53768        127.0.0.1:53767        ESTABLISHED     11584</p>\n</blockquote>\n<p>Here's the Main App:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        NovaOpt novaOpt = NovaOpt.GetInstance();\n\n        SpringApplication springApplication = new SpringApplication(Main.class);\n        springApplication.setDefaultProperties(Collections.singletonMap(&quot;server.port&quot;, &quot;8090&quot;));\n        springApplication.run(args);\n\n//        waitForTermination();\n\n\n    }\n\n    public static void waitForTermination() {\n        try {\n            // Wait indefinitely\n            Object lock = new Object();\n            synchronized (lock) {\n                lock.wait();\n            }\n        } catch (InterruptedException e) {\n            // Handle interruption if needed\n            Thread.currentThread().interrupt();\n        }\n    }\n\n\n}\n</code></pre>\n<p>And here's the Spring class I've created to manage routing:</p>\n<pre><code>package org.example;\n\nimport novj.publ.api.NovaOpt;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n    @RestController\n    @RequestMapping(&quot;/api&quot;)\n\n    public class Spring {\n        NovaOpt novaOpt = NovaOpt.GetInstance();\n\n        @GetMapping(&quot;/hello&quot;)\n        public String sayHello() {\n            return &quot;Hello, World!&quot;;\n        }\n\n        @GetMapping(&quot;/GetScreenBrightness/{screenIp}&quot;)\n        public String getScreenBrightness(@RequestParam(&quot;screenIp&quot;) String screenIp) {\n            String username = System.getenv(&quot;USERNAME&quot;);\n            String password = System.getenv(&quot;PASSWORD&quot;);\n//        NovaHelper.fullLogin(novaOpt , username , password , screenIp);\n            System.out.printf(&quot;Username:&quot; + username);\n            return &quot;Hello&quot;;\n        }\n\n\n    }\n</code></pre>\n<p>Here's my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id &quot;org.springframework.boot&quot; version &quot;3.1.0&quot;\n\n}\n\ngroup = 'org.example'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n    implementation files('src/NOVASDK/SDK/NovaSdk.jar')\n    implementation files('src/Libs/gson-2.2.2.jar/gson-2.2.2.jar');\n\n    implementation('org.springframework:spring-web:6.0.9')\n\n\n    implementation platform('org.springframework.boot:spring-boot-dependencies:2.7.8')\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n\n//    implementation 'org.springframework.boot:spring-boot-starter-web:latest.release'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","eclipse","printf"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1686737289,"post_id":76472353,"comment_id":134839214,"body_markdown":"Does this answer your question? [String.format prints &#39;question mark&#39; as output](https://stackoverflow.com/questions/30049590/string-format-prints-question-mark-as-output)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30049590/string-format-prints-question-mark-as-output\">String.format prints &#39;question mark&#39; as output</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1686737345,"post_id":76472353,"comment_id":134839226,"body_markdown":"cannot reproduce: https://ideone.com/MeWgUk - The error is likely your font/encoding or something that you use to display the numbers.","body":"cannot reproduce: <a href=\"https://ideone.com/MeWgUk\" rel=\"nofollow noreferrer\">ideone.com/MeWgUk</a> - The error is likely your font/encoding or something that you use to display the numbers."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686740050,"post_id":76472353,"comment_id":134839762,"body_markdown":"What about `System.out.println(String.format(Locale.US, &quot;int = %d\\n&quot;,myInt));`? btw that should be `%d%n` since what you have is platform-specific","body":"What about <code>System.out.println(String.format(Locale.US, &quot;int = %d\\n&quot;,myInt));</code>? btw that should be <code>%d%n</code> since what you have is platform-specific"},{"owner":{"account_id":19003028,"reputation":11,"user_id":13870186,"display_name":"behzadfam"},"score":0,"creation_date":1686745555,"post_id":76472353,"comment_id":134840970,"body_markdown":"Thank you g00se, it works. However, I still don&#39;t now why the printf() and formatf() behave like that.","body":"Thank you g00se, it works. However, I still don&#39;t now why the printf() and formatf() behave like that."}],"answers":[{"comments":[{"owner":{"account_id":19003028,"reputation":11,"user_id":13870186,"display_name":"behzadfam"},"score":0,"creation_date":1686741439,"post_id":76472612,"comment_id":134840003,"body_markdown":"Yes man, I checked it out and it was set To UTF-8 by default. I changed it to other options and didn&#39;t work.","body":"Yes man, I checked it out and it was set To UTF-8 by default. I changed it to other options and didn&#39;t work."},{"owner":{"account_id":19003028,"reputation":11,"user_id":13870186,"display_name":"behzadfam"},"score":0,"creation_date":1686741854,"post_id":76472612,"comment_id":134840087,"body_markdown":"the funny thing is that both print and println work fine. I just add a picture of it.","body":"the funny thing is that both print and println work fine. I just add a picture of it."}],"tags":[],"owner":{"account_id":27687294,"reputation":45,"user_id":21134798,"display_name":"Dan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686738994,"creation_date":1686738994,"answer_id":76472612,"question_id":76472353,"body_markdown":"Have you checked your eclipse project text file encoding (Window-&gt;Preferences-&gt;General-&gt;Workspace then the Text File Encoding (at the bottom of the panel for me)? \r\n\r\nMine is set to Cp1252 (which I looked up and is Windows default so that makes sense, as I&#39;m using Eclipse on Windows). I see UTF-8 in the options there which looks sensible since it&#39;s used in a lot of places. If yours looks different to those, it might be worth trying to change it and see if you still get the behaviour. I tried changing it to some other things but could not reproduce your error but then my eclipse seems not to save the change so it may still be that setting.","title":"eclips java printf() function doesn&#39;t work properly","body":"<p>Have you checked your eclipse project text file encoding (Window-&gt;Preferences-&gt;General-&gt;Workspace then the Text File Encoding (at the bottom of the panel for me)?</p>\n<p>Mine is set to Cp1252 (which I looked up and is Windows default so that makes sense, as I'm using Eclipse on Windows). I see UTF-8 in the options there which looks sensible since it's used in a lot of places. If yours looks different to those, it might be worth trying to change it and see if you still get the behaviour. I tried changing it to some other things but could not reproduce your error but then my eclipse seems not to save the change so it may still be that setting.</p>\n"}],"owner":{"account_id":19003028,"reputation":11,"user_id":13870186,"display_name":"behzadfam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686741957,"creation_date":1686737075,"question_id":76472353,"body_markdown":"Using the printf(), the console prints &#39;?&#39; for number variables.\r\nIt works fine when I try other variables\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tboolean myBoolean = false;\r\n        char myChar =&#39;$&#39;;\t\t\r\n        String myString = &quot;Hello world&quot;;\r\n        int myInt= 30;\r\n\t\tdouble myDouble = 123.456;\r\n\t\tSystem.out.printf(&quot;boolean = %b\\n&quot;,myBoolean );\r\n\t\tSystem.out.printf(&quot;Char = %c\\n&quot;,myChar );\r\n\t\tSystem.out.printf(&quot;String = %s\\n&quot;,myString);\r\n\t\tSystem.out.printf(&quot;int = %d\\n&quot;,myInt);\r\n\t\tSystem.out.printf(&quot;double = %f\\n&quot;,myDouble );\r\n\t}\r\n\r\n}\r\n```\r\n\r\nthe console prints out this:\r\n\r\n boolean = false \r\n\r\n Char = $ \r\n\r\n String = Hello world \r\n\r\nint = ?? \r\n\r\ndouble = ??????????\r\n\r\nI searched the web and couldn&#39;t find the exact problem. The closest thing I found was [Link](https://stackoverflow.com/questions/24218802/eclipse-java-printf-issue-printstream-is-not-applicable)\r\nI checked the Enable project specific settings.\r\nI also used the formatf, but the result was the same as printf.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3PnW5.png","title":"eclips java printf() function doesn&#39;t work properly","body":"<p>Using the printf(), the console prints '?' for number variables.\nIt works fine when I try other variables</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        boolean myBoolean = false;\n        char myChar ='$';       \n        String myString = &quot;Hello world&quot;;\n        int myInt= 30;\n        double myDouble = 123.456;\n        System.out.printf(&quot;boolean = %b\\n&quot;,myBoolean );\n        System.out.printf(&quot;Char = %c\\n&quot;,myChar );\n        System.out.printf(&quot;String = %s\\n&quot;,myString);\n        System.out.printf(&quot;int = %d\\n&quot;,myInt);\n        System.out.printf(&quot;double = %f\\n&quot;,myDouble );\n    }\n\n}\n</code></pre>\n<p>the console prints out this:</p>\n<p>boolean = false</p>\n<p>Char = $</p>\n<p>String = Hello world</p>\n<p>int = ??</p>\n<p>double = ??????????</p>\n<p>I searched the web and couldn't find the exact problem. The closest thing I found was <a href=\"https://stackoverflow.com/questions/24218802/eclipse-java-printf-issue-printstream-is-not-applicable\">Link</a>\nI checked the Enable project specific settings.\nI also used the formatf, but the result was the same as printf.\n<a href=\"https://i.stack.imgur.com/3PnW5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PnW5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","reactjs","react-native","tracking"],"owner":{"account_id":28767291,"reputation":1,"user_id":22031898,"display_name":"Wang Xin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686741953,"creation_date":1686741953,"question_id":76473020,"body_markdown":"everyone.\r\n\r\n I&#39;m developing an app for android phone tracking and I need to make an admin dashboard with the ability to track android device in real time and generate reports, how can I do that with Java or React Native and React as web framework.\r\n\r\nI tried searching for it ready to use functions but got really lost and confused &#128533;","title":"Is there a way to make an admin dashboard that can track android device in real time using React Native or Java and React?","body":"<p>everyone.</p>\n<p>I'm developing an app for android phone tracking and I need to make an admin dashboard with the ability to track android device in real time and generate reports, how can I do that with Java or React Native and React as web framework.</p>\n<p>I tried searching for it ready to use functions but got really lost and confused ðŸ˜•</p>\n"},{"tags":["java","jar","fatjar"],"owner":{"account_id":16252363,"reputation":91,"user_id":11735962,"display_name":"Pavlos Maragkos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686741891,"creation_date":1686741891,"question_id":76473011,"body_markdown":"Is there any way to find out the version of the 3rd party libraries used by a fat .jar?","title":"Fat .jar and version of 3rd party libraries/dependencies","body":"<p>Is there any way to find out the version of the 3rd party libraries used by a fat .jar?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1686744430,"post_id":76472999,"comment_id":134840706,"body_markdown":"Please give more context. If you need just a single string you can parse the json as string and find the corresponding part within it otherwise you need to convert your json document to a corresponding object using some libraries like Jackson or Gson","body":"Please give more context. If you need just a single string you can parse the json as string and find the corresponding part within it otherwise you need to convert your json document to a corresponding object using some libraries like Jackson or Gson"},{"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"score":0,"creation_date":1686746199,"post_id":76472999,"comment_id":134841138,"body_markdown":"this is already an object, but it is necessary to take and pull only the zero element of the array from this object","body":"this is already an object, but it is necessary to take and pull only the zero element of the array from this object"},{"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"score":0,"creation_date":1686750701,"post_id":76472999,"comment_id":134842266,"body_markdown":"I meant a corresponding Java object representation, basically a class defining the same structure as the json document. More details [here](https://stackoverflow.com/questions/10308452/how-to-convert-the-following-json-string-to-java-object)","body":"I meant a corresponding Java object representation, basically a class defining the same structure as the json document. More details <a href=\"https://stackoverflow.com/questions/10308452/how-to-convert-the-following-json-string-to-java-object\">here</a>"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686741856,"creation_date":1686741856,"question_id":76472999,"body_markdown":"I have a JSONObject, how do I parse the array (registrys) and take its element 0?\r\n```\r\n{\r\n  &quot;extendedResponseMessages&quot;: null,\r\n  &quot;responseBody&quot;: {\r\n    &quot;data&quot;: {\r\n      &quot;uid&quot;: &quot;8ytythc5-cfhghg43-4ad0-a2hgd0-8ddhghg77&quot;,\r\n      &quot;pay&quot;: 1000,\r\n      &quot;name&quot;: &quot;alex&quot;,\r\n      &quot;registrys&quot;: [],\r\n      &quot;status&quot;: &quot;ACTIVE&quot;\r\n    },\r\n```","title":"how parse array in jsonObject?","body":"<p>I have a JSONObject, how do I parse the array (registrys) and take its element 0?</p>\n<pre><code>{\n  &quot;extendedResponseMessages&quot;: null,\n  &quot;responseBody&quot;: {\n    &quot;data&quot;: {\n      &quot;uid&quot;: &quot;8ytythc5-cfhghg43-4ad0-a2hgd0-8ddhghg77&quot;,\n      &quot;pay&quot;: 1000,\n      &quot;name&quot;: &quot;alex&quot;,\n      &quot;registrys&quot;: [],\n      &quot;status&quot;: &quot;ACTIVE&quot;\n    },\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-activity"],"comments":[{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1686665582,"post_id":76465730,"comment_id":134828287,"body_markdown":"in `onResume` have you tried calling the update data function ?","body":"in <code>onResume</code> have you tried calling the update data function ?"},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1686665704,"post_id":76465730,"comment_id":134828308,"body_markdown":"No. I used in onRestart..","body":"No. I used in onRestart.."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1686665951,"post_id":76465730,"comment_id":134828364,"body_markdown":"Are you actually leaving the activity so that `onRestart()` can get called? Is it even being called, and have you verified that with some logs perhaps?","body":"Are you actually leaving the activity so that <code>onRestart()</code> can get called? Is it even being called, and have you verified that with some logs perhaps?"},{"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"score":0,"creation_date":1686666000,"post_id":76465730,"comment_id":134828373,"body_markdown":"have a flag `isToRefreshData` and set its value to `true` when navigating to another fragment now in `onResume { if(isToRefreshData) UPDATE_DATA() }`","body":"have a flag <code>isToRefreshData</code> and set its value to <code>true</code> when navigating to another fragment now in <code>onResume { if(isToRefreshData) UPDATE_DATA() }</code>"}],"answers":[{"tags":[],"owner":{"account_id":13575915,"reputation":69,"user_id":9793289,"display_name":"TNT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686741720,"creation_date":1686741720,"answer_id":76472978,"question_id":76465730,"body_markdown":"Try to refresh data in `onResume()` function. as we know when we come back to previous screen in that case `onResume()` is getting called so if you want to refresh or update the data, you should implement code in `onResume()` function. \r\nOne more suggestion is that try to maintain flag like `needToRefreshData=true` and check it in `onResume()`, otherwise it&#39;ll be refreshed unnecessary every time.","title":"How to refresh Fragment datas when coming from previous screen android?","body":"<p>Try to refresh data in <code>onResume()</code> function. as we know when we come back to previous screen in that case <code>onResume()</code> is getting called so if you want to refresh or update the data, you should implement code in <code>onResume()</code> function.\nOne more suggestion is that try to maintain flag like <code>needToRefreshData=true</code> and check it in <code>onResume()</code>, otherwise it'll be refreshed unnecessary every time.</p>\n"}],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686741720,"creation_date":1686664832,"question_id":76465730,"body_markdown":" I want to refresh fragment&#39;s data when it comes from previous screen. \r\n\r\nBelow is the code how it looks.\r\n\r\n    public class SettingsHomepageActivity extends FragmentActivity {\r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        showFragment(new TopLevelSettings(), R.id.main_content);\r\n        }\r\n        \r\n        private void showFragment(Fragment fragment, int id) {\r\n            final FragmentManager fragmentManager = getSupportFragmentManager();\r\n            final FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n            final Fragment showFragment = fragmentManager.findFragmentById(id);\r\n    \r\n            if (showFragment == null) {\r\n                fragmentTransaction.add(id, fragment);\r\n            } else {\r\n                fragmentTransaction.show(showFragment);\r\n            }\r\n            fragmentTransaction.commit();\r\n        }\r\n    }\r\n\r\n\r\n    TopSettings extends Fragment {\r\n    \r\n    @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            use(SupportPreferenceController.class).setActivity(getActivity());\r\n        }\r\n    }\r\n\r\nIn the above code, you can see showFragment is displaying only in onCreate().\r\nNow when datas been updated in SupportPreferenceController and when user presses home button, it goes to onStart(), hence TopSettings will not be called\r\nand hence Fragment will not get refreshed when datas get updated.\r\n\r\nI used this below code in SettingsHomePageActivity,\r\n\r\n    @Override\r\n    protected void onRestart() {\r\n        this.recreate();\r\n        super.onRestart();\r\n    }\r\n\r\nBut the above code always keep refreshing Fragments whenever we go to any page.\r\n\r\nHow to overcome this? I need to refresh fragment&#39;s datas but not the entire Fragment everytime.","title":"How to refresh Fragment datas when coming from previous screen android?","body":"<p>I want to refresh fragment's data when it comes from previous screen.</p>\n<p>Below is the code how it looks.</p>\n<pre><code>public class SettingsHomepageActivity extends FragmentActivity {\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    showFragment(new TopLevelSettings(), R.id.main_content);\n    }\n    \n    private void showFragment(Fragment fragment, int id) {\n        final FragmentManager fragmentManager = getSupportFragmentManager();\n        final FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n        final Fragment showFragment = fragmentManager.findFragmentById(id);\n\n        if (showFragment == null) {\n            fragmentTransaction.add(id, fragment);\n        } else {\n            fragmentTransaction.show(showFragment);\n        }\n        fragmentTransaction.commit();\n    }\n}\n\n\nTopSettings extends Fragment {\n\n@Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        use(SupportPreferenceController.class).setActivity(getActivity());\n    }\n}\n</code></pre>\n<p>In the above code, you can see showFragment is displaying only in onCreate().\nNow when datas been updated in SupportPreferenceController and when user presses home button, it goes to onStart(), hence TopSettings will not be called\nand hence Fragment will not get refreshed when datas get updated.</p>\n<p>I used this below code in SettingsHomePageActivity,</p>\n<pre><code>@Override\nprotected void onRestart() {\n    this.recreate();\n    super.onRestart();\n}\n</code></pre>\n<p>But the above code always keep refreshing Fragments whenever we go to any page.</p>\n<p>How to overcome this? I need to refresh fragment's datas but not the entire Fragment everytime.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1686739989,"post_id":76472716,"comment_id":134839755,"body_markdown":"Put the `@Service` annotation on `personneServiceImlp`, and please find out what the standard Java naming conventions are and use them.","body":"Put the <code>@Service</code> annotation on <code>personneServiceImlp</code>, and please find out what the standard Java naming conventions are and use them."}],"answers":[{"tags":[],"owner":{"account_id":3262371,"reputation":25,"user_id":2747677,"display_name":"Wassim Jied"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686741594,"creation_date":1686741594,"answer_id":76472959,"question_id":76472716,"body_markdown":"Move @Service from PersonneService to PersonneServiceImpl.\r\n(just a remark: try to respect java naming rules (Upper cases and lower ones)\r\n","title":"Consider defining a bean of type &#39;com.example.NewProfile.service.personneService&#39; in your configuration","body":"<p>Move @Service from PersonneService to PersonneServiceImpl.\n(just a remark: try to respect java naming rules (Upper cases and lower ones)</p>\n"}],"owner":{"account_id":28819224,"reputation":1,"user_id":22072130,"display_name":"Knani Raef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686741594,"creation_date":1686739744,"question_id":76472716,"body_markdown":" I am new to Spring Boot and I&#39;m getting the following error when writing a file upload API\r\n\r\n**Description:**\r\n\r\nField personneservice in com.example.NewProfile.controller.clientController required a bean of type &#39;com.example.NewProfile.service.personneService&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\\- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.NewProfile.service.personneService&#39; in your configuration.\r\n\r\nProcess finished with exit code 1\r\n\r\n**service interface:**\r\n\r\n```\r\npackage com.example.NewProfile.service;\r\n\r\nimport com.example.NewProfile.model.personne;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n@Service\r\npublic interface personneService {\r\n    personne createPersonne(personne person1);\r\n\r\n    List&lt;personne&gt; getPersonne();\r\n\r\n\r\n    personne getPersonneById(long id);\r\n    void deletePersonne(long id);\r\n\r\n    personne updatePersonne(personne person1,long id);\r\n\r\n\r\n}\r\n```\r\n\r\n**Service class IMPL :**\r\n\r\n```\r\npackage com.example.NewProfile.service;\r\n\r\nimport com.example.NewProfile.model.personne;\r\nimport com.example.NewProfile.repository.personneRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic class personneServiceImlp implements personneService{\r\n    private final personneRepository personRepository;\r\n\r\n    public personneServiceImlp(personneRepository personRepository) {\r\n        this.personRepository = personRepository;\r\n    }\r\n\r\n    @Override\r\n    public personne createPersonne(personne person1) {\r\n        return personRepository.save(person1);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;personne&gt; getPersonne() {\r\n        return personRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public personne getPersonneById(long id) {\r\n        return personRepository.findById(id).get();\r\n    }\r\n\r\n    @Override\r\n    public void deletePersonne(long id) {\r\n        personRepository.deleteById(id);\r\n    }\r\n\r\n    @Override\r\n    public personne updatePersonne(personne person1, long id) {\r\n        personne person2 = personRepository.findById(id).get();\r\n        person2.setNom(person1.getNom());\r\n        person2.setPrenom(person1.getPrenom());\r\n        person2.setDate_naissance(person1.getDate_naissance());\r\n        return personRepository.save(person2);\r\n    }\r\n}\r\n```\r\n\r\n**Contoller class:**\r\n\r\n```\r\npackage com.example.NewProfile.controller;\r\n\r\n\r\nimport com.example.NewProfile.model.personne;\r\nimport com.example.NewProfile.service.personneService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\n@RestController\r\n@RequestMapping(&quot;/personne&quot;)\r\npublic class clientController {\r\n\r\n    @Autowired\r\n    private personneService personneservice;\r\n\r\n    @PostMapping\r\n    public personne createpersonne(@RequestBody personne person){\r\n        personne person1 = personneservice.createPersonne(person);\r\n        return person1;\r\n    }\r\n    @GetMapping\r\n    public List&lt;personne&gt; getPersons(){\r\n        return personneservice.getPersonne();\r\n    }\r\n\r\n    //update persons\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public personne updatePersonById(@RequestBody personne person , @PathVariable(&quot;id&quot;) long id){\r\n        return personneservice.updatePersonne(person,id);\r\n    }\r\n\r\n    //Delete Person by id\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public String deletePerson(@PathVariable(&quot;id&quot;) long id){\r\n        personneservice.deletePersonne(id);\r\n        return &quot;person is successfully deleted&quot;;\r\n    }\r\n\r\n    //Get Person by id\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public personne getPersonById(@PathVariable(&quot;id&quot;) long id){\r\n        return personneservice.getPersonneById(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**model :**\r\n\r\n```\r\npackage com.example.NewProfile.model;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n@Entity\r\npublic class personne {\r\n    @Id\r\n    private  long id;\r\n    private String nom;\r\n    private String prenom;\r\n    private Date date_naissance;\r\n\r\n\r\n    public personne() {\r\n\r\n    }\r\n    public personne(long id, String nom, String prenom, Date date_naissance){\r\n        this.id=id;\r\n        this.nom=nom;\r\n        this.prenom=prenom;\r\n        this.date_naissance=date_naissance;\r\n\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNom() {\r\n        return nom;\r\n    }\r\n\r\n    public void setNom(String nom) {\r\n        this.nom = nom;\r\n    }\r\n\r\n    public String getPrenom() {\r\n        return prenom;\r\n    }\r\n\r\n    public void setPrenom(String prenom) {\r\n        this.prenom = prenom;\r\n    }\r\n\r\n    public Date getDate_naissance() {\r\n        return date_naissance;\r\n    }\r\n\r\n    public void setDate_naissance(Date date_naissance) {\r\n        this.date_naissance = date_naissance;\r\n    }\r\n}\r\n```","title":"Consider defining a bean of type &#39;com.example.NewProfile.service.personneService&#39; in your configuration","body":"<p>I am new to Spring Boot and I'm getting the following error when writing a file upload API</p>\n<p><strong>Description:</strong></p>\n<p>Field personneservice in com.example.NewProfile.controller.clientController required a bean of type 'com.example.NewProfile.service.personneService' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.example.NewProfile.service.personneService' in your configuration.</p>\n<p>Process finished with exit code 1</p>\n<p><strong>service interface:</strong></p>\n<pre><code>package com.example.NewProfile.service;\n\nimport com.example.NewProfile.model.personne;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n@Service\npublic interface personneService {\n    personne createPersonne(personne person1);\n\n    List&lt;personne&gt; getPersonne();\n\n\n    personne getPersonneById(long id);\n    void deletePersonne(long id);\n\n    personne updatePersonne(personne person1,long id);\n\n\n}\n</code></pre>\n<p><strong>Service class IMPL :</strong></p>\n<pre><code>package com.example.NewProfile.service;\n\nimport com.example.NewProfile.model.personne;\nimport com.example.NewProfile.repository.personneRepository;\n\nimport java.util.List;\n\npublic class personneServiceImlp implements personneService{\n    private final personneRepository personRepository;\n\n    public personneServiceImlp(personneRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    @Override\n    public personne createPersonne(personne person1) {\n        return personRepository.save(person1);\n    }\n\n    @Override\n    public List&lt;personne&gt; getPersonne() {\n        return personRepository.findAll();\n    }\n\n    @Override\n    public personne getPersonneById(long id) {\n        return personRepository.findById(id).get();\n    }\n\n    @Override\n    public void deletePersonne(long id) {\n        personRepository.deleteById(id);\n    }\n\n    @Override\n    public personne updatePersonne(personne person1, long id) {\n        personne person2 = personRepository.findById(id).get();\n        person2.setNom(person1.getNom());\n        person2.setPrenom(person1.getPrenom());\n        person2.setDate_naissance(person1.getDate_naissance());\n        return personRepository.save(person2);\n    }\n}\n</code></pre>\n<p><strong>Contoller class:</strong></p>\n<pre><code>package com.example.NewProfile.controller;\n\n\nimport com.example.NewProfile.model.personne;\nimport com.example.NewProfile.service.personneService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@Service\n@RestController\n@RequestMapping(&quot;/personne&quot;)\npublic class clientController {\n\n    @Autowired\n    private personneService personneservice;\n\n    @PostMapping\n    public personne createpersonne(@RequestBody personne person){\n        personne person1 = personneservice.createPersonne(person);\n        return person1;\n    }\n    @GetMapping\n    public List&lt;personne&gt; getPersons(){\n        return personneservice.getPersonne();\n    }\n\n    //update persons\n    @PutMapping(&quot;/{id}&quot;)\n    public personne updatePersonById(@RequestBody personne person , @PathVariable(&quot;id&quot;) long id){\n        return personneservice.updatePersonne(person,id);\n    }\n\n    //Delete Person by id\n    @DeleteMapping(&quot;/{id}&quot;)\n    public String deletePerson(@PathVariable(&quot;id&quot;) long id){\n        personneservice.deletePersonne(id);\n        return &quot;person is successfully deleted&quot;;\n    }\n\n    //Get Person by id\n    @GetMapping(&quot;/{id}&quot;)\n    public personne getPersonById(@PathVariable(&quot;id&quot;) long id){\n        return personneservice.getPersonneById(id);\n    }\n\n}\n</code></pre>\n<p><strong>model :</strong></p>\n<pre><code>package com.example.NewProfile.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n@Entity\npublic class personne {\n    @Id\n    private  long id;\n    private String nom;\n    private String prenom;\n    private Date date_naissance;\n\n\n    public personne() {\n\n    }\n    public personne(long id, String nom, String prenom, Date date_naissance){\n        this.id=id;\n        this.nom=nom;\n        this.prenom=prenom;\n        this.date_naissance=date_naissance;\n\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getNom() {\n        return nom;\n    }\n\n    public void setNom(String nom) {\n        this.nom = nom;\n    }\n\n    public String getPrenom() {\n        return prenom;\n    }\n\n    public void setPrenom(String prenom) {\n        this.prenom = prenom;\n    }\n\n    public Date getDate_naissance() {\n        return date_naissance;\n    }\n\n    public void setDate_naissance(Date date_naissance) {\n        this.date_naissance = date_naissance;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":1,"creation_date":1577981175,"post_id":59566061,"comment_id":105300669,"body_markdown":"what files have been changed in that feature branch?","body":"what files have been changed in that feature branch?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1577981503,"post_id":59566061,"comment_id":105300796,"body_markdown":"What is iRAv2? Do you use this anywhere in the app?","body":"What is iRAv2? Do you use this anywhere in the app?"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1577982459,"post_id":59566061,"comment_id":105301231,"body_markdown":"@SimonMartinelli No, I do not use this anywhere. Actually I don&#39;t know what it is","body":"@SimonMartinelli No, I do not use this anywhere. Actually I don&#39;t know what it is"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1577982702,"post_id":59566061,"comment_id":105301341,"body_markdown":"@DavidLavender I compared both the branches, no differences","body":"@DavidLavender I compared both the branches, no differences"},{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":0,"creation_date":1577984050,"post_id":59566061,"comment_id":105301996,"body_markdown":"Are you running this with just `java -jar` ?","body":"Are you running this with just <code>java -jar</code> ?"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1577984236,"post_id":59566061,"comment_id":105302108,"body_markdown":"@DavidLavender I am just running it through IntelliJ, which of course uses same command","body":"@DavidLavender I am just running it through IntelliJ, which of course uses same command"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":1,"creation_date":1578691226,"post_id":59566061,"comment_id":105534920,"body_markdown":"@DavidLavender I figured out the issue. One of the 3rd party library causing this issue. But the issue is not consistent, meaning I have that library in development and master, where I do not see any issue. Anyway I defined custom logback.xml for time being.","body":"@DavidLavender I figured out the issue. One of the 3rd party library causing this issue. But the issue is not consistent, meaning I have that library in development and master, where I do not see any issue. Anyway I defined custom logback.xml for time being."}],"answers":[{"comments":[{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1577982895,"post_id":59566567,"comment_id":105301422,"body_markdown":"I get that. I just want to use default spring-boot logging pattern instead of defining my own format","body":"I get that. I just want to use default spring-boot logging pattern instead of defining my own format"},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1581312462,"post_id":59566567,"comment_id":106375632,"body_markdown":"It turns out one of the dependency libraries developer defined iRAV2 format in his `logback.xml` file which caused this issue. Now I have to override the logback.xml file","body":"It turns out one of the dependency libraries developer defined iRAV2 format in his <code>logback.xml</code> file which caused this issue. Now I have to override the logback.xml file"}],"tags":[],"owner":{"account_id":4542495,"reputation":724,"user_id":3689942,"accept_rate":20,"display_name":"Payal Bansal"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1686740497,"creation_date":1577981948,"answer_id":59566567,"question_id":59566061,"body_markdown":"You can always define your logging pattern in `application.properties`.\r\n","title":"Spring Boot application logs show iRAv2 format logs","body":"<p>You can always define your logging pattern in <code>application.properties</code>.</p>\n"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59566567,"answer_count":1,"score":1,"last_activity_date":1686740497,"creation_date":1577979796,"question_id":59566061,"body_markdown":"Here is a weird issue. I have a Spring Boot application with different branches. All of a sudden one of the feature branch shows logs in iRAv2 format (shown below) and skips some of the original log messages from the actual log messages. I do not use any specific logging library other than the Spring Boot default\r\n\r\n**iRAv2 format logs:**\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.2.RELEASE)\r\n\r\nJan 02 10:34:23 [iRAv2] Starting PresApplication on testhostname with PID 20704 | o.s.boot.StartupInfoLogger:55 \r\nJan 02 10:34:23 [iRAv2] No active profile set, falling back to default profiles: default | o.s.boot.SpringApplication:651 \r\n```\r\n\r\n**Correct format logs:**\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.2.RELEASE)\r\n\r\n2020-01-02 10:37:36.454  INFO 20937 --- [           main] g.c.c.o.l.patientreg.PresApplication     : Starting PresApplication on testhostname with PID 20937\r\n2020-01-02 10:37:36.459  INFO 20937 --- [           main] g.c.c.o.l.patientreg.PresApplication     : No active profile set, falling back to default profiles: default\r\n2020-01-02 10:37:37.435  INFO 20937 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2020-01-02 10:37:37.442  INFO 20937 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-01-02 10:37:37.443  INFO 20937 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\r\n2020-01-02 10:37:37.680  INFO 20937 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n2020-01-02 10:37:37.683  INFO 20937 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n```","title":"Spring Boot application logs show iRAv2 format logs","body":"<p>Here is a weird issue. I have a Spring Boot application with different branches. All of a sudden one of the feature branch shows logs in iRAv2 format (shown below) and skips some of the original log messages from the actual log messages. I do not use any specific logging library other than the Spring Boot default</p>\n\n<p><strong>iRAv2 format logs:</strong></p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.2.RELEASE)\n\nJan 02 10:34:23 [iRAv2] Starting PresApplication on testhostname with PID 20704 | o.s.boot.StartupInfoLogger:55 \nJan 02 10:34:23 [iRAv2] No active profile set, falling back to default profiles: default | o.s.boot.SpringApplication:651 \n</code></pre>\n\n<p><strong>Correct format logs:</strong></p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.2.RELEASE)\n\n2020-01-02 10:37:36.454  INFO 20937 --- [           main] g.c.c.o.l.patientreg.PresApplication     : Starting PresApplication on testhostname with PID 20937\n2020-01-02 10:37:36.459  INFO 20937 --- [           main] g.c.c.o.l.patientreg.PresApplication     : No active profile set, falling back to default profiles: default\n2020-01-02 10:37:37.435  INFO 20937 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2020-01-02 10:37:37.442  INFO 20937 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-01-02 10:37:37.443  INFO 20937 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]\n2020-01-02 10:37:37.680  INFO 20937 --- [           main] org.apache.jasper.servlet.TldScanner     : At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n2020-01-02 10:37:37.683  INFO 20937 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n</code></pre>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":19004237,"reputation":51,"user_id":13871225,"display_name":"jmhcodes"},"score":0,"creation_date":1641935684,"post_id":70672616,"comment_id":124937399,"body_markdown":"I need to run Java11 with Spark3.2, is there no fix to make them compatible and prevent these errors? \n\nAlso the warnings don&#39;t seem to impact using spark.","body":"I need to run Java11 with Spark3.2, is there no fix to make them compatible and prevent these errors?   Also the warnings don&#39;t seem to impact using spark."},{"owner":{"account_id":14428088,"reputation":85,"user_id":10422173,"display_name":"way_of_the_fist"},"score":0,"creation_date":1642634778,"post_id":70672616,"comment_id":125126827,"body_markdown":"True, the warnings don&#39;t seem to affect me either, but I can&#39;t find anywhere how to fix these errors aside from using Java8.","body":"True, the warnings don&#39;t seem to affect me either, but I can&#39;t find anywhere how to fix these errors aside from using Java8."},{"owner":{"account_id":7816098,"reputation":173,"user_id":5910757,"display_name":"PMHM"},"score":0,"creation_date":1667649509,"post_id":70672616,"comment_id":131219550,"body_markdown":"November 2022 update: my environment had Java 11 and Spark 3.1.x. After upgrading to Spark 3.3.x, the warnings are gone. So, at the moment, one could either downgrade Java, or upgrade Spark.","body":"November 2022 update: my environment had Java 11 and Spark 3.1.x. After upgrading to Spark 3.3.x, the warnings are gone. So, at the moment, one could either downgrade Java, or upgrade Spark."},{"owner":{"account_id":1558745,"reputation":1923,"user_id":1449151,"accept_rate":100,"display_name":"Maziyar"},"score":0,"creation_date":1675025541,"post_id":70672616,"comment_id":132834692,"body_markdown":"They are just harmless warnings, they can be safely ignored","body":"They are just harmless warnings, they can be safely ignored"},{"owner":{"account_id":7351160,"reputation":708,"user_id":6252353,"accept_rate":43,"display_name":"Andre Carneiro"},"score":0,"creation_date":1690638359,"post_id":70672616,"comment_id":135383166,"body_markdown":"I&#39;m using Java 8 and I&#39;m having the same issue.","body":"I&#39;m using Java 8 and I&#39;m having the same issue."}],"tags":[],"owner":{"account_id":14428088,"reputation":85,"user_id":10422173,"display_name":"way_of_the_fist"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641930609,"creation_date":1641930609,"answer_id":70672616,"question_id":70660419,"body_markdown":"There are two issues that need to be addressed to get rid of these errors: \r\n1. Java11 and Spark 3.2 when used together produce these errors. The first step is to switch to Java8 until this issue gets resolved. \r\n\r\n2. I get the same errors using brew that you do, even if I am using Java8. Instead of using brew, go to the Apache Website at [https://www.apache.org/dyn/closer.lua/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz][1] and unzip this file. To set your PATH variable so that you can type &quot;spark-shell&quot;, you&#39;ll need to go into your .bash, .profile, or .zshrc (whichever you use) and add &quot;export SPARK_HOME=path-to-spark-folder&quot; and then add $SPARK_HOME to your PATH variable. \r\n\r\n\r\n  [1]: https://www.apache.org/dyn/closer.lua/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz","title":"apache-spark running with warnings with Illegal reflective access by org.apache.spark.unsafe.Platform java.nio.DirectByteBuffer(long,int)","body":"<p>There are two issues that need to be addressed to get rid of these errors:</p>\n<ol>\n<li><p>Java11 and Spark 3.2 when used together produce these errors. The first step is to switch to Java8 until this issue gets resolved.</p>\n</li>\n<li><p>I get the same errors using brew that you do, even if I am using Java8. Instead of using brew, go to the Apache Website at <a href=\"https://www.apache.org/dyn/closer.lua/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz\" rel=\"noreferrer\">https://www.apache.org/dyn/closer.lua/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz</a> and unzip this file. To set your PATH variable so that you can type &quot;spark-shell&quot;, you'll need to go into your .bash, .profile, or .zshrc (whichever you use) and add &quot;export SPARK_HOME=path-to-spark-folder&quot; and then add $SPARK_HOME to your PATH variable.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1831862,"reputation":930,"user_id":1663094,"accept_rate":0,"display_name":"Oleksandr Tsurika"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686740101,"creation_date":1686740101,"answer_id":76472769,"question_id":70660419,"body_markdown":"You may add java 9+ command-line options to get rid of that warning:\r\n\r\n    --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED\r\n\r\nMore details look at https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6","title":"apache-spark running with warnings with Illegal reflective access by org.apache.spark.unsafe.Platform java.nio.DirectByteBuffer(long,int)","body":"<p>You may add java 9+ command-line options to get rid of that warning:</p>\n<pre><code>--add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED\n</code></pre>\n<p>More details look at <a href=\"https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/migrate/migrating-jdk-8-later-jdk-releases.html#GUID-7744EF96-5899-4FB2-B34E-86D49B2E89B6</a></p>\n"}],"owner":{"account_id":19004237,"reputation":51,"user_id":13871225,"display_name":"jmhcodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5200,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1686740101,"creation_date":1641861772,"question_id":70660419,"body_markdown":"I brew installed apache-spark via the homebrew\r\n\r\n    brew install apache-spark\r\n    \r\nThen ran \r\n\r\n    Spark-shell  \r\n\r\n\r\nAnd returned the following warnings: \r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/usr/local/Cellar/apache-spark/3.2.0/libexec/jars/spark-unsafe_2.12-3.2.0.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\n    WARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    Using Spark&#39;s default log4j profile: org/apache/spark/log4j-defaults.properties\r\n    Setting default log level to &quot;WARN&quot;.\r\n    To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\r\n    22/01/10 18:21:03 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Spark context Web UI available at http://ip-192-168-1-176.ec2.internal:4040\r\n    Spark context available as &#39;sc&#39; (master = local[*], app id = local-1641860464071).\r\n    Spark session available as &#39;spark&#39;.\r\n    Welcome to\r\n          ____              __\r\n         / __/__  ___ _____/ /__\r\n        _\\ \\/ _ \\/ _ `/ __/  &#39;_/\r\n       /___/ .__/\\_,_/_/ /_/\\_\\   version 3.2.0\r\n          /_/\r\n             \r\n    Using Scala version 2.12.15 (OpenJDK 64-Bit Server VM, Java 11.0.12)\r\n    Type in expressions to have them evaluated.\r\n    Type :help for more information.\r\n\r\n\r\nHere is my java --version \r\n\r\n    openjdk 11.0.12 2021-07-20\r\n    OpenJDK Runtime Environment Homebrew (build 11.0.12+0)\r\n    OpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode)\r\n\r\nHow do I resolve the warnings? \r\n","title":"apache-spark running with warnings with Illegal reflective access by org.apache.spark.unsafe.Platform java.nio.DirectByteBuffer(long,int)","body":"<p>I brew installed apache-spark via the homebrew</p>\n<pre><code>brew install apache-spark\n</code></pre>\n<p>Then ran</p>\n<pre><code>Spark-shell  \n</code></pre>\n<p>And returned the following warnings:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/usr/local/Cellar/apache-spark/3.2.0/libexec/jars/spark-unsafe_2.12-3.2.0.jar) to constructor java.nio.DirectByteBuffer(long,int)\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\nSetting default log level to &quot;WARN&quot;.\nTo adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel).\n22/01/10 18:21:03 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nSpark context Web UI available at http://ip-192-168-1-176.ec2.internal:4040\nSpark context available as 'sc' (master = local[*], app id = local-1641860464071).\nSpark session available as 'spark'.\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 3.2.0\n      /_/\n         \nUsing Scala version 2.12.15 (OpenJDK 64-Bit Server VM, Java 11.0.12)\nType in expressions to have them evaluated.\nType :help for more information.\n</code></pre>\n<p>Here is my java --version</p>\n<pre><code>openjdk 11.0.12 2021-07-20\nOpenJDK Runtime Environment Homebrew (build 11.0.12+0)\nOpenJDK 64-Bit Server VM Homebrew (build 11.0.12+0, mixed mode)\n</code></pre>\n<p>How do I resolve the warnings?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1686739733,"post_id":76472698,"comment_id":134839701,"body_markdown":"&quot;the Integer type is specified on the right side (Integer)&quot; - yes, but that&#39;s not the type of the variable.","body":"&quot;the Integer type is specified on the right side (Integer)&quot; - yes, but that&#39;s not the type of the variable."},{"owner":{"account_id":2714969,"reputation":5858,"user_id":2342558,"accept_rate":67,"display_name":"user2342558"},"score":0,"creation_date":1686739774,"post_id":76472698,"comment_id":134839712,"body_markdown":"are you using `java` or `javascript`?","body":"are you using <code>java</code> or <code>javascript</code>?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1686739783,"post_id":76472698,"comment_id":134839716,"body_markdown":"`for (Integer el : list)` will not compile. `for (Object el : list)` will.","body":"<code>for (Integer el : list)</code> will not compile. <code>for (Object el : list)</code> will."},{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1686739925,"post_id":76472698,"comment_id":134839742,"body_markdown":"@user2342558 I&#39;m using java.","body":"@user2342558 I&#39;m using java."},{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1686739929,"post_id":76472698,"comment_id":134839743,"body_markdown":"@Jon Skeet , I checked the type of the variable it says Integer.","body":"@Jon Skeet , I checked the type of the variable it says Integer."},{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1686739932,"post_id":76472698,"comment_id":134839744,"body_markdown":"@knittl I am talking about a for loop using var.","body":"@knittl I am talking about a for loop using var."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1686740450,"post_id":76472698,"comment_id":134839840,"body_markdown":"@clorzs: How *exactly* did you check the type of the variable? (And which variable do you mean?) You need to be very aware of the difference between the compile-time type of a variable, and the execution-time type of a variable&#39;s value.","body":"@clorzs: How <i>exactly</i> did you check the type of the variable? (And which variable do you mean?) You need to be very aware of the difference between the compile-time type of a variable, and the execution-time type of a variable&#39;s value."}],"answers":[{"comments":[{"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"score":0,"creation_date":1686740405,"post_id":76472729,"comment_id":134839830,"body_markdown":"Thanks! You are right I tried the following\n&lt;&lt; Integer x2 = list.get(0);&gt;&gt; and it does not compile saying &quot;cant assign an Object to an Integer&quot;","body":"Thanks! You are right I tried the following &lt;&lt; Integer x2 = list.get(0);&gt;&gt; and it does not compile saying &quot;cant assign an Object to an Integer&quot;"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686739890,"creation_date":1686739890,"answer_id":76472729,"question_id":76472698,"body_markdown":"&gt; I am confused due to this example found on a book saying that the type of &quot;elt&quot; is Object which I think is False. I believe it is Integer.\r\n\r\nNo, the type of the `elt` *variable* is `Object`, because the type of `list` *variable* is just the raw `List` type - not `ArrayList`, and not `ArrayList&lt;Integer&gt;`. The type is the type it&#39;s declared as - just `List`.\r\n\r\n&gt; But when I add an element to the list and check whether the type is Integer it prints True(Integer)\r\n\r\nYes, that&#39;s because you&#39;re testing the *execution-time* type of the element, which is very different from the *compile-time* type of the `elt` variable.\r\n\r\nTo give a simpler example, consider:\r\n\r\n```java\r\nObject obj = &quot;test&quot;;\r\n// Prints true, because at execution time the value of obj is a reference\r\n// to a String object.\r\nSystem.out.println(obj instanceof String);\r\n\r\n// But this won&#39;t compile, because the *compile-time* type of obj is Object,\r\n// not String.\r\nSystem.out.println(obj.length());\r\n```","title":"Type of elements of list created without a type","body":"<blockquote>\n<p>I am confused due to this example found on a book saying that the type of &quot;elt&quot; is Object which I think is False. I believe it is Integer.</p>\n</blockquote>\n<p>No, the type of the <code>elt</code> <em>variable</em> is <code>Object</code>, because the type of <code>list</code> <em>variable</em> is just the raw <code>List</code> type - not <code>ArrayList</code>, and not <code>ArrayList&lt;Integer&gt;</code>. The type is the type it's declared as - just <code>List</code>.</p>\n<blockquote>\n<p>But when I add an element to the list and check whether the type is Integer it prints True(Integer)</p>\n</blockquote>\n<p>Yes, that's because you're testing the <em>execution-time</em> type of the element, which is very different from the <em>compile-time</em> type of the <code>elt</code> variable.</p>\n<p>To give a simpler example, consider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object obj = &quot;test&quot;;\n// Prints true, because at execution time the value of obj is a reference\n// to a String object.\nSystem.out.println(obj instanceof String);\n\n// But this won't compile, because the *compile-time* type of obj is Object,\n// not String.\nSystem.out.println(obj.length());\n</code></pre>\n"}],"owner":{"account_id":15206782,"reputation":61,"user_id":10972954,"display_name":"clorzs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686740056,"creation_date":1686739575,"question_id":76472698,"body_markdown":"I am confused due to this example found on a book saying that the type of &quot;elt&quot; is Object which I think is False. I believe it is Integer.\r\n\r\n    List list = new ArrayList&lt;Integer&gt;();\r\n    for(var el:list)\r\n        System.out.println(el);\r\n\r\nBut when I add an element to the list and check whether the type is Integer it prints True(Integer)\r\n\r\n    List list = new ArrayList&lt;Integer&gt;();\r\n            var x1 = 1;\r\n            list.add(x1);\r\n            for(var el:list)\r\n                System.out.println(el instanceof Integer);\r\n\r\nI know by default List elements are of Type Object if no type is specified but in the example above the Integer type is specified on the right side so &quot;el&quot; type is Integer right?\r\n","title":"Type of elements of list created without a type","body":"<p>I am confused due to this example found on a book saying that the type of &quot;elt&quot; is Object which I think is False. I believe it is Integer.</p>\n<pre><code>List list = new ArrayList&lt;Integer&gt;();\nfor(var el:list)\n    System.out.println(el);\n</code></pre>\n<p>But when I add an element to the list and check whether the type is Integer it prints True(Integer)</p>\n<pre><code>List list = new ArrayList&lt;Integer&gt;();\n        var x1 = 1;\n        list.add(x1);\n        for(var el:list)\n            System.out.println(el instanceof Integer);\n</code></pre>\n<p>I know by default List elements are of Type Object if no type is specified but in the example above the Integer type is specified on the right side so &quot;el&quot; type is Integer right?</p>\n"},{"tags":["java","jackson","jersey","jackson2"],"answers":[{"comments":[{"owner":{"account_id":14096309,"reputation":41,"user_id":10182984,"display_name":"user10182984"},"score":0,"creation_date":1533559937,"post_id":51708021,"comment_id":90377073,"body_markdown":"I tried that. It is still giving me errors. Even for property &quot;name&quot; !","body":"I tried that. It is still giving me errors. Even for property &quot;name&quot; !"}],"tags":[],"owner":{"account_id":11164402,"reputation":541,"user_id":8193521,"display_name":"olgunyldz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533597069,"creation_date":1533559643,"answer_id":51708021,"question_id":51707854,"body_markdown":"You should change `@JsonProperty(&quot;fetchOperations&quot;)` to \t`@JsonProperty(&quot;Operations&quot;)`.","title":"Conflicting property name definitions in jersey ,using Jackson 2.9.6","body":"<p>You should change <code>@JsonProperty(\"fetchOperations\")</code> to     <code>@JsonProperty(\"Operations\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":14096309,"reputation":41,"user_id":10182984,"display_name":"user10182984"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533597133,"creation_date":1533561269,"answer_id":51708548,"question_id":51707854,"body_markdown":"Well I found the solution to this answer. FINALLY!! Firstly, I had to remove all the `@JsonProperty` from all my methods(getters and setters). Now only the fields in my class are annotated by `@JsonProperty`.\r\nAnd then in the `Objectmapper` object, had to add the configure line.\r\n \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Conflicting property name definitions in jersey ,using Jackson 2.9.6","body":"<p>Well I found the solution to this answer. FINALLY!! Firstly, I had to remove all the <code>@JsonProperty</code> from all my methods(getters and setters). Now only the fields in my class are annotated by <code>@JsonProperty</code>.\nAnd then in the <code>Objectmapper</code> object, had to add the configure line.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2602354,"reputation":2547,"user_id":2254382,"display_name":"melwil"},"score":2,"creation_date":1686751307,"post_id":76472730,"comment_id":134842421,"body_markdown":"It would be great if you could include the parts of the code that you see are wrong in the answer, both since the question may be changed and your answer can get out of sync with it and that it is easier to understand how this answer may help solve the problem. Appreciate that you take the time to answer questions!","body":"It would be great if you could include the parts of the code that you see are wrong in the answer, both since the question may be changed and your answer can get out of sync with it and that it is easier to understand how this answer may help solve the problem. Appreciate that you take the time to answer questions!"},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1686999038,"post_id":76472730,"comment_id":134877728,"body_markdown":"As itâ€™s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As itâ€™s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76472730/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16682105,"reputation":1,"user_id":12056919,"display_name":"Ivanka Tashkova"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686739893,"creation_date":1686739893,"answer_id":76472730,"question_id":51707854,"body_markdown":"Had a similar issue. You are annotating a class field and its getter with different values in @JsonProperty and that resulted in a conflict. ","title":"Conflicting property name definitions in jersey ,using Jackson 2.9.6","body":"<p>Had a similar issue. You are annotating a class field and its getter with different values in @JsonProperty and that resulted in a conflict.</p>\n"}],"owner":{"account_id":14096309,"reputation":41,"user_id":10182984,"display_name":"user10182984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5530,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1686739893,"creation_date":1533559125,"question_id":51707854,"body_markdown":"I have a REST service with the following modal:\r\n\r\n    \r\n    /**\r\n     * Agent\r\n     */\r\n    \r\n    public class Agent {\r\n      @JsonProperty(&quot;name&quot;)\r\n      private String name = null;\r\n    \r\n      @JsonProperty(&quot;type&quot;)\r\n      private String type = null;\r\n    \r\n      @JsonProperty(&quot;description&quot;)\r\n      private String description = null;\r\n    \r\n      @JsonProperty(&quot;status&quot;)\r\n      private String status = null;\r\n    \r\n      @JsonProperty(&quot;meta&quot;)\r\n      private Object meta = null;\r\n    \r\n      @JsonProperty(&quot;Operations&quot;)\r\n      private List&lt;OperationsListInner&gt; operations = null;\r\n    \r\n      @JsonProperty(&quot;Properties&quot;)\r\n      private List&lt;Object&gt; properties = null;\r\n    \r\n    \r\n    \r\n      public Agent name(String name) {\r\n        this.name = name;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get name\r\n       * @return name\r\n       **/\r\n      @JsonProperty(&quot;name&quot;)\r\n    \r\n      @ApiModelProperty(required = true, value = &quot;&quot;)\r\n      @NotNull\r\n      public String getName() {\r\n        return name;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      public Agent type(String type) {\r\n        this.type = type;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get type\r\n       * @return type\r\n       **/\r\n      @JsonProperty(&quot;type&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public String getType() {\r\n        return type;\r\n      }\r\n    \r\n      public void setType(String type) {\r\n        this.type = type;\r\n      }\r\n    \r\n      public Agent description(String description) {\r\n        this.description = description;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get description\r\n       * @return description\r\n       **/\r\n      @JsonProperty(&quot;description&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public String getDescription() {\r\n        return description;\r\n      }\r\n    \r\n      public void setDescription(String description) {\r\n        this.description = description;\r\n      }\r\n    \r\n      public Agent status(String status) {\r\n        this.status = status;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get status\r\n       * @return status\r\n       **/\r\n      @JsonProperty(&quot;status&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public String getStatus() {\r\n        return status;\r\n      }\r\n    \r\n      public void setStatus(String status) {\r\n        this.status = status;\r\n      }\r\n    \r\n      public Agent meta(Object meta) {\r\n        this.meta = meta;\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get meta\r\n       * @return meta\r\n       **/\r\n      @JsonProperty(&quot;meta&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public Object getMeta() {\r\n        return meta;\r\n      }\r\n    \r\n      public void setMeta(Object meta) {\r\n        this.meta = meta;\r\n      }\r\n    \r\n      public Agent operations(List&lt;OperationsListInner&gt; operations) {\r\n        this.operations = operations;\r\n        return this;\r\n      }\r\n    \r\n      public Agent addOperationsItem(OperationsListInner operationsItem) {\r\n        if (this.operations == null) {\r\n          this.operations = new ArrayList&lt;&gt;();\r\n        }\r\n        this.operations.add(operationsItem);\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get operations\r\n       * @return operations\r\n       **/\r\n      @JsonProperty(&quot;fetchOperations&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public List&lt;OperationsListInner&gt; getOperations() {\r\n        return operations;\r\n      }\r\n    \r\n      public void setOperations(List&lt;OperationsListInner&gt; operations) {\r\n        this.operations = operations;\r\n      }\r\n    \r\n      public Agent properties(List&lt;Object&gt; properties) {\r\n        this.properties = properties;\r\n        return this;\r\n      }\r\n    \r\n      public Agent addPropertiesItem(Object propertiesItem) {\r\n        if (this.properties == null) {\r\n          this.properties = new ArrayList&lt;&gt;();\r\n        }\r\n        this.properties.add(propertiesItem);\r\n        return this;\r\n      }\r\n    \r\n      /**\r\n       * Get properties\r\n       * @return properties\r\n       **/\r\n      @JsonProperty(&quot;Properties&quot;)\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      public List&lt;Object&gt; getProperties() {\r\n        return properties;\r\n      }\r\n    \r\n      public void setProperties(List&lt;Object&gt; properties) {\r\n        this.properties = properties;\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        Agent agent = (Agent) o;\r\n        return Objects.equals(this.name, agent.name) &amp;&amp;\r\n            Objects.equals(this.type, agent.type) &amp;&amp;\r\n            Objects.equals(this.description, agent.description) &amp;&amp;\r\n            Objects.equals(this.status, agent.status) &amp;&amp;\r\n            Objects.equals(this.meta, agent.meta) &amp;&amp;\r\n            Objects.equals(this.operations, agent.operations) &amp;&amp;\r\n            Objects.equals(this.properties, agent.properties);\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(name, type, description, status, meta, operations, properties);\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class Agent {\\n&quot;);\r\n    \r\n        sb.append(&quot;    name: &quot;).append(toIndentedString(name)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    type: &quot;).append(toIndentedString(type)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    description: &quot;).append(toIndentedString(description)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    status: &quot;).append(toIndentedString(status)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    meta: &quot;).append(toIndentedString(meta)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    operations: &quot;).append(toIndentedString(operations)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    properties: &quot;).append(toIndentedString(properties)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    }\r\n\r\nnow when i am trying to get this modal into my REST client, I am getting a conflicting property name error. This is happening in my GET http request.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name &#39;operations&#39;): found multiple explicit names: [Operations, fetchOperations], but also implicit accessor: [method com.agentsDB.api.model.individualAgents.Agent#setOperations(1 params)][visible=true,ignore=false,explicitName=false]\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder._explode(POJOPropertyBuilder.java:1062)\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.explode(POJOPropertyBuilder.java:1043)\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector._renameProperties(POJOPropertiesCollector.java:798)\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.collectAll(POJOPropertiesCollector.java:324)\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getPropertyMap(POJOPropertiesCollector.java:287)\r\n    \tat com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getProperties(POJOPropertiesCollector.java:170)\r\n    \tat com.fasterxml.jackson.databind.introspect.BasicBeanDescription._properties(BasicBeanDescription.java:164)\r\n    \tat com.fasterxml.jackson.databind.introspect.BasicBeanDescription.findProperties(BasicBeanDescription.java:239)\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._findCreatorsFromProperties(BasicDeserializerFactory.java:346)\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:330)\r\n    \tat com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:255)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:214)\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:137)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:411)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:349)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n    \tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:477)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4178)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3997)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)\r\n    \tat com.agentsDB.api.JsonUtil.convertJSONtoJAVA(JsonUtil.java:34)\r\n    \tat com.agentsDB.api.apiClientInvoke.invokeAPI(apiClientInvoke.java:54)\r\n    \tat com.agentsDB.api.main.main(main.java:25)\r\n    \r\n   \r\nI already read a lot of post in this regard but couldn&#39;t find any solution to this. I an using JACKSOn 2.9.6 and my JsonUtil is as follow which i have used for serialization and deserialization .\r\n\r\n \r\n\r\n    public class JsonUtil {\r\n    \r\n    private static ObjectMapper mapper;\r\n    static {\r\n        mapper = new ObjectMapper();\r\n    }\r\n    \r\n    public  String convertJAVAtoJSON(Object object){\r\n        String JSONresult = &quot;&quot;;\r\n        try{\r\n            JSONresult = mapper.writeValueAsString(object);\r\n        } catch (JsonProcessingException e){\r\n            System.out.println(&quot;exception occured&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        return JSONresult;\r\n    \r\n    }\r\n    \r\n    \r\n    public  &lt;T&gt; T convertJSONtoJAVA(String jsonString, Class&lt;T&gt; returnTypeClass){\r\n        T javaResult = null;\r\n        try {\r\n          javaResult = mapper.readValue(jsonString,returnTypeClass);\r\n    \r\n        }catch(IOException e){\r\n           e.printStackTrace();\r\n        }\r\n    \r\n       return javaResult;\r\n    }\r\n\r\ncan anyone help me resolve it? I am using jersey+Jackson.\r\n","title":"Conflicting property name definitions in jersey ,using Jackson 2.9.6","body":"<p>I have a REST service with the following modal:</p>\n\n<pre><code>/**\n * Agent\n */\n\npublic class Agent {\n  @JsonProperty(\"name\")\n  private String name = null;\n\n  @JsonProperty(\"type\")\n  private String type = null;\n\n  @JsonProperty(\"description\")\n  private String description = null;\n\n  @JsonProperty(\"status\")\n  private String status = null;\n\n  @JsonProperty(\"meta\")\n  private Object meta = null;\n\n  @JsonProperty(\"Operations\")\n  private List&lt;OperationsListInner&gt; operations = null;\n\n  @JsonProperty(\"Properties\")\n  private List&lt;Object&gt; properties = null;\n\n\n\n  public Agent name(String name) {\n    this.name = name;\n    return this;\n  }\n\n  /**\n   * Get name\n   * @return name\n   **/\n  @JsonProperty(\"name\")\n\n  @ApiModelProperty(required = true, value = \"\")\n  @NotNull\n  public String getName() {\n    return name;\n  }\n\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public Agent type(String type) {\n    this.type = type;\n    return this;\n  }\n\n  /**\n   * Get type\n   * @return type\n   **/\n  @JsonProperty(\"type\")\n  @ApiModelProperty(value = \"\")\n  public String getType() {\n    return type;\n  }\n\n  public void setType(String type) {\n    this.type = type;\n  }\n\n  public Agent description(String description) {\n    this.description = description;\n    return this;\n  }\n\n  /**\n   * Get description\n   * @return description\n   **/\n  @JsonProperty(\"description\")\n  @ApiModelProperty(value = \"\")\n  public String getDescription() {\n    return description;\n  }\n\n  public void setDescription(String description) {\n    this.description = description;\n  }\n\n  public Agent status(String status) {\n    this.status = status;\n    return this;\n  }\n\n  /**\n   * Get status\n   * @return status\n   **/\n  @JsonProperty(\"status\")\n  @ApiModelProperty(value = \"\")\n  public String getStatus() {\n    return status;\n  }\n\n  public void setStatus(String status) {\n    this.status = status;\n  }\n\n  public Agent meta(Object meta) {\n    this.meta = meta;\n    return this;\n  }\n\n  /**\n   * Get meta\n   * @return meta\n   **/\n  @JsonProperty(\"meta\")\n  @ApiModelProperty(value = \"\")\n  public Object getMeta() {\n    return meta;\n  }\n\n  public void setMeta(Object meta) {\n    this.meta = meta;\n  }\n\n  public Agent operations(List&lt;OperationsListInner&gt; operations) {\n    this.operations = operations;\n    return this;\n  }\n\n  public Agent addOperationsItem(OperationsListInner operationsItem) {\n    if (this.operations == null) {\n      this.operations = new ArrayList&lt;&gt;();\n    }\n    this.operations.add(operationsItem);\n    return this;\n  }\n\n  /**\n   * Get operations\n   * @return operations\n   **/\n  @JsonProperty(\"fetchOperations\")\n  @ApiModelProperty(value = \"\")\n  public List&lt;OperationsListInner&gt; getOperations() {\n    return operations;\n  }\n\n  public void setOperations(List&lt;OperationsListInner&gt; operations) {\n    this.operations = operations;\n  }\n\n  public Agent properties(List&lt;Object&gt; properties) {\n    this.properties = properties;\n    return this;\n  }\n\n  public Agent addPropertiesItem(Object propertiesItem) {\n    if (this.properties == null) {\n      this.properties = new ArrayList&lt;&gt;();\n    }\n    this.properties.add(propertiesItem);\n    return this;\n  }\n\n  /**\n   * Get properties\n   * @return properties\n   **/\n  @JsonProperty(\"Properties\")\n  @ApiModelProperty(value = \"\")\n  public List&lt;Object&gt; getProperties() {\n    return properties;\n  }\n\n  public void setProperties(List&lt;Object&gt; properties) {\n    this.properties = properties;\n  }\n\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    Agent agent = (Agent) o;\n    return Objects.equals(this.name, agent.name) &amp;&amp;\n        Objects.equals(this.type, agent.type) &amp;&amp;\n        Objects.equals(this.description, agent.description) &amp;&amp;\n        Objects.equals(this.status, agent.status) &amp;&amp;\n        Objects.equals(this.meta, agent.meta) &amp;&amp;\n        Objects.equals(this.operations, agent.operations) &amp;&amp;\n        Objects.equals(this.properties, agent.properties);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(name, type, description, status, meta, operations, properties);\n  }\n\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"class Agent {\\n\");\n\n    sb.append(\"    name: \").append(toIndentedString(name)).append(\"\\n\");\n    sb.append(\"    type: \").append(toIndentedString(type)).append(\"\\n\");\n    sb.append(\"    description: \").append(toIndentedString(description)).append(\"\\n\");\n    sb.append(\"    status: \").append(toIndentedString(status)).append(\"\\n\");\n    sb.append(\"    meta: \").append(toIndentedString(meta)).append(\"\\n\");\n    sb.append(\"    operations: \").append(toIndentedString(operations)).append(\"\\n\");\n    sb.append(\"    properties: \").append(toIndentedString(properties)).append(\"\\n\");\n    sb.append(\"}\");\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(Object o) {\n    if (o == null) {\n      return \"null\";\n    }\n    return o.toString().replace(\"\\n\", \"\\n    \");\n  }\n}\n</code></pre>\n\n<p>now when i am trying to get this modal into my REST client, I am getting a conflicting property name error. This is happening in my GET http request.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name 'operations'): found multiple explicit names: [Operations, fetchOperations], but also implicit accessor: [method com.agentsDB.api.model.individualAgents.Agent#setOperations(1 params)][visible=true,ignore=false,explicitName=false]\n    at com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder._explode(POJOPropertyBuilder.java:1062)\n    at com.fasterxml.jackson.databind.introspect.POJOPropertyBuilder.explode(POJOPropertyBuilder.java:1043)\n    at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector._renameProperties(POJOPropertiesCollector.java:798)\n    at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.collectAll(POJOPropertiesCollector.java:324)\n    at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getPropertyMap(POJOPropertiesCollector.java:287)\n    at com.fasterxml.jackson.databind.introspect.POJOPropertiesCollector.getProperties(POJOPropertiesCollector.java:170)\n    at com.fasterxml.jackson.databind.introspect.BasicBeanDescription._properties(BasicBeanDescription.java:164)\n    at com.fasterxml.jackson.databind.introspect.BasicBeanDescription.findProperties(BasicBeanDescription.java:239)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._findCreatorsFromProperties(BasicDeserializerFactory.java:346)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory._constructDefaultValueInstantiator(BasicDeserializerFactory.java:330)\n    at com.fasterxml.jackson.databind.deser.BasicDeserializerFactory.findValueInstantiator(BasicDeserializerFactory.java:255)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.buildBeanDeserializer(BeanDeserializerFactory.java:214)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:137)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:411)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:349)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:477)\n    at com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(ObjectMapper.java:4178)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:3997)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)\n    at com.agentsDB.api.JsonUtil.convertJSONtoJAVA(JsonUtil.java:34)\n    at com.agentsDB.api.apiClientInvoke.invokeAPI(apiClientInvoke.java:54)\n    at com.agentsDB.api.main.main(main.java:25)\n</code></pre>\n\n<p>I already read a lot of post in this regard but couldn't find any solution to this. I an using JACKSOn 2.9.6 and my JsonUtil is as follow which i have used for serialization and deserialization .</p>\n\n<pre><code>public class JsonUtil {\n\nprivate static ObjectMapper mapper;\nstatic {\n    mapper = new ObjectMapper();\n}\n\npublic  String convertJAVAtoJSON(Object object){\n    String JSONresult = \"\";\n    try{\n        JSONresult = mapper.writeValueAsString(object);\n    } catch (JsonProcessingException e){\n        System.out.println(\"exception occured\");\n        e.printStackTrace();\n    }\n    return JSONresult;\n\n}\n\n\npublic  &lt;T&gt; T convertJSONtoJAVA(String jsonString, Class&lt;T&gt; returnTypeClass){\n    T javaResult = null;\n    try {\n      javaResult = mapper.readValue(jsonString,returnTypeClass);\n\n    }catch(IOException e){\n       e.printStackTrace();\n    }\n\n   return javaResult;\n}\n</code></pre>\n\n<p>can anyone help me resolve it? I am using jersey+Jackson.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","android-debug"],"comments":[{"owner":{"account_id":23773873,"reputation":1125,"user_id":17787605,"display_name":"bylazy"},"score":0,"creation_date":1686735237,"post_id":76471663,"comment_id":134838786,"body_markdown":"What is `vm.uiStateUI`? Also you are not using MutableStateList since `testFeedList` is `MutableList&lt;Feed&gt;`.","body":"What is <code>vm.uiStateUI</code>? Also you are not using MutableStateList since <code>testFeedList</code> is <code>MutableList&lt;Feed&gt;</code>."},{"owner":{"account_id":16425686,"reputation":149,"user_id":11953017,"display_name":"Himanshu Bansal"},"score":0,"creation_date":1686735419,"post_id":76471663,"comment_id":134838829,"body_markdown":"Do not typecast MutableList to List, it will be treated as static data and not a list with mutable state","body":"Do not typecast MutableList to List, it will be treated as static data and not a list with mutable state"},{"owner":{"account_id":16425686,"reputation":149,"user_id":11953017,"display_name":"Himanshu Bansal"},"score":0,"creation_date":1686735511,"post_id":76471663,"comment_id":134838842,"body_markdown":"Add a snippet of composable in the UI where you are accessing the `testFeedList`","body":"Add a snippet of composable in the UI where you are accessing the <code>testFeedList</code>"},{"owner":{"account_id":24551226,"reputation":17,"user_id":18460355,"display_name":"Srijan Khadka"},"score":0,"creation_date":1686736254,"post_id":76471663,"comment_id":134838995,"body_markdown":"@HimanshuBansal feedListByCategory = uiState.testFeedList!!","body":"@HimanshuBansal feedListByCategory = uiState.testFeedList!!"},{"owner":{"account_id":11834347,"reputation":12400,"user_id":9636037,"display_name":"Abhimanyu"},"score":0,"creation_date":1686743562,"post_id":76471663,"comment_id":134840490,"body_markdown":"Provide a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>"}],"owner":{"account_id":24551226,"reputation":17,"user_id":18460355,"display_name":"Srijan Khadka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686739010,"creation_date":1686732275,"question_id":76471663,"body_markdown":"I have this state `var testFeedList : MutableList&lt;Feed&gt;? = mutableStateListOf()`\r\nInside the viewModel \r\n\r\n     override fun onGetFeedList() {\r\n                    viewModelScope.launch(Dispatchers.Main) {\r\n                        repository.getFeedListByCategory().collect { feedData -&gt;\r\n    //                        state.feedList.value = feedData.data\r\n                            state.testFeedList = feedData.data\r\n                            setState(state)\r\n                            Logger.log(\r\n                                &quot;GetFeedResult Inside VM TESTFEED: &quot; + GsonUtils.toString(\r\n                                    state.testFeedList\r\n                                )\r\n                            )\r\n                            Logger.log(\r\n                                &quot;FEEDDATA Inside VM: &quot; + GsonUtils.toString(\r\n                                    feedData.data\r\n                                )\r\n                            )\r\n    \r\n                        }\r\n                    }\r\n                }\r\n\r\nI have logged and data is coming. The Problem here is I have two Screens, In the first i Show the list of feed and in second i do CRUD operations. When i update the some of the data in the list and return back to the First Screen(List of Feed Screen), I don&#39;t see changes, When i close the app and see again i see the changes, Why isn&#39;t the recomposition occuring? Recomposition occurs when i add the item but don&#39;t when edit it?\r\n\r\nAlso  `val uiState by vm.uiStateUI.collectAsState()` this is how i called the state and `uiState.testFeedList as List&lt;Feed&gt;` this is how i called for the list.","title":"Recomposition doesn&#39;t trigger even after using mutablestatelistof in Jetpack compose While Updating the Values","body":"<p>I have this state <code>var testFeedList : MutableList&lt;Feed&gt;? = mutableStateListOf()</code>\nInside the viewModel</p>\n<pre><code> override fun onGetFeedList() {\n                viewModelScope.launch(Dispatchers.Main) {\n                    repository.getFeedListByCategory().collect { feedData -&gt;\n//                        state.feedList.value = feedData.data\n                        state.testFeedList = feedData.data\n                        setState(state)\n                        Logger.log(\n                            &quot;GetFeedResult Inside VM TESTFEED: &quot; + GsonUtils.toString(\n                                state.testFeedList\n                            )\n                        )\n                        Logger.log(\n                            &quot;FEEDDATA Inside VM: &quot; + GsonUtils.toString(\n                                feedData.data\n                            )\n                        )\n\n                    }\n                }\n            }\n</code></pre>\n<p>I have logged and data is coming. The Problem here is I have two Screens, In the first i Show the list of feed and in second i do CRUD operations. When i update the some of the data in the list and return back to the First Screen(List of Feed Screen), I don't see changes, When i close the app and see again i see the changes, Why isn't the recomposition occuring? Recomposition occurs when i add the item but don't when edit it?</p>\n<p>Also  <code>val uiState by vm.uiStateUI.collectAsState()</code> this is how i called the state and <code>uiState.testFeedList as List&lt;Feed&gt;</code> this is how i called for the list.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7788,"page":371,"page_size":100}
