{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1681778385,"post_id":76040253,"comment_id":134108652,"body_markdown":"[`String#lastIndexOf`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#lastIndexOf(int)), [`String#substring`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#substring(int))?","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#lastIndexOf(int)\" rel=\"nofollow noreferrer\"><code>String#lastIndexOf</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\"><code>String#substring</code></a>?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681778500,"post_id":76040253,"comment_id":134108663,"body_markdown":"`url.substring(url.lastIndexOf(&quot;/&quot;))` - just beware that you should the result of `lastIndexOf` and make it doesn&#39;t return a value `&lt; 0` and this will include the `/` character at the start of resulting string","body":"<code>url.substring(url.lastIndexOf(&quot;&#47;&quot;))</code> - just beware that you should the result of <code>lastIndexOf</code> and make it doesn&#39;t return a value <code>&lt; 0</code> and this will include the <code>&#47;</code> character at the start of resulting string"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1681778772,"post_id":76040253,"comment_id":134108688,"body_markdown":"No. There are no unconstrained pointers. And strings are immutable. You need to make a new string.  (What that does behind the scenes is not defined).","body":"No. There are no unconstrained pointers. And strings are immutable. You need to make a new string.  (What that does behind the scenes is not defined)."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681779010,"post_id":76040253,"comment_id":134108718,"body_markdown":"Delete the `j` loop and change `break;` to `return url.substring(i + 1);`","body":"Delete the <code>j</code> loop and change <code>break;</code> to <code>return url.substring(i + 1);</code>"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1681779260,"post_id":76040253,"comment_id":134108746,"body_markdown":"@shmosel - indeed, thus my parenthetical.  But one should banish such thoughts when programming. All I &quot;know&quot; to be true is what it says in the documented interface.","body":"@shmosel - indeed, thus my parenthetical.  But one should banish such thoughts when programming. All I &quot;know&quot; to be true is what it says in the documented interface."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1681782482,"post_id":76040253,"comment_id":134109106,"body_markdown":"@shmosel: I don&#39;t believe that&#39;s been true [since Java 7](https://stackoverflow.com/a/15612188/869736).","body":"@shmosel: I don&#39;t believe that&#39;s been true <a href=\"https://stackoverflow.com/a/15612188/869736\">since Java 7</a>."}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681779847,"post_id":76040323,"comment_id":134108809,"body_markdown":"Context is everything, I personally, would return the `url` as is if it didn&#39;t contain a `/` or throw an exception, but as I said, context is everything ;)","body":"Context is everything, I personally, would return the <code>url</code> as is if it didn&#39;t contain a <code>&#47;</code> or throw an exception, but as I said, context is everything ;)"},{"owner":{"account_id":28334638,"reputation":13,"user_id":21668374,"display_name":"AGEERRTT"},"score":0,"creation_date":1681840647,"post_id":76040323,"comment_id":134120784,"body_markdown":"My objective was to save time by starting from the end of the url because that&#39;s where the filename being accessed is and just setting a pointer to the first forward slash occurrence so it doesn&#39;t need to copy the memory again, as Arfur Narf said, that&#39;s impossible in Java.","body":"My objective was to save time by starting from the end of the url because that&#39;s where the filename being accessed is and just setting a pointer to the first forward slash occurrence so it doesn&#39;t need to copy the memory again, as Arfur Narf said, that&#39;s impossible in Java."}],"tags":[],"owner":{"account_id":14587217,"reputation":43,"user_id":10535590,"display_name":"Teletubbies"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681779562,"creation_date":1681779562,"answer_id":76040323,"question_id":76040253,"body_markdown":"    public static String getFileName(String url) {\r\n        if (url.contains(&quot;/&quot;)) {\r\n            return url.substring(url.lastIndexOf(&quot;/&quot;) + 1);\r\n        }\r\n        return &quot;not a valid url&quot;;\r\n    }\r\n\r\n","title":"Can i set up a pointer to a string somewhat in java","body":"<pre><code>public static String getFileName(String url) {\n    if (url.contains(&quot;/&quot;)) {\n        return url.substring(url.lastIndexOf(&quot;/&quot;) + 1);\n    }\n    return &quot;not a valid url&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":28334638,"reputation":13,"user_id":21668374,"display_name":"AGEERRTT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1681779562,"creation_date":1681778290,"question_id":76040253,"body_markdown":"I have the following function.\r\n```\r\nstatic String getFilenameURL(String url) {\r\n    String ret = &quot;&quot;;\r\n    for (int i = url.length() - 1; i &gt;= 0; i--) {\r\n      if (url.charAt(i) == &#39;/&#39;) {\r\n        for (int j = i + 1; url.length() &gt; j; j++) {\r\n          ret += url.charAt(j);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    return ret;\r\n  }\r\n```\r\n\r\nIt goes backwards looking for a Forward slash then copies the string from the backslash.\r\nBut in C you could just put a pointer to the part you want to return instead of copying\r\nfrom bottom up to the String end, is there an equivalent in Java for this? ","title":"Can i set up a pointer to a string somewhat in java","body":"<p>I have the following function.</p>\n<pre><code>static String getFilenameURL(String url) {\n    String ret = &quot;&quot;;\n    for (int i = url.length() - 1; i &gt;= 0; i--) {\n      if (url.charAt(i) == '/') {\n        for (int j = i + 1; url.length() &gt; j; j++) {\n          ret += url.charAt(j);\n        }\n        break;\n      }\n    }\n    return ret;\n  }\n</code></pre>\n<p>It goes backwards looking for a Forward slash then copies the string from the backslash.\nBut in C you could just put a pointer to the part you want to return instead of copying\nfrom bottom up to the String end, is there an equivalent in Java for this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681778448,"creation_date":1659654490,"answer_id":73243076,"question_id":73242941,"body_markdown":"I copied pasted your instructions/your code:\r\n\r\n1. If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.\r\n2. If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n3. If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.\r\n4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\n        public class LeapYear {\r\n    \r\n          public static boolean isLeapYear (int year) {\r\n            //0) greater than or equal to 1 and less than or equal to 9999.\r\n            if (year &lt; 1 || year &gt; 9999) {\r\n              return false;\r\n            }\r\n    \r\n            //1) If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5\r\n            if (year % 4 != 0 ) {\r\n              return false;\r\n            }\r\n    \r\n            //2) If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n            if (year % 100 != 0) {\r\n              return true;\r\n            }\r\n    \r\n            //3) If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5\r\n            if (year % 400 != 0) {\r\n              return false;\r\n            }\r\n    \r\n            //4) The year is a leap year (it has 366 days)\r\n            return true;\r\n          }\r\n        }\r\n\r\nOften, a &quot;trick&quot; to simplify your expressions is to realize things like:\r\n* &quot;x is greater than or equal to 1&quot; is equivalent to &quot;x is not less than 1&quot;\r\n* &quot;y is evenly divisible by 4&quot; is equivalent to &quot;not y % 4 != 0&quot; \r\n* Etc.","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>I copied pasted your instructions/your code:</p>\n<ol>\n<li><p>If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.</p>\n</li>\n<li><p>If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.</p>\n</li>\n<li><p>If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.</p>\n</li>\n<li><p>The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</p>\n</li>\n<li><p>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</p>\n<pre><code> public class LeapYear {\n\n   public static boolean isLeapYear (int year) {\n     //0) greater than or equal to 1 and less than or equal to 9999.\n     if (year &lt; 1 || year &gt; 9999) {\n       return false;\n     }\n\n     //1) If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5\n     if (year % 4 != 0 ) {\n       return false;\n     }\n\n     //2) If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\n     if (year % 100 != 0) {\n       return true;\n     }\n\n     //3) If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5\n     if (year % 400 != 0) {\n       return false;\n     }\n\n     //4) The year is a leap year (it has 366 days)\n     return true;\n   }\n }\n</code></pre>\n</li>\n</ol>\n<p>Often, a &quot;trick&quot; to simplify your expressions is to realize things like:</p>\n<ul>\n<li>&quot;x is greater than or equal to 1&quot; is equivalent to &quot;x is not less than 1&quot;</li>\n<li>&quot;y is evenly divisible by 4&quot; is equivalent to &quot;not y % 4 != 0&quot;</li>\n<li>Etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659661884,"creation_date":1659656693,"answer_id":73243268,"question_id":73242941,"body_markdown":"If you rearrange your steps slightly, you can do it in fewer steps as follows.\r\n```\r\npublic class LeapYear {\r\n\r\n   public static boolean isLeapYear (int year) {\r\n       // check range - only years between 1 and 9999 inclusive allowed\r\n      if ( year &lt; 1 || year &gt; 9999) {\r\n            return false;\r\n       }\r\n\r\n      // If the year is evenly divisible by 400 return true.\r\n      if (year % 400 == 0) {\r\n          return true;\r\n      }\r\n\r\n      // If the year is evenly divisible 100 return false\r\n      if (year % 100 == 0) {\r\n         return false;\r\n      }\r\n\r\n      // if year is divisible by 4 return true/ else false.\r\n      \r\n      return year % 4 == 0; //returns true or false depending on year\r\n   }\r\n}\r\n\r\n","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>If you rearrange your steps slightly, you can do it in fewer steps as follows.</p>\n<pre><code>public class LeapYear {\n\n   public static boolean isLeapYear (int year) {\n       // check range - only years between 1 and 9999 inclusive allowed\n      if ( year &lt; 1 || year &gt; 9999) {\n            return false;\n       }\n\n      // If the year is evenly divisible by 400 return true.\n      if (year % 400 == 0) {\n          return true;\n      }\n\n      // If the year is evenly divisible 100 return false\n      if (year % 100 == 0) {\n         return false;\n      }\n\n      // if year is divisible by 4 return true/ else false.\n      \n      return year % 4 == 0; //returns true or false depending on year\n   }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22040961,"reputation":1343,"user_id":16306754,"display_name":"The Blind Hawk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679822073,"creation_date":1659664417,"answer_id":73243848,"question_id":73242941,"body_markdown":"First thing I notice is:\r\n```\r\n//Out of range\r\nif ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n   return false;\r\n}\r\n```\r\n\r\nShould be:\r\n\r\n```\r\n//Out of range\r\nif ( year &lt; 1 || year &gt; 9999) {\r\n   return false;\r\n}\r\n```\r\nBecause it&#39;s written the wrong way round. Aside from that, the code seems fine, although it could be improved.\r\n\r\nCan you also give an example of how the output you are getting differs from the output you want?\r\n","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>First thing I notice is:</p>\n<pre><code>//Out of range\nif ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n   return false;\n}\n</code></pre>\n<p>Should be:</p>\n<pre><code>//Out of range\nif ( year &lt; 1 || year &gt; 9999) {\n   return false;\n}\n</code></pre>\n<p>Because it's written the wrong way round. Aside from that, the code seems fine, although it could be improved.</p>\n<p>Can you also give an example of how the output you are getting differs from the output you want?</p>\n"}],"owner":{"account_id":25981633,"reputation":1,"user_id":19695236,"display_name":"ComputerScienceStudent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1681778448,"creation_date":1659653127,"question_id":73242941,"body_markdown":"I am unable to find out why my code isn&#39;t working. I have figured out another way to solve this problem, but I want to understand why it won&#39;t work as I did. That&#39;s all I want to understand. I don&#39;t need it to be solved.\r\n\r\nLeap Year Calculator\r\nWrite a method isLeapYear with a parameter of type int named year.\r\n\r\nThe parameter needs to be greater than or equal to 1 and less than or equal to 9999.\r\n\r\nIf the parameter is not in that range return false.\r\n\r\nOtherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.\r\n\r\nTo determine whether a year is a leap year, follow these steps: \r\n1. If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.\r\n2. If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.\r\n3. If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.\r\n4. The year is a leap year (it has 366 days). The method isLeapYear needs to return true.\r\n5. The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.\r\n\r\n\r\n\r\nThe following years are not leap years:\r\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\r\nThis is because they are evenly divisible by 100 but not by 400.\r\n\r\n\r\nThe following years are leap years:\r\n1600, 2000, 2400\r\nThis is because they are evenly divisible by both 100 and 400.\r\n\r\n\r\n\r\nExamples of input/output:\r\n\r\nisLeapYear(-1600); → should return false since the parameter is not in range (1-9999)\r\n\r\nisLeapYear(1600); → should return true since 1600 is a leap year\r\n\r\nisLeapYear(2017); → should return false since 2017 is not a leap year\r\n\r\nisLeapYear(2000);  → should return true because 2000 is a leap year \r\n\r\nNOTE: The method isLeapYear needs to be defined as public static ​like we have been doing so far in the course.\r\nNOTE: Do not add a  main method to solution code.\r\n\r\n  \r\n\r\n&gt;     My Code:\r\n\r\n    \r\n    public class LeapYear {\r\n    \r\n        public static boolean isLeapYear (int year) {\r\n    \r\n            //Out of range\r\n            if ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\r\n                return false;\r\n            }\r\n            //calculating if the year is a leap year or not\r\n            if ( year % 4 == 0 ) {\r\n                if ( year % 100 == 0) {\r\n                    if ( year % 400 == 0) {\r\n                        return true;\r\n                    }else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    return true;\r\n                }\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }","title":"Java Udemy course leap year calculator - can&#39;t figure out what am I doing wrong","body":"<p>I am unable to find out why my code isn't working. I have figured out another way to solve this problem, but I want to understand why it won't work as I did. That's all I want to understand. I don't need it to be solved.</p>\n<p>Leap Year Calculator\nWrite a method isLeapYear with a parameter of type int named year.</p>\n<p>The parameter needs to be greater than or equal to 1 and less than or equal to 9999.</p>\n<p>If the parameter is not in that range return false.</p>\n<p>Otherwise, if it is in the valid range, calculate if the year is a leap year and return true if it is a leap year, otherwise return false.</p>\n<p>To determine whether a year is a leap year, follow these steps:</p>\n<ol>\n<li>If the year is evenly divisible by 4, go to step 2. Otherwise, go to step 5.</li>\n<li>If the year is evenly divisible by 100, go to step 3. Otherwise, go to step 4.</li>\n<li>If the year is evenly divisible by 400, go to step 4. Otherwise, go to step 5.</li>\n<li>The year is a leap year (it has 366 days). The method isLeapYear needs to return true.</li>\n<li>The year is not a leap year (it has 365 days). The method isLeapYear needs to return false.</li>\n</ol>\n<p>The following years are not leap years:\n1700, 1800, 1900, 2100, 2200, 2300, 2500, 2600\nThis is because they are evenly divisible by 100 but not by 400.</p>\n<p>The following years are leap years:\n1600, 2000, 2400\nThis is because they are evenly divisible by both 100 and 400.</p>\n<p>Examples of input/output:</p>\n<p>isLeapYear(-1600); → should return false since the parameter is not in range (1-9999)</p>\n<p>isLeapYear(1600); → should return true since 1600 is a leap year</p>\n<p>isLeapYear(2017); → should return false since 2017 is not a leap year</p>\n<p>isLeapYear(2000);  → should return true because 2000 is a leap year</p>\n<p>NOTE: The method isLeapYear needs to be defined as public static ​like we have been doing so far in the course.\nNOTE: Do not add a  main method to solution code.</p>\n<p>  </p>\n<blockquote>\n<pre><code>My Code:\n</code></pre>\n</blockquote>\n<pre><code>public class LeapYear {\n\n    public static boolean isLeapYear (int year) {\n\n        //Out of range\n        if ( year &gt;= 1 &amp;&amp; year &lt;= 9999) {\n            return false;\n        }\n        //calculating if the year is a leap year or not\n        if ( year % 4 == 0 ) {\n            if ( year % 100 == 0) {\n                if ( year % 400 == 0) {\n                    return true;\n                }else {\n                    return false;\n                }\n            } else {\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","validation","annotations"],"comments":[{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1681786409,"post_id":76040232,"comment_id":134109442,"body_markdown":"I would add a `consumes = MediaType.APPLICATION_JSON_VALUE)` and this would guarantee that only a valid Json can be received in your request body.","body":"I would add a <code>consumes = MediaType.APPLICATION_JSON_VALUE)</code> and this would guarantee that only a valid Json can be received in your request body."}],"answers":[{"tags":[],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681778277,"creation_date":1681778277,"answer_id":76040252,"question_id":76040232,"body_markdown":"I found the solution for this:\r\n\r\nI was getting HttpMessageNotReadableException so I made an exception handler method for that and it worked. Please let me know if there is a better way of doing this.\r\n\r\n    @ExceptionHandler(HttpMessageNotReadableException.class)\r\n    public ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\r\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid request body format&quot;);\r\n    }","title":"Simplest way of validating RequestBody json syntax errors on Controller in Spring Boot","body":"<p>I found the solution for this:</p>\n<p>I was getting HttpMessageNotReadableException so I made an exception handler method for that and it worked. Please let me know if there is a better way of doing this.</p>\n<pre><code>@ExceptionHandler(HttpMessageNotReadableException.class)\npublic ResponseEntity&lt;String&gt; handleHttpMessageNotReadableException(HttpMessageNotReadableException e) {\n    return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(&quot;Invalid request body format&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681778277,"creation_date":1681777911,"question_id":76040232,"body_markdown":"I have the following controller which handles several business logic exceptions. However, if client sends a request body with syntax error for e.g in json format, it throws an exception. \r\n\r\nWhat annotations and how would you use to return friendly message back to the client if the RequestBody or Json format has issues ?\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; createMovie(@Valid @RequestBody Movie movie) {\r\n        try {\r\n\r\n            Movie newMovie = movieService.create(movie);\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(newMovie.toString());\r\n        } catch (  MediaValidationException | IllegalArgumentException e ) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e.getMessage());\r\n        }\r\n        catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(movie.toString());\r\n        }\r\n\r\n    }","title":"Simplest way of validating RequestBody json syntax errors on Controller in Spring Boot","body":"<p>I have the following controller which handles several business logic exceptions. However, if client sends a request body with syntax error for e.g in json format, it throws an exception.</p>\n<p>What annotations and how would you use to return friendly message back to the client if the RequestBody or Json format has issues ?</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;String&gt; createMovie(@Valid @RequestBody Movie movie) {\n    try {\n\n        Movie newMovie = movieService.create(movie);\n        return ResponseEntity.status(HttpStatus.CREATED).body(newMovie.toString());\n    } catch (  MediaValidationException | IllegalArgumentException e ) {\n        return ResponseEntity.status(HttpStatus.CONFLICT).body(e.getMessage());\n    }\n    catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(movie.toString());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1576225969,"post_id":59318588,"comment_id":104838048,"body_markdown":"I found this https://stackoverflow.com/a/54517407/11226302 to be very useful for the same in java.","body":"I found this <a href=\"https://stackoverflow.com/a/54517407/11226302\">stackoverflow.com/a/54517407/11226302</a> to be very useful for the same in java."},{"owner":{"account_id":2840474,"reputation":1946,"user_id":2440202,"accept_rate":83,"display_name":"Dth"},"score":0,"creation_date":1576226600,"post_id":59318588,"comment_id":104838308,"body_markdown":"@ShivamPuri Yes, using the noop TrustManager does the job in Java, and I&#39;m looking for a similar solution here. But Kafka client initialises itself and, as far as I&#39;m concerned, I can only configure it with the settings it exposes, so I found no way of doing that.","body":"@ShivamPuri Yes, using the noop TrustManager does the job in Java, and I&#39;m looking for a similar solution here. But Kafka client initialises itself and, as far as I&#39;m concerned, I can only configure it with the settings it exposes, so I found no way of doing that."},{"owner":{"account_id":1964595,"reputation":25422,"user_id":1765189,"display_name":"Mickael Maison"},"score":1,"creation_date":1576235987,"post_id":59318588,"comment_id":104842876,"body_markdown":"If you&#39;re both skipping certification and hostname validation, it feels like you want to use PLAINTEXT instead of SSL","body":"If you&#39;re both skipping certification and hostname validation, it feels like you want to use PLAINTEXT instead of SSL"},{"owner":{"account_id":7783437,"reputation":10208,"user_id":5889131,"accept_rate":100,"display_name":"jeremysprofile"},"score":8,"creation_date":1579818585,"post_id":59318588,"comment_id":105904629,"body_markdown":"@MickaelMaison, SSL without auth can still be useful. Encrypted network traffic is a benefit even if you do not authenticate on either side of the connection.","body":"@MickaelMaison, SSL without auth can still be useful. Encrypted network traffic is a benefit even if you do not authenticate on either side of the connection."}],"answers":[{"comments":[{"owner":{"account_id":6051829,"reputation":1859,"user_id":5405478,"accept_rate":77,"display_name":"Vladyslav Nikolaiev"},"score":1,"creation_date":1623853294,"post_id":65290268,"comment_id":120196931,"body_markdown":"Would be nice to add imports section","body":"Would be nice to add imports section"},{"owner":{"account_id":1601824,"reputation":383,"user_id":1482710,"accept_rate":60,"display_name":"martinnemec3"},"score":1,"creation_date":1623857371,"post_id":65290268,"comment_id":120199029,"body_markdown":"Imports section was added.","body":"Imports section was added."}],"tags":[],"owner":{"account_id":1601824,"reputation":383,"user_id":1482710,"accept_rate":60,"display_name":"martinnemec3"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668527148,"creation_date":1607954291,"answer_id":65290268,"question_id":59318588,"body_markdown":"There is one way to accomplish it however it&#39;s not so straightforward.\r\n\r\nThe idea is to implement the interface org.apache.kafka.common.security.auth.SslEngineFactory that will ignore the certificate validation. When you use it as a client it should be enough to implement just the createClientSslEngine method in a way similar to this:\r\n```\r\nimport org.apache.kafka.common.security.auth.SslEngineFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509TrustManager;\r\nimport java.security.KeyManagementException;\r\nimport java.security.KeyStore;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic class InsecureSslEngineFactory implements SslEngineFactory {\r\n\r\n    private final TrustManager INSECURE_TRUST_MANAGER = new X509TrustManager() {\r\n\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return null;\r\n        }\r\n\r\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n            // empty\r\n        }\r\n\r\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n            // empty\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public SSLEngine createClientSslEngine(String peerHost, int peerPort, String endpointIdentification) {\r\n        TrustManager[] trustManagers = new TrustManager[]{ INSECURE_TRUST_MANAGER };\r\n        try {\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sslContext.init(null, trustManagers, new SecureRandom());\r\n            SSLEngine sslEngine = sslContext.createSSLEngine(peerHost, peerPort);\r\n            sslEngine.setUseClientMode(true);\r\n            return sslEngine;\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public SSLEngine createServerSslEngine(String peerHost, int peerPort) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean shouldBeRebuilt(Map&lt;String, Object&gt; nextConfigs) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;String&gt; reconfigurableConfigs() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public KeyStore keystore() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public KeyStore truststore() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nAfter having this class finished you just configure it as a SSL_ENGINE_FACTORY_CLASS in kafka (producer or consumer) properties:\r\n\r\n    props.put(SslConfigs.SSL_ENGINE_FACTORY_CLASS, InsecureSslEngineFactory.class);\r\nor if you don&#39;t want to use the constant:\r\n\r\n    props.put(&quot;ssl.engine.factory.class&quot;, InsecureSslEngineFactory.class);\r\n\r\n**Make sure you don&#39;t use this setup in production!**","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p>There is one way to accomplish it however it's not so straightforward.</p>\n<p>The idea is to implement the interface org.apache.kafka.common.security.auth.SslEngineFactory that will ignore the certificate validation. When you use it as a client it should be enough to implement just the createClientSslEngine method in a way similar to this:</p>\n<pre><code>import org.apache.kafka.common.security.auth.SslEngineFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\nimport java.security.KeyManagementException;\nimport java.security.KeyStore;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.cert.X509Certificate;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class InsecureSslEngineFactory implements SslEngineFactory {\n\n    private final TrustManager INSECURE_TRUST_MANAGER = new X509TrustManager() {\n\n        public X509Certificate[] getAcceptedIssuers() {\n            return null;\n        }\n\n        public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            // empty\n        }\n\n        public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            // empty\n        }\n    };\n\n    @Override\n    public SSLEngine createClientSslEngine(String peerHost, int peerPort, String endpointIdentification) {\n        TrustManager[] trustManagers = new TrustManager[]{ INSECURE_TRUST_MANAGER };\n        try {\n            SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n            sslContext.init(null, trustManagers, new SecureRandom());\n            SSLEngine sslEngine = sslContext.createSSLEngine(peerHost, peerPort);\n            sslEngine.setUseClientMode(true);\n            return sslEngine;\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public SSLEngine createServerSslEngine(String peerHost, int peerPort) {\n        return null;\n    }\n\n    @Override\n    public boolean shouldBeRebuilt(Map&lt;String, Object&gt; nextConfigs) {\n        return false;\n    }\n\n    @Override\n    public Set&lt;String&gt; reconfigurableConfigs() {\n        return null;\n    }\n\n    @Override\n    public KeyStore keystore() {\n        return null;\n    }\n\n    @Override\n    public KeyStore truststore() {\n        return null;\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs) {\n\n    }\n}\n</code></pre>\n<p>After having this class finished you just configure it as a SSL_ENGINE_FACTORY_CLASS in kafka (producer or consumer) properties:</p>\n<pre><code>props.put(SslConfigs.SSL_ENGINE_FACTORY_CLASS, InsecureSslEngineFactory.class);\n</code></pre>\n<p>or if you don't want to use the constant:</p>\n<pre><code>props.put(&quot;ssl.engine.factory.class&quot;, InsecureSslEngineFactory.class);\n</code></pre>\n<p><strong>Make sure you don't use this setup in production!</strong></p>\n"},{"tags":[],"owner":{"account_id":95012,"reputation":1321,"user_id":259025,"accept_rate":0,"display_name":"ncowboy"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1681777057,"creation_date":1681777057,"answer_id":76040176,"question_id":59318588,"body_markdown":"`src/main/resources/application.yml`\r\n\r\n```\r\n#Server host name verification is disabled by setting ssl.endpoint.identification.algorithm to an empty string\r\nspring.kafka.properties.ssl.endpoint.identification.algorithm\r\n```","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p><code>src/main/resources/application.yml</code></p>\n<pre><code>#Server host name verification is disabled by setting ssl.endpoint.identification.algorithm to an empty string\nspring.kafka.properties.ssl.endpoint.identification.algorithm\n</code></pre>\n"}],"owner":{"account_id":2840474,"reputation":1946,"user_id":2440202,"accept_rate":83,"display_name":"Dth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15115,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1681777057,"creation_date":1576225136,"question_id":59318588,"body_markdown":"If I have a self-signed certificate, as a good citizen, I will import it to my keystore and configure Kafka client with &quot;ssl.truststore.location&quot; and &quot;ssl.truststore.type&quot; in order to use it.\r\n\r\nIf expect that a Common Name from certificate&#39;s subject can differ from the host&#39;s address that presented it, I can turn off the endpoint validation with &quot;ssl.endpoint.identification.algorithm&quot;.\r\n\r\nWhat if I wanted to skip the SSL validation altogether, not just for the hostname, so that I no longer need to copy the certificates around? Analogous to the &quot;-k&quot; or &quot;--insecure&quot; setting in curl. Can I do it with a default Java client for Kafka?","title":"Is it possible to disable SSL certificate verification in Apache Kafka Java client?","body":"<p>If I have a self-signed certificate, as a good citizen, I will import it to my keystore and configure Kafka client with \"ssl.truststore.location\" and \"ssl.truststore.type\" in order to use it.</p>\n\n<p>If expect that a Common Name from certificate's subject can differ from the host's address that presented it, I can turn off the endpoint validation with \"ssl.endpoint.identification.algorithm\".</p>\n\n<p>What if I wanted to skip the SSL validation altogether, not just for the hostname, so that I no longer need to copy the certificates around? Analogous to the \"-k\" or \"--insecure\" setting in curl. Can I do it with a default Java client for Kafka?</p>\n"},{"tags":["java","android-studio","proguard","google-play-console","android-r8"],"owner":{"account_id":24149720,"reputation":21,"user_id":18114761,"display_name":"everythingequals42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681775885,"creation_date":1681732203,"question_id":76034863,"body_markdown":"My app works on test device but crashes on playstore with this ERROR:\r\n\r\n\r\n&gt; Exception java.lang.RuntimeException:   at\r\n&gt; android.app.ActivityThread.performLaunchActivity\r\n&gt; (ActivityThread.java:4048)   at\r\n&gt; android.app.ActivityThread.handleLaunchActivity\r\n&gt; (ActivityThread.java:4312)   at\r\n&gt; android.app.servertransaction.LaunchActivityItem.execute\r\n&gt; (LaunchActivityItem.java:101)   at\r\n&gt; android.app.servertransaction.TransactionExecutor.executeCallbacks\r\n&gt; (TransactionExecutor.java:135)   at\r\n&gt; android.app.servertransaction.TransactionExecutor.execute\r\n&gt; (TransactionExecutor.java:95)   at\r\n&gt; android.app.ActivityThread$H.handleMessage (ActivityThread.java:2571) \r\n&gt; at android.os.Handler.dispatchMessage (Handler.java:106)   at\r\n&gt; android.os.Looper.loopOnce (Looper.java:226)   at\r\n&gt; android.os.Looper.loop (Looper.java:313)   at\r\n&gt; android.app.ActivityThread.main (ActivityThread.java:8741)   at\r\n&gt; java.lang.reflect.Method.invoke   at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:571)   at com.android.internal.os.ZygoteInit.main\r\n&gt; (ZygoteInit.java:1067) Caused by java.lang.ClassNotFoundException:  \r\n&gt; at dalvik.system.BaseDexClassLoader.findClass\r\n&gt; (BaseDexClassLoader.java:259)   at java.lang.ClassLoader.loadClass\r\n&gt; (ClassLoader.java:379)   at java.lang.ClassLoader.loadClass\r\n&gt; (ClassLoader.java:312)   at\r\n&gt; android.app.AppComponentFactory.instantiateActivity\r\n&gt; (AppComponentFactory.java:95)   at\r\n&gt; androidx.core.app.CoreComponentFactory.instantiateActivity\r\n&gt; (CoreComponentFactory.java:45)   at\r\n&gt; android.app.Instrumentation.newActivity (Instrumentation.java:1328)  \r\n&gt; at android.app.ActivityThread.performLaunchActivity\r\n&gt; (ActivityThread.java:4035)\r\n\r\n\r\nI thought it might have something to do with proguard so I tried disabling it by creating a `proguaurd-rules.pro` file in platform&gt;android&gt;app so the app file contains the proguard-rules.pro I honestly copied and pasted it there from another project so maybe this has caused an issue but I didn&#39;t think it would. \r\n\r\nAfter I added that file I went in to the build.gradle and added this code:\r\n\r\n```gradle\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                minifyEnabled true\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                minifyEnabled false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n```\r\n\r\nThat did nothing for the crash so I went back and changed the code to this:\r\n\r\n```gradle\r\n            release {\r\n                signingConfig signingConfigs.release\r\n                minifyEnabled false\r\n                useproguard false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n            debug {\r\n                minifyEnabled false\r\n                useproguard false\r\n                proguardFiles &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n```\r\nthe crashes are still occurring and I am still getting the same error message on the play console, what am I doing wrong? Is this even a proguard issue or maybe something else? \r\n\r\nupdate: I&#39;ve since added multidex support by adding the library and enabling multidex in the defaultconfig and that did nothhing for the crashes.\r\n\r\nhere is the logcat:\r\n```\r\n2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\r\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\r\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\r\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\r\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\r\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.BMICalculator.FREE, PID: 11564\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\r\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\r\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\r\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\r\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\r\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\r\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.BMICalculator.FREE, PID: 11564\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\r\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE\r\n```\r\n\r\n\r\n\r\n","title":"java.lang.RuntimeException Error and App Crashing On Google Play Logcat Added","body":"<p>My app works on test device but crashes on playstore with this ERROR:</p>\n<blockquote>\n<p>Exception java.lang.RuntimeException:   at\nandroid.app.ActivityThread.performLaunchActivity\n(ActivityThread.java:4048)   at\nandroid.app.ActivityThread.handleLaunchActivity\n(ActivityThread.java:4312)   at\nandroid.app.servertransaction.LaunchActivityItem.execute\n(LaunchActivityItem.java:101)   at\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks\n(TransactionExecutor.java:135)   at\nandroid.app.servertransaction.TransactionExecutor.execute\n(TransactionExecutor.java:95)   at\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2571)\nat android.os.Handler.dispatchMessage (Handler.java:106)   at\nandroid.os.Looper.loopOnce (Looper.java:226)   at\nandroid.os.Looper.loop (Looper.java:313)   at\nandroid.app.ActivityThread.main (ActivityThread.java:8741)   at\njava.lang.reflect.Method.invoke   at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n(RuntimeInit.java:571)   at com.android.internal.os.ZygoteInit.main\n(ZygoteInit.java:1067) Caused by java.lang.ClassNotFoundException:<br />\nat dalvik.system.BaseDexClassLoader.findClass\n(BaseDexClassLoader.java:259)   at java.lang.ClassLoader.loadClass\n(ClassLoader.java:379)   at java.lang.ClassLoader.loadClass\n(ClassLoader.java:312)   at\nandroid.app.AppComponentFactory.instantiateActivity\n(AppComponentFactory.java:95)   at\nandroidx.core.app.CoreComponentFactory.instantiateActivity\n(CoreComponentFactory.java:45)   at\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1328)<br />\nat android.app.ActivityThread.performLaunchActivity\n(ActivityThread.java:4035)</p>\n</blockquote>\n<p>I thought it might have something to do with proguard so I tried disabling it by creating a <code>proguaurd-rules.pro</code> file in platform&gt;android&gt;app so the app file contains the proguard-rules.pro I honestly copied and pasted it there from another project so maybe this has caused an issue but I didn't think it would.</p>\n<p>After I added that file I went in to the build.gradle and added this code:</p>\n<pre><code>            release {\n                signingConfig signingConfigs.release\n                minifyEnabled true\n                proguardFiles 'proguard-rules.pro'\n            }\n            debug {\n                minifyEnabled false\n                proguardFiles 'proguard-rules.pro'\n            }\n        }\n</code></pre>\n<p>That did nothing for the crash so I went back and changed the code to this:</p>\n<pre><code>            release {\n                signingConfig signingConfigs.release\n                minifyEnabled false\n                useproguard false\n                proguardFiles 'proguard-rules.pro'\n            }\n            debug {\n                minifyEnabled false\n                useproguard false\n                proguardFiles 'proguard-rules.pro'\n            }\n        }\n</code></pre>\n<p>the crashes are still occurring and I am still getting the same error message on the play console, what am I doing wrong? Is this even a proguard issue or maybe something else?</p>\n<p>update: I've since added multidex support by adding the library and enabling multidex in the defaultconfig and that did nothhing for the crashes.</p>\n<p>here is the logcat:</p>\n<pre><code>2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.BMICalculator.FREE, PID: 11564\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE2023-04-17 19:32:57.775 11564-11564/? I/Calculator.FRE: Late-enabling -Xcheck:jni\n2023-04-17 19:32:58.821 11564-11564/? E/Calculator.FRE: Unknown bits set in runtime_flags: 0x8000\n2023-04-17 19:32:58.824 11564-11564/? W/Calculator.FRE: Unexpected CPU variant for X86 using defaults: x86\n2023-04-17 19:33:05.098 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: Waiting for a blocking GC ClassLinker\n2023-04-17 19:33:05.228 11564-11564/com.BMICalculator.FREE I/Calculator.FRE: WaitForGcToComplete blocked ClassLinker on HeapTrim for 130.343ms\n2023-04-17 19:33:05.525 11564-11564/com.BMICalculator.FREE D/AndroidRuntime: Shutting down VM\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE D/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\n2023-04-17 19:33:05.555 11564-11596/com.BMICalculator.FREE W/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\n2023-04-17 19:33:05.581 11564-11564/com.BMICalculator.FREE E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.BMICalculator.FREE, PID: 11564\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.BMICalculator.FREE/com.BMICalculator.FREE.MainActivity}: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3194)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.BMICalculator.FREE.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.BMICalculator.FREE-7yb4W7NdqCUw_5mYxhAjRA==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n2023-04-17 19:33:05.676 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2023-04-17 19:33:05.678 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2023-04-17 19:33:05.688 11564-11596/com.BMICalculator.FREE D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2023-04-17 19:33:05.705 11564-11564/com.BMICalculator.FREE I/Process: Sending signal. PID: 11564 SIG: 9\n2023-04-17 19:33:05.552 11564-11564/? W/RenderThread: type=1400 audit(0.0:82): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6318 scontext=u:r:untrusted_app:s0:c153,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.BMICalculator.FREE\n</code></pre>\n"},{"tags":["java","mysql","mongodb","hibernate","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":1477366,"reputation":745,"user_id":1387451,"accept_rate":50,"display_name":"Nirro"},"score":1,"creation_date":1633887263,"post_id":56372579,"comment_id":122874376,"body_markdown":"This answer might have been right at the time but it does not work on the current Spring version. At least points to the right documentation. You cannot set both URI and username / password, they are mutually exclusive. Also, `username` and not `user` is the right key.","body":"This answer might have been right at the time but it does not work on the current Spring version. At least points to the right documentation. You cannot set both URI and username / password, they are mutually exclusive. Also, <code>username</code> and not <code>user</code> is the right key."},{"owner":{"account_id":8296010,"reputation":764,"user_id":6236250,"display_name":"Rob Scully"},"score":1,"creation_date":1634307843,"post_id":56372579,"comment_id":122996515,"body_markdown":"As per the mongo db both user name and password are still accepted by mongo in the mongodb uri: https://docs.mongodb.com/manual/reference/connection-string/   In spring they also still accept credentials in the latest version as per documentation: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.data.mongodb.uri","body":"As per the mongo db both user name and password are still accepted by mongo in the mongodb uri: <a href=\"https://docs.mongodb.com/manual/reference/connection-string/\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/connection-string</a>   In spring they also still accept credentials in the latest version as per documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data.spring.data.mongodb.uri\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":8296010,"reputation":764,"user_id":6236250,"display_name":"Rob Scully"},"comment_count":2,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1559198593,"creation_date":1559196678,"answer_id":56372579,"question_id":56371736,"body_markdown":"The mongodb properties are all prefixed with spring.data.mongodb. For user property you would use \r\n\r\n    spring:\r\n      data:\r\n          mongodb:\r\n            user: test\r\n            password: passwordvalue\r\n            uri: mongodb://host:27017/db\r\n\r\nThe list of available mongodb properties are here:\r\n\r\n    https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n\r\nYou can find them at source for how they are loaded on github:\r\n\r\n   https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java\r\n","title":"Spring boot Mongo DB .yml configuration","body":"<p>The mongodb properties are all prefixed with spring.data.mongodb. For user property you would use </p>\n\n<pre><code>spring:\n  data:\n      mongodb:\n        user: test\n        password: passwordvalue\n        uri: mongodb://host:27017/db\n</code></pre>\n\n<p>The list of available mongodb properties are here:</p>\n\n<pre><code>https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\n</code></pre>\n\n<p>You can find them at source for how they are loaded on github:</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java\" rel=\"noreferrer\">https://github.com/spring-projects/spring-boot/blob/v2.1.5.RELEASE/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/mongo/MongoProperties.java</a></p>\n"},{"tags":[],"owner":{"account_id":12613723,"reputation":940,"user_id":9171899,"display_name":"yuen26"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562314304,"creation_date":1559197965,"answer_id":56372883,"question_id":56371736,"body_markdown":"You can do as below:\r\n\r\n```yaml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: mongodb://yourusername:yourpassword@localhost:27017/yourDB\r\n```","title":"Spring boot Mongo DB .yml configuration","body":"<p>You can do as below:</p>\n\n<pre><code>spring:\n  data:\n    mongodb:\n      uri: mongodb://yourusername:yourpassword@localhost:27017/yourDB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15076433,"reputation":129,"user_id":15635042,"display_name":"Siddharth Aadarsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656421635,"creation_date":1656421635,"answer_id":72787014,"question_id":56371736,"body_markdown":"    spring:\r\n      data:\r\n        mongodb:\r\n          authentication-database: admin\r\n          username: #your_root_user     (default-&gt;rootuser)\r\n          password: #your_root_password (default-&gt;rootpass)\r\n          database: #your_db_name\r\n          port: #your_port              (default-&gt;27017)\r\n          host: #your_host              (default-&gt;localhost)\r\n\r\nFor me this worked.","title":"Spring boot Mongo DB .yml configuration","body":"<pre><code>spring:\n  data:\n    mongodb:\n      authentication-database: admin\n      username: #your_root_user     (default-&gt;rootuser)\n      password: #your_root_password (default-&gt;rootpass)\n      database: #your_db_name\n      port: #your_port              (default-&gt;27017)\n      host: #your_host              (default-&gt;localhost)\n</code></pre>\n<p>For me this worked.</p>\n"},{"tags":[],"owner":{"account_id":6467437,"reputation":75,"user_id":6686667,"display_name":"fayssal el ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681775560,"creation_date":1681775560,"answer_id":76040079,"question_id":56371736,"body_markdown":"you can put the same link you use to connect in `mongoDbCompass` in the URI property, make sure to let a space after each properties, for me I forgot to add a white space after `uri:` the working yml snippet is as follows:\r\n```yml\r\nspring:\r\n  data:\r\n    mongodb:\r\n      uri: mongodb+srv://&lt;username&gt;:&lt;password&gt;@cluster0.tt44qmp.mongodb.net/test\r\n```","title":"Spring boot Mongo DB .yml configuration","body":"<p>you can put the same link you use to connect in <code>mongoDbCompass</code> in the URI property, make sure to let a space after each properties, for me I forgot to add a white space after <code>uri:</code> the working yml snippet is as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  data:\n    mongodb:\n      uri: mongodb+srv://&lt;username&gt;:&lt;password&gt;@cluster0.tt44qmp.mongodb.net/test\n</code></pre>\n"}],"owner":{"account_id":16039458,"reputation":134,"user_id":11576217,"display_name":"Ruth Shaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27476,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":56372579,"answer_count":4,"score":5,"last_activity_date":1681775560,"creation_date":1559191305,"question_id":56371736,"body_markdown":"When I use MySQL and hibernate for spring boot, I use below configuration in  .yml file\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost/userName?zeroDateTimeBehavior=convertToNull\r\n        username: userName\r\n        password: password\r\n        driverClassName: com.mysql.jdbc.Driver\r\n    \r\n      jpa:\r\n        show-sql: false\r\n        hibernate:\r\n          dialect: org.hibernate.dialect.MySQLDialect\r\n          format_sql: false\r\n          ddl-auto: update \r\n\r\nIf it is mongoDB instead of MySQL and hibernate how does it change?","title":"Spring boot Mongo DB .yml configuration","body":"<p>When I use MySQL and hibernate for spring boot, I use below configuration in  .yml file</p>\n\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost/userName?zeroDateTimeBehavior=convertToNull\n    username: userName\n    password: password\n    driverClassName: com.mysql.jdbc.Driver\n\n  jpa:\n    show-sql: false\n    hibernate:\n      dialect: org.hibernate.dialect.MySQLDialect\n      format_sql: false\n      ddl-auto: update \n</code></pre>\n\n<p>If it is mongoDB instead of MySQL and hibernate how does it change?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1510057318,"post_id":47157838,"comment_id":81264865,"body_markdown":"If you don&#39;t do anything with the results then why do you need to wait at all?If you need to wait until they&#39;re done then you _will_ use the results in some way.","body":"If you don&#39;t do anything with the results then why do you need to wait at all?If you need to wait until they&#39;re done then you <i>will</i> use the results in some way."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510057458,"post_id":47157838,"comment_id":81264980,"body_markdown":"Not really. You could let those threads do some kind of data processing and need to wait for them all to finish until you a) process the next batch of data. b) close the connection to a data source (not necessary a DB) c) can simply show a feedback to the user like &quot;Done&quot;. I could continue with a few more examples, but the comment box is nearly full.","body":"Not really. You could let those threads do some kind of data processing and need to wait for them all to finish until you a) process the next batch of data. b) close the connection to a data source (not necessary a DB) c) can simply show a feedback to the user like &quot;Done&quot;. I could continue with a few more examples, but the comment box is nearly full."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":0,"creation_date":1510057514,"post_id":47157838,"comment_id":81265028,"body_markdown":"What is the environment? Do you have a simple JavaSE program running on a local machine, or do you have an JavaEE environment with some kind of WebServer or ApplicationServer?","body":"What is the environment? Do you have a simple JavaSE program running on a local machine, or do you have an JavaEE environment with some kind of WebServer or ApplicationServer?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1510057559,"post_id":47157838,"comment_id":81265065,"body_markdown":"How do you start your Threads? If you&#39;re using `ExecutorService#submit`, you won&#39;t have any `Thread` objects in your hand anyway. If you&#39;re manually creating `Thread`s (which you shouldn&#39;t), you can&#39;t really join them using a `ExecutorService`. I suggest you use the same mechanism for joining and forking.","body":"How do you start your Threads? If you&#39;re using <code>ExecutorService#submit</code>, you won&#39;t have any <code>Thread</code> objects in your hand anyway. If you&#39;re manually creating <code>Thread</code>s (which you shouldn&#39;t), you can&#39;t really join them using a <code>ExecutorService</code>. I suggest you use the same mechanism for joining and forking."},{"owner":{"account_id":5145261,"reputation":1519,"user_id":4121440,"accept_rate":89,"display_name":"Oleg"},"score":0,"creation_date":1510058275,"post_id":47157838,"comment_id":81265549,"body_markdown":"@Korashen EE environment on a Webserver","body":"@Korashen EE environment on a Webserver"},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510058486,"post_id":47157838,"comment_id":81265680,"body_markdown":"@Oleg In this case I strongly recomment to NOT use custom made threads, as the server will not know about them and they are running out of the servers context. Your webserver should provide you with threadpools, which you can configure via the Admin console. These threadpools are managed and watched by the server. You can get such a threadpool by a simple JNDI lookup or via the context.","body":"@Oleg In this case I strongly recomment to NOT use custom made threads, as the server will not know about them and they are running out of the servers context. Your webserver should provide you with threadpools, which you can configure via the Admin console. These threadpools are managed and watched by the server. You can get such a threadpool by a simple JNDI lookup or via the context."},{"owner":{"account_id":2642343,"reputation":2154,"user_id":2285734,"accept_rate":100,"display_name":"Korashen"},"score":1,"creation_date":1510059117,"post_id":47157838,"comment_id":81266181,"body_markdown":"Try one of the following:\nhttps://docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/ManagedExecutorService.html\nor\nhttps://www.javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.html\nor\njust google for it, there is a bunch of different information about Threadpools on the net.","body":"Try one of the following: <a href=\"https://docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/ManagedExecutorService.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/enterprise/concurrent/&hellip;</a> or <a href=\"https://www.javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2014/07/java-ee-concurrency-api-tutorial.h&zwnj;&#8203;tml</a> or just google for it, there is a bunch of different information about Threadpools on the net."}],"answers":[{"tags":[],"owner":{"account_id":986973,"reputation":2101,"user_id":1005235,"accept_rate":83,"display_name":"light_303"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510057323,"creation_date":1510057323,"answer_id":47157892,"question_id":47157838,"body_markdown":"go for the executor service. this gives you many other benefits on top of managing the thread termination (e.g. capacity scaling and separation of execution logic and the actual tasks)","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>go for the executor service. this gives you many other benefits on top of managing the thread termination (e.g. capacity scaling and separation of execution logic and the actual tasks)</p>\n"},{"tags":[],"owner":{"account_id":11618794,"reputation":221,"user_id":8510670,"display_name":"Stefan LoKran Dotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510057448,"creation_date":1510057448,"answer_id":47157927,"question_id":47157838,"body_markdown":"With Executors you just do this.\r\n\r\n    ex.shutdown();\r\n    while (!ex.awaitTermination(1, TimeUnit.MINUTES)) {\r\n    }\r\n\r\nWhere ex is your *ExecutorService*. In the loop you can check if your threads are still alive or something like that.","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>With Executors you just do this.</p>\n\n<pre><code>ex.shutdown();\nwhile (!ex.awaitTermination(1, TimeUnit.MINUTES)) {\n}\n</code></pre>\n\n<p>Where ex is your <em>ExecutorService</em>. In the loop you can check if your threads are still alive or something like that.</p>\n"},{"tags":[],"owner":{"account_id":7563805,"reputation":9,"user_id":5740216,"display_name":"Laxiwuka"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1510057538,"creation_date":1510057538,"answer_id":47157957,"question_id":47157838,"body_markdown":"You can do `while(!executor.isTerminated) {}`. Then you don&#39;t have to say how long you are willing to wait. ","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>You can do <code>while(!executor.isTerminated) {}</code>. Then you don't have to say how long you are willing to wait. </p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1510211606,"creation_date":1510058445,"answer_id":47158274,"question_id":47157838,"body_markdown":"As you say, you don&#39;t _need_ the `Future`s as such, but you can use them to await termination.\r\n\r\nSince you&#39;re using Java 8, you can do this via\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(kThreads);\r\n    container.stream()\r\n        .map(d -&gt; createRunnable(d)) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .forEach(Future::get); // get() will wait for futures to finish\r\n\r\nEDIT:\r\nI just realized that the stream will probably prevent the parallelism to begin with, so you need to collect them intermediately:\r\n\r\n    List&lt;Future&lt;?&gt;&gt; futures = container.stream()\r\n        .map(d -&gt; createRunnable(d)) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .collect(Collectors.toList());\r\n    futures.forEach(Future::get);\r\n\r\nActually, I fully understand that people are confused about having to wait without the futures returning a value. IMO, it would make more sense to have each future return the link of the upload it creates:\r\n\r\n    String scaleAndUpload() {\r\n        BufferedImage scaledBufferedImage=imageService.scale(...);\r\n        imageService.transferToAWS(...);\r\n        return linkToUploadedImage;\r\n    }\r\n\r\nSo you would get something like\r\n\r\n    List&lt;Future&lt;?&gt;&gt; futures = container.stream()\r\n        .map(d -&gt; scaleAndUpload()) // now you have Runnables\r\n        .map(es::submit) // now they&#39;re Futures\r\n        .collect(Collectors.toList());\r\n    return futures.stream()\r\n        .map(Future::get)  // collect the link when the future is finished\r\n        .collect(Collectors.toList()); // create a list of them","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>As you say, you don't <em>need</em> the <code>Future</code>s as such, but you can use them to await termination.</p>\n\n<p>Since you're using Java 8, you can do this via</p>\n\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(kThreads);\ncontainer.stream()\n    .map(d -&gt; createRunnable(d)) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .forEach(Future::get); // get() will wait for futures to finish\n</code></pre>\n\n<p>EDIT:\nI just realized that the stream will probably prevent the parallelism to begin with, so you need to collect them intermediately:</p>\n\n<pre><code>List&lt;Future&lt;?&gt;&gt; futures = container.stream()\n    .map(d -&gt; createRunnable(d)) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .collect(Collectors.toList());\nfutures.forEach(Future::get);\n</code></pre>\n\n<p>Actually, I fully understand that people are confused about having to wait without the futures returning a value. IMO, it would make more sense to have each future return the link of the upload it creates:</p>\n\n<pre><code>String scaleAndUpload() {\n    BufferedImage scaledBufferedImage=imageService.scale(...);\n    imageService.transferToAWS(...);\n    return linkToUploadedImage;\n}\n</code></pre>\n\n<p>So you would get something like</p>\n\n<pre><code>List&lt;Future&lt;?&gt;&gt; futures = container.stream()\n    .map(d -&gt; scaleAndUpload()) // now you have Runnables\n    .map(es::submit) // now they're Futures\n    .collect(Collectors.toList());\nreturn futures.stream()\n    .map(Future::get)  // collect the link when the future is finished\n    .collect(Collectors.toList()); // create a list of them\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681774774,"creation_date":1510080971,"answer_id":47165502,"question_id":47157838,"body_markdown":"&gt; Should I use the plain old `Thread` or the `ExecutorService` ?\r\n\r\nUse [ExecutorService][1]\r\n\r\n&gt; for the `ExecutorService.awaitTermination` I must give a certain time that I&#39;m willing to wait but for `Thread.join` I must not.\r\n\r\nFor proper shutdown of `ExecutorService`:  \r\nhttps://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\r\n\r\nA few more alternatives:  \r\nhttps://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"Thread join vs ExecutorService.awaitTermination","body":"<blockquote>\n<p>Should I use the plain old <code>Thread</code> or the <code>ExecutorService</code> ?</p>\n</blockquote>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">ExecutorService</a></p>\n<blockquote>\n<p>for the <code>ExecutorService.awaitTermination</code> I must give a certain time that I'm willing to wait but for <code>Thread.join</code> I must not.</p>\n</blockquote>\n<p>For proper shutdown of <code>ExecutorService</code>:<br />\n<a href=\"https://stackoverflow.com/questions/36644043/how-to-properly-shutdown-java-executorservice/36644320#36644320\">How to properly shutdown java ExecutorService</a></p>\n<p>A few more alternatives:<br />\n<a href=\"https://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\">wait until all threads finish their work in java</a></p>\n"}],"owner":{"account_id":5145261,"reputation":1519,"user_id":4121440,"accept_rate":89,"display_name":"Oleg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47158274,"answer_count":5,"score":0,"last_activity_date":1681774774,"creation_date":1510057179,"question_id":47157838,"body_markdown":"I have a group of threads which all need to be executed in parallel and I must wait on all of them to complete.\r\n\r\nShould I use the plain old `Thread` or the `ExecutorService` ? for the `ExecutorService.awaitTermination` I must give a certain time that I&#39;m willing to wait but for `Thread.join` I must not.\r\n\r\nI don&#39;t do anything with the results that the threads give , I don&#39;t need any `futures`.\r\n\r\nEDIT:\r\n\r\n        ExecutorService es = Executors.newFixedThreadPool(kThreads);\r\n        List&lt;Callable&lt;Void&gt;&gt; calls = new LinkedList&lt;&gt;();\r\n\r\n            container.forEach(\r\n                    calls.add(() -&gt; { //creating a thread/task \r\n                        BufferedImage scaledBufferedImage=imageService.scale(...);\r\n\r\n                        imageService.transferToAWS(...);\r\n                        return null;\r\n                    })\r\n            );\r\n            es.invokeAll(calls); //executes each task\r\n            es.shutdown(); //ensure that no new tasks will be accepted\r\n            es.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS); //wait for all tasks to finish\r\n    \r\n    return kLinksToTheScaledImages;\r\n\r\n","title":"Thread join vs ExecutorService.awaitTermination","body":"<p>I have a group of threads which all need to be executed in parallel and I must wait on all of them to complete.</p>\n\n<p>Should I use the plain old <code>Thread</code> or the <code>ExecutorService</code> ? for the <code>ExecutorService.awaitTermination</code> I must give a certain time that I'm willing to wait but for <code>Thread.join</code> I must not.</p>\n\n<p>I don't do anything with the results that the threads give , I don't need any <code>futures</code>.</p>\n\n<p>EDIT:</p>\n\n<pre><code>    ExecutorService es = Executors.newFixedThreadPool(kThreads);\n    List&lt;Callable&lt;Void&gt;&gt; calls = new LinkedList&lt;&gt;();\n\n        container.forEach(\n                calls.add(() -&gt; { //creating a thread/task \n                    BufferedImage scaledBufferedImage=imageService.scale(...);\n\n                    imageService.transferToAWS(...);\n                    return null;\n                })\n        );\n        es.invokeAll(calls); //executes each task\n        es.shutdown(); //ensure that no new tasks will be accepted\n        es.awaitTermination(Long.MAX_VALUE, TimeUnit.NANOSECONDS); //wait for all tasks to finish\n\nreturn kLinksToTheScaledImages;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testng","testng-dataprovider","findelement"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1681991658,"post_id":76039977,"comment_id":134147376,"body_markdown":"This is definitely unrelated to data provider or to TestNg. You need to watch visually what is happening and why that locator takes so much time. You can also try to rework your locator from xpath to css. It works way faster especially considering you are just using filter by classes in your xpath locator.","body":"This is definitely unrelated to data provider or to TestNg. You need to watch visually what is happening and why that locator takes so much time. You can also try to rework your locator from xpath to css. It works way faster especially considering you are just using filter by classes in your xpath locator."},{"owner":{"account_id":13311459,"reputation":1,"user_id":11244753,"display_name":"Bilal G&#252;naydın"},"score":0,"creation_date":1682172639,"post_id":76039977,"comment_id":134175292,"body_markdown":"I don&#39;t think so. I tried except the data provider and it&#39;s works. I tried your idea but it doesn&#39;t work. Do you have any another idea?","body":"I don&#39;t think so. I tried except the data provider and it&#39;s works. I tried your idea but it doesn&#39;t work. Do you have any another idea?"}],"owner":{"account_id":13311459,"reputation":1,"user_id":11244753,"display_name":"Bilal G&#252;naydın"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681774183,"creation_date":1681773974,"question_id":76039977,"body_markdown":"I have a static ExcelUnits class. I get a list from Excel and I wanna test with the list. Everything is working correctly. The locator is too late for only 1 html tag. It takes 20 to 30 seconds. That&#39;s too much. If I try this locator outside of testng provider, it finds this locator immediately. If this is because of Testng, why is this locator found in a very long time while other locators are found in a short time?\r\n\r\nMy dataprovider  \r\n\r\n&gt; @DataProvider(name = &quot;setConnectionListForRemove&quot;)\r\n&gt; \r\n&gt;     public Object[][] setConnectionListForRemove() throws Exception {\r\n&gt;         return ExcelUtils.setConnectionListForRemove();\r\n&gt;     }\r\n\r\n\r\n&gt;@Test(priority = 9, dataProvider = &quot;setConnectionListForRemove&quot;)\r\n    public void setConnectionListForRemove(String firstName, String lastName, String company, String position, int rowNumber)\r\n            throws InterruptedException, IOException {\r\n\r\n        searchPage.clickShowKeywordsButton();\r\n        Log4j.info(&quot;Clicked Showing Keywords List Button&quot;);\r\n        searchPage.setConnectionsKnowledge(firstName, lastName, position, company);\r\n        Log4j.info(&quot;Connection related data has been entered.&quot;);\r\n        searchPage.clickKeywordsResult();\r\n        Log4j.info(&quot;Clicked the Show results button.&quot;);\r\n        boolean checkConnectionInformetion = searchPage.CheckConnectionInformation();\r\n        Log4j.info(&quot;Checked About Connection Informations&quot;);\r\n        if (!checkConnectionInformetion) {\r\n            boolean checkPosition = searchPage.checkCurrentTitleWithPosition();\r\n            if (!checkPosition) {\r\n                searchPage.clickOpenProfile();\r\n\r\n} } }`\r\n\r\nI found the locator very slowly. The locator:\r\n\r\n```\r\nBy getCurrentTitleElement = By.xpath(&quot;(//div[contains(@class,&#39;entity-result__primary-subtitle t-14 t-black t-normal&#39;)])[1]&quot;);\r\n\r\n\r\n    public boolean checkCurrentTitleWithPosition() {\r\n\r\n        String currentTitle = (getText(getCurrentTitleElement) == null) ? &quot;&quot; : getText(getCurrentTitleElement);\r\n        return Arrays.stream(properties.getProperty(&quot;Positions&quot;)\r\n                .split(&quot;,&quot;)).anyMatch(position -&gt; find(currentTitle, position)); // this is my positions list and the list at properties.file. \r\n    }\r\n```\r\n\r\nThis is my getText method\r\n\r\n \r\n```\r\npublic String getText(By key) {\r\n        WebElement element = findElement(key);\r\n        if (element != null)\r\n            return findElement(key).getText();\r\n        return null;\r\n    }\r\n```\r\n\r\nThis is my findElement method\r\n\r\n```\r\npublic WebElement findElement(By key) {\r\n        WebElement element = presenceElement(key);\r\n        scrollToElement(element);\r\n        return element;\r\n    }\r\n\r\n```\r\nThis is my presenceElement method\r\n\r\n```\r\n public WebElement presenceElement(By key) {\r\n        WebElement element = null;\r\n        try {\r\n            element = wait.until(ExpectedConditions.presenceOfElementLocated(key));\r\n        } catch (TimeoutException e) {\r\n\r\n        }\r\n        return element;\r\n    }\r\n```\r\n\r\nDoes anyone have an idea?","title":"A locator in Java Selenium Testng dataprovider is coming in a very long time. Why could it be?","body":"<p>I have a static ExcelUnits class. I get a list from Excel and I wanna test with the list. Everything is working correctly. The locator is too late for only 1 html tag. It takes 20 to 30 seconds. That's too much. If I try this locator outside of testng provider, it finds this locator immediately. If this is because of Testng, why is this locator found in a very long time while other locators are found in a short time?</p>\n<p>My dataprovider</p>\n<blockquote>\n<p>@DataProvider(name = &quot;setConnectionListForRemove&quot;)</p>\n<pre><code>public Object[][] setConnectionListForRemove() throws Exception {\n    return ExcelUtils.setConnectionListForRemove();\n}\n</code></pre>\n</blockquote>\n<blockquote>\n<p>@Test(priority = 9, dataProvider = &quot;setConnectionListForRemove&quot;)\npublic void setConnectionListForRemove(String firstName, String lastName, String company, String position, int rowNumber)\nthrows InterruptedException, IOException {</p>\n</blockquote>\n<pre><code>    searchPage.clickShowKeywordsButton();\n    Log4j.info(&quot;Clicked Showing Keywords List Button&quot;);\n    searchPage.setConnectionsKnowledge(firstName, lastName, position, company);\n    Log4j.info(&quot;Connection related data has been entered.&quot;);\n    searchPage.clickKeywordsResult();\n    Log4j.info(&quot;Clicked the Show results button.&quot;);\n    boolean checkConnectionInformetion = searchPage.CheckConnectionInformation();\n    Log4j.info(&quot;Checked About Connection Informations&quot;);\n    if (!checkConnectionInformetion) {\n        boolean checkPosition = searchPage.checkCurrentTitleWithPosition();\n        if (!checkPosition) {\n            searchPage.clickOpenProfile();\n</code></pre>\n<p>} } }`</p>\n<p>I found the locator very slowly. The locator:</p>\n<pre><code>By getCurrentTitleElement = By.xpath(&quot;(//div[contains(@class,'entity-result__primary-subtitle t-14 t-black t-normal')])[1]&quot;);\n\n\n    public boolean checkCurrentTitleWithPosition() {\n\n        String currentTitle = (getText(getCurrentTitleElement) == null) ? &quot;&quot; : getText(getCurrentTitleElement);\n        return Arrays.stream(properties.getProperty(&quot;Positions&quot;)\n                .split(&quot;,&quot;)).anyMatch(position -&gt; find(currentTitle, position)); // this is my positions list and the list at properties.file. \n    }\n</code></pre>\n<p>This is my getText method</p>\n<pre><code>public String getText(By key) {\n        WebElement element = findElement(key);\n        if (element != null)\n            return findElement(key).getText();\n        return null;\n    }\n</code></pre>\n<p>This is my findElement method</p>\n<pre><code>public WebElement findElement(By key) {\n        WebElement element = presenceElement(key);\n        scrollToElement(element);\n        return element;\n    }\n\n</code></pre>\n<p>This is my presenceElement method</p>\n<pre><code> public WebElement presenceElement(By key) {\n        WebElement element = null;\n        try {\n            element = wait.until(ExpectedConditions.presenceOfElementLocated(key));\n        } catch (TimeoutException e) {\n\n        }\n        return element;\n    }\n</code></pre>\n<p>Does anyone have an idea?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","email-attachments","amazon-ses"],"answers":[{"tags":[],"owner":{"account_id":1007031,"reputation":83,"user_id":1020496,"display_name":"user1020496"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681773979,"creation_date":1681773979,"answer_id":76039978,"question_id":76039638,"body_markdown":"I&#39;m fairly new to Java and Lambda but the error &quot;no object dch for mime type multipart/mixed&quot; occurs when the JavaMail library is not able to find the DataContentHandler for the specified MIME type. In this case, it&#39;s happening when running the code in the AWS Lambda console, but not when testing locally through Postman. This suggests that there may be an issue with the environment configuration in the AWS Lambda console.\r\n\r\nOne solution is to ensure that the necessary libraries are included in the deployment package of the AWS Lambda function. When testing locally, all the required libraries may be present in the classpath, but the same may not be true in the AWS Lambda environment. Make sure that all the required dependencies are included in the deployment package and that the classpath is set up correctly.\r\n\r\nAnother solution is to explicitly register the DataContentHandler for the MIME type &quot;multipart/mixed&quot;. This can be done by creating a custom implementation of the javax.activation.DataContentHandler interface and registering it with the JavaBeans Activation Framework (JAF). Here&#39;s an example implementation (untested code):\r\n\r\n```\r\nimport javax.activation.*;\r\nimport java.io.*;\r\n\r\npublic class MyDataContentHandler implements DataContentHandler {\r\n    public MyDataContentHandler() {\r\n    }\r\n\r\n    public DataFlavor[] getTransferDataFlavors() {\r\n        return new DataFlavor[] { new DataFlavor(&quot;multipart/mixed&quot;) };\r\n    }\r\n\r\n    public Object getTransferData(DataFlavor flavor, DataSource dataSource)\r\n        throws UnsupportedFlavorException, IOException {\r\n        if (flavor.equals(new DataFlavor(&quot;multipart/mixed&quot;))) {\r\n            return dataSource.getInputStream();\r\n        } else {\r\n            throw new UnsupportedFlavorException(flavor);\r\n        }\r\n    }\r\n\r\n    public Object getContent(DataSource dataSource) throws IOException {\r\n        return dataSource.getInputStream();\r\n    }\r\n\r\n    public void writeTo(Object object, String mimeType, OutputStream outputStream)\r\n        throws IOException {\r\n        throw new UnsupportedEncodingException(&quot;writeTo() not supported&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThen, register the custom DataContentHandler with the JAF in the Lambda function code before sending the email:\r\n\r\n```\r\nMailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\nmc.addMailcap(&quot;multipart/mixed;; x-java-content-handler=com.example.MyDataContentHandler&quot;); \r\nCommandMap.setDefaultCommandMap(mc);\r\n```\r\n\r\nThis should register the custom DataContentHandler for the MIME type &quot;multipart/mixed&quot; and resolve the issue.\r\n\r\nMake sure to check the AWS Lambda environment configuration and include all the required dependencies in the deployment package to ensure that the necessary libraries are available at runtime.","title":"Getting this issue in lambda console but locally its works No object dch for mime type multipart/mixed","body":"<p>I'm fairly new to Java and Lambda but the error &quot;no object dch for mime type multipart/mixed&quot; occurs when the JavaMail library is not able to find the DataContentHandler for the specified MIME type. In this case, it's happening when running the code in the AWS Lambda console, but not when testing locally through Postman. This suggests that there may be an issue with the environment configuration in the AWS Lambda console.</p>\n<p>One solution is to ensure that the necessary libraries are included in the deployment package of the AWS Lambda function. When testing locally, all the required libraries may be present in the classpath, but the same may not be true in the AWS Lambda environment. Make sure that all the required dependencies are included in the deployment package and that the classpath is set up correctly.</p>\n<p>Another solution is to explicitly register the DataContentHandler for the MIME type &quot;multipart/mixed&quot;. This can be done by creating a custom implementation of the javax.activation.DataContentHandler interface and registering it with the JavaBeans Activation Framework (JAF). Here's an example implementation (untested code):</p>\n<pre><code>import javax.activation.*;\nimport java.io.*;\n\npublic class MyDataContentHandler implements DataContentHandler {\n    public MyDataContentHandler() {\n    }\n\n    public DataFlavor[] getTransferDataFlavors() {\n        return new DataFlavor[] { new DataFlavor(&quot;multipart/mixed&quot;) };\n    }\n\n    public Object getTransferData(DataFlavor flavor, DataSource dataSource)\n        throws UnsupportedFlavorException, IOException {\n        if (flavor.equals(new DataFlavor(&quot;multipart/mixed&quot;))) {\n            return dataSource.getInputStream();\n        } else {\n            throw new UnsupportedFlavorException(flavor);\n        }\n    }\n\n    public Object getContent(DataSource dataSource) throws IOException {\n        return dataSource.getInputStream();\n    }\n\n    public void writeTo(Object object, String mimeType, OutputStream outputStream)\n        throws IOException {\n        throw new UnsupportedEncodingException(&quot;writeTo() not supported&quot;);\n    }\n}\n</code></pre>\n<p>Then, register the custom DataContentHandler with the JAF in the Lambda function code before sending the email:</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \nmc.addMailcap(&quot;multipart/mixed;; x-java-content-handler=com.example.MyDataContentHandler&quot;); \nCommandMap.setDefaultCommandMap(mc);\n</code></pre>\n<p>This should register the custom DataContentHandler for the MIME type &quot;multipart/mixed&quot; and resolve the issue.</p>\n<p>Make sure to check the AWS Lambda environment configuration and include all the required dependencies in the deployment package to ensure that the necessary libraries are available at runtime.</p>\n"}],"owner":{"account_id":25520582,"reputation":1,"user_id":19310551,"display_name":"Mr Falariss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681773979,"creation_date":1681769076,"question_id":76039638,"body_markdown":"I am creating an AWS Lambda function in java quarkus.\r\n\r\nI am using java mail and Amazon SES for email.\r\n\r\nI have all the required dependencies added and its running completely fine while testing locally through postman. I get all the attachments that is pdf file on email. But whenever I try to test in the AWS Lambda console I get this:\r\n\r\n&gt; no object dch for mime type multipart/mixed\r\n\r\nI have tried adding the thread to load class and also:\r\n\r\n```\r\nMailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \r\nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \r\nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \r\nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \r\nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \r\nmc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); \r\n```\r\nbut no luck as of now.  Any one knows some solution?","title":"Getting this issue in lambda console but locally its works No object dch for mime type multipart/mixed","body":"<p>I am creating an AWS Lambda function in java quarkus.</p>\n<p>I am using java mail and Amazon SES for email.</p>\n<p>I have all the required dependencies added and its running completely fine while testing locally through postman. I get all the attachments that is pdf file on email. But whenever I try to test in the AWS Lambda console I get this:</p>\n<blockquote>\n<p>no object dch for mime type multipart/mixed</p>\n</blockquote>\n<p>I have tried adding the thread to load class and also:</p>\n<pre><code>MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); \nmc.addMailcap(&quot;text/html;; x-java-content-handler=com.sun.mail.handlers.text_html&quot;); \nmc.addMailcap(&quot;text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml&quot;); \nmc.addMailcap(&quot;text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain&quot;); \nmc.addMailcap(&quot;multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed&quot;); \nmc.addMailcap(&quot;message/rfc822;; x-java-content- handler=com.sun.mail.handlers.message_rfc822&quot;); \n</code></pre>\n<p>but no luck as of now.  Any one knows some solution?</p>\n"},{"tags":["java","java-8","wildfly-26"],"comments":[{"owner":{"account_id":4166540,"reputation":2310,"user_id":3415398,"display_name":"tandraschko"},"score":0,"creation_date":1681372751,"post_id":75999873,"comment_id":134046484,"body_markdown":"Thats something normally happens when a JSF 2.3+ API is in the classpath but JSF 2.2 impl is used in background.","body":"Thats something normally happens when a JSF 2.3+ API is in the classpath but JSF 2.2 impl is used in background."}],"owner":{"account_id":5018624,"reputation":307,"user_id":4758897,"display_name":"herbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681771834,"creation_date":1681333802,"question_id":75999873,"body_markdown":"I&#39;m trying to start project in **Wildfly 26.1.3**, using **Java 8** (JDK 1.8.0_321) and **Primefaces 6**, but I&#39;m getting **WFLYCTL0080 (*NullPointerException*)** error. When I use **Wildfly 8.2.1** everything works fine.\r\n\r\nWhen I execute **standalone.sh**:\r\n\r\n    =========================================================================\r\n      JBoss Bootstrap Environment\r\n      JBOSS_HOME: /c/Users/herbert.reis/Documents/wildfly-26.1.3.Final\r\n      JAVA: C:\\Program Files\\Java\\jdk1.8.0_321/bin/java\r\n      JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true\r\n    =========================================================================\r\n    ....\r\n    ....\r\n    ....\r\n    16:57:00,133 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] \r\n    (ServerService Thread Pool -- 84) HHH000397: Using ASTQueryTranslatorFactory\r\n    16:57:00,475 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Inicializando Mojarra 2.3.17.SP01 para o contexto &#39;/ssabd&#39;\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85) java.lang.UnsupportedOperationException\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.Application.getSearchExpressionHandler(Application.java:1911)\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.ApplicationWrapper.getSearchExpressionHandler(ApplicationWrapper.java:841)\r\n    16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.setSearchExpressionHandler(ApplicationConfigProcessor.java:624)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.process(ApplicationConfigProcessor.java:320)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:295)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:293)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n    16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n    16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.lang.Thread.run(Thread.java:750)\r\n    16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    16:57:01,800 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Critical error during deployment: : java.lang.NullPointerException\r\n            at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\r\n            at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\r\n            at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\r\n            at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\r\n            at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\r\n            at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\r\n            at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\r\n            at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\r\n            at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\r\n            at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n            at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    \r\n    16:57:01,803 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 85) MSC000001: Failed to start service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n            at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n            at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n            at java.lang.Thread.run(Thread.java:750)\r\n            at org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\r\n            ... 8 more\r\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:286)\r\n            at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\r\n            at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n            ... 10 more\r\n    Caused by: java.lang.NullPointerException\r\n            at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\r\n            at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\r\n            at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\r\n            at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\r\n            at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\r\n            at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\r\n            at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\r\n            at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\r\n            at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\r\n            at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\r\n            ... 21 more\r\n    \r\n    16:57:01,809 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ssabd.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;ssabd.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.NullPointerException&quot;}}\r\n    16:57:01,897 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd.war&quot; (runtime-name : &quot;ssabd.war&quot;)\r\n    16:57:01,898 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd-ds.xml&quot; (runtime-name : &quot;ssabd-ds.xml&quot;)\r\n    16:57:01,902 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\r\n    WFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n    WFLYCTL0448: 1 additional services are down due to their dependencies being missing or failed\r\n    16:57:02,023 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    16:57:02,027 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.1.3.Final (WildFly Core 18.1.2.Final) started (with errors) in 20089ms - Started 1216 of 1400 services (3 services failed or missing dependencies, 345 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\r\n    16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n\r\n**ssabd-ds.xml** file:\r\n\r\n    &lt;datasources&gt;\r\n    \t&lt;datasource jndi-name=&quot;java:jboss/ssabd&quot; pool-name=&quot;ssabd&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n    \t\t&lt;connection-url&gt;jdbc:postgresql://localhost:5432/ssabd&lt;/connection-url&gt;\r\n    \t\t&lt;driver&gt;postgresql&lt;/driver&gt;\r\n    \t\t&lt;security&gt;\r\n    \t\t\t&lt;user-name&gt;postgres&lt;/user-name&gt;\r\n    \t\t\t&lt;password&gt;admin&lt;/password&gt;\r\n    \t\t&lt;/security&gt;\r\n    \t&lt;/datasource&gt;\r\n    &lt;/datasources&gt;\r\n\r\n\r\n**persistence.xml** file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    \r\n    \t&lt;persistence-unit name=&quot;ssabd&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;jta-data-source&gt;java:/jboss/ssabd&lt;/jta-data-source&gt;\r\n\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.globally_quoted_identifiers&quot; value=&quot;false&quot; /&gt;\r\n        \t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;180&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;100&quot; /&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/persistence-unit&gt;\r\n    \r\n    &lt;/persistence&gt;\r\n\r\n**ssabd.war.failed** file:\r\n\r\n    &quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;ssabd.war\\\\\\&quot;.undertow-deployment\\&quot; =&gt; \\&quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.RuntimeException: java.lang.NullPointerException\r\n        Caused by: java.lang.NullPointerException\\&quot;}}&quot;\r\n\r\n\r\nWhat can I do to solve the problem?","title":"Wildfly 26.1.3: Can&#39;t start project: WFLYCTL0080: NullPointerException","body":"<p>I'm trying to start project in <strong>Wildfly 26.1.3</strong>, using <strong>Java 8</strong> (JDK 1.8.0_321) and <strong>Primefaces 6</strong>, but I'm getting <strong>WFLYCTL0080 (<em>NullPointerException</em>)</strong> error. When I use <strong>Wildfly 8.2.1</strong> everything works fine.</p>\n<p>When I execute <strong>standalone.sh</strong>:</p>\n<pre><code>=========================================================================\n  JBoss Bootstrap Environment\n  JBOSS_HOME: /c/Users/herbert.reis/Documents/wildfly-26.1.3.Final\n  JAVA: C:\\Program Files\\Java\\jdk1.8.0_321/bin/java\n  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true\n=========================================================================\n....\n....\n....\n16:57:00,133 INFO  [org.hibernate.hql.internal.QueryTranslatorFactoryInitiator] \n(ServerService Thread Pool -- 84) HHH000397: Using ASTQueryTranslatorFactory\n16:57:00,475 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Inicializando Mojarra 2.3.17.SP01 para o contexto '/ssabd'\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85) java.lang.UnsupportedOperationException\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.Application.getSearchExpressionHandler(Application.java:1911)\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at javax.faces.application.ApplicationWrapper.getSearchExpressionHandler(ApplicationWrapper.java:841)\n16:57:01,238 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.setSearchExpressionHandler(ApplicationConfigProcessor.java:624)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.processor.ApplicationConfigProcessor.process(ApplicationConfigProcessor.java:320)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.lambda$initialize$0(ConfigManager.java:295)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Iterator.forEachRemaining(Iterator.java:116)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:293)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:207)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n16:57:01,239 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n16:57:01,240 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at java.lang.Thread.run(Thread.java:750)\n16:57:01,241 ERROR [stderr] (ServerService Thread Pool -- 85)   at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n16:57:01,800 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 85) Critical error during deployment: : java.lang.NullPointerException\n        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\n        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\n        at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\n        at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\n        at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\n        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\n        at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\n        at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\n        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\n        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\n\n16:57:01,803 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 85) MSC000001: Failed to start service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:90)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.lang.Thread.run(Thread.java:750)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:87)\n        ... 8 more\nCaused by: java.lang.RuntimeException: java.lang.NullPointerException\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:286)\n        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:219)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1544)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        ... 10 more\nCaused by: java.lang.NullPointerException\n        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:324)\n        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:123)\n        at com.sun.faces.application.applicationimpl.Events.processListeners(Events.java:253)\n        at com.sun.faces.application.applicationimpl.Events.invokeListenersFor(Events.java:231)\n        at com.sun.faces.application.applicationimpl.Events.publishEvent(Events.java:112)\n        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:127)\n        at org.jboss.weld.environment.servlet.jsf.ForwardingApplication.publishEvent(ForwardingApplication.java:282)\n        at javax.faces.application.ApplicationWrapper.publishEvent(ApplicationWrapper.java:788)\n        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:548)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:266)\n        ... 21 more\n\n16:57:01,809 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;ssabd.war&quot;)]) - failure description: {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;ssabd.war\\&quot;.undertow-deployment&quot; =&gt; &quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException&quot;}}\n16:57:01,897 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd.war&quot; (runtime-name : &quot;ssabd.war&quot;)\n16:57:01,898 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;ssabd-ds.xml&quot; (runtime-name : &quot;ssabd-ds.xml&quot;)\n16:57:01,902 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\nWFLYCTL0186:   Services which failed to start:      service jboss.deployment.unit.&quot;ssabd.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\nWFLYCTL0448: 1 additional services are down due to their dependencies being missing or failed\n16:57:02,023 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n16:57:02,027 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 26.1.3.Final (WildFly Core 18.1.2.Final) started (with errors) in 20089ms - Started 1216 of 1400 services (3 services failed or missing dependencies, 345 services are lazy, passive or on-demand) - Server configuration file in use: standalone.xml\n16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n16:57:02,030 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n</code></pre>\n<p><strong>ssabd-ds.xml</strong> file:</p>\n<pre><code>&lt;datasources&gt;\n    &lt;datasource jndi-name=&quot;java:jboss/ssabd&quot; pool-name=&quot;ssabd&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n        &lt;connection-url&gt;jdbc:postgresql://localhost:5432/ssabd&lt;/connection-url&gt;\n        &lt;driver&gt;postgresql&lt;/driver&gt;\n        &lt;security&gt;\n            &lt;user-name&gt;postgres&lt;/user-name&gt;\n            &lt;password&gt;admin&lt;/password&gt;\n        &lt;/security&gt;\n    &lt;/datasource&gt;\n&lt;/datasources&gt;\n</code></pre>\n<p><strong>persistence.xml</strong> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n\n    &lt;persistence-unit name=&quot;ssabd&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;java:/jboss/ssabd&lt;/jta-data-source&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.globally_quoted_identifiers&quot; value=&quot;false&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.min_size&quot; value=&quot;5&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.max_size&quot; value=&quot;20&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.timeout&quot; value=&quot;180&quot; /&gt;\n            &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot; value=&quot;100&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p><strong>ssabd.war.failed</strong> file:</p>\n<pre><code>&quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;ssabd.war\\\\\\&quot;.undertow-deployment\\&quot; =&gt; \\&quot;java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.RuntimeException: java.lang.NullPointerException\n    Caused by: java.lang.NullPointerException\\&quot;}}&quot;\n</code></pre>\n<p>What can I do to solve the problem?</p>\n"},{"tags":["java","spring","dictionary","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681770611,"creation_date":1681770611,"answer_id":76039748,"question_id":76039138,"body_markdown":"This is an example of intervention of &quot;Spring magic&quot; in unexpected ways.\r\n\r\nIn this case, the **map autowiring** works: if you inject a `Map&lt;String, SomeClass&gt;` then Spring considers it as a special case. that you want to inject all registered beans that override SomeClass.\r\n\r\n&gt; Autowiring Arrays, Collections, and Maps\r\nIn case of an array, Collection, or Map dependency type, the container autowires all beans matching the declared value type. For such purposes, the map keys must be declared as type String which will be resolved to the corresponding bean names. Such a container-provided collection will be ordered, taking into account Ordered and @Order values of the target components, otherwise following their registration order in the container. Alternatively, a single matching target bean may also be a generally typed Collection or Map itself, getting injected as such.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\r\n\r\nSo essentially what you are getting in your debugger (i.e., LinkedHashMap) is the list of all beans that:\r\n- implement the type specified in map declaration (in this case Object, a lot of stuff implements that)\r\n- match qualifier &quot;producerConfig&quot; (in this case, there is onlye a single matching bean so only 1 entry in LinkedHashMap).\r\n\r\nThese beans are accompanied by bean names and sorted by registration order, hence LinkedHashMap.\r\n\r\nNote that it does not happen if the key type of your map is not String. If you replace `Map&lt;String, Object&gt;` to `Map&lt;Integer, Object&gt;` the behavior will be totally different and you will get only single bean injected as you would expect initially.\r\n\r\nRegarding &quot;how to prevent this&quot;: I am not sure if this behavior can be switched off, the documentation does not say anything about it. I think the most reasonable solution is to create a wrapper class and inject it instead of a injecting a Map directly. ","title":"Why does Spring autowire Map into another wrapped Map?","body":"<p>This is an example of intervention of &quot;Spring magic&quot; in unexpected ways.</p>\n<p>In this case, the <strong>map autowiring</strong> works: if you inject a <code>Map&lt;String, SomeClass&gt;</code> then Spring considers it as a special case. that you want to inject all registered beans that override SomeClass.</p>\n<blockquote>\n<p>Autowiring Arrays, Collections, and Maps\nIn case of an array, Collection, or Map dependency type, the container autowires all beans matching the declared value type. For such purposes, the map keys must be declared as type String which will be resolved to the corresponding bean names. Such a container-provided collection will be ordered, taking into account Ordered and @Order values of the target components, otherwise following their registration order in the container. Alternatively, a single matching target bean may also be a generally typed Collection or Map itself, getting injected as such.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html</a></p>\n<p>So essentially what you are getting in your debugger (i.e., LinkedHashMap) is the list of all beans that:</p>\n<ul>\n<li>implement the type specified in map declaration (in this case Object, a lot of stuff implements that)</li>\n<li>match qualifier &quot;producerConfig&quot; (in this case, there is onlye a single matching bean so only 1 entry in LinkedHashMap).</li>\n</ul>\n<p>These beans are accompanied by bean names and sorted by registration order, hence LinkedHashMap.</p>\n<p>Note that it does not happen if the key type of your map is not String. If you replace <code>Map&lt;String, Object&gt;</code> to <code>Map&lt;Integer, Object&gt;</code> the behavior will be totally different and you will get only single bean injected as you would expect initially.</p>\n<p>Regarding &quot;how to prevent this&quot;: I am not sure if this behavior can be switched off, the documentation does not say anything about it. I think the most reasonable solution is to create a wrapper class and inject it instead of a injecting a Map directly.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681770611,"creation_date":1681764099,"question_id":76039138,"body_markdown":"I have the following bean definition\r\n\r\n    @Bean(name=&quot;producerConfig&quot;)\r\n    public Map&lt;String, Object&gt; producerConfig() {\r\n\r\nand the following injection declaration\r\n\r\n    @Service\r\n    @Component(&quot;...)\r\n    public class DataAssetSnapshotPublisherLive {\r\n        public SnapshotPublisherLive(..., @Qualifier(&quot;producerConfig&quot;) Map&lt;String, Object&gt; producerConfig) {\r\n            ...\r\n        }\r\n\r\nI would expect, that `producerPublisher` will be injected into `producerPublisher` variable, because it has the same type and qualifier.\r\n\r\nInstead of this I see in debugger that it is wrapped\r\n\r\n    producerConfig = {LinkedHashMap@12556}  size = 1\r\n     &quot;producerConfig&quot; -&gt; {HashMap@12561}  size = 27\r\n      key = &quot;producerConfig&quot;\r\n      value = {HashMap@12561}  size = 27\r\n\r\nI.e. `producerConfig` is initialized with new `HashMap` and one element is added to the hash map.\r\n\r\nWhy and how to prevent this?","title":"Why does Spring autowire Map into another wrapped Map?","body":"<p>I have the following bean definition</p>\n<pre><code>@Bean(name=&quot;producerConfig&quot;)\npublic Map&lt;String, Object&gt; producerConfig() {\n</code></pre>\n<p>and the following injection declaration</p>\n<pre><code>@Service\n@Component(&quot;...)\npublic class DataAssetSnapshotPublisherLive {\n    public SnapshotPublisherLive(..., @Qualifier(&quot;producerConfig&quot;) Map&lt;String, Object&gt; producerConfig) {\n        ...\n    }\n</code></pre>\n<p>I would expect, that <code>producerPublisher</code> will be injected into <code>producerPublisher</code> variable, because it has the same type and qualifier.</p>\n<p>Instead of this I see in debugger that it is wrapped</p>\n<pre><code>producerConfig = {LinkedHashMap@12556}  size = 1\n &quot;producerConfig&quot; -&gt; {HashMap@12561}  size = 27\n  key = &quot;producerConfig&quot;\n  value = {HashMap@12561}  size = 27\n</code></pre>\n<p>I.e. <code>producerConfig</code> is initialized with new <code>HashMap</code> and one element is added to the hash map.</p>\n<p>Why and how to prevent this?</p>\n"},{"tags":["java","spring-boot","mqtt","mosquitto"],"comments":[{"owner":{"account_id":16352957,"reputation":15616,"user_id":11810946,"display_name":"Brits"},"score":1,"creation_date":1681783270,"post_id":76039706,"comment_id":134109178,"body_markdown":"`MQTTService tcp://192.168.1.100:1833` you have a typo in the port (`1833` vs `1883`)","body":"<code>MQTTService tcp:&#47;&#47;192.168.1.100:1833</code> you have a typo in the port (<code>1833</code> vs <code>1883</code>)"}],"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681820409,"answer_count":0,"score":0,"last_activity_date":1681769978,"creation_date":1681769978,"question_id":76039706,"body_markdown":"I&#39;m working on Mosquitto MQTT Broker and I need to reach it by a Spring Boot Application.\r\n\r\nThe Mosquitto Broker is on a docker container and from an Arduino client and MQTTX client it is successfully reached.\r\n\r\nThe problem is the Spring Boot application: every time the application try to connect to Broker the following error is raised:\r\n\r\n```shell\r\n2023-04-18T00:04:54.878+02:00 DEBUG 32920 --- [  restartedMain] com.abubusoft.iot.service.MQTTService    : MQTTService tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.891+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt;init&gt; ClientID=paho7659740194162 ServerURI=tcp://192.168.1.100:1833 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MemoryPersistence@6a3aae31 \r\n2023-04-18T00:04:54.893+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &lt;&gt; \r\n2023-04-18T00:04:54.897+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: cleanSession=true connectionTimeout=30 TimekeepAlive=60 userName=null password=[null] will=[null] userContext=null callback=null \r\n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.900+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \r\n2023-04-18T00:04:54.901+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt; \r\n2023-04-18T00:04:54.903+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \r\n2023-04-18T00:04:54.904+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \r\n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 \r\n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \r\n2023-04-18T00:04:54.907+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@60494888 \r\n2023-04-18T00:04:54.908+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \r\n2023-04-18T00:04:54.932+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2023-04-18T00:04:54.937+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \r\n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \r\n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \r\n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \r\n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.996+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \r\n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b0b92a1 \r\n2023-04-18T00:04:55.000+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \r\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \r\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.021+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \r\n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \r\n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \r\n2023-04-18T00:04:55.038+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: failed with exception \r\n\r\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 common frames omitted\r\n\r\nUnable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\r\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\r\n        at java.base/java.net.Socket.connect(Socket.java:591)\r\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\r\n        ... 2 more\r\n\r\n```\r\n\r\nThe Mosquitto MQTT Broker does not require credentials (it&#39;s a server for developer purpose). Its configuration:\r\n\r\n```text\r\nallow_anonymous true\r\npersistence false\r\n\r\nlistener 1883 0.0.0.0\r\n```\r\n\r\nThe snippet code in the Spring Boot application does not work:\r\n\r\n```java\r\npackage com.abubusoft.iot.service;\r\n\r\nimport java.util.Arrays;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport org.eclipse.paho.client.mqttv3.*;\r\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class MQTTService {\r\n\r\n    private MqttClient client;\r\n\r\n    private String brokerServer;\r\n\r\n    public MQTTService(@Value(&quot;${spring.mqtt.broker.server}&quot;) String brokerServer) {\r\n        log.debug(&quot;MQTTService {}&quot;, brokerServer);\r\n        this.brokerServer = brokerServer;\r\n\r\n        try {\r\n            client =\r\n                new MqttClient(\r\n                    brokerServer, // serverURI in format:\r\n                    MqttClient.generateClientId(), // ClientId\r\n                    new MemoryPersistence()\r\n                ); // Persistence\r\n\r\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\r\n            //mqttConnectOptions.setUserName(&quot;&lt;your_username&gt;&quot;);\r\n            //mqttConnectOptions.setPassword(&quot;&lt;your_password&gt;&quot;.toCharArray());\r\n            // using the default socket factory\r\n            //mqttConnectOptions.setSocketFactory(SSLSocketFactory.getDefault());\r\n\r\n            client.setCallback(callback);\r\n            client.connect(mqttConnectOptions);\r\n\r\n            client.subscribe(&quot;/device/status&quot;, 0);\r\n            // client.setTimeToWait();\r\n            //            client.publish(\r\n            //                &quot;topic&quot;,\r\n            //                &quot;payload&quot;.getBytes(UTF_8),\r\n            //                2, // QoS = 2\r\n            //                false);\r\n        } catch (MqttException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private final Logger log = LoggerFactory.getLogger(MQTTService.class);\r\n\r\n    private MqttCallback callback = new MqttCallback() {\r\n        @Override\r\n        // Called when the client lost the connection to the broker\r\n        public void connectionLost(Throwable cause) {\r\n            System.out.println(&quot;client lost connection &quot; + cause);\r\n        }\r\n\r\n        @Override\r\n        public void messageArrived(String topic, MqttMessage message) {\r\n            System.out.println(topic + &quot;: &quot; + Arrays.toString(message.getPayload()));\r\n        }\r\n\r\n        @Override\r\n        // Called when an outgoing publish is complete\r\n        public void deliveryComplete(IMqttDeliveryToken token) {\r\n            System.out.println(&quot;delivery complete &quot; + token);\r\n        }\r\n    };\r\n}\r\n\r\n```\r\n\r\nThe Spring boot application use the following library\r\n\r\n```xml\r\n&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n   &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n   &lt;version&gt;1.2.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe Mosquitto Broker is eclipse-mosquitto:2.0.15.\r\n\r\nAny suggestion to resolve this problem? Thanks in advance.","title":"Unable to connect to a Mosquitto MQTT Broker from a Spring Boot Application","body":"<p>I'm working on Mosquitto MQTT Broker and I need to reach it by a Spring Boot Application.</p>\n<p>The Mosquitto Broker is on a docker container and from an Arduino client and MQTTX client it is successfully reached.</p>\n<p>The problem is the Spring Boot application: every time the application try to connect to Broker the following error is raised:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-04-18T00:04:54.878+02:00 DEBUG 32920 --- [  restartedMain] com.abubusoft.iot.service.MQTTService    : MQTTService tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.891+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt;init&gt; ClientID=paho7659740194162 ServerURI=tcp://192.168.1.100:1833 PersistenceType=org.eclipse.paho.client.mqttv3.persist.MemoryPersistence@6a3aae31 \n2023-04-18T00:04:54.893+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &lt;&gt; \n2023-04-18T00:04:54.897+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: cleanSession=true connectionTimeout=30 TimekeepAlive=60 userName=null password=[null] will=[null] userContext=null callback=null \n2023-04-18T00:04:54.899+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.900+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: URI=tcp://192.168.1.100:1833 \n2023-04-18T00:04:54.901+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.MqttAsyncClient   : paho7659740194162: &lt; \n2023-04-18T00:04:54.903+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \n2023-04-18T00:04:54.904+02:00 DEBUG 32920 --- [  restartedMain] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.905+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null timeout=-1 sent=false completed=false hasException=false response=null token=key=null ,topics= ,usercontext=org.eclipse.paho.client.mqttv3.MqttAsyncClient@196d55bd ,isComplete=false ,isNotified=false ,exception=null ,actioncallback=org.eclipse.paho.client.mqttv3.internal.ConnectActionListener@62f51a05 \n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: key=null wait max=-1 \n2023-04-18T00:04:54.906+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \n2023-04-18T00:04:54.907+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@60494888 \n2023-04-18T00:04:54.908+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \n2023-04-18T00:04:54.932+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n2023-04-18T00:04:54.937+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.976+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.983+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \n2023-04-18T00:04:54.984+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \n2023-04-18T00:04:54.991+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=CONNECTING \n2023-04-18T00:04:54.995+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.996+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con message=CONNECT clientId paho7659740194162 keepAliveInterval 60 \n2023-04-18T00:04:54.999+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con token=org.eclipse.paho.client.mqttv3.MqttToken@3b0b92a1 \n2023-04-18T00:04:55.000+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: connect to host 192.168.1.100 port 1,833 timeout 30,000 \n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.m.internal.TCPNetworkModule      : paho7659740194162: Failed to create TCP socket \n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n\n2023-04-18T00:04:55.016+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: connect failed: unexpected exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTING \n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: resp=Client is currently disconnecting (32102) \n2023-04-18T00:04:55.020+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: &gt; \n2023-04-18T00:04:55.021+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: reason Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: key=Con \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: disconnected \n2023-04-18T00:04:55.023+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientState      : paho7659740194162: &gt; \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsTokenStore  : paho7659740194162: &gt; 0 tokens \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.TimerPingSender   : paho7659740194162: stop \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.ClientComms      : paho7659740194162: state=DISCONNECTED \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: callback and notify for key=Con \n2023-04-18T00:04:55.031+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=Con response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.p.c.mqttv3.internal.CommsCallback    : paho7659740194162: call onSuccess key=Con \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.034+02:00 DEBUG 32920 --- [ho7659740194162] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: &gt;key=null response=null excep=Unable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused) \n2023-04-18T00:04:55.038+02:00 DEBUG 32920 --- [  restartedMain] o.e.paho.client.mqttv3.internal.Token    : paho7659740194162: failed with exception \n\norg.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 common frames omitted\n\nUnable to connect to server (32103) - java.net.ConnectException: Connection refused (Connection refused)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:724)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:399)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:242)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:224)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:403)\n        at java.base/java.net.Socket.connect(Socket.java:591)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:74)\n        ... 2 more\n\n</code></pre>\n<p>The Mosquitto MQTT Broker does not require credentials (it's a server for developer purpose). Its configuration:</p>\n<pre><code>allow_anonymous true\npersistence false\n\nlistener 1883 0.0.0.0\n</code></pre>\n<p>The snippet code in the Spring Boot application does not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.abubusoft.iot.service;\n\nimport java.util.Arrays;\nimport javax.net.ssl.SSLSocketFactory;\nimport org.eclipse.paho.client.mqttv3.*;\nimport org.eclipse.paho.client.mqttv3.persist.MemoryPersistence;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MQTTService {\n\n    private MqttClient client;\n\n    private String brokerServer;\n\n    public MQTTService(@Value(&quot;${spring.mqtt.broker.server}&quot;) String brokerServer) {\n        log.debug(&quot;MQTTService {}&quot;, brokerServer);\n        this.brokerServer = brokerServer;\n\n        try {\n            client =\n                new MqttClient(\n                    brokerServer, // serverURI in format:\n                    MqttClient.generateClientId(), // ClientId\n                    new MemoryPersistence()\n                ); // Persistence\n\n            MqttConnectOptions mqttConnectOptions = new MqttConnectOptions();\n            //mqttConnectOptions.setUserName(&quot;&lt;your_username&gt;&quot;);\n            //mqttConnectOptions.setPassword(&quot;&lt;your_password&gt;&quot;.toCharArray());\n            // using the default socket factory\n            //mqttConnectOptions.setSocketFactory(SSLSocketFactory.getDefault());\n\n            client.setCallback(callback);\n            client.connect(mqttConnectOptions);\n\n            client.subscribe(&quot;/device/status&quot;, 0);\n            // client.setTimeToWait();\n            //            client.publish(\n            //                &quot;topic&quot;,\n            //                &quot;payload&quot;.getBytes(UTF_8),\n            //                2, // QoS = 2\n            //                false);\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private final Logger log = LoggerFactory.getLogger(MQTTService.class);\n\n    private MqttCallback callback = new MqttCallback() {\n        @Override\n        // Called when the client lost the connection to the broker\n        public void connectionLost(Throwable cause) {\n            System.out.println(&quot;client lost connection &quot; + cause);\n        }\n\n        @Override\n        public void messageArrived(String topic, MqttMessage message) {\n            System.out.println(topic + &quot;: &quot; + Arrays.toString(message.getPayload()));\n        }\n\n        @Override\n        // Called when an outgoing publish is complete\n        public void deliveryComplete(IMqttDeliveryToken token) {\n            System.out.println(&quot;delivery complete &quot; + token);\n        }\n    };\n}\n\n</code></pre>\n<p>The Spring boot application use the following library</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n   &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n   &lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The Mosquitto Broker is eclipse-mosquitto:2.0.15.</p>\n<p>Any suggestion to resolve this problem? Thanks in advance.</p>\n"},{"tags":["java","jnativehook"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1681779042,"post_id":76039669,"comment_id":134108722,"body_markdown":"Are you using a GUI or is this a Console (terminal) Application?","body":"Are you using a GUI or is this a Console (terminal) Application?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681780146,"post_id":76039669,"comment_id":134108852,"body_markdown":"Like you set any value to any variable ... sorry for the vagueness of the comment, but it matches the vagueness of the question. Why are you using `jnativehook`?  That seems like a very specific requirement and to be honest, quite a technical one","body":"Like you set any value to any variable ... sorry for the vagueness of the comment, but it matches the vagueness of the question. Why are you using <code>jnativehook</code>?  That seems like a very specific requirement and to be honest, quite a technical one"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681780260,"post_id":76039669,"comment_id":134108865,"body_markdown":"The [documentation](https://github.com/kwhat/jnativehook/blob/2.2/doc/Keyboard.md) seems like a reasonable place to start, it shows you how to get the information from the API, from there it&#39;s just &quot;standard&quot; java variable assignment ... which raises more questions.  If you&#39;re not sure how that works, maybe something like JNI/native hooks is best put aside till you do","body":"The <a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/Keyboard.md\" rel=\"nofollow noreferrer\">documentation</a> seems like a reasonable place to start, it shows you how to get the information from the API, from there it&#39;s just &quot;standard&quot; java variable assignment ... which raises more questions.  If you&#39;re not sure how that works, maybe something like JNI/native hooks is best put aside till you do"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1681966783,"post_id":76039669,"comment_id":134142462,"body_markdown":"@DevilsHnd for now this is a terminal application","body":"@DevilsHnd for now this is a terminal application"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1681966949,"post_id":76039669,"comment_id":134142485,"body_markdown":"@MadProgrammer ya sorry if this is a lil vague but you can open a nativelistener and save the typed character to a variable? also i&#39;m using jnativehook cause idk any other things that allow you to listen to keypresses lmao, please put me on if you know any other keypress detectors i could use. ^w^ ^w^ ^w^","body":"@MadProgrammer ya sorry if this is a lil vague but you can open a nativelistener and save the typed character to a variable? also i&#39;m using jnativehook cause idk any other things that allow you to listen to keypresses lmao, please put me on if you know any other keypress detectors i could use. ^w^ ^w^ ^w^"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681968007,"post_id":76039669,"comment_id":134142606,"body_markdown":"[Language Basics: Variables](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html); [Understanding Class Members](https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html\" rel=\"nofollow noreferrer\">Language Basics: Variables</a>; <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Understanding Class Members</a>"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028062,"post_id":76039669,"comment_id":134155677,"body_markdown":"@MadProgrammer i feel confident i know how variables work, and i stay spamming the static keyword to use variables in inputmismatchexception circumventors. looking back to this question i think ima try to assign the variable in one of the methods and see if that works, maybe my mistake was trying to assign the variable in the main method lmaooo.","body":"@MadProgrammer i feel confident i know how variables work, and i stay spamming the static keyword to use variables in inputmismatchexception circumventors. looking back to this question i think ima try to assign the variable in one of the methods and see if that works, maybe my mistake was trying to assign the variable in the main method lmaooo."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028116,"post_id":76039669,"comment_id":134155685,"body_markdown":"@MadProgrammer also wanna add, now reading the class members doc to understand how the private keyword even works.","body":"@MadProgrammer also wanna add, now reading the class members doc to understand how the private keyword even works."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682028214,"post_id":76039669,"comment_id":134155698,"body_markdown":"@MadProgrammer well more like reading a quora thing lmao. still reading up on the private keyword doe.","body":"@MadProgrammer well more like reading a quora thing lmao. still reading up on the private keyword doe."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682030726,"post_id":76039669,"comment_id":134156030,"body_markdown":"@MadProgrammer omg i looked at the documentation you linked and i might&#39;ve actually gotten somewhere, it&#39;s the vc events that hold the secret to actually assigning the values to a variable right?","body":"@MadProgrammer omg i looked at the documentation you linked and i might&#39;ve actually gotten somewhere, it&#39;s the vc events that hold the secret to actually assigning the values to a variable right?"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682032396,"post_id":76039669,"comment_id":134156208,"body_markdown":"@MadProgrammer wait but it&#39;s like the vc event won&#39;t save to the variable, i can make it do something if i push a key but idk how to translate that into saving it to a variable doe.","body":"@MadProgrammer wait but it&#39;s like the vc event won&#39;t save to the variable, i can make it do something if i push a key but idk how to translate that into saving it to a variable doe."},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682899793,"post_id":76039669,"comment_id":134283037,"body_markdown":"ok so i got it, all i needed to do was use an if statement where if a vc key is pressed, it&#39;ll do something (in my case, it adds to the array list)\n\nso for my example:\n\n\n\n`if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n\t\t\t// typingDetector is my arraylist\n           \ttypingDetector.add(e.getKeyText(e.getKeyCode()));\n\t\t\t\n        }`\n\nhopefully the code formats right","body":"ok so i got it, all i needed to do was use an if statement where if a vc key is pressed, it&#39;ll do something (in my case, it adds to the array list)  so for my example:    <code>if (e.getKeyCode() == NativeKeyEvent.VC_W) { \t\t\t&#47;&#47; typingDetector is my arraylist            \ttypingDetector.add(e.getKeyText(e.getKeyCode())); \t\t\t         }</code>  hopefully the code formats right"},{"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"score":0,"creation_date":1682899870,"post_id":76039669,"comment_id":134283049,"body_markdown":"well damn this code ain&#39;t newline correctly","body":"well damn this code ain&#39;t newline correctly"}],"owner":{"account_id":28334000,"reputation":1,"user_id":21667843,"display_name":"megadriive"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681769379,"creation_date":1681769379,"question_id":76039669,"body_markdown":"So this is probably an obvious question, but i am just wondering if there is a way to save a key press to a variable (like a char or a string). I am relatively new to java, I know how to use scanners and how to make hash codes, I got a login screen with no back button coded so yea making good progress, but with all that aside how do i save a key press to a variable?","title":"How to save a key press to variable with jnativehook","body":"<p>So this is probably an obvious question, but i am just wondering if there is a way to save a key press to a variable (like a char or a string). I am relatively new to java, I know how to use scanners and how to make hash codes, I got a login screen with no back button coded so yea making good progress, but with all that aside how do i save a key press to a variable?</p>\n"},{"tags":["java","windows-11","graalvm-native-image"],"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681768391,"creation_date":1681766922,"question_id":76039412,"body_markdown":"When I try to create native image on Windows 11 computer I get the error below. And my environment specifications are like this:\r\n\r\n - OS : Windows 11 Enterprise 64-bit (22621) (Language : English)\r\n - GraalVM : ce-java11-22.1.0 (Windows amd64)\r\n - Microsoft Visual Studio Build Tools 2019 (16.11.24)\r\n - Maven 3.8.1\r\n - x64 Native Tools Command Prompt for VS 2019\r\n \r\n[error log][1]\r\n\r\nIs there anything wrong with windows 11? Also this same error occurs on GraalVM version 22.3.1 too. And I created an issue on GitHub https://github.com/oracle/graal/issues/6438\r\n\r\n\r\nI tried to change GraalVM version and reinstalled Visual C++ Build Tools but they didnt help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eX960.png","title":"Error while creating native image with GraalVM on Windows 11","body":"<p>When I try to create native image on Windows 11 computer I get the error below. And my environment specifications are like this:</p>\n<ul>\n<li>OS : Windows 11 Enterprise 64-bit (22621) (Language : English)</li>\n<li>GraalVM : ce-java11-22.1.0 (Windows amd64)</li>\n<li>Microsoft Visual Studio Build Tools 2019 (16.11.24)</li>\n<li>Maven 3.8.1</li>\n<li>x64 Native Tools Command Prompt for VS 2019</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/eX960.png\" rel=\"nofollow noreferrer\">error log</a></p>\n<p>Is there anything wrong with windows 11? Also this same error occurs on GraalVM version 22.3.1 too. And I created an issue on GitHub <a href=\"https://github.com/oracle/graal/issues/6438\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/6438</a></p>\n<p>I tried to change GraalVM version and reinstalled Visual C++ Build Tools but they didnt help</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":7419981,"reputation":2083,"user_id":5644761,"display_name":"JakeB"},"score":0,"creation_date":1681741709,"post_id":76036154,"comment_id":134101530,"body_markdown":"Android only supports upto java 11","body":"Android only supports upto java 11"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1681741829,"post_id":76036154,"comment_id":134101578,"body_markdown":"Gradle between 7.6 and 8.0 supports Java &lt;= 19, Gradle 8.1 supports Java &lt;= 20.","body":"Gradle between 7.6 and 8.0 supports Java &lt;= 19, Gradle 8.1 supports Java &lt;= 20."},{"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"score":0,"creation_date":1681745099,"post_id":76036154,"comment_id":134102543,"body_markdown":"the issue start after updating to android studio to flamingo","body":"the issue start after updating to android studio to flamingo"},{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1683234672,"post_id":76036154,"comment_id":134339982,"body_markdown":"same problem found solution?","body":"same problem found solution?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683236282,"post_id":76036154,"comment_id":134340247,"body_markdown":"The same question can also be found here (with answer) https://stackoverflow.com/q/76137431/150978","body":"The same question can also be found here (with answer) <a href=\"https://stackoverflow.com/q/76137431/150978\">stackoverflow.com/q/76137431/150978</a>"}],"answers":[{"comments":[{"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"score":0,"creation_date":1681796045,"post_id":76039502,"comment_id":134109947,"body_markdown":"No still not working!!","body":"No still not working!!"}],"tags":[],"owner":{"account_id":10544691,"reputation":41,"user_id":7769364,"display_name":"pavlusha_crew "},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681767736,"creation_date":1681767736,"answer_id":76039502,"question_id":76036154,"body_markdown":"Change in Settings-&gt;Gradle Java JDK to 17 it maybe solves your problem ","title":"Not able to Find compatible version of embedded java version and gradle tools version for Android Studio Flamingo","body":"<p>Change in Settings-&gt;Gradle Java JDK to 17 it maybe solves your problem</p>\n"}],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1681767736,"creation_date":1681741155,"question_id":76036154,"body_markdown":"I tried with jdk 17 and 18 its giving me the same issue \r\n [![enter image description here][1]][1]\r\n\r\n\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\nCould not resolve com.android.tools.build:gradle:8.0.0.\r\n\r\nRequired by:\r\n    project : &gt; com.android.application:com.android.application.gradle.plugin:8.0.0\r\n    project : &gt; com.android.library:com.android.library.gradle.plugin:8.0.0\r\n\r\nNo matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n\r\n- Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n    - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n    - Other compatible attribute:\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n- Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:\r\n    - Incompatible because this component declares documentation and the consumer needed a library\r\n    - Other compatible attributes:\r\n        - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n        - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n- Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n    - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8\r\n    - Other compatible attribute:\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n- Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:\r\n    - Incompatible because this component declares documentation and the consumer needed a library\r\n    - Other compatible attributes:\r\n        - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n        - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n        - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQ7Lj.png\r\n\r\n\r\nIf anyone else also faced the same issue with android studio flamingo please suggest some solutions.","title":"Not able to Find compatible version of embedded java version and gradle tools version for Android Studio Flamingo","body":"<p>I tried with jdk 17 and 18 its giving me the same issue\n<a href=\"https://i.stack.imgur.com/eQ7Lj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQ7Lj.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:8.0.0.</p>\n</blockquote>\n<p>Required by:\nproject : &gt; com.android.application:com.android.application.gradle.plugin:8.0.0\nproject : &gt; com.android.library:com.android.library.gradle.plugin:8.0.0</p>\n<p>No matching variant of com.android.tools.build:gradle:8.0.0 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:</p>\n<ul>\n<li><p>Variant 'apiElements' capability com.android.tools.build:gradle:8.0.0 declares a library, packaged as a jar, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8</li>\n<li>Other compatible attribute:\n<ul>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'javadocElements' capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares documentation and the consumer needed a library</li>\n<li>Other compatible attributes:\n<ul>\n<li>Doesn't say anything about its target Java version (required compatibility with Java 8)</li>\n<li>Doesn't say anything about its elements (required them packaged as a jar)</li>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'runtimeElements' capability com.android.tools.build:gradle:8.0.0 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8</li>\n<li>Other compatible attribute:\n<ul>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Variant 'sourcesElements' capability com.android.tools.build:gradle:8.0.0 declares a component for use during runtime, and its dependencies declared externally:</p>\n<ul>\n<li>Incompatible because this component declares documentation and the consumer needed a library</li>\n<li>Other compatible attributes:\n<ul>\n<li>Doesn't say anything about its target Java version (required compatibility with Java 8)</li>\n<li>Doesn't say anything about its elements (required them packaged as a jar)</li>\n<li>Doesn't say anything about org.gradle.plugin.api-version (required '8.0')</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>If anyone else also faced the same issue with android studio flamingo please suggest some solutions.</p>\n"},{"tags":["java","android","http","httpresponse"],"comments":[{"owner":{"account_id":120683,"reputation":1139,"user_id":313261,"accept_rate":55,"display_name":"noko"},"score":0,"creation_date":1354250785,"post_id":13639146,"comment_id":18710532,"body_markdown":"This might be a latency issue rather than a programming issue :(","body":"This might be a latency issue rather than a programming issue :("},{"owner":{"account_id":209163,"reputation":5432,"user_id":460043,"accept_rate":40,"display_name":"Lock"},"score":0,"creation_date":1354250786,"post_id":13639146,"comment_id":18710533,"body_markdown":"Unless the server that you are accessing is on your local network, you will probably never be able to get that speed.","body":"Unless the server that you are accessing is on your local network, you will probably never be able to get that speed."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":2,"creation_date":1354250786,"post_id":13639146,"comment_id":18710534,"body_markdown":"what is the ping time? How long does curl take to fetch the same resource, e.g. `time curl -i &#39;http://www.my_site.com&quot;`?","body":"what is the ping time? How long does curl take to fetch the same resource, e.g. <code>time curl -i &#39;http:&#47;&#47;www.my_site.com&quot;</code>?"},{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":0,"creation_date":1354250967,"post_id":13639146,"comment_id":18710593,"body_markdown":"@Kevin, I agree, if ping time is too long not many things can help to speed it up","body":"@Kevin, I agree, if ping time is too long not many things can help to speed it up"},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354251042,"post_id":13639146,"comment_id":18710616,"body_markdown":"@Kevin I ll check and let u know..","body":"@Kevin I ll check and let u know.."},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1354251855,"post_id":13639146,"comment_id":18710828,"body_markdown":"There&#39;s code optimisations, such as not recreating the `HttpClient` and `HttpGet` every time. But, what might be better would be to cache the data on the server, so when you ask for data it feeds you 4K x number of ms since last call. It might also be faster to use a raw socket and dump all the HTTP overhead, if you really need to access every few milliseconds.","body":"There&#39;s code optimisations, such as not recreating the <code>HttpClient</code> and <code>HttpGet</code> every time. But, what might be better would be to cache the data on the server, so when you ask for data it feeds you 4K x number of ms since last call. It might also be faster to use a raw socket and dump all the HTTP overhead, if you really need to access every few milliseconds."},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354252339,"post_id":13639146,"comment_id":18710943,"body_markdown":"@Kevin it showing this real - 0m0.009s,user - 0m0.004s,sys - 0m0.004s when I used `time curl -i &#39;http://www.my_site.com&quot;`","body":"@Kevin it showing this real - 0m0.009s,user - 0m0.004s,sys - 0m0.004s when I used <code>time curl -i &#39;http:&#47;&#47;www.my_site.com&quot;</code>"},{"owner":{"account_id":1737702,"reputation":3412,"user_id":1589880,"accept_rate":100,"display_name":"G M Ramesh"},"score":0,"creation_date":1354253316,"post_id":13639146,"comment_id":18711189,"body_markdown":"@KenY-N , He is using HttpPost MEthod not Get","body":"@KenY-N , He is using HttpPost MEthod not Get"},{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354253393,"post_id":13639146,"comment_id":18711214,"body_markdown":"@KenY-N , sorry I am uising HttpPost, Mistakenly wrote HttpGet.","body":"@KenY-N , sorry I am uising HttpPost, Mistakenly wrote HttpGet."}],"answers":[{"comments":[{"owner":{"account_id":478843,"reputation":1715,"user_id":891176,"accept_rate":39,"display_name":"Mutatos"},"score":0,"creation_date":1386769629,"post_id":13639170,"comment_id":30678955,"body_markdown":"Is SPDY runnign only on SSL or it is possible to use it over HTTP. What will happen, when we use an self signed certificate?","body":"Is SPDY runnign only on SSL or it is possible to use it over HTTP. What will happen, when we use an self signed certificate?"},{"owner":{"account_id":388441,"reputation":2525,"user_id":747392,"accept_rate":86,"display_name":"Shamis Shukoor"},"score":0,"creation_date":1386997853,"post_id":13639170,"comment_id":30786484,"body_markdown":"Yes SPDY runs only on SSL. I think as along as it runs on HTTPS SPDY would work.","body":"Yes SPDY runs only on SSL. I think as along as it runs on HTTPS SPDY would work."}],"tags":[],"owner":{"account_id":388441,"reputation":2525,"user_id":747392,"accept_rate":86,"display_name":"Shamis Shukoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386997734,"creation_date":1354250808,"answer_id":13639170,"question_id":13639146,"body_markdown":"Use [SPDY][1] protocol. This would improve your response time.\r\n\r\n\r\n  [1]: https://developers.google.com/speed/spdy/\r\n\r\nI think in your case you can use websockets so that you would not have to create a connection each time and the live connection is available every time.","title":"How to make HttpResponse work much faster?","body":"<p>Use <a href=\"https://developers.google.com/speed/spdy/\" rel=\"nofollow\">SPDY</a> protocol. This would improve your response time.</p>\n\n<p>I think in your case you can use websockets so that you would not have to create a connection each time and the live connection is available every time.</p>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354251413,"creation_date":1354251413,"answer_id":13639252,"question_id":13639146,"body_markdown":"@sheldonCooper answer is right if the server enables SPDY. Also you can add Gzip compression. It has been added to all requests after GingerBread but you could add it for former SDK versions : http://android-developers.blogspot.fr/2011/09/androids-http-clients.html\r\n\r\n","title":"How to make HttpResponse work much faster?","body":"<p>@sheldonCooper answer is right if the server enables SPDY. Also you can add Gzip compression. It has been added to all requests after GingerBread but you could add it for former SDK versions : <a href=\"http://android-developers.blogspot.fr/2011/09/androids-http-clients.html\" rel=\"nofollow\">http://android-developers.blogspot.fr/2011/09/androids-http-clients.html</a></p>\n"},{"comments":[{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354261764,"post_id":13639259,"comment_id":18713550,"body_markdown":"client side it taking almost 10ms to connect with server, but at the time of response between 100ms - 200ms is taking. I am using LAN to perform this task. On server data receives and sends to other part and data removed from server after sent so no overload on that. Server implementation is perfect. It taking time due to everytime establishment of connection. Now I am trying to perform persistent connection. But dont know how to do that. Can you help me out or any       solution or idea how to do that. Thank you","body":"client side it taking almost 10ms to connect with server, but at the time of response between 100ms - 200ms is taking. I am using LAN to perform this task. On server data receives and sends to other part and data removed from server after sent so no overload on that. Server implementation is perfect. It taking time due to everytime establishment of connection. Now I am trying to perform persistent connection. But dont know how to do that. Can you help me out or any       solution or idea how to do that. Thank you"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354253128,"creation_date":1354251448,"answer_id":13639259,"question_id":13639146,"body_markdown":"Before you can make the responses faster, you are going to need to investigate and understand why they are currently taking a long time.  Roughly speaking, it could be:\r\n\r\n  - the client side taking a long time to create the request and/or preocess the result (seems unlikely ...)\r\n  - a slow android network protocol stack\r\n  - a problem with your local networking (e.g. WiFi) or your telecoms provider\r\n  - a congested / overloaded server or server-side network, or\r\n  - something pessimal in the server implementation.\r\n\r\nDo things like:\r\n  \r\n  - try the request from a web browser on a conventional PC and use the browser&#39;s web-developer stuff to try to tease out whether/why the request is taking a long time ...\r\n  - look in the server-side logs and/or monitoring for request load and timing information\r\n  - *other suggestions please* \r\n\r\nImplementing SPDY *might* help, but it is *unlikely* to change response times in the order of 500ms to a couple of tens of milliseconds.  The problem seems more fundamental than &quot;HTTP is old and slow&quot;.  And the same reasoning applies to all of the other suggestions that people have made.","title":"How to make HttpResponse work much faster?","body":"<p>Before you can make the responses faster, you are going to need to investigate and understand why they are currently taking a long time.  Roughly speaking, it could be:</p>\n\n<ul>\n<li>the client side taking a long time to create the request and/or preocess the result (seems unlikely ...)</li>\n<li>a slow android network protocol stack</li>\n<li>a problem with your local networking (e.g. WiFi) or your telecoms provider</li>\n<li>a congested / overloaded server or server-side network, or</li>\n<li>something pessimal in the server implementation.</li>\n</ul>\n\n<p>Do things like:</p>\n\n<ul>\n<li>try the request from a web browser on a conventional PC and use the browser's web-developer stuff to try to tease out whether/why the request is taking a long time ...</li>\n<li>look in the server-side logs and/or monitoring for request load and timing information</li>\n<li><em>other suggestions please</em> </li>\n</ul>\n\n<p>Implementing SPDY <em>might</em> help, but it is <em>unlikely</em> to change response times in the order of 500ms to a couple of tens of milliseconds.  The problem seems more fundamental than \"HTTP is old and slow\".  And the same reasoning applies to all of the other suggestions that people have made.</p>\n"},{"comments":[{"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"score":0,"creation_date":1354261042,"post_id":13640383,"comment_id":18713345,"body_markdown":"can you give me a link that have persistent connection example or some code","body":"can you give me a link that have persistent connection example or some code"}],"tags":[],"owner":{"account_id":105617,"reputation":853,"user_id":281727,"display_name":"Bishnu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1354258374,"creation_date":1354258374,"answer_id":13640383,"question_id":13639146,"body_markdown":"This is not possible. You are recreating a connection every time.\r\n\r\nYou need to hold a persistent connection with the server. Try creating a persistent http connection.\r\n\r\nIf that doesn&#39;t work you can try sending raw udp packets (or anything else). It will be harder but it will take less time.\r\n","title":"How to make HttpResponse work much faster?","body":"<p>This is not possible. You are recreating a connection every time.</p>\n\n<p>You need to hold a persistent connection with the server. Try creating a persistent http connection.</p>\n\n<p>If that doesn't work you can try sending raw udp packets (or anything else). It will be harder but it will take less time.</p>\n"}],"owner":{"account_id":1247339,"reputation":11852,"user_id":1208510,"accept_rate":98,"display_name":"Rahul Baradia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13640383,"answer_count":4,"score":5,"last_activity_date":1681767206,"creation_date":1354250634,"question_id":13639146,"body_markdown":"I am working on a project in which I have to get 4096 bytes of data to server from &quot;server&quot; between every 1-millisecond to 10-millisecond. But it&#39;s taking too much time i.e around 300ms - 700ms which causes my application to lose data. \r\n\r\nI am using below snippet \r\n\r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpPost request = new HttpPost(&quot;http://192.168.1.40/ping&quot;);\r\n    HttpResponse response = client.execute(request);\r\n\r\nThe HttpResponse is only taking too much time i.e around 300ms - 700ms.\r\n\r\n**How I can get response faster?** \r\n\r\n**Instead of this what else I can use to get a response from server faster then this?**\r\n\r\nI have done some research, gone through other ways like `DataOutputStream` and `ByteOutputStream` but no use of this, it also taking too much time then `HttpResponse`. \r\n","title":"How to make HttpResponse work much faster?","body":"<p>I am working on a project in which I have to get 4096 bytes of data to server from &quot;server&quot; between every 1-millisecond to 10-millisecond. But it's taking too much time i.e around 300ms - 700ms which causes my application to lose data.</p>\n<p>I am using below snippet</p>\n<pre><code>HttpClient client = new DefaultHttpClient();\nHttpPost request = new HttpPost(&quot;http://192.168.1.40/ping&quot;);\nHttpResponse response = client.execute(request);\n</code></pre>\n<p>The HttpResponse is only taking too much time i.e around 300ms - 700ms.</p>\n<p><strong>How I can get response faster?</strong></p>\n<p><strong>Instead of this what else I can use to get a response from server faster then this?</strong></p>\n<p>I have done some research, gone through other ways like <code>DataOutputStream</code> and <code>ByteOutputStream</code> but no use of this, it also taking too much time then <code>HttpResponse</code>.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-webclient"],"owner":{"account_id":26904803,"reputation":43,"user_id":20481346,"display_name":"karixdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1681766740,"creation_date":1681765126,"question_id":76039251,"body_markdown":"everyone!\r\nI&#39;m using Spring HTTP interfaces to communicate between my microservices, here&#39;s how i create such a HTTP interface\r\n\r\n```Java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ScheduleConfig {\r\n    private final LoadBalancedExchangeFilterFunction filterFunction;\r\n\r\n    @Bean\r\n    ScheduleClient scheduleClient(\r\n            @Value(&quot;${schedule-service.base-url}&quot;) String baseUrl\r\n    ) {\r\n        WebClient webClient = WebClient.builder()\r\n                .baseUrl(baseUrl)\r\n                .filter(filterFunction)\r\n                .build();\r\n\r\n        HttpServiceProxyFactory httpServiceProxyFactory =\r\n                HttpServiceProxyFactory\r\n                        .builder(WebClientAdapter.forClient(webClient))\r\n                        .build();\r\n\r\n        return httpServiceProxyFactory.createClient(ScheduleClient.class);\r\n    }\r\n}\r\n```\r\n\r\nThen I&#39;m testing this `ScheduleClient` using WireMock, so in test class I set up `baseUrl` like in the code below:\r\n\r\n```Java\r\n@DynamicPropertySource\r\nstatic void overrideScheduleServiceBaseUrl(DynamicPropertyRegistry registry) {\r\n    registry.add(\r\n            &quot;schedule-service.base-url&quot;,\r\n            () -&gt; &quot;http://localhost:9999&quot;);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAfter running test methods I get following output:\r\n\r\n```\r\norg.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \r\n\r\n\tat org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)\r\n\tSuppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://localhost/api/schedules [DefaultWebClient]\r\n```\r\nIn the stacktrace we can find `http://localhost/api/schedules` so it looks like the port number has been removed from baseUrl.\r\n\r\nWhat could be cause of such a problem?","title":"Spring WebClient ignores baseUrl port number","body":"<p>everyone!\nI'm using Spring HTTP interfaces to communicate between my microservices, here's how i create such a HTTP interface</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class ScheduleConfig {\n    private final LoadBalancedExchangeFilterFunction filterFunction;\n\n    @Bean\n    ScheduleClient scheduleClient(\n            @Value(&quot;${schedule-service.base-url}&quot;) String baseUrl\n    ) {\n        WebClient webClient = WebClient.builder()\n                .baseUrl(baseUrl)\n                .filter(filterFunction)\n                .build();\n\n        HttpServiceProxyFactory httpServiceProxyFactory =\n                HttpServiceProxyFactory\n                        .builder(WebClientAdapter.forClient(webClient))\n                        .build();\n\n        return httpServiceProxyFactory.createClient(ScheduleClient.class);\n    }\n}\n</code></pre>\n<p>Then I'm testing this <code>ScheduleClient</code> using WireMock, so in test class I set up <code>baseUrl</code> like in the code below:</p>\n<pre><code>@DynamicPropertySource\nstatic void overrideScheduleServiceBaseUrl(DynamicPropertyRegistry registry) {\n    registry.add(\n            &quot;schedule-service.base-url&quot;,\n            () -&gt; &quot;http://localhost:9999&quot;);\n}\n</code></pre>\n<p>After running test methods I get following output:</p>\n<pre><code>org.springframework.web.reactive.function.client.WebClientResponseException$ServiceUnavailable: 503 Service Unavailable from UNKNOWN \n\n    at org.springframework.web.reactive.function.client.WebClientResponseException.create(WebClientResponseException.java:337)\n    Suppressed: The stacktrace has been enhanced by Reactor, refer to additional information below: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ 503 SERVICE_UNAVAILABLE from GET http://localhost/api/schedules [DefaultWebClient]\n</code></pre>\n<p>In the stacktrace we can find <code>http://localhost/api/schedules</code> so it looks like the port number has been removed from baseUrl.</p>\n<p>What could be cause of such a problem?</p>\n"},{"tags":["java","android","react-native","mobile","okhttp"],"owner":{"account_id":14786776,"reputation":1,"user_id":10678752,"display_name":"Tyler Waterman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681766377,"creation_date":1681766377,"question_id":76039363,"body_markdown":"I have an android application in java where frequently the phone will be connected to a wifi-network that is not connected to the internet. When I try to make network requests, such as to api endpoints, it tries to send the requests over this wifi network, which then fail because it is not connected to the internet. When this happens, I would like some sort of a fallback where the requests are instead routed over the device&#39;s cellular data. Currently I am using okhttp3 to make these network requests, but I am open to other solutions\r\n\r\nThis is how I am currently attempting to alleviate the issue (where variable transport is equal to NetworkCapabilities.TRANSPORT_CELLULAR:\r\n\r\n\r\n```\r\n  private void connectToNetworkWithSpecifiedCapability(OkHttpClient.Builder clientBuilder, int transport) {\r\n    Network[] networks = connectivityManager.getAllNetworks();\r\n\r\n    for (Network network : networks) {\r\n      NetworkInfo netInfo = connectivityManager.getNetworkInfo(network);\r\n      NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(network);\r\n\r\n      if(caps == null || netInfo == null){\r\n        continue;\r\n      }\r\n\r\n      if(!netInfo.isConnected()){\r\n        continue;\r\n      }\r\n\r\n      if(caps.hasTransport(transport)){\r\n        connectivityManager.bindProcessToNetwork(network);\r\n        clientBuilder.proxy(Proxy.NO_PROXY);\r\n        clientBuilder.socketFactory(network.getSocketFactory());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n```\r\n","title":"How to force an android application to send network requests over cellular data even when connected to wifi?","body":"<p>I have an android application in java where frequently the phone will be connected to a wifi-network that is not connected to the internet. When I try to make network requests, such as to api endpoints, it tries to send the requests over this wifi network, which then fail because it is not connected to the internet. When this happens, I would like some sort of a fallback where the requests are instead routed over the device's cellular data. Currently I am using okhttp3 to make these network requests, but I am open to other solutions</p>\n<p>This is how I am currently attempting to alleviate the issue (where variable transport is equal to NetworkCapabilities.TRANSPORT_CELLULAR:</p>\n<pre><code>  private void connectToNetworkWithSpecifiedCapability(OkHttpClient.Builder clientBuilder, int transport) {\n    Network[] networks = connectivityManager.getAllNetworks();\n\n    for (Network network : networks) {\n      NetworkInfo netInfo = connectivityManager.getNetworkInfo(network);\n      NetworkCapabilities caps = connectivityManager.getNetworkCapabilities(network);\n\n      if(caps == null || netInfo == null){\n        continue;\n      }\n\n      if(!netInfo.isConnected()){\n        continue;\n      }\n\n      if(caps.hasTransport(transport)){\n        connectivityManager.bindProcessToNetwork(network);\n        clientBuilder.proxy(Proxy.NO_PROXY);\n        clientBuilder.socketFactory(network.getSocketFactory());\n        break;\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","wsdl","apache-axis"],"answers":[{"comments":[{"owner":{"account_id":16337,"reputation":2999,"user_id":35420,"accept_rate":100,"display_name":"Miron Brezuleanu"},"score":0,"creation_date":1476870175,"post_id":9158159,"comment_id":67525211,"body_markdown":"This is not the answer. There are two issues above, you&#39;re only fixing the warnings, not the error.","body":"This is not the answer. There are two issues above, you&#39;re only fixing the warnings, not the error."}],"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1328521120,"creation_date":1328521120,"answer_id":9158159,"question_id":9158068,"body_markdown":"It clearly says that those classes are missing in your classpath.\r\n\r\nAdd [activation.jar][1] and [javamail.jar][2] to your classpath.\r\n\r\n\r\n  [1]: http://www.jarfinder.com/index.php/java/info/javax.activation.DataHandler\r\n  [2]: http://www.jarfinder.com/index.php/java/info/javax.mail.internet.MimeMultipart","title":"Creating Java web service client","body":"<p>It clearly says that those classes are missing in your classpath.</p>\n\n<p>Add <a href=\"http://www.jarfinder.com/index.php/java/info/javax.activation.DataHandler\" rel=\"nofollow\">activation.jar</a> and <a href=\"http://www.jarfinder.com/index.php/java/info/javax.mail.internet.MimeMultipart\" rel=\"nofollow\">javamail.jar</a> to your classpath.</p>\n"}],"owner":{"account_id":1226507,"reputation":101,"user_id":1191941,"accept_rate":57,"display_name":"Tal Tchernihovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9158159,"answer_count":1,"score":1,"last_activity_date":1681765905,"creation_date":1328520711,"question_id":9158068,"body_markdown":"i&#39;m trying to study about how to access external web services.\r\nI have created a Web Service Client in eclipse for the following web service:\r\n\r\nhttp://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2\r\n\r\nAnd I tried to access this web service with the next code:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry{\r\n\t\t\tStockQuoteLocator locator = new StockQuoteLocator();\r\n\t\t\tlocator.setEndpointAddress(&quot;StockQuoteSoap&quot;, &quot;http://www.webservicex.net/stockquote.asmx&quot;);\r\n\t\t\tStockQuoteSoapStub stock = new StockQuoteSoapStub(locator);\r\n\t\t\tSystem.out.println(stock.getQuote(&quot;TEVA&quot;));\t\t\t\r\n\t\t} catch (Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n\r\nBut i&#39;m keep getting the error:\r\n\r\n    06/02/2012 11:29:51 org.apache.axis.utils.JavaUtils isAttachmentSupported\r\n    WARNING: Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\r\n    AxisFault\r\n     faultCode: {http://xml.apache.org/axis/}Server.NoEndpoint\r\n     faultSubcode: \r\n     faultString: No endpoint\r\n     faultActor: \r\n     faultNode: \r\n     faultDetail: \r\n    \t{http://xml.apache.org/axis/}exceptionName:org.apache.axis.NoEndPointException\r\n    \t{http://xml.apache.org/axis/}stackTrace:No endpoint\r\n\tat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\r\n\tat Main.main(Main.java:17)\r\n\r\n\t{http://xml.apache.org/axis/}hostname:MICHALEDR-DTW7\r\n\r\n    No endpoint\r\n    \tat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\r\n    \tat Main.main(Main.java:17)\r\n\r\nCan you please help me fix it?","title":"Creating Java web service client","body":"<p>i'm trying to study about how to access external web services.\nI have created a Web Service Client in eclipse for the following web service:</p>\n\n<p><a href=\"http://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2\" rel=\"nofollow\">http://www.webservicex.net/ws/WSDetails.aspx?WSID=9&amp;CATID=2</a></p>\n\n<p>And I tried to access this web service with the next code:</p>\n\n<pre><code>public static void main(String[] args) {\n    try{\n        StockQuoteLocator locator = new StockQuoteLocator();\n        locator.setEndpointAddress(\"StockQuoteSoap\", \"http://www.webservicex.net/stockquote.asmx\");\n        StockQuoteSoapStub stock = new StockQuoteSoapStub(locator);\n        System.out.println(stock.getQuote(\"TEVA\"));         \n    } catch (Exception e){\n        e.printStackTrace();\n    }   \n}\n</code></pre>\n\n<p>But i'm keep getting the error:</p>\n\n<pre><code>06/02/2012 11:29:51 org.apache.axis.utils.JavaUtils isAttachmentSupported\nWARNING: Unable to find required classes (javax.activation.DataHandler and javax.mail.internet.MimeMultipart). Attachment support is disabled.\nAxisFault\n faultCode: {http://xml.apache.org/axis/}Server.NoEndpoint\n faultSubcode: \n faultString: No endpoint\n faultActor: \n faultNode: \n faultDetail: \n    {http://xml.apache.org/axis/}exceptionName:org.apache.axis.NoEndPointException\n    {http://xml.apache.org/axis/}stackTrace:No endpoint\nat NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\nat Main.main(Main.java:17)\n\n{http://xml.apache.org/axis/}hostname:MICHALEDR-DTW7\n\nNo endpoint\n    at NET.webserviceX.www.StockQuoteSoapStub.getQuote(StockQuoteSoapStub.java:93)\n    at Main.main(Main.java:17)\n</code></pre>\n\n<p>Can you please help me fix it?</p>\n"},{"tags":["java","sql","exception"],"answers":[{"tags":[],"owner":{"account_id":13508,"reputation":30357,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1460698653,"creation_date":1243872788,"answer_id":935525,"question_id":935511,"body_markdown":"The exception states that your result is closed. You should examine your code and look for all location where you issue a `ResultSet.close()` call. Also look for `Statement.close()` and `Connection.close()`. For sure, one of them gets called before `rs.next()` is called.\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>The exception states that your result is closed. You should examine your code and look for all location where you issue a <code>ResultSet.close()</code> call. Also look for <code>Statement.close()</code> and <code>Connection.close()</code>. For sure, one of them gets called before <code>rs.next()</code> is called.</p>\n"},{"tags":[],"owner":{"account_id":18128,"reputation":15605,"user_id":41241,"accept_rate":79,"display_name":"Nathaniel Flath"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1511262207,"creation_date":1243872796,"answer_id":935526,"question_id":935511,"body_markdown":"You may have closed either the `Connection` or `Statement` that made the `ResultSet`, which would lead to the `ResultSet` being closed as well.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>You may have closed either the <code>Connection</code> or <code>Statement</code> that made the <code>ResultSet</code>, which would lead to the <code>ResultSet</code> being closed as well.</p>\n"},{"tags":[],"owner":{"account_id":18859,"reputation":9033,"user_id":43665,"accept_rate":76,"display_name":"job"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1243873438,"creation_date":1243873438,"answer_id":935564,"question_id":935511,"body_markdown":"Also, you can only have one result set open from each statement. So if you are iterating through two result sets at the same time, make sure they are executed on different statements. Opening a second result set on one statement will implicitly close the first.\r\nhttp://java.sun.com/javase/6/docs/api/java/sql/Statement.html","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Also, you can only have one result set open from each statement. So if you are iterating through two result sets at the same time, make sure they are executed on different statements. Opening a second result set on one statement will implicitly close the first.\n<a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Statement.html\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/sql/Statement.html</a></p>\n"},{"comments":[{"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"score":9,"creation_date":1248706573,"post_id":935565,"comment_id":1010757,"body_markdown":"This is not true for all drivers and RDBMS.","body":"This is not true for all drivers and RDBMS."},{"owner":{"display_name":"user502187"},"score":0,"creation_date":1471549104,"post_id":935565,"comment_id":65403295,"body_markdown":"sqlserver.jar cannot do it nesting, but jtds.jar can do it.","body":"sqlserver.jar cannot do it nesting, but jtds.jar can do it."}],"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"comment_count":2,"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1243873452,"creation_date":1243873452,"answer_id":935565,"question_id":935511,"body_markdown":"Sounds like you executed another statement in the same connection before traversing the result set from the first statement. If you&#39;re nesting the processing of two result sets from the same database, you&#39;re doing something wrong. The combination of those sets should be done on the database side.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Sounds like you executed another statement in the same connection before traversing the result set from the first statement. If you're nesting the processing of two result sets from the same database, you're doing something wrong. The combination of those sets should be done on the database side.</p>\n"},{"comments":[{"owner":{"account_id":14406,"reputation":4490,"user_id":29620,"accept_rate":92,"display_name":"banjollity"},"score":1,"creation_date":1243879596,"post_id":935566,"comment_id":744037,"body_markdown":"Gotta love that nested try/catch. Sometimes I really do loathe JDBC. It does bloat this example but you really should close the resultset and the statement too. You did call it a proper JDBC call!","body":"Gotta love that nested try/catch. Sometimes I really do loathe JDBC. It does bloat this example but you really should close the resultset and the statement too. You did call it a proper JDBC call!"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681765349,"post_id":935566,"comment_id":134106941,"body_markdown":"Update: In modern Java, we can use try-with-resources syntax to eliminate those explicit calls to `close`.","body":"Update: In modern Java, we can use try-with-resources syntax to eliminate those explicit calls to <code>close</code>."}],"tags":[],"owner":{"account_id":3120,"reputation":8745,"user_id":4433,"accept_rate":90,"display_name":"Slartibartfast"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1681765617,"creation_date":1243873454,"answer_id":935566,"question_id":935511,"body_markdown":"Proper JDBC call should look something like this is modern Java (Java 7+):\r\n\r\n    try (\r\n        Connection  conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \r\n        Statement stmt = conn.createStatement(); \r\n        ResultSet  rs = stmt.executeQuery(myQuery); \r\n    ) {\r\n        while ( rs.next() ) { \r\n            // process results\r\n        } \r\n    } catch (SqlException e) {\r\n        System.err.println(&quot;Got an exception! &quot;); \r\n        System.err.println(e.getMessage()); \r\n    }\r\n\r\nAnd before the days of [try-with-resources][1] syntax, in Java 6 and earlier:\r\n\r\n    try { \r\n        Connection conn;\r\n        Statement stmt;\r\n        ResultSet rs; \r\n        \r\n        try {\r\n            conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \r\n            stmt = conn.createStatement(); \r\n            rs = stmt.executeQuery(myQuery); \r\n            \r\n            while ( rs.next() ) { \r\n                // process results\r\n            } \r\n             \r\n        } catch (SqlException e) { \r\n            System.err.println(&quot;Got an exception! &quot;); \r\n            System.err.println(e.getMessage()); \r\n        } finally {\r\n            // you should release your resources here\r\n            if (rs != null) { \r\n                rs.close();\r\n            }\r\n\r\n            if (stmt != null) {\r\n                stmt.close();\r\n            }\r\n\r\n            if (conn != null) {\r\n                conn.close();\r\n            }\r\n        }\r\n    } catch (SqlException e) {\r\n        System.err.println(&quot;Got an exception! &quot;); \r\n        System.err.println(e.getMessage()); \r\n    }\r\n\r\nyou can close connection (or statement) only after you get result from result set. Safest way is to do it in `finally` block. However `close()` could also throe `SqlException`, hence the other `try-catch` block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Proper JDBC call should look something like this is modern Java (Java 7+):</p>\n<pre><code>try (\n    Connection  conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \n    Statement stmt = conn.createStatement(); \n    ResultSet  rs = stmt.executeQuery(myQuery); \n) {\n    while ( rs.next() ) { \n        // process results\n    } \n} catch (SqlException e) {\n    System.err.println(&quot;Got an exception! &quot;); \n    System.err.println(e.getMessage()); \n}\n</code></pre>\n<p>And before the days of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> syntax, in Java 6 and earlier:</p>\n<pre><code>try { \n    Connection conn;\n    Statement stmt;\n    ResultSet rs; \n    \n    try {\n        conn = DriverManager.getConnection(myUrl,&quot;&quot;,&quot;&quot;); \n        stmt = conn.createStatement(); \n        rs = stmt.executeQuery(myQuery); \n        \n        while ( rs.next() ) { \n            // process results\n        } \n         \n    } catch (SqlException e) { \n        System.err.println(&quot;Got an exception! &quot;); \n        System.err.println(e.getMessage()); \n    } finally {\n        // you should release your resources here\n        if (rs != null) { \n            rs.close();\n        }\n\n        if (stmt != null) {\n            stmt.close();\n        }\n\n        if (conn != null) {\n            conn.close();\n        }\n    }\n} catch (SqlException e) {\n    System.err.println(&quot;Got an exception! &quot;); \n    System.err.println(e.getMessage()); \n}\n</code></pre>\n<p>you can close connection (or statement) only after you get result from result set. Safest way is to do it in <code>finally</code> block. However <code>close()</code> could also throe <code>SqlException</code>, hence the other <code>try-catch</code> block.</p>\n"},{"comments":[{"owner":{"account_id":419912,"reputation":6449,"user_id":797321,"accept_rate":89,"display_name":"Indrek K&#245;ue"},"score":0,"creation_date":1324991992,"post_id":1188451,"comment_id":10738251,"body_markdown":"I was having same issue with Firebird JDBC drivers. I can verify that the `ResultSet.HOLD_CURSORS_OVER_COMMIT` is working.","body":"I was having same issue with Firebird JDBC drivers. I can verify that the <code>ResultSet.HOLD_CURSORS_OVER_COMMIT</code> is working."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1554989568,"post_id":1188451,"comment_id":97958688,"body_markdown":"Note that the correct way of solving this problem with Jaybird (and JDBC in general) is to disable auto-commit before executing multiple statements.","body":"Note that the correct way of solving this problem with Jaybird (and JDBC in general) is to disable auto-commit before executing multiple statements."}],"tags":[],"owner":{"account_id":877403,"reputation":750,"user_id":103560,"display_name":"Sugar"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1432044984,"creation_date":1248704591,"answer_id":1188451,"question_id":935511,"body_markdown":"This could be caused by a number of reasons, including the driver you are using.\r\n\r\na) Some drivers do not allow nested statements.  Depending if your driver supports JDBC 3.0 you should check the third parameter when creating the Statement object.  For instance, I had the same problem with the JayBird driver to Firebird, but the code worked fine with the postgres driver.  Then I added the third parameter to the createStatement method call and set it to ResultSet.HOLD_CURSORS_OVER_COMMIT, and the code started working fine for Firebird too.  \r\n\r\n \r\n\r\n    static void testNestedRS() throws SQLException {\r\n\r\n\t\tConnection con =null;\r\n\t\ttry {\r\n\t\t\t// GET A CONNECTION\r\n\t\t\tcon = ConexionDesdeArchivo.obtenerConexion(&quot;examen-dest&quot;);\r\n\t\t\tString sql1 = &quot;select * from reportes_clasificacion&quot;;\r\n\r\n\t\t\tStatement st1 = con.createStatement(\r\n\t\t\t\t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n\t\t\t\t\tResultSet.CONCUR_READ_ONLY, \r\n\t\t\t\t\tResultSet.HOLD_CURSORS_OVER_COMMIT);\r\n\t\t\tResultSet rs1 = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// EXECUTE THE FIRST QRY\r\n\t\t\t\trs1 = st1.executeQuery(sql1);\r\n\r\n\t\t\t\twhile (rs1.next()) {\r\n\t\t\t\t\t// THIS LINE WILL BE PRINTED JUST ONCE ON\r\n                                        // SOME DRIVERS UNLESS YOU CREATE THE STATEMENT \r\n\t\t\t\t\t// WITH 3 PARAMETERS USING \r\n                                        // ResultSet.HOLD_CURSORS_OVER_COMMIT\r\n\t\t\t\t\tSystem.out.println(&quot;ST1 Row #: &quot; + rs1.getRow());\r\n\r\n\t\t\t\t\tString sql2 = &quot;select * from reportes&quot;;\r\n\t\t\t\t\tStatement st2 = con.createStatement(\r\n\t\t\t\t\t\t\tResultSet.TYPE_SCROLL_INSENSITIVE,\r\n\t\t\t\t\t\t\tResultSet.CONCUR_READ_ONLY);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// EXECUTE THE SECOND QRY.  THIS CLOSES THE FIRST \r\n\t\t\t\t\t// ResultSet ON SOME DRIVERS WITHOUT USING \r\n                                        // ResultSet.HOLD_CURSORS_OVER_COMMIT\r\n\r\n\t\t\t\t\tst2.executeQuery(sql2);\r\n\r\n\t\t\t\t\tst2.close();\r\n\t\t\t\t}\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\trs1.close();\r\n\t\t\t\tst1.close();\r\n\t\t\t}\r\n\r\n\t\t} catch (SQLException e) {\r\n\r\n\t\t} finally {\r\n\t\t\tcon.close();\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nb) There could be a bug in your code. Remember that you cannot reuse the Statement object, once you re-execute a query on the same statement object, all the opened resultsets associated with the statement are closed.  Make sure you are not closing the statement.\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>This could be caused by a number of reasons, including the driver you are using.</p>\n\n<p>a) Some drivers do not allow nested statements.  Depending if your driver supports JDBC 3.0 you should check the third parameter when creating the Statement object.  For instance, I had the same problem with the JayBird driver to Firebird, but the code worked fine with the postgres driver.  Then I added the third parameter to the createStatement method call and set it to ResultSet.HOLD_CURSORS_OVER_COMMIT, and the code started working fine for Firebird too.  </p>\n\n<pre><code>static void testNestedRS() throws SQLException {\n\n    Connection con =null;\n    try {\n        // GET A CONNECTION\n        con = ConexionDesdeArchivo.obtenerConexion(\"examen-dest\");\n        String sql1 = \"select * from reportes_clasificacion\";\n\n        Statement st1 = con.createStatement(\n                ResultSet.TYPE_SCROLL_INSENSITIVE,\n                ResultSet.CONCUR_READ_ONLY, \n                ResultSet.HOLD_CURSORS_OVER_COMMIT);\n        ResultSet rs1 = null;\n\n        try {\n            // EXECUTE THE FIRST QRY\n            rs1 = st1.executeQuery(sql1);\n\n            while (rs1.next()) {\n                // THIS LINE WILL BE PRINTED JUST ONCE ON\n                                    // SOME DRIVERS UNLESS YOU CREATE THE STATEMENT \n                // WITH 3 PARAMETERS USING \n                                    // ResultSet.HOLD_CURSORS_OVER_COMMIT\n                System.out.println(\"ST1 Row #: \" + rs1.getRow());\n\n                String sql2 = \"select * from reportes\";\n                Statement st2 = con.createStatement(\n                        ResultSet.TYPE_SCROLL_INSENSITIVE,\n                        ResultSet.CONCUR_READ_ONLY);\n\n                // EXECUTE THE SECOND QRY.  THIS CLOSES THE FIRST \n                // ResultSet ON SOME DRIVERS WITHOUT USING \n                                    // ResultSet.HOLD_CURSORS_OVER_COMMIT\n\n                st2.executeQuery(sql2);\n\n                st2.close();\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } finally {\n            rs1.close();\n            st1.close();\n        }\n\n    } catch (SQLException e) {\n\n    } finally {\n        con.close();\n\n    }\n\n}\n</code></pre>\n\n<p>b) There could be a bug in your code. Remember that you cannot reuse the Statement object, once you re-execute a query on the same statement object, all the opened resultsets associated with the statement are closed.  Make sure you are not closing the statement.</p>\n"},{"tags":[],"owner":{"account_id":1549070,"reputation":21,"user_id":1441898,"display_name":"Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511262235,"creation_date":1339063570,"answer_id":10929662,"question_id":935511,"body_markdown":"Check whether you have declared the method where this code is executing as `static`. If it is `static` there may be some other thread resetting the `ResultSet`.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>Check whether you have declared the method where this code is executing as <code>static</code>. If it is <code>static</code> there may be some other thread resetting the <code>ResultSet</code>.</p>\n"},{"tags":[],"owner":{"account_id":2385455,"reputation":353,"user_id":2086526,"display_name":"Kulbhushan Chaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390396247,"creation_date":1390396247,"answer_id":21283881,"question_id":935511,"body_markdown":"I got same error everything was correct only i was using same statement interface object to execute and update the database.\r\nAfter separating i.e. using different objects of statement interface for updating and executing query i resolved this error. i.e. do get rid from this do not use same statement object for both updating and executing the query.  ","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>I got same error everything was correct only i was using same statement interface object to execute and update the database.\nAfter separating i.e. using different objects of statement interface for updating and executing query i resolved this error. i.e. do get rid from this do not use same statement object for both updating and executing the query.  </p>\n"},{"tags":[],"owner":{"account_id":12834532,"reputation":437,"user_id":9284604,"display_name":"Renato Vasconcellos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521742560,"creation_date":1521741234,"answer_id":49435393,"question_id":935511,"body_markdown":"make sure you have closed all your statments and resultsets before running rs.next. **Finaly** guarantees this\r\n\r\n\r\n    public boolean flowExists( Integer idStatusPrevious, Integer idStatus, Connection connection ) {\r\n\t\tLogUtil.logRequestMethod();\r\n\r\n\t\tPreparedStatement ps = null;\r\n\t\tResultSet rs = null;\r\n\t\ttry {\r\n\t\t\tps = connection.prepareStatement( Constants.SCRIPT_SELECT_FIND_FLOW_STATUS_BY_STATUS );\r\n\t\t\tps.setInt( 1, idStatusPrevious );\r\n\t\t\tps.setInt( 2, idStatus );\r\n\r\n\t\t\trs = ps.executeQuery();\r\n\r\n\t\t\tLong count = 0L;\r\n\r\n\t\t\tif ( rs != null ) {\r\n\t\t\t\twhile ( rs.next() ) {\r\n\t\t\t\t\tcount = rs.getLong( 1 );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tLogUtil.logSuccessMethod();\r\n\r\n\t\t\treturn count &gt; 0L;\r\n\t\t} catch ( Exception e ) {\r\n\t\t\tString errorMsg = String\r\n\t\t\t\t.format( Constants.ERROR_FINALIZED_METHOD, ( e.getMessage() != null ? e.getMessage() : &quot;&quot; ) );\r\n\t\t\tLogUtil.logError( errorMsg, e );\r\n\r\n\t\t\tthrow new FatalException( errorMsg );\r\n\t\t} finally {\r\n\t\t\trs.close();\r\n\t\t\tps.close();\r\n\t\t}","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>make sure you have closed all your statments and resultsets before running rs.next. <strong>Finaly</strong> guarantees this</p>\n\n<pre><code>public boolean flowExists( Integer idStatusPrevious, Integer idStatus, Connection connection ) {\n    LogUtil.logRequestMethod();\n\n    PreparedStatement ps = null;\n    ResultSet rs = null;\n    try {\n        ps = connection.prepareStatement( Constants.SCRIPT_SELECT_FIND_FLOW_STATUS_BY_STATUS );\n        ps.setInt( 1, idStatusPrevious );\n        ps.setInt( 2, idStatus );\n\n        rs = ps.executeQuery();\n\n        Long count = 0L;\n\n        if ( rs != null ) {\n            while ( rs.next() ) {\n                count = rs.getLong( 1 );\n                break;\n            }\n        }\n\n        LogUtil.logSuccessMethod();\n\n        return count &gt; 0L;\n    } catch ( Exception e ) {\n        String errorMsg = String\n            .format( Constants.ERROR_FINALIZED_METHOD, ( e.getMessage() != null ? e.getMessage() : \"\" ) );\n        LogUtil.logError( errorMsg, e );\n\n        throw new FatalException( errorMsg );\n    } finally {\n        rs.close();\n        ps.close();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13373807,"reputation":156,"user_id":9651249,"display_name":"Soumik Das"},"score":0,"creation_date":1637335247,"post_id":55925146,"comment_id":123806532,"body_markdown":"I was making two connection without closing the first one. This leads to the &#39;ResultSet is Closed&#39; error. Thanks for highlighting the cause here.","body":"I was making two connection without closing the first one. This leads to the &#39;ResultSet is Closed&#39; error. Thanks for highlighting the cause here."}],"tags":[],"owner":{"account_id":11963345,"reputation":144,"user_id":8753821,"display_name":"Michael Cenzoprano"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556641451,"creation_date":1556641451,"answer_id":55925146,"question_id":935511,"body_markdown":"A `ResultSetClosedException` could be thrown for two reasons.\r\n\r\n1.) You have opened another connection to the database without closing all other connections.\r\n  \r\n2.) Your ResultSet may be returning no values. So when you try to access data from the ResultSet java will throw a `ResultSetClosedException`.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>A <code>ResultSetClosedException</code> could be thrown for two reasons.</p>\n\n<p>1.) You have opened another connection to the database without closing all other connections.</p>\n\n<p>2.) Your ResultSet may be returning no values. So when you try to access data from the ResultSet java will throw a <code>ResultSetClosedException</code>.</p>\n"},{"tags":[],"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631824178,"creation_date":1631824178,"answer_id":69214797,"question_id":935511,"body_markdown":"It happens also when using a ResultSet without being in a @Transactional method.\r\n\r\n    ScrollableResults results = getScrollableResults(&quot;select e from MyEntity e&quot;);\r\n    while (results.next()) {\r\n       ...\r\n    }\r\n    results.close();\r\nif MyEntity has eager relationships with other entities. the second time results.next() is invoked the ResultSet is closed exception is raised.\r\n\r\nso if you use ScrollableResults on entities with eager relationships make sure your method is run transactionally.","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>It happens also when using a ResultSet without being in a @Transactional method.</p>\n<pre><code>ScrollableResults results = getScrollableResults(&quot;select e from MyEntity e&quot;);\nwhile (results.next()) {\n   ...\n}\nresults.close();\n</code></pre>\n<p>if MyEntity has eager relationships with other entities. the second time results.next() is invoked the ResultSet is closed exception is raised.</p>\n<p>so if you use ScrollableResults on entities with eager relationships make sure your method is run transactionally.</p>\n"},{"tags":[],"owner":{"account_id":15320184,"reputation":1,"user_id":11052906,"display_name":"ciro borrelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654584905,"creation_date":1654254054,"answer_id":72488635,"question_id":935511,"body_markdown":"&quot;**result set is closed**&quot; happened to me when using tag \\&lt;*collection*&gt; in MyBatis nested (one-to-many) xml \\&lt;select&gt; statement\r\n\r\nA Spring solution could be to have a (Java) Spring @Service layer, where class/methods calling MyBatis select-collection statements are annotated with\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n\r\nannotations being:\r\n\r\n    import org.springframework.transaction.annotation.Propagation; \r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\nthis solution does not require to set the following datasource properties (i.e., in JBoss EAP standalone*.xml):\r\n\r\n    &lt;xa-datasource-property name=&quot;downgradeHoldCursorsUnderXa&quot;&gt;**true**\\&lt;/xa-datasource-property&gt;\r\n    &lt;xa-datasource-property name=&quot;resultSetHoldability&quot;&gt;**1**&lt;/xa-datasource-property&gt;\r\n\r\n\r\n","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>&quot;<strong>result set is closed</strong>&quot; happened to me when using tag &lt;<em>collection</em>&gt; in MyBatis nested (one-to-many) xml &lt;select&gt; statement</p>\n<p>A Spring solution could be to have a (Java) Spring @Service layer, where class/methods calling MyBatis select-collection statements are annotated with</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n</code></pre>\n<p>annotations being:</p>\n<pre><code>import org.springframework.transaction.annotation.Propagation; \nimport org.springframework.transaction.annotation.Transactional;\n</code></pre>\n<p>this solution does not require to set the following datasource properties (i.e., in JBoss EAP standalone*.xml):</p>\n<pre><code>&lt;xa-datasource-property name=&quot;downgradeHoldCursorsUnderXa&quot;&gt;**true**\\&lt;/xa-datasource-property&gt;\n&lt;xa-datasource-property name=&quot;resultSetHoldability&quot;&gt;**1**&lt;/xa-datasource-property&gt;\n</code></pre>\n"}],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149612,"favorite_count":0,"down_vote_count":1,"up_vote_count":31,"accepted_answer_id":935565,"answer_count":12,"score":30,"last_activity_date":1681765617,"creation_date":1243872553,"question_id":935511,"body_markdown":"As soon as my code gets to my `while(rs.next())` loop it produces the `ResultSet` is closed exception. What causes this exception and how can I correct for it?\r\n\r\n**EDIT:** I notice in my code that I am nesting `while(rs.next())` loop with another `(rs2.next())`, both result sets coming from the same DB, is this an issue?","title":"How can I avoid ResultSet is closed exception in Java?","body":"<p>As soon as my code gets to my <code>while(rs.next())</code> loop it produces the <code>ResultSet</code> is closed exception. What causes this exception and how can I correct for it?</p>\n\n<p><strong>EDIT:</strong> I notice in my code that I am nesting <code>while(rs.next())</code> loop with another <code>(rs2.next())</code>, both result sets coming from the same DB, is this an issue?</p>\n"},{"tags":["java","unsatisfiedlinkerror","lpsolve"],"answers":[{"comments":[{"owner":{"account_id":1178912,"reputation":364,"user_id":2994273,"display_name":"kleindotuk"},"score":0,"creation_date":1470988075,"post_id":31306196,"comment_id":65182555,"body_markdown":"Thanks @santhosh-gandhe for a very helpful answer. Could you please edit your answer to explain where the file libsolve55.so in step 1 comes from? Thanks in advance","body":"Thanks @santhosh-gandhe for a very helpful answer. Could you please edit your answer to explain where the file libsolve55.so in step 1 comes from? Thanks in advance"},{"owner":{"account_id":1678505,"reputation":6920,"user_id":1543413,"accept_rate":50,"display_name":"Santhosh Gandhe"},"score":1,"creation_date":1471383490,"post_id":31306196,"comment_id":65322496,"body_markdown":"You can find these files in SourceForge and download them.  https://sourceforge.net/projects/lpsolve/","body":"You can find these files in SourceForge and download them.  <a href=\"https://sourceforge.net/projects/lpsolve/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/lpsolve</a>"}],"tags":[],"owner":{"account_id":1678505,"reputation":6920,"user_id":1543413,"accept_rate":50,"display_name":"Santhosh Gandhe"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436402074,"creation_date":1436402074,"answer_id":31306196,"question_id":30839952,"body_markdown":"\r\n\r\nTo run lpsolver, you need two things.\r\n\r\n 1. platform/os specific binary like listed below and you should keep them in the corresponding library path or export corresponding environment specific property\r\n      - libsolve55.dll for windows - either you should copy these files to system32 or set this path to LD_LIBRARY_PATH environment variable\r\n      - libsolve55.so for linux   - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable\r\n      - libsolve55.dylib for mac - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable DYLD_FALLBACK_LIBRARY_PATH\r\n\r\n 2. Language specific wrapper for invoking the lp_solver method present in the above binary file. For Java you need liblpsolve55j.jnilib and lpsolve5j.o  file. Either the location of these should be added to java.library.path  or add them to the above platform-specific environment variable.\r\n\r\nIn your case, it seems like you are all set in step 2, but you are missing the step 1.  For Step 1,  instead of environment variable, you can include the path in the java.library.path that you are alreay passing. I gave  you an example below.\r\n\r\n \r\n\r\n&gt;$ java -cp ./Demo.jar:../lib/lpsolve55j.jar -Djava.library.path=/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5/lpsolve55/bin/osx64:/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5_java/lib/mac Demo","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>To run lpsolver, you need two things.</p>\n\n<ol>\n<li><p>platform/os specific binary like listed below and you should keep them in the corresponding library path or export corresponding environment specific property</p>\n\n<ul>\n<li>libsolve55.dll for windows - either you should copy these files to system32 or set this path to LD_LIBRARY_PATH environment variable</li>\n<li>libsolve55.so for linux   - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable</li>\n<li>libsolve55.dylib for mac - you should copy these files to /usr/local/lib or set this path to LD_LIBRARY_PATH environment variable DYLD_FALLBACK_LIBRARY_PATH</li>\n</ul></li>\n<li><p>Language specific wrapper for invoking the lp_solver method present in the above binary file. For Java you need liblpsolve55j.jnilib and lpsolve5j.o  file. Either the location of these should be added to java.library.path  or add them to the above platform-specific environment variable.</p></li>\n</ol>\n\n<p>In your case, it seems like you are all set in step 2, but you are missing the step 1.  For Step 1,  instead of environment variable, you can include the path in the java.library.path that you are alreay passing. I gave  you an example below.</p>\n\n<blockquote>\n  <p>$ java -cp ./Demo.jar:../lib/lpsolve55j.jar -Djava.library.path=/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5/lpsolve55/bin/osx64:/Users/santhoshgandhe/mac_lpsolver/lp_solve_5.5_java/lib/mac Demo</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15646400,"reputation":113,"user_id":11288465,"display_name":"vishal.kangralkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573042198,"creation_date":1573042198,"answer_id":58729873,"question_id":30839952,"body_markdown":"Setting the java.library path. using Eclipse\r\n\r\n\r\n1.Select your project in the Package Explorer area and press a right click on it.\r\n\r\n2.Select Build Path → Configure Build Path... option.\r\n\r\n3.In the appearing window, select the Libraries tab.\r\n\r\n4.Then, expand the JRE System library option and select the Native library location.\r\n\r\n5.Click on the Edit... button at the right panel.\r\n\r\n6.Locate the required library and then click OK.\r\n\r\n7.Close the window.\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>Setting the java.library path. using Eclipse</p>\n\n<p>1.Select your project in the Package Explorer area and press a right click on it.</p>\n\n<p>2.Select Build Path → Configure Build Path... option.</p>\n\n<p>3.In the appearing window, select the Libraries tab.</p>\n\n<p>4.Then, expand the JRE System library option and select the Native library location.</p>\n\n<p>5.Click on the Edit... button at the right panel.</p>\n\n<p>6.Locate the required library and then click OK.</p>\n\n<p>7.Close the window.</p>\n"},{"tags":[],"owner":{"account_id":1201066,"reputation":1519,"user_id":1171721,"display_name":"lfvv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681765456,"creation_date":1681765456,"answer_id":76039284,"question_id":30839952,"body_markdown":"I manually added the files liblpsolve55.so and liblpsolve55j.so (downloaded in &#39;https://svn.win.tue.nl/repos/prom/Packages/Alignment/Trunk/dll/&#39;) to all my Linux shown paths for java library (obtained with the command &#39;java -XshowSettings:properties&#39;). After that, my Java program worked (I also added the jar &#39;lpsolve-5.5.2.0.jar&#39; to the referenced libraries in my Java project)","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>I manually added the files liblpsolve55.so and liblpsolve55j.so (downloaded in 'https://svn.win.tue.nl/repos/prom/Packages/Alignment/Trunk/dll/') to all my Linux shown paths for java library (obtained with the command 'java -XshowSettings:properties'). After that, my Java program worked (I also added the jar 'lpsolve-5.5.2.0.jar' to the referenced libraries in my Java project)</p>\n"}],"owner":{"account_id":5686631,"reputation":315,"user_id":4495967,"accept_rate":29,"display_name":"peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6772,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1681765456,"creation_date":1434354803,"question_id":30839952,"body_markdown":"in .bashrc is written:\r\n\r\n    PYTHONPATH=&quot;${PYTHONPATH}:$Home/local/lib/python2.7/site-packages/&quot;\r\n    export PYTHONPATH \r\n    \r\n    LD_LIBRARY_PATH=&quot;$Home/local/lib/&quot;\r\n    export LD_LIBRARY_PATH\r\n    \r\n    CLASSPATH=&quot;/home/stud/qe09kyvu/local/lib/liblpsolve55j.so&quot;\r\n    export CLASSPATH\r\n\r\nWhen i try to run this command:\r\n\r\n    java -cp .:../lib/lpsolve55j.jar -Djava.library.path=../liblpsolve55j.so Demo\r\n\r\ni get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path\r\n\r\nBut i don&#39;t understand this error, because in `..` there is `liblpsolve55j.so`\r\n\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path","body":"<p>in .bashrc is written:</p>\n\n<pre><code>PYTHONPATH=\"${PYTHONPATH}:$Home/local/lib/python2.7/site-packages/\"\nexport PYTHONPATH \n\nLD_LIBRARY_PATH=\"$Home/local/lib/\"\nexport LD_LIBRARY_PATH\n\nCLASSPATH=\"/home/stud/qe09kyvu/local/lib/liblpsolve55j.so\"\nexport CLASSPATH\n</code></pre>\n\n<p>When i try to run this command:</p>\n\n<pre><code>java -cp .:../lib/lpsolve55j.jar -Djava.library.path=../liblpsolve55j.so Demo\n</code></pre>\n\n<p>i get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no lpsolve55j in java.library.path\n</code></pre>\n\n<p>But i don't understand this error, because in <code>..</code> there is <code>liblpsolve55j.so</code></p>\n"},{"tags":["java","tomcat","jdbc","connection-pool"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681759969,"post_id":76038541,"comment_id":134105973,"body_markdown":"Do you know what is the longest execution time of your queries? You can set the removeAbandonedTimeout to this time in seconds. Default is 60. Maybe too long?","body":"Do you know what is the longest execution time of your queries? You can set the removeAbandonedTimeout to this time in seconds. Default is 60. Maybe too long?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681761433,"post_id":76038541,"comment_id":134106282,"body_markdown":"Without knowing anything about the type and volume of your Tomcat&#39;s workload, it seems like _quite a lot_ to have 200 connections and all of them busy. So, you may be able to manage the issue through pool settings, but tackling the root causes seems like a necessity (obvious comment, I know, and maybe you are already doing that).","body":"Without knowing anything about the type and volume of your Tomcat&#39;s workload, it seems like <i>quite a lot</i> to have 200 connections and all of them busy. So, you may be able to manage the issue through pool settings, but tackling the root causes seems like a necessity (obvious comment, I know, and maybe you are already doing that)."},{"owner":{"account_id":6737747,"reputation":3,"user_id":5191896,"display_name":"Dice"},"score":0,"creation_date":1681761941,"post_id":76038541,"comment_id":134106382,"body_markdown":"@Mar-Z Longest running query will be within 5 mins. But we would want to identify these bottlenecks. Your suggestion is to set removeAbandonTimeout=60 sec ?","body":"@Mar-Z Longest running query will be within 5 mins. But we would want to identify these bottlenecks. Your suggestion is to set removeAbandonTimeout=60 sec ?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681763489,"post_id":76038541,"comment_id":134106629,"body_markdown":"No. To 5+1=6 sec","body":"No. To 5+1=6 sec"}],"owner":{"account_id":6737747,"reputation":3,"user_id":5191896,"display_name":"Dice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681765363,"creation_date":1681758768,"question_id":76038541,"body_markdown":"We occasionaly hit `org.apache.tomcat.jdbc.pool.PoolExhaustedException` when threads are holding connections for too long or are going into a deadlock state.\r\n\r\nAny recomendation to tweak in Tomcat&#39;s DB Connection Configuration or Data source Factory Configuration ? \r\n\r\n&gt; 2023-04-16 20:46:20,104  ERROR Exception occurred 36032\r\n&gt; org.apache.tomcat.jdbc.pool.PoolExhaustedException: [https-jsse-nio]\r\n&gt; Timeout: Pool empty. Unable to fetch a connection in 30 seconds, none\r\n&gt; available [size:200; busy:200; idle:0; lastwait:30000]       .36033 at\r\n&gt; org.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:738)\r\n\r\n\r\nWe tried changing `removeAbandoned = true`, `testOnBorrow = true`, `testOnReturn = true` but we still run into the problem. Anything further to check ?","title":"Changes needed in tomat configuration to avoid JDBC Connection pool exhaustion","body":"<p>We occasionaly hit <code>org.apache.tomcat.jdbc.pool.PoolExhaustedException</code> when threads are holding connections for too long or are going into a deadlock state.</p>\n<p>Any recomendation to tweak in Tomcat's DB Connection Configuration or Data source Factory Configuration ?</p>\n<blockquote>\n<p>2023-04-16 20:46:20,104  ERROR Exception occurred 36032\norg.apache.tomcat.jdbc.pool.PoolExhaustedException: [https-jsse-nio]\nTimeout: Pool empty. Unable to fetch a connection in 30 seconds, none\navailable [size:200; busy:200; idle:0; lastwait:30000]       .36033 at\norg.apache.tomcat.jdbc.pool.ConnectionPool.borrowConnection(ConnectionPool.java:738)</p>\n</blockquote>\n<p>We tried changing <code>removeAbandoned = true</code>, <code>testOnBorrow = true</code>, <code>testOnReturn = true</code> but we still run into the problem. Anything further to check ?</p>\n"},{"tags":["java","spring-boot","networking","socketserver"],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681762746,"creation_date":1681761865,"answer_id":76038886,"question_id":76038614,"body_markdown":"The best way to send a GET request is to use a high-level API. With Spring Boot this is currently [WebClient][1], which replaced the older [RestTemplate][2] (see also tutorials such as: https://www.baeldung.com/spring-5-webclient or https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient).\r\n\r\nTo call a server you need a URL such as `&lt;scheme&gt;:&lt;scheme-specific-part&gt;`. As you say you want a GET call I assume you mean a HTTP GET call, which makes the &lt;scheme&gt; either `&lt;scheme&gt;` the protocol `http` or `https` and the `&lt;scheme-specific-part&gt;` takes the form `//&lt;server-address&gt;:&lt;port&gt;`. So in a simple scenario where you run the server socket on your localhost you could use something like `http://localhost:&lt;port&gt;/&lt;path&gt;`, where `&lt;port&gt;` is the port the ServerSocket listens to and `&lt;path&gt;` is the resource you want to GET.\r\n\r\nOf course, a ServerSocket is very low-level. It&#39;s much more convenient to use either a higher-level API such as a [HttpServlet][3] or a high-level API such as [RestController][4], which means to just provide another Spring Boot application for the server part.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/6.0.8/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\r\n  [3]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\r\n  [4]: https://spring.io/guides/tutorials/rest/","title":"Send GET request from Spring Boot to Java ServerSocket","body":"<p>The best way to send a GET request is to use a high-level API. With Spring Boot this is currently <a href=\"https://docs.spring.io/spring-framework/docs/6.0.8/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"nofollow noreferrer\">WebClient</a>, which replaced the older <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">RestTemplate</a> (see also tutorials such as: <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-5-webclient</a> or <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/io.html#io.rest-client.webclient</a>).</p>\n<p>To call a server you need a URL such as <code>&lt;scheme&gt;:&lt;scheme-specific-part&gt;</code>. As you say you want a GET call I assume you mean a HTTP GET call, which makes the  either <code>&lt;scheme&gt;</code> the protocol <code>http</code> or <code>https</code> and the <code>&lt;scheme-specific-part&gt;</code> takes the form <code>//&lt;server-address&gt;:&lt;port&gt;</code>. So in a simple scenario where you run the server socket on your localhost you could use something like <code>http://localhost:&lt;port&gt;/&lt;path&gt;</code>, where <code>&lt;port&gt;</code> is the port the ServerSocket listens to and <code>&lt;path&gt;</code> is the resource you want to GET.</p>\n<p>Of course, a ServerSocket is very low-level. It's much more convenient to use either a higher-level API such as a <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\" rel=\"nofollow noreferrer\">HttpServlet</a> or a high-level API such as <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">RestController</a>, which means to just provide another Spring Boot application for the server part.</p>\n"}],"owner":{"display_name":"user20879521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681762886,"creation_date":1681759388,"question_id":76038614,"body_markdown":"I need to communicate between a Spring Boot application and a Java ServeSocket. I have I created the Java ServerSocket and the Spring Boot.\r\n\r\nJava ServerSocket has a `BufferedReader` as an input and `OutputStream` as a response.\r\n\r\nI have just 2 questions:\r\n\r\n1. How to send a Get Request from Spring Boot to a server?\r\n2. How to send a Get Request from Spring Boot to Java ServerSocket, if the first method can be applied in this case?\r\n","title":"Send GET request from Spring Boot to Java ServerSocket","body":"<p>I need to communicate between a Spring Boot application and a Java ServeSocket. I have I created the Java ServerSocket and the Spring Boot.</p>\n<p>Java ServerSocket has a <code>BufferedReader</code> as an input and <code>OutputStream</code> as a response.</p>\n<p>I have just 2 questions:</p>\n<ol>\n<li>How to send a Get Request from Spring Boot to a server?</li>\n<li>How to send a Get Request from Spring Boot to Java ServerSocket, if the first method can be applied in this case?</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681762818,"creation_date":1681762818,"answer_id":76038999,"question_id":76037903,"body_markdown":"One thing you can do would be to dynamically create the bean you want based on the properties you have. This will allow you to add your own logic for creating the appropriate bean. \r\n\r\n    @SpringBootTest(classes = BeansOrder.BeansOrderConfig.class, properties = {\r\n    \t\t&quot;my_custom_property_C: true&quot;\r\n    })\r\n    public class BeansOrder {\r\n    \t@Configuration\r\n    \tstatic class BeansOrderConfig {\r\n    \t\t@Autowired\r\n    \t\tprivate Environment env;\r\n    \r\n    \t\t@Bean\r\n    \t\tpublic SomeCommonInterface bean() {\r\n    \t\t\tif (env.containsProperty(&quot;my_custom_property_B&quot;)) {\r\n    \t\t\t\treturn new ImplB();\r\n    \t\t\t}\r\n    \t\t\tif (env.containsProperty(&quot;my_custom_property_C&quot;)) {\r\n    \t\t\t\treturn new ImplC();\r\n    \t\t\t}\r\n    \t\t\treturn new ImplA();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Autowired\r\n    \tSomeCommonInterface bean;\r\n    \r\n    \t@Test\r\n    \tvoid tst() {\r\n    \t\tSystem.out.println(bean.getClass().getSimpleName());\r\n    \t}\r\n    }\r\n\r\nIf it grows larger, you can extract it into a separate class that will return the appropriate implementation based on some parameters, basically the `factory` design pattern","title":"Select order of bean injection for multiple candidates","body":"<p>One thing you can do would be to dynamically create the bean you want based on the properties you have. This will allow you to add your own logic for creating the appropriate bean.</p>\n<pre><code>@SpringBootTest(classes = BeansOrder.BeansOrderConfig.class, properties = {\n        &quot;my_custom_property_C: true&quot;\n})\npublic class BeansOrder {\n    @Configuration\n    static class BeansOrderConfig {\n        @Autowired\n        private Environment env;\n\n        @Bean\n        public SomeCommonInterface bean() {\n            if (env.containsProperty(&quot;my_custom_property_B&quot;)) {\n                return new ImplB();\n            }\n            if (env.containsProperty(&quot;my_custom_property_C&quot;)) {\n                return new ImplC();\n            }\n            return new ImplA();\n        }\n    }\n\n    @Autowired\n    SomeCommonInterface bean;\n\n    @Test\n    void tst() {\n        System.out.println(bean.getClass().getSimpleName());\n    }\n}\n</code></pre>\n<p>If it grows larger, you can extract it into a separate class that will return the appropriate implementation based on some parameters, basically the <code>factory</code> design pattern</p>\n"}],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76038999,"answer_count":1,"score":0,"last_activity_date":1681762818,"creation_date":1681753541,"question_id":76037903,"body_markdown":"In my program I have 3 beans that all implements the same interface and apply some configurations depending on some environment variables present where the application is deployed.\r\n\r\nBean `A` is always available and beans `B` and `C` are only built if a `@ConditionalOnProperty` is present.\r\n\r\nIn some places I need to inject `B`, in others `C`, and use `A` as a fallback if either is not present:\r\n\r\n```\r\n@Autowired\r\npublic MyService(SomeCommonInterface somebean)\r\n```\r\n\r\nHow do I accomplish this?","title":"Select order of bean injection for multiple candidates","body":"<p>In my program I have 3 beans that all implements the same interface and apply some configurations depending on some environment variables present where the application is deployed.</p>\n<p>Bean <code>A</code> is always available and beans <code>B</code> and <code>C</code> are only built if a <code>@ConditionalOnProperty</code> is present.</p>\n<p>In some places I need to inject <code>B</code>, in others <code>C</code>, and use <code>A</code> as a fallback if either is not present:</p>\n<pre><code>@Autowired\npublic MyService(SomeCommonInterface somebean)\n</code></pre>\n<p>How do I accomplish this?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681738127,"post_id":76035673,"comment_id":134100506,"body_markdown":"Kafka record headers are typically used for this. But no, there&#39;s nothing builtin to simplify this","body":"Kafka record headers are typically used for this. But no, there&#39;s nothing builtin to simplify this"},{"owner":{"account_id":3209227,"reputation":471,"user_id":2709542,"display_name":"Mathew"},"score":0,"creation_date":1681740681,"post_id":76035673,"comment_id":134101242,"body_markdown":"You may build a deep copy fo FinTechData before update, and compare the deep copy with the updated FinTechData at the end of synchroData.","body":"You may build a deep copy fo FinTechData before update, and compare the deep copy with the updated FinTechData at the end of synchroData."}],"answers":[{"tags":[],"owner":{"account_id":3223009,"reputation":31,"user_id":2719955,"display_name":"eiljoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681762656,"creation_date":1681760595,"answer_id":76038741,"question_id":76035673,"body_markdown":"You can wrap your Context class with ThreadLocal, e.g. in your Consumer class add:\r\n```\r\npublic static final ThreadLocal&lt;Context&gt; perThreadContext = new ThreadLocal();\r\n```\r\n\r\nThen in `synchroData()` add `perThreadContext.set(new Context());` before calling  `finService.update(finTechData);` \r\nand use `Consumer.perThreadContext.get();` in each one of the updaters when you want to add a new entry to the context.\r\n\r\nThe ThreadLocal wrapper will create a separate instance of Context for each consumer thread. This way you&#39;ll have the list of objects updated by this specific invocation of the method.\r\n\r\nSee: https://www.baeldung.com/java-threadlocal for additional read bout ThreadLocal.","title":"Java common variable across the objects for a request","body":"<p>You can wrap your Context class with ThreadLocal, e.g. in your Consumer class add:</p>\n<pre><code>public static final ThreadLocal&lt;Context&gt; perThreadContext = new ThreadLocal();\n</code></pre>\n<p>Then in <code>synchroData()</code> add <code>perThreadContext.set(new Context());</code> before calling  <code>finService.update(finTechData);</code>\nand use <code>Consumer.perThreadContext.get();</code> in each one of the updaters when you want to add a new entry to the context.</p>\n<p>The ThreadLocal wrapper will create a separate instance of Context for each consumer thread. This way you'll have the list of objects updated by this specific invocation of the method.</p>\n<p>See: <a href=\"https://www.baeldung.com/java-threadlocal\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-threadlocal</a> for additional read bout ThreadLocal.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681762656,"creation_date":1681737918,"question_id":76035673,"body_markdown":"I using Kafka to get a message and update its corresponding data if already present in the DB. There lot of complex objects involved for the synchronization.\r\n\r\nI wanted to print at the end of synchronization, all the objects that has got updated. Flow starts like below,\r\n   \r\n    public class Consumer {\r\n      @KafkaListener(topics = &quot;${kafka.topics.test}&quot;)\r\n      public void synchroData(FinTechData finTechData) {\r\n        finService.update(finTechData);\r\n      }\r\n    }\r\n\r\n    public class FinServiceImpl {\r\n       public void updateMetrics(FinTechData finTechData) {\r\n         if (finTechData != null) {\r\n           //update finTechData data ....\r\n           revolverService.updateRevolver(finTechData.getRevolver());\r\n         }\r\n       } \r\n    }\r\n\r\n    public class RevolverServiceImpl {\r\n       public void updateRevolver(Revolver revolver) {\r\n         if (revolver != null) {\r\n           //update revolver data ....\r\n           utilizationService.updateUtilization(revolver.getUtilization());\r\n           exposureService.updateexposure(revolver.getExposure()); \r\n         } \r\n       } \r\n    }\r\n\r\n  ....\r\n\r\nIt goes on for 8 to 10 objects. At the end I wanted to know what are the objects that got updated.\r\nCurrently I have a class like below with List of String as property and everytime when any object gets updated, \r\n\r\npublic class Context {\r\n  List&lt;String&gt; objectsUpdated = new ArrayList&lt;&gt;();\r\n}\r\n\r\nI add a message to it. But I need to pass the object to all the methods down the line. Is there any efficient way of doing it ?\r\n\r\nI looking for below,\r\n\r\n    FinTech Data updated\r\n    Revolver Data updated\r\n    Exposure Data updated\r\n    ...","title":"Java common variable across the objects for a request","body":"<p>I using Kafka to get a message and update its corresponding data if already present in the DB. There lot of complex objects involved for the synchronization.</p>\n<p>I wanted to print at the end of synchronization, all the objects that has got updated. Flow starts like below,</p>\n<pre><code>public class Consumer {\n  @KafkaListener(topics = &quot;${kafka.topics.test}&quot;)\n  public void synchroData(FinTechData finTechData) {\n    finService.update(finTechData);\n  }\n}\n\npublic class FinServiceImpl {\n   public void updateMetrics(FinTechData finTechData) {\n     if (finTechData != null) {\n       //update finTechData data ....\n       revolverService.updateRevolver(finTechData.getRevolver());\n     }\n   } \n}\n\npublic class RevolverServiceImpl {\n   public void updateRevolver(Revolver revolver) {\n     if (revolver != null) {\n       //update revolver data ....\n       utilizationService.updateUtilization(revolver.getUtilization());\n       exposureService.updateexposure(revolver.getExposure()); \n     } \n   } \n}\n</code></pre>\n<p>....</p>\n<p>It goes on for 8 to 10 objects. At the end I wanted to know what are the objects that got updated.\nCurrently I have a class like below with List of String as property and everytime when any object gets updated,</p>\n<p>public class Context {\nList objectsUpdated = new ArrayList&lt;&gt;();\n}</p>\n<p>I add a message to it. But I need to pass the object to all the methods down the line. Is there any efficient way of doing it ?</p>\n<p>I looking for below,</p>\n<pre><code>FinTech Data updated\nRevolver Data updated\nExposure Data updated\n...\n</code></pre>\n"},{"tags":["java","android","xml","android-linearlayout","divider"],"comments":[{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1681840130,"post_id":76038977,"comment_id":134120645,"body_markdown":"The same confusion with `dividerVertical` and `verticalDivider`.","body":"The same confusion with <code>dividerVertical</code> and <code>verticalDivider</code>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1681867912,"post_id":76038977,"comment_id":134125079,"body_markdown":"You want to use `dividerHorizontal` there. `horizontalDivider` is specifically for menus, and may not be defined in a given theme. `dividerHorizontal` is for generic use – e.g., as a `View` separator, a text rule, etc. – and it should be defined in any complete theme. Same for the corresponding vertical ones.","body":"You want to use <code>dividerHorizontal</code> there. <code>horizontalDivider</code> is specifically for menus, and may not be defined in a given theme. <code>dividerHorizontal</code> is for generic use – e.g., as a <code>View</code> separator, a text rule, etc. – and it should be defined in any complete theme. Same for the corresponding vertical ones."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1681892852,"post_id":76038977,"comment_id":134128680,"body_markdown":"I should&#39;ve also mentioned that that&#39;s something you can modify in your theme, if you should need/want to; e.g., `&lt;item name=&quot;android:dividerHorizontal&quot;&gt;@drawable/your_much_cooler_divider&lt;/item&gt;`. For reference, the default in a Material theme is [this platform drawable](https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/drawable/list_divider_material.xml). If you do change that, be aware that the Jetpack libraries have their own `dividerHorizontal`, so be sure to set `name=&quot;android:dividerHorizontal&quot;` in the theme, not `name=&quot;dividerHorizontal&quot;`. Just FYI. Cheers!","body":"I should&#39;ve also mentioned that that&#39;s something you can modify in your theme, if you should need/want to; e.g., <code>&lt;item name=&quot;android:dividerHorizontal&quot;&gt;@drawable&#47;your_much_cooler_&zwnj;&#8203;divider&lt;&#47;item&gt;</code>. For reference, the default in a Material theme is <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/drawable/list_divider_material.xml\" rel=\"nofollow noreferrer\">this platform drawable</a>. If you do change that, be aware that the Jetpack libraries have their own <code>dividerHorizontal</code>, so be sure to set <code>name=&quot;android:dividerHorizontal&quot;</code> in the theme, not <code>name=&quot;dividerHorizontal&quot;</code>. Just FYI. Cheers!"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1682037235,"post_id":76038977,"comment_id":134156742,"body_markdown":"@MikeM., could you please convert it and post it as an answer?","body":"@MikeM., could you please convert it and post it as an answer?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1682715925,"post_id":76038977,"comment_id":134264986,"body_markdown":"Oh, jeez, sorry! Not sure how I missed your comment last week; I must&#39;ve cleared my inbox without looking. Anyhoo, apologies again if this is a further inconvenience, but I&#39;m not posting new answers here atm. Please feel free to finish up this question however you&#39;d like. Thank you, though. I really appreciate the offer. Cheers!","body":"Oh, jeez, sorry! Not sure how I missed your comment last week; I must&#39;ve cleared my inbox without looking. Anyhoo, apologies again if this is a further inconvenience, but I&#39;m not posting new answers here atm. Please feel free to finish up this question however you&#39;d like. Thank you, though. I really appreciate the offer. Cheers!"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1683002608,"post_id":76038977,"comment_id":134296339,"body_markdown":"Not a problem at all. Thanks for the answer. Will try to post an answer some time.","body":"Not a problem at all. Thanks for the answer. Will try to post an answer some time."}],"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681762614,"creation_date":1681762614,"question_id":76038977,"body_markdown":"Are `horizontalDivider` and `dividerHorizontal` same?\r\n\r\nAndroid Developers:\r\n\r\n&gt; [horizontalDivider](https://developer.android.com/reference/android/R.attr#horizontalDivider):\r\n&gt;\r\n&gt; Default horizontal divider between rows of menu items.\r\n\r\n&gt; [dividerHorizontal](https://developer.android.com/reference/android/R.attr#dividerHorizontal):\r\n&gt;\r\n&gt; Drawable to use for generic horizontal dividers.\r\n\r\nI&#39;m going to use it in a `LinearLayout`:\r\n```xml\r\n&lt;LinearLayout\r\n    ...\r\n    android:divider=&quot;?android:(dividerHorizontal or horizontalDivider)&quot;\r\n    ...&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nWhich is better? Is there any difference in the design or how they&#39;re used? Or how they&#39;re referenced in (Java) code?","title":"Are &#39;dividerHorizontal&#39; and &#39;horizontalDivider&#39; same? (Android)","body":"<p>Are <code>horizontalDivider</code> and <code>dividerHorizontal</code> same?</p>\n<p>Android Developers:</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/android/R.attr#horizontalDivider\" rel=\"nofollow noreferrer\">horizontalDivider</a>:</p>\n<p>Default horizontal divider between rows of menu items.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/android/R.attr#dividerHorizontal\" rel=\"nofollow noreferrer\">dividerHorizontal</a>:</p>\n<p>Drawable to use for generic horizontal dividers.</p>\n</blockquote>\n<p>I'm going to use it in a <code>LinearLayout</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n    ...\n    android:divider=&quot;?android:(dividerHorizontal or horizontalDivider)&quot;\n    ...&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Which is better? Is there any difference in the design or how they're used? Or how they're referenced in (Java) code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1681537905,"post_id":76020587,"comment_id":134075830,"body_markdown":"Same reason for needing a constructor in non-abstract classes: Because you can perform initialization in the constructor (note instance initializer blocks are simply folded into the constructor at compile time; and note if you don&#39;t define a constructor explicitly, then a default one is provided implicitly), and because perhaps the abstract class needs to be given arguments when instantiated.","body":"Same reason for needing a constructor in non-abstract classes: Because you can perform initialization in the constructor (note instance initializer blocks are simply folded into the constructor at compile time; and note if you don&#39;t define a constructor explicitly, then a default one is provided implicitly), and because perhaps the abstract class needs to be given arguments when instantiated."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1681540612,"post_id":76020587,"comment_id":134076023,"body_markdown":"BTW that is not only in Java 8, I *believe* that was always the case for every version; BTW2 description of the [tag:core] tag: &quot;*Use this tag to refer to processor cores or questions related to threads and parallel processing.*&quot;","body":"BTW that is not only in Java 8, I <i>believe</i> that was always the case for every version; BTW2 description of the <a href=\"https://stackoverflow.com/questions/tagged/core\">core</a> tag: &quot;<i>Use this tag to refer to processor cores or questions related to threads and parallel processing.</i>&quot;"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1681549523,"post_id":76020587,"comment_id":134076926,"body_markdown":"Also see [Constructor in Java Abstract Class](https://www.geeksforgeeks.org/constructor-in-java-abstract-class/) on GeeksforGeeks. Did you remember to search thoroughly before posting your question?","body":"Also see <a href=\"https://www.geeksforgeeks.org/constructor-in-java-abstract-class/\" rel=\"nofollow noreferrer\">Constructor in Java Abstract Class</a> on GeeksforGeeks. Did you remember to search thoroughly before posting your question?"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681542936,"creation_date":1681542936,"answer_id":76020858,"question_id":76020587,"body_markdown":"Why wouldn&#39;t you need a constructor?\r\n\r\nYou still might want to do\r\n\r\n```\r\nabstract class Foo {\r\n  int a;\r\n  Foo(int a) {\r\n    this.a = a;\r\n  }\r\n}\r\n```\r\n\r\nYou still need constructors for all the same reasons as other classes do.","title":"In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static blocks","body":"<p>Why wouldn't you need a constructor?</p>\n<p>You still might want to do</p>\n<pre><code>abstract class Foo {\n  int a;\n  Foo(int a) {\n    this.a = a;\n  }\n}\n</code></pre>\n<p>You still need constructors for all the same reasons as other classes do.</p>\n"}],"owner":{"account_id":28310641,"reputation":1,"user_id":21647944,"display_name":"SavinayPatil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1681549419,"answer_count":1,"score":-1,"last_activity_date":1681762370,"creation_date":1681537779,"question_id":76020587,"body_markdown":"`In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static block support\r\n\r\n\r\n\r\nCode :-\r\n```\r\nabstract class a{\r\n    static\r\n        {\r\n            System.out.println(&quot;Inside Abstarct class static&quot;);\r\n        }\r\n    {\r\n        System.out.println(&quot;Inside Abstarct class&quot;);\r\n    }\r\n    a(){\r\n        System.out.println(&quot;Inside Abstarct class Constructor&quot;);\r\n    }\r\n    abstract void play();\r\n}\r\nclass b extends a{\r\n    public void play(){\r\n        System.out.println(&quot;Inside b class&quot;);\r\n    }\r\n}\r\n```\r\n\r\nInstantiation :- \r\n b b1=new b();\r\n b1.play();\r\n\r\noutput:-\r\nInside Abstarct class static\r\nInside Abstarct class\r\nInside Abstarct class Constructor\r\nInside b class \r\n\r\n\r\n**Detail Explanation of why we need Constructor in abstract class?**`","title":"In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static blocks","body":"<p>`In jav8, We are supporting Constructor in abstract class. why we need Constructor in abstract class, if we are having static and non-static block support</p>\n<p>Code :-</p>\n<pre><code>abstract class a{\n    static\n        {\n            System.out.println(&quot;Inside Abstarct class static&quot;);\n        }\n    {\n        System.out.println(&quot;Inside Abstarct class&quot;);\n    }\n    a(){\n        System.out.println(&quot;Inside Abstarct class Constructor&quot;);\n    }\n    abstract void play();\n}\nclass b extends a{\n    public void play(){\n        System.out.println(&quot;Inside b class&quot;);\n    }\n}\n</code></pre>\n<p>Instantiation :-\nb b1=new b();\nb1.play();</p>\n<p>output:-\nInside Abstarct class static\nInside Abstarct class\nInside Abstarct class Constructor\nInside b class</p>\n<p><strong>Detail Explanation of why we need Constructor in abstract class?</strong>`</p>\n"},{"tags":["java","networking"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1681764146,"post_id":76038901,"comment_id":134106742,"body_markdown":"you need to change localhost to the name of the server (String value) or the ip using [InetAddress](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/Socket.html#%3Cinit%3E(java.net.InetAddress,int) also make sure to allow that port 3333 you using on your firewall of your operating system","body":"you need to change localhost to the name of the server (String value) or the ip using [InetAddress](<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/Socket.html#%3Cinit%3E(java.net.InetAddress,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/jav&zwnj;&#8203;a.base/java/net/&hellip;</a> also make sure to allow that port 3333 you using on your firewall of your operating system"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681774576,"post_id":76038901,"comment_id":134108206,"body_markdown":"You&#39;ll also want to take a look at [The try-with-resources Statement](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html)","body":"You&#39;ll also want to take a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">The try-with-resources Statement</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1681775389,"post_id":76038901,"comment_id":134108311,"body_markdown":"In general terms, I was able to get your code to work - I would assume that the `Server` isn&#39;t running when you run the client","body":"In general terms, I was able to get your code to work - I would assume that the <code>Server</code> isn&#39;t running when you run the client"}],"owner":{"account_id":28333059,"reputation":1,"user_id":21667036,"display_name":"Network"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761984,"creation_date":1681761937,"question_id":76038901,"body_markdown":"I am trying to learn Java network programming to send files and strings. However, I only know how to do this on the localhost, what would I need to change to allow communication with other devices on the same network or another network? Here&#39;s my code. \r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.*;\r\n    import java.nio.file.Files;\r\n    import java.util.Arrays;\r\n    public class Client {\r\n        private int fileSize;\r\n        private String FileName;\r\n        public void getFileInformation (File newFile) {\r\n            fileSize = (int) newFile.length();\r\n            FileName = newFile.getName();\r\n        }\r\n        public static void main (String [] args) {\r\n            try {\r\n                Client newClient = new Client ();\r\n                Socket newSocket = new Socket(&quot;localhost&quot;,3333);\r\n                DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\r\n                DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \r\n                BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\r\n                System.out.println(&quot;Enter path of file: &quot;);\r\n                File newFile = new File(newReader.readLine());\r\n                newClient.getFileInformation(newFile);\r\n                newDataOutput.writeInt(newClient.fileSize);\r\n                newDataOutput.writeUTF(newClient.FileName);\r\n                byte [] fileData = Files.readAllBytes(newFile.toPath());\r\n                System.out.println(Arrays.toString(fileData));\r\n                newDataOutput.write(fileData);\r\n                newSocket.close();\r\n                newDataInput.close();\r\n                newDataOutput.flush();\r\n                newDataOutput.close();\r\n                newReader.close();\r\n            } catch (IOException ex) {\r\n                System.out.println(&quot;Error: &quot; + ex);\r\n            }\r\n        }\r\n    }\r\n    \r\n        import java.io.BufferedReader;\r\n        import java.io.DataInputStream;\r\n        import java.io.DataOutputStream;\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.InputStreamReader;\r\n        import java.net.InetAddress;\r\n        import java.net.ServerSocket;\r\n        import java.net.Socket;\r\n        import java.net.UnknownHostException;\r\n        import java.util.Arrays;\r\n        import java.util.logging.Level;\r\n        import java.util.logging.Logger;\r\n        public class Server {\r\n            private int fileSize;\r\n            private String FileName;\r\n            public static void main (String [] args) {\r\n                try {\r\n                    Server newServer = new Server();\r\n                    ServerSocket newServerSocket = new ServerSocket(3333);  \r\n                    Socket newSocket = newServerSocket.accept();  \r\n                    DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\r\n                    DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \r\n                    BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\r\n                    newServer.fileSize = newDataInput.readInt();\r\n                    System.out.println(newServer.fileSize);\r\n                    newServer.FileName = newDataInput.readUTF();\r\n                    System.out.println(newServer.FileName);\r\n                    byte [] fileData = new byte [newServer.fileSize];\r\n                    newDataInput.readFully(fileData);\r\n                    FileOutputStream newOutputStream = new FileOutputStream(newServer.FileName);\r\n                    System.out.println(Arrays.toString(fileData));\r\n                    newOutputStream.write(fileData);\r\n                    newOutputStream.close();\r\n                    newSocket.close();\r\n                    newDataInput.close();\r\n                    newDataOutput.flush();\r\n                    newDataOutput.close();\r\n                    newReader.close();\r\n                } catch (IOException ex) {\r\n                    System.out.println(&quot;Error: &quot; + ex);\r\n                }\r\n            }\r\n        }\r\n\r\nI&#39;ve tried changing localhost to what Java prints when I use InetAddress.getLocalHost().getHostAddress(); but that hasn&#39;t worked. The client keeps printing &quot;Error: java.net.ConnectionException: Connect refused&quot;\r\n","title":"How to set up socket to connect to other devices","body":"<p>I am trying to learn Java network programming to send files and strings. However, I only know how to do this on the localhost, what would I need to change to allow communication with other devices on the same network or another network? Here's my code.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.*;\nimport java.nio.file.Files;\nimport java.util.Arrays;\npublic class Client {\n    private int fileSize;\n    private String FileName;\n    public void getFileInformation (File newFile) {\n        fileSize = (int) newFile.length();\n        FileName = newFile.getName();\n    }\n    public static void main (String [] args) {\n        try {\n            Client newClient = new Client ();\n            Socket newSocket = new Socket(&quot;localhost&quot;,3333);\n            DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\n            DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \n            BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\n            System.out.println(&quot;Enter path of file: &quot;);\n            File newFile = new File(newReader.readLine());\n            newClient.getFileInformation(newFile);\n            newDataOutput.writeInt(newClient.fileSize);\n            newDataOutput.writeUTF(newClient.FileName);\n            byte [] fileData = Files.readAllBytes(newFile.toPath());\n            System.out.println(Arrays.toString(fileData));\n            newDataOutput.write(fileData);\n            newSocket.close();\n            newDataInput.close();\n            newDataOutput.flush();\n            newDataOutput.close();\n            newReader.close();\n        } catch (IOException ex) {\n            System.out.println(&quot;Error: &quot; + ex);\n        }\n    }\n}\n\n    import java.io.BufferedReader;\n    import java.io.DataInputStream;\n    import java.io.DataOutputStream;\n    import java.io.File;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.net.InetAddress;\n    import java.net.ServerSocket;\n    import java.net.Socket;\n    import java.net.UnknownHostException;\n    import java.util.Arrays;\n    import java.util.logging.Level;\n    import java.util.logging.Logger;\n    public class Server {\n        private int fileSize;\n        private String FileName;\n        public static void main (String [] args) {\n            try {\n                Server newServer = new Server();\n                ServerSocket newServerSocket = new ServerSocket(3333);  \n                Socket newSocket = newServerSocket.accept();  \n                DataInputStream newDataInput = new DataInputStream(newSocket.getInputStream());\n                DataOutputStream newDataOutput = new DataOutputStream(newSocket.getOutputStream());  \n                BufferedReader newReader = new BufferedReader(new InputStreamReader(System.in));\n                newServer.fileSize = newDataInput.readInt();\n                System.out.println(newServer.fileSize);\n                newServer.FileName = newDataInput.readUTF();\n                System.out.println(newServer.FileName);\n                byte [] fileData = new byte [newServer.fileSize];\n                newDataInput.readFully(fileData);\n                FileOutputStream newOutputStream = new FileOutputStream(newServer.FileName);\n                System.out.println(Arrays.toString(fileData));\n                newOutputStream.write(fileData);\n                newOutputStream.close();\n                newSocket.close();\n                newDataInput.close();\n                newDataOutput.flush();\n                newDataOutput.close();\n                newReader.close();\n            } catch (IOException ex) {\n                System.out.println(&quot;Error: &quot; + ex);\n            }\n        }\n    }\n</code></pre>\n<p>I've tried changing localhost to what Java prints when I use InetAddress.getLocalHost().getHostAddress(); but that hasn't worked. The client keeps printing &quot;Error: java.net.ConnectionException: Connect refused&quot;</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1681763545,"post_id":76038867,"comment_id":134106638,"body_markdown":"can you update the question and show the `MyService` class?  is it annotated with `@Service` or declared as a bean?","body":"can you update the question and show the <code>MyService</code> class?  is it annotated with <code>@Service</code> or declared as a bean?"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1681783403,"post_id":76038867,"comment_id":134109192,"body_markdown":"Also, what does your project file (Maven POM, Gradle file, whatever) look like?","body":"Also, what does your project file (Maven POM, Gradle file, whatever) look like?"}],"owner":{"account_id":9945981,"reputation":379,"user_id":7360695,"accept_rate":59,"display_name":"Battalgazi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761670,"creation_date":1681761670,"question_id":76038867,"body_markdown":"I have a MapStruct mapper where I inject a service with a setter in the following way. The project compiles and works fine, until I try to run some project tests (not test related to this mapping), when an error occurs. I wonder if I have to configure anything extra for this case:\r\n\r\nMy mapper:\r\n\r\n```\r\npublic abstract class MyMapper {\r\n\r\nprivate MyService myService;\r\n\r\n@Autowired\r\n    public final void setMyService(MyService myService) {\r\n        this.myService = myService;\r\n    }\r\n    \r\n...\r\n\r\n}\r\n```\r\n\r\nThe error message:\r\n&gt;Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myMapperImpl&#39;: Unsatisfied dependency expressed through method &#39;setBmdMappingService&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;***.MyService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n","title":"Project tests fail when injecting a service in a MapStruct mapper","body":"<p>I have a MapStruct mapper where I inject a service with a setter in the following way. The project compiles and works fine, until I try to run some project tests (not test related to this mapping), when an error occurs. I wonder if I have to configure anything extra for this case:</p>\n<p>My mapper:</p>\n<pre><code>public abstract class MyMapper {\n\nprivate MyService myService;\n\n@Autowired\n    public final void setMyService(MyService myService) {\n        this.myService = myService;\n    }\n    \n...\n\n}\n</code></pre>\n<p>The error message:</p>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myMapperImpl': Unsatisfied dependency expressed through method 'setBmdMappingService' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type '***.MyService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n</blockquote>\n"},{"tags":["java","javax.imageio","twelvemonkeys"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1681813483,"post_id":76038749,"comment_id":134113524,"body_markdown":"Personally, I&#39;d vote for option 4, the developer of the TIFF plugin  (me, that is) screwed up and it&#39;s a bug... Option 3 is of course also possible, but the differences between TIFF and BigTIFF is mainly the container structure, not the image data. If you file an issue at https://github.com/haraldk/TwelveMonkeys/issues, I&#39;ll try to look into it.","body":"Personally, I&#39;d vote for option 4, the developer of the TIFF plugin  (me, that is) screwed up and it&#39;s a bug... Option 3 is of course also possible, but the differences between TIFF and BigTIFF is mainly the container structure, not the image data. If you file an issue at <a href=\"https://github.com/haraldk/TwelveMonkeys/issues\" rel=\"nofollow noreferrer\">github.com/haraldk/TwelveMonkeys/issues</a>, I&#39;ll try to look into it."}],"owner":{"account_id":28084344,"reputation":1,"user_id":21454933,"display_name":"RichardF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761596,"creation_date":1681760639,"question_id":76038749,"body_markdown":"I want to read a specific GeoTIFF file, which is a BigTIFF containing a set of uncompressed 128x128 tiles of float32 data. My code snippet requests a small rectangle. It works with ordinary TIFFs, small test RGBA BigTIFFs, and a small test float32 BigTIFF. However, with the file in question, it returns an exception.\r\nIf the requested rectangle is inside the first tile, the error is java.lang.ArrayIndexOutOfBoundsException with the message &#39;Coordinate out of bounds!&#39;. Outside the first tile, the exception is java.awt.image.RasterFormatException (shown below).\r\nI&#39;m using version 3.9.4 of the twelvemonkeys ImageIO code. I&#39;ve also tried 3.8.1 with the same result.\r\n\r\nCode fragment:\r\n```\r\n    try {\r\n      ImageInputStream input = ImageIO.createImageInputStream(file);\r\n      ImageReader reader = ImageIO.getImageReaders(input).next();\r\n      System.out.println( &quot;Using reader: &quot; + reader );\r\n\r\n      reader.setInput(input);\r\n      int width  = reader.getWidth(reader.getMinIndex());\r\n      int height = reader.getHeight(reader.getMinIndex());\r\n      System.out.println( &quot;width, height: &quot; + width + &quot;, &quot; + height );\r\n\r\n      ImageReadParam param = reader.getDefaultReadParam();\r\n      Rectangle rect = new Rectangle(256, 256, 2, 2);\r\n      param.setSourceRegion(rect);\r\n      System.out.println( &quot;sourceRegion:    &quot; + param.getSourceRegion().toString() );\r\n      BufferedImage image = reader.read(0, param);\r\n    }\r\n    catch (Exception e) {\r\n      System.out.println( &quot;Exception:&quot; );\r\n      e.printStackTrace();\r\n    }\r\n```\r\n\r\nOutput:   \r\n\r\n        Using reader: com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader@76ccd017   \r\n        width, height: 58000, 66500   \r\n        sourceRegion:    java.awt.Rectangle[x=256,y=256,width=2,height=2]   \r\n        Exception:   \r\n        java.awt.image.RasterFormatException: (parentX + width) is outside raster   \r\n        at java.desktop/java.awt.image.Raster.createChild(Raster.java:1526)   \r\n        at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.clipRowToRect(TIFFImageReader.java:1909)   \r\n        at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.read(TIFFImageReader.java:1094)   \r\n        at smallest_test.main(smallest_test.java:58)   \r\n\r\n\r\nThe BigTIFF file is available from this page:\r\nhttps://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m\r\nBeware: the download is 3.6Gb; the file is 15.5Gb.\r\n\r\nI can see three possibilities:\r\n1. My code is wrong.\r\n2. The file is broken.\r\n3. The file uses part of the Big TIFF specification which HaraldK and Twelvemonkeys haven&#39;t implemented yet.\r\n\r\nRegarding possibility 2, I have bodged some code that can read data points from the file, which indicates that it&#39;s not completely mangled. The data (terrain height) which I extracted matches my expectations and other datasets.\r\n\r\nAs for what&#39;s actually happening, the exception print seems to be alleging that 256+2 is larger than 58000, which seems unlikely.\r\n\r\nI&#39;d like your thoughts about what&#39;s wrong, and why.\r\n","title":"Reading a tiled float32 BigTIFF using Twelvemonkeys java ImageIO","body":"<p>I want to read a specific GeoTIFF file, which is a BigTIFF containing a set of uncompressed 128x128 tiles of float32 data. My code snippet requests a small rectangle. It works with ordinary TIFFs, small test RGBA BigTIFFs, and a small test float32 BigTIFF. However, with the file in question, it returns an exception.\nIf the requested rectangle is inside the first tile, the error is java.lang.ArrayIndexOutOfBoundsException with the message 'Coordinate out of bounds!'. Outside the first tile, the exception is java.awt.image.RasterFormatException (shown below).\nI'm using version 3.9.4 of the twelvemonkeys ImageIO code. I've also tried 3.8.1 with the same result.</p>\n<p>Code fragment:</p>\n<pre><code>    try {\n      ImageInputStream input = ImageIO.createImageInputStream(file);\n      ImageReader reader = ImageIO.getImageReaders(input).next();\n      System.out.println( &quot;Using reader: &quot; + reader );\n\n      reader.setInput(input);\n      int width  = reader.getWidth(reader.getMinIndex());\n      int height = reader.getHeight(reader.getMinIndex());\n      System.out.println( &quot;width, height: &quot; + width + &quot;, &quot; + height );\n\n      ImageReadParam param = reader.getDefaultReadParam();\n      Rectangle rect = new Rectangle(256, 256, 2, 2);\n      param.setSourceRegion(rect);\n      System.out.println( &quot;sourceRegion:    &quot; + param.getSourceRegion().toString() );\n      BufferedImage image = reader.read(0, param);\n    }\n    catch (Exception e) {\n      System.out.println( &quot;Exception:&quot; );\n      e.printStackTrace();\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>    Using reader: com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader@76ccd017   \n    width, height: 58000, 66500   \n    sourceRegion:    java.awt.Rectangle[x=256,y=256,width=2,height=2]   \n    Exception:   \n    java.awt.image.RasterFormatException: (parentX + width) is outside raster   \n    at java.desktop/java.awt.image.Raster.createChild(Raster.java:1526)   \n    at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.clipRowToRect(TIFFImageReader.java:1909)   \n    at com.twelvemonkeys.imageio.plugins.tiff.TIFFImageReader.read(TIFFImageReader.java:1094)   \n    at smallest_test.main(smallest_test.java:58)   \n</code></pre>\n<p>The BigTIFF file is available from this page:\n<a href=\"https://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m\" rel=\"nofollow noreferrer\">https://www.data.gov.uk/dataset/8311f42d-bddd-4cd4-98a3-e543de5be4cb/lidar-composite-dtm-2019-10m</a>\nBeware: the download is 3.6Gb; the file is 15.5Gb.</p>\n<p>I can see three possibilities:</p>\n<ol>\n<li>My code is wrong.</li>\n<li>The file is broken.</li>\n<li>The file uses part of the Big TIFF specification which HaraldK and Twelvemonkeys haven't implemented yet.</li>\n</ol>\n<p>Regarding possibility 2, I have bodged some code that can read data points from the file, which indicates that it's not completely mangled. The data (terrain height) which I extracted matches my expectations and other datasets.</p>\n<p>As for what's actually happening, the exception print seems to be alleging that 256+2 is larger than 58000, which seems unlikely.</p>\n<p>I'd like your thoughts about what's wrong, and why.</p>\n"},{"tags":["java","generics","arraylist","methods"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1514494708,"post_id":48014264,"comment_id":82997479,"body_markdown":"avoid `value = value` should be `this.value = value`","body":"avoid <code>value = value</code> should be <code>this.value = value</code>"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1514494718,"post_id":48014264,"comment_id":82997485,"body_markdown":"Lets say your ValueObject&lt;?&gt; had a `String` `value` but you call `set` with `Integer`, how would compiler be able to prevent it?","body":"Lets say your ValueObject&lt;?&gt; had a <code>String</code> <code>value</code> but you call <code>set</code> with <code>Integer</code>, how would compiler be able to prevent it?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1514494720,"post_id":48014264,"comment_id":82997486,"body_markdown":"What&#39;s `ValueNames`? And what&#39;s `valueNames`? And why are you passing one instance to another? And why do you think you can call `setValue()` with any `T`?","body":"What&#39;s <code>ValueNames</code>? And what&#39;s <code>valueNames</code>? And why are you passing one instance to another? And why do you think you can call <code>setValue()</code> with any <code>T</code>?"},{"owner":{"account_id":12482065,"reputation":7327,"user_id":9086466,"display_name":"Ctznkane525"},"score":0,"creation_date":1514494805,"post_id":48014264,"comment_id":82997520,"body_markdown":"This might help?  https://stackoverflow.com/questions/16171637/java-reflection-how-to-get-field-value-from-an-object-not-knowing-its-class","body":"This might help?  <a href=\"https://stackoverflow.com/questions/16171637/java-reflection-how-to-get-field-value-from-an-object-not-knowing-its-class\" title=\"java reflection how to get field value from an object not knowing its class\">stackoverflow.com/questions/16171637/&hellip;</a>"},{"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"score":0,"creation_date":1514494816,"post_id":48014264,"comment_id":82997524,"body_markdown":"ok corrected my question","body":"ok corrected my question"}],"answers":[{"comments":[{"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"score":0,"creation_date":1514548140,"post_id":48017638,"comment_id":83013290,"body_markdown":"Thank you very much! The second solution worked great =)","body":"Thank you very much! The second solution worked great =)"}],"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1514524214,"creation_date":1514523846,"answer_id":48017638,"question_id":48014264,"body_markdown":"You don&#39;t provide a full example, so not sure which will help you.\r\n\r\nVersion 1 if you can use `List&lt;ValueObject&lt;T&gt;&gt;` because all `ValueObjects` hold the same type.\r\n\r\n    static class Lookup&lt;T2&gt; {\r\n\r\n        List&lt;ValueObject&lt;T2&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\n        ValueObject&lt;T2&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n        public void set(String name, T2 value) {\r\n            get(name).setValue(value);\r\n        }\r\n    }\r\n\r\nVersion 2 if `valueObjects` really contains `ValueObject` with different contained classes:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static class Lookup2 {\r\n\r\n        List&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\n        /* unsafe get */\r\n        ValueObject&lt;?&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n\r\n        /* set using unsafe get */\r\n        public &lt;T&gt; void setUnsafe(String name, T value) {\r\n            /* might add handling of runtime exceptions */\r\n            ((ValueObject&lt;T&gt;)get(name)).setValue(value);\r\n        }\r\n\r\n        /* safe get when client knows class */\r\n        &lt;T&gt; ValueObject&lt;T&gt; get(String name, Class&lt;T&gt; clazz) {\r\n            /* might do instanceOf check here to throw custom exception */\r\n            return (ValueObject&lt;T&gt;) valueObjects.get(valueNames.indexOf(name));\r\n        }\r\n\r\n        /* set using safe get */\r\n        public &lt;T&gt; void set(String name, T value) {\r\n            /* might add handling of runtime exceptions */\r\n            get(name, (Class&lt;T&gt;) value.getClass()).setValue(value);\r\n        }\r\n    }","title":"Java set generic Value of an Object in an ArrayList","body":"<p>You don't provide a full example, so not sure which will help you.</p>\n\n<p>Version 1 if you can use <code>List&lt;ValueObject&lt;T&gt;&gt;</code> because all <code>ValueObjects</code> hold the same type.</p>\n\n<pre><code>static class Lookup&lt;T2&gt; {\n\n    List&lt;ValueObject&lt;T2&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\n    List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n\n    ValueObject&lt;T2&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n    }\n\n    public void set(String name, T2 value) {\n        get(name).setValue(value);\n    }\n}\n</code></pre>\n\n<p>Version 2 if <code>valueObjects</code> really contains <code>ValueObject</code> with different contained classes:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nstatic class Lookup2 {\n\n    List&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\n    List&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n\n    /* unsafe get */\n    ValueObject&lt;?&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n    }\n\n\n    /* set using unsafe get */\n    public &lt;T&gt; void setUnsafe(String name, T value) {\n        /* might add handling of runtime exceptions */\n        ((ValueObject&lt;T&gt;)get(name)).setValue(value);\n    }\n\n    /* safe get when client knows class */\n    &lt;T&gt; ValueObject&lt;T&gt; get(String name, Class&lt;T&gt; clazz) {\n        /* might do instanceOf check here to throw custom exception */\n        return (ValueObject&lt;T&gt;) valueObjects.get(valueNames.indexOf(name));\n    }\n\n    /* set using safe get */\n    public &lt;T&gt; void set(String name, T value) {\n        /* might add handling of runtime exceptions */\n        get(name, (Class&lt;T&gt;) value.getClass()).setValue(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6943226,"reputation":231,"user_id":5328757,"accept_rate":86,"display_name":"Olgidos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48017638,"answer_count":1,"score":0,"last_activity_date":1681761249,"creation_date":1514494525,"question_id":48014264,"body_markdown":"I have a class\r\n\r\n     public class ValueObject&lt;T&gt; {\r\n            private T value;\r\n    \r\n            public void setValue(T value){\r\n              this.value = value\r\n            }\r\n        }\r\n\r\nIn another class I have an Array of the Objects from the first Class\r\n\r\n    ArrayList&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\r\n\r\nnow I want to write a Method which looks in a second array for a name and assigns a new value to an instance of the first object in that arrayList\r\n\r\n    ValueObject&lt;?&gt; get(String name) {\r\n            return valueObjects.get(valueNames.indexOf(name));\r\n    }\r\n\r\n    public &lt;T&gt; void set(String name, T value) {\r\n         get(name).setValue(value);\r\n    }\r\n\r\nBut I don&#39;t get this to work. Do I need to write something with ? in the set() Method?\r\n\r\nThanks","title":"Java set generic Value of an Object in an ArrayList","body":"<p>I have a class</p>\n<pre><code> public class ValueObject&lt;T&gt; {\n        private T value;\n\n        public void setValue(T value){\n          this.value = value\n        }\n    }\n</code></pre>\n<p>In another class I have an Array of the Objects from the first Class</p>\n<pre><code>ArrayList&lt;ValueObject&lt;?&gt;&gt; valueObjects = new ArrayList&lt;&gt;();\nArrayList&lt;String&gt; valueNames = new ArrayList&lt;&gt;();\n</code></pre>\n<p>now I want to write a Method which looks in a second array for a name and assigns a new value to an instance of the first object in that arrayList</p>\n<pre><code>ValueObject&lt;?&gt; get(String name) {\n        return valueObjects.get(valueNames.indexOf(name));\n}\n\npublic &lt;T&gt; void set(String name, T value) {\n     get(name).setValue(value);\n}\n</code></pre>\n<p>But I don't get this to work. Do I need to write something with ? in the set() Method?</p>\n<p>Thanks</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"score":0,"creation_date":1682585804,"post_id":76038791,"comment_id":134240273,"body_markdown":"Can you share the code?","body":"Can you share the code?"}],"owner":{"account_id":3291358,"reputation":129,"user_id":2909467,"accept_rate":40,"display_name":"cviniciusm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681761031,"creation_date":1681761031,"question_id":76038791,"body_markdown":"I was able to set the orientation of the last page to landscape programatically (Java) but the table inside it is not oriented according. How to solve this issue, please?","title":"iText 7 - How to set table orientation/rotation to landscape?","body":"<p>I was able to set the orientation of the last page to landscape programatically (Java) but the table inside it is not oriented according. How to solve this issue, please?</p>\n"},{"tags":["java","android","firebase","image","save"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1681798915,"post_id":76038754,"comment_id":134110399,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681807506,"post_id":76038754,"comment_id":134112176,"body_markdown":"Please edit your question and add the code as text and **not** as an image.","body":"Please edit your question and add the code as text and <b>not</b> as an image."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681807538,"post_id":76038754,"comment_id":134112186,"body_markdown":"If you understand Kotlin, this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"If you understand Kotlin, this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28332989,"reputation":1,"user_id":21666980,"display_name":"alldayalldi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681760694,"creation_date":1681760694,"question_id":76038754,"body_markdown":"I am using Android Studio and I am having issues saving an image to a screen. I have created the ability to upload an image to the screen using the phone&#39;s gallery but every time I go to a different activity or close the app, the image is gone. The image gets uploaded to firebase storage but does not remain on the screen when going to a different screen. I need a way for the app to retrieve the image and show it again. I was thinking of also trying sharedpreferences but I did not know if that would work. Here is the code:\r\n\r\n[My code](https://i.stack.imgur.com/dci7i.png)\r\n[My Code](https://i.stack.imgur.com/bwRWA.png)\r\n\r\n\r\nI was thinking of trying sharedpreferences.","title":"How can I prevent an image I set as a profile picture inside of android studio from leaving once I go to a different screen or close the app?","body":"<p>I am using Android Studio and I am having issues saving an image to a screen. I have created the ability to upload an image to the screen using the phone's gallery but every time I go to a different activity or close the app, the image is gone. The image gets uploaded to firebase storage but does not remain on the screen when going to a different screen. I need a way for the app to retrieve the image and show it again. I was thinking of also trying sharedpreferences but I did not know if that would work. Here is the code:</p>\n<p><a href=\"https://i.stack.imgur.com/dci7i.png\" rel=\"nofollow noreferrer\">My code</a>\n<a href=\"https://i.stack.imgur.com/bwRWA.png\" rel=\"nofollow noreferrer\">My Code</a></p>\n<p>I was thinking of trying sharedpreferences.</p>\n"},{"tags":["java","azure-functions","azure-queues"],"answers":[{"tags":[],"owner":{"account_id":6821370,"reputation":63,"user_id":5248421,"display_name":"Gabriel Ruoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681759556,"creation_date":1681759556,"answer_id":76038627,"question_id":75752203,"body_markdown":"I have not found a solution to this problem, however a workaround is to call existsWithResponse using a timeout before attempting to interact with the file. This will throw an exception once the timeout is reached allowing the program to fail gracefully.\r\n\r\nThis issue seems to occur at random. It does not depend on the file that is being accessed, and only occurs when the function app is deployed to Azure (does not occur when running locally).\r\n\r\nThis is continuing to cause many issues for us and we will need to find an alternative to Azure File Shares.\r\n```\r\npublic File downloadFileData(String fileName, File pstFile) throws Exception\r\n\t{\r\n\t\t// handle unset client name\r\n\t\tif(clientName == null)\r\n\t\t{\r\n\t\t\tthrow new NullPointerException(&quot;Client name is unset&quot;);\r\n\t\t}\r\n\t\tInputStream fileInputStream = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\t// connect to the client&#39;s file share\r\n\t\t\tFileShare clientFs = new FileShare(this.clientName);\r\n\t\t\tShareFileClient fileClient = clientFs.getClientFileClient(fileName);\r\n\t\t\t// verify that fileClient is accessible\r\n\t\t\tContext context = new Context(&quot;&quot;,&quot;&quot;);\r\n\t\t\tfileClient.existsWithResponse(Duration.ofSeconds((long)FileShare.shareFileClientTimeout), context);\r\n\t\t\t// download the file\r\n\t\t\tfileInputStream = fileClient.openInputStream();\r\n\t\t\tSubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\r\n\t\t\treturn pstFile;\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new Exception(&quot;Could not download file &quot;+fileName+&quot;: &quot;+e.getMessage());\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\t// close stream\r\n\t\t\tif(fileInputStream!=null)\r\n\t\t\t{\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"Azure Queue Triggered Function Hangs Indefinitely on Call to ShareFileClient","body":"<p>I have not found a solution to this problem, however a workaround is to call existsWithResponse using a timeout before attempting to interact with the file. This will throw an exception once the timeout is reached allowing the program to fail gracefully.</p>\n<p>This issue seems to occur at random. It does not depend on the file that is being accessed, and only occurs when the function app is deployed to Azure (does not occur when running locally).</p>\n<p>This is continuing to cause many issues for us and we will need to find an alternative to Azure File Shares.</p>\n<pre><code>public File downloadFileData(String fileName, File pstFile) throws Exception\n    {\n        // handle unset client name\n        if(clientName == null)\n        {\n            throw new NullPointerException(&quot;Client name is unset&quot;);\n        }\n        InputStream fileInputStream = null;\n        try\n        {\n            // connect to the client's file share\n            FileShare clientFs = new FileShare(this.clientName);\n            ShareFileClient fileClient = clientFs.getClientFileClient(fileName);\n            // verify that fileClient is accessible\n            Context context = new Context(&quot;&quot;,&quot;&quot;);\n            fileClient.existsWithResponse(Duration.ofSeconds((long)FileShare.shareFileClientTimeout), context);\n            // download the file\n            fileInputStream = fileClient.openInputStream();\n            SubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\n            return pstFile;\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\n            e.printStackTrace();\n            throw new Exception(&quot;Could not download file &quot;+fileName+&quot;: &quot;+e.getMessage());\n        }\n        finally\n        {\n            // close stream\n            if(fileInputStream!=null)\n            {\n                fileInputStream.close();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6821370,"reputation":63,"user_id":5248421,"display_name":"Gabriel Ruoff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76038627,"answer_count":1,"score":0,"last_activity_date":1681759556,"creation_date":1678941233,"question_id":75752203,"body_markdown":"I have a queue triggered function which processes messages containing the name of a file stored in a file share. The filename is parsed from the message and the file is downloaded from the file share using a ShareFileClient:\r\n\r\n```\r\n\tpublic File downloadFileData(String fileName, File pstFile) throws Exception\r\n\t{\r\n\t\t// handle unset client name\r\n\t\tif(clientName == null)\r\n\t\t{\r\n\t\t\tthrow new NullPointerException(&quot;Client name is unset&quot;);\r\n\t\t}\r\n\t\tInputStream fileInputStream = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\t// connect to the client&#39;s file share\r\n\t\t\tFileShare clientFs = new FileShare(this.clientName);\r\n\t\t\tShareFileClient fileClient = clientFs.getClientFileClient(fileName);\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);\r\n\t\t\t// download the file\r\n\t\t\tlog.info(&quot;file exists? &quot;+fileClient.exists());\r\n\t\t\tlog.info(&quot;file url: &quot;+fileClient.getFileUrl());\r\n\t\t\tfileInputStream = fileClient.openInputStream();\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) saving to file&quot;);\r\n\t\t\tSubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\r\n\t\t\tlog.info(&quot;(&quot;+fileName+&quot;) saved to file&quot;);\r\n\t\t\treturn pstFile;\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tlog.warning(&quot;Exception: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new Exception(&quot;Could not download file &quot;+fileName);\r\n\t\t}\r\n\t\tfinally\r\n\t\t{\r\n\t\t\t// close stream\r\n\t\t\tif(fileInputStream!=null)\r\n\t\t\t{\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\nthe getClientFileClient method retrieves the file client.\r\n```\r\npublic ShareFileClient getClientFileClient(String fileName) {\r\n\treturn getFileClient(StorageAccount.saConnectionString, FileShare.sharePrefix + \r\n                         this.clientName,\r\n                         fileName);\r\n}\r\n```\r\n\r\nThis has worked correctly for thousands of files, however strange behavior is now occurring with some files. Occasionally, the program executes until the ShareFileClient is first accessed `log.info(&quot;file exists? &quot;+fileClient.exists());`\r\n\r\nWhen the ShareFileClient is first accessed, the queue trigger processor hangs indefinitely. It does not throw an exception and the function does not return with &#39;failed&#39; or &#39;succeeded&#39;. The last message shown in the log is the output of `log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);`. The function also does not honor its timeout when it is in this state and hangs until the function app is restarted. Other functions still execute correctly. This only occurs for specific files in the file share.\r\n\r\n*When I run the function app locally using AZFunctions Core Tools the issue does not occur for these specific files.*\r\n\r\nI have tried:\r\n\r\n - Changing the name of the failing files\r\nResult: no change\r\n - Increasing batchSize to 3 in host.json\r\nResult: the process running the failing files hangs while the other two continue to process files as normal.\r\n\r\nI would really appreciate some help with this. Please let me know if additional info is needed.\r\n","title":"Azure Queue Triggered Function Hangs Indefinitely on Call to ShareFileClient","body":"<p>I have a queue triggered function which processes messages containing the name of a file stored in a file share. The filename is parsed from the message and the file is downloaded from the file share using a ShareFileClient:</p>\n<pre><code>    public File downloadFileData(String fileName, File pstFile) throws Exception\n    {\n        // handle unset client name\n        if(clientName == null)\n        {\n            throw new NullPointerException(&quot;Client name is unset&quot;);\n        }\n        InputStream fileInputStream = null;\n        try\n        {\n            // connect to the client's file share\n            FileShare clientFs = new FileShare(this.clientName);\n            ShareFileClient fileClient = clientFs.getClientFileClient(fileName);\n            log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);\n            // download the file\n            log.info(&quot;file exists? &quot;+fileClient.exists());\n            log.info(&quot;file url: &quot;+fileClient.getFileUrl());\n            fileInputStream = fileClient.openInputStream();\n            log.info(&quot;(&quot;+fileName+&quot;) saving to file&quot;);\n            SubmissionUtils.copyInputStreamToFile(fileInputStream, pstFile);\n            log.info(&quot;(&quot;+fileName+&quot;) saved to file&quot;);\n            return pstFile;\n        }\n        catch (Exception e)\n        {\n            log.warning(&quot;Exception: &quot; + e.getMessage());\n            e.printStackTrace();\n            throw new Exception(&quot;Could not download file &quot;+fileName);\n        }\n        finally\n        {\n            // close stream\n            if(fileInputStream!=null)\n            {\n                fileInputStream.close();\n            }\n        }\n    }\n</code></pre>\n<p>the getClientFileClient method retrieves the file client.</p>\n<pre><code>public ShareFileClient getClientFileClient(String fileName) {\n    return getFileClient(StorageAccount.saConnectionString, FileShare.sharePrefix + \n                         this.clientName,\n                         fileName);\n}\n</code></pre>\n<p>This has worked correctly for thousands of files, however strange behavior is now occurring with some files. Occasionally, the program executes until the ShareFileClient is first accessed <code>log.info(&quot;file exists? &quot;+fileClient.exists());</code></p>\n<p>When the ShareFileClient is first accessed, the queue trigger processor hangs indefinitely. It does not throw an exception and the function does not return with 'failed' or 'succeeded'. The last message shown in the log is the output of <code>log.info(&quot;(&quot;+fileName+&quot;) opening stream&quot;);</code>. The function also does not honor its timeout when it is in this state and hangs until the function app is restarted. Other functions still execute correctly. This only occurs for specific files in the file share.</p>\n<p><em>When I run the function app locally using AZFunctions Core Tools the issue does not occur for these specific files.</em></p>\n<p>I have tried:</p>\n<ul>\n<li>Changing the name of the failing files\nResult: no change</li>\n<li>Increasing batchSize to 3 in host.json\nResult: the process running the failing files hangs while the other two continue to process files as normal.</li>\n</ul>\n<p>I would really appreciate some help with this. Please let me know if additional info is needed.</p>\n"},{"tags":["java","log4j","log4shell"],"answers":[{"tags":[],"owner":{"account_id":14461757,"reputation":191,"user_id":11561992,"display_name":"Ablia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656076422,"creation_date":1656076422,"answer_id":72744652,"question_id":72719288,"body_markdown":"Solved it. \r\n\r\nTurned out for log4shell to work you need a vulnerable app and a vulnerable version of Java; which I thought I had, but nope. I had Java 11.0.15, and needed Java 11 (Ghidra need Java 11 minimum, only vulnerable version of Java 11 is the first one). \r\n\r\nDownloaded and installed Java 11, POC working perfectly. \r\n\r\n","title":"log4shell POC : no HTTP redirect","body":"<p>Solved it.</p>\n<p>Turned out for log4shell to work you need a vulnerable app and a vulnerable version of Java; which I thought I had, but nope. I had Java 11.0.15, and needed Java 11 (Ghidra need Java 11 minimum, only vulnerable version of Java 11 is the first one).</p>\n<p>Downloaded and installed Java 11, POC working perfectly.</p>\n"}],"owner":{"account_id":14461757,"reputation":191,"user_id":11561992,"display_name":"Ablia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681759123,"creation_date":1655916783,"question_id":72719288,"body_markdown":"I am trying to understand/reproduce Log4shell vulnerability, using this [poc][1] and also information from [Marshalsec][2]. \r\n\r\nTo do that, I&#39;ve downloaded Ghidra v10.0.4, which is said (on Ghidra download page) to be vulnerable to log4shell. Installed it on an ubuntu VM, along with java 1.8 (as stated in POC), and loaded the Poc + marshalsec snapshot.\r\n\r\nTried to start Ghidra, it said java 11 was needed, so although I&#39;ve installed java 1.8 I still downloaded java 11 and, when you start ghidra, it says the installed version is not good enough and ask for the path to a java11 version; so I just gave him path to the jdk11 directory and it seems happy with it. Ghidra starts alright. \r\n\r\nThen set up my listener and launched the poc, got the payload string to copy/paste in ghidra, and got a response in the ldap listener saying it&#39;ll send it to HTTP. But nothing more. The end.\r\n\r\nSince the HTTP server is set up by the same POC, I thought maybe I just couldn&#39;t see the redirection, so I started the http server myself, started the ldap server myself with marshalsec, and retried (see pics below for exact commands/outputs). \r\n\r\nSetting http server:\r\n\r\n[![Set HTTP server][3]][3]\r\n\r\nSet listener:\r\n\r\n[![Set listener][5]][5]\r\n\r\nSetting LDAP server:\r\n\r\n[![Set LDAP server and get response][6]][6]\r\n\r\n\r\nSend payload string in Ghidra (in the help/search part, as shown in kozmer POC); immediately got an answer:\r\n[![Sending payload string in Ghidra][7]][7]\r\n\r\nI still receive a response on the LDAP listener (two, in fact, which seems weird), but nothing on the HTTP. The the Exploit class is never loaded in ghidra (it directly sends me a pop-up saying search not found, I think it is supposed to wait for the server answer to do that?), and I get nothing back in my listener.\r\n\r\nNote that I don&#39;t really understand this Marshalsec/LDAP thing so I&#39;m not sure what&#39;s happening here. If anyone have time to explain it will be nice. I&#39;ve read lot of stuff about the vuln but it rarely goes deeply into details (most is like: the payload string send a request to LDAP server, which redirect to HTTP server, which will upload the Exploit class on the vulnerable app and gives you a shell).\r\n\r\nNote: I&#39;ve checked, the http server is up and accessible, the Exploit.class file is here and can be downloaded.\r\n\r\n\r\n  [1]: https://github.com/kozmer/log4j-shell-poc\r\n  [2]: https://github.com/mbechler/marshalsec\r\n  [3]: https://i.stack.imgur.com/CRR7l.png\r\n  [4]: https://i.stack.imgur.com/Z3wU9.png\r\n  [5]: https://i.stack.imgur.com/vUzwn.png\r\n  [6]: https://i.stack.imgur.com/aQms4.png\r\n  [7]: https://i.stack.imgur.com/zXaSy.png","title":"log4shell POC : no HTTP redirect","body":"<p>I am trying to understand/reproduce Log4shell vulnerability, using this <a href=\"https://github.com/kozmer/log4j-shell-poc\" rel=\"nofollow noreferrer\">poc</a> and also information from <a href=\"https://github.com/mbechler/marshalsec\" rel=\"nofollow noreferrer\">Marshalsec</a>.</p>\n<p>To do that, I've downloaded Ghidra v10.0.4, which is said (on Ghidra download page) to be vulnerable to log4shell. Installed it on an ubuntu VM, along with java 1.8 (as stated in POC), and loaded the Poc + marshalsec snapshot.</p>\n<p>Tried to start Ghidra, it said java 11 was needed, so although I've installed java 1.8 I still downloaded java 11 and, when you start ghidra, it says the installed version is not good enough and ask for the path to a java11 version; so I just gave him path to the jdk11 directory and it seems happy with it. Ghidra starts alright.</p>\n<p>Then set up my listener and launched the poc, got the payload string to copy/paste in ghidra, and got a response in the ldap listener saying it'll send it to HTTP. But nothing more. The end.</p>\n<p>Since the HTTP server is set up by the same POC, I thought maybe I just couldn't see the redirection, so I started the http server myself, started the ldap server myself with marshalsec, and retried (see pics below for exact commands/outputs).</p>\n<p>Setting http server:</p>\n<p><a href=\"https://i.stack.imgur.com/CRR7l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRR7l.png\" alt=\"Set HTTP server\" /></a></p>\n<p>Set listener:</p>\n<p><a href=\"https://i.stack.imgur.com/vUzwn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUzwn.png\" alt=\"Set listener\" /></a></p>\n<p>Setting LDAP server:</p>\n<p><a href=\"https://i.stack.imgur.com/aQms4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aQms4.png\" alt=\"Set LDAP server and get response\" /></a></p>\n<p>Send payload string in Ghidra (in the help/search part, as shown in kozmer POC); immediately got an answer:\n<a href=\"https://i.stack.imgur.com/zXaSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXaSy.png\" alt=\"Sending payload string in Ghidra\" /></a></p>\n<p>I still receive a response on the LDAP listener (two, in fact, which seems weird), but nothing on the HTTP. The the Exploit class is never loaded in ghidra (it directly sends me a pop-up saying search not found, I think it is supposed to wait for the server answer to do that?), and I get nothing back in my listener.</p>\n<p>Note that I don't really understand this Marshalsec/LDAP thing so I'm not sure what's happening here. If anyone have time to explain it will be nice. I've read lot of stuff about the vuln but it rarely goes deeply into details (most is like: the payload string send a request to LDAP server, which redirect to HTTP server, which will upload the Exploit class on the vulnerable app and gives you a shell).</p>\n<p>Note: I've checked, the http server is up and accessible, the Exploit.class file is here and can be downloaded.</p>\n"},{"tags":["java","netty","grpc","aix","ibm-jdk"],"comments":[{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1550432614,"post_id":54733389,"comment_id":96256383,"body_markdown":"AIX/PPC cannot use native code of Linux/x86.","body":"AIX/PPC cannot use native code of Linux/x86."},{"owner":{"account_id":7439618,"reputation":3179,"user_id":5657783,"accept_rate":79,"display_name":"Ankit Shubham"},"score":0,"creation_date":1550516726,"post_id":54733389,"comment_id":96289432,"body_markdown":"@LorinczyZsigmond Do you know how can I build the required native code for AIX? I guess they are netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative. On netty&#39;s github forum, I was told to compile the netty for AIX, but I am not sure how. Here is the link: https://github.com/netty/netty/issues/8871","body":"@LorinczyZsigmond Do you know how can I build the required native code for AIX? I guess they are netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative. On netty&#39;s github forum, I was told to compile the netty for AIX, but I am not sure how. Here is the link: <a href=\"https://github.com/netty/netty/issues/8871\" rel=\"nofollow noreferrer\">github.com/netty/netty/issues/8871</a>"}],"answers":[{"comments":[{"owner":{"account_id":7439618,"reputation":3179,"user_id":5657783,"accept_rate":79,"display_name":"Ankit Shubham"},"score":0,"creation_date":1557569440,"post_id":56079755,"comment_id":98815404,"body_markdown":"And what was the OS on which you were able to run it?","body":"And what was the OS on which you were able to run it?"},{"owner":{"account_id":1162817,"reputation":1408,"user_id":1141984,"accept_rate":33,"display_name":"Calahad"},"score":0,"creation_date":1557661605,"post_id":56079755,"comment_id":98832744,"body_markdown":"I ran it on MacOs Mojave","body":"I ran it on MacOs Mojave"}],"tags":[],"owner":{"account_id":1162817,"reputation":1408,"user_id":1141984,"accept_rate":33,"display_name":"Calahad"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1557498846,"creation_date":1557498846,"answer_id":56079755,"question_id":54733389,"body_markdown":"It could be that: https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl\r\n\r\nI added `runtime &#39;io.netty:netty-tcnative-boringssl-static:2.0.25.Final&#39;` in my build.gradle and it worked","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>It could be that: <a href=\"https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl\" rel=\"noreferrer\">https://github.com/grpc/grpc-java/blob/master/SECURITY.md#tls-with-netty-tcnative-on-boringssl</a></p>\n\n<p>I added <code>runtime 'io.netty:netty-tcnative-boringssl-static:2.0.25.Final'</code> in my build.gradle and it worked</p>\n"},{"tags":[],"owner":{"account_id":6932055,"reputation":1475,"user_id":11226214,"display_name":"nolwww"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613664754,"creation_date":1613664754,"answer_id":66263777,"question_id":54733389,"body_markdown":"In my case, just updating the Java version from 8 to 14 solved the issue (version 11 should also be fine). \r\n\r\nIf you are on Intellij, make sure your version change worked properly. ","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>In my case, just updating the Java version from 8 to 14 solved the issue (version 11 should also be fine).</p>\n<p>If you are on Intellij, make sure your version change worked properly.</p>\n"},{"comments":[{"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"score":0,"creation_date":1650002358,"post_id":71824822,"comment_id":127019930,"body_markdown":"Are you sure it was AIX OS?","body":"Are you sure it was AIX OS?"},{"owner":{"account_id":21953264,"reputation":31,"user_id":16232188,"display_name":"oSAM iNTi"},"score":0,"creation_date":1650106437,"post_id":71824822,"comment_id":127041198,"body_markdown":"Yes. Actually even after adding boringssl dependencies it doesn&#39;t resolves for a lot of guys. Because they use alpine os for a lighter base, and alpine lack compatibility with gRPC. It worked for me","body":"Yes. Actually even after adding boringssl dependencies it doesn&#39;t resolves for a lot of guys. Because they use alpine os for a lighter base, and alpine lack compatibility with gRPC. It worked for me"}],"tags":[],"owner":{"account_id":21953264,"reputation":31,"user_id":16232188,"display_name":"oSAM iNTi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649665984,"creation_date":1649665984,"answer_id":71824822,"question_id":54733389,"body_markdown":"I have answered this in another similar question also, this issue can also be because of alpine base image incompaitibility if you are using it.\r\n\r\n&quot;Looks like you are using base image as alpine, which actually doesn&#39;t supports gRPC, you need to add the gcompact apk in your application. So, what you can do is : Using docker :&quot;\r\n\r\n    RUN apk add gcompat\r\n    ENV LD_PRELOAD=/lib/libgcompat.so.0\r\n\r\n","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>I have answered this in another similar question also, this issue can also be because of alpine base image incompaitibility if you are using it.</p>\n<p>&quot;Looks like you are using base image as alpine, which actually doesn't supports gRPC, you need to add the gcompact apk in your application. So, what you can do is : Using docker :&quot;</p>\n<pre><code>RUN apk add gcompat\nENV LD_PRELOAD=/lib/libgcompat.so.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7611445,"reputation":1,"user_id":5772158,"display_name":"Shrikant Mule"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681758978,"creation_date":1681758978,"answer_id":76038567,"question_id":54733389,"body_markdown":"I upgraded to Java 17 and the error is resolved.","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<p>I upgraded to Java 17 and the error is resolved.</p>\n"}],"owner":{"account_id":7439618,"reputation":3179,"user_id":5657783,"accept_rate":79,"display_name":"Ankit Shubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10352,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1681758978,"creation_date":1550407563,"question_id":54733389,"body_markdown":"\r\n### What version of gRPC are you using?\r\n1.13.1\r\n\r\nI am using java 8 to build an executable jar. Below is the java version:\r\n```\r\n$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\r\nopenjdk version &quot;1.8.0_171&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n```\r\nI am using gradle 3.4.1 to generate the jar as follows:\r\n`/opt/gradle-3.4.1/bin/gradle jar -Dorg.gradle.java.home=/usr/lib/jvm/java-1.8.0-openjdk-amd64/ \r\n`\r\nBelow are the dependencies defined in the module-level build.gradle file:\r\n```\r\ndependencies {\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/commons-io-2.6.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/grpc-all.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/java-protobuf.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/jetty.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/log4j-core-2.8.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/log4j-slf4j-impl-2.8.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-boringssl-static-2.0.20.Final.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-2.0.20.Final.jar&quot;)\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/picocli-3.8.2.jar&quot;)\r\n  compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;20.0&#39;\r\n  compile files(&quot;$TOOLCHAIN_VERSION_DIR/lib/javassist-3.19.0-GA.jar&quot;)\r\n  compile project(&#39;:annotation&#39;)\r\n}\r\n```\r\nAfter building, I am running the jar on an AIX7.2 machine as follows:\r\n`/usr/java8_64/jre/bin/java -jar agent-1.0.jar`\r\n\r\nThe java version on the AIX machine is as follows:\r\n```\r\n$ /usr/java8_64/jre/bin/java -version           \r\njava version &quot;1.8.0_191&quot;\r\nJava(TM) SE Runtime Environment (build 8.0.5.26 - pap6480sr5fp26-20181115_03(SR5 FP26))\r\nIBM J9 VM (build 2.9, JRE 1.8.0 AIX ppc64-64-Bit Compressed References 20181106_401576 (JIT enabled, AOT enabled)\r\nOpenJ9   - fde1d6f\r\nOMR      - d8c3617\r\nIBM      - 5c4a9f0)\r\nJCL - 20181022_01 based on Oracle jdk8u191-b26\r\n```\r\nBut I am getting the following error while running:\r\n```\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: netty-tcnative unavailable (this may be normal)\r\njava.lang.IllegalArgumentException: Failed to load any of the given libraries: [netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative]\r\n        at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:93)\r\n        at io.netty.handler.ssl.OpenSsl.loadTcNative(OpenSsl.java:430)\r\n        at io.netty.handler.ssl.OpenSsl.&lt;clinit&gt;(OpenSsl.java:97)\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:242)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_aix_ppc_64\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_aix_ppc_64.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_ppc_64\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_ppc_64.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\r\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\r\n                ... 9 more\r\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative.a\r\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\r\n                ... 10 more\r\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\r\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                        at java.lang.System.loadLibrary(System.java:565)\r\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\r\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\r\n                        ... 10 more\r\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\r\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\r\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\r\n                                at java.lang.System.loadLibrary(System.java:565)\r\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n                                at java.lang.reflect.Method.invoke(Method.java:508)\r\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\r\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\r\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\r\n                                ... 11 more\r\n\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: Conscrypt not found (this may be normal)\r\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\r\nINFO: Jetty ALPN unavailable (this may be normal)\r\njava.lang.ClassNotFoundException: org.eclipse.jetty.alpn.ALPN\r\n        at java.lang.Class.forNameImpl(Native Method)\r\n        at java.lang.Class.forName(Class.java:403)\r\n        at io.grpc.netty.JettyTlsUtil.isJettyAlpnConfigured(JettyTlsUtil.java:64)\r\n        at io.grpc.netty.JettyTlsUtil.getJettyAlpnUnavailabilityCause(JettyTlsUtil.java:75)\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:255)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\r\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:256)\r\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\r\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\r\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\r\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\r\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\r\n\r\n```\r\nHowever, it is running fine on an Ubuntu machine. I am running the jar as follows:\r\n`/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -jar agent-1.0.jar`\r\n\r\nThe java version here is:\r\n```\r\n$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\r\nopenjdk version &quot;1.8.0_171&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\r\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\r\n```\r\nWhat is the problem here and how to solve this?\r\n","title":"Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available","body":"<h3>What version of gRPC are you using?</h3>\n\n<p>1.13.1</p>\n\n<p>I am using java 8 to build an executable jar. Below is the java version:</p>\n\n<pre><code>$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</code></pre>\n\n<p>I am using gradle 3.4.1 to generate the jar as follows:\n<code>/opt/gradle-3.4.1/bin/gradle jar -Dorg.gradle.java.home=/usr/lib/jvm/java-1.8.0-openjdk-amd64/\n</code>\nBelow are the dependencies defined in the module-level build.gradle file:</p>\n\n<pre><code>dependencies {\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/commons-io-2.6.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/grpc-all.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/java-protobuf.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/jetty.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/log4j-core-2.8.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/log4j-slf4j-impl-2.8.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-boringssl-static-2.0.20.Final.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/netty-tcnative-2.0.20.Final.jar\")\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/picocli-3.8.2.jar\")\n  compile group: 'com.google.guava', name: 'guava', version: '20.0'\n  compile files(\"$TOOLCHAIN_VERSION_DIR/lib/javassist-3.19.0-GA.jar\")\n  compile project(':annotation')\n}\n</code></pre>\n\n<p>After building, I am running the jar on an AIX7.2 machine as follows:\n<code>/usr/java8_64/jre/bin/java -jar agent-1.0.jar</code></p>\n\n<p>The java version on the AIX machine is as follows:</p>\n\n<pre><code>$ /usr/java8_64/jre/bin/java -version           \njava version \"1.8.0_191\"\nJava(TM) SE Runtime Environment (build 8.0.5.26 - pap6480sr5fp26-20181115_03(SR5 FP26))\nIBM J9 VM (build 2.9, JRE 1.8.0 AIX ppc64-64-Bit Compressed References 20181106_401576 (JIT enabled, AOT enabled)\nOpenJ9   - fde1d6f\nOMR      - d8c3617\nIBM      - 5c4a9f0)\nJCL - 20181022_01 based on Oracle jdk8u191-b26\n</code></pre>\n\n<p>But I am getting the following error while running:</p>\n\n<pre><code>Feb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: netty-tcnative unavailable (this may be normal)\njava.lang.IllegalArgumentException: Failed to load any of the given libraries: [netty_tcnative_aix_ppc_64, netty_tcnative_ppc_64, netty_tcnative]\n        at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:93)\n        at io.netty.handler.ssl.OpenSsl.loadTcNative(OpenSsl.java:430)\n        at io.netty.handler.ssl.OpenSsl.&lt;clinit&gt;(OpenSsl.java:97)\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:242)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_aix_ppc_64\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_aix_ppc_64.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_aix_ppc_64 (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative_ppc_64\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative_ppc_64.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative_ppc_64 (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n        Suppressed: java.lang.UnsatisfiedLinkError: could not load a native library: netty_tcnative\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:205)\n                at io.netty.util.internal.NativeLibraryLoader.loadFirstAvailable(NativeLibraryLoader.java:85)\n                ... 9 more\n        Caused by: java.io.FileNotFoundException: META-INF/native/libnetty_tcnative.a\n                at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:161)\n                ... 10 more\n                Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\n                        at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                        at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                        at java.lang.System.loadLibrary(System.java:565)\n                        at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                        at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:243)\n                        at io.netty.util.internal.NativeLibraryLoader.load(NativeLibraryLoader.java:124)\n                        ... 10 more\n                        Suppressed: java.lang.UnsatisfiedLinkError: netty_tcnative (Not found in java.library.path)\n                                at java.lang.ClassLoader.loadLibraryWithPath(ClassLoader.java:1425)\n                                at java.lang.ClassLoader.loadLibraryWithClassLoader(ClassLoader.java:1395)\n                                at java.lang.System.loadLibrary(System.java:565)\n                                at io.netty.util.internal.NativeLibraryUtil.loadLibrary(NativeLibraryUtil.java:38)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n                                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n                                at java.lang.reflect.Method.invoke(Method.java:508)\n                                at io.netty.util.internal.NativeLibraryLoader$1.run(NativeLibraryLoader.java:263)\n                                at java.security.AccessController.doPrivileged(AccessController.java:647)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibraryByHelper(NativeLibraryLoader.java:255)\n                                at io.netty.util.internal.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:233)\n                                ... 11 more\n\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: Conscrypt not found (this may be normal)\nFeb 17, 2019 3:11:33 AM io.grpc.netty.GrpcSslContexts defaultSslProvider\nINFO: Jetty ALPN unavailable (this may be normal)\njava.lang.ClassNotFoundException: org.eclipse.jetty.alpn.ALPN\n        at java.lang.Class.forNameImpl(Native Method)\n        at java.lang.Class.forName(Class.java:403)\n        at io.grpc.netty.JettyTlsUtil.isJettyAlpnConfigured(JettyTlsUtil.java:64)\n        at io.grpc.netty.JettyTlsUtil.getJettyAlpnUnavailabilityCause(JettyTlsUtil.java:75)\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:255)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n\nException in thread \"main\" java.lang.IllegalStateException: Could not find TLS ALPN provider; no working netty-tcnative, Conscrypt, or Jetty NPN/ALPN available\n        at io.grpc.netty.GrpcSslContexts.defaultSslProvider(GrpcSslContexts.java:256)\n        at io.grpc.netty.GrpcSslContexts.configure(GrpcSslContexts.java:171)\n        at io.grpc.netty.GrpcSslContexts.forServer(GrpcSslContexts.java:151)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:456)\n        at io.grpc.netty.NettyServerBuilder.useTransportSecurity(NettyServerBuilder.java:55)\n        at com.ankit.agents.AgentMain.&lt;init&gt;(AgentMain.java:91)\n        at com.ankit.agents.AgentMain.main(AgentMain.java:132)\n\n</code></pre>\n\n<p>However, it is running fine on an Ubuntu machine. I am running the jar as follows:\n<code>/usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -jar agent-1.0.jar</code></p>\n\n<p>The java version here is:</p>\n\n<pre><code>$ /usr/lib/jvm/java-1.8.0-openjdk-amd64/jre/bin/java -version\nopenjdk version \"1.8.0_171\"\nOpenJDK Runtime Environment (build 1.8.0_171-8u171-b11-2~14.04-b11)\nOpenJDK 64-Bit Server VM (build 25.171-b11, mixed mode)\n</code></pre>\n\n<p>What is the problem here and how to solve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":9617575,"reputation":61,"user_id":7139807,"display_name":"Siarhei Blashuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646490415,"creation_date":1646490415,"answer_id":71362998,"question_id":71254379,"body_markdown":"So I didn&#39;t find out of a box solution, so decided to go with the AOP approach. \r\n\r\nI found `HealthEndpointWebExtension` class that manages health rest endpoints. \r\nThis class has two health methods, one one of them called for common `/health` endpoint and second when we call `health/&lt;group name&gt;`.\r\n\r\nSo I created Aspect around the second method, which allowed me to add cache for endpoints I need.\r\n\r\n```java\r\n@Around(&quot;execution(@org.springframework.boot.actuate.endpoint.annotation.ReadOperation * org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(..,java.lang.String...))) &amp;&amp; args(.., path)&quot;)\r\npublic Object cache(ProceedingJoinPoint joinPoint, String... path) throws Throwable {\r\n    // Logic to get cache per endpoint and process if cache specifed.\r\n}\r\n```\r\n\r\nAt the end `application.properties` looks like this:\r\n```\r\n// out of the box\r\nmanagement.endpoint.health.cache.time-to-live=120s \r\n\r\n// customly created properties\r\nmanagement.endpoint.health.group.readiness.cache.time-to-live=60s\r\nmanagement.endpoint.health.group.deep.cache.time-to-live=120s\r\n```","title":"Spring Boot Actuator: Caching /actuator/health/readiness and /actuator/health/custom health check results","body":"<p>So I didn't find out of a box solution, so decided to go with the AOP approach.</p>\n<p>I found <code>HealthEndpointWebExtension</code> class that manages health rest endpoints.\nThis class has two health methods, one one of them called for common <code>/health</code> endpoint and second when we call <code>health/&lt;group name&gt;</code>.</p>\n<p>So I created Aspect around the second method, which allowed me to add cache for endpoints I need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;execution(@org.springframework.boot.actuate.endpoint.annotation.ReadOperation * org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(..,java.lang.String...))) &amp;&amp; args(.., path)&quot;)\npublic Object cache(ProceedingJoinPoint joinPoint, String... path) throws Throwable {\n    // Logic to get cache per endpoint and process if cache specifed.\n}\n</code></pre>\n<p>At the end <code>application.properties</code> looks like this:</p>\n<pre><code>// out of the box\nmanagement.endpoint.health.cache.time-to-live=120s \n\n// customly created properties\nmanagement.endpoint.health.group.readiness.cache.time-to-live=60s\nmanagement.endpoint.health.group.deep.cache.time-to-live=120s\n</code></pre>\n"}],"owner":{"account_id":9617575,"reputation":61,"user_id":7139807,"display_name":"Siarhei Blashuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2337,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1681758504,"creation_date":1645716487,"question_id":71254379,"body_markdown":"So I have added the Spring Boot Actuator to my application and I specified in the `application.properties` property `management.endpoint.health.cache.time-to-live=120s` to cache health check results. So when I call `/actuator/health`, the result is cached and it&#39;s good.\r\n\r\nThe problem starts when I call `/actuator/health/readiness` or custom created group `/actuator/health/deep` this request results are not cached. I went through [Spring Docs][1] and found only information for the main health endpoint, nothing for specific groups.\r\n\r\nSo my question is: did I miss sth? Or how can I implement caching for specific spring boot actuator endpoints?\r\n\r\nThanks\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.caching","title":"Spring Boot Actuator: Caching /actuator/health/readiness and /actuator/health/custom health check results","body":"<p>So I have added the Spring Boot Actuator to my application and I specified in the <code>application.properties</code> property <code>management.endpoint.health.cache.time-to-live=120s</code> to cache health check results. So when I call <code>/actuator/health</code>, the result is cached and it's good.</p>\n<p>The problem starts when I call <code>/actuator/health/readiness</code> or custom created group <code>/actuator/health/deep</code> this request results are not cached. I went through <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.caching\" rel=\"nofollow noreferrer\">Spring Docs</a> and found only information for the main health endpoint, nothing for specific groups.</p>\n<p>So my question is: did I miss sth? Or how can I implement caching for specific spring boot actuator endpoints?</p>\n<p>Thanks</p>\n"},{"tags":["java","ubuntu","process","windows-subsystem-for-linux","sigkill"],"owner":{"account_id":17804011,"reputation":87,"user_id":12930072,"display_name":"AndyOh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681758381,"creation_date":1681758381,"question_id":76038486,"body_markdown":"I&#39;m running some firebase emulators (firestore, cloud functions) WSL2. For some operations (heavier ones I think) I often  get: `received signal: SIGKILL`. I know it most likely has to do with running out of memory but with 16GB RAM I&#39;m unsure how that happens. \r\n\r\n**Environment specs:**\r\n - **16 RAM on 1.5 year old Windows 11 machine**\r\n - **Ubuntu 22.04 on WSL2**\r\n - **Java SDK:**\r\n - openjdk 11.0.17 2022-10-18\r\n - OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu222.04)\r\n - OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu222.04, mixed mode, sharing)\r\n- **WSL2:**\r\n- Kernel version: 5.15.90.1\r\n- WSLg version: 1.0.51\r\n- MSRDC version: 1.2.3770\r\n- Direct3D version: 1.608.2-61064218\r\n- DXCore version: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp\r\n    Windows version: 10.0.22621.1555\r\n\r\nWSL2, Ubuntu and java SDK are all fairly new installs or have been updated recently.\r\n\r\nI have tried increasing and decreasing the max RAM usage of WSL2 but neither fixed the issue.\r\n\r\nAny ideas how I can prevent the kill signal?\r\nCould it be related to the java SDK?","title":"SIGKILL on WSL2","body":"<p>I'm running some firebase emulators (firestore, cloud functions) WSL2. For some operations (heavier ones I think) I often  get: <code>received signal: SIGKILL</code>. I know it most likely has to do with running out of memory but with 16GB RAM I'm unsure how that happens.</p>\n<p><strong>Environment specs:</strong></p>\n<ul>\n<li><strong>16 RAM on 1.5 year old Windows 11 machine</strong></li>\n<li><strong>Ubuntu 22.04 on WSL2</strong></li>\n<li><strong>Java SDK:</strong></li>\n<li>openjdk 11.0.17 2022-10-18</li>\n<li>OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu222.04)</li>\n<li>OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu222.04, mixed mode, sharing)</li>\n<li><strong>WSL2:</strong></li>\n<li>Kernel version: 5.15.90.1</li>\n<li>WSLg version: 1.0.51</li>\n<li>MSRDC version: 1.2.3770</li>\n<li>Direct3D version: 1.608.2-61064218</li>\n<li>DXCore version: 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp\nWindows version: 10.0.22621.1555</li>\n</ul>\n<p>WSL2, Ubuntu and java SDK are all fairly new installs or have been updated recently.</p>\n<p>I have tried increasing and decreasing the max RAM usage of WSL2 but neither fixed the issue.</p>\n<p>Any ideas how I can prevent the kill signal?\nCould it be related to the java SDK?</p>\n"},{"tags":["java","hibernate","generics"],"answers":[{"comments":[{"owner":{"account_id":1531603,"reputation":56585,"user_id":1428679,"accept_rate":94,"display_name":"LSerni"},"score":4,"creation_date":1365544996,"post_id":15913247,"comment_id":22665442,"body_markdown":"I was going to only upvote your answer, hoping a better one would come by. Instead I found out this problem referred to as &quot;ugly cast&quot; by both Bruce Eckel (Thinking in Java) and Robert Sedgewick - *the* Sedgewick. I also found http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings . Sigh.","body":"I was going to only upvote your answer, hoping a better one would come by. Instead I found out this problem referred to as &quot;ugly cast&quot; by both Bruce Eckel (Thinking in Java) and Robert Sedgewick - <i>the</i> Sedgewick. I also found <a href=\"http://stackoverflow.com/questions/509076/how-do-i-address-unchecked-cast-warnings\" title=\"how do i address unchecked cast warnings\">stackoverflow.com/questions/509076/&hellip;</a> . Sigh."},{"owner":{"account_id":937533,"reputation":4930,"user_id":966185,"accept_rate":81,"display_name":"Pavel"},"score":7,"creation_date":1371188158,"post_id":15913247,"comment_id":24740179,"body_markdown":"I like your style of using `final`","body":"I like your style of using <code>final</code>"},{"owner":{"account_id":1068872,"reputation":2697,"user_id":1068627,"accept_rate":79,"display_name":"Bin Wang"},"score":11,"creation_date":1416298164,"post_id":15913247,"comment_id":42510627,"body_markdown":"If hibernate guys add an argument with type `Class&lt;?&gt;` in `list()`, the problem could be solved. It&#39;s a shame to use such an ugly API.","body":"If hibernate guys add an argument with type <code>Class&lt;?&gt;</code> in <code>list()</code>, the problem could be solved. It&#39;s a shame to use such an ugly API."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1416298288,"post_id":15913247,"comment_id":42510673,"body_markdown":"@BinWang then the unsafe cast would happen somewhere else, it doesn&#39;t solve the problem - it just moves it. Needless to say the HQL API has been effectively deprecated for **years** now. JPA has a type safe query API called the [Criteria Query API](https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/querycriteria.html).","body":"@BinWang then the unsafe cast would happen somewhere else, it doesn&#39;t solve the problem - it just moves it. Needless to say the HQL API has been effectively deprecated for <b>years</b> now. JPA has a type safe query API called the <a href=\"https://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/querycriteria.html\" rel=\"nofollow noreferrer\">Criteria Query API</a>."},{"owner":{"account_id":1068872,"reputation":2697,"user_id":1068627,"accept_rate":79,"display_name":"Bin Wang"},"score":0,"creation_date":1416299020,"post_id":15913247,"comment_id":42510965,"body_markdown":"@BoristheSpider But I cannot find `getResultList` in [hibernate 4.3](http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch17.html). How can I find it?","body":"@BoristheSpider But I cannot find <code>getResultList</code> in <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch17.html\" rel=\"nofollow noreferrer\">hibernate 4.3</a>. How can I find it?"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1416299150,"post_id":15913247,"comment_id":42511010,"body_markdown":"@BinWang that&#39;s the Hibernate Criteria API, not the JPA one. You could start by reading [this](http://en.wikibooks.org/wiki/Java_Persistence/Criteria).","body":"@BinWang that&#39;s the Hibernate Criteria API, not the JPA one. You could start by reading <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/Criteria\" rel=\"nofollow noreferrer\">this</a>."},{"owner":{"account_id":1137557,"reputation":839,"user_id":1122288,"accept_rate":50,"display_name":"PeteyPabPro"},"score":0,"creation_date":1453779529,"post_id":15913247,"comment_id":57740924,"body_markdown":"@BoristheSpider Isn&#39;t the answer for hibernate to return something with type List&lt;?&gt; or List&lt;Object&gt;? Then at least instead of a compiler warning you&#39;d have to explicitly deal with the fact that you don&#39;t know what&#39;s in the list getting returned?","body":"@BoristheSpider Isn&#39;t the answer for hibernate to return something with type List&lt;?&gt; or List&lt;Object&gt;? Then at least instead of a compiler warning you&#39;d have to explicitly deal with the fact that you don&#39;t know what&#39;s in the list getting returned?"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1453799476,"post_id":15913247,"comment_id":57747768,"body_markdown":"@PeteyPabPro well, I **know** what my query will return some specific type - after all, that&#39;s what I&#39;m querying.  So this is a circumstance where I know more than the compiler - casting is the way to indicate that to it.  In any case, as mentioned [above](https://stackoverflow.com/questions/15913150/what-is-the-proper-way-to-cast-hibernate-query-list-to-listtype/15913247?noredirect=1#comment42510673_15913247) - HQL has been superseded by JPA&#39;s typed criteria API; one should really just use that.","body":"@PeteyPabPro well, I <b>know</b> what my query will return some specific type - after all, that&#39;s what I&#39;m querying.  So this is a circumstance where I know more than the compiler - casting is the way to indicate that to it.  In any case, as mentioned <a href=\"https://stackoverflow.com/questions/15913150/what-is-the-proper-way-to-cast-hibernate-query-list-to-listtype/15913247?noredirect=1#comment42510673_15913247\">above</a> - HQL has been superseded by JPA&#39;s typed criteria API; one should really just use that."},{"owner":{"account_id":1137557,"reputation":839,"user_id":1122288,"accept_rate":50,"display_name":"PeteyPabPro"},"score":0,"creation_date":1453817360,"post_id":15913247,"comment_id":57758144,"body_markdown":"@BoristheSpider agree about JPA, but just for sake of discussion, I still think there is no excuse for a raw type. The argument that you **know** what will happen can be made as an argument against type safety in the first place (I *know* my method will be acting on Strings). This isn&#39;t just theoretical. A colleague recently left out a scalar() call in a Query like the one above, and assigned it to a List&lt;Integer&gt;. It wasn&#39;t until later in the code that he got an obscure error in an unrelated stack about casting from BigDecimal to Integer.","body":"@BoristheSpider agree about JPA, but just for sake of discussion, I still think there is no excuse for a raw type. The argument that you <b>know</b> what will happen can be made as an argument against type safety in the first place (I <i>know</i> my method will be acting on Strings). This isn&#39;t just theoretical. A colleague recently left out a scalar() call in a Query like the one above, and assigned it to a List&lt;Integer&gt;. It wasn&#39;t until later in the code that he got an obscure error in an unrelated stack about casting from BigDecimal to Integer."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1453825051,"post_id":15913247,"comment_id":57763847,"body_markdown":"@PeteyPabPro While I agree that rawtypes should be avoided, I disagree that the results of a query should be treated as a `List&lt;Object&gt;`. The results should be cast to the expected type and **unit tests** should be added to ensure that the query returns the right results. It is unacceptable to have errors with queries turn up &quot;_later in the code_&quot;. Your example is an argument against coding practices that should be anathema in the 21st century. It is, I would suggest, **never** acceptable to have a `List&lt;Object&gt;`.","body":"@PeteyPabPro While I agree that rawtypes should be avoided, I disagree that the results of a query should be treated as a <code>List&lt;Object&gt;</code>. The results should be cast to the expected type and <b>unit tests</b> should be added to ensure that the query returns the right results. It is unacceptable to have errors with queries turn up &quot;<i>later in the code</i>&quot;. Your example is an argument against coding practices that should be anathema in the 21st century. It is, I would suggest, <b>never</b> acceptable to have a <code>List&lt;Object&gt;</code>."},{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1470438859,"post_id":15913247,"comment_id":64968002,"body_markdown":"You write: *You are doing an unsafe cast from `List&lt;?&gt; to List&lt;MyObject&gt;`*. That&#39;s incorrect. The unbounded wildcard type `List&lt;?&gt;` is distinct from the raw type `List`, which is what the `list` method returns. You should have written: *You are doing an unsafe cast from `List` to `List&lt;MyObject&gt;`.","body":"You write: <i>You are doing an unsafe cast from <code>List&lt;?&gt; to List&lt;MyObject&gt;</code></i>. That&#39;s incorrect. The unbounded wildcard type <code>List&lt;?&gt;</code> is distinct from the raw type <code>List</code>, which is what the <code>list</code> method returns. You should have written: *You are doing an unsafe cast from <code>List</code> to <code>List&lt;MyObject&gt;</code>."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1542129510,"post_id":15913247,"comment_id":93454737,"body_markdown":"@BoristheSpider If the unsafe cast happened inside hibernate, while it would still have to be a runtime cast, it could know more for example that inside List&lt;Object&gt;, there are not 5 Foo&#39;s and 5 Bar&#39;s in the list (since they wrote hibernate). If there was a method query.listOfType&lt;MyObject&gt;(), it could type-check only the first item (if not empty) and know for sure that the rest are all the same. However if the query selects &quot;foo.*, bar.*&quot; the results would be List&lt;Object[]&gt; where listItem[0] is type Foo and listItem[1] is type Bar. This would not be handled by listOfType, which could be ok.","body":"@BoristheSpider If the unsafe cast happened inside hibernate, while it would still have to be a runtime cast, it could know more for example that inside List&lt;Object&gt;, there are not 5 Foo&#39;s and 5 Bar&#39;s in the list (since they wrote hibernate). If there was a method query.listOfType&lt;MyObject&gt;(), it could type-check only the first item (if not empty) and know for sure that the rest are all the same. However if the query selects &quot;foo.*, bar.*&quot; the results would be List&lt;Object[]&gt; where listItem[0] is type Foo and listItem[1] is type Bar. This would not be handled by listOfType, which could be ok."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1542130472,"post_id":15913247,"comment_id":93455256,"body_markdown":"@CurtisYallop as I said, this answer is about a completely deprecated API. Any argument is moot.","body":"@CurtisYallop as I said, this answer is about a completely deprecated API. Any argument is moot."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1542132750,"post_id":15913247,"comment_id":93456270,"body_markdown":"There is a new type-safe Query class in the latest hibernate! It is org.hibernate.query.Query instead of org.hibernate.Query. See @Taugenichts answer. Or the documentation here: http://wiki.openbravo.com/wiki/Hibernate_5.3_Migration_Guide#Typed_Queries","body":"There is a new type-safe Query class in the latest hibernate! It is org.hibernate.query.Query instead of org.hibernate.Query. See @Taugenichts answer. Or the documentation here: <a href=\"http://wiki.openbravo.com/wiki/Hibernate_5.3_Migration_Guide#Typed_Queries\" rel=\"nofollow noreferrer\">wiki.openbravo.com/wiki/&hellip;</a>"},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1542133915,"post_id":15913247,"comment_id":93456806,"body_markdown":"@BoristheSpider Please provide a reference to support &quot;the HQL API has been effectively deprecated for years now&quot;. Is this based upon your personal experience? HQL appears to be a low-level alternate option which has both advantages and disadvantages.","body":"@BoristheSpider Please provide a reference to support &quot;the HQL API has been effectively deprecated for years now&quot;. Is this based upon your personal experience? HQL appears to be a low-level alternate option which has both advantages and disadvantages."},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1542141373,"post_id":15913247,"comment_id":93460057,"body_markdown":"I&#39;ve used C# NHibernate and we preferred Linq over the Criteria API. We used Linq primarily and HQL or SQL if we really needed more power. Linq lambda expressions are translated to SQL by an expression parser. It returns either managed entities or anonymous result-objects. I&#39;m programming Java now and it seems like Criteria is the best, cleanest, recommended API. Although more verbose, Criteria does have some advantages over Linq. It is simple and clear. There are no Linq expression parsing edge-case quirks.","body":"I&#39;ve used C# NHibernate and we preferred Linq over the Criteria API. We used Linq primarily and HQL or SQL if we really needed more power. Linq lambda expressions are translated to SQL by an expression parser. It returns either managed entities or anonymous result-objects. I&#39;m programming Java now and it seems like Criteria is the best, cleanest, recommended API. Although more verbose, Criteria does have some advantages over Linq. It is simple and clear. There are no Linq expression parsing edge-case quirks."}],"tags":[],"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":16,"down_vote_count":3,"up_vote_count":113,"is_accepted":true,"score":110,"last_activity_date":1470438915,"creation_date":1365544263,"answer_id":15913247,"question_id":15913150,"body_markdown":"Short answer `@SuppressWarnings` is the right way to go.\r\n\r\nLong answer, Hibernate returns a  raw `List` from the `Query.list` method, see [here][1]. This is not a bug with Hibernate or something the can be solved, the type returned by the query is _not known_ at compile time.\r\n\r\nTherefore when you write\r\n\r\n    final List&lt;MyObject&gt; list = query.list();\r\nYou are doing an unsafe cast from `List` to `List&lt;MyObject&gt;` - this cannot be avoided.\r\n\r\nThere is no way you can safely carry out the cast as the `List` _could_ contain anything.\r\n\r\nThe only way to make the error go away is the even more ugly\r\n\r\n    final List&lt;MyObject&gt; list = new LinkedList&lt;&gt;();\r\n    for(final Object o : query.list()) {\r\n        list.add((MyObject)o);\r\n    }\r\n\r\n\r\n[1]:http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#list()","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>Short answer <code>@SuppressWarnings</code> is the right way to go.</p>\n\n<p>Long answer, Hibernate returns a  raw <code>List</code> from the <code>Query.list</code> method, see <a href=\"http://docs.jboss.org/hibernate/orm/3.2/api/org/hibernate/Query.html#list()\">here</a>. This is not a bug with Hibernate or something the can be solved, the type returned by the query is <em>not known</em> at compile time.</p>\n\n<p>Therefore when you write</p>\n\n<pre><code>final List&lt;MyObject&gt; list = query.list();\n</code></pre>\n\n<p>You are doing an unsafe cast from <code>List</code> to <code>List&lt;MyObject&gt;</code> - this cannot be avoided.</p>\n\n<p>There is no way you can safely carry out the cast as the <code>List</code> <em>could</em> contain anything.</p>\n\n<p>The only way to make the error go away is the even more ugly</p>\n\n<pre><code>final List&lt;MyObject&gt; list = new LinkedList&lt;&gt;();\nfor(final Object o : query.list()) {\n    list.add((MyObject)o);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1531603,"reputation":56585,"user_id":1428679,"accept_rate":94,"display_name":"LSerni"},"score":1,"creation_date":1365545126,"post_id":15913359,"comment_id":22665479,"body_markdown":"I agree with the pointlessness. I&#39;ll suppress, even if it goes against my grain. Thanks all the same, and +1.","body":"I agree with the pointlessness. I&#39;ll suppress, even if it goes against my grain. Thanks all the same, and +1."},{"owner":{"account_id":1951492,"reputation":964,"user_id":1755470,"display_name":"SpongeBobFan"},"score":2,"creation_date":1378912581,"post_id":15913359,"comment_id":27627681,"body_markdown":"&gt;You have to live with these warnings or supress them. It&#39;s always better to supress warnings that are wrong, or you can miss right warning in a spam of unsupressed wrong warnings","body":"&gt;You have to live with these warnings or supress them. It&#39;s always better to supress warnings that are wrong, or you can miss right warning in a spam of unsupressed wrong warnings"}],"tags":[],"owner":{"account_id":2586840,"reputation":1410,"user_id":2242355,"accept_rate":50,"display_name":"Grzegorz Olszewski"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1397566571,"creation_date":1365544854,"answer_id":15913359,"question_id":15913150,"body_markdown":"You can avoid compiler warning with workarounds like this one:\r\n\r\n    List&lt;?&gt; resultRaw = query.list();\r\n    List&lt;MyObj&gt; result = new ArrayList&lt;MyObj&gt;(resultRaw.size());\r\n    for (Object o : resultRaw) {\r\n    \tresult.add((MyObj) o);\r\n    }\r\n\r\nBut there are some issues with this code:\r\n\r\n - created superfluous ArrayList\r\n - unnecessary loop over all elements returned from the query\r\n - longer code.\r\n\r\nAnd the difference is only cosmetic, so using such workarounds is - in my opinion - pointless.\r\n\r\nYou have to live with these warnings or suppress them.","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>You can avoid compiler warning with workarounds like this one:</p>\n\n<pre><code>List&lt;?&gt; resultRaw = query.list();\nList&lt;MyObj&gt; result = new ArrayList&lt;MyObj&gt;(resultRaw.size());\nfor (Object o : resultRaw) {\n    result.add((MyObj) o);\n}\n</code></pre>\n\n<p>But there are some issues with this code:</p>\n\n<ul>\n<li>created superfluous ArrayList</li>\n<li>unnecessary loop over all elements returned from the query</li>\n<li>longer code.</li>\n</ul>\n\n<p>And the difference is only cosmetic, so using such workarounds is - in my opinion - pointless.</p>\n\n<p>You have to live with these warnings or suppress them.</p>\n"},{"comments":[{"owner":{"account_id":1531603,"reputation":56585,"user_id":1428679,"accept_rate":94,"display_name":"LSerni"},"score":0,"creation_date":1389437590,"post_id":21060197,"comment_id":31670375,"body_markdown":"Yes, this is basically the same &#39;ugliness&#39; suggested by Boris, with a cast within the loop.","body":"Yes, this is basically the same &#39;ugliness&#39; suggested by Boris, with a cast within the loop."}],"tags":[],"owner":{"account_id":3841689,"reputation":81,"user_id":3184564,"display_name":"user3184564"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511652870,"creation_date":1389428615,"answer_id":21060197,"question_id":15913150,"body_markdown":"    List&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\r\n    Criteria criteria = this.getSessionFactory().getCurrentSession().createCriteria(Person.class);\r\n    for (final Object o : criteria.list()) {\r\n        list.add((Person) o);\r\n    }","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<pre><code>List&lt;Person&gt; list = new ArrayList&lt;Person&gt;();\nCriteria criteria = this.getSessionFactory().getCurrentSession().createCriteria(Person.class);\nfor (final Object o : criteria.list()) {\n    list.add((Person) o);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"score":0,"creation_date":1397593486,"post_id":23093423,"comment_id":35298674,"body_markdown":"What &quot;cast problems&quot;? I have always just casted the list directly, how is the above more concise or safer?","body":"What &quot;cast problems&quot;? I have always just casted the list directly, how is the above more concise or safer?"},{"owner":{"account_id":4132820,"reputation":2369,"user_id":3390216,"accept_rate":0,"display_name":"Popa Andrei"},"score":0,"creation_date":1397757192,"post_id":23093423,"comment_id":35381163,"body_markdown":"I can&#39;t cast directly. Were cast problems because it couldn&#39;t make cast from Object to Destination","body":"I can&#39;t cast directly. Were cast problems because it couldn&#39;t make cast from Object to Destination"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1409490330,"post_id":23093423,"comment_id":39974478,"body_markdown":"You know Hibernate can build a `Destinstion` for you right? Using the [`select new`](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select) syntax. This certainly isn&#39;t the right approach.","body":"You know Hibernate can build a <code>Destinstion</code> for you right? Using the <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html#queryhql-select\" rel=\"nofollow noreferrer\"><code>select new</code></a> syntax. This certainly isn&#39;t the right approach."},{"owner":{"account_id":3332654,"reputation":739,"user_id":2801200,"accept_rate":36,"display_name":"Chintan Patel"},"score":0,"creation_date":1446447692,"post_id":23093423,"comment_id":54730016,"body_markdown":"I also had same experience. As my query returns different fields from multiple tables which are not connected with each other. So the only way worked for me was this one. Thanks :)","body":"I also had same experience. As my query returns different fields from multiple tables which are not connected with each other. So the only way worked for me was this one. Thanks :)"}],"tags":[],"owner":{"account_id":4132820,"reputation":2369,"user_id":3390216,"accept_rate":0,"display_name":"Popa Andrei"},"comment_count":4,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1446019296,"creation_date":1397592309,"answer_id":23093423,"question_id":15913150,"body_markdown":"Only way that work for me was with an Iterator.\r\n\r\n    Iterator iterator= query.list().iterator();\r\n    Destination dest;\r\n    ArrayList&lt;Destination&gt; destinations= new ArrayList&lt;&gt;();\r\n    Iterator iterator= query.list().iterator();\r\n\t\twhile(iterator.hasNext()){\r\n\t\t\tObject[] tuple= (Object[]) iterator.next();\r\n\t\t\tdest= new Destination();\r\n\t\t\tdest.setId((String)tuple[0]);\r\n\t\t\tdest.setName((String)tuple[1]);\r\n\t\t\tdest.setLat((String)tuple[2]);\r\n\t\t\tdest.setLng((String)tuple[3]);\r\n\t\t\tdestinations.add(dest);\r\n\t\t}\r\nWith other methods that I found, I had cast problems\r\n","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>Only way that work for me was with an Iterator.</p>\n\n<pre><code>Iterator iterator= query.list().iterator();\nDestination dest;\nArrayList&lt;Destination&gt; destinations= new ArrayList&lt;&gt;();\nIterator iterator= query.list().iterator();\n    while(iterator.hasNext()){\n        Object[] tuple= (Object[]) iterator.next();\n        dest= new Destination();\n        dest.setId((String)tuple[0]);\n        dest.setName((String)tuple[1]);\n        dest.setLat((String)tuple[2]);\n        dest.setLng((String)tuple[3]);\n        destinations.add(dest);\n    }\n</code></pre>\n\n<p>With other methods that I found, I had cast problems</p>\n"},{"comments":[{"owner":{"account_id":1531603,"reputation":56585,"user_id":1428679,"accept_rate":94,"display_name":"LSerni"},"score":1,"creation_date":1444092340,"post_id":32959532,"comment_id":53745075,"body_markdown":"I can&#39;t test this now, but... what does this change? `q` is still a `Query` and therefore `q.list()` is still a raw `java.util.List` type. The cast is then still unchecked; having the object type changed *internally* should avail nothing...","body":"I can&#39;t test this now, but... what does this change? <code>q</code> is still a <code>Query</code> and therefore <code>q.list()</code> is still a raw <code>java.util.List</code> type. The cast is then still unchecked; having the object type changed <i>internally</i> should avail nothing..."},{"owner":{"account_id":3727247,"reputation":49,"user_id":3100806,"display_name":"lakreqta"},"score":0,"creation_date":1444228973,"post_id":32959532,"comment_id":53815217,"body_markdown":"Yes the cast is still unchecked, but with proper naming of your fields, setting a resultTransformer does the job of casting the Objects as your desired POJO. \nSee this [stackoverflow post](https://stackoverflow.com/questions/3937131/getting-result-set-into-dto-with-native-sql-query-in-hibernate) and read this [hibernate reference doc on using native queries](https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#d0e17378)","body":"Yes the cast is still unchecked, but with proper naming of your fields, setting a resultTransformer does the job of casting the Objects as your desired POJO.  See this <a href=\"https://stackoverflow.com/questions/3937131/getting-result-set-into-dto-with-native-sql-query-in-hibernate\">stackoverflow post</a> and read this <a href=\"https://docs.jboss.org/hibernate/core/3.6/reference/en-US/html_single/#d0e17378\" rel=\"nofollow noreferrer\">hibernate reference doc on using native queries</a>"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1448969299,"post_id":32959532,"comment_id":55793596,"body_markdown":"`from foo where active` is _not_ a native query. So there is no need of a result transformer, as the default mapping will be enough. The question is not about casting the POJO fields, but about casting the result object. A result transformer wouldn&#39;t help here.","body":"<code>from foo where active</code> is <i>not</i> a native query. So there is no need of a result transformer, as the default mapping will be enough. The question is not about casting the POJO fields, but about casting the result object. A result transformer wouldn&#39;t help here."}],"tags":[],"owner":{"account_id":3727247,"reputation":49,"user_id":3100806,"display_name":"lakreqta"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1444088209,"creation_date":1444088209,"answer_id":32959532,"question_id":15913150,"body_markdown":"You use a ResultTransformer like that:\r\n\r\n    public List&lt;Foo&gt; activeObjects() {\r\n        Session s = acquireSession();\r\n        Query   q = s.createQuery(&quot;from foo where active&quot;);\r\n        q.setResultTransformer(Transformers.aliasToBean(Foo.class));\r\n        return (List&lt;Foo&gt;) q.list();\r\n    }","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>You use a ResultTransformer like that:</p>\n\n<pre><code>public List&lt;Foo&gt; activeObjects() {\n    Session s = acquireSession();\n    Query   q = s.createQuery(\"from foo where active\");\n    q.setResultTransformer(Transformers.aliasToBean(Foo.class));\n    return (List&lt;Foo&gt;) q.list();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":1,"creation_date":1448969056,"post_id":33847129,"comment_id":55793438,"body_markdown":"The question was not about result transformation. It was about casting of `Query` results - which is still needed in your example. And your example has nothing to do with the original `from foo where active`.","body":"The question was not about result transformation. It was about casting of <code>Query</code> results - which is still needed in your example. And your example has nothing to do with the original <code>from foo where active</code>."}],"tags":[],"owner":{"account_id":1968948,"reputation":810,"user_id":1768467,"accept_rate":75,"display_name":"ANTARA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448131161,"creation_date":1448131161,"answer_id":33847129,"question_id":15913150,"body_markdown":"The proper way is to use Hibernate Transformers:\r\n\r\n    public class StudentDTO {\r\n    private String studentName;\r\n    private String courseDescription;\r\n  \r\n    public StudentDTO() { }  \r\n    ...\r\n    } \r\n\r\n.\r\n\r\n    List resultWithAliasedBean = s.createSQLQuery(\r\n    &quot;SELECT st.name as studentName, co.description as courseDescription &quot; +\r\n    &quot;FROM Enrolment e &quot; +\r\n    &quot;INNER JOIN Student st on e.studentId=st.studentId &quot; +\r\n    &quot;INNER JOIN Course co on e.courseCode=co.courseCode&quot;)\r\n    .setResultTransformer( Transformers.aliasToBean(StudentDTO.class))\r\n    .list();\r\n\r\n    StudentDTO dto =(StudentDTO) resultWithAliasedBean.get(0);\r\n\r\nIterating througth Object[] is redundant and would have some performance penalty.\r\nDetailed information about transofrmers usage you will find here:\r\n[Transformers for HQL and SQL][1]\r\n\r\n\r\n  [1]: http://in.relation.to/2006/03/17/hibernate-32-transformers-for-hql-and-sql/\r\n\r\nIf you are looking for even more simple solution you can use out-of-the-box-map-transformer:\r\n\r\n    List iter = s.createQuery(\r\n    &quot;select e.student.name as studentName,&quot; +\r\n    &quot;       e.course.description as courseDescription&quot; +\r\n    &quot;from   Enrolment as e&quot;)\r\n    .setResultTransformer( Transformers.ALIAS_TO_ENTITY_MAP )\r\n    .iterate();\r\n\r\n    String name = (Map)(iter.next()).get(&quot;studentName&quot;);","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>The proper way is to use Hibernate Transformers:</p>\n\n<pre><code>public class StudentDTO {\nprivate String studentName;\nprivate String courseDescription;\n\npublic StudentDTO() { }  \n...\n} \n</code></pre>\n\n<p>.</p>\n\n<pre><code>List resultWithAliasedBean = s.createSQLQuery(\n\"SELECT st.name as studentName, co.description as courseDescription \" +\n\"FROM Enrolment e \" +\n\"INNER JOIN Student st on e.studentId=st.studentId \" +\n\"INNER JOIN Course co on e.courseCode=co.courseCode\")\n.setResultTransformer( Transformers.aliasToBean(StudentDTO.class))\n.list();\n\nStudentDTO dto =(StudentDTO) resultWithAliasedBean.get(0);\n</code></pre>\n\n<p>Iterating througth Object[] is redundant and would have some performance penalty.\nDetailed information about transofrmers usage you will find here:\n<a href=\"http://in.relation.to/2006/03/17/hibernate-32-transformers-for-hql-and-sql/\" rel=\"nofollow\">Transformers for HQL and SQL</a></p>\n\n<p>If you are looking for even more simple solution you can use out-of-the-box-map-transformer:</p>\n\n<pre><code>List iter = s.createQuery(\n\"select e.student.name as studentName,\" +\n\"       e.course.description as courseDescription\" +\n\"from   Enrolment as e\")\n.setResultTransformer( Transformers.ALIAS_TO_ENTITY_MAP )\n.iterate();\n\nString name = (Map)(iter.next()).get(\"studentName\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":3,"creation_date":1474488199,"post_id":35899684,"comment_id":66556428,"body_markdown":"As a side note, this does not work for purely native queries that you are creating inline. The returned query is only ever a query, not a typedquery :(","body":"As a side note, this does not work for purely native queries that you are creating inline. The returned query is only ever a query, not a typedquery :("},{"owner":{"account_id":5080812,"reputation":838,"user_id":4076983,"accept_rate":40,"display_name":"Johannes"},"score":0,"creation_date":1513857212,"post_id":35899684,"comment_id":82816344,"body_markdown":"Now, the error message is gone and the resulting list uses the actual objects instead of the Object object.. great answer!","body":"Now, the error message is gone and the resulting list uses the actual objects instead of the Object object.. great answer!"},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":0,"creation_date":1542132829,"post_id":35899684,"comment_id":93456310,"body_markdown":"This appears to be released in hibernate 5.0. I don&#39;t see it in 4.3.11 but the following article refers to 5.3. http://wiki.openbravo.com/wiki/Hibernate_5.3_Migration_Guide#Typed_Queries I also see a Jan 2014 stackoverflow post referring to it: https://stackoverflow.com/a/21354639/854342.","body":"This appears to be released in hibernate 5.0. I don&#39;t see it in 4.3.11 but the following article refers to 5.3. <a href=\"http://wiki.openbravo.com/wiki/Hibernate_5.3_Migration_Guide#Typed_Queries\" rel=\"nofollow noreferrer\">wiki.openbravo.com/wiki/&hellip;</a> I also see a Jan 2014 stackoverflow post referring to it: <a href=\"https://stackoverflow.com/a/21354639/854342\">stackoverflow.com/a/21354639/854342</a>."},{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":0,"creation_date":1545079258,"post_id":35899684,"comment_id":94494038,"body_markdown":"It is part of hibernate-jpa-2.0-api. You can use this with hibernate 4.3, as I am currently using it on hibernate 4.3.","body":"It is part of hibernate-jpa-2.0-api. You can use this with hibernate 4.3, as I am currently using it on hibernate 4.3."}],"tags":[],"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"comment_count":4,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1457548086,"creation_date":1457548086,"answer_id":35899684,"question_id":15913150,"body_markdown":"The resolution is to use TypedQuery instead. When creating a query from the EntityManager instead call it like this: \r\n\r\n    TypedQuery&lt;[YourClass]&gt; query = entityManager.createQuery(&quot;[your sql]&quot;, [YourClass].class);\r\n    List&lt;[YourClass]&gt; list = query.getResultList(); //no type warning\r\n\r\nThis also works the same for named queries, native named queries, etc. The corresponding methods have the same names as the ones that would return the vanilla query. Just use this instead of a Query whenever you know the return type.","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>The resolution is to use TypedQuery instead. When creating a query from the EntityManager instead call it like this: </p>\n\n<pre><code>TypedQuery&lt;[YourClass]&gt; query = entityManager.createQuery(\"[your sql]\", [YourClass].class);\nList&lt;[YourClass]&gt; list = query.getResultList(); //no type warning\n</code></pre>\n\n<p>This also works the same for named queries, native named queries, etc. The corresponding methods have the same names as the ones that would return the vanilla query. Just use this instead of a Query whenever you know the return type.</p>\n"},{"comments":[{"owner":{"account_id":4113451,"reputation":16922,"user_id":3375713,"accept_rate":93,"display_name":"Sнаđошƒаӽ"},"score":0,"creation_date":1460026720,"post_id":36474115,"comment_id":60558460,"body_markdown":"Welcome to [so]! Anyway, don&#39;t forget to take the [tour](http://stackoverflow.com/tour)","body":"Welcome to <a href=\"https://stackoverflow.com\">Stack Overflow</a>! Anyway, don&#39;t forget to take the <a href=\"http://stackoverflow.com/tour\">tour</a>"}],"tags":[],"owner":{"account_id":8200122,"reputation":61,"user_id":6171726,"display_name":"Pdv"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1460026574,"creation_date":1460026574,"answer_id":36474115,"question_id":15913150,"body_markdown":"To answer your question, there is no &quot;proper way&quot; to do that.\r\nNow if it&#39;s just the warning that bothers you, the best way to avoid its proliferation is to wrap the &lt;code&gt;Query.list()&lt;/code&gt; method into a DAO :\r\n\r\n    public class MyDAO {\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; List&lt;T&gt; list(Query q){\r\n            return q.list();\r\n        }\r\n    }\r\nThis way you get to use the &lt;code&gt;@SuppressWarnings(&quot;unchecked&quot;)&lt;/code&gt; only once.","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>To answer your question, there is no \"proper way\" to do that.\nNow if it's just the warning that bothers you, the best way to avoid its proliferation is to wrap the <code>Query.list()</code> method into a DAO :</p>\n\n<pre><code>public class MyDAO {\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; List&lt;T&gt; list(Query q){\n        return q.list();\n    }\n}\n</code></pre>\n\n<p>This way you get to use the <code>@SuppressWarnings(\"unchecked\")</code> only once.</p>\n"},{"tags":[],"owner":{"account_id":2736975,"reputation":1201,"user_id":2359447,"display_name":"Federico Traiman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1519765639,"creation_date":1519765639,"answer_id":49017948,"question_id":15913150,"body_markdown":"I found the best solution [here][1], the key of this issue is the  **addEntity** method\r\n\r\n    public static void testSimpleSQL() {\r\n        final Session session = sessionFactory.openSession();\r\n        SQLQuery q = session.createSQLQuery(&quot;select * from ENTITY&quot;);\r\n        q.addEntity(Entity.class);\r\n        List&lt;Entity&gt; entities = q.list();\r\n        for (Entity entity : entities) {\r\n            System.out.println(entity);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://learningviacode.blogspot.com.uy/2013/04/sessioncreatesqlquery.html","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>I found the best solution <a href=\"http://learningviacode.blogspot.com.uy/2013/04/sessioncreatesqlquery.html\" rel=\"nofollow noreferrer\">here</a>, the key of this issue is the  <strong>addEntity</strong> method</p>\n\n<pre><code>public static void testSimpleSQL() {\n    final Session session = sessionFactory.openSession();\n    SQLQuery q = session.createSQLQuery(\"select * from ENTITY\");\n    q.addEntity(Entity.class);\n    List&lt;Entity&gt; entities = q.list();\n    for (Entity entity : entities) {\n        System.out.println(entity);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561016496,"creation_date":1561016496,"answer_id":56681271,"question_id":15913150,"body_markdown":"Just just using **Transformers** It did not work for me I was getting type cast exception. \r\n\r\n`sqlQuery.setResultTransformer(Transformers.aliasToBean(MYEngityName.class))`\r\ndid notwork because I was getting Array of Object in the return list element not the fixed MYEngityName type of list element. \r\n\r\nIt worked for me when I make following changes When I have added `sqlQuery.addScalar(-)` each selected column and its type and for specific String type column we dont have to map its type. like `addScalar(&quot;langCode&quot;);`  \r\n\r\n\r\nAnd I have join MYEngityName with NextEnity we cant just `select *` in the Query  it will give array of Object in the return list. \r\n\r\nBelow code sample : \r\n \r\n    \r\n    session = ht.getSessionFactory().openSession();\r\n                    String sql = new StringBuffer(&quot;Select txnId,nft.mId,count,retryReason,langCode FROM  MYEngityName nft INNER JOIN NextEntity m on nft.mId  =  m.id where nft.txnId &lt; &quot;).append(lastTxnId)\r\n                           .append(StringUtils.isNotBlank(regionalCountryOfService)? &quot; And  m.countryOfService in ( &quot;+ regionalCountryOfService +&quot; )&quot; :&quot;&quot;)\r\n                           .append(&quot; order by nft.txnId desc&quot;).toString();\r\n                    SQLQuery sqlQuery = session.createSQLQuery(sql);\r\n                    sqlQuery.setResultTransformer(Transformers.aliasToBean(MYEngityName.class));\r\n                    sqlQuery.addScalar(&quot;txnId&quot;,Hibernate.LONG)\r\n                            .addScalar(&quot;merchantId&quot;,Hibernate.INTEGER)\r\n                            .addScalar(&quot;count&quot;,Hibernate.BYTE)\r\n                            .addScalar(&quot;retryReason&quot;)\r\n                            .addScalar(&quot;langCode&quot;);\r\n                    sqlQuery.setMaxResults(maxLimit);\r\n                    return sqlQuery.list();\r\n\r\n\r\nIt might help some one. in this way work for me. ","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>Just just using <strong>Transformers</strong> It did not work for me I was getting type cast exception. </p>\n\n<p><code>sqlQuery.setResultTransformer(Transformers.aliasToBean(MYEngityName.class))</code>\ndid notwork because I was getting Array of Object in the return list element not the fixed MYEngityName type of list element. </p>\n\n<p>It worked for me when I make following changes When I have added <code>sqlQuery.addScalar(-)</code> each selected column and its type and for specific String type column we dont have to map its type. like <code>addScalar(\"langCode\");</code>  </p>\n\n<p>And I have join MYEngityName with NextEnity we cant just <code>select *</code> in the Query  it will give array of Object in the return list. </p>\n\n<p>Below code sample : </p>\n\n<pre><code>session = ht.getSessionFactory().openSession();\n                String sql = new StringBuffer(\"Select txnId,nft.mId,count,retryReason,langCode FROM  MYEngityName nft INNER JOIN NextEntity m on nft.mId  =  m.id where nft.txnId &lt; \").append(lastTxnId)\n                       .append(StringUtils.isNotBlank(regionalCountryOfService)? \" And  m.countryOfService in ( \"+ regionalCountryOfService +\" )\" :\"\")\n                       .append(\" order by nft.txnId desc\").toString();\n                SQLQuery sqlQuery = session.createSQLQuery(sql);\n                sqlQuery.setResultTransformer(Transformers.aliasToBean(MYEngityName.class));\n                sqlQuery.addScalar(\"txnId\",Hibernate.LONG)\n                        .addScalar(\"merchantId\",Hibernate.INTEGER)\n                        .addScalar(\"count\",Hibernate.BYTE)\n                        .addScalar(\"retryReason\")\n                        .addScalar(\"langCode\");\n                sqlQuery.setMaxResults(maxLimit);\n                return sqlQuery.list();\n</code></pre>\n\n<p>It might help some one. in this way work for me. </p>\n"},{"comments":[{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":0,"creation_date":1623508498,"post_id":67079328,"comment_id":120101555,"body_markdown":"what issue is this resolving over using the default typedquery? It seems as though this is just a passthrough to the underlying methods of a typedquery.","body":"what issue is this resolving over using the default typedquery? It seems as though this is just a passthrough to the underlying methods of a typedquery."},{"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"score":0,"creation_date":1624286746,"post_id":67079328,"comment_id":120310782,"body_markdown":"Taugenichts it is exactly that. Without that, there were _unsafe cast_ warning through the whole system. Now, in a *unique* place with a single @SuppressWarnings.","body":"Taugenichts it is exactly that. Without that, there were <i>unsafe cast</i> warning through the whole system. Now, in a <i>unique</i> place with a single @SuppressWarnings."},{"owner":{"account_id":4095196,"reputation":1305,"user_id":3362191,"accept_rate":70,"display_name":"Taugenichts"},"score":0,"creation_date":1626458838,"post_id":67079328,"comment_id":120907788,"body_markdown":"TypedQueries have a type so you won&#39;t get a unsafe cast warning.\nIf you just changed this line:\n\nfinal Query q = getSafeEntityManager().createNamedQuery(queryName);\n\nto \n\nfinal TypedQuery&lt;Car&gt; q = getSafeEntityManager().createNamedQuery(queryName, Car.class);\n\nyou could kill your whole wrapper class.","body":"TypedQueries have a type so you won&#39;t get a unsafe cast warning. If you just changed this line:  final Query q = getSafeEntityManager().createNamedQuery(queryName);  to   final TypedQuery&lt;Car&gt; q = getSafeEntityManager().createNamedQuery(queryName, Car.class);  you could kill your whole wrapper class."},{"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"score":0,"creation_date":1627391257,"post_id":67079328,"comment_id":121139566,"body_markdown":"Yes @Taugenichts, you&#39;re right. However, in my answer I am talking about &quot;named alias query&quot;, i.e., named query that also uses a ResultTransformer (aliasToBean). The direct way you suggested does work perfectly *only* with named query.","body":"Yes @Taugenichts, you&#39;re right. However, in my answer I am talking about &quot;named alias query&quot;, i.e., named query that also uses a ResultTransformer (aliasToBean). The direct way you suggested does work perfectly <i>only</i> with named query."}],"tags":[],"owner":{"account_id":5487585,"reputation":109,"user_id":5623197,"display_name":"Ricardo Terra"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618333376,"creation_date":1618333376,"answer_id":67079328,"question_id":15913150,"body_markdown":"In a project I&#39;m a consultant I had this issue. See the solution:  \r\nFirst, I created the following method:  \r\n\r\n    protected &lt;T&gt; MyTypedQuery&lt;T&gt; createNamedAliasQuery(final String queryName, final Class&lt;T&gt; type) {  \r\n    \tfinal Query q = getSafeEntityManager().createNamedQuery(queryName);\r\n    \tq.unwrap(org.hibernate.Query.class)\r\n    \t\t.setResultTransformer(Transformers.aliasToBean(type)); \t\r\n    \treturn new MyTypedQuery&lt;T&gt;(q); \r\n    }\r\n\r\nSecond, I create a MyTypedQuery, which looks like a wrapper, as below:  \r\n\r\n\r\n    public class MyTypedQuery&lt;R&gt; implements TypedQuery&lt;R&gt; {\r\n    \tprivate Query q;\r\n    \t\r\n    \tpublic MyTypedQuery(Query q) {\r\n    \t\tthis.q = q;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int executeUpdate() {\r\n    \t\treturn this.q.executeUpdate();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getFirstResult() {\r\n    \t\treturn this.q.getFirstResult();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic FlushModeType getFlushMode() {\r\n    \t\treturn this.q.getFlushMode();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, Object&gt; getHints() {\r\n    \t\treturn this.q.getHints();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic LockModeType getLockMode() {\r\n    \t\treturn this.q.getLockMode();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getMaxResults() {\r\n    \t\treturn this.q.getMaxResults();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Parameter&lt;?&gt; getParameter(String arg0) {\r\n    \t\treturn this.q.getParameter(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Parameter&lt;?&gt; getParameter(int arg0) {\r\n    \t\treturn this.q.getParameter(arg0);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic &lt;T&gt; Parameter&lt;T&gt; getParameter(String arg0, Class&lt;T&gt; arg1) {\r\n    \t\treturn (Parameter&lt;T&gt;) this.q.getParameter(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; Parameter&lt;T&gt; getParameter(int arg0, Class&lt;T&gt; arg1) {\r\n    \t\treturn (Parameter&lt;T&gt;) this.q.getParameter(arg0, arg1);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; T getParameterValue(Parameter&lt;T&gt; arg0) {\r\n    \t\treturn (T) this.q.getParameterValue(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getParameterValue(String arg0) {\r\n    \t\treturn this.q.getParameterValue(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getParameterValue(int arg0) {\r\n    \t\treturn this.q.getParameterValue(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Parameter&lt;?&gt;&gt; getParameters() {\r\n    \t\treturn this.q.getParameters();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isBound(Parameter&lt;?&gt; arg0) {\r\n    \t\treturn this.q.isBound(arg0);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; T unwrap(Class&lt;T&gt; arg0) {\r\n    \t\treturn this.q.unwrap(arg0);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic List&lt;R&gt; getResultList() {\r\n    \t\treturn (List&lt;R&gt;) this.q.getResultList();\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic R getSingleResult() {\r\n    \t\treturn (R) this.q.getSingleResult();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setFirstResult(int arg0) {\r\n    \t\tthis.q.setFirstResult(arg0);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setFlushMode(FlushModeType arg0) {\r\n    \t\tthis.q.setFlushMode(arg0);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setHint(String arg0, Object arg1) {\r\n    \t\tthis.q.setHint(arg0, arg1);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setLockMode(LockModeType arg0) {\r\n    \t\tthis.q.setLockMode(arg0);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setMaxResults(int arg0) {\r\n    \t\tthis.q.setMaxResults(arg0);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic &lt;T&gt; TypedQuery&lt;R&gt; setParameter(Parameter&lt;T&gt; arg0, T arg1) {\r\n    \t\tthis.q.setParameter(arg0, arg1);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(String arg0, Object arg1) {\r\n    \t\tthis.q.setParameter(arg0, arg1);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(int arg0, Object arg1) {\r\n    \t\tthis.q.setParameter(arg0, arg1);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(Parameter&lt;Calendar&gt; arg0, Calendar arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(Parameter&lt;Date&gt; arg0, Date arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(String arg0, Calendar arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(String arg0, Date arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(int arg0, Calendar arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic TypedQuery&lt;R&gt; setParameter(int arg0, Date arg1, TemporalType arg2) {\r\n    \t\tthis.q.setParameter(arg0, arg1, arg2);\r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n\r\nThird (and last), the use is straightforward like:  \r\n\r\n    final List&lt;Car&gt; list = \r\n                createNamedAliasQuery(&quot;your-named-query&quot;, Car.class)\r\n                    .setParameter(&quot;idCar&quot;, idCar)\r\n                    .setParameter(&quot;idModel&quot;, idModel)\r\n                    .getResultList();\r\n\r\nNote that @SuppressWarnings(&quot;unchecked&quot;) appears once in our MyTypedQuery and not in every single use.","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>In a project I'm a consultant I had this issue. See the solution:<br />\nFirst, I created the following method:</p>\n<pre><code>protected &lt;T&gt; MyTypedQuery&lt;T&gt; createNamedAliasQuery(final String queryName, final Class&lt;T&gt; type) {  \n    final Query q = getSafeEntityManager().createNamedQuery(queryName);\n    q.unwrap(org.hibernate.Query.class)\n        .setResultTransformer(Transformers.aliasToBean(type));  \n    return new MyTypedQuery&lt;T&gt;(q); \n}\n</code></pre>\n<p>Second, I create a MyTypedQuery, which looks like a wrapper, as below:</p>\n<pre><code>public class MyTypedQuery&lt;R&gt; implements TypedQuery&lt;R&gt; {\n    private Query q;\n    \n    public MyTypedQuery(Query q) {\n        this.q = q;\n    }\n    \n    @Override\n    public int executeUpdate() {\n        return this.q.executeUpdate();\n    }\n\n    @Override\n    public int getFirstResult() {\n        return this.q.getFirstResult();\n    }\n\n    @Override\n    public FlushModeType getFlushMode() {\n        return this.q.getFlushMode();\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getHints() {\n        return this.q.getHints();\n    }\n\n    @Override\n    public LockModeType getLockMode() {\n        return this.q.getLockMode();\n    }\n\n    @Override\n    public int getMaxResults() {\n        return this.q.getMaxResults();\n    }\n\n    @Override\n    public Parameter&lt;?&gt; getParameter(String arg0) {\n        return this.q.getParameter(arg0);\n    }\n\n    @Override\n    public Parameter&lt;?&gt; getParameter(int arg0) {\n        return this.q.getParameter(arg0);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public &lt;T&gt; Parameter&lt;T&gt; getParameter(String arg0, Class&lt;T&gt; arg1) {\n        return (Parameter&lt;T&gt;) this.q.getParameter(arg0);\n    }\n\n    @Override\n    public &lt;T&gt; Parameter&lt;T&gt; getParameter(int arg0, Class&lt;T&gt; arg1) {\n        return (Parameter&lt;T&gt;) this.q.getParameter(arg0, arg1);\n    }\n\n    @Override\n    public &lt;T&gt; T getParameterValue(Parameter&lt;T&gt; arg0) {\n        return (T) this.q.getParameterValue(arg0);\n    }\n\n    @Override\n    public Object getParameterValue(String arg0) {\n        return this.q.getParameterValue(arg0);\n    }\n\n    @Override\n    public Object getParameterValue(int arg0) {\n        return this.q.getParameterValue(arg0);\n    }\n\n    @Override\n    public Set&lt;Parameter&lt;?&gt;&gt; getParameters() {\n        return this.q.getParameters();\n    }\n\n    @Override\n    public boolean isBound(Parameter&lt;?&gt; arg0) {\n        return this.q.isBound(arg0);\n    }\n\n    @Override\n    public &lt;T&gt; T unwrap(Class&lt;T&gt; arg0) {\n        return this.q.unwrap(arg0);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public List&lt;R&gt; getResultList() {\n        return (List&lt;R&gt;) this.q.getResultList();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public R getSingleResult() {\n        return (R) this.q.getSingleResult();\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setFirstResult(int arg0) {\n        this.q.setFirstResult(arg0);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setFlushMode(FlushModeType arg0) {\n        this.q.setFlushMode(arg0);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setHint(String arg0, Object arg1) {\n        this.q.setHint(arg0, arg1);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setLockMode(LockModeType arg0) {\n        this.q.setLockMode(arg0);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setMaxResults(int arg0) {\n        this.q.setMaxResults(arg0);\n        return this;\n    }\n\n    @Override\n    public &lt;T&gt; TypedQuery&lt;R&gt; setParameter(Parameter&lt;T&gt; arg0, T arg1) {\n        this.q.setParameter(arg0, arg1);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(String arg0, Object arg1) {\n        this.q.setParameter(arg0, arg1);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(int arg0, Object arg1) {\n        this.q.setParameter(arg0, arg1);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(Parameter&lt;Calendar&gt; arg0, Calendar arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(Parameter&lt;Date&gt; arg0, Date arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(String arg0, Calendar arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(String arg0, Date arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(int arg0, Calendar arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n\n    @Override\n    public TypedQuery&lt;R&gt; setParameter(int arg0, Date arg1, TemporalType arg2) {\n        this.q.setParameter(arg0, arg1, arg2);\n        return this;\n    }\n}\n</code></pre>\n<p>Third (and last), the use is straightforward like:</p>\n<pre><code>final List&lt;Car&gt; list = \n            createNamedAliasQuery(&quot;your-named-query&quot;, Car.class)\n                .setParameter(&quot;idCar&quot;, idCar)\n                .setParameter(&quot;idModel&quot;, idModel)\n                .getResultList();\n</code></pre>\n<p>Note that @SuppressWarnings(&quot;unchecked&quot;) appears once in our MyTypedQuery and not in every single use.</p>\n"},{"tags":[],"owner":{"account_id":15286841,"reputation":863,"user_id":11029624,"display_name":"Mahbub Ul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650359478,"creation_date":1650347247,"answer_id":71920204,"question_id":15913150,"body_markdown":"First of you have ensure the naming in HQL.\r\n\r\nUse the name of the entity in the HQL query.\r\nIf you don&#39;t specify any name in the @Entity annotation then the default is your class name.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nFor More Information:\r\nhttps://javabydeveloper.com/org-hibernate-hql-internal-ast-querysyntaxexception-entity-table-is-not-mapped/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHS2i.png","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>First of you have ensure the naming in HQL.</p>\n<p>Use the name of the entity in the HQL query.\nIf you don't specify any name in the @Entity annotation then the default is your class name.</p>\n<p><a href=\"https://i.stack.imgur.com/yHS2i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHS2i.png\" alt=\"enter image description here\" /></a></p>\n<p>For More Information:\n<a href=\"https://javabydeveloper.com/org-hibernate-hql-internal-ast-querysyntaxexception-entity-table-is-not-mapped/\" rel=\"nofollow noreferrer\">https://javabydeveloper.com/org-hibernate-hql-internal-ast-querysyntaxexception-entity-table-is-not-mapped/</a></p>\n"},{"tags":[],"owner":{"account_id":11843427,"reputation":51,"user_id":8666620,"display_name":"Marcos Randulfe Garrido"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681757520,"creation_date":1681757520,"answer_id":76038378,"question_id":15913150,"body_markdown":"I use that it work well:\r\n\r\n\t\r\n\r\n    private List&lt;VehicleUserResult&gt; createQueryVehiclesBYUser(Integer userId) {\r\n    \t\tfinal Session session= getSession();\r\n    \t\tQuery consulta=\tsession.createQuery(&quot;from VehicleUser where user=:user&quot;);\r\n    \t\tconsulta.setParameter(&quot;user&quot;,userId);\r\n    \t\treturn (List&lt;VehicleUserResult&gt;) consulta.getResultList();\r\n    \t}","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>I use that it work well:</p>\n<pre><code>private List&lt;VehicleUserResult&gt; createQueryVehiclesBYUser(Integer userId) {\n        final Session session= getSession();\n        Query consulta= session.createQuery(&quot;from VehicleUser where user=:user&quot;);\n        consulta.setParameter(&quot;user&quot;,userId);\n        return (List&lt;VehicleUserResult&gt;) consulta.getResultList();\n    }\n</code></pre>\n"}],"owner":{"account_id":1531603,"reputation":56585,"user_id":1428679,"accept_rate":94,"display_name":"LSerni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154723,"favorite_count":0,"down_vote_count":1,"up_vote_count":94,"accepted_answer_id":15913247,"answer_count":13,"score":93,"last_activity_date":1681757520,"creation_date":1365543874,"question_id":15913150,"body_markdown":"I&#39;m a newbie with Hibernate, and I&#39;m writing a simple method to return a list of objects\r\nmatching a specific filter. `List&lt;Foo&gt;` seemed a natural return type.\r\n\r\nWhatever I do, I can&#39;t seem to make the compiler happy, unless I employ an ugly `@SuppressWarnings`.\r\n\r\n    import java.util.List;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    \r\n    public class Foo {\r\n    \r\n        public Session acquireSession() {\r\n            // All DB opening, connection etc. removed,\r\n            // since the problem is in compilation, not at runtime.\r\n            return null;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;) /* &lt;----- */\r\n    \r\n        public List&lt;Foo&gt; activeObjects() {\r\n            Session s = acquireSession();\r\n            Query   q = s.createQuery(&quot;from foo where active&quot;);\r\n            return (List&lt;Foo&gt;) q.list();\r\n        }\r\n    }\r\n\r\n**I would like to get rid of that `SuppressWarnings`**. But if I do, I get the warning\r\n\r\n\tWarning: Unchecked cast from List to List&lt;Foo&gt;\r\n\r\n(I can ignore it, but I&#39;d like to not get it in the first place), and if I remove the &lt;Foo&gt; generic to conform to `.list()` return type, I get the warning\r\n\r\n\tWarning: List is a raw type. References to generic type List&lt;E&gt;\r\n\tshould be parameterized.\r\n\r\nI noticed that `org.hibernate.mapping` *does* declare a `List`; but it is a different type altogether - `Query` returns a `java.util.List`, as a raw type. I find it odd that a recent Hibernate (4.0.x) would not implement parameterized types, so I suspect that it&#39;s me instead doing something wrong.\r\n\r\nIt looks very much like https://stackoverflow.com/questions/4864093/cast-hibernate-result-to-a-list-of-objects, but here I have no &quot;hard&quot; errors (the system knows type Foo, and I&#39;m not using a SQLQuery but a straight Query). So no joy.\r\n\r\nI have also looked at https://stackoverflow.com/questions/10754777/hibernate-class-cast-exception since it looked promising, but then I realized that I do *not* actually get any `Exception`... my problem is just that of a warning - a coding style, if you will.\r\n\r\nDocumentation on jboss.org, Hibernate manuals and several tutorials do not seem to cover the topic in *such* detail (or I didn&#39;t search in the right places?). When they do enter into detail, they use on-the-fly casting - and this on tutorials that weren&#39;t on the official jboss.org site, so I&#39;m a bit wary.\r\n\r\nThe code, once compiled, runs with no *apparent* problem... that I know of... yet; and the results are the expected ones.\r\n\r\nSo: am I doing this right? Am I missing something obvious? Is there an &quot;official&quot;\r\nor &quot;recommended&quot; *Way To Do It*?\r\n","title":"What is the &quot;proper&quot; way to cast Hibernate Query.list() to List&lt;Type&gt;?","body":"<p>I'm a newbie with Hibernate, and I'm writing a simple method to return a list of objects\nmatching a specific filter. <code>List&lt;Foo&gt;</code> seemed a natural return type.</p>\n\n<p>Whatever I do, I can't seem to make the compiler happy, unless I employ an ugly <code>@SuppressWarnings</code>.</p>\n\n<pre><code>import java.util.List;\nimport org.hibernate.Query;\nimport org.hibernate.Session;\n\npublic class Foo {\n\n    public Session acquireSession() {\n        // All DB opening, connection etc. removed,\n        // since the problem is in compilation, not at runtime.\n        return null;\n    }\n\n    @SuppressWarnings(\"unchecked\") /* &lt;----- */\n\n    public List&lt;Foo&gt; activeObjects() {\n        Session s = acquireSession();\n        Query   q = s.createQuery(\"from foo where active\");\n        return (List&lt;Foo&gt;) q.list();\n    }\n}\n</code></pre>\n\n<p><strong>I would like to get rid of that <code>SuppressWarnings</code></strong>. But if I do, I get the warning</p>\n\n<pre><code>Warning: Unchecked cast from List to List&lt;Foo&gt;\n</code></pre>\n\n<p>(I can ignore it, but I'd like to not get it in the first place), and if I remove the  generic to conform to <code>.list()</code> return type, I get the warning</p>\n\n<pre><code>Warning: List is a raw type. References to generic type List&lt;E&gt;\nshould be parameterized.\n</code></pre>\n\n<p>I noticed that <code>org.hibernate.mapping</code> <em>does</em> declare a <code>List</code>; but it is a different type altogether - <code>Query</code> returns a <code>java.util.List</code>, as a raw type. I find it odd that a recent Hibernate (4.0.x) would not implement parameterized types, so I suspect that it's me instead doing something wrong.</p>\n\n<p>It looks very much like <a href=\"https://stackoverflow.com/questions/4864093/cast-hibernate-result-to-a-list-of-objects\">Cast Hibernate result to a list of objects</a>, but here I have no \"hard\" errors (the system knows type Foo, and I'm not using a SQLQuery but a straight Query). So no joy.</p>\n\n<p>I have also looked at <a href=\"https://stackoverflow.com/questions/10754777/hibernate-class-cast-exception\">Hibernate Class Cast Exception</a> since it looked promising, but then I realized that I do <em>not</em> actually get any <code>Exception</code>... my problem is just that of a warning - a coding style, if you will.</p>\n\n<p>Documentation on jboss.org, Hibernate manuals and several tutorials do not seem to cover the topic in <em>such</em> detail (or I didn't search in the right places?). When they do enter into detail, they use on-the-fly casting - and this on tutorials that weren't on the official jboss.org site, so I'm a bit wary.</p>\n\n<p>The code, once compiled, runs with no <em>apparent</em> problem... that I know of... yet; and the results are the expected ones.</p>\n\n<p>So: am I doing this right? Am I missing something obvious? Is there an \"official\"\nor \"recommended\" <em>Way To Do It</em>?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1680988036,"post_id":75967069,"comment_id":133987814,"body_markdown":"This is a duplicate of your question https://stackoverflow.com/questions/75967289/spring-boot-error-while-making-post-request-receiving-unsupported-media-type-415/75967661#75967661","body":"This is a duplicate of your question <a href=\"https://stackoverflow.com/questions/75967289/spring-boot-error-while-making-post-request-receiving-unsupported-media-type-415/75967661#75967661\" title=\"spring boot error while making post request receiving unsupported media type 415\">stackoverflow.com/questions/75967289/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24103799,"reputation":11,"user_id":18075290,"display_name":"ytt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681757475,"creation_date":1681414525,"answer_id":76009215,"question_id":75967069,"body_markdown":"I think you are sending to backend form-data type but your backend does not know that. Maybe adding `produces=MediaType.APPLICATION_JSON_VALUE,consumes=MediaType.MULTIPART_FORM_DATA_VALUE` to your spring boot api solves this.\r\n","title":"Receiving 415 error during POST request to MongoDB in SpringBoot | An unhandled error was caught from submitForm() TypeError: Failed to fetch","body":"<p>I think you are sending to backend form-data type but your backend does not know that. Maybe adding <code>produces=MediaType.APPLICATION_JSON_VALUE,consumes=MediaType.MULTIPART_FORM_DATA_VALUE</code> to your spring boot api solves this.</p>\n"}],"owner":{"account_id":16295595,"reputation":11,"user_id":11767934,"display_name":"devops777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681757475,"creation_date":1680979105,"question_id":75967069,"body_markdown":"This is the Form React Component\r\n\r\n```\r\nimport { useState } from &quot;react&quot;;\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  useMediaQuery,\r\n  Typography,\r\n  useTheme,\r\n} from &quot;@mui/material&quot;;\r\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\r\nimport { Formik } from &quot;formik&quot;;\r\nimport * as yup from &quot;yup&quot;;\r\nimport { useNavigate } from &quot;react-router-dom&quot;;\r\nimport { useDispatch } from &quot;react-redux&quot;;\r\nimport { setLogin } from &quot;state&quot;;\r\nimport Dropzone from &quot;react-dropzone&quot;;\r\nimport FlexBetween from &quot;components/FlexBetween&quot;;\r\n\r\nconst registerSchema = yup.object().shape({\r\n  firstName: yup.string().required(&quot;required&quot;),\r\n  lastName: yup.string().required(&quot;required&quot;),\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n  location: yup.string().required(&quot;required&quot;),\r\n  occupation: yup.string().required(&quot;required&quot;),\r\n  picture: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst loginSchema = yup.object().shape({\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst initialValuesRegister = {\r\n  firstName: &quot;&quot;,\r\n  lastName: &quot;&quot;,\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n  location: &quot;&quot;,\r\n  occupation: &quot;&quot;,\r\n  picture: &quot;&quot;,\r\n};\r\n\r\nconst initialValuesLogin = {\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n};\r\n\r\nconst Form = () =&gt; {\r\n  const [pageType, setPageType] = useState(&quot;login&quot;);\r\n  const { palette } = useTheme();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\r\n  const isLogin = pageType === &quot;login&quot;;\r\n  const isRegister = pageType === &quot;register&quot;;\r\n\r\n  const register = async (values, onSubmitProps) =&gt; {\r\n    // this allows us to send form info with image\r\n    const formData = new FormData();\r\n    for (let value in values) {\r\n      formData.append(value, values[value]);\r\n    }\r\n    formData.append(&quot;picturePath&quot;, values.picture.name);\r\n\r\n    const savedUserResponse = await fetch(\r\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\r\n      {\r\n        method: &quot;POST&quot;,\r\n        body: formData,\r\n      }\r\n    );\r\n    const savedUser = await savedUserResponse.json();\r\n    onSubmitProps.resetForm();\r\n\r\n    if (savedUser) {\r\n      setPageType(&quot;login&quot;);\r\n    }\r\n  };\r\n\r\n  const login = async (values, onSubmitProps) =&gt; {\r\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\r\n      method: &quot;POST&quot;,\r\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\r\n      body: JSON.stringify(values),\r\n    });\r\n    const loggedIn = await loggedInResponse.json();\r\n    onSubmitProps.resetForm();\r\n    if (loggedIn) {\r\n      dispatch(\r\n        setLogin({\r\n          user: loggedIn.user,\r\n          token: loggedIn.token,\r\n        })\r\n      );\r\n      navigate(&quot;/home&quot;);\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\r\n    if (isLogin) await login(values, onSubmitProps);\r\n    if (isRegister) await register(values, onSubmitProps);\r\n  };\r\n\r\n  return (\r\n    &lt;Formik\r\n      onSubmit={handleFormSubmit}\r\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\r\n      validationSchema={isLogin ? loginSchema : registerSchema}\r\n    &gt;\r\n      {({\r\n        values,\r\n        errors,\r\n        touched,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        setFieldValue,\r\n        resetForm,\r\n      }) =&gt; (\r\n        &lt;form onSubmit={handleSubmit}&gt;\r\n          &lt;Box\r\n            display=&quot;grid&quot;\r\n            gap=&quot;30px&quot;\r\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\r\n            sx={{\r\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\r\n            }}\r\n          &gt;\r\n            {isRegister &amp;&amp; (\r\n              &lt;&gt;\r\n                &lt;TextField\r\n                  label=&quot;First Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.firstName}\r\n                  name=&quot;firstName&quot;\r\n                  error={\r\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\r\n                  }\r\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Last Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.lastName}\r\n                  name=&quot;lastName&quot;\r\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\r\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Location&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.location}\r\n                  name=&quot;location&quot;\r\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\r\n                  helperText={touched.location &amp;&amp; errors.location}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Occupation&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.occupation}\r\n                  name=&quot;occupation&quot;\r\n                  error={\r\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\r\n                  }\r\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;Box\r\n                  gridColumn=&quot;span 4&quot;\r\n                  border={`1px solid ${palette.neutral.medium}`}\r\n                  borderRadius=&quot;5px&quot;\r\n                  p=&quot;1rem&quot;\r\n                &gt;\r\n                  &lt;Dropzone\r\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\r\n                    multiple={false}\r\n                    onDrop={(acceptedFiles) =&gt;\r\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\r\n                    }\r\n                  &gt;\r\n                    {({ getRootProps, getInputProps }) =&gt; (\r\n                      &lt;Box\r\n                        {...getRootProps()}\r\n                        border={`2px dashed ${palette.primary.main}`}\r\n                        p=&quot;1rem&quot;\r\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\r\n                      &gt;\r\n                        &lt;input {...getInputProps()} /&gt;\r\n                        {!values.picture ? (\r\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\r\n                        ) : (\r\n                          &lt;FlexBetween&gt;\r\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\r\n                            &lt;EditOutlinedIcon /&gt;\r\n                          &lt;/FlexBetween&gt;\r\n                        )}\r\n                      &lt;/Box&gt;\r\n                    )}\r\n                  &lt;/Dropzone&gt;\r\n                &lt;/Box&gt;\r\n              &lt;/&gt;\r\n            )}\r\n\r\n            &lt;TextField\r\n              label=&quot;Email&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n              name=&quot;email&quot;\r\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\r\n              helperText={touched.email &amp;&amp; errors.email}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n            &lt;TextField\r\n              label=&quot;Password&quot;\r\n              type=&quot;password&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.password}\r\n              name=&quot;password&quot;\r\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\r\n              helperText={touched.password &amp;&amp; errors.password}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n          &lt;/Box&gt;\r\n\r\n          {/* BUTTONS */}\r\n          &lt;Box&gt;\r\n            &lt;Button\r\n              fullWidth\r\n              type=&quot;submit&quot;\r\n              sx={{\r\n                m: &quot;2rem 0&quot;,\r\n                p: &quot;1rem&quot;,\r\n                backgroundColor: palette.primary.main,\r\n                color: palette.background.alt,\r\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\r\n              }}\r\n            &gt;\r\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\r\n            &lt;/Button&gt;\r\n            &lt;Typography\r\n              onClick={() =&gt; {\r\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\r\n                resetForm();\r\n              }}\r\n              sx={{\r\n                textDecoration: &quot;underline&quot;,\r\n                color: palette.primary.main,\r\n                &quot;&amp;:hover&quot;: {\r\n                  cursor: &quot;pointer&quot;,\r\n                  color: palette.primary.light,\r\n                },\r\n              }}\r\n            &gt;\r\n              {isLogin\r\n                ? &quot;Don&#39;t have an account? Sign Up here.&quot;\r\n                : &quot;Already have an account? Login here.&quot;}\r\n            &lt;/Typography&gt;\r\n          &lt;/Box&gt;\r\n        &lt;/form&gt;\r\n      )}\r\n    &lt;/Formik&gt;\r\n  );\r\n};\r\n\r\nexport default Form;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTHIS IS THE USER CONTROLLER IN SPRING BOOT\r\n\r\n\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\nimport org.apache.catalina.User;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/users&quot;)\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    \r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\r\n    }\r\n\r\n             \r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\r\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\n\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\r\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\r\n    }\r\n \r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\r\n      try {\r\n        // String firstName = user.getFullName();\r\n        // String lastName = user.getName();\r\n        // String email = ((Users) user).getEmail();\r\n        String password = user.getPassword();\r\n        // String picturePath = ((Users) user).getPicturePath();\r\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\r\n        String location = ((Users) user).getLocation();\r\n        String occupation = ((Users) user).getOccupation();\r\n  \r\n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\r\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\r\n  \r\n        Users newUser = new Users();\r\n  \r\n        Users savedUser = userRepository.save(newUser);\r\n  \r\n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\r\n      } catch (Exception e) {\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n      }\r\n    }\r\n \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nTHIS IS THE USER SERVICE IN SPRING BOOT\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.query.Criteria;\r\nimport org.springframework.data.mongodb.core.query.Update;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n   \r\n    public List&lt;Users&gt; allPosts() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    \r\n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\r\n        return userRepository.findById(id);\r\n    }\r\n    \r\n\r\n    \r\n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\r\n        return userRepository.findPostsByUserId(userId);\r\n    }\r\n\r\n\r\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\r\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\r\n\r\n        mongoTemplate.update(User.class)\r\n            .matching(Criteria.where(&quot;id&quot;).is(id))\r\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\r\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\r\n            // .apply(new Update().push(&quot;password&quot;).value(password))\r\n\r\n            .first();\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTHIS IS THE USER MODEL IN SPRING BOOT \r\n\r\n\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport java.util.Collection;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Document(collection=&quot;users&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Users {\r\n    \r\n    @Id\r\n    private ObjectId userId ; \r\n\r\n    private String firstName ; \r\n\r\n    private String lastName ; \r\n\r\n    private String email ; \r\n\r\n    private String password ; \r\n\r\n    private String picturePath; \r\n\r\n    // private List&lt;String&gt; friends ; \r\n    \r\n    private String location ; \r\n\r\n    private String occupation ; \r\n\r\n    // private String viwedProfile; //num\r\n\r\n    // private String impression ; // num\r\n\r\n    // private String createdAt; // time\r\n\r\n    // private String updatedAt ; //time\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n\r\ntype here\r\n\r\n```\r\n```\r\n\r\nAT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403  &amp; NOW IT IS GIVING CORS ERRORS AND 415\r\n\r\nTHINGS I HAVE TRIED \r\n- ADDING NO CORS MODE IN HEADERS \r\n\r\n\r\n\r\n\r\nERRORS THAT I AM RECIVING NOW FROM SPRING BOOT ARE \r\n\r\n [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;multipart/form-data;boundary=----WebKitFormBoundary33lahsVSYAvdFFIZ;charset=UTF-8&#39; is not supported]","title":"Receiving 415 error during POST request to MongoDB in SpringBoot | An unhandled error was caught from submitForm() TypeError: Failed to fetch","body":"<p>This is the Form React Component</p>\n<pre><code>import { useState } from &quot;react&quot;;\nimport {\n  Box,\n  Button,\n  TextField,\n  useMediaQuery,\n  Typography,\n  useTheme,\n} from &quot;@mui/material&quot;;\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\nimport { Formik } from &quot;formik&quot;;\nimport * as yup from &quot;yup&quot;;\nimport { useNavigate } from &quot;react-router-dom&quot;;\nimport { useDispatch } from &quot;react-redux&quot;;\nimport { setLogin } from &quot;state&quot;;\nimport Dropzone from &quot;react-dropzone&quot;;\nimport FlexBetween from &quot;components/FlexBetween&quot;;\n\nconst registerSchema = yup.object().shape({\n  firstName: yup.string().required(&quot;required&quot;),\n  lastName: yup.string().required(&quot;required&quot;),\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n  location: yup.string().required(&quot;required&quot;),\n  occupation: yup.string().required(&quot;required&quot;),\n  picture: yup.string().required(&quot;required&quot;),\n});\n\nconst loginSchema = yup.object().shape({\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n});\n\nconst initialValuesRegister = {\n  firstName: &quot;&quot;,\n  lastName: &quot;&quot;,\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n  location: &quot;&quot;,\n  occupation: &quot;&quot;,\n  picture: &quot;&quot;,\n};\n\nconst initialValuesLogin = {\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n};\n\nconst Form = () =&gt; {\n  const [pageType, setPageType] = useState(&quot;login&quot;);\n  const { palette } = useTheme();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\n  const isLogin = pageType === &quot;login&quot;;\n  const isRegister = pageType === &quot;register&quot;;\n\n  const register = async (values, onSubmitProps) =&gt; {\n    // this allows us to send form info with image\n    const formData = new FormData();\n    for (let value in values) {\n      formData.append(value, values[value]);\n    }\n    formData.append(&quot;picturePath&quot;, values.picture.name);\n\n    const savedUserResponse = await fetch(\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\n      {\n        method: &quot;POST&quot;,\n        body: formData,\n      }\n    );\n    const savedUser = await savedUserResponse.json();\n    onSubmitProps.resetForm();\n\n    if (savedUser) {\n      setPageType(&quot;login&quot;);\n    }\n  };\n\n  const login = async (values, onSubmitProps) =&gt; {\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\n      method: &quot;POST&quot;,\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\n      body: JSON.stringify(values),\n    });\n    const loggedIn = await loggedInResponse.json();\n    onSubmitProps.resetForm();\n    if (loggedIn) {\n      dispatch(\n        setLogin({\n          user: loggedIn.user,\n          token: loggedIn.token,\n        })\n      );\n      navigate(&quot;/home&quot;);\n    }\n  };\n\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\n    if (isLogin) await login(values, onSubmitProps);\n    if (isRegister) await register(values, onSubmitProps);\n  };\n\n  return (\n    &lt;Formik\n      onSubmit={handleFormSubmit}\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\n      validationSchema={isLogin ? loginSchema : registerSchema}\n    &gt;\n      {({\n        values,\n        errors,\n        touched,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        setFieldValue,\n        resetForm,\n      }) =&gt; (\n        &lt;form onSubmit={handleSubmit}&gt;\n          &lt;Box\n            display=&quot;grid&quot;\n            gap=&quot;30px&quot;\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\n            sx={{\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\n            }}\n          &gt;\n            {isRegister &amp;&amp; (\n              &lt;&gt;\n                &lt;TextField\n                  label=&quot;First Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.firstName}\n                  name=&quot;firstName&quot;\n                  error={\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\n                  }\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Last Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.lastName}\n                  name=&quot;lastName&quot;\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Location&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.location}\n                  name=&quot;location&quot;\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\n                  helperText={touched.location &amp;&amp; errors.location}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Occupation&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.occupation}\n                  name=&quot;occupation&quot;\n                  error={\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\n                  }\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;Box\n                  gridColumn=&quot;span 4&quot;\n                  border={`1px solid ${palette.neutral.medium}`}\n                  borderRadius=&quot;5px&quot;\n                  p=&quot;1rem&quot;\n                &gt;\n                  &lt;Dropzone\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\n                    multiple={false}\n                    onDrop={(acceptedFiles) =&gt;\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\n                    }\n                  &gt;\n                    {({ getRootProps, getInputProps }) =&gt; (\n                      &lt;Box\n                        {...getRootProps()}\n                        border={`2px dashed ${palette.primary.main}`}\n                        p=&quot;1rem&quot;\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\n                      &gt;\n                        &lt;input {...getInputProps()} /&gt;\n                        {!values.picture ? (\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\n                        ) : (\n                          &lt;FlexBetween&gt;\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\n                            &lt;EditOutlinedIcon /&gt;\n                          &lt;/FlexBetween&gt;\n                        )}\n                      &lt;/Box&gt;\n                    )}\n                  &lt;/Dropzone&gt;\n                &lt;/Box&gt;\n              &lt;/&gt;\n            )}\n\n            &lt;TextField\n              label=&quot;Email&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.email}\n              name=&quot;email&quot;\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\n              helperText={touched.email &amp;&amp; errors.email}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n            &lt;TextField\n              label=&quot;Password&quot;\n              type=&quot;password&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.password}\n              name=&quot;password&quot;\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\n              helperText={touched.password &amp;&amp; errors.password}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n          &lt;/Box&gt;\n\n          {/* BUTTONS */}\n          &lt;Box&gt;\n            &lt;Button\n              fullWidth\n              type=&quot;submit&quot;\n              sx={{\n                m: &quot;2rem 0&quot;,\n                p: &quot;1rem&quot;,\n                backgroundColor: palette.primary.main,\n                color: palette.background.alt,\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\n              }}\n            &gt;\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\n            &lt;/Button&gt;\n            &lt;Typography\n              onClick={() =&gt; {\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\n                resetForm();\n              }}\n              sx={{\n                textDecoration: &quot;underline&quot;,\n                color: palette.primary.main,\n                &quot;&amp;:hover&quot;: {\n                  cursor: &quot;pointer&quot;,\n                  color: palette.primary.light,\n                },\n              }}\n            &gt;\n              {isLogin\n                ? &quot;Don't have an account? Sign Up here.&quot;\n                : &quot;Already have an account? Login here.&quot;}\n            &lt;/Typography&gt;\n          &lt;/Box&gt;\n        &lt;/form&gt;\n      )}\n    &lt;/Formik&gt;\n  );\n};\n\nexport default Form;\n\n\n\n\n\n\n\nTHIS IS THE USER CONTROLLER IN SPRING BOOT\n\n\npackage com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\nimport org.apache.catalina.User;\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/users&quot;)\npublic class UsersController {\n\n    @Autowired\n    private UserService userService;\n\n\n    @Autowired\n    private UserRepository userRepository;\n\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\n    }\n\n             \n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{userId}/all&quot;)\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\n    }\n\n\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\n    }\n \n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\n      try {\n        // String firstName = user.getFullName();\n        // String lastName = user.getName();\n        // String email = ((Users) user).getEmail();\n        String password = user.getPassword();\n        // String picturePath = ((Users) user).getPicturePath();\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\n        String location = ((Users) user).getLocation();\n        String occupation = ((Users) user).getOccupation();\n  \n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\n  \n        Users newUser = new Users();\n  \n        Users savedUser = userRepository.save(newUser);\n  \n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n \n}\n\n\n\n\n\n\nTHIS IS THE USER SERVICE IN SPRING BOOT\n\n\n\n\n\n\n\npackage com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Update;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.PathVariable;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Autowired\n    private UserRepository userRepository;\n   \n    public List&lt;Users&gt; allPosts() {\n        return userRepository.findAll();\n    }\n\n    \n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\n        return userRepository.findById(id);\n    }\n    \n\n    \n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\n        return userRepository.findPostsByUserId(userId);\n    }\n\n\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\n\n        mongoTemplate.update(User.class)\n            .matching(Criteria.where(&quot;id&quot;).is(id))\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\n            // .apply(new Update().push(&quot;password&quot;).value(password))\n\n            .first();\n\n        return user;\n    }\n\n\n\n\n\n\n\n\n\n\n\nTHIS IS THE USER MODEL IN SPRING BOOT \n\n\npackage com.example.fwitterbackend;\n\nimport java.util.List;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport java.util.Collection;\nimport org.bson.types.ObjectId;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Document(collection=&quot;users&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Users {\n    \n    @Id\n    private ObjectId userId ; \n\n    private String firstName ; \n\n    private String lastName ; \n\n    private String email ; \n\n    private String password ; \n\n    private String picturePath; \n\n    // private List&lt;String&gt; friends ; \n    \n    private String location ; \n\n    private String occupation ; \n\n    // private String viwedProfile; //num\n\n    // private String impression ; // num\n\n    // private String createdAt; // time\n\n    // private String updatedAt ; //time\n\n}\n\n\n\n\n\n\n</code></pre>\n<p>type here</p>\n<pre><code></code></pre>\n<p>AT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403  &amp; NOW IT IS GIVING CORS ERRORS AND 415</p>\n<p>THINGS I HAVE TRIED</p>\n<ul>\n<li>ADDING NO CORS MODE IN HEADERS</li>\n</ul>\n<p>ERRORS THAT I AM RECIVING NOW FROM SPRING BOOT ARE</p>\n<p>[org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'multipart/form-data;boundary=----WebKitFormBoundary33lahsVSYAvdFFIZ;charset=UTF-8' is not supported]</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681757170,"creation_date":1681757170,"question_id":76038328,"body_markdown":"I have an Entity with `ManyToMany` relation\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\npublic class Entity implements Persistable&lt;String&gt; {\r\n\r\n    @Id\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;join_entity&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;name&quot;,foreignKey = @ForeignKey(name = &quot;link&quot;,foreignKeyDefinition = &quot; FOREIGN KEY (name) REFERENCES roles(name) on delete cascade&quot;)),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;s_name&quot;,foreignKey = @ForeignKey(name = &quot;priLink&quot;,foreignKeyDefinition = &quot; foreign key (s_name) REFERENCES entity_2(s_name) on delete cascade&quot;)))\r\n    private Set&lt;Entity2&gt; s_entity = new HashSet&lt;&gt;();\r\n\r\n// getters and setters\r\n}\r\n```\r\n\r\ni&#39;m using PostgresSQL 15.0, and have enabled `rewritebatchedinserts` property (note batch is enabled)\r\n\r\n```properties\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/myDb?reWriteBatchedInserts=true\r\n\r\n#JPA logs\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nlogging.level.org.hibernate.stat=DEBUG\r\nspring.jpa.properties.hibernate.generate_statistics=true\r\n```\r\n\r\nWhen I try to `saveAll` for saving a size of 2 `Entity` and each `Entity` containing 2 instance of `Entity2` I end up with 6 insert query (from the logs) and \r\n\r\nwhen I try inserting 1000 rows with and without `rewritebatchedinserts` option, there is hardly any difference in time with former taking 270ms and latter 274ms on average.\r\n\r\nbased on these articles I was expecting lot more\r\n\r\n[baeldung][1]&lt;br/&gt;\r\n[vladmihalcea][2]&lt;br/&gt;\r\n[dzone][3]&lt;br/&gt;\r\nhttps://stackoverflow.com/questions/50772230/how-to-do-bulk-multi-row-inserts-with-jparepository\r\n\r\nwhy is it behaving this way and how can I make it work(if it&#39;s not working)?\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jdbc-batch-inserts\r\n  [2]: https://vladmihalcea.com/postgresql-multi-row-insert-rewritebatchedinserts-property/\r\n  [3]: https://dzone.com/articles/spring-boot-boost-jpa-bulk-insert-performance-by-100x","title":"PostgreSql with rewritebatchedinserts Not working as expected","body":"<p>I have an Entity with <code>ManyToMany</code> relation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class Entity implements Persistable&lt;String&gt; {\n\n    @Id\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;join_entity&quot;,\n            joinColumns = @JoinColumn(name = &quot;name&quot;,foreignKey = @ForeignKey(name = &quot;link&quot;,foreignKeyDefinition = &quot; FOREIGN KEY (name) REFERENCES roles(name) on delete cascade&quot;)),\n            inverseJoinColumns = @JoinColumn(name = &quot;s_name&quot;,foreignKey = @ForeignKey(name = &quot;priLink&quot;,foreignKeyDefinition = &quot; foreign key (s_name) REFERENCES entity_2(s_name) on delete cascade&quot;)))\n    private Set&lt;Entity2&gt; s_entity = new HashSet&lt;&gt;();\n\n// getters and setters\n}\n</code></pre>\n<p>i'm using PostgresSQL 15.0, and have enabled <code>rewritebatchedinserts</code> property (note batch is enabled)</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/myDb?reWriteBatchedInserts=true\n\n#JPA logs\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.org.hibernate.stat=DEBUG\nspring.jpa.properties.hibernate.generate_statistics=true\n</code></pre>\n<p>When I try to <code>saveAll</code> for saving a size of 2 <code>Entity</code> and each <code>Entity</code> containing 2 instance of <code>Entity2</code> I end up with 6 insert query (from the logs) and</p>\n<p>when I try inserting 1000 rows with and without <code>rewritebatchedinserts</code> option, there is hardly any difference in time with former taking 270ms and latter 274ms on average.</p>\n<p>based on these articles I was expecting lot more</p>\n<p><a href=\"https://www.baeldung.com/spring-jdbc-batch-inserts\" rel=\"nofollow noreferrer\">baeldung</a><br/>\n<a href=\"https://vladmihalcea.com/postgresql-multi-row-insert-rewritebatchedinserts-property/\" rel=\"nofollow noreferrer\">vladmihalcea</a><br/>\n<a href=\"https://dzone.com/articles/spring-boot-boost-jpa-bulk-insert-performance-by-100x\" rel=\"nofollow noreferrer\">dzone</a><br/>\n<a href=\"https://stackoverflow.com/questions/50772230/how-to-do-bulk-multi-row-inserts-with-jparepository\">How to do bulk (multi row) inserts with JpaRepository?</a></p>\n<p>why is it behaving this way and how can I make it work(if it's not working)?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681756851,"creation_date":1681745360,"question_id":76036801,"body_markdown":"I&#39;m going to use a Global Store in my stream processing:\r\n\r\n             addGlobalStore(\r\n                Stores.keyValueStoreBuilder&lt;String, FiscalInfo&gt;(\r\n                    Stores.inMemoryKeyValueStore(storeNames.storeName),\r\n                    Serdes.String(),\r\n                    objectMapper.jsonSerde()\r\n                ).withLoggingDisabled(),\r\n                storeNames.sourceName,\r\n                StringDeserializer(),\r\n                objectMapper.jsonDeserializer&lt;FiscalInfo&gt;(),\r\n                topicSource,\r\n                storeNames.processorName,\r\n                ProcessorSupplier{ MyProcessor() } )\r\n\r\nI implemented MyProcessor to update the store.\r\nBut I noticed that the processor isn&#39;t used during restoring the store at the start time.\r\nI found that code in implementation InMemoryKevValueStore:\r\n\r\n        @Override\r\n        public void init(final ProcessorContext context,\r\n                         final StateStore root) {\r\n            if (root != null) {\r\n                // register the store\r\n                context.register(root, (key, value) -&gt; put(Bytes.wrap(key), value));\r\n            }\r\n    \r\n            open = true;\r\n        }\r\nThis code demonstrates that to restore state uses lambda: `(key, value) -&gt; put(Bytes.wrap(key), value)`. And there is almost the same logic in other implementations of Store.\r\nWhy is implemented in such way?\r\nI expected to have option to use connected to the store updater processor for restoring.","title":"Why Global Store in Kafka Streams don&#39;t use updater processor to restore at the start time?","body":"<p>I'm going to use a Global Store in my stream processing:</p>\n<pre><code>         addGlobalStore(\n            Stores.keyValueStoreBuilder&lt;String, FiscalInfo&gt;(\n                Stores.inMemoryKeyValueStore(storeNames.storeName),\n                Serdes.String(),\n                objectMapper.jsonSerde()\n            ).withLoggingDisabled(),\n            storeNames.sourceName,\n            StringDeserializer(),\n            objectMapper.jsonDeserializer&lt;FiscalInfo&gt;(),\n            topicSource,\n            storeNames.processorName,\n            ProcessorSupplier{ MyProcessor() } )\n</code></pre>\n<p>I implemented MyProcessor to update the store.\nBut I noticed that the processor isn't used during restoring the store at the start time.\nI found that code in implementation InMemoryKevValueStore:</p>\n<pre><code>    @Override\n    public void init(final ProcessorContext context,\n                     final StateStore root) {\n        if (root != null) {\n            // register the store\n            context.register(root, (key, value) -&gt; put(Bytes.wrap(key), value));\n        }\n\n        open = true;\n    }\n</code></pre>\n<p>This code demonstrates that to restore state uses lambda: <code>(key, value) -&gt; put(Bytes.wrap(key), value)</code>. And there is almost the same logic in other implementations of Store.\nWhy is implemented in such way?\nI expected to have option to use connected to the store updater processor for restoring.</p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1681425947,"post_id":76007926,"comment_id":134058781,"body_markdown":"Are you asking how to question the queue manager to see who is using a particular queue? If yes, you can send a PCF Inquire Queue Status command to the queue manager and it will answer to show whether a particular queue is in use at that time. If you want to see the sort of answer you get, it is equivalent to the MQSC command `DISPLAY QSTATUS TYPE(HANDLE) ALL`, which you could try first to see if it is what you need. Let me know if I have interpreted your request correctly and I can write a fuller answer.","body":"Are you asking how to question the queue manager to see who is using a particular queue? If yes, you can send a PCF Inquire Queue Status command to the queue manager and it will answer to show whether a particular queue is in use at that time. If you want to see the sort of answer you get, it is equivalent to the MQSC command <code>DISPLAY QSTATUS TYPE(HANDLE) ALL</code>, which you could try first to see if it is what you need. Let me know if I have interpreted your request correctly and I can write a fuller answer."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532296,"post_id":76007926,"comment_id":134075456,"body_markdown":"You could include a timestamp in your lock field and have the listener update it periodically, when your new listeners are looking for a queue with no listener they can include logic to test if the timestamp is older than the expected update frequency.","body":"You could include a timestamp in your lock field and have the listener update it periodically, when your new listeners are looking for a queue with no listener they can include logic to test if the timestamp is older than the expected update frequency."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532498,"post_id":76007926,"comment_id":134075466,"body_markdown":"If you only expect a single listener on each queue you could configure the queue as exclusive, only the first process to open it will be successful so the newer processes could cycle through the list until they find a queue they can open.","body":"If you only expect a single listener on each queue you could configure the queue as exclusive, only the first process to open it will be successful so the newer processes could cycle through the list until they find a queue they can open."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532518,"post_id":76007926,"comment_id":134075467,"body_markdown":"Is there a reason you cannot increase the thread limit?","body":"Is there a reason you cannot increase the thread limit?"},{"owner":{"account_id":28296777,"reputation":13,"user_id":21636113,"display_name":"Ray"},"score":0,"creation_date":1681829265,"post_id":76007926,"comment_id":134117899,"body_markdown":"@JoshMc - Thanks for the polling tip. We are working on an on prem infra, which has limited resource quota, but we can spin up more instances of the application. That&#39;s why I was looking in to this. Can you move the polling suggestion to an answer? I will accept that.","body":"@JoshMc - Thanks for the polling tip. We are working on an on prem infra, which has limited resource quota, but we can spin up more instances of the application. That&#39;s why I was looking in to this. Can you move the polling suggestion to an answer? I will accept that."}],"answers":[{"comments":[{"owner":{"account_id":28296777,"reputation":13,"user_id":21636113,"display_name":"Ray"},"score":0,"creation_date":1681829651,"post_id":76038125,"comment_id":134118025,"body_markdown":"Thanks for the suggestion. But my problem still exist with this solution, I have no means to achieve the multiple instances problem. Based on my research so far I get that the solution needs to be logical rather than based out on the jms. Thanks for the tip with async listeners, I will update my code accordingly.","body":"Thanks for the suggestion. But my problem still exist with this solution, I have no means to achieve the multiple instances problem. Based on my research so far I get that the solution needs to be logical rather than based out on the jms. Thanks for the tip with async listeners, I will update my code accordingly."},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1681920394,"post_id":76038125,"comment_id":134135864,"body_markdown":"@Reshmi proposed code will open as many listeners as listen method is invoked. There will be no &quot;stalled&quot; listeners. In this sense this code does not suffer from limitation stated in your question.","body":"@Reshmi proposed code will open as many listeners as listen method is invoked. There will be no &quot;stalled&quot; listeners. In this sense this code does not suffer from limitation stated in your question."}],"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681756168,"creation_date":1681755528,"answer_id":76038125,"question_id":76007926,"body_markdown":"Yes, it is possible to know if object (a queue) in MQ is allready opened, and if listener is attach to it.\r\n\r\nHowever given that you work with Spring, and your stated goal is to dynamically attach listener to q, you should work on that. And leave IBM MQ alone.\r\n\r\nInstead using SimpleJmsListenerEndpoint you should look at JmsMessageListenerContainer which is underlying abstraction. In this example I am using DefaultMessageListenerContainer subclass to attach MessageListener to each q. Each DMLC Container is endless loop using configurable number of threads to poll a message. \r\n\r\nIn this example class, we will use a Spring bean which will spun as much DMLC containers as needed. Majority of configuration options should be injected in class as normal Spring IOC. I am using one thread per container - set by concurrency parameter. Maximum number of working containers is limited only by configuration/implementation of taskExector.\r\n\r\n    /** \r\n     * Simple service to attach DefaultMessageListenerContainer to a destination at runtime.\r\n     * Init this class as Spring Bean and use &#39;listen&#39; method.\r\n     */\r\n    class DynamicListeningWithSpring implements DisposableBean {\r\n    \r\n      @Setter ConnectionFactory connectionFactory;\r\n      @Setter Executor taskExecutor\r\n      @Setter PlatformTransactionManager transactionManager;\r\n      @Setter String concurrency = &quot;1&quot;;\r\n\r\n      final ArrayList&lt;DefaultMessageListenerContainer&gt; cointainers = new ArrayList&lt;&gt;();\r\n\r\n      /** attach listener to destination and start receiving messages */\r\n      void listen(String destination, MessageListener listener) {\r\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\t\r\n\t    dmlc.setConnectionFactory(connectionFactory);\r\n\t    dmlc.setSessionTransacted(true);\r\n        dmlc.setTransactionManager(transactionManager);\r\n        dmlc.setTaskExecutor(taskExecutor);\r\n        dmlc.setConcurrency(concurrency);        \r\n\t\r\n\t    dmlc.setDestination(destination);\r\n\t    dmlc.setMessageListener(listener);\r\n\t\r\n\t    // init and start receiving\r\n\t    containers.add(dmlc);\r\n\t    dmlc.afterPropertiesSet(); \r\n\t    dmlc.start();              \r\n      }\r\n\r\n      void destroy() {\r\n        for(DefaultMessageListenerContainer dmlc: cointainers) {\r\n          dmlc.stop();\t\t\r\n          dmlc.destroy();\r\n\t    }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    // inject instance of DynamicListeningWithSpring  in your code\r\n    class UsageExample {\r\n       @Setter DynamicListeningWithSpring dlws;\r\n\r\n       void use() {\r\n         String destination = &quot;X&quot;\r\n         dlws.listen(destination, (Message msg) -&gt; {..});\r\n       }\r\n    }\r\n    \r\n\r\n\r\nIt is possible to achieve same behavior using JMS directly by using feature called &quot;Asynchronously listener&quot;. That will end up even little bit more performant, as it is more efficient code path than Spring solution, which is doing message polling.\r\n\r\n\r\n\r\n","title":"Is there any way to know if an IBM MQ already has any JMS Listeners attached to it?","body":"<p>Yes, it is possible to know if object (a queue) in MQ is allready opened, and if listener is attach to it.</p>\n<p>However given that you work with Spring, and your stated goal is to dynamically attach listener to q, you should work on that. And leave IBM MQ alone.</p>\n<p>Instead using SimpleJmsListenerEndpoint you should look at JmsMessageListenerContainer which is underlying abstraction. In this example I am using DefaultMessageListenerContainer subclass to attach MessageListener to each q. Each DMLC Container is endless loop using configurable number of threads to poll a message.</p>\n<p>In this example class, we will use a Spring bean which will spun as much DMLC containers as needed. Majority of configuration options should be injected in class as normal Spring IOC. I am using one thread per container - set by concurrency parameter. Maximum number of working containers is limited only by configuration/implementation of taskExector.</p>\n<pre><code>/** \n * Simple service to attach DefaultMessageListenerContainer to a destination at runtime.\n * Init this class as Spring Bean and use 'listen' method.\n */\nclass DynamicListeningWithSpring implements DisposableBean {\n\n  @Setter ConnectionFactory connectionFactory;\n  @Setter Executor taskExecutor\n  @Setter PlatformTransactionManager transactionManager;\n  @Setter String concurrency = &quot;1&quot;;\n\n  final ArrayList&lt;DefaultMessageListenerContainer&gt; cointainers = new ArrayList&lt;&gt;();\n\n  /** attach listener to destination and start receiving messages */\n  void listen(String destination, MessageListener listener) {\n    DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();   \n    dmlc.setConnectionFactory(connectionFactory);\n    dmlc.setSessionTransacted(true);\n    dmlc.setTransactionManager(transactionManager);\n    dmlc.setTaskExecutor(taskExecutor);\n    dmlc.setConcurrency(concurrency);        \n\n    dmlc.setDestination(destination);\n    dmlc.setMessageListener(listener);\n\n    // init and start receiving\n    containers.add(dmlc);\n    dmlc.afterPropertiesSet(); \n    dmlc.start();              \n  }\n\n  void destroy() {\n    for(DefaultMessageListenerContainer dmlc: cointainers) {\n      dmlc.stop();      \n      dmlc.destroy();\n    }\n  }\n}\n\n\n\n// inject instance of DynamicListeningWithSpring  in your code\nclass UsageExample {\n   @Setter DynamicListeningWithSpring dlws;\n\n   void use() {\n     String destination = &quot;X&quot;\n     dlws.listen(destination, (Message msg) -&gt; {..});\n   }\n}\n</code></pre>\n<p>It is possible to achieve same behavior using JMS directly by using feature called &quot;Asynchronously listener&quot;. That will end up even little bit more performant, as it is more efficient code path than Spring solution, which is doing message polling.</p>\n"}],"owner":{"account_id":28296777,"reputation":13,"user_id":21636113,"display_name":"Ray"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681756168,"creation_date":1681404269,"question_id":76007926,"body_markdown":"I am working on an application which gets a list of queue details from a DB and spins up Spring `SimpleJmsListenerEndpoint` objects for them. \r\n\r\n```java\r\nfor (final String queueName : queueList) {\r\n\tSimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\r\n\tendpoint.setId( &quot;demo-&quot; + i++ );\r\n\tendpoint.setDestination( queueName );\r\n\tendpoint.setConcurrency( jmsMessageConcurrency );\r\n\r\n\tendpoint.setMessageListener( message -&gt; {\r\n\t\tqueueController.recv( queueName, message );\r\n\t} );\r\n\tregistrar.registerEndpoint( endpoint );\r\n}\r\n```\r\n\r\nI am facing a problem where my container has only 5 threads active and the `queueList` has say 10 queues. Now only my 5 queues are getting listeners while the other 5 are sitting without listeners. Any ideas to resolve this?\r\n\r\nI was thinking of spinning additional instance of the same code to address this, then the question is how do I know if a queue already has a listener. Is there any way to know that?\r\n\r\nAny help is appreciated.\r\n\r\nI tried to introduce a manual mechanism based on DB. I introduced a field in table that gets marked(lock) when ever a queue has listener attached, and the service will pick up queues that doesn&#39;t have a lock on them. The problem with that was the lock has to be released when the application stops, which is not always successful.","title":"Is there any way to know if an IBM MQ already has any JMS Listeners attached to it?","body":"<p>I am working on an application which gets a list of queue details from a DB and spins up Spring <code>SimpleJmsListenerEndpoint</code> objects for them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (final String queueName : queueList) {\n    SimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\n    endpoint.setId( &quot;demo-&quot; + i++ );\n    endpoint.setDestination( queueName );\n    endpoint.setConcurrency( jmsMessageConcurrency );\n\n    endpoint.setMessageListener( message -&gt; {\n        queueController.recv( queueName, message );\n    } );\n    registrar.registerEndpoint( endpoint );\n}\n</code></pre>\n<p>I am facing a problem where my container has only 5 threads active and the <code>queueList</code> has say 10 queues. Now only my 5 queues are getting listeners while the other 5 are sitting without listeners. Any ideas to resolve this?</p>\n<p>I was thinking of spinning additional instance of the same code to address this, then the question is how do I know if a queue already has a listener. Is there any way to know that?</p>\n<p>Any help is appreciated.</p>\n<p>I tried to introduce a manual mechanism based on DB. I introduced a field in table that gets marked(lock) when ever a queue has listener attached, and the service will pick up queues that doesn't have a lock on them. The problem with that was the lock has to be released when the application stops, which is not always successful.</p>\n"},{"tags":["java","jvm","bytecode","java-bytecode-asm","jasmin"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1681665612,"post_id":76029251,"comment_id":134089617,"body_markdown":"it is `iload_1` with underscore","body":"it is <code>iload_1</code> with underscore"},{"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"score":0,"creation_date":1681666132,"post_id":76029251,"comment_id":134089702,"body_markdown":"but if it was 4 we would have to use without the &#39;_&#39;. For example iload 10","body":"but if it was 4 we would have to use without the &#39;_&#39;. For example iload 10"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1681666200,"post_id":76029251,"comment_id":134089718,"body_markdown":"yes, 0-3 are shortcut commands, number is part of the name, not index argument","body":"yes, 0-3 are shortcut commands, number is part of the name, not index argument"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681736796,"post_id":76029251,"comment_id":134100106,"body_markdown":"Of course, when you tried “iloud”, it didn’t work as the instruction is named “iload”. Any other issue with the syntax might be related to Jasmin, as there is no standard assembly syntax for Java. [The specification](https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-6.html) provides names for the instructions, but without the intend to define a binding assembly language definition. So tools like Jasmin are likely to use the same names for the instructions as other tools, but use of space characters or separators may differ.","body":"Of course, when you tried “iloud”, it didn’t work as the instruction is named “iload”. Any other issue with the syntax might be related to Jasmin, as there is no standard assembly syntax for Java. <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-6.html\" rel=\"nofollow noreferrer\">The specification</a> provides names for the instructions, but without the intend to define a binding assembly language definition. So tools like Jasmin are likely to use the same names for the instructions as other tools, but use of space characters or separators may differ."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1681736861,"post_id":76030448,"comment_id":134100126,"body_markdown":"For completion: there’s also `wide iload n` where `n` can be up to 65535.","body":"For completion: there’s also <code>wide iload n</code> where <code>n</code> can be up to 65535."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681680942,"creation_date":1681680942,"answer_id":76030448,"question_id":76029251,"body_markdown":"The Java byte code contains a generic `iload` instruction that takes a value from 0 to 255 as argument (and therefore the encoding is 2 bytes).\r\n\r\nFor compacter byte code it contains 4 special instructions `iload_0` to `iload_3` that have a fixed argument (0 to 3) and are encoded in only one byte.\r\n\r\nSimilar patterns exist for several other byte code instructions.\r\n\r\nThe `iload` instructions are described in the JVM specification (https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload). On that page you will also find descriptions for all the other byte code instructions.","title":"Difference between iload with &#39;_&#39; and without","body":"<p>The Java byte code contains a generic <code>iload</code> instruction that takes a value from 0 to 255 as argument (and therefore the encoding is 2 bytes).</p>\n<p>For compacter byte code it contains 4 special instructions <code>iload_0</code> to <code>iload_3</code> that have a fixed argument (0 to 3) and are encoded in only one byte.</p>\n<p>Similar patterns exist for several other byte code instructions.</p>\n<p>The <code>iload</code> instructions are described in the JVM specification (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload</a>). On that page you will also find descriptions for all the other byte code instructions.</p>\n"}],"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681755610,"creation_date":1681665349,"question_id":76029251,"body_markdown":"I hava a question about the iload instruction of jasmin.\r\nIs it correct to do iload 1 or it has to be iload_1? \r\nOr when is a number between 1 and 3 we have to use the &#39;_&#39; and the others we have to not use the &#39;_&#39;?\r\n\r\nI m generating jasmin code.\r\nFirst i tried every iload intruction with &#39;_&#39;, but it didn&#39;t work. Then I tried every instruction without &#39;_&#39;, and it also didn&#39;t work. ","title":"Difference between iload with &#39;_&#39; and without","body":"<p>I hava a question about the iload instruction of jasmin.\nIs it correct to do iload 1 or it has to be iload_1?\nOr when is a number between 1 and 3 we have to use the '<em>' and the others we have to not use the '</em>'?</p>\n<p>I m generating jasmin code.\nFirst i tried every iload intruction with '<em>', but it didn't work. Then I tried every instruction without '</em>', and it also didn't work.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1681753639,"post_id":76037737,"comment_id":134104629,"body_markdown":"Hi there. What are you trying to achieve calling add? The sum of &#39;a&#39; and &#39;b&#39;?","body":"Hi there. What are you trying to achieve calling add? The sum of &#39;a&#39; and &#39;b&#39;?"},{"owner":{"account_id":25510115,"reputation":1,"user_id":19301940,"display_name":"hello92304238478203984"},"score":0,"creation_date":1681754015,"post_id":76037737,"comment_id":134104716,"body_markdown":"it&#39;s just an example but my goal is to avoid doing `FooBuilder.builder().a(5).b(3).build()` or new FooBuilder(..)","body":"it&#39;s just an example but my goal is to avoid doing <code>FooBuilder.builder().a(5).b(3).build()</code> or new FooBuilder(..)"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681754577,"post_id":76037737,"comment_id":134104827,"body_markdown":"If you want to use a function -- e.g. a `Consumer` -- that operates on `FooBuilder`s, then you have to have a `FooBuilder` instance for it to operate *on*.","body":"If you want to use a function -- e.g. a <code>Consumer</code> -- that operates on <code>FooBuilder</code>s, then you have to have a <code>FooBuilder</code> instance for it to operate <i>on</i>."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681754848,"creation_date":1681754169,"answer_id":76037976,"question_id":76037737,"body_markdown":"&gt; I&#39;m using Lombok currently\r\n\r\nYou don&#39;t say what part of Lombok you are using, but from context, I&#39;m guessing you mean its `@Getter` and `@Setter` annotations for automatically generating attribute getter and setter methods.\r\n\r\nIn that case, however, this ...\r\n\r\n&gt; [I] was wondering if is it possible to do something like the below using Java 8?\r\n\r\n... is a non-sequitur.  It either relies on attribute accessors to have been created (whether via annotation processing or ordinary coding or some other mechanism), or it relies on direct access to the fields.  Either way, it does not itself provide accessors to class `FooBuilder`&#39;s fields.\r\n\r\n&gt; I tried using a Consumer, but can&#39;t get the values.\r\n\r\nA `Consumer` is a function that accepts one argument and returns nothing.  Given some means of write access, a `Consumer` could assign values to an object&#39;s fields, which you could then read back from that object.  For example, if your classes `FooBuilder` and `Bar` are in the same package, then the default-access of `FooBuilder`&#39;s fields would allow `Bar` instances to access them directly.  In that case, you might use a lambda this way:\r\n```\r\nclass Bar {\r\n    public void doSomething () {\r\n        var result = add(p -&gt; {\r\n            p.a = Optional.of(5);\r\n            p.b = Optional.of(3);\r\n        });\r\n    }\r\n\r\n    public int add(Consumer&lt;FooBuilder&gt; setValues) {\r\n        // Create a suitable argument for the function\r\n        FooBuilder operandBuilder = new FooBuilder();\r\n\r\n        // Apply the function to it\r\n        setValues.apply(operandBuilder);\r\n\r\n        // Read out the values set by the function\r\n        return operandBuilder.a.get() + operandBuilder.b.get();\r\n    }\r\n}\r\n```\r\nI don&#39;t see much value in doing this job that way, but perhaps there are scenarios where something similar would make more sense.\r\n\r\nAnd any way around, you have to get the `FooBuilder` instance to operate on from somewhere.  Objects don&#39;t materialize out of thin air.","title":"builder pattern with java 8 lambda","body":"<blockquote>\n<p>I'm using Lombok currently</p>\n</blockquote>\n<p>You don't say what part of Lombok you are using, but from context, I'm guessing you mean its <code>@Getter</code> and <code>@Setter</code> annotations for automatically generating attribute getter and setter methods.</p>\n<p>In that case, however, this ...</p>\n<blockquote>\n<p>[I] was wondering if is it possible to do something like the below using Java 8?</p>\n</blockquote>\n<p>... is a non-sequitur.  It either relies on attribute accessors to have been created (whether via annotation processing or ordinary coding or some other mechanism), or it relies on direct access to the fields.  Either way, it does not itself provide accessors to class <code>FooBuilder</code>'s fields.</p>\n<blockquote>\n<p>I tried using a Consumer, but can't get the values.</p>\n</blockquote>\n<p>A <code>Consumer</code> is a function that accepts one argument and returns nothing.  Given some means of write access, a <code>Consumer</code> could assign values to an object's fields, which you could then read back from that object.  For example, if your classes <code>FooBuilder</code> and <code>Bar</code> are in the same package, then the default-access of <code>FooBuilder</code>'s fields would allow <code>Bar</code> instances to access them directly.  In that case, you might use a lambda this way:</p>\n<pre><code>class Bar {\n    public void doSomething () {\n        var result = add(p -&gt; {\n            p.a = Optional.of(5);\n            p.b = Optional.of(3);\n        });\n    }\n\n    public int add(Consumer&lt;FooBuilder&gt; setValues) {\n        // Create a suitable argument for the function\n        FooBuilder operandBuilder = new FooBuilder();\n\n        // Apply the function to it\n        setValues.apply(operandBuilder);\n\n        // Read out the values set by the function\n        return operandBuilder.a.get() + operandBuilder.b.get();\n    }\n}\n</code></pre>\n<p>I don't see much value in doing this job that way, but perhaps there are scenarios where something similar would make more sense.</p>\n<p>And any way around, you have to get the <code>FooBuilder</code> instance to operate on from somewhere.  Objects don't materialize out of thin air.</p>\n"},{"tags":[],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681755334,"creation_date":1681754928,"answer_id":76038053,"question_id":76037737,"body_markdown":"If you are trying to avoid the boilerplate added by Lombok while using Lambdas I think you should implement your own builder method. Something like this (sorry no compiler here to se if it is 100% correct):\r\n\r\n    class Foo {\r\n        Integer a;\r\n        Integer b;\r\n\r\n        //no one else will be able to instantiate a Foo\r\n        private Foo() {}\r\n    \r\n        //getters and setters\r\n    \r\n        public static Foo build(Consumer&lt;Foo&gt; fooBuilder) {\r\n            var foo = new Foo();\r\n            fooBuilder.accept(foo);\r\n            \r\n            return foo;\r\n        }\r\n     \r\n    }\r\n\r\nNow you can use something like:\r\n\r\n    Foo myFoo = Foo.build(f -&gt; { \r\n        f.setA(5); \r\n        f.setB(3); \r\n    });\r\n\r\nYou can also implement fluent setters (idk if Lombok have this feature) if you want to use the one-liner lambda.\r\n\r\nI don&#39;t know if it still can be considered the Builder pattern. \r\n\r\n","title":"builder pattern with java 8 lambda","body":"<p>If you are trying to avoid the boilerplate added by Lombok while using Lambdas I think you should implement your own builder method. Something like this (sorry no compiler here to se if it is 100% correct):</p>\n<pre><code>class Foo {\n    Integer a;\n    Integer b;\n\n    //no one else will be able to instantiate a Foo\n    private Foo() {}\n\n    //getters and setters\n\n    public static Foo build(Consumer&lt;Foo&gt; fooBuilder) {\n        var foo = new Foo();\n        fooBuilder.accept(foo);\n        \n        return foo;\n    }\n \n}\n</code></pre>\n<p>Now you can use something like:</p>\n<pre><code>Foo myFoo = Foo.build(f -&gt; { \n    f.setA(5); \n    f.setB(3); \n});\n</code></pre>\n<p>You can also implement fluent setters (idk if Lombok have this feature) if you want to use the one-liner lambda.</p>\n<p>I don't know if it still can be considered the Builder pattern.</p>\n"}],"owner":{"account_id":25510115,"reputation":1,"user_id":19301940,"display_name":"hello92304238478203984"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681755334,"creation_date":1681752330,"question_id":76037737,"body_markdown":"I&#39;m using Lombok currently, but was wondering if is it possible to do something like the below using Java 8?\r\n```\r\nclass FooBuilder {\r\n    Optional&lt;Integer&gt; a;\r\n    Optional&lt;Integer&gt; b; \r\n}\r\n\r\nClass Bar {\r\n    public void doSomething (){\r\n        var result = add(p -&gt; p.a(5)\r\n                        .b(3));\r\n    }\r\n\r\n    public int add(Consumer&lt;FooBuilder&gt; func){\r\n        // how to extract values from func?\r\n    }\r\n}\r\n```\r\nI tried using a Consumer, but can&#39;t get the values.","title":"builder pattern with java 8 lambda","body":"<p>I'm using Lombok currently, but was wondering if is it possible to do something like the below using Java 8?</p>\n<pre><code>class FooBuilder {\n    Optional&lt;Integer&gt; a;\n    Optional&lt;Integer&gt; b; \n}\n\nClass Bar {\n    public void doSomething (){\n        var result = add(p -&gt; p.a(5)\n                        .b(3));\n    }\n\n    public int add(Consumer&lt;FooBuilder&gt; func){\n        // how to extract values from func?\n    }\n}\n</code></pre>\n<p>I tried using a Consumer, but can't get the values.</p>\n"},{"tags":["java","compression","gzipoutputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681746533,"post_id":76036715,"comment_id":134102924,"body_markdown":"*BUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==* That&#39;s base64-encoded output. And you can&#39;t make a string out of binary (gzip) data like you&#39;re trying to do","body":"<i>BUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==</i> That&#39;s base64-encoded output. And you can&#39;t make a string out of binary (gzip) data like you&#39;re trying to do"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681747556,"post_id":76036715,"comment_id":134103185,"body_markdown":"You should use something like `return Base64.getEncoder().encodeToString(byteArrayOutputStream.toByteArray());` You should get H4sIAAAAAAAA/wtJLS5RCC4pysxLBwCkn3eSCwAAAA==","body":"You should use something like <code>return Base64.getEncoder().encodeToString(byteArrayOutputStream.toB&zwnj;&#8203;yteArray());</code> You should get H4sIAAAAAAAA/wtJLS5RCC4pysxLBwCkn3eSCwAAAA=="}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681754832,"creation_date":1681752771,"answer_id":76037794,"question_id":76036715,"body_markdown":"You are confusing both binary with Base-64, and gzip with zlib.\r\n\r\nFirst, compressed data makes use of all possible byte values, so it won&#39;t be printable. You also can&#39;t convert it to a string using `String` without losing information. Many channels can&#39;t handle all possible byte values, so in those cases, the compressed data is then _expanded_ some to encode it to use only printable characters. The most common is [Base64 encoding][1], which is the example you are showing.\r\n\r\nSecond, that particular example, `eJwLSS0uUQguKcrMSwcAGKAEOA==`, is a Base64 encoding of a _zlib_ stream, not a gzip stream. If you need a gzip stream, you generated that using the wrong tool. A Base64 gzip stream is immediately recognizable, as it will start with `H4sI`. For your test string, gzip compressed and Base64 encoded, you should get something like:\r\n```\r\nH4sIAJGKPWQAAwtJLS5RCC4pysxLBwCkn3eSCwAAAA==\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html","title":"Why my compressed output using GZIPOutputStream is not matching when we decompressed the same string using any online compression tools","body":"<p>You are confusing both binary with Base-64, and gzip with zlib.</p>\n<p>First, compressed data makes use of all possible byte values, so it won't be printable. You also can't convert it to a string using <code>String</code> without losing information. Many channels can't handle all possible byte values, so in those cases, the compressed data is then <em>expanded</em> some to encode it to use only printable characters. The most common is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html\" rel=\"nofollow noreferrer\">Base64 encoding</a>, which is the example you are showing.</p>\n<p>Second, that particular example, <code>eJwLSS0uUQguKcrMSwcAGKAEOA==</code>, is a Base64 encoding of a <em>zlib</em> stream, not a gzip stream. If you need a gzip stream, you generated that using the wrong tool. A Base64 gzip stream is immediately recognizable, as it will start with <code>H4sI</code>. For your test string, gzip compressed and Base64 encoded, you should get something like:</p>\n<pre><code>H4sIAJGKPWQAAwtJLS5RCC4pysxLBwCkn3eSCwAAAA==\n</code></pre>\n"}],"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76037794,"answer_count":1,"score":1,"last_activity_date":1681754832,"creation_date":1681744772,"question_id":76036715,"body_markdown":"I am using below code to compress my test string into gzip format\r\n\r\n&#39;private static final String TEST_STRING = &quot;Test String&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        System.out.println(&quot;Original data: &quot; + TEST_STRING);\r\n        String compressedString = compress(TEST_STRING);\r\n        System.out.println(&quot;Compressed data: &quot; + compressedString);\r\n    }\r\n\r\n\r\n    private static String compress(String str){\r\n        byte[] byteArray = str.getBytes();\r\n        final ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        try (GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\r\n            gzipOutputStream.write(byteArray);\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Exception occurred during compressing&quot; + e);\r\n        }\r\n\r\n         return new String(byteArrayOutputStream.toByteArray());\r\n    }&#39;\r\nOutput I am getting is Compressed data: \u001F      �\u000BI-..)��K\u0007 ��w�\u000B      \r\nBUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==\r\n\r\nI am not sure why this difference is coming?","title":"Why my compressed output using GZIPOutputStream is not matching when we decompressed the same string using any online compression tools","body":"<p>I am using below code to compress my test string into gzip format</p>\n<p>'private static final String TEST_STRING = &quot;Test String&quot;;</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    System.out.println(&quot;Original data: &quot; + TEST_STRING);\n    String compressedString = compress(TEST_STRING);\n    System.out.println(&quot;Compressed data: &quot; + compressedString);\n}\n\n\nprivate static String compress(String str){\n    byte[] byteArray = str.getBytes();\n    final ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    try (GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\n        gzipOutputStream.write(byteArray);\n\n    } catch (IOException e) {\n        System.out.println(&quot;Exception occurred during compressing&quot; + e);\n    }\n\n     return new String(byteArrayOutputStream.toByteArray());\n}'\n</code></pre>\n<p>Output I am getting is Compressed data:       �\u000BI-..)��K ��w�\u000B<br />\nBUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==</p>\n<p>I am not sure why this difference is coming?</p>\n"},{"tags":["java","android","android-activity","menu","android-relativelayout"],"answers":[{"comments":[{"owner":{"account_id":25401634,"reputation":1,"user_id":19211010,"display_name":"faith milly"},"score":0,"creation_date":1683584298,"post_id":76001614,"comment_id":134386348,"body_markdown":"Thank you,  I managed to fix as per your responses","body":"Thank you,  I managed to fix as per your responses"}],"tags":[],"owner":{"account_id":13261907,"reputation":11,"user_id":9576202,"display_name":"Vishal Sheoran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681754745,"creation_date":1681360020,"answer_id":76001614,"question_id":76001022,"body_markdown":"You have created **dashboard_menu** file and you are inflating **R.menu.menu**. Also If you are showing menu icons in Toolbar, then you need to define a Toolbar in the Activity&#39;s UI to show these menu items else it doesn&#39;t matter what you inflate it won&#39;t be visible on screen.\r\n\r\nSo just define a Toolbar in Activity&#39;s UI. ","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>You have created <strong>dashboard_menu</strong> file and you are inflating <strong>R.menu.menu</strong>. Also If you are showing menu icons in Toolbar, then you need to define a Toolbar in the Activity's UI to show these menu items else it doesn't matter what you inflate it won't be visible on screen.</p>\n<p>So just define a Toolbar in Activity's UI.</p>\n"},{"tags":[],"owner":{"account_id":3142161,"reputation":125,"user_id":2657425,"display_name":"Samsad CV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681362451,"creation_date":1681362451,"answer_id":76001803,"question_id":76001022,"body_markdown":"Try the below code Changed menu -&gt; dashboard_menu\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n       MenuInflater inflater = getMenuInflater();\r\n       inflater.inflate(R.menu. dashboard_menu, menu);\r\n       return true;\r\n    }\r\n\r\nAlso check activity Theme, make sure to set Toolbar using\r\n\r\n     setSupportActionBar(toolbar);","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>Try the below code Changed menu -&gt; dashboard_menu</p>\n<pre><code>public boolean onCreateOptionsMenu(Menu menu) {\n   MenuInflater inflater = getMenuInflater();\n   inflater.inflate(R.menu. dashboard_menu, menu);\n   return true;\n}\n</code></pre>\n<p>Also check activity Theme, make sure to set Toolbar using</p>\n<pre><code> setSupportActionBar(toolbar);\n</code></pre>\n"}],"owner":{"account_id":25401634,"reputation":1,"user_id":19211010,"display_name":"faith milly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681754745,"creation_date":1681350344,"question_id":76001022,"body_markdown":"I have created menu on Res, Directory Res, then menu, inside menu I created dashboard_menu. When I run the menu its not visible. Here is the code on Java. \r\nI tried to change my mini sdk from 23 to 21 as I thought it might be the problem however it didn&#39;t change. I want to see the menu on my activity.\r\n````@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n       inflater.inflate(R.menu.menu, menu);\r\n        return true;````\r\n","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>I have created menu on Res, Directory Res, then menu, inside menu I created dashboard_menu. When I run the menu its not visible. Here is the code on Java.\nI tried to change my mini sdk from 23 to 21 as I thought it might be the problem however it didn't change. I want to see the menu on my activity.</p>\n<pre><code>    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n       inflater.inflate(R.menu.menu, menu);\n        return true;````\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1682017712,"post_id":76038016,"comment_id":134153846,"body_markdown":"`UsernamePasswordAuthenticationFilter` is only applied for URL `/login` not for `/api/v1/user/login`.","body":"<code>UsernamePasswordAuthenticationFilter</code> is only applied for URL <code>&#47;login</code> not for <code>&#47;api&#47;v1&#47;user&#47;login</code>."}],"owner":{"account_id":22043891,"reputation":11,"user_id":16309245,"display_name":"lakhr034"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681754573,"creation_date":1681754573,"question_id":76038016,"body_markdown":"```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final UserService userService;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/user/login&quot;, &quot;/api/v1/user/register&quot;)\r\n                .permitAll()\r\n                .anyRequest().authenticated());\r\n        http.cors();\r\n\r\n        CustomFilter customFilter = new CustomFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)));\r\n        customFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\r\n                new RequestAttributeSecurityContextRepository(),\r\n                new HttpSessionSecurityContextRepository()\r\n        ));\r\n        http.addFilterAt(customFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userService);\r\n        authProvider.setPasswordEncoder(passwordEncoder);\r\n        return new ProviderManager(authProvider);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class CustomFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        log.info(&quot;in filter&quot;);\r\n        log.info(&quot;username is {} password is&quot;, request.getParameter(&quot;username&quot;), request.getParameter(&quot;password&quot;));\r\n        return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;test123&quot;));\r\n    }\r\n}\r\n```\r\n\r\nKeep getting access denied on /api/v1/user/login request however for /api/v1/user/register seems to work.\r\n\r\n```\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\r\n2023-04-16T20:21:09.844+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/user/login\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-04-16T20:21:09.845+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AB69A2797C628E2B4090EB5B9DAEB1D0\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996]\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1339/0x0000000801355380@45bc80c6\r\n2023-04-16T20:21:09.846+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/user/login\r\n2023-04-16T20:21:09.848+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\r\n2023-04-16T20:21:09.849+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@59fb0a7f\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-04-16T20:21:09.851+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried debugging but it doesn&#39;t even seem to hit my custom filter but in the logs it is show that it is. Also attached the logs. I just can&#39;t seem to figure out why it would give an access denied even though i&#39;ve permitted the url for all and seeing as one I&#39;m a bit confused. \r\n","title":"Spring Security access denied on custom security","body":"<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserService userService;\n    private final PasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/user/login&quot;, &quot;/api/v1/user/register&quot;)\n                .permitAll()\n                .anyRequest().authenticated());\n        http.cors();\n\n        CustomFilter customFilter = new CustomFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)));\n        customFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\n                new RequestAttributeSecurityContextRepository(),\n                new HttpSessionSecurityContextRepository()\n        ));\n        http.addFilterAt(customFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userService);\n        authProvider.setPasswordEncoder(passwordEncoder);\n        return new ProviderManager(authProvider);\n    }\n}\n</code></pre>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class CustomFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        log.info(&quot;in filter&quot;);\n        log.info(&quot;username is {} password is&quot;, request.getParameter(&quot;username&quot;), request.getParameter(&quot;password&quot;));\n        return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;test123&quot;));\n    }\n}\n</code></pre>\n<p>Keep getting access denied on /api/v1/user/login request however for /api/v1/user/register seems to work.</p>\n<pre><code>2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\n2023-04-16T20:21:09.844+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/user/login\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-04-16T20:21:09.845+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AB69A2797C628E2B4090EB5B9DAEB1D0\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996]\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1339/0x0000000801355380@45bc80c6\n2023-04-16T20:21:09.846+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/user/login\n2023-04-16T20:21:09.848+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\n2023-04-16T20:21:09.849+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@59fb0a7f\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-04-16T20:21:09.851+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<p>I've tried debugging but it doesn't even seem to hit my custom filter but in the logs it is show that it is. Also attached the logs. I just can't seem to figure out why it would give an access denied even though i've permitted the url for all and seeing as one I'm a bit confused.</p>\n"},{"tags":["java","html","controller","spring-tool-suite"],"owner":{"account_id":27454567,"reputation":3,"user_id":20946250,"display_name":"Mauricio Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681754262,"creation_date":1681754262,"question_id":76037984,"body_markdown":"I have a java class named: SeparateRCC.  And now i want to execute it from a button in a web application.\r\n\r\nI created a controller class, and my html page (which holds the css and script parts). But when i run the project, and i click the button it gives me a 404 error: POST http://localhost:8080/separate-rcc-ajax 404\r\n\r\nHere are my codes:\r\n\r\nIndex.html:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;My Page&lt;/title&gt;\r\n  &lt;style&gt;\r\n    //gonna spare you the style\r\n  &lt;/style&gt;\r\n  &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n  &lt;script&gt;\r\n$(document).ready(function() {\r\n  $(&#39;#button1&#39;).click(function() {\r\n    $.ajax({\r\n      type: &#39;POST&#39;,\r\n      url: &#39;/separate-rcc-ajax&#39;,\r\n      success: function(response) {\r\n        console.log(response);\r\n      },\r\n      error: function(xhr, status, error) {\r\n        console.log(xhr.responseText);\r\n      }\r\n    });\r\n    //alert(&quot;Hi&quot;);\r\n  });\r\n\r\n  $(&#39;#button2&#39;).click(function() {\r\n    // Another class would go here after everything works on the first button.\r\n  });\r\n});\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div class=&quot;header&quot;&gt;\r\n    &lt;h1&gt;Carga de archivo RCC al AS400&lt;/h1&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&quot;container&quot;&gt;\r\n    &lt;div class=&quot;buttons&quot;&gt;\r\n      &lt;div class=&quot;button-wrapper&quot;&gt;\r\n        &lt;button id=&quot;button1&quot;&gt;Separar el archivo RCC&lt;/button&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;button-wrapper&quot;&gt;\r\n        &lt;button id=&quot;button2&quot;&gt;Mandar los contenidos al AS400&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd my controller class:\r\n\r\n```\r\npackage com.rccClass;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class Controlador {\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String home() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/separate-rcc&quot;)\r\n    public String separateRCC() {\r\n        SeparateRCC rcc = new SeparateRCC();\r\n        try {\r\n            rcc.separateRCC(null, null, 0); // Pass null values to use properties file\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;index&quot;; // Return the name of the index view\r\n    }\r\n\r\n    @PostMapping(&quot;/separate-rcc-ajax&quot;)\r\n    public @ResponseBody String separateRCCAsync() {\r\n        Thread thread = new Thread(() -&gt; {\r\n            SeparateRCC rcc = new SeparateRCC();\r\n                rcc.separateRCCAsync(null, null, 0); // Pass null values to use properties file\r\n        });\r\n        thread.start();\r\n        return &quot;Processing request...&quot;;\r\n    }\r\n}\r\n```\r\n\r\n[A view of th console and the folders](https://i.stack.imgur.com/ECqgT.png)\r\n\r\n\r\nAs you can see i try running a simple alert to see if the script is being read.\r\nThe controller is also (probaly) being read since when i run the application it connects me to the 8080 port, and shows me my index.html\r\nThe class itself works, reading a properties file, that&#39;s why its being send nulls. The problem itself is that is not finding the /separate-rcc. Or the /separate-rcc-ajax which was a recomendation to\r\n\r\n\r\nSomethings to note are that although i create the project as a web project, spring starter, and put the dependencies for sping web. It didn&#39;t let me create an html file from the sts, i had to go to the folder and create it manually, maybe it has something to do with that? The console in the sts never gives me an error","title":"My ajax code doesn&#39;t find my url in my controller (SpringTools Suite)","body":"<p>I have a java class named: SeparateRCC.  And now i want to execute it from a button in a web application.</p>\n<p>I created a controller class, and my html page (which holds the css and script parts). But when i run the project, and i click the button it gives me a 404 error: POST http://localhost:8080/separate-rcc-ajax 404</p>\n<p>Here are my codes:</p>\n<p>Index.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;My Page&lt;/title&gt;\n  &lt;style&gt;\n    //gonna spare you the style\n  &lt;/style&gt;\n  &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\n  &lt;script&gt;\n$(document).ready(function() {\n  $('#button1').click(function() {\n    $.ajax({\n      type: 'POST',\n      url: '/separate-rcc-ajax',\n      success: function(response) {\n        console.log(response);\n      },\n      error: function(xhr, status, error) {\n        console.log(xhr.responseText);\n      }\n    });\n    //alert(&quot;Hi&quot;);\n  });\n\n  $('#button2').click(function() {\n    // Another class would go here after everything works on the first button.\n  });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=&quot;header&quot;&gt;\n    &lt;h1&gt;Carga de archivo RCC al AS400&lt;/h1&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;buttons&quot;&gt;\n      &lt;div class=&quot;button-wrapper&quot;&gt;\n        &lt;button id=&quot;button1&quot;&gt;Separar el archivo RCC&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;button-wrapper&quot;&gt;\n        &lt;button id=&quot;button2&quot;&gt;Mandar los contenidos al AS400&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And my controller class:</p>\n<pre><code>package com.rccClass;\n\nimport java.io.IOException;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class Controlador {\n\n    @RequestMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/separate-rcc&quot;)\n    public String separateRCC() {\n        SeparateRCC rcc = new SeparateRCC();\n        try {\n            rcc.separateRCC(null, null, 0); // Pass null values to use properties file\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;index&quot;; // Return the name of the index view\n    }\n\n    @PostMapping(&quot;/separate-rcc-ajax&quot;)\n    public @ResponseBody String separateRCCAsync() {\n        Thread thread = new Thread(() -&gt; {\n            SeparateRCC rcc = new SeparateRCC();\n                rcc.separateRCCAsync(null, null, 0); // Pass null values to use properties file\n        });\n        thread.start();\n        return &quot;Processing request...&quot;;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ECqgT.png\" rel=\"nofollow noreferrer\">A view of th console and the folders</a></p>\n<p>As you can see i try running a simple alert to see if the script is being read.\nThe controller is also (probaly) being read since when i run the application it connects me to the 8080 port, and shows me my index.html\nThe class itself works, reading a properties file, that's why its being send nulls. The problem itself is that is not finding the /separate-rcc. Or the /separate-rcc-ajax which was a recomendation to</p>\n<p>Somethings to note are that although i create the project as a web project, spring starter, and put the dependencies for sping web. It didn't let me create an html file from the sts, i had to go to the folder and create it manually, maybe it has something to do with that? The console in the sts never gives me an error</p>\n"},{"tags":["java","maven","flyway","dropwizard"],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681753471,"creation_date":1681753471,"question_id":76037891,"body_markdown":"I&#39;m working in a dropwizard application with a config.yml of\r\n```yaml\r\ndatabase:\r\n  driverClass: org.postgresql.Driver\r\n  user: ...\r\n  password: ...\r\n  url: jdbc:postgresql://localhost:5432/postgres\r\n  properties:\r\n    charSet: UTF-8\r\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\r\n  flyway:\r\n    enabled: true\r\n    locations:\r\n      - &quot;classpath:db/migration&quot;\r\n```\r\nMy dropwizard Application class&#39;s `run()` method looks like\r\n```java\r\n    @Override\r\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\r\n        DataSource dataSource = webConfiguration.getDatabase().build(environment.metrics(), &quot;database&quot;);\r\n\r\n        Flyway flyway = webConfiguration.getFlywayBundle().getFlywayFactory(webConfiguration).build(dataSource);\r\n        flyway.migrate();\r\n\r\n    }\r\n```\r\nAnd my `WebConfiguration.java` class looks like\r\n```java\r\npublic class WebConfiguration extends Configuration {\r\n    @Valid\r\n    @NotNull\r\n    @JsonProperty\r\n    // configures the application&#39;s database connection.\r\n    public DataSourceFactory database = new DataSourceFactory();\r\n    public DataSourceFactory getDatabase() {  return database;}\r\n\r\n    public void setDatabase(DataSourceFactory database) {\r\n        this.database = database;\r\n    }\r\n\r\n    public FlywayBundle&lt;WebConfiguration&gt; getFlywayBundle() {\r\n        return new FlywayBundle&lt;WebConfiguration&gt;() {\r\n            @Override\r\n            public PooledDataSourceFactory getDataSourceFactory(WebConfiguration webConfiguration) {\r\n               return webConfiguration.getDatabase();\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n```\r\nI&#39;ve installed the `dropwizard-flyway` module in my `pom.xml`:\r\n```xml\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    &lt;version&gt;9.16.3&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dropwizard-flyway&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-1&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nWhen I compile the application using `mvn package` and run the jar using the `config.yml` file, I get this error:\r\n```bash\r\n! at io.dropwizard.Application.run(Application.java:94)\r\n! at com.dexcane.server.MyApplication.main(MyApplication.java:27)\r\nio.dropwizard.configuration.ConfigurationParsingException: src/main/resources/config.yml has an error:\r\n  * Unrecognized field at: database.flyway\r\n    Did you mean?:\r\n      - user\r\n      - url\r\n      - maxSize\r\n      - password\r\n      - minSize\r\n        [33 more]\r\n\r\n\tat io.dropwizard.configuration.ConfigurationParsingException$Builder.build(ConfigurationParsingException.java:277)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:161)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:94)\r\n\tat io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:139)\r\n\tat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:85)\r\n\tat io.dropwizard.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.Application.run(Application.java:94)\r\n\tat com.dexcane.server.MyApplication.main(MyApplication.java:27)\r\n```\r\nI thought the `dropwizard-flyway` bundle would enable my application to recognize the flyway field in my configuration?\r\n","title":"Unrecognized field at: &quot;database.flyway&quot; in Dropwizard application with flyway bundle","body":"<p>I'm working in a dropwizard application with a config.yml of</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>database:\n  driverClass: org.postgresql.Driver\n  user: ...\n  password: ...\n  url: jdbc:postgresql://localhost:5432/postgres\n  properties:\n    charSet: UTF-8\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\n  flyway:\n    enabled: true\n    locations:\n      - &quot;classpath:db/migration&quot;\n</code></pre>\n<p>My dropwizard Application class's <code>run()</code> method looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\n        DataSource dataSource = webConfiguration.getDatabase().build(environment.metrics(), &quot;database&quot;);\n\n        Flyway flyway = webConfiguration.getFlywayBundle().getFlywayFactory(webConfiguration).build(dataSource);\n        flyway.migrate();\n\n    }\n</code></pre>\n<p>And my <code>WebConfiguration.java</code> class looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebConfiguration extends Configuration {\n    @Valid\n    @NotNull\n    @JsonProperty\n    // configures the application's database connection.\n    public DataSourceFactory database = new DataSourceFactory();\n    public DataSourceFactory getDatabase() {  return database;}\n\n    public void setDatabase(DataSourceFactory database) {\n        this.database = database;\n    }\n\n    public FlywayBundle&lt;WebConfiguration&gt; getFlywayBundle() {\n        return new FlywayBundle&lt;WebConfiguration&gt;() {\n            @Override\n            public PooledDataSourceFactory getDataSourceFactory(WebConfiguration webConfiguration) {\n               return webConfiguration.getDatabase();\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>I've installed the <code>dropwizard-flyway</code> module in my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;version&gt;9.16.3&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-flyway&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>When I compile the application using <code>mvn package</code> and run the jar using the <code>config.yml</code> file, I get this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>! at io.dropwizard.Application.run(Application.java:94)\n! at com.dexcane.server.MyApplication.main(MyApplication.java:27)\nio.dropwizard.configuration.ConfigurationParsingException: src/main/resources/config.yml has an error:\n  * Unrecognized field at: database.flyway\n    Did you mean?:\n      - user\n      - url\n      - maxSize\n      - password\n      - minSize\n        [33 more]\n\n    at io.dropwizard.configuration.ConfigurationParsingException$Builder.build(ConfigurationParsingException.java:277)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:161)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:94)\n    at io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:139)\n    at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:85)\n    at io.dropwizard.cli.Cli.run(Cli.java:78)\n    at io.dropwizard.Application.run(Application.java:94)\n    at com.dexcane.server.MyApplication.main(MyApplication.java:27)\n</code></pre>\n<p>I thought the <code>dropwizard-flyway</code> bundle would enable my application to recognize the flyway field in my configuration?</p>\n"},{"tags":["java","amazon-web-services","amazon-athena"],"owner":{"account_id":11025834,"reputation":51,"user_id":8098770,"display_name":"Nihar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681753287,"creation_date":1526443469,"question_id":50362301,"body_markdown":"I am trying to do a POC for AWS Athena using Java. I am using the sample code given in &lt;https://docs.aws.amazon.com/athena/latest/ug/code-samples.html&gt;\r\n\r\n\r\n \r\n\r\nI have tried running it from eclipse and also tried creating a jar and running it on the ec2 instance using Athena IAM role.\r\n\r\nAny help would be useful.\r\n\r\nThanks","title":"AWS Athena ClientExecutionTimeoutException","body":"<p>I am trying to do a POC for AWS Athena using Java. I am using the sample code given in <a href=\"https://docs.aws.amazon.com/athena/latest/ug/code-samples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/athena/latest/ug/code-samples.html</a></p>\n<p>I have tried running it from eclipse and also tried creating a jar and running it on the ec2 instance using Athena IAM role.</p>\n<p>Any help would be useful.</p>\n<p>Thanks</p>\n"},{"tags":["java","math","matrix"],"answers":[{"comments":[{"owner":{"account_id":26089053,"reputation":53,"user_id":19786208,"display_name":"Arthur Brenno"},"score":0,"creation_date":1681753844,"post_id":76037864,"comment_id":134104673,"body_markdown":"Thank you! I&#39;ll try this later when I&#39;m home. Helped a lot.","body":"Thank you! I&#39;ll try this later when I&#39;m home. Helped a lot."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681753224,"creation_date":1681753224,"answer_id":76037864,"question_id":76037468,"body_markdown":"I suggest the following pattern for the secondary diagonal:\r\n\r\n    Starting point = \r\n    \r\n    {i-j, 0} if (i + j) &lt; N-1*\r\n    \r\n    {N-1*, j-i} if (i + j) &gt; N-1*\r\n    \r\n    {N-1*, 0} if (i + j) = N-1*\r\n\r\n*zero indexed so the right most column and bottom row are N-1\r\n\r\nLooping is `i--` and `j++` with condition that i and j both remain in the range 0 to &lt; N","title":"how to find the &#39;main&#39; and &#39;secondary&#39; diagonal positions given a random element","body":"<p>I suggest the following pattern for the secondary diagonal:</p>\n<pre><code>Starting point = \n\n{i-j, 0} if (i + j) &lt; N-1*\n\n{N-1*, j-i} if (i + j) &gt; N-1*\n\n{N-1*, 0} if (i + j) = N-1*\n</code></pre>\n<p>*zero indexed so the right most column and bottom row are N-1</p>\n<p>Looping is <code>i--</code> and <code>j++</code> with condition that i and j both remain in the range 0 to &lt; N</p>\n"}],"owner":{"account_id":26089053,"reputation":53,"user_id":19786208,"display_name":"Arthur Brenno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037864,"answer_count":1,"score":0,"last_activity_date":1681753224,"creation_date":1681750124,"question_id":76037468,"body_markdown":"Problem:\r\n&gt;Given a matrix M of size NxN (square matrix), how can I find the &#39;main&#39; and the &#39;secondary&#39; diagonal of **any element** in it? \r\n\r\nExample:\r\n```\r\nM = \r\n\r\n| A00 A01 A02 A03 A04 |\r\n\r\n| A10 A11 A12 A13 A14 |\r\n\r\n| A20 A21 A22 A23 A24 |\r\n\r\n| A30 A31 A32 A33 A34 |\r\n\r\n&gt;&gt;PICKED: A21\r\n\r\n&#39;Main&#39; diag: A10, A21, A32\r\n\r\n&#39;Secondary&#39; diag: A03, A12, A21, A31\r\n```\r\n\r\n**Context:**\r\n\r\n\r\n\r\nI&#39;m solving the **Eight Queen&#39;s** problem in Java. First of all, before making the Heuristics, i&#39;ve done this methods:\r\n\r\n `public boolean anyAtTheSameRow(Queen... queens)`\r\n\r\n `public boolean anyAtTheSameCol(Queen... queens)`\r\n\r\n```java\r\npublic boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens) {\r\n        \r\n        //How it will be done: (MY THOUGHTS)\r\n        //1. Take the first queen. \r\n        //2. Get all of it&#39;s diagonal houses. &quot;\\&quot;(main) diagonal and &quot;/&quot;(secondary) diagonal.\r\n        //3. Check if the next queens current row and current col are inserted in any of these pos.\r\n        //4. If any queen is inserted in the diagonal houses, then at least 1 queen can attack another. Will immediatly return true.\r\n        //5. If, after all iterations, no queen was found at the queen[0] diagonal, then will return false. No attacks are possible.\r\n```\r\n\r\n\r\nAnd an important method, witch will get all of these together:\r\n```Java\r\npublic boolean canAttackAny(ChessBoard board, Queen... queens) {\r\n        return anyAtTheSameRow(queens) || anyAtTheSameCol(queens) || anyAtTheSameDiagonal(board, queens);\r\n}\r\n```\r\n\r\nWhat i&#39;m going to to is a loop, starting at the first row-col of the diagonal (variable starting point), then store the values of the next positions {x,y}, going up to down.\r\n\r\n\r\n**What i&#39;ve tried:**\r\n\r\nFor the main diagonal, i found this pattern for any element by a process of trial and error:\r\n\r\n```\r\nStarting point = \r\n\r\n{0, j-i} if i &lt; j\r\n\r\n{i-j, 0} if i &gt; j\r\n\r\n{0, 0} if i = j\r\n\r\n```\r\n\r\nBut, for the secondary diagonal, i haven&#39;t found any patterns. I need help.\r\n\r\nI hope my thoughts of solving part of the **Eight Queens** problem are also right.","title":"how to find the &#39;main&#39; and &#39;secondary&#39; diagonal positions given a random element","body":"<p>Problem:</p>\n<blockquote>\n<p>Given a matrix M of size NxN (square matrix), how can I find the 'main' and the 'secondary' diagonal of <strong>any element</strong> in it?</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>M = \n\n| A00 A01 A02 A03 A04 |\n\n| A10 A11 A12 A13 A14 |\n\n| A20 A21 A22 A23 A24 |\n\n| A30 A31 A32 A33 A34 |\n\n&gt;&gt;PICKED: A21\n\n'Main' diag: A10, A21, A32\n\n'Secondary' diag: A03, A12, A21, A31\n</code></pre>\n<p><strong>Context:</strong></p>\n<p>I'm solving the <strong>Eight Queen's</strong> problem in Java. First of all, before making the Heuristics, i've done this methods:</p>\n<p><code>public boolean anyAtTheSameRow(Queen... queens)</code></p>\n<p><code>public boolean anyAtTheSameCol(Queen... queens)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens) {\n        \n        //How it will be done: (MY THOUGHTS)\n        //1. Take the first queen. \n        //2. Get all of it's diagonal houses. &quot;\\&quot;(main) diagonal and &quot;/&quot;(secondary) diagonal.\n        //3. Check if the next queens current row and current col are inserted in any of these pos.\n        //4. If any queen is inserted in the diagonal houses, then at least 1 queen can attack another. Will immediatly return true.\n        //5. If, after all iterations, no queen was found at the queen[0] diagonal, then will return false. No attacks are possible.\n</code></pre>\n<p>And an important method, witch will get all of these together:</p>\n<pre><code>public boolean canAttackAny(ChessBoard board, Queen... queens) {\n        return anyAtTheSameRow(queens) || anyAtTheSameCol(queens) || anyAtTheSameDiagonal(board, queens);\n}\n</code></pre>\n<p>What i'm going to to is a loop, starting at the first row-col of the diagonal (variable starting point), then store the values of the next positions {x,y}, going up to down.</p>\n<p><strong>What i've tried:</strong></p>\n<p>For the main diagonal, i found this pattern for any element by a process of trial and error:</p>\n<pre><code>Starting point = \n\n{0, j-i} if i &lt; j\n\n{i-j, 0} if i &gt; j\n\n{0, 0} if i = j\n\n</code></pre>\n<p>But, for the secondary diagonal, i haven't found any patterns. I need help.</p>\n<p>I hope my thoughts of solving part of the <strong>Eight Queens</strong> problem are also right.</p>\n"},{"tags":["java","ssl","sni","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1681757537,"post_id":76037844,"comment_id":134105465,"body_markdown":"As per https://github.com/quickfix-j/quickfixj/blob/dce91e62c7525b84448b974b796a1fac436015ae/quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java#L68 it automatically sends the remote address.","body":"As per <a href=\"https://github.com/quickfix-j/quickfixj/blob/dce91e62c7525b84448b974b796a1fac436015ae/quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java#L68\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/&hellip;</a> it automatically sends the remote address."}],"owner":{"account_id":1581404,"reputation":2589,"user_id":1466719,"accept_rate":63,"display_name":"Ggdw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681753127,"creation_date":1681753127,"question_id":76037844,"body_markdown":"I am running a QFJ initiator engine with core 2.3.1 and connecting to an acceptor using SSL (SocketUseSSL=Y), I want to send an SNI, I saw that there is a flag UseSNI but how can you add the server name?\r\nIf I am using SocketConnectHost to connect to the server, where do I add the internal address in the server (SNI) ","title":"Quick Fix J how to send Server Name Indication (SNI)","body":"<p>I am running a QFJ initiator engine with core 2.3.1 and connecting to an acceptor using SSL (SocketUseSSL=Y), I want to send an SNI, I saw that there is a flag UseSNI but how can you add the server name?\nIf I am using SocketConnectHost to connect to the server, where do I add the internal address in the server (SNI)</p>\n"},{"tags":["java","android","gradle","build.gradle","jwplayer"],"answers":[{"comments":[{"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"score":0,"creation_date":1521712502,"post_id":49424933,"comment_id":85851853,"body_markdown":"I have already tried excluding lots of META-INF/*** but it doesn&#39;t work. Looks like issue from Google/Exoplayer side. https://github.com/google/ExoPlayer/issues/3911.","body":"I have already tried excluding lots of META-INF/*** but it doesn&#39;t work. Looks like issue from Google/Exoplayer side. <a href=\"https://github.com/google/ExoPlayer/issues/3911\" rel=\"nofollow noreferrer\">github.com/google/ExoPlayer/issues/3911</a>."}],"tags":[],"owner":{"account_id":8245965,"reputation":2341,"user_id":6202039,"display_name":"Jay Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521710941,"creation_date":1521710941,"answer_id":49424933,"question_id":49423572,"body_markdown":"**In my case**, I&#39;ve excluded only path &#39;META-INF/LICENSE&#39; on `yourProject/app/build.gradle` inside `android{}` . Here it is\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\nAfter it Clean Project and Rebuild Project.\r\n\r\n**If above case doesn&#39;t work** for you then You can add this in `yourProject/app/build.gradle` inside `android{}`\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n    }","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p><strong>In my case</strong>, I've excluded only path 'META-INF/LICENSE' on <code>yourProject/app/build.gradle</code> inside <code>android{}</code> . Here it is</p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/LICENSE'\n}\n</code></pre>\n\n<p>After it Clean Project and Rebuild Project.</p>\n\n<p><strong>If above case doesn't work</strong> for you then You can add this in <code>yourProject/app/build.gradle</code> inside <code>android{}</code></p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/license.txt'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/notice.txt'\n    exclude 'META-INF/ASL2.0'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"score":1,"creation_date":1521712857,"post_id":49425378,"comment_id":85852100,"body_markdown":"I have posted UPDATE 2. Looks like issue from Google/Exoplayer side. github.com/google/ExoPlayer/issues/3911.","body":"I have posted UPDATE 2. Looks like issue from Google/Exoplayer side. github.com/google/ExoPlayer/issues/3911."}],"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521712172,"creation_date":1521712172,"answer_id":49425378,"question_id":49423572,"body_markdown":"You can try using `pickFirst` something like this:\r\n\r\n    packagingOptions {\r\n       // this is the lazy option.\r\n       //pickFirst  &#39;META-INF/*&#39;\r\n       pickFirst   &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    }","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>You can try using <code>pickFirst</code> something like this:</p>\n\n<pre><code>packagingOptions {\n   // this is the lazy option.\n   //pickFirst  'META-INF/*'\n   pickFirst   'META-INF/android.arch.lifecycle_runtime.version'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119754,"reputation":2963,"user_id":311701,"display_name":"Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616544670,"creation_date":1616544670,"answer_id":66773021,"question_id":49423572,"body_markdown":"The recommended solution per Detox android setup guide:\r\n\r\nYou need to add this to the android section of your `android/app/build.gradle`:\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\nreference https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>The recommended solution per Detox android setup guide:</p>\n<p>You need to add this to the android section of your <code>android/app/build.gradle</code>:</p>\n<pre><code>packagingOptions {\n    exclude 'META-INF/LICENSE'\n}\n</code></pre>\n<p>reference <a href=\"https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting\" rel=\"nofollow noreferrer\">https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting</a></p>\n"},{"tags":[],"owner":{"account_id":4099528,"reputation":48,"user_id":3365437,"accept_rate":25,"display_name":"Javier_Caceres"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681752862,"creation_date":1681752862,"answer_id":76037808,"question_id":49423572,"body_markdown":"In buil.gradule ( module ) include under {android  ... and before default configuration this line\r\nandroid.packagingOptions.resources.pickFirsts += &quot;**/*.pickFirst&quot;","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>In buil.gradule ( module ) include under {android  ... and before default configuration this line\nandroid.packagingOptions.resources.pickFirsts += &quot;**/*.pickFirst&quot;</p>\n"}],"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3760,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681752862,"creation_date":1521706375,"question_id":49423572,"body_markdown":"All of a sudden, I am getting this error while building APK \r\n\r\n    Error:Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    &gt; More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n\r\nI went through a lot of StackOverflow post related to `META-INF` issue such as `exclude &#39;META-INF/***&#39; (LICENSE, NOTICE` etc etc) in `packagingOptions` but it&#39;s not working. I have uninstalled Java 9 also and installed JDK8. Here is the output when I run with `--stacktrace` option\r\n\r\n    Executing tasks: [:app:assembleDevDebug]\r\n    \r\n    Parallel execution with configuration on demand is an incubating feature.\r\n    Configuration &#39;compile&#39; in project &#39;:app&#39; is deprecated. Use &#39;implementation&#39; instead.\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDevDebugBuild UP-TO-DATE\r\n    :app:compileDevDebugAidl UP-TO-DATE\r\n    :app:compileDevDebugRenderscript UP-TO-DATE\r\n    :app:checkDevDebugManifest UP-TO-DATE\r\n    :app:generateDevDebugBuildConfig UP-TO-DATE\r\n    :app:greendaoPrepare UP-TO-DATE\r\n    :app:greendao UP-TO-DATE\r\n    :app:prepareLintJar UP-TO-DATE\r\n    :app:generateDevDebugResValues UP-TO-DATE\r\n    :app:generateDevDebugResources UP-TO-DATE\r\n    :app:processDevDebugGoogleServices\r\n    Parsing json file: /Users/shikhardeep/StudioProjects/HOGAndroid_New/app/src/debug/google-services.json\r\n    :app:mergeDevDebugResources UP-TO-DATE\r\n    :app:createDevDebugCompatibleScreenManifests UP-TO-DATE\r\n    :app:processDevDebugManifest UP-TO-DATE\r\n    :app:splitsDiscoveryTaskDevDebug UP-TO-DATE\r\n    :app:processDevDebugResources UP-TO-DATE\r\n    :app:generateDevDebugSources UP-TO-DATE\r\n    :app:dataBindingExportBuildInfoDevDebug UP-TO-DATE\r\n    :app:javaPreCompileDevDebug UP-TO-DATE\r\n    :app:transformDataBindingWithDataBindingMergeArtifactsForDevDebug UP-TO-DATE\r\n    :app:compileDevDebugJavaWithJavac UP-TO-DATE\r\n    :app:compileDevDebugNdk NO-SOURCE\r\n    :app:compileDevDebugSources UP-TO-DATE\r\n    :app:mergeDevDebugShaders UP-TO-DATE\r\n    :app:compileDevDebugShaders UP-TO-DATE\r\n    :app:generateDevDebugAssets UP-TO-DATE\r\n    :app:mergeDevDebugAssets UP-TO-DATE\r\n    :app:transformClassesWithDexBuilderForDevDebug UP-TO-DATE\r\n    :app:transformClassesWithMultidexlistForDevDebug UP-TO-DATE\r\n    :app:transformDexArchiveWithDexMergerForDevDebug UP-TO-DATE\r\n    :app:mergeDevDebugJniLibFolders UP-TO-DATE\r\n    :app:transformNativeLibsWithMergeJniLibsForDevDebug UP-TO-DATE\r\n    :app:processDevDebugJavaRes NO-SOURCE\r\n    :app:transformResourcesWithMergeJavaResForDevDebug FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    &gt; More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:60)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    \tat org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:311)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:202)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n    \tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    \tat com.android.builder.merge.StreamMergeAlgorithms.lambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\r\n    \tat com.android.builder.merge.StreamMergeAlgorithms.lambda$select$3(StreamMergeAlgorithms.java:100)\r\n    \tat com.android.builder.merge.IncrementalFileMergerOutputs$1.create(IncrementalFileMergerOutputs.java:86)\r\n    \tat com.android.builder.merge.DelegateIncrementalFileMergerOutput.create(DelegateIncrementalFileMergerOutput.java:61)\r\n    \tat com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.updateChangedFile(IncrementalFileMerger.java:221)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.mergeChangedInputs(IncrementalFileMerger.java:190)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.merge(IncrementalFileMerger.java:77)\r\n    \tat com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform.transform(MergeJavaResourcesTransform.java:411)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\r\n    \tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n    \t... 102 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 2s\r\n    \r\n    28 actionable tasks: 2 executed, 26 up-to-date\r\n\r\n\r\n**This is my app/build.gradle file:**\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n            maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        maven { url &#39;http://static.clmbtech.com/maven&#39; }\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n    apply plugin: &#39;org.greenrobot.greendao&#39;\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 27\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;&lt;package_ID&gt;&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 27\r\n            versionCode 63\r\n            versionName &quot;2.2.8&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n            multiDexEnabled true\r\n        }\r\n    \r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;jsr305_annotations/Jsr305_annotations.gwt.xml&#39;\r\n            exclude &#39;error_prone/Annotations.gwt.xml&#39;\r\n            exclude &#39;third_party/java_src/error_prone/project/annotations/Annotations.gwt.xml&#39;\r\n            exclude &#39;third_party/java_src/error_prone/project/annotations/Google_internal.gwt.xml&#39;\r\n        }\r\n    \r\n        dexOptions {\r\n            preDexLibraries true\r\n            maxProcessCount 8\r\n            jumboMode true\r\n            javaMaxHeapSize &quot;2g&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        flavorDimensions &quot;default&quot;\r\n        productFlavors {\r\n            dev {\r\n                versionNameSuffix &quot;-dev&quot;\r\n                resConfigs &quot;en&quot;, &quot;xxhdpi&quot;\r\n                ext.enableCrashlytics = false\r\n            }\r\n    \r\n            prod {\r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    greendao {\r\n        schemaVersion 1\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n    \r\n        //All Dependencies \r\n        implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;\r\n        implementation &#39;com.android.support:design:27.1.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:27.1.0&#39;\r\n    \r\n        implementation &#39;com.longtailvideo.jwplayer:jwplayer-core:+&#39;\r\n        implementation &#39;com.longtailvideo.jwplayer:jwplayer-common:+&#39;\r\n        implementation(&#39;com.longtailvideo.jwplayer:jwplayer-ima:+&#39;) {\r\n            exclude group: &quot;com.google.android.gms&quot;\r\n        }\r\n   \r\n        implementation &#39;com.google.ads.interactivemedia.v3:interactivemedia:3.6.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:11.8.0&#39;\r\n    \r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.6.7@aar&#39;) {\r\n            transitive = true\r\n        }\r\n    \r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nWhen i searched for this file: `META-INF/android.arch.lifecycle_runtime.version` I get 2 locations:\r\n\r\n    /Users/shikhardeep/.gradle/caches/transforms-1/files-1.1/runtime-1.1.0.aar/f7273cc34aac547da4a88fd1c25f0f2f/jars/classes.jar!/META-INF/android.arch.lifecycle_runtime.version\r\n\r\n    /Users/shikhardeep/.gradle/caches/modules-2/files-2.1/com.google.ads.interactivemedia.v3/interactivemedia/3.8.2/abbc5b12ce9ca95049dce9a22cfe7a7f6709aaee/interactivemedia-3.8.2.jar!/META-INF/android.arch.lifecycle_runtime.version\r\n\r\nand both of them only contains a value `1.1.0`\r\n\r\nOne more thing: for this dependency `implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;` I am getting this warning `All com.android.support libraries must use the exact same version` for a last couple of months. I don&#39;t think so this is the root cause of build failure as I was able to build APK (dev as well as release) till yesterday. There is no change in gradle file except `versionCode` and `versionName` (which I increment after a release).\r\n\r\n**UPDATE 1:**\r\nI have solved that `All com.android.support libraries must use the exact same version` by adding these but still the error persists\r\n\r\n    implementation &#39;com.android.support:cardview-v7:27.1.0&#39;\r\n    implementation &#39;com.android.support:customtabs:27.1.0&#39;\r\n    implementation &#39;com.android.support:animated-vector-drawable:27.1.0&#39;\r\n    implementation &#39;com.android.support:exifinterface:27.1.0&#39;\r\n\r\n**UPDATE 2:**\r\nI found this GitHub issue and it seems similar to my case: https://github.com/google/ExoPlayer/issues/3911.\r\nI followed the approach mentioned by one of the commentator Victor Raft and now I am able to build but I am not sure whether it&#39;s the right way or not.\r\n\r\n**UPDATE 3:** \r\nAlthough build was successful but I noticed that I am not able to play most of the media URLs. Same media URLs are working fine on live App. I am using JWPlayer SDK for media streaming. Everytime I open the VideoActivity, I get `onError()` callback with error message:  `Invalid HTTP response code: 404: Not Found`. According to JWPlayer changelog: https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/ they have updated the SDK on Mar21, 2018 and since that day I am also getting the error. In the SDK setup instructions https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/ they have recommended to use + while including dependencies. If I try to build by specifying a lower version (2.8.0) in gradle. I get an error while syncing: `Failed to resolve: com.longtailvideo.jwplayer:jwplayer-core:2.8.0`","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>All of a sudden, I am getting this error while building APK </p>\n\n<pre><code>Error:Execution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n&gt; More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n</code></pre>\n\n<p>I went through a lot of StackOverflow post related to <code>META-INF</code> issue such as <code>exclude 'META-INF/***' (LICENSE, NOTICE</code> etc etc) in <code>packagingOptions</code> but it's not working. I have uninstalled Java 9 also and installed JDK8. Here is the output when I run with <code>--stacktrace</code> option</p>\n\n<pre><code>Executing tasks: [:app:assembleDevDebug]\n\nParallel execution with configuration on demand is an incubating feature.\nConfiguration 'compile' in project ':app' is deprecated. Use 'implementation' instead.\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\n:app:preBuild UP-TO-DATE\n:app:preDevDebugBuild UP-TO-DATE\n:app:compileDevDebugAidl UP-TO-DATE\n:app:compileDevDebugRenderscript UP-TO-DATE\n:app:checkDevDebugManifest UP-TO-DATE\n:app:generateDevDebugBuildConfig UP-TO-DATE\n:app:greendaoPrepare UP-TO-DATE\n:app:greendao UP-TO-DATE\n:app:prepareLintJar UP-TO-DATE\n:app:generateDevDebugResValues UP-TO-DATE\n:app:generateDevDebugResources UP-TO-DATE\n:app:processDevDebugGoogleServices\nParsing json file: /Users/shikhardeep/StudioProjects/HOGAndroid_New/app/src/debug/google-services.json\n:app:mergeDevDebugResources UP-TO-DATE\n:app:createDevDebugCompatibleScreenManifests UP-TO-DATE\n:app:processDevDebugManifest UP-TO-DATE\n:app:splitsDiscoveryTaskDevDebug UP-TO-DATE\n:app:processDevDebugResources UP-TO-DATE\n:app:generateDevDebugSources UP-TO-DATE\n:app:dataBindingExportBuildInfoDevDebug UP-TO-DATE\n:app:javaPreCompileDevDebug UP-TO-DATE\n:app:transformDataBindingWithDataBindingMergeArtifactsForDevDebug UP-TO-DATE\n:app:compileDevDebugJavaWithJavac UP-TO-DATE\n:app:compileDevDebugNdk NO-SOURCE\n:app:compileDevDebugSources UP-TO-DATE\n:app:mergeDevDebugShaders UP-TO-DATE\n:app:compileDevDebugShaders UP-TO-DATE\n:app:generateDevDebugAssets UP-TO-DATE\n:app:mergeDevDebugAssets UP-TO-DATE\n:app:transformClassesWithDexBuilderForDevDebug UP-TO-DATE\n:app:transformClassesWithMultidexlistForDevDebug UP-TO-DATE\n:app:transformDexArchiveWithDexMergerForDevDebug UP-TO-DATE\n:app:mergeDevDebugJniLibFolders UP-TO-DATE\n:app:transformNativeLibsWithMergeJniLibsForDevDebug UP-TO-DATE\n:app:processDevDebugJavaRes NO-SOURCE\n:app:transformResourcesWithMergeJavaResForDevDebug FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n&gt; More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:60)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:311)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:202)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n    at com.android.builder.merge.StreamMergeAlgorithms.lambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\n    at com.android.builder.merge.StreamMergeAlgorithms.lambda$select$3(StreamMergeAlgorithms.java:100)\n    at com.android.builder.merge.IncrementalFileMergerOutputs$1.create(IncrementalFileMergerOutputs.java:86)\n    at com.android.builder.merge.DelegateIncrementalFileMergerOutput.create(DelegateIncrementalFileMergerOutput.java:61)\n    at com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\n    at com.android.builder.merge.IncrementalFileMerger.updateChangedFile(IncrementalFileMerger.java:221)\n    at com.android.builder.merge.IncrementalFileMerger.mergeChangedInputs(IncrementalFileMerger.java:190)\n    at com.android.builder.merge.IncrementalFileMerger.merge(IncrementalFileMerger.java:77)\n    at com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform.transform(MergeJavaResourcesTransform.java:411)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 102 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n\n28 actionable tasks: 2 executed, 26 up-to-date\n</code></pre>\n\n<p><strong>This is my app/build.gradle file:</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    maven { url 'http://static.clmbtech.com/maven' }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'org.greenrobot.greendao'\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        applicationId \"&lt;package_ID&gt;\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 63\n        versionName \"2.2.8\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    packagingOptions {\n        exclude 'jsr305_annotations/Jsr305_annotations.gwt.xml'\n        exclude 'error_prone/Annotations.gwt.xml'\n        exclude 'third_party/java_src/error_prone/project/annotations/Annotations.gwt.xml'\n        exclude 'third_party/java_src/error_prone/project/annotations/Google_internal.gwt.xml'\n    }\n\n    dexOptions {\n        preDexLibraries true\n        maxProcessCount 8\n        jumboMode true\n        javaMaxHeapSize \"2g\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"default\"\n    productFlavors {\n        dev {\n            versionNameSuffix \"-dev\"\n            resConfigs \"en\", \"xxhdpi\"\n            ext.enableCrashlytics = false\n        }\n\n        prod {\n\n        }\n    }\n}\n\ngreendao {\n    schemaVersion 1\n}\n\ndependencies {\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    //All Dependencies \n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.android.support:design:27.1.0'\n    implementation 'com.android.support:recyclerview-v7:27.1.0'\n\n    implementation 'com.longtailvideo.jwplayer:jwplayer-core:+'\n    implementation 'com.longtailvideo.jwplayer:jwplayer-common:+'\n    implementation('com.longtailvideo.jwplayer:jwplayer-ima:+') {\n        exclude group: \"com.google.android.gms\"\n    }\n\n    implementation 'com.google.ads.interactivemedia.v3:interactivemedia:3.6.0'\n    implementation 'com.google.android.gms:play-services-ads:11.8.0'\n\n    implementation('com.crashlytics.sdk.android:crashlytics:2.6.7@aar') {\n        transitive = true\n    }\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>When i searched for this file: <code>META-INF/android.arch.lifecycle_runtime.version</code> I get 2 locations:</p>\n\n<pre><code>/Users/shikhardeep/.gradle/caches/transforms-1/files-1.1/runtime-1.1.0.aar/f7273cc34aac547da4a88fd1c25f0f2f/jars/classes.jar!/META-INF/android.arch.lifecycle_runtime.version\n\n/Users/shikhardeep/.gradle/caches/modules-2/files-2.1/com.google.ads.interactivemedia.v3/interactivemedia/3.8.2/abbc5b12ce9ca95049dce9a22cfe7a7f6709aaee/interactivemedia-3.8.2.jar!/META-INF/android.arch.lifecycle_runtime.version\n</code></pre>\n\n<p>and both of them only contains a value <code>1.1.0</code></p>\n\n<p>One more thing: for this dependency <code>implementation 'com.android.support:appcompat-v7:27.1.0'</code> I am getting this warning <code>All com.android.support libraries must use the exact same version</code> for a last couple of months. I don't think so this is the root cause of build failure as I was able to build APK (dev as well as release) till yesterday. There is no change in gradle file except <code>versionCode</code> and <code>versionName</code> (which I increment after a release).</p>\n\n<p><strong>UPDATE 1:</strong>\nI have solved that <code>All com.android.support libraries must use the exact same version</code> by adding these but still the error persists</p>\n\n<pre><code>implementation 'com.android.support:cardview-v7:27.1.0'\nimplementation 'com.android.support:customtabs:27.1.0'\nimplementation 'com.android.support:animated-vector-drawable:27.1.0'\nimplementation 'com.android.support:exifinterface:27.1.0'\n</code></pre>\n\n<p><strong>UPDATE 2:</strong>\nI found this GitHub issue and it seems similar to my case: <a href=\"https://github.com/google/ExoPlayer/issues/3911\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/issues/3911</a>.\nI followed the approach mentioned by one of the commentator Victor Raft and now I am able to build but I am not sure whether it's the right way or not.</p>\n\n<p><strong>UPDATE 3:</strong> \nAlthough build was successful but I noticed that I am not able to play most of the media URLs. Same media URLs are working fine on live App. I am using JWPlayer SDK for media streaming. Everytime I open the VideoActivity, I get <code>onError()</code> callback with error message:  <code>Invalid HTTP response code: 404: Not Found</code>. According to JWPlayer changelog: <a href=\"https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/\" rel=\"nofollow noreferrer\">https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/</a> they have updated the SDK on Mar21, 2018 and since that day I am also getting the error. In the SDK setup instructions <a href=\"https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/\" rel=\"nofollow noreferrer\">https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/</a> they have recommended to use + while including dependencies. If I try to build by specifying a lower version (2.8.0) in gradle. I get an error while syncing: <code>Failed to resolve: com.longtailvideo.jwplayer:jwplayer-core:2.8.0</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681749420,"post_id":76037355,"comment_id":134103582,"body_markdown":"If you know the class statically, just cast to it. And if you don&#39;t know the class statically, then how do you know the name of the method to call? Put another way, how can you &quot;know&quot; the method you want to call without knowing what class/interface it belongs to?","body":"If you know the class statically, just cast to it. And if you don&#39;t know the class statically, then how do you know the name of the method to call? Put another way, how can you &quot;know&quot; the method you want to call without knowing what class/interface it belongs to?"},{"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"score":0,"creation_date":1681749798,"post_id":76037355,"comment_id":134103681,"body_markdown":"@SilvioMayolo I know the classes but if im writing each time i have to write casting for all 4 instance of checks, here im trying to get the class name first and then do the casting making a single call way ie  className object =(className)Indout   after that GeneralApp app =(GeneralApp)   Object, here the second line is common so im trying to reuse that","body":"@SilvioMayolo I know the classes but if im writing each time i have to write casting for all 4 instance of checks, here im trying to get the class name first and then do the casting making a single call way ie  className object =(className)Indout   after that GeneralApp app =(GeneralApp)   Object, here the second line is common so im trying to reuse that"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681750170,"post_id":76037355,"comment_id":134103754,"body_markdown":"Why not just cast to `GeneralApp` to begin with? What&#39;s the benefit to the intermediate cast?","body":"Why not just cast to <code>GeneralApp</code> to begin with? What&#39;s the benefit to the intermediate cast?"},{"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"score":0,"creation_date":1681750215,"post_id":76037355,"comment_id":134103769,"body_markdown":"The general app extends the ClassName, if i try to cast directly its giving me error to cast exception,  so that 2 way casting only im able to get the method i want","body":"The general app extends the ClassName, if i try to cast directly its giving me error to cast exception,  so that 2 way casting only im able to get the method i want"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681750353,"post_id":76037355,"comment_id":134103807,"body_markdown":"If the class is a `GeneralApp` then casting directly will pass. If it&#39;s not, then intermediate casting won&#39;t help. There&#39;s no situation in Java where adding an intermediate cast will make a failed cast succeed. The runtime class is set in stone, and casts simply change the compile-time type information, not the actual structure of the instance.","body":"If the class is a <code>GeneralApp</code> then casting directly will pass. If it&#39;s not, then intermediate casting won&#39;t help. There&#39;s no situation in Java where adding an intermediate cast will make a failed cast succeed. The runtime class is set in stone, and casts simply change the compile-time type information, not the actual structure of the instance."}],"answers":[{"comments":[{"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"score":0,"creation_date":1681751155,"post_id":76037495,"comment_id":134104000,"body_markdown":"className object =(className)Indout after that                                                  GeneralApp app =(GeneralApp) Object.getmethod, this is what i need, but after Object.getmethod this only the casting is allowed since inside the GeneralApp already field declared for the same","body":"className object =(className)Indout after that                                                  GeneralApp app =(GeneralApp) Object.getmethod, this is what i need, but after Object.getmethod this only the casting is allowed since inside the GeneralApp already field declared for the same"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681755055,"post_id":76037495,"comment_id":134104938,"body_markdown":"@Specter I don&#39;t understand your comment.","body":"@Specter I don&#39;t understand your comment."}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681750335,"creation_date":1681750335,"answer_id":76037495,"question_id":76037355,"body_markdown":"If I understand your question correctly I think you&#39;re over-complicating things.\r\n\r\n&gt; would it be possible to call a method from theClass?\r\n\r\nYes, but I don&#39;t think that&#39;s what you&#39;re trying to do. `theClass` represents a `Class` object. You seem to want to invoke a function on _an instance_ of that class. In which case, your code can be simplified greatly.\r\n\r\n    // -&gt; This already get the object instance you want to work with\r\n    Object something = getInstance(inNdOut); //inNdOut Object\r\n\r\n    // -&gt; The name of the class is irrelevant, delete this    \r\n    // String theType =String.valueOf(something.getClass().getCanonicalName());\r\n    \r\n    // -&gt; Getting the class from the string that was obtained from the class is circular\r\n    // -&gt; and pointless. You already have the class, which is not needed anyway. Delete this.\r\n    //class name to which cast to be done obtained in above\r\n    Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n    \r\n    // -&gt; Casting the object and storing it in an Object type is pointless\r\n    //Object newObj = Class.forName(classname).cast(obj);//usual scenario\r\n    \r\n    // -&gt; If the requirements is to get the object as a common base class type,\r\n    // -&gt; just cast the original object that already passed your cast checks\r\n    //my requirement\r\n    // GeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im \r\n\r\n    GeneralApp app = (GeneralApp) something;\r\n\r\nSo in summary, your code could just be:\r\n\r\n    GeneralApp app = (GeneralApp) getInstance(inNdOut);","title":"Dynamically converting java object class when class name is unknown","body":"<p>If I understand your question correctly I think you're over-complicating things.</p>\n<blockquote>\n<p>would it be possible to call a method from theClass?</p>\n</blockquote>\n<p>Yes, but I don't think that's what you're trying to do. <code>theClass</code> represents a <code>Class</code> object. You seem to want to invoke a function on <em>an instance</em> of that class. In which case, your code can be simplified greatly.</p>\n<pre><code>// -&gt; This already get the object instance you want to work with\nObject something = getInstance(inNdOut); //inNdOut Object\n\n// -&gt; The name of the class is irrelevant, delete this    \n// String theType =String.valueOf(something.getClass().getCanonicalName());\n\n// -&gt; Getting the class from the string that was obtained from the class is circular\n// -&gt; and pointless. You already have the class, which is not needed anyway. Delete this.\n//class name to which cast to be done obtained in above\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n// -&gt; Casting the object and storing it in an Object type is pointless\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\n\n// -&gt; If the requirements is to get the object as a common base class type,\n// -&gt; just cast the original object that already passed your cast checks\n//my requirement\n// GeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im \n\nGeneralApp app = (GeneralApp) something;\n</code></pre>\n<p>So in summary, your code could just be:</p>\n<pre><code>GeneralApp app = (GeneralApp) getInstance(inNdOut);\n</code></pre>\n"}],"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037495,"answer_count":1,"score":0,"last_activity_date":1681752049,"creation_date":1681749204,"question_id":76037355,"body_markdown":"```\r\nprivate Object  getInstance(Appl inNdOut) {\r\nObject cl= null;\r\n// I have to check for 4 instances and do casting\r\n\tif (null!=inNdOut) {\r\n\t\t cl = (InAppl)inNdOut;// casting done\r\n\t\t \r\n\t}\r\nelse{\r\ncl=null;\r\n}\r\n\treturn cl;\r\n}\r\n\r\npublic void dta(Appl inNdOut){\r\n\r\nif (null != inNdOut) {\r\n\t\t\t\t\t\t\t\t\t\r\nObject something =getInstance(inNdOut);//inNdOut Object  \r\nString theType =String.valueOf(something .getClass ( ).getCanonicalName() ) ;\r\n //class name to which cast to be done obtained in above\r\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n\r\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\r\n\r\n//my requirement\r\nGeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im trying to reuse it\r\n\r\n\r\n\r\n\r\n}\r\n}\r\n```\r\n\r\nIn simple words,  if I have many instance of scenarios and multiple casting scenario (old code I have been told to not touch it), so if I could get the class name and cast a object to the obtained class name, I could call method from the same.\r\n\r\n1. Is the scenario I asked above possible(in code)\r\n\r\n2. ```\r\n   Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n   \r\n   ```\r\n\r\nwould it be possible to call a method from theClass?\r\n\r\nI know its a little odd questions, if possible please help","title":"Dynamically converting java object class when class name is unknown","body":"<pre><code>private Object  getInstance(Appl inNdOut) {\nObject cl= null;\n// I have to check for 4 instances and do casting\n    if (null!=inNdOut) {\n         cl = (InAppl)inNdOut;// casting done\n         \n    }\nelse{\ncl=null;\n}\n    return cl;\n}\n\npublic void dta(Appl inNdOut){\n\nif (null != inNdOut) {\n                                    \nObject something =getInstance(inNdOut);//inNdOut Object  \nString theType =String.valueOf(something .getClass ( ).getCanonicalName() ) ;\n //class name to which cast to be done obtained in above\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\n\n//my requirement\nGeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im trying to reuse it\n\n\n\n\n}\n}\n</code></pre>\n<p>In simple words,  if I have many instance of scenarios and multiple casting scenario (old code I have been told to not touch it), so if I could get the class name and cast a object to the obtained class name, I could call method from the same.</p>\n<ol>\n<li><p>Is the scenario I asked above possible(in code)</p>\n</li>\n<li>\n<pre><code>Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n</code></pre>\n</li>\n</ol>\n<p>would it be possible to call a method from theClass?</p>\n<p>I know its a little odd questions, if possible please help</p>\n"},{"tags":["java","fonts","awt"],"comments":[{"owner":{"account_id":15157499,"reputation":1444,"user_id":10937788,"display_name":"Jens Dibbern"},"score":1,"creation_date":1548186607,"post_id":54314653,"comment_id":95450826,"body_markdown":"I can confirm your problem. But your code shows the same behaviour with Oracle JDK 11.0.1 Win64. Looks like a bug to me. There already some similar bugs in the OpenJDK bug database.","body":"I can confirm your problem. But your code shows the same behaviour with Oracle JDK 11.0.1 Win64. Looks like a bug to me. There already some similar bugs in the OpenJDK bug database."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1548186906,"post_id":54314653,"comment_id":95450956,"body_markdown":"Thank you for that.  The similar bugs in the OpenJDK bugbase all are related to JavaFX (at least the ones I&#39;ve seen) - I&#39;ll continue looking.  The Oracle JDK 11.0.1 reproduction is interesting.  OpenJDK uses FreeType as the FontScaler.  I wonder if Oracle JDK 11.0.1 also uses FreeType instead of the T2K FontScaler that was previously used.","body":"Thank you for that.  The similar bugs in the OpenJDK bugbase all are related to JavaFX (at least the ones I&#39;ve seen) - I&#39;ll continue looking.  The Oracle JDK 11.0.1 reproduction is interesting.  OpenJDK uses FreeType as the FontScaler.  I wonder if Oracle JDK 11.0.1 also uses FreeType instead of the T2K FontScaler that was previously used."},{"owner":{"account_id":15157499,"reputation":1444,"user_id":10937788,"display_name":"Jens Dibbern"},"score":0,"creation_date":1548187303,"post_id":54314653,"comment_id":95451118,"body_markdown":"Your are right. According to the JDK 11 Release Notes (https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html) they are using FreeType.","body":"Your are right. According to the JDK 11 Release Notes (<a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/&hellip;</a>) they are using FreeType."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1548188303,"post_id":54314653,"comment_id":95451568,"body_markdown":"I saw that too.  Oh well.  Maybe a bug report is in order.  Thanks again.","body":"I saw that too.  Oh well.  Maybe a bug report is in order.  Thanks again."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":2,"creation_date":1548275972,"post_id":54314653,"comment_id":95487959,"body_markdown":"FYI: Bug report has been sent to Oracle.","body":"FYI: Bug report has been sent to Oracle."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1560286431,"post_id":54314653,"comment_id":99684758,"body_markdown":"@TCCV Do you happen to have the JDK bug number?  I&#39;m running into the same problem with a derived italic font used on a `BufferedImage`.","body":"@TCCV Do you happen to have the JDK bug number?  I&#39;m running into the same problem with a derived italic font used on a <code>BufferedImage</code>."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1560355937,"post_id":54314653,"comment_id":99712186,"body_markdown":"Actually, answering my own comment (can&#39;t edit it now):  it&#39;s probably [JDK-8217712](https://bugs.openjdk.java.net/browse/JDK-8217712), which refers to [JDK-8214002](https://bugs.openjdk.java.net/browse/JDK-8214002), which is **fixed in Java 12** as noted below.","body":"Actually, answering my own comment (can&#39;t edit it now):  it&#39;s probably <a href=\"https://bugs.openjdk.java.net/browse/JDK-8217712\" rel=\"nofollow noreferrer\">JDK-8217712</a>, which refers to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8214002\" rel=\"nofollow noreferrer\">JDK-8214002</a>, which is <b>fixed in Java 12</b> as noted below."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1560373502,"post_id":54314653,"comment_id":99719723,"body_markdown":"@Ti Strga That is indeed the bug.  Sorry for not seeing this sooner.","body":"@Ti Strga That is indeed the bug.  Sorry for not seeing this sooner."}],"answers":[{"comments":[{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":1,"creation_date":1560356028,"post_id":54316590,"comment_id":99712233,"body_markdown":"For what it&#39;s worth, this is fixed in Java 12 (links to bugs above), which I&#39;ve confirmed after encountering the same bug myself.  However, as Java 11 is the current-as-I-write-this LTS release, this kind of workaround may be needed for a couple years yet as large organizations are likely to only upgrade to the next LTS release.","body":"For what it&#39;s worth, this is fixed in Java 12 (links to bugs above), which I&#39;ve confirmed after encountering the same bug myself.  However, as Java 11 is the current-as-I-write-this LTS release, this kind of workaround may be needed for a couple years yet as large organizations are likely to only upgrade to the next LTS release."}],"tags":[],"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548191923,"creation_date":1548191923,"answer_id":54316590,"question_id":54314653,"body_markdown":"Because I don&#39;t like seeing questions without answers: it looks like this is just a result of the change from T2K font renderer to FreeType.\r\n\r\nSome workarounds:\r\n\r\n - Make an italic font face (if you are legally allowed to by license)\r\n - Apply an AffineTransform to the Font object (skew of -20 works well).","title":"Java is not synthesizing italic font faces","body":"<p>Because I don't like seeing questions without answers: it looks like this is just a result of the change from T2K font renderer to FreeType.</p>\n\n<p>Some workarounds:</p>\n\n<ul>\n<li>Make an italic font face (if you are legally allowed to by license)</li>\n<li>Apply an AffineTransform to the Font object (skew of -20 works well).</li>\n</ul>\n"}],"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54316590,"answer_count":1,"score":4,"last_activity_date":1681751499,"creation_date":1548183006,"question_id":54314653,"body_markdown":"**Main question:**\r\n \r\nIs there a setting in OpenJDK that will synthesize italic font faces like the Oracle JDK does?\r\n\r\n**Background:**\r\n\r\nUsing OpenJDK, when drawing text on a Graphics2D object, text will not appear with an oblique style unless there is an italic font face registered with the desired font family.  Oracle&#39;s JDK does synthesize italic font faces.  Swing components also are synthesized.\r\n\r\n**Notes:**\r\n\r\n - Bold is synthesized, bold italic synthesizes just the bold weight.\r\n - I am aware that for best results, italic font faces should be registered.  This is perhaps not a perfect solution for applications that are already taking advantage of synthesized font faces.\r\n - There is a lot out there about JavaFX and fonts, this is not JavaFX, just AWT.\r\n\r\nHere is a simple class that illustrates the issue.  \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsConfiguration;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    \r\n    public class SimpleFontTest {\r\n        private static Font FONT = new Font(&quot;Impact&quot;, Font.ITALIC, 18);\r\n        private static String TEXT = &quot;The Quick Brown Fox&quot;;\r\n        \r\n        public static void main(String args[]) throws UnsupportedLookAndFeelException {\t\t\r\n            if (args.length &gt; 0 &amp;&amp; args[0] != null) {\r\n                String fontName = args[0];\r\n                FONT = new Font(fontName, Font.ITALIC, 18);\r\n            }\r\n    \r\n            JFrame f = new JFrame(&quot;Simple Font Test: &quot; + System.getProperty(&quot;java.vendor&quot;));\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JLabel label = new JLabel(&quot;JLabel: &quot; + TEXT);\r\n            label.setFont(FONT);\r\n    \r\n            GraphicsConfiguration gc = f.getGraphicsConfiguration();\r\n            BufferedImage image = gc.createCompatibleImage(400, 50);\r\n            Graphics2D g = image.createGraphics();\r\n            g.setFont(FONT);\r\n            g.setColor(Color.BLACK);\r\n            g.setBackground(Color.WHITE);\r\n            g.clearRect(0, 0, image.getWidth(), image.getHeight());\r\n            g.drawString(&quot;BufferedImage: &quot; + TEXT, 10, 15);\r\n            g.dispose();\r\n            JLabel picLabel = new JLabel(new ImageIcon(image));\r\n        \r\n            f.add(label, BorderLayout.PAGE_START);\r\n            f.add(picLabel, BorderLayout.CENTER);\r\n            f.setSize(400, 200);\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n\r\nThe output will depend on the JDK used to build and run the class.  Here is a comparison image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ASKEO.png","title":"Java is not synthesizing italic font faces","body":"<p><strong>Main question:</strong></p>\n<p>Is there a setting in OpenJDK that will synthesize italic font faces like the Oracle JDK does?</p>\n<p><strong>Background:</strong></p>\n<p>Using OpenJDK, when drawing text on a Graphics2D object, text will not appear with an oblique style unless there is an italic font face registered with the desired font family.  Oracle's JDK does synthesize italic font faces.  Swing components also are synthesized.</p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Bold is synthesized, bold italic synthesizes just the bold weight.</li>\n<li>I am aware that for best results, italic font faces should be registered.  This is perhaps not a perfect solution for applications that are already taking advantage of synthesized font faces.</li>\n<li>There is a lot out there about JavaFX and fonts, this is not JavaFX, just AWT.</li>\n</ul>\n<p>Here is a simple class that illustrates the issue.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsConfiguration;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class SimpleFontTest {\n    private static Font FONT = new Font(&quot;Impact&quot;, Font.ITALIC, 18);\n    private static String TEXT = &quot;The Quick Brown Fox&quot;;\n    \n    public static void main(String args[]) throws UnsupportedLookAndFeelException {     \n        if (args.length &gt; 0 &amp;&amp; args[0] != null) {\n            String fontName = args[0];\n            FONT = new Font(fontName, Font.ITALIC, 18);\n        }\n\n        JFrame f = new JFrame(&quot;Simple Font Test: &quot; + System.getProperty(&quot;java.vendor&quot;));\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel label = new JLabel(&quot;JLabel: &quot; + TEXT);\n        label.setFont(FONT);\n\n        GraphicsConfiguration gc = f.getGraphicsConfiguration();\n        BufferedImage image = gc.createCompatibleImage(400, 50);\n        Graphics2D g = image.createGraphics();\n        g.setFont(FONT);\n        g.setColor(Color.BLACK);\n        g.setBackground(Color.WHITE);\n        g.clearRect(0, 0, image.getWidth(), image.getHeight());\n        g.drawString(&quot;BufferedImage: &quot; + TEXT, 10, 15);\n        g.dispose();\n        JLabel picLabel = new JLabel(new ImageIcon(image));\n    \n        f.add(label, BorderLayout.PAGE_START);\n        f.add(picLabel, BorderLayout.CENTER);\n        f.setSize(400, 200);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p>The output will depend on the JDK used to build and run the class.  Here is a comparison image:</p>\n<p><a href=\"https://i.stack.imgur.com/ASKEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASKEO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681753355,"post_id":76037614,"comment_id":134104549,"body_markdown":"I would try to remove abstract from &quot;public abstract class BaseEntity&quot;.","body":"I would try to remove abstract from &quot;public abstract class BaseEntity&quot;."},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1681780840,"post_id":76037614,"comment_id":134108942,"body_markdown":"I tried, but it doesn&#39;t work","body":"I tried, but it doesn&#39;t work"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1681810332,"post_id":76037614,"comment_id":134112763,"body_markdown":"Remove the `DaoCore` since it&#39;s not needed. Just use the `JpaRepository` to create proper entity repositories, like the `UserRepository`. If you want to use polymorphic queries, you can do that using custom JPA Repository methods.","body":"Remove the <code>DaoCore</code> since it&#39;s not needed. Just use the <code>JpaRepository</code> to create proper entity repositories, like the <code>UserRepository</code>. If you want to use polymorphic queries, you can do that using custom JPA Repository methods."},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1681810992,"post_id":76037614,"comment_id":134112920,"body_markdown":"Oh my god, thank you so much bro &lt;3","body":"Oh my god, thank you so much bro &lt;3"}],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681751205,"creation_date":1681751205,"question_id":76037614,"body_markdown":"I have the following problem, specifically I have 1 **BaseEntity** declared:\r\n\r\n    package com.game.server.core.entity;\r\n\r\n    import jakarta.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.time.LocalDateTime;\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n\r\n        @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n        protected LocalDateTime createdAt;\r\n\r\n        @Column(name = &quot;updated_at&quot;, nullable = false)\r\n        protected LocalDateTime updatedAt;\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public BaseEntity() {\r\n             this.createdAt = LocalDateTime.now();\r\n             this.updatedAt = LocalDateTime.now();\r\n        }\r\n\r\n         @PreUpdate\r\n         public void preUpdate() {\r\n             this.updatedAt = LocalDateTime.now();\r\n         }\r\n     }\r\nand Entity class **User** : \r\n\r\n    package com.game.server.core.entity;\r\n\r\n    import jakarta.persistence.Entity;\r\n    import lombok.Data;\r\n\r\n    @Entity\r\n    @Data\r\n    public class User extends BaseEntity{\r\n        private String username;\r\n        private String password;\r\n    }\r\n\r\nAnd here is the **DaoCore** repository :\r\n\r\n    package com.game.server.core.dao;\r\n\r\n    import com.game.server.core.entity.BaseEntity;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    @Repository\r\n    public interface DaoCore&lt;T extends BaseEntity,ID extends Integer&gt; extends \r\n    JpaRepository&lt;T,ID&gt; {\r\n    }\r\nAnd here is the **AbstractServiceCRUD** : \r\n\r\n    package com.game.server.core.base;\r\n\r\n    import com.game.server.core.dao.DaoCore;\r\n    import com.game.server.core.entity.BaseEntity;\r\n    import jakarta.transaction.Transactional;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayDeque;\r\n\r\n    @Service\r\n    @Slf4j(topic = &quot;AbstractServiceCRUD&quot;)\r\n    @Transactional(rollbackOn = RuntimeException.class)\r\n    @RequiredArgsConstructor\r\n    public class AbstractServiceCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt; {\r\n        private final DaoCore&lt;T, ID&gt; daoCore;\r\n    \r\n        @Override\r\n        public T save(T bo) {\r\n            try {\r\n                log.info(&quot;saving data&quot;);\r\n                return daoCore.save(bo);\r\n            } catch (Exception e) {\r\n                log.error(&quot;error saving data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public T update(T bo, ID id) {\r\n            try {\r\n                if (!(id instanceof Integer)) {\r\n                    log.info(&quot;id is not instance Integer&quot;);\r\n                    return null;\r\n                }\r\n                boolean isExist = daoCore.existsById(id);\r\n                if (isExist) {\r\n                    log.info(&quot;updating data with id: {}&quot;, id);\r\n                    bo.preUpdate();\r\n                    return daoCore.save(bo);\r\n                }\r\n                log.info(&quot;data with id: {} not found&quot;, id);\r\n                return null;\r\n            } catch (Exception e) {\r\n                log.error(&quot;error updating data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public T delete(T bo) {\r\n            try {\r\n                ID id = (ID) bo.getId();\r\n                if (id != null) {\r\n                    log.info(&quot;deleting data with id: {}&quot;, id);\r\n                    daoCore.deleteById(id);\r\n                    return bo;\r\n                }\r\n                log.info(&quot;data with id: {} not found&quot;, id);\r\n                return null;\r\n            } catch (Exception e) {\r\n                log.error(&quot;error deleting data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public T findById(ID id) {\r\n            log.info(&quot;finding data with id: {}&quot;, id);\r\n            T bo = daoCore.findById(id).orElse(null);\r\n            if (bo != null) {\r\n                log.info(&quot;data with id: {} found&quot;, id);\r\n                return bo;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public ArrayDeque&lt;T&gt; findAll() {\r\n            log.info(&quot;finding all data&quot;);\r\n            return new ArrayDeque&lt;&gt;(daoCore.findAll());\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;T&gt; findAll(Pageable pageable) {\r\n            log.info(&quot;finding all data with page {} and size {}&quot;, pageable.getPageNumber(), pageable.getPageSize());\r\n            return daoCore.findAll(pageable);\r\n        }\r\n    }\r\nand here is **AbstractControllerCRUD** :\r\n\r\n \r\n\r\n    package com.game.server.core.base;\r\n    \r\n    import com.game.server.core.entity.BaseEntity;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.ArrayDeque;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class AbstractControllerCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt;{\r\n        @Autowired\r\n        private AbstractServiceCRUD&lt;T, ID&gt; abstractServiceCRUD;\r\n    \r\n    \r\n        @PostMapping(&quot;/insert&quot;)\r\n        @Override\r\n        public T save(@RequestBody T bo) {\r\n            return abstractServiceCRUD.save(bo);\r\n        }\r\n    \r\n        @PostMapping(&quot;/update/{id}&quot;)\r\n        @Override\r\n        public T update( @RequestBody T bo,@PathVariable ID id) {\r\n            return abstractServiceCRUD.update(bo, id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/delete/{id}&quot;)\r\n        @Override\r\n        public T delete(@RequestBody T bo) {\r\n            return abstractServiceCRUD.delete(bo);\r\n        }\r\n    \r\n        @GetMapping(&quot;/find/{id}&quot;)\r\n        @Override\r\n        public T findById(@PathVariable ID id) {\r\n            return abstractServiceCRUD.findById(id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/findAll&quot;)\r\n        @Override\r\n        public ArrayDeque&lt;T&gt; findAll() {\r\n            return abstractServiceCRUD.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/findAllPage&quot;)\r\n        @Override\r\n        public Page&lt;T&gt; findAll(@RequestBody Pageable pageable) {\r\n            return abstractServiceCRUD.findAll(pageable);\r\n        }\r\n    }\r\nAnd here is **UserController** :\r\n\r\n    package com.game.server.core.endpoint;\r\n    \r\n    import com.game.server.core.base.AbstractControllerCRUD;\r\n    import com.game.server.core.entity.User;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController extends AbstractControllerCRUD&lt;User,Integer&gt; {\r\n    }\r\nand here is **application.properities** file : \r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/nro\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123456\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n\r\nWhen I call to api : **/api/user/insert** it successfully adds no problem, but when I call to api : **/api/user/find/{id}**\r\nthen it will throw the following error: org.hibernate.UnknownEntityTypeException: ***Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity***, \r\nI have used EntityScan to scan Entities but it is not possible, my purpose is not to want JPA to create a table for BaseEntity\r\n\r\n","title":"org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity","body":"<p>I have the following problem, specifically I have 1 <strong>BaseEntity</strong> declared:</p>\n<pre><code>package com.game.server.core.entity;\n\nimport jakarta.persistence.*;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\n\n@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    protected LocalDateTime createdAt;\n\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    protected LocalDateTime updatedAt;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public BaseEntity() {\n         this.createdAt = LocalDateTime.now();\n         this.updatedAt = LocalDateTime.now();\n    }\n\n     @PreUpdate\n     public void preUpdate() {\n         this.updatedAt = LocalDateTime.now();\n     }\n }\n</code></pre>\n<p>and Entity class <strong>User</strong> :</p>\n<pre><code>package com.game.server.core.entity;\n\nimport jakarta.persistence.Entity;\nimport lombok.Data;\n\n@Entity\n@Data\npublic class User extends BaseEntity{\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>And here is the <strong>DaoCore</strong> repository :</p>\n<pre><code>package com.game.server.core.dao;\n\nimport com.game.server.core.entity.BaseEntity;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n@Repository\npublic interface DaoCore&lt;T extends BaseEntity,ID extends Integer&gt; extends \nJpaRepository&lt;T,ID&gt; {\n}\n</code></pre>\n<p>And here is the <strong>AbstractServiceCRUD</strong> :</p>\n<pre><code>package com.game.server.core.base;\n\nimport com.game.server.core.dao.DaoCore;\nimport com.game.server.core.entity.BaseEntity;\nimport jakarta.transaction.Transactional;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayDeque;\n\n@Service\n@Slf4j(topic = &quot;AbstractServiceCRUD&quot;)\n@Transactional(rollbackOn = RuntimeException.class)\n@RequiredArgsConstructor\npublic class AbstractServiceCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt; {\n    private final DaoCore&lt;T, ID&gt; daoCore;\n\n    @Override\n    public T save(T bo) {\n        try {\n            log.info(&quot;saving data&quot;);\n            return daoCore.save(bo);\n        } catch (Exception e) {\n            log.error(&quot;error saving data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public T update(T bo, ID id) {\n        try {\n            if (!(id instanceof Integer)) {\n                log.info(&quot;id is not instance Integer&quot;);\n                return null;\n            }\n            boolean isExist = daoCore.existsById(id);\n            if (isExist) {\n                log.info(&quot;updating data with id: {}&quot;, id);\n                bo.preUpdate();\n                return daoCore.save(bo);\n            }\n            log.info(&quot;data with id: {} not found&quot;, id);\n            return null;\n        } catch (Exception e) {\n            log.error(&quot;error updating data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n\n    @Override\n    public T delete(T bo) {\n        try {\n            ID id = (ID) bo.getId();\n            if (id != null) {\n                log.info(&quot;deleting data with id: {}&quot;, id);\n                daoCore.deleteById(id);\n                return bo;\n            }\n            log.info(&quot;data with id: {} not found&quot;, id);\n            return null;\n        } catch (Exception e) {\n            log.error(&quot;error deleting data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public T findById(ID id) {\n        log.info(&quot;finding data with id: {}&quot;, id);\n        T bo = daoCore.findById(id).orElse(null);\n        if (bo != null) {\n            log.info(&quot;data with id: {} found&quot;, id);\n            return bo;\n        }\n        return null;\n    }\n\n    @Override\n    public ArrayDeque&lt;T&gt; findAll() {\n        log.info(&quot;finding all data&quot;);\n        return new ArrayDeque&lt;&gt;(daoCore.findAll());\n    }\n\n    @Override\n    public Page&lt;T&gt; findAll(Pageable pageable) {\n        log.info(&quot;finding all data with page {} and size {}&quot;, pageable.getPageNumber(), pageable.getPageSize());\n        return daoCore.findAll(pageable);\n    }\n}\n</code></pre>\n<p>and here is <strong>AbstractControllerCRUD</strong> :</p>\n<pre><code>package com.game.server.core.base;\n\nimport com.game.server.core.entity.BaseEntity;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayDeque;\n\n@RestController\n@RequiredArgsConstructor\npublic class AbstractControllerCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt;{\n    @Autowired\n    private AbstractServiceCRUD&lt;T, ID&gt; abstractServiceCRUD;\n\n\n    @PostMapping(&quot;/insert&quot;)\n    @Override\n    public T save(@RequestBody T bo) {\n        return abstractServiceCRUD.save(bo);\n    }\n\n    @PostMapping(&quot;/update/{id}&quot;)\n    @Override\n    public T update( @RequestBody T bo,@PathVariable ID id) {\n        return abstractServiceCRUD.update(bo, id);\n    }\n\n    @GetMapping(&quot;/delete/{id}&quot;)\n    @Override\n    public T delete(@RequestBody T bo) {\n        return abstractServiceCRUD.delete(bo);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    @Override\n    public T findById(@PathVariable ID id) {\n        return abstractServiceCRUD.findById(id);\n    }\n\n    @GetMapping(&quot;/findAll&quot;)\n    @Override\n    public ArrayDeque&lt;T&gt; findAll() {\n        return abstractServiceCRUD.findAll();\n    }\n\n    @GetMapping(&quot;/findAllPage&quot;)\n    @Override\n    public Page&lt;T&gt; findAll(@RequestBody Pageable pageable) {\n        return abstractServiceCRUD.findAll(pageable);\n    }\n}\n</code></pre>\n<p>And here is <strong>UserController</strong> :</p>\n<pre><code>package com.game.server.core.endpoint;\n\nimport com.game.server.core.base.AbstractControllerCRUD;\nimport com.game.server.core.entity.User;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController extends AbstractControllerCRUD&lt;User,Integer&gt; {\n}\n</code></pre>\n<p>and here is <strong>application.properities</strong> file :</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/nro\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\n</code></pre>\n<p>When I call to api : <strong>/api/user/insert</strong> it successfully adds no problem, but when I call to api : <strong>/api/user/find/{id}</strong>\nthen it will throw the following error: org.hibernate.UnknownEntityTypeException: <em><strong>Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity</strong></em>,\nI have used EntityScan to scan Entities but it is not possible, my purpose is not to want JPA to create a table for BaseEntity</p>\n"},{"tags":["java","arrays","collections","java-stream"],"comments":[{"owner":{"account_id":1974002,"reputation":504,"user_id":1772219,"display_name":"Eduardo Meneses"},"score":1,"creation_date":1542127585,"post_id":53285724,"comment_id":93453535,"body_markdown":"Here you can find it: https://stackoverflow.com/questions/23079003/how-to-convert-a-java-8-stream-to-an-array","body":"Here you can find it: <a href=\"https://stackoverflow.com/questions/23079003/how-to-convert-a-java-8-stream-to-an-array\" title=\"how to convert a java 8 stream to an array\">stackoverflow.com/questions/23079003/&hellip;</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542145787,"post_id":53285724,"comment_id":93461806,"body_markdown":"@nullpointer, this is not a duplicate. Please explain how this is a duplicate. I know how to convert a stream to an array. I&#39;m asking how to most efficiently create stream to an array with the added restrictions that the `Collections.toArray(T[] array)` provides. Did you read that part of the question?","body":"@nullpointer, this is not a duplicate. Please explain how this is a duplicate. I know how to convert a stream to an array. I&#39;m asking how to most efficiently create stream to an array with the added restrictions that the <code>Collections.toArray(T[] array)</code> provides. Did you read that part of the question?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1542146963,"post_id":53285724,"comment_id":93462231,"body_markdown":"The easiest way would be for your collection to extend AbstractCollection, and let the default implementation do its job.","body":"The easiest way would be for your collection to extend AbstractCollection, and let the default implementation do its job."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1542147187,"post_id":53285724,"comment_id":93462317,"body_markdown":"If performance is not a major concern, you can defer to the JDK: `getStream().collect(Collectors.toList()).toArray(array)`","body":"If performance is not a major concern, you can defer to the JDK: <code>getStream().collect(Collectors.toList()).toArray(array)</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1542269400,"post_id":53285724,"comment_id":93509974,"body_markdown":"OK so may I ask why you need that? Holger already said in his answer what happens in java-11, you can even read the answer from the method creator [himself](https://stackoverflow.com/questions/51902362/collections-emptylist-singleton-singletonlist-list-set-toarray)... so why would you need that?","body":"OK so may I ask why you need that? Holger already said in his answer what happens in java-11, you can even read the answer from the method creator <a href=\"https://stackoverflow.com/questions/51902362/collections-emptylist-singleton-singletonlist-list-set-toarray\">himself</a>... so why would you need that?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542304084,"post_id":53285724,"comment_id":93530855,"body_markdown":"&quot;OK so may I ask why you need that?&quot; Because it&#39;s the contract of `Collection.toArray()`. I didn&#39;t invent it. Every `Collection` must implement that method according to the API contract.","body":"&quot;OK so may I ask why you need that?&quot; Because it&#39;s the contract of <code>Collection.toArray()</code>. I didn&#39;t invent it. Every <code>Collection</code> must implement that method according to the API contract."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1542304551,"post_id":53285724,"comment_id":93531095,"body_markdown":"Why don&#39;t you extend AbstractCollection?","body":"Why don&#39;t you extend AbstractCollection?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542329502,"post_id":53285724,"comment_id":93540153,"body_markdown":"Everyone, thank you for the suggestion to extend `AbstractCollection`. I am aware of that option. Now does anyone have an answer to the question?","body":"Everyone, thank you for the suggestion to extend <code>AbstractCollection</code>. I am aware of that option. Now does anyone have an answer to the question?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542225082,"creation_date":1542225082,"answer_id":53307798,"question_id":53285724,"body_markdown":"A very recommended read is the article [Arrays of Wisdom of the Ancients](https://shipilev.net/blog/2016/arrays-wisdom-ancients/).\r\n\r\nIn short, contrary to intuition, passing a pre-sized array to the `Collections.toArray(T[])` method turns out to be less efficient than passing a zero sized array, which only serves to determine the result type but lets the collection allocate the result array.\r\n\r\nThat’s why Java&#160;11’s new `default` method [`&lt;T&gt; T[] toArray​(IntFunction&lt;T[]&gt; generator)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)) does not use the function to allocate an array of the collection’s size but rather to allocate a zero sized array to be passed to `&lt;T&gt; T[] toArray​(T[] a)`.\r\n\r\nSo it’s worth rethinking whether you really want such a contract for a method or which actual use cases you really want to optimize for (as you can’t serve all at once).\r\n\r\nE.g. considering that passing a zero sized array is the most efficient choice anyway, you could optimize for exactly that case\r\n\r\n    @Override\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n        T[] template = array.length == 0? array: Arrays.copyOf(array, 0);\r\n        try(Stream&lt;FooBar&gt; stream = getStream()) {\r\n            T[] result = stream.map(converter::toT)\r\n                .toArray(length -&gt; Arrays.copyOf(template, length));\r\n            if(result.length &gt; array.length) return result;\r\n            System.arraycopy(result, 0, array, 0, result.length);\r\n            if(result.length &lt; array.length) array[result.length] = null;\r\n            return array;\r\n        }\r\n    }\r\n\r\nNote that when you have to implement that method because you’re implementing a `Collection`, there are plenty of helpful abstract base classes in the JDK which provide an implementation already.\r\n\r\nYou could even utilize such an implementation when you are not implementing a collection, e.g.\r\n\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n        try(final Stream&lt;FooBar&gt; stream = getStream()) {\r\n            return new AbstractCollection&lt;XYZ&gt;() {\r\n                public Iterator&lt;XYZ&gt; iterator() {\r\n                    return stream.map(converter::toT).iterator();\r\n                }\r\n                public int size() { return 0; } // don&#39;t know beforehand\r\n            }.toArray(array);\r\n        }\r\n    }\r\nYou have to replace `XYZ` with the return type of the `converter.toT(FooBar)` method.\r\n\r\nWhich leads to the bigger question, how `converter::toT` is supposed to convert to the right type without actually knowing what `T` is.\r\n","title":"Converting Java stream to array as per Collection.toArray(T[] array) contract","body":"<p>A very recommended read is the article <a href=\"https://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"nofollow noreferrer\">Arrays of Wisdom of the Ancients</a>.</p>\n\n<p>In short, contrary to intuition, passing a pre-sized array to the <code>Collections.toArray(T[])</code> method turns out to be less efficient than passing a zero sized array, which only serves to determine the result type but lets the collection allocate the result array.</p>\n\n<p>That’s why Java 11’s new <code>default</code> method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; T[] toArray​(IntFunction&lt;T[]&gt; generator)</code></a> does not use the function to allocate an array of the collection’s size but rather to allocate a zero sized array to be passed to <code>&lt;T&gt; T[] toArray​(T[] a)</code>.</p>\n\n<p>So it’s worth rethinking whether you really want such a contract for a method or which actual use cases you really want to optimize for (as you can’t serve all at once).</p>\n\n<p>E.g. considering that passing a zero sized array is the most efficient choice anyway, you could optimize for exactly that case</p>\n\n<pre><code>@Override\npublic &lt;T&gt; T[] toArray(T[] array) {\n    T[] template = array.length == 0? array: Arrays.copyOf(array, 0);\n    try(Stream&lt;FooBar&gt; stream = getStream()) {\n        T[] result = stream.map(converter::toT)\n            .toArray(length -&gt; Arrays.copyOf(template, length));\n        if(result.length &gt; array.length) return result;\n        System.arraycopy(result, 0, array, 0, result.length);\n        if(result.length &lt; array.length) array[result.length] = null;\n        return array;\n    }\n}\n</code></pre>\n\n<p>Note that when you have to implement that method because you’re implementing a <code>Collection</code>, there are plenty of helpful abstract base classes in the JDK which provide an implementation already.</p>\n\n<p>You could even utilize such an implementation when you are not implementing a collection, e.g.</p>\n\n<pre><code>public &lt;T&gt; T[] toArray(T[] array) {\n    try(final Stream&lt;FooBar&gt; stream = getStream()) {\n        return new AbstractCollection&lt;XYZ&gt;() {\n            public Iterator&lt;XYZ&gt; iterator() {\n                return stream.map(converter::toT).iterator();\n            }\n            public int size() { return 0; } // don't know beforehand\n        }.toArray(array);\n    }\n}\n</code></pre>\n\n<p>You have to replace <code>XYZ</code> with the return type of the <code>converter.toT(FooBar)</code> method.</p>\n\n<p>Which leads to the bigger question, how <code>converter::toT</code> is supposed to convert to the right type without actually knowing what <code>T</code> is.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1681751115,"creation_date":1542127430,"question_id":53285724,"body_markdown":"I know that the Java `Stream&lt;&gt;` interface provides several ways to convert a stream to an array. But the `Collection.toArray(T[] array)` method is a little different. It has a few clever (at the time) requirements, including:\r\n\r\n* If the array you pass is big enough, the array you pass must be used; otherwise a new one must be created.\r\n* If the array is bigger than necessary, `null` must be added after the last element.\r\n\r\nSo if my `Collection&lt;T&gt;` implementation retrieves its values from some `Stream&lt;FooBar&gt;` (with a converter strategy that converts to `T`, how can I convert from my stream to the array required by `Collection.toArray(T[] array)`?\r\n\r\nWithout a lot of thought, it would seem I have to do this:\r\n\r\n    @Override\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n      try (final Stream&lt;FooBar&gt; stream = getStream()) {\r\n        T[] result = stream.map(converter::toT).toArray(length -&gt;\r\n            (T[])Array.newInstance(array.getClass(), length));\r\n        if(result.length &lt;= array.length) {\r\n          System.arraycopy(result, 0, array, 0, result.length);\r\n          if(result.length &lt; array.length) {\r\n            array[result.length] = null;\r\n          }\r\n          result = array;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\nBut is there some more concise way to do this? Is there some way I could transfer the stream directly into the given array if possible? And does the `Stream&lt;&gt;` API already provide for something like this: creating an array as the `Collection&lt;&gt;.toArray(T[] array)` API expects?\r\n\r\nResponse to possible duplicates\r\n---\r\n\r\nI know how to convert a stream to an array. This question is very specific: how to follow the contract of `Collection.toArray(T[] array)`. I don&#39;t think this is a duplicate, for two reasons: the other answers do not re-use an existing array if it is big enough, and they don&#39;t mark an element with `null` if the existing array is too big.\r\n","title":"Converting Java stream to array as per Collection.toArray(T[] array) contract","body":"<p>I know that the Java <code>Stream&lt;&gt;</code> interface provides several ways to convert a stream to an array. But the <code>Collection.toArray(T[] array)</code> method is a little different. It has a few clever (at the time) requirements, including:</p>\n<ul>\n<li>If the array you pass is big enough, the array you pass must be used; otherwise a new one must be created.</li>\n<li>If the array is bigger than necessary, <code>null</code> must be added after the last element.</li>\n</ul>\n<p>So if my <code>Collection&lt;T&gt;</code> implementation retrieves its values from some <code>Stream&lt;FooBar&gt;</code> (with a converter strategy that converts to <code>T</code>, how can I convert from my stream to the array required by <code>Collection.toArray(T[] array)</code>?</p>\n<p>Without a lot of thought, it would seem I have to do this:</p>\n<pre><code>@Override\npublic &lt;T&gt; T[] toArray(T[] array) {\n  try (final Stream&lt;FooBar&gt; stream = getStream()) {\n    T[] result = stream.map(converter::toT).toArray(length -&gt;\n        (T[])Array.newInstance(array.getClass(), length));\n    if(result.length &lt;= array.length) {\n      System.arraycopy(result, 0, array, 0, result.length);\n      if(result.length &lt; array.length) {\n        array[result.length] = null;\n      }\n      result = array;\n    }\n  }\n  return result;\n}\n</code></pre>\n<p>But is there some more concise way to do this? Is there some way I could transfer the stream directly into the given array if possible? And does the <code>Stream&lt;&gt;</code> API already provide for something like this: creating an array as the <code>Collection&lt;&gt;.toArray(T[] array)</code> API expects?</p>\n<h2>Response to possible duplicates</h2>\n<p>I know how to convert a stream to an array. This question is very specific: how to follow the contract of <code>Collection.toArray(T[] array)</code>. I don't think this is a duplicate, for two reasons: the other answers do not re-use an existing array if it is big enough, and they don't mark an element with <code>null</code> if the existing array is too big.</p>\n"},{"tags":["java","web-applications","jar","runtime","classloader"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681751027,"creation_date":1681751027,"answer_id":76037594,"question_id":75953991,"body_markdown":"You have added a method to your custom class loader to load a single class on your own request. However, if the plugin consists of more than one class, i.e. the class you’re trying to load has dependencies to other classes within the plugin, the JVM will request those classes from your loader. Those requests won’t use your `loadPluginClass` method which the JVM can’t know. Instead, it will invoke the inherited method [`loadClass(String name, boolean resolve)`].\r\n\r\nSince you didn’t override neither this method nor the [`findClass(String name)`] method (which would be the preferred way), this method will throw a `ClassNotFoundException` for every class not found through the parent loader. A failure to resolve a dependency may cause a failure for the dependent class, so even your initial call to `loadPluginClass` can fail with a `ClassNotFoundException` at the `defineClass` call.\r\n\r\nSince you said that you are using jar files for your plugins, there is no need to implement your own `ClassLoader` at all. Just use the already existing [`URLClassLoader`] and pass the `URL` of the jar file to the constructor. Or subclass it, to be able to call [`addURL`] on it. Mind that the correct way to convert a `File` to a `URL` is to call `toURI().toURL()` on the `File` object instead of `toURL()`, to avoid problems with spaces or other special characters in path names.\r\n\r\nFurther keep in mind to specify your main application’s loader as parent loader when the main application has not been loaded through the [default application class loader].\r\n\r\n[`loadClass(String name, boolean resolve)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\r\n[`findClass(String name)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#findClass(java.lang.String)\r\n[`URLClassLoader`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html\r\n[`addURL`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html#addURL(java.net.URL)\r\n[default application class loader]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()","title":"How can I implement a custom class loader in Java that dynamically loads and executes Java code at runtime?","body":"<p>You have added a method to your custom class loader to load a single class on your own request. However, if the plugin consists of more than one class, i.e. the class you’re trying to load has dependencies to other classes within the plugin, the JVM will request those classes from your loader. Those requests won’t use your <code>loadPluginClass</code> method which the JVM can’t know. Instead, it will invoke the inherited method <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\" rel=\"nofollow noreferrer\"><code>loadClass(String name, boolean resolve)</code></a>.</p>\n<p>Since you didn’t override neither this method nor the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#findClass(java.lang.String)\" rel=\"nofollow noreferrer\"><code>findClass(String name)</code></a> method (which would be the preferred way), this method will throw a <code>ClassNotFoundException</code> for every class not found through the parent loader. A failure to resolve a dependency may cause a failure for the dependent class, so even your initial call to <code>loadPluginClass</code> can fail with a <code>ClassNotFoundException</code> at the <code>defineClass</code> call.</p>\n<p>Since you said that you are using jar files for your plugins, there is no need to implement your own <code>ClassLoader</code> at all. Just use the already existing <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\"><code>URLClassLoader</code></a> and pass the <code>URL</code> of the jar file to the constructor. Or subclass it, to be able to call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html#addURL(java.net.URL)\" rel=\"nofollow noreferrer\"><code>addURL</code></a> on it. Mind that the correct way to convert a <code>File</code> to a <code>URL</code> is to call <code>toURI().toURL()</code> on the <code>File</code> object instead of <code>toURL()</code>, to avoid problems with spaces or other special characters in path names.</p>\n<p>Further keep in mind to specify your main application’s loader as parent loader when the main application has not been loaded through the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()\" rel=\"nofollow noreferrer\">default application class loader</a>.</p>\n"}],"owner":{"display_name":"user15773347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037594,"answer_count":1,"score":0,"last_activity_date":1681751027,"creation_date":1680817374,"question_id":75953991,"body_markdown":"I am building a Java-based application that needs to dynamically load and execute plugin classes at runtime. Each plugin is represented by a separate Java class file that implements a common interface Plugin. To achieve this, I need to implement a custom class loader (PluginClassLoader) that can load and instantiate plugin classes from external JAR files.\r\n\r\nI tried implementing a custom class loader in my Java-based application to dynamically load and execute plugin classes at runtime. I expected the plugin classes to be successfully loaded and instantiated from external JAR files, and for them to be available for execution within my application&#39;s context.\r\n\r\nHere&#39;s an example of my attemted custom class loader:\r\n\r\n```java\r\npublic class PluginClassLoader extends ClassLoader {\r\n\r\n    public Class&lt;?&gt; loadPluginClass(String pluginFilePath) throws IOException {\r\n        byte[] pluginBytes = readPluginFile(pluginFilePath);\r\n        return defineClass(null, pluginBytes, 0, pluginBytes.length);\r\n    }\r\n\r\n    private byte[] readPluginFile(String pluginFilePath) throws IOException {\r\n        // Code to read the plugin file from external JAR\r\n    }\r\n}\r\n```\r\nI expected that the loadPluginClass method would load the plugin class from the specified file path and return a `Class` object that I could then use to instantiate and execute the plugin. However, when I tested it, I encountered class loading issues and `ClassNotFoundExceptions` for the plugin classes that I tried to load.","title":"How can I implement a custom class loader in Java that dynamically loads and executes Java code at runtime?","body":"<p>I am building a Java-based application that needs to dynamically load and execute plugin classes at runtime. Each plugin is represented by a separate Java class file that implements a common interface Plugin. To achieve this, I need to implement a custom class loader (PluginClassLoader) that can load and instantiate plugin classes from external JAR files.</p>\n<p>I tried implementing a custom class loader in my Java-based application to dynamically load and execute plugin classes at runtime. I expected the plugin classes to be successfully loaded and instantiated from external JAR files, and for them to be available for execution within my application's context.</p>\n<p>Here's an example of my attemted custom class loader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PluginClassLoader extends ClassLoader {\n\n    public Class&lt;?&gt; loadPluginClass(String pluginFilePath) throws IOException {\n        byte[] pluginBytes = readPluginFile(pluginFilePath);\n        return defineClass(null, pluginBytes, 0, pluginBytes.length);\n    }\n\n    private byte[] readPluginFile(String pluginFilePath) throws IOException {\n        // Code to read the plugin file from external JAR\n    }\n}\n</code></pre>\n<p>I expected that the loadPluginClass method would load the plugin class from the specified file path and return a <code>Class</code> object that I could then use to instantiate and execute the plugin. However, when I tested it, I encountered class loading issues and <code>ClassNotFoundExceptions</code> for the plugin classes that I tried to load.</p>\n"},{"tags":["java","android","android-studio","sdk","emulation"],"answers":[{"tags":[],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681750310,"creation_date":1681750310,"answer_id":76037491,"question_id":76037490,"body_markdown":"Basically what I had to do is install &quot;Additional Windows Features&quot;, which is weird because I&#39;m having Windows 10 Pro N version.\r\n\r\nTo install you go through Settings -&gt; Apps -&gt; Apps &amp; features tab -&gt; Optional features -&gt; Add a feature -&gt; Media Feature Pack. \r\n\r\nSearch for it and after installation it will work fine :)","title":"The emulator process for AVD was terminated 1073741515 (0xc0000135). MFPlat.DLL was not found","body":"<p>Basically what I had to do is install &quot;Additional Windows Features&quot;, which is weird because I'm having Windows 10 Pro N version.</p>\n<p>To install you go through Settings -&gt; Apps -&gt; Apps &amp; features tab -&gt; Optional features -&gt; Add a feature -&gt; Media Feature Pack.</p>\n<p>Search for it and after installation it will work fine :)</p>\n"}],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76037491,"answer_count":1,"score":2,"last_activity_date":1681750623,"creation_date":1681750310,"question_id":76037490,"body_markdown":"My Emulator just stopped opening after Android Studio update or after some development kit installations just showing &quot;The emulator process for AVD was terminated&quot;. It was working fine before update.\r\n\r\nIt is not memory problem because I have a lot of free space.\r\n\r\nI took Error code from idea.log (C:\\Users\\YourUserName\\AppData\\Local\\Google\\AndroidStudio2020.3\\log\\idea.log)","title":"The emulator process for AVD was terminated 1073741515 (0xc0000135). MFPlat.DLL was not found","body":"<p>My Emulator just stopped opening after Android Studio update or after some development kit installations just showing &quot;The emulator process for AVD was terminated&quot;. It was working fine before update.</p>\n<p>It is not memory problem because I have a lot of free space.</p>\n<p>I took Error code from idea.log (C:\\Users\\YourUserName\\AppData\\Local\\Google\\AndroidStudio2020.3\\log\\idea.log)</p>\n"},{"tags":["java","format","messageformat"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681769144,"post_id":76037501,"comment_id":134107529,"body_markdown":"Have you read the documentation of [MessageFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/MessageFormat.html) and [ChoiceFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/ChoiceFormat.html)?","body":"Have you read the documentation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">MessageFormat</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/ChoiceFormat.html\" rel=\"nofollow noreferrer\">ChoiceFormat</a>?"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681750386,"creation_date":1681750386,"question_id":76037501,"body_markdown":"It&#39;s my first time with MessageFormat class, and I&#39;m confuse.\r\n\r\nI have that method which print result from my Stock list.I had IllegalArgumentException, I had to add one &quot;null&quot; to\r\n\r\n```\r\nFormat[] testFormats = {null, null, dateFormat, fileform};\r\n```\r\n\r\nNow it&#39;s works, but I don&#39;t understand this structure.\r\n\r\n```\r\npublic static void printStocks(List&lt;Stock&gt; stocks, Date actualDate) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n        double[] filelimits = {0d, actualDate.getTime()};\r\n        String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\r\n\r\n        ChoiceFormat fileform = new ChoiceFormat(filelimits, filepart);\r\n        Format[] testFormats = {null, null, dateFormat, fileform};\r\n        MessageFormat pattform = new MessageFormat(&quot;{0}    {1} | {5} {6}&quot;);\r\n\r\n        pattform.setFormats(testFormats);\r\n\r\n        Object[] testArgs = {name, symbol, open, last, change, date, date.getTime()};\r\n```\r\n\r\n```\r\npublic static class Stock extends HashMap&lt;String, Object&gt; {\r\n        public Stock(String name, String symbol, double open, double last) {\r\n            put(&quot;name&quot;, name);\r\n            put(&quot;symbol&quot;, symbol);\r\n            put(&quot;open&quot;, open);\r\n            put(&quot;last&quot;, last);\r\n            put(&quot;date&quot;, getRandomDate(2020));\r\n        }\r\n\r\n        public Stock(String name, String symbol, double change, Date date) {\r\n            put(&quot;name&quot;, name);\r\n            put(&quot;symbol&quot;, symbol);\r\n            put(&quot;date&quot;, date);\r\n            put(&quot;change&quot;, change);\r\n        }\r\n    }\r\n```\r\n\r\nExample output:\r\n\r\n```\r\nApple Inc.    AAPL | 20-09-2047 open 125.64 and last 123.43\r\nFake Applied Materials, Inc.   AMAT | 15-01-1983 change 0.26\r\n```\r\n\r\nI suppose that {0} is related to &quot;name&quot;, {1} to &quot;symbol&quot;, {5} and {6} are correlated somehow with ChoiseFormat object which decide to use version from\r\n\r\n```\r\nString[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\r\n```\r\n\r\nand  Format\\[\\] testFormats four elements I suppose are correlated with four elements\r\n\r\n```\r\n(&quot;{0}    {1} | {5} {6}&quot;)\r\n```\r\n\r\nHow to grasp and better understand connection and cooperation ChoiceFormat with MessageFormat?","title":"Problem with correlation between MessageFormat and ChoiceFormat with usage Format[] objects","body":"<p>It's my first time with MessageFormat class, and I'm confuse.</p>\n<p>I have that method which print result from my Stock list.I had IllegalArgumentException, I had to add one &quot;null&quot; to</p>\n<pre><code>Format[] testFormats = {null, null, dateFormat, fileform};\n</code></pre>\n<p>Now it's works, but I don't understand this structure.</p>\n<pre><code>public static void printStocks(List&lt;Stock&gt; stocks, Date actualDate) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n        double[] filelimits = {0d, actualDate.getTime()};\n        String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\n\n        ChoiceFormat fileform = new ChoiceFormat(filelimits, filepart);\n        Format[] testFormats = {null, null, dateFormat, fileform};\n        MessageFormat pattform = new MessageFormat(&quot;{0}    {1} | {5} {6}&quot;);\n\n        pattform.setFormats(testFormats);\n\n        Object[] testArgs = {name, symbol, open, last, change, date, date.getTime()};\n</code></pre>\n<pre><code>public static class Stock extends HashMap&lt;String, Object&gt; {\n        public Stock(String name, String symbol, double open, double last) {\n            put(&quot;name&quot;, name);\n            put(&quot;symbol&quot;, symbol);\n            put(&quot;open&quot;, open);\n            put(&quot;last&quot;, last);\n            put(&quot;date&quot;, getRandomDate(2020));\n        }\n\n        public Stock(String name, String symbol, double change, Date date) {\n            put(&quot;name&quot;, name);\n            put(&quot;symbol&quot;, symbol);\n            put(&quot;date&quot;, date);\n            put(&quot;change&quot;, change);\n        }\n    }\n</code></pre>\n<p>Example output:</p>\n<pre><code>Apple Inc.    AAPL | 20-09-2047 open 125.64 and last 123.43\nFake Applied Materials, Inc.   AMAT | 15-01-1983 change 0.26\n</code></pre>\n<p>I suppose that {0} is related to &quot;name&quot;, {1} to &quot;symbol&quot;, {5} and {6} are correlated somehow with ChoiseFormat object which decide to use version from</p>\n<pre><code>String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\n</code></pre>\n<p>and  Format[] testFormats four elements I suppose are correlated with four elements</p>\n<pre><code>(&quot;{0}    {1} | {5} {6}&quot;)\n</code></pre>\n<p>How to grasp and better understand connection and cooperation ChoiceFormat with MessageFormat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1681749195,"post_id":76037311,"comment_id":134103542,"body_markdown":"`getData` doesn&#39;t contain functions. It contains `String`, which is not a function. If it contained something callable like a [`Function`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html), then you could invoke the `apply` method on *that* to call it.","body":"<code>getData</code> doesn&#39;t contain functions. It contains <code>String</code>, which is not a function. If it contained something callable like a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function</code></a>, then you could invoke the <code>apply</code> method on <i>that</i> to call it."}],"answers":[{"comments":[{"owner":{"account_id":2772246,"reputation":1263,"user_id":2386620,"accept_rate":66,"display_name":"adbarads"},"score":0,"creation_date":1681750372,"post_id":76037395,"comment_id":134103812,"body_markdown":"omg, didn&#39;t realize it was that simple. This was exactly what I was looking for. I googled quite a bit, and couldn&#39;t find it. I like the lambdas version","body":"omg, didn&#39;t realize it was that simple. This was exactly what I was looking for. I googled quite a bit, and couldn&#39;t find it. I like the lambdas version"}],"tags":[],"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681749909,"creation_date":1681749494,"answer_id":76037395,"question_id":76037311,"body_markdown":"You can use the `Function` type to use a function as a variable and then store instances of functions within the map that you can retrieve and call dynamically. For example:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) { \r\n    // Using method references\r\n    Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\r\n      Map.entry(&quot;a&quot;, Main::a),\r\n      Map.entry(&quot;b&quot;, Main::b)\r\n    );\r\n\r\n    // Alternatively, using lambdas\r\n    // Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\r\n    //   Map.entry(&quot;a&quot;, (s) -&gt; s + &quot;a&quot;),\r\n    //   Map.entry(&quot;b&quot;, (s) -&gt; s + &quot;b&quot;)\r\n    // );\r\n\r\n    System.out.println(map.get(&quot;a&quot;).apply(&quot;test&quot;));\r\n  }\r\n\r\n  public static String a(String s) {\r\n    return s + &quot;a&quot;;\r\n  }\r\n\r\n  public static String b(String s) {\r\n    return s + &quot;b&quot;;\r\n  }\r\n}\r\n```","title":"Is it possible to pass an argument into a map in Java?","body":"<p>You can use the <code>Function</code> type to use a function as a variable and then store instances of functions within the map that you can retrieve and call dynamically. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.function.Function;\n\nclass Main {  \n  public static void main(String args[]) { \n    // Using method references\n    Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\n      Map.entry(&quot;a&quot;, Main::a),\n      Map.entry(&quot;b&quot;, Main::b)\n    );\n\n    // Alternatively, using lambdas\n    // Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\n    //   Map.entry(&quot;a&quot;, (s) -&gt; s + &quot;a&quot;),\n    //   Map.entry(&quot;b&quot;, (s) -&gt; s + &quot;b&quot;)\n    // );\n\n    System.out.println(map.get(&quot;a&quot;).apply(&quot;test&quot;));\n  }\n\n  public static String a(String s) {\n    return s + &quot;a&quot;;\n  }\n\n  public static String b(String s) {\n    return s + &quot;b&quot;;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2772246,"reputation":1263,"user_id":2386620,"accept_rate":66,"display_name":"adbarads"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76037395,"answer_count":1,"score":0,"last_activity_date":1681749909,"creation_date":1681748953,"question_id":76037311,"body_markdown":"I would like to pass a value `someValue`, into this Map. And was wondering if there was a way to do this.\r\nThe idea is to call the `getData.get(&quot;code&quot;)(someValue)` It would call a function and pass in the correct value.\r\n```\r\nprivate static final Map&lt;String, String&gt; getData = Map.ofEntries(\r\n  Map.entry(&quot;code&quot;, someSearch.getCode(someValue)), \r\n  Map.entry(&quot;foo&quot;, someSearch.bar(anotherValue)\r\n);\r\n\r\n\r\ngetData.get(&quot;code&quot;);\r\n\r\n```\r\n","title":"Is it possible to pass an argument into a map in Java?","body":"<p>I would like to pass a value <code>someValue</code>, into this Map. And was wondering if there was a way to do this.\nThe idea is to call the <code>getData.get(&quot;code&quot;)(someValue)</code> It would call a function and pass in the correct value.</p>\n<pre><code>private static final Map&lt;String, String&gt; getData = Map.ofEntries(\n  Map.entry(&quot;code&quot;, someSearch.getCode(someValue)), \n  Map.entry(&quot;foo&quot;, someSearch.bar(anotherValue)\n);\n\n\ngetData.get(&quot;code&quot;);\n\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit4","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681738549,"post_id":76035740,"comment_id":134100638,"body_markdown":"Don&#39;t. Use the Spring environment abstraction and then you can pass it simply with `@TestPropertySource`.","body":"Don&#39;t. Use the Spring environment abstraction and then you can pass it simply with <code>@TestPropertySource</code>."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681738901,"post_id":76035740,"comment_id":134100745,"body_markdown":"@M.Deinum Could you please elaborate the statement. how to use Spring environment abstraction in this scenario","body":"@M.Deinum Could you please elaborate the statement. how to use Spring environment abstraction in this scenario"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681739050,"post_id":76035740,"comment_id":134100772,"body_markdown":"Inject the `Environment` and use that to get the property, that will eventually also check the environbment. Generally when you are calling `System.getenv` or `System.getProperty` you are doing it wrong (at least in a Spring application).","body":"Inject the <code>Environment</code> and use that to get the property, that will eventually also check the environbment. Generally when you are calling <code>System.getenv</code> or <code>System.getProperty</code> you are doing it wrong (at least in a Spring application)."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681740645,"post_id":76035740,"comment_id":134101231,"body_markdown":"Tried this but getting same result. without setting the environment variable also this test case should pass","body":"Tried this but getting same result. without setting the environment variable also this test case should pass"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681740996,"post_id":76035740,"comment_id":134101343,"body_markdown":"Please read... If you use the `Environment` you can just add an `@TestPropertySource` to set the property. It will then override any set environment property or use it if not set.","body":"Please read... If you use the <code>Environment</code> you can just add an <code>@TestPropertySource</code> to set the property. It will then override any set environment property or use it if not set."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681742256,"post_id":76035740,"comment_id":134101711,"body_markdown":"You mean like this ?? \n`\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {\n    DefaultTestService.class})\n@TestPropertySource(properties = {&quot;mongodb_url=localhost:27017&quot;})\npublic class test {\n\n  @Mock\n  Environment environment;\n  @InjectMocks\n  MyService myservice;\n}\n`","body":"You mean like this ??  ` @RunWith(SpringRunner.class) @SpringBootTest(classes = {     DefaultTestService.class}) @TestPropertySource(properties = {&quot;mongodb_url=localhost:27017&quot;}) public class test {    @Mock   Environment environment;   @InjectMocks   MyService myservice; } `"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681742708,"post_id":76035740,"comment_id":134101838,"body_markdown":"That should work, however your test is weird. Why run it with Spring Boot if you are mocking everything? Either use Spring Boot for the test, or don&#39;t. If you don&#39;t you will have to mock behavior for the `Environment`.","body":"That should work, however your test is weird. Why run it with Spring Boot if you are mocking everything? Either use Spring Boot for the test, or don&#39;t. If you don&#39;t you will have to mock behavior for the <code>Environment</code>."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681886846,"post_id":76035740,"comment_id":134127321,"body_markdown":"Yes you are right . thanks for your help. \n`public static void set(Map&lt;String, String&gt; newenv) throws Exception {\n    Class[] classes = Collections.class.getDeclaredClasses();\n    Map&lt;String, String&gt; env = System.getenv();\n    for(Class cl : classes) {\n        if(&quot;java.util.Collections$UnmodifiableMap&quot;.equals(cl.getName())) {\n            Field field = cl.getDeclaredField(&quot;m&quot;);\n            field.setAccessible(true);\n            Object obj = field.get(env);\n            Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj; map.clear();\n map.putAll(newenv);}}}`\nthe above code also helps","body":"Yes you are right . thanks for your help.  <code>public static void set(Map&lt;String, String&gt; newenv) throws Exception {     Class[] classes = Collections.class.getDeclaredClasses();     Map&lt;String, String&gt; env = System.getenv();     for(Class cl : classes) {         if(&quot;java.util.Collections$UnmodifiableMap&quot;.equals(cl.getName&zwnj;&#8203;())) {             Field field = cl.getDeclaredField(&quot;m&quot;);             field.setAccessible(true);             Object obj = field.get(env);             Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj; map.clear();  map.putAll(newenv);}}}</code> the above code also helps"}],"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681749767,"creation_date":1681738396,"question_id":76035740,"body_markdown":"i have one class in that i&#39;m getting the value from environment varible. for that i have to write junit test case.\r\n**Service class**\r\n```\r\n@service\r\npublic class MyService{\r\n\r\n@Autowired\r\nMongoClient mongoClient;\r\n\r\npublic void save(){\r\nString mongoUri= System.getenv(&quot;mongodb_url&quot;);\r\nif(mongoUri!=null){\r\n  List&lt;String&gt; databaseNames = mongoClient.listDatabaseNames().into(new ArrayList&lt;&gt;());\r\n        for (String dbName : databaseNames) {\r\n          log.info(dbname+&quot;database name&quot;);\r\n}\r\n}\r\n}\r\n}\r\n```\r\n**TestClass**\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {\r\n    DefaultTestService.class})\r\npublic class test {\r\n\r\n  @Mock\r\n  Environment environment;\r\n  @InjectMocks\r\n  MyService myservice;\r\n\r\n  @Test\r\n  public void test(){\r\n    when(System.getenv(&quot;mongodb_url&quot;)).thenReturn(&quot;mongodb://localhost:27017&quot;);\r\n    myservice.save();\r\n}\r\n}\r\n```\r\n**gradle dependencies**\r\n```\r\n implementation &#39;junit:junit:4.13.1&#39;\r\n```\r\ngetting null for the environment variable. how to set environment varible to pass this testcase how to achieve this could any one please help?","title":"mock system.getenv in spring boot test using junit without using powermockito","body":"<p>i have one class in that i'm getting the value from environment varible. for that i have to write junit test case.\n<strong>Service class</strong></p>\n<pre><code>@service\npublic class MyService{\n\n@Autowired\nMongoClient mongoClient;\n\npublic void save(){\nString mongoUri= System.getenv(&quot;mongodb_url&quot;);\nif(mongoUri!=null){\n  List&lt;String&gt; databaseNames = mongoClient.listDatabaseNames().into(new ArrayList&lt;&gt;());\n        for (String dbName : databaseNames) {\n          log.info(dbname+&quot;database name&quot;);\n}\n}\n}\n}\n</code></pre>\n<p><strong>TestClass</strong></p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {\n    DefaultTestService.class})\npublic class test {\n\n  @Mock\n  Environment environment;\n  @InjectMocks\n  MyService myservice;\n\n  @Test\n  public void test(){\n    when(System.getenv(&quot;mongodb_url&quot;)).thenReturn(&quot;mongodb://localhost:27017&quot;);\n    myservice.save();\n}\n}\n</code></pre>\n<p><strong>gradle dependencies</strong></p>\n<pre><code> implementation 'junit:junit:4.13.1'\n</code></pre>\n<p>getting null for the environment variable. how to set environment varible to pass this testcase how to achieve this could any one please help?</p>\n"},{"tags":["java","android","generics","overriding"],"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1411524798,"post_id":25992435,"comment_id":40731580,"body_markdown":"There&#39;s no point of declaring a type parameter that you don&#39;t use in the signature.","body":"There&#39;s no point of declaring a type parameter that you don&#39;t use in the signature."},{"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"score":0,"creation_date":1411534547,"post_id":25992435,"comment_id":40733879,"body_markdown":"It is obviosly. I declared it just for understanding. It was after third editing of my question :)","body":"It is obviosly. I declared it just for understanding. It was after third editing of my question :)"}],"answers":[{"comments":[{"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"score":0,"creation_date":1411469628,"post_id":25992861,"comment_id":40705023,"body_markdown":"Thank you. Finally I understood, that &lt;T extends View&gt; is something loke a parameter and it is another method, so it is an overloading, not overriding. But it has the same signature, so it does not compile.","body":"Thank you. Finally I understood, that &lt;T extends View&gt; is something loke a parameter and it is another method, so it is an overloading, not overriding. But it has the same signature, so it does not compile."},{"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"score":0,"creation_date":1411469739,"post_id":25992861,"comment_id":40705089,"body_markdown":"Your welcome, if you find this post useful then you can always upvote","body":"Your welcome, if you find this post useful then you can always upvote"},{"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"score":0,"creation_date":1411469996,"post_id":25992861,"comment_id":40705243,"body_markdown":"I require 15 points of reputation :) But I&#39;ll do this when I can.","body":"I require 15 points of reputation :) But I&#39;ll do this when I can."}],"tags":[],"owner":{"account_id":1888905,"reputation":15363,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681749656,"creation_date":1411468355,"answer_id":25992861,"question_id":25992435,"body_markdown":"The `set` method in `Sub` compiles because you are declaring a **new** method called `set` that can take any argument `S that extends Number`. .Note you are not overriding the set method from the Super class in Sub class you have overloaded the set method.\r\n\r\nWith `get` method your are doing exactly the same i.e. overloading get method but this time compiler complains because it is not valid because you changed just the return type of the method. For e.g.\r\n\r\n    public Integer get() {\r\n        return null;\r\n    }\r\n\r\nand you declare another method in the same or child class by changing just the return type of the method like this\r\n\r\n    public Double get() {\r\n        return null;\r\n    }\r\n\r\nthen compiler will complain &quot;attempting to use incompatible return type&quot; because in java return type is not the part of the method signature.\r\n\r\nYou can replicate the same problem for `set` method if you declare\r\n\r\n    public &lt;S extends Number&gt; void set(Object arg) {  }\r\n\r\nIn this case again we just change the return type of the method but to be valid overload method parameters should be different so\r\n\r\n    public &lt;S extends Number&gt; void set(String arg) {  } // overloads\r\n\r\nwill be a valid overload.\r\n","title":"Overriding non-generic methods by generic method","body":"<p>The <code>set</code> method in <code>Sub</code> compiles because you are declaring a <strong>new</strong> method called <code>set</code> that can take any argument <code>S that extends Number</code>. .Note you are not overriding the set method from the Super class in Sub class you have overloaded the set method.</p>\n<p>With <code>get</code> method your are doing exactly the same i.e. overloading get method but this time compiler complains because it is not valid because you changed just the return type of the method. For e.g.</p>\n<pre><code>public Integer get() {\n    return null;\n}\n</code></pre>\n<p>and you declare another method in the same or child class by changing just the return type of the method like this</p>\n<pre><code>public Double get() {\n    return null;\n}\n</code></pre>\n<p>then compiler will complain &quot;attempting to use incompatible return type&quot; because in java return type is not the part of the method signature.</p>\n<p>You can replicate the same problem for <code>set</code> method if you declare</p>\n<pre><code>public &lt;S extends Number&gt; void set(Object arg) {  }\n</code></pre>\n<p>In this case again we just change the return type of the method but to be valid overload method parameters should be different so</p>\n<pre><code>public &lt;S extends Number&gt; void set(String arg) {  } // overloads\n</code></pre>\n<p>will be a valid overload.</p>\n"}],"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25992861,"answer_count":1,"score":3,"last_activity_date":1681749656,"creation_date":1411467076,"question_id":25992435,"body_markdown":"I want to make automation casting of views in my android project. So, I want to override\r\n    \r\n\r\n\r\n\r\n    View findViewById(int id) {...}\r\nmethod by \r\n    \r\n\r\n\r\n\r\n    &lt;T extends View&gt; findViewById(int id) {...}\r\nmethod. But java compilation does not allow this, however overridden method does not conflict with parental and always will return object of view or its childs. I found some info, that java does not allow overriding non-generic methods by generic methods, but explanation why is is I can&#39;t find. \r\n\r\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824\r\nThis FAQ says that it is impossible, but I can&#39;t understand why. As example we have such classes:\r\n\r\n\r\n\r\n    class Super { \r\n      public void set( Object arg) { ... } \r\n      public Object get() { ... } \r\n    } \r\n    class Sub extends Super {  \r\n      public &lt;S extends Number&gt; void set( S arg) { ... } // overloads \r\n      public &lt;S extends Number&gt; S get() { ... } // overloads \r\n    }\r\n\r\n\r\n\r\nFAQ says that they should compile with overloading, but I have strange thing: \r\ngetter returns the same error as my findViewById, but setter compile without errors. \r\n\r\nCould someone explain me this thing? Why does java not allow to override non-generic by generic and why setter compiled, getter - no ?\r\n\r\nI know, that I can use some another method, for example\r\n    \r\n\r\n\r\n\r\n    &lt;T extends View&gt; findView(int id){\r\n      return (T) findViewById(id);\r\n    }\r\n\r\nor\r\n   \r\n\r\n\r\n    &lt;T extends View&gt; findView(int id, Class&lt;T&gt; clazz) {\r\n      return clazz.cast(findViewById(id));\r\n    }\r\nBut I want to understand, why should I use new method instead of overriding ?\r\n\r\n\r\n    //1\r\n    @Override\r\n    public View findViewById(int id) {\r\n        return (View) super.findViewById(id);\r\n    }\r\n    //2\r\n    @Override\r\n    public &lt;T extends View&gt; T findViewById(int id) {\r\n        return (T) super.findViewById(id);\r\n    }\r\n\r\nSo, during the compilation time, what is the difference between 1 and 2 ? Even method 1 is more general, than 2. \r\n\r\n\r\n\r\n    //3\r\n    @Override\r\n    public &lt;T extends View&gt; View findViewById(int id) {\r\n        return (View) super.findViewById(id);\r\n    }\r\nAfter I added method as above, I finally realised, that &quot;T extends View&quot; tells compiler, that it is not the same method as without &quot;T extends View&quot;. So, in fact, I created new another method, but with the same name and parameters, so it can&#39;t compile. Maybe it is not exactly correct, but as I understood - something similar to true.\r\n\r\nThank you all, who try to help me.","title":"Overriding non-generic methods by generic method","body":"<p>I want to make automation casting of views in my android project. So, I want to override</p>\n\n<pre><code>View findViewById(int id) {...}\n</code></pre>\n\n<p>method by </p>\n\n<pre><code>&lt;T extends View&gt; findViewById(int id) {...}\n</code></pre>\n\n<p>method. But java compilation does not allow this, however overridden method does not conflict with parental and always will return object of view or its childs. I found some info, that java does not allow overriding non-generic methods by generic methods, but explanation why is is I can't find. </p>\n\n<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824\" rel=\"nofollow\">http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824</a>\nThis FAQ says that it is impossible, but I can't understand why. As example we have such classes:</p>\n\n<pre><code>class Super { \n  public void set( Object arg) { ... } \n  public Object get() { ... } \n} \nclass Sub extends Super {  \n  public &lt;S extends Number&gt; void set( S arg) { ... } // overloads \n  public &lt;S extends Number&gt; S get() { ... } // overloads \n}\n</code></pre>\n\n<p>FAQ says that they should compile with overloading, but I have strange thing: \ngetter returns the same error as my findViewById, but setter compile without errors. </p>\n\n<p>Could someone explain me this thing? Why does java not allow to override non-generic by generic and why setter compiled, getter - no ?</p>\n\n<p>I know, that I can use some another method, for example</p>\n\n<pre><code>&lt;T extends View&gt; findView(int id){\n  return (T) findViewById(id);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;T extends View&gt; findView(int id, Class&lt;T&gt; clazz) {\n  return clazz.cast(findViewById(id));\n}\n</code></pre>\n\n<p>But I want to understand, why should I use new method instead of overriding ?</p>\n\n<pre><code>//1\n@Override\npublic View findViewById(int id) {\n    return (View) super.findViewById(id);\n}\n//2\n@Override\npublic &lt;T extends View&gt; T findViewById(int id) {\n    return (T) super.findViewById(id);\n}\n</code></pre>\n\n<p>So, during the compilation time, what is the difference between 1 and 2 ? Even method 1 is more general, than 2. </p>\n\n<pre><code>//3\n@Override\npublic &lt;T extends View&gt; View findViewById(int id) {\n    return (View) super.findViewById(id);\n}\n</code></pre>\n\n<p>After I added method as above, I finally realised, that \"T extends View\" tells compiler, that it is not the same method as without \"T extends View\". So, in fact, I created new another method, but with the same name and parameters, so it can't compile. Maybe it is not exactly correct, but as I understood - something similar to true.</p>\n\n<p>Thank you all, who try to help me.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1496575533,"post_id":44353496,"comment_id":75708973,"body_markdown":"Download the latest Chrome and `ChromeDriver` versions.","body":"Download the latest Chrome and <code>ChromeDriver</code> versions."},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1496575943,"post_id":44353496,"comment_id":75709091,"body_markdown":"what is the chrome driver and browser version you are using?","body":"what is the chrome driver and browser version you are using?"},{"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"score":0,"creation_date":1496591595,"post_id":44353496,"comment_id":75713829,"body_markdown":"I guess,  system property is pointing to chrome binary instead of chrome driver exe. Please make sure of it.","body":"I guess,  system property is pointing to chrome binary instead of chrome driver exe. Please make sure of it."},{"owner":{"account_id":2033863,"reputation":960,"user_id":1816746,"accept_rate":92,"display_name":"Wunderbread"},"score":0,"creation_date":1496610391,"post_id":44353496,"comment_id":75719417,"body_markdown":"I don&#39;t know what OS you are currently using but this guide helped me a lot regarding the actual installation and path setup: [link](http://www.kenst.com/2015/03/installing-chromedriver-on-mac-osx/)","body":"I don&#39;t know what OS you are currently using but this guide helped me a lot regarding the actual installation and path setup: <a href=\"http://www.kenst.com/2015/03/installing-chromedriver-on-mac-osx/\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"comments":[{"owner":{"account_id":10476850,"reputation":3,"user_id":7723113,"display_name":"Bala"},"score":0,"creation_date":1496643542,"post_id":44353584,"comment_id":75727141,"body_markdown":"Starting ChromeDriver (v2.9.248315) on port 1909\nJun 05, 2017 11:49:15 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: OSS\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: java.net.SocketException: Connection reset\nBuild info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\nSystem info: host: &#39;D-113091507&#39;, ip: &#39;172.16.195.19&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39;\nDriver info: driver.version: RemoteWebDriver","body":"Starting ChromeDriver (v2.9.248315) on port 1909 Jun 05, 2017 11:49:15 AM org.openqa.selenium.remote.ProtocolHandshake createSession INFO: Detected dialect: OSS Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: java.net.SocketException: Connection reset Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39; System info: host: &#39;D-113091507&#39;, ip: &#39;172.16.195.19&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39; Driver info: driver.version: RemoteWebDriver"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1496644181,"post_id":44353584,"comment_id":75727371,"body_markdown":"Your chromedriver version seems `v2.9.248315`. Consider upgrading it to `v2.29` to work with Google Chrome 58.x Thanks","body":"Your chromedriver version seems <code>v2.9.248315</code>. Consider upgrading it to <code>v2.29</code> to work with Google Chrome 58.x Thanks"},{"owner":{"account_id":10476850,"reputation":3,"user_id":7723113,"display_name":"Bala"},"score":0,"creation_date":1496979705,"post_id":44353584,"comment_id":75895028,"body_markdown":"Hi Guys, stuck again at String baseurl = &quot;https://login.yahoo.com/beta/&quot;;\n\t\tdr1.get(baseurl);\n\t\tWebElement email = dr1.findElement(By.id(&quot;login-username&quot;));\n\t\tActions builder = new Actions(dr1);\n\t\tdr1.manage().timeouts().implicitlyWait(50,TimeUnit.SECONDS);\n\t\tActions newAction = builder.moveToElement(email).click().sendKeys(email,new String[]{&quot;test@gmail.com&quot;}); it is not passing the keys to the username field chrome, pls help me out.","body":"Hi Guys, stuck again at String baseurl = &quot;<a href=\"https://login.yahoo.com/beta/\" rel=\"nofollow noreferrer\">login.yahoo.com/beta</a>&quot;; \t\tdr1.get(baseurl); \t\tWebElement email = dr1.findElement(By.id(&quot;login-username&quot;)); \t\tActions builder = new Actions(dr1); \t\tdr1.manage().timeouts().implicitlyWait(50,TimeUnit.SECONDS&zwnj;&#8203;); \t\tActions newAction = builder.moveToElement(email).click().sendKeys(email,new String[]{&quot;test@gmail.com&quot;}); it is not passing the keys to the username field chrome, pls help me out."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496575876,"creation_date":1496575876,"answer_id":44353584,"question_id":44353496,"body_markdown":"Here is the Answer to your Question:\r\n\r\nWhen you work with Selenium 3.x you have to download **chromedriver.exe** from [here][1] and save it in your machine. Next you have to mention the absolute path of the **chromedriver.exe** through `System.setProperty`. While you mention the absolute path of the **chromedriver.exe** through `System.setProperty` you have either provide front slashes &quot;**/**&quot; or esacpe the back slases &quot;**\\\\\\\\**&quot;. Here is your own working code with some simple tweaks:\r\n\r\n    public class first \r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/your_directory/chromedriver.exe&quot;);\r\n            WebDriver dr1= new ChromeDriver(); ;\r\n            String baseurl = &quot;http://www.google.com/&quot;;\r\n            dr1.get(baseurl);\r\n        }\r\n    }\r\n\r\nLet me know if this Answers your Question\r\n\r\n  [1]: https://sites.google.com/a/chromium.org/chromedriver/","title":"Launching Chrome and passing the url with selenium","body":"<p>Here is the Answer to your Question:</p>\n\n<p>When you work with Selenium 3.x you have to download <strong>chromedriver.exe</strong> from <a href=\"https://sites.google.com/a/chromium.org/chromedriver/\" rel=\"nofollow noreferrer\">here</a> and save it in your machine. Next you have to mention the absolute path of the <strong>chromedriver.exe</strong> through <code>System.setProperty</code>. While you mention the absolute path of the <strong>chromedriver.exe</strong> through <code>System.setProperty</code> you have either provide front slashes \"<strong>/</strong>\" or esacpe the back slases \"<strong>\\\\</strong>\". Here is your own working code with some simple tweaks:</p>\n\n<pre><code>public class first \n{\n    public static void main(String args[])\n    {\n        System.setProperty(\"webdriver.chrome.driver\",\"C:/your_directory/chromedriver.exe\");\n        WebDriver dr1= new ChromeDriver(); ;\n        String baseurl = \"http://www.google.com/\";\n        dr1.get(baseurl);\n    }\n}\n</code></pre>\n\n<p>Let me know if this Answers your Question</p>\n"}],"owner":{"account_id":10476850,"reputation":3,"user_id":7723113,"display_name":"Bala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44353584,"answer_count":1,"score":0,"last_activity_date":1681749498,"creation_date":1496575173,"question_id":44353496,"body_markdown":"I am using selenium for the first time:\r\nbelow is my basic Code to launch the chrome and pass the google url:\r\n    \r\n    public class first {\r\n    \tpublic static void main(String args[]){\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C://Program Files (x86)//Google//Chrome//Application//chrome.exe&quot;);\r\n    \t\tWebDriver dr1= new ChromeDriver(); ;\r\n    \t\tString baseurl = &quot;http://www.google.com/&quot;;\r\n    \t\tdr1.get(baseurl);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAfter executing it is launching the browser but not sending the url to it.\r\nbelow is the error i got in console output:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\r\n    Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;D-113091507&#39;, ip: &#39;172.16.195.19&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat org.openqa.selenium.remote.service.DriverService.waitUntilAvailable(DriverService.java:193)\r\n    \tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:181)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:78)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:637)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:250)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:236)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:137)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:184)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:171)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:124)\r\n    \tat first.first.main(first.java:12)\r\n\r\nCan someone please help me out with this?\r\n","title":"Launching Chrome and passing the url with selenium","body":"<p>I am using selenium for the first time:\nbelow is my basic Code to launch the chrome and pass the google url:</p>\n<pre><code>public class first {\n    public static void main(String args[]){\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C://Program Files (x86)//Google//Chrome//Application//chrome.exe&quot;);\n        WebDriver dr1= new ChromeDriver(); ;\n        String baseurl = &quot;http://www.google.com/&quot;;\n        dr1.get(baseurl);\n        \n    }\n}\n</code></pre>\n<p>After executing it is launching the browser but not sending the url to it.\nbelow is the error i got in console output:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'D-113091507', ip: '172.16.195.19', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_131'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.waitUntilAvailable(DriverService.java:193)\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:181)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:78)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:637)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:236)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:137)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:184)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:171)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:124)\n    at first.first.main(first.java:12)\n</code></pre>\n<p>Can someone please help me out with this?</p>\n"},{"tags":["java","spring","multithreading","thread-safety","final"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":6,"creation_date":1641817826,"post_id":70652374,"comment_id":124897820,"body_markdown":"Using final on what? Because using it on counter means counter doesn&#39;t change.","body":"Using final on what? Because using it on counter means counter doesn&#39;t change."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1641820653,"post_id":70652374,"comment_id":124898871,"body_markdown":"You can take a look at [jls17.5](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5)","body":"You can take a look at <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">jls17.5</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user17862362"},"score":0,"creation_date":1641819496,"post_id":70652714,"comment_id":124898475,"body_markdown":"But there are some examples using `final` to make variables immutable and perform thread safety with this. Any idea?","body":"But there are some examples using <code>final</code> to make variables immutable and perform thread safety with this. Any idea?"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":4,"creation_date":1641819680,"post_id":70652714,"comment_id":124898542,"body_markdown":"Actually, the [final keyword does receive special treatment by the memory model](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5) to convey the guarantee that final variables are perceived as fully initialized even if the object is shared through a data race. Granted, that&#39;s not often useful, and isn&#39;t useful for OP&#39;s problem, but it means that final can affect thread safety.","body":"Actually, the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">final keyword does receive special treatment by the memory model</a> to convey the guarantee that final variables are perceived as fully initialized even if the object is shared through a data race. Granted, that&#39;s not often useful, and isn&#39;t useful for OP&#39;s problem, but it means that final can affect thread safety."}],"tags":[],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641819048,"creation_date":1641819048,"answer_id":70652714,"question_id":70652374,"body_markdown":"No, the `final` keyword doesn&#39;t have anything in common with thread safety.\r\n\r\nThe `final` keyword on variables makes them immutable, you can&#39;t change their value anymore.\r\nHowever, it&#39;s not like the `const` keyword in c++ where the whole variable content cannot change. In Java only the reference is immutable.\r\n\r\n```\r\n   final AtomicReference&lt;String&gt; toto = new AtomicReference&lt;&gt;(&quot;text&quot;);\r\n   toto.set(&quot;new text&quot;); // totally fine\r\n   toto = new AtomicReference&lt;&gt;(&quot;text&quot;); // does not compile, as toto is immutable reference.\r\n```\r\n\r\nBut, there is another keyword that fulfill what you are looking for. It&#39;s `volatile`. https://www.baeldung.com/java-volatile\r\n\r\nIn short, the value change on all thread simultaneously and is available immediately. \r\nThat&#39;s what is used in all the `Atomic*` Java classes. \r\n\r\nEx. https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java\r\n\r\n\r\n\r\n","title":"Thread Safety using final","body":"<p>No, the <code>final</code> keyword doesn't have anything in common with thread safety.</p>\n<p>The <code>final</code> keyword on variables makes them immutable, you can't change their value anymore.\nHowever, it's not like the <code>const</code> keyword in c++ where the whole variable content cannot change. In Java only the reference is immutable.</p>\n<pre><code>   final AtomicReference&lt;String&gt; toto = new AtomicReference&lt;&gt;(&quot;text&quot;);\n   toto.set(&quot;new text&quot;); // totally fine\n   toto = new AtomicReference&lt;&gt;(&quot;text&quot;); // does not compile, as toto is immutable reference.\n</code></pre>\n<p>But, there is another keyword that fulfill what you are looking for. It's <code>volatile</code>. <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-volatile</a></p>\n<p>In short, the value change on all thread simultaneously and is available immediately.\nThat's what is used in all the <code>Atomic*</code> Java classes.</p>\n<p>Ex. <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java</a></p>\n"},{"comments":[{"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"score":0,"creation_date":1681736932,"post_id":70652798,"comment_id":134100150,"body_markdown":"`sharedCounter` needs to be `final` as well to guarantee safe publication. Otherwise, another thread might throw a `NullPointerException` before the field has been initialized. It is simpler not to wrap `AtomicInteger` in the first place.","body":"<code>sharedCounter</code> needs to be <code>final</code> as well to guarantee safe publication. Otherwise, another thread might throw a <code>NullPointerException</code> before the field has been initialized. It is simpler not to wrap <code>AtomicInteger</code> in the first place."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1681781215,"post_id":70652798,"comment_id":134108981,"body_markdown":"@J&#248;rgenFogh your comment is incorrect. If you have a data-race on the reference of the SharedCounter, then an external thread can see a partly constructed object. But in this case the atomicInteger12 is final and therefor there is no data race and as a consequence the NPE can&#39;t happen.","body":"@J&#248;rgenFogh your comment is incorrect. If you have a data-race on the reference of the SharedCounter, then an external thread can see a partly constructed object. But in this case the atomicInteger12 is final and therefor there is no data race and as a consequence the NPE can&#39;t happen."}],"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641819506,"creation_date":1641819506,"answer_id":70652798,"question_id":70652374,"body_markdown":"I m just gonna add this with Erwan Daniel&#39;s answer .&lt;br/&gt;\r\nYour \r\nIf you want a  counter shared between all your Threads here is another version of your code. \r\n\r\n     class SharedCounter {\r\n      private AtomicInteger sharedCounter ;\r\n      \r\n      public Counter(){\r\n       this.sharedCounter = new AtomicInteger(0);\r\n      }\r\n\r\n      public void increment() {\r\n         sharedCounter.getAndIncrement();\r\n      }\r\n\r\n      public int value() {\r\n         return sharedCounter.get();\r\n      }\r\n\r\n\r\nThe final will prevent your `atomicInteger12` from changing the object it&#39;s using **And** you can freely set it&#39;s value.\r\n\r\n    final SharedCounter atomicInteger12 = new Counter() ;","title":"Thread Safety using final","body":"<p>I m just gonna add this with Erwan Daniel's answer .<br/>\nYour\nIf you want a  counter shared between all your Threads here is another version of your code.</p>\n<pre><code> class SharedCounter {\n  private AtomicInteger sharedCounter ;\n  \n  public Counter(){\n   this.sharedCounter = new AtomicInteger(0);\n  }\n\n  public void increment() {\n     sharedCounter.getAndIncrement();\n  }\n\n  public int value() {\n     return sharedCounter.get();\n  }\n</code></pre>\n<p>The final will prevent your <code>atomicInteger12</code> from changing the object it's using <strong>And</strong> you can freely set it's value.</p>\n<pre><code>final SharedCounter atomicInteger12 = new Counter() ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"score":0,"creation_date":1681736501,"post_id":70655670,"comment_id":134100032,"body_markdown":"This answer is not correct. `final` is explicitly mentioned as part of the memory model in the Java Language Specification. In this situation, making `c` `final` guarantees safe publication.","body":"This answer is not correct. <code>final</code> is explicitly mentioned as part of the memory model in the Java Language Specification. In this situation, making <code>c</code> <code>final</code> guarantees safe publication."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1681780790,"post_id":70655670,"comment_id":134108938,"body_markdown":"@J&#248;rgenFogh I suggest you should spend some more time reading the answer or studying the specification. The reference to the MyCounter class should be safely published because otherwise, you have a data race on your hands on that reference. And because of that external safe publication, there will be a happens-before edge on the &#39;c&#39; field and hence it will not suffer from a data race.","body":"@J&#248;rgenFogh I suggest you should spend some more time reading the answer or studying the specification. The reference to the MyCounter class should be safely published because otherwise, you have a data race on your hands on that reference. And because of that external safe publication, there will be a happens-before edge on the &#39;c&#39; field and hence it will not suffer from a data race."},{"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"score":1,"creation_date":1681979920,"post_id":70655670,"comment_id":134144711,"body_markdown":"You&#39;re right, your answer is correct and I should have read it more carefully.","body":"You&#39;re right, your answer is correct and I should have read it more carefully."}],"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642994137,"creation_date":1641831881,"answer_id":70655670,"question_id":70652374,"body_markdown":"In properly synchronized code, the final isn&#39;t needed.\r\n\r\nE.g. if you would use:\r\n\r\n    class MyCounter{\r\n        private AtomicInteger c = new AtomicInteger();\r\n\r\n        public int inc(){return c.incrementAndGet();}\r\n\r\n        public int get(){return c.get();}\r\n    }\r\n\r\nAnd you would share the MyCounter-instance with another thread, you need to make sure that there is a happens-before edge between writing c and reading c. This can be done in various ways e.g. you pass the MyCounter-instance to the constructor of some thread (thread start rule). Or you pass it through a volatile field (volatile variable rule) or a synchronized block (monitor lock rule).\r\n\r\nThis is typically called &#39;safe publication&#39; and for a correctly synchronized system, this is all you need. If you don&#39;t pass the reference safely, you have a data race and weird problems can happen like seeing a partially constructed object. Therefore there is a second mechanism called initialization safety; so no matter if the reference to an object isn&#39;t published safely, initialization safety using final will act as a backup solution. The primary use-case for this AFAIK is security. \r\n\r\nSo for correctly synchronized code, there is no need for final.\r\n\r\nThat doesn&#39;t mean that you should not add finals. It has all kinds of benefits like no accidental changes and it is pretty informative. So I prefer to make as many fields final as possible. \r\n\r\nFinal has no meaning for method arguments from a memory model perspective, since they are private to a thread. Only shared memory needs to be dealt with in a memory model. Making arguments of a method final is a flavor issue. Some people want it, others don&#39;t. I&#39;m not crazy about long method signatures and tend not to add them unless I&#39;m writing some difficult code. But I would be fine if local variables and formal arguments would be final by default (like Rust).\r\n\r\n","title":"Thread Safety using final","body":"<p>In properly synchronized code, the final isn't needed.</p>\n<p>E.g. if you would use:</p>\n<pre><code>class MyCounter{\n    private AtomicInteger c = new AtomicInteger();\n\n    public int inc(){return c.incrementAndGet();}\n\n    public int get(){return c.get();}\n}\n</code></pre>\n<p>And you would share the MyCounter-instance with another thread, you need to make sure that there is a happens-before edge between writing c and reading c. This can be done in various ways e.g. you pass the MyCounter-instance to the constructor of some thread (thread start rule). Or you pass it through a volatile field (volatile variable rule) or a synchronized block (monitor lock rule).</p>\n<p>This is typically called 'safe publication' and for a correctly synchronized system, this is all you need. If you don't pass the reference safely, you have a data race and weird problems can happen like seeing a partially constructed object. Therefore there is a second mechanism called initialization safety; so no matter if the reference to an object isn't published safely, initialization safety using final will act as a backup solution. The primary use-case for this AFAIK is security.</p>\n<p>So for correctly synchronized code, there is no need for final.</p>\n<p>That doesn't mean that you should not add finals. It has all kinds of benefits like no accidental changes and it is pretty informative. So I prefer to make as many fields final as possible.</p>\n<p>Final has no meaning for method arguments from a memory model perspective, since they are private to a thread. Only shared memory needs to be dealt with in a memory model. Making arguments of a method final is a flavor issue. Some people want it, others don't. I'm not crazy about long method signatures and tend not to add them unless I'm writing some difficult code. But I would be fine if local variables and formal arguments would be final by default (like Rust).</p>\n"},{"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1681781886,"post_id":76037375,"comment_id":134109052,"body_markdown":"You are completely forgetting that the reference to the Counter still needs to make use of safe publication otherwise you have a data race on your hands. And because of the safe publication of that reference, all modifications to that object till that point, will be visible to the other threads due to a combination of program order rule with volatile variable or monitor object rule. So this covers all fields including the non-final fields. Otherwise, you would for example not be able to safely share a regular POJO (no synchronization) through e.g. blocking queue.","body":"You are completely forgetting that the reference to the Counter still needs to make use of safe publication otherwise you have a data race on your hands. And because of the safe publication of that reference, all modifications to that object till that point, will be visible to the other threads due to a combination of program order rule with volatile variable or monitor object rule. So this covers all fields including the non-final fields. Otherwise, you would for example not be able to safely share a regular POJO (no synchronization) through e.g. blocking queue."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1681782114,"post_id":76037375,"comment_id":134109070,"body_markdown":"And because you need that safe publication of the reference to the Counter, the NPE can&#39;t happen because of the guaranteed happens-before edge between constructing the object in 1 thread and using it in another. Therefore it isn&#39;t needed to make the counter field final.","body":"And because you need that safe publication of the reference to the Counter, the NPE can&#39;t happen because of the guaranteed happens-before edge between constructing the object in 1 thread and using it in another. Therefore it isn&#39;t needed to make the counter field final."},{"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"score":0,"creation_date":1681980042,"post_id":76037375,"comment_id":134144746,"body_markdown":"It depends on the way we publish `Counter` if there is a guaranteed happens-before edge. Using `final` lets us safely use double-checked locking, where we either (safely) publish the object via a race or under a lock. Only the lock guarantees happens-before.","body":"It depends on the way we publish <code>Counter</code> if there is a guaranteed happens-before edge. Using <code>final</code> lets us safely use double-checked locking, where we either (safely) publish the object via a race or under a lock. Only the lock guarantees happens-before."},{"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"score":0,"creation_date":1684302685,"post_id":76037375,"comment_id":134496539,"body_markdown":"This post explains how to do safe double-checked locking via `final`: https://shipilev.net/blog/2014/safe-public-construction/#_safe_publication","body":"This post explains how to do safe double-checked locking via <code>final</code>: <a href=\"https://shipilev.net/blog/2014/safe-public-construction/#_safe_publication\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/safe-public-construction/&hellip;</a>"}],"tags":[],"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681749325,"creation_date":1681749325,"answer_id":76037375,"question_id":70652374,"body_markdown":"&gt; 1. I am also wondering if I can provide thread safe by using final for the necessary variable(s). If so, how can I perform this?\r\n\r\nHere is a complete implementation of your `Counter` class, using `AtomicInteger`:\r\n\r\n    class Counter {\r\n        // counter must be final here:\r\n        private final AtomicInteger counter = new AtomicInteger(0);\r\n    \r\n        public void increment() {\r\n            counter.getAndIncrement();\r\n        }\r\n    \r\n        public int getValue() {\r\n            return counter.get();\r\n        }\r\n    }\r\n\r\nNote that `counter` is `final`. This means that the reference can not be updated but the referenced `AtomicInteger` can. In addition, we get a guarantee regarding how `Counter` can be used across threads:\r\n\r\nThe relevant passage from [the Java Language Specification][0]:\r\n\r\n&gt; The usage model for final fields is a simple one: Set the final fields for an object in that object&#39;s constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object&#39;s constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nThe converse is also true: If a field is not final, you are not guaranteed to see the correctly constructed version of the object, even if the constructor has finished running.\r\nIn our example, this means that we might get a `NullPointerException` if we call `getValue()` or `increment()` from another thread, since that thread might read `counter` as `null`.\r\n\r\n&gt; 2. Is one of the reason using final commonly in Java for variables and method arguments to provide thread safety?\r\n\r\nOnly for field variables. `final` provides guarantees for fields but not for local variables and method parameters.\r\n\r\n  [0]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5","title":"Thread Safety using final","body":"<blockquote>\n<ol>\n<li>I am also wondering if I can provide thread safe by using final for the necessary variable(s). If so, how can I perform this?</li>\n</ol>\n</blockquote>\n<p>Here is a complete implementation of your <code>Counter</code> class, using <code>AtomicInteger</code>:</p>\n<pre><code>class Counter {\n    // counter must be final here:\n    private final AtomicInteger counter = new AtomicInteger(0);\n\n    public void increment() {\n        counter.getAndIncrement();\n    }\n\n    public int getValue() {\n        return counter.get();\n    }\n}\n</code></pre>\n<p>Note that <code>counter</code> is <code>final</code>. This means that the reference can not be updated but the referenced <code>AtomicInteger</code> can. In addition, we get a guarantee regarding how <code>Counter</code> can be used across threads:</p>\n<p>The relevant passage from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">the Java Language Specification</a>:</p>\n<blockquote>\n<p>The usage model for final fields is a simple one: Set the final fields for an object in that object's constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object's constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object's final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>The converse is also true: If a field is not final, you are not guaranteed to see the correctly constructed version of the object, even if the constructor has finished running.\nIn our example, this means that we might get a <code>NullPointerException</code> if we call <code>getValue()</code> or <code>increment()</code> from another thread, since that thread might read <code>counter</code> as <code>null</code>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Is one of the reason using final commonly in Java for variables and method arguments to provide thread safety?</li>\n</ol>\n</blockquote>\n<p>Only for field variables. <code>final</code> provides guarantees for fields but not for local variables and method parameters.</p>\n"}],"owner":{"display_name":"user17862362"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1681749325,"creation_date":1641817585,"question_id":70652374,"body_markdown":"Here is an example method for explaining thread safety:\r\n\r\n```\r\nclass Counter {\r\n    private int counter = 0;\r\n\r\n    public void increment() {\r\n        counter++;\r\n    }\r\n\r\n    public int getValue() {\r\n        return counter;\r\n    }\r\n}\r\n```\r\n\r\nIn order to provide thread safety, there are several methods and I would prefer using `AtomicInteger` approach. However;\r\n\r\n**1.** I am also wondering if I can provide thread safe by using `final` for the necessary variable(s). If so, how can I perform this?\r\n\r\n**2.** Is one of the reason using `final` commonly in Java for variables and method arguments to provide thread safety? ","title":"Thread Safety using final","body":"<p>Here is an example method for explaining thread safety:</p>\n<pre><code>class Counter {\n    private int counter = 0;\n\n    public void increment() {\n        counter++;\n    }\n\n    public int getValue() {\n        return counter;\n    }\n}\n</code></pre>\n<p>In order to provide thread safety, there are several methods and I would prefer using <code>AtomicInteger</code> approach. However;</p>\n<p><strong>1.</strong> I am also wondering if I can provide thread safe by using <code>final</code> for the necessary variable(s). If so, how can I perform this?</p>\n<p><strong>2.</strong> Is one of the reason using <code>final</code> commonly in Java for variables and method arguments to provide thread safety?</p>\n"},{"tags":["java","database","jdbc","automation","dbutils"],"comments":[{"owner":{"account_id":2754262,"reputation":746,"user_id":2372840,"display_name":"Darius Zi"},"score":0,"creation_date":1681711835,"post_id":76032043,"comment_id":134094610,"body_markdown":"Can you explain why do you need to reset result set pointer? Do you iterate result set multiple times? Maybe it&#39;s better to extract data from results set into some variable and iterate it instead?","body":"Can you explain why do you need to reset result set pointer? Do you iterate result set multiple times? Maybe it&#39;s better to extract data from results set into some variable and iterate it instead?"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1681712500,"post_id":76032043,"comment_id":134094709,"body_markdown":"Please don&#39;t post code images or errors if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or errors if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1681715044,"post_id":76032043,"comment_id":134095164,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, edit your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, edit your question to include the code as properly formatted text."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681748941,"creation_date":1681748941,"answer_id":76037310,"question_id":76032043,"body_markdown":"According to the [javadocs][1] for `ResultSet::beforeFirst()`:\r\n\r\n&gt; *&quot;Throws: `SQLFeatureNotSupportedException` - if the JDBC driver does not support this method.&quot;*\r\n\r\nIt appears that the Snowflake JDBC driver doesn&#39;t support the method.  And their support have confirmed that. \r\n\r\nYou asked:\r\n\r\n&gt; Anyone know how to fix that?\r\n\r\nYou cannot fix it.\r\n\r\nApparently, it is not possible to reset a Snowflake cursor.\r\n\r\nI guess you could close the `ResultSet` and repeat the query.  It is inelegant, and potentially inefficient, but if you need to do it ...\r\n\r\nIf that approach won&#39;t work for you, you will need to find and use a different database product whose JDBC driver *does* provide a way to reset its cursors.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html#beforeFirst()","title":"Snowflake Jdbc rs.beforeFirst() method error","body":"<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html#beforeFirst()\" rel=\"nofollow noreferrer\">javadocs</a> for <code>ResultSet::beforeFirst()</code>:</p>\n<blockquote>\n<p><em>&quot;Throws: <code>SQLFeatureNotSupportedException</code> - if the JDBC driver does not support this method.&quot;</em></p>\n</blockquote>\n<p>It appears that the Snowflake JDBC driver doesn't support the method.  And their support have confirmed that.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Anyone know how to fix that?</p>\n</blockquote>\n<p>You cannot fix it.</p>\n<p>Apparently, it is not possible to reset a Snowflake cursor.</p>\n<p>I guess you could close the <code>ResultSet</code> and repeat the query.  It is inelegant, and potentially inefficient, but if you need to do it ...</p>\n<p>If that approach won't work for you, you will need to find and use a different database product whose JDBC driver <em>does</em> provide a way to reset its cursors.</p>\n"}],"owner":{"account_id":28326146,"reputation":1,"user_id":21661112,"display_name":"Aykut.Koc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681748941,"creation_date":1681710651,"question_id":76032043,"body_markdown":"I am trying to get test by using snowflake jdbc .I connected . but when I try to get some data from snowflake I got this error.net.snowflake.client.jdbc.SnowflakeLoggedFeatureNotSupportedException. I asked the snowflake support they said you are using rs.beforeFirst() method .snowflake driver doesn&#39;t support that. Anyone Know how to fix that\r\n[[enter image description here](https://i.stack.imgur.com/VlO2I.png)](https://i.stack.imgur.com/DuNQi.png)\r\n\r\n\r\nI expected like get column get some data .I think I should try without rs.beforeFirst() method to create db_util class please if anyone know .help me","title":"Snowflake Jdbc rs.beforeFirst() method error","body":"<p>I am trying to get test by using snowflake jdbc .I connected . but when I try to get some data from snowflake I got this error.net.snowflake.client.jdbc.SnowflakeLoggedFeatureNotSupportedException. I asked the snowflake support they said you are using rs.beforeFirst() method .snowflake driver doesn't support that. Anyone Know how to fix that\n[<a href=\"https://i.stack.imgur.com/VlO2I.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/DuNQi.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DuNQi.png</a>)</p>\n<p>I expected like get column get some data .I think I should try without rs.beforeFirst() method to create db_util class please if anyone know .help me</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1567661445,"post_id":57798823,"comment_id":102030385,"body_markdown":"**Target** folder is automatically created by maven, and each time `clean` command is run it is re created a new.","body":"<b>Target</b> folder is automatically created by maven, and each time <code>clean</code> command is run it is re created a new."}],"answers":[{"comments":[{"owner":{"account_id":16261172,"reputation":29,"user_id":11742453,"display_name":"shruti khungar"},"score":0,"creation_date":1567661374,"post_id":57798903,"comment_id":102030371,"body_markdown":"Ok. thanks for clarifying. Both are having difference versions. the change which i do in src/main/resources/filename.xml does not sometimes reflect in target/classes/filename.xml hence causing issue","body":"Ok. thanks for clarifying. Both are having difference versions. the change which i do in src/main/resources/filename.xml does not sometimes reflect in target/classes/filename.xml hence causing issue"},{"owner":{"account_id":16261172,"reputation":29,"user_id":11742453,"display_name":"shruti khungar"},"score":0,"creation_date":1567661619,"post_id":57798903,"comment_id":102030438,"body_markdown":"how can i make sure both the folder structure have same version?","body":"how can i make sure both the folder structure have same version?"},{"owner":{"account_id":13356964,"reputation":66,"user_id":9640193,"display_name":"Hagen"},"score":1,"creation_date":1567662033,"post_id":57798903,"comment_id":102030563,"body_markdown":"It is done by default from maven if you execute a phase which includes the goal resources:resources for example mvn install should do the job. Or you could execute the goal manual by typing mvn resources:resources","body":"It is done by default from maven if you execute a phase which includes the goal resources:resources for example mvn install should do the job. Or you could execute the goal manual by typing mvn resources:resources"},{"owner":{"account_id":13356964,"reputation":66,"user_id":9640193,"display_name":"Hagen"},"score":1,"creation_date":1567662157,"post_id":57798903,"comment_id":102030600,"body_markdown":"Would be nice if you accept the answer because I need some points :-)","body":"Would be nice if you accept the answer because I need some points :-)"}],"tags":[],"owner":{"account_id":13356964,"reputation":66,"user_id":9640193,"display_name":"Hagen"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567663043,"creation_date":1567661043,"answer_id":57798903,"question_id":57798823,"body_markdown":"Target Folder is automatically by maven. It copies the resources from  *src/main/resources* to *target/classes/* together with the compiled java classes from **src/main/java**. \r\n\r\nIf you run your program *target/classes* is the root of you **classloader**.","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>Target Folder is automatically by maven. It copies the resources from  <em>src/main/resources</em> to <em>target/classes/</em> together with the compiled java classes from <strong>src/main/java</strong>. </p>\n\n<p>If you run your program <em>target/classes</em> is the root of you <strong>classloader</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567661091,"creation_date":1567661091,"answer_id":57798912,"question_id":57798823,"body_markdown":"Make sure you have structure(Module) like below:\r\n\r\n    ├── src\r\n    │   └── main\r\n    │       ├── java\r\n    │       │   └── somepackage\r\n    │       │       └──Main.java\r\n    │       │           \r\n    │       │               \r\n    │       │              \r\n    │       └── resources\r\n    │           └── filename.xml\r\n    └── pom.xml\r\n______________________________________________\r\n    File xmlFile = new File(String.valueOf(getClass().getClassLoader().getResourceAsStream(&quot;filename.xml&quot;)));\r\n","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>Make sure you have structure(Module) like below:</p>\n\n<pre><code>├── src\n│   └── main\n│       ├── java\n│       │   └── somepackage\n│       │       └──Main.java\n│       │           \n│       │               \n│       │              \n│       └── resources\n│           └── filename.xml\n└── pom.xml\n</code></pre>\n\n<hr>\n\n<pre><code>File xmlFile = new File(String.valueOf(getClass().getClassLoader().getResourceAsStream(\"filename.xml\")));\n</code></pre>\n"}],"owner":{"account_id":16261172,"reputation":29,"user_id":11742453,"display_name":"shruti khungar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57798912,"answer_count":2,"score":1,"last_activity_date":1681748735,"creation_date":1567660573,"question_id":57798823,"body_markdown":"I am trying to fetch a file from src/main/resources folder.\r\nEarlier it was working fine but recently it has started picking that file from some target location (target/classes/filename.xml) (I did not create that file in target folder). \r\n\r\n    File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI());\r\n\r\nCode that I am trying is: \r\n\r\n     File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI()); \r\n\r\nExpected: it should pick the file from **src/main/resources/filename.xml**\r\nactual: it is picking the file from target/classes/filename.xml \r\n\r\n**Additional Info:** My code is in `ReadXMLFile.xml` and its under the below folder structure\r\ncom.qa.smartcomm.util\r\n\tReadXMLFile.xml\r\n\r\nCan someone help me with this issue?","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>I am trying to fetch a file from src/main/resources folder.\nEarlier it was working fine but recently it has started picking that file from some target location (target/classes/filename.xml) (I did not create that file in target folder). </p>\n\n<pre><code>File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI());\n</code></pre>\n\n<p>Code that I am trying is: </p>\n\n<pre><code> File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI()); \n</code></pre>\n\n<p>Expected: it should pick the file from <strong>src/main/resources/filename.xml</strong>\nactual: it is picking the file from target/classes/filename.xml </p>\n\n<p><strong>Additional Info:</strong> My code is in <code>ReadXMLFile.xml</code> and its under the below folder structure\ncom.qa.smartcomm.util\n    ReadXMLFile.xml</p>\n\n<p>Can someone help me with this issue?</p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":14432183,"reputation":389,"user_id":10425217,"display_name":"Reese"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622816619,"creation_date":1622816619,"answer_id":67838945,"question_id":67835094,"body_markdown":"I understood the problem as @EnableJpaRepositories was with bootapllication class , it was trying to load it. solution is bootapplication class should have only @springbootapplication annotation and any other configuration can be move out to separate config file with @configuration annotation. I found it here\r\nhttps://stackoverflow.com/questions/51467132/spring-webmvctest-with-enablejpa-annotation","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>I understood the problem as @EnableJpaRepositories was with bootapllication class , it was trying to load it. solution is bootapplication class should have only @springbootapplication annotation and any other configuration can be move out to separate config file with @configuration annotation. I found it here\n<a href=\"https://stackoverflow.com/questions/51467132/spring-webmvctest-with-enablejpa-annotation\">Spring @WebMvcTest with @EnableJpa* annotation</a></p>\n"},{"tags":[],"owner":{"account_id":6314267,"reputation":11,"user_id":4904826,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681748516,"creation_date":1681748516,"answer_id":76037261,"question_id":67835094,"body_markdown":"First, as previous answer said, `EnableJpaRepositories` need to be removed.\r\nSecond, what if after it is removed, your `WebMvcTest` request the repository interfaces? The answer is to add `@MockBean` in your `WebMvcTest` for all the `@Service`s and `@Repository`s","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>First, as previous answer said, <code>EnableJpaRepositories</code> need to be removed.\nSecond, what if after it is removed, your <code>WebMvcTest</code> request the repository interfaces? The answer is to add <code>@MockBean</code> in your <code>WebMvcTest</code> for all the <code>@Service</code>s and <code>@Repository</code>s</p>\n"}],"owner":{"account_id":14432183,"reputation":389,"user_id":10425217,"display_name":"Reese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5040,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681748516,"creation_date":1622799942,"question_id":67835094,"body_markdown":"I am getting &#39;No bean named &#39;entityManagerFactory&#39; available&#39; in my junit5 test class even when i am mocking the service layer class.\r\nMy understanding is if service layer is mocked, it should not look for actual jpa implementation. I am not understanding what i am missing. My application runs fine with JPA, only problem i am facing in the unit testing with @WebMvcTest\r\n\r\n**spring boot application class**\r\n\r\n    @SpringBootApplication(\r\n        scanBasePackages = {&quot;com.testapp.rest.auth&quot;})\r\n    @EnableJpaRepositories\r\n    public class SampleAuthorizationServiceApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SampleAuthorizationServiceApplication.class, args);\r\n      }\r\n    }\r\n\r\n**Controller**\r\n\r\n    @PostMapping(\r\n          value = &quot;/testRest/auth&quot;,\r\n          consumes = MediaType.APPLICATION_JSON_VALUE,\r\n          produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;ResObj&gt; testValid(\r\n          @RequestBody ReqObj reqObj, @RequestHeader HttpHeaders headerSet)\r\n          throws SampleTechnicalException {\r\n    \r\n        ResObj response = authServ.authorize(reqObj);\r\n    \r\n        if (response.isSuccess()) {\r\n          log.info(&quot;Request processed successfully. response : {}&quot;, response.isSuccess());\r\n          return ResponseEntity.ok(response);\r\n        } else {\r\n          log.error(\r\n              &quot;Request couldn&#39;t be processed successfully. response : {}&quot;,\r\n              response.isSuccess());\r\n          return new ResponseEntity&lt;ResObj&gt;(response, HttpStatus.UNAUTHORIZED);\r\n        }\r\n      }\r\n\r\n**service**\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    @Slf4j\r\n    public class AuthSerive {\r\n    \r\n      private SampleRepository1 sampleRepository1;\r\n    \r\n      private SampleRepository2 sampleRepository2;\r\n    \r\n      public ResObj authorize(ReqObj reqObj) throws SampleTechnicalException {\r\n    \r\n    \r\n        if (reqObj == null) {\r\n          throw new SampleTechnicalException(&quot;throw exception&quot;);\r\n        }\r\n    \t..\r\n    \t\r\n    }\r\n\r\n**Controller Test class**\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(controllers = AuthController.class)\r\n    class AuthControllerTest {\r\n    \r\n      @MockBean AuthSerive authServ;\r\n    \r\n      @Autowired private MockMvc mockMvc;\r\n    \r\n      \r\n    \r\n      @Test\r\n      void testAuthSample() throws Exception {\r\n        String jsonreq =\r\n            &quot;{ \\&quot;field1\\&quot;:\\&quot;\\&quot;, \\&quot;field2\\&quot;:\\&quot;x\\&quot;, \\&quot;field3\\&quot;:\\&quot;\\&quot;, \\&quot;field4\\&quot;:\\&quot;\\&quot;, \\&quot;field5\\&quot;:&quot;y&quot;, \\&quot;field6\\&quot;:\\&quot;z\\&quot;, \\&quot;field7\\&quot;:\\&quot;x\\&quot; }&quot;;\r\n        ResObj mockResponse =\r\n            ResObj.builder().authSuccess(true).errorMessage(null).build();\r\n    \r\n        ReqObj mockTestObj=\r\n            ReqObj.builder().field2(&quot;x&quot;).field5(&quot;y&quot;).field6(&quot;z&quot;).field7(&quot;x&quot;).build();\r\n    \r\n        Mockito.when(authServ.authorize(mockTestObj)).thenReturn(mockResponse);\r\n    \r\n        mockMvc\r\n            .perform(post(&quot;/api/testRest/auth&quot;).contentType(&quot;application/json&quot;).content(jsonreq))\r\n            .andExpect(status().isOk());\r\n    \r\n         \r\n      }\r\n\r\n**build.gradle**\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;com.oracle.database.jdbc:ojdbc8:18.3.0.0&#39;\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.4&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.8&#39;\r\n    \r\n        implementation group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;\r\n    \r\n        testCompile (&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n            exclude group: &quot;org.mockito&quot;, module: &quot;mockito-all&quot;\r\n        }\r\n    \r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    }\r\n\r\n**error**\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;SampleRepository1&#39; defined in com.testapp.rest.auth.repository.SampleRepository1 defined in @EnableJpaRepositories declared on SampleAuthorizationServiceApplication: Cannot create inner bean &#39;(inner bean)#47a7c93e&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#47a7c93e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1689)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \t... 68 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#47a7c93e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n    \t... 87 common frames omitted\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>I am getting 'No bean named 'entityManagerFactory' available' in my junit5 test class even when i am mocking the service layer class.\nMy understanding is if service layer is mocked, it should not look for actual jpa implementation. I am not understanding what i am missing. My application runs fine with JPA, only problem i am facing in the unit testing with @WebMvcTest</p>\n<p><strong>spring boot application class</strong></p>\n<pre><code>@SpringBootApplication(\n    scanBasePackages = {&quot;com.testapp.rest.auth&quot;})\n@EnableJpaRepositories\npublic class SampleAuthorizationServiceApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SampleAuthorizationServiceApplication.class, args);\n  }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(\n      value = &quot;/testRest/auth&quot;,\n      consumes = MediaType.APPLICATION_JSON_VALUE,\n      produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;ResObj&gt; testValid(\n      @RequestBody ReqObj reqObj, @RequestHeader HttpHeaders headerSet)\n      throws SampleTechnicalException {\n\n    ResObj response = authServ.authorize(reqObj);\n\n    if (response.isSuccess()) {\n      log.info(&quot;Request processed successfully. response : {}&quot;, response.isSuccess());\n      return ResponseEntity.ok(response);\n    } else {\n      log.error(\n          &quot;Request couldn't be processed successfully. response : {}&quot;,\n          response.isSuccess());\n      return new ResponseEntity&lt;ResObj&gt;(response, HttpStatus.UNAUTHORIZED);\n    }\n  }\n</code></pre>\n<p><strong>service</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\n@Slf4j\npublic class AuthSerive {\n\n  private SampleRepository1 sampleRepository1;\n\n  private SampleRepository2 sampleRepository2;\n\n  public ResObj authorize(ReqObj reqObj) throws SampleTechnicalException {\n\n\n    if (reqObj == null) {\n      throw new SampleTechnicalException(&quot;throw exception&quot;);\n    }\n    ..\n    \n}\n</code></pre>\n<p><strong>Controller Test class</strong></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = AuthController.class)\nclass AuthControllerTest {\n\n  @MockBean AuthSerive authServ;\n\n  @Autowired private MockMvc mockMvc;\n\n  \n\n  @Test\n  void testAuthSample() throws Exception {\n    String jsonreq =\n        &quot;{ \\&quot;field1\\&quot;:\\&quot;\\&quot;, \\&quot;field2\\&quot;:\\&quot;x\\&quot;, \\&quot;field3\\&quot;:\\&quot;\\&quot;, \\&quot;field4\\&quot;:\\&quot;\\&quot;, \\&quot;field5\\&quot;:&quot;y&quot;, \\&quot;field6\\&quot;:\\&quot;z\\&quot;, \\&quot;field7\\&quot;:\\&quot;x\\&quot; }&quot;;\n    ResObj mockResponse =\n        ResObj.builder().authSuccess(true).errorMessage(null).build();\n\n    ReqObj mockTestObj=\n        ReqObj.builder().field2(&quot;x&quot;).field5(&quot;y&quot;).field6(&quot;z&quot;).field7(&quot;x&quot;).build();\n\n    Mockito.when(authServ.authorize(mockTestObj)).thenReturn(mockResponse);\n\n    mockMvc\n        .perform(post(&quot;/api/testRest/auth&quot;).contentType(&quot;application/json&quot;).content(jsonreq))\n        .andExpect(status().isOk());\n\n     \n  }\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\n\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa'\n    implementation 'com.oracle.database.jdbc:ojdbc8:18.3.0.0'\n    compileOnly 'org.projectlombok:lombok:1.18.4'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.8'\n\n    implementation group: 'org.springframework', name: 'spring-context'\n\n    testCompile (&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude group: &quot;org.mockito&quot;, module: &quot;mockito-all&quot;\n    }\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n</code></pre>\n<p><strong>error</strong></p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'SampleRepository1' defined in com.testapp.rest.auth.repository.SampleRepository1 defined in @EnableJpaRepositories declared on SampleAuthorizationServiceApplication: Cannot create inner bean '(inner bean)#47a7c93e' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#47a7c93e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1689)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 68 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#47a7c93e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 87 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n</code></pre>\n"},{"tags":["java","inputstream","httpurlconnection","outputstream"],"answers":[{"tags":[],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681747763,"creation_date":1681747763,"answer_id":76037147,"question_id":76036573,"body_markdown":"If your content is text file you can use **OutputStreamWriter**. (It&#39;s look like your file is a json)\r\n\r\n    try (OutputStream os = con.getOutputStream();\r\n        OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;)) {\r\n        String data = &quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;age\\&quot;: 30}&quot;;\r\n        osw.write(data);\r\n        osw.flush();\r\n    } catch (UnsupportedEncodingException e) {\r\n        throw new RuntimeException(e);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\nIf your content is binary file you can use **DataOutputStream** \r\n\r\n    try (OutputStream os = con.getOutputStream();\r\n        DataOutputStream dos = new DataOutputStream(os)) {\r\n        byte[] data = {0x01, 0x02, 0x03, 0x04, 0x05};\r\n        dos.write(data);\r\n        dos.flush();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n","title":"How to upload InputStream to HttpURLConnection","body":"<p>If your content is text file you can use <strong>OutputStreamWriter</strong>. (It's look like your file is a json)</p>\n<pre><code>try (OutputStream os = con.getOutputStream();\n    OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;)) {\n    String data = &quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;age\\&quot;: 30}&quot;;\n    osw.write(data);\n    osw.flush();\n} catch (UnsupportedEncodingException e) {\n    throw new RuntimeException(e);\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>If your content is binary file you can use <strong>DataOutputStream</strong></p>\n<pre><code>try (OutputStream os = con.getOutputStream();\n    DataOutputStream dos = new DataOutputStream(os)) {\n    byte[] data = {0x01, 0x02, 0x03, 0x04, 0x05};\n    dos.write(data);\n    dos.flush();\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":6881483,"reputation":2901,"user_id":5288074,"accept_rate":74,"display_name":"Lara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037147,"answer_count":1,"score":0,"last_activity_date":1681747763,"creation_date":1681743834,"question_id":76036573,"body_markdown":"I have created a **HttpURLConnection** using which i need to upload a file to a specific URL. Below is my code\r\n\r\n    String uURL = &quot;http:some_domain/add&quot;;\r\n    URL url = new URL(uURL);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n    connection.setRequestMethod(&quot;PUT&quot;);\r\n\r\n    OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\n\r\n    InputStream iStream = getContent(&quot;ABC&quot;, &quot;test.json&quot;);   \r\n\r\nNow, i have retrieved my content in `iStream` and want to upload it using `OutputStreamWriter`. How can i upload the content? ","title":"How to upload InputStream to HttpURLConnection","body":"<p>I have created a <strong>HttpURLConnection</strong> using which i need to upload a file to a specific URL. Below is my code</p>\n<pre><code>String uURL = &quot;http:some_domain/add&quot;;\nURL url = new URL(uURL);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\nconnection.setRequestMethod(&quot;PUT&quot;);\n\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\n\nInputStream iStream = getContent(&quot;ABC&quot;, &quot;test.json&quot;);   \n</code></pre>\n<p>Now, i have retrieved my content in <code>iStream</code> and want to upload it using <code>OutputStreamWriter</code>. How can i upload the content?</p>\n"},{"tags":["java","multithreading","tomcat","spring-boot"],"comments":[{"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"score":0,"creation_date":1515966906,"post_id":48254517,"comment_id":83491737,"body_markdown":"Not sure... Have you tried this?\norg.quartz.scheduler.interruptJobsOnShutdown=true\n\nSee https://stackoverflow.com/a/3475101/2158271","body":"Not sure... Have you tried this? org.quartz.scheduler.interruptJobsOnShutdown=true  See <a href=\"https://stackoverflow.com/a/3475101/2158271\">stackoverflow.com/a/3475101/2158271</a>"},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1515967677,"post_id":48254517,"comment_id":83491916,"body_markdown":"i am not using quartz","body":"i am not using quartz"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1516200076,"post_id":48254517,"comment_id":83592056,"body_markdown":"Do you use shiro or c3p0 in your project?","body":"Do you use shiro or c3p0 in your project?"},{"owner":{"account_id":6063356,"reputation":714,"user_id":4831142,"display_name":"Robert Ellis"},"score":0,"creation_date":1516530108,"post_id":48254517,"comment_id":83718130,"body_markdown":"@MahmoudSaleh  try this https://stackoverflow.com/questions/6603051/how-can-i-shutdown-spring-task-executor-scheduler-pools-before-all-other-beans-i","body":"@MahmoudSaleh  try this <a href=\"https://stackoverflow.com/questions/6603051/how-can-i-shutdown-spring-task-executor-scheduler-pools-before-all-other-beans-i\" title=\"how can i shutdown spring task executor scheduler pools before all other beans i\">stackoverflow.com/questions/6603051/&hellip;</a>"},{"owner":{"account_id":5445861,"reputation":339,"user_id":4332437,"display_name":"Claudio Corsi"},"score":4,"creation_date":1516567038,"post_id":48254517,"comment_id":83729782,"body_markdown":"The problem is that you do not know who started the TimerThread.  I would recommend that you create a java agent that adds a print statement that produces a stack trace to the TimerThread ctor.  You could then use that information to determine who started the TimerThread.","body":"The problem is that you do not know who started the TimerThread.  I would recommend that you create a java agent that adds a print statement that produces a stack trace to the TimerThread ctor.  You could then use that information to determine who started the TimerThread."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1516609062,"post_id":48254517,"comment_id":83741060,"body_markdown":"@Claudio Corsi, any link for example on how to do that ?","body":"@Claudio Corsi, any link for example on how to do that ?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1516792030,"post_id":48254517,"comment_id":83831371,"body_markdown":"Did you try to extend your `ContainerContextClosedHandler.contextDestroyed` to manually shutdown the `taskExecutor` and/or the scheduler respectively. Similar to the fix suggested in [this answer](https://stackoverflow.com/questions/2730354/spring-scheduler-shutdown-error)","body":"Did you try to extend your <code>ContainerContextClosedHandler.contextDestroyed</code> to manually shutdown the <code>taskExecutor</code> and/or the scheduler respectively. Similar to the fix suggested in <a href=\"https://stackoverflow.com/questions/2730354/spring-scheduler-shutdown-error\">this answer</a>"},{"owner":{"account_id":2737504,"reputation":2699,"user_id":2359858,"display_name":"diogenesgg"},"score":1,"creation_date":1516809772,"post_id":48254517,"comment_id":83843586,"body_markdown":"You can debug it using Eclipse by placing a breakpoint in the TimerThread constructor, after having the source code for your JDK version attached.","body":"You can debug it using Eclipse by placing a breakpoint in the TimerThread constructor, after having the source code for your JDK version attached."},{"owner":{"account_id":389722,"reputation":102,"user_id":749337,"display_name":"matthenry87"},"score":1,"creation_date":1688166044,"post_id":48254517,"comment_id":135042465,"body_markdown":"@diogenesgg Gone are the days of having to attach the source to debug into 3rd party code. If you&#39;re using the best IDE money can buy that is (not sure if community edition has decompiler by default).","body":"@diogenesgg Gone are the days of having to attach the source to debug into 3rd party code. If you&#39;re using the best IDE money can buy that is (not sure if community edition has decompiler by default)."}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1516204488,"creation_date":1516204488,"answer_id":48305086,"question_id":48254517,"body_markdown":"Change your `ScheduleConfig` to use `shutdownNow` instead of `shutdown` as destroy method.\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduleConfig implements SchedulingConfigurer {\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            taskRegistrar.setScheduler(taskExecutor());\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdownNow&quot;)\r\n        public Executor taskExecutor() {\r\n            return Executors.newScheduledThreadPool(100);\r\n        }\r\n    }","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>Change your <code>ScheduleConfig</code> to use <code>shutdownNow</code> instead of <code>shutdown</code> as destroy method.</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduleConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod = \"shutdownNow\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":217270,"reputation":2444,"user_id":472992,"display_name":"J&#246;rg"},"score":0,"creation_date":1516610327,"post_id":48311697,"comment_id":83741676,"body_markdown":"you can also try a breakpoint in your contextDestroyed() and use e.g. jvisualvm to show thread dump of [Timer-0], maybe you get a clue from its stack about what part is responsible for starting it and fails to also have it stop","body":"you can also try a breakpoint in your contextDestroyed() and use e.g. jvisualvm to show thread dump of [Timer-0], maybe you get a clue from its stack about what part is responsible for starting it and fails to also have it stop"}],"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516231962,"creation_date":1516231962,"answer_id":48311697,"question_id":48254517,"body_markdown":"It is hard to say root cause but thread name _[Timer-0]_ gives a clue to find it. `java.util.Timer` class creates threads which has name pattern like _Timer-*_ as you can see in it&#39;s source code. \r\n\r\n    public Timer() {\r\n        this(&quot;Timer-&quot; + serialNumber());\r\n    }\r\n\r\nPossibly the libraries that are in your classpath starts a _Timer_ thread but doesn&#39;t cancel it or the code which is working in this thread stuck. \r\n\r\nI may suggest put breakpoint in `java.util.Timer` and debug it to find which tasks is working on it. It may point the root cause.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>It is hard to say root cause but thread name <em>[Timer-0]</em> gives a clue to find it. <code>java.util.Timer</code> class creates threads which has name pattern like <em>Timer-*</em> as you can see in it's source code. </p>\n\n<pre><code>public Timer() {\n    this(\"Timer-\" + serialNumber());\n}\n</code></pre>\n\n<p>Possibly the libraries that are in your classpath starts a <em>Timer</em> thread but doesn't cancel it or the code which is working in this thread stuck. </p>\n\n<p>I may suggest put breakpoint in <code>java.util.Timer</code> and debug it to find which tasks is working on it. It may point the root cause.</p>\n"},{"comments":[{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1516301013,"post_id":48327830,"comment_id":83642040,"body_markdown":"about the AbandonedConnectionCleanupThread, is it for mysql only ?","body":"about the AbandonedConnectionCleanupThread, is it for mysql only ?"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1516301471,"post_id":48327830,"comment_id":83642261,"body_markdown":"@MahmoudSaleh, yes it is.","body":"@MahmoudSaleh, yes it is."},{"owner":{"account_id":1542421,"reputation":387,"user_id":1436741,"display_name":"stackunderflow"},"score":0,"creation_date":1670083840,"post_id":48327830,"comment_id":131792840,"body_markdown":"Solution 1 for Oracle is a bad advice. The opposite is true","body":"Solution 1 for Oracle is a bad advice. The opposite is true"}],"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1653362071,"creation_date":1516299368,"answer_id":48327830,"question_id":48254517,"body_markdown":"I want to share some solutions with root cause analysis of this issue.\r\n\r\n---\r\n&gt; # For Oracle Users\r\n\r\n## Solution #1\r\n\r\nYou should remove your Oracle driver from Tomcat&#39;s `/lib` folder.\r\nI was facing the same issue and it got resolved.\r\n\r\n**Note:** Let the Oracle driver be in `/WEB-INF/lib` folder.\r\n\r\n## Solution #2\r\n\r\nYou can use real hack by sleeping thread.\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n        logger.info(&quot;######### contextDestroyed #########&quot;);\r\n        Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\r\n        while (drivers.hasMoreElements()) {\r\n            Driver driver = drivers.nextElement();\r\n            try {\r\n                DriverManager.deregisterDriver(driver);\r\n                logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\r\n            } catch (SQLException e) {\r\n                logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\r\n            }\r\n        }\r\n    \ttry { Thread.sleep(2000L); } catch (Exception e) {} // Use this thread sleep\r\n    }\r\n\r\n**Resource Link:** [Solution to “Tomcat can’t stop [Abandoned connection cleanup thread]”](https://www.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/)\r\n\r\n## Solution #3\r\n\r\n[Svetlin Zarev](https://stackoverflow.com/users/2588800/svetlin-zarev) has told nothing to worry about. It is the standard message of tomcat. He has given root cause analysis like below:\r\n\r\n&gt; This problem is occurred when an application has started\r\n&gt; ScheduledExecutor (but this will happen with any other\r\n&gt; Thread/TheadPool) and didn&#39;t shut it down on contextDestroyed. So\r\n&gt; check if you are shutting down your threads on application/server\r\n&gt; stop.\r\n\r\n**Resource Link:** [Tomcat8 memory leak](https://stackoverflow.com/a/28106807/2293534)\r\n\r\n## Solution #4\r\n\r\n**For Oracle users**, there are multiple answers in this post: https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\r\n\r\n---\r\n\r\n&gt; # For MySQL users\r\n\r\n## Solution #5\r\n\r\n**Root Cause Analysis with Solution:**\r\n\r\n&gt; The cleanup thread for abandoned connections in the\r\n&gt; **NonRegisteringDriver** class was refactored to have a static shutdown method. Memory was allocated but never released. If you\r\n&gt; encountered this leak problem, implement the context listener in your\r\n&gt; application with the `AbandonedConnectionCleanupThread.shutdown()`\r\n&gt; call in the `contextDestroyed` method. \r\n&gt; \r\n&gt; This issue was found in applications running under the Tomcat\r\n&gt; application server, but it might have also applied to other\r\n&gt; application servers.\r\n&gt; \r\n&gt; For example:\r\n&gt; ---\r\n&gt; \r\n&gt;     @WebListener\r\n&gt;     public class YourThreadsListener implements ServletContextListener {\r\n&gt;        public void contextDestroyed(ServletContextEvent arg0) {\r\n&gt;           try {\r\n&gt;               AbandonedConnectionCleanupThread.shutdown();\r\n&gt;           } catch (InterruptedException e) {\r\n&gt;           }\r\n&gt;        }\r\n&gt;        ...\r\n&gt;     }\r\n&gt; \r\n&gt; Note that if container does not support annotations, you add the\r\n&gt; description to  web.xml:\r\n&gt; \r\n&gt;     &lt;listener&gt;\r\n&gt;         &lt;listener-class&gt;user.package.YourThreadsListener&lt;/listener-class&gt; \r\n&gt;     &lt;/listener&gt;\r\n\r\n**Resource Link:** https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\r\n\r\n","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I want to share some solutions with root cause analysis of this issue.</p>\n<hr />\n<blockquote>\n<h1>For Oracle Users</h1>\n</blockquote>\n<h2>Solution #1</h2>\n<p>You should remove your Oracle driver from Tomcat's <code>/lib</code> folder.\nI was facing the same issue and it got resolved.</p>\n<p><strong>Note:</strong> Let the Oracle driver be in <code>/WEB-INF/lib</code> folder.</p>\n<h2>Solution #2</h2>\n<p>You can use real hack by sleeping thread.</p>\n<pre><code>@Override\npublic void contextDestroyed(ServletContextEvent servletContextEvent) {\n    logger.info(&quot;######### contextDestroyed #########&quot;);\n    Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\n    while (drivers.hasMoreElements()) {\n        Driver driver = drivers.nextElement();\n        try {\n            DriverManager.deregisterDriver(driver);\n            logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\n        } catch (SQLException e) {\n            logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\n        }\n    }\n    try { Thread.sleep(2000L); } catch (Exception e) {} // Use this thread sleep\n}\n</code></pre>\n<p><strong>Resource Link:</strong> <a href=\"https://www.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/\" rel=\"nofollow noreferrer\">Solution to “Tomcat can’t stop [Abandoned connection cleanup thread]”</a></p>\n<h2>Solution #3</h2>\n<p><a href=\"https://stackoverflow.com/users/2588800/svetlin-zarev\">Svetlin Zarev</a> has told nothing to worry about. It is the standard message of tomcat. He has given root cause analysis like below:</p>\n<blockquote>\n<p>This problem is occurred when an application has started\nScheduledExecutor (but this will happen with any other\nThread/TheadPool) and didn't shut it down on contextDestroyed. So\ncheck if you are shutting down your threads on application/server\nstop.</p>\n</blockquote>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/28106807/2293534\">Tomcat8 memory leak</a></p>\n<h2>Solution #4</h2>\n<p><strong>For Oracle users</strong>, there are multiple answers in this post: <a href=\"https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\">To prevent a memory leak, the JDBC Driver has been forcibly unregistered</a></p>\n<hr />\n<blockquote>\n<h1>For MySQL users</h1>\n</blockquote>\n<h2>Solution #5</h2>\n<p><strong>Root Cause Analysis with Solution:</strong></p>\n<blockquote>\n<p>The cleanup thread for abandoned connections in the\n<strong>NonRegisteringDriver</strong> class was refactored to have a static shutdown method. Memory was allocated but never released. If you\nencountered this leak problem, implement the context listener in your\napplication with the <code>AbandonedConnectionCleanupThread.shutdown()</code>\ncall in the <code>contextDestroyed</code> method.</p>\n<p>This issue was found in applications running under the Tomcat\napplication server, but it might have also applied to other\napplication servers.</p>\n<h2>For example:</h2>\n<pre><code>@WebListener\npublic class YourThreadsListener implements ServletContextListener {\n   public void contextDestroyed(ServletContextEvent arg0) {\n      try {\n          AbandonedConnectionCleanupThread.shutdown();\n      } catch (InterruptedException e) {\n      }\n   }\n   ...\n}\n</code></pre>\n<p>Note that if container does not support annotations, you add the\ndescription to  web.xml:</p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;user.package.YourThreadsListener&lt;/listener-class&gt; \n&lt;/listener&gt;\n</code></pre>\n</blockquote>\n<p><strong>Resource Link:</strong> <a href=\"https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html</a></p>\n"},{"tags":[],"owner":{"account_id":2737504,"reputation":2699,"user_id":2359858,"display_name":"diogenesgg"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516810322,"creation_date":1516763012,"answer_id":48414175,"question_id":48254517,"body_markdown":"My conclusions after running a few tests based on your code\r\nand researching online:\r\n\r\n- There&#39;s nothing to worry about ([link][1]).\r\nTomcat process is being finished and there&#39;s no memory leaks left behind.\r\n\r\n- Even if you call something like `AbandonedConnectionCleanupThread.shutdown()`,\r\nyou could still get that same Warning ([link][2])\r\n\r\n- This warning happens when calling `startup.sh` and `shutdown.sh`.\r\nWhen running Tomcat from Eclipse, it doesn&#39;t show that Warning.\r\n\r\n- Your shutdown method for the `Executor` is likely being called.\r\nFor my tests, it was getting called even if I didn&#39;t define the `destroyMethod`\r\nfor the executor.\r\n\r\n- In this case, this warning is not related to any Spring Scheduling bean.\r\n`Executors.newScheduledThreadPool` returns a new `ScheduledThreadPoolExecutor`,\r\nwhich has the destroy method and it is getting destroyed, like I pointed out earlier. You can debug and see it for yourself.\r\n\r\n- However, there&#39;s somewhere at your code calling `new java.util.Timer`,\r\nwhich calls `new TimerThread()`, \r\nass seen from your logging, and as pointed out by @Claudio Corsi.\r\n\r\n\r\n**In order to debug it and if you are using Eclipse**,\r\nyou have to attache the source code for your JDK version.\r\nOpen the class declaration (hold ctrl and choose open declaration)\r\nand click the &quot;Attach Source Code&quot; button. Make sure you have dowloaded the\r\nexact same version. You don&#39;t even have to extract the zip.\r\nIf you&#39;re using Maven, just hold on a bit that it will download for itself. \r\n\r\nThen, place a breakpoint in the constructor for `java.util.Timer`\r\nand start debugging your application.\r\n\r\n**Edit**: After identifying a reference to `java.util.Timer`, save it (as a bean, if it&#39;s not one) and call its `cancel` method on context destroy. \r\n\r\n  [1]: https://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807\r\n  [2]: https://stackoverflow.com/questions/28105803/tomcat8-memory-leak","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>My conclusions after running a few tests based on your code\nand researching online:</p>\n\n<ul>\n<li><p>There's nothing to worry about (<a href=\"https://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807\">link</a>).\nTomcat process is being finished and there's no memory leaks left behind.</p></li>\n<li><p>Even if you call something like <code>AbandonedConnectionCleanupThread.shutdown()</code>,\nyou could still get that same Warning (<a href=\"https://stackoverflow.com/questions/28105803/tomcat8-memory-leak\">link</a>)</p></li>\n<li><p>This warning happens when calling <code>startup.sh</code> and <code>shutdown.sh</code>.\nWhen running Tomcat from Eclipse, it doesn't show that Warning.</p></li>\n<li><p>Your shutdown method for the <code>Executor</code> is likely being called.\nFor my tests, it was getting called even if I didn't define the <code>destroyMethod</code>\nfor the executor.</p></li>\n<li><p>In this case, this warning is not related to any Spring Scheduling bean.\n<code>Executors.newScheduledThreadPool</code> returns a new <code>ScheduledThreadPoolExecutor</code>,\nwhich has the destroy method and it is getting destroyed, like I pointed out earlier. You can debug and see it for yourself.</p></li>\n<li><p>However, there's somewhere at your code calling <code>new java.util.Timer</code>,\nwhich calls <code>new TimerThread()</code>, \nass seen from your logging, and as pointed out by @Claudio Corsi.</p></li>\n</ul>\n\n<p><strong>In order to debug it and if you are using Eclipse</strong>,\nyou have to attache the source code for your JDK version.\nOpen the class declaration (hold ctrl and choose open declaration)\nand click the \"Attach Source Code\" button. Make sure you have dowloaded the\nexact same version. You don't even have to extract the zip.\nIf you're using Maven, just hold on a bit that it will download for itself. </p>\n\n<p>Then, place a breakpoint in the constructor for <code>java.util.Timer</code>\nand start debugging your application.</p>\n\n<p><strong>Edit</strong>: After identifying a reference to <code>java.util.Timer</code>, save it (as a bean, if it's not one) and call its <code>cancel</code> method on context destroy. </p>\n"},{"tags":[],"owner":{"account_id":12662498,"reputation":627,"user_id":9202894,"display_name":"Ashish Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563016095,"creation_date":1563016095,"answer_id":57018573,"question_id":48254517,"body_markdown":"I have also got the same issue with following error:\r\n\r\n    The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value=&#39;5d29b78967e4ce07d9bb8705&#39;, description=&#39;null&#39;}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n\r\nSo, after a while I figured it out that I didn&#39;t do the maven install for all sub modules in my spring-boot application. So, double check if you are having same error that:\r\n\r\n1. You have run `mvn clean install -U` for all sub modules in the project and for the project itself too.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I have also got the same issue with following error:</p>\n\n<pre><code>The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value='5d29b78967e4ce07d9bb8705', description='null'}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n</code></pre>\n\n<p>So, after a while I figured it out that I didn't do the maven install for all sub modules in my spring-boot application. So, double check if you are having same error that:</p>\n\n<ol>\n<li>You have run <code>mvn clean install -U</code> for all sub modules in the project and for the project itself too.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22752502,"reputation":11,"user_id":16912476,"display_name":"Arnaud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681747622,"creation_date":1681747145,"answer_id":76037069,"question_id":48254517,"body_markdown":"Here we have identified this thread &quot;Timer-0&quot; being created by an old DB2 driver (db2jcc4 v4.19.66)\r\n\r\nWe upgraded to **db2jcc4 v4.32.28** (the latest version as of writing), and the issue was gone.\r\n\r\nAt a first look, this was coming from a thread monitoring a **DB2JccConfiguration.properties** file that we were not using.\r\n\r\nSo I assume that one of the possible causes of this problem comes from a thread leak caused by an outdated DB2 driver.\r\n\r\nTip: To find the offending library, we have set a breakpoint on the Timer.class instance, it was then obvious to determine that it came from our Db2 driver.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>Here we have identified this thread &quot;Timer-0&quot; being created by an old DB2 driver (db2jcc4 v4.19.66)</p>\n<p>We upgraded to <strong>db2jcc4 v4.32.28</strong> (the latest version as of writing), and the issue was gone.</p>\n<p>At a first look, this was coming from a thread monitoring a <strong>DB2JccConfiguration.properties</strong> file that we were not using.</p>\n<p>So I assume that one of the possible causes of this problem comes from a thread leak caused by an outdated DB2 driver.</p>\n<p>Tip: To find the offending library, we have set a breakpoint on the Timer.class instance, it was then obvious to determine that it came from our Db2 driver.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148583,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":48305086,"answer_count":6,"score":51,"last_activity_date":1681747622,"creation_date":1515966520,"question_id":48254517,"body_markdown":"I am using Spring Boot 1.5.9.RELEASE + Java 8 + Tomcat 9\r\n+ Jersey + Oracle and my app has scheduled method defined as follows:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduleConfig implements SchedulingConfigurer {\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            taskRegistrar.setScheduler(taskExecutor());\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdown&quot;)\r\n        public Executor taskExecutor() {\r\n            return Executors.newScheduledThreadPool(100);\r\n        }\r\n    }\r\n\r\nThe job class:\r\n\r\n    @Component\r\n    public class ClearCacheJob {\r\n    \r\n    \r\n    \r\n        @Scheduled(fixedRate = 3600000, initialDelay = 10000)\r\n        public void clearErrorCodesCache() {\r\n            try {\r\n                logger.info(&quot;######## ClearCacheJob #########&quot;);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Exception in ClearCacheJob&quot;, e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nAlso I have a class to deregister the Oracle driver as follows:\r\n\r\n    @WebListener\r\n    public class ContainerContextClosedHandler implements ServletContextListener {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(ContainerContextClosedHandler.class);\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n            logger.info(&quot;######### contextInitialized #########&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n            logger.info(&quot;######### contextDestroyed #########&quot;);\r\n            Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\r\n            while (drivers.hasMoreElements()) {\r\n                Driver driver = drivers.nextElement();\r\n                try {\r\n                    DriverManager.deregisterDriver(driver);\r\n                    logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\r\n                } catch (SQLException e) {\r\n                    logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nbut when stopping Tomcat I am getting the following error:\r\n\r\n    WARNING [Thread-11] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [hai] \r\n    appears to have started a thread named [Timer-0] but has failed to stop it. \r\n     This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.Object.wait(Unknown Source)\r\n     java.util.TimerThread.mainLoop(Unknown Source)\r\n     java.util.TimerThread.run(Unknown Source)\r\n\r\nWhy am I getting this error and how can I fix it?\r\n","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I am using Spring Boot 1.5.9.RELEASE + Java 8 + Tomcat 9\n+ Jersey + Oracle and my app has scheduled method defined as follows:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduleConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod = \"shutdown\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n\n<p>The job class:</p>\n\n<pre><code>@Component\npublic class ClearCacheJob {\n\n\n\n    @Scheduled(fixedRate = 3600000, initialDelay = 10000)\n    public void clearErrorCodesCache() {\n        try {\n            logger.info(\"######## ClearCacheJob #########\");\n        } catch (Exception e) {\n            logger.error(\"Exception in ClearCacheJob\", e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Also I have a class to deregister the Oracle driver as follows:</p>\n\n<pre><code>@WebListener\npublic class ContainerContextClosedHandler implements ServletContextListener {\n\n    private static final Logger logger = LoggerFactory.getLogger(ContainerContextClosedHandler.class);\n\n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        logger.info(\"######### contextInitialized #########\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        logger.info(\"######### contextDestroyed #########\");\n        Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\n        while (drivers.hasMoreElements()) {\n            Driver driver = drivers.nextElement();\n            try {\n                DriverManager.deregisterDriver(driver);\n                logger.info(String.format(\"deregistering jdbc driver: %s\", driver));\n            } catch (SQLException e) {\n                logger.info(String.format(\"Error deregistering driver %s\", driver), e);\n            }\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>but when stopping Tomcat I am getting the following error:</p>\n\n<pre><code>WARNING [Thread-11] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [hai] \nappears to have started a thread named [Timer-0] but has failed to stop it. \n This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Unknown Source)\n java.util.TimerThread.mainLoop(Unknown Source)\n java.util.TimerThread.run(Unknown Source)\n</code></pre>\n\n<p>Why am I getting this error and how can I fix it?</p>\n"},{"tags":["java","spring-boot","selenium-webdriver","junit5"],"answers":[{"tags":[],"owner":{"account_id":23992033,"reputation":1,"user_id":17978028,"display_name":"David Jones"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681747571,"creation_date":1681747571,"answer_id":76037120,"question_id":73231664,"body_markdown":"Your cleanTest() is just quitting the browser. You don&#39;t want to do that between each test, you want to do that after all of the tests.\r\n\r\nSo change your @AfterEach to @AfterAll and make sure your @BeforeEach is putting you exactly where you want. In this case its taking you to www.google.com and that seems fine. But in some cases you might want to do more in between each run (in my case I log out and then log back in to our application between tests for a fresh view)","title":"How to autowire webdriver and page objects in selenium - spring tests","body":"<p>Your cleanTest() is just quitting the browser. You don't want to do that between each test, you want to do that after all of the tests.</p>\n<p>So change your @AfterEach to @AfterAll and make sure your @BeforeEach is putting you exactly where you want. In this case its taking you to <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">www.google.com</a> and that seems fine. But in some cases you might want to do more in between each run (in my case I log out and then log back in to our application between tests for a fresh view)</p>\n"}],"owner":{"account_id":25973996,"reputation":1,"user_id":19688685,"display_name":"spring-qa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681747571,"creation_date":1659596917,"question_id":73231664,"body_markdown":"I am trying to create a project with selenium and spring and use dependency injection to share the webdriver among the page objects.\r\nThis is a sample project:\r\nA base test class that is inherited by all tests\r\n```\r\npublic class Base {\r\n\r\n    @Autowired\r\n    WebDriver driver;\r\n\r\n    public void testSetUp() {\r\n        driver.get(&quot;http://google.com&quot;);\r\n    }\r\n\r\n    public void cleanTest() {\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nA WebDriverConfig class which creates the webdriver bean\r\n```\r\n@Configuration\r\npublic class WebDriverConfig {\r\n\r\n    @Bean\r\n    public WebDriver getDriver() {\r\n        WebDriverManager.chromedriver().setup();\r\n        return new ChromeDriver();\r\n    }\r\n}\r\n```\r\n\r\nA page class which includes the actions that need to be executed in each test\r\n```\r\n@Component\r\npublic class Page {\r\n\r\n    @Autowired\r\n    WebDriver driver;\r\n\r\n    public void methodForTest1() {\r\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test1&quot;);\r\n    }\r\n\r\n    public void methodForTest2() {\r\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the test class which is annotated with @SpringBootTest\r\n```\r\n@SpringBootTest\r\npublic class AppTests extends Base {\r\n\r\n    @Autowired\r\n    Page page;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        testSetUp();\r\n    }\r\n\r\n\r\n    @Test\r\n    void test1() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n        page.methodForTest1();\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    @Test\r\n    void test2() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n\r\n        page.methodForTest2();\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    @AfterEach\r\n    public void cleanUp() {\r\n        cleanTest();\r\n    }\r\n}\r\n```\r\n\r\nBoth tests are successful if run in isolation.\r\nHowever, if I run both of them in the same run, the @AfterEach method is called after the first test and the webdriver is quit. So, the second test fails with this error:\r\n\r\n```\r\norg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\n\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, findElement {using=id, value=L2AGLb}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\karamage\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:52182}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52182/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\r\n\tat test.config.Page.methodForTest2(Page.java:20)\r\n\tat test.AppTests.test2(AppTests.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nIs there any way to fix this?","title":"How to autowire webdriver and page objects in selenium - spring tests","body":"<p>I am trying to create a project with selenium and spring and use dependency injection to share the webdriver among the page objects.\nThis is a sample project:\nA base test class that is inherited by all tests</p>\n<pre><code>public class Base {\n\n    @Autowired\n    WebDriver driver;\n\n    public void testSetUp() {\n        driver.get(&quot;http://google.com&quot;);\n    }\n\n    public void cleanTest() {\n        driver.quit();\n    }\n}\n</code></pre>\n<p>A WebDriverConfig class which creates the webdriver bean</p>\n<pre><code>@Configuration\npublic class WebDriverConfig {\n\n    @Bean\n    public WebDriver getDriver() {\n        WebDriverManager.chromedriver().setup();\n        return new ChromeDriver();\n    }\n}\n</code></pre>\n<p>A page class which includes the actions that need to be executed in each test</p>\n<pre><code>@Component\npublic class Page {\n\n    @Autowired\n    WebDriver driver;\n\n    public void methodForTest1() {\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test1&quot;);\n    }\n\n    public void methodForTest2() {\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test2&quot;);\n    }\n}\n</code></pre>\n<p>And the test class which is annotated with @SpringBootTest</p>\n<pre><code>@SpringBootTest\npublic class AppTests extends Base {\n\n    @Autowired\n    Page page;\n\n    @BeforeEach\n    public void setUp() {\n        testSetUp();\n    }\n\n\n    @Test\n    void test1() throws InterruptedException {\n        Thread.sleep(3000);\n        page.methodForTest1();\n        Thread.sleep(3000);\n    }\n\n    @Test\n    void test2() throws InterruptedException {\n        Thread.sleep(3000);\n\n        page.methodForTest2();\n        Thread.sleep(3000);\n    }\n\n    @AfterEach\n    public void cleanUp() {\n        cleanTest();\n    }\n}\n</code></pre>\n<p>Both tests are successful if run in isolation.\nHowever, if I run both of them in the same run, the @AfterEach method is called after the first test and the webdriver is quit. So, the second test fails with this error:</p>\n<pre><code>org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\n\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, findElement {using=id, value=L2AGLb}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\karamage\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:52182}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52182/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\n\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\n    at test.config.Page.methodForTest2(Page.java:20)\n    at test.AppTests.test2(AppTests.java:34)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Is there any way to fix this?</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1681718880,"post_id":76028697,"comment_id":134095907,"body_markdown":"What RDBMS are you using? Can you post the `CREATE TABLE` definition for your table?","body":"What RDBMS are you using? Can you post the <code>CREATE TABLE</code> definition for your table?"},{"owner":{"account_id":2992108,"reputation":3419,"user_id":2539472,"accept_rate":67,"display_name":"homerman"},"score":0,"creation_date":1681729658,"post_id":76028697,"comment_id":134098313,"body_markdown":"@LukasEder Hi Lukas - I&#39;ve updated the question with those details. In reality, the &quot;letter&quot; column is a UUID, but I assume this detail isn&#39;t all that relevant to the whatever the solution is.","body":"@LukasEder Hi Lukas - I&#39;ve updated the question with those details. In reality, the &quot;letter&quot; column is a UUID, but I assume this detail isn&#39;t all that relevant to the whatever the solution is."}],"answers":[{"comments":[{"owner":{"account_id":2992108,"reputation":3419,"user_id":2539472,"accept_rate":67,"display_name":"homerman"},"score":0,"creation_date":1681747429,"post_id":76035483,"comment_id":134103153,"body_markdown":"Using `OPTIONS.LETTER.equal(val(&quot;B&quot;))`, my IDE shows a compilation error indicating no matching functions can be found. However, wrapping that expression in a `Field` as you mentioned does indeed work as desired. I&#39;m using jOOQ 3.17.6, btw.","body":"Using <code>OPTIONS.LETTER.equal(val(&quot;B&quot;))</code>, my IDE shows a compilation error indicating no matching functions can be found. However, wrapping that expression in a <code>Field</code> as you mentioned does indeed work as desired. I&#39;m using jOOQ 3.17.6, btw."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1681810816,"post_id":76035483,"comment_id":134112878,"body_markdown":"@homerman: I cannot reproduce such a compilation error with 3.17.12 or later","body":"@homerman: I cannot reproduce such a compilation error with 3.17.12 or later"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681736787,"creation_date":1681736787,"answer_id":76035483,"question_id":76028697,"body_markdown":"Starting from jOOQ 3.17 and [#11969][1], this compiles just fine, assuming your `BOOL` column is really a `BOOLEAN`:\r\n\r\n```java\r\n.set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;)))\r\n```\r\n\r\nThe reasons is that with [#11969][1], `Condition` is now a subtype of `Field&lt;Boolean&gt;`, which is what&#39;s expected here. Prior to jOOQ 3.17, you can always wrap a `Condition` in a `Field&lt;Boolean&gt;` explicitly, using [`DSL.field(Condition)`][2]\r\n\r\n```java\r\n.set(OPTIONS.IS_SELECTED, field(OPTIONS.LETTER.equal(val(&quot;B&quot;))))\r\n```\r\n\r\n[See also this section of the manual about boolean columns][3]\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/11969\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#field(org.jooq.Condition)\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/boolean-column/","title":"How can I perform a jOOQ update where the value assignment depends on the value of another column of the same row?","body":"<p>Starting from jOOQ 3.17 and <a href=\"https://github.com/jOOQ/jOOQ/issues/11969\" rel=\"nofollow noreferrer\">#11969</a>, this compiles just fine, assuming your <code>BOOL</code> column is really a <code>BOOLEAN</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;)))\n</code></pre>\n<p>The reasons is that with <a href=\"https://github.com/jOOQ/jOOQ/issues/11969\" rel=\"nofollow noreferrer\">#11969</a>, <code>Condition</code> is now a subtype of <code>Field&lt;Boolean&gt;</code>, which is what's expected here. Prior to jOOQ 3.17, you can always wrap a <code>Condition</code> in a <code>Field&lt;Boolean&gt;</code> explicitly, using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#field(org.jooq.Condition)\" rel=\"nofollow noreferrer\"><code>DSL.field(Condition)</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(OPTIONS.IS_SELECTED, field(OPTIONS.LETTER.equal(val(&quot;B&quot;))))\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/boolean-column/\" rel=\"nofollow noreferrer\">See also this section of the manual about boolean columns</a></p>\n"}],"owner":{"account_id":2992108,"reputation":3419,"user_id":2539472,"accept_rate":67,"display_name":"homerman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76035483,"answer_count":1,"score":1,"last_activity_date":1681747478,"creation_date":1681659476,"question_id":76028697,"body_markdown":"Using Postgres 14.5 (and jOOQ 3.17.6), assume the following `options` table definition:\r\n\r\n    CREATE TABLE options (\r\n      letter       uuid  NOT NULL,\r\n      is_selected  bool  NULL,\r\n    );\r\n\r\n...with data:\r\n&lt;pre&gt;\r\n&lt;table&gt;\r\n&lt;tr&gt;&lt;td&gt;| letter&lt;/td&gt; | &lt;td&gt;is_selected |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| A&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| B&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| C&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| ...&lt;/td&gt;    | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/pre&gt;\r\n\r\n\r\nHow can I write an update to indicate that `B` was selected and the other values were not?\r\n\r\nI tried a few things:\r\n\r\n```\r\njooq\r\n  .update(OPTIONS)\r\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER == val(&quot;B&quot;)) &lt;-- this didn&#39;t work because I\r\n                                                            think this a memory address\r\n                                                            comparison\r\n\r\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;))) &lt;-- this doesn&#39;t compile\r\n\r\n  .execute()\r\n```\r\n","title":"How can I perform a jOOQ update where the value assignment depends on the value of another column of the same row?","body":"<p>Using Postgres 14.5 (and jOOQ 3.17.6), assume the following <code>options</code> table definition:</p>\n<pre><code>CREATE TABLE options (\n  letter       uuid  NOT NULL,\n  is_selected  bool  NULL,\n);\n</code></pre>\n<p>...with data:</p>\n<pre>\n\n| letter | is_selected |\n| A      | (null)      |\n| B      | (null)      |\n| C      | (null)      |\n| ...    | (null)      |\n\n</pre>\n<p>How can I write an update to indicate that <code>B</code> was selected and the other values were not?</p>\n<p>I tried a few things:</p>\n<pre><code>jooq\n  .update(OPTIONS)\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER == val(&quot;B&quot;)) &lt;-- this didn't work because I\n                                                            think this a memory address\n                                                            comparison\n\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;))) &lt;-- this doesn't compile\n\n  .execute()\n</code></pre>\n"},{"tags":["java","http","https","glassfish"],"comments":[{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525158136,"post_id":50112378,"comment_id":87242230,"body_markdown":"What exactly you have edited in default-web.xml file? If you can share your edited file.","body":"What exactly you have edited in default-web.xml file? If you can share your edited file."},{"owner":{"account_id":5533852,"reputation":1244,"user_id":4392892,"display_name":"Sunil Kanzar"},"score":0,"creation_date":1525158592,"post_id":50112378,"comment_id":87242388,"body_markdown":"It can be useful : http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/","body":"It can be useful : <a href=\"http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/\" rel=\"nofollow noreferrer\">antwerkz.com/port-unification-in-glassfish-3-part-1</a>"},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":0,"creation_date":1525158911,"post_id":50112378,"comment_id":87242491,"body_markdown":"&lt;security-constraint&gt;\n\n   &lt;web-resource-collection&gt;\n\n     &lt;web-resource-name&gt; here i&#39;ve add website name &lt;/web-resource-name&gt;\n\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\n   &lt;/web-resource-collection&gt;\n\n   &lt;user-data-constraint&gt;\n\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n\n   &lt;/user-data-constraint&gt;\n\n &lt;/security-constraint&gt;","body":"&lt;security-constraint&gt;     &lt;web-resource-collection&gt;       &lt;web-resource-name&gt; here i&#39;ve add website name &lt;/web-resource-name&gt;       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;     &lt;/web-resource-collection&gt;     &lt;user-data-constraint&gt;       &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;     &lt;/user-data-constraint&gt;   &lt;/security-constraint&gt;"},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":0,"creation_date":1525159149,"post_id":50112378,"comment_id":87242582,"body_markdown":"@SunilKanzar I&#39;ve tried that link. It doesnt work for me.","body":"@SunilKanzar I&#39;ve tried that link. It doesnt work for me."},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":1,"creation_date":1525159181,"post_id":50112378,"comment_id":87242592,"body_markdown":"@Prashant i&#39;ve added lines to answer.","body":"@Prashant i&#39;ve added lines to answer."},{"owner":{"account_id":5533852,"reputation":1244,"user_id":4392892,"display_name":"Sunil Kanzar"},"score":2,"creation_date":1525159352,"post_id":50112378,"comment_id":87242651,"body_markdown":"@AmirDamirov please remove your answer and add it to the question.","body":"@AmirDamirov please remove your answer and add it to the question."},{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525162609,"post_id":50112378,"comment_id":87243694,"body_markdown":"@AmirDamirov glad you added required code but it should be added by editing your question and into it. And also delete the answer you posted.","body":"@AmirDamirov glad you added required code but it should be added by editing your question and into it. And also delete the answer you posted."},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":1,"creation_date":1525166577,"post_id":50112378,"comment_id":87245106,"body_markdown":"@Prashant thank you for correcting.\n\nI&#39;ve added.","body":"@Prashant thank you for correcting.  I&#39;ve added."},{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525168720,"post_id":50112378,"comment_id":87246048,"body_markdown":"Amir, you need port unification, just go through this [blog](http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/). I&#39;m sure this will solve your problem.","body":"Amir, you need port unification, just go through this <a href=\"http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/\" rel=\"nofollow noreferrer\">blog</a>. I&#39;m sure this will solve your problem."}],"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681747073,"creation_date":1525157092,"question_id":50112378,"body_markdown":"I want to redirect HTTP requests to HTTPs. How can I do this?\r\n\r\nI&#39;ve already tried by editing default-web.xml file, but after that the Glassfish admin panel did not work.\r\n\r\nI&#39;ve added these lines to `default-web.xml`:\r\n\r\n    &lt;security-constraint&gt;\r\n\r\n       &lt;web-resource-collection&gt;\r\n\r\n         &lt;web-resource-name&gt; **here i&#39;ve added the website name** &lt;/web-resource-name&gt;\r\n\r\n         &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\r\n       &lt;/web-resource-collection&gt;\r\n\r\n       &lt;user-data-constraint&gt;\r\n\r\n         &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n\r\n       &lt;/user-data-constraint&gt;\r\n\r\n     &lt;/security-constraint&gt;\r\n\r\napp version : Glassfish 3\r\n\r\nOS : Redhat 6","title":"Glassfish 3 redirect all http requests to https","body":"<p>I want to redirect HTTP requests to HTTPs. How can I do this?</p>\n<p>I've already tried by editing default-web.xml file, but after that the Glassfish admin panel did not work.</p>\n<p>I've added these lines to <code>default-web.xml</code>:</p>\n<pre><code>&lt;security-constraint&gt;\n\n   &lt;web-resource-collection&gt;\n\n     &lt;web-resource-name&gt; **here i've added the website name** &lt;/web-resource-name&gt;\n\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\n   &lt;/web-resource-collection&gt;\n\n   &lt;user-data-constraint&gt;\n\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n\n   &lt;/user-data-constraint&gt;\n\n &lt;/security-constraint&gt;\n</code></pre>\n<p>app version : Glassfish 3</p>\n<p>OS : Redhat 6</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1681747787,"post_id":76035928,"comment_id":134103238,"body_markdown":"Being a singleton does not preclude having state. &quot;*Also is there a performance impact if we excessively used short lived instances per request received?*&quot; Of course. That&#39;s stress on the GC stress, but it still might be worth doing","body":"Being a singleton does not preclude having state. &quot;<i>Also is there a performance impact if we excessively used short lived instances per request received?</i>&quot; Of course. That&#39;s stress on the GC stress, but it still might be worth doing"}],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681746858,"creation_date":1681746858,"answer_id":76037023,"question_id":76035928,"body_markdown":"Depends of your need, Singleton its used by default for Spring and its used when you don&#39;t need have the same state in the application, but if for any reason you need a instance based on the beans of spring you can change the scope and create a bean based on Prototype instead of Singleton\r\n\r\nAnd of course you don&#39;t need use the bean for DAO objects, just pass it where is needed as you saw in other sites\r\n\r\nBy other way, the performance obviously can be affected if you create a lot of objects based on Prototype pattern, because you create new object every time (For our luck the garbage collector cleans that so, you don&#39;t should be too afraid by now)\r\n\r\nAnd for more information about that: https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype","title":"Spring autowired beans vs created instances","body":"<p>Depends of your need, Singleton its used by default for Spring and its used when you don't need have the same state in the application, but if for any reason you need a instance based on the beans of spring you can change the scope and create a bean based on Prototype instead of Singleton</p>\n<p>And of course you don't need use the bean for DAO objects, just pass it where is needed as you saw in other sites</p>\n<p>By other way, the performance obviously can be affected if you create a lot of objects based on Prototype pattern, because you create new object every time (For our luck the garbage collector cleans that so, you don't should be too afraid by now)</p>\n<p>And for more information about that: <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype</a></p>\n"}],"owner":{"account_id":6735022,"reputation":23,"user_id":5251538,"display_name":"Jomy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681746858,"creation_date":1681739668,"question_id":76035928,"body_markdown":"When I see typical spring web application, all the instances are created and injected by spring, and we use methods by passing some arguments. Majority of these instances are singleton and don&#39;t hold any state with it.\r\n\r\nI may be wrong, but this approach looks more procedure oriented than object oriented for me. I assume good design should utilize both spring manged beans along with instances created by user which hold some state and with methods to expose some behaviour.\r\n\r\nIs there a rule of thumb to decide which one we should use(injected singleton beans or manually created instance) in a context? Also is there a performance impact if we excessively used short lived instances per request received? Would like to know proper way to design my classes in this scenario.","title":"Spring autowired beans vs created instances","body":"<p>When I see typical spring web application, all the instances are created and injected by spring, and we use methods by passing some arguments. Majority of these instances are singleton and don't hold any state with it.</p>\n<p>I may be wrong, but this approach looks more procedure oriented than object oriented for me. I assume good design should utilize both spring manged beans along with instances created by user which hold some state and with methods to expose some behaviour.</p>\n<p>Is there a rule of thumb to decide which one we should use(injected singleton beans or manually created instance) in a context? Also is there a performance impact if we excessively used short lived instances per request received? Would like to know proper way to design my classes in this scenario.</p>\n"},{"tags":["java","pdf"],"answers":[{"comments":[{"owner":{"account_id":1330151,"reputation":88,"user_id":1274238,"display_name":"Nitesh"},"score":0,"creation_date":1333688392,"post_id":9749650,"comment_id":12842879,"body_markdown":"i read the link but could not find references to how one can give a page range...","body":"i read the link but could not find references to how one can give a page range..."},{"owner":{"account_id":1330151,"reputation":88,"user_id":1274238,"display_name":"Nitesh"},"score":0,"creation_date":1333700092,"post_id":9749650,"comment_id":12845035,"body_markdown":"Just found that we can use PDFDecoder.getPageAsImage(int page) to get a single page of PDF as BufferedImage and then scale it accordingly. Thank you! This solved the problem!","body":"Just found that we can use PDFDecoder.getPageAsImage(int page) to get a single page of PDF as BufferedImage and then scale it accordingly. Thank you! This solved the problem!"}],"tags":[],"owner":{"account_id":124206,"reputation":3205,"user_id":319149,"accept_rate":0,"display_name":"mark stephens"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681746819,"creation_date":1331983999,"answer_id":9749650,"question_id":9739192,"body_markdown":"There is an active support forum for JPedal at https://support.idrsolutions.com/jpedal/\r\n\r\nJava creates a BufferedImage which you can then save as an image (png, jpeg, tiff). There is an example built-into JPedal showing how to convert pages to images at https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage with a link to the source code. This contains comments on scaling and you can alter the page range.\r\n\r\nYou will only be able to get 200x200 if the PDF is square if you want to preserve aspect ratio.\r\n\r\n","title":"Convert PDF to images with page range","body":"<p>There is an active support forum for JPedal at <a href=\"https://support.idrsolutions.com/jpedal/\" rel=\"nofollow noreferrer\">https://support.idrsolutions.com/jpedal/</a></p>\n<p>Java creates a BufferedImage which you can then save as an image (png, jpeg, tiff). There is an example built-into JPedal showing how to convert pages to images at <a href=\"https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage\" rel=\"nofollow noreferrer\">https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage</a> with a link to the source code. This contains comments on scaling and you can alter the page range.</p>\n<p>You will only be able to get 200x200 if the PDF is square if you want to preserve aspect ratio.</p>\n"}],"owner":{"account_id":1330151,"reputation":88,"user_id":1274238,"display_name":"Nitesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9749650,"answer_count":1,"score":1,"last_activity_date":1681746819,"creation_date":1331908428,"question_id":9739192,"body_markdown":"I want to know if there is a way that we can convert PDF to images by specifying a specific page range. I have tried pdfbox but I am not being able to set the resolution. Looks like it takes the default resolution of 96. I want to be able to convert PDF to jpegs of size 200*200 and 600*600 in my project. I also tried JPedal but I am not being able to find out how to specify the page range. I am only looking at Java libraries.","title":"Convert PDF to images with page range","body":"<p>I want to know if there is a way that we can convert PDF to images by specifying a specific page range. I have tried pdfbox but I am not being able to set the resolution. Looks like it takes the default resolution of 96. I want to be able to convert PDF to jpegs of size 200*200 and 600*600 in my project. I also tried JPedal but I am not being able to find out how to specify the page range. I am only looking at Java libraries.</p>\n"},{"tags":["java","spring","postgresql","r2dbc"],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681746640,"creation_date":1681118738,"question_id":75975837,"body_markdown":"A Web-client calls a get-all endpoint which opens a Flux of articles (small object, with only 5 primitive fields) from a Postgres DB (r2dbc). See the next two code snippets.\r\n\r\nThen I try to batch-insert a 1000 articles per batch by using a connection pool. But attempts have problems\r\n\r\nThe first code-block runs and persists, BUT ONLY ONES! After running a single batch-insert 0f 1000 it calls &quot;completed&quot; and runs no more, why?\r\n\r\nThe second block was remodelled after an example, it runs multiple times but and inserts (very fast) a 250.000 articles but than it crashes with the following error:\r\n\r\n**io.netty.channel.StacklessClosedChannelException: null\r\n\tat io.netty.channel.AbstractChannel.close(ChannelPromise)(Unknown Source) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]**\r\n\r\n[link to pool-connection example][1]\r\n\r\n**The code that delivers the article flux**\r\n\r\n    public Disposable copyToDestinyInBatches(Long backPressure) {\r\n\r\n            Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\r\n                    .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\r\n                    .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\r\n                    .retrieve()\r\n                    .bodyToFlux(ArticleDestiny.class)\r\n                    .timeout(Duration.ofSeconds(10))\r\n                    .doOnError(error -&gt; log.error(&quot;Error client on batches &quot; +\r\n                            &quot;message={} | error={}&quot;, error.getMessage(), error.getStackTrace()));\r\n\r\n        return streamService.articleDestinyBatchStreamZipWith(articleFlux, backPressure);\r\n    }\r\n\r\n    public Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\r\n        return articleOriginRepo\r\n                .findAll()\r\n                .doOnError(e -&gt; log.error(&quot;error get all articles message={} | error={}&quot;, e.getMessage(), e.getStackTrace()))\r\n                .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\r\n    }\r\n\r\nFind next the two batch inserts\r\n\r\n**first:**\r\n\r\n     public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\r\n        Flux&lt;List&lt;ArticleDestiny&gt;&gt; articleFluxList = articleFlux\r\n                .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\r\n                .doOnNext(a -&gt; log.info(&quot;article batch size={} | batch-count={}&quot;, a.size(), batchCounter));\r\n        Flux&lt;Connection&gt; connectionFlux = Flux.from(connectionPool.create());\r\n\r\n        var conPoolArticleZipResult =  connectionFlux.zipWith(articleFluxList, (conPool, artList) -&gt; {\r\n            Batch batch = conPool.createBatch();\r\n            artList.forEach(article -&gt; {\r\n                String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,\r\n                        article.getCountryCode(),\r\n                        article.getArtNumber(),\r\n                        article.getName(),\r\n                        article.getPrice());\r\n                batch.add(sql);\r\n            });\r\n            log.debug(&quot;print each batch={}&quot;, batch);\r\n            batchCounter++;\r\n            return Mono\r\n                    .from(batch.execute())\r\n                    .doFinally((st -&gt; {\r\n                        conPool.close();\r\n                        log.info(&quot;connection closed &quot;);\r\n                    }));\r\n        });\r\n        return conPoolArticleZipResult.subscribe( //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\r\n                s -&gt; log.info(&quot;subscribe={}&quot;, s.toString()),\r\n                e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\r\n                        e.getMessage(), e, e.getStackTrace()),\r\n                () -&gt; {\r\n                    log.info(&quot;completed! &quot;);\r\n                });\r\n    }\r\n\r\n**second:**\r\n\r\n    public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\r\n        Flux&lt;List&lt;ArticleDestiny&gt;&gt; fluxArticleList = articleFlux\r\n                .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\r\n                .doOnNext(a -&gt; log.info(&quot;article batch size={}&quot;, a.size()));\r\n\r\n        Mono&lt;Object&gt; resultMono = Mono.usingWhen(connectionPool.create(), // allocates a connection from the pool\r\n                connection -&gt; {\r\n                    Batch batch = connection.createBatch();\r\n                    return fluxArticleList.flatMap(articles -&gt; {\r\n                        articles.forEach(article -&gt; {\r\n                            String sql = String.format(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) VALUES (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,\r\n                                    article.getCountryCode(),\r\n                                    article.getArtNumber(),\r\n                                    article.getName(),\r\n                                    article.getPrice());\r\n                            batch.add(sql);\r\n                        });\r\n                        log.debug(&quot;print each batch={}&quot;, batch);\r\n\r\n                        return Mono.from(batch.execute());\r\n                    }).then();\r\n                }, Connection::close); // releases the connection back to the pool\r\n\r\n        return resultMono.mergeWith(fluxArticleList)\r\n                //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\r\n                .subscribe(\r\n                s -&gt; log.debug(&quot;subscribe={}&quot;, s.toString()),\r\n                e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\r\n                        e.getMessage(), e, e.getStackTrace()),\r\n                () -&gt; {\r\n                    log.info(&quot;completed! &quot;);\r\n                    // application shutdown\r\n                    connectionPool.dispose();\r\n                    log.info(&quot;conn dispose! &quot;);\r\n                    // here I stop the Springboot manually\r\n                });\r\n    }\r\n\r\n**Finally some programmatic config info**\r\n\r\nFirst: I extends AbstractR2dbcConfiguration\r\n\r\nSecond I exclude R2dbcDataAutoConfiguration, R2dbcAutoConfiguration\r\n\r\n**The config methods of the config class**\r\n\r\n      @Bean\r\n    @Primary\r\n    @Override\r\n    public ConnectionFactory connectionFactory() {\r\n\r\n        return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\r\n                .host(&quot;localhost&quot;)\r\n                .port(5677)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;secret&quot;)\r\n                .database(&quot;article_flux_db&quot;)\r\n                .tcpKeepAlive(true)\r\n                .connectTimeout(Duration.ofSeconds(10))\r\n                .statementTimeout(Duration.ofSeconds(10))\r\n\r\n\r\n\r\n    @Bean\r\n    public ConnectionPool connectionPool() {\r\n        ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory())\r\n                .maxIdleTime(Duration.ofMillis(1000))\r\n                .maxSize(20)\r\n                .build();\r\n        ConnectionPool pool = new ConnectionPool(configuration);\r\n        return pool;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public WebClient webClient() {\r\n        HttpClient httpClient = HttpClient.create()\r\n                .keepAlive(true)\r\n                .responseTimeout(Duration.ofSeconds(60l))\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\r\n                .doOnConnected(conn -&gt; conn\r\n                    .addHandlerLast(new ReadTimeoutHandler(100)));\r\n\r\n        WebClient webClient = WebClient.builder()\r\n\r\n        return webClient;\r\n    }\r\n\r\n    @Bean\r\n    public ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\r\n        var initializer = new ConnectionFactoryInitializer();\r\n        initializer.setConnectionFactory(connectionFactory());\r\n        CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n        populator.addPopulators(\r\n                new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\r\n        );\r\n        initializer.setDatabasePopulator(populator);\r\n        return initializer;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/r2dbc/r2dbc-pool","title":"r2dbc batch insert issues with connection pool","body":"<p>A Web-client calls a get-all endpoint which opens a Flux of articles (small object, with only 5 primitive fields) from a Postgres DB (r2dbc). See the next two code snippets.</p>\n<p>Then I try to batch-insert a 1000 articles per batch by using a connection pool. But attempts have problems</p>\n<p>The first code-block runs and persists, BUT ONLY ONES! After running a single batch-insert 0f 1000 it calls &quot;completed&quot; and runs no more, why?</p>\n<p>The second block was remodelled after an example, it runs multiple times but and inserts (very fast) a 250.000 articles but than it crashes with the following error:</p>\n<p><strong>io.netty.channel.StacklessClosedChannelException: null\nat io.netty.channel.AbstractChannel.close(ChannelPromise)(Unknown Source) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]</strong></p>\n<p><a href=\"https://github.com/r2dbc/r2dbc-pool\" rel=\"nofollow noreferrer\">link to pool-connection example</a></p>\n<p><strong>The code that delivers the article flux</strong></p>\n<pre><code>public Disposable copyToDestinyInBatches(Long backPressure) {\n\n        Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\n                .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\n                .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\n                .retrieve()\n                .bodyToFlux(ArticleDestiny.class)\n                .timeout(Duration.ofSeconds(10))\n                .doOnError(error -&gt; log.error(&quot;Error client on batches &quot; +\n                        &quot;message={} | error={}&quot;, error.getMessage(), error.getStackTrace()));\n\n    return streamService.articleDestinyBatchStreamZipWith(articleFlux, backPressure);\n}\n\npublic Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\n    return articleOriginRepo\n            .findAll()\n            .doOnError(e -&gt; log.error(&quot;error get all articles message={} | error={}&quot;, e.getMessage(), e.getStackTrace()))\n            .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\n}\n</code></pre>\n<p>Find next the two batch inserts</p>\n<p><strong>first:</strong></p>\n<pre><code> public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\n    Flux&lt;List&lt;ArticleDestiny&gt;&gt; articleFluxList = articleFlux\n            .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\n            .doOnNext(a -&gt; log.info(&quot;article batch size={} | batch-count={}&quot;, a.size(), batchCounter));\n    Flux&lt;Connection&gt; connectionFlux = Flux.from(connectionPool.create());\n\n    var conPoolArticleZipResult =  connectionFlux.zipWith(articleFluxList, (conPool, artList) -&gt; {\n        Batch batch = conPool.createBatch();\n        artList.forEach(article -&gt; {\n            String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES ('%s','%s','%s','%s')&quot;,\n                    article.getCountryCode(),\n                    article.getArtNumber(),\n                    article.getName(),\n                    article.getPrice());\n            batch.add(sql);\n        });\n        log.debug(&quot;print each batch={}&quot;, batch);\n        batchCounter++;\n        return Mono\n                .from(batch.execute())\n                .doFinally((st -&gt; {\n                    conPool.close();\n                    log.info(&quot;connection closed &quot;);\n                }));\n    });\n    return conPoolArticleZipResult.subscribe( //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\n            s -&gt; log.info(&quot;subscribe={}&quot;, s.toString()),\n            e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\n                    e.getMessage(), e, e.getStackTrace()),\n            () -&gt; {\n                log.info(&quot;completed! &quot;);\n            });\n}\n</code></pre>\n<p><strong>second:</strong></p>\n<pre><code>public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\n    Flux&lt;List&lt;ArticleDestiny&gt;&gt; fluxArticleList = articleFlux\n            .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\n            .doOnNext(a -&gt; log.info(&quot;article batch size={}&quot;, a.size()));\n\n    Mono&lt;Object&gt; resultMono = Mono.usingWhen(connectionPool.create(), // allocates a connection from the pool\n            connection -&gt; {\n                Batch batch = connection.createBatch();\n                return fluxArticleList.flatMap(articles -&gt; {\n                    articles.forEach(article -&gt; {\n                        String sql = String.format(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) VALUES ('%s','%s','%s','%s')&quot;,\n                                article.getCountryCode(),\n                                article.getArtNumber(),\n                                article.getName(),\n                                article.getPrice());\n                        batch.add(sql);\n                    });\n                    log.debug(&quot;print each batch={}&quot;, batch);\n\n                    return Mono.from(batch.execute());\n                }).then();\n            }, Connection::close); // releases the connection back to the pool\n\n    return resultMono.mergeWith(fluxArticleList)\n            //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\n            .subscribe(\n            s -&gt; log.debug(&quot;subscribe={}&quot;, s.toString()),\n            e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\n                    e.getMessage(), e, e.getStackTrace()),\n            () -&gt; {\n                log.info(&quot;completed! &quot;);\n                // application shutdown\n                connectionPool.dispose();\n                log.info(&quot;conn dispose! &quot;);\n                // here I stop the Springboot manually\n            });\n}\n</code></pre>\n<p><strong>Finally some programmatic config info</strong></p>\n<p>First: I extends AbstractR2dbcConfiguration</p>\n<p>Second I exclude R2dbcDataAutoConfiguration, R2dbcAutoConfiguration</p>\n<p><strong>The config methods of the config class</strong></p>\n<pre><code>  @Bean\n@Primary\n@Override\npublic ConnectionFactory connectionFactory() {\n\n    return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\n            .host(&quot;localhost&quot;)\n            .port(5677)\n            .username(&quot;admin&quot;)\n            .password(&quot;secret&quot;)\n            .database(&quot;article_flux_db&quot;)\n            .tcpKeepAlive(true)\n            .connectTimeout(Duration.ofSeconds(10))\n            .statementTimeout(Duration.ofSeconds(10))\n\n\n\n@Bean\npublic ConnectionPool connectionPool() {\n    ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory())\n            .maxIdleTime(Duration.ofMillis(1000))\n            .maxSize(20)\n            .build();\n    ConnectionPool pool = new ConnectionPool(configuration);\n    return pool;\n}\n\n\n@Bean\npublic WebClient webClient() {\n    HttpClient httpClient = HttpClient.create()\n            .keepAlive(true)\n            .responseTimeout(Duration.ofSeconds(60l))\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\n            .doOnConnected(conn -&gt; conn\n                .addHandlerLast(new ReadTimeoutHandler(100)));\n\n    WebClient webClient = WebClient.builder()\n\n    return webClient;\n}\n\n@Bean\npublic ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\n    var initializer = new ConnectionFactoryInitializer();\n    initializer.setConnectionFactory(connectionFactory());\n    CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n    populator.addPopulators(\n            new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\n    );\n    initializer.setDatabasePopulator(populator);\n    return initializer;\n}\n</code></pre>\n"},{"tags":["java","gradle","jar"],"answers":[{"comments":[{"owner":{"account_id":6301671,"reputation":471,"user_id":4896102,"accept_rate":92,"display_name":"Daniela"},"score":1,"creation_date":1476459159,"post_id":32567525,"comment_id":67369771,"body_markdown":"@Stanislav &#39;Main-Class&#39; value is the main class? What are hello and helloWorld in your example?","body":"@Stanislav &#39;Main-Class&#39; value is the main class? What are hello and helloWorld in your example?"},{"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"score":2,"creation_date":1476465200,"post_id":32567525,"comment_id":67373223,"body_markdown":"@DanielaMaia it&#39;s just a full qualified class name, sure it has to be written as hello.HelloWorld, where hello is the package where the HelloWorld class is located","body":"@DanielaMaia it&#39;s just a full qualified class name, sure it has to be written as hello.HelloWorld, where hello is the package where the HelloWorld class is located"},{"owner":{"account_id":3250037,"reputation":4279,"user_id":2740621,"accept_rate":100,"display_name":"AutonomousApps"},"score":11,"creation_date":1487011454,"post_id":32567525,"comment_id":71583707,"body_markdown":"I needed to remove the `collect {}` portion to get it to work for me. Your code assumes that all dependencies are in the same folder as your main class.","body":"I needed to remove the <code>collect {}</code> portion to get it to work for me. Your code assumes that all dependencies are in the same folder as your main class."},{"owner":{"account_id":9585668,"reputation":3895,"user_id":7123519,"accept_rate":95,"display_name":"Sebastian Nielsen"},"score":0,"creation_date":1610808087,"post_id":32567525,"comment_id":116251138,"body_markdown":"@AutonomousApps How exactly did you do that?","body":"@AutonomousApps How exactly did you do that?"},{"owner":{"account_id":1108604,"reputation":631,"user_id":1099477,"accept_rate":100,"display_name":"bitristan"},"score":0,"creation_date":1642926065,"post_id":32567525,"comment_id":125199271,"body_markdown":"It works, but I only add &#39;Main-Class&#39; attribute.","body":"It works, but I only add &#39;Main-Class&#39; attribute."},{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":14,"creation_date":1652721727,"post_id":32567525,"comment_id":127669339,"body_markdown":"The lastest Gradle version has replaced `compile`. Instead use:\n`&#39;Class-Path&#39;: configurations.runtimeClasspath.files.collect { it.getName() }.join(&#39; &#39;)`","body":"The lastest Gradle version has replaced <code>compile</code>. Instead use: <code>&#39;Class-Path&#39;: configurations.runtimeClasspath.files.collect { it.getName() }.join(&#39; &#39;)</code>"},{"owner":{"account_id":12146145,"reputation":2332,"user_id":8868419,"display_name":"Matteo"},"score":0,"creation_date":1695632652,"post_id":32567525,"comment_id":136045385,"body_markdown":"`Build failed with an exception: Could not get unknown property &#39;compile&#39; for configuration container`","body":"<code>Build failed with an exception: Could not get unknown property &#39;compile&#39; for configuration container</code>"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1698072772,"post_id":32567525,"comment_id":136355715,"body_markdown":"Is this still correct? You can&#39;t use application.main-class? Also why does gradle init do it the other way then?","body":"Is this still correct? You can&#39;t use application.main-class? Also why does gradle init do it the other way then?"}],"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"comment_count":8,"down_vote_count":0,"up_vote_count":189,"is_accepted":true,"score":189,"last_activity_date":1565620502,"creation_date":1442241351,"answer_id":32567525,"question_id":32567167,"body_markdown":"Try to change your manifest attributes like:\r\n\r\n    jar {\r\n      manifest {\r\n        attributes(\r\n          &#39;Class-Path&#39;: configurations.compile.collect { it.getName() }.join(&#39; &#39;),\r\n          &#39;Main-Class&#39;: &#39;hello.HelloWorld&#39;\r\n        )\r\n      }\r\n    }\r\n\r\nAnd then just change `&#39;hello.helloWorld&#39;` to `&#39;&lt;your packagename&gt;.&lt;the name of your Main class&gt;&#39;` (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.","title":"Gradle - no main manifest attribute","body":"<p>Try to change your manifest attributes like:</p>\n\n<pre><code>jar {\n  manifest {\n    attributes(\n      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n      'Main-Class': 'hello.HelloWorld'\n    )\n  }\n}\n</code></pre>\n\n<p>And then just change <code>'hello.helloWorld'</code> to <code>'&lt;your packagename&gt;.&lt;the name of your Main class&gt;'</code> (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.</p>\n"},{"tags":[],"owner":{"account_id":12249303,"reputation":23,"user_id":8940150,"display_name":"Eric Hallander"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557159450,"creation_date":1557159450,"answer_id":56008948,"question_id":32567167,"body_markdown":"FWIW - I used the following jar task to assemble all my compile dependencies into the jar file, and used the above recommendation to get the class-path properly set\r\n\r\n```\r\napply plugin: &#39;java-library&#39;\r\n\r\njar {\r\n  manifest {\r\n    attributes(\r\n      &#39;Class-Path&#39;: configurations.compile.collect { it.getName() }.join(&#39; &#39;),\r\n      &#39;Main-Class&#39;: &#39;your.main.class.goes.here&#39;\r\n    )\r\n  }\r\n  \r\n  // You can reference any part of the dependency configurations,\r\n  // and you can have as many from statements as you need\r\n  from configurations.compile  \r\n  // I just copied them into the top of the jar, so it looks like the eclipse exported \r\n  // runnable jar, but you could designate a lib directory, and reference that in the \r\n  // classpath as &quot;lib/$it.name&quot; instead of it.getName()\r\n  into &#39;&#39;   \r\n}\r\n```","title":"Gradle - no main manifest attribute","body":"<p>FWIW - I used the following jar task to assemble all my compile dependencies into the jar file, and used the above recommendation to get the class-path properly set</p>\n\n<pre><code>apply plugin: 'java-library'\n\njar {\n  manifest {\n    attributes(\n      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n      'Main-Class': 'your.main.class.goes.here'\n    )\n  }\n\n  // You can reference any part of the dependency configurations,\n  // and you can have as many from statements as you need\n  from configurations.compile  \n  // I just copied them into the top of the jar, so it looks like the eclipse exported \n  // runnable jar, but you could designate a lib directory, and reference that in the \n  // classpath as \"lib/$it.name\" instead of it.getName()\n  into ''   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1676223736,"post_id":63767408,"comment_id":133090005,"body_markdown":"I get that the application plugin doesn&#39;t have a goal of creating a runnable jar, but it&#39;s still annoying that we have to do these extra steps in Gradle all the time for a runnable jar. It should have everything it needs for a manifest...","body":"I get that the application plugin doesn&#39;t have a goal of creating a runnable jar, but it&#39;s still annoying that we have to do these extra steps in Gradle all the time for a runnable jar. It should have everything it needs for a manifest..."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1676226595,"post_id":63767408,"comment_id":133090608,"body_markdown":"Although I suppose the reason is, your jar will be missing dependencies so it&#39;s not usually runnable anyway. :)","body":"Although I suppose the reason is, your jar will be missing dependencies so it&#39;s not usually runnable anyway. :)"}],"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1599415820,"creation_date":1599415820,"answer_id":63767408,"question_id":32567167,"body_markdown":"To make the `jar` file executable (so that the `java -jar` command works), specify the `Main-Class` attribute in `MANIFEST.MF`.\r\n\r\nIn Gradle, you can do it by configuring the `jar` task.\r\n\r\n* for __Groovy__ DSL see these answers ([[1]](https://stackoverflow.com/a/32567525/6486622), [[2]](https://stackoverflow.com/a/43088446/6486622))\r\n* for __Kotlin__ DSL you can use the following code snippet:\r\n\r\n```kotlin\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.caco3.Main&quot;\r\n    }\r\n}\r\n```\r\n\r\n### Why `mainClassName` does not work as expected?\r\n\r\nOr why `mainClassName` does not specify the attribute in the manifest?\r\n\r\nThe `mainClassName` property comes from the [`application` plugin](https://docs.gradle.org/current/userguide/application_plugin.html). The plugin:\r\n\r\n&gt;  makes it easy to **start the application locally** during development, and to *package* the application as a **TAR** and/or **ZIP** *including operating system specific start scripts*.\r\n\r\n_So the `application` plugin does not aim at producing executable `jar`s_\r\n\r\nWhen a `mainClassName` property set, then:\r\n\r\n1. `$ ./gradlew run` will launch the `main` method in the class specified in the attribute\r\n1. the `zip`/`tar` archive built using `distZip`/`distTar` tasks will contain a script, which will launch the `main` method of the specified previously class.\r\n\r\nHere is the line of shell script setting the main class:\r\n\r\n\r\n```\r\n$ grep Main2 gradletest\r\neval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLETEST_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; com.caco3.gradletest.Main2 &quot;$APP_ARGS&quot;\r\n```","title":"Gradle - no main manifest attribute","body":"<p>To make the <code>jar</code> file executable (so that the <code>java -jar</code> command works), specify the <code>Main-Class</code> attribute in <code>MANIFEST.MF</code>.</p>\n<p>In Gradle, you can do it by configuring the <code>jar</code> task.</p>\n<ul>\n<li>for <strong>Groovy</strong> DSL see these answers (<a href=\"https://stackoverflow.com/a/32567525/6486622\">[1]</a>, <a href=\"https://stackoverflow.com/a/43088446/6486622\">[2]</a>)</li>\n<li>for <strong>Kotlin</strong> DSL you can use the following code snippet:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.caco3.Main&quot;\n    }\n}\n</code></pre>\n<h3>Why <code>mainClassName</code> does not work as expected?</h3>\n<p>Or why <code>mainClassName</code> does not specify the attribute in the manifest?</p>\n<p>The <code>mainClassName</code> property comes from the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"noreferrer\"><code>application</code> plugin</a>. The plugin:</p>\n<blockquote>\n<p>makes it easy to <strong>start the application locally</strong> during development, and to <em>package</em> the application as a <strong>TAR</strong> and/or <strong>ZIP</strong> <em>including operating system specific start scripts</em>.</p>\n</blockquote>\n<p><em>So the <code>application</code> plugin does not aim at producing executable <code>jar</code>s</em></p>\n<p>When a <code>mainClassName</code> property set, then:</p>\n<ol>\n<li><code>$ ./gradlew run</code> will launch the <code>main</code> method in the class specified in the attribute</li>\n<li>the <code>zip</code>/<code>tar</code> archive built using <code>distZip</code>/<code>distTar</code> tasks will contain a script, which will launch the <code>main</code> method of the specified previously class.</li>\n</ol>\n<p>Here is the line of shell script setting the main class:</p>\n<pre><code>$ grep Main2 gradletest\neval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLETEST_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; com.caco3.gradletest.Main2 &quot;$APP_ARGS&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1681743321,"post_id":71092831,"comment_id":134102015,"body_markdown":"Starting with Gradle `8.x` somehow array access for attributes is unavailable.","body":"Starting with Gradle <code>8.x</code> somehow array access for attributes is unavailable."},{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1681746087,"post_id":71092831,"comment_id":134102784,"body_markdown":"@YaMiN Are you sure? I tried both of the above code snippets right now with Gradle 8.0 and it seemed to work with no problem.","body":"@YaMiN Are you sure? I tried both of the above code snippets right now with Gradle 8.0 and it seemed to work with no problem."},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1681767923,"post_id":71092831,"comment_id":134107370,"body_markdown":"Yeah I&#39;m sure. I don&#39;t know why but after upgrading to Gradle 8.0.2 it gives me `No set method providing array access` error, however, the project compiles.","body":"Yeah I&#39;m sure. I don&#39;t know why but after upgrading to Gradle 8.0.2 it gives me <code>No set method providing array access</code> error, however, the project compiles."}],"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681746106,"creation_date":1644676761,"answer_id":71092831,"question_id":32567167,"body_markdown":"To complement [Denis Zavedeev answer][1], here are more ways for [Kotlin DSL][2] (build.gradle.kts):\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n}\r\n```\r\n\r\nAnother notation:\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    }\r\n}\r\n```\r\n\r\nSide note: to create a runnable fat JAR (also called uber JAR), see [this post](https://stackoverflow.com/a/70864141/8583692).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63767408/8583692\r\n  [2]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"Gradle - no main manifest attribute","body":"<p>To complement <a href=\"https://stackoverflow.com/a/63767408/8583692\">Denis Zavedeev answer</a>, here are more ways for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n}\n</code></pre>\n<p>Another notation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    }\n}\n</code></pre>\n<p>Side note: to create a runnable fat JAR (also called uber JAR), see <a href=\"https://stackoverflow.com/a/70864141/8583692\">this post</a>.</p>\n"}],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167059,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":32567525,"answer_count":4,"score":140,"last_activity_date":1681746106,"creation_date":1442240290,"question_id":32567167,"body_markdown":"I&#39;m building a JAR file with Gradle. When I try to run it I get the following error \r\n\r\n&gt; no main manifest attribute, in RxJavaDemo.jar\r\n\r\nI tried manipulating the `manifest` property but I think I&#39;m forgetting to add the dependencies or something to it. What exactly am I doing wrong?\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &#39;demo.MainDashboard&#39;\r\n\r\ndependencies {\r\n    compile files (&quot;H:/Processes/Development/libraries/hikari-cp/HikariCP-2.4.1.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/controls-fx/controlsfx.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/database_connections/sqlite-jdbc-3.8.6.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/guava/guava-18.0.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava/rxjava-1.0.12.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-extras/rxjava-extras-0.5.15.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjavafx/RxJavaFX-1.0.0-RC1-SNAPSHOT.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjavaguava/rxjava-guava-1.0.3.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-jdbc/rxjava-jdbc-0.6.3.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/slf4j/slf4j-api-1.7.12.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/tom-commons/tom-commons.jar&quot;)\r\n}\r\n\r\nsourceSets {\r\n    main.java.srcDir &quot;src/main/java&quot;\r\n    main.resources.srcDir &quot;src/main/resources&quot;\r\n}\r\n\r\njar { \r\n    manifest {\r\n    attributes(\r\n        &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(&#39; &#39;))\r\n    }\r\n    from configurations.compile.collect { entry -&gt; zipTree(entry) }\r\n}\r\n```","title":"Gradle - no main manifest attribute","body":"<p>I'm building a JAR file with Gradle. When I try to run it I get the following error</p>\n<blockquote>\n<p>no main manifest attribute, in RxJavaDemo.jar</p>\n</blockquote>\n<p>I tried manipulating the <code>manifest</code> property but I think I'm forgetting to add the dependencies or something to it. What exactly am I doing wrong?</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = 'demo.MainDashboard'\n\ndependencies {\n    compile files (&quot;H:/Processes/Development/libraries/hikari-cp/HikariCP-2.4.1.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/controls-fx/controlsfx.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/database_connections/sqlite-jdbc-3.8.6.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/guava/guava-18.0.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava/rxjava-1.0.12.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-extras/rxjava-extras-0.5.15.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjavafx/RxJavaFX-1.0.0-RC1-SNAPSHOT.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjavaguava/rxjava-guava-1.0.3.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-jdbc/rxjava-jdbc-0.6.3.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/slf4j/slf4j-api-1.7.12.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/tom-commons/tom-commons.jar&quot;)\n}\n\nsourceSets {\n    main.java.srcDir &quot;src/main/java&quot;\n    main.resources.srcDir &quot;src/main/resources&quot;\n}\n\njar { \n    manifest {\n    attributes(\n        &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(' '))\n    }\n    from configurations.compile.collect { entry -&gt; zipTree(entry) }\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","loops"],"comments":[{"owner":{"account_id":50205,"reputation":5499,"user_id":149692,"accept_rate":94,"display_name":"Mr. Smith"},"score":0,"creation_date":1327260785,"post_id":8963347,"comment_id":11226194,"body_markdown":"Updated the original post with more info.","body":"Updated the original post with more info."},{"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"score":0,"creation_date":1403183099,"post_id":8963347,"comment_id":37566285,"body_markdown":"Recursive one: https://gist.github.com/anonymous/89f8163fb22f77f4f9d3","body":"Recursive one: <a href=\"https://gist.github.com/anonymous/89f8163fb22f77f4f9d3\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/89f8163fb22f77f4f9d3</a>"}],"answers":[{"tags":[],"owner":{"account_id":37436,"reputation":15725,"user_id":107029,"accept_rate":83,"display_name":"Peterdk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327256374,"creation_date":1327256374,"answer_id":8963405,"question_id":8963347,"body_markdown":"You should access the data using the `arrJson` object, not creating new JSONObjects with the string results of them.\r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You should access the data using the <code>arrJson</code> object, not creating new JSONObjects with the string results of them.</p>\n"},{"tags":[],"owner":{"account_id":78639,"reputation":3373,"user_id":223659,"accept_rate":70,"display_name":"tomato"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1327257815,"creation_date":1327256836,"answer_id":8963468,"question_id":8963347,"body_markdown":"You want something like this..\r\n\r\n    JSONArray jsonArray = new JSONArray(sJSON);\r\n    JSONArray jsonPersonData = jsonArray.getJSONArray(1);\r\n    for (int i=0; i&lt;jsonPersonData.length(); i++) {\r\n        JSONObject item = jsonPersonData.getJSONObject(i);\r\n        String name = item.getString(&quot;name&quot;);\r\n        String surname = item.getString(&quot;surname&quot;);\r\n    }\r\n    \r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You want something like this..</p>\n\n<pre><code>JSONArray jsonArray = new JSONArray(sJSON);\nJSONArray jsonPersonData = jsonArray.getJSONArray(1);\nfor (int i=0; i&lt;jsonPersonData.length(); i++) {\n    JSONObject item = jsonPersonData.getJSONObject(i);\n    String name = item.getString(\"name\");\n    String surname = item.getString(\"surname\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331265,"reputation":945,"user_id":655839,"accept_rate":57,"display_name":"Meriam"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1327257052,"creation_date":1327257052,"answer_id":8963492,"question_id":8963347,"body_markdown":"You shoul not use JSONObject.toString. This is how you should iterate your array:\r\n\r\n    for(int i=0;i&lt;arrJSON.length();i++){\r\n    JSONObject json_data = jArray.getJSONObject(i);\r\n    String name =json_data.getString(&quot;name&quot;);\r\n    String surname =json_data.getString(&quot;surname&quot;); \r\n    }","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You shoul not use JSONObject.toString. This is how you should iterate your array:</p>\n\n<pre><code>for(int i=0;i&lt;arrJSON.length();i++){\nJSONObject json_data = jArray.getJSONObject(i);\nString name =json_data.getString(\"name\");\nString surname =json_data.getString(\"surname\"); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":998962,"reputation":4859,"user_id":1014237,"accept_rate":79,"display_name":"deed02392"},"score":0,"creation_date":1440497907,"post_id":25300803,"comment_id":52286995,"body_markdown":"You might want to consider using `JSONObject.getString()`.","body":"You might want to consider using <code>JSONObject.getString()</code>."}],"tags":[],"owner":{"account_id":2303960,"reputation":982,"user_id":2023625,"display_name":"Desphilboy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408324370,"creation_date":1407995024,"answer_id":25300803,"question_id":8963347,"body_markdown":"You can Iterate using an Iterator, I have also copied a sample JSON string for you, I hope this can help:\r\n \r\n\r\n  \r\n\r\n      //  { &quot;drives&quot;:\r\n        //[{&quot;drives_id&quot;:&quot;2&quot;,&quot;ip&quot;:&quot;hq10m.backupexample.com&quot;,&quot;port&quot;:&quot;4010&quot;,&quot;ftp_username&quot;:&quot;NameSFTP&quot;,&quot;\r\n        // ftp_password&quot;:&quot;12345&quot;,&quot;permission&quot;:2,&quot;drive_name&quot;:&quot;dev&quot;\r\n        //,&quot;drive_letter&quot;:&quot;S&quot;,&quot;size&quot;:&quot;1234&quot;,&quot;ma_mode&quot;:&quot;0&quot;},\r\n        //{&quot;drives_id&quot;:&quot;3&quot;,&quot;ip&quot;:&quot;hq6m.backupexample.com&quot;,&quot;port&quot;:&quot;4206&quot;,&quot;ftp_username&quot;:&quot;userSFTP&quot;\r\n    //,&quot;ftp_password&quot;:&quot;456&quot;,&quot;permission&quot;:2,&quot;drive_name&quot;:&quot;Rashtesting&quot;\r\n    //,&quot;drive_letter&quot;:&quot;P&quot;,&quot;size&quot;:&quot;8&quot;,&quot;ma_mode&quot;:&quot;0&quot;}],&quot;user_id&quot;:&quot;8&quot;}\r\n        \t\r\n    \t  mi.setUser_id( (int) Long.parseLong(obj.get(&quot;user_id&quot;).toString()));\r\n    \t  JSONArray drivesarray= (JSONArray) obj.get(&quot;drives&quot;);\r\n    \t  Iterator&lt;JSONObject&gt; driveIterator=drivesarray.iterator();\r\n    \t  while(driveIterator.hasNext())\r\n    \t  {\r\n    \t\t  JSONObject driveJSON=driveIterator.next();\r\n    \t\t  client_drive_info drive=new client_drive_info();\r\n    \t\t  drive.setDrives_id((int) Long.parseLong(driveJSON.get(&quot;drives_id&quot;).toString()));\r\n    \t\t  drive.setIp(driveJSON.get(&quot;ip&quot; ).toString());\r\n    \t\t  drive.setPort((int )Long.parseLong(driveJSON.get(&quot;port&quot;).toString()));\r\n    \t\t  drive.setSFTPusername(driveJSON.get(&quot;ftp_username&quot;).toString());\r\n    \t\t  drive.setSFTPpassword(driveJSON.get( &quot;ftp_password&quot;).toString());\r\n    \t\t  drive.setPermission((int )Long.parseLong(driveJSON.get(&quot;permission&quot;).toString()));\r\n    \t\t  drive.setDrive_name(driveJSON.get(&quot;drive_name&quot;).toString());\r\n    \t\t  drive.setDrive_letter(driveJSON.get(&quot;drive_letter&quot;).toString());\r\n    \t\t  drive.setSize((int )Long.parseLong(driveJSON.get(&quot;size&quot;).toString()));\r\n    \t\t  \r\n    \t\t  mi.getDrives_info().add(drive);\r\n    \t  }","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You can Iterate using an Iterator, I have also copied a sample JSON string for you, I hope this can help:</p>\n\n<pre><code>  //  { \"drives\":\n    //[{\"drives_id\":\"2\",\"ip\":\"hq10m.backupexample.com\",\"port\":\"4010\",\"ftp_username\":\"NameSFTP\",\"\n    // ftp_password\":\"12345\",\"permission\":2,\"drive_name\":\"dev\"\n    //,\"drive_letter\":\"S\",\"size\":\"1234\",\"ma_mode\":\"0\"},\n    //{\"drives_id\":\"3\",\"ip\":\"hq6m.backupexample.com\",\"port\":\"4206\",\"ftp_username\":\"userSFTP\"\n//,\"ftp_password\":\"456\",\"permission\":2,\"drive_name\":\"Rashtesting\"\n//,\"drive_letter\":\"P\",\"size\":\"8\",\"ma_mode\":\"0\"}],\"user_id\":\"8\"}\n\n      mi.setUser_id( (int) Long.parseLong(obj.get(\"user_id\").toString()));\n      JSONArray drivesarray= (JSONArray) obj.get(\"drives\");\n      Iterator&lt;JSONObject&gt; driveIterator=drivesarray.iterator();\n      while(driveIterator.hasNext())\n      {\n          JSONObject driveJSON=driveIterator.next();\n          client_drive_info drive=new client_drive_info();\n          drive.setDrives_id((int) Long.parseLong(driveJSON.get(\"drives_id\").toString()));\n          drive.setIp(driveJSON.get(\"ip\" ).toString());\n          drive.setPort((int )Long.parseLong(driveJSON.get(\"port\").toString()));\n          drive.setSFTPusername(driveJSON.get(\"ftp_username\").toString());\n          drive.setSFTPpassword(driveJSON.get( \"ftp_password\").toString());\n          drive.setPermission((int )Long.parseLong(driveJSON.get(\"permission\").toString()));\n          drive.setDrive_name(driveJSON.get(\"drive_name\").toString());\n          drive.setDrive_letter(driveJSON.get(\"drive_letter\").toString());\n          drive.setSize((int )Long.parseLong(driveJSON.get(\"size\").toString()));\n\n          mi.getDrives_info().add(drive);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745901,"creation_date":1681745901,"answer_id":76036887,"question_id":8963347,"body_markdown":"You can also use a &quot;for-of&quot; / &quot;for-in&quot; loop:\r\n\r\n```\r\nif(jsonConfig.has(&quot;KEY&quot;)) {\r\n    JSONArray jsonArray = jsonConfig.getJSONArray(&quot;KEY&quot;);\r\n\r\n    for(var element : jsonArray) {\r\n        // element has type `Object`\r\n        String elementAsString = element.toString();\r\n\r\n        // etc... change logic for conversion to different types\r\n    }\r\n}\r\n```","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You can also use a &quot;for-of&quot; / &quot;for-in&quot; loop:</p>\n<pre><code>if(jsonConfig.has(&quot;KEY&quot;)) {\n    JSONArray jsonArray = jsonConfig.getJSONArray(&quot;KEY&quot;);\n\n    for(var element : jsonArray) {\n        // element has type `Object`\n        String elementAsString = element.toString();\n\n        // etc... change logic for conversion to different types\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":50205,"reputation":5499,"user_id":149692,"accept_rate":94,"display_name":"Mr. Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58395,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8963468,"answer_count":5,"score":11,"last_activity_date":1681745901,"creation_date":1327256012,"question_id":8963347,"body_markdown":"My JSON string looks like this (contained in a string variable called `sJSON`):\r\n\r\n    [\r\n        {&quot;id&quot;:284}\r\n    ],\r\n    [\r\n        {&quot;name&quot;:John,&quot;surname&quot;:Doe},\r\n        {&quot;name&quot;:Jane,&quot;surname&quot;:Doe}\r\n    ]\r\n\r\nI&#39;m able to parse the first array like this (using Java and importing org.json):\r\n\r\n    JSONArray arrJSON = new JSONArray(sJSON);\r\n    JSONObject jsonGeneralData = new JSONObject(arrJSON.get(0).toString());\r\n    \r\n    String sResult = jsonGeneralData.get(&quot;id&quot;).toString();\r\n\r\nThat returns the expected result, which is 284. I&#39;m struggling to get the second array of items, and iterate through them. I&#39;m not sure if my JSON string is malformed, or if I&#39;m trying to access it the wrong way. Here&#39;s what I tried:\r\n\r\n    JSONObject jsonPersonData = new JSONObject(arrJSON.get(1).toString());\r\n    \r\nThis is as far as I got, I can&#39;t figure out how to loop through the individual items inside the second array.\r\n\r\n**EDIT:**\r\n\r\nIt seems that this line only parses the first string in the square brackets:\r\n\r\n    JSONArray arrJSON = new JSONArray(sJSON);\r\n\r\nEither the JSON is wrong (same example as above), or it&#39;s not parsing it correctly? I&#39;ve managed to solve the problem by doing a split on the string and put them each in their own `JSONArray`, but I don&#39;t think that&#39;s the best way of doing things.\r\n\r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>My JSON string looks like this (contained in a string variable called <code>sJSON</code>):</p>\n\n<pre><code>[\n    {\"id\":284}\n],\n[\n    {\"name\":John,\"surname\":Doe},\n    {\"name\":Jane,\"surname\":Doe}\n]\n</code></pre>\n\n<p>I'm able to parse the first array like this (using Java and importing org.json):</p>\n\n<pre><code>JSONArray arrJSON = new JSONArray(sJSON);\nJSONObject jsonGeneralData = new JSONObject(arrJSON.get(0).toString());\n\nString sResult = jsonGeneralData.get(\"id\").toString();\n</code></pre>\n\n<p>That returns the expected result, which is 284. I'm struggling to get the second array of items, and iterate through them. I'm not sure if my JSON string is malformed, or if I'm trying to access it the wrong way. Here's what I tried:</p>\n\n<pre><code>JSONObject jsonPersonData = new JSONObject(arrJSON.get(1).toString());\n</code></pre>\n\n<p>This is as far as I got, I can't figure out how to loop through the individual items inside the second array.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>It seems that this line only parses the first string in the square brackets:</p>\n\n<pre><code>JSONArray arrJSON = new JSONArray(sJSON);\n</code></pre>\n\n<p>Either the JSON is wrong (same example as above), or it's not parsing it correctly? I've managed to solve the problem by doing a split on the string and put them each in their own <code>JSONArray</code>, but I don't think that's the best way of doing things.</p>\n"},{"tags":["java","list","element"],"answers":[{"comments":[{"owner":{"display_name":"user288140"},"score":0,"creation_date":1267959695,"post_id":2395840,"comment_id":2375285,"body_markdown":"Isn&#39;t the list iterated (at least) twice; once on the original list when the conversion is done and then again when the target list is iterated over?","body":"Isn&#39;t the list iterated (at least) twice; once on the original list when the conversion is done and then again when the target list is iterated over?"}],"tags":[],"owner":{"account_id":19015,"reputation":16929,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267955839,"creation_date":1267955839,"answer_id":2395840,"question_id":2395816,"body_markdown":"That question does not iterate through the list twice. It just iterates once and by far is the only known method.\r\n\r\nAlso you could use some transformer classes in commons-collections of google-collections but they all do the same thing under the hood :) the following being one way\r\n\r\n    CollectionUtils.collect(collectionOfIntegers, new org.apache.commons.collections.functors.StringValueTransformer());","title":"Converting lists of one element type to a list of another type","body":"<p>That question does not iterate through the list twice. It just iterates once and by far is the only known method.</p>\n\n<p>Also you could use some transformer classes in commons-collections of google-collections but they all do the same thing under the hood :) the following being one way</p>\n\n<pre><code>CollectionUtils.collect(collectionOfIntegers, new org.apache.commons.collections.functors.StringValueTransformer());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267956234,"creation_date":1267955880,"answer_id":2395843,"question_id":2395816,"body_markdown":"Well, you could create your own iterator wrapper class to do this.  But I doubt that you would save much by doing this.\r\n\r\nHere&#39;s a simple example that wraps any iterator to a String iterator, using Object.toString() to do the mapping.\r\n\r\n    public MyIterator implements Iterator&lt;String&gt; {\r\n\r\n        private Iterator&lt;? extends Object&gt; it;\r\n\r\n        public MyIterator(Iterator&lt;? extends Object&gt; it) {\r\n            this.it = it;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return it.hasNext();\r\n        }\r\n\r\n        public String next() {\r\n            return it.next().toString();\r\n        }\r\n        \r\n        public void remove() {\r\n            it.remove();\r\n        }\r\n    }","title":"Converting lists of one element type to a list of another type","body":"<p>Well, you could create your own iterator wrapper class to do this.  But I doubt that you would save much by doing this.</p>\n\n<p>Here's a simple example that wraps any iterator to a String iterator, using Object.toString() to do the mapping.</p>\n\n<pre><code>public MyIterator implements Iterator&lt;String&gt; {\n\n    private Iterator&lt;? extends Object&gt; it;\n\n    public MyIterator(Iterator&lt;? extends Object&gt; it) {\n        this.it = it;\n    }\n\n    public boolean hasNext() {\n        return it.hasNext();\n    }\n\n    public String next() {\n        return it.next().toString();\n    }\n\n    public void remove() {\n        it.remove();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user288140"},"score":0,"creation_date":1267960110,"post_id":2395844,"comment_id":2375302,"body_markdown":"This looks close to what I&#39;m looking for. As per the similar response, does doing this on the fly give me much advantage?","body":"This looks close to what I&#39;m looking for. As per the similar response, does doing this on the fly give me much advantage?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1267961120,"post_id":2395844,"comment_id":2375331,"body_markdown":"Honestly, I think the Google Collections solution (Ben Lings&#39;) might be better. Their design is a lot more mature, and their implementation is more robust. Frankly I just whipped that code up in 15 minutes without putting too much thought into it.","body":"Honestly, I think the Google Collections solution (Ben Lings&#39;) might be better. Their design is a lot more mature, and their implementation is more robust. Frankly I just whipped that code up in 15 minutes without putting too much thought into it."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1267961255,"post_id":2395844,"comment_id":2375334,"body_markdown":"I mean, the class implements `Iterator&lt;U&gt;` and `Iterable&lt;U&gt;`. I&#39;m not sure if that&#39;s kosher.","body":"I mean, the class implements <code>Iterator&lt;U&gt;</code> and <code>Iterable&lt;U&gt;</code>. I&#39;m not sure if that&#39;s kosher."},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":0,"creation_date":1358545352,"post_id":2395844,"comment_id":20049741,"body_markdown":"Indeed, a bad idea for generalized collections.","body":"Indeed, a bad idea for generalized collections."}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267957953,"creation_date":1267955881,"answer_id":2395844,"question_id":2395816,"body_markdown":"You can write a mapping iterator that decorates an existing iterator and applies a function on it. In this case, the function transforms the objects from one type to another &quot;on-the-fly&quot;.\r\n\r\nSomething like this:\r\n\r\n    import java.util.*;\r\n    \r\n    abstract class Transformer&lt;T, U&gt; implements Iterable&lt;U&gt;, Iterator&lt;U&gt; {\r\n    \tpublic abstract U apply(T object);\t\r\n\r\n    \tfinal Iterator&lt;T&gt; source;    \t\r\n    \tTransformer(Iterable&lt;T&gt; source)    { this.source = source.iterator(); }\r\n    \r\n    \t@Override public boolean hasNext() { return source.hasNext(); }\r\n    \t@Override public U next()          { return apply(source.next()); }\r\n    \t@Override public void remove()     { source.remove(); }\t\r\n    \t\r\n    \tpublic Iterator&lt;U&gt; iterator()      { return this; }\r\n    }\r\n    \r\n    public class TransformingIterator {\t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tList&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    \t\tIterable&lt;Integer&gt; it = new Transformer&lt;String, Integer&gt;(list) {\r\n    \t\t\t@Override public Integer apply(String s) {\r\n    \t\t\t\treturn Integer.parseInt(s);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tfor (int i : it) {\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Converting lists of one element type to a list of another type","body":"<p>You can write a mapping iterator that decorates an existing iterator and applies a function on it. In this case, the function transforms the objects from one type to another \"on-the-fly\".</p>\n\n<p>Something like this:</p>\n\n<pre><code>import java.util.*;\n\nabstract class Transformer&lt;T, U&gt; implements Iterable&lt;U&gt;, Iterator&lt;U&gt; {\n    public abstract U apply(T object);  \n\n    final Iterator&lt;T&gt; source;       \n    Transformer(Iterable&lt;T&gt; source)    { this.source = source.iterator(); }\n\n    @Override public boolean hasNext() { return source.hasNext(); }\n    @Override public U next()          { return apply(source.next()); }\n    @Override public void remove()     { source.remove(); } \n\n    public Iterator&lt;U&gt; iterator()      { return this; }\n}\n\npublic class TransformingIterator { \n    public static void main(String args[]) {\n        List&lt;String&gt; list = Arrays.asList(\"1\", \"2\", \"3\");\n        Iterable&lt;Integer&gt; it = new Transformer&lt;String, Integer&gt;(list) {\n            @Override public Integer apply(String s) {\n                return Integer.parseInt(s);\n            }\n        };\n        for (int i : it) {\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267956366,"creation_date":1267956366,"answer_id":2395868,"question_id":2395816,"body_markdown":"I think you would either have to create a custom List (implementing the List interface) or a custom Iterator. For example:\r\n\r\n    ArrayList&lt;String&gt; targetList = new ArrayList&lt;String&gt;();\r\n    ConvertingIterator&lt;String&gt; iterator = new ConvertingIterator&lt;String&gt;(targetList);\r\n    // and here you would have to use a custom List implementation as a source List\r\n    // using the Iterator created above\r\n\r\nBut I doubt that this approach would save you much.","title":"Converting lists of one element type to a list of another type","body":"<p>I think you would either have to create a custom List (implementing the List interface) or a custom Iterator. For example:</p>\n\n<pre><code>ArrayList&lt;String&gt; targetList = new ArrayList&lt;String&gt;();\nConvertingIterator&lt;String&gt; iterator = new ConvertingIterator&lt;String&gt;(targetList);\n// and here you would have to use a custom List implementation as a source List\n// using the Iterator created above\n</code></pre>\n\n<p>But I doubt that this approach would save you much.</p>\n"},{"comments":[{"owner":{"account_id":13747594,"reputation":754,"user_id":9920733,"display_name":"Akki"},"score":2,"creation_date":1562134931,"post_id":2395890,"comment_id":100277016,"body_markdown":"what if in place of Integer and String, we have custom classes ?","body":"what if in place of Integer and String, we have custom classes ?"}],"tags":[],"owner":{"account_id":18056,"reputation":28943,"user_id":41012,"accept_rate":78,"display_name":"Ben Lings"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1267956913,"creation_date":1267956913,"answer_id":2395890,"question_id":2395816,"body_markdown":"My [answer][1] to that question applies to your case:\r\n\r\n\r\n    import com.google.common.collect.Lists;\r\n    import com.google.common.base.Functions\r\n\r\n    List&lt;Integer&gt; integers = Arrays.asList(1, 2, 3, 4);\r\n\r\n    List&lt;String&gt; strings = Lists.transform(integers, Functions.toStringFunction());\r\n\r\n\r\nThe transformed list is a view on the original collection, so the transformation happens when the destination `List` is accessed.\r\n\r\n  [1]: https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring/1227099#1227099","title":"Converting lists of one element type to a list of another type","body":"<p>My <a href=\"https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring/1227099#1227099\">answer</a> to that question applies to your case:</p>\n\n<pre><code>import com.google.common.collect.Lists;\nimport com.google.common.base.Functions\n\nList&lt;Integer&gt; integers = Arrays.asList(1, 2, 3, 4);\n\nList&lt;String&gt; strings = Lists.transform(integers, Functions.toStringFunction());\n</code></pre>\n\n<p>The transformed list is a view on the original collection, so the transformation happens when the destination <code>List</code> is accessed.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267965959,"creation_date":1267965959,"answer_id":2396267,"question_id":2395816,"body_markdown":"[Lambdaj][1] allows to do that in a very simple and readable way. For example, supposing you have a list of Integer and you want to convert them in the corresponding String representation you could write something like that;\r\n\r\n    List&lt;Integer&gt; ints = asList(1, 2, 3, 4);\r\n    Iterator&lt;String&gt; stringIterator = convertIterator(ints, new Converter&lt;Integer, String&gt; {\r\n        public String convert(Integer i) { return Integer.toString(i); }\r\n    });\r\n\r\nLambdaj applies the conversion function only while you&#39;re iterating on the result.\r\nThere is also a more concise way to use the same feature. The next example works supposing that you have a list of persons with a name property and you want to convert that list in an iterator of person&#39;s names.\r\n\r\n    Iterator&lt;String&gt; namesIterator = convertIterator(persons, on(Person.class).getName());\r\n\r\nPretty easy. Isn&#39;t it?\r\n\r\n  [1]: http://code.google.com/p/lambdaj/","title":"Converting lists of one element type to a list of another type","body":"<p><a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow noreferrer\">Lambdaj</a> allows to do that in a very simple and readable way. For example, supposing you have a list of Integer and you want to convert them in the corresponding String representation you could write something like that;</p>\n\n<pre><code>List&lt;Integer&gt; ints = asList(1, 2, 3, 4);\nIterator&lt;String&gt; stringIterator = convertIterator(ints, new Converter&lt;Integer, String&gt; {\n    public String convert(Integer i) { return Integer.toString(i); }\n});\n</code></pre>\n\n<p>Lambdaj applies the conversion function only while you're iterating on the result.\nThere is also a more concise way to use the same feature. The next example works supposing that you have a list of persons with a name property and you want to convert that list in an iterator of person's names.</p>\n\n<pre><code>Iterator&lt;String&gt; namesIterator = convertIterator(persons, on(Person.class).getName());\n</code></pre>\n\n<p>Pretty easy. Isn't it?</p>\n"},{"tags":[],"owner":{"account_id":294101,"reputation":309,"user_id":597794,"display_name":"rhodan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1315322513,"creation_date":1315322194,"answer_id":7322197,"question_id":2395816,"body_markdown":"As an alternative to the iterator pattern, you can use a abstract generic mapper class, and only override the transform method:\r\n\r\n1. create a generic collection mapper for any data type\r\n2. [optional] create a library of methods that transform between different data types (and override the method)\r\n3. use that library\r\n\r\nthe implementation:\r\n\r\n    // Generic class to transform collections\r\n    public abstract class CollectionTransformer&lt;E, F&gt; {\r\n\r\n        abstract F transform(E e);\r\n\r\n        public List&lt;F&gt; transform(List&lt;E&gt; list) {\r\n            List&lt;F&gt; newList = new ArrayList&lt;F&gt;();\r\n            for (E e : list) {\r\n                newList.add(transform(e));\r\n            }\r\n            return newList;\r\n        }\r\n    }\r\n\r\n    // Method that transform Integer to String\r\n    // this override the transform method to specify the transformation\r\n    public static List&lt;String&gt; mapIntegerToStringCollection(List&lt;Integer&gt; list) {\r\n\r\n        CollectionTransformer transformer = new CollectionTransformer&lt;Integer, String&gt;() {\r\n            @Override  \r\n            String transform(Integer e) {\r\n                return e.toString();\r\n            }\r\n        };\r\n        return transformer.transform(list);\r\n    }\r\n\r\n    // Example Usage\r\n    List&lt;Integer&gt; integers = Arrays.asList(1,2);\r\n    List&lt;String&gt; strings = mapIntegerToStringCollection(integers);\r\n\r\nThis would be useful is you have to use transformations every time, encapsulating the process.\r\nSo you can make a library of collection mappers very easy.","title":"Converting lists of one element type to a list of another type","body":"<p>As an alternative to the iterator pattern, you can use a abstract generic mapper class, and only override the transform method:</p>\n\n<ol>\n<li>create a generic collection mapper for any data type</li>\n<li>[optional] create a library of methods that transform between different data types (and override the method)</li>\n<li>use that library</li>\n</ol>\n\n<p>the implementation:</p>\n\n<pre><code>// Generic class to transform collections\npublic abstract class CollectionTransformer&lt;E, F&gt; {\n\n    abstract F transform(E e);\n\n    public List&lt;F&gt; transform(List&lt;E&gt; list) {\n        List&lt;F&gt; newList = new ArrayList&lt;F&gt;();\n        for (E e : list) {\n            newList.add(transform(e));\n        }\n        return newList;\n    }\n}\n\n// Method that transform Integer to String\n// this override the transform method to specify the transformation\npublic static List&lt;String&gt; mapIntegerToStringCollection(List&lt;Integer&gt; list) {\n\n    CollectionTransformer transformer = new CollectionTransformer&lt;Integer, String&gt;() {\n        @Override  \n        String transform(Integer e) {\n            return e.toString();\n        }\n    };\n    return transformer.transform(list);\n}\n\n// Example Usage\nList&lt;Integer&gt; integers = Arrays.asList(1,2);\nList&lt;String&gt; strings = mapIntegerToStringCollection(integers);\n</code></pre>\n\n<p>This would be useful is you have to use transformations every time, encapsulating the process.\nSo you can make a library of collection mappers very easy.</p>\n"},{"tags":[],"owner":{"account_id":3155343,"reputation":6408,"user_id":2667872,"accept_rate":75,"display_name":"Alexey Malev"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1440515113,"creation_date":1440515113,"answer_id":32207593,"question_id":2395816,"body_markdown":"Java 8 way:\r\n\r\n    List&lt;String&gt; original = ...;\r\n    List&lt;Wrapper&gt; converted = original.stream().map(Wrapper::new).collect(Collectors.toList());\r\n\r\nassuming `Wrapper` class has a constructor accepting a `String`.","title":"Converting lists of one element type to a list of another type","body":"<p>Java 8 way:</p>\n\n<pre><code>List&lt;String&gt; original = ...;\nList&lt;Wrapper&gt; converted = original.stream().map(Wrapper::new).collect(Collectors.toList());\n</code></pre>\n\n<p>assuming <code>Wrapper</code> class has a constructor accepting a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":6731003,"reputation":89,"user_id":5187346,"display_name":"Babak Farhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571968440,"creation_date":1571968440,"answer_id":58551202,"question_id":2395816,"body_markdown":"Here&#39;s an on-the-fly approach. (There must be something already like this in the jdk; I just can&#39;t find it.)\r\n\r\n      package com.gnahraf.util;\r\n      \r\n      import java.util.AbstractList;\r\n      import java.util.List;\r\n      import java.util.Objects;\r\n      import java.util.function.Function;\r\n      \r\n      /**\r\n       * \r\n       */\r\n      public class Lists {\r\n      \r\n        private Lists() { }\r\n        \r\n        \r\n        public static &lt;U,V&gt; List&lt;V&gt; transform(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\r\n          return new ListView&lt;U, V&gt;(source, mapper);\r\n        }\r\n        \r\n        protected static class ListView&lt;U, V&gt; extends AbstractList&lt;V&gt; {\r\n          \r\n          private final List&lt;U&gt; source;\r\n          private final Function&lt;U, V&gt; mapper;\r\n          \r\n          protected ListView(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\r\n            this.source = Objects.requireNonNull(source, &quot;source&quot;);\r\n            this.mapper = Objects.requireNonNull(mapper, &quot;mapper&quot;);\r\n          }\r\n      \r\n          @Override\r\n          public V get(int index) {\r\n            return mapper.apply(source.get(index));\r\n          }\r\n      \r\n          @Override\r\n          public int size() {\r\n            return source.size();\r\n          }\r\n          \r\n        }\r\n      \r\n      }\r\n\r\n","title":"Converting lists of one element type to a list of another type","body":"<p>Here's an on-the-fly approach. (There must be something already like this in the jdk; I just can't find it.)</p>\n\n<pre><code>  package com.gnahraf.util;\n\n  import java.util.AbstractList;\n  import java.util.List;\n  import java.util.Objects;\n  import java.util.function.Function;\n\n  /**\n   * \n   */\n  public class Lists {\n\n    private Lists() { }\n\n\n    public static &lt;U,V&gt; List&lt;V&gt; transform(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\n      return new ListView&lt;U, V&gt;(source, mapper);\n    }\n\n    protected static class ListView&lt;U, V&gt; extends AbstractList&lt;V&gt; {\n\n      private final List&lt;U&gt; source;\n      private final Function&lt;U, V&gt; mapper;\n\n      protected ListView(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\n        this.source = Objects.requireNonNull(source, \"source\");\n        this.mapper = Objects.requireNonNull(mapper, \"mapper\");\n      }\n\n      @Override\n      public V get(int index) {\n        return mapper.apply(source.get(index));\n      }\n\n      @Override\n      public int size() {\n        return source.size();\n      }\n\n    }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8279939,"reputation":272,"user_id":6224955,"display_name":"Rajeev Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612259855,"creation_date":1612259855,"answer_id":66007360,"question_id":2395816,"body_markdown":"This Could be a solutions --&gt; by using map\r\n\r\n \r\n\r\n     \r\n    List&lt;Employee&gt; employee = Arrays.asList(new Emp(1, 100), new Emp(2, 200), new Emp(3, 300));\r\n    List&lt;Employee&gt; employeS = employee.stream()\r\n                                                 .map(emp -&gt; new Emp(emp.getId(), emp.getSalary * 100))\r\n                                                 .collect(Collectors.toList());\r\n    employeS .stream() .forEach(s -&gt; System.out.println(&quot;Id :&quot; + s.getId() + &quot; Salary :&quot; + s.getSalary()));","title":"Converting lists of one element type to a list of another type","body":"<p>This Could be a solutions --&gt; by using map</p>\n<pre><code>List&lt;Employee&gt; employee = Arrays.asList(new Emp(1, 100), new Emp(2, 200), new Emp(3, 300));\nList&lt;Employee&gt; employeS = employee.stream()\n                                             .map(emp -&gt; new Emp(emp.getId(), emp.getSalary * 100))\n                                             .collect(Collectors.toList());\nemployeS .stream() .forEach(s -&gt; System.out.println(&quot;Id :&quot; + s.getId() + &quot; Salary :&quot; + s.getSalary()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20854728,"reputation":87,"user_id":15318369,"display_name":"simerbhatti"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614780849,"creation_date":1614780047,"answer_id":66458585,"question_id":2395816,"body_markdown":"If you are trying to get a list of elements within a list then use the below code.Here the list of objects contains attribute name and below gets you list of names from that list\r\n\r\n    inputList.stream().map(p -&gt; p.getName()).collect(Collectors.toList());","title":"Converting lists of one element type to a list of another type","body":"<p>If you are trying to get a list of elements within a list then use the below code.Here the list of objects contains attribute name and below gets you list of names from that list</p>\n<pre><code>inputList.stream().map(p -&gt; p.getName()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6805657,"reputation":1560,"user_id":5237474,"accept_rate":89,"display_name":"shashwatZing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745585,"creation_date":1681745251,"answer_id":76036787,"question_id":2395816,"body_markdown":"This way of transforming complex object types is very simple and intuitive and can be easily modified in future.\r\n\r\n     class Model {\r\n        private int start;\r\n        private int end;\r\n        private String type;\r\n        //other variables  \r\n        //acccessors , constructors etc\r\n    }**\r\n\r\n    Say we need to convert this object into another one\r\n    listed below. Add a constructor with Model object\r\n\r\n\r\n    class TransformModel {\r\n        private int start;\r\n        private int end;\r\n        private String type;\r\n\r\n        TransformeModel(Model model) {\r\n            this.start = model.start;\r\n            this.end = model.end;\r\n            this.type = model.type;\r\n        }**\r\n\r\n        public List&lt;TransformModel&gt; convertFromModel(List&lt;Model&gt; models) {\r\n            return models.stream().map(TransformModel::new).collect(Collectors.toList());\r\n        }\r\n    }","title":"Converting lists of one element type to a list of another type","body":"<p>This way of transforming complex object types is very simple and intuitive and can be easily modified in future.</p>\n<pre><code> class Model {\n    private int start;\n    private int end;\n    private String type;\n    //other variables  \n    //acccessors , constructors etc\n}**\n\nSay we need to convert this object into another one\nlisted below. Add a constructor with Model object\n\n\nclass TransformModel {\n    private int start;\n    private int end;\n    private String type;\n\n    TransformeModel(Model model) {\n        this.start = model.start;\n        this.end = model.end;\n        this.type = model.type;\n    }**\n\n    public List&lt;TransformModel&gt; convertFromModel(List&lt;Model&gt; models) {\n        return models.stream().map(TransformModel::new).collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user288140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55715,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":12,"score":24,"last_activity_date":1681745585,"creation_date":1267955255,"question_id":2395816,"body_markdown":"I&#39;m writing an adapter framework where I need to convert a list of objects from one class to another. I can iterate through the source list to do this as in \r\n\r\nhttps://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring\r\n\r\nHowever, I&#39;m wondering if there is a way to do this on the fly when the target list is being iterated, so I don&#39;t have to iterate through the list twice.","title":"Converting lists of one element type to a list of another type","body":"<p>I'm writing an adapter framework where I need to convert a list of objects from one class to another. I can iterate through the source list to do this as in </p>\n\n<p><a href=\"https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring\">Java: Best way of converting List&lt;Integer&gt; to List&lt;String&gt;</a></p>\n\n<p>However, I'm wondering if there is a way to do this on the fly when the target list is being iterated, so I don't have to iterate through the list twice.</p>\n"},{"tags":["java","maven","discord","bots"],"answers":[{"tags":[],"owner":{"account_id":22704289,"reputation":327,"user_id":16871250,"display_name":"Julian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681745426,"creation_date":1681744348,"answer_id":76036651,"question_id":76036514,"body_markdown":"\r\nBe sure that you have the Message Content Intent enabled in your Bot settings (in the Discord Portal):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd you also want to enable the Intent in your code:\r\n```java\r\nJDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\r\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;))\r\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT).build();\r\n```\r\n\r\n[Link to JDA Docs][2]\r\n\r\n\r\nAs you can read in [this article][3] of Discord, you can see that you need to enable the Message Content Intent to receive the content of messages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2X5CP.png\r\n  [2]: https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n  [3]: https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ","title":"why is event.getMessage().getContentDisplay() not returning anything?","body":"<p>Be sure that you have the Message Content Intent enabled in your Bot settings (in the Discord Portal):</p>\n<p><a href=\"https://i.stack.imgur.com/2X5CP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2X5CP.png\" alt=\"enter image description here\" /></a></p>\n<p>And you also want to enable the Intent in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;))\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT).build();\n</code></pre>\n<p><a href=\"https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\" rel=\"nofollow noreferrer\">Link to JDA Docs</a></p>\n<p>As you can read in <a href=\"https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\" rel=\"nofollow noreferrer\">this article</a> of Discord, you can see that you need to enable the Message Content Intent to receive the content of messages.</p>\n"}],"owner":{"account_id":28330762,"reputation":3,"user_id":21665089,"display_name":"Rexstech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036651,"answer_count":1,"score":0,"last_activity_date":1681745426,"creation_date":1681743469,"question_id":76036514,"body_markdown":"`    package com.ahwak;\r\n\r\n    import net.dv8tion.jda.api.JDA;\r\n    import net.dv8tion.jda.api.JDABuilder;\r\n    import net.dv8tion.jda.api.entities.Activity;\r\n    import net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\n    import javax.security.auth.login.LoginException;\r\n\r\n    public class DiscordBot extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event)\r\n    {\r\n    System.out.println(&quot;We have received a message from &quot; + event.getAuthor().getName() + &quot;: &quot; +    event.getMessage()\r\n            .getContentDisplay());\r\n    if(event.getMessage().getContentRaw().equals(&quot;!ping&quot;)){\r\n        event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\r\n    }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws LoginException {\r\n\r\n        JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\r\n                .setActivity(Activity.playing(&quot;Working on this bot&quot;)).build();\r\n        bot.addEventListener(new DiscordBot());\r\n\r\n    }\r\n\r\n     }`\r\n\r\n\r\nIt is supposed to return Pong! when !ping is typed but it is not working. It works correctly when I enter a message however the message does not get displayed. Meaning it outputs &quot;We have received a message from Rexstech:    &quot;.","title":"why is event.getMessage().getContentDisplay() not returning anything?","body":"<p>`    package com.ahwak;</p>\n<pre><code>import net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.entities.Activity;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport javax.security.auth.login.LoginException;\n\npublic class DiscordBot extends ListenerAdapter {\n\n@Override\npublic void onMessageReceived(MessageReceivedEvent event)\n{\nSystem.out.println(&quot;We have received a message from &quot; + event.getAuthor().getName() + &quot;: &quot; +    event.getMessage()\n        .getContentDisplay());\nif(event.getMessage().getContentRaw().equals(&quot;!ping&quot;)){\n    event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\n}\n}\n\n\npublic static void main(String[] args) throws LoginException {\n\n    JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;)).build();\n    bot.addEventListener(new DiscordBot());\n\n}\n\n }`\n</code></pre>\n<p>It is supposed to return Pong! when !ping is typed but it is not working. It works correctly when I enter a message however the message does not get displayed. Meaning it outputs &quot;We have received a message from Rexstech:    &quot;.</p>\n"},{"tags":["java","json","quarkus","mutiny","smallrye"],"answers":[{"tags":[],"owner":{"account_id":28331080,"reputation":1,"user_id":21665345,"display_name":"Leon Ochmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745073,"creation_date":1681745073,"answer_id":76036760,"question_id":74237400,"body_markdown":"I stumbled over the exact same issue that you had. The solution I found was to annotate the method with\r\n\r\n    @Stream(Stream.MODE.RAW)\r\n\r\nAccording to [the documentation][1]:\r\n\r\n&gt; **@Stream(Stream.MODE.RAW):** In this case each value is written directly to the wire, without any formatting, as it becomes available. This is most useful for values that can be cut in pieces, such as strings, bytes, buffers, etc., and then re-concatenated on the client side.\r\n\r\nThat page also explains the undesired behaviour that you and I encountered:\r\n\r\n&gt; **No @Stream annotation on the resource method:** Resteasy will collect every value until the stream is complete, then wrap them into a java.util.List entity and send to the client.\r\n\r\nSo, if I understand the above correctly, not only does the annotation change the formatting of the response, but also the &quot;reactivity&quot;, i. e. whether to wait until the entire `Multi` has finished producing values and then sending them in bulk, or send it item-by-item, which might be another important consideration.\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/6.2.0.Beta1/userguide/html_single/index.html#d4e2799","title":"Quarkus REST API with Multi&lt;String&gt; and APPLICATION_JSON return type adds additional wrapper to response","body":"<p>I stumbled over the exact same issue that you had. The solution I found was to annotate the method with</p>\n<pre><code>@Stream(Stream.MODE.RAW)\n</code></pre>\n<p>According to <a href=\"https://docs.jboss.org/resteasy/docs/6.2.0.Beta1/userguide/html_single/index.html#d4e2799\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p><strong>@Stream(Stream.MODE.RAW):</strong> In this case each value is written directly to the wire, without any formatting, as it becomes available. This is most useful for values that can be cut in pieces, such as strings, bytes, buffers, etc., and then re-concatenated on the client side.</p>\n</blockquote>\n<p>That page also explains the undesired behaviour that you and I encountered:</p>\n<blockquote>\n<p><strong>No @Stream annotation on the resource method:</strong> Resteasy will collect every value until the stream is complete, then wrap them into a java.util.List entity and send to the client.</p>\n</blockquote>\n<p>So, if I understand the above correctly, not only does the annotation change the formatting of the response, but also the &quot;reactivity&quot;, i. e. whether to wait until the entire <code>Multi</code> has finished producing values and then sending them in bulk, or send it item-by-item, which might be another important consideration.</p>\n"}],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681745073,"creation_date":1666970043,"question_id":74237400,"body_markdown":"I am trying to provide a JSON response from a Quarkus-based Rest API and I see that even if I provide a response with proper JSON, I get an additional array wrapper in my response. Is there a way to prevent the addition of array wrappers around the JSON?\r\n\r\nThe following is the Quarkus Rest API for GET requests:\r\n\r\n```\r\n  @Path(&quot;/testData&quot;)\r\n  @GET\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public Multi &lt;String&gt; test() throws IOException {\r\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\r\n  }\r\n```\r\n\r\nThe following is my TestJSON.json file content:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nWhen I compile the programme and obtain the response via Swagger-UI, then I get the response something like this:\r\n```\r\n[\r\n  {\r\n    &quot;isA&quot;: &quot;customerDocument&quot;,\r\n    &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n    &quot;customerBody&quot;: {\r\n      &quot;customerList&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;Batman&quot;,\r\n          &quot;age&quot;: 45,\r\n          &quot;city&quot;: &quot;gotham&quot;\r\n        }\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nAs we can see, an additional outer wrapper gets added to the response, which I did not provide. Can someone please let me know what&#39;s wrong here and provide some suggestions to avoid the addition of the wrapper array?","title":"Quarkus REST API with Multi&lt;String&gt; and APPLICATION_JSON return type adds additional wrapper to response","body":"<p>I am trying to provide a JSON response from a Quarkus-based Rest API and I see that even if I provide a response with proper JSON, I get an additional array wrapper in my response. Is there a way to prevent the addition of array wrappers around the JSON?</p>\n<p>The following is the Quarkus Rest API for GET requests:</p>\n<pre><code>  @Path(&quot;/testData&quot;)\n  @GET\n  @Produces(MediaType.APPLICATION_JSON)\n  public Multi &lt;String&gt; test() throws IOException {\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\n  }\n</code></pre>\n<p>The following is my TestJSON.json file content:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>When I compile the programme and obtain the response via Swagger-UI, then I get the response something like this:</p>\n<pre><code>[\n  {\n    &quot;isA&quot;: &quot;customerDocument&quot;,\n    &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n    &quot;customerBody&quot;: {\n      &quot;customerList&quot;: [\n        {\n          &quot;name&quot;: &quot;Batman&quot;,\n          &quot;age&quot;: 45,\n          &quot;city&quot;: &quot;gotham&quot;\n        }\n      ]\n    }\n  }\n]\n</code></pre>\n<p>As we can see, an additional outer wrapper gets added to the response, which I did not provide. Can someone please let me know what's wrong here and provide some suggestions to avoid the addition of the wrapper array?</p>\n"},{"tags":["java","mysql","netbeans","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681663332,"post_id":76029043,"comment_id":134089294,"body_markdown":"[This](https://stackoverflow.com/questions/4941372/how-to-insert-image-into-jtable-cell) maybe","body":"<a href=\"https://stackoverflow.com/questions/4941372/how-to-insert-image-into-jtable-cell\">This</a> maybe"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681663525,"post_id":76029043,"comment_id":134089319,"body_markdown":"this is confusing","body":"this is confusing"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1681663533,"post_id":76029043,"comment_id":134089321,"body_markdown":"@g00se: his model seems to return the correct class type for the image column though. OP, a [mre] would be better, if possible.","body":"@g00se: his model seems to return the correct class type for the image column though. OP, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be better, if possible."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681663720,"post_id":76029043,"comment_id":134089339,"body_markdown":"I have to submit my project on the 20th of April.","body":"I have to submit my project on the 20th of April."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681667684,"post_id":76029043,"comment_id":134089929,"body_markdown":"@user16320675 can you please look into my code and tell me how to implement","body":"@user16320675 can you please look into my code and tell me how to implement"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681668037,"post_id":76029043,"comment_id":134089985,"body_markdown":"May be i have to do something in jtable designing code and  TheModel.java code","body":"May be i have to do something in jtable designing code and  TheModel.java code"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681668271,"post_id":76029043,"comment_id":134090026,"body_markdown":"1) What happens when you invoke `getColumnClass(...)` on the table? Do you get &quot;Icon&quot; or &quot;Object&quot;? 2) What happens when you invoke `getDefaultRenderer(...)` on the table? Do you get your custom renderer of the default Icon renderer. You need to isolate where the problem is. You haven&#39;t provided an MRE so we can only guess 3) Why not just extend DefaultTableModel and override the `getColumnClass(...)` method? Get this working without any customs renderers. Then you can try implements your custom model if you want and retest. When this works then replaces the renderer. Do one step at a time.","body":"1) What happens when you invoke <code>getColumnClass(...)</code> on the table? Do you get &quot;Icon&quot; or &quot;Object&quot;? 2) What happens when you invoke <code>getDefaultRenderer(...)</code> on the table? Do you get your custom renderer of the default Icon renderer. You need to isolate where the problem is. You haven&#39;t provided an MRE so we can only guess 3) Why not just extend DefaultTableModel and override the <code>getColumnClass(...)</code> method? Get this working without any customs renderers. Then you can try implements your custom model if you want and retest. When this works then replaces the renderer. Do one step at a time."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681668633,"post_id":76029043,"comment_id":134090065,"body_markdown":"You were given a simple MRE in the link of the first comment. So the point is to start with that code to get it working. Then you can try your full custom model and get it working. Then try using your simple custom renderer. You don&#39;t need the full logic of the renderer, only basic logic to prove your renderer is being used. If it stops working at any time, then you know what you just changed and you have an [mre] to post. The Product class is irrelevant to your problem. The data in the database is irrelevant to your  problem. Frist get it working with hard coded data.","body":"You were given a simple MRE in the link of the first comment. So the point is to start with that code to get it working. Then you can try your full custom model and get it working. Then try using your simple custom renderer. You don&#39;t need the full logic of the renderer, only basic logic to prove your renderer is being used. If it stops working at any time, then you know what you just changed and you have an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to post. The Product class is irrelevant to your problem. The data in the database is irrelevant to your  problem. Frist get it working with hard coded data."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681669349,"post_id":76029043,"comment_id":134090156,"body_markdown":"It works with normal jtable. But when i add designer file of jtable it doesn&#39;t show image","body":"It works with normal jtable. But when i add designer file of jtable it doesn&#39;t show image"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681671774,"post_id":76029043,"comment_id":134090525,"body_markdown":"*when i add designer file of jtable* - no idea what that means. First of all there is no need to extend JTable. You only extend a class when you add functionality. Invoking setter methods is not adding functionality. If you feel you do need to extend JTable, then you do it one step at a time. Then test as you make each change. Isolated which change is causing the problem. This is how you do basic debugging.","body":"<i>when i add designer file of jtable</i> - no idea what that means. First of all there is no need to extend JTable. You only extend a class when you add functionality. Invoking setter methods is not adding functionality. If you feel you do need to extend JTable, then you do it one step at a time. Then test as you make each change. Isolated which change is causing the problem. This is how you do basic debugging."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681672911,"post_id":76029043,"comment_id":134090654,"body_markdown":"@camickr I have another java class file DarkTable.java which contains custom designing code for my table which is in JFrame. what I meant to say was after removing DarkTable.java from JFrame I am able to get Image in my JTable. But it has no design .. it&#39;s just a normal Jtable.  But I want to get an Image in my Jtable with the DarkTable.java file present in JFrame,which gives custom designing to my Jtable.","body":"@camickr I have another java class file DarkTable.java which contains custom designing code for my table which is in JFrame. what I meant to say was after removing DarkTable.java from JFrame I am able to get Image in my JTable. But it has no design .. it&#39;s just a normal Jtable.  But I want to get an Image in my Jtable with the DarkTable.java file present in JFrame,which gives custom designing to my Jtable."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681673421,"post_id":76029043,"comment_id":134090716,"body_markdown":"@camickr can you Look at my code TheModel.java and DarkTable.java? And Jframe code as well","body":"@camickr can you Look at my code TheModel.java and DarkTable.java? And Jframe code as well"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681675403,"post_id":76029043,"comment_id":134090968,"body_markdown":"No I can&#39;t because you haven&#39;t posted an MRE. I have given you suggestions on how to solve the problem yourself.","body":"No I can&#39;t because you haven&#39;t posted an MRE. I have given you suggestions on how to solve the problem yourself."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681675830,"post_id":76029043,"comment_id":134091009,"body_markdown":"what is an MRE?","body":"what is an MRE?"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681677600,"post_id":76029043,"comment_id":134091227,"body_markdown":"@kingrishabdugar","body":"@kingrishabdugar"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681679834,"post_id":76029043,"comment_id":134091489,"body_markdown":"Twice you have been given a link read up on the &quot;Minimal Reproducible Example&quot;. Did you not read it?","body":"Twice you have been given a link read up on the &quot;Minimal Reproducible Example&quot;. Did you not read it?"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681744426,"post_id":76029043,"comment_id":134102338,"body_markdown":"I found the problem and the problem is in here.      @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);","body":"I found the problem and the problem is in here.      @Override         public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {             Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);"}],"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681744615,"creation_date":1681662894,"question_id":76029043,"body_markdown":"Trying science morning.\r\n\r\nbut no success.\r\n\r\nI posted codes that can have problems please help me.\r\n\r\nThis Is output. Instead of an Image, it shows this text.\r\n![]()\r\n\r\n[![enter image description here](https://i.stack.imgur.com/G63tD.jpg)](https://i.stack.imgur.com/G63tD.jpg)\r\n\r\n\r\nTheModel.java javaclass ---\\&gt;(I think the problem is in here).\r\n\r\n```\r\npackage junk.yard.management.creative.system;\r\n\r\npublic class TheModel extends AbstractTableModel {\r\n\r\n    private String[] columns;\r\n    private Object[][] rows;\r\n\r\n    public TheModel() {\r\n    }\r\n\r\n    public TheModel(Object[][] data, String[] columnName) {\r\n\r\n        this.rows = data;\r\n        this.columns = columnName;\r\n    }\r\n\r\n    @Override\r\n    public Class getColumnClass(int column) {\r\n// 4 is the index of the column image\r\n        if (column == 3) {\r\n            return Icon.class;\r\n\r\n        } else {\r\n            return getValueAt(0, column).getClass();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return this.rows.length;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return this.columns.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n\r\n        return this.rows[rowIndex][columnIndex];\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int col) {\r\n        return this.columns[col];\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode in Jframe --\\&gt;(I think the problem is in here)........\r\n\r\n```\r\n public void populateJTable(){\r\n        MyQuery mq = new MyQuery();\r\n        ArrayList&lt;Product2&gt; list = mq.BindTable();\r\n        String[] columnName = {&quot;Sr. No.&quot;,&quot;Name&quot;,&quot;Type&quot;,&quot;Image&quot;};\r\n        Object[][] rows = new Object[list.size()][4];\r\n        for(int i = 0; i &lt; list.size(); i++){      \r\n            if(list.get(i).getMyImage() != null){\r\n                rows[i][0] = list.get(i).getID();\r\n            rows[i][1] = list.get(i).getName();\r\n            rows[i][2] = list.get(i).getType();\r\n             javax.swing.ImageIcon image = new javax.swing.ImageIcon(new javax.swing.ImageIcon(list.get(i).getMyImage()).getImage()\r\n             .getScaledInstance(180, 180, Image.SCALE_SMOOTH) );   \r\n                \r\n            rows[i][3] = image;\r\n            }\r\n            else{\r\n                rows[i][3] = null;\r\n            }\r\n            \r\n        }\r\n        \r\n        TheModel model = new TheModel(rows, columnName);\r\n        jTable1.setModel(model);\r\n        jTable1.setRowHeight(180);\r\n        jTable1.getColumnModel().getColumn(3).setPreferredWidth(180);\r\n    } \r\n```\r\n\r\n\r\nthis is my jTable designing code. DarkTable.java javaclass ---&gt;\r\n\r\n```\r\npackage tabledark;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.Icon;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\n\r\npublic class TableDark extends JTable {\r\n\r\n    private TableDarkHeader header;\r\n    private TableDarkCell cell;\r\n\r\n    public TableDark() {\r\n        header = new TableDarkHeader();\r\n        cell = new TableDarkCell();\r\n        getTableHeader().setDefaultRenderer(header);\r\n        getTableHeader().setPreferredSize(new Dimension(0, 35));\r\n        setDefaultRenderer(Object.class, cell);\r\n        setRowHeight(40);\r\n    }\r\n\r\n    public void setColumnAlignment(int column, int align) {\r\n        header.setAlignment(column, align);\r\n    }\r\n\r\n    public void setCellAlignment(int column, int align) {\r\n        cell.setAlignment(column, align);\r\n    }\r\n\r\n    public void setColumnWidth(int column, int width) {\r\n        getColumnModel().getColumn(column).setPreferredWidth(width);\r\n        getColumnModel().getColumn(column).setMinWidth(width);\r\n        getColumnModel().getColumn(column).setMaxWidth(width);\r\n        getColumnModel().getColumn(column).setMinWidth(10);\r\n        getColumnModel().getColumn(column).setMaxWidth(10000);\r\n    }\r\n\r\n    public void fixTable(JScrollPane scroll) {\r\n        scroll.setVerticalScrollBar(new ScrollBarCustom());\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(new Color(30, 30, 30));\r\n        scroll.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\r\n        scroll.getViewport().setBackground(new Color(30, 30, 30));\r\n        scroll.setBorder(BorderFactory.createLineBorder(new Color(60, 60, 60), 2));\r\n    }\r\n\r\n    private class TableDarkHeader extends DefaultTableCellRenderer {\r\n\r\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\r\n\r\n        public void setAlignment(int column, int align) {\r\n            alignment.put(column, align);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int i, int i1) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, i, i1);\r\n            com.setBackground(new Color(30, 30, 30));\r\n            com.setForeground(new Color(200, 200, 200));\r\n            com.setFont(com.getFont().deriveFont(Font.BOLD, 25));\r\n            if (alignment.containsKey(i1)) {\r\n                setHorizontalAlignment(alignment.get(i1));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n\r\n    private class TableDarkCell extends DefaultTableCellRenderer {\r\n\r\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\r\n\r\n        public void setAlignment(int column, int align) {\r\n            alignment.put(column, align);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\r\n            if (isCellSelected(row, column)) {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(33, 103, 153));\r\n                } else {\r\n                    com.setBackground(new Color(29, 86, 127));\r\n                }\r\n            } else {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(50, 50, 50));\r\n                } else {\r\n                    com.setBackground(new Color(30, 30, 30));\r\n                }\r\n            }\r\n            com.setForeground(new Color(200, 200, 200));\r\n            setBorder(new EmptyBorder(0, 5, 0, 5));\r\n            if (alignment.containsKey(column)) {\r\n                setHorizontalAlignment(alignment.get(column));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nI think the problem is in here please look at it  \r\n\r\n```\r\n @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\r\n            if (isCellSelected(row, column)) {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(33, 103, 153));\r\n                } else {\r\n                    com.setBackground(new Color(29, 86, 127));\r\n                }\r\n            } else {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(50, 50, 50));\r\n                } else {\r\n                    com.setBackground(new Color(30, 30, 30));\r\n                }\r\n            }\r\n            com.setForeground(new Color(200, 200, 200));\r\n            setBorder(new EmptyBorder(0, 5, 0, 5));\r\n            if (alignment.containsKey(column)) {\r\n                setHorizontalAlignment(alignment.get(column));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n\r\n```","title":"I am trying to add image to jTable from mysql Database. but it Shows some text given in the following image","body":"<p>Trying science morning.</p>\n<p>but no success.</p>\n<p>I posted codes that can have problems please help me.</p>\n<p>This Is output. Instead of an Image, it shows this text.\n</p>\n<p><a href=\"https://i.stack.imgur.com/G63tD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G63tD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>TheModel.java javaclass ---&gt;(I think the problem is in here).</p>\n<pre><code>package junk.yard.management.creative.system;\n\npublic class TheModel extends AbstractTableModel {\n\n    private String[] columns;\n    private Object[][] rows;\n\n    public TheModel() {\n    }\n\n    public TheModel(Object[][] data, String[] columnName) {\n\n        this.rows = data;\n        this.columns = columnName;\n    }\n\n    @Override\n    public Class getColumnClass(int column) {\n// 4 is the index of the column image\n        if (column == 3) {\n            return Icon.class;\n\n        } else {\n            return getValueAt(0, column).getClass();\n        }\n    }\n\n    @Override\n    public int getRowCount() {\n        return this.rows.length;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return this.columns.length;\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n\n        return this.rows[rowIndex][columnIndex];\n    }\n\n    @Override\n    public String getColumnName(int col) {\n        return this.columns[col];\n    }\n\n}\n</code></pre>\n<p>Code in Jframe --&gt;(I think the problem is in here)........</p>\n<pre><code> public void populateJTable(){\n        MyQuery mq = new MyQuery();\n        ArrayList&lt;Product2&gt; list = mq.BindTable();\n        String[] columnName = {&quot;Sr. No.&quot;,&quot;Name&quot;,&quot;Type&quot;,&quot;Image&quot;};\n        Object[][] rows = new Object[list.size()][4];\n        for(int i = 0; i &lt; list.size(); i++){      \n            if(list.get(i).getMyImage() != null){\n                rows[i][0] = list.get(i).getID();\n            rows[i][1] = list.get(i).getName();\n            rows[i][2] = list.get(i).getType();\n             javax.swing.ImageIcon image = new javax.swing.ImageIcon(new javax.swing.ImageIcon(list.get(i).getMyImage()).getImage()\n             .getScaledInstance(180, 180, Image.SCALE_SMOOTH) );   \n                \n            rows[i][3] = image;\n            }\n            else{\n                rows[i][3] = null;\n            }\n            \n        }\n        \n        TheModel model = new TheModel(rows, columnName);\n        jTable1.setModel(model);\n        jTable1.setRowHeight(180);\n        jTable1.getColumnModel().getColumn(3).setPreferredWidth(180);\n    } \n</code></pre>\n<p>this is my jTable designing code. DarkTable.java javaclass ---&gt;</p>\n<pre><code>package tabledark;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.BorderFactory;\nimport javax.swing.Icon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.DefaultTableCellRenderer;\n\npublic class TableDark extends JTable {\n\n    private TableDarkHeader header;\n    private TableDarkCell cell;\n\n    public TableDark() {\n        header = new TableDarkHeader();\n        cell = new TableDarkCell();\n        getTableHeader().setDefaultRenderer(header);\n        getTableHeader().setPreferredSize(new Dimension(0, 35));\n        setDefaultRenderer(Object.class, cell);\n        setRowHeight(40);\n    }\n\n    public void setColumnAlignment(int column, int align) {\n        header.setAlignment(column, align);\n    }\n\n    public void setCellAlignment(int column, int align) {\n        cell.setAlignment(column, align);\n    }\n\n    public void setColumnWidth(int column, int width) {\n        getColumnModel().getColumn(column).setPreferredWidth(width);\n        getColumnModel().getColumn(column).setMinWidth(width);\n        getColumnModel().getColumn(column).setMaxWidth(width);\n        getColumnModel().getColumn(column).setMinWidth(10);\n        getColumnModel().getColumn(column).setMaxWidth(10000);\n    }\n\n    public void fixTable(JScrollPane scroll) {\n        scroll.setVerticalScrollBar(new ScrollBarCustom());\n        JPanel panel = new JPanel();\n        panel.setBackground(new Color(30, 30, 30));\n        scroll.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\n        scroll.getViewport().setBackground(new Color(30, 30, 30));\n        scroll.setBorder(BorderFactory.createLineBorder(new Color(60, 60, 60), 2));\n    }\n\n    private class TableDarkHeader extends DefaultTableCellRenderer {\n\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\n\n        public void setAlignment(int column, int align) {\n            alignment.put(column, align);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int i, int i1) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, i, i1);\n            com.setBackground(new Color(30, 30, 30));\n            com.setForeground(new Color(200, 200, 200));\n            com.setFont(com.getFont().deriveFont(Font.BOLD, 25));\n            if (alignment.containsKey(i1)) {\n                setHorizontalAlignment(alignment.get(i1));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n\n    private class TableDarkCell extends DefaultTableCellRenderer {\n\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\n\n        public void setAlignment(int column, int align) {\n            alignment.put(column, align);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\n            if (isCellSelected(row, column)) {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(33, 103, 153));\n                } else {\n                    com.setBackground(new Color(29, 86, 127));\n                }\n            } else {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(50, 50, 50));\n                } else {\n                    com.setBackground(new Color(30, 30, 30));\n                }\n            }\n            com.setForeground(new Color(200, 200, 200));\n            setBorder(new EmptyBorder(0, 5, 0, 5));\n            if (alignment.containsKey(column)) {\n                setHorizontalAlignment(alignment.get(column));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n}\n</code></pre>\n<p>I think the problem is in here please look at it</p>\n<pre><code> @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\n            if (isCellSelected(row, column)) {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(33, 103, 153));\n                } else {\n                    com.setBackground(new Color(29, 86, 127));\n                }\n            } else {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(50, 50, 50));\n                } else {\n                    com.setBackground(new Color(30, 30, 30));\n                }\n            }\n            com.setForeground(new Color(200, 200, 200));\n            setBorder(new EmptyBorder(0, 5, 0, 5));\n            if (alignment.containsKey(column)) {\n                setHorizontalAlignment(alignment.get(column));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","rate-limiting","bucket","bucket4j"],"answers":[{"comments":[{"owner":{"account_id":15644198,"reputation":25,"user_id":12062524,"display_name":"Oscar Besga Panel"},"score":0,"creation_date":1681831585,"post_id":76036679,"comment_id":134118598,"body_markdown":"Yep, that was my understanding. Thanks !","body":"Yep, that was my understanding. Thanks !"}],"tags":[],"owner":{"account_id":7743618,"reputation":24,"user_id":5862337,"display_name":"Vladimir Bukhtoyarov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681744556,"creation_date":1681744556,"answer_id":76036679,"question_id":76016472,"body_markdown":"Bucket4j does not provide direct ability to disable limits. So you need to find some trick that will behave aproximattely in desired way. \r\n\r\nFo example, you can reconfigure(via **replaceConfiguration**) the bucket with extremelly huge limit each time when you need to disbale limit. Bellow is example of effectivelly infinite limit that is enough for usual cases:\r\n\r\n     BucketConfiguration infiniteConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(Bandwidth.simple(Long.MAX_VALUE, Duration.ofNanos(Long.MAX_VALUE)).\r\n                    build();\r\n\r\nThen each time when you need to activate limits again, you should to reconfigure bucket again with regular configuration.","title":"Bucket4J enable or disable dynamically","body":"<p>Bucket4j does not provide direct ability to disable limits. So you need to find some trick that will behave aproximattely in desired way.</p>\n<p>Fo example, you can reconfigure(via <strong>replaceConfiguration</strong>) the bucket with extremelly huge limit each time when you need to disbale limit. Bellow is example of effectivelly infinite limit that is enough for usual cases:</p>\n<pre><code> BucketConfiguration infiniteConfiguration =  BucketConfiguration.builder().\n                addLimit(Bandwidth.simple(Long.MAX_VALUE, Duration.ofNanos(Long.MAX_VALUE)).\n                build();\n</code></pre>\n<p>Then each time when you need to activate limits again, you should to reconfigure bucket again with regular configuration.</p>\n"}],"owner":{"account_id":15644198,"reputation":25,"user_id":12062524,"display_name":"Oscar Besga Panel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76036679,"answer_count":1,"score":1,"last_activity_date":1681744556,"creation_date":1681484476,"question_id":76016472,"body_markdown":"I know than a rate limiter with Bucket4J  can be reconfigured dynamically,  but can it be dinamically enabled/disabled ?\r\n\r\nIn my case, if the configurations is 0 permits (per seconds), it means it&#39;s disabled. And internally I configure the bucket with a comical high limit rate.\r\n\r\nYou can see the code code bellow\r\n\r\n\r\n```\r\n    public void configure(int permitsPerSecond) {\r\n        if (permitsPerSecond &gt; 0) {\r\n            // Enable rate limit with bucker4j\r\n            Refill refill = Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L));\r\n            Bandwidth currentLimit = Bandwidth.classic(permitsPerSecond, refill);\r\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(currentLimit).\r\n                    build();\r\n            bucket.replaceConfiguration(currentConfiguration, TokensInheritanceStrategy.RESET);\r\n        } else {\r\n            // Disable rate limit with ludicrous high rate\r\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(Bandwidth.simple(999_999_999_999L, Duration.ofSeconds(1))).\r\n                    build();\r\n            bucket.replaceConfiguration(DEFAULT_CONFIGURATION,\r\n                    TokensInheritanceStrategy.RESET);\r\n        }\r\n    }\r\n\r\n    public boolean allowExecution() {\r\n        return bucket.tryConsume(1L);\r\n    }\r\n\r\n```\r\n\r\nI tried searching documentacion and code, expected a method like bucket.enable(boolean) and bucket.getLimit().getCapacty(), but no luck\r\n\r\nIs there another way I can disable dinamically the bucket ?\r\nAlso, can I access the current capacity of the bucket from the Bucket class ?\r\n\r\n\r\nThanks\r\n\r\n\r\n","title":"Bucket4J enable or disable dynamically","body":"<p>I know than a rate limiter with Bucket4J  can be reconfigured dynamically,  but can it be dinamically enabled/disabled ?</p>\n<p>In my case, if the configurations is 0 permits (per seconds), it means it's disabled. And internally I configure the bucket with a comical high limit rate.</p>\n<p>You can see the code code bellow</p>\n<pre><code>    public void configure(int permitsPerSecond) {\n        if (permitsPerSecond &gt; 0) {\n            // Enable rate limit with bucker4j\n            Refill refill = Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L));\n            Bandwidth currentLimit = Bandwidth.classic(permitsPerSecond, refill);\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\n                    addLimit(currentLimit).\n                    build();\n            bucket.replaceConfiguration(currentConfiguration, TokensInheritanceStrategy.RESET);\n        } else {\n            // Disable rate limit with ludicrous high rate\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\n                    addLimit(Bandwidth.simple(999_999_999_999L, Duration.ofSeconds(1))).\n                    build();\n            bucket.replaceConfiguration(DEFAULT_CONFIGURATION,\n                    TokensInheritanceStrategy.RESET);\n        }\n    }\n\n    public boolean allowExecution() {\n        return bucket.tryConsume(1L);\n    }\n\n</code></pre>\n<p>I tried searching documentacion and code, expected a method like bucket.enable(boolean) and bucket.getLimit().getCapacty(), but no luck</p>\n<p>Is there another way I can disable dinamically the bucket ?\nAlso, can I access the current capacity of the bucket from the Bucket class ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","heap-memory","jdbctemplate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1681742659,"post_id":76036355,"comment_id":134101819,"body_markdown":"Have you tried increasing the heap size?","body":"Have you tried increasing the heap size?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1681742678,"post_id":76036355,"comment_id":134101826,"body_markdown":"Or getting the data in chunks instead of all of them at the same time?","body":"Or getting the data in chunks instead of all of them at the same time?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681742703,"post_id":76036355,"comment_id":134101835,"body_markdown":"Yeah @FedericoklezCulloca , that was the first thing I tried. I increased it to 6GBs and still running out of memory.","body":"Yeah @FedericoklezCulloca , that was the first thing I tried. I increased it to 6GBs and still running out of memory."},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681742776,"post_id":76036355,"comment_id":134101867,"body_markdown":"@FedericoklezCulloca could you explain what you mean by getting the data in chunks?","body":"@FedericoklezCulloca could you explain what you mean by getting the data in chunks?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681742834,"post_id":76036355,"comment_id":134101889,"body_markdown":"you can certainly share a similar coding example.","body":"you can certainly share a similar coding example."},{"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1681743595,"post_id":76036355,"comment_id":134102095,"body_markdown":"Or you could use a key or some other `WHERE` filter to get _less_ data.","body":"Or you could use a key or some other <code>WHERE</code> filter to get <i>less</i> data."},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1681744015,"post_id":76036355,"comment_id":134102206,"body_markdown":"I mean, even if you can load 6GB of records into memory, what are you going to do with them? You say you have to use this data to fetch some related data from an API, are you expecting to send 6GB to an API?","body":"I mean, even if you can load 6GB of records into memory, what are you going to do with them? You say you have to use this data to fetch some related data from an API, are you expecting to send 6GB to an API?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681744220,"post_id":76036355,"comment_id":134102267,"body_markdown":"@user229044 I get the data then call the API one at a time in a for loop then once the data is retrieved from the API I ingest to the DataSource.","body":"@user229044 I get the data then call the API one at a time in a for loop then once the data is retrieved from the API I ingest to the DataSource."},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1681744351,"post_id":76036355,"comment_id":134102304,"body_markdown":"Are you doing that 272 million times? Or are you filtering down the data set and making dramatically fewer requests? Can you move that filtering into the database via a `where`?","body":"Are you doing that 272 million times? Or are you filtering down the data set and making dramatically fewer requests? Can you move that filtering into the database via a <code>where</code>?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681744764,"post_id":76036355,"comment_id":134102439,"body_markdown":"@user229044 I am not filtering the data down. I planned on calling the API that many times. I was tasked with getting all that data and the returned json in its own location in a new table. I might look more but I do not think I can filter using a ```WHERE```.","body":"@user229044 I am not filtering the data down. I planned on calling the API that many times. I was tasked with getting all that data and the returned json in its own location in a new table. I might look more but I do not think I can filter using a <code>WHERE</code>."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681743814,"creation_date":1681743814,"answer_id":76036567,"question_id":76036355,"body_markdown":"You don&#39;t need to load full dataset into memory, but instead you should process it on-the-fly:\r\n```\r\nclass JdbcTemplate {\r\n\tpublic void query(String sql, RowCallbackHandler rch) throws DataAccessException;\r\n}\r\n```\r\nE.g.:\r\n```\r\njdbcTemplate.query(getVinDataQuery, rs -&gt; {\r\n    // process each row...\r\n    final String id = rs.getString(&quot;id&quot;);\r\n    final String text = rs.getString(&quot;text&quot;);\r\n\r\n    doProcessRow(new Data(id, text));\r\n});\r\n\r\n```\r\n","title":"Is it possible to get a TON of data with springboot or should we try something else?","body":"<p>You don't need to load full dataset into memory, but instead you should process it on-the-fly:</p>\n<pre><code>class JdbcTemplate {\n    public void query(String sql, RowCallbackHandler rch) throws DataAccessException;\n}\n</code></pre>\n<p>E.g.:</p>\n<pre><code>jdbcTemplate.query(getVinDataQuery, rs -&gt; {\n    // process each row...\n    final String id = rs.getString(&quot;id&quot;);\n    final String text = rs.getString(&quot;text&quot;);\n\n    doProcessRow(new Data(id, text));\n});\n\n</code></pre>\n"}],"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681744065,"answer_count":1,"score":0,"last_activity_date":1681744555,"creation_date":1681742447,"question_id":76036355,"body_markdown":"I am running into a problem where I run out of memory trying to use a select query on a table with 232 million records. The specific field is a String with 17 characters. I am basically tasked with making a connection to a specific table get the selected data then use that data to call an API. Then ingest that to another table. I am, of course, running out of memory. Does anyone have any suggestions. I am keeping it general since I cannot share the codebase, but I am wondering if this design should work with such a large dataset. \r\n\r\n\r\nbelow is my runner.\r\n```\r\n @Override\r\n    public void run(ApplicationArguments args) {\r\n        final long startTimeAt = System.currentTimeMillis();\r\n\r\n        // List with all the data from AT database\r\n        List&lt;Data&gt; data = DataRepository.getData(); //ERROR\r\n        final long endTimeAt = System.currentTimeMillis();\r\n\r\n        log.info(&quot;AT data retrieval took time: {}&quot;, endTimeAt - startTimeAt);\r\n```\r\nThis is how I am getting data\r\n```\r\n@Override\r\n    public List&lt;Data&gt; getData() {\r\n        jdbcTemplate.setFetchSize(10000);\r\n        return jdbcTemplate.query(getVinDataQuery, new BeanPropertyRowMapper&lt;&gt;(Data.class));\r\n    }\r\n```\r\n\r\nIf it helps here is the error I am getting:  \r\n```java.lang.OutOfMemoryError: Java heap space```","title":"Is it possible to get a TON of data with springboot or should we try something else?","body":"<p>I am running into a problem where I run out of memory trying to use a select query on a table with 232 million records. The specific field is a String with 17 characters. I am basically tasked with making a connection to a specific table get the selected data then use that data to call an API. Then ingest that to another table. I am, of course, running out of memory. Does anyone have any suggestions. I am keeping it general since I cannot share the codebase, but I am wondering if this design should work with such a large dataset.</p>\n<p>below is my runner.</p>\n<pre><code> @Override\n    public void run(ApplicationArguments args) {\n        final long startTimeAt = System.currentTimeMillis();\n\n        // List with all the data from AT database\n        List&lt;Data&gt; data = DataRepository.getData(); //ERROR\n        final long endTimeAt = System.currentTimeMillis();\n\n        log.info(&quot;AT data retrieval took time: {}&quot;, endTimeAt - startTimeAt);\n</code></pre>\n<p>This is how I am getting data</p>\n<pre><code>@Override\n    public List&lt;Data&gt; getData() {\n        jdbcTemplate.setFetchSize(10000);\n        return jdbcTemplate.query(getVinDataQuery, new BeanPropertyRowMapper&lt;&gt;(Data.class));\n    }\n</code></pre>\n<p>If it helps here is the error I am getting:<br />\n<code>java.lang.OutOfMemoryError: Java heap space</code></p>\n"},{"tags":["java","amazon-web-services","session","policy","sts"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":1,"creation_date":1681744581,"post_id":76036606,"comment_id":134102382,"body_markdown":"&quot;Roles may not be assumed by root accounts.&quot;  Pretty straightforward, right?  You shouldn&#39;t use the AWS Root account for _anything_ other than setting up IAM users or SSO or whatnot,  and it shouldn&#39;t have API keys associated with it at all.","body":"&quot;Roles may not be assumed by root accounts.&quot;  Pretty straightforward, right?  You shouldn&#39;t use the AWS Root account for <i>anything</i> other than setting up IAM users or SSO or whatnot,  and it shouldn&#39;t have API keys associated with it at all."}],"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681744548,"creation_date":1681744037,"question_id":76036606,"body_markdown":"Here I am using  AWS security token service&#160;to create&#160;temporary security credentials&#160;with&#160;Spring MVC&#160;and&#160;Java&#160;app.\r\nWhile creating the temporary security credentials I am getting below exception.\r\n\r\nException : \r\n\r\n\r\n\r\n    \r\n    Exception in thread &quot;main&quot; com.amazonaws.services.securitytoken.model.AWSSecurityTokenServiceException: Roles may not be assumed by root accounts. (Service: AWSSecurityTokenService; Status Code: 403; Error Code: AccessDenied; Request ID: 205e48a6-263e-430f-9545-4991426e36cf; Proxy: null)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\r\n\r\nMy Java Code :\r\n\r\n    String clientRegion = &quot;us-east-1&quot;;\r\n    String roleARN = &quot;arn:aws:iam::&lt;ACCOUNT-HYPHENS&gt;:role/&lt;ROLE-NAME&gt;&quot;;\r\n    AWSCredentials credentials =  new BasicAWSCredentials(&quot;accessKey&quot;,\r\n    \t\t&quot;secretKey&quot;);\r\n    AWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n    \r\n    AssumeRoleRequest assumeRequest = new AssumeRoleRequest()\r\n    \t\t.withRoleArn(roleARN)\r\n    \t\t.withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\r\n    \r\n    AWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\r\n    \t\t.withRegion(clientRegion).withCredentials(credentialsProvider).build();\r\n    \r\n    AssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\r\n    System.out.println(result);\r\n\r\n","title":"How to create&#160;AWS temporary security credentials in Java","body":"<p>Here I am using  AWS security token service to create temporary security credentials with Spring MVC and Java app.\nWhile creating the temporary security credentials I am getting below exception.</p>\n<p>Exception :</p>\n<pre><code>Exception in thread &quot;main&quot; com.amazonaws.services.securitytoken.model.AWSSecurityTokenServiceException: Roles may not be assumed by root accounts. (Service: AWSSecurityTokenService; Status Code: 403; Error Code: AccessDenied; Request ID: 205e48a6-263e-430f-9545-4991426e36cf; Proxy: null)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\n</code></pre>\n<p>My Java Code :</p>\n<pre><code>String clientRegion = &quot;us-east-1&quot;;\nString roleARN = &quot;arn:aws:iam::&lt;ACCOUNT-HYPHENS&gt;:role/&lt;ROLE-NAME&gt;&quot;;\nAWSCredentials credentials =  new BasicAWSCredentials(&quot;accessKey&quot;,\n        &quot;secretKey&quot;);\nAWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\nAssumeRoleRequest assumeRequest = new AssumeRoleRequest()\n        .withRoleArn(roleARN)\n        .withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\n\nAWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\n        .withRegion(clientRegion).withCredentials(credentialsProvider).build();\n\nAssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":["java","arrays","pointers"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1681742652,"post_id":76036330,"comment_id":134101814,"body_markdown":"So, you want to pass a kind of &#39;sub-array&#39; to the method.  Inside the method, index [0] may point to any index within the original array.\nI don&#39;t think that is possible in Java.\nYou have to pass the array object itself, with an offset from where you want to write to.\nOr\nYou have to create a new array, use\n\n```System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)```\n\nTo create a different array with subset of elements, and then pass that array.","body":"So, you want to pass a kind of &#39;sub-array&#39; to the method.  Inside the method, index [0] may point to any index within the original array. I don&#39;t think that is possible in Java. You have to pass the array object itself, with an offset from where you want to write to. Or You have to create a new array, use  <code>System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code>  To create a different array with subset of elements, and then pass that array."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681742972,"creation_date":1681742972,"answer_id":76036437,"question_id":76036330,"body_markdown":"There is not.\r\n\r\nYou have a few options:\r\n\r\n## Use `java.nio.buffer.ByteBuffer`\r\n\r\nByteBuffer is an abstract concept; they are a lot like arrays in that they are fixed size and represent bytes. Unlike `byte[]`, it has a meaningful API, and unlike `byte[]`, it has baked in tracking (as in, it has a &#39;position&#39;, unlike byte arrays which only have a length). In fact, very awesome tracking, with marks, resets, and limits. In practice, a bytebuffers consist either of &#39;a light object wrapper around an array that contains the data&#39; or &#39;direct access to a memory mapped I/O thing&#39;.\r\n\r\nIn fact, ByteBuffer __already has__ write-int-to-byte-array-as-little-endian functionality!\r\n\r\n```\r\nbyte[] buffer = new byte[512];\r\nByteBuffer bb = ByteBuffer.wrap(buffer).order(ByteOrder.LITTLE_ENDIAN);\r\nbb.position(2);\r\nbb.putInt(3);\r\n```\r\n\r\nThere is no further need for a `uint32ToBuffer` method at this point; bytebuffer already has it. The `putInt(3)` call:\r\n\r\n* Writes &#39;3&#39; as 32-bit integer into the bytes at position `[2]`, `[3]`, `[4]`, and `[5]` (because the bb&#39;s position was &#39;2&#39;; it&#39;s a relative write). Specifically, it writes 3/0/0/0 because the byte order of the buffer object is `LITTLE_ENDIAN`. By default they are big endian and would have written 0/0/0/3. Not sure why you want little endian, that is a very outdated concept at this point, only x86/x64 chips still use it: The internet tends to be big endian, and ARM chips which are at this point quite a bit more popular are too. If you are designing the protocol I strongly advise you to rewrite things to be big endian instead.\r\n* Advances the position of the bb to 6.\r\n\r\nThere&#39;s also an absolute write:\r\n\r\n```\r\nbb.putInt(2, 3);\r\n```\r\n\r\nThis has the same effect (writes `3` to `buffer[2]`, and `0` to `buffer[3]` through `buffer[5]`), but doesn&#39;t depend on the buffer&#39;s position value nor modifies it.\r\n\r\nI strongly recommend you use this here and for everything else you&#39;re doing that involves &#39;writing little-endian ints into a byte array&#39;. [The ByteBuffer API has probably just about everything you are currently writing utility methods for](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/ByteBuffer.html).\r\n\r\n## Just pass it along\r\n\r\nAlternatively, pass along the position; this is _very_ common in java APIs:\r\n\r\n```\r\nprivate void uint32ToBuffer(int val, byte[] buffer, int pos) {\r\n    buffer[pos] = (byte)val;\r\n    buffer[pos + 1] = (byte)(val &gt;&gt;&gt; 8);\r\n    buffer[pos + 2] = (byte)(val &gt;&gt;&gt; 16);\r\n    buffer[pos + 3] = (byte)(val &gt;&gt;&gt; 24);\r\n}\r\n\r\n// ... and if you want, for convenience:\r\nprivate void uint32ToBuffer(int val, byte[] buffer) {\r\n  uint32ToBuffer(val, buffer, 0);\r\n}\r\n```\r\n\r\nThere is no way in java to create arrays that are subslices of other arrays; array is extremely basic and supports absolutely nothing that could possibly count as &#39;fancy&#39;. Java also has no pointer arithmetic of any sort, thus, making a reference that points 2 slots into a  byte array just isn&#39;t a thing. In C land, a byte array is essentially &#39;just a pointer&#39; and you have no idea how long it is. In java, because buffer overflows are a rather common security issue, that concept __does not exist in any way__ and that is intentional. byte arrays really are their own data structure and notably know both that they are, in fact, a byte array, and how long they are. Java makes it impossible (unless you write some hacked class files _and_ disable the JVM&#39;s class verifier) to program a buffer overrun issue. To do that, pointers __cannot__ be modified in that fashion (you can&#39;t &#39;add 2&#39; to a pointer in java).\r\n","title":"How to make pointer like object to the middle of an array","body":"<p>There is not.</p>\n<p>You have a few options:</p>\n<h2>Use <code>java.nio.buffer.ByteBuffer</code></h2>\n<p>ByteBuffer is an abstract concept; they are a lot like arrays in that they are fixed size and represent bytes. Unlike <code>byte[]</code>, it has a meaningful API, and unlike <code>byte[]</code>, it has baked in tracking (as in, it has a 'position', unlike byte arrays which only have a length). In fact, very awesome tracking, with marks, resets, and limits. In practice, a bytebuffers consist either of 'a light object wrapper around an array that contains the data' or 'direct access to a memory mapped I/O thing'.</p>\n<p>In fact, ByteBuffer <strong>already has</strong> write-int-to-byte-array-as-little-endian functionality!</p>\n<pre><code>byte[] buffer = new byte[512];\nByteBuffer bb = ByteBuffer.wrap(buffer).order(ByteOrder.LITTLE_ENDIAN);\nbb.position(2);\nbb.putInt(3);\n</code></pre>\n<p>There is no further need for a <code>uint32ToBuffer</code> method at this point; bytebuffer already has it. The <code>putInt(3)</code> call:</p>\n<ul>\n<li>Writes '3' as 32-bit integer into the bytes at position <code>[2]</code>, <code>[3]</code>, <code>[4]</code>, and <code>[5]</code> (because the bb's position was '2'; it's a relative write). Specifically, it writes 3/0/0/0 because the byte order of the buffer object is <code>LITTLE_ENDIAN</code>. By default they are big endian and would have written 0/0/0/3. Not sure why you want little endian, that is a very outdated concept at this point, only x86/x64 chips still use it: The internet tends to be big endian, and ARM chips which are at this point quite a bit more popular are too. If you are designing the protocol I strongly advise you to rewrite things to be big endian instead.</li>\n<li>Advances the position of the bb to 6.</li>\n</ul>\n<p>There's also an absolute write:</p>\n<pre><code>bb.putInt(2, 3);\n</code></pre>\n<p>This has the same effect (writes <code>3</code> to <code>buffer[2]</code>, and <code>0</code> to <code>buffer[3]</code> through <code>buffer[5]</code>), but doesn't depend on the buffer's position value nor modifies it.</p>\n<p>I strongly recommend you use this here and for everything else you're doing that involves 'writing little-endian ints into a byte array'. <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">The ByteBuffer API has probably just about everything you are currently writing utility methods for</a>.</p>\n<h2>Just pass it along</h2>\n<p>Alternatively, pass along the position; this is <em>very</em> common in java APIs:</p>\n<pre><code>private void uint32ToBuffer(int val, byte[] buffer, int pos) {\n    buffer[pos] = (byte)val;\n    buffer[pos + 1] = (byte)(val &gt;&gt;&gt; 8);\n    buffer[pos + 2] = (byte)(val &gt;&gt;&gt; 16);\n    buffer[pos + 3] = (byte)(val &gt;&gt;&gt; 24);\n}\n\n// ... and if you want, for convenience:\nprivate void uint32ToBuffer(int val, byte[] buffer) {\n  uint32ToBuffer(val, buffer, 0);\n}\n</code></pre>\n<p>There is no way in java to create arrays that are subslices of other arrays; array is extremely basic and supports absolutely nothing that could possibly count as 'fancy'. Java also has no pointer arithmetic of any sort, thus, making a reference that points 2 slots into a  byte array just isn't a thing. In C land, a byte array is essentially 'just a pointer' and you have no idea how long it is. In java, because buffer overflows are a rather common security issue, that concept <strong>does not exist in any way</strong> and that is intentional. byte arrays really are their own data structure and notably know both that they are, in fact, a byte array, and how long they are. Java makes it impossible (unless you write some hacked class files <em>and</em> disable the JVM's class verifier) to program a buffer overrun issue. To do that, pointers <strong>cannot</strong> be modified in that fashion (you can't 'add 2' to a pointer in java).</p>\n"}],"owner":{"account_id":5061328,"reputation":543,"user_id":4062818,"display_name":"VojtaK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036437,"answer_count":1,"score":0,"last_activity_date":1681743685,"creation_date":1681742232,"question_id":76036330,"body_markdown":"I have a byte buffer and would like to have identifier that points to the first element, which shall be written that does not necessary have to be the first element of the array itself. \r\n\r\n```\r\n     private void uint32ToBuffer(int val, byte[] buffer)\r\n    {\r\n        buffer[0] = (byte)val;\r\n        buffer[1] = (byte)(val &gt;&gt;&gt; 8);\r\n        buffer[2] = (byte)(val &gt;&gt;&gt; 16);\r\n        buffer[3] = (byte)(val &gt;&gt;&gt; 24);\r\n    }\r\n```\r\nI would like to do\r\n\r\n```\r\nbyte[] buffer = new byte[512];\r\nuint32ToBuffer(3, &amp;buffer[2]);\r\n\r\n```\r\n\r\nbut apparently it does not work. Is it somehow possible to do this without letting  the function `uint32ToBuffer` know the initial position from which it is supposed to write to the array to replicate pointer arithmetic logic from `C` like languages? ","title":"How to make pointer like object to the middle of an array","body":"<p>I have a byte buffer and would like to have identifier that points to the first element, which shall be written that does not necessary have to be the first element of the array itself.</p>\n<pre><code>     private void uint32ToBuffer(int val, byte[] buffer)\n    {\n        buffer[0] = (byte)val;\n        buffer[1] = (byte)(val &gt;&gt;&gt; 8);\n        buffer[2] = (byte)(val &gt;&gt;&gt; 16);\n        buffer[3] = (byte)(val &gt;&gt;&gt; 24);\n    }\n</code></pre>\n<p>I would like to do</p>\n<pre><code>byte[] buffer = new byte[512];\nuint32ToBuffer(3, &amp;buffer[2]);\n\n</code></pre>\n<p>but apparently it does not work. Is it somehow possible to do this without letting  the function <code>uint32ToBuffer</code> know the initial position from which it is supposed to write to the array to replicate pointer arithmetic logic from <code>C</code> like languages?</p>\n"},{"tags":["python","java","multithreading"],"comments":[{"owner":{"account_id":16352156,"reputation":397,"user_id":11810358,"display_name":"Jorge Ruiz G&#243;mez"},"score":1,"creation_date":1681721924,"post_id":76033166,"comment_id":134096555,"body_markdown":"You can use a shared-memory region (posix-ipc or nmap) but i preffer OS Sockets as they are multiplatform and widely supported.\n\nAn alternative would be to use pub/sub message-queue system, but this usually requires a broker (MQTT, RabbitMQ, Kafka)","body":"You can use a shared-memory region (posix-ipc or nmap) but i preffer OS Sockets as they are multiplatform and widely supported.  An alternative would be to use pub/sub message-queue system, but this usually requires a broker (MQTT, RabbitMQ, Kafka)"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1681742124,"post_id":76033166,"comment_id":134101679,"body_markdown":"Does this answer your question? [How to continues send data from backend to frontend when something changes](https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes\">How to continues send data from backend to frontend when something changes</a>"},{"owner":{"account_id":3672073,"reputation":7124,"user_id":3059024,"accept_rate":83,"display_name":"CiaranWelsh"},"score":0,"creation_date":1681889529,"post_id":76033166,"comment_id":134127938,"body_markdown":"Certainly helps, thanks!","body":"Certainly helps, thanks!"}],"answers":[{"comments":[{"owner":{"account_id":3672073,"reputation":7124,"user_id":3059024,"accept_rate":83,"display_name":"CiaranWelsh"},"score":0,"creation_date":1681722573,"post_id":76033398,"comment_id":134096710,"body_markdown":"Very nice, thanks for the suggestion - I think this will work. Do you know of a concrete example/project that I can take a look at?","body":"Very nice, thanks for the suggestion - I think this will work. Do you know of a concrete example/project that I can take a look at?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681727829,"post_id":76033398,"comment_id":134097920,"body_markdown":"I can’t find an example that ties it all together, but I have added some detail to the answer.","body":"I can’t find an example that ties it all together, but I have added some detail to the answer."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681743539,"creation_date":1681722064,"answer_id":76033398,"question_id":76033166,"body_markdown":"I suggest that you use an http-based callback mechanism.\r\n\r\nExpose an http post endpoint in the Python application that accepts a call indicating that the Java service has completed its work.\r\n\r\nJava calls Python back to indicate completion and pass back results. Usually the initial call that Python makes to Java includes info to identify the call and this identifier is passed back in the callback allowing Python to tie everything together.\r\n\r\nThe advantage of this approach is that, because it uses http for all integration, it is not tied to the implementation technology on either end. It allows scalability, location independence and a microservice type architecture.\r\n\r\n**Implementation notes**\r\n\r\nThe payload in initial call from Python to Java must include a url where the Python http server is running, for Java to call Python back on when it’s completed the work. For example the following request body (if we are POSTing to Java):\r\n\r\n    {\r\n        “callbackUrl”: “http://10.0.0.2:8000/callback?job_id=123”,\r\n        “foo”: “bar”\r\n    }\r\n\r\nWhen complete, Java (java.net.http.HttpClient or Spring RestTemplate) POSTs the results to the callbackUrl provided and identifies the job (if required.)\r\n\r\n    POST http://10.0.0.2:8000/callback?job_id=123\r\n    {\r\n        “resultFoo”: true,\r\n        “resultBar”: 10\r\n    }\r\n\r\nIn Python create a function to accept the callback, eg with [flask][1]\r\n\r\n    @api.route(&#39;/callback&#39;, methods=[&#39;POST&#39;])\r\n    def post_callback():\r\n        \r\n      jobId = request.args.get(&#39;job_id&#39;)\r\n      #link back to original call with JobId\r\n\r\n      request_data = request.get_json()\r\n      # used the posted body data, eg request_data.resultFoo\r\n    \r\n      return json.dumps({&quot;success&quot;: True}), 201)\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/processing-incoming-request-data-in-flask\r\n\r\n\r\n","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I suggest that you use an http-based callback mechanism.</p>\n<p>Expose an http post endpoint in the Python application that accepts a call indicating that the Java service has completed its work.</p>\n<p>Java calls Python back to indicate completion and pass back results. Usually the initial call that Python makes to Java includes info to identify the call and this identifier is passed back in the callback allowing Python to tie everything together.</p>\n<p>The advantage of this approach is that, because it uses http for all integration, it is not tied to the implementation technology on either end. It allows scalability, location independence and a microservice type architecture.</p>\n<p><strong>Implementation notes</strong></p>\n<p>The payload in initial call from Python to Java must include a url where the Python http server is running, for Java to call Python back on when it’s completed the work. For example the following request body (if we are POSTing to Java):</p>\n<pre><code>{\n    “callbackUrl”: “http://10.0.0.2:8000/callback?job_id=123”,\n    “foo”: “bar”\n}\n</code></pre>\n<p>When complete, Java (java.net.http.HttpClient or Spring RestTemplate) POSTs the results to the callbackUrl provided and identifies the job (if required.)</p>\n<pre><code>POST http://10.0.0.2:8000/callback?job_id=123\n{\n    “resultFoo”: true,\n    “resultBar”: 10\n}\n</code></pre>\n<p>In Python create a function to accept the callback, eg with <a href=\"https://www.digitalocean.com/community/tutorials/processing-incoming-request-data-in-flask\" rel=\"nofollow noreferrer\">flask</a></p>\n<pre><code>@api.route('/callback', methods=['POST'])\ndef post_callback():\n    \n  jobId = request.args.get('job_id')\n  #link back to original call with JobId\n\n  request_data = request.get_json()\n  # used the posted body data, eg request_data.resultFoo\n\n  return json.dumps({&quot;success&quot;: True}), 201)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681742090,"creation_date":1681742090,"answer_id":76036303,"question_id":76033166,"body_markdown":"I think that this is a very common question that should be better formulated as &quot;how can backend notify frontend on some changes&quot;. So this question has been asked before. Here is one of those questions with good answer to it: [How to continues send data from backend to frontend when something changes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I think that this is a very common question that should be better formulated as &quot;how can backend notify frontend on some changes&quot;. So this question has been asked before. Here is one of those questions with good answer to it: <a href=\"https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235\">How to continues send data from backend to frontend when something changes</a></p>\n"}],"owner":{"account_id":3672073,"reputation":7124,"user_id":3059024,"accept_rate":83,"display_name":"CiaranWelsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76033398,"answer_count":2,"score":0,"last_activity_date":1681743539,"creation_date":1681720448,"question_id":76033166,"body_markdown":"I have a server written in Java. It accepts http requests as commands to do work. The work takes time. \r\n\r\nWe use Java in the backend and Python in the front end sending the http requests and controlling the work done. In Python, there exists a`threading.Event` which allows communication between threads. What I would like to do might be difficult because of our language choice, but is it possible to have the same type communication between java and Python? \r\n\r\nThat is, Java creates the event and provides a pointer to it which can be accessed and `set` by Python? I&#39;ve used this pattern between C++ and Python, but I guess that&#39;s easier because Python is written in C. \r\n\r\nAny help or pointers to resources will be welcome, thanks.","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I have a server written in Java. It accepts http requests as commands to do work. The work takes time.</p>\n<p>We use Java in the backend and Python in the front end sending the http requests and controlling the work done. In Python, there exists a<code>threading.Event</code> which allows communication between threads. What I would like to do might be difficult because of our language choice, but is it possible to have the same type communication between java and Python?</p>\n<p>That is, Java creates the event and provides a pointer to it which can be accessed and <code>set</code> by Python? I've used this pattern between C++ and Python, but I guess that's easier because Python is written in C.</p>\n<p>Any help or pointers to resources will be welcome, thanks.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1462979742,"post_id":37155595,"comment_id":61868828,"body_markdown":"Is this happening before your Java function is called, or after? Does your &quot;Input: &quot; log message show up in the logs?","body":"Is this happening before your Java function is called, or after? Does your &quot;Input: &quot; log message show up in the logs?"}],"answers":[{"comments":[{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":6,"creation_date":1519644812,"post_id":37168362,"comment_id":84979523,"body_markdown":"&quot;Either send a raw string from API Gateway&quot;: how is this done? Which &quot;template output&quot; does the answer refer to?","body":"&quot;Either send a raw string from API Gateway&quot;: how is this done? Which &quot;template output&quot; does the answer refer to?"}],"tags":[],"owner":{"account_id":1124783,"reputation":4023,"user_id":1112317,"display_name":"RyanG"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1462984000,"creation_date":1462984000,"answer_id":37168362,"question_id":37155595,"body_markdown":"This is an error message during Lambda deserialization.\r\n\r\nYour API Gateway mapping template is sending a JSON object, but your handler is expecting a String. Either send a raw string from API Gateway, or update your handler to use a POJO corresponding to your template output.\r\n\r\ni.e.\r\n\r\n    public class MyPojo {\r\n       private String input;\r\n       public String getInput() { return input; }\r\n       public void setInput(String input) { this.input = input; }\r\n    }\r\n\r\nSee:\r\nhttp://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>This is an error message during Lambda deserialization.</p>\n\n<p>Your API Gateway mapping template is sending a JSON object, but your handler is expecting a String. Either send a raw string from API Gateway, or update your handler to use a POJO corresponding to your template output.</p>\n\n<p>i.e.</p>\n\n<pre><code>public class MyPojo {\n   private String input;\n   public String getInput() { return input; }\n   public void setInput(String input) { this.input = input; }\n}\n</code></pre>\n\n<p>See:\n<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html</a></p>\n"},{"comments":[{"owner":{"account_id":7717417,"reputation":4037,"user_id":5844686,"display_name":"Big Pumpkin"},"score":1,"creation_date":1610866527,"post_id":54801594,"comment_id":116263999,"body_markdown":"I fell into the same trap of using String when following https://github.com/awsdocs/aws-lambda-developer-guide/blob/main/sample-apps/java-basic/src/main/java/example/HandlerString.java","body":"I fell into the same trap of using String when following <a href=\"https://github.com/awsdocs/aws-lambda-developer-guide/blob/main/sample-apps/java-basic/src/main/java/example/HandlerString.java\" rel=\"nofollow noreferrer\">github.com/awsdocs/aws-lambda-developer-guide/blob/main/&hellip;</a>"},{"owner":{"account_id":146328,"reputation":3837,"user_id":356708,"display_name":"Matt"},"score":4,"creation_date":1611345316,"post_id":54801594,"comment_id":116431377,"body_markdown":"This is almost exactly the problem I was facing, ended up using:\nimplements RequestHandler&lt;Map&lt;String, Object&gt;, String&gt;\n\ninstead of the example I copied which had a Map&lt;String, String&gt;","body":"This is almost exactly the problem I was facing, ended up using: implements RequestHandler&lt;Map&lt;String, Object&gt;, String&gt;  instead of the example I copied which had a Map&lt;String, String&gt;"},{"owner":{"account_id":3447200,"reputation":534,"user_id":2887729,"accept_rate":100,"display_name":"Shrinath"},"score":0,"creation_date":1611560406,"post_id":54801594,"comment_id":116480779,"body_markdown":"Changing the data type from String to Object worked for me as well. Thank you!","body":"Changing the data type from String to Object worked for me as well. Thank you!"},{"owner":{"account_id":536658,"reputation":6119,"user_id":905544,"display_name":"Abel ANEIROS"},"score":0,"creation_date":1621527190,"post_id":54801594,"comment_id":119529230,"body_markdown":"didn&#39;t work for me I got &quot;Can not deserialize instance of java.lang.String out of START_OBJECT token&quot;","body":"didn&#39;t work for me I got &quot;Can not deserialize instance of java.lang.String out of START_OBJECT token&quot;"},{"owner":{"account_id":295561,"reputation":906,"user_id":3894472,"display_name":"Anurag"},"score":0,"creation_date":1681743518,"post_id":54801594,"comment_id":134102071,"body_markdown":"This works. However, parsing an object of Object class will require a lot of work. I have provided an improvement in a separate answer to use AWS provided Event classes.","body":"This works. However, parsing an object of Object class will require a lot of work. I have provided an improvement in a separate answer to use AWS provided Event classes."}],"tags":[],"owner":{"account_id":4512173,"reputation":1950,"user_id":3667967,"display_name":"skvp"},"comment_count":5,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1619771003,"creation_date":1550734570,"answer_id":54801594,"question_id":37155595,"body_markdown":"It worked for me in all the scenarios when I change the type of input argument from **String to Object**.\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;Object, String&gt; {\r\n\r\n      @Override\r\n      public String handleRequest(Object input, Context context) {\r\n        String data= input != null ? input.toString() : &quot;{}&quot;;\r\n        context.getLogger().log(&quot;Input: &quot; + data);\r\n        return &quot;Test completed.&quot;+data;\r\n      }\r\n    }\r\n\r\n************************** Added on 12 March 2021 ***************************\r\n\r\nAfter working on a couple of Lambda implementations, I realized that the input argument is nothing but a plain string representation of a JSON structure or a Map&lt;String, Object&gt; representation.\r\n For the map representation, Key is the name of the attribute, and the value is (1) a String if it is a primitive value or (2) a List if it has multiple values, is another Map&lt;String, Object&gt; or another JSON structure. You can recover the JSON representation with:\r\n\r\n       \tif(input instanceof String)\r\n    \t{\r\n    \t\tString lambdaInputJsonStr = (String)input;\r\n    \t}\r\n    \telse if(input instanceof Map)\r\n    \t{\r\n    \t\tString lambdaInputJsonStr = gson.toJson((Map)input);\r\n        }\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>It worked for me in all the scenarios when I change the type of input argument from <strong>String to Object</strong>.</p>\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;Object, String&gt; {\n\n  @Override\n  public String handleRequest(Object input, Context context) {\n    String data= input != null ? input.toString() : &quot;{}&quot;;\n    context.getLogger().log(&quot;Input: &quot; + data);\n    return &quot;Test completed.&quot;+data;\n  }\n}\n</code></pre>\n<p>************************** Added on 12 March 2021 ***************************</p>\n<p>After working on a couple of Lambda implementations, I realized that the input argument is nothing but a plain string representation of a JSON structure or a Map&lt;String, Object&gt; representation.\nFor the map representation, Key is the name of the attribute, and the value is (1) a String if it is a primitive value or (2) a List if it has multiple values, is another Map&lt;String, Object&gt; or another JSON structure. You can recover the JSON representation with:</p>\n<pre><code>    if(input instanceof String)\n    {\n        String lambdaInputJsonStr = (String)input;\n    }\n    else if(input instanceof Map)\n    {\n        String lambdaInputJsonStr = gson.toJson((Map)input);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1571863445,"creation_date":1571863445,"answer_id":58530751,"question_id":37155595,"body_markdown":"I tried with Object as parameter type as well as Pojo class and it worked in certain scenarios but while making a request from browser with API gateway URL, it failed and gave exact above error. Spent at least 2-3 hours to figure out that correct Signature, which would work in most cases is below. However this is for hello world example, you would obviously customize your input as per your requirement. \r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;***Map&lt;String,Object&gt;,***  Customer&gt; {\t\r\n    \t@Override\r\n    \tpublic Customer handleRequest(***Map&lt;String,Object&gt; input***, Context context) {\r\n    \t\t\t\t\t\t\r\n    \t}\r\n    }","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>I tried with Object as parameter type as well as Pojo class and it worked in certain scenarios but while making a request from browser with API gateway URL, it failed and gave exact above error. Spent at least 2-3 hours to figure out that correct Signature, which would work in most cases is below. However this is for hello world example, you would obviously customize your input as per your requirement. </p>\n\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;***Map&lt;String,Object&gt;,***  Customer&gt; { \n    @Override\n    public Customer handleRequest(***Map&lt;String,Object&gt; input***, Context context) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023131,"reputation":143,"user_id":2563685,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606616251,"creation_date":1606616251,"answer_id":65056406,"question_id":37155595,"body_markdown":"InputStream should be able to handle any input.\r\n\r\nReference: \r\nhttps://docs.aws.amazon.com/lambda/latest/dg/java-handler.html \r\n&gt;InputStream – The event is any JSON type. The runtime passes a byte stream of the document to the handler without modification. You deserialize the input and write output to an output stream.\r\n\r\n```java\r\npublic class Handler implements RequestHandler&lt;InputStream, String&gt; {\r\n@Override\r\n    public String handleRequest(InputStream event, Context context) {\r\n```","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>InputStream should be able to handle any input.</p>\n<p>Reference:\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html</a></p>\n<blockquote>\n<p>InputStream – The event is any JSON type. The runtime passes a byte stream of the document to the handler without modification. You deserialize the input and write output to an output stream.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Handler implements RequestHandler&lt;InputStream, String&gt; {\n@Override\n    public String handleRequest(InputStream event, Context context) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4037,"user_id":5844686,"display_name":"Big Pumpkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610991596,"creation_date":1610990980,"answer_id":65779312,"question_id":37155595,"body_markdown":"The error message is trying to say that &quot;Since `input` is a String, I am expecting it to start with a quote `&quot;`. But I am seeing a `{` instead&quot;. That is why changing `input` type to `Object`, `Map&lt;String,Object&gt;` or `MyPojo` made the parser happy. \r\n\r\nIf `input` should truly be a String, the payload value itself must start with a `&quot;`. For instance, `String payload = &quot;\\&quot;string input\\&quot;&quot;`.","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>The error message is trying to say that &quot;Since <code>input</code> is a String, I am expecting it to start with a quote <code>&quot;</code>. But I am seeing a <code>{</code> instead&quot;. That is why changing <code>input</code> type to <code>Object</code>, <code>Map&lt;String,Object&gt;</code> or <code>MyPojo</code> made the parser happy.</p>\n<p>If <code>input</code> should truly be a String, the payload value itself must start with a <code>&quot;</code>. For instance, <code>String payload = &quot;\\&quot;string input\\&quot;&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3934317,"reputation":1,"user_id":3251346,"display_name":"Francisco Zuluaga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647400995,"creation_date":1647400995,"answer_id":71491467,"question_id":37155595,"body_markdown":"As mentioned by others, the error comes up because the JSON request cannot be casted to a String object. You can implement your handler using a custom input parameter class, for example:\r\n\r\n```\r\n    public class ZinusoftLambdaHandler  implements \r\n     RequestHandler&lt;CustomGetEventInput,String&gt; {\r\n\t\tpublic String handleRequest(CustomGetEventInput input, Context context) {\r\n\t\tcontext.getLogger().log(&quot;Hello World from ZinusoftLambdaHandler : \r\n        &quot;+input.getValue());\r\n\t    return &quot;Response from lambda &quot;+input.getValue();\r\n\t }\r\n   }\r\n```\r\nYour CustomGetEventInput class is just a simple POJO class. \r\n\r\nIn order to invoke a POST method in the API, you need to create a Model and add it to the request body in the Method Request section of the API definition. The json definition of the model needs to match the definition of the CustomGetEventInput class. \r\n\r\nFor example\r\n\r\n```\r\npublic class CustomEventInput {\r\n\tprivate List&lt;Integer&gt; values;\r\n\r\n\tpublic CustomEventInput() {\t\t\r\n\t}\r\n\t\r\n\tpublic CustomEventInput(List&lt;Integer&gt; input) {\r\n\t\tvalues = input;\r\n\t}\r\n\t\r\n\tpublic List&lt;Integer&gt; getValues() {\r\n\t\treturn values;\r\n\t}\r\n\r\n\tpublic void setValues(List&lt;Integer&gt; values) {\r\n\t\tthis.values = values;\r\n\t}\r\n}\r\n```\r\nJSON Model\r\n\r\n```\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;title&quot;: &quot;CustomEventInput&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;values&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: { &quot;type&quot;: &quot;integer&quot; }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFor a GET method you need to define a URL Query String with the name of the parameters that you are passing to the lambda function.","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>As mentioned by others, the error comes up because the JSON request cannot be casted to a String object. You can implement your handler using a custom input parameter class, for example:</p>\n<pre><code>    public class ZinusoftLambdaHandler  implements \n     RequestHandler&lt;CustomGetEventInput,String&gt; {\n        public String handleRequest(CustomGetEventInput input, Context context) {\n        context.getLogger().log(&quot;Hello World from ZinusoftLambdaHandler : \n        &quot;+input.getValue());\n        return &quot;Response from lambda &quot;+input.getValue();\n     }\n   }\n</code></pre>\n<p>Your CustomGetEventInput class is just a simple POJO class.</p>\n<p>In order to invoke a POST method in the API, you need to create a Model and add it to the request body in the Method Request section of the API definition. The json definition of the model needs to match the definition of the CustomGetEventInput class.</p>\n<p>For example</p>\n<pre><code>public class CustomEventInput {\n    private List&lt;Integer&gt; values;\n\n    public CustomEventInput() {     \n    }\n    \n    public CustomEventInput(List&lt;Integer&gt; input) {\n        values = input;\n    }\n    \n    public List&lt;Integer&gt; getValues() {\n        return values;\n    }\n\n    public void setValues(List&lt;Integer&gt; values) {\n        this.values = values;\n    }\n}\n</code></pre>\n<p>JSON Model</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;title&quot;: &quot;CustomEventInput&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;values&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;items&quot;: { &quot;type&quot;: &quot;integer&quot; }\n    }\n  }\n}\n</code></pre>\n<p>For a GET method you need to define a URL Query String with the name of the parameters that you are passing to the lambda function.</p>\n"},{"tags":[],"owner":{"account_id":295561,"reputation":906,"user_id":3894472,"display_name":"Anurag"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681743265,"creation_date":1681743265,"answer_id":76036473,"question_id":37155595,"body_markdown":"Instead of using Object class, we can use AWS provided event classes like APIGatewayProxyRequestEvent, S3Event, SNSEvent etc. This will save a lot of effort when you need to look into event attributes like api query parameters, api method etc.\r\n\r\nYou will have to include the following maven dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>Instead of using Object class, we can use AWS provided event classes like APIGatewayProxyRequestEvent, S3Event, SNSEvent etc. This will save a lot of effort when you need to look into event attributes like api query parameters, api method etc.</p>\n<p>You will have to include the following maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n        &lt;version&gt;3.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29764,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":54801594,"answer_count":7,"score":36,"last_activity_date":1681743265,"creation_date":1462950935,"question_id":37155595,"body_markdown":"I have made a Lambda Function and I want to access it via URL with a help of the API Gateway. \r\n\r\nI have set it all up, I have also created an `application/json` body mapping template in API Gateway looking like this: \r\n\r\n    { \r\n        &quot;input&quot;: &quot;$input.params(&#39;input&#39;)&quot;,\r\n    }\r\n\r\nAnd then I am triggering HTTP GET request that looks like this:\r\n\r\n    https://dmquh95ckh.execute-api.eu-west-1.amazonaws.com/prod/OtoTestFunction?input=test\r\n\r\nMy Java handler class looks like this:\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;String, String&gt; {\r\n    \r\n        @Override\r\n        public String handleRequest(String input, Context context) {\r\n            context.getLogger().log(&quot;Input: &quot; + input);\r\n            return &quot;Test completed.&quot;+input;\r\n        }\r\n    }\r\n\r\nAnd this is the full error message:\r\n\r\n    {\r\n      &quot;errorMessage&quot;: &quot;An error occurred during JSON parsing&quot;,\r\n      &quot;errorType&quot;: &quot;java.lang.RuntimeException&quot;,\r\n      &quot;stackTrace&quot;: [],\r\n      &quot;cause&quot;: {\r\n        &quot;errorMessage&quot;: &quot;com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]&quot;,\r\n        &quot;errorType&quot;: &quot;java.io.UncheckedIOException&quot;,\r\n        &quot;stackTrace&quot;: [],\r\n        &quot;cause&quot;: {\r\n          &quot;errorMessage&quot;: &quot;Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]&quot;,\r\n          &quot;errorType&quot;: &quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,\r\n          &quot;stackTrace&quot;: [\r\n            &quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:835)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:59)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:12)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1441)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1047)&quot;\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>I have made a Lambda Function and I want to access it via URL with a help of the API Gateway. </p>\n\n<p>I have set it all up, I have also created an <code>application/json</code> body mapping template in API Gateway looking like this: </p>\n\n<pre><code>{ \n    \"input\": \"$input.params('input')\",\n}\n</code></pre>\n\n<p>And then I am triggering HTTP GET request that looks like this:</p>\n\n<pre><code>https://dmquh95ckh.execute-api.eu-west-1.amazonaws.com/prod/OtoTestFunction?input=test\n</code></pre>\n\n<p>My Java handler class looks like this:</p>\n\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;String, String&gt; {\n\n    @Override\n    public String handleRequest(String input, Context context) {\n        context.getLogger().log(\"Input: \" + input);\n        return \"Test completed.\"+input;\n    }\n}\n</code></pre>\n\n<p>And this is the full error message:</p>\n\n<pre><code>{\n  \"errorMessage\": \"An error occurred during JSON parsing\",\n  \"errorType\": \"java.lang.RuntimeException\",\n  \"stackTrace\": [],\n  \"cause\": {\n    \"errorMessage\": \"com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]\",\n    \"errorType\": \"java.io.UncheckedIOException\",\n    \"stackTrace\": [],\n    \"cause\": {\n      \"errorMessage\": \"Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]\",\n      \"errorType\": \"com.fasterxml.jackson.databind.JsonMappingException\",\n      \"stackTrace\": [\n        \"com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)\",\n        \"com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:835)\",\n        \"com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:59)\",\n        \"com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:12)\",\n        \"com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1441)\",\n        \"com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1047)\"\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","glassfish","jndi","naming"],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681743260,"creation_date":1681743260,"question_id":76036472,"body_markdown":"I have four JNDI string values to lookup for my application. I&#39;ve added them to Glassfish under Resources -&gt; JNDI -&gt; Custom Resources via asadmin:\r\n\r\n```\r\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=dev&quot; environment\r\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=www.mydomain.com&quot; webURL\r\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isTestSystem\r\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isResetAvailable\r\n```\r\n\r\nThese appear in my domain.xml properly, but when the app starts up it says it can&#39;t find them. For example:\r\n\r\n```\r\n        try\r\n        {\r\n        \tContext initContext = new InitialContext();\r\n        \tContext envContext = (Context) initContext.lookup(CoreServicesConstants.DS_CONTEXT);\r\n\r\n        \tenvironment = (String) envContext.lookup(&quot;environment&quot;);\r\n        }\r\n        catch (final NamingException nx)\r\n        {\r\n        \tERROR_RECORDER.error(nx.getMessage(), nx);\r\n        }\r\n```\r\n\r\nThis code works with the variables in place in Tomcat 9/10 so I&#39;m pretty sure its not the code. Unless I need to change from java:comp/env to something else?\r\n\r\nJNDI string value lookup","title":"NamingException in Glassfish7","body":"<p>I have four JNDI string values to lookup for my application. I've added them to Glassfish under Resources -&gt; JNDI -&gt; Custom Resources via asadmin:</p>\n<pre><code>create-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=dev&quot; environment\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=www.mydomain.com&quot; webURL\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isTestSystem\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isResetAvailable\n</code></pre>\n<p>These appear in my domain.xml properly, but when the app starts up it says it can't find them. For example:</p>\n<pre><code>        try\n        {\n            Context initContext = new InitialContext();\n            Context envContext = (Context) initContext.lookup(CoreServicesConstants.DS_CONTEXT);\n\n            environment = (String) envContext.lookup(&quot;environment&quot;);\n        }\n        catch (final NamingException nx)\n        {\n            ERROR_RECORDER.error(nx.getMessage(), nx);\n        }\n</code></pre>\n<p>This code works with the variables in place in Tomcat 9/10 so I'm pretty sure its not the code. Unless I need to change from java:comp/env to something else?</p>\n<p>JNDI string value lookup</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681692835,"post_id":76030333,"comment_id":134092739,"body_markdown":"You use `javap -s` and use what follows &#39;descriptor&#39;. NB &quot;cant get it to work&quot; is not a problem description.","body":"You use <code>javap -s</code> and use what follows &#39;descriptor&#39;. NB &quot;cant get it to work&quot; is not a problem description."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681693833,"post_id":76030333,"comment_id":134092866,"body_markdown":"Fair enough: For the record I tried `javap -s -p android.speech.tss.TextToSpeech` but it reported it couldn&#39;t find the class. I have the android and java SDK&#39;s installed. Not sure what else I need.","body":"Fair enough: For the record I tried <code>javap -s -p android.speech.tss.TextToSpeech</code> but it reported it couldn&#39;t find the class. I have the android and java SDK&#39;s installed. Not sure what else I need."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681694357,"post_id":76030333,"comment_id":134092909,"body_markdown":"The signature I need is for the constructor `TextToSpeech(Context context, TextToSpeech.OnInitListener listener)`","body":"The signature I need is for the constructor <code>TextToSpeech(Context context, TextToSpeech.OnInitListener listener)</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681698576,"post_id":76030333,"comment_id":134093299,"body_markdown":"Your `javap` was looking at the JDK classes, not the Android classes. Come to think of it, it won&#39;t work on Android classes unless they use the same .class file format.","body":"Your <code>javap</code> was looking at the JDK classes, not the Android classes. Come to think of it, it won&#39;t work on Android classes unless they use the same .class file format."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681733503,"post_id":76030333,"comment_id":134099258,"body_markdown":"OK, I&#39;m new to all this JNI, NDK stuff. I&#39;m using Go lang, so this C and JNI stuff is challenging me. I thought I understood enough to ask the right question. Obviously, I have some work to do on my understanding. Thanks to everyone for their patience.","body":"OK, I&#39;m new to all this JNI, NDK stuff. I&#39;m using Go lang, so this C and JNI stuff is challenging me. I thought I understood enough to ask the right question. Obviously, I have some work to do on my understanding. Thanks to everyone for their patience."}],"answers":[{"comments":[{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681685519,"post_id":76030488,"comment_id":134092063,"body_markdown":"Yeah, I probably didn&#39;t word it well. I want to call an Android method from C using JNI. My understanding is that I need to pass a signature string to the `JNI.CallObjectMethod()`.","body":"Yeah, I probably didn&#39;t word it well. I want to call an Android method from C using JNI. My understanding is that I need to pass a signature string to the <code>JNI.CallObjectMethod()</code>."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681687572,"post_id":76030488,"comment_id":134092242,"body_markdown":"The signature is always the same as the Java signature.  Use the conversion table from https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html.","body":"The signature is always the same as the Java signature.  Use the conversion table from <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/&hellip;</a>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681691180,"post_id":76030488,"comment_id":134092582,"body_markdown":"@GabeSechan Your comment doesn&#39;t make sense. If the signatures are the same (they aren&#39;t), how can there be a conversion table?","body":"@GabeSechan Your comment doesn&#39;t make sense. If the signatures are the same (they aren&#39;t), how can there be a conversion table?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681694869,"post_id":76030488,"comment_id":134092950,"body_markdown":"They are the same.  The conversion table is how you convert from the Java types to the string.  For example, ints are Z, shorts are S, etc.  So the signature string for long f (int n, String s, int[] arr); is (ILjava/lang/String;[I)J .  The int converts to Z, the String is a class, and the int arrar is [Z].  The return is J for long.","body":"They are the same.  The conversion table is how you convert from the Java types to the string.  For example, ints are Z, shorts are S, etc.  So the signature string for long f (int n, String s, int[] arr); is (ILjava/lang/String;[I)J .  The int converts to Z, the String is a class, and the int arrar is [Z].  The return is J for long."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681697468,"post_id":76030488,"comment_id":134093189,"body_markdown":"Sorry my bad, I said Z was int.  I was thinking math, where Z is the set of all integers.  Here Z is Boolean, I is int.","body":"Sorry my bad, I said Z was int.  I was thinking math, where Z is the set of all integers.  Here Z is Boolean, I is int."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681698520,"post_id":76030488,"comment_id":134093294,"body_markdown":"That still doesn&#39;t make sense. The Java signature has to be converted to the JNI signature via the tables. As in your own examples. The Java signature is `long f(int n, String s, int[] arr)` and the JNI signature is `(ILjava/lang/String;[I)J`. These are not the same.","body":"That still doesn&#39;t make sense. The Java signature has to be converted to the JNI signature via the tables. As in your own examples. The Java signature is <code>long f(int n, String s, int[] arr)</code> and the JNI signature is <code>(ILjava&#47;lang&#47;String;[I)J</code>. These are not the same."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681708831,"post_id":76030488,"comment_id":134094235,"body_markdown":"They are the same.  I means Integer.  J means long.  L means a class, with the class name coming after it.  [] means array.  The signatures are the exact same, you just use that notation instead of writing it out longhand.  That&#39;s also the same notation the JRE uses internally to the interpreter.","body":"They are the same.  I means Integer.  J means long.  L means a class, with the class name coming after it.  [] means array.  The signatures are the exact same, you just use that notation instead of writing it out longhand.  That&#39;s also the same notation the JRE uses internally to the interpreter."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":7,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681681606,"creation_date":1681681606,"answer_id":76030488,"question_id":76030333,"body_markdown":"You look them up online in the android documentation at https://developer.android.com/.  That has all the documentation for all the classes and functions in Android.  That has nothing to do with JNI though, unless you were trying to ask something else and just didn&#39;t word it well.","title":"How to get JNI signatures for Android classes","body":"<p>You look them up online in the android documentation at <a href=\"https://developer.android.com/\" rel=\"nofollow noreferrer\">https://developer.android.com/</a>.  That has all the documentation for all the classes and functions in Android.  That has nothing to do with JNI though, unless you were trying to ask something else and just didn't word it well.</p>\n"},{"tags":[],"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681743232,"creation_date":1681743232,"answer_id":76036466,"question_id":76030333,"body_markdown":"OK,after some more education, this is what I came up with:\r\n\r\n```\r\njmethodID midInit = (*env)-&gt;GetMethodID(\r\n    env, \r\n    cls, \r\n    &quot;&lt;init&gt;&quot;,\r\n (Landroid/content/Context;Landroid/speech/tts/TextToSpeech$OnInitListener;)V);\r\n```\r\n\r\nThe last param is the signature I was asking about.\r\n","title":"How to get JNI signatures for Android classes","body":"<p>OK,after some more education, this is what I came up with:</p>\n<pre><code>jmethodID midInit = (*env)-&gt;GetMethodID(\n    env, \n    cls, \n    &quot;&lt;init&gt;&quot;,\n (Landroid/content/Context;Landroid/speech/tts/TextToSpeech$OnInitListener;)V);\n</code></pre>\n<p>The last param is the signature I was asking about.</p>\n"}],"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681743232,"creation_date":1681679207,"question_id":76030333,"body_markdown":"Given that I have the Android SDK installed (Linux), how do I get the method signatures for the `android.speech.tts.TextToSpeech` class? I know it has something to do with `javap` but darn if I can get it to work.","title":"How to get JNI signatures for Android classes","body":"<p>Given that I have the Android SDK installed (Linux), how do I get the method signatures for the <code>android.speech.tts.TextToSpeech</code> class? I know it has something to do with <code>javap</code> but darn if I can get it to work.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681739617,"post_id":76035876,"comment_id":134100938,"body_markdown":"It&#39;s probably a byte order marker (BOM). If so, then [this](http://stackoverflow.com/questions/4897876/ddg#4897993)","body":"It&#39;s probably a byte order marker (BOM). If so, then <a href=\"http://stackoverflow.com/questions/4897876/ddg#4897993\">this</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681741707,"post_id":76035876,"comment_id":134101529,"body_markdown":"Try the BOM with `token = token.replace(&quot;\\uFEFF&quot;, &quot;&quot;);`","body":"Try the BOM with <code>token = token.replace(&quot;\\uFEFF&quot;, &quot;&quot;);</code>"}],"answers":[{"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1681742147,"post_id":76036281,"comment_id":134101686,"body_markdown":"And if there is no signature that accepts an InputStream, you can use \n```InputStreamReader reader = new InputStreamReader(new BOMInputStream(new FileInputStream(File)));```","body":"And if there is no signature that accepts an InputStream, you can use  <code>InputStreamReader reader = new InputStreamReader(new BOMInputStream(new FileInputStream(File)));</code>"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1681742841,"post_id":76036281,"comment_id":134101892,"body_markdown":"The 3 first symbols  you see are codes: \\u00ef\\u00bb\\u00bf and it is definitely BOM. You can search for &quot;\\u00ef\\u00bb\\u00bf&quot; or BOM and find tons of info on it","body":"The 3 first symbols  you see are codes: \\u00ef\\u00bb\\u00bf and it is definitely BOM. You can search for &quot;\\u00ef\\u00bb\\u00bf&quot; or BOM and find tons of info on it"}],"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681742867,"creation_date":1681741944,"answer_id":76036281,"question_id":76035876,"body_markdown":"# BOM\r\n\r\nYes, that is a [BOM (Byte Order Mark)][1]. \r\n\r\n`&#239;&#187;&#191;` are the characters assigned to the three octets that make up a BOM in [UTF-8][2], if misinterpreted as [code points][3]. In decimal, those three octets are 239 187 191. In hex, EF BB BF. \r\n\r\nYou can try using BOMInputStream - https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html\r\n\r\nThere must be some signature of the CSV Reader that accepts InputStream.\r\nYou can use\r\n`new BOMInputStream(new FileInputStream(File))`\r\nThis will create a wrapper over FileInputStream object, and BOMInputStream will make sure you get the content without the BOM.\r\nThis should work with any kind of file, with or without BOM in it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark\r\n  [2]: https://en.wikipedia.org/wiki/UTF-8\r\n  [3]: https://en.wikipedia.org/wiki/Code_point","title":"Getting special character while reading the CSV file using OpenCSV for the first line and first character","body":"<h1>BOM</h1>\n<p>Yes, that is a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM (Byte Order Mark)</a>.</p>\n<p><code>ï»¿</code> are the characters assigned to the three octets that make up a BOM in <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>, if misinterpreted as <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code points</a>. In decimal, those three octets are 239 187 191. In hex, EF BB BF.</p>\n<p>You can try using BOMInputStream - <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html</a></p>\n<p>There must be some signature of the CSV Reader that accepts InputStream.\nYou can use\n<code>new BOMInputStream(new FileInputStream(File))</code>\nThis will create a wrapper over FileInputStream object, and BOMInputStream will make sure you get the content without the BOM.\nThis should work with any kind of file, with or without BOM in it.</p>\n"}],"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681742338,"answer_count":1,"score":1,"last_activity_date":1681742867,"creation_date":1681739356,"question_id":76035876,"body_markdown":"I am having CSV file, need to process it. While reading the CSV file, for the first line and first character I am seeing an unknown special character. Not sure why getting this and how to resolve.\r\n\r\nHere is the code snippet I am using,\r\n\r\n```\r\nCSVReader reportTypesReader = new CSVReader(new FileReader(Paths.get(filePath.concat(&quot;/ReportTypes.csv&quot;)).toFile()));\r\n\r\nString\\[\\] nextLine;\r\n// reads one line at a time\r\nwhile ((nextLine = reportTypesReader.readNext()) != null) {\r\nfor (String token : nextLine) {\r\nSystem.out.print(token);\r\n}\r\nSystem.out.print(&quot;\\\\n&quot;);\r\n}\r\n```\r\n\r\nHere is the sample output,\r\n\r\n```\r\n  &#239;&#187;&#191;Report Type, Icon URL\r\n```\r\n\r\nMy expectation is,\r\n\r\n```\r\nReport Type, Icon URL\r\n```","title":"Getting special character while reading the CSV file using OpenCSV for the first line and first character","body":"<p>I am having CSV file, need to process it. While reading the CSV file, for the first line and first character I am seeing an unknown special character. Not sure why getting this and how to resolve.</p>\n<p>Here is the code snippet I am using,</p>\n<pre><code>CSVReader reportTypesReader = new CSVReader(new FileReader(Paths.get(filePath.concat(&quot;/ReportTypes.csv&quot;)).toFile()));\n\nString\\[\\] nextLine;\n// reads one line at a time\nwhile ((nextLine = reportTypesReader.readNext()) != null) {\nfor (String token : nextLine) {\nSystem.out.print(token);\n}\nSystem.out.print(&quot;\\\\n&quot;);\n}\n</code></pre>\n<p>Here is the sample output,</p>\n<pre><code>  ï»¿Report Type, Icon URL\n</code></pre>\n<p>My expectation is,</p>\n<pre><code>Report Type, Icon URL\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-authentication"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1663654660,"post_id":73781826,"comment_id":130284347,"body_markdown":"Welcome. See [ask]. Please check your grammar when you post. Spelling, grammar and punctuation are important. Remember, this is the first part of your question others will see - you want to make a good impression. If you&#39;re not comfortable writing in English, ask a friend to proof-read it for you. Also, there is a number of automatic tools that can help you check that.","body":"Welcome. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Please check your grammar when you post. Spelling, grammar and punctuation are important. Remember, this is the first part of your question others will see - you want to make a good impression. If you&#39;re not comfortable writing in English, ask a friend to proof-read it for you. Also, there is a number of automatic tools that can help you check that."},{"owner":{"account_id":18824736,"reputation":245,"user_id":13729933,"display_name":"Zabon"},"score":1,"creation_date":1663680286,"post_id":73781826,"comment_id":130293134,"body_markdown":"In your application.properties, try to write your environments variables as so : \nspring.data.mongodb.username=${MONGO_INITDB_ROOT_USERNAME}","body":"In your application.properties, try to write your environments variables as so :  spring.data.mongodb.username=${MONGO_INITDB_ROOT_USERNAME}"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681743168,"post_id":76036402,"comment_id":134101974,"body_markdown":"This is not really answer but more of a comment (on an old question as well).","body":"This is not really answer but more of a comment (on an old question as well)."},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1681743542,"post_id":76036402,"comment_id":134102081,"body_markdown":"Ok, but hope that help ;-)","body":"Ok, but hope that help ;-)"}],"tags":[],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681742727,"creation_date":1681742727,"answer_id":76036402,"question_id":73781826,"body_markdown":"Can you test this, replace :  \r\n\r\n    spring.data.mongodb.authentication-database=admin  \r\n    spring.data.mongodb.username=rootuser  \r\n    spring.data.mongodb.password=rootpass  \r\n    spring.data.mongodb.database=mymongodb  \r\n    spring.data.mongodb.port=27017  \r\n    spring.data.mongodb.host=localhost\r\n\r\n_____________________________________________\r\nby\r\n_____________________________________________\r\n\r\n    spring.data.mongodb.uri=mongodb://rootuser:rootpass@localhost:27017  \r\n    spring.data.mongodb.database=mymongodb\r\n\r\n_____________________________________________\r\n\r\nin your file application.properties\r\n","title":"Spring Boot authentication error on connection to MongoDB","body":"<p>Can you test this, replace :</p>\n<pre><code>spring.data.mongodb.authentication-database=admin  \nspring.data.mongodb.username=rootuser  \nspring.data.mongodb.password=rootpass  \nspring.data.mongodb.database=mymongodb  \nspring.data.mongodb.port=27017  \nspring.data.mongodb.host=localhost\n</code></pre>\n<hr />\n<p>by</p>\n<hr />\n<pre><code>spring.data.mongodb.uri=mongodb://rootuser:rootpass@localhost:27017  \nspring.data.mongodb.database=mymongodb\n</code></pre>\n<hr />\n<p>in your file application.properties</p>\n"}],"owner":{"account_id":26064228,"reputation":21,"user_id":19764947,"display_name":"user19764947"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681742727,"creation_date":1663650014,"question_id":73781826,"body_markdown":"I have MongoDB and mongodb-express running with docker-compose, I am trying to build a REST API from Spring Boot that can talk to MongoDB, but the Spring Boot application is failing to start while trying to connect to MongoDB.\r\n\r\ndocker-compose.yaml\r\n```\r\nversion: &quot;3.8&quot;\r\n    \r\nservices:\r\n    \r\n  mongodb:\r\n    image: mongo\r\n    container_name: mongodb\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    environment:\r\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\r\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\r\n    \r\n  mongo-express:\r\n    image: mongo-express\r\n    container_name: mongo-express\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    restart: always\r\n    environment:\r\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\r\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\r\n      - ME_CONFIG_MONGODB_SERVER=mongodb\r\n    \r\nnetworks:\r\n  default:\r\n    name: mongodb-network\r\n```\r\napplication.properties\r\n```\r\nspring.data.mongodb.authentication-database=admin\r\nspring.data.mongodb.username=rootuser\r\nspring.data.mongodb.password=rootpass\r\nspring.data.mongodb.database=mymongodb\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.host=localhost\r\nlogging.level.org.springframework.web=DEBUG\r\n\r\n\r\n\r\n        \r\n    PS C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial&gt; docker compose ps\r\n    NAME                COMMAND                  SERVICE             STATUS              PORTS\r\n    mongo-express       &quot;tini -- /docker-ent…&quot;   mongo-express       running             0.0.0.0:8081-&gt;8081/tcp\r\n    mongodb             &quot;docker-entrypoint.s…&quot;   mongodb             running             0.0.0.0:27017-&gt;27017/tcp\r\n\r\n```\r\nError while starting the spring boot project \r\n```\r\n:: Spring Boot ::                (v2.7.3)\r\n\r\n    2022-09-19 23:00:01.187  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Starting MongodbCrudTutorialApplication using Java 17.0.2 on DESKTOP-R90T7LM with PID 103344 (C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial\\target\\classes started by utkar in C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial)\r\n    2022-09-19 23:00:01.190  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-09-19 23:00:02.048  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2022-09-19 23:00:02.095  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 MongoDB repository interfaces.\r\n    2022-09-19 23:00:12.121  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-09-19 23:00:12.133  INFO 103344 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-09-19 23:00:12.134  INFO 103344 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11375 ms\r\n    2022-09-19 23:00:12.862  INFO 103344 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.2+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@542f6803]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2022-09-19 23:00:13.253  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:43}] to localhost:27017\r\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:42}] to localhost:27017\r\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=376157600}\r\n    2022-09-19 23:00:13.432 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n    2022-09-19 23:00:13.553 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n    2022-09-19 23:00:13.577 DEBUG 103344 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in &#39;resourceHandlerMapping&#39;\r\n    2022-09-19 23:00:13.587 DEBUG 103344 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n    2022-09-19 23:00:14.032  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-09-19 23:00:14.039  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Started MongodbCrudTutorialApplication in 13.803 seconds (JVM running for 17.433)\r\n    going to insert\r\n    2022-09-19 23:00:14.356  INFO 103344 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-09-19 23:00:14.390 ERROR 103344 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.main(MongodbCrudTutorialApplication.java:16) ~[classes/:na]\r\n    Caused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n    \tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy55.insert(Unknown Source) ~[na:na]\r\n    \tat com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.lambda$0(MongodbCrudTutorialApplication.java:34) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \t... 5 common frames omitted\r\n    Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \t... 31 common frames omitted\r\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \t... 64 common frames omitted\r\n\r\n```\r\n\r\n\r\n","title":"Spring Boot authentication error on connection to MongoDB","body":"<p>I have MongoDB and mongodb-express running with docker-compose, I am trying to build a REST API from Spring Boot that can talk to MongoDB, but the Spring Boot application is failing to start while trying to connect to MongoDB.</p>\n<p>docker-compose.yaml</p>\n<pre><code>version: &quot;3.8&quot;\n    \nservices:\n    \n  mongodb:\n    image: mongo\n    container_name: mongodb\n    ports:\n      - &quot;27017:27017&quot;\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\n    \n  mongo-express:\n    image: mongo-express\n    container_name: mongo-express\n    ports:\n      - &quot;8081:8081&quot;\n    restart: always\n    environment:\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\n      - ME_CONFIG_MONGODB_SERVER=mongodb\n    \nnetworks:\n  default:\n    name: mongodb-network\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb.authentication-database=admin\nspring.data.mongodb.username=rootuser\nspring.data.mongodb.password=rootpass\nspring.data.mongodb.database=mymongodb\nspring.data.mongodb.port=27017\nspring.data.mongodb.host=localhost\nlogging.level.org.springframework.web=DEBUG\n\n\n\n        \n    PS C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial&gt; docker compose ps\n    NAME                COMMAND                  SERVICE             STATUS              PORTS\n    mongo-express       &quot;tini -- /docker-ent…&quot;   mongo-express       running             0.0.0.0:8081-&gt;8081/tcp\n    mongodb             &quot;docker-entrypoint.s…&quot;   mongodb             running             0.0.0.0:27017-&gt;27017/tcp\n\n</code></pre>\n<p>Error while starting the spring boot project</p>\n<pre><code>:: Spring Boot ::                (v2.7.3)\n\n    2022-09-19 23:00:01.187  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Starting MongodbCrudTutorialApplication using Java 17.0.2 on DESKTOP-R90T7LM with PID 103344 (C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial\\target\\classes started by utkar in C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial)\n    2022-09-19 23:00:01.190  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2022-09-19 23:00:02.048  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n    2022-09-19 23:00:02.095  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 MongoDB repository interfaces.\n    2022-09-19 23:00:12.121  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n    2022-09-19 23:00:12.133  INFO 103344 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2022-09-19 23:00:12.134  INFO 103344 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11375 ms\n    2022-09-19 23:00:12.862  INFO 103344 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.2+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@542f6803]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n    2022-09-19 23:00:13.253  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:43}] to localhost:27017\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:42}] to localhost:27017\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=376157600}\n    2022-09-19 23:00:13.432 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n    2022-09-19 23:00:13.553 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n    2022-09-19 23:00:13.577 DEBUG 103344 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'\n    2022-09-19 23:00:13.587 DEBUG 103344 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n    2022-09-19 23:00:14.032  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n    2022-09-19 23:00:14.039  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Started MongodbCrudTutorialApplication in 13.803 seconds (JVM running for 17.433)\n    going to insert\n    2022-09-19 23:00:14.356  INFO 103344 --- [           main] ConditionEvaluationReportLoggingListener : \n    \n    Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n    2022-09-19 23:00:14.390 ERROR 103344 --- [           main] o.s.boot.SpringApplication               : Application run failed\n    \n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n        at com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.main(MongodbCrudTutorialApplication.java:16) ~[classes/:na]\n    Caused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n        at jdk.proxy2/jdk.proxy2.$Proxy55.insert(Unknown Source) ~[na:na]\n        at com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.lambda$0(MongodbCrudTutorialApplication.java:34) ~[classes/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.3.jar:2.7.3]\n        ... 5 common frames omitted\n    Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n        at com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        ... 31 common frames omitted\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\n        at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\n        ... 64 common frames omitted\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1681498026,"post_id":76017731,"comment_id":134071813,"body_markdown":"Windows should support / as directory path separator as well. I just tried it on the Windows Explorer and works with no problems.","body":"Windows should support / as directory path separator as well. I just tried it on the Windows Explorer and works with no problems."},{"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"score":0,"creation_date":1681564334,"post_id":76017731,"comment_id":134078697,"body_markdown":"Thanks a lot, with your help I was able to reduce the number of the lines in two times :) \nI hope I can able to reduce it even more somehow, because it&#39;s not really convenient to put a new line in this file when you create a new gradle project.","body":"Thanks a lot, with your help I was able to reduce the number of the lines in two times :)  I hope I can able to reduce it even more somehow, because it&#39;s not really convenient to put a new line in this file when you create a new gradle project."}],"answers":[{"tags":[],"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681742437,"creation_date":1681742437,"answer_id":76036354,"question_id":76017731,"body_markdown":"I moved all topics directories to separate folder for simplicity and this is how settings.gradle file looks now:\r\n\r\n    file(&#39;exercises&#39;).eachDir { topic -&gt;\r\n        topic.eachDir { exercise -&gt;\r\n            includeBuild(&quot;exercises/${topic.name}/${exercise.name}&quot;)\r\n        }\r\n    }","title":"How can I simplify settings.gradle after I prevent Intellij Idea from crashing when processing multiple Gradle projects?","body":"<p>I moved all topics directories to separate folder for simplicity and this is how settings.gradle file looks now:</p>\n<pre><code>file('exercises').eachDir { topic -&gt;\n    topic.eachDir { exercise -&gt;\n        includeBuild(&quot;exercises/${topic.name}/${exercise.name}&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036354,"answer_count":1,"score":0,"last_activity_date":1681742437,"creation_date":1681494466,"question_id":76017731,"body_markdown":"I store my solutions to various coding exercises in one repository as Gradle projects. One solution - one Gradle project. I have near 100 Gradle projects in one repository. The structure of the whole repository looks like this:\r\n\r\n```\r\nrepository_name  \r\n├── topic1  \r\n│   ├── exercise1  \r\n│   │   ├── build.gradle  \r\n│   │   └── settings.gradle  \r\n│   ├── exercise2  \r\n│   │   ├── build.gradle  \r\n│   │   └── settings.gradle  \r\n│   └── exercise3  \r\n│       ├── build.gradle  \r\n│       └── settings.gradle  \r\n├── topic2  \r\n│   ├── exercise1  \r\n│   └── exercise2  \r\n└── topic3  \r\n```\r\n[Perhaps a clearer view in the form of an image](https://i.stack.imgur.com/Typig.png)\r\n\r\n&quot;repository name&quot; and &quot;topic*&quot; are directories that consist of directories only, only &quot;exercises*&quot; are gradle projects as I mentioned before.\r\n\r\nThe problem is that when I open my whole project (repository) in IntelliJ IDEA it tries to load all these projects at the same time, all system resources go to 100% and then IntelliJ IDEA just stops responding, so I can&#39;t work with my projects anymore.\r\n\r\nI did what the JetBrains employee advised to do at this [link](https://youtrack.jetbrains.com/issue/IDEA-210255/Gradle-refresh-spawns-JVM-for-every-module-slow) at youtrack.jetbrains.com portal (and it helped)\r\n\r\nI add the repository_name/settings.gradle file and this is what it contains:\r\n\r\n```\r\nincludeBuild(&quot;topic1/exercise1&quot;)\r\nincludeBuild(&quot;topic1/exercise2&quot;)\r\nincludeBuild(&quot;topic1/exercise3&quot;)\r\nincludeBuild(&quot;topic2/exercise1&quot;)\r\n//for linux\r\nincludeBuild(&quot;topic1\\\\exercise1&quot;)\r\nincludeBuild(&quot;topic1\\\\exercise2&quot;)\r\nincludeBuild(&quot;topic1\\\\exercise3&quot;)\r\nincludeBuild(&quot;topic2\\\\exercise1&quot;)\r\n//for windows\r\n```\r\n\r\n\r\nAs you can imagine I have 100 + 100 lines in these files. I tried \r\n```\r\nincludeBuild(&quot;topic1\\\\*&quot;) \r\n```\r\nand it didn&#39;t work. \r\n\r\nIs there a way to simplify this file and add some platform independence?\r\nSomething like this:\r\n```\r\nif (windows) {\r\n  includeBuild(&quot;topic1\\\\*&quot;)\r\n  includeBuild(&quot;topic2\\\\*&quot;)\r\n  includeBuild(&quot;topic3\\\\*&quot;)\r\n} \r\nif (debian) {\r\n  includeBuild(&quot;topic1/*&quot;)\r\n  includeBuild(&quot;topic2/*&quot;)\r\n  includeBuild(&quot;topic3/*&quot;)\r\n}\r\n```","title":"How can I simplify settings.gradle after I prevent Intellij Idea from crashing when processing multiple Gradle projects?","body":"<p>I store my solutions to various coding exercises in one repository as Gradle projects. One solution - one Gradle project. I have near 100 Gradle projects in one repository. The structure of the whole repository looks like this:</p>\n<pre><code>repository_name  \n├── topic1  \n│   ├── exercise1  \n│   │   ├── build.gradle  \n│   │   └── settings.gradle  \n│   ├── exercise2  \n│   │   ├── build.gradle  \n│   │   └── settings.gradle  \n│   └── exercise3  \n│       ├── build.gradle  \n│       └── settings.gradle  \n├── topic2  \n│   ├── exercise1  \n│   └── exercise2  \n└── topic3  \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Typig.png\" rel=\"nofollow noreferrer\">Perhaps a clearer view in the form of an image</a></p>\n<p>&quot;repository name&quot; and &quot;topic*&quot; are directories that consist of directories only, only &quot;exercises*&quot; are gradle projects as I mentioned before.</p>\n<p>The problem is that when I open my whole project (repository) in IntelliJ IDEA it tries to load all these projects at the same time, all system resources go to 100% and then IntelliJ IDEA just stops responding, so I can't work with my projects anymore.</p>\n<p>I did what the JetBrains employee advised to do at this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-210255/Gradle-refresh-spawns-JVM-for-every-module-slow\" rel=\"nofollow noreferrer\">link</a> at youtrack.jetbrains.com portal (and it helped)</p>\n<p>I add the repository_name/settings.gradle file and this is what it contains:</p>\n<pre><code>includeBuild(&quot;topic1/exercise1&quot;)\nincludeBuild(&quot;topic1/exercise2&quot;)\nincludeBuild(&quot;topic1/exercise3&quot;)\nincludeBuild(&quot;topic2/exercise1&quot;)\n//for linux\nincludeBuild(&quot;topic1\\\\exercise1&quot;)\nincludeBuild(&quot;topic1\\\\exercise2&quot;)\nincludeBuild(&quot;topic1\\\\exercise3&quot;)\nincludeBuild(&quot;topic2\\\\exercise1&quot;)\n//for windows\n</code></pre>\n<p>As you can imagine I have 100 + 100 lines in these files. I tried</p>\n<pre><code>includeBuild(&quot;topic1\\\\*&quot;) \n</code></pre>\n<p>and it didn't work.</p>\n<p>Is there a way to simplify this file and add some platform independence?\nSomething like this:</p>\n<pre><code>if (windows) {\n  includeBuild(&quot;topic1\\\\*&quot;)\n  includeBuild(&quot;topic2\\\\*&quot;)\n  includeBuild(&quot;topic3\\\\*&quot;)\n} \nif (debian) {\n  includeBuild(&quot;topic1/*&quot;)\n  includeBuild(&quot;topic2/*&quot;)\n  includeBuild(&quot;topic3/*&quot;)\n}\n</code></pre>\n"},{"tags":["java","arrays","dynamic","dynamic-arrays"],"comments":[{"owner":{"account_id":280210,"reputation":23650,"user_id":575765,"display_name":"martinstoeckli"},"score":2,"creation_date":1424971098,"post_id":28748692,"comment_id":45779395,"body_markdown":"Any hints about the development environment?","body":"Any hints about the development environment?"},{"owner":{"account_id":3602224,"reputation":3250,"user_id":3005299,"display_name":"mcserep"},"score":1,"creation_date":1424971141,"post_id":28748692,"comment_id":45779425,"body_markdown":"You missed a minor detail: what language are you using? Or you are free to choose? :)","body":"You missed a minor detail: what language are you using? Or you are free to choose? :)"},{"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"score":0,"creation_date":1424971266,"post_id":28748692,"comment_id":45779504,"body_markdown":"It depends upon the programming language. C++ has [std::vector](http://en.cppreference.com/w/cpp/container/vector)... Please edit your question to improve it (and give some of your source code)","body":"It depends upon the programming language. C++ has <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a>... Please edit your question to improve it (and give some of your source code)"},{"owner":{"account_id":5853293,"reputation":31,"user_id":4611348,"display_name":"Andrew Murchison"},"score":0,"creation_date":1424971782,"post_id":28748692,"comment_id":45779804,"body_markdown":"sorry I forgot that major detail. I&#39;m working with java","body":"sorry I forgot that major detail. I&#39;m working with java"}],"answers":[{"comments":[{"owner":{"account_id":5853293,"reputation":31,"user_id":4611348,"display_name":"Andrew Murchison"},"score":0,"creation_date":1424972307,"post_id":28748970,"comment_id":45780107,"body_markdown":"I am not allowed to use array lists","body":"I am not allowed to use array lists"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1424972488,"post_id":28748970,"comment_id":45780230,"body_markdown":"See my other answer below.","body":"See my other answer below."}],"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424971876,"creation_date":1424971876,"answer_id":28748970,"question_id":28748692,"body_markdown":"Arrays are fixed length. If you want a data structure that has variable length use an ArrayList","title":"How can I change the length of an array in Java?","body":"<p>Arrays are fixed length. If you want a data structure that has variable length use an ArrayList</p>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424973992,"creation_date":1424972470,"answer_id":28749157,"question_id":28748692,"body_markdown":"Since the poster explicitly stated the requirements of the homework exclude the use of Collections an alternative approach would be to use System.arraycopy(). In such an approach you only maintain a single array and as you add items to it you use System.arraycopy() to copy the old array into a new larger array. System.arraycopy() is relatively fast and is actually how ArrayList expands its size.\r\n\r\nIf you are concerned about the cost of using System.arraycopy() you could use it only when your array is full and create a new array with more space. E.g.\r\nCreate and array of size 20. When it gets full copy it into and array of size 40. When that gets full copy it into an array of size 60...\r\n\r\nInterestingly ArrayList increases its size by \r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\nwhen the old array is full. Presumably the writers of this put some considerable thought into how much to grow the array by when needed. It might be worth doing the same.\r\n","title":"How can I change the length of an array in Java?","body":"<p>Since the poster explicitly stated the requirements of the homework exclude the use of Collections an alternative approach would be to use System.arraycopy(). In such an approach you only maintain a single array and as you add items to it you use System.arraycopy() to copy the old array into a new larger array. System.arraycopy() is relatively fast and is actually how ArrayList expands its size.</p>\n\n<p>If you are concerned about the cost of using System.arraycopy() you could use it only when your array is full and create a new array with more space. E.g.\nCreate and array of size 20. When it gets full copy it into and array of size 40. When that gets full copy it into an array of size 60...</p>\n\n<p>Interestingly ArrayList increases its size by </p>\n\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n\n<p>when the old array is full. Presumably the writers of this put some considerable thought into how much to grow the array by when needed. It might be worth doing the same.</p>\n"}],"owner":{"account_id":5853293,"reputation":31,"user_id":4611348,"display_name":"Andrew Murchison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1425005150,"answer_count":2,"score":-1,"last_activity_date":1681741820,"creation_date":1424971009,"question_id":28748692,"body_markdown":"So I am assigned with a project where I have an array.  \r\nAs the user puts elements into this array **it will have to double in length once it gets full**. \r\n\r\n*We are **not permitted to use ArrayLists** or anything in the **collections interface**.*  \r\n\r\nWhat I was trying to do was to **make a new array**, once the old array was full, and then **copy the values to the new array**.  \r\n\r\nThe problem is I don&#39;t know how many times I will have to make a new array, so I was wondering how to go about solving this.","title":"How can I change the length of an array in Java?","body":"<p>So I am assigned with a project where I have an array.<br />\nAs the user puts elements into this array <strong>it will have to double in length once it gets full</strong>.</p>\n<p><em>We are <strong>not permitted to use ArrayLists</strong> or anything in the <strong>collections interface</strong>.</em></p>\n<p>What I was trying to do was to <strong>make a new array</strong>, once the old array was full, and then <strong>copy the values to the new array</strong>.</p>\n<p>The problem is I don't know how many times I will have to make a new array, so I was wondering how to go about solving this.</p>\n"},{"tags":["java","spring","runtime","exec"],"answers":[{"tags":[],"owner":{"account_id":21268452,"reputation":397,"user_id":15648344,"display_name":"Cosemuckel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681741641,"creation_date":1681741641,"answer_id":76036218,"question_id":76036134,"body_markdown":"The problem might lie therein, that you are using backslashes to specify the directory paths. While you are correctly escaping them in your code. The string for your command will still look like: `&quot;yourProjectId\\temp\\...`, which might still cause errors when executed. Try using forward slashes `/` instead or maybe using double escaped backslashes like `\\\\\\\\`. \r\n","title":"Java Runtime cmd execution in a Spring Boot project","body":"<p>The problem might lie therein, that you are using backslashes to specify the directory paths. While you are correctly escaping them in your code. The string for your command will still look like: <code>&quot;yourProjectId\\temp\\...</code>, which might still cause errors when executed. Try using forward slashes <code>/</code> instead or maybe using double escaped backslashes like <code>\\\\\\\\</code>.</p>\n"}],"owner":{"account_id":23652417,"reputation":25,"user_id":17681127,"display_name":"tlfdksro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036218,"answer_count":1,"score":0,"last_activity_date":1681741641,"creation_date":1681741054,"question_id":76036134,"body_markdown":"A project consists of audio blocks.\r\nI&#39;m implementing REST API that updates project when there is change in blocks.   \r\nI would like to merge blocks with paddings between the audio blocks, and then upload appended audio back to S3 storages. Audio files are stored in S3 storages. \r\nI want to execute sox command while running a spring boot project in an EC2.\r\nsox module is installed in an EC2 instance. Would this be a problem of directory path? \r\n\r\nWhen I call the function it returns exit value 1, and audio blockes are not merged with paddings. \r\nI tried executing same runtime command in a simple java file and it worked, but it is not working in a deployed spring boot project.\r\n\r\n```\r\npublic void mergeBlocks(Long teamId, Long projectId){\r\n        try {\r\n            List&lt;Block&gt; blocks = blockRepository.findByProjectId(projectId);\r\n            long length = 0;\r\n            AudioInputStream clip = null;\r\n            List&lt;AudioInputStream&gt; list = new ArrayList&lt;AudioInputStream&gt;();\r\n            new File(String.valueOf(projectId)).mkdirs();\r\n            for (Block b: blocks) {\r\n                FileOutputStream fos = new FileOutputStream(new File(projectId + &quot;/temp&quot; + b.getId() + &quot;.wav&quot;));\r\n                S3Object o = amazonS3Client.getObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/&quot; + b.getId() + &quot;.wav&quot;);\r\n                S3ObjectInputStream s3is = o.getObjectContent();\r\n                byte[] read_buf = new byte[1024];\r\n                int read_len = 0;\r\n                while ((read_len = s3is.read(read_buf)) &gt; 0) {\r\n                    fos.write(read_buf, 0, read_len);\r\n                }\r\n                fos.close();\r\n                String[] cmd = {&quot;sox&quot;, projectId + &quot;\\\\temp&quot; + b.getId() + &quot;.wav&quot;, projectId + &quot;\\\\interval&quot; + b.getId() + &quot;.wav&quot;, &quot;pad&quot;, &quot;0&quot;, String.valueOf(b.getInterval())};\r\n                try {\r\n                    Runtime rt = Runtime.getRuntime();\r\n                    Process pr = rt.exec(cmd);\r\n                    BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\r\n                    String line = null;\r\n\r\n                    while ((line = input.readLine()) != null) {\r\n                        System.out.println(line);\r\n                    }\r\n\r\n                    int exitVal = pr.waitFor();\r\n                    System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n                } catch(Exception e) {\r\n                    System.out.println(e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                clip = AudioSystem.getAudioInputStream(new File(projectId + &quot;/interval&quot; + b.getId() + &quot;.wav&quot;));\r\n                list.add(clip);\r\n                length += clip.getFrameLength();\r\n            }\r\n            if(length&gt;0 &amp;&amp; list.size()&gt;0 &amp;&amp; clip!=null) {\r\n                AudioInputStream appendedFiles =\r\n                        new AudioInputStream(\r\n                                new SequenceInputStream(Collections.enumeration(list)),\r\n                                clip.getFormat(),\r\n                                length);\r\n\r\n                AudioSystem.write(appendedFiles,\r\n                        AudioFileFormat.Type.WAVE,\r\n                        new File(projectId + &quot;/appended.wav&quot;));\r\n            }\r\n            clip.close();\r\n            amazonS3Client.putObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/0.wav&quot;, new File(projectId + &quot;/appended.wav&quot;));\r\n            FileUtils.deleteDirectory(new File(String.valueOf(projectId)));\r\n        } catch (AmazonServiceException e) {\r\n            System.err.println(e.getErrorMessage());\r\n            System.exit(1);\r\n        } catch (FileNotFoundException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        } catch (IOException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        } catch (UnsupportedAudioFileException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried executingn sox command with java Runtime.getRuntime().exec(cmd);\r\nI expected sox command getting executed successfully while running the spring boot project.","title":"Java Runtime cmd execution in a Spring Boot project","body":"<p>A project consists of audio blocks.\nI'm implementing REST API that updates project when there is change in blocks.<br />\nI would like to merge blocks with paddings between the audio blocks, and then upload appended audio back to S3 storages. Audio files are stored in S3 storages.\nI want to execute sox command while running a spring boot project in an EC2.\nsox module is installed in an EC2 instance. Would this be a problem of directory path?</p>\n<p>When I call the function it returns exit value 1, and audio blockes are not merged with paddings.\nI tried executing same runtime command in a simple java file and it worked, but it is not working in a deployed spring boot project.</p>\n<pre><code>public void mergeBlocks(Long teamId, Long projectId){\n        try {\n            List&lt;Block&gt; blocks = blockRepository.findByProjectId(projectId);\n            long length = 0;\n            AudioInputStream clip = null;\n            List&lt;AudioInputStream&gt; list = new ArrayList&lt;AudioInputStream&gt;();\n            new File(String.valueOf(projectId)).mkdirs();\n            for (Block b: blocks) {\n                FileOutputStream fos = new FileOutputStream(new File(projectId + &quot;/temp&quot; + b.getId() + &quot;.wav&quot;));\n                S3Object o = amazonS3Client.getObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/&quot; + b.getId() + &quot;.wav&quot;);\n                S3ObjectInputStream s3is = o.getObjectContent();\n                byte[] read_buf = new byte[1024];\n                int read_len = 0;\n                while ((read_len = s3is.read(read_buf)) &gt; 0) {\n                    fos.write(read_buf, 0, read_len);\n                }\n                fos.close();\n                String[] cmd = {&quot;sox&quot;, projectId + &quot;\\\\temp&quot; + b.getId() + &quot;.wav&quot;, projectId + &quot;\\\\interval&quot; + b.getId() + &quot;.wav&quot;, &quot;pad&quot;, &quot;0&quot;, String.valueOf(b.getInterval())};\n                try {\n                    Runtime rt = Runtime.getRuntime();\n                    Process pr = rt.exec(cmd);\n                    BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n\n                    String line = null;\n\n                    while ((line = input.readLine()) != null) {\n                        System.out.println(line);\n                    }\n\n                    int exitVal = pr.waitFor();\n                    System.out.println(&quot;Exited with error code &quot; + exitVal);\n                } catch(Exception e) {\n                    System.out.println(e.toString());\n                    e.printStackTrace();\n                }\n\n                clip = AudioSystem.getAudioInputStream(new File(projectId + &quot;/interval&quot; + b.getId() + &quot;.wav&quot;));\n                list.add(clip);\n                length += clip.getFrameLength();\n            }\n            if(length&gt;0 &amp;&amp; list.size()&gt;0 &amp;&amp; clip!=null) {\n                AudioInputStream appendedFiles =\n                        new AudioInputStream(\n                                new SequenceInputStream(Collections.enumeration(list)),\n                                clip.getFormat(),\n                                length);\n\n                AudioSystem.write(appendedFiles,\n                        AudioFileFormat.Type.WAVE,\n                        new File(projectId + &quot;/appended.wav&quot;));\n            }\n            clip.close();\n            amazonS3Client.putObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/0.wav&quot;, new File(projectId + &quot;/appended.wav&quot;));\n            FileUtils.deleteDirectory(new File(String.valueOf(projectId)));\n        } catch (AmazonServiceException e) {\n            System.err.println(e.getErrorMessage());\n            System.exit(1);\n        } catch (FileNotFoundException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        } catch (IOException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I tried executingn sox command with java Runtime.getRuntime().exec(cmd);\nI expected sox command getting executed successfully while running the spring boot project.</p>\n"},{"tags":["java","debugging","maven-plugin"],"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1586460165,"post_id":56897925,"comment_id":108143858,"body_markdown":"[Forking](https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#fork) is enabled by default since Spring Boot 2.2. \nSee https://stackoverflow.com/questions/61125404/since-2-2-0-spring-boot-maven-plugin-create-2-java-process-may-cause-createproc question and solution","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#fork\" rel=\"nofollow noreferrer\">Forking</a> is enabled by default since Spring Boot 2.2.  See <a href=\"https://stackoverflow.com/questions/61125404/since-2-2-0-spring-boot-maven-plugin-create-2-java-process-may-cause-createproc\" title=\"since 2 2 0 spring boot maven plugin create 2 java process may cause createproc\">stackoverflow.com/questions/61125404/&hellip;</a> question and solution"}],"answers":[{"comments":[{"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"score":0,"creation_date":1576821071,"post_id":59371718,"comment_id":105027641,"body_markdown":"Thanks. I dont use intellij, by the way","body":"Thanks. I dont use intellij, by the way"},{"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"score":0,"creation_date":1650568939,"post_id":59371718,"comment_id":127155861,"body_markdown":"This worked for me for intellij","body":"This worked for me for intellij"}],"tags":[],"owner":{"account_id":17190715,"reputation":563,"user_id":12444527,"display_name":"Trushit Shekhda"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1576580803,"creation_date":1576576803,"answer_id":59371718,"question_id":56897925,"body_markdown":"If you are using IntelliJ Idea platform just change the launch configuration to avoid using the default shorten line\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis worked for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yw0fV.png","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>If you are using IntelliJ Idea platform just change the launch configuration to avoid using the default shorten line</p>\n\n<p><a href=\"https://i.stack.imgur.com/Yw0fV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Yw0fV.png\" alt=\"enter image description here\"></a></p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":0,"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1576821032,"creation_date":1576821032,"answer_id":59420432,"question_id":56897925,"body_markdown":"I used the below commandand it worked. \r\n   mvnw -Dmaven.repo.local=C:/mavenRepo","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>I used the below commandand it worked. \n   mvnw -Dmaven.repo.local=C:/mavenRepo</p>\n"},{"tags":[],"owner":{"account_id":12525298,"reputation":71,"user_id":9115339,"display_name":"ALAOUI Jaouhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591026636,"creation_date":1591026636,"answer_id":62135926,"question_id":56897925,"body_markdown":"change \r\n````\r\n&lt;fork&gt;true&lt;/fork&gt;\r\n````\r\nto \r\n````\r\n&lt;fork&gt;false&lt;/fork&gt;\r\n````","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>change </p>\n\n<pre><code>&lt;fork&gt;true&lt;/fork&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;fork&gt;false&lt;/fork&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681741555,"creation_date":1615284787,"answer_id":66544882,"question_id":56897925,"body_markdown":"This is caused by a Windows OS limitation. To solve it:\r\n\r\n 1. Move `.m2` repository to `c:\\`\r\n 2. Open `settings.xml` from `%MAVEN_HOME%/conf` and look for `\\&lt;settings&gt;.\\&lt;localRepository&gt;`(uncomment it if its commented out already) and change its value to `c:/.m2/repository`\r\n 3. Save the file and run the build again\r\n","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>This is caused by a Windows OS limitation. To solve it:</p>\n<ol>\n<li>Move <code>.m2</code> repository to <code>c:\\</code></li>\n<li>Open <code>settings.xml</code> from <code>%MAVEN_HOME%/conf</code> and look for <code>\\&lt;settings&gt;.\\&lt;localRepository&gt;</code>(uncomment it if its commented out already) and change its value to <code>c:/.m2/repository</code></li>\n<li>Save the file and run the build again</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"score":1,"creation_date":1686851870,"post_id":69285725,"comment_id":134858607,"body_markdown":"Awesome, the error is really doesn&#39;t point easily to that.","body":"Awesome, the error is really doesn&#39;t point easily to that."}],"tags":[],"owner":{"account_id":1895369,"reputation":419,"user_id":1712464,"accept_rate":0,"display_name":"developer"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1632318948,"creation_date":1632318948,"answer_id":69285725,"question_id":56897925,"body_markdown":"For me I had the similar exception, below change solved the issue\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;false&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>For me I had the similar exception, below change solved the issue</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24708,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59420432,"answer_count":5,"score":9,"last_activity_date":1681741555,"creation_date":1562309511,"question_id":56897925,"body_markdown":"I get the titled error when I use jvmarguments in the pom file. I&#39;m using mvnw command with the below plugin to enable debugging. If I remove the jvm argument, it works. But I want to enable remote debugging with the mvnw command\r\n\r\n**Code Snippet:**\r\n\r\n    &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n    \t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t&lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt; \r\n    \t\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n**Error:**\r\n\r\n&gt; *[ERROR] Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\r\n&gt; (default-cli) on project dxcgateway: Could not exec java: Cannot run\r\n&gt; program &quot;C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;:\r\n&gt; CreateProcess error=206, The filename or extension is too long -&gt;\r\n&gt; [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException:\r\n&gt; Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\r\n&gt; (default-cli) on project dxcg ateway: Could not exec java\r\n&gt; \r\n&gt; Caused by: java.io.IOException: Cannot run program &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;: CreateProcess error=206,\r\n&gt; The filename or extension is too long\r\n&gt;     at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\r\n&gt;     at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)\r\n&gt; \r\n&gt; Caused by: java.io.IOException: Cannot run program &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;: CreateProcess error=206,\r\n&gt; The filename or extension is too long\r\n&gt;     at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\r\n    at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)*","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>I get the titled error when I use jvmarguments in the pom file. I'm using mvnw command with the below plugin to enable debugging. If I remove the jvm argument, it works. But I want to enable remote debugging with the mvnw command</p>\n\n<p><strong>Code Snippet:</strong></p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n            &lt;executable&gt;true&lt;/executable&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt; \n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>*[ERROR] Failed to execute goal\n  org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\n  (default-cli) on project dxcgateway: Could not exec java: Cannot run\n  program \"C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\":\n  CreateProcess error=206, The filename or extension is too long ->\n  [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException:\n  Failed to execute goal\n  org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\n  (default-cli) on project dxcg ateway: Could not exec java</p>\n  \n  <p>Caused by: java.io.IOException: Cannot run program \"C:\\Program\n  Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\": CreateProcess error=206,\n  The filename or extension is too long\n      at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\n      at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)</p>\n  \n  <p>Caused by: java.io.IOException: Cannot run program \"C:\\Program\n  Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\": CreateProcess error=206,\n  The filename or extension is too long\n      at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\n      at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)*</p>\n</blockquote>\n"},{"tags":["java","arrays","arraylist","dynamic","dynamic-arrays"],"comments":[{"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"score":0,"creation_date":1256861137,"post_id":1647260,"comment_id":1517946,"body_markdown":"I fixed up the formatting of the question, you can just the title if you want, just be descriptive. and welcome to stackoverflow! :D","body":"I fixed up the formatting of the question, you can just the title if you want, just be descriptive. and welcome to stackoverflow! :D"}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1256861099,"creation_date":1256861099,"answer_id":1647276,"question_id":1647260,"body_markdown":"You set the number of elements to anything you want at the time you create it:\r\n\r\n    xClass[] mysclass = new xClass[n];\r\n\r\nThen you can initialize the elements in a loop. I am guessing that this is what you need.\r\n\r\nIf you need to add or remove elements to the array after you create it, then you would have to use an `ArrayList`.","title":"Java dynamic array sizes?","body":"<p>You set the number of elements to anything you want at the time you create it:</p>\n\n<pre><code>xClass[] mysclass = new xClass[n];\n</code></pre>\n\n<p>Then you can initialize the elements in a loop. I am guessing that this is what you need.</p>\n\n<p>If you need to add or remove elements to the array after you create it, then you would have to use an <code>ArrayList</code>.</p>\n"},{"comments":[{"owner":{"account_id":68488,"reputation":1368,"user_id":199793,"accept_rate":40,"display_name":"CBGraham"},"score":2,"creation_date":1537806324,"post_id":1647277,"comment_id":91908583,"body_markdown":"List is the interface and ArrayList is the implementation.  Creating it as an ArrayList but referring to it as a List (so it can change later) is correct.","body":"List is the interface and ArrayList is the implementation.  Creating it as an ArrayList but referring to it as a List (so it can change later) is correct."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":1,"down_vote_count":0,"up_vote_count":189,"is_accepted":true,"score":189,"last_activity_date":1590235563,"creation_date":1256861107,"answer_id":1647277,"question_id":1647260,"body_markdown":"No you can&#39;t change the size of an array once created. You either have to allocate it bigger than you think you&#39;ll need or accept the overhead of having to reallocate it needs to grow in size. When it does you&#39;ll have to allocate a new one and copy the data from the old to the new:\r\n\r\n    int[] oldItems = new int[10];\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        oldItems[i] = i + 10;\r\n    }\r\n    int[] newItems = new int[20];\r\n    System.arraycopy(oldItems, 0, newItems, 0, 10);\r\n    oldItems = newItems;\r\n\r\nIf you find yourself in this situation, I&#39;d highly recommend using the Java Collections instead. In particular [`ArrayList`][1] essentially wraps an array and takes care of the logic for growing the array as required:\r\n\r\n    List&lt;XClass&gt; myclass = new ArrayList&lt;XClass&gt;();\r\n    myclass.add(new XClass());\r\n    myclass.add(new XClass());\r\n\r\nGenerally an `ArrayList` is a preferable solution to an array anyway for several reasons. For one thing, arrays are mutable. If you have a class that does this:\r\n\r\n    class Myclass {\r\n        private int[] items;\r\n    \r\n        public int[] getItems() {\r\n            return items;\r\n        }\r\n    }\r\n\r\nyou&#39;ve created a problem as a caller can change your private data member, which leads to all sorts of defensive copying. Compare this to the List version:\r\n\r\n    class Myclass {\r\n        private List&lt;Integer&gt; items;\r\n    \r\n        public List&lt;Integer&gt; getItems() {\r\n            return Collections.unmodifiableList(items);\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"Java dynamic array sizes?","body":"<p>No you can't change the size of an array once created. You either have to allocate it bigger than you think you'll need or accept the overhead of having to reallocate it needs to grow in size. When it does you'll have to allocate a new one and copy the data from the old to the new:</p>\n\n<pre><code>int[] oldItems = new int[10];\nfor (int i = 0; i &lt; 10; i++) {\n    oldItems[i] = i + 10;\n}\nint[] newItems = new int[20];\nSystem.arraycopy(oldItems, 0, newItems, 0, 10);\noldItems = newItems;\n</code></pre>\n\n<p>If you find yourself in this situation, I'd highly recommend using the Java Collections instead. In particular <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> essentially wraps an array and takes care of the logic for growing the array as required:</p>\n\n<pre><code>List&lt;XClass&gt; myclass = new ArrayList&lt;XClass&gt;();\nmyclass.add(new XClass());\nmyclass.add(new XClass());\n</code></pre>\n\n<p>Generally an <code>ArrayList</code> is a preferable solution to an array anyway for several reasons. For one thing, arrays are mutable. If you have a class that does this:</p>\n\n<pre><code>class Myclass {\n    private int[] items;\n\n    public int[] getItems() {\n        return items;\n    }\n}\n</code></pre>\n\n<p>you've created a problem as a caller can change your private data member, which leads to all sorts of defensive copying. Compare this to the List version:</p>\n\n<pre><code>class Myclass {\n    private List&lt;Integer&gt; items;\n\n    public List&lt;Integer&gt; getItems() {\n        return Collections.unmodifiableList(items);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256861143,"creation_date":1256861143,"answer_id":1647280,"question_id":1647260,"body_markdown":"Where you declare the myclass[] array as :\r\n\r\n    xClass myclass[] = new xClass[10]\r\n\r\n, simply pass in as an argument the number of XClass elements you&#39;ll need.  At that point do you know how many you will need?  By declaring the array as having 10 elements, you are not declaring 10 XClass objects, you&#39;re simply creating an array with 10 elements of type xClass.","title":"Java dynamic array sizes?","body":"<p>Where you declare the myclass[] array as :</p>\n\n<pre><code>xClass myclass[] = new xClass[10]\n</code></pre>\n\n<p>, simply pass in as an argument the number of XClass elements you'll need.  At that point do you know how many you will need?  By declaring the array as having 10 elements, you are not declaring 10 XClass objects, you're simply creating an array with 10 elements of type xClass.</p>\n"},{"tags":[],"owner":{"account_id":68279,"reputation":10429,"user_id":199305,"accept_rate":75,"display_name":"J&#233; Queue"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1256861465,"creation_date":1256861465,"answer_id":1647295,"question_id":1647260,"body_markdown":"Yes, wrap it and use the Collections framework.\r\n\r\n    List l = new ArrayList();\r\n    l.add(new xClass());\r\n    // do stuff\r\n    l.add(new xClass());\r\n\r\nThen use List.toArray() when necessary, or just iterate over said List.\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>Yes, wrap it and use the Collections framework.</p>\n\n<pre><code>List l = new ArrayList();\nl.add(new xClass());\n// do stuff\nl.add(new xClass());\n</code></pre>\n\n<p>Then use List.toArray() when necessary, or just iterate over said List.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1256863494,"creation_date":1256862602,"answer_id":1647374,"question_id":1647260,"body_markdown":"As others have said, you cannot change the size of an existing Java array.  \r\n\r\nArrayList is the closest that standard Java has to a dynamic sized array.  However, there are some things about ArrayList (actually the List interface) that are not &quot;array like&quot;.  For example:\r\n\r\n - You cannot use `[ ... ]` to index a list.  You have to use the `get(int)` and `set(int, E)` methods.\r\n - An ArrayList is created with zero elements.  You cannot simple create an ArrayList with 20 elements and then call `set(15, foo)`.\r\n - You cannot directly change the size of an ArrayList.  You do it indirectly using the various `add`, `insert` and `remove` methods.\r\n\r\nIf you want something more array-like, you will need to design your own API.  (Maybe someone could chime in with an existing third party library ... I couldn&#39;t find one with 2 minutes &quot;research&quot; using Google :-) )\r\n\r\nIf you only really need an array that grows *as you are initializing it*, then the solution is something like this.\r\n\r\n    ArrayList&lt;T&gt; tmp = new ArrayList&lt;T&gt;();\r\n    while (...) {\r\n        tmp.add(new T(...));\r\n    }\r\n    // This creates a new array and copies the element of &#39;tmp&#39; to it.\r\n    T[] array = tmp.toArray(new T[tmp.size()]);\r\n    \r\n\r\n","title":"Java dynamic array sizes?","body":"<p>As others have said, you cannot change the size of an existing Java array.  </p>\n\n<p>ArrayList is the closest that standard Java has to a dynamic sized array.  However, there are some things about ArrayList (actually the List interface) that are not \"array like\".  For example:</p>\n\n<ul>\n<li>You cannot use <code>[ ... ]</code> to index a list.  You have to use the <code>get(int)</code> and <code>set(int, E)</code> methods.</li>\n<li>An ArrayList is created with zero elements.  You cannot simple create an ArrayList with 20 elements and then call <code>set(15, foo)</code>.</li>\n<li>You cannot directly change the size of an ArrayList.  You do it indirectly using the various <code>add</code>, <code>insert</code> and <code>remove</code> methods.</li>\n</ul>\n\n<p>If you want something more array-like, you will need to design your own API.  (Maybe someone could chime in with an existing third party library ... I couldn't find one with 2 minutes \"research\" using Google :-) )</p>\n\n<p>If you only really need an array that grows <em>as you are initializing it</em>, then the solution is something like this.</p>\n\n<pre><code>ArrayList&lt;T&gt; tmp = new ArrayList&lt;T&gt;();\nwhile (...) {\n    tmp.add(new T(...));\n}\n// This creates a new array and copies the element of 'tmp' to it.\nT[] array = tmp.toArray(new T[tmp.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1256863536,"creation_date":1256863536,"answer_id":1647433,"question_id":1647260,"body_markdown":"In java array length is fixed.\r\n\r\nYou can use a List to hold the values and invoke the `toArray` method if needed\r\nSee the following sample:\r\n\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n\r\n    public class A  {\r\n\r\n        public static void main( String [] args ) {\r\n            // dynamically hold the instances\r\n            List&lt;xClass&gt; list = new ArrayList&lt;xClass&gt;();\r\n\r\n            // fill it with a random number between 0 and 100\r\n            int elements = new Random().nextInt(100);  \r\n            for( int i = 0 ; i &lt; elements ; i++ ) {\r\n                list.add( new xClass() );\r\n            }\r\n\r\n            // convert it to array\r\n            xClass [] array = list.toArray( new xClass[ list.size() ] );\r\n\r\n\r\n            System.out.println( &quot;size of array = &quot; + array.length );\r\n        }\r\n    }\r\n    class xClass {}\r\n\r\n\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>In java array length is fixed.</p>\n\n<p>You can use a List to hold the values and invoke the <code>toArray</code> method if needed\nSee the following sample:</p>\n\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Random;\n\npublic class A  {\n\n    public static void main( String [] args ) {\n        // dynamically hold the instances\n        List&lt;xClass&gt; list = new ArrayList&lt;xClass&gt;();\n\n        // fill it with a random number between 0 and 100\n        int elements = new Random().nextInt(100);  \n        for( int i = 0 ; i &lt; elements ; i++ ) {\n            list.add( new xClass() );\n        }\n\n        // convert it to array\n        xClass [] array = list.toArray( new xClass[ list.size() ] );\n\n\n        System.out.println( \"size of array = \" + array.length );\n    }\n}\nclass xClass {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256864373,"creation_date":1256864373,"answer_id":1647476,"question_id":1647260,"body_markdown":"As other users say, you probably need an implementation of java.util.List.\r\n\r\nIf, for some reason, you finally need an array, you can do two things:\r\n\r\n - Use a List and then convert it to an array with myList.toArray()\r\n\r\n - Use an array of certain size. If you need more or less size, you can modify it with java.util.Arrays methods.\r\n\r\nBest solution will depend on your problem ;)","title":"Java dynamic array sizes?","body":"<p>As other users say, you probably need an implementation of java.util.List.</p>\n\n<p>If, for some reason, you finally need an array, you can do two things:</p>\n\n<ul>\n<li><p>Use a List and then convert it to an array with myList.toArray()</p></li>\n<li><p>Use an array of certain size. If you need more or less size, you can modify it with java.util.Arrays methods.</p></li>\n</ul>\n\n<p>Best solution will depend on your problem ;)</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1354021674,"post_id":12269676,"comment_id":18618309,"body_markdown":"Unless you specifically need a thread-safe (-ish) type, you should use ArrayList rather than Vector.","body":"Unless you specifically need a thread-safe (-ish) type, you should use ArrayList rather than Vector."}],"tags":[],"owner":{"account_id":1811039,"reputation":149,"user_id":1647112,"accept_rate":78,"display_name":"Shashank Raghunath"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349335390,"creation_date":1346784913,"answer_id":12269676,"question_id":1647260,"body_markdown":"I recommend using vectors instead. Very easy to use and has many predefined methods for implementation.\r\n\r\n    import java.util.*;\r\n\r\n    Vector&lt;Integer&gt; v=new Vector&lt;Integer&gt;(5,2);\r\n\r\nto add an element simply use:\r\n\r\n    v.addElement(int);\r\n\r\nIn the *(5,2)* the first 5 is the initial size of the vector. If you exceed the initial size,the vector will grow by 2 places. If it exceeds again, then it will again increase by 2 places and so on.\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>I recommend using vectors instead. Very easy to use and has many predefined methods for implementation.</p>\n\n<pre><code>import java.util.*;\n\nVector&lt;Integer&gt; v=new Vector&lt;Integer&gt;(5,2);\n</code></pre>\n\n<p>to add an element simply use:</p>\n\n<pre><code>v.addElement(int);\n</code></pre>\n\n<p>In the <em>(5,2)</em> the first 5 is the initial size of the vector. If you exceed the initial size,the vector will grow by 2 places. If it exceeds again, then it will again increase by 2 places and so on.</p>\n"},{"comments":[{"owner":{"account_id":861898,"reputation":101,"user_id":1250932,"display_name":"Micha Berger"},"score":0,"creation_date":1504125576,"post_id":16007002,"comment_id":78897906,"body_markdown":"To be specific:\nif (i &gt;= mysclass.length) mysclass = Arrays.copyOf(mysclass, i+1);\nmysclass[i] = new MyClass();","body":"To be specific: if (i &gt;= mysclass.length) mysclass = Arrays.copyOf(mysclass, i+1); mysclass[i] = new MyClass();"}],"tags":[],"owner":{"account_id":2360238,"reputation":155,"user_id":2067067,"display_name":"man.2067067"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486690297,"creation_date":1365994487,"answer_id":16007002,"question_id":1647260,"body_markdown":"`Arrays.copyOf()` method has many options to fix the problem with Array length increasing dynamically.\r\n\r\n[Java API][1]\r\n\r\n\r\n  [1]:http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(T[],%20int)","title":"Java dynamic array sizes?","body":"<p><code>Arrays.copyOf()</code> method has many options to fix the problem with Array length increasing dynamically.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(T[],%20int)\" rel=\"nofollow noreferrer\">Java API</a></p>\n"},{"tags":[],"owner":{"account_id":3308211,"reputation":350,"user_id":2782340,"display_name":"Pascal9x"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387340886,"creation_date":1387340886,"answer_id":20649628,"question_id":1647260,"body_markdown":"You can use ArrayList:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    \r\n...\r\n\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    arr.add(&quot;neo&quot;);\r\n    arr.add(&quot;morpheus&quot;);\r\n    arr.add(&quot;trinity&quot;);\r\n    Iterator&lt;String&gt; foreach = arr.iterator();\r\n    while (foreach.hasNext()) System.out.println(foreach.next());\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>You can use ArrayList:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\narr.add(\"neo\");\narr.add(\"morpheus\");\narr.add(\"trinity\");\nIterator&lt;String&gt; foreach = arr.iterator();\nwhile (foreach.hasNext()) System.out.println(foreach.next());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7424018,"reputation":79,"user_id":5647204,"accept_rate":33,"display_name":"bakz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449433179,"creation_date":1449432157,"answer_id":34122020,"question_id":1647260,"body_markdown":"It is a good practice get the amount you need to store first then initialize the array.\r\n\r\nfor example, you would ask the user how many data he need to store and then initialize it, or query the component or argument of how many you need to store.\r\nif you want a dynamic array you could use `ArrayList()` and use `al.add();` function to keep adding, then you can transfer it to a fixed array.\r\n\r\n    //Initialize ArrayList and cast string so ArrayList accepts strings (or anything\r\n    ArrayList&lt;string&gt; al = new ArrayList(); \r\n    //add a certain amount of data\r\n    for(int i=0;i&lt;x;i++)\r\n    {\r\n      al.add(&quot;data &quot;+i); \r\n    }\r\n    \r\n    //get size of data inside\r\n    int size = al.size(); \r\n    //initialize String array with the size you have\r\n    String strArray[] = new String[size]; \r\n    //insert data from ArrayList to String array\r\n    for(int i=0;i&lt;size;i++)\r\n    {\r\n      strArray[i] = al.get(i);\r\n    }\r\n\r\n\r\ndoing so is redundant but just to show you the idea, `ArrayList` can hold objects unlike other primitive data types and are very easy to manipulate, removing anything from the middle is easy as well, completely dynamic.same with `List` and `Stack`\r\n","title":"Java dynamic array sizes?","body":"<p>It is a good practice get the amount you need to store first then initialize the array.</p>\n\n<p>for example, you would ask the user how many data he need to store and then initialize it, or query the component or argument of how many you need to store.\nif you want a dynamic array you could use <code>ArrayList()</code> and use <code>al.add();</code> function to keep adding, then you can transfer it to a fixed array.</p>\n\n<pre><code>//Initialize ArrayList and cast string so ArrayList accepts strings (or anything\nArrayList&lt;string&gt; al = new ArrayList(); \n//add a certain amount of data\nfor(int i=0;i&lt;x;i++)\n{\n  al.add(\"data \"+i); \n}\n\n//get size of data inside\nint size = al.size(); \n//initialize String array with the size you have\nString strArray[] = new String[size]; \n//insert data from ArrayList to String array\nfor(int i=0;i&lt;size;i++)\n{\n  strArray[i] = al.get(i);\n}\n</code></pre>\n\n<p>doing so is redundant but just to show you the idea, <code>ArrayList</code> can hold objects unlike other primitive data types and are very easy to manipulate, removing anything from the middle is easy as well, completely dynamic.same with <code>List</code> and <code>Stack</code></p>\n"},{"tags":[],"owner":{"display_name":"user5096772"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449890718,"creation_date":1449890718,"answer_id":34235888,"question_id":1647260,"body_markdown":"Java Array sizes are fixed , You cannot make dynamic Arrays as that of in C++.\r\n","title":"Java dynamic array sizes?","body":"<p>Java Array sizes are fixed , You cannot make dynamic Arrays as that of in C++.</p>\n"},{"tags":[],"owner":{"account_id":8749132,"reputation":1,"user_id":6543116,"display_name":"Maranatha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467530538,"creation_date":1467522924,"answer_id":38166961,"question_id":1647260,"body_markdown":"I don&#39;t know if you can change the size at runtime but you can allocate the size at runtime. Try using this code:\r\n\r\n    class MyClass {\r\n        void myFunction () {\r\n            Scanner s = new Scanner (System.in);\r\n            int myArray [];\r\n            int x;\r\n        \r\n            System.out.print (&quot;Enter the size of the array: &quot;);\r\n            x = s.nextInt();\r\n        \r\n            myArray = new int[x];\r\n        }\r\n    }\r\n\r\nthis assigns your array size to be the one entered at run time into x.","title":"Java dynamic array sizes?","body":"<p>I don't know if you can change the size at runtime but you can allocate the size at runtime. Try using this code:</p>\n\n<pre><code>class MyClass {\n    void myFunction () {\n        Scanner s = new Scanner (System.in);\n        int myArray [];\n        int x;\n\n        System.out.print (\"Enter the size of the array: \");\n        x = s.nextInt();\n\n        myArray = new int[x];\n    }\n}\n</code></pre>\n\n<p>this assigns your array size to be the one entered at run time into x.</p>\n"},{"tags":[],"owner":{"account_id":9725141,"reputation":194,"user_id":7212370,"display_name":"Wallace Stev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480144045,"creation_date":1480144045,"answer_id":40815898,"question_id":1647260,"body_markdown":"Here&#39;s a method that doesn&#39;t use ArrayList. The user specifies the size and you can add a do-while loop for recursion.\r\n\r\n    import java.util.Scanner;\r\n        public class Dynamic {\r\n        \tpublic static Scanner value;\r\n        \tpublic static void main(String[]args){\r\n        \t\tvalue=new Scanner(System.in);\r\n        \t\tSystem.out.println(&quot;Enter the number of tests to calculate average\\n&quot;);\r\n        \t\tint limit=value.nextInt();\r\n        \t\tint index=0;\r\n        \t\tint [] marks=new int[limit];\r\n        \t\tfloat sum,ave;\r\n        \t\tsum=0;\t\t\r\n        \t\twhile(index&lt;limit)\r\n        \t\t{\r\n        \t\t\tint test=index+1;\r\n        \t\t\tSystem.out.println(&quot;Enter the marks on test &quot; +test);\r\n        \t\t\tmarks[index]=value.nextInt();\r\n        \t\t\tsum+=marks[index];\r\n        \t\t\tindex++;\r\n        \t\t}\r\n        \t\tave=sum/limit;\r\n        \t\tSystem.out.println(&quot;The average is: &quot; + ave);\r\n        \t}\r\n        }","title":"Java dynamic array sizes?","body":"<p>Here's a method that doesn't use ArrayList. The user specifies the size and you can add a do-while loop for recursion.</p>\n\n<pre><code>import java.util.Scanner;\n    public class Dynamic {\n        public static Scanner value;\n        public static void main(String[]args){\n            value=new Scanner(System.in);\n            System.out.println(\"Enter the number of tests to calculate average\\n\");\n            int limit=value.nextInt();\n            int index=0;\n            int [] marks=new int[limit];\n            float sum,ave;\n            sum=0;      \n            while(index&lt;limit)\n            {\n                int test=index+1;\n                System.out.println(\"Enter the marks on test \" +test);\n                marks[index]=value.nextInt();\n                sum+=marks[index];\n                index++;\n            }\n            ave=sum/limit;\n            System.out.println(\"The average is: \" + ave);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9171897,"reputation":325,"user_id":6819079,"display_name":"Jatin Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485910629,"creation_date":1485910629,"answer_id":41970197,"question_id":1647260,"body_markdown":"**In Java Array Sizes are always of Fixed Length But there is way in which you can Dynamically increase the Size of the Array at Runtime Itself**\r\n\r\nThis is the most &quot;used&quot; as well as preferred way to do it-\r\n         \r\n        int temp[]=new int[stck.length+1];\r\n        for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\r\n\t\tstck=temp;\r\nIn the above code we are initializing a new temp[] array, and further using a for loop to initialize the contents of the temp with the contents of the original array ie. stck[]. And then again copying it back to the original one, giving us a new array of new SIZE.\r\n\r\nNo doubt it generates a CPU Overhead due to reinitializing an array using for loop repeatedly. But you can still use and implement it in your code.\r\nFor the best practice use &quot;Linked List&quot; instead of Array, if you want the data to be stored dynamically in the memory, of variable length. \r\n\r\nHere&#39;s a Real-Time Example based on Dynamic Stacks to INCREASE ARRAY SIZE at Run-Time\r\n\r\nFile-name: DStack.java\r\n\r\n    \r\n    public class DStack {\r\n\tprivate int stck[];\r\n\tint tos;\r\n\t\r\n\tvoid Init_Stck(int size) {\r\n\t\tstck=new int[size];\r\n\t\ttos=-1;\r\n\t}\r\n\tint Change_Stck(int size){\r\n\t\treturn stck[size];\r\n\t}\r\n\t\r\n\tpublic void push(int item){\r\n\t\tif(tos==stck.length-1){\r\n\t\t\tint temp[]=new int[stck.length+1];\r\n\t\t\tfor(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\r\n\t\t\tstck=temp;\r\n\t\t\tstck[++tos]=item;\r\n\t\t}\r\n\t\telse\r\n\t\t\tstck[++tos]=item;\r\n\t}\r\n\tpublic int pop(){\r\n\t\tif(tos&lt;0){\r\n\t\t\tSystem.out.println(&quot;Stack Underflow&quot;);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse return stck[tos--];\r\n\t}\r\n\t\r\n\tpublic void display(){\r\n\t\tfor(int x=0;x&lt;stck.length;x++){\r\n\t\t\tSystem.out.print(stck[x]+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n    }\r\n\r\nFile-name: Exec.java   \r\n(with the main class)\r\n\r\n    import java.util.*;\r\n    public class Exec {\r\n\r\n\tprivate static Scanner in;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tin = new Scanner(System.in);\r\n\t\tint option,item,i=1;\r\n\t\tDStack obj=new DStack();\r\n\t\tobj.Init_Stck(1);\r\n\t\tdo{\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;--MENU--&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Push a Value in The Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Pop a Value from the Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Display Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;4. Exit&quot;);\r\n\t\t\toption=in.nextInt();\r\n\t\t\tswitch(option){\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Enter the Value to be Pushed&quot;);\r\n\t\t\t\titem=in.nextInt();\r\n\t\t\t\tobj.push(item);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Popped Item: &quot;+obj.pop());\r\n\t\t\t\tobj.Change_Stck(obj.tos);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Displaying...&quot;);\r\n\t\t\t\tobj.display();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;Exiting...&quot;);\r\n\t\t\t\ti=0;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Enter a Valid Value&quot;);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}while(i==1);\r\n\r\n\t}\r\n\r\n    }\r\n\r\nHope this solves your query.\r\n","title":"Java dynamic array sizes?","body":"<p><strong>In Java Array Sizes are always of Fixed Length But there is way in which you can Dynamically increase the Size of the Array at Runtime Itself</strong></p>\n\n<p>This is the most \"used\" as well as preferred way to do it-</p>\n\n<pre><code>    int temp[]=new int[stck.length+1];\n    for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\n    stck=temp;\n</code></pre>\n\n<p>In the above code we are initializing a new temp[] array, and further using a for loop to initialize the contents of the temp with the contents of the original array ie. stck[]. And then again copying it back to the original one, giving us a new array of new SIZE.</p>\n\n<p>No doubt it generates a CPU Overhead due to reinitializing an array using for loop repeatedly. But you can still use and implement it in your code.\nFor the best practice use \"Linked List\" instead of Array, if you want the data to be stored dynamically in the memory, of variable length. </p>\n\n<p>Here's a Real-Time Example based on Dynamic Stacks to INCREASE ARRAY SIZE at Run-Time</p>\n\n<p>File-name: DStack.java</p>\n\n<pre><code>public class DStack {\nprivate int stck[];\nint tos;\n\nvoid Init_Stck(int size) {\n    stck=new int[size];\n    tos=-1;\n}\nint Change_Stck(int size){\n    return stck[size];\n}\n\npublic void push(int item){\n    if(tos==stck.length-1){\n        int temp[]=new int[stck.length+1];\n        for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\n        stck=temp;\n        stck[++tos]=item;\n    }\n    else\n        stck[++tos]=item;\n}\npublic int pop(){\n    if(tos&lt;0){\n        System.out.println(\"Stack Underflow\");\n        return 0;\n    }\n    else return stck[tos--];\n}\n\npublic void display(){\n    for(int x=0;x&lt;stck.length;x++){\n        System.out.print(stck[x]+\" \");\n    }\n    System.out.println();\n}\n\n}\n</code></pre>\n\n<p>File-name: Exec.java<br>\n(with the main class)</p>\n\n<pre><code>import java.util.*;\npublic class Exec {\n\nprivate static Scanner in;\n\npublic static void main(String[] args) {\n    in = new Scanner(System.in);\n    int option,item,i=1;\n    DStack obj=new DStack();\n    obj.Init_Stck(1);\n    do{\n        System.out.println();\n        System.out.println(\"--MENU--\");\n        System.out.println(\"1. Push a Value in The Stack\");\n        System.out.println(\"2. Pop a Value from the Stack\");\n        System.out.println(\"3. Display Stack\");\n        System.out.println(\"4. Exit\");\n        option=in.nextInt();\n        switch(option){\n        case 1:\n            System.out.println(\"Enter the Value to be Pushed\");\n            item=in.nextInt();\n            obj.push(item);\n            break;\n        case 2:\n            System.out.println(\"Popped Item: \"+obj.pop());\n            obj.Change_Stck(obj.tos);\n            break;\n        case 3:\n            System.out.println(\"Displaying...\");\n            obj.display();\n            break;\n        case 4:\n            System.out.println(\"Exiting...\");\n            i=0;\n            break;\n        default:\n            System.out.println(\"Enter a Valid Value\");\n\n        }\n    }while(i==1);\n\n}\n\n}\n</code></pre>\n\n<p>Hope this solves your query.</p>\n"},{"tags":[],"owner":{"account_id":11021259,"reputation":11,"user_id":8095431,"display_name":"jyoti bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496298025,"creation_date":1496289067,"answer_id":44298229,"question_id":1647260,"body_markdown":"Yes, we can do this way.\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Collection_Basic {\r\n    \r\n    \tprivate static Scanner sc;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tObject[] obj=new Object[4];\r\n    \t\tsc = new Scanner(System.in);\r\n    \t\t\r\n    \t\t\r\n    \t\t//Storing element\r\n    \t\tSystem.out.println(&quot;enter your element&quot;);\r\n    \t\tfor(int i=0;i&lt;4;i++){\r\n    \t\t\tobj[i]=sc.nextInt();\r\n    \t\t}\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * here, size reaches with its maximum capacity so u can not store more element,\r\n    \t\t * \r\n    \t\t * for storing more element we have to create new array Object with required size\r\n    \t\t */\r\n    \t\t\r\n    \t\tObject[] tempObj=new Object[10];\r\n    \t\t\r\n    \t\t//copying old array to new Array\r\n    \t\t\r\n    \t\tint oldArraySize=obj.length;\r\n    \t\tint i=0;\r\n    \t\tfor(;i&lt;oldArraySize;i++){\r\n    \t\t\t\r\n    \t\t\ttempObj[i]=obj[i];\r\n    \t\t}\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * storing new element to the end of new Array objebt\r\n    \t\t */\r\n    \t\ttempObj[i]=90;\r\n    \r\n    \t\t//assigning new array Object refeence to the old one\r\n    \t\t\r\n    \t\tobj=tempObj;\r\n    \t\t\r\n    \t\tfor(int j=0;j&lt;obj.length;j++){\r\n    \t\t\tSystem.out.println(&quot;obj[&quot;+j+&quot;] -&quot;+obj[j]);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>Yes, we can do this way.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Collection_Basic {\n\n    private static Scanner sc;\n\n    public static void main(String[] args) {\n\n        Object[] obj=new Object[4];\n        sc = new Scanner(System.in);\n\n\n        //Storing element\n        System.out.println(\"enter your element\");\n        for(int i=0;i&lt;4;i++){\n            obj[i]=sc.nextInt();\n        }\n\n        /*\n         * here, size reaches with its maximum capacity so u can not store more element,\n         * \n         * for storing more element we have to create new array Object with required size\n         */\n\n        Object[] tempObj=new Object[10];\n\n        //copying old array to new Array\n\n        int oldArraySize=obj.length;\n        int i=0;\n        for(;i&lt;oldArraySize;i++){\n\n            tempObj[i]=obj[i];\n        }\n\n        /*\n         * storing new element to the end of new Array objebt\n         */\n        tempObj[i]=90;\n\n        //assigning new array Object refeence to the old one\n\n        obj=tempObj;\n\n        for(int j=0;j&lt;obj.length;j++){\n            System.out.println(\"obj[\"+j+\"] -\"+obj[j]);\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4483891,"reputation":177,"user_id":3647184,"display_name":"Bosko Popovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511908057,"creation_date":1511908057,"answer_id":47541993,"question_id":1647260,"body_markdown":"Since ArrayList takes to much memory when I need array of primitive types, I prefer using IntStream.builder() for creating int array (You can also use LongStream and DoubleStream builders).\r\n\r\nExample:\r\n\r\n    Builder builder = IntStream.builder();\r\n    int arraySize = new Random().nextInt();\r\n    for(int i = 0; i&lt;arraySize; i++ ) {\r\n        builder.add(i);\r\n    }\r\n    int[] array = builder.build().toArray();\r\n\r\nNote: available since Java 8.","title":"Java dynamic array sizes?","body":"<p>Since ArrayList takes to much memory when I need array of primitive types, I prefer using IntStream.builder() for creating int array (You can also use LongStream and DoubleStream builders).</p>\n\n<p>Example:</p>\n\n<pre><code>Builder builder = IntStream.builder();\nint arraySize = new Random().nextInt();\nfor(int i = 0; i&lt;arraySize; i++ ) {\n    builder.add(i);\n}\nint[] array = builder.build().toArray();\n</code></pre>\n\n<p>Note: available since Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3340565,"reputation":1007,"user_id":2806948,"accept_rate":78,"display_name":"Chinthaka Devinda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532317167,"creation_date":1532317167,"answer_id":51471300,"question_id":1647260,"body_markdown":"You can do some thing \r\n\r\n\r\n\r\n\tprivate  static Person []  addPersons(Person[] persons, Person personToAdd) {\r\n\t\tint currentLenght = persons.length;\r\n\t\t\r\n\t\tPerson [] personsArrayNew = Arrays.copyOf(persons, currentLenght +1);\r\n\t\tpersonsArrayNew[currentLenght]  = personToAdd;\r\n\t\t\r\n\t\treturn personsArrayNew;\r\n\t\t\r\n\t}","title":"Java dynamic array sizes?","body":"<p>You can do some thing </p>\n\n<pre><code>private  static Person []  addPersons(Person[] persons, Person personToAdd) {\n    int currentLenght = persons.length;\n\n    Person [] personsArrayNew = Arrays.copyOf(persons, currentLenght +1);\n    personsArrayNew[currentLenght]  = personToAdd;\n\n    return personsArrayNew;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25993260,"reputation":1,"user_id":19705054,"display_name":"shevalye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295051,"creation_date":1667208624,"answer_id":74261215,"question_id":1647260,"body_markdown":"You can create array with variable containing length. Like new int[n]. And pass n dynamically as argument to method. You can also create array with maximum size you can possibly need. And also create variable to track current size. depends on what your usage is.","title":"Java dynamic array sizes?","body":"<p>You can create array with variable containing length. Like new int[n]. And pass n dynamically as argument to method. You can also create array with maximum size you can possibly need. And also create variable to track current size. depends on what your usage is.</p>\n"}],"owner":{"account_id":68284,"reputation":1335,"user_id":199311,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510243,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":1647277,"answer_count":19,"score":126,"last_activity_date":1681741370,"creation_date":1256860855,"question_id":1647260,"body_markdown":"I have a class - XClass, that I want to load into an array of XClasses:\r\n\r\n    XClass myClass[] = new XClass[10];\r\n    myclass[0] = new XClass();\r\n    myclass[9] = new XClass();\r\n\r\nHowever, I don&#39;t know if I will need 10, 8 or 12 classes or any other number for that matter.  \r\nI won&#39;t know until runtime. \r\n\r\nCan I change the number of elements in an array on the fly?  \r\nIf so, how?\r\n","title":"Java dynamic array sizes?","body":"<p>I have a class - XClass, that I want to load into an array of XClasses:</p>\n<pre><code>XClass myClass[] = new XClass[10];\nmyclass[0] = new XClass();\nmyclass[9] = new XClass();\n</code></pre>\n<p>However, I don't know if I will need 10, 8 or 12 classes or any other number for that matter.<br />\nI won't know until runtime.</p>\n<p>Can I change the number of elements in an array on the fly?<br />\nIf so, how?</p>\n"},{"tags":["java","memory-management","classloader","bytecode"],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681321306,"creation_date":1681262221,"answer_id":75991193,"question_id":75988503,"body_markdown":"Verification is described in great detail in the JVM specification, section 4.10.\r\n\r\nhttps://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10","title":"java memory management -java class loader","body":"<p>Verification is described in great detail in the JVM specification, section 4.10.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10</a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681741116,"creation_date":1681740786,"answer_id":76036103,"question_id":75988503,"body_markdown":"I don’t know which other two components this book identified, but I have the strong feeling that the book oversimplifies things or uses terms in different ways than other sources.\r\n\r\nThere is not a single class loader “used to load all the classes” but an arbitrary number of them. Even [the simplest setup] features three of them,\r\n\r\n - The Bootstrap class loader\r\n - The Platform class loader\r\n - The System class loader, also known as Application class loader\r\n\r\nThe responsibility of the class loaders isn’t linking nor verifying, despite you might find contradicting sources for historical reasons. The main responsibility of a class loader is to locate the definition of a class, read it into a byte array or `ByteBuffer`, and pass it to the JVM. It’s the JVM which performs linking and verification.\r\n\r\nIn the very first Java version, the responsibilities were not as well defined as today, therefore sources from that time or sources blatantly copying from such outdated sources may still tell different things.\r\n\r\n---\r\n\r\nOf course, one could try to explain a Java execution environment by splitting it into arbitrary conceptional components and even use names clashing with terms used in other documentations. That’s not necessarily wrong, but obviously will cause confusion as soon as you try to match this explanation with other sources.\r\n\r\n---\r\n\r\nWhen you generate bytecode, e.g. by compiling source code, the bytecode is in theory correct and consistent but there are strong reasons not to trust the bytecode blindly in an execution environment.\r\n\r\n - There is no guaranty that all components (libraries or classes) used in the execution environment are the same version used when compiling. Classes or libraries could have changed in an incompatible way after the classes or libraries using them had been compiled.\r\n\r\n - There is no guarantee that all tools involved (compilers or other code generators) were free of bugs\r\n\r\n - There could be intentional modifications to the compiled code, to circumvent access restrictions or compromise the execution environment in some other way.  \r\n   This was more an issue of the past, when Applets or Webstart applications, in other words, code downloaded from arbitrary internet sources supposed to run with a security manager, were a thing.\r\n\r\nA summary is given in [The Java Language Specification]:\r\n\r\n&gt; *Verification* ensures that the binary representation of a class or interface is structurally correct. For example, it checks that every instruction has a valid operation code; that every branch instruction branches to the start of some other instruction, rather than into the middle of an instruction; that every method is provided with a structurally correct signature; and that every instruction obeys the type discipline of the Java Virtual Machine.\r\n\r\nThere’s also a chapter in [The Java Virtual Machine Specification] acknowledging the rationale given above:\r\n\r\n&gt; Even though a compiler for the Java programming language must only produce *class* files that satisfy all the static and structural constraints in the previous sections, the Java Virtual Machine has no guarantee that any file it is asked to load was generated by that compiler or is properly formed. Applications such as web browsers do not download source code, which they then compile; these applications download already-compiled *class* files. The browser needs to determine whether the *class* file was produced by a trustworthy compiler or by an adversary attempting to exploit the Java Virtual Machine.\r\n&gt; \r\n&gt; *An additional problem with compile-time checking is version skew*. …\r\n\r\n[the simplest setup]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\r\n[The Java Language Specification]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.3.1\r\n[The Java Virtual Machine Specification]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10","title":"java memory management -java class loader","body":"<p>I don’t know which other two components this book identified, but I have the strong feeling that the book oversimplifies things or uses terms in different ways than other sources.</p>\n<p>There is not a single class loader “used to load all the classes” but an arbitrary number of them. Even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"nofollow noreferrer\">the simplest setup</a> features three of them,</p>\n<ul>\n<li>The Bootstrap class loader</li>\n<li>The Platform class loader</li>\n<li>The System class loader, also known as Application class loader</li>\n</ul>\n<p>The responsibility of the class loaders isn’t linking nor verifying, despite you might find contradicting sources for historical reasons. The main responsibility of a class loader is to locate the definition of a class, read it into a byte array or <code>ByteBuffer</code>, and pass it to the JVM. It’s the JVM which performs linking and verification.</p>\n<p>In the very first Java version, the responsibilities were not as well defined as today, therefore sources from that time or sources blatantly copying from such outdated sources may still tell different things.</p>\n<hr />\n<p>Of course, one could try to explain a Java execution environment by splitting it into arbitrary conceptional components and even use names clashing with terms used in other documentations. That’s not necessarily wrong, but obviously will cause confusion as soon as you try to match this explanation with other sources.</p>\n<hr />\n<p>When you generate bytecode, e.g. by compiling source code, the bytecode is in theory correct and consistent but there are strong reasons not to trust the bytecode blindly in an execution environment.</p>\n<ul>\n<li><p>There is no guaranty that all components (libraries or classes) used in the execution environment are the same version used when compiling. Classes or libraries could have changed in an incompatible way after the classes or libraries using them had been compiled.</p>\n</li>\n<li><p>There is no guarantee that all tools involved (compilers or other code generators) were free of bugs</p>\n</li>\n<li><p>There could be intentional modifications to the compiled code, to circumvent access restrictions or compromise the execution environment in some other way.<br />\nThis was more an issue of the past, when Applets or Webstart applications, in other words, code downloaded from arbitrary internet sources supposed to run with a security manager, were a thing.</p>\n</li>\n</ul>\n<p>A summary is given in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.3.1\" rel=\"nofollow noreferrer\">The Java Language Specification</a>:</p>\n<blockquote>\n<p><em>Verification</em> ensures that the binary representation of a class or interface is structurally correct. For example, it checks that every instruction has a valid operation code; that every branch instruction branches to the start of some other instruction, rather than into the middle of an instruction; that every method is provided with a structurally correct signature; and that every instruction obeys the type discipline of the Java Virtual Machine.</p>\n</blockquote>\n<p>There’s also a chapter in <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">The Java Virtual Machine Specification</a> acknowledging the rationale given above:</p>\n<blockquote>\n<p>Even though a compiler for the Java programming language must only produce <em>class</em> files that satisfy all the static and structural constraints in the previous sections, the Java Virtual Machine has no guarantee that any file it is asked to load was generated by that compiler or is properly formed. Applications such as web browsers do not download source code, which they then compile; these applications download already-compiled <em>class</em> files. The browser needs to determine whether the <em>class</em> file was produced by a trustworthy compiler or by an adversary attempting to exploit the Java Virtual Machine.</p>\n<p><em>An additional problem with compile-time checking is version skew</em>. …</p>\n</blockquote>\n"}],"owner":{"account_id":23948812,"reputation":21,"user_id":17940759,"display_name":"opreddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681741116,"creation_date":1681233075,"question_id":75988503,"body_markdown":"I am a beginner in java,for understanding java memory management i was reading book &#39;Java Memory Management\r\nBy Maaike van Putten , Se&#225;n Kennedy &#39; I encountered this statement &quot;To be able to execute applications, the JVM has roughly three components in place. One is used to load all the classes, the class loader. This is actually a complex process in itself; the classes are loaded and the bytecode is verified.&quot;\r\n\r\nwhat does class loader verify in bytecode (As i read all syntax verification ,access verification is done while generating bytecode not after generated and loading) can explain what exactly class loader is trying to verify in bytecode","title":"java memory management -java class loader","body":"<p>I am a beginner in java,for understanding java memory management i was reading book 'Java Memory Management\nBy Maaike van Putten , Seán Kennedy ' I encountered this statement &quot;To be able to execute applications, the JVM has roughly three components in place. One is used to load all the classes, the class loader. This is actually a complex process in itself; the classes are loaded and the bytecode is verified.&quot;</p>\n<p>what does class loader verify in bytecode (As i read all syntax verification ,access verification is done while generating bytecode not after generated and loading) can explain what exactly class loader is trying to verify in bytecode</p>\n"},{"tags":["java","annotations","aspectj"],"answers":[{"comments":[{"owner":{"account_id":5758155,"reputation":3,"user_id":4545373,"display_name":"Pavan"},"score":0,"creation_date":1681744138,"post_id":76036146,"comment_id":134102248,"body_markdown":"Thanks for looking into this Kriegaex. If I use annotation bound, when I use custom annotation on any method, annotation advice method is not getting called. Example, I have Authorize annoation which I&#39;m using for controller methods to check if user is authorized or not, when I call controller method annotation doesn&#39;t execute.","body":"Thanks for looking into this Kriegaex. If I use annotation bound, when I use custom annotation on any method, annotation advice method is not getting called. Example, I have Authorize annoation which I&#39;m using for controller methods to check if user is authorized or not, when I call controller method annotation doesn&#39;t execute."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1681746861,"post_id":76036146,"comment_id":134103015,"body_markdown":"If you use my syntax instead of your two faulty variants, it should work. If it does not, the problem is in the part of your project you have **not** shared with us here. So please, publish an [MCVE](https://stackoverflow.com/help/mcve) on GitHub. I can take a look and help you solve your problem quickly by means of analysis instead of just speculation. Making your problem reproducible is a key ability for you as a software developer.","body":"If you use my syntax instead of your two faulty variants, it should work. If it does not, the problem is in the part of your project you have <b>not</b> shared with us here. So please, publish an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub. I can take a look and help you solve your problem quickly by means of analysis instead of just speculation. Making your problem reproducible is a key ability for you as a software developer."},{"owner":{"account_id":5758155,"reputation":3,"user_id":4545373,"display_name":"Pavan"},"score":0,"creation_date":1681751535,"post_id":76036146,"comment_id":134104107,"body_markdown":"It worked, I tried &quot;@Around(&quot;@annotation(authorize)&quot;)&quot; same before posting question, it didnt worked, I might have missed something. But it is working as expected. Thanks","body":"It worked, I tried &quot;@Around(&quot;@annotation(authorize)&quot;)&quot; same before posting question, it didnt worked, I might have missed something. But it is working as expected. Thanks"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681741108,"creation_date":1681741108,"answer_id":76036146,"question_id":76033037,"body_markdown":"Your syntax is wrong. For unbound annotations it would be correct to use the fully qualified class name:\r\n\r\n```java\r\n@Around(&quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\r\npublic void validate(ProceedingJoinPoint point) throws Throwable\r\n```\r\n\r\nFor an annotation bound to an advice method parameter, you only use the parameter name as a reference:\r\n\r\n```java\r\n@Around(&quot;@annotation(authorize)&quot;)\r\npublic void validate(ProceedingJoinPoint point, Authorize authorize) throws Throwable\r\n```\r\n\r\nBy the way: If your around advice returns `void`, it can only match methods with the same return type. If the target method returns anything else, your advice needs to return the result of `proceed()` or something other matching the actual return type.\r\n\r\nPlease also make sure to adhere to Java naming conventions. `AuthValidator` looks like a class name. Method names should not be nouns like `SomeObject` but verbal descriptions like `doSomething`, starting with a lower-case character.","title":"Getting error error at ::0 formal unbound in pointcut while accessing annotation value inside an advice using ApectJ","body":"<p>Your syntax is wrong. For unbound annotations it would be correct to use the fully qualified class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\npublic void validate(ProceedingJoinPoint point) throws Throwable\n</code></pre>\n<p>For an annotation bound to an advice method parameter, you only use the parameter name as a reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(authorize)&quot;)\npublic void validate(ProceedingJoinPoint point, Authorize authorize) throws Throwable\n</code></pre>\n<p>By the way: If your around advice returns <code>void</code>, it can only match methods with the same return type. If the target method returns anything else, your advice needs to return the result of <code>proceed()</code> or something other matching the actual return type.</p>\n<p>Please also make sure to adhere to Java naming conventions. <code>AuthValidator</code> looks like a class name. Method names should not be nouns like <code>SomeObject</code> but verbal descriptions like <code>doSomething</code>, starting with a lower-case character.</p>\n"}],"owner":{"account_id":5758155,"reputation":3,"user_id":4545373,"display_name":"Pavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036146,"answer_count":1,"score":0,"last_activity_date":1681741108,"creation_date":1681719465,"question_id":76033037,"body_markdown":"I&#39;m trying to access custom annotation value inside an advice method but getting an error\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat&#39;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610)\r\nCaused by: java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut\r\n```\r\n\r\nAnnotation declaration\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD})\r\npublic @interface Authorize {\r\n    String[] entitlements() default &quot;&quot;;\r\n}\r\n```\r\n\r\nThis issue happening with second argument in the method, if I removed the second argument application starts properly.\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class AspectHandler{\r\n    @Around(value = &quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\r\n    public void AuthValidator(ProceedingJoinPoint point, Authorize authorize) throws Throwable {\r\n        String[] entitlements = authorize.entitlements();\r\n        point.proceed();\r\n    }\r\n}\r\n```\r\n\r\nI tried with argNames argument, still it doesn&#39;t work\r\n \r\n```\r\n@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize)&quot;, argNames = &quot;authorize&quot;)\r\n```\r\n\r\nalso tried \r\n```\r\n@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize) &amp;&amp; args=authorize&quot;)\r\n```","title":"Getting error error at ::0 formal unbound in pointcut while accessing annotation value inside an advice using ApectJ","body":"<p>I'm trying to access custom annotation value inside an advice method but getting an error</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610)\nCaused by: java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut\n</code></pre>\n<p>Annotation declaration</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD})\npublic @interface Authorize {\n    String[] entitlements() default &quot;&quot;;\n}\n</code></pre>\n<p>This issue happening with second argument in the method, if I removed the second argument application starts properly.</p>\n<pre><code>@Aspect\n@Component\npublic class AspectHandler{\n    @Around(value = &quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\n    public void AuthValidator(ProceedingJoinPoint point, Authorize authorize) throws Throwable {\n        String[] entitlements = authorize.entitlements();\n        point.proceed();\n    }\n}\n</code></pre>\n<p>I tried with argNames argument, still it doesn't work</p>\n<pre><code>@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize)&quot;, argNames = &quot;authorize&quot;)\n</code></pre>\n<p>also tried</p>\n<pre><code>@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize) &amp;&amp; args=authorize&quot;)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9730,"page":495,"page_size":100}
