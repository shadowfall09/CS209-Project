{"items":[{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634310619,"creation_date":1634309822,"answer_id":69586724,"question_id":69586280,"body_markdown":"If you&#39;ve seen any examples from Confluent Platform&#39;s Schema Registry, you might have noticed code like this \r\n\r\n```\r\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,io.confluent.kafka.serializers.KafkaAvroSerializer.class);\r\nprops.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n```\r\n\r\nThe second property is used by the serializer, passed into the configure method.\r\n\r\nYou can also put an actual instance of the serializer into the client properties after the configure method has been called\r\n\r\n```\r\nSerializer&lt;?&gt; ser = new KafkaAvroSerializer();\r\nser.configure(...);  // same properties as above, but explicitly those for this serializer \r\n// props for producer \r\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,ser);\r\n```\r\n\r\nIn Kafka Connect, you will see properties like\r\n\r\n```\r\n&quot;key.converter&quot; : &quot;org.apache.kafka.connect.json.JsonConverter&quot;, \r\n&quot;key.converter.schemas.enable&quot;: &quot;true&quot;\r\n ```\r\n\r\nThe second line is a configurable value passed to the converter and its inner (de)serializer ","title":"What is the `configs` argument in Kafka&#39;s Serializer&lt;T&gt; interface?","body":"<p>If you've seen any examples from Confluent Platform's Schema Registry, you might have noticed code like this</p>\n<pre><code>props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,io.confluent.kafka.serializers.KafkaAvroSerializer.class);\nprops.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n</code></pre>\n<p>The second property is used by the serializer, passed into the configure method.</p>\n<p>You can also put an actual instance of the serializer into the client properties after the configure method has been called</p>\n<pre><code>Serializer&lt;?&gt; ser = new KafkaAvroSerializer();\nser.configure(...);  // same properties as above, but explicitly those for this serializer \n// props for producer \nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,ser);\n</code></pre>\n<p>In Kafka Connect, you will see properties like</p>\n<pre><code>&quot;key.converter&quot; : &quot;org.apache.kafka.connect.json.JsonConverter&quot;, \n&quot;key.converter.schemas.enable&quot;: &quot;true&quot;\n</code></pre>\n<p>The second line is a configurable value passed to the converter and its inner (de)serializer</p>\n"}],"owner":{"account_id":21664663,"reputation":75,"user_id":15983262,"display_name":"negimaster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634310619,"creation_date":1634307905,"question_id":69586280,"body_markdown":"Kafka&#39;s `Serializer&lt;T&gt;` interface has a `configure` method that takes a Map.\r\nBut since kafka-client&#39;s KafkaProducer key/value serializer config simply takes the name of a class and no arguments, where does this Map come from ?\r\n\r\n\r\nhttps://kafka.apache.org/30/javadoc/org/apache/kafka/common/serialization/Serializer.html#configure(java.util.Map,boolean)","title":"What is the `configs` argument in Kafka&#39;s Serializer&lt;T&gt; interface?","body":"<p>Kafka's <code>Serializer&lt;T&gt;</code> interface has a <code>configure</code> method that takes a Map.\nBut since kafka-client's KafkaProducer key/value serializer config simply takes the name of a class and no arguments, where does this Map come from ?</p>\n<p><a href=\"https://kafka.apache.org/30/javadoc/org/apache/kafka/common/serialization/Serializer.html#configure(java.util.Map,boolean)\" rel=\"nofollow noreferrer\">https://kafka.apache.org/30/javadoc/org/apache/kafka/common/serialization/Serializer.html#configure(java.util.Map,boolean)</a></p>\n"},{"tags":["java","lambda","stream"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1634302623,"post_id":69585035,"comment_id":122994436,"body_markdown":"Hint: your requirements mention *Tracks* and **Albums**. So the question is: how does the data model for Albums look like? Or do you just have a *flat* list of all the Tracks in your &quot;database&quot;? In other words: maybe you should step back and rework your *model*, and base it on albums? Just as example. Anyway, we probably cant help you, because as said: we dont know all the relevant aspects. Please share them with us!","body":"Hint: your requirements mention <i>Tracks</i> and <b>Albums</b>. So the question is: how does the data model for Albums look like? Or do you just have a <i>flat</i> list of all the Tracks in your &quot;database&quot;? In other words: maybe you should step back and rework your <i>model</i>, and base it on albums? Just as example. Anyway, we probably cant help you, because as said: we dont know all the relevant aspects. Please share them with us!"},{"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"score":0,"creation_date":1634302748,"post_id":69585035,"comment_id":122994494,"body_markdown":"Hi!, I have a flat list of all the tracks as you mentioned.","body":"Hi!, I have a flat list of all the tracks as you mentioned."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1634303174,"post_id":69585035,"comment_id":122994660,"body_markdown":"Then I strongly recommend that you at least introduce an Album class. Because you really want to be able to say `this.album.equals(that.album)` when you need to order/compare things. Because otherwise, you get into the business of comparing multiple fields (like album name, year, etc) ... if you want to be real. Sure, that depends how realistic you want to go. But figuring: there might be 2, 3 versions of the &quot;same&quot; album from the same year isn&#39;t too unrealistic.","body":"Then I strongly recommend that you at least introduce an Album class. Because you really want to be able to say <code>this.album.equals(that.album)</code> when you need to order/compare things. Because otherwise, you get into the business of comparing multiple fields (like album name, year, etc) ... if you want to be real. Sure, that depends how realistic you want to go. But figuring: there might be 2, 3 versions of the &quot;same&quot; album from the same year isn&#39;t too unrealistic."},{"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"score":0,"creation_date":1634303576,"post_id":69585035,"comment_id":122994800,"body_markdown":"I will try, thanks for your time!","body":"I will try, thanks for your time!"}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634303649,"creation_date":1634303649,"answer_id":69585298,"question_id":69585035,"body_markdown":"You could use lambda with your logic\r\n\r\n```java\r\n\r\nPredicate&lt;Track&gt; isTrackRock = t -&gt; &quot;rock&quot;.equals(t.getCategory());\r\n\r\nPredicate&lt;Track&gt; hasAlbumLessThan9Traks = t -&gt; t... // get all album with count of tracks\r\n\r\nvar listOftrack = new ArrayList&lt;Track&gt;();\r\n\r\n\r\nvar newList  =  listOftrack\r\n                    .stream()\r\n                    .filter(isTrackRock)\r\n                    .filter(hasAlbumLessThan9Traks)\r\n                    .collect(Collectors.toList());\r\n\r\n```\r\n\r\nI suggest you get already filtered from db for better performance","title":"How to filter this songs by amount tracks in an Album","body":"<p>You could use lambda with your logic</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nPredicate&lt;Track&gt; isTrackRock = t -&gt; &quot;rock&quot;.equals(t.getCategory());\n\nPredicate&lt;Track&gt; hasAlbumLessThan9Traks = t -&gt; t... // get all album with count of tracks\n\nvar listOftrack = new ArrayList&lt;Track&gt;();\n\n\nvar newList  =  listOftrack\n                    .stream()\n                    .filter(isTrackRock)\n                    .filter(hasAlbumLessThan9Traks)\n                    .collect(Collectors.toList());\n\n</code></pre>\n<p>I suggest you get already filtered from db for better performance</p>\n"},{"tags":[],"owner":{"account_id":22961150,"reputation":229,"user_id":17090988,"display_name":"Narcis Postolache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634310220,"creation_date":1634310220,"answer_id":69586801,"question_id":69585035,"body_markdown":"Haven&#39;t tested properly but you could try this :\r\n\r\n        listOfTracks.stream()\r\n                .filter(track -&gt; &quot;rock&quot;.equals(track.getCategory()))\r\n                .filter(track -&gt; listOfTracks.stream()\r\n                        .collect(Collectors.groupingBy(Track::getAlbumName, Collectors.counting())).get(track.getAlbumName()) &lt; 9L)\r\n                .collect(Collectors.toList());\r\n\r\nIf it works and it is what you need, you can try to also add a variable for listOfTracks.stream().collect(Collectors.groupingBy(Track::getCategory, Collectors.counting()))","title":"How to filter this songs by amount tracks in an Album","body":"<p>Haven't tested properly but you could try this :</p>\n<pre><code>    listOfTracks.stream()\n            .filter(track -&gt; &quot;rock&quot;.equals(track.getCategory()))\n            .filter(track -&gt; listOfTracks.stream()\n                    .collect(Collectors.groupingBy(Track::getAlbumName, Collectors.counting())).get(track.getAlbumName()) &lt; 9L)\n            .collect(Collectors.toList());\n</code></pre>\n<p>If it works and it is what you need, you can try to also add a variable for listOfTracks.stream().collect(Collectors.groupingBy(Track::getCategory, Collectors.counting()))</p>\n"}],"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634310220,"creation_date":1634302326,"question_id":69585035,"body_markdown":"I have the next Class.\r\n```java\r\npublic class Track{\r\n    private int id;\r\n    private String trackName;\r\n    private String artistName;\r\n    private String albumName;\r\n    private int amountMembers;\r\n    private int duration; //segs\r\n    private String category;\r\n    private int albumYear;\r\n    private boolean isSolist; //1 yes, 0 no \r\n}\r\n```\r\n\r\nI have a lot of `Track` in a List and I want to filter the Tracks by two requirements:\r\n\r\n - If category equals &quot;rock&quot;\r\n - If the track belongs to an album with less than 9 tracks\r\n\r\nThe first it&#39;s easy, I currently have the Tracks in a List filtered by the category &quot;rock&quot; but I can&#39;t imagine how can I do a function that filter and return the Tracks that are in an album with less than 9 songs. Any Solution? I&#39;m using Java, I can use Streams or Lambdas?. IMPORTANT: I have a flat list of tracks in my DB.","title":"How to filter this songs by amount tracks in an Album","body":"<p>I have the next Class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Track{\n    private int id;\n    private String trackName;\n    private String artistName;\n    private String albumName;\n    private int amountMembers;\n    private int duration; //segs\n    private String category;\n    private int albumYear;\n    private boolean isSolist; //1 yes, 0 no \n}\n</code></pre>\n<p>I have a lot of <code>Track</code> in a List and I want to filter the Tracks by two requirements:</p>\n<ul>\n<li>If category equals &quot;rock&quot;</li>\n<li>If the track belongs to an album with less than 9 tracks</li>\n</ul>\n<p>The first it's easy, I currently have the Tracks in a List filtered by the category &quot;rock&quot; but I can't imagine how can I do a function that filter and return the Tracks that are in an album with less than 9 songs. Any Solution? I'm using Java, I can use Streams or Lambdas?. IMPORTANT: I have a flat list of tracks in my DB.</p>\n"},{"tags":["java","multithreading","volatile","cpu-cache","memory-barriers"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634218666,"post_id":69571562,"comment_id":122970390,"body_markdown":"Side note: you need to enable asserts for your process or otherwise `foo2()` would only contain an empty if-block (i.e. the assert would never be executed).","body":"Side note: you need to enable asserts for your process or otherwise <code>foo2()</code> would only contain an empty if-block (i.e. the assert would never be executed)."},{"owner":{"account_id":9741622,"reputation":71,"user_id":7222983,"display_name":"pythonHua"},"score":0,"creation_date":1634287861,"post_id":69571562,"comment_id":122989148,"body_markdown":"@Thomas ok, Thanks.","body":"@Thomas ok, Thanks."}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634247673,"creation_date":1634218674,"answer_id":69571738,"question_id":69571562,"body_markdown":"I&#39;m pretty sure the assert can fire.  I think a volatile load is only an acquire operation (https://preshing.com/20120913/acquire-and-release-semantics/) wrt. non-volatile variables, so nothing is stopping load-load reordering.\r\n\r\nTwo `volatile` operations couldn&#39;t reorder with each other, but reordering with non-atomic operations is possible in one direction, and you picked the direction without guarantees.\r\n\r\n(Caveat, I&#39;m not a Java expert; it&#39;s possible but unlikely `volatile` has some semantics that require a more expensive implementation.)\r\n\r\n---\r\n\r\nMore concrete reasoning is that if the assert can fire when translated into asm for some specific architecture, it must be allowed to fire by the Java memory model.\r\n\r\nJava `volatile` is (AFAIK) equivalent to C++ `std::atomic` with the default `memory_order_seq_cst`.  Thus `foo2` can JIT-compile for ARM64 with a plain load for `b` and an LDAR acquire load for `a`.\r\n\r\n`ldar` can&#39;t reorder with *later* loads/stores, but can with earlier. (Except for `stlr` release stores; ARM64 was specifically designed to make C++ `std::atomic&lt;&gt;` with `memory_order_seq_cst` / Java `volatile` efficient with `ldar` and `stlr`, not having to flush the store buffer immediately on seq_cst stores, only on seeing an LDAR, so that design gives the minimal amount of ordering necessary to still recover sequential consistency as specified by C++ (and I assume Java).)\r\n\r\nOn many other ISAs, sequential-consistency stores do need to wait for the store buffer to drain itself, so they are in practice ordered wrt. later non-atomic loads.  And again on many ISAs, an acquire or SC load is done with a normal load preceded with a *barrier* which blocks loads from crossing it in either direction, [otherwise they wouldn&#39;t work][1].  That&#39;s why having the volatile load of `a` compile to an acquire-load instruction that just does an acquire *operation* is key to understanding how this can happen in practice.\r\n\r\n\r\n(In x86 asm, all loads are acquire loads and all stores are release stores.  Not sequential-release, though; x86&#39;s memory model is program order + store buffer with store-forwarding, which allows StoreLoad reordering, so Java `volatile` stores need special asm.\r\n\r\n**So the assert *can&#39;t* fire on x86, except via [compile/JIT-time reordering of the assignments][2].**  This is a good example of one reason why testing lock-free code is hard: a failing test can prove there is a problem, but testing on some hardware/software combo can&#39;t prove correctness.)\r\n\r\n\r\n  [1]: https://preshing.com/20131125/acquire-and-release-fences-dont-work-the-way-youd-expect/\r\n  [2]: https://stackoverflow.com/questions/69568946/java-instruction-reordering-and-cpu-memory-reordering","title":"Is this understanding correct for these code about java volatile and reordering?","body":"<p>I'm pretty sure the assert can fire.  I think a volatile load is only an acquire operation (<a href=\"https://preshing.com/20120913/acquire-and-release-semantics/\" rel=\"nofollow noreferrer\">https://preshing.com/20120913/acquire-and-release-semantics/</a>) wrt. non-volatile variables, so nothing is stopping load-load reordering.</p>\n<p>Two <code>volatile</code> operations couldn't reorder with each other, but reordering with non-atomic operations is possible in one direction, and you picked the direction without guarantees.</p>\n<p>(Caveat, I'm not a Java expert; it's possible but unlikely <code>volatile</code> has some semantics that require a more expensive implementation.)</p>\n<hr />\n<p>More concrete reasoning is that if the assert can fire when translated into asm for some specific architecture, it must be allowed to fire by the Java memory model.</p>\n<p>Java <code>volatile</code> is (AFAIK) equivalent to C++ <code>std::atomic</code> with the default <code>memory_order_seq_cst</code>.  Thus <code>foo2</code> can JIT-compile for ARM64 with a plain load for <code>b</code> and an LDAR acquire load for <code>a</code>.</p>\n<p><code>ldar</code> can't reorder with <em>later</em> loads/stores, but can with earlier. (Except for <code>stlr</code> release stores; ARM64 was specifically designed to make C++ <code>std::atomic&lt;&gt;</code> with <code>memory_order_seq_cst</code> / Java <code>volatile</code> efficient with <code>ldar</code> and <code>stlr</code>, not having to flush the store buffer immediately on seq_cst stores, only on seeing an LDAR, so that design gives the minimal amount of ordering necessary to still recover sequential consistency as specified by C++ (and I assume Java).)</p>\n<p>On many other ISAs, sequential-consistency stores do need to wait for the store buffer to drain itself, so they are in practice ordered wrt. later non-atomic loads.  And again on many ISAs, an acquire or SC load is done with a normal load preceded with a <em>barrier</em> which blocks loads from crossing it in either direction, <a href=\"https://preshing.com/20131125/acquire-and-release-fences-dont-work-the-way-youd-expect/\" rel=\"nofollow noreferrer\">otherwise they wouldn't work</a>.  That's why having the volatile load of <code>a</code> compile to an acquire-load instruction that just does an acquire <em>operation</em> is key to understanding how this can happen in practice.</p>\n<p>(In x86 asm, all loads are acquire loads and all stores are release stores.  Not sequential-release, though; x86's memory model is program order + store buffer with store-forwarding, which allows StoreLoad reordering, so Java <code>volatile</code> stores need special asm.</p>\n<p><strong>So the assert <em>can't</em> fire on x86, except via <a href=\"https://stackoverflow.com/questions/69568946/java-instruction-reordering-and-cpu-memory-reordering\">compile/JIT-time reordering of the assignments</a>.</strong>  This is a good example of one reason why testing lock-free code is hard: a failing test can prove there is a problem, but testing on some hardware/software combo can't prove correctness.)</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634238131,"creation_date":1634233154,"answer_id":69575082,"question_id":69571562,"body_markdown":"In addition to Peter Cordes his great answer, in terms of the JMM there is a data race on b since there is no happens before edge between the write of b and the read of b because it is a plain variable. Only if this happens before edge would exist, then you are guaranteed that if load of b=1 that also the load of a=1 is seen.\r\n\r\nInstead of making a volatile, you need to make b volatile.\r\n\r\n\r\n    int a=0;\r\n    volatile int b=0;\r\n    \r\n    thread1(){\r\n        a=1\r\n        b=1\r\n    }\r\n    \r\n    thread2(){\r\n      if(b==1) assert a==1;\r\n    }\r\n\r\nSo if thread2 sees b=1, then this read is ordered before the write of b=1 in the happens before order (volatile variable rule). And since a=1 and b=1 are ordered happens before order (program order rule), and read of b and the read of a are ordered in the happens before order (program order rule again), then due to the transitive nature of the happens before relation, there is a happens before edge between the write of a=1 and the read of a; which needs to see the value 1. \r\n\r\nYou are referring to a possible implementation of the JMM using fences. And although it provides some insights into what happens under the hood, it is equally damaging to think in terms of fences because they are not a suitable mental model. See the following counter example:\r\n\r\nhttps://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-barriers-are-sane\r\n","title":"Is this understanding correct for these code about java volatile and reordering?","body":"<p>In addition to Peter Cordes his great answer, in terms of the JMM there is a data race on b since there is no happens before edge between the write of b and the read of b because it is a plain variable. Only if this happens before edge would exist, then you are guaranteed that if load of b=1 that also the load of a=1 is seen.</p>\n<p>Instead of making a volatile, you need to make b volatile.</p>\n<pre><code>int a=0;\nvolatile int b=0;\n\nthread1(){\n    a=1\n    b=1\n}\n\nthread2(){\n  if(b==1) assert a==1;\n}\n</code></pre>\n<p>So if thread2 sees b=1, then this read is ordered before the write of b=1 in the happens before order (volatile variable rule). And since a=1 and b=1 are ordered happens before order (program order rule), and read of b and the read of a are ordered in the happens before order (program order rule again), then due to the transitive nature of the happens before relation, there is a happens before edge between the write of a=1 and the read of a; which needs to see the value 1.</p>\n<p>You are referring to a possible implementation of the JMM using fences. And although it provides some insights into what happens under the hood, it is equally damaging to think in terms of fences because they are not a suitable mental model. See the following counter example:</p>\n<p><a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-barriers-are-sane\" rel=\"nofollow noreferrer\">https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-barriers-are-sane</a></p>\n"},{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634238252,"creation_date":1634238252,"answer_id":69576098,"question_id":69571562,"body_markdown":"Yes, the assert can fail. \r\n\r\n    volatile int a = 0;\r\n    \r\n    boolean b = false;\r\n    \r\n    foo1(){ a= 10; b = true;}\r\n    \r\n    foo2(){if(b) {assert a==10;}}\r\n\r\nThe JMM guarantees that writes to `volatile` fields *happen-before* reads from them. In your example, whatever thread a did before `a = 10` will *happen-before* whatever thread b does after reading a (while executing `assert a == 10`). Since `b = true` executes after `a = 10` for thread a (for a single thread, `happens-before` is always holds), there is no guarantee that there&#39;ll be an ordering guarantee. However, consider this:\r\n\r\n    int a = 0;\r\n    \r\n    volatile boolean b = false;\r\n    \r\n    foo1(){ a= 10; b = true;}\r\n    \r\n    foo2(){if(b) {assert a==10;}}\r\n\r\nIn this example, the situation is:\r\n\r\n    a = 10 ---&gt; b = true---|\r\n                           |\r\n                           | (happens-before due to volatile&#39;s semantics)\r\n                           |\r\n                           |---&gt; if(b) ---&gt; assert a == 10\r\n\r\n                    \r\nSince you have a total order, the assert is guaranteed to pass.","title":"Is this understanding correct for these code about java volatile and reordering?","body":"<p>Yes, the assert can fail.</p>\n<pre><code>volatile int a = 0;\n\nboolean b = false;\n\nfoo1(){ a= 10; b = true;}\n\nfoo2(){if(b) {assert a==10;}}\n</code></pre>\n<p>The JMM guarantees that writes to <code>volatile</code> fields <em>happen-before</em> reads from them. In your example, whatever thread a did before <code>a = 10</code> will <em>happen-before</em> whatever thread b does after reading a (while executing <code>assert a == 10</code>). Since <code>b = true</code> executes after <code>a = 10</code> for thread a (for a single thread, <code>happens-before</code> is always holds), there is no guarantee that there'll be an ordering guarantee. However, consider this:</p>\n<pre><code>int a = 0;\n\nvolatile boolean b = false;\n\nfoo1(){ a= 10; b = true;}\n\nfoo2(){if(b) {assert a==10;}}\n</code></pre>\n<p>In this example, the situation is:</p>\n<pre><code>a = 10 ---&gt; b = true---|\n                       |\n                       | (happens-before due to volatile's semantics)\n                       |\n                       |---&gt; if(b) ---&gt; assert a == 10\n\n                \n</code></pre>\n<p>Since you have a total order, the assert is guaranteed to pass.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634309880,"creation_date":1634307669,"answer_id":69586224,"question_id":69571562,"body_markdown":"Answer to your addition.\r\n\r\n&gt; Many tutorial talk about the visibility of volatile field, just like\r\n&gt; &quot;volatile field becomes visible to all readers (other threads in\r\n&gt; particular) after a write operation completes on it&quot;. I have doubt\r\n&gt; about how could a completed write on field being invisible to other\r\n&gt; Threads(or CPUS)?\r\n\r\nThe compiler might mess up code.\r\n\r\ne.g.\r\n\r\n    boolean stop;\r\n    \r\n    void run(){\r\n      while(!stop)println();\r\n    }\r\n\r\nfirst optimization\r\n\r\n    void run(){\r\n       boolean r1=stop;\r\n       while(!r1)println();\r\n    }\r\n\r\nsecond optimization\r\n\r\n    void run(){\r\n       boolean r1=stop;\r\n       if(!r1)return;\r\n       while(true) println();\r\n    }\r\n\r\nSo now it is obvious this loop will never stop because effectively the new value to stop will never been seen. For store you can do something similar that could indefinitely postpone it.\r\n\r\n&gt; As my understanding, a completed write means you have successfully\r\n&gt; written the filed back to cache, and according to the MESI, all others\r\n&gt; thread should have an Invalid cache line if this filed have been\r\n&gt; cached by them.\r\n\r\nCorrect. This is normally called &#39;globally visible&#39; or &#39;globally performed&#39;.\r\n\r\n&gt; One exception ( Since I am not very familiar with the hardcore, this\r\n&gt; is just a conjecture )is that maybe the result will be written back to\r\n&gt; the register instead of cache and I do not know whether there is some\r\n&gt; protocol to keep consistency in this situation or the volatile make it\r\n&gt; not to write to register in java.\r\n\r\nAll modern processors are load/store architectures (even X86 after uops conversion) meaning that there are explicit load and store instructions that transfer data between registers and memory and regular instructions like add/sub can only work with registers. So a register needs to be used anyway. The key part is that the compiler should respect the loads/stores of the source code and limit optimizations.\r\n\r\n&gt; suppose the compiler did not reorder it, what makes we see in thread2\r\n&gt; is due to the store buffer, and I do not think a write operation in\r\n&gt; store buffer means a completed write.\r\n&gt; Since the store buffer and invalidate queue strategy, which make the\r\n&gt; write on variable A looks like invisible but in fact the write\r\n&gt; operation has not finished while thread2 read A.\r\n\r\nOn the X86 the order of the stores in the store buffer are consistent with program order and will commit to the cache in program order. But there are architectures where stores from the store buffer can commit to the cache out of order e.g. due to:\r\n\r\n- write coalescing \r\n\r\n- allowing stores to commit to cache as soon as the cache line is returned in the right state no matter if an earlier still is still waiting.\r\n\r\n- sharing the store buffer with a subset of the CPUs.\r\n\r\nStore buffers can be a source of reordering; but also out of order and speculative execution can be a source.\r\n\r\nApart from the stores, reordering loads can also lead to observing stores out of order. On the X86 loads can&#39;t be reordered, but on the ARM it is allowed. And of course the JIT can mess things up as well.\r\n\r\n&gt; Even we make field B volatile, while we set a write operation on field\r\n&gt; B to the store buffer with memory barriers, thread 2 can read the b\r\n&gt; value with 0 and finish.\r\n\r\nIt is important to realize that the JMM is based on sequential consistency; so even though it is a relaxed memory model (separation of plain loads and stores vs synchronization actions like volatile load/store lock/unlock) if a program has no data races, it will only produce sequential consistent executions. For sequential consistency the real time order doesn&#39;t need to be respected. So it is perfectly fine for a load/store to be skewed as long as:\r\n\r\n1) there memory order is a total order over all loads/stores\r\n\r\n2) the memory order is consistent with the program order\r\n\r\n3) a load sees the most recent write before it in the memory order.\r\n\r\n\r\n&gt;  As for me, the volatile looks like is not about the visibility of the\r\n&gt; filed it declared, but more like an edge to make sure that all the\r\n&gt; writes happens before volatile field write in ThreadA is visible to\r\n&gt; all operations after volatile field read( volatile read happens after\r\n&gt; volatile field write in ThreadA has completed ) in another ThreadB.\r\n\r\nYou are on the right path.\r\n\r\nExample. \r\n\r\n    int a=0\r\n    volatile int b=;\r\n    \r\n    thread1(){\r\n       1:a=1\r\n       2:b=1\r\n    }\r\n    \r\n    thread2(){\r\n       3:r1=b\r\n       4:r2=a\r\n    }\r\n\r\nIn this case there is a happens before edge between 1-2 (program order). If r1=1, then there is happens before edge between 2-3 (volatile variable) and a happens before edge between 3-4 (program order). \r\n\r\nBecause the happens before relation is transitive, there is a happens before edge between 1-4. So r2 must be 1.\r\n\r\nvolatile takes care of the following:\r\n\r\n- Visibility: needs to make sure the load/store doesn&#39;t get optimized out. \r\n\r\n- That is load/store is atomic. So a load/store should not be seen partially.\r\n\r\n- And most importantly, it needs to make sure that the order between 1-2 and 3-4 is preserved.\r\n\r\n&gt; By the way, since I am not an native speakers, I have seen may\r\n&gt; tutorials with my mother language(also some English tutorials) say\r\n&gt; that volatile will instruct JVM threads to read the value of volatile\r\n&gt; variable from main memory and do not cache it locally, and I do not\r\n&gt; think that is true. \r\n\r\nYou are completely right. This is a very common misconception. Caches are the source of truth since they are always coherent. If every write needs to go to main memory, programs would become extremely slow. Memory is just a spill bucket for whatever doesn&#39;t fit in cache and can be completely incoherent with the cache. Plain/volatile loads/stores are stored in the cache. It is possible to bypass the cache for special situations like MMIO or when using e.g. SIMD instructions but it isn&#39;t relevant for these examples.\r\n\r\n&gt; Anyway, Thanks for your answers, since not a native speakers, I hope I have made my expression clearly.\r\n\r\nMost people here are not a native speaker (I&#39;m certainly not). Your English is good enough and you show a lot of promise.\r\n\r\n\r\n\r\n","title":"Is this understanding correct for these code about java volatile and reordering?","body":"<p>Answer to your addition.</p>\n<blockquote>\n<p>Many tutorial talk about the visibility of volatile field, just like\n&quot;volatile field becomes visible to all readers (other threads in\nparticular) after a write operation completes on it&quot;. I have doubt\nabout how could a completed write on field being invisible to other\nThreads(or CPUS)?</p>\n</blockquote>\n<p>The compiler might mess up code.</p>\n<p>e.g.</p>\n<pre><code>boolean stop;\n\nvoid run(){\n  while(!stop)println();\n}\n</code></pre>\n<p>first optimization</p>\n<pre><code>void run(){\n   boolean r1=stop;\n   while(!r1)println();\n}\n</code></pre>\n<p>second optimization</p>\n<pre><code>void run(){\n   boolean r1=stop;\n   if(!r1)return;\n   while(true) println();\n}\n</code></pre>\n<p>So now it is obvious this loop will never stop because effectively the new value to stop will never been seen. For store you can do something similar that could indefinitely postpone it.</p>\n<blockquote>\n<p>As my understanding, a completed write means you have successfully\nwritten the filed back to cache, and according to the MESI, all others\nthread should have an Invalid cache line if this filed have been\ncached by them.</p>\n</blockquote>\n<p>Correct. This is normally called 'globally visible' or 'globally performed'.</p>\n<blockquote>\n<p>One exception ( Since I am not very familiar with the hardcore, this\nis just a conjecture )is that maybe the result will be written back to\nthe register instead of cache and I do not know whether there is some\nprotocol to keep consistency in this situation or the volatile make it\nnot to write to register in java.</p>\n</blockquote>\n<p>All modern processors are load/store architectures (even X86 after uops conversion) meaning that there are explicit load and store instructions that transfer data between registers and memory and regular instructions like add/sub can only work with registers. So a register needs to be used anyway. The key part is that the compiler should respect the loads/stores of the source code and limit optimizations.</p>\n<blockquote>\n<p>suppose the compiler did not reorder it, what makes we see in thread2\nis due to the store buffer, and I do not think a write operation in\nstore buffer means a completed write.\nSince the store buffer and invalidate queue strategy, which make the\nwrite on variable A looks like invisible but in fact the write\noperation has not finished while thread2 read A.</p>\n</blockquote>\n<p>On the X86 the order of the stores in the store buffer are consistent with program order and will commit to the cache in program order. But there are architectures where stores from the store buffer can commit to the cache out of order e.g. due to:</p>\n<ul>\n<li><p>write coalescing</p>\n</li>\n<li><p>allowing stores to commit to cache as soon as the cache line is returned in the right state no matter if an earlier still is still waiting.</p>\n</li>\n<li><p>sharing the store buffer with a subset of the CPUs.</p>\n</li>\n</ul>\n<p>Store buffers can be a source of reordering; but also out of order and speculative execution can be a source.</p>\n<p>Apart from the stores, reordering loads can also lead to observing stores out of order. On the X86 loads can't be reordered, but on the ARM it is allowed. And of course the JIT can mess things up as well.</p>\n<blockquote>\n<p>Even we make field B volatile, while we set a write operation on field\nB to the store buffer with memory barriers, thread 2 can read the b\nvalue with 0 and finish.</p>\n</blockquote>\n<p>It is important to realize that the JMM is based on sequential consistency; so even though it is a relaxed memory model (separation of plain loads and stores vs synchronization actions like volatile load/store lock/unlock) if a program has no data races, it will only produce sequential consistent executions. For sequential consistency the real time order doesn't need to be respected. So it is perfectly fine for a load/store to be skewed as long as:</p>\n<ol>\n<li><p>there memory order is a total order over all loads/stores</p>\n</li>\n<li><p>the memory order is consistent with the program order</p>\n</li>\n<li><p>a load sees the most recent write before it in the memory order.</p>\n</li>\n</ol>\n<blockquote>\n<p>As for me, the volatile looks like is not about the visibility of the\nfiled it declared, but more like an edge to make sure that all the\nwrites happens before volatile field write in ThreadA is visible to\nall operations after volatile field read( volatile read happens after\nvolatile field write in ThreadA has completed ) in another ThreadB.</p>\n</blockquote>\n<p>You are on the right path.</p>\n<p>Example.</p>\n<pre><code>int a=0\nvolatile int b=;\n\nthread1(){\n   1:a=1\n   2:b=1\n}\n\nthread2(){\n   3:r1=b\n   4:r2=a\n}\n</code></pre>\n<p>In this case there is a happens before edge between 1-2 (program order). If r1=1, then there is happens before edge between 2-3 (volatile variable) and a happens before edge between 3-4 (program order).</p>\n<p>Because the happens before relation is transitive, there is a happens before edge between 1-4. So r2 must be 1.</p>\n<p>volatile takes care of the following:</p>\n<ul>\n<li><p>Visibility: needs to make sure the load/store doesn't get optimized out.</p>\n</li>\n<li><p>That is load/store is atomic. So a load/store should not be seen partially.</p>\n</li>\n<li><p>And most importantly, it needs to make sure that the order between 1-2 and 3-4 is preserved.</p>\n</li>\n</ul>\n<blockquote>\n<p>By the way, since I am not an native speakers, I have seen may\ntutorials with my mother language(also some English tutorials) say\nthat volatile will instruct JVM threads to read the value of volatile\nvariable from main memory and do not cache it locally, and I do not\nthink that is true.</p>\n</blockquote>\n<p>You are completely right. This is a very common misconception. Caches are the source of truth since they are always coherent. If every write needs to go to main memory, programs would become extremely slow. Memory is just a spill bucket for whatever doesn't fit in cache and can be completely incoherent with the cache. Plain/volatile loads/stores are stored in the cache. It is possible to bypass the cache for special situations like MMIO or when using e.g. SIMD instructions but it isn't relevant for these examples.</p>\n<blockquote>\n<p>Anyway, Thanks for your answers, since not a native speakers, I hope I have made my expression clearly.</p>\n</blockquote>\n<p>Most people here are not a native speaker (I'm certainly not). Your English is good enough and you show a lot of promise.</p>\n"}],"owner":{"account_id":9741622,"reputation":71,"user_id":7222983,"display_name":"pythonHua"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69586224,"answer_count":4,"score":2,"last_activity_date":1634309880,"creation_date":1634217952,"question_id":69571562,"body_markdown":"According to this reorder rules\r\n\r\n[reorder Rules][1]\r\n\r\n  [1]: https://i.stack.imgur.com/Pot7C.png\r\n\r\nif I have code like this \r\n\r\n    volatile int a = 0;\r\n\r\n    boolean b = false;\r\n\r\n    foo1(){ a= 10; b = true;}\r\n    \r\n    foo2(){if(b) {assert a==10;}}\r\n\r\nMake Thread A to run foo1 and Thread b to run foo2, since a= 10 is a volatile store and \r\nb = true is a normal store, then these two statements could possible be reordered, which means in Thread B may have b = true while a!=10? Is that correct?\r\n\r\n\r\nAdded:\r\n\r\nThanks for your answers!   \r\nI am just starting to learn about java multi-threading and have been troubled with keyword volatile a lot.  \r\n\r\nMany tutorial talk about the visibility of volatile field, just like &quot;volatile field becomes visible to all readers (other threads in particular) after a write operation completes on it&quot;.  I have doubt about how could a completed write on field being invisible to other Threads(or CPUS)? \r\n\r\nAs my understanding, a completed write means you have successfully written the filed back to cache, and according to the MESI,  all others thread should have an Invalid cache line if this filed have been cached by them. One exception ( Since I am not very familiar with the hardcore, this is just a conjecture )is that maybe the result will be written back to the register instead of cache and I do not know whether there is some protocol to keep consistency in this situation or the volatile make it not to write to register in java.\r\n\r\nIn some situation that looks like &quot;invisible&quot; happens examples: \r\n\r\n   \r\n\r\n        A=0,B=0; \r\n        thread1{A=1; B=2;}  \r\n        thread2{if(B==2) {A may be 0 here}}\r\n\r\nsuppose the compiler did not reorder it, what makes we see in thread2 is due to the store buffer, and I do not think a write operation in store buffer means a completed write. Since the store buffer and invalidate queue strategy, which make the write on variable A looks like invisible but in fact the write operation has not finished while thread2 read A. Even we make field B volatile,  while we set a write operation on field B to the store buffer with memory barriers, thread 2 can read the b value with 0 and finish.   As for me, the volatile looks like is not about the visibility of the filed it declared,  but more like an edge to make sure that all the writes happens before volatile field write in ThreadA is visible to all operations after volatile field read( volatile read happens after volatile field write in ThreadA has completed ) in another ThreadB. \r\n\r\n By the way, since I am not an native speakers, I have seen may tutorials with my mother language(also some English tutorials) say that volatile will instruct JVM threads to read the value of volatile variable from main memory and do not cache it locally, and I do not think that is true. Am I right?\r\n\r\n Anyway, Thanks for your answers, since not a native speakers, I hope I have made my expression clearly.  \r\n\r\n\r\n","title":"Is this understanding correct for these code about java volatile and reordering?","body":"<p>According to this reorder rules</p>\n<p><a href=\"https://i.stack.imgur.com/Pot7C.png\" rel=\"nofollow noreferrer\">reorder Rules</a></p>\n<p>if I have code like this</p>\n<pre><code>volatile int a = 0;\n\nboolean b = false;\n\nfoo1(){ a= 10; b = true;}\n\nfoo2(){if(b) {assert a==10;}}\n</code></pre>\n<p>Make Thread A to run foo1 and Thread b to run foo2, since a= 10 is a volatile store and\nb = true is a normal store, then these two statements could possible be reordered, which means in Thread B may have b = true while a!=10? Is that correct?</p>\n<p>Added:</p>\n<p>Thanks for your answers!<br />\nI am just starting to learn about java multi-threading and have been troubled with keyword volatile a lot.</p>\n<p>Many tutorial talk about the visibility of volatile field, just like &quot;volatile field becomes visible to all readers (other threads in particular) after a write operation completes on it&quot;.  I have doubt about how could a completed write on field being invisible to other Threads(or CPUS)?</p>\n<p>As my understanding, a completed write means you have successfully written the filed back to cache, and according to the MESI,  all others thread should have an Invalid cache line if this filed have been cached by them. One exception ( Since I am not very familiar with the hardcore, this is just a conjecture )is that maybe the result will be written back to the register instead of cache and I do not know whether there is some protocol to keep consistency in this situation or the volatile make it not to write to register in java.</p>\n<p>In some situation that looks like &quot;invisible&quot; happens examples:</p>\n<pre><code>    A=0,B=0; \n    thread1{A=1; B=2;}  \n    thread2{if(B==2) {A may be 0 here}}\n</code></pre>\n<p>suppose the compiler did not reorder it, what makes we see in thread2 is due to the store buffer, and I do not think a write operation in store buffer means a completed write. Since the store buffer and invalidate queue strategy, which make the write on variable A looks like invisible but in fact the write operation has not finished while thread2 read A. Even we make field B volatile,  while we set a write operation on field B to the store buffer with memory barriers, thread 2 can read the b value with 0 and finish.   As for me, the volatile looks like is not about the visibility of the filed it declared,  but more like an edge to make sure that all the writes happens before volatile field write in ThreadA is visible to all operations after volatile field read( volatile read happens after volatile field write in ThreadA has completed ) in another ThreadB.</p>\n<p>By the way, since I am not an native speakers, I have seen may tutorials with my mother language(also some English tutorials) say that volatile will instruct JVM threads to read the value of volatile variable from main memory and do not cache it locally, and I do not think that is true. Am I right?</p>\n<p>Anyway, Thanks for your answers, since not a native speakers, I hope I have made my expression clearly.</p>\n"},{"tags":["java","graph","console-application"],"answers":[{"tags":[],"owner":{"account_id":8162016,"reputation":21,"user_id":6145730,"display_name":"Jorge V&#225;zquez Acevedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634221850,"creation_date":1634221850,"answer_id":69572511,"question_id":69572300,"body_markdown":"First thing I would do is try to plan the output graph structure in a character grid. Count how many characters every part of your graph has, then plan the spaces around them.\r\n\r\nAlso, I think maybe a `Map&lt;LocalDate, Double&gt;` will give you better tools to handle the data.\r\n\r\nAfter that, consider maybe creating a method that using the X/Y data you have, builds the corresponding horizontal line. i.e: For 81KG line, see if there is a X/Y data point with that value in any date, then, if so, plot it in the appropriate character (vertical line) in the string.\r\n\r\nTLDR: Build one line at a time, from top to bottom, using the data you have and planning the spaces you need.","title":"Plot horizontal graph in Java console application","body":"<p>First thing I would do is try to plan the output graph structure in a character grid. Count how many characters every part of your graph has, then plan the spaces around them.</p>\n<p>Also, I think maybe a <code>Map&lt;LocalDate, Double&gt;</code> will give you better tools to handle the data.</p>\n<p>After that, consider maybe creating a method that using the X/Y data you have, builds the corresponding horizontal line. i.e: For 81KG line, see if there is a X/Y data point with that value in any date, then, if so, plot it in the appropriate character (vertical line) in the string.</p>\n<p>TLDR: Build one line at a time, from top to bottom, using the data you have and planning the spaces you need.</p>\n"}],"owner":{"account_id":21057650,"reputation":1,"user_id":15476640,"display_name":"WouterJones"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634309814,"creation_date":1634220975,"question_id":69572300,"body_markdown":"I&#39;m trying to make a graph to show the weight with the corresponding dates, from two ArrayLists. One with LocalDates (date of entering weight) and the other one Doubles (weight). The X axis will be the weight and the Y axis will be the date.\r\n\r\nI have tried with some for loops, but that did not do what I wanted: I want to stay in the console and I want it to be horizontal. I don&#39;t have much code to show, only to give a little visual on what I like to achieve. I don&#39;t know if it is even possible to get what I want in a console application.\r\n\r\nI have found some code to plot a graph vertically but I do not like the way that looks.\r\n\r\n(In the code below I used an already filled Array, just for the visual.)\r\n\r\n    public void writeGraph() {\r\n        Arrays.sort(weightSorted);\r\n\r\n        for (int i = weightSorted.length - 1; i &gt;= 0; i--) {\r\n            System.out.println(weightSorted[i] + &quot;\\n&quot;);\r\n        }\r\n\r\n        System.out.println(&quot;KG&quot;);\r\n\r\n        System.out.print(&quot;             &quot;);\r\n        System.out.println(&quot; &quot;);\r\n\r\n        System.out.print(&quot;Date &gt;       &quot;);\r\n        for (int in = 0; in &lt; weighDate.length; in++) {\r\n            System.out.print(weighDate[in] + &quot;    &quot;);\r\n        }\r\n    }\r\n\r\nThat will look like this:\r\n\r\n    90.0\r\n    \r\n    86.0\r\n    \r\n    83.8\r\n    \r\n    83.3\r\n    \r\n    81.0\r\n    \r\n    78.5\r\n    \r\n    75.0\r\n    \r\n    73.9\r\n    \r\n    70.3\r\n    \r\n    65.5\r\n\r\n    KG\r\n                  \r\n    Date &gt;       2021-01-14    2021-02-25    2021-03-06    2021-04-04    2021-05-11    2021-06-20    2021-07-02    2021-08-28    2021-09-15    2021-10-07    \r\n\r\nAnd then I want the weights on the y axis doubled above the corresponding dates on the x axis.. I hope this can get you an idea of what I am trying to achieve.","title":"Plot horizontal graph in Java console application","body":"<p>I'm trying to make a graph to show the weight with the corresponding dates, from two ArrayLists. One with LocalDates (date of entering weight) and the other one Doubles (weight). The X axis will be the weight and the Y axis will be the date.</p>\n<p>I have tried with some for loops, but that did not do what I wanted: I want to stay in the console and I want it to be horizontal. I don't have much code to show, only to give a little visual on what I like to achieve. I don't know if it is even possible to get what I want in a console application.</p>\n<p>I have found some code to plot a graph vertically but I do not like the way that looks.</p>\n<p>(In the code below I used an already filled Array, just for the visual.)</p>\n<pre><code>public void writeGraph() {\n    Arrays.sort(weightSorted);\n\n    for (int i = weightSorted.length - 1; i &gt;= 0; i--) {\n        System.out.println(weightSorted[i] + &quot;\\n&quot;);\n    }\n\n    System.out.println(&quot;KG&quot;);\n\n    System.out.print(&quot;             &quot;);\n    System.out.println(&quot; &quot;);\n\n    System.out.print(&quot;Date &gt;       &quot;);\n    for (int in = 0; in &lt; weighDate.length; in++) {\n        System.out.print(weighDate[in] + &quot;    &quot;);\n    }\n}\n</code></pre>\n<p>That will look like this:</p>\n<pre><code>90.0\n\n86.0\n\n83.8\n\n83.3\n\n81.0\n\n78.5\n\n75.0\n\n73.9\n\n70.3\n\n65.5\n\nKG\n              \nDate &gt;       2021-01-14    2021-02-25    2021-03-06    2021-04-04    2021-05-11    2021-06-20    2021-07-02    2021-08-28    2021-09-15    2021-10-07    \n</code></pre>\n<p>And then I want the weights on the y axis doubled above the corresponding dates on the x axis.. I hope this can get you an idea of what I am trying to achieve.</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":2309610,"reputation":6099,"user_id":2028043,"accept_rate":64,"display_name":"USB"},"score":0,"creation_date":1412570111,"post_id":26208454,"comment_id":41102952,"body_markdown":"It will be nice if you can start using New API","body":"It will be nice if you can start using New API"}],"answers":[{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412561838,"creation_date":1412561838,"answer_id":26209256,"question_id":26208454,"body_markdown":"Instead of \r\n    \r\n    output.collect(word, one);\r\n\r\nin your mapper, try:\r\n\r\n    output.collect(&quot;c-total&quot;, one);\r\n\r\n","title":"Hadoop Word count: receive the total number of words that start with the letter &quot;c&quot;","body":"<p>Instead of </p>\n\n<pre><code>output.collect(word, one);\n</code></pre>\n\n<p>in your mapper, try:</p>\n\n<pre><code>output.collect(\"c-total\", one);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2309610,"reputation":6099,"user_id":2028043,"accept_rate":64,"display_name":"USB"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1412570856,"creation_date":1412570856,"answer_id":26210147,"question_id":26208454,"body_markdown":"**Chris Gerken** &#39;s answer is right.\r\n\r\nIf you are outputing word as your key it will only help you to calculate the count of unique words starting with &quot;c&quot;\r\n\r\n\r\nNot all total count of &quot;c&quot;.\r\n\r\nSo for that you need to output a unique key from mapper.\r\n\r\n     while (itr.hasMoreTokens()) {\r\n            \tString token = itr.nextToken();\r\n            \tif(token.startsWith(&quot;c&quot;)){\r\n            \t\tword.set(&quot;C_Count&quot;);\r\n                    output.collect(word, one);\r\n            \t}\r\n                \r\n            }\r\n\r\n\r\nHere is an example using New Api\r\n\r\n**Driver class**\r\n\r\n    import org.apache.hadoop.conf.Configuration;\r\n    import org.apache.hadoop.fs.FileSystem;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\r\n    import org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\r\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n    import org.apache.hadoop.mapreduce.lib.output.TextOutputFormat;\r\n    \r\n    public class WordCount {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tConfiguration conf = new Configuration();\r\n    \r\n    \t\tJob job = new Job(conf, &quot;wordcount&quot;);\r\n    \t\tFileSystem fs = FileSystem.get(conf);\r\n    \t\tjob.setOutputKeyClass(Text.class);\r\n    \t\tjob.setOutputValueClass(IntWritable.class);\r\n    \t\tif (fs.exists(new Path(args[1])))\r\n    \t\t\tfs.delete(new Path(args[1]), true);\r\n    \t\tjob.setMapperClass(Map.class);\r\n    \t\tjob.setReducerClass(Reduce.class);\r\n    \r\n    \t\tjob.setInputFormatClass(TextInputFormat.class);\r\n    \t\tjob.setOutputFormatClass(TextOutputFormat.class);\r\n    \r\n            FileInputFormat.addInputPath(job, new Path(args[0]));\r\n            FileOutputFormat.setOutputPath(job, new Path(args[1]));\r\n    \t\tjob.setJarByClass(WordCount.class);     \r\n    \t\tjob.waitForCompletion(true);\r\n    \t}\r\n    \r\n    }\r\n\r\n**Mapper class**\r\n\r\n    import java.io.IOException;\r\n    import java.util.StringTokenizer;\r\n    \r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.LongWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Mapper;\r\n    \r\n    public class Map extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n        private final static IntWritable one = new IntWritable(1);\r\n        private Text word = new Text();\r\n    \r\n        public void map(LongWritable key, Text value, Context context)\r\n                throws IOException, InterruptedException {\r\n            String line = value.toString();\r\n            StringTokenizer itr = new StringTokenizer(line);\r\n            while (itr.hasMoreTokens()) {\r\n            \tString token = itr.nextToken();\r\n            \tif(token.startsWith(&quot;c&quot;)){\r\n            \t\tword.set(&quot;C_Count&quot;);\r\n                    context.write(word, one);\r\n            \t}\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n**Reducer class**\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Reducer;\r\n    \r\n    public class Reduce extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n    \r\n        public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n                throws IOException, InterruptedException {\r\n            int sum = 0;\r\n            for (IntWritable val : values) {\r\n                sum += val.get();\r\n            }\r\n            context.write(key, new IntWritable(sum));\r\n        }\r\n    }","title":"Hadoop Word count: receive the total number of words that start with the letter &quot;c&quot;","body":"<p><strong>Chris Gerken</strong> 's answer is right.</p>\n\n<p>If you are outputing word as your key it will only help you to calculate the count of unique words starting with \"c\"</p>\n\n<p>Not all total count of \"c\".</p>\n\n<p>So for that you need to output a unique key from mapper.</p>\n\n<pre><code> while (itr.hasMoreTokens()) {\n            String token = itr.nextToken();\n            if(token.startsWith(\"c\")){\n                word.set(\"C_Count\");\n                output.collect(word, one);\n            }\n\n        }\n</code></pre>\n\n<p>Here is an example using New Api</p>\n\n<p><strong>Driver class</strong></p>\n\n<pre><code>import org.apache.hadoop.conf.Configuration;\nimport org.apache.hadoop.fs.FileSystem;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.input.FileInputFormat;\nimport org.apache.hadoop.mapreduce.lib.input.TextInputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\nimport org.apache.hadoop.mapreduce.lib.output.TextOutputFormat;\n\npublic class WordCount {\n\n    public static void main(String[] args) throws Exception {\n        Configuration conf = new Configuration();\n\n        Job job = new Job(conf, \"wordcount\");\n        FileSystem fs = FileSystem.get(conf);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n        if (fs.exists(new Path(args[1])))\n            fs.delete(new Path(args[1]), true);\n        job.setMapperClass(Map.class);\n        job.setReducerClass(Reduce.class);\n\n        job.setInputFormatClass(TextInputFormat.class);\n        job.setOutputFormatClass(TextOutputFormat.class);\n\n        FileInputFormat.addInputPath(job, new Path(args[0]));\n        FileOutputFormat.setOutputPath(job, new Path(args[1]));\n        job.setJarByClass(WordCount.class);     \n        job.waitForCompletion(true);\n    }\n\n}\n</code></pre>\n\n<p><strong>Mapper class</strong></p>\n\n<pre><code>import java.io.IOException;\nimport java.util.StringTokenizer;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\npublic class Map extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n    private final static IntWritable one = new IntWritable(1);\n    private Text word = new Text();\n\n    public void map(LongWritable key, Text value, Context context)\n            throws IOException, InterruptedException {\n        String line = value.toString();\n        StringTokenizer itr = new StringTokenizer(line);\n        while (itr.hasMoreTokens()) {\n            String token = itr.nextToken();\n            if(token.startsWith(\"c\")){\n                word.set(\"C_Count\");\n                context.write(word, one);\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Reducer class</strong></p>\n\n<pre><code>import java.io.IOException;\n\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\n\npublic class Reduce extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n            throws IOException, InterruptedException {\n        int sum = 0;\n        for (IntWritable val : values) {\n            sum += val.get();\n        }\n        context.write(key, new IntWritable(sum));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5156692,"reputation":339,"user_id":4129751,"accept_rate":42,"display_name":"Dravidian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458507040,"creation_date":1458507040,"answer_id":36119414,"question_id":26208454,"body_markdown":"Simpler code for mapper:\r\n\r\n    public void map(LongWritable key, Text value,OutputCollector&lt;Text,IntWritable&gt; op, Reporter r)throws IOException\r\n    {\r\n\t    String s = value.toString();\r\n          for (String w : s.split(&quot;\\\\W+&quot;))\r\n           {\r\n           if (w.length()&gt;0)\r\n\t        {\r\n        \t if(w.startsWith(&quot;C&quot;)){\r\n             op.collect(new Text(&quot;C-Count&quot;), new IntWritable(1));      \t \r\n        \t }\r\n           }\r\n      }\r\n    }","title":"Hadoop Word count: receive the total number of words that start with the letter &quot;c&quot;","body":"<p>Simpler code for mapper:</p>\n\n<pre><code>public void map(LongWritable key, Text value,OutputCollector&lt;Text,IntWritable&gt; op, Reporter r)throws IOException\n{\n    String s = value.toString();\n      for (String w : s.split(\"\\\\W+\"))\n       {\n       if (w.length()&gt;0)\n        {\n         if(w.startsWith(\"C\")){\n         op.collect(new Text(\"C-Count\"), new IntWritable(1));        \n         }\n       }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23042482,"reputation":1,"user_id":17160466,"display_name":"DBabyPrathyusha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634309501,"creation_date":1634309501,"answer_id":69586651,"question_id":26208454,"body_markdown":"    import java.io.IOException;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.LongWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Mapper;\r\n\r\n    public class Mapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n\r\n\tpublic void map(LongWritable ikey, Text ivalue, Context context)\r\n\t\t\tthrows IOException, InterruptedException {\r\n\t\t\r\n\t\tString line= ivalue.toString();\r\n\t\tString [] values = line.split(&quot; &quot;);\r\n\t\tIntWritable val=new IntWritable(1);\r\n\t\tfor(String i:values)\r\n\t\t{\r\n\t\t    String x=i.charAt(0);\r\n\t\t    if(x==&#39;c&#39;)\r\n\t\t    {\r\n\t\t\tcontext.write(new Text(&quot;c&quot;),val);\r\n\t\t\t}\t}\r\n\t}}\r\n\r\n    \r\n    public class WordCountReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n\r\n\tpublic void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\r\n\t\t\tthrows IOException, InterruptedException {\r\n\t\tint sum=0;\r\n\t\tfor (IntWritable val : values) {\r\n                        sum=sum+val.get();\r\n\t\t}\r\n\t\tcontext.write(key,new IntWritable(sum));\r\n\t}}","title":"Hadoop Word count: receive the total number of words that start with the letter &quot;c&quot;","body":"<pre><code>import java.io.IOException;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.LongWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Mapper;\n\npublic class Mapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n\npublic void map(LongWritable ikey, Text ivalue, Context context)\n        throws IOException, InterruptedException {\n    \n    String line= ivalue.toString();\n    String [] values = line.split(&quot; &quot;);\n    IntWritable val=new IntWritable(1);\n    for(String i:values)\n    {\n        String x=i.charAt(0);\n        if(x=='c')\n        {\n        context.write(new Text(&quot;c&quot;),val);\n        }   }\n}}\n\n\npublic class WordCountReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\npublic void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context context)\n        throws IOException, InterruptedException {\n    int sum=0;\n    for (IntWritable val : values) {\n                    sum=sum+val.get();\n    }\n    context.write(key,new IntWritable(sum));\n}}\n</code></pre>\n"}],"owner":{"account_id":3380064,"reputation":1229,"user_id":2837277,"accept_rate":75,"display_name":"King11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14624,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26210147,"answer_count":4,"score":2,"last_activity_date":1634309501,"creation_date":1412553373,"question_id":26208454,"body_markdown":"Heres the Hadoop word count java map and reduce source code:\r\n\r\nIn the map function, I&#39;ve gotten to where I can output all the word that starts with the letter &quot;c&quot; and also the total number of times that word appears, but what I&#39;m trying to do is just output the total number of words starting with the letter &quot;c&quot; but I&#39;m stuck a little on getting the total number.Any help would be greatly appreciated, Thank you.\r\n\r\nExample\r\n\r\nMy Output of what I&#39;m getting: \r\n\r\ncould 2\r\n\r\ncan   3\r\n\r\ncat   5\r\n\r\nWhat I&#39;m trying to get:\r\n\r\nc-total 10\r\n \r\n    public static class MapClass extends MapReduceBase\r\n       implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n\r\n    private final static IntWritable one = new IntWritable(1);\r\n    private Text word = new Text();\r\n\r\n    public void map(LongWritable key, Text value,\r\n                    OutputCollector&lt;Text, IntWritable&gt; output,\r\n                    Reporter reporter) throws IOException {\r\n      String line = value.toString();\r\n      StringTokenizer itr = new StringTokenizer(line);\r\n      while (itr.hasMoreTokens()) {\r\n        word.set(itr.nextToken());\r\n        if(word.toString().startsWith(&quot;c&quot;){\r\n        output.collect(word, one);\r\n       }\r\n      }\r\n     } \r\n    }\r\n\r\n    \r\n    public static class Reduce extends MapReduceBase\r\n    implements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n\r\n    public void reduce(Text key, Iterator&lt;IntWritable&gt; values,\r\n                       OutputCollector&lt;Text, IntWritable&gt; output,\r\n                       Reporter reporter) throws IOException {\r\n      int sum = 0;\r\n      while (values.hasNext()) {\r\n        sum += values.next().get(); //gets the sum of the words and add them together\r\n      }\r\n      output.collect(key, new IntWritable(sum)); //outputs the word and the number\r\n      }\r\n     }","title":"Hadoop Word count: receive the total number of words that start with the letter &quot;c&quot;","body":"<p>Heres the Hadoop word count java map and reduce source code:</p>\n\n<p>In the map function, I've gotten to where I can output all the word that starts with the letter \"c\" and also the total number of times that word appears, but what I'm trying to do is just output the total number of words starting with the letter \"c\" but I'm stuck a little on getting the total number.Any help would be greatly appreciated, Thank you.</p>\n\n<p>Example</p>\n\n<p>My Output of what I'm getting: </p>\n\n<p>could 2</p>\n\n<p>can   3</p>\n\n<p>cat   5</p>\n\n<p>What I'm trying to get:</p>\n\n<p>c-total 10</p>\n\n<pre><code>public static class MapClass extends MapReduceBase\n   implements Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n\nprivate final static IntWritable one = new IntWritable(1);\nprivate Text word = new Text();\n\npublic void map(LongWritable key, Text value,\n                OutputCollector&lt;Text, IntWritable&gt; output,\n                Reporter reporter) throws IOException {\n  String line = value.toString();\n  StringTokenizer itr = new StringTokenizer(line);\n  while (itr.hasMoreTokens()) {\n    word.set(itr.nextToken());\n    if(word.toString().startsWith(\"c\"){\n    output.collect(word, one);\n   }\n  }\n } \n}\n\n\npublic static class Reduce extends MapReduceBase\nimplements Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\npublic void reduce(Text key, Iterator&lt;IntWritable&gt; values,\n                   OutputCollector&lt;Text, IntWritable&gt; output,\n                   Reporter reporter) throws IOException {\n  int sum = 0;\n  while (values.hasNext()) {\n    sum += values.next().get(); //gets the sum of the words and add them together\n  }\n  output.collect(key, new IntWritable(sum)); //outputs the word and the number\n  }\n }\n</code></pre>\n"},{"tags":["java","oauth-2.0"],"comments":[{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":1,"creation_date":1634244043,"post_id":69576906,"comment_id":122980243,"body_markdown":"`-d` in curl does not put the value in the header.","body":"<code>-d</code> in curl does not put the value in the header."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1634250641,"post_id":69576906,"comment_id":122981968,"body_markdown":"#1 Could you share us an screenshot of your postman config?  #2 Also share us the **us.dell.com/auth/oauth/v2/token** documentation if it is public","body":"#1 Could you share us an screenshot of your postman config?  #2 Also share us the <b>us.dell.com/auth/oauth/v2/token</b> documentation if it is public"},{"owner":{"account_id":7156207,"reputation":313,"user_id":5468597,"accept_rate":40,"display_name":"mlizbeth"},"score":0,"creation_date":1634257959,"post_id":69576906,"comment_id":122983155,"body_markdown":"@JRichardsz It is not public unfortunately","body":"@JRichardsz It is not public unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1634253239,"creation_date":1634251994,"answer_id":69578212,"question_id":69576906,"body_markdown":"## Body is required\r\n\r\nAccording to your curl log, the request should have this content-type **application/x-www-form-urlencoded**\r\n\r\nThis kind of content-type needs a body, so that is your **first error**:\r\n\r\n`.POST(BodyPublishers.noBody())`\r\n\r\n**Second error** is that in oauth2 protocol, **grant_type=client_credentials** is not a header, it is  a form parameter in the body. Also you curl snippet confirms that: `curl ... -d &quot;grant_type=client_credentials&quot;`. Check this: [curl -d](https://stackoverflow.com/a/46673681/3957754) \r\n\r\n## The Client Credentials grant\r\n\r\n**If Dell platform implements the oauth2 protocol strictly**, they should implement the oauth2 spec:\r\n\r\nhttps://datatracker.ietf.org/doc/html/rfc6749#section-4.4\r\n\r\n```\r\nPOST /token HTTP/1.1\r\nHost: server.example.com\r\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\r\nContent-Type: application/x-www-form-urlencoded\r\n\r\ngrant_type=client_credentials\r\n```\r\n\r\nIn which we can see that body just need:\r\n- the grant_type in application/x-www-form-urlencoded style (not json)\r\n- content-type header\r\n- Authorization header which should be like your `String encoded = Base64 ...`\r\n\r\nIf Dell implements another kind of this grant, you should read in the docs, something like this:\r\n\r\nhttps://www.oauth.com/oauth2-servers/access-tokens/client-credentials/\r\n\r\n\r\n```\r\nPOST /token HTTP/1.1\r\nHost: authorization-server.com\r\n \r\ngrant_type=client_credentials\r\n&amp;client_id=xxxxxxxxxx\r\n&amp;client_secret=xxxxxxxxxx\r\n```\r\n\r\nIn which we can see that body needs the client_id and client_secret, unlike the spec in which credential are sent as basic auth header.\r\n\r\n## Java request with x-www-form-urlencoded body\r\n\r\nIf Dell implements this [spec](https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/) and assuming that you use Java 11, this untested code should work:\r\n\r\n```\r\nString url = &quot;https://apigtwb2c.us.dell.com/auth/oauth/v2/token&quot;;\r\nMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\nparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\nparameters.put(&quot;client_id&quot;, &quot;****&quot;);\r\nparameters.put(&quot;client_secret&quot;, &quot;****&quot;);\r\n\r\nString form = parameters.keySet().stream()\r\n.map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n.collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\nHttpClient client = HttpClient.newHttpClient();\r\n\r\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\r\n.headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n.POST(BodyPublishers.ofString(form)).build();\r\n\r\nHttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.ofString());\r\nSystem.out.println(response.statusCode() + response.body().toString());\r\n```\r\n\r\nSome providers, supports several types of request, so the previous snippet should work. If Dell implements strictly the main [spec](https://datatracker.ietf.org/doc/html/rfc6749#section-4.4), just delete this part:\r\n\r\n```\r\nparameters.put(&quot;client_id&quot;, &quot;****&quot;);\r\nparameters.put(&quot;client_secret&quot;, &quot;****&quot;);\r\n```\r\n\r\nand add your authorization header\r\n\r\n```\r\nString formatted = clientID + &quot;:&quot; + clientSecret;\r\nString encoded = Base64.getEncoder().encodeToString((formatted).getBytes());\r\n...\r\n.headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;, &quot;Authorization&quot;, &quot;Basic &quot; + encoded)\r\n```","title":"Retrieve access token from server with Java HttpClient using Client Credentials grant","body":"<h2>Body is required</h2>\n<p>According to your curl log, the request should have this content-type <strong>application/x-www-form-urlencoded</strong></p>\n<p>This kind of content-type needs a body, so that is your <strong>first error</strong>:</p>\n<p><code>.POST(BodyPublishers.noBody())</code></p>\n<p><strong>Second error</strong> is that in oauth2 protocol, <strong>grant_type=client_credentials</strong> is not a header, it is  a form parameter in the body. Also you curl snippet confirms that: <code>curl ... -d &quot;grant_type=client_credentials&quot;</code>. Check this: <a href=\"https://stackoverflow.com/a/46673681/3957754\">curl -d</a></p>\n<h2>The Client Credentials grant</h2>\n<p><strong>If Dell platform implements the oauth2 protocol strictly</strong>, they should implement the oauth2 spec:</p>\n<p><a href=\"https://datatracker.ietf.org/doc/html/rfc6749#section-4.4\" rel=\"noreferrer\">https://datatracker.ietf.org/doc/html/rfc6749#section-4.4</a></p>\n<pre><code>POST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n</code></pre>\n<p>In which we can see that body just need:</p>\n<ul>\n<li>the grant_type in application/x-www-form-urlencoded style (not json)</li>\n<li>content-type header</li>\n<li>Authorization header which should be like your <code>String encoded = Base64 ...</code></li>\n</ul>\n<p>If Dell implements another kind of this grant, you should read in the docs, something like this:</p>\n<p><a href=\"https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/\" rel=\"noreferrer\">https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/</a></p>\n<pre><code>POST /token HTTP/1.1\nHost: authorization-server.com\n \ngrant_type=client_credentials\n&amp;client_id=xxxxxxxxxx\n&amp;client_secret=xxxxxxxxxx\n</code></pre>\n<p>In which we can see that body needs the client_id and client_secret, unlike the spec in which credential are sent as basic auth header.</p>\n<h2>Java request with x-www-form-urlencoded body</h2>\n<p>If Dell implements this <a href=\"https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/\" rel=\"noreferrer\">spec</a> and assuming that you use Java 11, this untested code should work:</p>\n<pre><code>String url = &quot;https://apigtwb2c.us.dell.com/auth/oauth/v2/token&quot;;\nMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\nparameters.put(&quot;client_id&quot;, &quot;****&quot;);\nparameters.put(&quot;client_secret&quot;, &quot;****&quot;);\n\nString form = parameters.keySet().stream()\n.map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n.collect(Collectors.joining(&quot;&amp;&quot;));\n\nHttpClient client = HttpClient.newHttpClient();\n\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\n.headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n.POST(BodyPublishers.ofString(form)).build();\n\nHttpResponse&lt;?&gt; response = client.send(request, BodyHandlers.ofString());\nSystem.out.println(response.statusCode() + response.body().toString());\n</code></pre>\n<p>Some providers, supports several types of request, so the previous snippet should work. If Dell implements strictly the main <a href=\"https://datatracker.ietf.org/doc/html/rfc6749#section-4.4\" rel=\"noreferrer\">spec</a>, just delete this part:</p>\n<pre><code>parameters.put(&quot;client_id&quot;, &quot;****&quot;);\nparameters.put(&quot;client_secret&quot;, &quot;****&quot;);\n</code></pre>\n<p>and add your authorization header</p>\n<pre><code>String formatted = clientID + &quot;:&quot; + clientSecret;\nString encoded = Base64.getEncoder().encodeToString((formatted).getBytes());\n...\n.headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;, &quot;Authorization&quot;, &quot;Basic &quot; + encoded)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7156207,"reputation":313,"user_id":5468597,"accept_rate":40,"display_name":"mlizbeth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634309215,"creation_date":1634309215,"answer_id":69586587,"question_id":69576906,"body_markdown":"If anyone comes across this in the future, JRichardsz answer works perfectly, but if you want to avoid the HashMap usage for whatever reason:\r\n\r\n```\r\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(tokenURL)).headers(&quot;Accept&quot;, &quot;application/json&quot;, &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n\t\t\t\t.POST(BodyPublishers.ofString(&quot;grant_type=client_credentials&amp;client_id=&quot; + clientID + &quot;&amp;client_secret=&quot; + clientSecret)).build();\r\n```","title":"Retrieve access token from server with Java HttpClient using Client Credentials grant","body":"<p>If anyone comes across this in the future, JRichardsz answer works perfectly, but if you want to avoid the HashMap usage for whatever reason:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder().uri(URI.create(tokenURL)).headers(&quot;Accept&quot;, &quot;application/json&quot;, &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .POST(BodyPublishers.ofString(&quot;grant_type=client_credentials&amp;client_id=&quot; + clientID + &quot;&amp;client_secret=&quot; + clientSecret)).build();\n</code></pre>\n"}],"owner":{"account_id":7156207,"reputation":313,"user_id":5468597,"accept_rate":40,"display_name":"mlizbeth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69578212,"answer_count":2,"score":0,"last_activity_date":1634309215,"creation_date":1634242815,"question_id":69576906,"body_markdown":"I am trying to use Dell&#39;s Warranty API. To do this you first need to get an access token (that expires after 1 hour) and then make API requests using that token. They have a tutorial for postman, which works fine, but I am trying to make something more automated since we have 1000+ assets to lookup with this API.\r\n\r\nI am trying to use `java.net.http` even though numerous examples exist for the older APIs, **I would prefer not to use external libraries or older APIs.**\r\n\r\nTo get the token you send a request to their API with your client ID and client secret.\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpClient.Redirect;\r\nimport java.net.http.HttpClient.Version;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpRequest.BodyPublishers;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.time.Duration;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws IOException, InterruptedException {\r\n\t\t\r\n\t\tString tokenURL = &quot;https://apigtwb2c.us.dell.com/auth/oauth/v2/token&quot;;\r\n\t\tString clientID = &quot;{redacted}&quot;;\r\n\t\tString clientSecret = &quot;{redacted}&quot;;\r\n\t\tString formatted = clientID + &quot;:&quot; + clientSecret;\r\n\t\tString encoded = Base64.getEncoder().encodeToString((formatted).getBytes());\r\n\t\t\r\n\t\tHttpClient client = HttpClient.newBuilder().version(Version.HTTP_1_1).followRedirects(Redirect.NORMAL).connectTimeout(Duration.ofSeconds(10)).build();\r\n\t\tHttpRequest request = HttpRequest.newBuilder().uri(URI.create(tokenURL)).headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;, &quot;Accept&quot;, &quot;application/json&quot;, &quot;grant_type&quot;, &quot;client_credentials&quot;, &quot;Authorization&quot;, &quot;Basic &quot; + encoded)\r\n\t\t\t\t.POST(BodyPublishers.noBody()).build();\r\n\t\t\r\n\t\tSystem.out.println(request.headers());\r\n\t\t\r\n\t\tHttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\r\n\t\t\r\n\t\tSystem.out.println(response.statusCode());\r\n\t\tSystem.out.println(response.body());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe server is responding with \r\n```\r\n400\r\n{\r\n  &quot;error&quot;:&quot;invalid_request&quot;,\r\n  &quot;error_description&quot;:&quot;Missing or duplicate parameters&quot;\r\n}\r\n```\r\nAccording to their docs, 400 is a bad request. I am currently sending an empty body, but am not sure if that&#39;s what the issue is.\r\n\r\n\r\nAnd I am not entirely sure what is missing. I have tried multiple combinations of headers without  success. The same works just fine with cURL which is what led me to as far as I am now.\r\n\r\nHere is the cURL request just in case..\r\n```\r\ncurl -v https://apigtwb2c.us.dell.com/auth/oauth/v2/token -H &quot;Accept: application/json&quot; -u &quot;{redacted}:{redacted}&quot; -d &quot;grant_type=client_credentials&quot;\r\n*   Trying 143.166.28.87:443...\r\n* Connected to apigtwb2c.us.dell.com (143.166.28.87) port 443 (#0)\r\n* ALPN, offering h2\r\n* ALPN, offering http/1.1\r\n* successfully set certificate verify locations:\r\n*  CAfile: /etc/ssl/certs/ca-certificates.crt\r\n*  CApath: none\r\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\r\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\r\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\r\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\r\n* TLSv1.2 (IN), TLS handshake, Request CERT (13):\r\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\r\n* TLSv1.2 (OUT), TLS handshake, Certificate (11):\r\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\r\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\r\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\r\n* TLSv1.2 (IN), TLS handshake, Finished (20):\r\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\r\n* ALPN, server did not agree to a protocol\r\n* Server certificate:\r\n*  subject: C=US; ST=Texas; L=Round Rock; O=Dell; CN=*.apis.dell.com\r\n*  start date: Jul 26 19:18:16 2021 GMT\r\n*  expire date: Jul 20 19:18:15 2022 GMT\r\n*  subjectAltName: host &quot;apigtwb2c.us.dell.com&quot; matched cert&#39;s &quot;apigtwb2c.us.dell.com&quot;\r\n*  issuer: C=US; O=Entrust, Inc.; OU=See www.entrust.net/legal-terms; OU=(c) 2012 Entrust, Inc. - for authorized use only; CN=Entrust Certification Authority - L1K\r\n*  SSL certificate verify ok.\r\n* Server auth using Basic with user &#39;{redacted}&#39;\r\n&gt; POST /auth/oauth/v2/token HTTP/1.1\r\n&gt; Host: apigtwb2c.us.dell.com\r\n&gt; Authorization: Basic {redacted}\r\n&gt; User-Agent: curl/7.79.1\r\n&gt; Accept: application/json\r\n&gt; Content-Length: 29\r\n&gt; Content-Type: application/x-www-form-urlencoded\r\n&gt;\r\n* Mark bundle as not supporting multiuse\r\n&lt; HTTP/1.1 200 OK\r\n&lt; Pragma: no-cache\r\n&lt; Cache-Control: no-store\r\n&lt; X-Correlation-ID: {redacted}\r\n&lt; Content-Type: application/json;charset=UTF-8\r\n&lt; Content-Length: 127\r\n&lt; Date: Thu, 14 Oct 2021 18:56:28 GMT\r\n&lt; Server: dell\r\n&lt;\r\n{\r\n  &quot;access_token&quot;:&quot;{redacted}&quot;,\r\n  &quot;token_type&quot;:&quot;Bearer&quot;,\r\n  &quot;expires_in&quot;:3600,\r\n  &quot;scope&quot;:&quot;oob&quot;\r\n* Connection #0 to host apigtwb2c.us.dell.com left intact\r\n```\r\n\r\n\r\n\r\n\r\nThanks!","title":"Retrieve access token from server with Java HttpClient using Client Credentials grant","body":"<p>I am trying to use Dell's Warranty API. To do this you first need to get an access token (that expires after 1 hour) and then make API requests using that token. They have a tutorial for postman, which works fine, but I am trying to make something more automated since we have 1000+ assets to lookup with this API.</p>\n<p>I am trying to use <code>java.net.http</code> even though numerous examples exist for the older APIs, <strong>I would prefer not to use external libraries or older APIs.</strong></p>\n<p>To get the token you send a request to their API with your client ID and client secret.</p>\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpClient.Redirect;\nimport java.net.http.HttpClient.Version;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpRequest.BodyPublishers;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\nimport java.util.Base64;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        \n        String tokenURL = &quot;https://apigtwb2c.us.dell.com/auth/oauth/v2/token&quot;;\n        String clientID = &quot;{redacted}&quot;;\n        String clientSecret = &quot;{redacted}&quot;;\n        String formatted = clientID + &quot;:&quot; + clientSecret;\n        String encoded = Base64.getEncoder().encodeToString((formatted).getBytes());\n        \n        HttpClient client = HttpClient.newBuilder().version(Version.HTTP_1_1).followRedirects(Redirect.NORMAL).connectTimeout(Duration.ofSeconds(10)).build();\n        HttpRequest request = HttpRequest.newBuilder().uri(URI.create(tokenURL)).headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;, &quot;Accept&quot;, &quot;application/json&quot;, &quot;grant_type&quot;, &quot;client_credentials&quot;, &quot;Authorization&quot;, &quot;Basic &quot; + encoded)\n                .POST(BodyPublishers.noBody()).build();\n        \n        System.out.println(request.headers());\n        \n        HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\n        \n        System.out.println(response.statusCode());\n        System.out.println(response.body());\n    }\n\n}\n</code></pre>\n<p>The server is responding with</p>\n<pre><code>400\n{\n  &quot;error&quot;:&quot;invalid_request&quot;,\n  &quot;error_description&quot;:&quot;Missing or duplicate parameters&quot;\n}\n</code></pre>\n<p>According to their docs, 400 is a bad request. I am currently sending an empty body, but am not sure if that's what the issue is.</p>\n<p>And I am not entirely sure what is missing. I have tried multiple combinations of headers without  success. The same works just fine with cURL which is what led me to as far as I am now.</p>\n<p>Here is the cURL request just in case..</p>\n<pre><code>curl -v https://apigtwb2c.us.dell.com/auth/oauth/v2/token -H &quot;Accept: application/json&quot; -u &quot;{redacted}:{redacted}&quot; -d &quot;grant_type=client_credentials&quot;\n*   Trying 143.166.28.87:443...\n* Connected to apigtwb2c.us.dell.com (143.166.28.87) port 443 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*  CAfile: /etc/ssl/certs/ca-certificates.crt\n*  CApath: none\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n* TLSv1.2 (IN), TLS handshake, Request CERT (13):\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n* TLSv1.2 (OUT), TLS handshake, Certificate (11):\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server did not agree to a protocol\n* Server certificate:\n*  subject: C=US; ST=Texas; L=Round Rock; O=Dell; CN=*.apis.dell.com\n*  start date: Jul 26 19:18:16 2021 GMT\n*  expire date: Jul 20 19:18:15 2022 GMT\n*  subjectAltName: host &quot;apigtwb2c.us.dell.com&quot; matched cert's &quot;apigtwb2c.us.dell.com&quot;\n*  issuer: C=US; O=Entrust, Inc.; OU=See www.entrust.net/legal-terms; OU=(c) 2012 Entrust, Inc. - for authorized use only; CN=Entrust Certification Authority - L1K\n*  SSL certificate verify ok.\n* Server auth using Basic with user '{redacted}'\n&gt; POST /auth/oauth/v2/token HTTP/1.1\n&gt; Host: apigtwb2c.us.dell.com\n&gt; Authorization: Basic {redacted}\n&gt; User-Agent: curl/7.79.1\n&gt; Accept: application/json\n&gt; Content-Length: 29\n&gt; Content-Type: application/x-www-form-urlencoded\n&gt;\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 200 OK\n&lt; Pragma: no-cache\n&lt; Cache-Control: no-store\n&lt; X-Correlation-ID: {redacted}\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; Content-Length: 127\n&lt; Date: Thu, 14 Oct 2021 18:56:28 GMT\n&lt; Server: dell\n&lt;\n{\n  &quot;access_token&quot;:&quot;{redacted}&quot;,\n  &quot;token_type&quot;:&quot;Bearer&quot;,\n  &quot;expires_in&quot;:3600,\n  &quot;scope&quot;:&quot;oob&quot;\n* Connection #0 to host apigtwb2c.us.dell.com left intact\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","oauth-2.0","google-api","google-oauth"],"comments":[{"owner":{"account_id":97313,"reputation":6321,"user_id":264028,"accept_rate":75,"display_name":"Joaqu&#237;n L. Robles"},"score":0,"creation_date":1636046552,"post_id":69586440,"comment_id":123459449,"body_markdown":"hi there, did you solve the problem?","body":"hi there, did you solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":14707147,"reputation":1,"user_id":10621500,"display_name":"Douglas Souza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634309167,"creation_date":1634309167,"answer_id":69586573,"question_id":69586440,"body_markdown":"You have to use the **spring-boot-starter-oauth2-client** dependency that allows the client registration for oauth2 providers, but before that it&#39;s necessary the **client-id** and **client-secret** provided by your oauth2 provider (such google). [Here&#39;s][1] a nice guide of how do that.\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/spring-boot-oauth2/","title":"Spring Boot Oauth2 and google services api","body":"<p>You have to use the <strong>spring-boot-starter-oauth2-client</strong> dependency that allows the client registration for oauth2 providers, but before that it's necessary the <strong>client-id</strong> and <strong>client-secret</strong> provided by your oauth2 provider (such google). <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">Here's</a> a nice guide of how do that.</p>\n"}],"owner":{"account_id":12167284,"reputation":91,"user_id":12724047,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634309167,"creation_date":1634308623,"question_id":69586440,"body_markdown":"I have an web application whcih allows only google users and uses `spring-boot-starter-oauth2-client` to obtain authentication. I want to integrate Google API into my application, but all examples using its onw Oath2 process to authenticate user. How can I reuse existing spring boot google login for interaction with google API services? \r\n\r\nThanks!","title":"Spring Boot Oauth2 and google services api","body":"<p>I have an web application whcih allows only google users and uses <code>spring-boot-starter-oauth2-client</code> to obtain authentication. I want to integrate Google API into my application, but all examples using its onw Oath2 process to authenticate user. How can I reuse existing spring boot google login for interaction with google API services?</p>\n<p>Thanks!</p>\n"},{"tags":["java","printing","console","customization"],"comments":[{"owner":{"account_id":4059188,"reputation":103,"user_id":3336161,"display_name":"KUTAY ZORLU"},"score":0,"creation_date":1634308259,"post_id":69586332,"comment_id":122996708,"body_markdown":"write  more detailed.","body":"write  more detailed."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634308361,"post_id":69586332,"comment_id":122996757,"body_markdown":"Sorry I didn&#39;t understand the meaning of `more details`. I said in the question that this small description actually explains what I wanted.","body":"Sorry I didn&#39;t understand the meaning of <code>more details</code>. I said in the question that this small description actually explains what I wanted."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1634308488,"post_id":69586332,"comment_id":122996822,"body_markdown":"What is **console**? Are you running on terminal? Some IDE? Have you created your own console?","body":"What is <b>console</b>? Are you running on terminal? Some IDE? Have you created your own console?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1634308563,"post_id":69586332,"comment_id":122996850,"body_markdown":"`System.out` is the Java wrapper for *standard out*. You can redirect standard out to wherever you want. See [Capturing contents of standard output in Java](https://stackoverflow.com/q/5389632/3890632)","body":"<code>System.out</code> is the Java wrapper for <i>standard out</i>. You can redirect standard out to wherever you want. See <a href=\"https://stackoverflow.com/q/5389632/3890632\">Capturing contents of standard output in Java</a>"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634308618,"post_id":69586332,"comment_id":122996873,"body_markdown":"As i mentioned i made a basic notepad type IDE which contains a `JTextArea` as the console. My doubt is how to ask Java to print whatever it wants to print in the console in my CUSTOM CONSOLE.","body":"As i mentioned i made a basic notepad type IDE which contains a <code>JTextArea</code> as the console. My doubt is how to ask Java to print whatever it wants to print in the console in my CUSTOM CONSOLE."},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1634308909,"post_id":69586332,"comment_id":122997005,"body_markdown":"How about calling both if you need add in textArea and print on console `getTextArea().append(&quot;your text&quot;);` and `System.out.prinltn(&quot;your text&quot;)` ?","body":"How about calling both if you need add in textArea and print on console <code>getTextArea().append(&quot;your text&quot;);</code> and <code>System.out.prinltn(&quot;your text&quot;)</code> ?"},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634309131,"post_id":69586332,"comment_id":122997105,"body_markdown":"Sorry but i mentioned it is a type of a basic IDE, I&#39;m not calling the `System.out.println()` while typing the program but the Java Interpreter itself while running prints in MY CONSOLE.","body":"Sorry but i mentioned it is a type of a basic IDE, I&#39;m not calling the <code>System.out.println()</code> while typing the program but the Java Interpreter itself while running prints in MY CONSOLE."},{"owner":{"account_id":21480479,"reputation":150,"user_id":15827939,"display_name":"InSaNiTy"},"score":1,"creation_date":1634309651,"post_id":69586332,"comment_id":122997312,"body_markdown":"I&#39;m pretty sure this is what you&#39;re looking for: \nhttps://stackoverflow.com/questions/14706674/system-out-println-to-jtextarea.\nDoes this solve your problem? As stated in the comments - as it seems, you are trying to redirect the standard output stream.","body":"I&#39;m pretty sure this is what you&#39;re looking for:  <a href=\"https://stackoverflow.com/questions/14706674/system-out-println-to-jtextarea\" title=\"system out println to jtextarea\">stackoverflow.com/questions/14706674/&hellip;</a>. Does this solve your problem? As stated in the comments - as it seems, you are trying to redirect the standard output stream."}],"answers":[{"tags":[],"owner":{"account_id":4059188,"reputation":103,"user_id":3336161,"display_name":"KUTAY ZORLU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634308609,"creation_date":1634308609,"answer_id":69586436,"question_id":69586332,"body_markdown":"You need to pass arguments to the your notepad application. \r\n\r\nFor that you need to use windows controllers to access your notepad application from another java application. \r\n\r\nIF both of the application written in java then you can use TCP ip at the backrground to communicate. This is the only one way, there are alot of other ways. \r\n\r\n","title":"How to set System.out.println() to print in my custom console?","body":"<p>You need to pass arguments to the your notepad application.</p>\n<p>For that you need to use windows controllers to access your notepad application from another java application.</p>\n<p>IF both of the application written in java then you can use TCP ip at the backrground to communicate. This is the only one way, there are alot of other ways.</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634308609,"creation_date":1634308134,"question_id":69586332,"body_markdown":"I&#39;m creating a simple notepad (just like a clone of the real one). As an advancement I decided to add a Java compiler and Runner in the app making it a very basic IDE. My problem is how to I tell Java that `System.out.prinltn()` should print it&#39;s results in my own console?\r\n\r\nI know the question is short but this is what i wanted to know. Not only for `System.out.prinltn()` but for all the other things which are printed in the console.\r\n\r\n*Thanks in advance*","title":"How to set System.out.println() to print in my custom console?","body":"<p>I'm creating a simple notepad (just like a clone of the real one). As an advancement I decided to add a Java compiler and Runner in the app making it a very basic IDE. My problem is how to I tell Java that <code>System.out.prinltn()</code> should print it's results in my own console?</p>\n<p>I know the question is short but this is what i wanted to know. Not only for <code>System.out.prinltn()</code> but for all the other things which are printed in the console.</p>\n<p><em>Thanks in advance</em></p>\n"},{"tags":["java","spring","spring-webflux","openapi","openapi-generator"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1634309979,"post_id":69586368,"comment_id":122997477,"body_markdown":"Why do you use 200 status in case of error?","body":"Why do you use 200 status in case of error?"},{"owner":{"account_id":16589540,"reputation":187,"user_id":11988044,"display_name":"Frederic Sch&#246;nberger"},"score":1,"creation_date":1634310299,"post_id":69586368,"comment_id":122997594,"body_markdown":"I don&#39;t. I think it&#39;s auto-generated because of the &quot;default&quot; keyword in the spec.","body":"I don&#39;t. I think it&#39;s auto-generated because of the &quot;default&quot; keyword in the spec."}],"owner":{"account_id":16589540,"reputation":187,"user_id":11988044,"display_name":"Frederic Sch&#246;nberger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1634308280,"creation_date":1634308280,"question_id":69586368,"body_markdown":"I&#39;m currently trying to generate a Spring Webflux Server Project using OpenApi Generator/ the openapi-generator maven plugin. I have the following OpenApi Spec:\r\n\r\n```yaml\r\nopenapi: 3.0.3\r\ninfo: #...\r\nservers: #...\r\npaths:\r\n  /foo/{id}:\r\n    get:\r\n      tags:\r\n        - foo\r\n      operationId: getFoo\r\n      summary: ...\r\n      parameters:\r\n        - in: path\r\n          name: id\r\n          schema:\r\n            type: string\r\n            nullable: false\r\n            description: Foo&#39;s id.\r\n          allowEmptyValue: false\r\n          required: true\r\n      responses:\r\n        200:\r\n          description: Foo, if foo was found.\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/Foo&#39;\r\n        default:\r\n          description: There was an error.\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/ApiError&#39;\r\ncomponents:\r\n  schemas:\r\n    ApiError:\r\n      type: object\r\n      properties:\r\n        message:\r\n          type: string\r\n        code:\r\n          type: number\r\n        requestId:\r\n          type: string\r\n      required:\r\n        - message\r\n        - code\r\n    Foo:\r\n      type: object\r\n      properties:\r\n        bar:\r\n          type: string\r\n```\r\n\r\nEssentially I want my `/foo/{id}` endpoint to return a `Foo` if it was found by the id, otherwise an `ApiError`.\r\n\r\nNow the generator creates the following interface (edited for brevity):\r\n\r\n```java\r\n\r\n@Validated\r\n@Api(value = &quot;Foo&quot;, description = &quot;the foo API&quot;)\r\npublic interface FooApi {\r\n \r\n  @ApiOperation(\r\n      response = Foo.class,\r\n      tags = {\r\n        &quot;foo&quot;,\r\n      })\r\n  @ApiResponses(\r\n      value = {\r\n        @ApiResponse(code = 200, message = &quot;...&quot;, response = Foo.class),\r\n        @ApiResponse(code = 200, message = &quot;...&quot;, response = ApiError.class)\r\n      })\r\n  @GetMapping(\r\n      value = &quot;/foo/{id}&quot;,\r\n      produces = {&quot;application/json&quot;})\r\n  Mono&lt;ResponseEntity&lt;Foo&gt;&gt; getFoo(\r\n      @ApiParam(value = &quot;&quot;, required = true) @PathVariable(&quot;id&quot;) String id,\r\n      @ApiIgnore final ServerWebExchange exchange);\r\n}\r\n```\r\n\r\nHow would I now go on implementing the error path of `getFoo`? Currently I have something like this:\r\n\r\n```java\r\nMono&lt;ResponseEntity&lt;Foo&gt;&gt; getFoo(String id, ServerWebExchange exchange) {\r\n  return fooDomainObjectSvc.get(id)\r\n    .map(domainObject -&gt; ResponseEntity.ok(createFooFromDomainObject(domainObject)))\r\n    //This doesn&#39;t compile because ApiError doesn&#39;t inherit from Throwable\r\n    .onErrorMap(e -&gt; new ApiError());\r\n}  \r\n```\r\n\r\nWhat&#39;s the correct way to handle this case? Should I just modify `ApiError` to inherit from Throwable? Wouldn&#39;t this be overwritten once the specificiation changes and I rerun the code-generation step?","title":"Return Errors in API generated from OpenApi Generator 3.0 for Spring Web Flux","body":"<p>I'm currently trying to generate a Spring Webflux Server Project using OpenApi Generator/ the openapi-generator maven plugin. I have the following OpenApi Spec:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.3\ninfo: #...\nservers: #...\npaths:\n  /foo/{id}:\n    get:\n      tags:\n        - foo\n      operationId: getFoo\n      summary: ...\n      parameters:\n        - in: path\n          name: id\n          schema:\n            type: string\n            nullable: false\n            description: Foo's id.\n          allowEmptyValue: false\n          required: true\n      responses:\n        200:\n          description: Foo, if foo was found.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Foo'\n        default:\n          description: There was an error.\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/ApiError'\ncomponents:\n  schemas:\n    ApiError:\n      type: object\n      properties:\n        message:\n          type: string\n        code:\n          type: number\n        requestId:\n          type: string\n      required:\n        - message\n        - code\n    Foo:\n      type: object\n      properties:\n        bar:\n          type: string\n</code></pre>\n<p>Essentially I want my <code>/foo/{id}</code> endpoint to return a <code>Foo</code> if it was found by the id, otherwise an <code>ApiError</code>.</p>\n<p>Now the generator creates the following interface (edited for brevity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Validated\n@Api(value = &quot;Foo&quot;, description = &quot;the foo API&quot;)\npublic interface FooApi {\n \n  @ApiOperation(\n      response = Foo.class,\n      tags = {\n        &quot;foo&quot;,\n      })\n  @ApiResponses(\n      value = {\n        @ApiResponse(code = 200, message = &quot;...&quot;, response = Foo.class),\n        @ApiResponse(code = 200, message = &quot;...&quot;, response = ApiError.class)\n      })\n  @GetMapping(\n      value = &quot;/foo/{id}&quot;,\n      produces = {&quot;application/json&quot;})\n  Mono&lt;ResponseEntity&lt;Foo&gt;&gt; getFoo(\n      @ApiParam(value = &quot;&quot;, required = true) @PathVariable(&quot;id&quot;) String id,\n      @ApiIgnore final ServerWebExchange exchange);\n}\n</code></pre>\n<p>How would I now go on implementing the error path of <code>getFoo</code>? Currently I have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;ResponseEntity&lt;Foo&gt;&gt; getFoo(String id, ServerWebExchange exchange) {\n  return fooDomainObjectSvc.get(id)\n    .map(domainObject -&gt; ResponseEntity.ok(createFooFromDomainObject(domainObject)))\n    //This doesn't compile because ApiError doesn't inherit from Throwable\n    .onErrorMap(e -&gt; new ApiError());\n}  \n</code></pre>\n<p>What's the correct way to handle this case? Should I just modify <code>ApiError</code> to inherit from Throwable? Wouldn't this be overwritten once the specificiation changes and I rerun the code-generation step?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1634308987,"post_id":69586314,"comment_id":122997043,"body_markdown":"`Once i enter the camera app a file is created even if the picture is not taken` No. Not the camera app creates the file. You are creating an empty file yourself with File.createTempFile(). You do not have to do that. Only a FIle instance will do. You are victim #45678 of this example code.","body":"<code>Once i enter the camera app a file is created even if the picture is not taken</code> No. Not the camera app creates the file. You are creating an empty file yourself with File.createTempFile(). You do not have to do that. Only a FIle instance will do. You are victim #45678 of this example code."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634309382,"post_id":69586314,"comment_id":122997206,"body_markdown":"`How to capture photo with existing camera app in android?` You know how to do that. Please make a better subject.","body":"<code>How to capture photo with existing camera app in android?</code> You know how to do that. Please make a better subject."}],"owner":{"account_id":17931370,"reputation":9,"user_id":13028726,"display_name":"Vishnu AV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634308051,"creation_date":1634308051,"question_id":69586314,"body_markdown":"I need to take photo using existing camera app and store it. I took this code from [here][1]\r\n \r\n```String currentPhotoPath;\r\n\r\nprivate File createImageFile() throws IOException {\r\n    // Create an image file name\r\n    String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n    String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n    File image = File.createTempFile(\r\n        imageFileName,  /* prefix */\r\n        &quot;.jpg&quot;,         /* suffix */\r\n        storageDir      /* directory */\r\n    );\r\n\r\n    // Save a file: path for use with ACTION_VIEW intents\r\n    currentPhotoPath = image.getAbsolutePath();\r\n    return image;\r\n}\r\nprivate void dispatchTakePictureIntent() {\r\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    // Ensure that there&#39;s a camera activity to handle the intent\r\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n        // Create the File where the photo should go\r\n        File photoFile = null;\r\n        try {\r\n            photoFile = createImageFile();\r\n        } catch (IOException ex) {\r\n            // Error occurred while creating the File\r\n            ...\r\n        }\r\n        // Continue only if the File was successfully created\r\n        if (photoFile != null) {\r\n            Uri photoURI = FileProvider.getUriForFile(this,\r\n                                                  &quot;com.example.android.fileprovider&quot;,\r\n                                                  photoFile);\r\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n        }\r\n    }\r\n}\r\n```\r\nThe problem with this code is \r\n\r\n - `startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);`  \r\n   is depreciated \r\n- Once i enter the camera app a file is created even if the picture is not taken\r\n\r\nWhat changes should i make so that a file will be created only when an image is captured in the camera app?\r\n\r\n[1]: https://developer.android.com/training/camera/photobasics","title":"How to capture photo with existing camera app in android?","body":"<p>I need to take photo using existing camera app and store it. I took this code from <a href=\"https://developer.android.com/training/camera/photobasics\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>\nprivate File createImageFile() throws IOException {\n    // Create an image file name\n    String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n    String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n    File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n    File image = File.createTempFile(\n        imageFileName,  /* prefix */\n        &quot;.jpg&quot;,         /* suffix */\n        storageDir      /* directory */\n    );\n\n    // Save a file: path for use with ACTION_VIEW intents\n    currentPhotoPath = image.getAbsolutePath();\n    return image;\n}\nprivate void dispatchTakePictureIntent() {\n    Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n    // Ensure that there's a camera activity to handle the intent\n    if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n        // Create the File where the photo should go\n        File photoFile = null;\n        try {\n            photoFile = createImageFile();\n        } catch (IOException ex) {\n            // Error occurred while creating the File\n            ...\n        }\n        // Continue only if the File was successfully created\n        if (photoFile != null) {\n            Uri photoURI = FileProvider.getUriForFile(this,\n                                                  &quot;com.example.android.fileprovider&quot;,\n                                                  photoFile);\n            takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n            startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n        }\n    }\n}\n</code></pre>\n<p>The problem with this code is</p>\n<ul>\n<li><code>startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);</code><br />\nis depreciated</li>\n<li>Once i enter the camera app a file is created even if the picture is not taken</li>\n</ul>\n<p>What changes should i make so that a file will be created only when an image is captured in the camera app?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":3002558,"reputation":3522,"user_id":2547753,"display_name":"Ezequiel"},"score":2,"creation_date":1435689991,"post_id":31145765,"comment_id":50302450,"body_markdown":"Why don&#39;t you mock your sets? This is what you really want to test.","body":"Why don&#39;t you mock your sets? This is what you really want to test."},{"owner":{"display_name":"user3458"},"score":0,"creation_date":1435691756,"post_id":31145765,"comment_id":50303524,"body_markdown":"@Ezequiel I think I see your point here - wrap sets into their own objects, so my class&#39; functionality consists of just directing the incoming mock to the right place and then calling the &quot;iterate&quot; method on those places in the right order. Hmmm. That may work. Thanks for the idea. Could you re-post it as answer?","body":"@Ezequiel I think I see your point here - wrap sets into their own objects, so my class&#39; functionality consists of just directing the incoming mock to the right place and then calling the &quot;iterate&quot; method on those places in the right order. Hmmm. That may work. Thanks for the idea. Could you re-post it as answer?"}],"answers":[{"tags":[],"owner":{"account_id":3659251,"reputation":859,"user_id":3049500,"display_name":"Stefan Mondelaers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634307964,"creation_date":1634307964,"answer_id":69586288,"question_id":31145765,"body_markdown":"To discuss how to deal with collections and maps when using Mockito.inOrder, we have to distinguish 4 situations depending on\r\n- whether the collection or map is input or is created inside the method (input means it is accessed via a method parameter, a class variable or returned by method call that can be stubbed)\r\n- whether the collection or map is accessed or iterated inside the method (or another method from the same class or a super class that is called and because of that can&#39;t be stubbed)\r\n\r\nThat results in 4 combinations or 4 possible situations.\r\n\r\n1. The collection or map is an input parameter of the method being tested and the method passes it to another method or returns it but doesn&#39;t touch it.\r\nIn that case just mock the collection or map. There is no problem.\r\n\r\n2. The collection or map is an input parameter of the method being tested and the method accesses (or iterates) it.\r\nIn that case, you create a collection or set containing one or more mocks. You should never mock the collection or map itself in this case, because you can&#39;t know which methods are called and need to be stubbed when iterating it using a for loop or a stream (it depends on the implementation of the JRE!).\r\nBecause you have to create it yourself before calling the method, you can decide what implementation you will use. If it contains 2 or more mocked objects or the method being tested adds objects to it, then create an ordered collection or map.\r\nAnd if the method should not modify it, but only read it, then create a non modifiable collection or map. I like to use Collections.singleton, Collections.singletonList and Arrays.asList in tests.\r\n\r\n3. The method being tested creates and fills the collection, but doesn&#39;t access or iterate it.\r\nIf the method adds objects to the set or map, which are passed in as parameters and then passes the set or map to another map or returns it, there is no problem.\r\nIn that case there are no calls to verify that depend on an iteration order. You just need to assert it&#39;s content afterwards (when returned or using a captor if not returned but passed to another method).\r\n\r\n4. The method being tested creates and fills the collection and accesses or iterates it.\r\nWhen the method creates the collection or map and adds mocks into it and then iterates it and acts on those mocks, then there is indeed a problem if you are using inOrder and the collection or map isn&#39;t ordered.\r\nIn that case, you should try to split up the method into 2 methods: one method that creates and fills the collection or map (ending up in situation 3, it can be a factory method in a factory class) and a second method that accesses or iterates it (ending up situation 2). Just creating a factory method and calling it from the already existing method can be enough to solve the problem.\r\n\r\nWhen the class containing the method being tested has a set or map as a class variable, you can consider it as an input for the method if the method accesses or modifies it and as an output if the method sets it.\r\nBut if it is a private or protected class variable which doesn&#39;t have a setter or getter, you might need to use reflection to set it with a mock or with a set or map containing one or more mocks before calling your method or to get and verify it after calling your method.","title":"Mockito&#39;s inOrder() and sets/maps","body":"<p>To discuss how to deal with collections and maps when using Mockito.inOrder, we have to distinguish 4 situations depending on</p>\n<ul>\n<li>whether the collection or map is input or is created inside the method (input means it is accessed via a method parameter, a class variable or returned by method call that can be stubbed)</li>\n<li>whether the collection or map is accessed or iterated inside the method (or another method from the same class or a super class that is called and because of that can't be stubbed)</li>\n</ul>\n<p>That results in 4 combinations or 4 possible situations.</p>\n<ol>\n<li><p>The collection or map is an input parameter of the method being tested and the method passes it to another method or returns it but doesn't touch it.\nIn that case just mock the collection or map. There is no problem.</p>\n</li>\n<li><p>The collection or map is an input parameter of the method being tested and the method accesses (or iterates) it.\nIn that case, you create a collection or set containing one or more mocks. You should never mock the collection or map itself in this case, because you can't know which methods are called and need to be stubbed when iterating it using a for loop or a stream (it depends on the implementation of the JRE!).\nBecause you have to create it yourself before calling the method, you can decide what implementation you will use. If it contains 2 or more mocked objects or the method being tested adds objects to it, then create an ordered collection or map.\nAnd if the method should not modify it, but only read it, then create a non modifiable collection or map. I like to use Collections.singleton, Collections.singletonList and Arrays.asList in tests.</p>\n</li>\n<li><p>The method being tested creates and fills the collection, but doesn't access or iterate it.\nIf the method adds objects to the set or map, which are passed in as parameters and then passes the set or map to another map or returns it, there is no problem.\nIn that case there are no calls to verify that depend on an iteration order. You just need to assert it's content afterwards (when returned or using a captor if not returned but passed to another method).</p>\n</li>\n<li><p>The method being tested creates and fills the collection and accesses or iterates it.\nWhen the method creates the collection or map and adds mocks into it and then iterates it and acts on those mocks, then there is indeed a problem if you are using inOrder and the collection or map isn't ordered.\nIn that case, you should try to split up the method into 2 methods: one method that creates and fills the collection or map (ending up in situation 3, it can be a factory method in a factory class) and a second method that accesses or iterates it (ending up situation 2). Just creating a factory method and calling it from the already existing method can be enough to solve the problem.</p>\n</li>\n</ol>\n<p>When the class containing the method being tested has a set or map as a class variable, you can consider it as an input for the method if the method accesses or modifies it and as an output if the method sets it.\nBut if it is a private or protected class variable which doesn't have a setter or getter, you might need to use reflection to set it with a mock or with a set or map containing one or more mocks before calling your method or to get and verify it after calling your method.</p>\n"}],"owner":{"display_name":"user3458"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634307964,"creation_date":1435688988,"question_id":31145765,"body_markdown":"I have the following situation: My class keeps two identity sets of objects. \r\n\r\nThe sets are gradually filled with some instances, in the test case they are filled with mocks.\r\n\r\nThen my class has a call that does something with the contents of one set, then with the contents of the other. That is the call I am testing.\r\n\r\nThe order in which the sets are processed is important. The order in which the individual objecst are processed within sets is not important, and in fact it varies depending on how identity hash is assigned to the mocks in the sets.\r\n\r\nSo in my situation I have a partial order: all of these objects must be processed before any of those objects.\r\n\r\nThe question is, how can I express it in Mockito? inOrder() breaks down because I have to specify the exact order of objects, and that is not constant.\r\n\r\n\r\n","title":"Mockito&#39;s inOrder() and sets/maps","body":"<p>I have the following situation: My class keeps two identity sets of objects. </p>\n\n<p>The sets are gradually filled with some instances, in the test case they are filled with mocks.</p>\n\n<p>Then my class has a call that does something with the contents of one set, then with the contents of the other. That is the call I am testing.</p>\n\n<p>The order in which the sets are processed is important. The order in which the individual objecst are processed within sets is not important, and in fact it varies depending on how identity hash is assigned to the mocks in the sets.</p>\n\n<p>So in my situation I have a partial order: all of these objects must be processed before any of those objects.</p>\n\n<p>The question is, how can I express it in Mockito? inOrder() breaks down because I have to specify the exact order of objects, and that is not constant.</p>\n"},{"tags":["java","spring-boot","rest","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":19165296,"reputation":1941,"user_id":14000148,"display_name":"warkolm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634171478,"creation_date":1634171478,"answer_id":69563788,"question_id":69557553,"body_markdown":"Elasticsearch doesn&#39;t have columns like a database, so the answer here will depend on exactly what you want to find has changed\r\n\r\nthere is the `_version` field that is automatically updated when a document has a change made to it, and you can define that yourself using [`version_type`][1]. or you can use something like https://www.elastic.co/guide/en/elasticsearch/reference/7.15/version.html\r\nthose are both document level though\r\n\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/7.15/docs-index_.html#index-versioning","title":"Elastic Search How to retrieve the data if any changes made to a particular database column using Low Level Rest Client","body":"<p>Elasticsearch doesn't have columns like a database, so the answer here will depend on exactly what you want to find has changed</p>\n<p>there is the <code>_version</code> field that is automatically updated when a document has a change made to it, and you can define that yourself using <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.15/docs-index_.html#index-versioning\" rel=\"nofollow noreferrer\"><code>version_type</code></a>. or you can use something like <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/7.15/version.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/7.15/version.html</a>\nthose are both document level though</p>\n"}],"owner":{"account_id":21992750,"reputation":1,"user_id":16265829,"display_name":"srinias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634307790,"creation_date":1634136102,"question_id":69557553,"body_markdown":"Using Elastic search 7.0.1 /spring Boot/REST API/Java 8 Versions\r\ncan anyone help me in resolving the issue. ?\r\n\r\nI am able to create an index document which are status is ACTIVE. \r\n\r\n    @RestController\r\n    public class Search Controller {``\r\n    @GetMapping(&quot;/retrieve&quot;)\r\n    public String retrieve (String id) {\r\n    Request request=new Request(&quot;GET&quot;, index Name +&quot;/_search&quot;);\r\n    ..\r\n     }\r\n    }\r\n\r\nBut if a document has updated to inactive status those documents should not be visible only Active documents should visible but it is not happening.\r\nHow to perform re Index the document through Rest API with low Level Rest Client.\r\nusing Elastic search 7.0.x","title":"Elastic Search How to retrieve the data if any changes made to a particular database column using Low Level Rest Client","body":"<p>Using Elastic search 7.0.1 /spring Boot/REST API/Java 8 Versions\ncan anyone help me in resolving the issue. ?</p>\n<p>I am able to create an index document which are status is ACTIVE.</p>\n<pre><code>@RestController\npublic class Search Controller {``\n@GetMapping(&quot;/retrieve&quot;)\npublic String retrieve (String id) {\nRequest request=new Request(&quot;GET&quot;, index Name +&quot;/_search&quot;);\n..\n }\n}\n</code></pre>\n<p>But if a document has updated to inactive status those documents should not be visible only Active documents should visible but it is not happening.\nHow to perform re Index the document through Rest API with low Level Rest Client.\nusing Elastic search 7.0.x</p>\n"},{"tags":["java","java-11"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634274499,"creation_date":1634273315,"answer_id":69580111,"question_id":69580097,"body_markdown":"There aren&#39;t any source differences; there&#39;s only one source tree.\r\n\r\nThe difference lies in the support contract (and occasionally, the Oracle JDK packs in a few more external things, generally because they aren&#39;t open source, naturally, you can&#39;t find the source tree of these addons, though oracle is working on reducing this to zero. \r\n\r\nFor example, [*Flight Recorder*][1] was part of Oracle JDK and not OpenJDK originally, but has been [part of OpenJDK since Java 11][2]. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JDK_Flight_Recorder\r\n  [2]: https://openjdk.java.net/jeps/328","title":"In JDK11 where is the difference between Oracle&#39;s source code and openJDK&#39;s source code","body":"<p>There aren't any source differences; there's only one source tree.</p>\n<p>The difference lies in the support contract (and occasionally, the Oracle JDK packs in a few more external things, generally because they aren't open source, naturally, you can't find the source tree of these addons, though oracle is working on reducing this to zero.</p>\n<p>For example, <a href=\"https://en.wikipedia.org/wiki/JDK_Flight_Recorder\" rel=\"nofollow noreferrer\"><em>Flight Recorder</em></a> was part of Oracle JDK and not OpenJDK originally, but has been <a href=\"https://openjdk.java.net/jeps/328\" rel=\"nofollow noreferrer\">part of OpenJDK since Java 11</a>.</p>\n"}],"owner":{"account_id":22755154,"reputation":23,"user_id":16914711,"display_name":"kfly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69580111,"answer_count":1,"score":2,"last_activity_date":1634307692,"creation_date":1634273140,"question_id":69580097,"body_markdown":"What is the difference  between Oracle&#39;s source code and openJDK&#39;s source code?  \r\nI have seen this [URL](https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk), but what are the differences between the source codes.\r\n","title":"In JDK11 where is the difference between Oracle&#39;s source code and openJDK&#39;s source code","body":"<p>What is the difference  between Oracle's source code and openJDK's source code?<br />\nI have seen this <a href=\"https://stackoverflow.com/questions/22358071/differences-between-oracle-jdk-and-openjdk\">URL</a>, but what are the differences between the source codes.</p>\n"},{"tags":["java","gradle","jar","build","build.gradle"],"comments":[{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1457536189,"post_id":35895201,"comment_id":59451231,"body_markdown":"It&#39;s there, I just searched for &quot;jar&quot; in your first link. https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html","body":"It&#39;s there, I just searched for &quot;jar&quot; in your first link. <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":4972612,"reputation":4513,"user_id":3999893,"accept_rate":62,"display_name":"Edward"},"score":1,"creation_date":1457536945,"post_id":35895201,"comment_id":59451820,"body_markdown":"@Dima: I can&#39;t find it on that page,... in the table I only find the description for the **task** `jar` linking to the **class** `jar`. But there is no documentation (showing e.g. the signature) of the **method** `jar`. Or is `jar` not a method? Then: Where is it documented to call the task with a closure and what&#39;s the meaning?","body":"@Dima: I can&#39;t find it on that page,... in the table I only find the description for the <b>task</b> <code>jar</code> linking to the <b>class</b> <code>jar</code>. But there is no documentation (showing e.g. the signature) of the <b>method</b> <code>jar</code>. Or is <code>jar</code> not a method? Then: Where is it documented to call the task with a closure and what&#39;s the meaning?"},{"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":0,"creation_date":1457538355,"post_id":35895201,"comment_id":59453004,"body_markdown":"Not &quot;call the task&quot;, but &quot;configure the task&quot;. You are just giving it the attributes you want added to the jar manifest. It is all described on the page I linked to.","body":"Not &quot;call the task&quot;, but &quot;configure the task&quot;. You are just giving it the attributes you want added to the jar manifest. It is all described on the page I linked to."},{"owner":{"account_id":2058315,"reputation":451,"user_id":1835510,"display_name":"ayaye"},"score":0,"creation_date":1457544488,"post_id":35895201,"comment_id":59457483,"body_markdown":"It definitely can not be a method of Project because Project doesn&#39;t know about plugins API. But plugin can register itself and Project will delegate processing of configuration block to the corresponding plugin.","body":"It definitely can not be a method of Project because Project doesn&#39;t know about plugins API. But plugin can register itself and Project will delegate processing of configuration block to the corresponding plugin."}],"answers":[{"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634307645,"creation_date":1457547592,"answer_id":35899538,"question_id":35895201,"body_markdown":"Probably not a comprehensive answer you&#39;re looking for, but some pointers in the right direction:\r\n\r\nThe internals of the jar task don&#39;t seem to be documented in a lot of detail, so you&#39;ll have to look through source to get to what you&#39;re looking for. The jar task comes from the java plugin [here][1]. Which in turn adds a task from [this class][2]. This class doesn&#39;t do a whole lot beyond extending from [Jar.java][3].\r\n\r\nSo it would seem the closure:\r\n\r\n    jar {\r\n            ....\r\n    }\r\n\r\ncalls the constructor [here][4] and sets the properties defined in the jar closure. Further Jar class extends from Zip.java, while overriding the extension of the archive file, and adding a manifest property. \r\n\r\n--\r\n\r\nPS: This still doesn&#39;t quite help me understand `with jar` from your [original question][5], but I like your line of questioning, I&#39;m learning a few things along the way!\r\n\r\n\r\n  [1]: https://github.com/gradle/gradle/blob/master/subprojects/plugins/src/main/java/org/gradle/api/plugins/JavaPlugin.java#L117\r\n  [2]: https://github.com/gradle/gradle/blob/master/subprojects/plugins/src/main/groovy/org/gradle/api/tasks/bundling/Jar.groovy\r\n  [3]: https://github.com/gradle/gradle/blob/master/subprojects/platform-jvm/src/main/java/org/gradle/jvm/tasks/Jar.java\r\n  [4]: https://github.com/gradle/gradle/blob/master/subprojects/platform-jvm/src/main/java/org/gradle/jvm/tasks/Jar.java#L49\r\n  [5]: https://stackoverflow.com/questions/35878939/how-to-run-a-gradle-task-with-different-parameters","title":"Is Gradles `jar` a method?","body":"<p>Probably not a comprehensive answer you're looking for, but some pointers in the right direction:</p>\n<p>The internals of the jar task don't seem to be documented in a lot of detail, so you'll have to look through source to get to what you're looking for. The jar task comes from the java plugin <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/plugins/src/main/java/org/gradle/api/plugins/JavaPlugin.java#L117\" rel=\"nofollow noreferrer\">here</a>. Which in turn adds a task from <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/plugins/src/main/groovy/org/gradle/api/tasks/bundling/Jar.groovy\" rel=\"nofollow noreferrer\">this class</a>. This class doesn't do a whole lot beyond extending from <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/platform-jvm/src/main/java/org/gradle/jvm/tasks/Jar.java\" rel=\"nofollow noreferrer\">Jar.java</a>.</p>\n<p>So it would seem the closure:</p>\n<pre><code>jar {\n        ....\n}\n</code></pre>\n<p>calls the constructor <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/platform-jvm/src/main/java/org/gradle/jvm/tasks/Jar.java#L49\" rel=\"nofollow noreferrer\">here</a> and sets the properties defined in the jar closure. Further Jar class extends from Zip.java, while overriding the extension of the archive file, and adding a manifest property.</p>\n<p>--</p>\n<p>PS: This still doesn't quite help me understand <code>with jar</code> from your <a href=\"https://stackoverflow.com/questions/35878939/how-to-run-a-gradle-task-with-different-parameters\">original question</a>, but I like your line of questioning, I'm learning a few things along the way!</p>\n"},{"tags":[],"owner":{"account_id":403366,"reputation":10752,"user_id":771077,"accept_rate":73,"display_name":"R_User"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1457555026,"creation_date":1457554425,"answer_id":35901654,"question_id":35895201,"body_markdown":"The answer is **yes and no**. The syntax is *syntactic sugar* (although in this case it makes things confusing). It is not a function `jar` that is called, but the function `tasks.getByName` that gets the name and the closure as a parameter.\r\n\r\nOn https://docs.gradle.org/current/userguide/more_about_tasks.html it says in part `17.3. Configuring tasks` (`Example 17.9. Configuring a task - with closure`):\r\n\r\n&gt; This works for any task. Line 3 of the example is just a shortcut for the `tasks.getByName()` method. It is important to note that if you pass a closure to the `getByName()` method, this closure is applied to configure the task, not when the task executes.\r\n\r\nSo you can also write:\r\n\r\n    version = &#39;1.0&#39;\r\n    tasks.getByName &quot;jar&quot;, {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;Gradle Quickstart&#39;,\r\n                       &#39;Implementation-Version&#39;: version\r\n        }\r\n    }\r\n\r\n","title":"Is Gradles `jar` a method?","body":"<p>The answer is <strong>yes and no</strong>. The syntax is <em>syntactic sugar</em> (although in this case it makes things confusing). It is not a function <code>jar</code> that is called, but the function <code>tasks.getByName</code> that gets the name and the closure as a parameter.</p>\n\n<p>On <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html\" rel=\"nofollow\">https://docs.gradle.org/current/userguide/more_about_tasks.html</a> it says in part <code>17.3. Configuring tasks</code> (<code>Example 17.9. Configuring a task - with closure</code>):</p>\n\n<blockquote>\n  <p>This works for any task. Line 3 of the example is just a shortcut for the <code>tasks.getByName()</code> method. It is important to note that if you pass a closure to the <code>getByName()</code> method, this closure is applied to configure the task, not when the task executes.</p>\n</blockquote>\n\n<p>So you can also write:</p>\n\n<pre><code>version = '1.0'\ntasks.getByName \"jar\", {\n    manifest {\n        attributes 'Implementation-Title': 'Gradle Quickstart',\n                   'Implementation-Version': version\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4972612,"reputation":4513,"user_id":3999893,"accept_rate":62,"display_name":"Edward"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":35901654,"answer_count":2,"score":1,"last_activity_date":1634307645,"creation_date":1457535837,"question_id":35895201,"body_markdown":"I&#39;m using the Java Plugin in Gradle\r\n\r\n    apply plugin: &#39;java&#39;\r\n\r\nI also configure the Jar-task using:\r\n\r\n    version = &#39;1.0&#39;\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Implementation-Title&#39;: &#39;Gradle Quickstart&#39;,\r\n                       &#39;Implementation-Version&#39;: version\r\n        }\r\n    }\r\n\r\nIf I understood it right, `jar` is a **method** which is called with a closure as the parameter. But where is this method documented? I my understandung it schuld be a method of Project.\r\n\r\nI couldn&#39;t find it in https://docs.gradle.org/current/userguide/java_plugin.html and https://docs.gradle.org/current/dsl/org.gradle.api.Project.html and https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\r\n\r\nOr am I wrong with my assumption that `jar` is a method?","title":"Is Gradles `jar` a method?","body":"<p>I'm using the Java Plugin in Gradle</p>\n\n<pre><code>apply plugin: 'java'\n</code></pre>\n\n<p>I also configure the Jar-task using:</p>\n\n<pre><code>version = '1.0'\njar {\n    manifest {\n        attributes 'Implementation-Title': 'Gradle Quickstart',\n                   'Implementation-Version': version\n    }\n}\n</code></pre>\n\n<p>If I understood it right, <code>jar</code> is a <strong>method</strong> which is called with a closure as the parameter. But where is this method documented? I my understandung it schuld be a method of Project.</p>\n\n<p>I couldn't find it in <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html\" rel=\"nofollow\">https://docs.gradle.org/current/userguide/java_plugin.html</a> and <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html\" rel=\"nofollow\">https://docs.gradle.org/current/dsl/org.gradle.api.Project.html</a> and <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"nofollow\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html</a></p>\n\n<p>Or am I wrong with my assumption that <code>jar</code> is a method?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634300919,"creation_date":1634300919,"answer_id":69584749,"question_id":69584567,"body_markdown":"Firstly, varargs are just syntactic sugar for an array argument. So:\r\n\r\n```\r\nclazz.varArgsMethod(&quot;A&quot;, &quot;B&quot;);\r\n```\r\n\r\nis just the same as (and can be invoked as):\r\n\r\n```\r\nclazz.varArgsMethod(new SomeElementType[]{&quot;A&quot;, &quot;B&quot;});\r\n```\r\n\r\nwhere `SomeElementType` is determined by the compiler.\r\n\r\n---\r\n\r\nAt the call site:\r\n\r\n```\r\nFoo&lt;String&gt; foo1 = new Foo&lt;&gt;();\r\nfoo1.doSomething(&quot;foo&quot;, &quot;bar&quot;);\r\nfoo1.doSomething();\r\n```\r\n\r\nthe compiler knows that `doSomething` is a varargs method, and needs a `T[]` as the varargs argument. Because it knows that `T` is `String` for a `Foo&lt;String&gt;`, it knows that `T` has to be `String`. So it compiles this code to:\r\n\r\n```\r\nFoo&lt;String&gt; foo1 = new Foo&lt;&gt;();\r\nfoo1.doSomething(new String[]{&quot;foo&quot;, &quot;bar&quot;});\r\nfoo1.doSomething(new String[]{});\r\n```\r\n\r\nThe `String[]` array type has a `String` component type. The method is passed instances of `String[]`, which can be queried reflectively for their component type.\r\n\r\n---\r\n\r\nIt&#39;s basically the same for the other two cases: `T` is determined from the type of the `Foo`:\r\n\r\n* For raw `Foo`, `T` is erased. The erasure of `T` is `Object`\r\n* For `Foo&lt;? super String&gt;`, the upper bound of `T` is `Object`\r\n\r\nHence, it creates and passes an `Object[]`.","title":"How does java deal with generic varargs exactly?","body":"<p>Firstly, varargs are just syntactic sugar for an array argument. So:</p>\n<pre><code>clazz.varArgsMethod(&quot;A&quot;, &quot;B&quot;);\n</code></pre>\n<p>is just the same as (and can be invoked as):</p>\n<pre><code>clazz.varArgsMethod(new SomeElementType[]{&quot;A&quot;, &quot;B&quot;});\n</code></pre>\n<p>where <code>SomeElementType</code> is determined by the compiler.</p>\n<hr />\n<p>At the call site:</p>\n<pre><code>Foo&lt;String&gt; foo1 = new Foo&lt;&gt;();\nfoo1.doSomething(&quot;foo&quot;, &quot;bar&quot;);\nfoo1.doSomething();\n</code></pre>\n<p>the compiler knows that <code>doSomething</code> is a varargs method, and needs a <code>T[]</code> as the varargs argument. Because it knows that <code>T</code> is <code>String</code> for a <code>Foo&lt;String&gt;</code>, it knows that <code>T</code> has to be <code>String</code>. So it compiles this code to:</p>\n<pre><code>Foo&lt;String&gt; foo1 = new Foo&lt;&gt;();\nfoo1.doSomething(new String[]{&quot;foo&quot;, &quot;bar&quot;});\nfoo1.doSomething(new String[]{});\n</code></pre>\n<p>The <code>String[]</code> array type has a <code>String</code> component type. The method is passed instances of <code>String[]</code>, which can be queried reflectively for their component type.</p>\n<hr />\n<p>It's basically the same for the other two cases: <code>T</code> is determined from the type of the <code>Foo</code>:</p>\n<ul>\n<li>For raw <code>Foo</code>, <code>T</code> is erased. The erasure of <code>T</code> is <code>Object</code></li>\n<li>For <code>Foo&lt;? super String&gt;</code>, the upper bound of <code>T</code> is <code>Object</code></li>\n</ul>\n<p>Hence, it creates and passes an <code>Object[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634307265,"creation_date":1634307265,"answer_id":69586130,"question_id":69584567,"body_markdown":"&gt; ...And, as I can&#39;t assign an Object to T, how can java assign an\r\n&gt; Object[] to T[]? Seems it&#39;s breaking type safety!\r\n\r\nYes, you are correct.  Varargs of generic parameter types actually do violate Java&#39;s own type safety rules.\r\n\r\nWhy?\r\n\r\nBecause of the fact that arrays are covariant (and reified) whereas generics are invariant (and erased, or non-reified).  In the words of Joshua Bloch, &quot;arrays and generics do not play well together.&quot; The developers of the Java language made a very deliberate decision to implement the varargs language feature despite the fact that it violates type safety. They concluded that the value of having varargs (which are extensively used by the reflection and annotation facilities) justified their risks and limitations.\r\n\r\nIn Java, you cannot compile this code:\r\n\r\n    T[] genericArray = new T[SIZE];\r\n\r\nThis is illegal because instantiating an array of a non-reified type is not type safe according to Java&#39;s own type safety rules.  Yet, when a client invokes a method that has a varargs parameter of a generic type, the runtime system will instantiate an array of that generic type!  It&#39;s not type safe!\r\n\r\nIf the varargs system is not used carefully, `ClassCastException`s or other bugs can occur in the program.  Essentially, an unenforceable contract is implied between the developer and the runtime system:\r\n\r\nThe array resulting from the generic varargs parameter...\r\n\r\n - will only be read from\r\n - will never be written to\r\n - will never be returned as a result\r\n - will not be passed to another client (unless that client also promises to only read from the array)\r\n\r\nIn other words, the developer promises to use the resulting generic array **only** as a variable number of arguments to complete a computation.","title":"How does java deal with generic varargs exactly?","body":"<blockquote>\n<p>...And, as I can't assign an Object to T, how can java assign an\nObject[] to T[]? Seems it's breaking type safety!</p>\n</blockquote>\n<p>Yes, you are correct.  Varargs of generic parameter types actually do violate Java's own type safety rules.</p>\n<p>Why?</p>\n<p>Because of the fact that arrays are covariant (and reified) whereas generics are invariant (and erased, or non-reified).  In the words of Joshua Bloch, &quot;arrays and generics do not play well together.&quot; The developers of the Java language made a very deliberate decision to implement the varargs language feature despite the fact that it violates type safety. They concluded that the value of having varargs (which are extensively used by the reflection and annotation facilities) justified their risks and limitations.</p>\n<p>In Java, you cannot compile this code:</p>\n<pre><code>T[] genericArray = new T[SIZE];\n</code></pre>\n<p>This is illegal because instantiating an array of a non-reified type is not type safe according to Java's own type safety rules.  Yet, when a client invokes a method that has a varargs parameter of a generic type, the runtime system will instantiate an array of that generic type!  It's not type safe!</p>\n<p>If the varargs system is not used carefully, <code>ClassCastException</code>s or other bugs can occur in the program.  Essentially, an unenforceable contract is implied between the developer and the runtime system:</p>\n<p>The array resulting from the generic varargs parameter...</p>\n<ul>\n<li>will only be read from</li>\n<li>will never be written to</li>\n<li>will never be returned as a result</li>\n<li>will not be passed to another client (unless that client also promises to only read from the array)</li>\n</ul>\n<p>In other words, the developer promises to use the resulting generic array <strong>only</strong> as a variable number of arguments to complete a computation.</p>\n"}],"owner":{"account_id":20261253,"reputation":373,"user_id":14859549,"display_name":"Frank Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69584749,"answer_count":2,"score":1,"last_activity_date":1634307265,"creation_date":1634300134,"question_id":69584567,"body_markdown":"I have a generic class called `Foo&lt;T&gt;`. \r\n\r\n```java\r\npublic class Foo&lt;T&gt; {\r\n    public void doSomething() {\r\n        Class&lt;T&gt; klass = T.class;  // This won&#39;t compile\r\n    }\r\n}\r\n```\r\n\r\nAfter some googling, I find out that since java implements generics by doing type erasure, it has no idea about the runtime type of `T` and refuses to compile. However, if I try this...\r\n\r\n```java\r\npublic class Foo&lt;T&gt; {\r\n    public void doSomething(T... ts) {\r\n        Class&lt;T&gt; klass = (Class&lt;T&gt;) ts.getClass().getComponentType();\r\n        System.out.println(klass);\r\n    }\r\n}\r\n```\r\n\r\n...and run the following code...\r\n\r\n```java\r\nFoo&lt;String&gt; foo1 = new Foo&lt;&gt;();\r\nfoo1.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.String\r\nfoo1.doSomething();  // class java.lang.String\r\n\r\nFoo foo2 = foo1;\r\nfoo2.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.Object\r\nfoo2.doSomething();  // class java.lang.Object\r\n\r\nFoo&lt;? super String&gt; foo3 = foo1;\r\nfoo3.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.Object\r\nfoo3.doSomething();  // class java.lang.Object\r\n```\r\n\r\nThe first one prints `class java.lang.String` while the other two prints `class java.lang.Object`, which does not make a lot of sense to me - how can an object&#39;s behavior depend on the variable type it&#39;s assigned to? Besides, if java does type erasure, how can it know the type parameter is actually `java.lang.String` in the first case after all? And, as I can&#39;t assign an `Object` to `T`, how can java assign an `Object[]` to `T[]`? Seems it&#39;s breaking type safety!\r\n\r\nI suppose java passes the runtime class implicitly here, as it can&#39;t be inferred from the arguments because there&#39;s no argument at all at the second method call. I wonder what java is doing under the hood and I&#39;d be glad if someone can tell me more about generic varargs.\r\n\r\nI&#39;m new to StackOverflow. If I break some rules, please let me know:)\r\n","title":"How does java deal with generic varargs exactly?","body":"<p>I have a generic class called <code>Foo&lt;T&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo&lt;T&gt; {\n    public void doSomething() {\n        Class&lt;T&gt; klass = T.class;  // This won't compile\n    }\n}\n</code></pre>\n<p>After some googling, I find out that since java implements generics by doing type erasure, it has no idea about the runtime type of <code>T</code> and refuses to compile. However, if I try this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo&lt;T&gt; {\n    public void doSomething(T... ts) {\n        Class&lt;T&gt; klass = (Class&lt;T&gt;) ts.getClass().getComponentType();\n        System.out.println(klass);\n    }\n}\n</code></pre>\n<p>...and run the following code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>Foo&lt;String&gt; foo1 = new Foo&lt;&gt;();\nfoo1.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.String\nfoo1.doSomething();  // class java.lang.String\n\nFoo foo2 = foo1;\nfoo2.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.Object\nfoo2.doSomething();  // class java.lang.Object\n\nFoo&lt;? super String&gt; foo3 = foo1;\nfoo3.doSomething(&quot;foo&quot;, &quot;bar&quot;);  // class java.lang.Object\nfoo3.doSomething();  // class java.lang.Object\n</code></pre>\n<p>The first one prints <code>class java.lang.String</code> while the other two prints <code>class java.lang.Object</code>, which does not make a lot of sense to me - how can an object's behavior depend on the variable type it's assigned to? Besides, if java does type erasure, how can it know the type parameter is actually <code>java.lang.String</code> in the first case after all? And, as I can't assign an <code>Object</code> to <code>T</code>, how can java assign an <code>Object[]</code> to <code>T[]</code>? Seems it's breaking type safety!</p>\n<p>I suppose java passes the runtime class implicitly here, as it can't be inferred from the arguments because there's no argument at all at the second method call. I wonder what java is doing under the hood and I'd be glad if someone can tell me more about generic varargs.</p>\n<p>I'm new to StackOverflow. If I break some rules, please let me know:)</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":10399567,"reputation":1041,"user_id":7668336,"display_name":"Dinu Nicolae"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1634314729,"answer_count":0,"score":2,"last_activity_date":1634307126,"creation_date":1634300731,"question_id":69584705,"body_markdown":"\r\nI try to compile logback-core in my &quot;common&quot; project.\r\n\r\n    compile &quot;ch.qos.logback:logback-core:1.2.6&quot;\r\n\r\nAfter running gradle Tasks/help/dependencies this is where the logback-core lib shows up. No other lib is using a different version of logback. So why is it downgraded to .3?\r\n\r\n    +--- project :common\r\n    |    +--- ch.qos.logback:logback-core:1.2.6 -&gt; 1.2.3\r\n\r\n","title":"Why does the library version get downgraded?","body":"<p>I try to compile logback-core in my &quot;common&quot; project.</p>\n<pre><code>compile &quot;ch.qos.logback:logback-core:1.2.6&quot;\n</code></pre>\n<p>After running gradle Tasks/help/dependencies this is where the logback-core lib shows up. No other lib is using a different version of logback. So why is it downgraded to .3?</p>\n<pre><code>+--- project :common\n|    +--- ch.qos.logback:logback-core:1.2.6 -&gt; 1.2.3\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","hashmap"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634288009,"post_id":69581942,"comment_id":122989214,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1634307189,"post_id":69581942,"comment_id":122996250,"body_markdown":"The code looks fine at first glance. What do the `log` statements output?","body":"The code looks fine at first glance. What do the <code>log</code> statements output?"}],"owner":{"account_id":16706140,"reputation":44,"user_id":12074613,"display_name":"AKHIL V S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634307015,"creation_date":1634286823,"question_id":69581942,"body_markdown":"![enter image description here][1]\r\n\r\nMy document snapshots have field &#39;name&#39; and I want to create a map with name as key and arraylist of document snapshots as value.\r\n\r\n    private Map&lt;String, ArrayList&lt;DocumentSnapshot&gt;&gt; snapshotMap = new HashMap&lt;&gt; ();\r\n\r\n    userRef.addSnapshotListener (new EventListener&lt;QuerySnapshot&gt; () {\r\n        @Override\r\n        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n            if (value!=null &amp;&amp; !value.isEmpty ()) {\r\n                for (int i = 0; i &lt; value.size (); i++) {\r\n                    DocumentSnapshot d = value.getDocuments ().get (i);\r\n                    String name = d.get (&quot;name&quot;).toString ();\r\n                    ArrayList&lt;DocumentSnapshot&gt; arrayList = snapshotMap.get (&quot;name&quot;);\r\n                    if (arrayList==null) arrayList = new ArrayList&lt;&gt; ();\r\n                    else Log.e (&quot;tag13&quot;, &quot;arraylist size= &quot;+arrayList.size ());\r\n\r\n                    arrayList.add (d);\r\n                    Log.e (&quot;tag13&quot;, &quot;new arraylist size = &quot;+arrayList.size ());\r\n\r\n                    snapshotMap.put (name, arrayList);\r\n                }\r\n\r\n                int x = snapshotMap.get (&quot;Akhil&quot;).size ();\r\n                int y = snapshotMap.get (&quot;name2&quot;).size ();\r\n\r\n                Log.e (&quot;tag14&quot;, &quot;x = &quot;+ x);\r\n                Log.e (&quot;tag14&quot;, &quot;y = &quot;+ y);\r\n            }\r\n        }\r\n    });\r\n\r\nThe problem is, all my arraylist returns only one element in array eventhough it has more elements with Akhil and name2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YGK8G.png\r\n","title":"How to group document snapshots from firestore?","body":"<p><img src=\"https://i.stack.imgur.com/YGK8G.png\" alt=\"enter image description here\" /></p>\n<p>My document snapshots have field 'name' and I want to create a map with name as key and arraylist of document snapshots as value.</p>\n<pre><code>private Map&lt;String, ArrayList&lt;DocumentSnapshot&gt;&gt; snapshotMap = new HashMap&lt;&gt; ();\n\nuserRef.addSnapshotListener (new EventListener&lt;QuerySnapshot&gt; () {\n    @Override\n    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n        if (value!=null &amp;&amp; !value.isEmpty ()) {\n            for (int i = 0; i &lt; value.size (); i++) {\n                DocumentSnapshot d = value.getDocuments ().get (i);\n                String name = d.get (&quot;name&quot;).toString ();\n                ArrayList&lt;DocumentSnapshot&gt; arrayList = snapshotMap.get (&quot;name&quot;);\n                if (arrayList==null) arrayList = new ArrayList&lt;&gt; ();\n                else Log.e (&quot;tag13&quot;, &quot;arraylist size= &quot;+arrayList.size ());\n\n                arrayList.add (d);\n                Log.e (&quot;tag13&quot;, &quot;new arraylist size = &quot;+arrayList.size ());\n\n                snapshotMap.put (name, arrayList);\n            }\n\n            int x = snapshotMap.get (&quot;Akhil&quot;).size ();\n            int y = snapshotMap.get (&quot;name2&quot;).size ();\n\n            Log.e (&quot;tag14&quot;, &quot;x = &quot;+ x);\n            Log.e (&quot;tag14&quot;, &quot;y = &quot;+ y);\n        }\n    }\n});\n</code></pre>\n<p>The problem is, all my arraylist returns only one element in array eventhough it has more elements with Akhil and name2</p>\n"},{"tags":["java","maven","dependency-management","transitive-dependency"],"comments":[{"owner":{"account_id":2573829,"reputation":65,"user_id":2231980,"display_name":"Chpokeridze"},"score":0,"creation_date":1634300697,"post_id":69584550,"comment_id":122993734,"body_markdown":"I mean validation to use in CI. I always can review dependency tree by myself, but it&#39;s not stable","body":"I mean validation to use in CI. I always can review dependency tree by myself, but it&#39;s not stable"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634306969,"creation_date":1634306969,"answer_id":69586065,"question_id":69584550,"body_markdown":"No.\r\n\r\nI understand your use case, but I do not see anything in Maven to produce the result you want.","title":"maven dependency managment and version change of transitive dependency","body":"<p>No.</p>\n<p>I understand your use case, but I do not see anything in Maven to produce the result you want.</p>\n"}],"owner":{"account_id":2573829,"reputation":65,"user_id":2231980,"display_name":"Chpokeridze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69586065,"answer_count":1,"score":0,"last_activity_date":1634306969,"creation_date":1634300080,"question_id":69584550,"body_markdown":"How to safely manage with such a problem:\r\n\r\nIn maven we have 2 libs (A with version 20, B with version 30) that depends on C (1.0 and 1.1 respectively). We get jar hell in target libs\r\n\r\n```\r\n*--A20--C1.0\r\n\\--B30--C1.1\r\n```\r\n\r\nThen I add dependencyManagment section and force C version to 1.1. It works as expected.\r\n\r\n```\r\n*--A20--C1.1 (not C1.0)\r\n\\--B30--C1.1\r\n```\r\n\r\nAfter several months, we decide to upgrade A to version 50. Now it depends on C version 2.0. But project still uses 1.1 due to dependencyManagement. It&#39;s a problem now\r\n\r\n```\r\n*--A50--C1.1 (not C2.0 as needed)\r\n\\--B30--C1.1\r\n```\r\n\r\nThe question is: is it possible to override transitive dependency and this override will work only if version of transitive dependency match the version we set? Otherwise this override will be ignored and we&#39;ll see an error (with help of maven-enforcer plugin, for instance) I wonder if we have some plugin to check this case?","title":"maven dependency managment and version change of transitive dependency","body":"<p>How to safely manage with such a problem:</p>\n<p>In maven we have 2 libs (A with version 20, B with version 30) that depends on C (1.0 and 1.1 respectively). We get jar hell in target libs</p>\n<pre><code>*--A20--C1.0\n\\--B30--C1.1\n</code></pre>\n<p>Then I add dependencyManagment section and force C version to 1.1. It works as expected.</p>\n<pre><code>*--A20--C1.1 (not C1.0)\n\\--B30--C1.1\n</code></pre>\n<p>After several months, we decide to upgrade A to version 50. Now it depends on C version 2.0. But project still uses 1.1 due to dependencyManagement. It's a problem now</p>\n<pre><code>*--A50--C1.1 (not C2.0 as needed)\n\\--B30--C1.1\n</code></pre>\n<p>The question is: is it possible to override transitive dependency and this override will work only if version of transitive dependency match the version we set? Otherwise this override will be ignored and we'll see an error (with help of maven-enforcer plugin, for instance) I wonder if we have some plugin to check this case?</p>\n"},{"tags":["java","amazon-s3","aws-cdk","s3-lifecycle-policy"],"answers":[{"tags":[],"owner":{"account_id":2424647,"reputation":1651,"user_id":2116873,"display_name":"Pedreiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621234357,"creation_date":1621234357,"answer_id":67565165,"question_id":67545584,"body_markdown":"I believe this is working as expected. The objects marked as expired will eventually be deleted, but not exactly after the 10 days, like in your case. As per [documentation][1]:\r\n\r\n&gt; When an object reaches the end of its lifetime based on its lifecycle policy, Amazon S3 queues it for removal and removes it asynchronously. There might be a delay between the expiration date and the date at which Amazon S3 removes an object. \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-expire-general-considerations.html","title":"Unable to delete S3 bucket after implementing lifecyle using AWS CDK","body":"<p>I believe this is working as expected. The objects marked as expired will eventually be deleted, but not exactly after the 10 days, like in your case. As per <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-expire-general-considerations.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>When an object reaches the end of its lifetime based on its lifecycle policy, Amazon S3 queues it for removal and removes it asynchronously. There might be a delay between the expiration date and the date at which Amazon S3 removes an object.</p>\n</blockquote>\n"}],"owner":{"account_id":11999787,"reputation":1,"user_id":15932348,"display_name":"Yernibabu Kommoju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634306905,"creation_date":1621073610,"question_id":67545584,"body_markdown":"I&#39;m beginner to aws cdk, I have implemented S3 lifecycle management using AWS CDK to delete bucket (including files) after 10 days of bucket creation.\r\n    \r\nCdk implementation as below:\r\n\r\n    Builder builder = BucketProps.builder().encryption(BucketEncryption.KMS_MANAGED).removalPolicy(RemovalPolicy.DESTROY);\r\n    \r\n    final String bucketName = ApplicationProperties.INSTANCE.getBatchS3Name();\r\n    final List&lt;LifecycleRule&gt; lifecycleRules = new ArrayList();\r\n    final LifecycleRule rule = new LifecycleRule.Builder().expiration(Duration.days(10)).build();\r\n    lifecycleRules.add(rule);\r\n    builder.lifecycleRules(lifecycleRules);\r\n    \r\n    this.bucket = new Bucket(stack, &quot;BatchWorkBucket&quot;, builder.build());\r\n   \r\n    \r\nBut s3 object is not getting deleted after 10 days. \r\nIt is getting expired as shown in attached image.\r\nWe don&#39;t have option to setup &quot;Delete expired delete markers or incomplete multipart uploads&quot; or other options in cdk api (https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-s3.LifecycleRule.html#transitions).\r\n\r\nCould you please help me on this subject, how to delete s3 object using aws cdk.\r\n    \r\n![enter image description here][1]\r\n    \r\n    \r\n[1]: https://i.stack.imgur.com/3zWbF.png","title":"Unable to delete S3 bucket after implementing lifecyle using AWS CDK","body":"<p>I'm beginner to aws cdk, I have implemented S3 lifecycle management using AWS CDK to delete bucket (including files) after 10 days of bucket creation.</p>\n<p>Cdk implementation as below:</p>\n<pre><code>Builder builder = BucketProps.builder().encryption(BucketEncryption.KMS_MANAGED).removalPolicy(RemovalPolicy.DESTROY);\n\nfinal String bucketName = ApplicationProperties.INSTANCE.getBatchS3Name();\nfinal List&lt;LifecycleRule&gt; lifecycleRules = new ArrayList();\nfinal LifecycleRule rule = new LifecycleRule.Builder().expiration(Duration.days(10)).build();\nlifecycleRules.add(rule);\nbuilder.lifecycleRules(lifecycleRules);\n\nthis.bucket = new Bucket(stack, &quot;BatchWorkBucket&quot;, builder.build());\n</code></pre>\n<p>But s3 object is not getting deleted after 10 days.\nIt is getting expired as shown in attached image.\nWe don't have option to setup &quot;Delete expired delete markers or incomplete multipart uploads&quot; or other options in cdk api (<a href=\"https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-s3.LifecycleRule.html#transitions\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-s3.LifecycleRule.html#transitions</a>).</p>\n<p>Could you please help me on this subject, how to delete s3 object using aws cdk.</p>\n<p><img src=\"https://i.stack.imgur.com/3zWbF.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1634305741,"post_id":69585760,"comment_id":122995644,"body_markdown":"Overloaded constructors means you have multiple constructors for the same class, taking different arguments. I&#39;ve never heard of &quot;loaded constructors&quot; before.","body":"Overloaded constructors means you have multiple constructors for the same class, taking different arguments. I&#39;ve never heard of &quot;loaded constructors&quot; before."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1634305979,"post_id":69585760,"comment_id":122995738,"body_markdown":"Where is the source of &quot;loaded constructor&quot;, i just heard about overloading and overriding constructor... i am curious too","body":"Where is the source of &quot;loaded constructor&quot;, i just heard about overloading and overriding constructor... i am curious too"},{"owner":{"account_id":22803255,"reputation":31,"user_id":16955627,"display_name":"Man Hei Li"},"score":0,"creation_date":1634306122,"post_id":69585760,"comment_id":122995793,"body_markdown":"Sorry, to clarify I mean that the pages that my instructor provides me keep using the term &quot;Loaded Constructors&quot;, and I tried searching up the term though it doesn&#39;t really help to explain it, if it even is a term...","body":"Sorry, to clarify I mean that the pages that my instructor provides me keep using the term &quot;Loaded Constructors&quot;, and I tried searching up the term though it doesn&#39;t really help to explain it, if it even is a term..."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634306720,"post_id":69585760,"comment_id":122996047,"body_markdown":"Your instructor has created a term that does not exist. The correct term for the concept that I think is meant is &quot;non-default constructor&quot;.","body":"Your instructor has created a term that does not exist. The correct term for the concept that I think is meant is &quot;non-default constructor&quot;."}],"answers":[{"tags":[],"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634306902,"creation_date":1634306200,"answer_id":69585889,"question_id":69585760,"body_markdown":"I&#39;ve never actually heard them referred to as &quot;loaded&quot; constructors before, but the only thing that differentiates them from the no-argument constructor (i.e. the one with no parameters) is that if a loaded constructor is defined explicitly and a no-argument constructor is not, then the default constructor (which has no arguments) won&#39;t exist and can&#39;t be used.\r\n\r\n&quot;Overloaded&quot; is a term that can apply to _all_ methods, not just to constructors. A method is _overloaded_ if there&#39;s more than one definition/implementation, and the definitions have different method signatures. One example of an overloaded constructor in the standard library is the `String` constructor - all of the following are defined, and have slightly different behavior to handle their particular arguments:\r\n\r\n```\r\nString()  // default constructor\r\nString(byte[] bytes)\r\nString(byte[] bytes, Charset charset)\r\nString(byte[] bytes, int offset, int length)\r\nString(byte[] bytes, int offset, int length, Charset charset)\r\nString(byte[] bytes, int offset, int length, String charsetName)\r\nString(byte[] bytes, String charsetName)\r\nString(char[] value)\r\nString(char[] value, int offset, int count)\r\nString(int[] codePoints, int offset, int count)\r\nString(String original)\r\nString(StringBuffer buffer)\r\nString(StringBuilder builder)\r\n```\r\n\r\n[The `String` class](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html) also has plenty of overloaded methods that are not the constructor, including `.contentEquals()`, `.lastIndexOf()`, `.regionMatches()`, `.replace()`, `.split()`, `.startsWith()`, `.substring()`, `toUpperCase()`, `.toLowerCase()`\r\n\r\nThe term &quot;overloaded&quot; has nothing in particular to do with the term &quot;loaded&quot;, in this context, and I&#39;m pretty sure your instructor made &quot;loaded&quot; up. If they tell you to, use it anyway when they want you to - no sense annoying them over a meaningless semantic issue like this.","title":"Loaded and overloaded constructors","body":"<p>I've never actually heard them referred to as &quot;loaded&quot; constructors before, but the only thing that differentiates them from the no-argument constructor (i.e. the one with no parameters) is that if a loaded constructor is defined explicitly and a no-argument constructor is not, then the default constructor (which has no arguments) won't exist and can't be used.</p>\n<p>&quot;Overloaded&quot; is a term that can apply to <em>all</em> methods, not just to constructors. A method is <em>overloaded</em> if there's more than one definition/implementation, and the definitions have different method signatures. One example of an overloaded constructor in the standard library is the <code>String</code> constructor - all of the following are defined, and have slightly different behavior to handle their particular arguments:</p>\n<pre><code>String()  // default constructor\nString(byte[] bytes)\nString(byte[] bytes, Charset charset)\nString(byte[] bytes, int offset, int length)\nString(byte[] bytes, int offset, int length, Charset charset)\nString(byte[] bytes, int offset, int length, String charsetName)\nString(byte[] bytes, String charsetName)\nString(char[] value)\nString(char[] value, int offset, int count)\nString(int[] codePoints, int offset, int count)\nString(String original)\nString(StringBuffer buffer)\nString(StringBuilder builder)\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">The <code>String</code> class</a> also has plenty of overloaded methods that are not the constructor, including <code>.contentEquals()</code>, <code>.lastIndexOf()</code>, <code>.regionMatches()</code>, <code>.replace()</code>, <code>.split()</code>, <code>.startsWith()</code>, <code>.substring()</code>, <code>toUpperCase()</code>, <code>.toLowerCase()</code></p>\n<p>The term &quot;overloaded&quot; has nothing in particular to do with the term &quot;loaded&quot;, in this context, and I'm pretty sure your instructor made &quot;loaded&quot; up. If they tell you to, use it anyway when they want you to - no sense annoying them over a meaningless semantic issue like this.</p>\n"}],"owner":{"account_id":22803255,"reputation":31,"user_id":16955627,"display_name":"Man Hei Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634306902,"creation_date":1634305690,"question_id":69585760,"body_markdown":"Just curious, but I&#39;ve been thinking a lot about constructors lately and I keep seeing loaded constructors and overloaded constructors.\r\n\r\nI know that a loaded constructor is simply a constructor with parameters, and overloaded constructors are self explanatory. But is there really any difference between a loaded constructor and an overloaded constructor, or are there some small nuances that I didn&#39;t consider?","title":"Loaded and overloaded constructors","body":"<p>Just curious, but I've been thinking a lot about constructors lately and I keep seeing loaded constructors and overloaded constructors.</p>\n<p>I know that a loaded constructor is simply a constructor with parameters, and overloaded constructors are self explanatory. But is there really any difference between a loaded constructor and an overloaded constructor, or are there some small nuances that I didn't consider?</p>\n"},{"tags":["java","android","notifications","android-notifications"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1483122380,"post_id":41400868,"comment_id":70003911,"body_markdown":"Remember that in Java all code must be inside a class.","body":"Remember that in Java all code must be inside a class."},{"owner":{"account_id":5752194,"reputation":1093,"user_id":4541480,"accept_rate":33,"display_name":"Nicofisi"},"score":0,"creation_date":1483122484,"post_id":41400868,"comment_id":70003953,"body_markdown":"@Code-Apprentice well, I wouldn&#39;t post a screenshot if I didn&#39;t know about that. The notification is updated as it should be, just the time doesn&#39;t change","body":"@Code-Apprentice well, I wouldn&#39;t post a screenshot if I didn&#39;t know about that. The notification is updated as it should be, just the time doesn&#39;t change"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1483123043,"post_id":41400868,"comment_id":70004178,"body_markdown":"Yes, I understand your question. I am just providing a suggestion to help improve your question. For one thing, the class and method names provide more information about your code that helps us answer your question. You should also show how any methods are called if they are not Android callbacks.","body":"Yes, I understand your question. I am just providing a suggestion to help improve your question. For one thing, the class and method names provide more information about your code that helps us answer your question. You should also show how any methods are called if they are not Android callbacks."}],"answers":[{"tags":[],"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1483123199,"creation_date":1483123199,"answer_id":41401080,"question_id":41400868,"body_markdown":"You&#39;re probably looking for `NotificationCompat.Builder#setWhen(long)`. Supplying it with `System.currentTimeMillis()` should update the timestamp to the current time.\r\n\r\nIn addition if you want that timestamp to appear on Android N or higher, you need to call `NotificationCompat.Builder#setShowWhen(true)` at some point because it defaults to false.\r\n\r\nSource: https://developer.android.com/reference/android/app/Notification.html#when","title":"How to update time of an Android notification","body":"<p>You're probably looking for <code>NotificationCompat.Builder#setWhen(long)</code>. Supplying it with <code>System.currentTimeMillis()</code> should update the timestamp to the current time.</p>\n\n<p>In addition if you want that timestamp to appear on Android N or higher, you need to call <code>NotificationCompat.Builder#setShowWhen(true)</code> at some point because it defaults to false.</p>\n\n<p>Source: <a href=\"https://developer.android.com/reference/android/app/Notification.html#when\" rel=\"noreferrer\">https://developer.android.com/reference/android/app/Notification.html#when</a></p>\n"},{"tags":[],"owner":{"account_id":14031229,"reputation":1327,"user_id":10135062,"display_name":"Aditya Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634306807,"creation_date":1560328888,"answer_id":56557989,"question_id":41400868,"body_markdown":"You can show time using below code\r\n\r\n    val notificationBuilder = NotificationCompat.Builder(this)\r\n            .setSmallIcon(R.mipmap.ic_launcher)\r\n            .setContentTitle(title)\r\n            .setContentText(body)\r\n            .setColor(resources.getColor(R.color.colorPrimary))\r\n            .setAutoCancel(true)\r\n            .setSound(soundUri)\r\n            .setContentIntent(pendingIntent)\r\n            .setWhen(System.currentTimeMillis())","title":"How to update time of an Android notification","body":"<p>You can show time using below code</p>\n<pre><code>val notificationBuilder = NotificationCompat.Builder(this)\n        .setSmallIcon(R.mipmap.ic_launcher)\n        .setContentTitle(title)\n        .setContentText(body)\n        .setColor(resources.getColor(R.color.colorPrimary))\n        .setAutoCancel(true)\n        .setSound(soundUri)\n        .setContentIntent(pendingIntent)\n        .setWhen(System.currentTimeMillis())\n</code></pre>\n"}],"owner":{"account_id":5752194,"reputation":1093,"user_id":4541480,"accept_rate":33,"display_name":"Nicofisi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6721,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41401080,"answer_count":2,"score":8,"last_activity_date":1634306807,"creation_date":1483122222,"question_id":41400868,"body_markdown":"I&#39;ve got an Android notification which is updated every few minutes. \r\n\r\nFirstly I create a `Builder` like that:\r\n\r\n    NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context);\r\n\r\nAnd then, for first time when I show it and every time I update it, I use this code:\r\n\r\n    mBuilder.setContentTitle(&quot;Title&quot;);\r\n    mBuilder.setContentText(&quot;Text&quot;);\r\n    NotificationManager manager = (NotificationManager)\r\n            context.getSystemService(Context.NOTIFICATION_SERVICE);\r\n    manager.notify(0, mBuilder.build());\r\n\r\nBut in the upper right corner of notification, Android still shows the time of when it was first displayed to the user. I&#39;d like it to **show the time of the last update**. I know that it&#39;s possible because Facebook&#39;s Messenger app does that - changes the displayed time when a new message is sent.\r\n\r\nHow can I achieve that?\r\n\r\n*Currently:*\r\n![test](http://i.stack.imgur.com/pgPAo.jpg)","title":"How to update time of an Android notification","body":"<p>I've got an Android notification which is updated every few minutes. </p>\n\n<p>Firstly I create a <code>Builder</code> like that:</p>\n\n<pre><code>NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(context);\n</code></pre>\n\n<p>And then, for first time when I show it and every time I update it, I use this code:</p>\n\n<pre><code>mBuilder.setContentTitle(\"Title\");\nmBuilder.setContentText(\"Text\");\nNotificationManager manager = (NotificationManager)\n        context.getSystemService(Context.NOTIFICATION_SERVICE);\nmanager.notify(0, mBuilder.build());\n</code></pre>\n\n<p>But in the upper right corner of notification, Android still shows the time of when it was first displayed to the user. I'd like it to <strong>show the time of the last update</strong>. I know that it's possible because Facebook's Messenger app does that - changes the displayed time when a new message is sent.</p>\n\n<p>How can I achieve that?</p>\n\n<p><em>Currently:</em>\n<img src=\"https://i.stack.imgur.com/pgPAo.jpg\" alt=\"test\"></p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":2,"creation_date":1634306299,"post_id":69585673,"comment_id":122995865,"body_markdown":"`main_method = ` `square_method = ` `power_method =`  -- You really should check to see if these are valid before you invoke the JNI call.","body":"<code>main_method = </code> <code>square_method = </code> <code>power_method =</code>  -- You really should check to see if these are valid before you invoke the JNI call."},{"owner":{"account_id":1375565,"reputation":1740,"user_id":1309619,"display_name":"ervinbosenbacher"},"score":0,"creation_date":1634309769,"post_id":69585673,"comment_id":122997372,"body_markdown":"ok how do I check them? but that was not the problem, the problem was the method signature passed to the GetStaticMethodID","body":"ok how do I check them? but that was not the problem, the problem was the method signature passed to the GetStaticMethodID"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":3,"creation_date":1634310793,"post_id":69585673,"comment_id":122997802,"body_markdown":"If the return value is `nullptr`, that means that the method / class was not found.  For an example, put the mistake back into your program and look at the return value.  You should see that `hello_method` is nullptr.  That would have indicated that the item wasn&#39;t found.  When writing JNI code, it is highly important you check for any and all errors and report them at the C++ level.  Note how your issue was caused by a mistype (or a mistake in typing).  It&#39;s those types of errors that can be avoided by doing a sanity check for `nullptr`.","body":"If the return value is <code>nullptr</code>, that means that the method / class was not found.  For an example, put the mistake back into your program and look at the return value.  You should see that <code>hello_method</code> is nullptr.  That would have indicated that the item wasn&#39;t found.  When writing JNI code, it is highly important you check for any and all errors and report them at the C++ level.  Note how your issue was caused by a mistype (or a mistake in typing).  It&#39;s those types of errors that can be avoided by doing a sanity check for <code>nullptr</code>."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":2,"creation_date":1634311200,"post_id":69585673,"comment_id":122997967,"body_markdown":"BTW, this is a common error, where the signature is wrong due to not knowing the proper signature, or simply, fat fingers typing in the wrong characters in the signature string, or some copy/paste error.","body":"BTW, this is a common error, where the signature is wrong due to not knowing the proper signature, or simply, fat fingers typing in the wrong characters in the signature string, or some copy/paste error."},{"owner":{"account_id":1375565,"reputation":1740,"user_id":1309619,"display_name":"ervinbosenbacher"},"score":0,"creation_date":1634323638,"post_id":69585673,"comment_id":123002337,"body_markdown":"@PaulMcKenzie thank you for all of your valuable input. :) Really appreciated! Lesson learnt check for valid ID or check for nullptr.","body":"@PaulMcKenzie thank you for all of your valuable input. :) Really appreciated! Lesson learnt check for valid ID or check for nullptr."},{"owner":{"account_id":1375565,"reputation":1740,"user_id":1309619,"display_name":"ervinbosenbacher"},"score":0,"creation_date":1634323895,"post_id":69585673,"comment_id":123002421,"body_markdown":"after inserting, as per your advice\nassert(hello_method != nullptr);\nsuddenly I got \nAssertion failed: (hello_method != nullptr), function invoke_class, file hello_world.cpp, line 57.\nthanks a lot @PaulMcKenzie","body":"after inserting, as per your advice assert(hello_method != nullptr); suddenly I got  Assertion failed: (hello_method != nullptr), function invoke_class, file hello_world.cpp, line 57. thanks a lot @PaulMcKenzie"}],"answers":[{"tags":[],"owner":{"account_id":1375565,"reputation":1740,"user_id":1309619,"display_name":"ervinbosenbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634306526,"creation_date":1634306526,"answer_id":69585965,"question_id":69585673,"body_markdown":"I answer my own question. The problem was in the method signature passed to JNI with an extra [\r\n\r\n```\r\njmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n```    \r\n\r\n```\r\n jmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;(Ljava/lang/String;)V&quot;);\r\n```","title":"C++ to JNI SIGSEGV crash","body":"<p>I answer my own question. The problem was in the method signature passed to JNI with an extra [</p>\n<pre><code>jmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;([Ljava/lang/String;)V&quot;);\n</code></pre>\n<pre><code> jmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;(Ljava/lang/String;)V&quot;);\n</code></pre>\n"}],"owner":{"account_id":1375565,"reputation":1740,"user_id":1309619,"display_name":"ervinbosenbacher"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634306526,"creation_date":1634305321,"question_id":69585673,"body_markdown":"I am slowly losing my mind as despite many attempts and searches I cannot find a viable solution to this. \r\n\r\nI get a crash when I am calling java / JNI from C++ using a string.\r\n\r\nAny help would be much appreciated. I am new to JNI so I might do something wrong, aka should I preallocate memory buffer and pass that?\r\n\r\nCode below\r\n\r\nJava bit\r\n```\r\npublic class helloWorld{\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.out.println(&quot;Hello, World&quot;);\r\n\t}\r\n\tpublic static int square(int input){\r\n\t\tint output = input * input;\r\n\t\treturn output;\r\n\t}\r\n\tpublic static int power(int input, int exponent){\r\n\t\tint output,i;\r\n\t\toutput=1;\r\n\t\tfor(i=0;i&lt;exponent;i++){\r\n\t\t\toutput *= input;\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\tpublic static void hello(String val) {\r\n\t}\r\n}\r\n```\r\n\r\nC++ bit\r\n\r\n```\r\n#include &lt;stdio.h&gt;\r\n#include &lt;string&gt;\r\n#include &lt;jni.h&gt;\r\n#include &lt;iostream&gt;\r\n\r\n\r\nJNIEXPORT jstring JNICALL Java_com_baeldung_jni_HelloWorldJNI_sayHello (JNIEnv* env) {\r\n    std::string hello = &quot;Hello from C++ !!&quot;;\r\n    std::cout &lt;&lt; hello &lt;&lt; std::endl;\r\n    return env-&gt;NewStringUTF(hello.c_str());\r\n}\r\n\r\nJNIEnv* create_vm(JavaVM **jvm)\r\n{\r\n    JNIEnv* env;\r\n    JavaVMInitArgs args;\r\n    JavaVMOption options;\r\n    args.version = JNI_VERSION_1_6;\r\n    args.nOptions = 1;\r\n    options.optionString = (char *)&quot;-Djava.class.path=./&quot;;\r\n    args.options = &amp;options;\r\n    args.ignoreUnrecognized = 0;\r\n    int rv = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;args);\r\n    if (rv &lt; 0 || !env)\r\n        printf(&quot;Unable to Launch JVM %d\\n&quot;,rv);\r\n    else\r\n        printf(&quot;Launched JVM! :)\\n&quot;);\r\n    return env;\r\n}\r\n\r\nvoid invoke_class(JNIEnv* env)\r\n{\r\n    jclass hello_world_class;\r\n    jmethodID main_method;\r\n    jmethodID square_method;\r\n    jmethodID power_method;\r\n    jint number=20;\r\n    jint exponent=3;\r\n    hello_world_class = env-&gt;FindClass(&quot;helloWorld&quot;);\r\n    main_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n    square_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;square&quot;, &quot;(I)I&quot;);\r\n    power_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;power&quot;, &quot;(II)I&quot;);\r\n    env-&gt;CallStaticVoidMethod(hello_world_class, main_method, NULL);\r\n    printf(&quot;%d squared is %d\\n&quot;, number,\r\n        env-&gt;CallStaticIntMethod(hello_world_class, square_method, number));\r\n    printf(&quot;%d raised to the %d power is %d\\n&quot;, number, exponent,\r\n        env-&gt;CallStaticIntMethod(hello_world_class, power_method, number, exponent));\r\n    printf(&quot;lalalalala\\n&quot;);\r\n\r\n    \r\n    std::string message = &quot;This comes from jni.&quot;;\r\n    const char *result = message.c_str();\r\n    jstring argString = env-&gt;NewStringUTF(result);\r\n    \r\n\r\n    jmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n    env-&gt;CallStaticVoidMethod(hello_world_class, hello_method, argString);\r\n}\r\n\r\n\r\nint main(int argc, char **argv)\r\n{\r\n    JavaVM *jvm;\r\n    JNIEnv *env;\r\n    env = create_vm(&amp;jvm);\r\n    if(env == NULL)\r\n        return 1;\r\n    invoke_class(env);\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\nand finally the log (truncated it as it was too long)\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x0000000105b76b9c, pid=94283, tid=259\r\n#\r\n# JRE version: OpenJDK Runtime Environment (16.0.1+9) (build 16.0.1+9-24)\r\n# Java VM: OpenJDK 64-Bit Server VM (16.0.1+9-24, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\r\n# Problematic frame:\r\n# V  [libjvm.dylib+0x571b9c]  jni_CallStaticVoidMethodV+0xcc\r\n#\r\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: \r\n\r\nHost: MacBookPro16,1 x86_64 2300 MHz, 16 cores, 16G, Darwin 20.4.0, macOS 11.3.1 (20E241)\r\nTime: Fri Oct 15 13:38:03 2021 BST elapsed time: 0.115419 seconds (0d 0h 0m 0s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007fc796008a00):  JavaThread &quot;main&quot; [_thread_in_vm, id=259, stack(0x00007ffee9e0b000,0x00007ffeea60b000)]\r\n\r\nStack: [0x00007ffee9e0b000,0x00007ffeea60b000],  sp=0x00007ffeea60a270,  free space=8188k\r\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [libjvm.dylib+0x571b9c]  jni_CallStaticVoidMethodV+0xcc\r\nC  [a.out+0x3701]  JNIEnv_::CallStaticVoidMethod(_jclass*, _jmethodID*, ...)+0x171\r\nC  [a.out+0x39df]  main+0xff\r\nC  [libdyld.dylib+0x15f3d]  start+0x1\r\n\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000000\r\n\r\nRegister to memory mapping:\r\n\r\nRAX=0x9d0fb75d63f100d0 is an unknown value\r\nRBX=0x00007fc793f05418 points into unknown readable memory: 0x000000070fe19bc8 | c8 9b e1 0f 07 00 00 00\r\nRCX=0x00007fc793f04ad8 points into unknown readable memory: 0x000000070fe1a1a8 | a8 a1 e1 0f 07 00 00 00\r\nRDX=0x0 is NULL\r\nRSP=0x00007ffeea60a270 is pointing into the stack for thread: 0x00007fc796008a00\r\nRBP=0x00007ffeea60a310 is pointing into the stack for thread: 0x00007fc796008a00\r\nRSI=0x00007fc793f05418 points into unknown readable memory: 0x000000070fe19bc8 | c8 9b e1 0f 07 00 00 00\r\nRDI=0x00007fc796008d10 points into unknown readable memory: 0x0000000106275e58 | 58 5e 27 06 01 00 00 00\r\nR8 =0x0 is NULL\r\nR9 =0x0 is NULL\r\nR10=0x00007fff20269e10: __vfprintf.xdigs_lower+0 in /usr/lib/system/libsystem_c.dylib at 0x00007fff201e7000\r\nR11=0xffffffc8ab1fff06 is an unknown value\r\nR12=0x00007fc796008a00 is a thread\r\nR13=0x00007fc796008d10 points into unknown readable memory: 0x0000000106275e58 | 58 5e 27 06 01 00 00 00\r\nR14=0x0 is NULL\r\nR15=0x00007ffeea60a4a0 is pointing into the stack for thread: 0x00007fc796008a00\r\n\r\n```","title":"C++ to JNI SIGSEGV crash","body":"<p>I am slowly losing my mind as despite many attempts and searches I cannot find a viable solution to this.</p>\n<p>I get a crash when I am calling java / JNI from C++ using a string.</p>\n<p>Any help would be much appreciated. I am new to JNI so I might do something wrong, aka should I preallocate memory buffer and pass that?</p>\n<p>Code below</p>\n<p>Java bit</p>\n<pre><code>public class helloWorld{\n    public static void main(String[] args){\n        System.out.println(&quot;Hello, World&quot;);\n    }\n    public static int square(int input){\n        int output = input * input;\n        return output;\n    }\n    public static int power(int input, int exponent){\n        int output,i;\n        output=1;\n        for(i=0;i&lt;exponent;i++){\n            output *= input;\n        }\n        return output;\n    }\n\n    public static void hello(String val) {\n    }\n}\n</code></pre>\n<p>C++ bit</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string&gt;\n#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n\n\nJNIEXPORT jstring JNICALL Java_com_baeldung_jni_HelloWorldJNI_sayHello (JNIEnv* env) {\n    std::string hello = &quot;Hello from C++ !!&quot;;\n    std::cout &lt;&lt; hello &lt;&lt; std::endl;\n    return env-&gt;NewStringUTF(hello.c_str());\n}\n\nJNIEnv* create_vm(JavaVM **jvm)\n{\n    JNIEnv* env;\n    JavaVMInitArgs args;\n    JavaVMOption options;\n    args.version = JNI_VERSION_1_6;\n    args.nOptions = 1;\n    options.optionString = (char *)&quot;-Djava.class.path=./&quot;;\n    args.options = &amp;options;\n    args.ignoreUnrecognized = 0;\n    int rv = JNI_CreateJavaVM(jvm, (void**)&amp;env, &amp;args);\n    if (rv &lt; 0 || !env)\n        printf(&quot;Unable to Launch JVM %d\\n&quot;,rv);\n    else\n        printf(&quot;Launched JVM! :)\\n&quot;);\n    return env;\n}\n\nvoid invoke_class(JNIEnv* env)\n{\n    jclass hello_world_class;\n    jmethodID main_method;\n    jmethodID square_method;\n    jmethodID power_method;\n    jint number=20;\n    jint exponent=3;\n    hello_world_class = env-&gt;FindClass(&quot;helloWorld&quot;);\n    main_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\n    square_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;square&quot;, &quot;(I)I&quot;);\n    power_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;power&quot;, &quot;(II)I&quot;);\n    env-&gt;CallStaticVoidMethod(hello_world_class, main_method, NULL);\n    printf(&quot;%d squared is %d\\n&quot;, number,\n        env-&gt;CallStaticIntMethod(hello_world_class, square_method, number));\n    printf(&quot;%d raised to the %d power is %d\\n&quot;, number, exponent,\n        env-&gt;CallStaticIntMethod(hello_world_class, power_method, number, exponent));\n    printf(&quot;lalalalala\\n&quot;);\n\n    \n    std::string message = &quot;This comes from jni.&quot;;\n    const char *result = message.c_str();\n    jstring argString = env-&gt;NewStringUTF(result);\n    \n\n    jmethodID hello_method = env-&gt;GetStaticMethodID(hello_world_class, &quot;hello&quot;, &quot;([Ljava/lang/String;)V&quot;);\n    env-&gt;CallStaticVoidMethod(hello_world_class, hello_method, argString);\n}\n\n\nint main(int argc, char **argv)\n{\n    JavaVM *jvm;\n    JNIEnv *env;\n    env = create_vm(&amp;jvm);\n    if(env == NULL)\n        return 1;\n    invoke_class(env);\n\n    return 0;\n}\n</code></pre>\n<p>and finally the log (truncated it as it was too long)</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x0000000105b76b9c, pid=94283, tid=259\n#\n# JRE version: OpenJDK Runtime Environment (16.0.1+9) (build 16.0.1+9-24)\n# Java VM: OpenJDK 64-Bit Server VM (16.0.1+9-24, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, bsd-amd64)\n# Problematic frame:\n# V  [libjvm.dylib+0x571b9c]  jni_CallStaticVoidMethodV+0xcc\n#\n# No core dump will be written. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: \n\nHost: MacBookPro16,1 x86_64 2300 MHz, 16 cores, 16G, Darwin 20.4.0, macOS 11.3.1 (20E241)\nTime: Fri Oct 15 13:38:03 2021 BST elapsed time: 0.115419 seconds (0d 0h 0m 0s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007fc796008a00):  JavaThread &quot;main&quot; [_thread_in_vm, id=259, stack(0x00007ffee9e0b000,0x00007ffeea60b000)]\n\nStack: [0x00007ffee9e0b000,0x00007ffeea60b000],  sp=0x00007ffeea60a270,  free space=8188k\nNative frames: (J=compiled Java code, A=aot compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.dylib+0x571b9c]  jni_CallStaticVoidMethodV+0xcc\nC  [a.out+0x3701]  JNIEnv_::CallStaticVoidMethod(_jclass*, _jmethodID*, ...)+0x171\nC  [a.out+0x39df]  main+0xff\nC  [libdyld.dylib+0x15f3d]  start+0x1\n\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000000\n\nRegister to memory mapping:\n\nRAX=0x9d0fb75d63f100d0 is an unknown value\nRBX=0x00007fc793f05418 points into unknown readable memory: 0x000000070fe19bc8 | c8 9b e1 0f 07 00 00 00\nRCX=0x00007fc793f04ad8 points into unknown readable memory: 0x000000070fe1a1a8 | a8 a1 e1 0f 07 00 00 00\nRDX=0x0 is NULL\nRSP=0x00007ffeea60a270 is pointing into the stack for thread: 0x00007fc796008a00\nRBP=0x00007ffeea60a310 is pointing into the stack for thread: 0x00007fc796008a00\nRSI=0x00007fc793f05418 points into unknown readable memory: 0x000000070fe19bc8 | c8 9b e1 0f 07 00 00 00\nRDI=0x00007fc796008d10 points into unknown readable memory: 0x0000000106275e58 | 58 5e 27 06 01 00 00 00\nR8 =0x0 is NULL\nR9 =0x0 is NULL\nR10=0x00007fff20269e10: __vfprintf.xdigs_lower+0 in /usr/lib/system/libsystem_c.dylib at 0x00007fff201e7000\nR11=0xffffffc8ab1fff06 is an unknown value\nR12=0x00007fc796008a00 is a thread\nR13=0x00007fc796008d10 points into unknown readable memory: 0x0000000106275e58 | 58 5e 27 06 01 00 00 00\nR14=0x0 is NULL\nR15=0x00007ffeea60a4a0 is pointing into the stack for thread: 0x00007fc796008a00\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1634294925,"post_id":69583532,"comment_id":122991816,"body_markdown":"You are only creating *one* `BASIC_GettersSetters` instance, of which you change the name and age constantly.","body":"You are only creating <i>one</i> <code>BASIC_GettersSetters</code> instance, of which you change the name and age constantly."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1634294929,"post_id":69583532,"comment_id":122991821,"body_markdown":"you are basically reassigning the values, use arraylist or something similar, then append the values to it","body":"you are basically reassigning the values, use arraylist or something similar, then append the values to it"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1634295038,"post_id":69583532,"comment_id":122991853,"body_markdown":"In order to create 3 registrants, create 3 objects (so three times `new BASIC_GettersSetters()`)","body":"In order to create 3 registrants, create 3 objects (so three times <code>new BASIC_GettersSetters()</code>)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1634295145,"post_id":69583532,"comment_id":122991895,"body_markdown":"But you&#39;d also need to call `print` on each of the 3 objects.","body":"But you&#39;d also need to call <code>print</code> on each of the 3 objects."}],"answers":[{"tags":[],"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634295158,"creation_date":1634295158,"answer_id":69583613,"question_id":69583532,"body_markdown":"You create only one object (`new BASIC_GettersSetters()`). If you call the setter on the same object multiple times, you overwrite the previously set value.\r\n\r\nFirst, you should name your classes properly. I suggest renaming your `BASIC_GettersSetters` to `Registrant`. Second, you should create as many `Registrant` objects as needed (in your case, three).","title":"Unable to print desired output while practicing getters setters","body":"<p>You create only one object (<code>new BASIC_GettersSetters()</code>). If you call the setter on the same object multiple times, you overwrite the previously set value.</p>\n<p>First, you should name your classes properly. I suggest renaming your <code>BASIC_GettersSetters</code> to <code>Registrant</code>. Second, you should create as many <code>Registrant</code> objects as needed (in your case, three).</p>\n"},{"tags":[],"owner":{"account_id":10045277,"reputation":36,"user_id":7426907,"display_name":"Jolly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634306416,"creation_date":1634306416,"answer_id":69585940,"question_id":69583532,"body_markdown":"You&#39;re creating one instance of `BASIC_GettersSetters` and repeatedly changing the values. So when you call `printAllDetails` it&#39;s printing the last set of values.\r\n\r\nYou want to create separate instances:\r\n\r\n    BASIC_GettersSetters a = new BASIC_GettersSetters(); \r\n    a.setName(&quot;Kim Hyun Jin&quot;);\r\n    a.setAge(32);\r\n    System.out.println(a.getName());\r\n    System.out.println(a.getAge());\r\n    \r\n    BASIC_GettersSetters b = new BASIC_GettersSetters(); \r\n    b.setName(&quot;Kang Jeon Il&quot;);\r\n    b.setAge(32);\r\n    System.out.println(b.getName());\r\n    System.out.println(b.getAge());\r\n    \r\n    BASIC_GettersSetters c = new BASIC_GettersSetters(); \r\n    c.setName(&quot;Choi Jin Woo&quot;);\r\n    c.setAge(30);\r\n    System.out.println(c.getName());\r\n    System.out.println(c.getAge());\r\n    \r\n    a.printAllDetails();\r\n    b.printAllDetails();\r\n    c.printAllDetails();\r\n\r\nYou should also consider renaming `BASIC_GettersSetters()` to something more meaningful.","title":"Unable to print desired output while practicing getters setters","body":"<p>You're creating one instance of <code>BASIC_GettersSetters</code> and repeatedly changing the values. So when you call <code>printAllDetails</code> it's printing the last set of values.</p>\n<p>You want to create separate instances:</p>\n<pre><code>BASIC_GettersSetters a = new BASIC_GettersSetters(); \na.setName(&quot;Kim Hyun Jin&quot;);\na.setAge(32);\nSystem.out.println(a.getName());\nSystem.out.println(a.getAge());\n\nBASIC_GettersSetters b = new BASIC_GettersSetters(); \nb.setName(&quot;Kang Jeon Il&quot;);\nb.setAge(32);\nSystem.out.println(b.getName());\nSystem.out.println(b.getAge());\n\nBASIC_GettersSetters c = new BASIC_GettersSetters(); \nc.setName(&quot;Choi Jin Woo&quot;);\nc.setAge(30);\nSystem.out.println(c.getName());\nSystem.out.println(c.getAge());\n\na.printAllDetails();\nb.printAllDetails();\nc.printAllDetails();\n</code></pre>\n<p>You should also consider renaming <code>BASIC_GettersSetters()</code> to something more meaningful.</p>\n"}],"owner":{"account_id":19660640,"reputation":33,"user_id":14392147,"display_name":"YN27"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69585940,"answer_count":2,"score":1,"last_activity_date":1634306416,"creation_date":1634294741,"question_id":69583532,"body_markdown":"Besides the get and set method, I created a method called printAllDetails with the purpose to print out details of every registrant. There are 3 registrants with each of their respective names and ages.\r\n\r\n    public class BASIC_GettersSetters {\r\n\r\n    String name;\r\n    int age;\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        BASIC_GettersSetters a = new BASIC_GettersSetters(); // Assume BASIC_GettersSetters is Account\r\n        \r\n        a.setName(&quot;Kim Hyun Jin&quot;);\r\n        a.setAge(32);\r\n        System.out.println(a.getName());\r\n        System.out.println(a.getAge());\r\n        \r\n        a.setName(&quot;Kang Jeon Il&quot;);\r\n        a.setAge(32);\r\n        System.out.println(a.getName());\r\n        System.out.println(a.getAge());\r\n        \r\n        a.setName(&quot;Choi Jin Woo&quot;);\r\n        a.setAge(30);\r\n        System.out.println(a.getName());\r\n        System.out.println(a.getAge());\r\n        \r\n        a.printAllDetails();\r\n        \r\n    }\r\n\r\nThe method is right at the bottom. When I pressed the F6 key to run the program, it only shows the last registrant; Choi Jin Woo, 30. So I&#39;m confused right there. Should I use array? But then, how do I apply it together with get and set methods? Or should I use something else that I don&#39;t know of?\r\n\r\n        public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    \r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n    \r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n    \r\n    public int getAge() {\r\n        return this.age;\r\n    }\r\n    \r\n    public void printAllDetails () {\r\n        System.out.println(&quot;Registrants : &quot; + getName() + &quot; // &quot; + getAge());\r\n    }\r\n    \r\n}\r\n\r\nAny help is appreciated. Thank you. - Coding noob","title":"Unable to print desired output while practicing getters setters","body":"<p>Besides the get and set method, I created a method called printAllDetails with the purpose to print out details of every registrant. There are 3 registrants with each of their respective names and ages.</p>\n<pre><code>public class BASIC_GettersSetters {\n\nString name;\nint age;\n\npublic static void main(String[] args) {\n    \n    BASIC_GettersSetters a = new BASIC_GettersSetters(); // Assume BASIC_GettersSetters is Account\n    \n    a.setName(&quot;Kim Hyun Jin&quot;);\n    a.setAge(32);\n    System.out.println(a.getName());\n    System.out.println(a.getAge());\n    \n    a.setName(&quot;Kang Jeon Il&quot;);\n    a.setAge(32);\n    System.out.println(a.getName());\n    System.out.println(a.getAge());\n    \n    a.setName(&quot;Choi Jin Woo&quot;);\n    a.setAge(30);\n    System.out.println(a.getName());\n    System.out.println(a.getAge());\n    \n    a.printAllDetails();\n    \n}\n</code></pre>\n<p>The method is right at the bottom. When I pressed the F6 key to run the program, it only shows the last registrant; Choi Jin Woo, 30. So I'm confused right there. Should I use array? But then, how do I apply it together with get and set methods? Or should I use something else that I don't know of?</p>\n<pre><code>    public void setName(String name) {\n    this.name = name;\n}\n\npublic void setAge(int age) {\n    this.age = age;\n}\n\npublic String getName() {\n    return this.name;\n}\n\npublic int getAge() {\n    return this.age;\n}\n\npublic void printAllDetails () {\n    System.out.println(&quot;Registrants : &quot; + getName() + &quot; // &quot; + getAge());\n}\n</code></pre>\n<p>}</p>\n<p>Any help is appreciated. Thank you. - Coding noob</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11613595,"reputation":585,"user_id":8507120,"display_name":"srdg"},"score":1,"creation_date":1634223591,"post_id":69572920,"comment_id":122972676,"body_markdown":"Did you check the time taken by the database to return?","body":"Did you check the time taken by the database to return?"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1634223680,"post_id":69572920,"comment_id":122972713,"body_markdown":"@srdg yes! it actually returns pretty quickly..","body":"@srdg yes! it actually returns pretty quickly.."},{"owner":{"account_id":11613595,"reputation":585,"user_id":8507120,"display_name":"srdg"},"score":1,"creation_date":1634224059,"post_id":69572920,"comment_id":122972893,"body_markdown":"Interesting. I would suggest playing around with the batch size a bit, in case you haven&#39;t already. I&#39;m curious to see what might the reason be, but I have a gut feeling telling me the memory access time is causing the bottleneck.","body":"Interesting. I would suggest playing around with the batch size a bit, in case you haven&#39;t already. I&#39;m curious to see what might the reason be, but I have a gut feeling telling me the memory access time is causing the bottleneck."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeek"},"score":2,"creation_date":1634224066,"post_id":69572920,"comment_id":122972898,"body_markdown":"You&#39;ll have the most luck by looking at what your application is spending the time on. Try profiling, nowadays any profiler will, do though I recommend https://github.com/jvm-profiling-tools/async-profiler for sure. If you can&#39;t do that, at least take a few thread dumps via [`jcmd`](https://docs.oracle.com/en/java/javase/11/tools/jcmd.html). I&#39;m sure you&#39;ll see what&#39;s going on pretty quickly.","body":"You&#39;ll have the most luck by looking at what your application is spending the time on. Try profiling, nowadays any profiler will, do though I recommend <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"nofollow noreferrer\">github.com/jvm-profiling-tools/async-profiler</a> for sure. If you can&#39;t do that, at least take a few thread dumps via <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jcmd.html\" rel=\"nofollow noreferrer\"><code>jcmd</code></a>. I&#39;m sure you&#39;ll see what&#39;s going on pretty quickly."},{"owner":{"account_id":14342948,"reputation":186,"user_id":10360613,"display_name":"Rostyslav Barmakov"},"score":1,"creation_date":1634224250,"post_id":69572920,"comment_id":122972988,"body_markdown":"Have you tested the time taken by insert operations for a very last loop iteration? For example, each query might go slower and slower, when DB rearranges indexed columns. So if you test it with an empty database, it will show you much better performance than it is going to be","body":"Have you tested the time taken by insert operations for a very last loop iteration? For example, each query might go slower and slower, when DB rearranges indexed columns. So if you test it with an empty database, it will show you much better performance than it is going to be"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1634233927,"post_id":69572920,"comment_id":122976891,"body_markdown":"Is `generate()` re-utilizing the same DB connection across calls?...or is it creating a new connection for each batch?  Without seeing `generate()` or `appendToFile()`, this is nearly impossible to troubleshoot from our end.","body":"Is <code>generate()</code> re-utilizing the same DB connection across calls?...or is it creating a new connection for each batch?  Without seeing <code>generate()</code> or <code>appendToFile()</code>, this is nearly impossible to troubleshoot from our end."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1634234392,"post_id":69572920,"comment_id":122977099,"body_markdown":"@Idle_Mind it is reusing the same connection across all db calls. Im profiling as suggested by Petr and I&#39;ll update with the results asap. So far I&#39;m guessing that the problem is on the machine that is running the process, but unfortunately, I can&#39;t attach a profiler to there, so I&#39;m testing it in another machine to atleast see the time taken by the queries.","body":"@Idle_Mind it is reusing the same connection across all db calls. Im profiling as suggested by Petr and I&#39;ll update with the results asap. So far I&#39;m guessing that the problem is on the machine that is running the process, but unfortunately, I can&#39;t attach a profiler to there, so I&#39;m testing it in another machine to atleast see the time taken by the queries."}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634306327,"creation_date":1634223392,"question_id":69572920,"body_markdown":"So we built a process that generate a batch of voucher codes + some informations about each code and write all of this to a CSV file in order to integrate through SFTP.\r\n\r\nThe process is dynamic, meaning that it receive quantity it have to generate through a configuration file. Now, the process is trying to generate 55000 codes. This implies in a file with 55000 lines ending up with only ~8.5MB (not a large file at all).\r\n\r\nThe problem is that the process is getting really slow overtime. The logic used to build was the following:\r\n\r\n&gt; 1 - Read the configuration file to find out the quantity to be\r\n&gt; generated and to find out for which partner the file is.\r\n&gt; \r\n&gt; 2 - Query the database to get some configurations of that specific\r\n&gt; partner\r\n&gt; \r\n&gt; 3 - If the quantity is greater than 5k, split the process in multiple\r\n&gt; loops in order to have the GC being able to collect some objects and\r\n&gt; free some memory\r\n\r\nThis is the basic logic, but there are a lot more going on:\r\n\r\n&gt; 1 - We are using `FileWriter` to write to the file (we&#39;ve tested it\r\n&gt; out and the `write` operations are happening fast, as well as the\r\n&gt; `flush` operations, apparently, atleast).\r\n&gt; \r\n&gt; 2 - At each of the 55000 operations, we have to trigger the database 2\r\n&gt; times, one to know if the generated code already exists + one to\r\n&gt; insert the generated code.\r\n&gt; \r\n&gt; 3 - When the process is greater than 5k, we divide into loops, so lets\r\n&gt; say that the batch is of 12k. We split in 3 loops. 2 of 5k + 1 of 2k.\r\n&gt; This is because we have limited memory so we want the garbage\r\n&gt; collector to be able to free some memory at each 5k iteration (I know\r\n&gt; it&#39;s hard to know when GC will run, but by doing that we make sure\r\n&gt; that the objects have no reference)\r\n\r\nA demonstration of the code:\r\n\r\n```\r\nquantity = readConfigFile();\r\npartnetConfigs = getPartnerSpecificConfigsFromDB();\r\nwriter = new FileWriter(...);\r\nif (quantity &gt; 5000) {\r\n\tremaining = quantity\r\n\twhile (remaining &gt; 0) {\r\n\t\tcurrentBatchSize = remaining - 5000 &lt; 0 ? remaining : 5000;\r\n\t\tvouchers = generate(partnerConfigs, currentBatchSize); // this method trigger the database 2 * currentBatchSize\r\n\t\tappendToFile(writer, vouchers);\r\n\t\twriter.flush(); // flushes the stream at the end of each 5000 to release any data from the buffer\r\n\t\tremaining -= currentBatchSize;\r\n\t}\r\n} else {\r\n\tvouchers = generate(partnerConfigs, quantity); // this method trigger the database 2 * quantity\r\n\tappendToFile(writer, vouchers);\r\n}\r\n\r\nwriter.close();\r\n\r\n...\r\n```\r\n\r\nThe process is getting slow overtime. When generating 50.000 of codes, the following happens:\r\n\r\n    1st 5.000 took 8 minutes\r\n    2nd 5.000 took 23 minutes\r\n    3rd 5.000 took 37 minutes\r\n    4th 5.000 took 50 minutes\r\n    5th 5.000 took 1 hour and 10 minutes\r\n    6th 5.000 took 1 hour and 24 minutes\r\n    7th 5.000 took 2 hours\r\n\r\nWhy is this happening?\r\n\r\nUPDATE\r\n------\r\n\r\nAs suggested by Petr in the comments I used a profiler to see what was going on with my application. I could not attach the profiler to the existing process in the remote JVM, but I tested it out in another server, with the same data, even the same database instance - I used JProfiler.\r\n\r\nThe results I got was somehow expected.\r\n\r\n&gt; 1 - The db operations were fast (7ms ~ 10ms per statement executed)\r\n&gt; \r\n&gt; 2 - The write operations were fast (1ms ~ 3ms to append each 5k batch)\r\n&gt; \r\n&gt; 3 - This server generated 55000 vouchers in a matter of 22 minutes.\r\n\r\nI&#39;m supposing that there is something wrong with the other server. We are waiting for the infrastructure team to analyze what is going on more in depth and see why the performance is so poor.","title":"Process of generating file getting slow overtime","body":"<p>So we built a process that generate a batch of voucher codes + some informations about each code and write all of this to a CSV file in order to integrate through SFTP.</p>\n<p>The process is dynamic, meaning that it receive quantity it have to generate through a configuration file. Now, the process is trying to generate 55000 codes. This implies in a file with 55000 lines ending up with only ~8.5MB (not a large file at all).</p>\n<p>The problem is that the process is getting really slow overtime. The logic used to build was the following:</p>\n<blockquote>\n<p>1 - Read the configuration file to find out the quantity to be\ngenerated and to find out for which partner the file is.</p>\n<p>2 - Query the database to get some configurations of that specific\npartner</p>\n<p>3 - If the quantity is greater than 5k, split the process in multiple\nloops in order to have the GC being able to collect some objects and\nfree some memory</p>\n</blockquote>\n<p>This is the basic logic, but there are a lot more going on:</p>\n<blockquote>\n<p>1 - We are using <code>FileWriter</code> to write to the file (we've tested it\nout and the <code>write</code> operations are happening fast, as well as the\n<code>flush</code> operations, apparently, atleast).</p>\n<p>2 - At each of the 55000 operations, we have to trigger the database 2\ntimes, one to know if the generated code already exists + one to\ninsert the generated code.</p>\n<p>3 - When the process is greater than 5k, we divide into loops, so lets\nsay that the batch is of 12k. We split in 3 loops. 2 of 5k + 1 of 2k.\nThis is because we have limited memory so we want the garbage\ncollector to be able to free some memory at each 5k iteration (I know\nit's hard to know when GC will run, but by doing that we make sure\nthat the objects have no reference)</p>\n</blockquote>\n<p>A demonstration of the code:</p>\n<pre><code>quantity = readConfigFile();\npartnetConfigs = getPartnerSpecificConfigsFromDB();\nwriter = new FileWriter(...);\nif (quantity &gt; 5000) {\n    remaining = quantity\n    while (remaining &gt; 0) {\n        currentBatchSize = remaining - 5000 &lt; 0 ? remaining : 5000;\n        vouchers = generate(partnerConfigs, currentBatchSize); // this method trigger the database 2 * currentBatchSize\n        appendToFile(writer, vouchers);\n        writer.flush(); // flushes the stream at the end of each 5000 to release any data from the buffer\n        remaining -= currentBatchSize;\n    }\n} else {\n    vouchers = generate(partnerConfigs, quantity); // this method trigger the database 2 * quantity\n    appendToFile(writer, vouchers);\n}\n\nwriter.close();\n\n...\n</code></pre>\n<p>The process is getting slow overtime. When generating 50.000 of codes, the following happens:</p>\n<pre><code>1st 5.000 took 8 minutes\n2nd 5.000 took 23 minutes\n3rd 5.000 took 37 minutes\n4th 5.000 took 50 minutes\n5th 5.000 took 1 hour and 10 minutes\n6th 5.000 took 1 hour and 24 minutes\n7th 5.000 took 2 hours\n</code></pre>\n<p>Why is this happening?</p>\n<h2>UPDATE</h2>\n<p>As suggested by Petr in the comments I used a profiler to see what was going on with my application. I could not attach the profiler to the existing process in the remote JVM, but I tested it out in another server, with the same data, even the same database instance - I used JProfiler.</p>\n<p>The results I got was somehow expected.</p>\n<blockquote>\n<p>1 - The db operations were fast (7ms ~ 10ms per statement executed)</p>\n<p>2 - The write operations were fast (1ms ~ 3ms to append each 5k batch)</p>\n<p>3 - This server generated 55000 vouchers in a matter of 22 minutes.</p>\n</blockquote>\n<p>I'm supposing that there is something wrong with the other server. We are waiting for the infrastructure team to analyze what is going on more in depth and see why the performance is so poor.</p>\n"},{"tags":["java","java-8","directory","filesystems","nio"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1481195411,"post_id":41038005,"comment_id":69283196,"body_markdown":"Show what have you tried.","body":"Show what have you tried."},{"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"score":0,"creation_date":1481197368,"post_id":41038005,"comment_id":69284467,"body_markdown":"@Holger I am trying Java NIO&#39;s file package and did not find any solution yet.","body":"@Holger I am trying Java NIO&#39;s file package and did not find any solution yet."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1481197949,"post_id":41038005,"comment_id":69284861,"body_markdown":"Note the `maxDepth` parameter in [`Files.walkFileTree(Path start, Set&lt;FileVisitOption&gt; options, int maxDepth, FileVisitor&lt;? super Path&gt; visitor)`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walkFileTree-java.nio.file.Path-java.util.Set-int-java.nio.file.FileVisitor-). Without an actual problem statement describing what is failing when trying to use this method (or any of the alternatives), its impossible to tell you how to solve this.","body":"Note the <code>maxDepth</code> parameter in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walkFileTree-java.nio.file.Path-java.util.Set-int-java.nio.file.FileVisitor-\" rel=\"nofollow noreferrer\"><code>Files.walkFileTree(Path start, Set&lt;FileVisitOption&gt; options, int maxDepth, FileVisitor&lt;? super Path&gt; visitor)</code></a>. Without an actual problem statement describing what is failing when trying to use this method (or any of the alternatives), its impossible to tell you how to solve this."},{"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"score":0,"creation_date":1481199364,"post_id":41038005,"comment_id":69285775,"body_markdown":"Files.walkFileTree seems more complex then Files.find and Files.walk.","body":"Files.walkFileTree seems more complex then Files.find and Files.walk."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1481274963,"post_id":41038005,"comment_id":69320411,"body_markdown":"I never said that `Files.walkFileTree` was the easiest solution. Before that comment, you said you did not find *any* solution. Now youre even telling me that there are easier solutions, so obviously, it helped","body":"I never said that <code>Files.walkFileTree</code> was the easiest solution. Before that comment, you said you did not find <i>any</i> solution. Now youre even telling me that there are easier solutions, so obviously, it helped"},{"owner":{"account_id":6668982,"reputation":2717,"user_id":5145671,"display_name":"jmgoyesc"},"score":0,"creation_date":1506434463,"post_id":41038005,"comment_id":79814227,"body_markdown":"In this answer, &quot;Files.walk&quot; is what you are looking https://stackoverflow.com/questions/1844688/read-all-files-in-a-folder","body":"In this answer, &quot;Files.walk&quot; is what you are looking <a href=\"https://stackoverflow.com/questions/1844688/read-all-files-in-a-folder\" title=\"read all files in a folder\">stackoverflow.com/questions/1844688/read-all-files-in-a-fold&zwnj;&#8203;er</a>"}],"answers":[{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1481199743,"creation_date":1481199743,"answer_id":41039442,"question_id":41038005,"body_markdown":"Please have a look at [Files.find][1] method.\r\n\r\n    try (Stream&lt;Path&gt; stream = Files.find(Paths.get(&quot;Folder 1&quot;), 5,\r\n                (path, attr) -&gt; path.getFileName().toString().equals(&quot;Myfile.txt&quot;) )) {\r\n            System.out.println(stream.findAny().isPresent());\r\n    } catch (IOException e) {\r\n            e.printStackTrace();\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-","title":"Find a file in a directory and sub directories using Java 8","body":"<p>Please have a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.find</a> method.</p>\n\n<pre><code>try (Stream&lt;Path&gt; stream = Files.find(Paths.get(\"Folder 1\"), 5,\n            (path, attr) -&gt; path.getFileName().toString().equals(\"Myfile.txt\") )) {\n        System.out.println(stream.findAny().isPresent());\n} catch (IOException e) {\n        e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1481199841,"creation_date":1481199841,"answer_id":41039479,"question_id":41038005,"body_markdown":"I find solution working with Files.find and Files.walk as follows:\r\n\r\n    // Finding a file upto x level in File Directory using NIO Files.find\r\n\t\tPath start = Paths.get(&quot;/Users/***/Documents/server_pull&quot;);\r\n\t\tint maxDepth = 5;\r\n\t\ttry(Stream&lt;Path&gt; stream = Files.find(start, \r\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth, \r\n\t\t\t\t\t\t\t\t\t\t\t(path, attr) -&gt; String.valueOf(path).endsWith(&quot;.json&quot;))){\r\n\t\t\tString fileName = stream\r\n\t\t\t\t\t\t\t\t.sorted()\r\n\t\t\t\t\t\t\t\t.map(String::valueOf)\r\n\t\t\t\t\t\t\t\t.filter((path) -&gt; {\r\n\t\t\t\t\t\t\t\t\t//System.out.println(&quot;In Filter : &quot;+path);\r\n\t\t\t\t\t\t\t\t\treturn String.valueOf(path).endsWith(&quot;system_health_12_55_TestServer.json&quot;);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.collect(Collectors.joining());\r\n\t\t\tSystem.out.println(&quot;fileName : &quot;+fileName);\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n    // Finding a file upto x level in File Directory using NIO Files.walk\r\n\t\t\r\n\t\tPath startWalk = Paths.get(&quot;/Users/***/Documents/server_pull&quot;);\r\n\t\tint depth = 5;\r\n\t\ttry( Stream&lt;Path&gt; stream1 = Files.walk(startWalk, \r\n\t\t\t\t\t\t\t\t\t\t\t\tdepth)){\r\n\t\t\tString walkedFile = stream1\r\n\t\t\t\t\t\t\t\t.map(String::valueOf)\r\n\t\t\t\t\t\t\t\t.filter(path -&gt; {\r\n\t\t\t\t\t\t\t\t\treturn String.valueOf(path).endsWith(&quot;system_health_12_55_TestServer.json&quot;);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.sorted()\r\n\t\t\t\t\t\t\t\t.collect(Collectors.joining());\r\n\t\t\tSystem.out.println(&quot;walkedFile = &quot;+walkedFile);\r\n\t\t\t\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nIt seems more simpler than walkFileTree...","title":"Find a file in a directory and sub directories using Java 8","body":"<p>I find solution working with Files.find and Files.walk as follows:</p>\n\n<pre><code>// Finding a file upto x level in File Directory using NIO Files.find\n    Path start = Paths.get(\"/Users/***/Documents/server_pull\");\n    int maxDepth = 5;\n    try(Stream&lt;Path&gt; stream = Files.find(start, \n                                        maxDepth, \n                                        (path, attr) -&gt; String.valueOf(path).endsWith(\".json\"))){\n        String fileName = stream\n                            .sorted()\n                            .map(String::valueOf)\n                            .filter((path) -&gt; {\n                                //System.out.println(\"In Filter : \"+path);\n                                return String.valueOf(path).endsWith(\"system_health_12_55_TestServer.json\");\n                            })\n                            .collect(Collectors.joining());\n        System.out.println(\"fileName : \"+fileName);\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n\n// Finding a file upto x level in File Directory using NIO Files.walk\n\n    Path startWalk = Paths.get(\"/Users/***/Documents/server_pull\");\n    int depth = 5;\n    try( Stream&lt;Path&gt; stream1 = Files.walk(startWalk, \n                                            depth)){\n        String walkedFile = stream1\n                            .map(String::valueOf)\n                            .filter(path -&gt; {\n                                return String.valueOf(path).endsWith(\"system_health_12_55_TestServer.json\");\n                            })\n                            .sorted()\n                            .collect(Collectors.joining());\n        System.out.println(\"walkedFile = \"+walkedFile);\n\n    }catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>It seems more simpler than walkFileTree...</p>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528459649,"creation_date":1528459649,"answer_id":50760328,"question_id":41038005,"body_markdown":"I did a little more down drill on the problem and found a way to do this in a synchronised manner using ForkJoinPool as follows:\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.RecursiveTask;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    \r\n    \r\n    public class ForkJoinFolderProcessor {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tForkJoinPool pool = new ForkJoinPool();\r\n    \t\t\r\n    \t\t\r\n    \t\tMyFolderProcessor hadoop = new MyFolderProcessor(&quot;/Users/*****/backups/h/&quot;, &quot;log&quot;);\r\n    \t\tMyFolderProcessor t8 = new MyFolderProcessor(&quot;/Users/*******/apache-tomcat-9.0.2&quot;, &quot;log&quot;);\r\n    \t\tMyFolderProcessor t9 = new MyFolderProcessor(&quot;/Users/******/apache-tomcat-8.5.20&quot;, &quot;log&quot;);\r\n    \t\t\r\n    \t\tpool.execute(hadoop);\r\n    \t\tpool.execute(t8);\r\n    \t\tpool.execute(t9);\r\n    \t\t\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;---------------------&quot;);\r\n    \t\t\tSystem.out.println(&quot;Parallelism : &quot;+pool.getParallelism());\r\n    \t\t\tSystem.out.println(&quot;Active Threads : &quot;+pool.getActiveThreadCount());\r\n    \t\t\tSystem.out.println(&quot;Task Count : &quot;+pool.getQueuedTaskCount());\r\n    \t\t\tSystem.out.println(&quot;Steal Count : &quot;+pool.getStealCount());\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(&quot;---------------------&quot;);\r\n    \t\t\t\r\n    \t\t\ttry\r\n    \t         {\r\n    \t            TimeUnit.SECONDS.sleep(1);\r\n    \t         } catch (InterruptedException e)\r\n    \t         {\r\n    \t            e.printStackTrace();\r\n    \t         }\r\n    \t\t}while((!hadoop.isDone()) || (!t8.isDone()) || (!t9.isDone()));\r\n    \t\t\r\n    \t\tpool.shutdown();\r\n    \r\n    \t\tList&lt;String&gt; results = hadoop.join();\r\n    \t\tSystem.out.println(&quot;Hadoop: Files found  : &quot; + results.size()+&quot; &quot;+results.toString());\r\n    \t\tresults = t8.join();\r\n    \t\tSystem.out.println(&quot;T8: Files found  : &quot; + results.size()+&quot; &quot;+results.toString());\r\n    \t\tresults = t9.join();\r\n    \t\tSystem.out.println(&quot;T9: Files found  : &quot; + results.size()+&quot; &quot;+results.toString());\r\n    \t\t \r\n    \t}\r\n    \r\n    }\r\n    \r\n    class MyFolderProcessor extends RecursiveTask&lt;List&lt;String&gt;&gt;{\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate final String filepath;\r\n    \tprivate final String fileExt;\r\n    \r\n    \tpublic MyFolderProcessor(String path, String extension) {\r\n    \t\tthis.filepath = path;\r\n    \t\tthis.fileExt = extension;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected List&lt;String&gt; compute() {\r\n    \r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \t\tList&lt;MyFolderProcessor&gt; tasks = new ArrayList&lt;MyFolderProcessor&gt;();\r\n    \t\t\r\n    \t\tFile file = new File(filepath);\r\n    \t    File content[] = file.listFiles();\r\n    \t    \r\n    \t    if(content != null) {\r\n    \t    \t\tfor(File f : content) {\r\n    \t    \t\t\tif(f.isDirectory()) {\r\n    \t    \t\t\t\tMyFolderProcessor task = new MyFolderProcessor(f.getAbsolutePath(), fileExt);\r\n    \t    \t\t\t\ttask.fork();\r\n    \t    \t\t\t\ttasks.add(task);\r\n    \t    \t\t\t}else {\r\n    \t    \t\t\t\tif(checkFile(f.getName()))\r\n    \t    \t\t\t\t\tlist.add(f.getAbsolutePath());\r\n    \t    \t\t\t}\r\n    \t    \t\t}\r\n    \t    }\r\n    \t\tif (tasks.size() &gt; 50) {\r\n    \t\t\tSystem.out.println(&quot;tasks ran.&quot;+ file.getAbsolutePath()+&quot; &quot;+ tasks.size());\r\n    \t\t}\r\n    \t\taddResultsFromTasks(list, tasks);\r\n    \r\n    \t\treturn list;\r\n    \t}\r\n    \t\r\n    \tprivate void addResultsFromTasks(List&lt;String&gt; list, List&lt;MyFolderProcessor&gt; tasks) {\r\n    \t\tfor (MyFolderProcessor item : tasks) {\r\n    \t\t\tlist.addAll(item.join());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate boolean checkFile(String name) {\r\n    \t\treturn name.endsWith(fileExt);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n \r\nThough it is more complex solution, but it works pretty well in case of multi threaded environment.\r\n","title":"Find a file in a directory and sub directories using Java 8","body":"<p>I did a little more down drill on the problem and found a way to do this in a synchronised manner using ForkJoinPool as follows:</p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveTask;\nimport java.util.concurrent.TimeUnit;\n\n\n\npublic class ForkJoinFolderProcessor {\n\n    public static void main(String[] args) {\n        ForkJoinPool pool = new ForkJoinPool();\n\n\n        MyFolderProcessor hadoop = new MyFolderProcessor(\"/Users/*****/backups/h/\", \"log\");\n        MyFolderProcessor t8 = new MyFolderProcessor(\"/Users/*******/apache-tomcat-9.0.2\", \"log\");\n        MyFolderProcessor t9 = new MyFolderProcessor(\"/Users/******/apache-tomcat-8.5.20\", \"log\");\n\n        pool.execute(hadoop);\n        pool.execute(t8);\n        pool.execute(t9);\n\n        do {\n            System.out.println(\"---------------------\");\n            System.out.println(\"Parallelism : \"+pool.getParallelism());\n            System.out.println(\"Active Threads : \"+pool.getActiveThreadCount());\n            System.out.println(\"Task Count : \"+pool.getQueuedTaskCount());\n            System.out.println(\"Steal Count : \"+pool.getStealCount());\n\n            System.out.println(\"---------------------\");\n\n            try\n             {\n                TimeUnit.SECONDS.sleep(1);\n             } catch (InterruptedException e)\n             {\n                e.printStackTrace();\n             }\n        }while((!hadoop.isDone()) || (!t8.isDone()) || (!t9.isDone()));\n\n        pool.shutdown();\n\n        List&lt;String&gt; results = hadoop.join();\n        System.out.println(\"Hadoop: Files found  : \" + results.size()+\" \"+results.toString());\n        results = t8.join();\n        System.out.println(\"T8: Files found  : \" + results.size()+\" \"+results.toString());\n        results = t9.join();\n        System.out.println(\"T9: Files found  : \" + results.size()+\" \"+results.toString());\n\n    }\n\n}\n\nclass MyFolderProcessor extends RecursiveTask&lt;List&lt;String&gt;&gt;{\n\n    private static final long serialVersionUID = 1L;\n\n    private final String filepath;\n    private final String fileExt;\n\n    public MyFolderProcessor(String path, String extension) {\n        this.filepath = path;\n        this.fileExt = extension;\n    }\n\n    @Override\n    protected List&lt;String&gt; compute() {\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        List&lt;MyFolderProcessor&gt; tasks = new ArrayList&lt;MyFolderProcessor&gt;();\n\n        File file = new File(filepath);\n        File content[] = file.listFiles();\n\n        if(content != null) {\n                for(File f : content) {\n                    if(f.isDirectory()) {\n                        MyFolderProcessor task = new MyFolderProcessor(f.getAbsolutePath(), fileExt);\n                        task.fork();\n                        tasks.add(task);\n                    }else {\n                        if(checkFile(f.getName()))\n                            list.add(f.getAbsolutePath());\n                    }\n                }\n        }\n        if (tasks.size() &gt; 50) {\n            System.out.println(\"tasks ran.\"+ file.getAbsolutePath()+\" \"+ tasks.size());\n        }\n        addResultsFromTasks(list, tasks);\n\n        return list;\n    }\n\n    private void addResultsFromTasks(List&lt;String&gt; list, List&lt;MyFolderProcessor&gt; tasks) {\n        for (MyFolderProcessor item : tasks) {\n            list.addAll(item.join());\n        }\n    }\n\n    private boolean checkFile(String name) {\n        return name.endsWith(fileExt);\n    }\n\n}\n</code></pre>\n\n<p>Though it is more complex solution, but it works pretty well in case of multi threaded environment.</p>\n"},{"tags":[],"owner":{"account_id":4497353,"reputation":51,"user_id":3656845,"display_name":"user3656845"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634306302,"creation_date":1634306302,"answer_id":69585917,"question_id":41038005,"body_markdown":"    public static String getAdobeExePath(String basePath, String exeName) {\r\n    \tFile[] files = new File(basePath).listFiles();\r\n    \tString foundPath;\r\n    \tfor (int i = 0; i &lt; files.length; i++) {\r\n    \t\tif (files[i].isDirectory()) {\r\n    \t\t\tfoundPath = getAdobeExePath(files[i].getAbsolutePath(), exeName);\r\n\t\t\t\tif (foundPath != null) {\r\n\t\t\t\t\treturn foundPath;\r\n\t\t\t\t}\r\n    \t\t}else {\r\n    \t\t\tif (exeName.equals(files[i].getName())) {\r\n\t\t\t\t\treturn files[i].getAbsolutePath();\r\n\t\t\t\t}\r\n    \t\t}\r\n\t\t}\r\n    \treturn null;\r\n    }\r\n\r\nThis is using recursion. ","title":"Find a file in a directory and sub directories using Java 8","body":"<pre><code>public static String getAdobeExePath(String basePath, String exeName) {\n    File[] files = new File(basePath).listFiles();\n    String foundPath;\n    for (int i = 0; i &lt; files.length; i++) {\n        if (files[i].isDirectory()) {\n            foundPath = getAdobeExePath(files[i].getAbsolutePath(), exeName);\n            if (foundPath != null) {\n                return foundPath;\n            }\n        }else {\n            if (exeName.equals(files[i].getName())) {\n                return files[i].getAbsolutePath();\n            }\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>This is using recursion.</p>\n"}],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19542,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":41039442,"answer_count":4,"score":6,"last_activity_date":1634306302,"creation_date":1481195337,"question_id":41038005,"body_markdown":"How to implement an algorithm in *Java 8*, given a start directory and a filename, that searches for the file in the given directory or any sub-directories which are nested not deeper than 5 levels.\r\n\r\nFor example consider the following directory structure:\r\n\r\n    Folder 1\r\n       Folder 2\r\n          Folder 3\r\n            Folder 4\r\n                Folder 5\r\n                    Folder 6\r\n                        nfiles.txt....\r\n                    MyFile.txt\r\n                    xfile.txt\r\n                filesInFolder4....\r\n            filesInFolder3...\r\n       .....\r\n\r\nThe algorithm should search for the file up to files containd in the Folder 5 and report if a file with given filename exists?\r\n\r\nHow to do that using *Java 8*?","title":"Find a file in a directory and sub directories using Java 8","body":"<p>How to implement an algorithm in <em>Java 8</em>, given a start directory and a filename, that searches for the file in the given directory or any sub-directories which are nested not deeper than 5 levels.</p>\n\n<p>For example consider the following directory structure:</p>\n\n<pre><code>Folder 1\n   Folder 2\n      Folder 3\n        Folder 4\n            Folder 5\n                Folder 6\n                    nfiles.txt....\n                MyFile.txt\n                xfile.txt\n            filesInFolder4....\n        filesInFolder3...\n   .....\n</code></pre>\n\n<p>The algorithm should search for the file up to files containd in the Folder 5 and report if a file with given filename exists?</p>\n\n<p>How to do that using <em>Java 8</em>?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":466230,"reputation":4540,"user_id":870853,"accept_rate":74,"display_name":"Arturs Vancans"},"score":0,"creation_date":1634307037,"post_id":69583643,"comment_id":122996187,"body_markdown":"Joining on IDs is a paradigm commonly seen in relational databases, such as MySQL. In NoSQL databases, such as MongoDB or Firestore, you store the whole document. In the most extreme case, imagine you have a rendered page, you store all used raw data. More real-life scenario would be to break it down into smaller documents for reusability and to save bandwidth.  That being said, you can still do the join if you want. You just need to download these 3 documents separately with `where` queries and then transform the objects locally.","body":"Joining on IDs is a paradigm commonly seen in relational databases, such as MySQL. In NoSQL databases, such as MongoDB or Firestore, you store the whole document. In the most extreme case, imagine you have a rendered page, you store all used raw data. More real-life scenario would be to break it down into smaller documents for reusability and to save bandwidth.  That being said, you can still do the join if you want. You just need to download these 3 documents separately with <code>where</code> queries and then transform the objects locally."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634296282,"creation_date":1634296282,"answer_id":69583851,"question_id":69583643,"body_markdown":"What you&#39;re trying to achieve is actually a JOIN, which is currently **not** supported by Cloud Firestore.\r\n\r\nQueries in Firestore are shallow, meaning that they can only return documents from the collection that the query is run against. If you need to get documents from two collections, you&#39;ll have to perform two queries and combine the result on the client.\r\n\r\nThere is an alternative solution, which is called [denormalization][1]. This means that you can create another collection that should contain data from both collections. In this way, you can perform a single query against this new collection. There is nothing to worry about this approach, as it&#39;s a common practice when it comes to NoSQL databases.\r\n\r\n  [1]: https://stackoverflow.com/questions/54258303/what-is-denormalization-in-firebase-cloud-firestore/","title":"How I can do join with Firestore in my Android application","body":"<p>What you're trying to achieve is actually a JOIN, which is currently <strong>not</strong> supported by Cloud Firestore.</p>\n<p>Queries in Firestore are shallow, meaning that they can only return documents from the collection that the query is run against. If you need to get documents from two collections, you'll have to perform two queries and combine the result on the client.</p>\n<p>There is an alternative solution, which is called <a href=\"https://stackoverflow.com/questions/54258303/what-is-denormalization-in-firebase-cloud-firestore/\">denormalization</a>. This means that you can create another collection that should contain data from both collections. In this way, you can perform a single query against this new collection. There is nothing to worry about this approach, as it's a common practice when it comes to NoSQL databases.</p>\n"}],"owner":{"account_id":4962311,"reputation":1,"user_id":3992982,"display_name":"husien ms"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634306294,"creation_date":1634295291,"question_id":69583643,"body_markdown":"How I can do join with  Firestore in my Android application?\r\n\r\n![my tables in this Picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dsTjb.png","title":"How I can do join with Firestore in my Android application","body":"<p>How I can do join with  Firestore in my Android application?</p>\n<p><img src=\"https://i.stack.imgur.com/dsTjb.png\" alt=\"my tables in this Picture\" /></p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1634304657,"post_id":69585449,"comment_id":122995186,"body_markdown":"First: change the names inside your method. You have somewhat sensible names in your `main` and then you switch over to the confusing and pointless `FirstInput`/`SecondInput` inside your `recursionFunction`. Second: you *first* divide by the base and *then* try to get the modulo from the result, which means you&#39;ll definitely lose the first digit. Get the modulo *first* and *then* divide.","body":"First: change the names inside your method. You have somewhat sensible names in your <code>main</code> and then you switch over to the confusing and pointless <code>FirstInput</code>/<code>SecondInput</code> inside your <code>recursionFunction</code>. Second: you <i>first</i> divide by the base and <i>then</i> try to get the modulo from the result, which means you&#39;ll definitely lose the first digit. Get the modulo <i>first</i> and <i>then</i> divide."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1634305951,"post_id":69585449,"comment_id":122995732,"body_markdown":"Your method should return something.  Perhaps a string that represents the value after base conversion.","body":"Your method should return something.  Perhaps a string that represents the value after base conversion."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1634307353,"post_id":69585449,"comment_id":122996322,"body_markdown":"The phrase &quot;decimal number&quot; includes values with a fractional part, like 3.14. Your input is actually a &quot;base 10 integer&quot;.  When converting to bases greater than 10, you&#39;ll also need to translate your remainder values greater than or equal to 10 to their letter equivalent: A=10, B=11, C=12, D=13, E=14, F=15.","body":"The phrase &quot;decimal number&quot; includes values with a fractional part, like 3.14. Your input is actually a &quot;base 10 integer&quot;.  When converting to bases greater than 10, you&#39;ll also need to translate your remainder values greater than or equal to 10 to their letter equivalent: A=10, B=11, C=12, D=13, E=14, F=15."}],"answers":[{"tags":[],"owner":{"account_id":15222585,"reputation":101,"user_id":10984122,"display_name":"Boris Vassilev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634305837,"creation_date":1634305837,"answer_id":69585799,"question_id":69585449,"body_markdown":"To convert between different numeric systems you have to divide `FirstInput` by `SecondInput` only after you have printed `FirstInput % SecondInput` to the output stream. You can see [this link][1] that describes the process. I think the best way to fix your code will be to remove the line `FirstInput = result` and just replace the argument in the recursive call with `result`. (I am talking about the non-edited code)\r\n\r\nMoreover, for what you&#39;re doing no recursion is required and the same effect can be achieved with a simple loop. When you call the function recursively in its end, you are effectively doing a loop, but also filling up the stack.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/computer_logical_organization/number_system_conversion.htm","title":"Recursion Function","body":"<p>To convert between different numeric systems you have to divide <code>FirstInput</code> by <code>SecondInput</code> only after you have printed <code>FirstInput % SecondInput</code> to the output stream. You can see <a href=\"https://www.tutorialspoint.com/computer_logical_organization/number_system_conversion.htm\" rel=\"nofollow noreferrer\">this link</a> that describes the process. I think the best way to fix your code will be to remove the line <code>FirstInput = result</code> and just replace the argument in the recursive call with <code>result</code>. (I am talking about the non-edited code)</p>\n<p>Moreover, for what you're doing no recursion is required and the same effect can be achieved with a simple loop. When you call the function recursively in its end, you are effectively doing a loop, but also filling up the stack.</p>\n"}],"owner":{"account_id":20755017,"reputation":9,"user_id":15241644,"display_name":"Rafael Nathan Ang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634306223,"creation_date":1634304367,"question_id":69585449,"body_markdown":"I&#39;m quite confused about my code as I am trying to make a program to convert a decimal number to a number system from 2 to 16, converting a decimal value to another number system using the recursive function my problem is writing down the number Decimal value:256 with a Target base of 8 so an octal number system but the output is 040 this is my current code \r\n\r\n\r\n    public static void main(String[] args) {\r\n        int DValue = 0;\r\n        int TBase = 0;\r\n\r\n        while (DValue != -1){\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;decimal value: &quot;);\r\n            DValue = input.nextInt();\r\n\r\n\r\n\r\n            if (DValue == -1){\r\n                System.out.println(&quot;thank you for using the program. bye!&quot;);\r\n                System.exit(0);\r\n            }\r\n            while (TBase &lt; 2 || TBase &gt; 16){\r\n                System.out.print(&quot;target base: &quot;);\r\n                TBase = input.nextInt();\r\n            }\r\n\r\n                System.out.print(&quot;value of &quot; + DValue + &quot; in base &quot; + TBase + &quot; is &quot;);\r\n                recursionFunction(DValue, TBase);\r\n\r\n                TBase = 0;\r\n\r\n        }\r\n\r\n    }\r\n\r\n*Edited*\r\n\r\n    public static void recursionFunction(int Decimal, int Base){\r\n        int result;\r\n\r\n        if (Decimal== 0) {\r\n            System.out.println(&quot; &quot; );\r\n            return;\r\n        }\r\n\r\n        result = Decimal / Base;\r\n\r\n\r\n\r\n        System.out.print(Decimal % Base);\r\n\r\n\r\n        recursionFunction(result, Base);\r\n\r\n    }\r\n","title":"Recursion Function","body":"<p>I'm quite confused about my code as I am trying to make a program to convert a decimal number to a number system from 2 to 16, converting a decimal value to another number system using the recursive function my problem is writing down the number Decimal value:256 with a Target base of 8 so an octal number system but the output is 040 this is my current code</p>\n<pre><code>public static void main(String[] args) {\n    int DValue = 0;\n    int TBase = 0;\n\n    while (DValue != -1){\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;decimal value: &quot;);\n        DValue = input.nextInt();\n\n\n\n        if (DValue == -1){\n            System.out.println(&quot;thank you for using the program. bye!&quot;);\n            System.exit(0);\n        }\n        while (TBase &lt; 2 || TBase &gt; 16){\n            System.out.print(&quot;target base: &quot;);\n            TBase = input.nextInt();\n        }\n\n            System.out.print(&quot;value of &quot; + DValue + &quot; in base &quot; + TBase + &quot; is &quot;);\n            recursionFunction(DValue, TBase);\n\n            TBase = 0;\n\n    }\n\n}\n</code></pre>\n<p><em>Edited</em></p>\n<pre><code>public static void recursionFunction(int Decimal, int Base){\n    int result;\n\n    if (Decimal== 0) {\n        System.out.println(&quot; &quot; );\n        return;\n    }\n\n    result = Decimal / Base;\n\n\n\n    System.out.print(Decimal % Base);\n\n\n    recursionFunction(result, Base);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1567191081,"post_id":57731831,"comment_id":101903785,"body_markdown":"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html, https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-controller-advice","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ControllerAdvice.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>, <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-controller-advice\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1634305158,"creation_date":1567191188,"answer_id":57731908,"question_id":57731831,"body_markdown":"@**ControllerAdvice** is very useful to handle exceptions when you have multiple Spring REST API controllers doing a lot of different work. \r\n\r\nThat means when writing any application you encounter exceptions and to handle them at each method level is tedious and not optimal. So in order to overcome that,  spring has introduced the concept of ```@ControllerAdvice``` which will intercept all the controllers and look for the exceptions thrown.\r\nThis is at a global level means you only have one ```@ControllerAdvice``` for each application and it will intercept the exceptions thrown by the controllers in that particular application context. \r\n[For more information][1]\r\n\r\n**Note**: It should be used only with spring MVC controllers.\r\n\r\n\r\n  [1]: https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f\r\n","title":"What is @ControllerAdvice annotation in spring-boot and why we use it and when?","body":"<p>@<strong>ControllerAdvice</strong> is very useful to handle exceptions when you have multiple Spring REST API controllers doing a lot of different work.</p>\n<p>That means when writing any application you encounter exceptions and to handle them at each method level is tedious and not optimal. So in order to overcome that,  spring has introduced the concept of <code>@ControllerAdvice</code> which will intercept all the controllers and look for the exceptions thrown.\nThis is at a global level means you only have one <code>@ControllerAdvice</code> for each application and it will intercept the exceptions thrown by the controllers in that particular application context.\n<a href=\"https://medium.com/@jovannypcg/understanding-springs-controlleradvice-cd96a364033f\" rel=\"noreferrer\">For more information</a></p>\n<p><strong>Note</strong>: It should be used only with spring MVC controllers.</p>\n"}],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12673,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":57731908,"answer_count":1,"score":12,"last_activity_date":1634305857,"creation_date":1567190689,"question_id":57731831,"body_markdown":"I&#39;m using custom framework in my work built on spring-boot framework , and i see this annotation `@ControllerAdvice` in spring-boot when i need it to create custom exception handler class but i don&#39;t know why i must use it ?","title":"What is @ControllerAdvice annotation in spring-boot and why we use it and when?","body":"<p>I'm using custom framework in my work built on spring-boot framework , and i see this annotation <code>@ControllerAdvice</code> in spring-boot when i need it to create custom exception handler class but i don't know why i must use it ?</p>\n"},{"tags":["java","scala","playframework","apache-poi","powerpoint"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1634306261,"post_id":69585794,"comment_id":122995850,"body_markdown":"Please see this answer, https://stackoverflow.com/questions/14495288/how-to-add-image-to-powerpoint-ppt-table-cell-using-apache-poi-hslf-xslf  It should help","body":"Please see this answer, <a href=\"https://stackoverflow.com/questions/14495288/how-to-add-image-to-powerpoint-ppt-table-cell-using-apache-poi-hslf-xslf\" title=\"how to add image to powerpoint ppt table cell using apache poi hslf xslf\">stackoverflow.com/questions/14495288/&hellip;</a>  It should help"},{"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"score":0,"creation_date":1634306462,"post_id":69585794,"comment_id":122995918,"body_markdown":"@SusanMustafa - I used the example as a basis for creating my current logic - but it didn&#39;t work.","body":"@SusanMustafa - I used the example as a basis for creating my current logic - but it didn&#39;t work."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1634541755,"post_id":69585794,"comment_id":123042752,"body_markdown":"the difference that I see is in writing the picture.  You are using addPicture, vs what the answer does which is print each byte.  The answer is already using PackagePart, and you are not....if you really use the exact code from the example answer.\n\nIF that does not work, then check the picture size? It might be too big","body":"the difference that I see is in writing the picture.  You are using addPicture, vs what the answer does which is print each byte.  The answer is already using PackagePart, and you are not....if you really use the exact code from the example answer.  IF that does not work, then check the picture size? It might be too big"}],"owner":{"account_id":8365987,"reputation":13,"user_id":6282671,"display_name":"kajoe14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634305832,"creation_date":1634305832,"question_id":69585794,"body_markdown":"I have been trying to add images into a table cell created using Apache POI within powerpoint slides, but I end up generating the error message: `The picture can&#39;t be displayed.` The table itself get&#39;s created however the error message gets insterted into the cells instead. \r\n\r\nHere is what I have been trying:\r\n```def createImagesTable(xmlSlideShow: XMLSlideShow, slide: XSLFSlide, anchor: Rectangle2D, images: List[List[Option[File]]], numRows: Int = 5): Unit = {\r\n    val table = slide.createTable\r\n    for (_ &lt;- 1 to numRows) table.addRow()\r\n    table.setAnchor(anchor)\r\n\r\n    for (imgList &lt;- images) {\r\n      imgList.zipWithIndex foreach {\r\n        case (image, rowIndex) =&gt;\r\n          val tr = table.getRows.get(rowIndex)\r\n          tr.setHeight(30)\r\n\r\n          val cell = tr.addCell()\r\n          val blipProps: CTBlipFillProperties = cell.getXmlObject.asInstanceOf[CTTableCell].getTcPr.addNewBlipFill()\r\n          blipProps.setDpi(72)\r\n          \r\n          val ctBlip: CTBlip = blipProps.addNewBlip()\r\n          blipProps.addNewSrcRect()\r\n\r\n          val fillRect = blipProps.addNewStretch().addNewFillRect()\r\n          fillRect.setL(30000)\r\n          fillRect.setR(30000)\r\n\r\n          val bytes = Files.readAllBytes(image.get.toPath)\r\n          val pd = xmlSlideShow.addPicture(bytes, PictureData.PictureType.JPEG)\r\n          println(&quot;File name: &quot; + pd.getFileName)\r\n          \r\n          val rp = slide.addRelation(null, XSLFRelation.IMAGES, pd)\r\n\r\n          ctBlip.setEmbed(rp.getRelationship.getId)\r\n\r\n      }\r\n    }\r\n  }\r\n`````\r\n\r\nAny ideas as to what I may be missing / doing wrong. Thanks in advance.","title":"Cannot display images into a table cell in PPTX using Apache POI","body":"<p>I have been trying to add images into a table cell created using Apache POI within powerpoint slides, but I end up generating the error message: <code>The picture can't be displayed.</code> The table itself get's created however the error message gets insterted into the cells instead.</p>\n<p>Here is what I have been trying:</p>\n<pre><code>    val table = slide.createTable\n    for (_ &lt;- 1 to numRows) table.addRow()\n    table.setAnchor(anchor)\n\n    for (imgList &lt;- images) {\n      imgList.zipWithIndex foreach {\n        case (image, rowIndex) =&gt;\n          val tr = table.getRows.get(rowIndex)\n          tr.setHeight(30)\n\n          val cell = tr.addCell()\n          val blipProps: CTBlipFillProperties = cell.getXmlObject.asInstanceOf[CTTableCell].getTcPr.addNewBlipFill()\n          blipProps.setDpi(72)\n          \n          val ctBlip: CTBlip = blipProps.addNewBlip()\n          blipProps.addNewSrcRect()\n\n          val fillRect = blipProps.addNewStretch().addNewFillRect()\n          fillRect.setL(30000)\n          fillRect.setR(30000)\n\n          val bytes = Files.readAllBytes(image.get.toPath)\n          val pd = xmlSlideShow.addPicture(bytes, PictureData.PictureType.JPEG)\n          println(&quot;File name: &quot; + pd.getFileName)\n          \n          val rp = slide.addRelation(null, XSLFRelation.IMAGES, pd)\n\n          ctBlip.setEmbed(rp.getRelationship.getId)\n\n      }\n    }\n  }\n</code></pre>\n<p>Any ideas as to what I may be missing / doing wrong. Thanks in advance.</p>\n"},{"tags":["java","jackson","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1520438869,"creation_date":1520438869,"answer_id":49156431,"question_id":49155318,"body_markdown":"You need to indicate that `&lt;bar&gt;` is a wrapping element for your collection of `String` messages:\r\n\r\nThis should work in your `Foo` class:\r\n\r\n    @JacksonXmlProperty(localName = &quot;bar&quot;)\r\n    @JacksonXmlCData\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;String&gt; barList;","title":"Deserializing XML with list using Jackson","body":"<p>You need to indicate that <code>&lt;bar&gt;</code> is a wrapping element for your collection of <code>String</code> messages:</p>\n\n<p>This should work in your <code>Foo</code> class:</p>\n\n<pre><code>@JacksonXmlProperty(localName = \"bar\")\n@JacksonXmlCData\n@JacksonXmlElementWrapper(useWrapping = false)\nprivate List&lt;String&gt; barList;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5946424,"reputation":61,"user_id":9230769,"display_name":"gambarimas87"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634305772,"creation_date":1634305772,"answer_id":69585779,"question_id":49155318,"body_markdown":"In case you have in your input xml a list of bar elements with an attribute like\r\n```\r\n&lt;testdata&gt;\r\n    &lt;foo&gt;\r\n        &lt;bar name=&quot;John&quot;&gt;\r\n            &lt;![CDATA[MESSAGE1]]&gt;\r\n        &lt;/bar&gt;\r\n        &lt;bar name=&quot;Mary&quot;&gt;\r\n            &lt;![CDATA[MESSAGE2]]&gt;\r\n        &lt;/bar&gt;\r\n        &lt;bar name=&quot;Bill&quot;&gt;\r\n            &lt;![CDATA[MESSAGE3]]&gt;\r\n        &lt;/bar&gt;\r\n    &lt;/foo&gt;\r\n&lt;testdata&gt;\r\n```\r\nyou could create a ```Bar``` class and include a list of it as a field of the ```Foo``` class:\r\n```\r\n    @JacksonXmlProperty(localName = &quot;bar&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Bar&gt; barList;\r\n```\r\nThe ```Bar``` class would be:\r\n\r\n\r\n```\r\n    class Bar {    \r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String name; \r\n\r\n        @JacksonXmlCData\r\n        private String content;\r\n   }\r\n```\r\n\r\nRemember to include getters and setters for the ```Bar``` class.\r\n\r\n\r\n\r\n","title":"Deserializing XML with list using Jackson","body":"<p>In case you have in your input xml a list of bar elements with an attribute like</p>\n<pre><code>&lt;testdata&gt;\n    &lt;foo&gt;\n        &lt;bar name=&quot;John&quot;&gt;\n            &lt;![CDATA[MESSAGE1]]&gt;\n        &lt;/bar&gt;\n        &lt;bar name=&quot;Mary&quot;&gt;\n            &lt;![CDATA[MESSAGE2]]&gt;\n        &lt;/bar&gt;\n        &lt;bar name=&quot;Bill&quot;&gt;\n            &lt;![CDATA[MESSAGE3]]&gt;\n        &lt;/bar&gt;\n    &lt;/foo&gt;\n&lt;testdata&gt;\n</code></pre>\n<p>you could create a <code>Bar</code> class and include a list of it as a field of the <code>Foo</code> class:</p>\n<pre><code>    @JacksonXmlProperty(localName = &quot;bar&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Bar&gt; barList;\n</code></pre>\n<p>The <code>Bar</code> class would be:</p>\n<pre><code>    class Bar {    \n        @JacksonXmlProperty(isAttribute = true)\n        private String name; \n\n        @JacksonXmlCData\n        private String content;\n   }\n</code></pre>\n<p>Remember to include getters and setters for the <code>Bar</code> class.</p>\n"}],"owner":{"account_id":1788128,"reputation":7322,"user_id":1629109,"accept_rate":62,"display_name":"Damien-Amen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13407,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49156431,"answer_count":2,"score":8,"last_activity_date":1634305772,"creation_date":1520435784,"question_id":49155318,"body_markdown":"I have the following XML that I&#39;d like to deserialize to Java POJO.\r\n\r\n    &lt;testdata&gt;\r\n        &lt;foo&gt;\r\n            &lt;bar&gt;\r\n                &lt;![CDATA[MESSAGE1]]&gt;\r\n            &lt;/bar&gt;\r\n            &lt;bar&gt;\r\n                &lt;![CDATA[MESSAGE2]]&gt;\r\n            &lt;/bar&gt;\r\n            &lt;bar&gt;\r\n                &lt;![CDATA[MESSAGE3]]&gt;\r\n            &lt;/bar&gt;\r\n        &lt;/foo&gt;\r\n    &lt;/testdata&gt;\r\n\r\nI have the following Java classes\r\n\r\n    public class TestData {\r\n    \r\n        @JacksonXmlProperty(localName = &quot;foo&quot;)\r\n        private Foo foo;\r\n    \r\n        public Foo getFoo() {\r\n            return foo;\r\n        }\r\n    \r\n        public void setFoo(Foo foo) {\r\n            this.foo = foo;\r\n        }\r\n    \r\n    }\r\n\r\nI have another class like below\r\n\r\n    public class Foo {\r\n    \r\n        @JacksonXmlProperty(localName = &quot;bar&quot;)\r\n        @JacksonXmlCData\r\n        private List&lt;String&gt; barList;\r\n    \r\n        public List&lt;String&gt; getBarList() {\r\n            return barList;\r\n        }\r\n    \r\n        public void setBarList(List&lt;String&gt; barList) {\r\n            this.barList = barList;\r\n        }\r\n    }\r\n\r\nNow when I run the code using the class below I get an exception\r\n\r\n    private void readXml() throws FileNotFoundException, IOException {\r\n        File file = new File(&quot;/Users/temp.xml&quot;);\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        String xml = GeneralUtils.inputStreamToString(new FileInputStream(file));\r\n        TestData testData = xmlMapper.readValue(xml, TestData.class);\r\n        System.out.println(testData.getFoo()\r\n                                   .getBarList());\r\n    }\r\n\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of VALUE_STRING token\r\n\r\nHow do I convert `bar` elements into a `List`? I tried multiple things but I keep getting some or the other errors\r\n\r\n","title":"Deserializing XML with list using Jackson","body":"<p>I have the following XML that I'd like to deserialize to Java POJO.</p>\n\n<pre><code>&lt;testdata&gt;\n    &lt;foo&gt;\n        &lt;bar&gt;\n            &lt;![CDATA[MESSAGE1]]&gt;\n        &lt;/bar&gt;\n        &lt;bar&gt;\n            &lt;![CDATA[MESSAGE2]]&gt;\n        &lt;/bar&gt;\n        &lt;bar&gt;\n            &lt;![CDATA[MESSAGE3]]&gt;\n        &lt;/bar&gt;\n    &lt;/foo&gt;\n&lt;/testdata&gt;\n</code></pre>\n\n<p>I have the following Java classes</p>\n\n<pre><code>public class TestData {\n\n    @JacksonXmlProperty(localName = \"foo\")\n    private Foo foo;\n\n    public Foo getFoo() {\n        return foo;\n    }\n\n    public void setFoo(Foo foo) {\n        this.foo = foo;\n    }\n\n}\n</code></pre>\n\n<p>I have another class like below</p>\n\n<pre><code>public class Foo {\n\n    @JacksonXmlProperty(localName = \"bar\")\n    @JacksonXmlCData\n    private List&lt;String&gt; barList;\n\n    public List&lt;String&gt; getBarList() {\n        return barList;\n    }\n\n    public void setBarList(List&lt;String&gt; barList) {\n        this.barList = barList;\n    }\n}\n</code></pre>\n\n<p>Now when I run the code using the class below I get an exception</p>\n\n<pre><code>private void readXml() throws FileNotFoundException, IOException {\n    File file = new File(\"/Users/temp.xml\");\n    XmlMapper xmlMapper = new XmlMapper();\n    String xml = GeneralUtils.inputStreamToString(new FileInputStream(file));\n    TestData testData = xmlMapper.readValue(xml, TestData.class);\n    System.out.println(testData.getFoo()\n                               .getBarList());\n}\n</code></pre>\n\n<p>Exception in thread \"main\" com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of <code>java.util.ArrayList</code> out of VALUE_STRING token</p>\n\n<p>How do I convert <code>bar</code> elements into a <code>List</code>? I tried multiple things but I keep getting some or the other errors</p>\n"},{"tags":["java","spring","maven","gson"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634306132,"post_id":69585202,"comment_id":122995799,"body_markdown":"You&#39;re double-encoding the internal values. Don&#39;t do that and let your library do its job.","body":"You&#39;re double-encoding the internal values. Don&#39;t do that and let your library do its job."}],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634304176,"creation_date":1634304176,"answer_id":69585411,"question_id":69585202,"body_markdown":"you don&#39;t need parse to json before return on springboot. Spring boot will do this for you ( using jackson lib for default )\r\n\r\ntry this:\r\n\r\n```java\r\n\r\n  @GetMapping(path = &quot;/books&quot;)\r\n    public Book[] getAllBooks() { // return Book[] instead of String []\r\n         bookRepository.bookRepo();\r\n         return bookRepository.bookRepo(); // return all list of books\r\n    }\r\n\r\n```","title":"How to get rid of the &quot;\\&quot; while displaying a string object parsed with GSON in java","body":"<p>you don't need parse to json before return on springboot. Spring boot will do this for you ( using jackson lib for default )</p>\n<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n  @GetMapping(path = &quot;/books&quot;)\n    public Book[] getAllBooks() { // return Book[] instead of String []\n         bookRepository.bookRepo();\n         return bookRepository.bookRepo(); // return all list of books\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634305716,"creation_date":1634305716,"answer_id":69585765,"question_id":69585202,"body_markdown":"Delete the ```@Override toString()``` function. Directly return the ```gson().toJson()``` to the string.\r\n\r\nHowever this is not good. You can define ```ArrayList``` instead of primitive array. So,\r\n\r\n```\r\nArrayList&lt;Book&gt; AllBooks;\r\nAllBooks.add(new Book(// add book 1));\r\nAllBooks.add(new Book(// add book 2));\r\nAllBooks.add(new Book(// add book 3));\r\n```\r\nand then on repo you can just return\r\n```\r\nreturn new Gson.toJson(AllBooks);\r\n```\r\n\r\n### ***HOWEVER***\r\n\r\nThis is not the best practice, as your books are stored on your server&#39;s **RAM**. So, reconsider to setup a database to assist the data relations. And in fact, spring provide jpa&#39;s [`@Entity`](https://www.baeldung.com/jpa-entities) to assist you for this kind of thing. When you declared your book as an entity, such as\r\n\r\n```\r\n@Entity\r\npublic class Book {\r\n    private int id;\r\n    private String name;\r\n    private String type;\r\n    private boolean available;\r\n}\r\n```\r\n\r\nYou can create a [JpaRepository](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.repositories) to retrieve all the data, e.g.\r\n\r\n```\r\n@Repository\r\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\r\n}\r\n```\r\nAnd then just call the repository on your controller\r\n```\r\n@GetMapping(path = &quot;/books&quot;)\r\npublic List&lt;book&gt; getAllBooks() {\r\n    BookRepository bookRepo = new BookRepository();\r\n    List&lt;book&gt; books = bookRepo.findAll();\r\n    return books;\r\n}\r\n```","title":"How to get rid of the &quot;\\&quot; while displaying a string object parsed with GSON in java","body":"<p>Delete the <code>@Override toString()</code> function. Directly return the <code>gson().toJson()</code> to the string.</p>\n<p>However this is not good. You can define <code>ArrayList</code> instead of primitive array. So,</p>\n<pre><code>ArrayList&lt;Book&gt; AllBooks;\nAllBooks.add(new Book(// add book 1));\nAllBooks.add(new Book(// add book 2));\nAllBooks.add(new Book(// add book 3));\n</code></pre>\n<p>and then on repo you can just return</p>\n<pre><code>return new Gson.toJson(AllBooks);\n</code></pre>\n<h3><em><strong>HOWEVER</strong></em></h3>\n<p>This is not the best practice, as your books are stored on your server's <strong>RAM</strong>. So, reconsider to setup a database to assist the data relations. And in fact, spring provide jpa's <a href=\"https://www.baeldung.com/jpa-entities\" rel=\"nofollow noreferrer\"><code>@Entity</code></a> to assist you for this kind of thing. When you declared your book as an entity, such as</p>\n<pre><code>@Entity\npublic class Book {\n    private int id;\n    private String name;\n    private String type;\n    private boolean available;\n}\n</code></pre>\n<p>You can create a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.repositories\" rel=\"nofollow noreferrer\">JpaRepository</a> to retrieve all the data, e.g.</p>\n<pre><code>@Repository\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\n}\n</code></pre>\n<p>And then just call the repository on your controller</p>\n<pre><code>@GetMapping(path = &quot;/books&quot;)\npublic List&lt;book&gt; getAllBooks() {\n    BookRepository bookRepo = new BookRepository();\n    List&lt;book&gt; books = bookRepo.findAll();\n    return books;\n}\n</code></pre>\n"}],"owner":{"account_id":22494861,"reputation":33,"user_id":16692026,"display_name":"Mile Stanislavov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69585765,"answer_count":2,"score":0,"last_activity_date":1634305716,"creation_date":1634303122,"question_id":69585202,"body_markdown":"I am trying to get a clear array of JSON objects(books) using GSON.\r\nBut whenever I run the following code:\r\n\r\n```\r\npublic class Book {\r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate String type;\r\n\tprivate boolean available;\r\n\t\r\n\tpublic Book(int id, String name, String type, boolean available) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.type = type;\r\n\t\tthis.available = available;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;{id=&quot; + id + &quot;, name=&quot; + name + &quot;, type=&quot; + type + &quot;, available=&quot; + available + &quot;},&quot;;\r\n\t}\r\n\r\n\t\r\n}\r\n```\r\n```\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.google.gson.Gson;\r\n\r\n@Component\r\npublic class BookService {\r\n\r\n\tprivate int size = 0;\r\n\tpublic  int len = 6;\r\n\tpublic Book Allbooks[] = new Book[len];\r\n\r\n\tpublic Book AddBook(int id, String name, String type, boolean available) {\r\n\t\tif(id == len)\r\n\t\t\treturn null;\r\n\t\tthis.size++;\r\n\t\treturn Allbooks[this.size - 1] = createBook(id, name, type, available);\r\n\r\n\r\n\t}\r\n\tprivate Book createBook(int id, String name, String type, boolean available) {\r\n\t\treturn new Book(id, name, type, available);\r\n\t}\r\n\tpublic Book[] bookRepo() {\r\n\t\t\r\n\t\tAllbooks[0] = AddBook(1, &quot;One&quot;, &quot;fiction&quot;, false);\r\n\t\tAllbooks[1] = AddBook(2, &quot;Two&quot;, &quot;non-fiction&quot;, true);\r\n\t\tAllbooks[2] = AddBook(3, &quot;Three&quot;, &quot;fiction&quot;, true);\r\n\t\tAllbooks[3] = AddBook(4, &quot;Four&quot;, &quot;fiction&quot;, false);\r\n\t\tAllbooks[4] = AddBook(5, &quot;Five&quot;, &quot;non-fiction&quot;, true);\r\n\t\tAllbooks[5] = AddBook(6, &quot;Six&quot;, &quot;non-fiction&quot;, true);\r\n\r\n\t\treturn Allbooks;\r\n\t}\r\n\tpublic String[] showAll() {\r\n\t\tString[] arr = new String[Allbooks.length];\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = new Gson().toJson(Allbooks[i], Book.class);\r\n\t\t}return arr;\r\n\r\n\t}\r\n}\r\n```\r\n```\r\n@RestController\r\nclass ControllerGET {\r\n\r\n\t@Autowired Status status;\r\n\t@Autowired BookService bookRepository;\r\n\r\n\t@GetMapping(path = {&quot;/&quot;, &quot;&quot;})\r\n\tpublic String mainPage() {\r\n\t\treturn &quot;Welcome to Mile&#39;s simple book-API&quot;;\r\n\t}\r\n\t@GetMapping(path = &quot;/status&quot;)\r\n\tpublic Status getStatus() {\r\n\t\tstatus.value = &quot;OK&quot;;\r\n\t\treturn status;\r\n\t}\r\n\t@GetMapping(path = &quot;/books&quot;)\r\n\tpublic String[] getAllBooks() {\r\n\t\t bookRepository.bookRepo();\r\n\t\t return bookRepository.showAll();\r\n\t}\r\n\t//@GetMapping(path = &quot;/books/:bookid&quot;)\r\n\t\r\n}\r\n```\r\nI get the following output on my local host(Postman): \r\n\r\n\r\n```\r\n[\r\n    &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;One\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:false}&quot;,\r\n    &quot;{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Two\\&quot;,\\&quot;type\\&quot;:\\&quot;non-fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\r\n    &quot;{\\&quot;id\\&quot;:3,\\&quot;name\\&quot;:\\&quot;Three\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\r\n    &quot;{\\&quot;id\\&quot;:4,\\&quot;name\\&quot;:\\&quot;Four\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:false}&quot;,\r\n    &quot;{\\&quot;id\\&quot;:5,\\&quot;name\\&quot;:\\&quot;Five\\&quot;,\\&quot;type\\&quot;:\\&quot;non-fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\r\n    &quot;null&quot;\r\n]\r\n```\r\n\r\nMy goal is to make it look like this:\r\n```\r\n {&quot;id&quot;:1,\r\n  &quot;name&quot;:&quot;One&quot;,\r\n  &quot;type&quot;:&quot;fiction&quot;,\r\n  &quot;available&quot;:false}&quot;,\r\n}\r\n```\r\nsame for the other books. Please help me if you know a way. I&#39;d be very thankful!\r\n................................\r\n.................................\r\n................................\r\n.................................\r\n................................","title":"How to get rid of the &quot;\\&quot; while displaying a string object parsed with GSON in java","body":"<p>I am trying to get a clear array of JSON objects(books) using GSON.\nBut whenever I run the following code:</p>\n<pre><code>public class Book {\n    private int id;\n    private String name;\n    private String type;\n    private boolean available;\n    \n    public Book(int id, String name, String type, boolean available) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.type = type;\n        this.available = available;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;{id=&quot; + id + &quot;, name=&quot; + name + &quot;, type=&quot; + type + &quot;, available=&quot; + available + &quot;},&quot;;\n    }\n\n    \n}\n</code></pre>\n<pre><code>import org.springframework.stereotype.Component;\n\nimport com.google.gson.Gson;\n\n@Component\npublic class BookService {\n\n    private int size = 0;\n    public  int len = 6;\n    public Book Allbooks[] = new Book[len];\n\n    public Book AddBook(int id, String name, String type, boolean available) {\n        if(id == len)\n            return null;\n        this.size++;\n        return Allbooks[this.size - 1] = createBook(id, name, type, available);\n\n\n    }\n    private Book createBook(int id, String name, String type, boolean available) {\n        return new Book(id, name, type, available);\n    }\n    public Book[] bookRepo() {\n        \n        Allbooks[0] = AddBook(1, &quot;One&quot;, &quot;fiction&quot;, false);\n        Allbooks[1] = AddBook(2, &quot;Two&quot;, &quot;non-fiction&quot;, true);\n        Allbooks[2] = AddBook(3, &quot;Three&quot;, &quot;fiction&quot;, true);\n        Allbooks[3] = AddBook(4, &quot;Four&quot;, &quot;fiction&quot;, false);\n        Allbooks[4] = AddBook(5, &quot;Five&quot;, &quot;non-fiction&quot;, true);\n        Allbooks[5] = AddBook(6, &quot;Six&quot;, &quot;non-fiction&quot;, true);\n\n        return Allbooks;\n    }\n    public String[] showAll() {\n        String[] arr = new String[Allbooks.length];\n        for (int i = 0; i &lt; arr.length; i++) {\n            arr[i] = new Gson().toJson(Allbooks[i], Book.class);\n        }return arr;\n\n    }\n}\n</code></pre>\n<pre><code>@RestController\nclass ControllerGET {\n\n    @Autowired Status status;\n    @Autowired BookService bookRepository;\n\n    @GetMapping(path = {&quot;/&quot;, &quot;&quot;})\n    public String mainPage() {\n        return &quot;Welcome to Mile's simple book-API&quot;;\n    }\n    @GetMapping(path = &quot;/status&quot;)\n    public Status getStatus() {\n        status.value = &quot;OK&quot;;\n        return status;\n    }\n    @GetMapping(path = &quot;/books&quot;)\n    public String[] getAllBooks() {\n         bookRepository.bookRepo();\n         return bookRepository.showAll();\n    }\n    //@GetMapping(path = &quot;/books/:bookid&quot;)\n    \n}\n</code></pre>\n<p>I get the following output on my local host(Postman):</p>\n<pre><code>[\n    &quot;{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;One\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:false}&quot;,\n    &quot;{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Two\\&quot;,\\&quot;type\\&quot;:\\&quot;non-fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\n    &quot;{\\&quot;id\\&quot;:3,\\&quot;name\\&quot;:\\&quot;Three\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\n    &quot;{\\&quot;id\\&quot;:4,\\&quot;name\\&quot;:\\&quot;Four\\&quot;,\\&quot;type\\&quot;:\\&quot;fiction\\&quot;,\\&quot;available\\&quot;:false}&quot;,\n    &quot;{\\&quot;id\\&quot;:5,\\&quot;name\\&quot;:\\&quot;Five\\&quot;,\\&quot;type\\&quot;:\\&quot;non-fiction\\&quot;,\\&quot;available\\&quot;:true}&quot;,\n    &quot;null&quot;\n]\n</code></pre>\n<p>My goal is to make it look like this:</p>\n<pre><code> {&quot;id&quot;:1,\n  &quot;name&quot;:&quot;One&quot;,\n  &quot;type&quot;:&quot;fiction&quot;,\n  &quot;available&quot;:false}&quot;,\n}\n</code></pre>\n<p>same for the other books. Please help me if you know a way. I'd be very thankful!\n................................\n.................................\n................................\n.................................\n................................</p>\n"},{"tags":["java","svn","svnkit"],"answers":[{"tags":[],"owner":{"account_id":5330325,"reputation":61,"user_id":4251056,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446549140,"creation_date":1446547443,"answer_id":33497086,"question_id":33402805,"body_markdown":"notice  exception msg :\r\n\r\n    \r\n\r\n&gt; Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39; command have not been\r\n&gt; found; probably not yet implement in this API.\r\n\r\ntry to change another SVN interface client, `JavaHL(JNI) 1.8.10(r1615264)\r\n, supports svn merge command! it works for me!","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>notice  exception msg :</p>\n\n<blockquote>\n  <p>Runner for 'org.tmatesoft.svn.core.wc2.SvnMerge' command have not been\n  found; probably not yet implement in this API.</p>\n</blockquote>\n\n<p>try to change another SVN interface client, `JavaHL(JNI) 1.8.10(r1615264)\n, supports svn merge command! it works for me!</p>\n"},{"tags":[],"owner":{"account_id":694502,"reputation":3009,"user_id":572332,"accept_rate":76,"display_name":"robor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476114480,"creation_date":1476114480,"answer_id":39962007,"question_id":33402805,"body_markdown":"I had the same error in Jenkins when using the [Subversion plugin][1]. When I googled I landed up here.\r\n\r\nTo fix this in Jenkins I did\r\n\r\n&gt; Manage Jenkins -&gt; Configure System -&gt; Scroll down to the subversion settings -&gt; select your subversion workspace version\r\n\r\ne.g.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/Subversion+Plugin\r\n  [2]: http://i.stack.imgur.com/uVIhy.png","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>I had the same error in Jenkins when using the <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Subversion+Plugin\" rel=\"nofollow noreferrer\">Subversion plugin</a>. When I googled I landed up here.</p>\n\n<p>To fix this in Jenkins I did</p>\n\n<blockquote>\n  <p>Manage Jenkins -> Configure System -> Scroll down to the subversion settings -> select your subversion workspace version</p>\n</blockquote>\n\n<p>e.g.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uVIhy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uVIhy.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1189709,"reputation":960,"user_id":1162828,"accept_rate":25,"display_name":"flm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491299177,"creation_date":1491299177,"answer_id":43203697,"question_id":33402805,"body_markdown":"Are you running Eclipse?\r\nAdd this software repository http://subclipse.tigris.org/update_1.12.x\r\nAnd install everything.","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>Are you running Eclipse?\nAdd this software repository <a href=\"http://subclipse.tigris.org/update_1.12.x\" rel=\"nofollow noreferrer\">http://subclipse.tigris.org/update_1.12.x</a>\nAnd install everything.</p>\n"},{"tags":[],"owner":{"account_id":8315485,"reputation":16101,"user_id":7128034,"accept_rate":85,"display_name":"developer_hatch"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1493230913,"creation_date":1493230913,"answer_id":43641778,"question_id":33402805,"body_markdown":"First, check you have subclipse installed, @flm post where.\r\nIn your Eclipse, go Windows -&gt; Preference -&gt; Team -&gt; SVN -&gt; DIFF/Merge \r\n\r\nSelect default (Sublclipse)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6JDKf.jpg","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>First, check you have subclipse installed, @flm post where.\nIn your Eclipse, go Windows -> Preference -> Team -> SVN -> DIFF/Merge </p>\n\n<p>Select default (Sublclipse)</p>\n\n<p><a href=\"https://i.stack.imgur.com/6JDKf.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6JDKf.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6593525,"reputation":11,"user_id":5094032,"display_name":"Joachim L&#246;ning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507217865,"creation_date":1507217865,"answer_id":46589635,"question_id":33402805,"body_markdown":"I had the same error in Eclipse when merging with SVNKIT and the CollabNet client, after switching to JavaHL merging work fine.\r\n\r\nNote you have to use matching versions of your native subversion vs. subclipe-&gt;JavaHL library as decribed in the subclipe wiki. For example svn 1.9.x =&gt; subclipe 1.12","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>I had the same error in Eclipse when merging with SVNKIT and the CollabNet client, after switching to JavaHL merging work fine.</p>\n\n<p>Note you have to use matching versions of your native subversion vs. subclipe->JavaHL library as decribed in the subclipe wiki. For example svn 1.9.x => subclipe 1.12</p>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634305617,"creation_date":1634305617,"answer_id":69585751,"question_id":33402805,"body_markdown":"If the option `Select revisions on next page` is selected on the second page of the wizard then it works for me without changing any in the preferences.\r\n\r\nI use `CollabNet Desktop` and `SVNKit (Pure Java)`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZ2E9.png","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>If the option <code>Select revisions on next page</code> is selected on the second page of the wizard then it works for me without changing any in the preferences.</p>\n<p>I use <code>CollabNet Desktop</code> and <code>SVNKit (Pure Java)</code></p>\n<p><a href=\"https://i.stack.imgur.com/lZ2E9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZ2E9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2965205,"reputation":145,"user_id":2518523,"accept_rate":43,"display_name":"Vinod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12536,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1634305617,"creation_date":1446071951,"question_id":33402805,"body_markdown":"I am trying to merge branch to trunk using SVNKIT java API.\r\n\r\nThe code for it is as follows:\r\n    \r\n    String branchURL = &quot;&lt;Branch URL&gt;&quot;;\r\n\r\n    SVNURL branchSVNURL = SVNURL.parseURIDecoded(branchURL);//SVN Branch URL\r\n\r\n    String WC_PATH= &quot;&lt;Some Path&gt;&quot;;//This is the Working copy path which has the Trunk checked out\r\n\r\n    File svnWorkingCopy = new File(WC_PATH);\r\n\r\n    SVNDiffClient svnDiffClient;//This is initialized using SVNClientManager\r\n\r\n    try{\r\n          //doMerge(java.io.File path1, SVNRevision revision1, SVNURL url2, SVNRevision revision2, java.io.File dstPath, SVNDepth depth, boolean useAncestry, boolean force, boolean dryRun, boolean recordOnly) \r\n          svnDiffClient.doMerge(branchSVNURL, SVNRevision.HEAD,null,svnWorkingCopy,SVNDepth.INFINITY,false, false, false, false);\r\n       }catch(Exception e){\r\n         e.printStackTrace();\r\n       }\r\n\r\nRunning this code throws the following error:\r\n\r\n    org.tmatesoft.svn.core.SVNException: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39; command have not been found; probably not yet implement in this API.\r\n\tat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64)\r\n\tat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51)\r\n\tat org.tmatesoft.svn.core.wc2.SvnOperationFactory.getImplementation(SvnOperationFactory.java:1375)\r\n\tat org.tmatesoft.svn.core.wc2.SvnOperationFactory.run(SvnOperationFactory.java:1224)\r\n\tat org.tmatesoft.svn.core.wc2.SvnOperation.run(SvnOperation.java:294)\r\n\tat org.tmatesoft.svn.core.wc.SVNDiffClient.doMerge(SVNDiffClient.java:2389)\r\n\tat com.test.TestSVN.merge(TestSVN.java:109)\r\n\tat com.test.TestSVN.main(TestSVN.java:45)\r\n\r\n\r\nI ran this piece of code with SVNKIT version **1.7.11** and **1.8.10** and got the same error.\r\n\r\nSVN command line equivalent for the code mentioned above is\r\n\r\n    svn merge &lt;branchurl&gt; &lt;WC_PATH&gt;\r\n\r\nLet know if anything needs to be done to fix this issue.\r\n\r\n","title":"SVN Error: svn: E200007: Runner for &#39;org.tmatesoft.svn.core.wc2.SvnMerge&#39;","body":"<p>I am trying to merge branch to trunk using SVNKIT java API.</p>\n\n<p>The code for it is as follows:</p>\n\n<pre><code>String branchURL = \"&lt;Branch URL&gt;\";\n\nSVNURL branchSVNURL = SVNURL.parseURIDecoded(branchURL);//SVN Branch URL\n\nString WC_PATH= \"&lt;Some Path&gt;\";//This is the Working copy path which has the Trunk checked out\n\nFile svnWorkingCopy = new File(WC_PATH);\n\nSVNDiffClient svnDiffClient;//This is initialized using SVNClientManager\n\ntry{\n      //doMerge(java.io.File path1, SVNRevision revision1, SVNURL url2, SVNRevision revision2, java.io.File dstPath, SVNDepth depth, boolean useAncestry, boolean force, boolean dryRun, boolean recordOnly) \n      svnDiffClient.doMerge(branchSVNURL, SVNRevision.HEAD,null,svnWorkingCopy,SVNDepth.INFINITY,false, false, false, false);\n   }catch(Exception e){\n     e.printStackTrace();\n   }\n</code></pre>\n\n<p>Running this code throws the following error:</p>\n\n<pre><code>org.tmatesoft.svn.core.SVNException: svn: E200007: Runner for 'org.tmatesoft.svn.core.wc2.SvnMerge' command have not been found; probably not yet implement in this API.\nat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:64)\nat org.tmatesoft.svn.core.internal.wc.SVNErrorManager.error(SVNErrorManager.java:51)\nat org.tmatesoft.svn.core.wc2.SvnOperationFactory.getImplementation(SvnOperationFactory.java:1375)\nat org.tmatesoft.svn.core.wc2.SvnOperationFactory.run(SvnOperationFactory.java:1224)\nat org.tmatesoft.svn.core.wc2.SvnOperation.run(SvnOperation.java:294)\nat org.tmatesoft.svn.core.wc.SVNDiffClient.doMerge(SVNDiffClient.java:2389)\nat com.test.TestSVN.merge(TestSVN.java:109)\nat com.test.TestSVN.main(TestSVN.java:45)\n</code></pre>\n\n<p>I ran this piece of code with SVNKIT version <strong>1.7.11</strong> and <strong>1.8.10</strong> and got the same error.</p>\n\n<p>SVN command line equivalent for the code mentioned above is</p>\n\n<pre><code>svn merge &lt;branchurl&gt; &lt;WC_PATH&gt;\n</code></pre>\n\n<p>Let know if anything needs to be done to fix this issue.</p>\n"},{"tags":["java","opengl","lwjgl","glfw"],"answers":[{"tags":[],"owner":{"account_id":37982,"reputation":65378,"user_id":108796,"accept_rate":64,"display_name":"Blindy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634082687,"creation_date":1634082687,"answer_id":69548151,"question_id":69519479,"body_markdown":"There&#39;s a bunch of problems in your code, and that&#39;s without even seeing the core of the problem yet, since it&#39;s in the `// ...` part:\r\n\r\n- You don&#39;t use `glfwSwapBuffers` when you&#39;re trying to render in a headless setup, that&#39;s only needed when you render to the context back buffer and want to swap it to screen.\r\n\r\n- You don&#39;t want both `glGetTexImage` and `glReadPixels`, they both read data from graphics memory to system memory. In your case you&#39;re reading the texture data in `buffer` then overwriting it with the backbuffer data, which should be empty since you never wrote to it. \r\n\r\n- You definitely do not want `glBlitFramebuffer`, that&#39;s for copying from video memory to video memory. You seriously need to stop and read the documentation, throwing random functions at your video driver is a sure way to make it crash.\r\n\r\n- You need to enable OpenGL&#39;s debug layer validation, especially while trying all these random functions. And related, you need to check your frame buffer setup (`glCheckFramebufferStatusEXT`), I&#39;m willing to bet money you didn&#39;t, but you don&#39;t show your code. \r\n\r\n- You don&#39;t show your frame buffer bindings, so I can&#39;t tell if you&#39;re doing this for sure or not, but you need to bind the frame buffer as &quot;read&quot; (`GL_READ_FRAMEBUFFER`) before reading from it. I only see a &quot;draw&quot; frame buffer binding, and you&#39;re only randomly clearing it. \r\n\r\n- And lastly, you should never stall the CPU on a read operation from video memory, especially when you have things you should be doing, like video encoding. Use pixel buffer objects in a round-robin fashion to double or triple buffer the transfer, so there&#39;s no stall. ","title":"How to render a LWJGL game scene to a ByteBuffer?","body":"<p>There's a bunch of problems in your code, and that's without even seeing the core of the problem yet, since it's in the <code>// ...</code> part:</p>\n<ul>\n<li><p>You don't use <code>glfwSwapBuffers</code> when you're trying to render in a headless setup, that's only needed when you render to the context back buffer and want to swap it to screen.</p>\n</li>\n<li><p>You don't want both <code>glGetTexImage</code> and <code>glReadPixels</code>, they both read data from graphics memory to system memory. In your case you're reading the texture data in <code>buffer</code> then overwriting it with the backbuffer data, which should be empty since you never wrote to it.</p>\n</li>\n<li><p>You definitely do not want <code>glBlitFramebuffer</code>, that's for copying from video memory to video memory. You seriously need to stop and read the documentation, throwing random functions at your video driver is a sure way to make it crash.</p>\n</li>\n<li><p>You need to enable OpenGL's debug layer validation, especially while trying all these random functions. And related, you need to check your frame buffer setup (<code>glCheckFramebufferStatusEXT</code>), I'm willing to bet money you didn't, but you don't show your code.</p>\n</li>\n<li><p>You don't show your frame buffer bindings, so I can't tell if you're doing this for sure or not, but you need to bind the frame buffer as &quot;read&quot; (<code>GL_READ_FRAMEBUFFER</code>) before reading from it. I only see a &quot;draw&quot; frame buffer binding, and you're only randomly clearing it.</p>\n</li>\n<li><p>And lastly, you should never stall the CPU on a read operation from video memory, especially when you have things you should be doing, like video encoding. Use pixel buffer objects in a round-robin fashion to double or triple buffer the transfer, so there's no stall.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634305062,"creation_date":1634305062,"answer_id":69585607,"question_id":69519479,"body_markdown":"The answer by @Blindy is 100% correct and you should accept it as an answer.\r\n\r\nHowever, if you want code for a _direct_ working solution, then insert the following after\r\n\r\n`glBlitFramebuffer(0, 0, width, height, 0, 0, width, height, GL_COLOR_BUFFER_BIT, GL_NEAREST);`\r\n\r\nbut _before_\r\n\r\n`glfwSwapBuffers(window);`\r\n\r\nThe code:\r\n```java\r\nByteBuffer bb = org.lwjgl.system.MemoryUtil.memAlloc(width * height * 4);\r\nglBindFramebuffer(GL_READ_FRAMEBUFFER, 0);\r\nglReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, bb);\r\n// Test with stb_image to write as jpeg:\r\n// org.lwjgl.stb.STBImageWrite.stbi_flip_vertically_on_write(true);\r\n// org.lwjgl.stb.STBImageWrite.stbi_write_jpg(&quot;frame.jpg&quot;, width, height, 4, bb, 50);\r\norg.lwjgl.system.MemoryUtil.memFree(bb);\r\n```\r\n\r\nThis will result in the ByteBuffer `bb` to hold the pixel data of the current frame.\r\n\r\nHowever, as also noted by @Blindy , this is a severe GPU stall, since you are forced to wait for the current frame&#39;s data to be fully rendered and force a GPU-&gt;CPU transfer into your ByteBuffer.\r\nAnd Nvidia&#39;s drivers will also yell this to you when you enable debug message outputs:\r\n\r\n`Pixel-path performance warning: Pixel transfer is synchronized with 3D rendering.`\r\n\r\nDepending on your _actual_ use-case, other approaches might be more useful, such as directly encoding a video from GPU memory (e.g. with NVENC).","title":"How to render a LWJGL game scene to a ByteBuffer?","body":"<p>The answer by @Blindy is 100% correct and you should accept it as an answer.</p>\n<p>However, if you want code for a <em>direct</em> working solution, then insert the following after</p>\n<p><code>glBlitFramebuffer(0, 0, width, height, 0, 0, width, height, GL_COLOR_BUFFER_BIT, GL_NEAREST);</code></p>\n<p>but <em>before</em></p>\n<p><code>glfwSwapBuffers(window);</code></p>\n<p>The code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ByteBuffer bb = org.lwjgl.system.MemoryUtil.memAlloc(width * height * 4);\nglBindFramebuffer(GL_READ_FRAMEBUFFER, 0);\nglReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, bb);\n// Test with stb_image to write as jpeg:\n// org.lwjgl.stb.STBImageWrite.stbi_flip_vertically_on_write(true);\n// org.lwjgl.stb.STBImageWrite.stbi_write_jpg(&quot;frame.jpg&quot;, width, height, 4, bb, 50);\norg.lwjgl.system.MemoryUtil.memFree(bb);\n</code></pre>\n<p>This will result in the ByteBuffer <code>bb</code> to hold the pixel data of the current frame.</p>\n<p>However, as also noted by @Blindy , this is a severe GPU stall, since you are forced to wait for the current frame's data to be fully rendered and force a GPU-&gt;CPU transfer into your ByteBuffer.\nAnd Nvidia's drivers will also yell this to you when you enable debug message outputs:</p>\n<p><code>Pixel-path performance warning: Pixel transfer is synchronized with 3D rendering.</code></p>\n<p>Depending on your <em>actual</em> use-case, other approaches might be more useful, such as directly encoding a video from GPU memory (e.g. with NVENC).</p>\n"}],"owner":{"account_id":14041706,"reputation":711,"user_id":10142946,"display_name":"Gabriel Robaina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69585607,"answer_count":2,"score":1,"last_activity_date":1634305062,"creation_date":1633905403,"question_id":69519479,"body_markdown":"I am currently working on a project that involves rendering LWJGL game scenes to a video stream instead of a window. I believe I can achieve that if I render a game scene to an intermediate format, such as a ByteBuffer. I am trying to extend LWJGL `VoxelGame` [demo](https://github.com/LWJGL/lwjgl3-demos/blob/main/src/org/lwjgl/demo/game/VoxelGameGL.java) as a proof of concept.\r\n\r\nI have found a [similar SO question](https://stackoverflow.com/questions/35118081/how-do-i-write-to-a-video-file-from-an-lwjgl-display) and a [forum post](http://forum.lwjgl.org/index.php?topic=5128.0) but I was not able to make that work. I am a beginner on OpenGL and LWJGL and I am struggling on finding comprehensible documentation on that.\r\n\r\nOn the start of the render loop (`runUpdateAndRenderLoop`) the function `glBindFramebuffer` is called. To my understanding it binds FBO to the current context so that any rendering will be directed to it.\r\n\r\nI have tried using `glGetTexImage` and `glReadPixels` to populate a ByteBuffer but it didnt work. I have also tried that after `glBlitFramebuffer` since I want to get the full rendered image to the ByteBuffer.\r\n\r\nHow can I render the current game scene to a ByteBuffer? Is there a better way of going about rendering game scenes to a video stream instead of an intermediate ByteBuffer?\r\n\r\n```java\r\nprivate void runAndUpdateRenderLoop() {\r\n    // ...\r\n    glBindFramebuffer(GL_DRAW_FRAMEBUFFER, 0);\r\n    glBlitFramebuffer(0, 0, width, height, 0, 0, width, height, GL_COLOR_BUFFER_BIT, GL_NEAREST);\r\n    byte[] pixels = new byte[width * height * 4];\r\n    ByteBuffer buffer = ByteBuffer.allocateDirect(pixels.length).order(ByteOrder.nativeOrder());\r\n    glGetTexImage(GL_TEXTURE_BUFFER, 0, GL_RGBA, GL_UNSIGNED_BYTE, buffer);\r\n    glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, buffer);\r\n    glfwSwapBuffers(window);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to render a LWJGL game scene to a ByteBuffer?","body":"<p>I am currently working on a project that involves rendering LWJGL game scenes to a video stream instead of a window. I believe I can achieve that if I render a game scene to an intermediate format, such as a ByteBuffer. I am trying to extend LWJGL <code>VoxelGame</code> <a href=\"https://github.com/LWJGL/lwjgl3-demos/blob/main/src/org/lwjgl/demo/game/VoxelGameGL.java\" rel=\"nofollow noreferrer\">demo</a> as a proof of concept.</p>\n<p>I have found a <a href=\"https://stackoverflow.com/questions/35118081/how-do-i-write-to-a-video-file-from-an-lwjgl-display\">similar SO question</a> and a <a href=\"http://forum.lwjgl.org/index.php?topic=5128.0\" rel=\"nofollow noreferrer\">forum post</a> but I was not able to make that work. I am a beginner on OpenGL and LWJGL and I am struggling on finding comprehensible documentation on that.</p>\n<p>On the start of the render loop (<code>runUpdateAndRenderLoop</code>) the function <code>glBindFramebuffer</code> is called. To my understanding it binds FBO to the current context so that any rendering will be directed to it.</p>\n<p>I have tried using <code>glGetTexImage</code> and <code>glReadPixels</code> to populate a ByteBuffer but it didnt work. I have also tried that after <code>glBlitFramebuffer</code> since I want to get the full rendered image to the ByteBuffer.</p>\n<p>How can I render the current game scene to a ByteBuffer? Is there a better way of going about rendering game scenes to a video stream instead of an intermediate ByteBuffer?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void runAndUpdateRenderLoop() {\n    // ...\n    glBindFramebuffer(GL_DRAW_FRAMEBUFFER, 0);\n    glBlitFramebuffer(0, 0, width, height, 0, 0, width, height, GL_COLOR_BUFFER_BIT, GL_NEAREST);\n    byte[] pixels = new byte[width * height * 4];\n    ByteBuffer buffer = ByteBuffer.allocateDirect(pixels.length).order(ByteOrder.nativeOrder());\n    glGetTexImage(GL_TEXTURE_BUFFER, 0, GL_RGBA, GL_UNSIGNED_BYTE, buffer);\n    glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, buffer);\n    glfwSwapBuffers(window);\n}\n</code></pre>\n"},{"tags":["java","insert","stringbuilder"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1634292355,"post_id":69582979,"comment_id":122990839,"body_markdown":"Your approach seems wrong. You should be iterating over the indexes of `sb` not `str`.  And when you insert or delete characters before the current position, remember to adjust the index to take account of that.   And as noted in the first answer, there are library methods for this kind of thing; e.g. `replace` and `replaceAll`.","body":"Your approach seems wrong. You should be iterating over the indexes of <code>sb</code> not <code>str</code>.  And when you insert or delete characters before the current position, remember to adjust the index to take account of that.   And as noted in the first answer, there are library methods for this kind of thing; e.g. <code>replace</code> and <code>replaceAll</code>."}],"answers":[{"tags":[],"owner":{"account_id":22270575,"reputation":931,"user_id":16500604,"display_name":"Jonas Weinhardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634292342,"creation_date":1634292342,"answer_id":69583081,"question_id":69582979,"body_markdown":"Simply replace every &quot;{&quot; by &quot; { &quot; like this:\r\n\r\n```\r\nString str = &quot;t{esting&quot;;\r\nString newStr = str.replace(&quot;{&quot;, &quot; { &quot;);\r\n```","title":"Java: How to add whitespace before and after certain chars in a string","body":"<p>Simply replace every &quot;{&quot; by &quot; { &quot; like this:</p>\n<pre><code>String str = &quot;t{esting&quot;;\nString newStr = str.replace(&quot;{&quot;, &quot; { &quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634304855,"creation_date":1634304855,"answer_id":69585567,"question_id":69582979,"body_markdown":"The following code implements the fixes suggested in Stephen C&#39;s comment\r\n```java\r\nString str = &quot;t{esting{&quot;;\r\n\r\nStringBuilder sb = new StringBuilder(str);\r\nfor (int i = 0; i &lt; sb.length(); i++) {  // use sb.length\r\n    if (sb.charAt(i) == &#39;{&#39;) {           // check the character in sb (not str)\r\n        sb.insert(i,  &#39; &#39;);\r\n        sb.insert(i + 2, &#39; &#39;);\r\n        i += 2; // jump over the shifted `{`\r\n    }\r\n}\r\nSystem.out.println(&quot;&#39;&quot; + sb.toString() + &quot;&#39;&quot;);\r\n```\r\nOutput:\r\n```\r\n&#39;t { esting { &#39;\r\n```\r\n\r\nHowever, `String::replace` or `String::replaceAll` methods are more suitable for such task.","title":"Java: How to add whitespace before and after certain chars in a string","body":"<p>The following code implements the fixes suggested in Stephen C's comment</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;t{esting{&quot;;\n\nStringBuilder sb = new StringBuilder(str);\nfor (int i = 0; i &lt; sb.length(); i++) {  // use sb.length\n    if (sb.charAt(i) == '{') {           // check the character in sb (not str)\n        sb.insert(i,  ' ');\n        sb.insert(i + 2, ' ');\n        i += 2; // jump over the shifted `{`\n    }\n}\nSystem.out.println(&quot;'&quot; + sb.toString() + &quot;'&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>'t { esting { '\n</code></pre>\n<p>However, <code>String::replace</code> or <code>String::replaceAll</code> methods are more suitable for such task.</p>\n"}],"owner":{"account_id":16697372,"reputation":1,"user_id":12068178,"display_name":"red1231"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634304855,"creation_date":1634291862,"question_id":69582979,"body_markdown":"I&#39;ve tried this to put white space between every &#39;{&#39;:\r\n\r\n    String str = &quot;t{esting&quot;;\r\n        StringBuilder sb = new StringBuilder(str);\r\n        int i;\r\n        for(i = 0; i&lt;str.length(); i++) {\r\n            if(str.charAt(i)==&#39;{&#39;){\r\n            sb.insert(i, &quot; &quot;);\r\n            sb.insert(i+2, &quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println(sb.toString());\r\n     }\r\n\r\n \r\n\r\nIt works fine for one &#39;{&#39;: \r\n\r\nt { esting \r\n\r\nbut if there are multiple &#39;{&#39; it does not work. for example: t{estin{g =\r\n\r\nt { est i n{g where I want t { estin { g.\r\n\r\n\r\nThank you for having a look.\r\n\r\n\r\n","title":"Java: How to add whitespace before and after certain chars in a string","body":"<p>I've tried this to put white space between every '{':</p>\n<pre><code>String str = &quot;t{esting&quot;;\n    StringBuilder sb = new StringBuilder(str);\n    int i;\n    for(i = 0; i&lt;str.length(); i++) {\n        if(str.charAt(i)=='{'){\n        sb.insert(i, &quot; &quot;);\n        sb.insert(i+2, &quot; &quot;);\n        }\n    }\n    System.out.println(sb.toString());\n }\n</code></pre>\n<p>It works fine for one '{':</p>\n<p>t { esting</p>\n<p>but if there are multiple '{' it does not work. for example: t{estin{g =</p>\n<p>t { est i n{g where I want t { estin { g.</p>\n<p>Thank you for having a look.</p>\n"},{"tags":["java","fonts","field","pdfbox","acrofields"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1514396829,"post_id":47995062,"comment_id":82960982,"body_markdown":"The CreateSimpleFormWithEmbeddedFont.java example shows how to use a specific font, i.e. the code can be used partly. Do you need this for any PDF or just for one specific field of a speific PDF? Can you share the PDF?","body":"The CreateSimpleFormWithEmbeddedFont.java example shows how to use a specific font, i.e. the code can be used partly. Do you need this for any PDF or just for one specific field of a speific PDF? Can you share the PDF?"},{"owner":{"account_id":11508720,"reputation":111,"user_id":8434214,"display_name":"Nenad Vichentikj"},"score":0,"creation_date":1514397471,"post_id":47995062,"comment_id":82961255,"body_markdown":"Sure. I`ll make the PDF public on my google.drive.\nhere is the link --&gt;\nhttps://drive.google.com/open?id=1eI1iRQnrxMA2kEVJPLH9FhQMx2_2kMHj","body":"Sure. I`ll make the PDF public on my google.drive. here is the link --&gt; <a href=\"https://drive.google.com/open?id=1eI1iRQnrxMA2kEVJPLH9FhQMx2_2kMHj\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1eI1iRQnrxMA2kEVJPLH9FhQMx2_2kMHj</a>"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1562925575,"creation_date":1514400051,"answer_id":47997118,"question_id":47995062,"body_markdown":"The code below adds an appropriate font in the acroform default resource dictionary, and replaces the name in the default appearances. PDFBox recreates the appearance stream of the fields using the new font when you call setValue().\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        PDDocument doc = PDDocument.load(new File(&quot;ZPe.pdf&quot;));\r\n        PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\n        PDResources dr = acroForm.getDefaultResources();\r\n        \r\n        // Important: the font is Type0 (allows more than 256 glyphs) and NOT SUBSETTED\r\n        PDFont font = PDType0Font.load(doc, new FileInputStream(&quot;c:/windows/fonts/arial.ttf&quot;), false);\r\n        \r\n        COSName fontName = dr.add(font);\r\n        Iterator&lt;PDField&gt; it = acroForm.getFieldIterator();\r\n        while (it.hasNext())\r\n        {\r\n            PDField field = it.next();\r\n            if (field instanceof PDTextField)\r\n            {\r\n                PDTextField textField = (PDTextField) field;\r\n                String da = textField.getDefaultAppearance();\r\n\r\n                // replace font name in default appearance string\r\n                Pattern pattern = Pattern.compile(&quot;\\\\/(\\\\w+)\\\\s.*&quot;);\r\n                Matcher matcher = pattern.matcher(da);\r\n                if (!matcher.find() || matcher.groupCount() &lt; 2)\r\n                {\r\n                    // oh-oh\r\n                }\r\n                String oldFontName = matcher.group(1);\r\n                da = da.replaceFirst(oldFontName, fontName.getName());\r\n\r\n                textField.setDefaultAppearance(da);\r\n            }\r\n        }\r\n        acroForm.getField(&quot;name1&quot;).setValue(&quot;&quot;);\r\n        doc.save(&quot;result.pdf&quot;);\r\n        doc.close();\r\n    }\r\n\r\nUpdate 4.4.2019: to save some space, it may be useful to remove the appearance before calling setValue:\r\n\r\n    acroForm.getField(&quot;name1&quot;).getWidgets().get(0).setAppearance(null);\r\n\r\nto check whether there are unused fonts in the AcroForm default resources, see [this answer][1].\r\n\r\nUpdate 7.4.2019: you may experience poor performance if the font is very large (e.g. ArialUni) and many fields are to be set ([PDFBOX-4508][2]). In that case, save and reload the file before calling `setValue`.\r\n\r\nTo find out whether a font supports an intended text, call `PDFont.encode()` and check for `IllegalArgumentException`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55490141/why-pdf-contain-one-field-only-is-around-500kb\r\n  [2]: https://issues.apache.org/jira/browse/PDFBOX-4508","title":"PDFBox API: How to change font to handle Cyrillic values in an AcroForm field","body":"<p>The code below adds an appropriate font in the acroform default resource dictionary, and replaces the name in the default appearances. PDFBox recreates the appearance stream of the fields using the new font when you call setValue().</p>\n\n<pre><code>public static void main(String[] args) throws IOException\n{\n    PDDocument doc = PDDocument.load(new File(\"ZPe.pdf\"));\n    PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\n    PDResources dr = acroForm.getDefaultResources();\n\n    // Important: the font is Type0 (allows more than 256 glyphs) and NOT SUBSETTED\n    PDFont font = PDType0Font.load(doc, new FileInputStream(\"c:/windows/fonts/arial.ttf\"), false);\n\n    COSName fontName = dr.add(font);\n    Iterator&lt;PDField&gt; it = acroForm.getFieldIterator();\n    while (it.hasNext())\n    {\n        PDField field = it.next();\n        if (field instanceof PDTextField)\n        {\n            PDTextField textField = (PDTextField) field;\n            String da = textField.getDefaultAppearance();\n\n            // replace font name in default appearance string\n            Pattern pattern = Pattern.compile(\"\\\\/(\\\\w+)\\\\s.*\");\n            Matcher matcher = pattern.matcher(da);\n            if (!matcher.find() || matcher.groupCount() &lt; 2)\n            {\n                // oh-oh\n            }\n            String oldFontName = matcher.group(1);\n            da = da.replaceFirst(oldFontName, fontName.getName());\n\n            textField.setDefaultAppearance(da);\n        }\n    }\n    acroForm.getField(\"name1\").setValue(\"\");\n    doc.save(\"result.pdf\");\n    doc.close();\n}\n</code></pre>\n\n<p>Update 4.4.2019: to save some space, it may be useful to remove the appearance before calling setValue:</p>\n\n<pre><code>acroForm.getField(\"name1\").getWidgets().get(0).setAppearance(null);\n</code></pre>\n\n<p>to check whether there are unused fonts in the AcroForm default resources, see <a href=\"https://stackoverflow.com/questions/55490141/why-pdf-contain-one-field-only-is-around-500kb\">this answer</a>.</p>\n\n<p>Update 7.4.2019: you may experience poor performance if the font is very large (e.g. ArialUni) and many fields are to be set (<a href=\"https://issues.apache.org/jira/browse/PDFBOX-4508\" rel=\"noreferrer\">PDFBOX-4508</a>). In that case, save and reload the file before calling <code>setValue</code>.</p>\n\n<p>To find out whether a font supports an intended text, call <code>PDFont.encode()</code> and check for <code>IllegalArgumentException</code>.</p>\n"}],"owner":{"account_id":11508720,"reputation":111,"user_id":8434214,"display_name":"Nenad Vichentikj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4335,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47997118,"answer_count":1,"score":5,"last_activity_date":1634304853,"creation_date":1514390206,"question_id":47995062,"body_markdown":"I need help with adding Cyrillic value to a field using the `PDFBox API`. Here is what I have so far:\r\n\r\n\r\n    PDDocument document = PDDocument.load(file);\r\n    PDDocumentCatalog dc = document.getDocumentCatalog();\r\n    PDAcroForm acroForm = dc.getAcroForm();\r\n    PDField naziv = acroForm.getField(&quot;naziv&quot;);\r\n    naziv.setValue(&quot;&quot;); // this part right here\r\n    naziv.setValue(&quot;Naslov&quot;); // it works like this\r\n\r\n\r\nIt works perfect when my input is in Latin Alphabet. But I need to handle Cyrillic inputs as well.\r\nHow can I do it?\r\n\r\np.s. this is the exception I get:\r\nCaused by: java.lang.IllegalArgumentException: U+043D (&#39;afii10079&#39;) is not available in this font Helvetica encoding: WinAnsiEncoding","title":"PDFBox API: How to change font to handle Cyrillic values in an AcroForm field","body":"<p>I need help with adding Cyrillic value to a field using the <code>PDFBox API</code>. Here is what I have so far:</p>\n\n<pre><code>PDDocument document = PDDocument.load(file);\nPDDocumentCatalog dc = document.getDocumentCatalog();\nPDAcroForm acroForm = dc.getAcroForm();\nPDField naziv = acroForm.getField(\"naziv\");\nnaziv.setValue(\"\"); // this part right here\nnaziv.setValue(\"Naslov\"); // it works like this\n</code></pre>\n\n<p>It works perfect when my input is in Latin Alphabet. But I need to handle Cyrillic inputs as well.\nHow can I do it?</p>\n\n<p>p.s. this is the exception I get:\nCaused by: java.lang.IllegalArgumentException: U+043D ('afii10079') is not available in this font Helvetica encoding: WinAnsiEncoding</p>\n"},{"tags":["java","android","video","android-intent","android-activity"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634304273,"creation_date":1634304273,"answer_id":69585429,"question_id":69585276,"body_markdown":"&gt; The problem is that, when the video is played the video player is closed and the user returns to the my app\r\n\r\nThat behavior will depend on the video player app. There are hundreds, if not thousands, of possible video player apps that might handle your `Intent`, based on pre-installed and user-installed video player apps.\r\n\r\n&gt; How can I force video player to not close and either play on repeat the video or just wait for user to press back so that he can do whatever he/she wants with the video player (pause, stop, replay etc)?\r\n\r\nThat is not possible. The behavior of a video player app is up to the developers of that app.\r\n\r\nIf you need that level of control over the user experience, implement your own video player, such as by integrating ExoPlayer.","title":"When starting a new Activity for video player, how to force android video player to not exit after the video is played","body":"<blockquote>\n<p>The problem is that, when the video is played the video player is closed and the user returns to the my app</p>\n</blockquote>\n<p>That behavior will depend on the video player app. There are hundreds, if not thousands, of possible video player apps that might handle your <code>Intent</code>, based on pre-installed and user-installed video player apps.</p>\n<blockquote>\n<p>How can I force video player to not close and either play on repeat the video or just wait for user to press back so that he can do whatever he/she wants with the video player (pause, stop, replay etc)?</p>\n</blockquote>\n<p>That is not possible. The behavior of a video player app is up to the developers of that app.</p>\n<p>If you need that level of control over the user experience, implement your own video player, such as by integrating ExoPlayer.</p>\n"}],"owner":{"account_id":19895112,"reputation":47,"user_id":14576370,"display_name":"RandomType"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69585429,"answer_count":1,"score":1,"last_activity_date":1634304667,"creation_date":1634303535,"question_id":69585276,"body_markdown":"I am using the following intent to play a video with the android default Video Player.\r\n\r\n            File file = new File(galleryList.get(getAbsoluteAdapterPosition()).getPath());\r\n            Intent i = new Intent(Intent.ACTION_VIEW);\r\n            if (GalleryMediaHelper.isVideoFile(galleryList.get(getAbsoluteAdapterPosition()).getPath())) {\r\n                i.setDataAndType(FileProvider.getUriForFile(context, AUTHORITY, file), &quot;video/*&quot;);\r\n            }\r\n            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\r\n            if (i.resolveActivity(context.getPackageManager()) != null)\r\n                context.startActivity(i);\r\n          \r\n\r\nSo far so good. The video player starts playing the video.\r\nThe problem is that, when the video is played the video player is closed and the user returns to the my app. -&gt; NOK\r\n\r\nHow can I force video player to not close and either play on repeat the video or just wait for user to press back to exit video player?\r\n","title":"When starting a new Activity for video player, how to force android video player to not exit after the video is played","body":"<p>I am using the following intent to play a video with the android default Video Player.</p>\n<pre><code>        File file = new File(galleryList.get(getAbsoluteAdapterPosition()).getPath());\n        Intent i = new Intent(Intent.ACTION_VIEW);\n        if (GalleryMediaHelper.isVideoFile(galleryList.get(getAbsoluteAdapterPosition()).getPath())) {\n            i.setDataAndType(FileProvider.getUriForFile(context, AUTHORITY, file), &quot;video/*&quot;);\n        }\n        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | FLAG_GRANT_READ_URI_PERMISSION | FLAG_GRANT_WRITE_URI_PERMISSION);\n        if (i.resolveActivity(context.getPackageManager()) != null)\n            context.startActivity(i);\n      \n</code></pre>\n<p>So far so good. The video player starts playing the video.\nThe problem is that, when the video is played the video player is closed and the user returns to the my app. -&gt; NOK</p>\n<p>How can I force video player to not close and either play on repeat the video or just wait for user to press back to exit video player?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1634303098,"post_id":69585114,"comment_id":122994640,"body_markdown":"Can you also post your `PostRepository` class?","body":"Can you also post your <code>PostRepository</code> class?"},{"owner":{"account_id":2364976,"reputation":15,"user_id":2070829,"display_name":"Karanja"},"score":0,"creation_date":1634303336,"post_id":69585114,"comment_id":122994721,"body_markdown":"Hi @pleft i have added","body":"Hi @pleft i have added"}],"answers":[{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634304644,"creation_date":1634303725,"answer_id":69585318,"question_id":69585114,"body_markdown":"In your `PostService` you are trying to save a `CreatePostRequest` in\r\n\r\n    CreatePostRequest createResponse = postRepository.save(createPostRequest);\r\n\r\nHowever your `PostRepository` knows about `Post` and not `CreatePostRequest`. You have to extract the `Post` object from `CreatePostRequest` and pass it to the save method of your repository. \r\n\r\nMoreover your method returns the same type of `CreatePostRequest` =&gt; `CreatePostRequest createResponse = ...` instead of `PostDetails`. \r\n\r\nBelow I changed the `createPost` method you just have to put the missing parts\r\n\r\n    @Override\r\n    public PostDetails createPost(@Valid CreatePostRequest createPostRequest) {\r\n\r\n        Post post = new Post();\r\n        post.setTitle(createPostRequest.getTitle());\r\n        post.setContent(createPostRequest.getContent());\r\n\r\n        Post savedPost = postRepository.save(post);\r\n\r\n        PostDetails postDetails = new PostDetails();\r\n        postDetails.setId(savedPost.getId());\r\n        postDetails.setTitle(savedPost.getTitle());\r\n        postDetails.setContent(savedPost.getContent());\r\n\r\n        return  postDetails;\r\n    }","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.data.assignment.domain.Post&#39;","body":"<p>In your <code>PostService</code> you are trying to save a <code>CreatePostRequest</code> in</p>\n<pre><code>CreatePostRequest createResponse = postRepository.save(createPostRequest);\n</code></pre>\n<p>However your <code>PostRepository</code> knows about <code>Post</code> and not <code>CreatePostRequest</code>. You have to extract the <code>Post</code> object from <code>CreatePostRequest</code> and pass it to the save method of your repository.</p>\n<p>Moreover your method returns the same type of <code>CreatePostRequest</code> =&gt; <code>CreatePostRequest createResponse = ...</code> instead of <code>PostDetails</code>.</p>\n<p>Below I changed the <code>createPost</code> method you just have to put the missing parts</p>\n<pre><code>@Override\npublic PostDetails createPost(@Valid CreatePostRequest createPostRequest) {\n\n    Post post = new Post();\n    post.setTitle(createPostRequest.getTitle());\n    post.setContent(createPostRequest.getContent());\n\n    Post savedPost = postRepository.save(post);\n\n    PostDetails postDetails = new PostDetails();\n    postDetails.setId(savedPost.getId());\n    postDetails.setTitle(savedPost.getTitle());\n    postDetails.setContent(savedPost.getContent());\n\n    return  postDetails;\n}\n</code></pre>\n"}],"owner":{"account_id":2364976,"reputation":15,"user_id":2070829,"display_name":"Karanja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69585318,"answer_count":1,"score":1,"last_activity_date":1634304644,"creation_date":1634302746,"question_id":69585114,"body_markdown":"I am trying to do a simple data insert to H2 database, but I end up getting the error\r\n\r\n&gt;     Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.carepay.assignment.domain.Post&#39;\r\n\r\nMy controller\r\n\r\n      @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        PostDetails createPost(@Valid @RequestBody CreatePostRequest createPostRequest) {\r\n            return postService.createPost(createPostRequest);\r\n        }\r\nMy service\r\n\r\n    public interface PostService {\r\n    \r\n        PostDetails createPost(@Valid CreatePostRequest createPostRequest);\r\n    \r\n        Page&lt;PostInfo&gt;getPosts(final Pageable pageable);\r\n    \r\n        PostDetails getPostDetails(Long id);\r\n    \r\n        void deletePost(Long id);\r\n    }\r\n\r\nMy Implementation\r\n\r\nthis is where am getting the error\r\n\r\n    @Service\r\n    public class PostServiceImpl implements PostService {\r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        @Override\r\n        public PostDetails createPost(@Valid CreatePostRequest createPostRequest) {\r\n    \r\n            CreatePostRequest createResponse = postRepository.save(createPostRequest);\r\n    \r\n            return  createResponse;\r\n        }\r\n\r\nmy repository\r\n\r\n    @Repository\r\n    public interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n    }\r\n\r\nmy domain classes\r\n\r\nMy createPostRequest class\r\n\r\n    public class CreatePostRequest {\r\n        private String title;\r\n        private String content;\r\n    }\r\n\r\nMy PostDetails class\r\n\r\n    public class PostDetails extends PostInfo {\r\n        private String content;\r\n    }\r\nMy PostInfo class\r\n\r\n    public class PostInfo {\r\n        private Long id;\r\n        private String title;\r\n    }\r\nand my Post model\r\n\r\n    @Entity\r\n    public class Post {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String title;\r\n        private String content;\r\n    }\r\n\r\nHow can I get the API to post data to the database. I have researched no luck. Thank you in adavance\r\n","title":"Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;com.data.assignment.domain.Post&#39;","body":"<p>I am trying to do a simple data insert to H2 database, but I end up getting the error</p>\n<blockquote>\n<pre><code>Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'com.carepay.assignment.domain.Post'\n</code></pre>\n</blockquote>\n<p>My controller</p>\n<pre><code>  @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    PostDetails createPost(@Valid @RequestBody CreatePostRequest createPostRequest) {\n        return postService.createPost(createPostRequest);\n    }\n</code></pre>\n<p>My service</p>\n<pre><code>public interface PostService {\n\n    PostDetails createPost(@Valid CreatePostRequest createPostRequest);\n\n    Page&lt;PostInfo&gt;getPosts(final Pageable pageable);\n\n    PostDetails getPostDetails(Long id);\n\n    void deletePost(Long id);\n}\n</code></pre>\n<p>My Implementation</p>\n<p>this is where am getting the error</p>\n<pre><code>@Service\npublic class PostServiceImpl implements PostService {\n    @Autowired\n    private PostRepository postRepository;\n\n    @Override\n    public PostDetails createPost(@Valid CreatePostRequest createPostRequest) {\n\n        CreatePostRequest createResponse = postRepository.save(createPostRequest);\n\n        return  createResponse;\n    }\n</code></pre>\n<p>my repository</p>\n<pre><code>@Repository\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n}\n</code></pre>\n<p>my domain classes</p>\n<p>My createPostRequest class</p>\n<pre><code>public class CreatePostRequest {\n    private String title;\n    private String content;\n}\n</code></pre>\n<p>My PostDetails class</p>\n<pre><code>public class PostDetails extends PostInfo {\n    private String content;\n}\n</code></pre>\n<p>My PostInfo class</p>\n<pre><code>public class PostInfo {\n    private Long id;\n    private String title;\n}\n</code></pre>\n<p>and my Post model</p>\n<pre><code>@Entity\npublic class Post {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String title;\n    private String content;\n}\n</code></pre>\n<p>How can I get the API to post data to the database. I have researched no luck. Thank you in adavance</p>\n"},{"tags":["java","spring","rest","curl"],"comments":[{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":1,"creation_date":1634300621,"post_id":69581484,"comment_id":122993700,"body_markdown":"what does -VV show?","body":"what does -VV show?"},{"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"score":0,"creation_date":1634301777,"post_id":69581484,"comment_id":122994153,"body_markdown":"@codebrane thanks for the hint, I did not know the existence of this curl option. Pleas see the edited post above.","body":"@codebrane thanks for the hint, I did not know the existence of this curl option. Pleas see the edited post above."},{"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"score":0,"creation_date":1634304173,"post_id":69581484,"comment_id":122994997,"body_markdown":"curl is sending Content-Type: text/csv does your endpoint support that content-type?","body":"curl is sending Content-Type: text/csv does your endpoint support that content-type?"},{"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"score":0,"creation_date":1634304446,"post_id":69581484,"comment_id":122995097,"body_markdown":"@codebrane It should, at least I added consumes = &quot;text/csv&quot; to the mapping annotation.","body":"@codebrane It should, at least I added consumes = &quot;text/csv&quot; to the mapping annotation."}],"answers":[{"tags":[],"owner":{"account_id":328715,"reputation":4400,"user_id":651827,"accept_rate":38,"display_name":"codebrane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634304409,"creation_date":1634304409,"answer_id":69585459,"question_id":69581484,"body_markdown":"I think this should work as it needs to be:\r\nContent-Type: multipart/form-data according to the code.\r\n\r\n    #!/bin/bash\r\n    curl -vv -F upload=@/c/Users/Schilling/Desktop/Test.csv &quot;http://localhost:8791/api/public/v1/inboxes/csv&quot;\r\n\r\n","title":"How to post a CSV file to a spring rest endpoint using curl","body":"<p>I think this should work as it needs to be:\nContent-Type: multipart/form-data according to the code.</p>\n<pre><code>#!/bin/bash\ncurl -vv -F upload=@/c/Users/Schilling/Desktop/Test.csv &quot;http://localhost:8791/api/public/v1/inboxes/csv&quot;\n</code></pre>\n"}],"owner":{"account_id":13139235,"reputation":79,"user_id":9491307,"display_name":"L. Schilling"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69585459,"answer_count":1,"score":0,"last_activity_date":1634304409,"creation_date":1634284247,"question_id":69581484,"body_markdown":"I&#39;m trying to create a rest endpoint with java spring that accepts a csv file.\r\n\r\nMy Controller looks like this:\r\n\r\nInterface:\r\n\r\n    package my.company.my.project.trms.controller;\r\n    \r\n    import my.company.my.project.trms.controller.common.ControllerUrls.INBOX.CSV;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    @RestController\r\n    @RequestMapping(CSV.BASE)\r\n    public interface CsvController {\r\n    \r\n      @PostMapping(produces = &quot;text/csv&quot;, consumes = &quot;text/csv&quot;)\r\n      public ResponseEntity create(@RequestBody MultipartFile file);\r\n    }\r\n\r\n*CSV.BASE is a static final String holding my endpoint url\r\n\r\nImplementation:\r\n\r\n    package my.company.my.project.trms.controller;\r\n    \r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    public class CsvControllerImpl implements CsvController {\r\n    \r\n      @Override\r\n      public ResponseEntity create(MultipartFile file) {\r\n        String message = &quot;&quot;;\r\n        return ResponseEntity.status(HttpStatus.OK).body(message);\r\n      }\r\n    }\r\n\r\nI want to test this endpoint with the folowing sh script executet on a windows pc using git bash:\r\n\r\n    #!/bin/bash\r\n    curl -X POST &quot;http://localhost:8791/api/public/v1/inboxes/csv&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: text/csv&quot; --data-binary @/c/Users/Schilling/Desktop/Test.csv\r\n\r\nWhen I execute the script my controller Method is called. However, setting a breakpoint shows me that the parameter &quot;file&quot; is always null.\r\n\r\nI suspect there is something worng with the syntax of the file Path in the curl script, therefore I tried several things including absolute and relative paths.\r\nOf cause the error could also originate from my controller class.\r\n\r\nEDIT:\r\n\r\nAdding the -vv option to the curl call resulted in this output:\r\n\r\n    Note: Unnecessary use of -X or --request, POST is already inferred.\r\n    * Uses proxy env variable no_proxy == &#39;192.168.99.100&#39;\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n      0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 127.0.0.1:8791...\r\n    * TCP_NODELAY set\r\n    * Connected to localhost (127.0.0.1) port 8791 (#0)\r\n    &gt; POST /api/public/v1/inboxes/csv HTTP/1.1\r\n    &gt; Host: localhost:8791\r\n    &gt; User-Agent: curl/7.65.3\r\n    &gt; accept: */*\r\n    &gt; Content-Type: text/csv\r\n    &gt; Content-Length: 2036\r\n    &gt; Expect: 100-continue\r\n    &gt;\r\n    * Mark bundle as not supporting multiuse\r\n    &lt; HTTP/1.1 100\r\n    } [2036 bytes data]\r\n    * We are completely uploaded and fine\r\n    100  2036    0     0  100  2036      0    221  0:00:09  0:00:09 --:--:--     0* Mark bundle as not supporting multiuse\r\n    &lt; HTTP/1.1 200\r\n    &lt; X-Content-Type-Options: nosniff\r\n    &lt; X-XSS-Protection: 1; mode=block\r\n    &lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    &lt; Pragma: no-cache\r\n    &lt; Expires: 0\r\n    &lt; X-Frame-Options: SAMEORIGIN\r\n    &lt; Content-Type: text/csv;charset=UTF-8\r\n    &lt; Content-Length: 0\r\n    &lt; Date: Fri, 15 Oct 2021 12:37:43 GMT\r\n    &lt;\r\n    100  2036    0     0  100  2036      0    203  0:00:10  0:00:09  0:00:01     0\r\n    * Connection #0 to host localhost left intact","title":"How to post a CSV file to a spring rest endpoint using curl","body":"<p>I'm trying to create a rest endpoint with java spring that accepts a csv file.</p>\n<p>My Controller looks like this:</p>\n<p>Interface:</p>\n<pre><code>package my.company.my.project.trms.controller;\n\nimport my.company.my.project.trms.controller.common.ControllerUrls.INBOX.CSV;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@RestController\n@RequestMapping(CSV.BASE)\npublic interface CsvController {\n\n  @PostMapping(produces = &quot;text/csv&quot;, consumes = &quot;text/csv&quot;)\n  public ResponseEntity create(@RequestBody MultipartFile file);\n}\n</code></pre>\n<p>*CSV.BASE is a static final String holding my endpoint url</p>\n<p>Implementation:</p>\n<pre><code>package my.company.my.project.trms.controller;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\n\n@Slf4j\n@RequiredArgsConstructor\n@RestController\npublic class CsvControllerImpl implements CsvController {\n\n  @Override\n  public ResponseEntity create(MultipartFile file) {\n    String message = &quot;&quot;;\n    return ResponseEntity.status(HttpStatus.OK).body(message);\n  }\n}\n</code></pre>\n<p>I want to test this endpoint with the folowing sh script executet on a windows pc using git bash:</p>\n<pre><code>#!/bin/bash\ncurl -X POST &quot;http://localhost:8791/api/public/v1/inboxes/csv&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: text/csv&quot; --data-binary @/c/Users/Schilling/Desktop/Test.csv\n</code></pre>\n<p>When I execute the script my controller Method is called. However, setting a breakpoint shows me that the parameter &quot;file&quot; is always null.</p>\n<p>I suspect there is something worng with the syntax of the file Path in the curl script, therefore I tried several things including absolute and relative paths.\nOf cause the error could also originate from my controller class.</p>\n<p>EDIT:</p>\n<p>Adding the -vv option to the curl call resulted in this output:</p>\n<pre><code>Note: Unnecessary use of -X or --request, POST is already inferred.\n* Uses proxy env variable no_proxy == '192.168.99.100'\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0*   Trying 127.0.0.1:8791...\n* TCP_NODELAY set\n* Connected to localhost (127.0.0.1) port 8791 (#0)\n&gt; POST /api/public/v1/inboxes/csv HTTP/1.1\n&gt; Host: localhost:8791\n&gt; User-Agent: curl/7.65.3\n&gt; accept: */*\n&gt; Content-Type: text/csv\n&gt; Content-Length: 2036\n&gt; Expect: 100-continue\n&gt;\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 100\n} [2036 bytes data]\n* We are completely uploaded and fine\n100  2036    0     0  100  2036      0    221  0:00:09  0:00:09 --:--:--     0* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 200\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Frame-Options: SAMEORIGIN\n&lt; Content-Type: text/csv;charset=UTF-8\n&lt; Content-Length: 0\n&lt; Date: Fri, 15 Oct 2021 12:37:43 GMT\n&lt;\n100  2036    0     0  100  2036      0    203  0:00:10  0:00:09  0:00:01     0\n* Connection #0 to host localhost left intact\n</code></pre>\n"},{"tags":["java","xpath"],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634304063,"creation_date":1634304063,"answer_id":69585389,"question_id":69584887,"body_markdown":"It&#39;s possible to query all attributes in a single xpath expression and iterate over them as\r\n\r\n\t\ttry {\r\n\t\t\tFileInputStream fileIS;\r\n\t\t\tfileIS = new FileInputStream(System.getProperty(&quot;user.home&quot;) + &quot;/tmp/tmp.xml&quot;);\r\n\r\n\t\t\tDocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\r\n\t\t\tDocumentBuilder builder;\r\n\t\t\tbuilder = builderFactory.newDocumentBuilder();\r\n\r\n\t\t\tDocument xmlDocument;\r\n\t\t\txmlDocument = builder.parse(fileIS);\r\n\r\n\t\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\t\tString expression01 = &quot;//Attribute/@ID&quot;;\r\n\t\t\tString expression02 = &quot;//Attribute/AttributeGroupLink/@AttributeGroupID&quot;;\r\n\t\t\tString expression = String.format(&quot;%s | %s&quot;, expression01, expression02);\r\n\t\t\tNodeList nodeList =(NodeList) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODESET);\r\n\t\t\tfor (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n\t\t        Node currentNode = nodeList.item(i);\r\n\t\t        if (currentNode.getNodeType() == Node.ATTRIBUTE_NODE) {\r\n\t\t            System.out.println(currentNode.getNodeName() + &quot;: &quot; + currentNode.getTextContent());\r\n\t\t        }\r\n\t\t    }\r\n\t\t} catch (SAXException | IOException | ParserConfigurationException | XPathExpressionException e3) {\r\n\t\t\te3.printStackTrace();\r\n\t\t}\r\n\r\nResult:\r\n\r\n    ID: pdm_atr_alu_index\r\n    AttributeGroupID: pdm_agr_export_sapcommerce\r\n    AttributeGroupID: pdm_agr_import\r\n    AttributeGroupID: pdm_agr_general_information","title":"How to use XPATH expression to optimize the number of for loops?","body":"<p>It's possible to query all attributes in a single xpath expression and iterate over them as</p>\n<pre><code>    try {\n        FileInputStream fileIS;\n        fileIS = new FileInputStream(System.getProperty(&quot;user.home&quot;) + &quot;/tmp/tmp.xml&quot;);\n\n        DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\n        DocumentBuilder builder;\n        builder = builderFactory.newDocumentBuilder();\n\n        Document xmlDocument;\n        xmlDocument = builder.parse(fileIS);\n\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        String expression01 = &quot;//Attribute/@ID&quot;;\n        String expression02 = &quot;//Attribute/AttributeGroupLink/@AttributeGroupID&quot;;\n        String expression = String.format(&quot;%s | %s&quot;, expression01, expression02);\n        NodeList nodeList =(NodeList) xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODESET);\n        for (int i = 0; i &lt; nodeList.getLength(); i++) {\n            Node currentNode = nodeList.item(i);\n            if (currentNode.getNodeType() == Node.ATTRIBUTE_NODE) {\n                System.out.println(currentNode.getNodeName() + &quot;: &quot; + currentNode.getTextContent());\n            }\n        }\n    } catch (SAXException | IOException | ParserConfigurationException | XPathExpressionException e3) {\n        e3.printStackTrace();\n    }\n</code></pre>\n<p>Result:</p>\n<pre><code>ID: pdm_atr_alu_index\nAttributeGroupID: pdm_agr_export_sapcommerce\nAttributeGroupID: pdm_agr_import\nAttributeGroupID: pdm_agr_general_information\n</code></pre>\n"}],"owner":{"account_id":21850991,"reputation":11,"user_id":16143070,"display_name":"Raghu Palakodety"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634304063,"creation_date":1634301606,"question_id":69584887,"body_markdown":"Hi I have an XML file which contains the following \r\n```&lt;AttributeList&gt;\r\n\r\n    &lt;Attribute ID=&quot;pdm_atr_alu_index&quot; MultiValued=&quot;false&quot; ProductMode=&quot;Normal&quot; FullTextIndexed=&quot;false&quot; ExternallyMaintained=&quot;true&quot; Derived=&quot;false&quot; Mandatory=&quot;false&quot;&gt;\r\n      &lt;Name QualifierID=&quot;std.lang.all&quot;&gt;aluminium index&lt;/Name&gt;\r\n      &lt;Validation BaseType=&quot;text&quot; MinValue=&quot;&quot; MaxValue=&quot;&quot; MaxLength=&quot;100&quot; InputMask=&quot;&quot;/&gt;\r\n      &lt;DimensionLink DimensionID=&quot;Country&quot;/&gt;\r\n      &lt;MetaData&gt;\r\n        &lt;Value AttributeID=&quot;DisplaySequence&quot;&gt;92&lt;/Value&gt;\r\n        &lt;ValueGroup AttributeID=&quot;SapCommerceExport&quot;&gt;\r\n          &lt;Value ID=&quot;Y&quot; LOVQualifierID=&quot;en-UK&quot;&gt;Yes&lt;/Value&gt;\r\n          &lt;Value ID=&quot;Y&quot; LOVQualifierID=&quot;std.lang.all&quot;&gt;Yes&lt;/Value&gt;\r\n        &lt;/ValueGroup&gt;\r\n        &lt;Value ID=&quot;automatically&quot; AttributeID=&quot;TechnicalDataTableUpdate&quot;&gt;automatically&lt;/Value&gt;\r\n        &lt;ValueGroup AttributeID=&quot;pdm_atr_top5_yes_display_name&quot;&gt;\r\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-ru&quot;&gt;aluminium index&lt;/Value&gt;\r\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-en&quot;&gt;aluminium index&lt;/Value&gt;\r\n        &lt;/ValueGroup&gt;\r\n        &lt;ValueGroup AttributeID=&quot;pdm_atr_web_display_name_calc&quot;&gt;\r\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-en&quot;&gt;aluminium index&lt;/Value&gt;\r\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-ru&quot;&gt;aluminium index&lt;/Value&gt;\r\n        &lt;/ValueGroup&gt;\r\n      &lt;/MetaData&gt;\r\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_export_sapcommerce&quot;/&gt;\r\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_import&quot;/&gt;\r\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_general_information&quot;/&gt;\r\n      &lt;UserTypeLink UserTypeID=&quot;pdm_obj_sellable_article&quot;/&gt;\r\n    &lt;/Attribute&gt;\r\n.....\r\n```\r\nI am trying to extract the ID from Attribute tag and value of AttributeGroupID from AttributeGroupLink tag as follows\r\n\r\n```\r\nXPathExpression xpAttribute =\r\n          xpath.compile(&quot;//STEP-ProductInformation/AttributeList/Attribute&quot;);\r\n      XPathExpression xpAttributeGroupLink = xpath.compile(&quot;AttributeGroupLink&quot;);\r\n      int l = 0;\r\n\r\n      NodeList attributes = (NodeList) xpAttribute.evaluate(doc, XPathConstants.NODESET);\r\n\r\n      for (int i = 0; i &lt; attributes.getLength(); i++) {\r\n\r\n        Element attribute = (Element) attributes.item(i);\r\n        NodeList values =\r\n            (NodeList) xpAttributeGroupLink.evaluate(attribute, XPathConstants.NODESET);\r\n        for (int j = 0; j &lt; values.getLength(); j++) {\r\n          NamedNodeMap attr = values.item(j).getAttributes();\r\n          String attributeGroupID = attr.item(0).getNodeValue();\r\n          System.out.println(attributeGroupID);\r\n          if (hashMap.containsKey(attributeGroupID)) {\r\n            HashSet&lt;String&gt; attributeIDExisting = hashMap.get(attributeGroupID);\r\n            attributeIDExisting.add(attribute.getAttribute(&quot;ID&quot;));\r\n\r\n```\r\nIs there a possibility to extract the Attribute IDs as groups and use a single for loop to acheive the same?","title":"How to use XPATH expression to optimize the number of for loops?","body":"<p>Hi I have an XML file which contains the following</p>\n<pre><code>\n    &lt;Attribute ID=&quot;pdm_atr_alu_index&quot; MultiValued=&quot;false&quot; ProductMode=&quot;Normal&quot; FullTextIndexed=&quot;false&quot; ExternallyMaintained=&quot;true&quot; Derived=&quot;false&quot; Mandatory=&quot;false&quot;&gt;\n      &lt;Name QualifierID=&quot;std.lang.all&quot;&gt;aluminium index&lt;/Name&gt;\n      &lt;Validation BaseType=&quot;text&quot; MinValue=&quot;&quot; MaxValue=&quot;&quot; MaxLength=&quot;100&quot; InputMask=&quot;&quot;/&gt;\n      &lt;DimensionLink DimensionID=&quot;Country&quot;/&gt;\n      &lt;MetaData&gt;\n        &lt;Value AttributeID=&quot;DisplaySequence&quot;&gt;92&lt;/Value&gt;\n        &lt;ValueGroup AttributeID=&quot;SapCommerceExport&quot;&gt;\n          &lt;Value ID=&quot;Y&quot; LOVQualifierID=&quot;en-UK&quot;&gt;Yes&lt;/Value&gt;\n          &lt;Value ID=&quot;Y&quot; LOVQualifierID=&quot;std.lang.all&quot;&gt;Yes&lt;/Value&gt;\n        &lt;/ValueGroup&gt;\n        &lt;Value ID=&quot;automatically&quot; AttributeID=&quot;TechnicalDataTableUpdate&quot;&gt;automatically&lt;/Value&gt;\n        &lt;ValueGroup AttributeID=&quot;pdm_atr_top5_yes_display_name&quot;&gt;\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-ru&quot;&gt;aluminium index&lt;/Value&gt;\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-en&quot;&gt;aluminium index&lt;/Value&gt;\n        &lt;/ValueGroup&gt;\n        &lt;ValueGroup AttributeID=&quot;pdm_atr_web_display_name_calc&quot;&gt;\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-en&quot;&gt;aluminium index&lt;/Value&gt;\n          &lt;Value Derived=&quot;true&quot; DerivedContextID=&quot;con_RU-ru&quot;&gt;aluminium index&lt;/Value&gt;\n        &lt;/ValueGroup&gt;\n      &lt;/MetaData&gt;\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_export_sapcommerce&quot;/&gt;\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_import&quot;/&gt;\n      &lt;AttributeGroupLink AttributeGroupID=&quot;pdm_agr_general_information&quot;/&gt;\n      &lt;UserTypeLink UserTypeID=&quot;pdm_obj_sellable_article&quot;/&gt;\n    &lt;/Attribute&gt;\n.....\n</code></pre>\n<p>I am trying to extract the ID from Attribute tag and value of AttributeGroupID from AttributeGroupLink tag as follows</p>\n<pre><code>XPathExpression xpAttribute =\n          xpath.compile(&quot;//STEP-ProductInformation/AttributeList/Attribute&quot;);\n      XPathExpression xpAttributeGroupLink = xpath.compile(&quot;AttributeGroupLink&quot;);\n      int l = 0;\n\n      NodeList attributes = (NodeList) xpAttribute.evaluate(doc, XPathConstants.NODESET);\n\n      for (int i = 0; i &lt; attributes.getLength(); i++) {\n\n        Element attribute = (Element) attributes.item(i);\n        NodeList values =\n            (NodeList) xpAttributeGroupLink.evaluate(attribute, XPathConstants.NODESET);\n        for (int j = 0; j &lt; values.getLength(); j++) {\n          NamedNodeMap attr = values.item(j).getAttributes();\n          String attributeGroupID = attr.item(0).getNodeValue();\n          System.out.println(attributeGroupID);\n          if (hashMap.containsKey(attributeGroupID)) {\n            HashSet&lt;String&gt; attributeIDExisting = hashMap.get(attributeGroupID);\n            attributeIDExisting.add(attribute.getAttribute(&quot;ID&quot;));\n\n</code></pre>\n<p>Is there a possibility to extract the Attribute IDs as groups and use a single for loop to acheive the same?</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":7955034,"reputation":2789,"user_id":6004650,"accept_rate":80,"display_name":"MikeJRamsey56"},"score":0,"creation_date":1456940088,"post_id":35690093,"comment_id":59181690,"body_markdown":"Is this a duplicate of http://stackoverflow.com/questions/22714327/how-to-suppress-cucumber-junit-assertion-stack-trace\n?","body":"Is this a duplicate of <a href=\"http://stackoverflow.com/questions/22714327/how-to-suppress-cucumber-junit-assertion-stack-trace\" title=\"how to suppress cucumber junit assertion stack trace\">stackoverflow.com/questions/22714327/&hellip;</a> ?"},{"owner":{"account_id":13919235,"reputation":113,"user_id":10050131,"display_name":"Pramod Kajla"},"score":0,"creation_date":1611658772,"post_id":35690093,"comment_id":116516018,"body_markdown":"Does this answer your question? [How to suppress Cucumber/Junit assertion stack trace](https://stackoverflow.com/questions/22714327/how-to-suppress-cucumber-junit-assertion-stack-trace)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22714327/how-to-suppress-cucumber-junit-assertion-stack-trace\">How to suppress Cucumber/Junit assertion stack trace</a>"}],"answers":[{"tags":[],"owner":{"account_id":11307943,"reputation":527,"user_id":8291902,"display_name":"nosequeweaponer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634303734,"creation_date":1528813408,"answer_id":50819529,"question_id":35690093,"body_markdown":"In your cucumber options you have `... format = {&quot;pretty&quot;, ...` Change format option to &quot;plugin&quot; like this:\r\n\r\n    @CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        plugin = {&quot;pretty&quot;, &quot;html:target/site/cucumber-pretty&quot;,\r\n                &quot;json:target/cucumber.json&quot;}\r\n    )","title":"Suppress Java Exception Stacktrace in cucumber Reports","body":"<p>In your cucumber options you have <code>... format = {&quot;pretty&quot;, ...</code> Change format option to &quot;plugin&quot; like this:</p>\n<pre><code>@CucumberOptions(\n    features = &quot;src/test/resources/features&quot;,\n    plugin = {&quot;pretty&quot;, &quot;html:target/site/cucumber-pretty&quot;,\n            &quot;json:target/cucumber.json&quot;}\n)\n</code></pre>\n"}],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634303734,"creation_date":1456705392,"question_id":35690093,"body_markdown":"I am using cucumber-jvm for my Selenium Webdriver scripts and the cucumber reports output format is set to html format\r\n\r\n    @CucumberOptions(\r\n        features = &quot;src/test/resources/features&quot;,\r\n        format = {&quot;pretty&quot;, &quot;html:target/site/cucumber-pretty&quot;,\r\n                &quot;json:target/cucumber.json&quot;}\r\n    )\r\n\r\nWhen any test fails, the full stacktrace is displaying on the HTML report file as shown below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bTkJA.jpg\r\n\r\nI want to suppress this full stacktrace and replace it with my own message. I have tried this in the below way but didn&#39;t helped.\r\n\r\n     try\r\n        {\r\n            WebDriverWait wait = new WebDriverWait(driver, 20);\r\n            wait.until(ExpectedConditions.visibilityOf(element));\r\n        }\r\n        catch (Throwable throwable)\r\n        {\r\n            throwable.getMessage();\r\n        }\r\n\r\nIs there anyway to get rid of this?","title":"Suppress Java Exception Stacktrace in cucumber Reports","body":"<p>I am using cucumber-jvm for my Selenium Webdriver scripts and the cucumber reports output format is set to html format</p>\n\n<pre><code>@CucumberOptions(\n    features = \"src/test/resources/features\",\n    format = {\"pretty\", \"html:target/site/cucumber-pretty\",\n            \"json:target/cucumber.json\"}\n)\n</code></pre>\n\n<p>When any test fails, the full stacktrace is displaying on the HTML report file as shown below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/bTkJA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bTkJA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I want to suppress this full stacktrace and replace it with my own message. I have tried this in the below way but didn't helped.</p>\n\n<pre><code> try\n    {\n        WebDriverWait wait = new WebDriverWait(driver, 20);\n        wait.until(ExpectedConditions.visibilityOf(element));\n    }\n    catch (Throwable throwable)\n    {\n        throwable.getMessage();\n    }\n</code></pre>\n\n<p>Is there anyway to get rid of this?</p>\n"},{"tags":["java","android","kotlin","tornadofx"],"owner":{"account_id":18382811,"reputation":51,"user_id":13390551,"display_name":"MrSpeedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634303559,"creation_date":1634303559,"question_id":69585280,"body_markdown":"I&#39;m making a simple application where you can add and delete Materials and printers. I&#39;m using a TornadoFX UI with Kotlin and I have all the objects stored in a JSON file that&#39;s read in and converted to an observable list (printerData) that&#39;s displayed in the combobox. My issue is that when I add a new object the combo box is not updated until I restart the application.\r\n\r\n ```        \r\nvar selectedPrinter = model.bind { SimpleObjectProperty&lt;PrinterModel&gt;() }\r\nvar selectedMaterial = model.bind { SimpleObjectProperty&lt;MaterialModel&gt;() }\r\n\r\nval printers = PrinterJSONStore()\r\nvar printerData = printers.findAllObservable().observable()\r\n\r\nval materials = MaterialJSONStore()\r\nvar materialData = materials.findAllObservable().observable()\r\n     \r\noverride val root = form {\r\n        setPrefSize(400.0, 600.0)\r\n        fieldset(labelPosition = Orientation.VERTICAL) {\r\n\r\ntext(&quot;&quot;)\r\n     combobox(selectedMaterial,materialData) {\r\n         makeAutocompletable()\r\n     }\r\n\r\ntext(&quot;&quot;)\r\n     combobox(selectedPrinter, printerData)\r\n\r\n}\r\n}\r\n\r\n```","title":"How to Update TornadoFX ComboBox - Kotlin","body":"<p>I'm making a simple application where you can add and delete Materials and printers. I'm using a TornadoFX UI with Kotlin and I have all the objects stored in a JSON file that's read in and converted to an observable list (printerData) that's displayed in the combobox. My issue is that when I add a new object the combo box is not updated until I restart the application.</p>\n<pre><code>var selectedPrinter = model.bind { SimpleObjectProperty&lt;PrinterModel&gt;() }\nvar selectedMaterial = model.bind { SimpleObjectProperty&lt;MaterialModel&gt;() }\n\nval printers = PrinterJSONStore()\nvar printerData = printers.findAllObservable().observable()\n\nval materials = MaterialJSONStore()\nvar materialData = materials.findAllObservable().observable()\n    \noverride val root = form {\n       setPrefSize(400.0, 600.0)\n       fieldset(labelPosition = Orientation.VERTICAL) {\n\ntext(&quot;&quot;)\n    combobox(selectedMaterial,materialData) {\n        makeAutocompletable()\n    }\n\ntext(&quot;&quot;)\n    combobox(selectedPrinter, printerData)\n\n}\n}\n\n</code></pre>\n"},{"tags":["java","arrays","input","space"],"answers":[{"tags":[],"owner":{"account_id":177580,"reputation":985,"user_id":409007,"display_name":"Abstract"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624555027,"creation_date":1624555027,"answer_id":68120153,"question_id":68120094,"body_markdown":"The args variable is space-delimited. When you pass arguments into main from the command line, each space will indicate a different argument. E.g. `C:\\program.exe stuff1 stuff2` will treat `stuff1` and `stuff2` as two separate array elements. ","title":"how to separate input in String array? Space? (beginner)","body":"<p>The args variable is space-delimited. When you pass arguments into main from the command line, each space will indicate a different argument. E.g. <code>C:\\program.exe stuff1 stuff2</code> will treat <code>stuff1</code> and <code>stuff2</code> as two separate array elements.</p>\n"},{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624555169,"creation_date":1624555169,"answer_id":68120179,"question_id":68120094,"body_markdown":"It&#39;s actually the calling program (usually the shell) that splits the arguments.\r\n\r\nFor example, in a bash shell, you can call the program like this and get `one two` in one line, since it is one argument for your program:\r\n\r\n    java -jar YourProgram.jar &quot;one two&quot; ","title":"how to separate input in String array? Space? (beginner)","body":"<p>It's actually the calling program (usually the shell) that splits the arguments.</p>\n<p>For example, in a bash shell, you can call the program like this and get <code>one two</code> in one line, since it is one argument for your program:</p>\n<pre><code>java -jar YourProgram.jar &quot;one two&quot; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15115738,"reputation":194,"user_id":10908201,"display_name":"DL33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624555270,"creation_date":1624555270,"answer_id":68120195,"question_id":68120094,"body_markdown":"You&#39;re talking about program arguments. These are intended to specify some options at program launch, and they are always split by the space symbol.\r\n\r\nIf you want to have user input in your program, check out `Scanner` - it is the simplest way. It provides you with methods like `nextInt()` to read a number, or `nextWord()` to read a word (separated by spaces), or `nextLine()` to read a line without separating by spaces.","title":"how to separate input in String array? Space? (beginner)","body":"<p>You're talking about program arguments. These are intended to specify some options at program launch, and they are always split by the space symbol.</p>\n<p>If you want to have user input in your program, check out <code>Scanner</code> - it is the simplest way. It provides you with methods like <code>nextInt()</code> to read a number, or <code>nextWord()</code> to read a word (separated by spaces), or <code>nextLine()</code> to read a line without separating by spaces.</p>\n"},{"tags":[],"owner":{"account_id":20139595,"reputation":299,"user_id":14769766,"display_name":"Debi Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624555566,"creation_date":1624555566,"answer_id":68120262,"question_id":68120094,"body_markdown":"In Java `args` contains supplied command-line arguments as an array of `String ` objects. &lt;br&gt;\r\nif you run your program as *`one two`* then args will contain **`[&quot;one&quot;, &quot;two&quot;]`**.\r\n&lt;br&gt; So What you are basically doing is traversing through the String array printing each of its elements.&lt;br&gt;This is the reason you are getting `&quot;one&quot;, &quot;two&quot;` instead of `&quot;one two&quot;`\r\n```\r\nfor(int i=0;i&lt;args.length;i++)\r\n{\r\n     System.out.println(args[i]);\r\n}\r\n```\r\nThe Above is the equivalent code of what you have done in your one.","title":"how to separate input in String array? Space? (beginner)","body":"<p>In Java <code>args</code> contains supplied command-line arguments as an array of <code>String </code> objects. <br>\nif you run your program as <em><code>one two</code></em> then args will contain <strong><code>[&quot;one&quot;, &quot;two&quot;]</code></strong>.\n<br> So What you are basically doing is traversing through the String array printing each of its elements.<br>This is the reason you are getting <code>&quot;one&quot;, &quot;two&quot;</code> instead of <code>&quot;one two&quot;</code></p>\n<pre><code>for(int i=0;i&lt;args.length;i++)\n{\n     System.out.println(args[i]);\n}\n</code></pre>\n<p>The Above is the equivalent code of what you have done in your one.</p>\n"},{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634275875,"creation_date":1634275875,"answer_id":69580352,"question_id":68120094,"body_markdown":"You can easily read input from Console using `BufferedReader`.\r\n\r\n**Code :** \r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    String input1 = br.readLine();","title":"how to separate input in String array? Space? (beginner)","body":"<p>You can easily read input from Console using <code>BufferedReader</code>.</p>\n<p><strong>Code :</strong></p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\nString input1 = br.readLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13575841,"reputation":92,"user_id":9793231,"display_name":"eunelyky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634303275,"creation_date":1634280048,"answer_id":69580804,"question_id":68120094,"body_markdown":"The space character is what separates the elements in the args array, which by the way, can be given any valid variable name. See https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\r\n\r\nIf you want your program to print one two in one line, pass both words as one string and run your program like this:\r\n\r\n`java -jar yourJarFile.jar &quot;one two&quot;`\r\n \r\n\r\nYou can also look at this answer https://stackoverflow.com/questions/890966/what-is-string-args-parameter-in-main-method-java\r\n\r\n","title":"how to separate input in String array? Space? (beginner)","body":"<p>The space character is what separates the elements in the args array, which by the way, can be given any valid variable name. See <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/environment/cmdLineArgs.html</a></p>\n<p>If you want your program to print one two in one line, pass both words as one string and run your program like this:</p>\n<p><code>java -jar yourJarFile.jar &quot;one two&quot;</code></p>\n<p>You can also look at this answer <a href=\"https://stackoverflow.com/questions/890966/what-is-string-args-parameter-in-main-method-java\">What is &quot;String args[]&quot;? parameter in main method Java</a></p>\n"}],"owner":{"account_id":22043299,"reputation":1,"user_id":16308756,"display_name":"Sage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1634303275,"creation_date":1624554747,"question_id":68120094,"body_markdown":"Below is the code.\r\n\r\n\r\n\t\r\n    public static void main(String[] args) {\r\n    \tfor(String e : args) {\r\n    \t\tSystem.out.println(e);\r\n    \t}\r\n    }\r\n\r\nwhen I input `one`, the output is `one` I understand this.\r\n\r\nBut, When input `one two` the output is not `one two`\r\n but `one` and `two`. \r\n\r\nIsn&#39;t the space a character? if not, is the space separate each inputs in a String array?\r\n","title":"how to separate input in String array? Space? (beginner)","body":"<p>Below is the code.</p>\n<pre><code>public static void main(String[] args) {\n    for(String e : args) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n<p>when I input <code>one</code>, the output is <code>one</code> I understand this.</p>\n<p>But, When input <code>one two</code> the output is not <code>one two</code>\nbut <code>one</code> and <code>two</code>.</p>\n<p>Isn't the space a character? if not, is the space separate each inputs in a String array?</p>\n"},{"tags":["java","amazon-dynamodb","aws-sdk","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":1184909,"reputation":91,"user_id":7889940,"display_name":"Renato Costa"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1634303000,"creation_date":1634301804,"answer_id":69584925,"question_id":69126688,"body_markdown":"The Key Builder used by the `QueryConditionals` can take both a `partitionKey` and `sortKey` value to build its expression. So when you build your `QueryConditional.sortBetween` object, you can define the matching `partitionKey` there:\r\n\r\n    var partitionKeyValue = &quot;myIdValue&quot;\r\n    var sortKeyConditional = QueryConditional.sortBetween(Key.builder()\r\n      .partitionValue(partitionKeyValue)\r\n      .sortValue(0)\r\n      .build(), Key.builder()\r\n      .partitionValue(partitionKeyValue)\r\n      .sortValue(100)\r\n      .build());","title":"With DynamoDb enhanced client from java aws sdk, how do you query using a compound keyConditionExpression?","body":"<p>The Key Builder used by the <code>QueryConditionals</code> can take both a <code>partitionKey</code> and <code>sortKey</code> value to build its expression. So when you build your <code>QueryConditional.sortBetween</code> object, you can define the matching <code>partitionKey</code> there:</p>\n<pre><code>var partitionKeyValue = &quot;myIdValue&quot;\nvar sortKeyConditional = QueryConditional.sortBetween(Key.builder()\n  .partitionValue(partitionKeyValue)\n  .sortValue(0)\n  .build(), Key.builder()\n  .partitionValue(partitionKeyValue)\n  .sortValue(100)\n  .build());\n</code></pre>\n"}],"owner":{"account_id":22707613,"reputation":61,"user_id":16874037,"display_name":"Brett Richards"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1634303000,"creation_date":1631242558,"question_id":69126688,"body_markdown":"I have a DynamoDb table with a GSI over two keys - string field &#39;id&#39; (partition key) and number field &#39;count&#39; (sort key).\r\n\r\nI&#39;m trying to work out how to run a query (not scan) via a Spring Java application using the DynamoDbEnhancedClient in the SDK on this table for the key condition expression:\r\n\r\n    #id = :idValue and #count between :minCount and :maxCount\r\n\r\nI can build two separate QueryConditional objects for each part of this compound expression, for example:\r\n\r\n    var partitionKeyConditional = QueryConditional.keyEqualTo(Key.builder()\r\n          .partitionValue(&quot;myIdValue&quot;)\r\n          .build());\r\n    var sortKeyConditional = QueryConditional.sortBetween(Key.builder()\r\n          .sortValue(0)\r\n          .build(), Key.builder()\r\n          .sortValue(100)\r\n          .build());\r\n\r\nBut I don&#39;t know how to combine these in the actual query request:\r\n\r\n    dynamoDbEnhancedClient.table(myTableName, TableSchema.fromBean(TableObject.class)) \r\n       .query(QueryEnhancedRequest.builder()\r\n            .queryConditional(SomeJoinFunction??(partitionKeyConditional, sortKeyConditional))\r\n            .build())\r\n       .items();\r\n\r\nI can see I could use a filterExpression, but I assume this would occur after the key conditions have been applied in the query to select results, so the advantage of the sort key definition is essentially lost. It most closely resembles the functionality that I want however:\r\n\r\n        var expressionAttributeNames = new HashMap&lt;String, String&gt;() {{\r\n            put(&quot;#id&quot;, ID_PROPERTY_NAME);\r\n            put(&quot;#count&quot;, COUNT_PROPERTY_NAME);\r\n        }};\r\n        var expressionAttributeValues = new HashMap&lt;String, AttributeValue&gt;() {{\r\n            put(&quot;:idValue&quot;, AttributeValue.builder().s(&quot;myId&quot;).build());\r\n            put(&quot;:minCount&quot;, AttributeValue.builder().n(&quot;0&quot;).build());\r\n            put(&quot;:maxCount&quot;, AttributeValue.builder().n(&quot;100&quot;).build());\r\n        }};\r\n\r\n        var queryExpression = Expression.builder()\r\n                .expressionNames(expressionAttributeNames)\r\n                .expressionValues(expressionAttributeValues)\r\n                .expression(&quot;#id = :idValue and #count between :minCount and :maxCount&quot;)\r\n                .build();\r\n\r\nI am probably missing something obvious, any suggestions?","title":"With DynamoDb enhanced client from java aws sdk, how do you query using a compound keyConditionExpression?","body":"<p>I have a DynamoDb table with a GSI over two keys - string field 'id' (partition key) and number field 'count' (sort key).</p>\n<p>I'm trying to work out how to run a query (not scan) via a Spring Java application using the DynamoDbEnhancedClient in the SDK on this table for the key condition expression:</p>\n<pre><code>#id = :idValue and #count between :minCount and :maxCount\n</code></pre>\n<p>I can build two separate QueryConditional objects for each part of this compound expression, for example:</p>\n<pre><code>var partitionKeyConditional = QueryConditional.keyEqualTo(Key.builder()\n      .partitionValue(&quot;myIdValue&quot;)\n      .build());\nvar sortKeyConditional = QueryConditional.sortBetween(Key.builder()\n      .sortValue(0)\n      .build(), Key.builder()\n      .sortValue(100)\n      .build());\n</code></pre>\n<p>But I don't know how to combine these in the actual query request:</p>\n<pre><code>dynamoDbEnhancedClient.table(myTableName, TableSchema.fromBean(TableObject.class)) \n   .query(QueryEnhancedRequest.builder()\n        .queryConditional(SomeJoinFunction??(partitionKeyConditional, sortKeyConditional))\n        .build())\n   .items();\n</code></pre>\n<p>I can see I could use a filterExpression, but I assume this would occur after the key conditions have been applied in the query to select results, so the advantage of the sort key definition is essentially lost. It most closely resembles the functionality that I want however:</p>\n<pre><code>    var expressionAttributeNames = new HashMap&lt;String, String&gt;() {{\n        put(&quot;#id&quot;, ID_PROPERTY_NAME);\n        put(&quot;#count&quot;, COUNT_PROPERTY_NAME);\n    }};\n    var expressionAttributeValues = new HashMap&lt;String, AttributeValue&gt;() {{\n        put(&quot;:idValue&quot;, AttributeValue.builder().s(&quot;myId&quot;).build());\n        put(&quot;:minCount&quot;, AttributeValue.builder().n(&quot;0&quot;).build());\n        put(&quot;:maxCount&quot;, AttributeValue.builder().n(&quot;100&quot;).build());\n    }};\n\n    var queryExpression = Expression.builder()\n            .expressionNames(expressionAttributeNames)\n            .expressionValues(expressionAttributeValues)\n            .expression(&quot;#id = :idValue and #count between :minCount and :maxCount&quot;)\n            .build();\n</code></pre>\n<p>I am probably missing something obvious, any suggestions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1634302613,"post_id":69585068,"comment_id":122994434,"body_markdown":"`public static boolean hasSoultions()` this shouldn&#39;t be `static`, should it?","body":"<code>public static boolean hasSoultions()</code> this shouldn&#39;t be <code>static</code>, should it?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1634302647,"post_id":69585068,"comment_id":122994444,"body_markdown":"and you&#39;re nesting methods within constructors which is not allowed in Java.","body":"and you&#39;re nesting methods within constructors which is not allowed in Java."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1634302706,"post_id":69585068,"comment_id":122994476,"body_markdown":"Look at the first error message.  Go to the line number is specifies in the file it specifies.  On that line, what *specifically* are you doing?  It looks like you&#39;re trying to define a method inside of a constructor.  Why?  What is the goal of doing that?","body":"Look at the first error message.  Go to the line number is specifies in the file it specifies.  On that line, what <i>specifically</i> are you doing?  It looks like you&#39;re trying to define a method inside of a constructor.  Why?  What is the goal of doing that?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1634303007,"post_id":69585068,"comment_id":122994590,"body_markdown":"More importantly, you should never see multiple errors like this, and that you do suggests that your style of coding perhaps needs to be fixed. Don&#39;t type a large amount of code and then test it. Instead, if you can&#39;t use a modern IDE such as NetBeans or Eclipse (which warns you of compilation issues almost immediately), then it is up to you to compile your code **early and often** and most importantly **to not add any new code until current compilation issues are fixed**. Else you&#39;ll end up with a rat&#39;s nest of hard-to-fix errors. Never try to add good code to bad.","body":"More importantly, you should never see multiple errors like this, and that you do suggests that your style of coding perhaps needs to be fixed. Don&#39;t type a large amount of code and then test it. Instead, if you can&#39;t use a modern IDE such as NetBeans or Eclipse (which warns you of compilation issues almost immediately), then it is up to you to compile your code <b>early and often</b> and most importantly <b>to not add any new code until current compilation issues are fixed</b>. Else you&#39;ll end up with a rat&#39;s nest of hard-to-fix errors. Never try to add good code to bad."}],"owner":{"account_id":23041615,"reputation":1,"user_id":17159723,"display_name":"Joshua Tanner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634302721,"answer_count":0,"score":0,"last_activity_date":1634302950,"creation_date":1634302492,"question_id":69585068,"body_markdown":"When running this code on Quadratic solving I get these errors. (I am a student learning Java and stumped)\r\n\r\n    public class Quadratic\r\n    {\r\n    public static double a;\r\n    public static double b;\r\n    public static double c;\r\n    public double bb;\r\n    public double ac;\r\n    public double negativeb;\r\n    public double bbac;\r\n    {\r\n    a = 1;\r\n    b = 1;\r\n    c = 1;\r\n    }\r\n    public Quadratic() {\r\n        \r\n    public Quadratic(int A, int B, int C) {\r\n      a = A;\r\n      b = B;\r\n      c = C;\r\n        }\r\n    public static boolean hasSoultions() {  \r\n      if ( b*2 &gt; 4*a*c) {\r\n        return false;\r\n    }\r\n      else {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    public double getSoultion1() { \r\n      double sqrt = Math.sqrt((b*b)-(4*a*c));\r\n      return (-b + sqrt)/(2*a);\r\n    }\r\n    public double getSolution2(){\r\n      double sqrt = Math.sqrt((b*b)-(4*a*c));\r\n      return (-b - sqrt)/(2*a);\r\n    }\r\n    }\r\n    //--------------------//\r\nThis is the runner\r\n    //--------------------//\r\n    \r\n        public class QuadraticRunner\r\n    {\r\n      \r\n      public static void main( String args [])\r\n      {\r\n        \r\n        Quadratic test1 = new Quadratic (1, 5, 6);\r\n        Quadratic test2 = new Quadratic (1, -4, 4);\r\n        Quadratic test3 = new Quadratic (1, 0, 3);\r\n        \r\n        String equation1 = test1.toString();\r\n            System.out.println(equation1);\r\n        boolean hasSolution1 = test1.hasSolutions();\r\n        double solution1 = test1.getSolution1();\r\n        double solution1b = test1.getSolution2();\r\n        String equation2 = test2.toString();\r\n        boolean hasSolution2 = test2.hasSolutions();\r\n        double solution2 = test2.getSolution1();\r\n        double solution2b = test2.getSolution2();\r\n        String equation3 = test3.toString();\r\n        boolean hasSolution3 = test3.hasSolutions();\r\n        double solution3 = test3.getSolution1();\r\n        double solution3b = test3.getSolution2();\r\n        \r\n        \r\n        System.out.println(equation1);\r\n        System.out.println(&quot;Has real solutions: &quot; + hasSolution1);\r\n        System.out.println(&quot;Solution 1: &quot; + solution1);\r\n        System.out.println(&quot;Solution 2: &quot; + solution1b);\r\n        System.out.println(&quot;Expected solutions: -2.0, -3.0&quot;);\r\n        System.out.println();\r\n        System.out.println(equation2);\r\n        System.out.println(&quot;Has real solutions: &quot; + hasSolution2);\r\n        System.out.println(&quot;Solution 1: &quot; + solution2);\r\n        System.out.println(&quot;Solution 2: &quot; + solution2b);\r\n        System.out.println(&quot;Expected solution: 2.0&quot;);\r\n        System.out.println();\r\n        System.out.println(equation3);\r\n        System.out.println(&quot;Has real solutions: &quot; + hasSolution3);\r\n        System.out.println(&quot;Solution 1: &quot; + solution3);\r\n        System.out.println(&quot;Solution 2: &quot; + solution3b);\r\n        System.out.println(&quot;Expected solution: NaN&quot;);\r\n      }\r\n    }\r\n    //----------------//\r\n   \r\nHere are the errors\r\n\r\n    //----------------//\r\n    \r\n        26 errors found:\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\r\n        Error: Syntax error on token(s), misplaced construct(s)\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\r\n        Error: Syntax error on token &quot;int&quot;, delete this token\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\r\n        Error: Syntax error on token &quot;int&quot;, delete this token\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\r\n        Error: Syntax error on token &quot;int&quot;, delete this token\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\r\n        Error: Syntax error, insert &quot;;&quot; to complete BlockStatements\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\r\n        Error: Syntax error on token &quot;boolean&quot;, @ expected\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\r\n        Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\r\n        Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\r\n        Error: Syntax error on token &quot;double&quot;, @ expected\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\r\n        Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\r\n        Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\r\n        Error: Syntax error on token &quot;double&quot;, @ expected\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\r\n        Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\r\n        File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\r\n        Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 7]\r\n        Error: The constructor Quadratic(int, int, int) is undefined\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 8]\r\n        Error: The constructor Quadratic(int, int, int) is undefined\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 9]\r\n        Error: The constructor Quadratic(int, int, int) is undefined\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 13]\r\n        Error: The method hasSolutions() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 14]\r\n        Error: The method getSolution1() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 15]\r\n        Error: The method getSolution2() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 17]\r\n        Error: The method hasSolutions() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 18]\r\n        Error: The method getSolution1() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 19]\r\n        Error: The method getSolution2() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 21]\r\n        Error: The method hasSolutions() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 22]\r\n        Error: The method getSolution1() is undefined for the type Quadratic\r\n        File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 23]\r\n        Error: The method getSolution2() is undefined for the type Quadratic","title":"When running this code on Quadratic solving I get these errors. (I am a student learning Java and stumped)","body":"<p>When running this code on Quadratic solving I get these errors. (I am a student learning Java and stumped)</p>\n<pre><code>public class Quadratic\n{\npublic static double a;\npublic static double b;\npublic static double c;\npublic double bb;\npublic double ac;\npublic double negativeb;\npublic double bbac;\n{\na = 1;\nb = 1;\nc = 1;\n}\npublic Quadratic() {\n    \npublic Quadratic(int A, int B, int C) {\n  a = A;\n  b = B;\n  c = C;\n    }\npublic static boolean hasSoultions() {  \n  if ( b*2 &gt; 4*a*c) {\n    return false;\n}\n  else {\n    return true;\n  }\n}\n\npublic double getSoultion1() { \n  double sqrt = Math.sqrt((b*b)-(4*a*c));\n  return (-b + sqrt)/(2*a);\n}\npublic double getSolution2(){\n  double sqrt = Math.sqrt((b*b)-(4*a*c));\n  return (-b - sqrt)/(2*a);\n}\n}\n//--------------------//\n</code></pre>\n<p>This is the runner\n//--------------------//</p>\n<pre><code>    public class QuadraticRunner\n{\n  \n  public static void main( String args [])\n  {\n    \n    Quadratic test1 = new Quadratic (1, 5, 6);\n    Quadratic test2 = new Quadratic (1, -4, 4);\n    Quadratic test3 = new Quadratic (1, 0, 3);\n    \n    String equation1 = test1.toString();\n        System.out.println(equation1);\n    boolean hasSolution1 = test1.hasSolutions();\n    double solution1 = test1.getSolution1();\n    double solution1b = test1.getSolution2();\n    String equation2 = test2.toString();\n    boolean hasSolution2 = test2.hasSolutions();\n    double solution2 = test2.getSolution1();\n    double solution2b = test2.getSolution2();\n    String equation3 = test3.toString();\n    boolean hasSolution3 = test3.hasSolutions();\n    double solution3 = test3.getSolution1();\n    double solution3b = test3.getSolution2();\n    \n    \n    System.out.println(equation1);\n    System.out.println(&quot;Has real solutions: &quot; + hasSolution1);\n    System.out.println(&quot;Solution 1: &quot; + solution1);\n    System.out.println(&quot;Solution 2: &quot; + solution1b);\n    System.out.println(&quot;Expected solutions: -2.0, -3.0&quot;);\n    System.out.println();\n    System.out.println(equation2);\n    System.out.println(&quot;Has real solutions: &quot; + hasSolution2);\n    System.out.println(&quot;Solution 1: &quot; + solution2);\n    System.out.println(&quot;Solution 2: &quot; + solution2b);\n    System.out.println(&quot;Expected solution: 2.0&quot;);\n    System.out.println();\n    System.out.println(equation3);\n    System.out.println(&quot;Has real solutions: &quot; + hasSolution3);\n    System.out.println(&quot;Solution 1: &quot; + solution3);\n    System.out.println(&quot;Solution 2: &quot; + solution3b);\n    System.out.println(&quot;Expected solution: NaN&quot;);\n  }\n}\n//----------------//\n</code></pre>\n<p>Here are the errors</p>\n<pre><code>//----------------//\n\n    26 errors found:\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\n    Error: Syntax error on token(s), misplaced construct(s)\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\n    Error: Syntax error on token &quot;int&quot;, delete this token\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\n    Error: Syntax error on token &quot;int&quot;, delete this token\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\n    Error: Syntax error on token &quot;int&quot;, delete this token\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 17]\n    Error: Syntax error, insert &quot;;&quot; to complete BlockStatements\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\n    Error: Syntax error on token &quot;boolean&quot;, @ expected\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\n    Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 22]\n    Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\n    Error: Syntax error on token &quot;double&quot;, @ expected\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\n    Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 31]\n    Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\n    Error: Syntax error on token &quot;double&quot;, @ expected\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\n    Error: Syntax error, insert &quot;enum Identifier&quot; to complete EnumHeaderName\n    File: C:\\Users\\jtann\\Documents\\School\\2 Second Period\\DrJava\\Quadratic.java  [line: 35]\n    Error: Syntax error, insert &quot;EnumBody&quot; to complete BlockStatement\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 7]\n    Error: The constructor Quadratic(int, int, int) is undefined\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 8]\n    Error: The constructor Quadratic(int, int, int) is undefined\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 9]\n    Error: The constructor Quadratic(int, int, int) is undefined\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 13]\n    Error: The method hasSolutions() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 14]\n    Error: The method getSolution1() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 15]\n    Error: The method getSolution2() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 17]\n    Error: The method hasSolutions() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 18]\n    Error: The method getSolution1() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 19]\n    Error: The method getSolution2() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 21]\n    Error: The method hasSolutions() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 22]\n    Error: The method getSolution1() is undefined for the type Quadratic\n    File: C:\\Users\\jtann\\Downloads\\QuadraticRunner.java  [line: 23]\n    Error: The method getSolution2() is undefined for the type Quadratic\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634299415,"post_id":69584403,"comment_id":122993292,"body_markdown":"you can do this but note that only Kotlin code can use suspension etc.","body":"you can do this but note that only Kotlin code can use suspension etc."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1634301056,"post_id":69584403,"comment_id":122993877,"body_markdown":"@dan1st I updated my post. Success work with suspend function.","body":"@dan1st I updated my post. Success work with suspend function."},{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":1,"creation_date":1634302428,"post_id":69584403,"comment_id":122994373,"body_markdown":"The only download side would be people being confused by kotlin.  But, IMO, the learning curve for kotlin is so low, and the upside of coroutines is so high I think it is  a great solution.","body":"The only download side would be people being confused by kotlin.  But, IMO, the learning curve for kotlin is so low, and the upside of coroutines is so high I think it is  a great solution."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1634302516,"post_id":69584403,"comment_id":122994405,"body_markdown":"@eimmer No problem to learn Kotlin when you know Java :-)","body":"@eimmer No problem to learn Kotlin when you know Java :-)"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1634303127,"post_id":69584403,"comment_id":122994648,"body_markdown":"If all you need is &quot;lightweight threads&quot; , why not use Executor and save yourself the complexity?","body":"If all you need is &quot;lightweight threads&quot; , why not use Executor and save yourself the complexity?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1634303231,"post_id":69584403,"comment_id":122994682,"body_markdown":"@Tenfour04 Because coroutines are lightweight threads. And I create it as many as I want , without OutofMemoryException","body":"@Tenfour04 Because coroutines are lightweight threads. And I create it as many as I want , without OutofMemoryException"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":4,"creation_date":1634303370,"post_id":69584403,"comment_id":122994733,"body_markdown":"All you&#39;re doing here is calling Kotlin functions that run coroutines in the Kotlin world. I&#39;m not sure what that proves. If you need to define your functionality in Java, you are no closer to a solution here. The Executor API is much easier to use in Java than Kotlin coroutines in Java. And it also has the equivalent of &quot;lightweight threads&quot; which are really just Runnables being submitted to thread pools. Very similar to what Kotlin coroutines do under the hood.","body":"All you&#39;re doing here is calling Kotlin functions that run coroutines in the Kotlin world. I&#39;m not sure what that proves. If you need to define your functionality in Java, you are no closer to a solution here. The Executor API is much easier to use in Java than Kotlin coroutines in Java. And it also has the equivalent of &quot;lightweight threads&quot; which are really just Runnables being submitted to thread pools. Very similar to what Kotlin coroutines do under the hood."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":2,"creation_date":1634304347,"post_id":69584403,"comment_id":122995053,"body_markdown":"As pointed out by others, you can invoke coroutines from Java, no problem. What you can&#39;t do is to suspend inside the Java code. So if you have any operation that is suspendable, then you can make it runnable from Java, but you can&#39;t implement it in Java.","body":"As pointed out by others, you can invoke coroutines from Java, no problem. What you can&#39;t do is to suspend inside the Java code. So if you have any operation that is suspendable, then you can make it runnable from Java, but you can&#39;t implement it in Java."}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634302894,"creation_date":1634299251,"question_id":69584403,"body_markdown":"    Linux Mint 20\r\n    Java 11\r\n\r\nIn Java project I need lightweight threads. The coroutines is good candidates for this.\r\nBut in Java not exist coroutines. \r\nBut what about use Kotlin corouines in Java project?\r\n\r\nSmt like this:\r\n\r\nIn build.gradle:\r\n\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib&quot;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:1.5.2&#39;\r\n\r\nThen create Kotlin class that use Kotlin coroutines:\r\n\r\n \r\n\r\n      \r\n    import kotlinx.coroutines.delay\r\n    import kotlinx.coroutines.launch\r\n    import kotlinx.coroutines.runBlocking\r\n    \r\n    class CoroutineKotlin {\r\n    \r\n        fun runCoroutine() = runBlocking { // this: CoroutineScope\r\n            launch { // launch a new coroutine and continue\r\n                delay(3000L) // non-blocking delay for 3 seconds (default time unit is ms)\r\n                println(&quot;Kotlin: From Kotlin coroutines!&quot;) // print after delay\r\n            }\r\n            println(&quot;Kotlin: Hello&quot;) // main coroutine continues while a previous one is delayed\r\n        }\r\n    \r\n        fun runCoroutinesWithSuspend() = runBlocking { // this: CoroutineScope\r\n            launch { doWorld() }\r\n            println(&quot;Hello&quot;)\r\n        }\r\n    \r\n        suspend fun doWorld() {\r\n            delay(1000L)\r\n            println(&quot;From Kotlin coroutines (suspend)!&quot;)\r\n        }\r\n    \r\n        //Coroutines ARE light-weigh\r\n        fun runManyCoroutines() = runBlocking {\r\n            repeat(10_000) { // launch a lot of coroutines\r\n                launch {\r\n                    delay(5000L)\r\n                    print(&quot;.&quot;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen is Java class call Kotlin methods:\r\n\r\n \r\n\r\n       import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import java.time.LocalDateTime;\r\n    \r\n    public class App {\r\n        private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n        public static void main(String[] args) {\r\n   \r\n            System.out.println(&quot;Java: Call Kotlin code from Java code, currentDate = &quot; + LocalDateTime.now());\r\n            CoroutineKotlin coroutineKotlin = new CoroutineKotlin();\r\n    \r\n            System.out.println(&quot;Java: Before call runCoroutine, currentDate = &quot; + LocalDateTime.now());\r\n            coroutineKotlin.runCoroutine();\r\n            // call only after finish &quot;runCoroutine()&quot;\r\n            System.out.println(&quot;Java: After call runCoroutine, currentDate = &quot; + LocalDateTime.now());\r\n    \r\n            System.out.println(&quot;\\nJava: Before call runCoroutinesWithSuspend, currentDate = &quot; + LocalDateTime.now());\r\n            coroutineKotlin.runCoroutinesWithSuspend();\r\n            // call only after finish &quot;runCoroutinesWithSuspend()&quot;\r\n            System.out.println(&quot;Java: After call runCoroutinesWithSuspend, currentDate = &quot; + LocalDateTime.now());\r\n    \r\n            System.out.println(&quot;\\nJava: Before call runManyCoroutines, currentDate = &quot; + LocalDateTime.now());\r\n            coroutineKotlin.runManyCoroutines();\r\n            // call only after finish &quot;runManyCoroutines()&quot;\r\n            System.out.println(&quot;\\nJava: After call runManyCoroutines, currentDate = &quot; + LocalDateTime.now());\r\n    \r\n        }\r\n    }\r\n\r\nAnd here result:\r\n\r\n\r\n       \r\n        Java: Call Kotlin code from Java code, currentDate = 2021-10-15T15:44:58.391\r\n    Java: Before call runCoroutine, currentDate = 2021-10-15T15:44:58.392\r\n    Kotlin: Hello\r\n    Kotlin: From Kotlin coroutines!\r\n    Java: After call runCoroutine, currentDate = 2021-10-15T15:45:01.424\r\n    \r\n    Java: Before call runCoroutinesWithSuspend, currentDate = 2021-10-15T15:45:01.425\r\n    Hello\r\n    From Kotlin coroutines (suspend)!\r\n    Java: After call runCoroutinesWithSuspend, currentDate = 2021-10-15T15:45:02.428\r\n    \r\n    Java: Before call runManyCoroutines, currentDate = 2021-10-15T15:45:02.428\r\n    .............. 10000 dots here\r\n    Java: After call runManyCoroutines, currentDate = 2021-10-15T15:45:07.538\r\n\r\n\r\nAs you can see two Kotlin&#39;s methods are not suspend and another method is **suspend**. And this 3 methods success call from Java code.\r\n\r\nMoreover the third Kotlin method `runManyCoroutines` create **10000 coroutines**. And also no problems with use this from Java code! \r\n\r\n\r\nIs it good solution?\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t use coroutines in Java... but what about insert Kotlin coroutines?","body":"<pre><code>Linux Mint 20\nJava 11\n</code></pre>\n<p>In Java project I need lightweight threads. The coroutines is good candidates for this.\nBut in Java not exist coroutines.\nBut what about use Kotlin corouines in Java project?</p>\n<p>Smt like this:</p>\n<p>In build.gradle:</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib&quot;\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core-jvm:1.5.2'\n</code></pre>\n<p>Then create Kotlin class that use Kotlin coroutines:</p>\n<pre><code>import kotlinx.coroutines.delay\nimport kotlinx.coroutines.launch\nimport kotlinx.coroutines.runBlocking\n\nclass CoroutineKotlin {\n\n    fun runCoroutine() = runBlocking { // this: CoroutineScope\n        launch { // launch a new coroutine and continue\n            delay(3000L) // non-blocking delay for 3 seconds (default time unit is ms)\n            println(&quot;Kotlin: From Kotlin coroutines!&quot;) // print after delay\n        }\n        println(&quot;Kotlin: Hello&quot;) // main coroutine continues while a previous one is delayed\n    }\n\n    fun runCoroutinesWithSuspend() = runBlocking { // this: CoroutineScope\n        launch { doWorld() }\n        println(&quot;Hello&quot;)\n    }\n\n    suspend fun doWorld() {\n        delay(1000L)\n        println(&quot;From Kotlin coroutines (suspend)!&quot;)\n    }\n\n    //Coroutines ARE light-weigh\n    fun runManyCoroutines() = runBlocking {\n        repeat(10_000) { // launch a lot of coroutines\n            launch {\n                delay(5000L)\n                print(&quot;.&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then is Java class call Kotlin methods:</p>\n<pre><code>   import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.time.LocalDateTime;\n\npublic class App {\n    private static Logger logger = LoggerFactory.getLogger(App.class);\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Java: Call Kotlin code from Java code, currentDate = &quot; + LocalDateTime.now());\n        CoroutineKotlin coroutineKotlin = new CoroutineKotlin();\n\n        System.out.println(&quot;Java: Before call runCoroutine, currentDate = &quot; + LocalDateTime.now());\n        coroutineKotlin.runCoroutine();\n        // call only after finish &quot;runCoroutine()&quot;\n        System.out.println(&quot;Java: After call runCoroutine, currentDate = &quot; + LocalDateTime.now());\n\n        System.out.println(&quot;\\nJava: Before call runCoroutinesWithSuspend, currentDate = &quot; + LocalDateTime.now());\n        coroutineKotlin.runCoroutinesWithSuspend();\n        // call only after finish &quot;runCoroutinesWithSuspend()&quot;\n        System.out.println(&quot;Java: After call runCoroutinesWithSuspend, currentDate = &quot; + LocalDateTime.now());\n\n        System.out.println(&quot;\\nJava: Before call runManyCoroutines, currentDate = &quot; + LocalDateTime.now());\n        coroutineKotlin.runManyCoroutines();\n        // call only after finish &quot;runManyCoroutines()&quot;\n        System.out.println(&quot;\\nJava: After call runManyCoroutines, currentDate = &quot; + LocalDateTime.now());\n\n    }\n}\n</code></pre>\n<p>And here result:</p>\n<pre><code>    Java: Call Kotlin code from Java code, currentDate = 2021-10-15T15:44:58.391\nJava: Before call runCoroutine, currentDate = 2021-10-15T15:44:58.392\nKotlin: Hello\nKotlin: From Kotlin coroutines!\nJava: After call runCoroutine, currentDate = 2021-10-15T15:45:01.424\n\nJava: Before call runCoroutinesWithSuspend, currentDate = 2021-10-15T15:45:01.425\nHello\nFrom Kotlin coroutines (suspend)!\nJava: After call runCoroutinesWithSuspend, currentDate = 2021-10-15T15:45:02.428\n\nJava: Before call runManyCoroutines, currentDate = 2021-10-15T15:45:02.428\n.............. 10000 dots here\nJava: After call runManyCoroutines, currentDate = 2021-10-15T15:45:07.538\n</code></pre>\n<p>As you can see two Kotlin's methods are not suspend and another method is <strong>suspend</strong>. And this 3 methods success call from Java code.</p>\n<p>Moreover the third Kotlin method <code>runManyCoroutines</code> create <strong>10000 coroutines</strong>. And also no problems with use this from Java code!</p>\n<p>Is it good solution?</p>\n"},{"tags":["java","spring","elasticsearch"],"owner":{"account_id":15757876,"reputation":119,"user_id":11370492,"display_name":"underachiever"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634302881,"creation_date":1634302881,"question_id":69585143,"body_markdown":"I&#39;m trying to create custom elasticsearch repository to an existing Spring Boot App. However, I&#39;m facing the PropertyReferenceException exception no matter what I change the names of the Implementation classes and interfaces.\r\n\r\nAll the solutions mentioned [here][1] and [here][2] don&#39;t seem to work for me.\r\n\r\n```\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property findAllComponents found for type EsComponentSearch!\r\n```\r\n\r\nBase interface:\r\n\r\n```\r\n@Repository\r\npublic interface EsComponentSearchRepository\r\n        extends ElasticsearchRepository&lt;EsComponentSearch, String&gt;, EsComponentSearchRepositoryCustom {\r\n\r\n}\r\n```\r\n\r\nEsComponentSearchRepositoryCustom.java\r\n\r\n```\r\npublic interface EsComponentSearchRepositoryCustom {\r\n    List&lt;EsComponentSearch&gt; findAllComponents(List&lt;String&gt; searchTerms);\r\n}\r\n```\r\n\r\nEsComponentSearchRepositoryImpl.java:\r\n\r\n```\r\npublic class EsComponentSearchRepositoryImpl implements EsComponentSearchRepositoryCustom {\r\n\r\n    private final ElasticsearchRestTemplate elasticsearchRestTemplate;\r\n\r\n    public EsComponentSearchRepositoryImpl(ElasticsearchRestTemplate elasticsearchRestTemplate) {\r\n        this.elasticsearchRestTemplate = Objects.requireNonNull(elasticsearchRestTemplate);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;EsComponentSearch&gt; findAllComponents(List&lt;String&gt; searchTerms) {\r\n\r\n        MultiMatchQueryBuilder multiMatchQueryBuilder = new MultiMatchQueryBuilder(searchTerms.get(0), &quot;component_name&quot;);\r\n\r\n        Query query = new NativeSearchQueryBuilder().withQuery(multiMatchQueryBuilder).build();\r\n\r\n        SearchHits&lt;EsComponentSearchDashboard&gt; searchHits = elasticsearchRestTemplate.search(query,\r\n                EsComponentSearch.class, &quot;components&quot;));\r\n\r\n        searchHits.getTotalHits();\r\n\r\n//TODO\r\n        return null;\r\n    }\r\n}\r\n```\r\nBoth the interfaces are in the same package and the configuration class is:\r\n\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = &quot;com.elasticsearch.repository.api&quot;)\r\npublic class SearchESConfig extends AbstractElasticsearchConfiguration {\r\n```\r\n\r\nCan anyone point what am I missing here?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41467894/no-property-found-for-type-custom-spring-data-repository\r\n  [2]: https://newbedev.com/partial-update-with-spring-data-elasticsearch-repository","title":"Spring Repository: PropertyReferenceException: No property [name] for type [class]","body":"<p>I'm trying to create custom elasticsearch repository to an existing Spring Boot App. However, I'm facing the PropertyReferenceException exception no matter what I change the names of the Implementation classes and interfaces.</p>\n<p>All the solutions mentioned <a href=\"https://stackoverflow.com/questions/41467894/no-property-found-for-type-custom-spring-data-repository\">here</a> and <a href=\"https://newbedev.com/partial-update-with-spring-data-elasticsearch-repository\" rel=\"nofollow noreferrer\">here</a> don't seem to work for me.</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property findAllComponents found for type EsComponentSearch!\n</code></pre>\n<p>Base interface:</p>\n<pre><code>@Repository\npublic interface EsComponentSearchRepository\n        extends ElasticsearchRepository&lt;EsComponentSearch, String&gt;, EsComponentSearchRepositoryCustom {\n\n}\n</code></pre>\n<p>EsComponentSearchRepositoryCustom.java</p>\n<pre><code>public interface EsComponentSearchRepositoryCustom {\n    List&lt;EsComponentSearch&gt; findAllComponents(List&lt;String&gt; searchTerms);\n}\n</code></pre>\n<p>EsComponentSearchRepositoryImpl.java:</p>\n<pre><code>public class EsComponentSearchRepositoryImpl implements EsComponentSearchRepositoryCustom {\n\n    private final ElasticsearchRestTemplate elasticsearchRestTemplate;\n\n    public EsComponentSearchRepositoryImpl(ElasticsearchRestTemplate elasticsearchRestTemplate) {\n        this.elasticsearchRestTemplate = Objects.requireNonNull(elasticsearchRestTemplate);\n    }\n\n    @Override\n    public List&lt;EsComponentSearch&gt; findAllComponents(List&lt;String&gt; searchTerms) {\n\n        MultiMatchQueryBuilder multiMatchQueryBuilder = new MultiMatchQueryBuilder(searchTerms.get(0), &quot;component_name&quot;);\n\n        Query query = new NativeSearchQueryBuilder().withQuery(multiMatchQueryBuilder).build();\n\n        SearchHits&lt;EsComponentSearchDashboard&gt; searchHits = elasticsearchRestTemplate.search(query,\n                EsComponentSearch.class, &quot;components&quot;));\n\n        searchHits.getTotalHits();\n\n//TODO\n        return null;\n    }\n}\n</code></pre>\n<p>Both the interfaces are in the same package and the configuration class is:</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.elasticsearch.repository.api&quot;)\npublic class SearchESConfig extends AbstractElasticsearchConfiguration {\n</code></pre>\n<p>Can anyone point what am I missing here?</p>\n"},{"tags":["java","date","timezone","localdate","zoneddatetime"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1574328927,"post_id":58971565,"comment_id":104196907,"body_markdown":"Can you show us the value of `epochMilli` you have used?","body":"Can you show us the value of <code>epochMilli</code> you have used?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1574329009,"post_id":58971565,"comment_id":104196957,"body_markdown":"The time should change from zone to zone, what you are searching is not possible","body":"The time should change from zone to zone, what you are searching is not possible"},{"owner":{"account_id":13315515,"reputation":377,"user_id":9865674,"display_name":"Amit Kumar"},"score":0,"creation_date":1574329112,"post_id":58971565,"comment_id":104197023,"body_markdown":"epockMilli value : 1574208000000L","body":"epockMilli value : 1574208000000L"},{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":0,"creation_date":1574329747,"post_id":58971565,"comment_id":104197426,"body_markdown":"What do you actually want - the same point in time (time in millis stays the same), but rendered for different time zones (wall-clock time varies)? Or do you want the same wall-clock time for different time zones (time in millis varies)?","body":"What do you actually want - the same point in time (time in millis stays the same), but rendered for different time zones (wall-clock time varies)? Or do you want the same wall-clock time for different time zones (time in millis varies)?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1574331858,"post_id":58971565,"comment_id":104198820,"body_markdown":"@JochenReinhardt I *guess* OP wants `ZonedDateTime`s of the date `&quot;23 Nov 2019 00:00:00&quot;` in different time zones, that means he wants different instants that all show the same date and time. But we cannot be sure about this...","body":"@JochenReinhardt I <i>guess</i> OP wants <code>ZonedDateTime</code>s of the date <code>&quot;23 Nov 2019 00:00:00&quot;</code> in different time zones, that means he wants different instants that all show the same date and time. But we cannot be sure about this..."},{"owner":{"account_id":13315515,"reputation":377,"user_id":9865674,"display_name":"Amit Kumar"},"score":0,"creation_date":1574415851,"post_id":58971565,"comment_id":104233802,"body_markdown":"Got the solution. \n```Long epochMilli = 1574208000000L;```\n\n```LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(epochMilli),\n                ZoneId.of(&quot;UTC&quot;);```\n\n```ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.of(&quot;Asia/Tokyo&quot;));```\n\nThis zonedDateTime will return 20 Nov 2019 in Japan time.\n\nSorry If I am not clear before.","body":"Got the solution.  <code>Long epochMilli = 1574208000000L;</code>  <code>LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(epochMilli),                 ZoneId.of(&quot;UTC&quot;);</code>  <code>ZonedDateTime zonedDateTime = ZonedDateTime.of(localDateTime, ZoneId.of(&quot;Asia&#47;Tokyo&quot;));</code>  This zonedDateTime will return 20 Nov 2019 in Japan time.  Sorry If I am not clear before."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1574440811,"post_id":58971565,"comment_id":104247020,"body_markdown":"Just convert to `LocalDate`. It&#39;s a date without time of day and without time zone, so I figure it should give you what youvwant independently of time zone. And I recommend you stay far away from the `Date` class that you are also using in the question. It&#39;s poorly designed and lobg outdated, and you have no use for it.","body":"Just convert to <code>LocalDate</code>. It&#39;s a date without time of day and without time zone, so I figure it should give you what youvwant independently of time zone. And I recommend you stay far away from the <code>Date</code> class that you are also using in the question. It&#39;s poorly designed and lobg outdated, and you have no use for it."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1634302317,"creation_date":1574330494,"answer_id":58972137,"question_id":58971565,"body_markdown":"Unfortunately, you didn&#39;t show us *how* you used `ZonedDateTime`, so the following examples may cover more than you just wanted by showing how to parse millis, convert the resulting date time from one zone to others and how to parse a date time using different zones:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\r\n    long epochMillis = 1574208000000L;\r\n    \r\n    // define a formatter to be used\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy HH:mm:ss&quot;,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\tLocale.ENGLISH);\r\n\r\n    // create an instant from the milliseconds\r\n    Instant instant = Instant.ofEpochMilli(epochMillis);\r\n    // and create some example time zones for later use\r\n    ZoneId utc = ZoneId.of(&quot;UTC&quot;);\r\n    ZoneId tokyo = ZoneId.of(&quot;Asia/Tokyo&quot;);\r\n    ZoneId losAngeles = ZoneId.of(&quot;America/Los_Angeles&quot;);\r\n    ZoneId chicago = ZoneId.of(&quot;America/Chicago&quot;);\r\n    \r\n    /*\r\n     * Part 1: Getting the date time converted to different time zones\r\n     */\r\n    \r\n    // use the instant to create a ZonedDateTime at a specific time zone, here: UTC\r\n    ZonedDateTime utcZdt = instant.atZone(utc);\r\n\r\n    // then take the UTC-ZonedDateTime as base for conversion to other time zones \r\n    ZonedDateTime asiaTokyoConvertedfromUtc = utcZdt.withZoneSameInstant(tokyo);\r\n    ZonedDateTime americaLosAngelesConvertedfromUtc = utcZdt.withZoneSameInstant(losAngeles);\r\n    ZonedDateTime americaChicagoConvertedfromUtc = utcZdt.withZoneSameInstant(chicago);\r\n\r\n    // print the results\r\n    System.out.println(&quot;#### 1574208000000L at UTC, converted to other zones ####&quot;);\r\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utcZdt.format(dtf));\r\n    System.out.println(&quot;JST (Japan/Tokyo) time zone:\\t\\t&quot;\r\n            \t\t\t+ asiaTokyoConvertedfromUtc.format(dtf));\r\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\r\n            \t\t\t+ americaLosAngelesConvertedfromUtc.format(dtf));\r\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\r\n            \t\t\t+ americaChicagoConvertedfromUtc.format(dtf));\r\n    \r\n    System.out.println();\r\n\r\n    /*\r\n     * Part 2: Getting the date time in different time zones\r\n     */\r\n    \r\n    // use the instant to create a ZonedDateTime at Asia/Tokyo\r\n    ZonedDateTime asiaTokyoFromMillis = instant.atZone(tokyo);\r\n\r\n    // use the instant to create a ZonedDateTime at America/Los Angeles\r\n    ZonedDateTime americaLosAngelesFromMillis = instant.atZone(losAngeles);\r\n\r\n    // use the instant to create a ZonedDateTime at America/Chicago\r\n    ZonedDateTime americaChicagoFromMillis = instant.atZone(chicago);\r\n\r\n    // print the (expected) results, same as converted date times...\r\n    System.out.println(&quot;#### 1574208000000L at different zones ####&quot;);\r\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utcZdt.format(dtf));\r\n    System.out.println(&quot;JST (Asia/Tokyo) time zone:\\t\\t&quot;\r\n        \t\t\t\t+ asiaTokyoFromMillis.format(dtf));\r\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\r\n            \t\t\t+ americaLosAngelesFromMillis.format(dtf));\r\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\r\n            \t\t\t+ americaChicagoFromMillis.format(dtf));\r\n    \r\n    System.out.println();\r\n    \r\n    /*\r\n     * Part 3: How to parse the date time instead of millis\r\n     */\r\n    \r\n    // provide a parseable date time String\r\n    String dateTime = &quot;23 Nov 2019 00:00:00&quot;;\r\n    \r\n    // parse it in each desired time zone\r\n    ZonedDateTime utc23Nov2019 = LocalDateTime.parse(dateTime, dtf).atZone(utc);\r\n    ZonedDateTime asiaTokyo23Nov2019 = LocalDateTime.parse(dateTime, dtf)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t.atZone(tokyo);\r\n    ZonedDateTime americaChicago23Nov2019 = LocalDateTime.parse(dateTime, dtf)\r\n            \t\t\t\t\t\t\t\t\t\t\t .atZone(losAngeles);\r\n    ZonedDateTime americaLosAngeles23Nov2019 = LocalDateTime.parse(dateTime, dtf)\r\n            \t\t\t\t\t\t\t\t\t\t\t\t.atZone(chicago);\r\n\r\n    // print the results, now you have the 23. Nov 2019 at 00:00:00 at each time zone\r\n    System.out.println(&quot;#### \\&quot;23 Nov 2019 00:00:00\\&quot; at different zones ####&quot;);\r\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utc23Nov2019.format(dtf));\r\n    System.out.println(&quot;JST (Asia/Tokyo) time zone:\\t\\t&quot;\r\n            \t\t\t+ asiaTokyo23Nov2019.format(dtf));\r\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\r\n            \t\t\t+ americaChicago23Nov2019.format(dtf));\r\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\r\n            \t\t\t+ americaLosAngeles23Nov2019.format(dtf));\r\n}\r\n```\r\n\r\nThe output of this is\r\n\r\n```lang-none\r\n#### 1574208000000L at UTC, converted to other zones ####\r\nUTC time zone:\t\t\t\t\t\t20 Nov 2019 00:00:00\r\nJST (Japan/Tokyo) time zone:\t\t20 Nov 2019 09:00:00\r\nPST (USA/Los Angeles) time zone:\t19 Nov 2019 16:00:00\r\nCST (USA/Chicago) time zone:\t\t19 Nov 2019 18:00:00\r\n\r\n#### 1574208000000L at different zones ####\r\nUTC time zone:\t\t\t\t\t\t20 Nov 2019 00:00:00\r\nJST (Asia/Tokyo) time zone:\t\t\t20 Nov 2019 09:00:00\r\nPST (USA/Los Angeles) time zone:\t19 Nov 2019 16:00:00\r\nCST (USA/Chicago) time zone:\t\t19 Nov 2019 18:00:00\r\n\r\n#### &quot;23 Nov 2019 00:00:00&quot; at different zones ####\r\nUTC time zone:\t\t\t\t\t\t23 Nov 2019 00:00:00\r\nJST (Asia/Tokyo) time zone:\t\t\t23 Nov 2019 00:00:00\r\nPST (USA/Los Angeles) time zone:\t23 Nov 2019 00:00:00\r\nCST (USA/Chicago) time zone:\t\t23 Nov 2019 00:00:00\r\n```","title":"Get same date in different timezone","body":"<p>Unfortunately, you didn't show us <em>how</em> you used <code>ZonedDateTime</code>, so the following examples may cover more than you just wanted by showing how to parse millis, convert the resulting date time from one zone to others and how to parse a date time using different zones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n    long epochMillis = 1574208000000L;\n    \n    // define a formatter to be used\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy HH:mm:ss&quot;,\n                                                        Locale.ENGLISH);\n\n    // create an instant from the milliseconds\n    Instant instant = Instant.ofEpochMilli(epochMillis);\n    // and create some example time zones for later use\n    ZoneId utc = ZoneId.of(&quot;UTC&quot;);\n    ZoneId tokyo = ZoneId.of(&quot;Asia/Tokyo&quot;);\n    ZoneId losAngeles = ZoneId.of(&quot;America/Los_Angeles&quot;);\n    ZoneId chicago = ZoneId.of(&quot;America/Chicago&quot;);\n    \n    /*\n     * Part 1: Getting the date time converted to different time zones\n     */\n    \n    // use the instant to create a ZonedDateTime at a specific time zone, here: UTC\n    ZonedDateTime utcZdt = instant.atZone(utc);\n\n    // then take the UTC-ZonedDateTime as base for conversion to other time zones \n    ZonedDateTime asiaTokyoConvertedfromUtc = utcZdt.withZoneSameInstant(tokyo);\n    ZonedDateTime americaLosAngelesConvertedfromUtc = utcZdt.withZoneSameInstant(losAngeles);\n    ZonedDateTime americaChicagoConvertedfromUtc = utcZdt.withZoneSameInstant(chicago);\n\n    // print the results\n    System.out.println(&quot;#### 1574208000000L at UTC, converted to other zones ####&quot;);\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utcZdt.format(dtf));\n    System.out.println(&quot;JST (Japan/Tokyo) time zone:\\t\\t&quot;\n                        + asiaTokyoConvertedfromUtc.format(dtf));\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\n                        + americaLosAngelesConvertedfromUtc.format(dtf));\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\n                        + americaChicagoConvertedfromUtc.format(dtf));\n    \n    System.out.println();\n\n    /*\n     * Part 2: Getting the date time in different time zones\n     */\n    \n    // use the instant to create a ZonedDateTime at Asia/Tokyo\n    ZonedDateTime asiaTokyoFromMillis = instant.atZone(tokyo);\n\n    // use the instant to create a ZonedDateTime at America/Los Angeles\n    ZonedDateTime americaLosAngelesFromMillis = instant.atZone(losAngeles);\n\n    // use the instant to create a ZonedDateTime at America/Chicago\n    ZonedDateTime americaChicagoFromMillis = instant.atZone(chicago);\n\n    // print the (expected) results, same as converted date times...\n    System.out.println(&quot;#### 1574208000000L at different zones ####&quot;);\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utcZdt.format(dtf));\n    System.out.println(&quot;JST (Asia/Tokyo) time zone:\\t\\t&quot;\n                        + asiaTokyoFromMillis.format(dtf));\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\n                        + americaLosAngelesFromMillis.format(dtf));\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\n                        + americaChicagoFromMillis.format(dtf));\n    \n    System.out.println();\n    \n    /*\n     * Part 3: How to parse the date time instead of millis\n     */\n    \n    // provide a parseable date time String\n    String dateTime = &quot;23 Nov 2019 00:00:00&quot;;\n    \n    // parse it in each desired time zone\n    ZonedDateTime utc23Nov2019 = LocalDateTime.parse(dateTime, dtf).atZone(utc);\n    ZonedDateTime asiaTokyo23Nov2019 = LocalDateTime.parse(dateTime, dtf)\n                                                    .atZone(tokyo);\n    ZonedDateTime americaChicago23Nov2019 = LocalDateTime.parse(dateTime, dtf)\n                                                         .atZone(losAngeles);\n    ZonedDateTime americaLosAngeles23Nov2019 = LocalDateTime.parse(dateTime, dtf)\n                                                            .atZone(chicago);\n\n    // print the results, now you have the 23. Nov 2019 at 00:00:00 at each time zone\n    System.out.println(&quot;#### \\&quot;23 Nov 2019 00:00:00\\&quot; at different zones ####&quot;);\n    System.out.println(&quot;UTC time zone:\\t\\t\\t\\t&quot; + utc23Nov2019.format(dtf));\n    System.out.println(&quot;JST (Asia/Tokyo) time zone:\\t\\t&quot;\n                        + asiaTokyo23Nov2019.format(dtf));\n    System.out.println(&quot;PST (USA/Los Angeles) time zone:\\t&quot;\n                        + americaChicago23Nov2019.format(dtf));\n    System.out.println(&quot;CST (USA/Chicago) time zone:\\t\\t&quot;\n                        + americaLosAngeles23Nov2019.format(dtf));\n}\n</code></pre>\n<p>The output of this is</p>\n<pre class=\"lang-none prettyprint-override\"><code>#### 1574208000000L at UTC, converted to other zones ####\nUTC time zone:                      20 Nov 2019 00:00:00\nJST (Japan/Tokyo) time zone:        20 Nov 2019 09:00:00\nPST (USA/Los Angeles) time zone:    19 Nov 2019 16:00:00\nCST (USA/Chicago) time zone:        19 Nov 2019 18:00:00\n\n#### 1574208000000L at different zones ####\nUTC time zone:                      20 Nov 2019 00:00:00\nJST (Asia/Tokyo) time zone:         20 Nov 2019 09:00:00\nPST (USA/Los Angeles) time zone:    19 Nov 2019 16:00:00\nCST (USA/Chicago) time zone:        19 Nov 2019 18:00:00\n\n#### &quot;23 Nov 2019 00:00:00&quot; at different zones ####\nUTC time zone:                      23 Nov 2019 00:00:00\nJST (Asia/Tokyo) time zone:         23 Nov 2019 00:00:00\nPST (USA/Los Angeles) time zone:    23 Nov 2019 00:00:00\nCST (USA/Chicago) time zone:        23 Nov 2019 00:00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574330792,"creation_date":1574330792,"answer_id":58972237,"question_id":58971565,"body_markdown":"The legacy `java.util.Date` is not time-zone-aware. It is basically a point in time measured in milliseconds since 1970-1-1 0:00. Nothing else.\r\n\r\nWhen a date is print, it is formatted using your system&#39;s default locale and time zone. In order to get a `java.util.Date` object formatted for a different time zone you have to configure your `DateFormat` accordingly.\r\n\r\n```java\r\nDate pointInTime = new Date();\r\nDateFormat dateFormat = DateFormat.getDateTimeInstance();\r\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;PST&quot;));\r\nSystem.out.println(dateFormat.format(pointInTime));\r\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\nSystem.out.println(dateFormat.format(pointInTime));\r\n```\r\nWith the newer LocalDate API, things are different. The previous answer gives a rich example.","title":"Get same date in different timezone","body":"<p>The legacy <code>java.util.Date</code> is not time-zone-aware. It is basically a point in time measured in milliseconds since 1970-1-1 0:00. Nothing else.</p>\n\n<p>When a date is print, it is formatted using your system's default locale and time zone. In order to get a <code>java.util.Date</code> object formatted for a different time zone you have to configure your <code>DateFormat</code> accordingly.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Date pointInTime = new Date();\nDateFormat dateFormat = DateFormat.getDateTimeInstance();\ndateFormat.setTimeZone(TimeZone.getTimeZone(\"PST\"));\nSystem.out.println(dateFormat.format(pointInTime));\ndateFormat.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(dateFormat.format(pointInTime));\n</code></pre>\n\n<p>With the newer LocalDate API, things are different. The previous answer gives a rich example.</p>\n"}],"owner":{"account_id":13315515,"reputation":377,"user_id":9865674,"display_name":"Amit Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1985,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58972137,"answer_count":2,"score":0,"last_activity_date":1634302317,"creation_date":1574328897,"question_id":58971565,"body_markdown":"I have a epochmilli sec time.\r\nCreated a date object from this epoch time.\r\n\r\n`Date date = new Date(epochMilli);`\r\n\r\nSuppose date is `&quot;23 Nov 2019 00:00:00&quot;`\r\n\r\nNow, I just want to get this same date in different timezones like :]\r\n\r\nJapan time : 23 Nov 2019 00:00:00\r\n\r\nUS time : 23 Nov 2019 00:00:00\r\n\r\nI am currently using `LocalDateTime` or `ZonedDateTime`.\r\n\r\nBut when I am converting into different zone, time also changes. But I don&#39;t want this time to change.\r\n\r\nThanks in Advance.","title":"Get same date in different timezone","body":"<p>I have a epochmilli sec time.\nCreated a date object from this epoch time.</p>\n\n<p><code>Date date = new Date(epochMilli);</code></p>\n\n<p>Suppose date is <code>\"23 Nov 2019 00:00:00\"</code></p>\n\n<p>Now, I just want to get this same date in different timezones like :]</p>\n\n<p>Japan time : 23 Nov 2019 00:00:00</p>\n\n<p>US time : 23 Nov 2019 00:00:00</p>\n\n<p>I am currently using <code>LocalDateTime</code> or <code>ZonedDateTime</code>.</p>\n\n<p>But when I am converting into different zone, time also changes. But I don't want this time to change.</p>\n\n<p>Thanks in Advance.</p>\n"},{"tags":["java","json","string","dictionary","delimiter"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634302303,"creation_date":1634302303,"answer_id":69585029,"question_id":69583148,"body_markdown":"A recursive function `addToMap` may be implemented to find the key before the dot `.` as a delimiter, creating a map if necessary using `Map::computeIfAbsent`, or adding the key with `null` value to the top-level map:\r\n```java\r\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\nstatic void addToMap(String s, Map&lt;String, Map&gt; upperLevel) {\r\n    int dotPos = s.indexOf(&quot;.&quot;);\r\n    if (dotPos &lt; 0) {\r\n        upperLevel.put(s, null);\r\n    } else {\r\n        String key = s.substring(0, dotPos);\r\n        addToMap(s.substring(dotPos + 1), upperLevel.computeIfAbsent(key, k -&gt; new HashMap&lt;&gt;()));\r\n    }\r\n}\r\n```\r\nThen the test may look as follows:\r\n```\r\nString[] arr = {\r\n        &quot;Fruits.Cherry&quot;,\r\n        &quot;Fruits.Apple.Red&quot;,\r\n        &quot;Fruits.Apple.Green&quot;,\r\n        &quot;Fruits.Orange.Yellow&quot;,\r\n        &quot;Fruits.Watermelon.Yellow&quot;,\r\n        &quot;Fruits.Watermelon.Red&quot;,\r\n};\r\n\r\nMap&lt;String, Map&gt; result = new HashMap&lt;&gt;();\r\nfor (String t : arr) {\r\n    addToMap(t, result);\r\n}\r\nSystem.out.println(result);\r\n```\r\nOutput:\r\n```\r\n{Fruits={Apple={Red=null, Green=null}, Cherry=null, Watermelon={Red=null, Yellow=null}, Orange={Yellow=null}}}\r\n```\r\nIf an insertion order is important, `LinkedHashMap` should be created instead of `HashMap` or an overridden version with `Supplier&lt;Map&gt;` may be used:\r\n```java\r\nSupplier&lt;Map&gt; mapSupplier = LinkedHashMap::new;\r\nMap&lt;String, Map&gt; result = mapSupplier.get();\r\nfor (String t : arr) {\r\n    addToMap(t, result, mapSupplier);\r\n}\r\nSystem.out.println(result);\r\n\r\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\r\nstatic void addToMap(String s, Map&lt;String, Map&gt; upperLevel, Supplier&lt;Map&gt; mapSupplier) {\r\n    int dotPos = s.indexOf(&quot;.&quot;);\r\n    if (dotPos &lt; 0) {\r\n        upperLevel.put(s, null);\r\n    } else {\r\n        String key = s.substring(0, dotPos);\r\n        addToMap(s.substring(dotPos + 1), upperLevel.computeIfAbsent(key, k -&gt; mapSupplier.get()), mapSupplier);\r\n    }\r\n}\r\n```\r\nOutput (order changed):\r\n```\r\n{Fruits={Cherry=null, Apple={Red=null, Green=null}, Orange={Yellow=null}, Watermelon={Yellow=null, Red=null}}}\r\n```","title":"Converting delimited string/text into a map object","body":"<p>A recursive function <code>addToMap</code> may be implemented to find the key before the dot <code>.</code> as a delimiter, creating a map if necessary using <code>Map::computeIfAbsent</code>, or adding the key with <code>null</code> value to the top-level map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\nstatic void addToMap(String s, Map&lt;String, Map&gt; upperLevel) {\n    int dotPos = s.indexOf(&quot;.&quot;);\n    if (dotPos &lt; 0) {\n        upperLevel.put(s, null);\n    } else {\n        String key = s.substring(0, dotPos);\n        addToMap(s.substring(dotPos + 1), upperLevel.computeIfAbsent(key, k -&gt; new HashMap&lt;&gt;()));\n    }\n}\n</code></pre>\n<p>Then the test may look as follows:</p>\n<pre><code>String[] arr = {\n        &quot;Fruits.Cherry&quot;,\n        &quot;Fruits.Apple.Red&quot;,\n        &quot;Fruits.Apple.Green&quot;,\n        &quot;Fruits.Orange.Yellow&quot;,\n        &quot;Fruits.Watermelon.Yellow&quot;,\n        &quot;Fruits.Watermelon.Red&quot;,\n};\n\nMap&lt;String, Map&gt; result = new HashMap&lt;&gt;();\nfor (String t : arr) {\n    addToMap(t, result);\n}\nSystem.out.println(result);\n</code></pre>\n<p>Output:</p>\n<pre><code>{Fruits={Apple={Red=null, Green=null}, Cherry=null, Watermelon={Red=null, Yellow=null}, Orange={Yellow=null}}}\n</code></pre>\n<p>If an insertion order is important, <code>LinkedHashMap</code> should be created instead of <code>HashMap</code> or an overridden version with <code>Supplier&lt;Map&gt;</code> may be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Supplier&lt;Map&gt; mapSupplier = LinkedHashMap::new;\nMap&lt;String, Map&gt; result = mapSupplier.get();\nfor (String t : arr) {\n    addToMap(t, result, mapSupplier);\n}\nSystem.out.println(result);\n\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;})\nstatic void addToMap(String s, Map&lt;String, Map&gt; upperLevel, Supplier&lt;Map&gt; mapSupplier) {\n    int dotPos = s.indexOf(&quot;.&quot;);\n    if (dotPos &lt; 0) {\n        upperLevel.put(s, null);\n    } else {\n        String key = s.substring(0, dotPos);\n        addToMap(s.substring(dotPos + 1), upperLevel.computeIfAbsent(key, k -&gt; mapSupplier.get()), mapSupplier);\n    }\n}\n</code></pre>\n<p>Output (order changed):</p>\n<pre><code>{Fruits={Cherry=null, Apple={Red=null, Green=null}, Orange={Yellow=null}, Watermelon={Yellow=null, Red=null}}}\n</code></pre>\n"}],"owner":{"account_id":22164676,"reputation":1,"user_id":16411063,"display_name":"Jun Ming Kui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634302303,"creation_date":1634292700,"question_id":69583148,"body_markdown":"I have been trying to figure out a solution for a while now, but I can&#39;t seem to get any suitable answer after thinking through/surfing the net for a solution. Hope the community can help me out!\r\n\r\nI have some string and wishes to convert them into a nested map object, example below.\r\n\r\n    Fruits.Apple.Red\r\n    Fruits.Apple.Green\r\n    Fruits.Orange.Yellow\r\n    Fruits.Watermelon.Yellow\r\n    Fruits.Watermelon.Red\r\n\r\nI would like to convert the above example into something like this.\r\n\r\n    { Fruits:{\r\n           Apple:{\r\n                  Red: null,\r\n                  Green: null\r\n                 },\r\n           Orange:{\r\n                  Yellow: null\r\n                  },\r\n       Watermelon:{enter code here\r\n                  Yellow: null,\r\n                  Red: null\r\n                  }\r\n           }\r\n    }\r\n\r\nPardon me if you find this example to be a bad one. There is a reason why the value for the last child is null,  I am trying to reproduce the problem I am facing.","title":"Converting delimited string/text into a map object","body":"<p>I have been trying to figure out a solution for a while now, but I can't seem to get any suitable answer after thinking through/surfing the net for a solution. Hope the community can help me out!</p>\n<p>I have some string and wishes to convert them into a nested map object, example below.</p>\n<pre><code>Fruits.Apple.Red\nFruits.Apple.Green\nFruits.Orange.Yellow\nFruits.Watermelon.Yellow\nFruits.Watermelon.Red\n</code></pre>\n<p>I would like to convert the above example into something like this.</p>\n<pre><code>{ Fruits:{\n       Apple:{\n              Red: null,\n              Green: null\n             },\n       Orange:{\n              Yellow: null\n              },\n   Watermelon:{enter code here\n              Yellow: null,\n              Red: null\n              }\n       }\n}\n</code></pre>\n<p>Pardon me if you find this example to be a bad one. There is a reason why the value for the last child is null,  I am trying to reproduce the problem I am facing.</p>\n"},{"tags":["java","string","dictionary","arraylist","jcombobox"],"comments":[{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":0,"creation_date":1350714540,"post_id":12985861,"comment_id":17614233,"body_markdown":"Is your `Strumieniowanie` class in the same package as `Kodowanie` class?","body":"Is your <code>Strumieniowanie</code> class in the same package as <code>Kodowanie</code> class?"},{"owner":{"account_id":1377798,"reputation":139,"user_id":1311438,"accept_rate":73,"display_name":"mathewM"},"score":0,"creation_date":1350714774,"post_id":12985861,"comment_id":17614269,"body_markdown":"Yes. I even remove any access specifiers but it doesn t change anything.","body":"Yes. I even remove any access specifiers but it doesn t change anything."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1350715518,"post_id":12985861,"comment_id":17614375,"body_markdown":"For clarity &amp; brevity, `boolean tmp = \n\nfalse;\n        tmp = plik.isFile();\n\n        return tmp;` should be replaced with `return plik.isFile();`\n.","body":"For clarity &amp; brevity, <code>boolean tmp =   false;         tmp = plik.isFile();          return tmp;</code> should be replaced with <code>return plik.isFile();</code> ."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1350714744,"creation_date":1350714744,"answer_id":12985908,"question_id":12985861,"body_markdown":"`KeyListener` is not the appropriate event listener to use, it is triggered BEFORE the combobox has updated its state, better to use an [`ActionListener`](http://docs.oracle.com/javase/7/docs/api/java/awt/event/ActionListener.html).\r\n\r\nThe `actionPerformed` event will be fired AFTER the combo box has updated, which will ensure that the `getSelectedItem` method will actually return the currently selected value.","title":"How to get text from JComboBox?","body":"<p><code>KeyListener</code> is not the appropriate event listener to use, it is triggered BEFORE the combobox has updated its state, better to use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/event/ActionListener.html\" rel=\"nofollow\"><code>ActionListener</code></a>.</p>\n\n<p>The <code>actionPerformed</code> event will be fired AFTER the combo box has updated, which will ensure that the <code>getSelectedItem</code> method will actually return the currently selected value.</p>\n"},{"tags":[],"owner":{"account_id":5434054,"reputation":11,"user_id":4324034,"display_name":"Alexandre Fradkin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1417693078,"creation_date":1417689764,"answer_id":27291925,"question_id":12985861,"body_markdown":"For reference, to answer the tittle of the page : How to get text from `JComboBox`? \r\n\r\n    ((JTextComponent)combo.getEditor().getEditorComponent()).getText()\r\n\r\nIt &quot;works&quot; but does not return any text... crap.","title":"How to get text from JComboBox?","body":"<p>For reference, to answer the tittle of the page : How to get text from <code>JComboBox</code>? </p>\n\n<pre><code>((JTextComponent)combo.getEditor().getEditorComponent()).getText()\n</code></pre>\n\n<p>It \"works\" but does not return any text... crap.</p>\n"},{"tags":[],"owner":{"account_id":7886075,"reputation":11,"user_id":5958083,"display_name":"Kapil Garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456045886,"creation_date":1456044189,"answer_id":35534066,"question_id":12985861,"body_markdown":"The following method can be used to get the text from a `ComboBox`.\r\n\r\n    String s = (String)comboOne.getSelectedItem();\r\n\r\nwhere `comboOne` is the variable name of `ComboBox`.","title":"How to get text from JComboBox?","body":"<p>The following method can be used to get the text from a <code>ComboBox</code>.</p>\n\n<pre><code>String s = (String)comboOne.getSelectedItem();\n</code></pre>\n\n<p>where <code>comboOne</code> is the variable name of <code>ComboBox</code>.</p>\n"},{"tags":[],"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630055463,"creation_date":1630055463,"answer_id":68950860,"question_id":12985861,"body_markdown":"You can use **KeyListener** but instead of adding it directly, insert it using \r\n\r\n    comboBox.getEditor().getEditorComponent().addKeyListener();\r\n\r\nThis will make sure that listener is being added to Editor of JComboBox\r\n\r\nTo get text from it use:\r\n\r\n    comboBox.getEditor().getItem();\r\n\r\nthis will get the text directly from the editor, you can use it below keyReleased to get text from editor as you type","title":"How to get text from JComboBox?","body":"<p>You can use <strong>KeyListener</strong> but instead of adding it directly, insert it using</p>\n<pre><code>comboBox.getEditor().getEditorComponent().addKeyListener();\n</code></pre>\n<p>This will make sure that listener is being added to Editor of JComboBox</p>\n<p>To get text from it use:</p>\n<pre><code>comboBox.getEditor().getItem();\n</code></pre>\n<p>this will get the text directly from the editor, you can use it below keyReleased to get text from editor as you type</p>\n"},{"tags":[],"owner":{"account_id":19942592,"reputation":9,"user_id":14614018,"display_name":"Rachid Le Laborantin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634302270,"creation_date":1634248927,"answer_id":69577850,"question_id":12985861,"body_markdown":"`combobox.getEditor().getItem().toString` worked for me.\r\n\r\nYou can add `documentListener` to listen to the changes of input.","title":"How to get text from JComboBox?","body":"<p><code>combobox.getEditor().getItem().toString</code> worked for me.</p>\n<p>You can add <code>documentListener</code> to listen to the changes of input.</p>\n"}],"owner":{"account_id":1377798,"reputation":139,"user_id":1311438,"accept_rate":73,"display_name":"mathewM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12985908,"answer_count":5,"score":1,"last_activity_date":1634302270,"creation_date":1350714262,"question_id":12985861,"body_markdown":"I have a problem with getting text from selected position of JComboBox. I tried to use getSelectedItem method in class which extends Kodowanie.java, but i get null value and i can&#39;t find out why. Method (getSelectedItem) works in Kodowanie class I can easily get text form JComboBox . \r\n\r\n\r\n**Kodowanie.java**\r\n \r\n\r\n       public class Kodowanie {\r\n        \t\r\n        \t//Skladowe:\r\n        \tArrayList &lt;String&gt; qweqwe; \r\n        \tJComboBox inputCode = new JComboBox();  //HERE IS MY INPUT COMBOBOX\r\n        \tJComboBox outputCode = new JComboBox();\r\n        \tJTextArea input;\r\n          \tJTextArea output;\r\n    \t\r\n    \tpublic void createGUI(){\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(&quot;Code&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tinput  = new JTextArea(); \r\n    \t\toutput = new JTextArea();\r\n    \t\t\r\n    \t\tqweqwe = new ArrayList&lt;&gt;();\r\n    \t\tnapelnijTalbiceCharsetami(qweqwe); //METHOD WHICH ADD ALL CHARSETS TO LIST\r\n    \t\t\r\n    \t\tinputCode = new JComboBox(qweqwe.toArray());\r\n    \t\toutputCode = new JComboBox(qweqwe.toArray());\r\n    \t\t\r\n    \t\tJScrollPane scrollPaneInput = new JScrollPane(input, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n    \t\tJScrollPane scrollPaneOutput = new JScrollPane(output, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\r\n    \t\t\r\n    \t\tscrollPaneInput.setBorder(BorderFactory.createTitledBorder(&quot;Input Path&quot;));\r\n    \t\tscrollPaneOutput.setBorder(BorderFactory.createTitledBorder(&quot;Output Path&quot;));\r\n    \t\t\r\n    \t\tinputCode.setPreferredSize(new Dimension(400,50));\r\n    \t\toutputCode.setPreferredSize(new Dimension(400,50));\r\n    \t\t\r\n    \t\tscrollPaneInput.setPreferredSize(new Dimension(400, 100));\r\n    \t\tscrollPaneOutput.setPreferredSize(new Dimension(400, 100));\r\n    \t\t\r\n    \t\tinput.addKeyListener(new KeyAdapter() {\r\n    \t\t\t public void keyPressed(KeyEvent evt){\t\r\n    \t\t\t\t \tStrumieniowanie tmp;\r\n    \t\t            if(evt.getKeyCode() == KeyEvent.VK_ENTER)\r\n    \t\t            {\r\n    \t\t            \ttry {\r\n    \t\t\t\t\t\t\ttmp = new Strumieniowanie(input.getText(), output.getText());\r\n    \t\t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t            }\r\n    \t\t        }\r\n    \t\t});\r\n    \t\t\r\n    \t\tframe.getContentPane().add(scrollPaneInput);\r\n    \t\tframe.getContentPane().add(scrollPaneOutput);\r\n    \t\tframe.getContentPane().add(inputCode);\r\n    \t\tframe.getContentPane().add(outputCode);\r\n    \t\t\r\n    \t\tframe.setLayout(new  FlowLayout());\r\n    \t\tframe.setPreferredSize(new Dimension(850, 220));\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.pack();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate ArrayList napelnijTalbiceCharsetami(ArrayList tmp){\r\n    \t\tMap charSets = Charset.availableCharsets();\r\n    \t    Iterator iterator = charSets.keySet().iterator();\r\n    \t    while (iterator.hasNext()) {\r\n    \t    \tSystem.out.println(iterator.next().toString());\r\n    \t    \ttmp.add(iterator.next().toString());\r\n    \t    }\r\n    \t    return tmp;\r\n    \t}\r\n    \t\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tKodowanie l = new Kodowanie();\r\n    \t\tl.createGUI();\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\n**Strumieniowanie.java**\r\n\r\n\r\n\r\n    public class Strumieniowanie extends Kodowanie {\r\n    \r\n    \tprotected boolean pathInputOk = false;\r\n    \tprotected boolean pathOutputOk = false;\r\n\t\r\n\tpublic Strumieniowanie(String tmpInpute, String tmpOutput) throws IOException {\r\n\r\n\t\t\r\n\t\tFile plikInput = new File(tmpInpute);\r\n\t\tFile plikOutput = new File(tmpOutput);\r\n\t\t\r\n\t\tString inputText;\r\n\t\tinputText =  (String) inputCode.getSelectedItem(); //HERE I TRY TO GET STRING FROM JCOMBOBOX BUT IT IS ALWAYS NULL !\r\n\t\tSystem.out.println(inputText);\r\n\r\n\t\tpathInputOk = plikInput.isFile();\r\n\t\tpathOutputOk = plikOutput.isFile();\r\n\r\n\t\tSystem.out.println(pathInputOk);\r\n\t\tSystem.out.println(pathOutputOk);\r\n\t\t\r\n\t\tif (pathInputOk &amp;&amp; pathOutputOk) {\r\n\t\t\tFile nowyPlik = new File(tmpInpute);\r\n\r\n\t\t\tFileInputStream fis = new FileInputStream(nowyPlik);\r\n\t\r\n\t\t\tfis.close();\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprotected boolean isItaPath(File plik) {\r\n\t\tboolean tmp = \r\n\r\n    false;\r\n    \t\ttmp = plik.isFile();\r\n    \r\n    \t\treturn tmp;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n\r\n","title":"How to get text from JComboBox?","body":"<p>I have a problem with getting text from selected position of JComboBox. I tried to use getSelectedItem method in class which extends Kodowanie.java, but i get null value and i can't find out why. Method (getSelectedItem) works in Kodowanie class I can easily get text form JComboBox . </p>\n\n<p><strong>Kodowanie.java</strong></p>\n\n<pre><code>   public class Kodowanie {\n\n        //Skladowe:\n        ArrayList &lt;String&gt; qweqwe; \n        JComboBox inputCode = new JComboBox();  //HERE IS MY INPUT COMBOBOX\n        JComboBox outputCode = new JComboBox();\n        JTextArea input;\n        JTextArea output;\n\n    public void createGUI(){\n\n        JFrame frame = new JFrame(\"Code\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        input  = new JTextArea(); \n        output = new JTextArea();\n\n        qweqwe = new ArrayList&lt;&gt;();\n        napelnijTalbiceCharsetami(qweqwe); //METHOD WHICH ADD ALL CHARSETS TO LIST\n\n        inputCode = new JComboBox(qweqwe.toArray());\n        outputCode = new JComboBox(qweqwe.toArray());\n\n        JScrollPane scrollPaneInput = new JScrollPane(input, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        JScrollPane scrollPaneOutput = new JScrollPane(output, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n\n        scrollPaneInput.setBorder(BorderFactory.createTitledBorder(\"Input Path\"));\n        scrollPaneOutput.setBorder(BorderFactory.createTitledBorder(\"Output Path\"));\n\n        inputCode.setPreferredSize(new Dimension(400,50));\n        outputCode.setPreferredSize(new Dimension(400,50));\n\n        scrollPaneInput.setPreferredSize(new Dimension(400, 100));\n        scrollPaneOutput.setPreferredSize(new Dimension(400, 100));\n\n        input.addKeyListener(new KeyAdapter() {\n             public void keyPressed(KeyEvent evt){  \n                    Strumieniowanie tmp;\n                    if(evt.getKeyCode() == KeyEvent.VK_ENTER)\n                    {\n                        try {\n                            tmp = new Strumieniowanie(input.getText(), output.getText());\n                        } catch (IOException e) {\n                            // TODO Auto-generated catch block\n                            e.printStackTrace();\n                        }\n                    }\n                }\n        });\n\n        frame.getContentPane().add(scrollPaneInput);\n        frame.getContentPane().add(scrollPaneOutput);\n        frame.getContentPane().add(inputCode);\n        frame.getContentPane().add(outputCode);\n\n        frame.setLayout(new  FlowLayout());\n        frame.setPreferredSize(new Dimension(850, 220));\n        frame.setVisible(true);\n        frame.pack();\n\n    }\n\n    private ArrayList napelnijTalbiceCharsetami(ArrayList tmp){\n        Map charSets = Charset.availableCharsets();\n        Iterator iterator = charSets.keySet().iterator();\n        while (iterator.hasNext()) {\n            System.out.println(iterator.next().toString());\n            tmp.add(iterator.next().toString());\n        }\n        return tmp;\n    }\n\n\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Kodowanie l = new Kodowanie();\n        l.createGUI();\n    }\n\n\n\n}\n</code></pre>\n\n<p><strong>Strumieniowanie.java</strong></p>\n\n<pre><code>public class Strumieniowanie extends Kodowanie {\n\n    protected boolean pathInputOk = false;\n    protected boolean pathOutputOk = false;\n\npublic Strumieniowanie(String tmpInpute, String tmpOutput) throws IOException {\n\n\n    File plikInput = new File(tmpInpute);\n    File plikOutput = new File(tmpOutput);\n\n    String inputText;\n    inputText =  (String) inputCode.getSelectedItem(); //HERE I TRY TO GET STRING FROM JCOMBOBOX BUT IT IS ALWAYS NULL !\n    System.out.println(inputText);\n\n    pathInputOk = plikInput.isFile();\n    pathOutputOk = plikOutput.isFile();\n\n    System.out.println(pathInputOk);\n    System.out.println(pathOutputOk);\n\n    if (pathInputOk &amp;&amp; pathOutputOk) {\n        File nowyPlik = new File(tmpInpute);\n\n        FileInputStream fis = new FileInputStream(nowyPlik);\n\n        fis.close();\n\n    }\n\n}\n\nprotected boolean isItaPath(File plik) {\n    boolean tmp = \n\nfalse;\n        tmp = plik.isFile();\n\n        return tmp;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","class","methods","instantiation","abstract"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1634296396,"post_id":69583835,"comment_id":122992264,"body_markdown":"`new Money.dollar(5)` is just wrong unless `dollar` is a nested class within `Money`. Just `new Dollar(5)`!?","body":"<code>new Money.dollar(5)</code> is just wrong unless <code>dollar</code> is a nested class within <code>Money</code>. Just <code>new Dollar(5)</code>!?"}],"answers":[{"tags":[],"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634302071,"creation_date":1634298772,"answer_id":69584322,"question_id":69583835,"body_markdown":"\r\n* `abstract class Money` : You&#39;re declaring an ***abstract*** class Money.\r\n* `Money d = new Money.dollar(5);` :  Then you&#39;re trying to ***instantiate*** an object from this class with `new` keyword. This is not allowed for abstract classes.\r\n\r\nIf you want to call a method defined in an abstract class from outside then it must be a `static` method, then call this method statically. Here is a refactored version of your code that works.\r\n\r\n```java\r\nclass Test {\r\n\r\n   abstract static class Money {\r\n\r\n    protected int amount;\r\n\r\n    public static Dollar dollar(int amount) {\r\n      return new Test().new Dollar(amount);\r\n    }\r\n  }\r\n\r\n  class Dollar extends Money {\r\n\r\n    public Dollar(int amount) {\r\n      this.amount = amount;\r\n    }\r\n  }\r\n\r\n  public void testMultiplication() {\r\n    Money d = Money.dollar(5);\r\n  }\r\n\r\n  public static void main(String args[]) {}\r\n}\r\n```","title":"Why can&#39;t I call a method (public or static) from an Abstact class of type subclass when creating an instance of the subclass in another function?","body":"<ul>\n<li><code>abstract class Money</code> : You're declaring an <em><strong>abstract</strong></em> class Money.</li>\n<li><code>Money d = new Money.dollar(5);</code> :  Then you're trying to <em><strong>instantiate</strong></em> an object from this class with <code>new</code> keyword. This is not allowed for abstract classes.</li>\n</ul>\n<p>If you want to call a method defined in an abstract class from outside then it must be a <code>static</code> method, then call this method statically. Here is a refactored version of your code that works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n\n   abstract static class Money {\n\n    protected int amount;\n\n    public static Dollar dollar(int amount) {\n      return new Test().new Dollar(amount);\n    }\n  }\n\n  class Dollar extends Money {\n\n    public Dollar(int amount) {\n      this.amount = amount;\n    }\n  }\n\n  public void testMultiplication() {\n    Money d = Money.dollar(5);\n  }\n\n  public static void main(String args[]) {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16424792,"reputation":314,"user_id":11865149,"display_name":"benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634300404,"creation_date":1634300404,"answer_id":69584618,"question_id":69583835,"body_markdown":"TLDR:\r\nThere are a lot of problems with this code, if it&#39;s copied from a book then I suggest you start again from scratch. The problem isn&#39;t with abstract classes.\r\n\r\nThe problems:\r\n\r\nFirst of all, `Money d = new Money.dollar(5);` is not valid syntax. If method A creates a new object of type B, you should write: `B justCreated = A();` (lose the `new`).\r\n\r\nOther than that:\r\nin **your version** (*the function Dollar dollar in the abstract class Money is also instructed to be static*), since dollar is non-static, you can&#39;t use `Money.dollar()`.\r\n\r\nIf **it was** static, it still doesn&#39;t work (as you said), because you can&#39;t make a static method inside a non static inner class, so Money must be static as well. But then you can&#39;t use `new` inside a static method (see [this][1] thread).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context","title":"Why can&#39;t I call a method (public or static) from an Abstact class of type subclass when creating an instance of the subclass in another function?","body":"<p>TLDR:\nThere are a lot of problems with this code, if it's copied from a book then I suggest you start again from scratch. The problem isn't with abstract classes.</p>\n<p>The problems:</p>\n<p>First of all, <code>Money d = new Money.dollar(5);</code> is not valid syntax. If method A creates a new object of type B, you should write: <code>B justCreated = A();</code> (lose the <code>new</code>).</p>\n<p>Other than that:\nin <strong>your version</strong> (<em>the function Dollar dollar in the abstract class Money is also instructed to be static</em>), since dollar is non-static, you can't use <code>Money.dollar()</code>.</p>\n<p>If <strong>it was</strong> static, it still doesn't work (as you said), because you can't make a static method inside a non static inner class, so Money must be static as well. But then you can't use <code>new</code> inside a static method (see <a href=\"https://stackoverflow.com/questions/2559527/non-static-variable-cannot-be-referenced-from-a-static-context\">this</a> thread).</p>\n"}],"owner":{"account_id":19643183,"reputation":1,"user_id":14378804,"display_name":"JoelNash-Xuuki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1634302071,"creation_date":1634296205,"question_id":69583835,"body_markdown":"In the code below the function dollar of type Dollar is not found and the program doesn&#39;t compile:   \r\n\r\n        \r\n        class Test{\r\n          abstract class Money{\r\n            protected int amount;\r\n            public Dollar dollar(int amount){\r\n              return new Dollar(amount);\r\n            }\r\n        }\r\n    \r\n        class Dollar extends Money{\r\n          public Dollar(int amount){\r\n            this.amount= amount;\r\n          }\r\n        }\r\n    \r\n        public void testMultiplication(){\r\n          Money d = new Money.dollar(5);\r\n        }\r\n    \r\n        public static void main(String args[]){}\r\n    }\r\n        \r\n        \r\n\r\nI&#39;ve launched my java app on the cli with the command: \r\n\r\n    \r\n    java File.java \r\n    \r\n\r\nHere&#39;s what the warning says:\r\n\r\n    \r\n    File.java:16: error: cannot find symbol\r\n            Money d = new Money.dollar(5);\r\n                           ^\r\n      symbol:   class dollar\r\n      location: class Test.Money\r\n    1 error\r\n    error: compilation failed \r\n    \r\n\r\nThe code is referenced from the book Test-Driven Development By Example, written by Kent Beck. And there&#39;s a github with the more complete code that I am using as a guide: https://github.com/No3x/money-tdd-by-example-kent-beck/blob/master/src/main/java/de/no3x/tdd/money/Money.java\r\n\r\nI want to mention that the function Dollar dollar in the abstract class Money is also instructed to be static but that creates another error on top of this current error we&#39;re dealing with here.\r\n\r\nOn reading the above can you see why I can&#39;t call a method (public or static) from an Abstact class of type subclass when also creating an instance of an object in another function? ","title":"Why can&#39;t I call a method (public or static) from an Abstact class of type subclass when creating an instance of the subclass in another function?","body":"<p>In the code below the function dollar of type Dollar is not found and the program doesn't compile:</p>\n<pre><code>    class Test{\n      abstract class Money{\n        protected int amount;\n        public Dollar dollar(int amount){\n          return new Dollar(amount);\n        }\n    }\n\n    class Dollar extends Money{\n      public Dollar(int amount){\n        this.amount= amount;\n      }\n    }\n\n    public void testMultiplication(){\n      Money d = new Money.dollar(5);\n    }\n\n    public static void main(String args[]){}\n}\n    \n    \n</code></pre>\n<p>I've launched my java app on the cli with the command:</p>\n<pre><code>java File.java \n</code></pre>\n<p>Here's what the warning says:</p>\n<pre><code>File.java:16: error: cannot find symbol\n        Money d = new Money.dollar(5);\n                       ^\n  symbol:   class dollar\n  location: class Test.Money\n1 error\nerror: compilation failed \n</code></pre>\n<p>The code is referenced from the book Test-Driven Development By Example, written by Kent Beck. And there's a github with the more complete code that I am using as a guide: <a href=\"https://github.com/No3x/money-tdd-by-example-kent-beck/blob/master/src/main/java/de/no3x/tdd/money/Money.java\" rel=\"nofollow noreferrer\">https://github.com/No3x/money-tdd-by-example-kent-beck/blob/master/src/main/java/de/no3x/tdd/money/Money.java</a></p>\n<p>I want to mention that the function Dollar dollar in the abstract class Money is also instructed to be static but that creates another error on top of this current error we're dealing with here.</p>\n<p>On reading the above can you see why I can't call a method (public or static) from an Abstact class of type subclass when also creating an instance of an object in another function?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":8,"creation_date":1634295345,"post_id":69583634,"comment_id":122991963,"body_markdown":"`&#39;?&#39;` is equal to `&#39;?&#39;` (e.g. `c == &#39;?&#39;` would be true), the other one is not.","body":"<code>&#39;?&#39;</code> is equal to <code>&#39;?&#39;</code> (e.g. <code>c == &#39;?&#39;</code> would be true), the other one is not."},{"owner":{"account_id":3024120,"reputation":3293,"user_id":2564509,"display_name":"djm.im"},"score":0,"creation_date":1634300408,"post_id":69583634,"comment_id":122993634,"body_markdown":"Does this answer your question? [How to remove special and 4 bytes char from String?](https://stackoverflow.com/questions/69538807/how-to-remove-special-and-4-bytes-char-from-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69538807/how-to-remove-special-and-4-bytes-char-from-string\">How to remove special and 4 bytes char from String?</a>"}],"answers":[{"tags":[],"owner":{"account_id":21480479,"reputation":150,"user_id":15827939,"display_name":"InSaNiTy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634301849,"creation_date":1634301265,"answer_id":69584818,"question_id":69583634,"body_markdown":"----------\r\n\r\n**Character Encoding:**\r\n\r\nShort: In computers, each character is represented by a set of binary digits. The digits for representing a character are determined by the ***character encoding*** that you have chosen to use. For enrichment:\r\n\r\nhttps://en.wikipedia.org/wiki/Character_encoding\r\n\r\n----------\r\n\r\n**Solution:**\r\n\r\nTo the two characters you&#39;ve introduced here, there are completely different numeric values. I don&#39;t know what character encoding you are using (I don&#39;t need to know), so try to print their numeric value by converting them to an integer and look at the result.\r\n\r\nAs you can see, their values are different, and incidentally, also their appearance. Therefore, it follows that all that needs to be done is to compare these two characters (Which is actually to compare both numeric values).\r\n\r\n```\r\nif (&#39;&#39; == &#39;?&#39;)\r\n    System.out.println(&quot;Always False!&quot;);\r\n```\r\n\r\nCan you see the problem here? Yes, this condition will be always **FALSE**. As a result, the instruction inside the *if statement* scope is considered **dead code**.\r\n","title":"Java - two chars, how recognize which one is &#39;?&#39;","body":"<hr />\n<p><strong>Character Encoding:</strong></p>\n<p>Short: In computers, each character is represented by a set of binary digits. The digits for representing a character are determined by the <em><strong>character encoding</strong></em> that you have chosen to use. For enrichment:</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Character_encoding</a></p>\n<hr />\n<p><strong>Solution:</strong></p>\n<p>To the two characters you've introduced here, there are completely different numeric values. I don't know what character encoding you are using (I don't need to know), so try to print their numeric value by converting them to an integer and look at the result.</p>\n<p>As you can see, their values are different, and incidentally, also their appearance. Therefore, it follows that all that needs to be done is to compare these two characters (Which is actually to compare both numeric values).</p>\n<pre><code>if ('' == '?')\n    System.out.println(&quot;Always False!&quot;);\n</code></pre>\n<p>Can you see the problem here? Yes, this condition will be always <strong>FALSE</strong>. As a result, the instruction inside the <em>if statement</em> scope is considered <strong>dead code</strong>.</p>\n"}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634301849,"creation_date":1634295257,"question_id":69583634,"body_markdown":"I have two char &#39;&#39; and &#39;?&#39;. \r\nHow to recognize them from java?\r\nHow to check which one is natural &#39;?&#39; and which one is not?\r\n","title":"Java - two chars, how recognize which one is &#39;?&#39;","body":"<p>I have two char '' and '?'.\nHow to recognize them from java?\nHow to check which one is natural '?' and which one is not?</p>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634301777,"creation_date":1634243530,"answer_id":69577012,"question_id":69576957,"body_markdown":"You need to select tag by attribute:\r\n\r\n    document.select(&quot;input[placeholder=Open]&quot;)\r\n\r\nUPD:\r\nTo select tag has any attribute with value &quot;Open&quot; you need to iterate over all attribute values:\r\n\r\n    List&lt;Element&gt; result = document.select(&quot;input&quot;).stream()\r\n                .filter(input -&gt; hasAttrValue(input, &quot;Open&quot;))\r\n                .collect(Collectors.toList());\r\n    \r\nhasAttrValue method:\r\n\r\n    private boolean hasAttrValue(Element element, String targetValue) {\r\n        for (Attribute attribute : element.attributes()) {\r\n            if (targetValue.equals(attribute.getValue())) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"JSoup - Get tag based on text","body":"<p>You need to select tag by attribute:</p>\n<pre><code>document.select(&quot;input[placeholder=Open]&quot;)\n</code></pre>\n<p>UPD:\nTo select tag has any attribute with value &quot;Open&quot; you need to iterate over all attribute values:</p>\n<pre><code>List&lt;Element&gt; result = document.select(&quot;input&quot;).stream()\n            .filter(input -&gt; hasAttrValue(input, &quot;Open&quot;))\n            .collect(Collectors.toList());\n</code></pre>\n<p>hasAttrValue method:</p>\n<pre><code>private boolean hasAttrValue(Element element, String targetValue) {\n    for (Attribute attribute : element.attributes()) {\n        if (targetValue.equals(attribute.getValue())) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":19031562,"reputation":61,"user_id":13893555,"display_name":"Anoop "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634301777,"creation_date":1634243160,"question_id":69576957,"body_markdown":"Suppose I have 3 text boxes on a page defined as below.\r\n\r\n    &lt;input id=&quot;input&quot; type=&quot;search&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Search&quot;&gt;\r\n    \r\n    &lt;input id=&quot;input&quot; type=&quot;open&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Open&quot;&gt;\r\n    \r\n    &lt;input id=&quot;input&quot; type=&quot;close&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Close&quot;&gt;\r\n\r\nI will pass the value &#39;Open&#39; as a parameter to JSoup and JSoup should return me the data as below (which are the details of the middle textbox). \r\n\r\n    &lt;input id=&quot;input&quot; type=&quot;open&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Open&quot;&gt;\r\n\r\nCan JSoup do this?\r\n\r\nThank You\r\n\r\n-Anoop","title":"JSoup - Get tag based on text","body":"<p>Suppose I have 3 text boxes on a page defined as below.</p>\n<pre><code>&lt;input id=&quot;input&quot; type=&quot;search&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Search&quot;&gt;\n\n&lt;input id=&quot;input&quot; type=&quot;open&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Open&quot;&gt;\n\n&lt;input id=&quot;input&quot; type=&quot;close&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Close&quot;&gt;\n</code></pre>\n<p>I will pass the value 'Open' as a parameter to JSoup and JSoup should return me the data as below (which are the details of the middle textbox).</p>\n<pre><code>&lt;input id=&quot;input&quot; type=&quot;open&quot; autocomplete=&quot;off&quot; role=&quot;combobox&quot; placeholder=&quot;Open&quot;&gt;\n</code></pre>\n<p>Can JSoup do this?</p>\n<p>Thank You</p>\n<p>-Anoop</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","nosql"],"comments":[{"owner":{"account_id":3935037,"reputation":1779,"user_id":3251705,"display_name":"chirag"},"score":0,"creation_date":1471932681,"post_id":39073883,"comment_id":65534193,"body_markdown":"refer this link: http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/EMRforDynamoDB.html","body":"refer this link: <a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/EMRforDynamoDB.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/&hellip;</a>"},{"owner":{"account_id":3935037,"reputation":1779,"user_id":3251705,"display_name":"chirag"},"score":0,"creation_date":1471932710,"post_id":39073883,"comment_id":65534206,"body_markdown":"you can use Amazon EMR","body":"you can use Amazon EMR"}],"answers":[{"tags":[],"owner":{"account_id":1531241,"reputation":3354,"user_id":1428388,"display_name":"jzonthemtn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471879931,"creation_date":1471879931,"answer_id":39083484,"question_id":39073883,"body_markdown":"You can accomplish that with a single table. Each row in the table can contain the person&#39;s unique ID, name, age, gender, student ID, school name, and a collection of grades.","title":"How to join tables in dynamoDB?","body":"<p>You can accomplish that with a single table. Each row in the table can contain the person's unique ID, name, age, gender, student ID, school name, and a collection of grades.</p>\n"},{"tags":[],"owner":{"account_id":24725,"reputation":54586,"user_id":63074,"accept_rate":55,"display_name":"Mike Dinescu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471907722,"creation_date":1471907722,"answer_id":39090118,"question_id":39073883,"body_markdown":"DynamoDB does not support joining tables on the service-side. Any joining you may wish to do has to be done on the client.\r\n\r\nIf possible, you should revisit your table design to include all needed information in a single record in one table instead of the 4 tables you have.\r\n\r\nYour Dynamo DB Table would look something like this:  \r\n\r\n    unique_id, Name, Age, Gender, studentID, schoolName, Grades, other attributes\r\n\r\nIf that is not possible then your only option is to try to perform the joins in memory with a combination of full table scans with indexes and  queries. For instance you could create a Global Secondary Index (GSI) to be able to do a reverse mapping for SID to UID. And then, you could use queries instead of scans to perform the joining - though the joining would still be performed on client side. ","title":"How to join tables in dynamoDB?","body":"<p>DynamoDB does not support joining tables on the service-side. Any joining you may wish to do has to be done on the client.</p>\n\n<p>If possible, you should revisit your table design to include all needed information in a single record in one table instead of the 4 tables you have.</p>\n\n<p>Your Dynamo DB Table would look something like this:  </p>\n\n<pre><code>unique_id, Name, Age, Gender, studentID, schoolName, Grades, other attributes\n</code></pre>\n\n<p>If that is not possible then your only option is to try to perform the joins in memory with a combination of full table scans with indexes and  queries. For instance you could create a Global Secondary Index (GSI) to be able to do a reverse mapping for SID to UID. And then, you could use queries instead of scans to perform the joining - though the joining would still be performed on client side. </p>\n"},{"tags":[],"owner":{"account_id":2153758,"reputation":41,"user_id":1909440,"display_name":"vivek agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548181236,"creation_date":1548044034,"answer_id":54283425,"question_id":39073883,"body_markdown":"you can try using JDBC driver for dynamodb, Example is cdata jdbc driver. I used this in my one project it worked well for joining tables as well aggregate functions. Only thing is in my case I used joining for tables with very less data (max 1000 records). For huge data you might have to check if there is any performance impact. \r\n\r\nFor below code you have register with Cdata and download the Cdata JDBC driver. following is the Cdata web url [enter link description here][1]\r\n\r\n    private String getLastRecordDate(DbServer dbserver, String area){\r\n    \tString lastRecordDate=&quot;&quot;;\r\n    \tConnection conn =null;\r\n    \ttry{\r\n\t    \t conn = DriverManager.getConnection(&quot;jdbc:dynamodb:Other=&#39;threadcount=1&#39;;Verbosity=2;AccessKey=abcdefgc;SecretKey=acddasdd;Domain=amazonaws.com;Region=mumbai;&quot;);\r\n\t\t\tStatement stat = conn.createStatement();\r\n\t\r\n\t\t\tboolean ret = stat.execute(&quot;select employee_name,project_name from employee e left join project p on e.project_id=p.id &quot;);\r\n\t\t\tResultSet rs=stat.getResultSet();\r\n\t\t\tif(rs.next()){\r\n\t\t\t\trs.getString(&quot;employee_name&quot;);\r\n\t\t\t\trs.getString(&quot;project_name&quot;);\r\n\t\t\t}\r\n\t\t\trs.close();\r\n\t\t\tconn.close();\r\n\t\t}catch(Exception ex){\r\n\t\t\tex.printStackTrace();\r\n\t\t\tlog.info(ex.toString());\r\n\t\t}finally {\r\n\t\t\tif (conn != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconn.close();\r\n\t\t\t\t} catch (SQLException e) {}\r\n\t\t\t}\r\n\t\t}\r\n    \treturn lastRecordDate;\r\n    }\r\n\r\n\r\n  [1]: https://www.cdata.com/drivers/dynamodb/jdbc/","title":"How to join tables in dynamoDB?","body":"<p>you can try using JDBC driver for dynamodb, Example is cdata jdbc driver. I used this in my one project it worked well for joining tables as well aggregate functions. Only thing is in my case I used joining for tables with very less data (max 1000 records). For huge data you might have to check if there is any performance impact. </p>\n\n<p>For below code you have register with Cdata and download the Cdata JDBC driver. following is the Cdata web url <a href=\"https://www.cdata.com/drivers/dynamodb/jdbc/\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<pre><code>private String getLastRecordDate(DbServer dbserver, String area){\n    String lastRecordDate=\"\";\n    Connection conn =null;\n    try{\n         conn = DriverManager.getConnection(\"jdbc:dynamodb:Other='threadcount=1';Verbosity=2;AccessKey=abcdefgc;SecretKey=acddasdd;Domain=amazonaws.com;Region=mumbai;\");\n        Statement stat = conn.createStatement();\n\n        boolean ret = stat.execute(\"select employee_name,project_name from employee e left join project p on e.project_id=p.id \");\n        ResultSet rs=stat.getResultSet();\n        if(rs.next()){\n            rs.getString(\"employee_name\");\n            rs.getString(\"project_name\");\n        }\n        rs.close();\n        conn.close();\n    }catch(Exception ex){\n        ex.printStackTrace();\n        log.info(ex.toString());\n    }finally {\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (SQLException e) {}\n        }\n    }\n    return lastRecordDate;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591754,"reputation":575,"user_id":1474941,"accept_rate":18,"display_name":"Jaffy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634301468,"creation_date":1634301468,"answer_id":69584858,"question_id":39073883,"body_markdown":"You can use HiveQL which provides aggregate functions as well.\r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/developerguide/EMRforDynamoDB.Querying.html","title":"How to join tables in dynamoDB?","body":"<p>You can use HiveQL which provides aggregate functions as well.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/EMRforDynamoDB.Querying.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/EMRforDynamoDB.Querying.html</a></p>\n"}],"owner":{"account_id":3853172,"reputation":345,"user_id":3192744,"accept_rate":67,"display_name":"RJN_WLY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8087,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1634301468,"creation_date":1471851878,"question_id":39073883,"body_markdown":"I know DynamoDB doesnt support joining tables, but here is my use case:\r\n\r\n(Using similar example to hide exact details, not posting a homework problem)\r\n\r\nI have four tables \r\n\r\n    Person ( unique_id(hash key), Name(range key), Age, Gender)&lt;br&gt;\r\n    UIDtoSIDTable ( uid(hash key) , sid)&lt;br&gt;\r\n    SIDtoStudentID(sid(hash key), studentID, other attributes)&lt;br&gt;\r\n    StudentDetails(studentID(hash key), schoolName, Grades)\r\n\r\nI am using dynamodbmapper.\r\n\r\nMy application requires to display following data in a table:\r\n\r\n    unique_id, Name, Age (from Person table)\r\n    sid \r\n    SchoolName, Grades (from studentDetails table)\r\n\r\nRight now my implementation is:\r\n\r\n1. scan uidtosidTable for all uid-sid pair in a list say list1\r\n2. for each sid in list1, query for studentID from SIDtoStudentID table\r\n3. for each uid query from Person table, and for each studentID get data from StudentDetails Table\r\n\r\nProblem with this implementation is that it is taking very long to complete, over 5 minutes for 1000 items.\r\n\r\nIf it was a relational database I would have joined the four tables, and got the required data.\r\n\r\nHow to achieve this is dynamodb efficiently?","title":"How to join tables in dynamoDB?","body":"<p>I know DynamoDB doesnt support joining tables, but here is my use case:</p>\n\n<p>(Using similar example to hide exact details, not posting a homework problem)</p>\n\n<p>I have four tables </p>\n\n<pre><code>Person ( unique_id(hash key), Name(range key), Age, Gender)&lt;br&gt;\nUIDtoSIDTable ( uid(hash key) , sid)&lt;br&gt;\nSIDtoStudentID(sid(hash key), studentID, other attributes)&lt;br&gt;\nStudentDetails(studentID(hash key), schoolName, Grades)\n</code></pre>\n\n<p>I am using dynamodbmapper.</p>\n\n<p>My application requires to display following data in a table:</p>\n\n<pre><code>unique_id, Name, Age (from Person table)\nsid \nSchoolName, Grades (from studentDetails table)\n</code></pre>\n\n<p>Right now my implementation is:</p>\n\n<ol>\n<li>scan uidtosidTable for all uid-sid pair in a list say list1</li>\n<li>for each sid in list1, query for studentID from SIDtoStudentID table</li>\n<li>for each uid query from Person table, and for each studentID get data from StudentDetails Table</li>\n</ol>\n\n<p>Problem with this implementation is that it is taking very long to complete, over 5 minutes for 1000 items.</p>\n\n<p>If it was a relational database I would have joined the four tables, and got the required data.</p>\n\n<p>How to achieve this is dynamodb efficiently?</p>\n"},{"tags":["java","spring-boot","cassandra","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":446980,"reputation":2989,"user_id":840340,"display_name":"k_rus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634128593,"creation_date":1634128593,"answer_id":69555715,"question_id":69553259,"body_markdown":"[CQL functions `minTimeuuid` and `maxTimeuuid`](https://cassandra.apache.org/doc/latest/cassandra/cql/functions.html#mintimeuuid-and-maxtimeuuid) can be used to select rows which timestamp UUIDs satisfy range of given time. An example of CQL query, where `t` is `timeuuid` column:\r\n```sql\r\nSELECT * FROM myTable\r\n WHERE t &gt; maxTimeuuid(&#39;2013-01-01 00:05+0000&#39;)\r\n   AND t &lt; minTimeuuid(&#39;2013-02-02 10:00+0000&#39;);\r\n```\r\nIf I don&#39;t mistake these functions are not wrapped by spring, so it is necessary to use [CqlTemplate](https://docs.spring.io/spring-data/cassandra/docs/current/reference/html/#cassandra.cql-template) to write raw CQL queries.","title":"CassandraTemplate fetch last 5 minutes&#39; records based on timeuuid","body":"<p><a href=\"https://cassandra.apache.org/doc/latest/cassandra/cql/functions.html#mintimeuuid-and-maxtimeuuid\" rel=\"nofollow noreferrer\">CQL functions <code>minTimeuuid</code> and <code>maxTimeuuid</code></a> can be used to select rows which timestamp UUIDs satisfy range of given time. An example of CQL query, where <code>t</code> is <code>timeuuid</code> column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM myTable\n WHERE t &gt; maxTimeuuid('2013-01-01 00:05+0000')\n   AND t &lt; minTimeuuid('2013-02-02 10:00+0000');\n</code></pre>\n<p>If I don't mistake these functions are not wrapped by spring, so it is necessary to use <a href=\"https://docs.spring.io/spring-data/cassandra/docs/current/reference/html/#cassandra.cql-template\" rel=\"nofollow noreferrer\">CqlTemplate</a> to write raw CQL queries.</p>\n"},{"tags":[],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634301212,"creation_date":1634301212,"answer_id":69584804,"question_id":69553259,"body_markdown":"Have been able to do this using QueryBuilder:\r\n\r\n        final UUID min = UUIDs.startOf(LocalDateTime.now().minusMinutes(5).toInstant(ZoneOffset.UTC).toEpochMilli());\r\n\r\n        Select.Where select = QueryBuilder.select().from(&quot;my_table&quot;).where(QueryBuilder.gt(&quot;created_at&quot;, min));\r\n","title":"CassandraTemplate fetch last 5 minutes&#39; records based on timeuuid","body":"<p>Have been able to do this using QueryBuilder:</p>\n<pre><code>    final UUID min = UUIDs.startOf(LocalDateTime.now().minusMinutes(5).toInstant(ZoneOffset.UTC).toEpochMilli());\n\n    Select.Where select = QueryBuilder.select().from(&quot;my_table&quot;).where(QueryBuilder.gt(&quot;created_at&quot;, min));\n</code></pre>\n"}],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634301212,"creation_date":1634118560,"question_id":69553259,"body_markdown":"I have a Cassandra table with a column &#39;created_at&#39; which stored time based uuids. Now, I need to write a function to fetch all the records in this table that were created in the last 5 minutes. I am able to do this if I store timestamps rather than uuids for this &#39;created_at&#39; column like below:\r\n\r\n          LocalDateTime time = LocalDateTime.now().minusMinutes(5);\r\n\r\n          Select.Where select = select(COLUMNS)\r\n        .from(VIEW)\r\n        .where(gt(&#39;created_at&#39;, Timestamp.valueOf(time)));\r\n\r\nBut I need to work this out with time uuids rather than timestamps. ","title":"CassandraTemplate fetch last 5 minutes&#39; records based on timeuuid","body":"<p>I have a Cassandra table with a column 'created_at' which stored time based uuids. Now, I need to write a function to fetch all the records in this table that were created in the last 5 minutes. I am able to do this if I store timestamps rather than uuids for this 'created_at' column like below:</p>\n<pre><code>      LocalDateTime time = LocalDateTime.now().minusMinutes(5);\n\n      Select.Where select = select(COLUMNS)\n    .from(VIEW)\n    .where(gt('created_at', Timestamp.valueOf(time)));\n</code></pre>\n<p>But I need to work this out with time uuids rather than timestamps.</p>\n"},{"tags":["java","spring","spring-boot","enums","spring-data-jpa"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1633885309,"post_id":69517099,"comment_id":122873898,"body_markdown":"My it be duplicate of https://stackoverflow.com/questions/12639791/what-is-the-reason-for-java-lang-illegalargumentexception-no-enum-const-class-e ?","body":"My it be duplicate of <a href=\"https://stackoverflow.com/questions/12639791/what-is-the-reason-for-java-lang-illegalargumentexception-no-enum-const-class-e\" title=\"what is the reason for java lang illegalargumentexception no enum const class e\">stackoverflow.com/questions/12639791/&hellip;</a> ?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633906833,"post_id":69517099,"comment_id":122878201,"body_markdown":"I find `filter(e -&gt; e.name().equals(params.getStatus()))` very suspicious. You are trying to compare a `String` with a `List&lt;BusinessCustomersStatus&gt;`. Additionally, could it be that you have old data / values in your database?","body":"I find <code>filter(e -&gt; e.name().equals(params.getStatus()))</code> very suspicious. You are trying to compare a <code>String</code> with a <code>List&lt;BusinessCustomersStatus&gt;</code>. Additionally, could it be that you have old data / values in your database?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1633910895,"post_id":69517099,"comment_id":122878658,"body_markdown":"Yes, in this case this is not correct. How I can fix this? And no, the database data should not be a problem.","body":"Yes, in this case this is not correct. How I can fix this? And no, the database data should not be a problem."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1634203726,"post_id":69517099,"comment_id":122964356,"body_markdown":"Here you can see the code example: https://github.com/rcbandit111/Search_specification_POC","body":"Here you can see the code example: <a href=\"https://github.com/rcbandit111/Search_specification_POC\" rel=\"nofollow noreferrer\">github.com/rcbandit111/Search_specification_POC</a>"},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1634224731,"post_id":69517099,"comment_id":122973221,"body_markdown":"I guess you should user a `JPA Converter` An example is https://www.baeldung.com/jpa-attribute-converters","body":"I guess you should user a <code>JPA Converter</code> An example is <a href=\"https://www.baeldung.com/jpa-attribute-converters\" rel=\"nofollow noreferrer\">baeldung.com/jpa-attribute-converters</a>"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634300721,"creation_date":1634063356,"answer_id":69545376,"question_id":69517099,"body_markdown":"I think you are mixing several of the options exposed in my answer to your [original question](https://stackoverflow.com/questions/69163458/java-lang-illegalargumentexception-no-enum-constant-found).\r\n\r\nAssuming that you are defining `status` as a `List` as in the example you provided:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class BusinessCustomersSearchParams {\r\n\r\n    private String title;\r\n\r\n    private List&lt;BusinessCustomersStatus&gt; status;\r\n\r\n    private LocalDateTime createdAt;\r\n\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\nYou can try using in your `Specification` either an `in` clause:\r\n\r\n```java\r\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\r\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (params.getTitle() != null) {\r\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n        }\r\n  \r\n        // According to your comments, please, see this example\r\n        // about how to wrap the List returned from your form\r\n        final List&lt;BusinessCustomersStatus&gt; statuses = Optional.ofNullable(params.getStatus()).orElse(Collections.emptyList());\r\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n            predicates.add(root.get(&quot;status&quot;).in(statuses));\r\n        }\r\n        \r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n}\r\n```\r\n\r\nOr you can iterate over the `status` collection in order to verify each value and build an `or` predicate with the required filter criteria:\r\n\r\n```java\r\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\r\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (params.getTitle() != null) {\r\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n        }\r\n\r\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\r\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n            List&lt;Predicate&gt; statusPredicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\r\n\r\n            statuses.forEach(status -&gt; {\r\n                Optional&lt;BusinessCustomersStatus&gt; optStatus = businessCustomersStatusEnumSet\r\n                    .stream()\r\n                    .filter(e -&gt; e.equals(status))\r\n                    .findAny();\r\n\r\n                if(optStatus.isPresent()){\r\n                    statusPredicates.add(cb.equal(root.get(&quot;status&quot;), cb.literal(status)));\r\n                }    \r\n            });\r\n            \r\n            predicates.add(\r\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\r\n            );\r\n        }\r\n\r\n        \r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n}\r\n```\r\n\r\nIn fact, as you are already using the enumeration and not `String`s I think the `forEach` loop presented in the previous code can be simplified as follows:\r\n\r\n```java\r\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\r\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (params.getTitle() != null) {\r\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n        }\r\n\r\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\r\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n            List&lt;Predicate&gt; statusPredicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\r\n\r\n            statuses.forEach(status -&gt; {\r\n              if(businessCustomersStatusEnumSet.contains(status)){\r\n                statusPredicates.add(cb.equal(root.get(&quot;status&quot;), cb.literal(status)));\r\n              }    \r\n            });\r\n            \r\n            predicates.add(\r\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\r\n            );\r\n        }\r\n\r\n        \r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n}\r\n```\r\n\r\nOr even, with a different approach:\r\n\r\n```java\r\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\r\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (params.getTitle() != null) {\r\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n        }\r\n\r\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\r\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\r\n\r\n            List&lt;Predicate&gt; statusPredicates = businessCustomersStatusEnumSet.stream()\r\n              .filter(status -&gt; statuses.contains(status))\r\n              .map(status -&gt; cb.equal(root.get(&quot;status&quot;), cb.literal(status)))\r\n              .collect(Collectors.toList())\r\n            ;\r\n            \r\n            if (statusPredicates != null &amp;&amp; !statusPredicates.isEmpty()) {\r\n              predicates.add(\r\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\r\n              );\r\n            }\r\n        }\r\n\r\n        \r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n}\r\n```\r\n\r\nThe first of the provided approaches is the one that should be used in a typical use case, although the last can probably solve the problem by removing the incorrect values, but the actual question remains: why you are receiving the incorrect enum value in first place? Please, review your database records seeking for incorrect ones, and be sure - sorry for saying, but sometimes it happens, I faced myself - that you use everywhere the annotation value, `A`, for instance, and not the value associated with it, `active`, continuing with the example; they are the values that should be stored in the database, those to be submitted by your frontend, etc.\r\n\r\n---\r\n\r\nIf you need or prefer to use the `status` literal associated with your enumeration, you can follow the following approach.\r\n\r\nFirst, modify your enum and provide a helper method in the conversion process:\r\n\r\n```java\r\npublic enum BusinessCustomersStatus {\r\n    ACTIVE(&quot;active&quot;),\r\n    ONBOARDING(&quot;onboarding&quot;),\r\n    NOT_VERIFIED(&quot;not_verified&quot;),\r\n    VERIFIED(&quot;verified&quot;),\r\n    SUSPENDED(&quot;suspended&quot;),\r\n    INACTIVE(&quot;inactive&quot;);\r\n\r\n    private String status;\r\n\r\n    BusinessCustomersStatus(String status)\r\n    {\r\n        this.status = status;\r\n    }\r\n\r\n    public static BusinessCustomersStatus fromStatus(String status) {\r\n        switch (status) {\r\n            case &quot;active&quot;: {\r\n                return ACTIVE;\r\n            }\r\n\r\n            case &quot;onboarding&quot;: {\r\n                return ONBOARDING;\r\n            }\r\n\r\n            case &quot;not_verified&quot;: {\r\n                return NOT_VERIFIED;\r\n            }\r\n\r\n            case &quot;verified&quot;: {\r\n                return VERIFIED;\r\n            }\r\n\r\n            case &quot;suspended&quot;: {\r\n                return SUSPENDED;\r\n            }\r\n\r\n            case &quot;inactive&quot;: {\r\n                return INACTIVE;\r\n            }\r\n\r\n            default: {\r\n                throw new UnsupportedOperationException(\r\n                    String.format(&quot;Unkhown status: &#39;%s&#39;&quot;, status)\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen, modify `BusinessCustomersSearchParams ` to use `String` instead of the enumeration for the `status` field:\r\n\r\n```java\r\n@Getter\r\n@Setter\r\npublic class BusinessCustomersSearchParams {\r\n\r\n    private String title;\r\n\r\n    private List&lt;String&gt; status;\r\n\r\n    private LocalDateTime createdAt;\r\n\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\nFinally, modify your Specification to handle the conversion process. For instance:\r\n\r\n```java\r\n@Override\r\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable)\r\n{\r\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        if (params.getTitle() != null) {\r\n            predicates.add(cb.like(cb.lower(root.get(&quot;description&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n        }\r\n\r\n        final List&lt;String&gt; statuses = Optional.ofNullable(params.getStatus()).orElse(Collections.emptyList());\r\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n            List&lt;BusinessCustomersStatus&gt; statusesAsEnum = statuses.stream()\r\n                .map(status -&gt; BusinessCustomersStatus.fromStatus(status))\r\n                .collect(Collectors.toList())\r\n                ;\r\n\r\n            predicates.add(root.get(&quot;status&quot;).in(statusesAsEnum));\r\n        }\r\n\r\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n    };\r\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n}\r\n```\r\n\r\nYou can use the `fromStatus` method in the insertion process as well. \r\n\r\nHaving said that, I don&#39;t know if it what you need, but I think here you can use an [`AttributeConverter`](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#basic-enums-attribute-converter). Consider for instance:\r\n\r\n```java\r\nimport javax.persistence.AttributeConverter;\r\nimport javax.persistence.Converter;\r\n\r\n@Converter\r\npublic class BusinessCustomersStatusAttributeConverter\r\n    implements AttributeConverter&lt;BusinessCustomersStatus, String&gt; {\r\n\r\n  public String convertToDatabaseColumn( BusinessCustomersStatus value ) {\r\n    if ( value == null ) {\r\n      return null;\r\n    }\r\n\r\n    return value.getStatus();\r\n  }\r\n\r\n  public BusinessCustomersStatus convertToEntityAttribute( String value ) {\r\n    if ( value == null ) {\r\n      return null;\r\n    }\r\n\r\n    return BusinessCustomersStatus.fromStatus( value );\r\n  }\r\n\r\n}\r\n```\r\n\r\nYou need to provide the additional `getStatus` method in your enumeration:\r\n\r\n```java\r\npackage org.merchant.database.service.businesscustomers;\r\n\r\npublic enum BusinessCustomersStatus {\r\n    ACTIVE(&quot;active&quot;),\r\n    ONBOARDING(&quot;onboarding&quot;),\r\n    NOT_VERIFIED(&quot;not_verified&quot;),\r\n    VERIFIED(&quot;verified&quot;),\r\n    SUSPENDED(&quot;suspended&quot;),\r\n    INACTIVE(&quot;inactive&quot;);\r\n\r\n    private String status;\r\n\r\n    BusinessCustomersStatus(String status)\r\n    {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public static BusinessCustomersStatus fromStatus(String status) {\r\n        switch (status) {\r\n            case &quot;active&quot;: {\r\n                return ACTIVE;\r\n            }\r\n\r\n            case &quot;onboarding&quot;: {\r\n                return ONBOARDING;\r\n            }\r\n\r\n            case &quot;not_verified&quot;: {\r\n                return NOT_VERIFIED;\r\n            }\r\n\r\n            case &quot;verified&quot;: {\r\n                return VERIFIED;\r\n            }\r\n\r\n            case &quot;suspended&quot;: {\r\n                return SUSPENDED;\r\n            }\r\n\r\n            case &quot;inactive&quot;: {\r\n                return INACTIVE;\r\n            }\r\n\r\n            default: {\r\n                throw new UnsupportedOperationException(\r\n                    String.format(&quot;Unkhown status: &#39;%s&#39;&quot;, status)\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, your `BusinessCustomers` entity should be modified to something like:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;business_customers&quot;)\r\npublic class BusinessCustomers implements Serializable {\r\n   \r\n    ..........\r\n    @Convert( converter = BusinessCustomersStatusAttributeConverter.class )\r\n    private BusinessCustomersStatus status;\r\n    ......\r\n}\r\n```\r\n\r\nPlease, be aware that if you implement the `AttributeConverter` approach in the database the values stored will be as well the literal `status` associated with the enumeration, not the enumeration `name` itself. Please, keep the `@Enumerated` approach in `BusinessCustomers` if you prefer to store the enumeration values. If you used the `AttributeConverter` approach for testing, please, remember to update the values of the `status` column to those corresponding to the enumeration.\r\n\r\nFinally, regarding your last comment, you are receiving `&quot;status&quot;: &quot;ACTIVE&quot;`: this is because your Mapstruct `Mapper` is providing the `name` of the enum as the value for the `status` field in `BusinessCustomersFullDTO`. To handle the appropriate conversion, please, try the following:\r\n\r\n```java\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.Named;\r\nimport org.merchant.config.BaseMapperConfig;\r\nimport org.merchant.database.entity.BusinessCustomers;\r\nimport org.merchant.database.service.businesscustomers.BusinessCustomersStatus;\r\nimport org.merchant.dto.businesscustomers.BusinessCustomersFullDTO;\r\n\r\n@Mapper(config = BaseMapperConfig.class)\r\npublic interface BusinessCustomersMapper {\r\n\r\n\t@Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;businessCustomersToDTOStatus&quot;)\r\n\tBusinessCustomersFullDTO toFullDTO(BusinessCustomers businessCustomers);\r\n\r\n\r\n\t@Named(&quot;busineessCustomersToDTOStatus&quot;)\r\n\tpublic static String businessCustomersToDTOStatus(final BusinessCustomersStatus status) {\r\n\t\tif (status == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn status.getStatus();\r\n\t}\r\n}\r\n```\r\n\r\nIn the code we are using `@Named` and `qualifiedByName` to provide the custom conversion. Please, see the [relevant documentation](https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers).","title":"java.lang.IllegalArgumentException: No enum BusinessCustomersStatus.4d29e059cf","body":"<p>I think you are mixing several of the options exposed in my answer to your <a href=\"https://stackoverflow.com/questions/69163458/java-lang-illegalargumentexception-no-enum-constant-found\">original question</a>.</p>\n<p>Assuming that you are defining <code>status</code> as a <code>List</code> as in the example you provided:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class BusinessCustomersSearchParams {\n\n    private String title;\n\n    private List&lt;BusinessCustomersStatus&gt; status;\n\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>You can try using in your <code>Specification</code> either an <code>in</code> clause:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (params.getTitle() != null) {\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n        }\n  \n        // According to your comments, please, see this example\n        // about how to wrap the List returned from your form\n        final List&lt;BusinessCustomersStatus&gt; statuses = Optional.ofNullable(params.getStatus()).orElse(Collections.emptyList());\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\n            predicates.add(root.get(&quot;status&quot;).in(statuses));\n        }\n        \n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n    };\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n}\n</code></pre>\n<p>Or you can iterate over the <code>status</code> collection in order to verify each value and build an <code>or</code> predicate with the required filter criteria:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (params.getTitle() != null) {\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n        }\n\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\n            List&lt;Predicate&gt; statusPredicates = new ArrayList&lt;Predicate&gt;();\n\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\n\n            statuses.forEach(status -&gt; {\n                Optional&lt;BusinessCustomersStatus&gt; optStatus = businessCustomersStatusEnumSet\n                    .stream()\n                    .filter(e -&gt; e.equals(status))\n                    .findAny();\n\n                if(optStatus.isPresent()){\n                    statusPredicates.add(cb.equal(root.get(&quot;status&quot;), cb.literal(status)));\n                }    \n            });\n            \n            predicates.add(\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\n            );\n        }\n\n        \n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n    };\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n}\n</code></pre>\n<p>In fact, as you are already using the enumeration and not <code>String</code>s I think the <code>forEach</code> loop presented in the previous code can be simplified as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (params.getTitle() != null) {\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n        }\n\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\n            List&lt;Predicate&gt; statusPredicates = new ArrayList&lt;Predicate&gt;();\n\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\n\n            statuses.forEach(status -&gt; {\n              if(businessCustomersStatusEnumSet.contains(status)){\n                statusPredicates.add(cb.equal(root.get(&quot;status&quot;), cb.literal(status)));\n              }    \n            });\n            \n            predicates.add(\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\n            );\n        }\n\n        \n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n    };\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n}\n</code></pre>\n<p>Or even, with a different approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable) {\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (params.getTitle() != null) {\n            predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n        }\n\n        final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\n            EnumSet&lt;BusinessCustomersStatus&gt; businessCustomersStatusEnumSet = EnumSet.allOf(BusinessCustomersStatus.class);\n\n            List&lt;Predicate&gt; statusPredicates = businessCustomersStatusEnumSet.stream()\n              .filter(status -&gt; statuses.contains(status))\n              .map(status -&gt; cb.equal(root.get(&quot;status&quot;), cb.literal(status)))\n              .collect(Collectors.toList())\n            ;\n            \n            if (statusPredicates != null &amp;&amp; !statusPredicates.isEmpty()) {\n              predicates.add(\n                cb.or(statusPredicates.toArray(new Predicate[statusPredicates.size()]))\n              );\n            }\n        }\n\n        \n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n    };\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n}\n</code></pre>\n<p>The first of the provided approaches is the one that should be used in a typical use case, although the last can probably solve the problem by removing the incorrect values, but the actual question remains: why you are receiving the incorrect enum value in first place? Please, review your database records seeking for incorrect ones, and be sure - sorry for saying, but sometimes it happens, I faced myself - that you use everywhere the annotation value, <code>A</code>, for instance, and not the value associated with it, <code>active</code>, continuing with the example; they are the values that should be stored in the database, those to be submitted by your frontend, etc.</p>\n<hr />\n<p>If you need or prefer to use the <code>status</code> literal associated with your enumeration, you can follow the following approach.</p>\n<p>First, modify your enum and provide a helper method in the conversion process:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum BusinessCustomersStatus {\n    ACTIVE(&quot;active&quot;),\n    ONBOARDING(&quot;onboarding&quot;),\n    NOT_VERIFIED(&quot;not_verified&quot;),\n    VERIFIED(&quot;verified&quot;),\n    SUSPENDED(&quot;suspended&quot;),\n    INACTIVE(&quot;inactive&quot;);\n\n    private String status;\n\n    BusinessCustomersStatus(String status)\n    {\n        this.status = status;\n    }\n\n    public static BusinessCustomersStatus fromStatus(String status) {\n        switch (status) {\n            case &quot;active&quot;: {\n                return ACTIVE;\n            }\n\n            case &quot;onboarding&quot;: {\n                return ONBOARDING;\n            }\n\n            case &quot;not_verified&quot;: {\n                return NOT_VERIFIED;\n            }\n\n            case &quot;verified&quot;: {\n                return VERIFIED;\n            }\n\n            case &quot;suspended&quot;: {\n                return SUSPENDED;\n            }\n\n            case &quot;inactive&quot;: {\n                return INACTIVE;\n            }\n\n            default: {\n                throw new UnsupportedOperationException(\n                    String.format(&quot;Unkhown status: '%s'&quot;, status)\n                );\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then, modify <code>BusinessCustomersSearchParams </code> to use <code>String</code> instead of the enumeration for the <code>status</code> field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class BusinessCustomersSearchParams {\n\n    private String title;\n\n    private List&lt;String&gt; status;\n\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>Finally, modify your Specification to handle the conversion process. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable)\n{\n    Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        if (params.getTitle() != null) {\n            predicates.add(cb.like(cb.lower(root.get(&quot;description&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n        }\n\n        final List&lt;String&gt; statuses = Optional.ofNullable(params.getStatus()).orElse(Collections.emptyList());\n        if (statuses != null &amp;&amp; !statuses.isEmpty()){\n            List&lt;BusinessCustomersStatus&gt; statusesAsEnum = statuses.stream()\n                .map(status -&gt; BusinessCustomersStatus.fromStatus(status))\n                .collect(Collectors.toList())\n                ;\n\n            predicates.add(root.get(&quot;status&quot;).in(statusesAsEnum));\n        }\n\n        return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n    };\n    return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n}\n</code></pre>\n<p>You can use the <code>fromStatus</code> method in the insertion process as well.</p>\n<p>Having said that, I don't know if it what you need, but I think here you can use an <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#basic-enums-attribute-converter\" rel=\"nofollow noreferrer\"><code>AttributeConverter</code></a>. Consider for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.AttributeConverter;\nimport javax.persistence.Converter;\n\n@Converter\npublic class BusinessCustomersStatusAttributeConverter\n    implements AttributeConverter&lt;BusinessCustomersStatus, String&gt; {\n\n  public String convertToDatabaseColumn( BusinessCustomersStatus value ) {\n    if ( value == null ) {\n      return null;\n    }\n\n    return value.getStatus();\n  }\n\n  public BusinessCustomersStatus convertToEntityAttribute( String value ) {\n    if ( value == null ) {\n      return null;\n    }\n\n    return BusinessCustomersStatus.fromStatus( value );\n  }\n\n}\n</code></pre>\n<p>You need to provide the additional <code>getStatus</code> method in your enumeration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.merchant.database.service.businesscustomers;\n\npublic enum BusinessCustomersStatus {\n    ACTIVE(&quot;active&quot;),\n    ONBOARDING(&quot;onboarding&quot;),\n    NOT_VERIFIED(&quot;not_verified&quot;),\n    VERIFIED(&quot;verified&quot;),\n    SUSPENDED(&quot;suspended&quot;),\n    INACTIVE(&quot;inactive&quot;);\n\n    private String status;\n\n    BusinessCustomersStatus(String status)\n    {\n        this.status = status;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public static BusinessCustomersStatus fromStatus(String status) {\n        switch (status) {\n            case &quot;active&quot;: {\n                return ACTIVE;\n            }\n\n            case &quot;onboarding&quot;: {\n                return ONBOARDING;\n            }\n\n            case &quot;not_verified&quot;: {\n                return NOT_VERIFIED;\n            }\n\n            case &quot;verified&quot;: {\n                return VERIFIED;\n            }\n\n            case &quot;suspended&quot;: {\n                return SUSPENDED;\n            }\n\n            case &quot;inactive&quot;: {\n                return INACTIVE;\n            }\n\n            default: {\n                throw new UnsupportedOperationException(\n                    String.format(&quot;Unkhown status: '%s'&quot;, status)\n                );\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now, your <code>BusinessCustomers</code> entity should be modified to something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;business_customers&quot;)\npublic class BusinessCustomers implements Serializable {\n   \n    ..........\n    @Convert( converter = BusinessCustomersStatusAttributeConverter.class )\n    private BusinessCustomersStatus status;\n    ......\n}\n</code></pre>\n<p>Please, be aware that if you implement the <code>AttributeConverter</code> approach in the database the values stored will be as well the literal <code>status</code> associated with the enumeration, not the enumeration <code>name</code> itself. Please, keep the <code>@Enumerated</code> approach in <code>BusinessCustomers</code> if you prefer to store the enumeration values. If you used the <code>AttributeConverter</code> approach for testing, please, remember to update the values of the <code>status</code> column to those corresponding to the enumeration.</p>\n<p>Finally, regarding your last comment, you are receiving <code>&quot;status&quot;: &quot;ACTIVE&quot;</code>: this is because your Mapstruct <code>Mapper</code> is providing the <code>name</code> of the enum as the value for the <code>status</code> field in <code>BusinessCustomersFullDTO</code>. To handle the appropriate conversion, please, try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.Named;\nimport org.merchant.config.BaseMapperConfig;\nimport org.merchant.database.entity.BusinessCustomers;\nimport org.merchant.database.service.businesscustomers.BusinessCustomersStatus;\nimport org.merchant.dto.businesscustomers.BusinessCustomersFullDTO;\n\n@Mapper(config = BaseMapperConfig.class)\npublic interface BusinessCustomersMapper {\n\n    @Mapping(source = &quot;status&quot;, target = &quot;status&quot;, qualifiedByName = &quot;businessCustomersToDTOStatus&quot;)\n    BusinessCustomersFullDTO toFullDTO(BusinessCustomers businessCustomers);\n\n\n    @Named(&quot;busineessCustomersToDTOStatus&quot;)\n    public static String businessCustomersToDTOStatus(final BusinessCustomersStatus status) {\n        if (status == null) {\n            return null;\n        }\n\n        return status.getStatus();\n    }\n}\n</code></pre>\n<p>In the code we are using <code>@Named</code> and <code>qualifiedByName</code> to provide the custom conversion. Please, see the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#selection-based-on-qualifiers\" rel=\"nofollow noreferrer\">relevant documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634066272,"creation_date":1634064884,"answer_id":69545657,"question_id":69517099,"body_markdown":"You should define that [`enum`](https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html) with constant values, then the values won&#39;t be `instanceof` something (maybe it doesn&#39;t like the enumeration for some other reason, but it still reads `no enum constant`).\r\n\r\n    public static final int STATUS_ACTIVE       = 0;\r\n    public static final int STATUS_ONBOARDING   = 1;\r\n    public static final int STATUS_NOT_VERIFIED = 2;\r\n    public static final int STATUS_VERIFIED     = 3;\r\n    public static final int STATUS_SUSPENDED    = 4;\r\n    public static final int STATUS_INACTIVE     = 5;\r\n\r\n    public enum BusinessCustomersStatus {\r\n       STATUS_ACTIVE,\r\n       STATUS_ONBOARDING,\r\n       STATUS_NOT_VERIFIED,\r\n       STATUS_VERIFIED,\r\n       STATUS_SUSPENDED,\r\n       STATUS_INACTIVE\r\n    }\r\n\r\nAnd `@Enumerated` should then be `EnumType.ORDINAL`:\r\n\r\n    @Enumerated(EnumType.ORDINAL)\r\n    @Column(name = &quot;status&quot;)\r\n\r\n","title":"java.lang.IllegalArgumentException: No enum BusinessCustomersStatus.4d29e059cf","body":"<p>You should define that <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\"><code>enum</code></a> with constant values, then the values won't be <code>instanceof</code> something (maybe it doesn't like the enumeration for some other reason, but it still reads <code>no enum constant</code>).</p>\n<pre><code>public static final int STATUS_ACTIVE       = 0;\npublic static final int STATUS_ONBOARDING   = 1;\npublic static final int STATUS_NOT_VERIFIED = 2;\npublic static final int STATUS_VERIFIED     = 3;\npublic static final int STATUS_SUSPENDED    = 4;\npublic static final int STATUS_INACTIVE     = 5;\n\npublic enum BusinessCustomersStatus {\n   STATUS_ACTIVE,\n   STATUS_ONBOARDING,\n   STATUS_NOT_VERIFIED,\n   STATUS_VERIFIED,\n   STATUS_SUSPENDED,\n   STATUS_INACTIVE\n}\n</code></pre>\n<p>And <code>@Enumerated</code> should then be <code>EnumType.ORDINAL</code>:</p>\n<pre><code>@Enumerated(EnumType.ORDINAL)\n@Column(name = &quot;status&quot;)\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":879,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69545376,"answer_count":2,"score":1,"last_activity_date":1634300721,"creation_date":1633884126,"question_id":69517099,"body_markdown":"I want to create a search Specification using ENUM values:\r\n\r\nSearch ENUM:\r\n\r\n    public enum BusinessCustomersStatus {\r\n        A(&quot;active&quot;),\r\n        O(&quot;onboarding&quot;),\r\n        N(&quot;not_verified&quot;),\r\n        V(&quot;verified&quot;),\r\n        S(&quot;suspended&quot;),\r\n        I(&quot;inactive&quot;);\r\n    \r\n        private String status;\r\n    \r\n        BusinessCustomersStatus(String status)\r\n        {\r\n            this.status = status;\r\n        }\r\n    }\r\n\r\nSearch DTO:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class BusinessCustomersSearchParams {\r\n    \r\n        private String title;\r\n    \r\n        private List&lt;BusinessCustomersStatus&gt; status;\r\n    \r\n        private LocalDateTime createdAt;\r\n    \r\n        private LocalDateTime updatedAt;\r\n    }\r\n\r\nSearch Specification:\r\n\r\n    public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable)\r\n        {\r\n            Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                if (params.getTitle() != null) {\r\n                    predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\r\n                }\r\n    \r\n                Optional&lt;BusinessCustomersStatus&gt; optStatus = EnumSet.allOf(BusinessCustomersStatus.class)\r\n                        .stream()\r\n                        .filter(e -&gt; e.name().equals(params.getStatus()))\r\n                        .findAny();\r\n    \r\n                if(optStatus.isPresent()){\r\n                    final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\r\n                    if (statuses != null &amp;&amp; !statuses.isEmpty()){\r\n                        predicates.add(root.get(&quot;status&quot;).in(statuses));\r\n                    }\r\n                }\r\n                return cb.and(predicates.toArray(new Predicate[predicates.size()]));\r\n            };\r\n            return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\r\n        }\r\n\r\nEntity:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;business_customers&quot;)\r\n    public class BusinessCustomers implements Serializable {\r\n       \r\n        ..........\r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;status&quot;, length = 20)\r\n        private BusinessCustomersStatus status;\r\n        ......\r\n    }\r\n\r\nBut I get this error:\r\n\r\n    java.lang.IllegalArgumentException: No enum constant org.service.businesscustomers.BusinessCustomersStatus.4d29e059cf] with root cause\r\n    java.lang.IllegalArgumentException: No enum constant org.service.businesscustomers.BusinessCustomersStatus.4d29e059cf\r\n            at java.base/java.lang.Enum.valueOf(Enum.java:273)\r\n\r\nDo you know how I can fix this issue?\r\n\r\nPOC example: https://github.com/rcbandit111/Search_specification_POC\r\n","title":"java.lang.IllegalArgumentException: No enum BusinessCustomersStatus.4d29e059cf","body":"<p>I want to create a search Specification using ENUM values:</p>\n<p>Search ENUM:</p>\n<pre><code>public enum BusinessCustomersStatus {\n    A(&quot;active&quot;),\n    O(&quot;onboarding&quot;),\n    N(&quot;not_verified&quot;),\n    V(&quot;verified&quot;),\n    S(&quot;suspended&quot;),\n    I(&quot;inactive&quot;);\n\n    private String status;\n\n    BusinessCustomersStatus(String status)\n    {\n        this.status = status;\n    }\n}\n</code></pre>\n<p>Search DTO:</p>\n<pre><code>@Getter\n@Setter\npublic class BusinessCustomersSearchParams {\n\n    private String title;\n\n    private List&lt;BusinessCustomersStatus&gt; status;\n\n    private LocalDateTime createdAt;\n\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<p>Search Specification:</p>\n<pre><code>public Page&lt;BusinessCustomersFullDTO&gt; findBusinessCustomers(BusinessCustomersSearchParams params, Pageable pageable)\n    {\n        Specification&lt;BusinessCustomers&gt; spec = (root, query, cb) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if (params.getTitle() != null) {\n                predicates.add(cb.like(cb.lower(root.get(&quot;title&quot;)), &quot;%&quot; + params.getTitle().toLowerCase() + &quot;%&quot;));\n            }\n\n            Optional&lt;BusinessCustomersStatus&gt; optStatus = EnumSet.allOf(BusinessCustomersStatus.class)\n                    .stream()\n                    .filter(e -&gt; e.name().equals(params.getStatus()))\n                    .findAny();\n\n            if(optStatus.isPresent()){\n                final List&lt;BusinessCustomersStatus&gt; statuses = params.getStatus();\n                if (statuses != null &amp;&amp; !statuses.isEmpty()){\n                    predicates.add(root.get(&quot;status&quot;).in(statuses));\n                }\n            }\n            return cb.and(predicates.toArray(new Predicate[predicates.size()]));\n        };\n        return businessCustomersService.findAll(spec, pageable).map(businessCustomersMapper::toFullDTO);\n    }\n</code></pre>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;business_customers&quot;)\npublic class BusinessCustomers implements Serializable {\n   \n    ..........\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;status&quot;, length = 20)\n    private BusinessCustomersStatus status;\n    ......\n}\n</code></pre>\n<p>But I get this error:</p>\n<pre><code>java.lang.IllegalArgumentException: No enum constant org.service.businesscustomers.BusinessCustomersStatus.4d29e059cf] with root cause\njava.lang.IllegalArgumentException: No enum constant org.service.businesscustomers.BusinessCustomersStatus.4d29e059cf\n        at java.base/java.lang.Enum.valueOf(Enum.java:273)\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p>POC example: <a href=\"https://github.com/rcbandit111/Search_specification_POC\" rel=\"nofollow noreferrer\">https://github.com/rcbandit111/Search_specification_POC</a></p>\n"},{"tags":["java","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":23036222,"reputation":11,"user_id":17154940,"display_name":"David Dahan"},"score":0,"creation_date":1634328847,"post_id":69584695,"comment_id":123003909,"body_markdown":"I upgraded to the latest tomcat 9 and that solved the issue.","body":"I upgraded to the latest tomcat 9 and that solved the issue."}],"owner":{"account_id":23036222,"reputation":11,"user_id":17154940,"display_name":"David Dahan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634300696,"creation_date":1634300696,"question_id":69584695,"body_markdown":"Using Java 1.8.0_301. Tomcat 9.0.\r\n\r\nWhen running on Windows I have no issues.\r\nWhen deploying to Linux I am getting this error. I tried many things, made sure same jars are used on windows and Linux. upgraded to the latest Java 1.8.0 jre.\r\n\r\nI am using SSL and loading a private key certificate. \r\nThe project is complex, This the method that I am using:\r\n\r\n\tprivate HttpResponse executePost(\r\n\t\tSession session, \r\n\t\tString url,\r\n\t\tString userName,\r\n\t\tString password,\r\n\t\tMap&lt;String, String&gt; headers,\r\n\t\tString body,\r\n\t\tString contentTypeStr)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tURL urlObject = new URL(url);\r\n\t\t\tBasicCredentialsProvider credsProvider = null;\r\n\t\t\t\r\n\t\t\tif (HTTPSecurityMethodPossibleValues.BASIC.equals(getConfiguration().getHTTPSecurityMethod())) {\r\n\t\t\t\tcredsProvider = new BasicCredentialsProvider();\r\n\t\t\t\tUsernamePasswordCredentials credentials  = new UsernamePasswordCredentials(userName, (StringUtils.isEmpty(password)? &quot;&quot;.toCharArray() : password.toCharArray()));\r\n\t\t\t\tcredsProvider.setCredentials(new AuthScope(urlObject.getHost(), urlObject.getPort()), credentials);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tHttpClientConnectionManager cm = null;\r\n\t\t\t\r\n\t\t\tif (HTTPSecurityPossibleValues.SSL.equals(getConfiguration().getHTTPSecurityProtocol())) {\r\n\t\t\t\tLoggingCategory.getKernel().info(&quot;Using SSL Protocol.....&quot;);\r\n\r\n\t\t\t\tSSLContextBuilder sslcontextBuilder = SSLContexts.custom();\r\n\r\n\t\t\t\tif (!StringUtils.isEmpty(getConfiguration().getHTTPSecurityAcceptedName())) {\r\n\t\t\t\t\tsslcontextBuilder.loadTrustMaterial(new TrustStrategy() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic boolean isTrusted(final X509Certificate[] chain, final String authType)\r\n\t\t\t\t\t\t\t\tthrows CertificateException {\r\n\t\t\t\t\t\t\tfinal X509Certificate cert = chain[0];\r\n\t\t\t\t\t\t\tString nameToCheck = getConfiguration().getHTTPSecurityAcceptedName();\r\n\t\t\t\t\t\t\tif (StringUtils.isEmpty(nameToCheck)) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn nameToCheck.equalsIgnoreCase(cert.getSubjectDN().getName());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!StringUtils.isEmpty(getConfiguration().getHTTPSecurityCertificzateLocation())) {\r\n\t\t\t\t\tKeyStore keystore = getKeyStore();\r\n\t\t\t\t\tsslcontextBuilder.loadKeyMaterial(keystore, getConfiguration().getHTTPSecurityCertificzatePassword().toCharArray());\r\n\t\t\t\t\tLoggingCategory.getKernel().info(&quot;Loaded the certificate.....&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfinal SSLContext sslcontext = sslcontextBuilder.build();\r\n\t\t\t\t\r\n\t\t\t\tTLS tls = StringUtils.isEmpty(getConfiguration().getHTTPSecurityTLSVersion()) ? TLS.V_1_2\r\n\t\t\t\t\t\t: TLS.valueOf(getConfiguration().getHTTPSecurityTLSVersion());\r\n\t\t\t\t\r\n\t\t\t\tSSLConnectionSocketFactory sslConnectionFactory = SSLConnectionSocketFactoryBuilder.create()\r\n\t\t\t\t\t\t.setSslContext(sslcontext).setTlsVersions(tls).build();\r\n\t\t\t\t\r\n\t\t\t\tRegistry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\r\n                        .register(&quot;https&quot;, sslConnectionFactory)\r\n                        .register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n                        .build();\r\n\t\t\t\t\r\n\t\t\t\tcm = new BasicHttpClientConnectionManager(registry) ;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t        \r\n\t\t\tfinal HttpClientBuilder httpclientBuilder = HttpClients.custom();\r\n\t\t\tif (cm != null) {\r\n\t\t\t\thttpclientBuilder.setConnectionManager(cm);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (credsProvider != null) {\r\n\t\t\t\thttpclientBuilder.setDefaultCredentialsProvider(credsProvider);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfinal CloseableHttpClient httpClient = httpclientBuilder.build();\r\n\t\t\t\r\n\t\t\tfinal HttpPost httpPost = new HttpPost(url);\r\n\t\t\tContentType contentType = ContentType.parse(contentTypeStr);\r\n\t\t\tHttpEntity entity = new StringEntity(body, contentType);\r\n\t\t\thttpPost.setEntity(entity);\r\n\t\t\tString responseString = null;\r\n\t\t\tLoggingCategory.getKernel().info(&quot;Executing POST call.....&quot;);\r\n\t\t\tfinal HttpClientContext clientContext = HttpClientContext.create();\r\n\t\t\ttry (final CloseableHttpResponse response = httpClient.execute(httpPost, clientContext))\r\n\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresponseString = EntityUtils.toString(response.getEntity());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (response.getCode() != 200) {\r\n\t\t\t\t\t\t\treturn new HttpResponse(response.getCode(), responseString, &quot;HTTP Error &quot; + response.getCode());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (isSoapFault(responseString)) {\r\n\t\t\t\t\t\t\tString message = StringUtils.substringAfter(responseString, &quot;&lt;MESSAGE&gt;&quot;);\r\n\t\t\t\t\t\t\tmessage = StringUtils.substringBefore(message, &quot;&lt;/MESSAGE&quot;);\r\n\t\t\t\t\t\t\treturn new HttpResponse(99, responseString, message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn new HttpResponse(200, responseString, &quot;Success&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (ParseException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn new HttpResponse(55, IntegrationUtils.printStacktrace(e), e.getMessage());\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tLoggingCategory.getKernel().error(&quot;Error Executing POST call.....&quot;, e);\r\n\t\t\treturn new HttpResponse(55, IntegrationUtils.printStacktrace(e), e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n\r\nThis is the error that I am getting:\r\n\r\njava.lang.IllegalStateException: Current state = RESET, new state = FLUSHED\r\n\tat java.nio.charset.CharsetEncoder.throwIllegalStateException(CharsetEncoder.java:992)\r\n\tat java.nio.charset.CharsetEncoder.flush(CharsetEncoder.java:675)\r\n\tat org.apache.hc.client5.http.utils.ByteArrayBuilder.encode(ByteArrayBuilder.java:83)\r\n\tat org.apache.hc.client5.http.utils.ByteArrayBuilder.doAppend(ByteArrayBuilder.java:107)\r\n\tat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:149)\r\n\tat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:161)\r\n\tat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:168)\r\n\tat org.apache.hc.client5.http.impl.auth.BasicScheme.generateAuthResponse(BasicScheme.java:183)\r\n\tat org.apache.hc.client5.http.impl.auth.HttpAuthenticator.addAuthResponse(HttpAuthenticator.java:347)\r\n\tat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:156)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\r\n\tat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\r\n\tat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:133)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\r\n\tat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n\tat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n\tat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:179)\r\n\tat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:75)\r\n\tat com.orchestranetworks.ps.http.client.HTTPClient.executePost(HTTPClient.java:229)\r\n\tat com.orchestranetworks.ps.http.client.HTTPClient.executePost(HTTPClient.java:132)\r\n\tat com.orchestranetworks.ps.http.client.HTTPClient.sendMessage(HTTPClient.java:68)\r\n\tat com.orchestranetworks.ps.messaging.IntegrationClientManager.submitMessage(IntegrationClientManager.java:270)\r\n\tat com.orchestranetworks.ps.messaging.IntegrationClientManager.sendMessage(IntegrationClientManager.java:103)\r\n\tat com.orchestranetworks.ps.messaging.IntegrationClientManager.sendMessage(IntegrationClientManager.java:87)\r\n\tat com.orchestranetworks.ps.messaging.scripttask.SendMessageScriptTask.sendMessage(SendMessageScriptTask.java:33)\r\n\tat com.orchestranetworks.ps.messaging.scripttask.SendMessageScriptTask.processNewAdaptationDiff(SendMessageScriptTask.java:56)\r\n\tat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.processTableDiff(ProcessDataspacesDifferences.java:114)\r\n\tat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.processDiffs(ProcessDataspacesDifferences.java:86)\r\n\tat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.executeScript(ProcessDataspacesDifferences.java:60)\r\n\tat com.orchestranetworks.workflow.impl.execution.j.a(j.java:376)\r\n\tat com.orchestranetworks.workflow.impl.execution.j.a(j.java:52)\r\n\tat com.orchestranetworks.workflow.impl.execution.j.b(j.java:188)\r\n\tat com.orchestranetworks.workflow.impl.execution.j.a(j.java:390)\r\n\tat com.orchestranetworks.workflow.impl.execution.j.a(j.java:822)\r\n\tat com.orchestranetworks.workflow.impl.execution.h.handleQueueEntry(h.java:17)\r\n\tat com.orchestranetworks.workflow.impl.execution.n$a.run(n$a.java:10)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"With Apache HTTPClient 5.1 I am getting error: java.lang.IllegalStateException: Current state = RESET, new state = FLUSHED","body":"<p>Using Java 1.8.0_301. Tomcat 9.0.</p>\n<p>When running on Windows I have no issues.\nWhen deploying to Linux I am getting this error. I tried many things, made sure same jars are used on windows and Linux. upgraded to the latest Java 1.8.0 jre.</p>\n<p>I am using SSL and loading a private key certificate.\nThe project is complex, This the method that I am using:</p>\n<pre><code>private HttpResponse executePost(\n    Session session, \n    String url,\n    String userName,\n    String password,\n    Map&lt;String, String&gt; headers,\n    String body,\n    String contentTypeStr)\n{\n    try\n    {\n        URL urlObject = new URL(url);\n        BasicCredentialsProvider credsProvider = null;\n        \n        if (HTTPSecurityMethodPossibleValues.BASIC.equals(getConfiguration().getHTTPSecurityMethod())) {\n            credsProvider = new BasicCredentialsProvider();\n            UsernamePasswordCredentials credentials  = new UsernamePasswordCredentials(userName, (StringUtils.isEmpty(password)? &quot;&quot;.toCharArray() : password.toCharArray()));\n            credsProvider.setCredentials(new AuthScope(urlObject.getHost(), urlObject.getPort()), credentials);\n        }\n        \n        HttpClientConnectionManager cm = null;\n        \n        if (HTTPSecurityPossibleValues.SSL.equals(getConfiguration().getHTTPSecurityProtocol())) {\n            LoggingCategory.getKernel().info(&quot;Using SSL Protocol.....&quot;);\n\n            SSLContextBuilder sslcontextBuilder = SSLContexts.custom();\n\n            if (!StringUtils.isEmpty(getConfiguration().getHTTPSecurityAcceptedName())) {\n                sslcontextBuilder.loadTrustMaterial(new TrustStrategy() {\n\n                    @Override\n                    public boolean isTrusted(final X509Certificate[] chain, final String authType)\n                            throws CertificateException {\n                        final X509Certificate cert = chain[0];\n                        String nameToCheck = getConfiguration().getHTTPSecurityAcceptedName();\n                        if (StringUtils.isEmpty(nameToCheck)) {\n                            return false;\n                        }\n                        return nameToCheck.equalsIgnoreCase(cert.getSubjectDN().getName());\n                    }\n                });\n            }\n            \n            if (!StringUtils.isEmpty(getConfiguration().getHTTPSecurityCertificzateLocation())) {\n                KeyStore keystore = getKeyStore();\n                sslcontextBuilder.loadKeyMaterial(keystore, getConfiguration().getHTTPSecurityCertificzatePassword().toCharArray());\n                LoggingCategory.getKernel().info(&quot;Loaded the certificate.....&quot;);\n            }\n            \n            final SSLContext sslcontext = sslcontextBuilder.build();\n            \n            TLS tls = StringUtils.isEmpty(getConfiguration().getHTTPSecurityTLSVersion()) ? TLS.V_1_2\n                    : TLS.valueOf(getConfiguration().getHTTPSecurityTLSVersion());\n            \n            SSLConnectionSocketFactory sslConnectionFactory = SSLConnectionSocketFactoryBuilder.create()\n                    .setSslContext(sslcontext).setTlsVersions(tls).build();\n            \n            Registry&lt;ConnectionSocketFactory&gt; registry = RegistryBuilder.&lt;ConnectionSocketFactory&gt;create()\n                    .register(&quot;https&quot;, sslConnectionFactory)\n                    .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                    .build();\n            \n            cm = new BasicHttpClientConnectionManager(registry) ;\n            \n        }\n        \n        final HttpClientBuilder httpclientBuilder = HttpClients.custom();\n        if (cm != null) {\n            httpclientBuilder.setConnectionManager(cm);\n        }\n        \n        if (credsProvider != null) {\n            httpclientBuilder.setDefaultCredentialsProvider(credsProvider);\n        }\n        \n        final CloseableHttpClient httpClient = httpclientBuilder.build();\n        \n        final HttpPost httpPost = new HttpPost(url);\n        ContentType contentType = ContentType.parse(contentTypeStr);\n        HttpEntity entity = new StringEntity(body, contentType);\n        httpPost.setEntity(entity);\n        String responseString = null;\n        LoggingCategory.getKernel().info(&quot;Executing POST call.....&quot;);\n        final HttpClientContext clientContext = HttpClientContext.create();\n        try (final CloseableHttpResponse response = httpClient.execute(httpPost, clientContext))\n        {\n                try\n                {\n                    responseString = EntityUtils.toString(response.getEntity());\n                    \n                    if (response.getCode() != 200) {\n                        return new HttpResponse(response.getCode(), responseString, &quot;HTTP Error &quot; + response.getCode());\n                    }\n                    if (isSoapFault(responseString)) {\n                        String message = StringUtils.substringAfter(responseString, &quot;&lt;MESSAGE&gt;&quot;);\n                        message = StringUtils.substringBefore(message, &quot;&lt;/MESSAGE&quot;);\n                        return new HttpResponse(99, responseString, message);\n                    }\n                    return new HttpResponse(200, responseString, &quot;Success&quot;);\n                }\n                catch (ParseException e)\n                {\n                    return new HttpResponse(55, IntegrationUtils.printStacktrace(e), e.getMessage());\n                }\n        }\n        \n    }\n    catch (Exception e)\n    {\n        LoggingCategory.getKernel().error(&quot;Error Executing POST call.....&quot;, e);\n        return new HttpResponse(55, IntegrationUtils.printStacktrace(e), e.getMessage());\n    }\n}\n</code></pre>\n<p>This is the error that I am getting:</p>\n<p>java.lang.IllegalStateException: Current state = RESET, new state = FLUSHED\nat java.nio.charset.CharsetEncoder.throwIllegalStateException(CharsetEncoder.java:992)\nat java.nio.charset.CharsetEncoder.flush(CharsetEncoder.java:675)\nat org.apache.hc.client5.http.utils.ByteArrayBuilder.encode(ByteArrayBuilder.java:83)\nat org.apache.hc.client5.http.utils.ByteArrayBuilder.doAppend(ByteArrayBuilder.java:107)\nat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:149)\nat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:161)\nat org.apache.hc.client5.http.utils.ByteArrayBuilder.append(ByteArrayBuilder.java:168)\nat org.apache.hc.client5.http.impl.auth.BasicScheme.generateAuthResponse(BasicScheme.java:183)\nat org.apache.hc.client5.http.impl.auth.HttpAuthenticator.addAuthResponse(HttpAuthenticator.java:347)\nat org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:156)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\nat org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\nat org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:133)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement$1.proceed(ExecChainElement.java:57)\nat org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\nat org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\nat org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:179)\nat org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:75)\nat com.orchestranetworks.ps.http.client.HTTPClient.executePost(HTTPClient.java:229)\nat com.orchestranetworks.ps.http.client.HTTPClient.executePost(HTTPClient.java:132)\nat com.orchestranetworks.ps.http.client.HTTPClient.sendMessage(HTTPClient.java:68)\nat com.orchestranetworks.ps.messaging.IntegrationClientManager.submitMessage(IntegrationClientManager.java:270)\nat com.orchestranetworks.ps.messaging.IntegrationClientManager.sendMessage(IntegrationClientManager.java:103)\nat com.orchestranetworks.ps.messaging.IntegrationClientManager.sendMessage(IntegrationClientManager.java:87)\nat com.orchestranetworks.ps.messaging.scripttask.SendMessageScriptTask.sendMessage(SendMessageScriptTask.java:33)\nat com.orchestranetworks.ps.messaging.scripttask.SendMessageScriptTask.processNewAdaptationDiff(SendMessageScriptTask.java:56)\nat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.processTableDiff(ProcessDataspacesDifferences.java:114)\nat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.processDiffs(ProcessDataspacesDifferences.java:86)\nat com.orchestranetworks.ps.scripttask.ProcessDataspacesDifferences.executeScript(ProcessDataspacesDifferences.java:60)\nat com.orchestranetworks.workflow.impl.execution.j.a(j.java:376)\nat com.orchestranetworks.workflow.impl.execution.j.a(j.java:52)\nat com.orchestranetworks.workflow.impl.execution.j.b(j.java:188)\nat com.orchestranetworks.workflow.impl.execution.j.a(j.java:390)\nat com.orchestranetworks.workflow.impl.execution.j.a(j.java:822)\nat com.orchestranetworks.workflow.impl.execution.h.handleQueueEntry(h.java:17)\nat com.orchestranetworks.workflow.impl.execution.n$a.run(n$a.java:10)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)</p>\n"},{"tags":["java","xml","saxparser"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634300314,"creation_date":1634300314,"answer_id":69584602,"question_id":69583845,"body_markdown":"The example below will use booleans to validate at what point you are in when parsing.\r\n\r\nPlease see reference: https://stackoverflow.com/questions/24113529/how-to-get-elements-value-from-xml-using-sax-parser-in-startelement\r\n\r\n\r\n       public class SimpleHandler extends DefaultHandler {\r\n   \r\n    \r\n        class DenObject{\r\n            public String od;\r\n            public String do;\r\n    \r\n           //Getters/Setters\r\n        }\r\n    \r\n        boolean isDo, isOd;\r\n    \r\n        DenObject currentDenObj;\r\n    \r\n        List&lt;DenObject&gt; denObjects = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public void startElement(String uri, String localName, String qName,\r\n                Attributes atts) throws SAXException {\r\n    \r\n            if(qName.equals(&quot;den&quot;)){ \r\n                currentDenObj = new DenObject ();\r\n            }\r\n            if(qName.equals(&quot;do&quot;)) { isDo = true; }\r\n            if(qName.equals(&quot;od&quot;))  { isOd = true;  }\r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String qName)\r\n                throws SAXException {\r\n    \r\n            if(qName.equals(&quot;den&quot;)) {\r\n                denObjects .add(currentDenObj);\r\n                currentDenObj = null;\r\n            }\r\n            if(qName.equals(&quot;do&quot;)) { isDo = false; }\r\n            if(qName.equals(&quot;od&quot;))  { isOd = false;  }\r\n        }\r\n    \r\n        @Override\r\n        public void characters(char[] ch, int start, int length) throws SAXException {\r\n            if (isDo) {\r\n                currentDenObj.setDo(new String(ch, start, length));\r\n            }\r\n            if (isOd) {\r\n                currentDenObj.setOd(new String(ch, start, length));\r\n            }\r\n        }\r\n    \r\n      @Override\r\n        public void endDocument() throws SAXException {\r\n            for(DenObject denObject : denObjects ) {\r\n    \r\n                    System.out.println(denObject);\r\n            }\r\n        }\r\n    \r\n    }\r\n","title":"How to read nested xml element with saxparser in Java","body":"<p>The example below will use booleans to validate at what point you are in when parsing.</p>\n<p>Please see reference: <a href=\"https://stackoverflow.com/questions/24113529/how-to-get-elements-value-from-xml-using-sax-parser-in-startelement\">How to get element&#39;s value from XML using SAX parser in startElement?</a></p>\n<pre><code>   public class SimpleHandler extends DefaultHandler {\n\n\n    class DenObject{\n        public String od;\n        public String do;\n\n       //Getters/Setters\n    }\n\n    boolean isDo, isOd;\n\n    DenObject currentDenObj;\n\n    List&lt;DenObject&gt; denObjects = new ArrayList&lt;&gt;();\n\n    @Override\n    public void startElement(String uri, String localName, String qName,\n            Attributes atts) throws SAXException {\n\n        if(qName.equals(&quot;den&quot;)){ \n            currentDenObj = new DenObject ();\n        }\n        if(qName.equals(&quot;do&quot;)) { isDo = true; }\n        if(qName.equals(&quot;od&quot;))  { isOd = true;  }\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String qName)\n            throws SAXException {\n\n        if(qName.equals(&quot;den&quot;)) {\n            denObjects .add(currentDenObj);\n            currentDenObj = null;\n        }\n        if(qName.equals(&quot;do&quot;)) { isDo = false; }\n        if(qName.equals(&quot;od&quot;))  { isOd = false;  }\n    }\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (isDo) {\n            currentDenObj.setDo(new String(ch, start, length));\n        }\n        if (isOd) {\n            currentDenObj.setOd(new String(ch, start, length));\n        }\n    }\n\n  @Override\n    public void endDocument() throws SAXException {\n        for(DenObject denObject : denObjects ) {\n\n                System.out.println(denObject);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9350588,"reputation":3,"user_id":6940415,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634300314,"creation_date":1634296250,"question_id":69583845,"body_markdown":"Please could You help me to resole problem I meet during exploring saxparser.\r\n\r\nmy xml file\r\n\r\n    &lt;row&gt;\r\n        &lt;PSC&gt;10000&lt;/PSC&gt;\r\n        &lt;NAZEV&gt;Praha 10&lt;/NAZEV&gt;\r\n        &lt;ADRESA&gt;ernokosteleck&#225; 2020/20, Stranice, 10000, Praha 10&lt;/ADRESA&gt;\r\n        &lt;TYP&gt;pota&lt;/TYP&gt;\r\n        &lt;OTEV_DOBY&gt;\r\n            &lt;den name=&quot;Pondl&#237;&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;08:00&lt;/od&gt;\r\n                    &lt;do&gt;19:30&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;&#218;ter&#253;&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;08:00&lt;/od&gt;\r\n                    &lt;do&gt;19:30&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;Steda&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;08:00&lt;/od&gt;\r\n                    &lt;do&gt;19:30&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;tvrtek&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;08:00&lt;/od&gt;\r\n                    &lt;do&gt;19:30&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;P&#225;tek&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;08:00&lt;/od&gt;\r\n                    &lt;do&gt;19:30&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;Sobota&quot;&gt;\r\n                &lt;od_do&gt;\r\n                    &lt;od&gt;09:00&lt;/od&gt;\r\n                    &lt;do&gt;13:00&lt;/do&gt;\r\n                &lt;/od_do&gt;\r\n            &lt;/den&gt;\r\n            &lt;den name=&quot;Nedle&quot;/&gt;\r\n        &lt;/OTEV_DOBY&gt;\r\n        &lt;SOUR_X&gt;1044922.91&lt;/SOUR_X&gt;\r\n        &lt;SOUR_Y&gt;737904.98&lt;/SOUR_Y&gt;\r\n        &lt;OBEC&gt;Praha&lt;/OBEC&gt;\r\n        &lt;C_OBCE&gt;Stranice&lt;/C_OBCE&gt;\r\n        &lt;SOUR_X_WGS84&gt;14.492777&lt;/SOUR_X_WGS84&gt;\r\n        &lt;SOUR_Y_WGS84&gt;50.076442&lt;/SOUR_Y_WGS84&gt;\r\n        &lt;STAV&gt;nov&#225;&lt;/STAV&gt;\r\n    &lt;/row&gt;\r\n\r\nI try catch opening and closing time, from elements &quot;od&quot; and &quot;do&quot;\r\nthis is my code in startElement\r\n\r\n    else if (qName.equalsIgnoreCase(&quot;OTEV_DOBY&quot;)) {\r\n            otwarte = new Otwarte();\r\n            b_otev_doby = true;\r\n        }\r\n        if (qName.equalsIgnoreCase(&quot;den&quot;)) {\r\n            den = attributes.getValue(&quot;name&quot;);\r\n            if (den.equalsIgnoreCase(&quot;Pondl&#237;&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;))\r\n                    b_od_Pn = true;\r\n                else if (qName.equalsIgnoreCase(&quot;do&quot;))\r\n                    b_do_Pn = true;\r\n            } else if (den.equalsIgnoreCase(&quot;&#218;ter&#253;&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Wt = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Wt = true;\r\n                }\r\n            } else if (den.equalsIgnoreCase(&quot;Steda&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Sr = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Sr = true;\r\n                }\r\n            } else if (den.equalsIgnoreCase(&quot;tvrtek&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Cz = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Cz = true;\r\n                }\r\n            } else if (den.equalsIgnoreCase(&quot;P&#225;tek&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Pt = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Pt = true;\r\n                }\r\n            } else if (den.equalsIgnoreCase(&quot;Sobota&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Sob = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Sob = true;\r\n                }\r\n            } else if (den.equalsIgnoreCase(&quot;Nedle&quot;)) {\r\n                if (qName.equalsIgnoreCase(&quot;od&quot;)) {\r\n                    b_od_Nd = true;\r\n                } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\r\n                    b_do_Nd = true;\r\n                }\r\n            }\r\n        }\r\n\r\nat the nested if &quot;if (qName.equalsIgnoreCase(&quot;od&quot;))&quot; i got always &quot;Condition &#39;qName.equalsIgnoreCase(&quot;od&quot;)&#39; is always &#39;false&#39;&quot; and result _&gt; Otwarte{pn_od=&#39;null&#39;, pn_do=&#39;null&#39;. \r\nAny ideas how to resolv this problem.","title":"How to read nested xml element with saxparser in Java","body":"<p>Please could You help me to resole problem I meet during exploring saxparser.</p>\n<p>my xml file</p>\n<pre><code>&lt;row&gt;\n    &lt;PSC&gt;10000&lt;/PSC&gt;\n    &lt;NAZEV&gt;Praha 10&lt;/NAZEV&gt;\n    &lt;ADRESA&gt;ernokosteleck 2020/20, Stranice, 10000, Praha 10&lt;/ADRESA&gt;\n    &lt;TYP&gt;pota&lt;/TYP&gt;\n    &lt;OTEV_DOBY&gt;\n        &lt;den name=&quot;Pondl&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;08:00&lt;/od&gt;\n                &lt;do&gt;19:30&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;ter&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;08:00&lt;/od&gt;\n                &lt;do&gt;19:30&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;Steda&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;08:00&lt;/od&gt;\n                &lt;do&gt;19:30&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;tvrtek&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;08:00&lt;/od&gt;\n                &lt;do&gt;19:30&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;Ptek&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;08:00&lt;/od&gt;\n                &lt;do&gt;19:30&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;Sobota&quot;&gt;\n            &lt;od_do&gt;\n                &lt;od&gt;09:00&lt;/od&gt;\n                &lt;do&gt;13:00&lt;/do&gt;\n            &lt;/od_do&gt;\n        &lt;/den&gt;\n        &lt;den name=&quot;Nedle&quot;/&gt;\n    &lt;/OTEV_DOBY&gt;\n    &lt;SOUR_X&gt;1044922.91&lt;/SOUR_X&gt;\n    &lt;SOUR_Y&gt;737904.98&lt;/SOUR_Y&gt;\n    &lt;OBEC&gt;Praha&lt;/OBEC&gt;\n    &lt;C_OBCE&gt;Stranice&lt;/C_OBCE&gt;\n    &lt;SOUR_X_WGS84&gt;14.492777&lt;/SOUR_X_WGS84&gt;\n    &lt;SOUR_Y_WGS84&gt;50.076442&lt;/SOUR_Y_WGS84&gt;\n    &lt;STAV&gt;nov&lt;/STAV&gt;\n&lt;/row&gt;\n</code></pre>\n<p>I try catch opening and closing time, from elements &quot;od&quot; and &quot;do&quot;\nthis is my code in startElement</p>\n<pre><code>else if (qName.equalsIgnoreCase(&quot;OTEV_DOBY&quot;)) {\n        otwarte = new Otwarte();\n        b_otev_doby = true;\n    }\n    if (qName.equalsIgnoreCase(&quot;den&quot;)) {\n        den = attributes.getValue(&quot;name&quot;);\n        if (den.equalsIgnoreCase(&quot;Pondl&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;))\n                b_od_Pn = true;\n            else if (qName.equalsIgnoreCase(&quot;do&quot;))\n                b_do_Pn = true;\n        } else if (den.equalsIgnoreCase(&quot;ter&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Wt = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Wt = true;\n            }\n        } else if (den.equalsIgnoreCase(&quot;Steda&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Sr = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Sr = true;\n            }\n        } else if (den.equalsIgnoreCase(&quot;tvrtek&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Cz = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Cz = true;\n            }\n        } else if (den.equalsIgnoreCase(&quot;Ptek&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Pt = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Pt = true;\n            }\n        } else if (den.equalsIgnoreCase(&quot;Sobota&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Sob = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Sob = true;\n            }\n        } else if (den.equalsIgnoreCase(&quot;Nedle&quot;)) {\n            if (qName.equalsIgnoreCase(&quot;od&quot;)) {\n                b_od_Nd = true;\n            } else if (qName.equalsIgnoreCase(&quot;do&quot;)) {\n                b_do_Nd = true;\n            }\n        }\n    }\n</code></pre>\n<p>at the nested if &quot;if (qName.equalsIgnoreCase(&quot;od&quot;))&quot; i got always &quot;Condition 'qName.equalsIgnoreCase(&quot;od&quot;)' is always 'false'&quot; and result _&gt; Otwarte{pn_od='null', pn_do='null'.\nAny ideas how to resolv this problem.</p>\n"},{"tags":["java","spring","ehcache","spring-el","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":8810376,"reputation":624,"user_id":6583610,"display_name":"Babajide M. Moibi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525446709,"creation_date":1525446709,"answer_id":50178094,"question_id":50177442,"body_markdown":"Since the result is a Collection (in this case, a List), you can only use operations attached to that class. So, you can say something like `unless=&quot;#result != null&quot;` or `unless=&quot;#result.size() &gt; 0&quot;`\r\n\r\nerror is not a valid method in the `List` class.","title":"Spring Cache - How can I catch an exception in unless argument?","body":"<p>Since the result is a Collection (in this case, a List), you can only use operations attached to that class. So, you can say something like <code>unless=\"#result != null\"</code> or <code>unless=\"#result.size() &gt; 0\"</code></p>\n\n<p>error is not a valid method in the <code>List</code> class.</p>\n"},{"tags":[],"owner":{"account_id":10991720,"reputation":152,"user_id":8081267,"display_name":"Ilia Ilin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535385941,"creation_date":1535385941,"answer_id":52043123,"question_id":50177442,"body_markdown":"You don&#39;t have to catch it if exception is thrown in annotated method and propagated further (seems to be your case). In this case there is no key value pair to store in the cache so you get your desired behaviour by default :)\r\n\r\nIn short: remove &quot;unless&quot; condition and enjoy.","title":"Spring Cache - How can I catch an exception in unless argument?","body":"<p>You don't have to catch it if exception is thrown in annotated method and propagated further (seems to be your case). In this case there is no key value pair to store in the cache so you get your desired behaviour by default :)</p>\n\n<p>In short: remove \"unless\" condition and enjoy.</p>\n"},{"tags":[],"owner":{"account_id":6374513,"reputation":186,"user_id":4945940,"display_name":"Luan Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537860601,"creation_date":1537515809,"answer_id":52438922,"question_id":50177442,"body_markdown":"Let try with this configuration, it will not cache the data when the exception happen:\r\n\r\n&gt; @Cacheable(value = &quot;sendAndReceiveMessage&quot;, key = &quot;{#requestData.toString()}&quot;, unless = &quot;#result instanceof T(java.lang.Exception)&quot;)\r\n","title":"Spring Cache - How can I catch an exception in unless argument?","body":"<p>Let try with this configuration, it will not cache the data when the exception happen:</p>\n\n<blockquote>\n  <p>@Cacheable(value = \"sendAndReceiveMessage\", key = \"{#requestData.toString()}\", unless = \"#result instanceof T(java.lang.Exception)\")</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14835165,"reputation":31,"user_id":10713512,"display_name":"Nagaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565969045,"creation_date":1565965139,"answer_id":57526275,"question_id":50177442,"body_markdown":"Dont throw the exception. Instead use try/catch block and in catch block, assign null value to list. Also use `@Cacheable(value = &quot;cacheName&quot;, key = &quot;#someMap.toString()&quot;, unless=&quot;#result==null&quot;)`. This trick would work for all of the objects including collections.","title":"Spring Cache - How can I catch an exception in unless argument?","body":"<p>Dont throw the exception. Instead use try/catch block and in catch block, assign null value to list. Also use <code>@Cacheable(value = \"cacheName\", key = \"#someMap.toString()\", unless=\"#result==null\")</code>. This trick would work for all of the objects including collections.</p>\n"}],"owner":{"account_id":241702,"reputation":436,"user_id":3582701,"display_name":"tristobal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16490,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1634300130,"creation_date":1525444585,"question_id":50177442,"body_markdown":"I get the following code:\r\n\r\n    @Cacheable(value = &quot;cacheName&quot;, key = &quot;#someMap.toString()&quot;, unless=&quot;#result.error&quot;)\r\n    public List&lt;Book&gt; methodName(Map&lt;Integer, Integer&gt; someMap) throws BookException {\r\n    //...\r\n\r\nThe method throws _BookException_ and I want avoid caching the result when this occurs. But when I execute the method:\r\n\r\n    org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;error&#39; cannot be found on object of type &#39;java.util.ArrayList&#39; - maybe not public?\r\n\r\n\r\n","title":"Spring Cache - How can I catch an exception in unless argument?","body":"<p>I get the following code:</p>\n\n<pre><code>@Cacheable(value = \"cacheName\", key = \"#someMap.toString()\", unless=\"#result.error\")\npublic List&lt;Book&gt; methodName(Map&lt;Integer, Integer&gt; someMap) throws BookException {\n//...\n</code></pre>\n\n<p>The method throws <em>BookException</em> and I want avoid caching the result when this occurs. But when I execute the method:</p>\n\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'error' cannot be found on object of type 'java.util.ArrayList' - maybe not public?\n</code></pre>\n"},{"tags":["java","pdf","apache-poi","docx"],"answers":[{"tags":[],"owner":{"account_id":23020851,"reputation":71,"user_id":17141926,"display_name":"ViliusM"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634299734,"creation_date":1634299734,"answer_id":69584479,"question_id":69554256,"body_markdown":"I found a solution:\r\n\r\n    try {\r\n            PdfOptions options = PdfOptions.create();\r\n            options.fontProvider((familyName, encoding, size, style, color) -&gt; {\r\n                try {\r\n                    BaseFont baseFont = BaseFont.createFont(&quot;fonts/LiberationSans-Regular.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\r\n                    return new Font(baseFont, size, style, color);\r\n                } catch (Exception e) {\r\n                    throw new IllegalArgumentException(&quot;Font was not found&quot; + e);\r\n                }\r\n            });\r\n            PdfConverter.getInstance().convert(firstDoc, out, options);\r\n        } catch (IOException ex) {\r\n            throw new IllegalArgumentException(&quot;Conversion failed&quot;);\r\n        }\r\n        return prepareResponseEntity(out);\r\nYou also need to add your font .ttf file to the resource folder and it works!","title":"DOCX to PDF conversion using Opensagres and Apache poi results in missing symbols when running on Docker","body":"<p>I found a solution:</p>\n<pre><code>try {\n        PdfOptions options = PdfOptions.create();\n        options.fontProvider((familyName, encoding, size, style, color) -&gt; {\n            try {\n                BaseFont baseFont = BaseFont.createFont(&quot;fonts/LiberationSans-Regular.ttf&quot;, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);\n                return new Font(baseFont, size, style, color);\n            } catch (Exception e) {\n                throw new IllegalArgumentException(&quot;Font was not found&quot; + e);\n            }\n        });\n        PdfConverter.getInstance().convert(firstDoc, out, options);\n    } catch (IOException ex) {\n        throw new IllegalArgumentException(&quot;Conversion failed&quot;);\n    }\n    return prepareResponseEntity(out);\n</code></pre>\n<p>You also need to add your font .ttf file to the resource folder and it works!</p>\n"}],"owner":{"account_id":23020851,"reputation":71,"user_id":17141926,"display_name":"ViliusM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1965,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69584479,"answer_count":1,"score":3,"last_activity_date":1634299734,"creation_date":1634122532,"question_id":69554256,"body_markdown":"I am using this code to convert docx to pdf:\n\n    try {\n            PdfOptions options = PdfOptions.create();\n            PdfConverter.getInstance().convert(firstDoc, out, options);\n        } catch (IOException ex) {\n            throw new IllegalArgumentException(&quot;Conversion failed.&quot;);\n        }\n        return prepareResponseEntity(out);\nIt works well on Windows, but when it&#39;s run on docker, the conversion skips symbols like &quot;&quot; and cyrillic.\n\nI tried embedding fonts into the template. Changing the .docx template to Liberation fonts &quot;sans&quot; and importing its&#39; ttf files, but nothing works. I can&#39;t install Microsoft fonts, because this app is used for commercial purposes.\n\nWhat are my options?","title":"DOCX to PDF conversion using Opensagres and Apache poi results in missing symbols when running on Docker","body":"<p>I am using this code to convert docx to pdf:</p>\n<pre><code>try {\n        PdfOptions options = PdfOptions.create();\n        PdfConverter.getInstance().convert(firstDoc, out, options);\n    } catch (IOException ex) {\n        throw new IllegalArgumentException(&quot;Conversion failed.&quot;);\n    }\n    return prepareResponseEntity(out);\n</code></pre>\n<p>It works well on Windows, but when it's run on docker, the conversion skips symbols like &quot;&quot; and cyrillic.</p>\n<p>I tried embedding fonts into the template. Changing the .docx template to Liberation fonts &quot;sans&quot; and importing its' ttf files, but nothing works. I can't install Microsoft fonts, because this app is used for commercial purposes.</p>\n<p>What are my options?</p>\n"},{"tags":["java","windows","installation","inno-setup"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634298805,"creation_date":1459406121,"answer_id":36325835,"question_id":36311624,"body_markdown":"For generic information, see:\r\n\r\n- [Registering an Application for Use with Default Programs](https://learn.microsoft.com/en-us/windows/win32/shell/default-programs#registering-an-application-for-use-with-default-programs) on Microsoft Docs.\r\n- https://stackoverflow.com/q/5542354/850848 on Stack Overflow\r\n\r\nIn Inno Setup, you implement this using [`[Registry]` section](https://jrsoftware.org/ishelp/index.php?topic=registrysection):\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    [Registry]\r\n    ; Create the application capability key\r\n    ; (The location of the key does not matter)\r\n    Root: HKLM; Subkey: &quot;Software\\My Company&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKLM; Subkey: &quot;Software\\My Company\\My Program&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKLM; Subkey: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\r\n        ValueType: string; ValueName: &quot;ApplicationDescription&quot;; \\\r\n        ValueData: &quot;This is My Program that does stuff&quot;; Flags: uninsdeletevalue\r\n    Root: HKLM; Subkey: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\r\n        ValueType: string; ValueName: &quot;ApplicationName&quot;; ValueData: &quot;My Program&quot;; \\\r\n        Flags: uninsdeletevalue\r\n    ; List of extensions the application supports\r\n    Root: HKLM; \\\r\n        Subkey: &quot;Software\\My Company\\My Program\\Capability\\FileAssociations&quot;; \\\r\n        ValueType: string; ValueName: &quot;.jpg&quot;; ValueData: &quot;MyProgram.JPEG&quot;; \\\r\n        Flags: uninsdeletevalue\r\n    \r\n    ; Add the capability key to list of registered applications\r\n    Root: HKLM; Subkey: &quot;Software\\RegisteredApplications&quot;; \\\r\n        ValueType: string; ValueName: &quot;My Program&quot;; \\\r\n        ValueData: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\r\n        Flags: uninsdeletevalue\r\n    \r\n    ; For each extension that the application supports\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG&quot;; \\\r\n        ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;MyProgram JPEG&quot;; \\\r\n        Flags: uninsdeletevalue\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\DefaultIcon&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\DefaultIcon&quot;; \\\r\n        ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\MyProg.exe,1&quot;; \\\r\n        Flags: uninsdeletevalue\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open&quot;; Flags: uninsdeletekeyifempty\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open\\Command&quot;; \\\r\n        Flags: uninsdeletekeyifempty\r\n    Root: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open\\Command&quot;; \\\r\n        ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\MyProg.exe&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;; \\\r\n        Flags: uninsdeletevalue\r\n\r\n---\r\n\r\nIn Inno Setup 6, you should modify the code as follows to support [non-administrative install mode](https://jrsoftware.org/ishelp/index.php?topic=admininstallmode):\r\n\r\n1. Replace `HKLM` in the first block with `HKA`;\r\n2. Replace `HKCR` with `HKA` and add the `Software\\Classes\\` prefix to the `Subkey`  in the second block.\r\n\r\n---\r\n\r\n[![Set Default Programs][1]][1]\r\n\r\n[![Set Program Associations][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qzZ7W.png\r\n  [2]: http://i.stack.imgur.com/nZFxI.png","title":"Inno Setup: Extending Windows default apps list","body":"<p>For generic information, see:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/shell/default-programs#registering-an-application-for-use-with-default-programs\" rel=\"nofollow noreferrer\">Registering an Application for Use with Default Programs</a> on Microsoft Docs.</li>\n<li><a href=\"https://stackoverflow.com/q/5542354/850848\">How do I add my application in the Default Programs list of Windows Vista/7?</a> on Stack Overflow</li>\n</ul>\n<p>In Inno Setup, you implement this using <a href=\"https://jrsoftware.org/ishelp/index.php?topic=registrysection\" rel=\"nofollow noreferrer\"><code>[Registry]</code> section</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Registry]\n; Create the application capability key\n; (The location of the key does not matter)\nRoot: HKLM; Subkey: &quot;Software\\My Company&quot;; Flags: uninsdeletekeyifempty\nRoot: HKLM; Subkey: &quot;Software\\My Company\\My Program&quot;; Flags: uninsdeletekeyifempty\nRoot: HKLM; Subkey: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\n    ValueType: string; ValueName: &quot;ApplicationDescription&quot;; \\\n    ValueData: &quot;This is My Program that does stuff&quot;; Flags: uninsdeletevalue\nRoot: HKLM; Subkey: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\n    ValueType: string; ValueName: &quot;ApplicationName&quot;; ValueData: &quot;My Program&quot;; \\\n    Flags: uninsdeletevalue\n; List of extensions the application supports\nRoot: HKLM; \\\n    Subkey: &quot;Software\\My Company\\My Program\\Capability\\FileAssociations&quot;; \\\n    ValueType: string; ValueName: &quot;.jpg&quot;; ValueData: &quot;MyProgram.JPEG&quot;; \\\n    Flags: uninsdeletevalue\n\n; Add the capability key to list of registered applications\nRoot: HKLM; Subkey: &quot;Software\\RegisteredApplications&quot;; \\\n    ValueType: string; ValueName: &quot;My Program&quot;; \\\n    ValueData: &quot;Software\\My Company\\My Program\\Capability&quot;; \\\n    Flags: uninsdeletevalue\n\n; For each extension that the application supports\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG&quot;; Flags: uninsdeletekeyifempty\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG&quot;; \\\n    ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;MyProgram JPEG&quot;; \\\n    Flags: uninsdeletevalue\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\DefaultIcon&quot;; Flags: uninsdeletekeyifempty\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\DefaultIcon&quot;; \\\n    ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;{app}\\MyProg.exe,1&quot;; \\\n    Flags: uninsdeletevalue\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell&quot;; Flags: uninsdeletekeyifempty\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open&quot;; Flags: uninsdeletekeyifempty\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open\\Command&quot;; \\\n    Flags: uninsdeletekeyifempty\nRoot: HKCR; Subkey: &quot;MyProgram.JPEG\\Shell\\open\\Command&quot;; \\\n    ValueType: string; ValueName: &quot;&quot;; ValueData: &quot;&quot;&quot;{app}\\MyProg.exe&quot;&quot; &quot;&quot;%1&quot;&quot;&quot;; \\\n    Flags: uninsdeletevalue\n</code></pre>\n<hr />\n<p>In Inno Setup 6, you should modify the code as follows to support <a href=\"https://jrsoftware.org/ishelp/index.php?topic=admininstallmode\" rel=\"nofollow noreferrer\">non-administrative install mode</a>:</p>\n<ol>\n<li>Replace <code>HKLM</code> in the first block with <code>HKA</code>;</li>\n<li>Replace <code>HKCR</code> with <code>HKA</code> and add the <code>Software\\Classes\\</code> prefix to the <code>Subkey</code>  in the second block.</li>\n</ol>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/qzZ7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzZ7W.png\" alt=\"Set Default Programs\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nZFxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZFxI.png\" alt=\"Set Program Associations\" /></a></p>\n"}],"owner":{"account_id":2392209,"reputation":2429,"user_id":2091847,"accept_rate":42,"display_name":"Vmxes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":832,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36325835,"answer_count":1,"score":6,"last_activity_date":1634298805,"creation_date":1459347530,"question_id":36311624,"body_markdown":"How is it possible to have listed my application on the Windows default apps list?\r\n\r\nI have a special Java based video player application with an installer created by Inno Setup. I want my application to be listed on the selectable video players list on Windows 10 (I also don&#39;t know how to do it with older Windows versions). \r\n\r\n","title":"Inno Setup: Extending Windows default apps list","body":"<p>How is it possible to have listed my application on the Windows default apps list?</p>\n\n<p>I have a special Java based video player application with an installer created by Inno Setup. I want my application to be listed on the selectable video players list on Windows 10 (I also don't know how to do it with older Windows versions). </p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634298221,"creation_date":1634298221,"answer_id":69584205,"question_id":69577525,"body_markdown":"I can&#39;t think of a simple way to aggregate these sums without accessing some tables twice. If I do, I&#39;ll update this answer. But here&#39;s a solution that answers your question:\r\n\r\n```java\r\nvar results = create\r\n    .select(\r\n        ORGANIZATIONS.ID,\r\n        ORGANIZATIONS.NAME,\r\n        multiset(\r\n            select(\r\n                DEPARTMENTS.ID,\r\n                DEPARTMENTS.NAME,\r\n\r\n                // Employees per department sorted by salary\r\n                multisetAgg(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\r\n                    .orderBy(EMPLOYEES.SALARY.desc()))\r\n           .from(DEPARTMENTS)\r\n           .leftJoin(EMPLOYEES)\r\n               .on(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\r\n           .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID))\r\n           .groupBy(DEPARTMENTS.ID, DEPARTMENTS.NAME)\r\n\r\n           // Departments sorted by max employee salary\r\n           .orderBy(max(EMPLOYEES.SALARY).desc()))\r\n    .from(ORGANIZATIONS)\r\n\r\n    // Organisations sorted by max employee salary via extra join\r\n    .orderBy(field(\r\n        select(max(EMPLOYEES.SALARY))\r\n        .from(EMPLOYEES)\r\n        .where(EMPLOYEES.departments().ORGANIZATION_ID.eq(ORGANIZATION.ID))\r\n    ).desc())\r\n    .fetch();\r\n```\r\n\r\nAnother solution would be to sort the outer result only after querying:\r\n\r\n\r\n```java\r\nvar results = create\r\n    .select(\r\n        ORGANIZATIONS.ID,\r\n        ORGANIZATIONS.NAME,\r\n        multiset(\r\n            select(\r\n                DEPARTMENTS.ID,\r\n                DEPARTMENTS.NAME,\r\n                multisetAgg(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\r\n                    .orderBy(EMPLOYEES.SALARY.desc()),\r\n                max(EMPLOYEES.SALARY))\r\n           .from(DEPARTMENTS)\r\n           .leftJoin(EMPLOYEES)\r\n               .on(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\r\n           .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID))\r\n           .groupBy(DEPARTMENTS.ID, DEPARTMENTS.NAME)\r\n           .orderBy(max(EMPLOYEES.SALARY).desc()))\r\n    .from(ORGANIZATIONS)\r\n    .fetch()\r\n    .sortDesc(Comparator.comparing(\r\n        // r.value3() is the outer multiset()\r\n        r -&gt; r.value3().isEmpty() \r\n           ? 0 \r\n\r\n        // r.value3().get(0).value4() is the top max(EMPLOYEES.SALARY) value\r\n           : r.value3().get(0).value4()\r\n    ));\r\n```\r\n\r\nIt would be possible to define a new operator that extracts a value again from a `MULTISET`, without depending on its SQL/XML or SQL/JSON serialisation implemetation. Or, you could roll your own using [plain SQL templating][1], knowing what the serialisation implementation looks like (knowing that it might change subtly, in the future)\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"How to order by values from nested multisets?","body":"<p>I can't think of a simple way to aggregate these sums without accessing some tables twice. If I do, I'll update this answer. But here's a solution that answers your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var results = create\n    .select(\n        ORGANIZATIONS.ID,\n        ORGANIZATIONS.NAME,\n        multiset(\n            select(\n                DEPARTMENTS.ID,\n                DEPARTMENTS.NAME,\n\n                // Employees per department sorted by salary\n                multisetAgg(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\n                    .orderBy(EMPLOYEES.SALARY.desc()))\n           .from(DEPARTMENTS)\n           .leftJoin(EMPLOYEES)\n               .on(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\n           .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID))\n           .groupBy(DEPARTMENTS.ID, DEPARTMENTS.NAME)\n\n           // Departments sorted by max employee salary\n           .orderBy(max(EMPLOYEES.SALARY).desc()))\n    .from(ORGANIZATIONS)\n\n    // Organisations sorted by max employee salary via extra join\n    .orderBy(field(\n        select(max(EMPLOYEES.SALARY))\n        .from(EMPLOYEES)\n        .where(EMPLOYEES.departments().ORGANIZATION_ID.eq(ORGANIZATION.ID))\n    ).desc())\n    .fetch();\n</code></pre>\n<p>Another solution would be to sort the outer result only after querying:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var results = create\n    .select(\n        ORGANIZATIONS.ID,\n        ORGANIZATIONS.NAME,\n        multiset(\n            select(\n                DEPARTMENTS.ID,\n                DEPARTMENTS.NAME,\n                multisetAgg(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\n                    .orderBy(EMPLOYEES.SALARY.desc()),\n                max(EMPLOYEES.SALARY))\n           .from(DEPARTMENTS)\n           .leftJoin(EMPLOYEES)\n               .on(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\n           .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID))\n           .groupBy(DEPARTMENTS.ID, DEPARTMENTS.NAME)\n           .orderBy(max(EMPLOYEES.SALARY).desc()))\n    .from(ORGANIZATIONS)\n    .fetch()\n    .sortDesc(Comparator.comparing(\n        // r.value3() is the outer multiset()\n        r -&gt; r.value3().isEmpty() \n           ? 0 \n\n        // r.value3().get(0).value4() is the top max(EMPLOYEES.SALARY) value\n           : r.value3().get(0).value4()\n    ));\n</code></pre>\n<p>It would be possible to define a new operator that extracts a value again from a <code>MULTISET</code>, without depending on its SQL/XML or SQL/JSON serialisation implemetation. Or, you could roll your own using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>, knowing what the serialisation implementation looks like (knowing that it might change subtly, in the future)</p>\n"}],"owner":{"account_id":2140773,"reputation":461,"user_id":5781953,"display_name":"Steven Grimm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634298221,"creation_date":1634246757,"question_id":69577525,"body_markdown":"An [earlier question](https://stackoverflow.com/questions/69552492/jooq-multiset-order-result-set-via-conditions-on-multiset) covers how to use jOOQ&#39;s `MULTISET_AGG` feature to order a query based on an aggregate function over a nested collection: use `GROUP BY` to group the query by all the selected columns from the parent table, rather than trying to exploit implementation details of `MULTISET`.\r\n\r\nIs there an approach that works with multi-level collections? I&#39;m using PostgreSQL but obviously if there&#39;s an engine-independent way to do it, even better.\r\n\r\nFor example, if I have a nested query using `MULTISET`:\r\n\r\n```java\r\nvar results =\r\n    create\r\n        .select(\r\n            ORGANIZATIONS.ID,\r\n            ORGANIZATIONS.NAME,\r\n            multiset(\r\n                    select(\r\n                        DEPARTMENTS.ID,\r\n                        DEPARTMENTS.NAME,\r\n                        multiset(\r\n                            select(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\r\n                                .from(EMPLOYEES)\r\n                                .where(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID)))))\r\n                .from(DEPARTMENTS)\r\n                .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID)))\r\n        .from(ORGANIZATIONS)\r\n        .fetch();\r\n```\r\n\r\nI can easily sort each department&#39;s employees by salary if I put an `ORDER BY` in the innermost query.\r\n\r\n```java\r\n                        multiset(\r\n                            select(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\r\n                                .from(EMPLOYEES)\r\n                                .where(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\r\n                                .orderBy(EMPLOYEES.SALARY.desc()))))\r\n```\r\n\r\nBut how do I also sort the list of departments by the highest employee salary, and the list of organizations by the highest employee salary across its departments?\r\n\r\nChanging the `MULTISET`s into `MULTISET_AGG`s and only doing the `ORDER BY` on the top level of the query, as in the earlier question with just one level of nesting, seems like it can&#39;t work here because you&#39;d need to group by two different sets of columns at the same time, and also because you can&#39;t nest aggregate functions (at least on PostgreSQL.)","title":"How to order by values from nested multisets?","body":"<p>An <a href=\"https://stackoverflow.com/questions/69552492/jooq-multiset-order-result-set-via-conditions-on-multiset\">earlier question</a> covers how to use jOOQ's <code>MULTISET_AGG</code> feature to order a query based on an aggregate function over a nested collection: use <code>GROUP BY</code> to group the query by all the selected columns from the parent table, rather than trying to exploit implementation details of <code>MULTISET</code>.</p>\n<p>Is there an approach that works with multi-level collections? I'm using PostgreSQL but obviously if there's an engine-independent way to do it, even better.</p>\n<p>For example, if I have a nested query using <code>MULTISET</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var results =\n    create\n        .select(\n            ORGANIZATIONS.ID,\n            ORGANIZATIONS.NAME,\n            multiset(\n                    select(\n                        DEPARTMENTS.ID,\n                        DEPARTMENTS.NAME,\n                        multiset(\n                            select(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\n                                .from(EMPLOYEES)\n                                .where(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID)))))\n                .from(DEPARTMENTS)\n                .where(DEPARTMENTS.ORGANIZATION_ID.eq(ORGANIZATIONS.ID)))\n        .from(ORGANIZATIONS)\n        .fetch();\n</code></pre>\n<p>I can easily sort each department's employees by salary if I put an <code>ORDER BY</code> in the innermost query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>                        multiset(\n                            select(EMPLOYEES.ID, EMPLOYEES.SALARY, EMPLOYEES.NAME)\n                                .from(EMPLOYEES)\n                                .where(EMPLOYEES.DEPARTMENT_ID.eq(DEPARTMENTS.ID))\n                                .orderBy(EMPLOYEES.SALARY.desc()))))\n</code></pre>\n<p>But how do I also sort the list of departments by the highest employee salary, and the list of organizations by the highest employee salary across its departments?</p>\n<p>Changing the <code>MULTISET</code>s into <code>MULTISET_AGG</code>s and only doing the <code>ORDER BY</code> on the top level of the query, as in the earlier question with just one level of nesting, seems like it can't work here because you'd need to group by two different sets of columns at the same time, and also because you can't nest aggregate functions (at least on PostgreSQL.)</p>\n"},{"tags":["java","json","json-simple"],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634298067,"creation_date":1634297500,"answer_id":69584058,"question_id":69583970,"body_markdown":"You just need to add another object of type JsonObject and it will do that\r\n\r\n     //...\r\n          jsonObject.put(&quot;ID&quot;, &quot;1&quot;);\r\n          jsonObject.put(&quot;First_Name&quot;, &quot;Shikhar&quot;);\r\n          jsonObject.put(&quot;data&quot;, new JSONObject(data));\r\n     //...\r\n\r\nAnd that will return the output what you want\r\n\r\n\r\nIn case you need add more fields without a object a good practice its do the next:\r\n\r\n```\r\nJSONObject mainFields = new JSONObject();\r\nmainFields.put(&quot;id&quot;, &quot;1&quot;);\r\nJSONObject secondFields = new JSONObject();\r\nsecondFields.put(&quot;field1&quot;, &quot;some cool&quot;);\r\nsecondFields.put(&quot;field2&quot;, &quot;not cool&quot;);\r\nmainFields.put(&quot;data&quot;, secondFields);\r\n\r\n```\r\nThis return:\r\n\r\n``` \r\n{\r\n &quot;id&quot;:&quot;1&quot;,\r\n &quot;data&quot;:{\r\n   &quot;field1&quot;: &quot;some cool&quot;,\r\n   &quot;field2&quot;: &quot;not cool&quot;\r\n }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"How to add subnode to json file using json-simple","body":"<p>You just need to add another object of type JsonObject and it will do that</p>\n<pre><code> //...\n      jsonObject.put(&quot;ID&quot;, &quot;1&quot;);\n      jsonObject.put(&quot;First_Name&quot;, &quot;Shikhar&quot;);\n      jsonObject.put(&quot;data&quot;, new JSONObject(data));\n //...\n</code></pre>\n<p>And that will return the output what you want</p>\n<p>In case you need add more fields without a object a good practice its do the next:</p>\n<pre><code>JSONObject mainFields = new JSONObject();\nmainFields.put(&quot;id&quot;, &quot;1&quot;);\nJSONObject secondFields = new JSONObject();\nsecondFields.put(&quot;field1&quot;, &quot;some cool&quot;);\nsecondFields.put(&quot;field2&quot;, &quot;not cool&quot;);\nmainFields.put(&quot;data&quot;, secondFields);\n\n</code></pre>\n<p>This return:</p>\n<pre><code>{\n &quot;id&quot;:&quot;1&quot;,\n &quot;data&quot;:{\n   &quot;field1&quot;: &quot;some cool&quot;,\n   &quot;field2&quot;: &quot;not cool&quot;\n }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1873956,"reputation":2761,"user_id":1695592,"accept_rate":58,"display_name":"Ronald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69584058,"answer_count":1,"score":1,"last_activity_date":1634298067,"creation_date":1634296966,"question_id":69583970,"body_markdown":"I create json file with the folloing code:\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import org.json.simple.JSONObject;\r\n    public class CreatingJSONDocument {\r\n       public static void main(String args[]) {\r\n          //Creating a JSONObject object\r\n          JSONObject jsonObject = new JSONObject();\r\n          //Inserting key-value pairs into the json object\r\n          jsonObject.put(&quot;ID&quot;, &quot;1&quot;);\r\n          jsonObject.put(&quot;First_Name&quot;, &quot;Shikhar&quot;);\r\n          \r\n          try {\r\n             FileWriter file = new FileWriter(&quot;E:/output.json&quot;);\r\n             file.write(jsonObject.toJSONString());\r\n             file.close();\r\n          } catch (IOException e) {\r\n             // TODO Auto-generated catch block\r\n             e.printStackTrace();\r\n          }\r\n          System.out.println(&quot;JSON file created: &quot;+jsonObject);\r\n       }\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    JSON file created: {\r\n    &quot;First_Name&quot;:&quot;Shikhar&quot;,\r\n    &quot;ID&quot;:&quot;1&quot;}\r\n\r\nHow can I add content of java map to the this json output as a new node sothat I have at the end the following output:\r\n  \r\n\r\n      JSON file created: {\r\n        &quot;First_Name&quot;:&quot;Shikhar&quot;,\r\n        &quot;ID&quot;:&quot;1&quot;,\r\n          &quot;data&quot;: {\r\n            &quot;a&quot;: &quot;Test1&quot;,\r\n            &quot;b&quot;: &quot;Test2&quot;\r\n             }\r\n            }\r\n\r\n","title":"How to add subnode to json file using json-simple","body":"<p>I create json file with the folloing code:</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport org.json.simple.JSONObject;\npublic class CreatingJSONDocument {\n   public static void main(String args[]) {\n      //Creating a JSONObject object\n      JSONObject jsonObject = new JSONObject();\n      //Inserting key-value pairs into the json object\n      jsonObject.put(&quot;ID&quot;, &quot;1&quot;);\n      jsonObject.put(&quot;First_Name&quot;, &quot;Shikhar&quot;);\n      \n      try {\n         FileWriter file = new FileWriter(&quot;E:/output.json&quot;);\n         file.write(jsonObject.toJSONString());\n         file.close();\n      } catch (IOException e) {\n         // TODO Auto-generated catch block\n         e.printStackTrace();\n      }\n      System.out.println(&quot;JSON file created: &quot;+jsonObject);\n   }\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>JSON file created: {\n&quot;First_Name&quot;:&quot;Shikhar&quot;,\n&quot;ID&quot;:&quot;1&quot;}\n</code></pre>\n<p>How can I add content of java map to the this json output as a new node sothat I have at the end the following output:</p>\n<pre><code>  JSON file created: {\n    &quot;First_Name&quot;:&quot;Shikhar&quot;,\n    &quot;ID&quot;:&quot;1&quot;,\n      &quot;data&quot;: {\n        &quot;a&quot;: &quot;Test1&quot;,\n        &quot;b&quot;: &quot;Test2&quot;\n         }\n        }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634298029,"creation_date":1634298029,"answer_id":69584166,"question_id":69583295,"body_markdown":"In general there are 2 ways to access a variable from another class:\r\n\r\n1. You create an object of that class. Then this object has all the variables from the scope of that class assigned to it. For example:\r\n\r\n```\r\nTest t = new Test();\r\nt.name = &quot;test&quot;;\r\n```\r\n\r\n2. You can also create a static variable. Then the variable is assigned to the class not the object of that class. This way you will not need to create an object, but all instances of the class will share the same variable.\r\n```\r\n//In the scope of the class\r\nstatic String name; \r\n\r\n-------------------------\r\n//when classing the class\r\nTest.name = &quot;The Name of the Test&quot;;\r\n```\r\n\r\nIf you do not want to create a new instance of a class every time, and always use the same instance, you can create a singleton object. You write a getter method that gets you the object. It looks like this:\r\n\r\n```\r\npublic class Test {\r\n    Test t;\r\n\r\n    public static void main(String[] args) {\r\n       t = new Test();\r\n    }\r\n    \r\n    public Test getTest() {\r\n        if (t != null) {\r\n            return t;\r\n        } else {\r\n            t = new Test();\r\n            return t;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI see you work with a JFrame. Then you will probably want to make it a singleton. Else you will open a new instance of the JFrame every time you call upon it, which is not recommended. \r\nDoes this answer your question?","title":"Best way to access variables from another class?","body":"<p>In general there are 2 ways to access a variable from another class:</p>\n<ol>\n<li>You create an object of that class. Then this object has all the variables from the scope of that class assigned to it. For example:</li>\n</ol>\n<pre><code>Test t = new Test();\nt.name = &quot;test&quot;;\n</code></pre>\n<ol start=\"2\">\n<li>You can also create a static variable. Then the variable is assigned to the class not the object of that class. This way you will not need to create an object, but all instances of the class will share the same variable.</li>\n</ol>\n<pre><code>//In the scope of the class\nstatic String name; \n\n-------------------------\n//when classing the class\nTest.name = &quot;The Name of the Test&quot;;\n</code></pre>\n<p>If you do not want to create a new instance of a class every time, and always use the same instance, you can create a singleton object. You write a getter method that gets you the object. It looks like this:</p>\n<pre><code>public class Test {\n    Test t;\n\n    public static void main(String[] args) {\n       t = new Test();\n    }\n    \n    public Test getTest() {\n        if (t != null) {\n            return t;\n        } else {\n            t = new Test();\n            return t;\n        }\n    }\n}\n\n</code></pre>\n<p>I see you work with a JFrame. Then you will probably want to make it a singleton. Else you will open a new instance of the JFrame every time you call upon it, which is not recommended.\nDoes this answer your question?</p>\n"}],"owner":{"account_id":10625943,"reputation":55,"user_id":7825572,"display_name":"4ulls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69584166,"answer_count":1,"score":1,"last_activity_date":1634298029,"creation_date":1634293405,"question_id":69583295,"body_markdown":"I need to access variables from another class and I have done it using 2 different approaches described below.\r\n\r\nMy question is which of the two is preferable and why since both work quite nicely -or is there another better way to do it?. I have also done it using internal classes but this is inconvenient when the number of code lines gets growing ever larger.\r\n\r\nIn the following test code the commented asterisks repesent different files:\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class Test {\t  \r\n    \tpublic static void main(String[] args) {\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() { \r\n                \tMainFrame f = new MainFrame(&quot;Testing&quot;,50,50);\r\n            \t    f.setResizable(false);\t\t\t\t    \r\n            \t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                \tf.setLocationRelativeTo(null);\r\n                \tf.setVisible(true);\r\n                }\r\n            });   \r\n        }\r\n    }\r\n    //**********************************************************************\r\n    import java.awt.BorderLayout;\r\n    import javax.swing.JFrame;\r\n    \r\n    public class MainFrame extends JFrame {\r\n    \tpublic MainFrame(String title,int x,int y) {\r\n    \t\tsetTitle(title);\r\n    \t\tthis.setLocation(x, y);\t\t\r\n    \t\tUpperPanel pUp=new UpperPanel();\r\n    \t\tadd(pUp, BorderLayout.NORTH);\r\n    \t    \tLowerPanel pLow=new LowerPanel();\r\n        \t\tadd(pLow, BorderLayout.SOUTH);\r\n        \t\tpack();\r\n    \t}\r\n    }\r\n\r\nNow as you can see below UpperPanel must access JButtons from LowerPanel and LowerPanel must access the menu from UpperPanel. For this reason I could pass pUp as a parameter to the LowerPanel constructor but I can&#39;t pass pLow as parameter to UpperPanel as it hasn&#39;t been created yet.\r\n\r\nTherefore I have used 2 methods, one declaring instances of the relevant classes and the other using static variables. The previous 2 classes above are the same in each approach.\r\n\r\nBelow is the code of the panels in the first case:\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class LowerPanel extends JPanel implements ActionListener {\r\n    \tstatic JButton butEnableMenu;\r\n    \tstatic JButton butEnableBut1;\r\n    \tpublic LowerPanel() {\r\n    \t\tsetLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tbutEnableMenu=new JButton(&quot;Enable menu&quot;);\r\n    \t\tbutEnableMenu.setEnabled(true);\r\n    \t\tbutEnableMenu.addActionListener(this);\t\t\r\n    \t\tadd(butEnableMenu);\r\n    \t\tbutEnableBut1=new JButton(&quot;Enable first button&quot;);\r\n    \t\tbutEnableBut1.setEnabled(false);\t\r\n    \t\tbutEnableBut1.addActionListener(this);\t\r\n    \t\tadd(butEnableBut1);\t\t\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent e) {\t\r\n    \t\tUpperPanel up = null;\r\n    \t\tObject clicked=e.getSource();\r\n    \t\tJMenu mnu=up.myMenuBar.getMenu(0);\r\n    \t\tif(clicked.equals(butEnableMenu)) {\r\n    \t\t\tmnu.setEnabled(true);\r\n    \t\t\tbutEnableMenu.setEnabled(false);\r\n    \t\t}\r\n    \t\telse if(clicked.equals(butEnableBut1)) {\r\n    \t\t\tbutEnableMenu.setEnabled(true);\r\n    \t\t\tbutEnableBut1.setEnabled(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    //**********************************************************************\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    \r\n    public class UpperPanel extends JPanel {\r\n    \tstatic JMenuBar myMenuBar;\r\n    \tpublic UpperPanel() {\r\n    \t\tsetLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tmyMenuBar=new JMenuBar();\r\n    \t\tJMenu but2=new JMenu(&quot;2nd button&quot;);\r\n    \t\tJMenuItem enableBut2=new JMenuItem(&quot;Enable&quot;);\r\n    \t\tbut2.setEnabled(false);\r\n    \t\tenableBut2.addActionListener(new menuActionListener());\r\n    \t\tmyMenuBar.add(but2);\r\n    \t\tbut2.add(enableBut2);\r\n    \t\tadd(myMenuBar);\t\t\r\n    \t}\r\n    }\r\n    \r\n    class menuActionListener implements ActionListener {\r\n    \tstatic String clickedMenuItem=null;\r\n    \tLowerPanel lp;\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tclickedMenuItem=e.getActionCommand();\r\n    \t\tJMenuItem mnuItm=(JMenuItem)e.getSource();\r\n    \t\tJPopupMenu pmen = (JPopupMenu)mnuItm.getParent();\r\n    \t\tJMenu pmnu =(JMenu)pmen.getInvoker();\r\n    \t\tif(clickedMenuItem.equals(&quot;Enable&quot;)) {\r\n    \t\t\tpmnu.setEnabled(false);\r\n    \t\t\tlp.butEnableBut1.setEnabled(true);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd these are the panels in the second case:\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    \r\n    public class UpperPanel extends JPanel {\r\n    \tstatic JMenuBar myMenuBar;\r\n    \tpublic UpperPanel() {\r\n    \t\tsetLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tmyMenuBar=new JMenuBar();\r\n    \t\tJMenu but2=new JMenu(&quot;2nd button&quot;);\r\n    \t\tJMenuItem enableBut2=new JMenuItem(&quot;Enable&quot;);\r\n    \t\tbut2.setEnabled(false);\r\n    \t\tenableBut2.addActionListener(new menuActionListener());\r\n    \t\tmyMenuBar.add(but2);\r\n    \t\tbut2.add(enableBut2);\r\n    \t\tadd(myMenuBar);\t\r\n    \t}\r\n    }\r\n    \r\n    class menuActionListener implements ActionListener {\r\n    \tstatic String clickedMenuItem=null;\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tclickedMenuItem=e.getActionCommand();\r\n    \t\tJMenuItem mnuItm=(JMenuItem)e.getSource();\r\n    \t\tJPopupMenu jpm = (JPopupMenu)mnuItm.getParent();\r\n    \t\tJMenu pmnu =(JMenu)jpm.getInvoker();\r\n    \t\tif(clickedMenuItem.equals(&quot;Enable&quot;)) {\r\n    \t\t\tpmnu.setEnabled(false);\r\n    \t\t\tLowerPanel.butEnableBut1.setEnabled(true);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    //**********************************************************************\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class LowerPanel extends JPanel implements ActionListener {\r\n    \tstatic JButton butEnableMenu;\r\n    \tstatic JButton butEnableBut1;\r\n    \tpublic LowerPanel() {\r\n    \t\tsetLayout(new FlowLayout(FlowLayout.LEFT));\r\n    \t\tbutEnableMenu=new JButton(&quot;Enable menu&quot;);\r\n    \t\tbutEnableMenu.setEnabled(true);\r\n    \t\tbutEnableMenu.addActionListener(this);\t\t\r\n    \t\tadd(butEnableMenu);\r\n    \t\tbutEnableBut1=new JButton(&quot;Enable first button&quot;);\r\n    \t\tbutEnableBut1.setEnabled(false);\t\r\n    \t\tbutEnableBut1.addActionListener(this);\t\r\n    \t\tadd(butEnableBut1);\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent e) {\t\t\r\n    \t\tObject clicked=e.getSource();\r\n    \t\tJMenu mnu=UpperPanel.myMenuBar.getMenu(0);\r\n    \t\tif(clicked.equals(butEnableMenu)) {\r\n    \t\t\tmnu.setEnabled(true);\r\n    \t\t\tbutEnableMenu.setEnabled(false);\r\n    \t\t}\r\n    \t\telse if(clicked.equals(butEnableBut1)) {\r\n    \t\t\tbutEnableMenu.setEnabled(true);\r\n    \t\t\tbutEnableBut1.setEnabled(false);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Best way to access variables from another class?","body":"<p>I need to access variables from another class and I have done it using 2 different approaches described below.</p>\n<p>My question is which of the two is preferable and why since both work quite nicely -or is there another better way to do it?. I have also done it using internal classes but this is inconvenient when the number of code lines gets growing ever larger.</p>\n<p>In the following test code the commented asterisks repesent different files:</p>\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.JFrame;\n\npublic class Test {   \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() { \n                MainFrame f = new MainFrame(&quot;Testing&quot;,50,50);\n                f.setResizable(false);                  \n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.setLocationRelativeTo(null);\n                f.setVisible(true);\n            }\n        });   \n    }\n}\n//**********************************************************************\nimport java.awt.BorderLayout;\nimport javax.swing.JFrame;\n\npublic class MainFrame extends JFrame {\n    public MainFrame(String title,int x,int y) {\n        setTitle(title);\n        this.setLocation(x, y);     \n        UpperPanel pUp=new UpperPanel();\n        add(pUp, BorderLayout.NORTH);\n            LowerPanel pLow=new LowerPanel();\n            add(pLow, BorderLayout.SOUTH);\n            pack();\n    }\n}\n</code></pre>\n<p>Now as you can see below UpperPanel must access JButtons from LowerPanel and LowerPanel must access the menu from UpperPanel. For this reason I could pass pUp as a parameter to the LowerPanel constructor but I can't pass pLow as parameter to UpperPanel as it hasn't been created yet.</p>\n<p>Therefore I have used 2 methods, one declaring instances of the relevant classes and the other using static variables. The previous 2 classes above are the same in each approach.</p>\n<p>Below is the code of the panels in the first case:</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JMenu;\nimport javax.swing.JPanel;\n\npublic class LowerPanel extends JPanel implements ActionListener {\n    static JButton butEnableMenu;\n    static JButton butEnableBut1;\n    public LowerPanel() {\n        setLayout(new FlowLayout(FlowLayout.LEFT));\n        butEnableMenu=new JButton(&quot;Enable menu&quot;);\n        butEnableMenu.setEnabled(true);\n        butEnableMenu.addActionListener(this);      \n        add(butEnableMenu);\n        butEnableBut1=new JButton(&quot;Enable first button&quot;);\n        butEnableBut1.setEnabled(false);    \n        butEnableBut1.addActionListener(this);  \n        add(butEnableBut1);     \n    }\n    public void actionPerformed(ActionEvent e) {    \n        UpperPanel up = null;\n        Object clicked=e.getSource();\n        JMenu mnu=up.myMenuBar.getMenu(0);\n        if(clicked.equals(butEnableMenu)) {\n            mnu.setEnabled(true);\n            butEnableMenu.setEnabled(false);\n        }\n        else if(clicked.equals(butEnableBut1)) {\n            butEnableMenu.setEnabled(true);\n            butEnableBut1.setEnabled(false);\n        }\n    }\n}\n//**********************************************************************\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\n\npublic class UpperPanel extends JPanel {\n    static JMenuBar myMenuBar;\n    public UpperPanel() {\n        setLayout(new FlowLayout(FlowLayout.LEFT));\n        myMenuBar=new JMenuBar();\n        JMenu but2=new JMenu(&quot;2nd button&quot;);\n        JMenuItem enableBut2=new JMenuItem(&quot;Enable&quot;);\n        but2.setEnabled(false);\n        enableBut2.addActionListener(new menuActionListener());\n        myMenuBar.add(but2);\n        but2.add(enableBut2);\n        add(myMenuBar);     \n    }\n}\n\nclass menuActionListener implements ActionListener {\n    static String clickedMenuItem=null;\n    LowerPanel lp;\n    public void actionPerformed(ActionEvent e) {\n        clickedMenuItem=e.getActionCommand();\n        JMenuItem mnuItm=(JMenuItem)e.getSource();\n        JPopupMenu pmen = (JPopupMenu)mnuItm.getParent();\n        JMenu pmnu =(JMenu)pmen.getInvoker();\n        if(clickedMenuItem.equals(&quot;Enable&quot;)) {\n            pmnu.setEnabled(false);\n            lp.butEnableBut1.setEnabled(true);\n        }\n    }\n}\n</code></pre>\n<p>And these are the panels in the second case:</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\n\npublic class UpperPanel extends JPanel {\n    static JMenuBar myMenuBar;\n    public UpperPanel() {\n        setLayout(new FlowLayout(FlowLayout.LEFT));\n        myMenuBar=new JMenuBar();\n        JMenu but2=new JMenu(&quot;2nd button&quot;);\n        JMenuItem enableBut2=new JMenuItem(&quot;Enable&quot;);\n        but2.setEnabled(false);\n        enableBut2.addActionListener(new menuActionListener());\n        myMenuBar.add(but2);\n        but2.add(enableBut2);\n        add(myMenuBar); \n    }\n}\n\nclass menuActionListener implements ActionListener {\n    static String clickedMenuItem=null;\n    public void actionPerformed(ActionEvent e) {\n        clickedMenuItem=e.getActionCommand();\n        JMenuItem mnuItm=(JMenuItem)e.getSource();\n        JPopupMenu jpm = (JPopupMenu)mnuItm.getParent();\n        JMenu pmnu =(JMenu)jpm.getInvoker();\n        if(clickedMenuItem.equals(&quot;Enable&quot;)) {\n            pmnu.setEnabled(false);\n            LowerPanel.butEnableBut1.setEnabled(true);\n        }\n    }\n}\n\n//**********************************************************************\nimport java.awt.FlowLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JButton;\nimport javax.swing.JMenu;\nimport javax.swing.JPanel;\n\npublic class LowerPanel extends JPanel implements ActionListener {\n    static JButton butEnableMenu;\n    static JButton butEnableBut1;\n    public LowerPanel() {\n        setLayout(new FlowLayout(FlowLayout.LEFT));\n        butEnableMenu=new JButton(&quot;Enable menu&quot;);\n        butEnableMenu.setEnabled(true);\n        butEnableMenu.addActionListener(this);      \n        add(butEnableMenu);\n        butEnableBut1=new JButton(&quot;Enable first button&quot;);\n        butEnableBut1.setEnabled(false);    \n        butEnableBut1.addActionListener(this);  \n        add(butEnableBut1);\n    }\n    public void actionPerformed(ActionEvent e) {        \n        Object clicked=e.getSource();\n        JMenu mnu=UpperPanel.myMenuBar.getMenu(0);\n        if(clicked.equals(butEnableMenu)) {\n            mnu.setEnabled(true);\n            butEnableMenu.setEnabled(false);\n        }\n        else if(clicked.equals(butEnableBut1)) {\n            butEnableMenu.setEnabled(true);\n            butEnableBut1.setEnabled(false);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","intellij-idea","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1511298022,"post_id":47422579,"comment_id":81799709,"body_markdown":"By chance have you also recently switched to using Java 9?","body":"By chance have you also recently switched to using Java 9?"},{"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"score":0,"creation_date":1511298050,"post_id":47422579,"comment_id":81799728,"body_markdown":"which compiler did your Intellij use? When I switched to Intellij, my project **Language level** is always set to 1.5. \n**Open Module Settings** and change to correct language level should help.","body":"which compiler did your Intellij use? When I switched to Intellij, my project <b>Language level</b> is always set to 1.5.  <b>Open Module Settings</b> and change to correct language level should help."},{"owner":{"account_id":11749745,"reputation":89,"user_id":8599405,"display_name":"J.Johnson"},"score":0,"creation_date":1511298980,"post_id":47422579,"comment_id":81800256,"body_markdown":"Yes I have the java 9 JDK and sqljdbc42 as module dependencies.","body":"Yes I have the java 9 JDK and sqljdbc42 as module dependencies."},{"owner":{"account_id":11749745,"reputation":89,"user_id":8599405,"display_name":"J.Johnson"},"score":0,"creation_date":1511299542,"post_id":47422579,"comment_id":81800613,"body_markdown":"@haifzhan Was on language level 9 and also tried language level 8. Neither are working still getting the same error Message. Here&#39;s a view of the project https://gyazo.com/17ff5d773ea99e79458393042c883f78","body":"@haifzhan Was on language level 9 and also tried language level 8. Neither are working still getting the same error Message. Here&#39;s a view of the project <a href=\"https://gyazo.com/17ff5d773ea99e79458393042c883f78\" rel=\"nofollow noreferrer\">gyazo.com/17ff5d773ea99e79458393042c883f78</a>"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1511345740,"post_id":47422579,"comment_id":81818267,"body_markdown":"Do you use JDK 9 as Module/Project JDK?","body":"Do you use JDK 9 as Module/Project JDK?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1518512287,"post_id":47422579,"comment_id":84526091,"body_markdown":"Related: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","body":"Related: <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\" title=\"how to resolve java lang noclassdeffounderror javax xml bind jaxbexception in j\">stackoverflow.com/questions/43574426/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1579249041,"creation_date":1511355363,"answer_id":47435323,"question_id":47422579,"body_markdown":"For Java 9+ compatibility, you need to use version 6.4.0 or higher for the Java version you use as identified by the jreXX version suffix. Use the highest version lower or equal to you Java version).\r\n\r\n---\r\n\r\n## Previous answer\r\n\r\nAs noted by Microsoft on [GitHub](https://github.com/Microsoft/mssql-jdbc/issues/549#issuecomment-344452374):\r\n\r\n&gt; Currently none of our driver released Jars are compatible with JDK9.\r\n\r\nYou can either switch to using the Java 8 JDK, or you can incorporate Microsoft&#39;s development code from their &#39;JDBC4.3&#39; branch into your project and use that with the Java 9 JDK.","title":"&quot;NoClassDefFoundError: javax/xml/bind/DatatypeConverter&quot; with SQL Server JDBC","body":"<p>For Java 9+ compatibility, you need to use version 6.4.0 or higher for the Java version you use as identified by the jreXX version suffix. Use the highest version lower or equal to you Java version).</p>\n\n<hr>\n\n<h2>Previous answer</h2>\n\n<p>As noted by Microsoft on <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/549#issuecomment-344452374\" rel=\"nofollow noreferrer\">GitHub</a>:</p>\n\n<blockquote>\n  <p>Currently none of our driver released Jars are compatible with JDK9.</p>\n</blockquote>\n\n<p>You can either switch to using the Java 8 JDK, or you can incorporate Microsoft's development code from their 'JDBC4.3' branch into your project and use that with the Java 9 JDK.</p>\n"},{"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513738068,"creation_date":1513738068,"answer_id":47898081,"question_id":47422579,"body_markdown":"You can get this to work if you include the extra jvm parameter\r\n\r\n    --add-modules=java.se.ee\r\n\r\nWhich in your run configuration in Intellij would go here\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis then includes several modules which in java 9 have been marked as deprecated for future removal so these could be removed in java 10 so it is only really a temporary solution until Microsoft release java 9 compatible jdbc drivers.\r\n\r\nMore on this can be found in the [Java9 Migration guide][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AjHkL.png\r\n  [2]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3","title":"&quot;NoClassDefFoundError: javax/xml/bind/DatatypeConverter&quot; with SQL Server JDBC","body":"<p>You can get this to work if you include the extra jvm parameter</p>\n\n<pre><code>--add-modules=java.se.ee\n</code></pre>\n\n<p>Which in your run configuration in Intellij would go here</p>\n\n<p><a href=\"https://i.stack.imgur.com/AjHkL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AjHkL.png\" alt=\"enter image description here\"></a></p>\n\n<p>This then includes several modules which in java 9 have been marked as deprecated for future removal so these could be removed in java 10 so it is only really a temporary solution until Microsoft release java 9 compatible jdbc drivers.</p>\n\n<p>More on this can be found in the <a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F640FA9D-FB66-4D85-AD2B-D931174C09A3\" rel=\"nofollow noreferrer\">Java9 Migration guide</a></p>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634297664,"creation_date":1634297664,"answer_id":69584089,"question_id":47422579,"body_markdown":"If you have a maven build, add the following to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"&quot;NoClassDefFoundError: javax/xml/bind/DatatypeConverter&quot; with SQL Server JDBC","body":"<p>If you have a maven build, add the following to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11749745,"reputation":89,"user_id":8599405,"display_name":"J.Johnson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23695,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47435323,"answer_count":3,"score":5,"last_activity_date":1634297664,"creation_date":1511297831,"question_id":47422579,"body_markdown":"I recently switched to intellij but I&#39;m finding it hard to connect to my localDB. The same code worked on eclipse fine. **Also I have already added the sqljdbc42.jar as a module dependency.** \r\n\r\n    package com.enter;\r\n    import java.sql.*;\r\n    \r\n    public class SqlConnect {\r\n        private String username, password, url;\r\n        public Connection conn;\r\n    \r\n        public SqlConnect() {\r\n            username = &quot;user=admin;&quot;;\r\n            password = &quot;password=admin&quot;;\r\n            url = &quot;jdbc:sqlserver://Bossman-PC\\\\SQL2014TRAINING;databaseName=EnterDB;&quot;;\r\n            Connect();\r\n        }\r\n        public SqlConnect(String user, String pass) {\r\n            username = user;\r\n            password = pass;\r\n            url = &quot;jdbc:sqlserver://Bossman-PC\\\\SQL2014TRAINING;databaseName=EnterDB;&quot;;\r\n            Connect();\r\n        }\r\n    \r\n        public void Connect() { //Loads sql driver and creates a connection object with local database\r\n            try {\r\n                Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n                String connectionUrl = url + username + password;\r\n                conn = DriverManager.getConnection(connectionUrl);\r\n                System.out.println(&quot;Connected.&quot;);\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public Connection getConnection() {\r\n            return conn;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nError produced: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\r\n\tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\r\n\tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:678)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)\r\n\tat com.enter.SqlConnect.Connect(SqlConnect.java:25)\r\n\tat com.enter.SqlConnect.&lt;init&gt;(SqlConnect.java:12)\r\n\tat com.enter.Login.makeConnection(Login.java:26)\r\n\tat com.enter.Login.&lt;init&gt;(Login.java:16)\r\n\tat com.enter.Execute.initLogin(Execute.java:14)\r\n\tat com.enter.Execute.main(Execute.java:9)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n\t... 19 more\r\n\r\n    Process finished with exit code 1\r\n\r\nAny help would be greatly appreciated. I&#39;ve also tried the overloaded DriverManager.getConnection(url, user, pass) method and same error.","title":"&quot;NoClassDefFoundError: javax/xml/bind/DatatypeConverter&quot; with SQL Server JDBC","body":"<p>I recently switched to intellij but I'm finding it hard to connect to my localDB. The same code worked on eclipse fine. <strong>Also I have already added the sqljdbc42.jar as a module dependency.</strong> </p>\n\n<pre><code>package com.enter;\nimport java.sql.*;\n\npublic class SqlConnect {\n    private String username, password, url;\n    public Connection conn;\n\n    public SqlConnect() {\n        username = \"user=admin;\";\n        password = \"password=admin\";\n        url = \"jdbc:sqlserver://Bossman-PC\\\\SQL2014TRAINING;databaseName=EnterDB;\";\n        Connect();\n    }\n    public SqlConnect(String user, String pass) {\n        username = user;\n        password = pass;\n        url = \"jdbc:sqlserver://Bossman-PC\\\\SQL2014TRAINING;databaseName=EnterDB;\";\n        Connect();\n    }\n\n    public void Connect() { //Loads sql driver and creates a connection object with local database\n        try {\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n            String connectionUrl = url + username + password;\n            conn = DriverManager.getConnection(connectionUrl);\n            System.out.println(\"Connected.\");\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Connection getConnection() {\n        return conn;\n    }\n\n\n}\n</code></pre>\n\n<p>Error produced: </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:4098)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:3160)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$100(SQLServerConnection.java:43)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:3123)\nat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:7505)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:2445)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1981)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:1628)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1459)\nat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:773)\nat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1168)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:678)\nat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:252)\nat com.enter.SqlConnect.Connect(SqlConnect.java:25)\nat com.enter.SqlConnect.&lt;init&gt;(SqlConnect.java:12)\nat com.enter.Login.makeConnection(Login.java:26)\nat com.enter.Login.&lt;init&gt;(Login.java:16)\nat com.enter.Execute.initLogin(Execute.java:14)\nat com.enter.Execute.main(Execute.java:9)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n... 19 more\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Any help would be greatly appreciated. I've also tried the overloaded DriverManager.getConnection(url, user, pass) method and same error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1521249425,"post_id":49330557,"comment_id":85665116,"body_markdown":"What LIB file? Java uses JAR files.","body":"What LIB file? Java uses JAR files."}],"answers":[{"tags":[],"owner":{"account_id":13046654,"reputation":2497,"user_id":9428319,"display_name":"Maciej Pulikowski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1521242310,"creation_date":1521241891,"answer_id":49330697,"question_id":49330557,"body_markdown":"The module **javax.xml.bind** has been renamed and is also deprecated as of **Java 9**.\r\n\r\nTo workaround you can add `--add-modules java.xml.bind` to `javac` compilation. As suggested [here][1] \r\n\r\nOr switch back to **Java 8** or older\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/43574427/9428319","title":"Where can I get the LIB file import javax.xml.bind.DatatypeConverter;","body":"<p>The module <strong>javax.xml.bind</strong> has been renamed and is also deprecated as of <strong>Java 9</strong>.</p>\n\n<p>To workaround you can add <code>--add-modules java.xml.bind</code> to <code>javac</code> compilation. As suggested <a href=\"https://stackoverflow.com/a/43574427/9428319\">here</a> </p>\n\n<p>Or switch back to <strong>Java 8</strong> or older</p>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634297579,"creation_date":1634297579,"answer_id":69584073,"question_id":49330557,"body_markdown":"If you have a maven build, add the following to your pom.xml\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Where can I get the LIB file import javax.xml.bind.DatatypeConverter;","body":"<p>If you have a maven build, add the following to your pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":273201,"reputation":6889,"user_id":564653,"accept_rate":77,"display_name":"Ted pottel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16181,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":49330697,"answer_count":2,"score":5,"last_activity_date":1634297579,"creation_date":1521240922,"question_id":49330557,"body_markdown":"I have the following line of code\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n\r\nwhich is giving me a\r\n\r\n    javax.xml.bind cannot be resolved\r\n\r\nwhere can I find the library file for this import?\r\n","title":"Where can I get the LIB file import javax.xml.bind.DatatypeConverter;","body":"<p>I have the following line of code</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\n</code></pre>\n\n<p>which is giving me a</p>\n\n<pre><code>javax.xml.bind cannot be resolved\n</code></pre>\n\n<p>where can I find the library file for this import?</p>\n"},{"tags":["java","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"score":0,"creation_date":1634289158,"post_id":69581710,"comment_id":122989627,"body_markdown":"Typically everything would be configured in `hibernate.cfg.xml`, there are probably use cases for mixing it with `hibernate.properties` though. What problem are you trying to solve with `hibernate.properties`?","body":"Typically everything would be configured in <code>hibernate.cfg.xml</code>, there are probably use cases for mixing it with <code>hibernate.properties</code> though. What problem are you trying to solve with <code>hibernate.properties</code>?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1634290224,"post_id":69581710,"comment_id":122990023,"body_markdown":"@Guillaume read the 4th paragraph. I want to prove equivalence, or the opposite - that these two (.properties, .xml) are [not] interchangeable. In the simpler words: assume, I want to use `.properties` file for entire configuration (which, docs say, is possible).","body":"@Guillaume read the 4th paragraph. I want to prove equivalence, or the opposite - that these two (.properties, .xml) are [not] interchangeable. In the simpler words: assume, I want to use <code>.properties</code> file for entire configuration (which, docs say, is possible)."}],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634297319,"creation_date":1634296330,"answer_id":69583860,"question_id":69581710,"body_markdown":"You can configure Hibernate with a properties object you have loaded or created yourself:\r\n\r\n     InputStream stream = ...getResourceAsStream( &quot;/my-hibernate.properties&quot; );\r\n     properties = new Properties();\r\n     properties.load(stream);\r\n\r\n     configuration.setProperties(properties);\r\n    \r\nor:\r\n\r\n     configuration.addProperties(properties);\r\n\r\nBut it will look for the hard-coded `hibernate.properties` in [org.hibernate.cfg.Environment][1]\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/8afce5b5ed72a8fa9e15fbaa608a5b2abb92e9de/hibernate-core/src/main/java/org/hibernate/cfg/Environment.java#L181\r\n\r\nAs far as I know this is for settings such as database URL, password etc. but mappings need to be configured separately, either programmatically or through XML files","title":"Can I change the name of &quot;hibernate.properties&quot;? where it is picked up?","body":"<p>You can configure Hibernate with a properties object you have loaded or created yourself:</p>\n<pre><code> InputStream stream = ...getResourceAsStream( &quot;/my-hibernate.properties&quot; );\n properties = new Properties();\n properties.load(stream);\n\n configuration.setProperties(properties);\n</code></pre>\n<p>or:</p>\n<pre><code> configuration.addProperties(properties);\n</code></pre>\n<p>But it will look for the hard-coded <code>hibernate.properties</code> in <a href=\"https://github.com/hibernate/hibernate-orm/blob/8afce5b5ed72a8fa9e15fbaa608a5b2abb92e9de/hibernate-core/src/main/java/org/hibernate/cfg/Environment.java#L181\" rel=\"nofollow noreferrer\">org.hibernate.cfg.Environment</a></p>\n<p>As far as I know this is for settings such as database URL, password etc. but mappings need to be configured separately, either programmatically or through XML files</p>\n"}],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634297319,"creation_date":1634285469,"question_id":69581710,"body_markdown":"I&#39;m aware, that the `hibernate.cfg.xml` is the default configuration resource name if/when invoking `configure()` on the `Configuration` instance, as `configure()` uses `StandardServiceRegistryBuilder.DEFAULT_CFG_RESOURCE_NAME`&#39;s hardcoded value for the name of the file to be consumed.\r\n\r\nI&#39;m also aware, that I can use overloaded `.configure(String)` should I want to customize the configuration resource name.\r\n\r\nWhat I cannot find is the similar moment for `hibernate.properties` - where it is hardcoded or consumed.. I thought this information could help me to determine whether I can change `.properties` name or not. Can I? or it&#39;s some deeply hard-coded string, control over which, I can&#39;t obtain?\r\n\r\nI was just thinking to demonstrate identicality of `.xml` and `.properties`.. as a lot of resources suggest `.properties` as an alternative approach to `.xml` (for configuring `org.hibernate.cfg.Configuration` instance).\r\n\r\nBut I, kind of, have a doubt now.. is it really an alternative (like JPA annotations are alternative for xml)? or it&#39;s some supplementary file (provided optionally), that can be consumed by `.xml`? as I also cannot find how (if I can) do I register mapping definitions in the `Configuration` instance, with the `.properties` file.\r\n\r\nWhen I say, &quot;I cannot find&quot;, I literally mean the Hibernate&#39;s reference documentation, which really seems incomplete, as it states:\r\n&gt;For Hibernate&#39;s configuration, we can use a simple hibernate.properties file, a **more\r\nsophisticated hibernate.cfg.xml file, or even complete programmatic setup.**\r\n\r\nbut it never explains anything more.. like how can I change file&#39;s name.. or how can I register mapping definitions, when it comes to `.properties` file.","title":"Can I change the name of &quot;hibernate.properties&quot;? where it is picked up?","body":"<p>I'm aware, that the <code>hibernate.cfg.xml</code> is the default configuration resource name if/when invoking <code>configure()</code> on the <code>Configuration</code> instance, as <code>configure()</code> uses <code>StandardServiceRegistryBuilder.DEFAULT_CFG_RESOURCE_NAME</code>'s hardcoded value for the name of the file to be consumed.</p>\n<p>I'm also aware, that I can use overloaded <code>.configure(String)</code> should I want to customize the configuration resource name.</p>\n<p>What I cannot find is the similar moment for <code>hibernate.properties</code> - where it is hardcoded or consumed.. I thought this information could help me to determine whether I can change <code>.properties</code> name or not. Can I? or it's some deeply hard-coded string, control over which, I can't obtain?</p>\n<p>I was just thinking to demonstrate identicality of <code>.xml</code> and <code>.properties</code>.. as a lot of resources suggest <code>.properties</code> as an alternative approach to <code>.xml</code> (for configuring <code>org.hibernate.cfg.Configuration</code> instance).</p>\n<p>But I, kind of, have a doubt now.. is it really an alternative (like JPA annotations are alternative for xml)? or it's some supplementary file (provided optionally), that can be consumed by <code>.xml</code>? as I also cannot find how (if I can) do I register mapping definitions in the <code>Configuration</code> instance, with the <code>.properties</code> file.</p>\n<p>When I say, &quot;I cannot find&quot;, I literally mean the Hibernate's reference documentation, which really seems incomplete, as it states:</p>\n<blockquote>\n<p>For Hibernate's configuration, we can use a simple hibernate.properties file, a <strong>more\nsophisticated hibernate.cfg.xml file, or even complete programmatic setup.</strong></p>\n</blockquote>\n<p>but it never explains anything more.. like how can I change file's name.. or how can I register mapping definitions, when it comes to <code>.properties</code> file.</p>\n"},{"tags":["java","spring","azure","azure-blob-storage"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634297072,"creation_date":1634297072,"answer_id":69583981,"question_id":69583435,"body_markdown":"You want your java application to download a file from a given URL?\r\n\r\nThere is no need for user interactions.  \r\n\r\nSee example below using Java NIO:\r\n\r\n&gt; The Java NIO package offers the possibility to transfer bytes between\r\n&gt; 2 Channels without buffering them into the application memory.\r\n&gt; \r\n&gt; To read the file from our URL, we&#39;ll create a new ReadableByteChannel\r\n&gt; from the URL stream:\r\n\r\n    ReadableByteChannel readableByteChannel = Channels.newChannel(url.openStream());\r\n\r\n&gt; The bytes read from the ReadableByteChannel will be transferred to a\r\n&gt; FileChannel corresponding to the file that will be downloaded:\r\n\r\n    FileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME);\r\n    \r\n    FileChannel fileChannel = fileOutputStream.getChannel();\r\n\r\n&gt; We&#39;ll use the transferFrom() method from the ReadableByteChannel class\r\n&gt; to download the bytes from the given URL to our FileChannel:\r\n\r\n    fileOutputStream.getChannel()\r\n      .transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\r\n\r\n&gt; The transferTo() and transferFrom() methods are more efficient than\r\n&gt; simply reading from a stream using a buffer. Depending on the\r\n&gt; underlying operating system, the data can be transferred directly from\r\n&gt; the filesystem cache to our file without copying any bytes into the\r\n&gt; application memory.\r\n&gt; \r\n&gt; On Linux and UNIX systems, these methods use the zero-copy technique\r\n&gt; that reduces the number of context switches between the kernel mode\r\n&gt; and user mode.\r\n\r\nThere are other libraries that you can use as well, that might be better than using Java NIO on its own.\r\n\r\nReference: https://www.baeldung.com/java-download-file\r\n\r\n","title":"How to handle blob store url when receive from API","body":"<p>You want your java application to download a file from a given URL?</p>\n<p>There is no need for user interactions.</p>\n<p>See example below using Java NIO:</p>\n<blockquote>\n<p>The Java NIO package offers the possibility to transfer bytes between\n2 Channels without buffering them into the application memory.</p>\n<p>To read the file from our URL, we'll create a new ReadableByteChannel\nfrom the URL stream:</p>\n</blockquote>\n<pre><code>ReadableByteChannel readableByteChannel = Channels.newChannel(url.openStream());\n</code></pre>\n<blockquote>\n<p>The bytes read from the ReadableByteChannel will be transferred to a\nFileChannel corresponding to the file that will be downloaded:</p>\n</blockquote>\n<pre><code>FileOutputStream fileOutputStream = new FileOutputStream(FILE_NAME);\n\nFileChannel fileChannel = fileOutputStream.getChannel();\n</code></pre>\n<blockquote>\n<p>We'll use the transferFrom() method from the ReadableByteChannel class\nto download the bytes from the given URL to our FileChannel:</p>\n</blockquote>\n<pre><code>fileOutputStream.getChannel()\n  .transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n</code></pre>\n<blockquote>\n<p>The transferTo() and transferFrom() methods are more efficient than\nsimply reading from a stream using a buffer. Depending on the\nunderlying operating system, the data can be transferred directly from\nthe filesystem cache to our file without copying any bytes into the\napplication memory.</p>\n<p>On Linux and UNIX systems, these methods use the zero-copy technique\nthat reduces the number of context switches between the kernel mode\nand user mode.</p>\n</blockquote>\n<p>There are other libraries that you can use as well, that might be better than using Java NIO on its own.</p>\n<p>Reference: <a href=\"https://www.baeldung.com/java-download-file\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-download-file</a></p>\n"}],"owner":{"account_id":23040268,"reputation":11,"user_id":17158533,"display_name":"Duy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69583981,"answer_count":1,"score":0,"last_activity_date":1634297072,"creation_date":1634294262,"question_id":69583435,"body_markdown":"I have an API URL (e.g.: localhost:8080/api/blobs/download/{item-id}). The API itself will return the URL of that item in the Blob Store (for example, https://myaccount.blob.core.windows.net/mycontainer/myitem).\r\nNow I have a task that requires user to copy and paste the API URL into the browser, and expect it to view/download the item.\r\n \r\nThe question is how Java can support user browse the Blob Store URL without the help of the front end?\r\n\r\n\r\n","title":"How to handle blob store url when receive from API","body":"<p>I have an API URL (e.g.: localhost:8080/api/blobs/download/{item-id}). The API itself will return the URL of that item in the Blob Store (for example, <a href=\"https://myaccount.blob.core.windows.net/mycontainer/myitem\" rel=\"nofollow noreferrer\">https://myaccount.blob.core.windows.net/mycontainer/myitem</a>).\nNow I have a task that requires user to copy and paste the API URL into the browser, and expect it to view/download the item.</p>\n<p>The question is how Java can support user browse the Blob Store URL without the help of the front end?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubovi"},"score":0,"creation_date":1633418805,"post_id":69446252,"comment_id":122747396,"body_markdown":"You can&#39;t. If your role name is unique, then you can use it as PK and map it as is in the `User` entity. Any other field that is not part of the `User` table (or some junction table), cannot be mapped in `User` table.","body":"You can&#39;t. If your role name is unique, then you can use it as PK and map it as is in the <code>User</code> entity. Any other field that is not part of the <code>User</code> table (or some junction table), cannot be mapped in <code>User</code> table."},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1633418980,"post_id":69446252,"comment_id":122747457,"body_markdown":"Even with the @Query or some kind of View (SQL) approach?","body":"Even with the @Query or some kind of View (SQL) approach?"},{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubovi"},"score":1,"creation_date":1633419225,"post_id":69446252,"comment_id":122747568,"body_markdown":"Well, you could use [DTO projections](https://vladmihalcea.com/dto-projection-jpa-query/). That way you could have an object with any field you like, but you won&#39;t be able to do any manipulations like on an `@Entity`.","body":"Well, you could use <a href=\"https://vladmihalcea.com/dto-projection-jpa-query/\" rel=\"nofollow noreferrer\">DTO projections</a>. That way you could have an object with any field you like, but you won&#39;t be able to do any manipulations like on an <code>@Entity</code>."},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1633419421,"post_id":69446252,"comment_id":122747628,"body_markdown":"I have read some of DTO approaches. Though it may resolve the problem, I suppose it will arise the N+1 problem","body":"I have read some of DTO approaches. Though it may resolve the problem, I suppose it will arise the N+1 problem"},{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubovi"},"score":0,"creation_date":1633419822,"post_id":69446252,"comment_id":122747765,"body_markdown":"No, it won&#39;t. You only have 1 query and you map the result to a DTO. You are not iterating over lazily loaded `*ToMany` relation.","body":"No, it won&#39;t. You only have 1 query and you map the result to a DTO. You are not iterating over lazily loaded <code>*ToMany</code> relation."},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1633420244,"post_id":69446252,"comment_id":122747932,"body_markdown":"Ahhhh, Didn&#39;t think about that, I thought of the conversion from entity to DTO. Thank you!","body":"Ahhhh, Didn&#39;t think about that, I thought of the conversion from entity to DTO. Thank you!"},{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubovi"},"score":0,"creation_date":1633420565,"post_id":69446252,"comment_id":122748056,"body_markdown":"Even in that situation, if you `join fetch` role (e.g. `select u from User u join fetch u.role where u.id = :id`), it would still be 1 query, and you could convert your entity (which contains all information) to a DTO.","body":"Even in that situation, if you <code>join fetch</code> role (e.g. <code>select u from User u join fetch u.role where u.id = :id</code>), it would still be 1 query, and you could convert your entity (which contains all information) to a DTO."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634296754,"creation_date":1634296754,"answer_id":69583939,"question_id":69446252,"body_markdown":"Like you read in the comments already, you will need a DTO approach for this and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(User.class)\r\n    public interface UserDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getUsername();\r\n        String getPassword();\r\n        @Mapping(&quot;role.name&quot;)\r\n        String getRoleName();\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`UserDto a = entityViewManager.find(entityManager, UserDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;UserDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"How to define only selected foreign attributes in spring entity","body":"<p>Like you read in the comments already, you will need a DTO approach for this and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(User.class)\npublic interface UserDto {\n    @IdMapping\n    Long getId();\n    String getUsername();\n    String getPassword();\n    @Mapping(&quot;role.name&quot;)\n    String getRoleName();\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>UserDto a = entityViewManager.find(entityManager, UserDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;UserDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634296754,"creation_date":1633418131,"question_id":69446252,"body_markdown":"Supposedly I have two entities joined as such following:\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;role_id&quot;, referencedColumnName = &quot;id&quot;) //Table user in database has foreign key role_id\r\n    private Role role;\r\n\r\n}\r\n\r\n@Entity\r\npublic class Role {\r\n    @Id\r\n    private Long id;\r\n    private String name;\r\n}\r\n```\r\nHow do I only create User entity with only one of role attributes instead of the whole? (for example, role name only)\r\n\r\nI expect something like\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n\r\n    // Some prefix or annotation maybe?\r\n    private String role_name;\r\n\r\n}\r\n```","title":"How to define only selected foreign attributes in spring entity","body":"<p>Supposedly I have two entities joined as such following:</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    private Long id;\n    private String username;\n    private String password;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;role_id&quot;, referencedColumnName = &quot;id&quot;) //Table user in database has foreign key role_id\n    private Role role;\n\n}\n\n@Entity\npublic class Role {\n    @Id\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>How do I only create User entity with only one of role attributes instead of the whole? (for example, role name only)</p>\n<p>I expect something like</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    private Long id;\n    private String username;\n    private String password;\n\n    // Some prefix or annotation maybe?\n    private String role_name;\n\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","criteria"],"comments":[{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1633463256,"post_id":69456366,"comment_id":122765457,"body_markdown":"Due to postgresql being the only database that supports ANSI SQL2003 arrays, a feature like this has never been a priority. There is a plug-and-play library to add array support to Hibernate 5.2-5.4, but you will have to use your own native query to make it look like `t.e = ANY(?)` and bind an array variable. JPQL simply does not support the syntax you&#39;re asking for.","body":"Due to postgresql being the only database that supports ANSI SQL2003 arrays, a feature like this has never been a priority. There is a plug-and-play library to add array support to Hibernate 5.2-5.4, but you will have to use your own native query to make it look like <code>t.e = ANY(?)</code> and bind an array variable. JPQL simply does not support the syntax you&#39;re asking for."},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":0,"creation_date":1633464092,"post_id":69456366,"comment_id":122765684,"body_markdown":"so, the only way is to convert this query to in?","body":"so, the only way is to convert this query to in?"},{"owner":{"account_id":4751155,"reputation":4879,"user_id":3841161,"display_name":"coladict"},"score":0,"creation_date":1633501694,"post_id":69456366,"comment_id":122772859,"body_markdown":"Yes, that would be the solution. And you must also consider that if the collection of values in the `in (values)`  is empty, that will result in a syntax error in the server side. `x in ()` is invalid syntax, because it&#39;s expected that if your collection of values is empty that expression will always evaluate to false, which often means you can just skip or simplify the query.","body":"Yes, that would be the solution. And you must also consider that if the collection of values in the <code>in (values)</code>  is empty, that will result in a syntax error in the server side. <code>x in ()</code> is invalid syntax, because it&#39;s expected that if your collection of values is empty that expression will always evaluate to false, which often means you can just skip or simplify the query."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634296505,"creation_date":1634296505,"answer_id":69583894,"question_id":69456366,"body_markdown":"You will need a custom `SQLFunction` that renders the SQL you desire e.g.\r\n\r\n    public class ArrayAny implements SQLFunction {\r\n    \r\n        @Override\r\n        public boolean hasArguments() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasParenthesesIfNoArguments() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public Type getReturnType(Type firstArgumentType, Mapping mapping) throws QueryException {\r\n            return firstArgumentType;\r\n        }\r\n    \r\n        @Override\r\n        public String render(Type firstArgumentType, List args, SessionFactoryImplementor factory) throws QueryException {\r\n            return &quot;any(&quot; + args.get(0) + &quot;::text[])&quot;;\r\n        }\r\n    }\r\n\r\nYou will have to register the function within the Dialect. Then you should be able to use the function like this:\r\n\r\n```\r\nquery.where(\r\n  criteriaBuilder.equal(\r\n    root.get(&quot;e&quot;),\r\n    criteriaBuilder.function(&#39;any&#39;, String.class, arrayAsString),\r\n  )\r\n);\r\n```","title":"Criteria API how to write = ANY(?1) expression?","body":"<p>You will need a custom <code>SQLFunction</code> that renders the SQL you desire e.g.</p>\n<pre><code>public class ArrayAny implements SQLFunction {\n\n    @Override\n    public boolean hasArguments() {\n        return true;\n    }\n\n    @Override\n    public boolean hasParenthesesIfNoArguments() {\n        return true;\n    }\n\n    @Override\n    public Type getReturnType(Type firstArgumentType, Mapping mapping) throws QueryException {\n        return firstArgumentType;\n    }\n\n    @Override\n    public String render(Type firstArgumentType, List args, SessionFactoryImplementor factory) throws QueryException {\n        return &quot;any(&quot; + args.get(0) + &quot;::text[])&quot;;\n    }\n}\n</code></pre>\n<p>You will have to register the function within the Dialect. Then you should be able to use the function like this:</p>\n<pre><code>query.where(\n  criteriaBuilder.equal(\n    root.get(&quot;e&quot;),\n    criteriaBuilder.function('any', String.class, arrayAsString),\n  )\n);\n</code></pre>\n"}],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69583894,"answer_count":1,"score":2,"last_activity_date":1634296505,"creation_date":1633462805,"question_id":69456366,"body_markdown":"I have a query that I want to translate to Criteria API.\r\n\r\nA query\r\n\r\n    select a, b, c from myTable t where t.e = ANY(?1)\r\n\r\nAfter java processes it (native sql query) the final query looks like this\r\n\r\n    select a, b, c from myTable t where t.e = ANY(array[&#39;prop1&#39;, &#39;prop2&#39;, &#39;prop3&#39;])\r\n\r\nMy Question is how to translate `= ANY(?1)` part to Criteria API?\r\n\r\nI see that any() definition is\r\n\r\n    public &lt;Y&gt; Expression&lt;Y&gt; any(Subquery&lt;Y&gt; subquery) \r\n\r\nHow to put array of values to it?\r\n\r\nI&#39;m using PostgreSQL\r\n","title":"Criteria API how to write = ANY(?1) expression?","body":"<p>I have a query that I want to translate to Criteria API.</p>\n<p>A query</p>\n<pre><code>select a, b, c from myTable t where t.e = ANY(?1)\n</code></pre>\n<p>After java processes it (native sql query) the final query looks like this</p>\n<pre><code>select a, b, c from myTable t where t.e = ANY(array['prop1', 'prop2', 'prop3'])\n</code></pre>\n<p>My Question is how to translate <code>= ANY(?1)</code> part to Criteria API?</p>\n<p>I see that any() definition is</p>\n<pre><code>public &lt;Y&gt; Expression&lt;Y&gt; any(Subquery&lt;Y&gt; subquery) \n</code></pre>\n<p>How to put array of values to it?</p>\n<p>I'm using PostgreSQL</p>\n"},{"tags":["java","binary-tree","comparator","inorder"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1634294219,"post_id":69583388,"comment_id":122991557,"body_markdown":"Try printing what e.g `9 - (-2147483648)` is or `(-2147483648) - 9`.","body":"Try printing what e.g <code>9 - (-2147483648)</code> is or <code>(-2147483648) - 9</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1634294234,"post_id":69583388,"comment_id":122991563,"body_markdown":"`return Integer.compare(a.val, b.val);`","body":"<code>return Integer.compare(a.val, b.val);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1634294851,"post_id":69583388,"comment_id":122991787,"body_markdown":"In short: use `Integer::compare` when comparing integers. Do not use arithmetic, as it is subject to overflow.","body":"In short: use <code>Integer::compare</code> when comparing integers. Do not use arithmetic, as it is subject to overflow."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634294366,"creation_date":1634294366,"answer_id":69583452,"question_id":69583388,"body_markdown":"    return a.val-b.val;\r\n\r\nThis, like all integer arithmetic, is subject to overflow if the operands are too large.\r\n\r\nInstead, you can use:\r\n\r\n    return Integer.compare(a.val, b.val);\r\n\r\nOr, better, construct the `Comparator` using the helper method:\r\n\r\n    list.sort(Comparator.comparingInt(a -&gt; a.val));","title":"Comparator not sorting -2147483648 properly","body":"<pre><code>return a.val-b.val;\n</code></pre>\n<p>This, like all integer arithmetic, is subject to overflow if the operands are too large.</p>\n<p>Instead, you can use:</p>\n<pre><code>return Integer.compare(a.val, b.val);\n</code></pre>\n<p>Or, better, construct the <code>Comparator</code> using the helper method:</p>\n<pre><code>list.sort(Comparator.comparingInt(a -&gt; a.val));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634296285,"creation_date":1634296285,"answer_id":69583853,"question_id":69583388,"body_markdown":"So this happens because the result of the arithmetic operation overflows the max number allowed by `Integer`. \r\n\r\nWhen doing the comparison at some point the loop does `return 9 - (-2147483648)` returning `2147483657` which is greater than the max value supported by integers `2147483647`.\r\n\r\nThe best option to avoid these scenarios is using the method `Integer.compare(a,b)` provided by Java as @andy-turner mentions in his answer.","title":"Comparator not sorting -2147483648 properly","body":"<p>So this happens because the result of the arithmetic operation overflows the max number allowed by <code>Integer</code>.</p>\n<p>When doing the comparison at some point the loop does <code>return 9 - (-2147483648)</code> returning <code>2147483657</code> which is greater than the max value supported by integers <code>2147483647</code>.</p>\n<p>The best option to avoid these scenarios is using the method <code>Integer.compare(a,b)</code> provided by Java as @andy-turner mentions in his answer.</p>\n"}],"owner":{"account_id":16052358,"reputation":31,"user_id":11624236,"display_name":"LUs3r"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634299233,"answer_count":2,"score":1,"last_activity_date":1634296285,"creation_date":1634294014,"question_id":69583388,"body_markdown":"Trying to sort [5,3,9,-2147483648,2] using comparator where the values are TreeNodes\r\n\r\nStructure of TreeNode:\r\n\r\n    public class TreeNode {\r\n         int val;\r\n         TreeNode left;\r\n         TreeNode right;\r\n         TreeNode() {}\r\n         TreeNode(int val) { this.val = val; }\r\n         TreeNode(int val, TreeNode left, TreeNode right) {\r\n             this.val = val;\r\n             this.left = left;\r\n             this.right = right;\r\n         }\r\n     }\r\n\r\nBelow is my code : \r\n\r\n    Collections.sort(list,new Comparator&lt;&gt;(){\r\n                public int compare(TreeNode a,TreeNode b)\r\n                {\r\n                    return a.val-b.val;\r\n                }\r\n            });\r\n\r\nHere list is collection of TreeNodes\r\n\r\nActual Output : 2,3,5,9,-2147483648\r\n\r\nExpected Output : -2147483648,2,3,5,9","title":"Comparator not sorting -2147483648 properly","body":"<p>Trying to sort [5,3,9,-2147483648,2] using comparator where the values are TreeNodes</p>\n<p>Structure of TreeNode:</p>\n<pre><code>public class TreeNode {\n     int val;\n     TreeNode left;\n     TreeNode right;\n     TreeNode() {}\n     TreeNode(int val) { this.val = val; }\n     TreeNode(int val, TreeNode left, TreeNode right) {\n         this.val = val;\n         this.left = left;\n         this.right = right;\n     }\n }\n</code></pre>\n<p>Below is my code :</p>\n<pre><code>Collections.sort(list,new Comparator&lt;&gt;(){\n            public int compare(TreeNode a,TreeNode b)\n            {\n                return a.val-b.val;\n            }\n        });\n</code></pre>\n<p>Here list is collection of TreeNodes</p>\n<p>Actual Output : 2,3,5,9,-2147483648</p>\n<p>Expected Output : -2147483648,2,3,5,9</p>\n"},{"tags":["java","php","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1634277887,"post_id":69579632,"comment_id":122986293,"body_markdown":"In the PHP code, ciphertext and IV are concatenated (with separator `::`). Where does the separation take place in the Java code or what is `&quot;enc_iv&quot;` in the `makeIv()` method?","body":"In the PHP code, ciphertext and IV are concatenated (with separator <code>::</code>). Where does the separation take place in the Java code or what is <code>&quot;enc_iv&quot;</code> in the <code>makeIv()</code> method?"},{"owner":{"account_id":2583015,"reputation":9,"user_id":2239283,"display_name":"user2239283"},"score":0,"creation_date":1634287185,"post_id":69579632,"comment_id":122988897,"body_markdown":"oh, sorry, it&#39;s just example, so i set manual for iv and key.\n\njava code already update with separator (::) yah.. thank you @Topaco","body":"oh, sorry, it&#39;s just example, so i set manual for iv and key.  java code already update with separator (::) yah.. thank you @Topaco"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1634288151,"post_id":69579632,"comment_id":122989270,"body_markdown":"In the Java code, the ciphertext must of course be Base64 _decoded_ before decryption and not Base64 encoded: `byte[] tokenByte = Base64.getDecoder().decode(token);`. Furthermore, PKCS#7 padding must be used: `Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);`. Then decryption with the Java code works.","body":"In the Java code, the ciphertext must of course be Base64 <i>decoded</i> before decryption and not Base64 encoded: <code>byte[] tokenByte = Base64.getDecoder().decode(token);</code>. Furthermore, PKCS#7 padding must be used: <code>Cipher cipher = Cipher.getInstance(&quot;AES&#47;CBC&#47;PKCS5Padding&quot;);</code>. Then decryption with the Java code works."},{"owner":{"account_id":2583015,"reputation":9,"user_id":2239283,"display_name":"user2239283"},"score":0,"creation_date":1634289309,"post_id":69579632,"comment_id":122989689,"body_markdown":"oh, already try,.\n\nbut when decode the token error `Illegal base64 character 20` @Topaco","body":"oh, already try,.  but when decode the token error <code>Illegal base64 character 20</code> @Topaco"},{"owner":{"account_id":2583015,"reputation":9,"user_id":2239283,"display_name":"user2239283"},"score":0,"creation_date":1634290157,"post_id":69579632,"comment_id":122990000,"body_markdown":"updated..\n thank you @Topaco \n\nalready solve, token must be send to json body, if token send with get params failed..","body":"updated..  thank you @Topaco   already solve, token must be send to json body, if token send with get params failed.."}],"owner":{"account_id":2583015,"reputation":9,"user_id":2239283,"display_name":"user2239283"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634296035,"creation_date":1634267998,"question_id":69579632,"body_markdown":"i have the problam, in existing code encrypt code using php.\r\nthis is code for encrypt with php langunage : \r\n\r\n``` \r\n&lt;?PHP\r\n  $token = &quot;The quick brown fox jumps over the lazy dog.&quot;;\r\n\r\n  $cipher_method = &#39;aes-256-cbc&#39;;\r\n  $enc_key = openssl_digest(&quot;keyssss&quot;, &#39;SHA256&#39;, TRUE);\r\n  $enc_iv = openssl_random_pseudo_bytes(openssl_cipher_iv_length($cipher_method));\r\n  $crypted_token = openssl_encrypt($token, $cipher_method, $enc_key, 0, $enc_iv) . &quot;::&quot; . bin2hex($enc_iv);\r\n  unset($token, $cipher_method, $enc_key, $enc_iv);\r\n?&gt;\r\n\r\n```\r\n\r\nbut, if i want to decode with java always failed : \r\n\r\nthis is java code : \r\n\r\n```\r\n@GetMapping(&quot;/verify&quot;)\r\n\tpublic String tokenFB(@RequestParam(&quot;accessToken&quot;) String accessToken) {\r\n\r\n\t\ttry {\r\n\t\t\tString[] accessTokenSplit = accessToken.split(&quot;::&quot;);\r\n\t\t\tif (accessTokenSplit.length &lt; 2) {\r\n\t\t\t\tthrow new BadRequestException(&quot;accessTokenInvalid&quot;);\r\n\t\t\t}\r\n\t\t\tString token = accessTokenSplit[0];\r\n\t\t\tString iv = accessTokenSplit[1];\r\n\t\t\tbyte[] tokenByte = Base64.getDecoder().decode(token);\r\n\r\n\t\t\tCipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n\t\t\tSecretKey secretKey = makeKey();\r\n\t\t\tIvParameterSpec ivParameterSpec = makeIv(iv);\r\n\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, secretKey, ivParameterSpec);\r\n\t\t\tbyte[] plainText = cipher.doFinal(tokenByte);\r\n\r\n\t\t\treturn new String(plainText);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate IvParameterSpec makeIv(String iv) {\r\n\t\tbyte[] ivHex = DatatypeConverter.parseHexBinary(iv);\r\n\t\treturn new IvParameterSpec(ivHex);\r\n\t}\r\n\r\n\tprivate SecretKey makeKey() {\r\n\t\ttry {\r\n\t\t\tMessageDigest dg = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\t\tbyte[] keyByte = dg.digest(&quot;secretKeys&quot;.getBytes());\r\n\t\t\treturn new SecretKeySpec(keyByte, &quot;AES&quot;);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\nthe error is `Given final block not properly padded. Such issues can arise if a bad key is used during decryption.`\r\n\r\nhow to be decrypt with java languange ?\r\n\r\n**Solved**","title":"encrypt with php and failed decrypt aes-256-cbc with java","body":"<p>i have the problam, in existing code encrypt code using php.\nthis is code for encrypt with php langunage :</p>\n<pre><code>&lt;?PHP\n  $token = &quot;The quick brown fox jumps over the lazy dog.&quot;;\n\n  $cipher_method = 'aes-256-cbc';\n  $enc_key = openssl_digest(&quot;keyssss&quot;, 'SHA256', TRUE);\n  $enc_iv = openssl_random_pseudo_bytes(openssl_cipher_iv_length($cipher_method));\n  $crypted_token = openssl_encrypt($token, $cipher_method, $enc_key, 0, $enc_iv) . &quot;::&quot; . bin2hex($enc_iv);\n  unset($token, $cipher_method, $enc_key, $enc_iv);\n?&gt;\n\n</code></pre>\n<p>but, if i want to decode with java always failed :</p>\n<p>this is java code :</p>\n<pre><code>@GetMapping(&quot;/verify&quot;)\n    public String tokenFB(@RequestParam(&quot;accessToken&quot;) String accessToken) {\n\n        try {\n            String[] accessTokenSplit = accessToken.split(&quot;::&quot;);\n            if (accessTokenSplit.length &lt; 2) {\n                throw new BadRequestException(&quot;accessTokenInvalid&quot;);\n            }\n            String token = accessTokenSplit[0];\n            String iv = accessTokenSplit[1];\n            byte[] tokenByte = Base64.getDecoder().decode(token);\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            SecretKey secretKey = makeKey();\n            IvParameterSpec ivParameterSpec = makeIv(iv);\n\n            cipher.init(Cipher.DECRYPT_MODE, secretKey, ivParameterSpec);\n            byte[] plainText = cipher.doFinal(tokenByte);\n\n            return new String(plainText);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private IvParameterSpec makeIv(String iv) {\n        byte[] ivHex = DatatypeConverter.parseHexBinary(iv);\n        return new IvParameterSpec(ivHex);\n    }\n\n    private SecretKey makeKey() {\n        try {\n            MessageDigest dg = MessageDigest.getInstance(&quot;SHA-256&quot;);\n            byte[] keyByte = dg.digest(&quot;secretKeys&quot;.getBytes());\n            return new SecretKeySpec(keyByte, &quot;AES&quot;);\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n<p>the error is <code>Given final block not properly padded. Such issues can arise if a bad key is used during decryption.</code></p>\n<p>how to be decrypt with java languange ?</p>\n<p><strong>Solved</strong></p>\n"},{"tags":["java","json","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13164755,"reputation":59,"user_id":9509363,"display_name":"Dennis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634295990,"creation_date":1634295990,"answer_id":69583790,"question_id":69582081,"body_markdown":"I actually just managed on how I want this to show. \r\n\r\n                    JSONArray jsonArray = jsonResponse.getJSONArray(&quot;title&quot;);\r\n                    JSONObject titlevalue = jsonArray.getJSONObject(0);\r\n                    String title = titlevalue.getString(&quot;value&quot;);\r\n\r\nThis will give the result I want.\r\n\r\n    Title: New Beginnings\r\n\r\nIn case someone is on the look for this as well, this is my snipped. Might be a nicer and better way, but this currently works for me :)\r\n\r\n            else if (json == &quot;object&quot;) {\r\n                //textView.append(&quot;Yep, that is an object\\n&quot;);\r\n                try {\r\n                    JSONObject jsonResponse = new JSONObject(response);\r\n                    JSONArray jsonArray = jsonResponse.getJSONArray(&quot;title&quot;);\r\n                    JSONObject titlevalue = jsonArray.getJSONObject(0);\r\n                    String title = titlevalue.getString(&quot;value&quot;);\r\n                    JSONArray jsonBody = jsonResponse.getJSONArray(&quot;body&quot;);\r\n                    JSONObject bodyvalue = jsonBody.getJSONObject(0);\r\n                    String body = bodyvalue.getString(&quot;value&quot;);\r\n                    Log.d(&quot;title&quot;, title);\r\n                    Log.d(&quot;body&quot;, body);\r\n                    TitleView.append(title);\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                        textView.setText(Html.fromHtml(body, Html.FROM_HTML_MODE_COMPACT));\r\n                    } else {\r\n                        textView.setText(Html.fromHtml(body));\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }","title":"Android Studio volley nested jsonarray","body":"<p>I actually just managed on how I want this to show.</p>\n<pre><code>                JSONArray jsonArray = jsonResponse.getJSONArray(&quot;title&quot;);\n                JSONObject titlevalue = jsonArray.getJSONObject(0);\n                String title = titlevalue.getString(&quot;value&quot;);\n</code></pre>\n<p>This will give the result I want.</p>\n<pre><code>Title: New Beginnings\n</code></pre>\n<p>In case someone is on the look for this as well, this is my snipped. Might be a nicer and better way, but this currently works for me :)</p>\n<pre><code>        else if (json == &quot;object&quot;) {\n            //textView.append(&quot;Yep, that is an object\\n&quot;);\n            try {\n                JSONObject jsonResponse = new JSONObject(response);\n                JSONArray jsonArray = jsonResponse.getJSONArray(&quot;title&quot;);\n                JSONObject titlevalue = jsonArray.getJSONObject(0);\n                String title = titlevalue.getString(&quot;value&quot;);\n                JSONArray jsonBody = jsonResponse.getJSONArray(&quot;body&quot;);\n                JSONObject bodyvalue = jsonBody.getJSONObject(0);\n                String body = bodyvalue.getString(&quot;value&quot;);\n                Log.d(&quot;title&quot;, title);\n                Log.d(&quot;body&quot;, body);\n                TitleView.append(title);\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n                    textView.setText(Html.fromHtml(body, Html.FROM_HTML_MODE_COMPACT));\n                } else {\n                    textView.setText(Html.fromHtml(body));\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":13164755,"reputation":59,"user_id":9509363,"display_name":"Dennis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69583790,"answer_count":1,"score":0,"last_activity_date":1634295990,"creation_date":1634287526,"question_id":69582081,"body_markdown":"i am trying to get the title value of a json string\r\n(once it starts as an object and once as an array)\r\n\r\nI managed to get a result, but it gives me the extra brackets and such.\r\n\r\n    title: {&quot;value&quot;:&quot;New Beginnings&quot;}\r\n\r\ninstead of just \r\n\r\n    title: New Beginnings\r\n\r\nThe 2 urls i am trying this with are \r\n\r\n&gt; https://jhookcrochet.eu/categories/yarniversity/rest?_format=json\r\n&gt; \r\n&gt; \r\n&gt; https://jhookcrochet.eu/?_format=json\r\n\r\nAny help on this will be highly appreciated!\r\nThe code i came up with is:\r\n\r\n    RequestQueue rq = Volley.newRequestQueue(getActivity().getApplicationContext());\r\n\r\n    String url = &quot;https://jhookcrochet.eu/?_format=json&quot;;\r\n    StringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\r\n        @Override\r\n        public void onResponse(String response) {\r\n            String json = &quot;&quot;;\r\n            //txt.setText(response.toString());\r\n            try {\r\n                new JSONObject(response);\r\n                json = &quot;object&quot;;\r\n            } catch (JSONException ex) {\r\n                json = &quot;array&quot;;\r\n            }\r\n            if (json == &quot;array&quot;) {\r\n                try {\r\n                    JSONArray jsonArray = new JSONArray(response);\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject jresponse =\r\n                                jsonArray.getJSONObject(i);\r\n                        String title = jresponse.getString(&quot;title&quot;);\r\n                        //String field_image = jresponse.getString(&quot;field_image&quot;);\r\n                        String body = jresponse.getString(&quot;body&quot;);\r\n                        Log.d(&quot;title&quot;, title);\r\n                        //Log.d(&quot;field_image&quot;,field_image);\r\n                        Log.d(&quot;body&quot;, body);\r\n                        textView.append(&quot;Title: &quot; + title + &quot;\\n&quot;);\r\n                    }\r\n                } catch (JSONException e) {\r\n                    textView.append(&quot;NO\\n&quot;);\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            else if (json == &quot;object&quot;) {\r\n                textView.append(&quot;Yep, that is an object\\n&quot;);\r\n                try {\r\n                    JSONObject jsonResponse = new JSONObject(response);\r\n                    JSONArray gettitle = jsonResponse.optJSONArray(&quot;title&quot;);\r\n                    for (int j=0;j&lt;gettitle.length(); j++)\r\n                    {\r\n                        String title = gettitle.getString(j);\r\n                        Log.d(&quot;title&quot;, title);\r\n                    }\r\n                    //textView.append(&quot;Title: &quot; + title + &quot;\\n&quot;);\r\n                    //Log.d(&quot;title&quot;, title);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            Log.d(&quot;error&quot;,error.toString());\r\n        }\r\n    });\r\n    rq.add(request);\r\n\r\n    // Inflate the layout for this fragment\r\n    return root;","title":"Android Studio volley nested jsonarray","body":"<p>i am trying to get the title value of a json string\n(once it starts as an object and once as an array)</p>\n<p>I managed to get a result, but it gives me the extra brackets and such.</p>\n<pre><code>title: {&quot;value&quot;:&quot;New Beginnings&quot;}\n</code></pre>\n<p>instead of just</p>\n<pre><code>title: New Beginnings\n</code></pre>\n<p>The 2 urls i am trying this with are</p>\n<blockquote>\n<p><a href=\"https://jhookcrochet.eu/categories/yarniversity/rest?_format=json\" rel=\"nofollow noreferrer\">https://jhookcrochet.eu/categories/yarniversity/rest?_format=json</a></p>\n<p><a href=\"https://jhookcrochet.eu/?_format=json\" rel=\"nofollow noreferrer\">https://jhookcrochet.eu/?_format=json</a></p>\n</blockquote>\n<p>Any help on this will be highly appreciated!\nThe code i came up with is:</p>\n<pre><code>RequestQueue rq = Volley.newRequestQueue(getActivity().getApplicationContext());\n\nString url = &quot;https://jhookcrochet.eu/?_format=json&quot;;\nStringRequest request = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\n    @Override\n    public void onResponse(String response) {\n        String json = &quot;&quot;;\n        //txt.setText(response.toString());\n        try {\n            new JSONObject(response);\n            json = &quot;object&quot;;\n        } catch (JSONException ex) {\n            json = &quot;array&quot;;\n        }\n        if (json == &quot;array&quot;) {\n            try {\n                JSONArray jsonArray = new JSONArray(response);\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject jresponse =\n                            jsonArray.getJSONObject(i);\n                    String title = jresponse.getString(&quot;title&quot;);\n                    //String field_image = jresponse.getString(&quot;field_image&quot;);\n                    String body = jresponse.getString(&quot;body&quot;);\n                    Log.d(&quot;title&quot;, title);\n                    //Log.d(&quot;field_image&quot;,field_image);\n                    Log.d(&quot;body&quot;, body);\n                    textView.append(&quot;Title: &quot; + title + &quot;\\n&quot;);\n                }\n            } catch (JSONException e) {\n                textView.append(&quot;NO\\n&quot;);\n                e.printStackTrace();\n            }\n        }\n        else if (json == &quot;object&quot;) {\n            textView.append(&quot;Yep, that is an object\\n&quot;);\n            try {\n                JSONObject jsonResponse = new JSONObject(response);\n                JSONArray gettitle = jsonResponse.optJSONArray(&quot;title&quot;);\n                for (int j=0;j&lt;gettitle.length(); j++)\n                {\n                    String title = gettitle.getString(j);\n                    Log.d(&quot;title&quot;, title);\n                }\n                //textView.append(&quot;Title: &quot; + title + &quot;\\n&quot;);\n                //Log.d(&quot;title&quot;, title);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}, new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Log.d(&quot;error&quot;,error.toString());\n    }\n});\nrq.add(request);\n\n// Inflate the layout for this fragment\nreturn root;\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","apk"],"comments":[{"owner":{"account_id":10592309,"reputation":495,"user_id":7802425,"display_name":"Muhammed Arshad K"},"score":0,"creation_date":1632365302,"post_id":69293371,"comment_id":122473928,"body_markdown":"try clean project and rebuild it. it may work","body":"try clean project and rebuild it. it may work"},{"owner":{"account_id":16676779,"reputation":51,"user_id":12052997,"display_name":"DanIke"},"score":0,"creation_date":1632384951,"post_id":69293371,"comment_id":122478810,"body_markdown":"@Muhammed Arshad K, i tried that multiple times, Invalidate and restart, didn&#39;t solve the problem","body":"@Muhammed Arshad K, i tried that multiple times, Invalidate and restart, didn&#39;t solve the problem"}],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632452750,"creation_date":1632368770,"answer_id":69293775,"question_id":69293371,"body_markdown":"This might be caused due to 2 problems-\r\n1. In your gradle.properties file, have you enabled:\r\n```\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n```\r\n\r\n2. The jar file might be corrupted. Delete the fastutil-8.3.0.jar file only and let gradle reinstall it.","title":"Execution failed for task &#39;:app:mergeExtDexDebug&#39;","body":"<p>This might be caused due to 2 problems-</p>\n<ol>\n<li>In your gradle.properties file, have you enabled:</li>\n</ol>\n<pre><code>    android.useAndroidX=true\n    android.enableJetifier=true\n</code></pre>\n<ol start=\"2\">\n<li>The jar file might be corrupted. Delete the fastutil-8.3.0.jar file only and let gradle reinstall it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6857316,"reputation":146,"user_id":5272499,"accept_rate":92,"display_name":"Nikita Kulikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634295952,"creation_date":1634295952,"answer_id":69583785,"question_id":69293371,"body_markdown":"According to [this GitHub ticket][1] there is indeed a problem. Try to roll back the library to an older version (7.2.1 worked for me)\r\n\r\n\r\n  [1]: https://github.com/vigna/fastutil/issues/136","title":"Execution failed for task &#39;:app:mergeExtDexDebug&#39;","body":"<p>According to <a href=\"https://github.com/vigna/fastutil/issues/136\" rel=\"nofollow noreferrer\">this GitHub ticket</a> there is indeed a problem. Try to roll back the library to an older version (7.2.1 worked for me)</p>\n"}],"owner":{"account_id":16676779,"reputation":51,"user_id":12052997,"display_name":"DanIke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1634295952,"creation_date":1632364740,"question_id":69293371,"body_markdown":"I keep getting this error while trying to build a debug apk for my android app. The app builds and runs on a native device or emulator.\r\n\r\n\r\n```\r\nExecution failed for task &#39;:app:mergeExtDexDebug&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar.\r\n         &gt; Error while dexing.\r\n```\r\n\r\nand If i run with stacktrace, I get a more detailed error message.\r\n\r\n```Execution failed for task &#39;:app:mergeExtDexDebug&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for DexingWithClasspathTransform: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar.\r\n         &gt; Error while dexing.\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeExtDexDebug&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\norg.gradle.api.internal.file.DefaultFileCollectionFactory$ResolvingFileCollection.visitChildren(DefaultFileCollectionFactory.java:333)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\r\n\tat org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:330)\r\n\tat org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\r\n\tat org.gradle.api.internal.artifacts.transform.TransformingAsyncArtifactListener$TransformedArtifact.lambda$visit$2(TransformingAsyncArtifactListener.java:221)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\r\n\tat org.gradle.api.internal.artifacts.transform.TransformingAsyncArtifactListener$TransformedArtifact.visit(TransformingAsyncArtifactListener.java:213)\r\n\tat org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet$StartVisitAction.visitResults(ParallelResolveArtifactSet.java:99)\r\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat \r\norg.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:241)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.doRunBatch(DefaultBuildOperationQueue.java:222)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$0(DefaultBuildOperationQueue.java:212)\r\n\tat org.gradle.internal.resources.AbstractResourceLockRegistry.whileDisallowingLockChanges(AbstractResourceLockRegistry.java:70)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.whileDisallowingProjectLockChanges(DefaultWorkerLeaseService.java:185)\r\norg.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\r\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\norg.gradle.cache.ManualEvictionInMemoryCache.get(ManualEvictionInMemoryCache.java:30)\r\n\tat org.gradle.cache.internal.DefaultCrossBuildInMemoryCacheFactory$CrossBuildCacheRetainingDataFromPreviousBuild.get(DefaultCrossBuildInMemoryCacheFactory.java:259)\r\n\tat org.gradle.cache.Cache.get(Cache.java:31)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.lambda$executeDeferred$1(IdentityCacheStep.java:47)\r\n\t... 25 more\r\nCaused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar:it/unimi/dsi/fastutil/objects/Reference2DoubleMap.class\r\n\tat Version.fakeStackEntry(Version_3.0.69.java:0)\r\n\tat com.android.tools.r8.utils.w.a(SourceFile:68)\r\n\tat com.android.tools.r8.utils.w.a(SourceFile:28)\r\n\tat com.android.tools.r8.utils.w.a(SourceFile:27)\r\n\tat com.android.tools.r8.utils.w.b(SourceFile:3)\r\n\tat com.android.tools.r8.D8.run(D8.java:11)\r\n\tat com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:115)\r\n\t... 115 more\r\nCaused by: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\r\n\tat com.android.tools.r8.internal.Ei.a(SourceFile:111)\r\n\tat com.android.tools.r8.internal.Bi.a(SourceFile:586)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:36)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:41)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:35)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:321)\r\n\tat com.google.common.util.concurrent.AbstractListeningExecutorService.submit(AbstractListeningExecutorService.java:66)\r\n\tat com.google.common.util.concurrent.AbstractListeningExecutorService.submit(AbstractListeningExecutorService.java:36)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:34)\r\n\tat com.android.tools.r8.internal.sj.a(SourceFile:2)\r\n\tat com.android.tools.r8.internal.sj.forEach(SourceFile:2)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:6)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:40)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:38)\r\n\tat com.android.tools.r8.utils.V.a(SourceFile:37)\r\n\tat com.android.tools.r8.internal.Bi.a(SourceFile:574)\r\n\tat com.android.tools.r8.internal.Bi.a(SourceFile:560)\r\n\tat com.android.tools.r8.ir.conversion.k.a(SourceFile:12)\r\n\tat com.android.tools.r8.ir.conversion.k.a(SourceFile:64)\r\n\tat com.android.tools.r8.D8.d(D8.java:39)\r\n\tat com.android.tools.r8.D8.b(D8.java:1)\r\n\tat com.android.tools.r8.utils.w.a(SourceFile:24)\r\n\t... 118 more\r\n\tSuppressed: java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\r\n\t\tat com.android.tools.r8.D8.d(D8.java:209)\r\n\t\tat com.android.tools.r8.D8.b(D8.java:1)\r\n\t\tat com.android.tools.r8.utils.w.a(SourceFile:24)\r\n\t\tat com.android.tools.r8.utils.w.b(SourceFile:3)\r\n\t\tat com.android.tools.r8.D8.run(D8.java:11)\r\n\t\tat com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:115)\r\n\t\tat com.android.build.gradle.internal.dependency.BaseDexingTransform.process(DexingTransform.kt:288)\r\n\r\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\t\tat \r\norg.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\r\n\t\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\r\n\t\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\r\n\t\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n\t\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\t\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\r\n\t\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\t\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\r\n\t\tat org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\r\n\t\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\t\tat org.gradle.internal.execution.workspace.impl.DefaultImmutableWorkspaceProvider.lambda$withWorkspace$3(DefaultImmutableWorkspaceProvider.java:120)\r\n\t\tat org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.withFileLock(LockOnDemandCrossProcessCacheAccess.java:90)\r\n\t\tat org.gradle.cache.internal.DefaultCacheAccess.withFileLock(DefaultCacheAccess.java:191)\r\n\t\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.withFileLock(DefaultPersistentDirectoryStore.java:188)\r\n\t\tat org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.withFileLock(DefaultCacheFactory.java:209)\r\n\t\tat org.gradle.internal.execution.workspace.impl.DefaultImmutableWorkspaceProvider.withWorkspace(DefaultImmutableWorkspaceProvider.java:117)\r\n\t\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\r\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\tCaused by: java.util.concurrent.ExecutionException: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\r\n\t\tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:566)\r\n\t\tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:527)\r\n\t\tat com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:88)\r\n\t\tat com.android.tools.r8.utils.V.a(SourceFile:11)\r\n\t\tat com.android.tools.r8.utils.V.a(SourceFile:40)\r\n\t\tat com.android.tools.r8.utils.V.a(SourceFile:38)\r\n\t\tat com.android.tools.r8.utils.V.a(SourceFile:37)\r\n\t\tat com.android.tools.r8.internal.Bi.a(SourceFile:574)\r\n\t\tat com.android.tools.r8.internal.Bi.a(SourceFile:560)\r\n\t\tat com.android.tools.r8.ir.conversion.k.a(SourceFile:12)\r\n\t\tat com.android.tools.r8.ir.conversion.k.a(SourceFile:64)\r\n\t\tat com.android.tools.r8.D8.d(D8.java:39)\r\n\t\t... 126 more\r\n\tCaused by: [CIRCULAR REFERENCE: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)]\r\n```\r\n\r\nI&#39;ve tried \r\n - adding Multidex enabled\r\n- adding dexOptions {\r\n        javaMaxHeapSize &quot;4g&quot;\r\n    } on my gradle properties file\r\n- adding implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n- Making sure my dependencies have specified version numbers\r\n\r\nBut none seems to work.","title":"Execution failed for task &#39;:app:mergeExtDexDebug&#39;","body":"<p>I keep getting this error while trying to build a debug apk for my android app. The app builds and runs on a native device or emulator.</p>\n<pre><code>Execution failed for task ':app:mergeExtDexDebug'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar.\n         &gt; Error while dexing.\n</code></pre>\n<p>and If i run with stacktrace, I get a more detailed error message.</p>\n<pre><code>&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for DexingWithClasspathTransform: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar.\n         &gt; Error while dexing.\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeExtDexDebug'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:408)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:395)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:388)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:374)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\norg.gradle.api.internal.file.DefaultFileCollectionFactory$ResolvingFileCollection.visitChildren(DefaultFileCollectionFactory.java:333)\n    at org.gradle.api.internal.file.CompositeFileCollection.visitContents(CompositeFileCollection.java:119)\n    at org.gradle.api.internal.file.AbstractFileCollection.visitStructure(AbstractFileCollection.java:330)\n    at org.gradle.api.internal.file.CompositeFileCollection.lambda$visitContents$0(CompositeFileCollection.java:119)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform fastutil-8.3.0.jar (it.unimi.dsi:fastutil:8.3.0) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, dexing-enable-desugaring=true, dexing-is-debuggable=true, dexing-min-sdk=23, org.gradle.category=library, org.gradle.libraryelements=jar, org.gradle.status=release, org.gradle.usage=java-runtime}.\n    at org.gradle.api.internal.artifacts.transform.TransformingAsyncArtifactListener$TransformedArtifact.lambda$visit$2(TransformingAsyncArtifactListener.java:221)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:268)\n    at org.gradle.api.internal.artifacts.transform.TransformingAsyncArtifactListener$TransformedArtifact.visit(TransformingAsyncArtifactListener.java:213)\n    at org.gradle.api.internal.artifacts.ivyservice.resolveengine.artifact.ParallelResolveArtifactSet$VisitingSet$StartVisitAction.visitResults(ParallelResolveArtifactSet.java:99)\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at \norg.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.runOperation(DefaultBuildOperationQueue.java:241)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.doRunBatch(DefaultBuildOperationQueue.java:222)\n    at org.gradle.internal.operations.DefaultBuildOperationQueue$WorkerRunnable.lambda$runBatch$0(DefaultBuildOperationQueue.java:212)\n    at org.gradle.internal.resources.AbstractResourceLockRegistry.whileDisallowingLockChanges(AbstractResourceLockRegistry.java:70)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.whileDisallowingProjectLockChanges(DefaultWorkerLeaseService.java:185)\norg.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\norg.gradle.cache.ManualEvictionInMemoryCache.get(ManualEvictionInMemoryCache.java:30)\n    at org.gradle.cache.internal.DefaultCrossBuildInMemoryCacheFactory$CrossBuildCacheRetainingDataFromPreviousBuild.get(DefaultCrossBuildInMemoryCacheFactory.java:259)\n    at org.gradle.cache.Cache.get(Cache.java:31)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.lambda$executeDeferred$1(IdentityCacheStep.java:47)\n    ... 25 more\nCaused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: /Users/kingsleyokoye/.gradle/caches/transforms-3/c6c5e6c867a7a9428e59b7cabb0a5c1a/transformed/jetified-fastutil-8.3.0.jar:it/unimi/dsi/fastutil/objects/Reference2DoubleMap.class\n    at Version.fakeStackEntry(Version_3.0.69.java:0)\n    at com.android.tools.r8.utils.w.a(SourceFile:68)\n    at com.android.tools.r8.utils.w.a(SourceFile:28)\n    at com.android.tools.r8.utils.w.a(SourceFile:27)\n    at com.android.tools.r8.utils.w.b(SourceFile:3)\n    at com.android.tools.r8.D8.run(D8.java:11)\n    at com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:115)\n    ... 115 more\nCaused by: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\n    at com.android.tools.r8.internal.Ei.a(SourceFile:111)\n    at com.android.tools.r8.internal.Bi.a(SourceFile:586)\n    at com.android.tools.r8.utils.V.a(SourceFile:36)\n    at com.android.tools.r8.utils.V.a(SourceFile:41)\n    at com.android.tools.r8.utils.V.a(SourceFile:35)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:321)\n    at com.google.common.util.concurrent.AbstractListeningExecutorService.submit(AbstractListeningExecutorService.java:66)\n    at com.google.common.util.concurrent.AbstractListeningExecutorService.submit(AbstractListeningExecutorService.java:36)\n    at com.android.tools.r8.utils.V.a(SourceFile:34)\n    at com.android.tools.r8.internal.sj.a(SourceFile:2)\n    at com.android.tools.r8.internal.sj.forEach(SourceFile:2)\n    at com.android.tools.r8.utils.V.a(SourceFile:6)\n    at com.android.tools.r8.utils.V.a(SourceFile:40)\n    at com.android.tools.r8.utils.V.a(SourceFile:38)\n    at com.android.tools.r8.utils.V.a(SourceFile:37)\n    at com.android.tools.r8.internal.Bi.a(SourceFile:574)\n    at com.android.tools.r8.internal.Bi.a(SourceFile:560)\n    at com.android.tools.r8.ir.conversion.k.a(SourceFile:12)\n    at com.android.tools.r8.ir.conversion.k.a(SourceFile:64)\n    at com.android.tools.r8.D8.d(D8.java:39)\n    at com.android.tools.r8.D8.b(D8.java:1)\n    at com.android.tools.r8.utils.w.a(SourceFile:24)\n    ... 118 more\n    Suppressed: java.lang.RuntimeException: java.util.concurrent.ExecutionException: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\n        at com.android.tools.r8.D8.d(D8.java:209)\n        at com.android.tools.r8.D8.b(D8.java:1)\n        at com.android.tools.r8.utils.w.a(SourceFile:24)\n        at com.android.tools.r8.utils.w.b(SourceFile:3)\n        at com.android.tools.r8.D8.run(D8.java:11)\n        at com.android.builder.dexing.D8DexArchiveBuilder.convert(D8DexArchiveBuilder.java:115)\n        at com.android.build.gradle.internal.dependency.BaseDexingTransform.process(DexingTransform.kt:288)\n\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n        at \norg.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:105)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:86)\n        at java.base/java.util.Optional.orElseGet(Optional.java:369)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:32)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadExecutionStateStep.execute(LoadExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.workspace.impl.DefaultImmutableWorkspaceProvider.lambda$withWorkspace$3(DefaultImmutableWorkspaceProvider.java:120)\n        at org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.withFileLock(LockOnDemandCrossProcessCacheAccess.java:90)\n        at org.gradle.cache.internal.DefaultCacheAccess.withFileLock(DefaultCacheAccess.java:191)\n        at org.gradle.cache.internal.DefaultPersistentDirectoryStore.withFileLock(DefaultPersistentDirectoryStore.java:188)\n        at org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.withFileLock(DefaultCacheFactory.java:209)\n        at org.gradle.internal.execution.workspace.impl.DefaultImmutableWorkspaceProvider.withWorkspace(DefaultImmutableWorkspaceProvider.java:117)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n    Caused by: java.util.concurrent.ExecutionException: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)\n        at com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:566)\n        at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:527)\n        at com.google.common.util.concurrent.FluentFuture$TrustedFuture.get(FluentFuture.java:88)\n        at com.android.tools.r8.utils.V.a(SourceFile:11)\n        at com.android.tools.r8.utils.V.a(SourceFile:40)\n        at com.android.tools.r8.utils.V.a(SourceFile:38)\n        at com.android.tools.r8.utils.V.a(SourceFile:37)\n        at com.android.tools.r8.internal.Bi.a(SourceFile:574)\n        at com.android.tools.r8.internal.Bi.a(SourceFile:560)\n        at com.android.tools.r8.ir.conversion.k.a(SourceFile:12)\n        at com.android.tools.r8.ir.conversion.k.a(SourceFile:64)\n        at com.android.tools.r8.D8.d(D8.java:39)\n        ... 126 more\n    Caused by: [CIRCULAR REFERENCE: com.android.tools.r8.internal.q8: One or more instruction is preventing default interface method from being desugared: java.lang.Double it.unimi.dsi.fastutil.objects.Reference2DoubleMap.getOrDefault(java.lang.Object, java.lang.Double)]\n</code></pre>\n<p>I've tried</p>\n<ul>\n<li>adding Multidex enabled</li>\n<li>adding dexOptions {\njavaMaxHeapSize &quot;4g&quot;\n} on my gradle properties file</li>\n<li>adding implementation 'com.android.support:multidex:1.0.3'</li>\n<li>Making sure my dependencies have specified version numbers</li>\n</ul>\n<p>But none seems to work.</p>\n"},{"tags":["javascript","java","typescript","spring-boot","vue.js"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633699722,"post_id":69496616,"comment_id":122836505,"body_markdown":"Looks like the pdf is not actually there. Does it work if you manually enter the url in your browser?","body":"Looks like the pdf is not actually there. Does it work if you manually enter the url in your browser?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633699887,"post_id":69496616,"comment_id":122836577,"body_markdown":"No but I can open the pdf if I click on it via the file explorer or through intellj.","body":"No but I can open the pdf if I click on it via the file explorer or through intellj."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633699907,"post_id":69496616,"comment_id":122836582,"body_markdown":"So I thought it is a valid pdf.","body":"So I thought it is a valid pdf."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633700377,"post_id":69496616,"comment_id":122836811,"body_markdown":"What could the problem be? I just tested with a pdf from my downloads folder without a connection to my project but it does not open either","body":"What could the problem be? I just tested with a pdf from my downloads folder without a connection to my project but it does not open either"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633701306,"post_id":69496616,"comment_id":122837209,"body_markdown":"Where are the pdfs, relative to the web server root?","body":"Where are the pdfs, relative to the web server root?"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1633703249,"post_id":69496616,"comment_id":122838042,"body_markdown":"They are in the root at the most top layer in the project same level as Pom.XML and package.json I can sent a picture if that helps","body":"They are in the root at the most top layer in the project same level as Pom.XML and package.json I can sent a picture if that helps"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633704186,"post_id":69496616,"comment_id":122838434,"body_markdown":"Yes, please [edit] your question and show that.","body":"Yes, please <a href=\"https://stackoverflow.com/posts/69496616/edit\">edit</a> your question and show that."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1634294432,"post_id":69496616,"comment_id":122991638,"body_markdown":"Sorry for the late replt it was a long week with a lot of things to do. I just uploaded my folder structure.","body":"Sorry for the late replt it was a long week with a lot of things to do. I just uploaded my folder structure."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634296570,"post_id":69496616,"comment_id":122992322,"body_markdown":"How are you deploying this (I mean, with maven? gradle?)? Depending on that you&#39;d need to tell whatever builds the project where to put the `generatedPdf` folder in the deployed artifact, which I guess should be under `resources` but I&#39;m not sure.","body":"How are you deploying this (I mean, with maven? gradle?)? Depending on that you&#39;d need to tell whatever builds the project where to put the <code>generatedPdf</code> folder in the deployed artifact, which I guess should be under <code>resources</code> but I&#39;m not sure."},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1634298118,"post_id":69496616,"comment_id":122992798,"body_markdown":"For my backend (spring boot) I use maven. And for my frontend (Vue) I am using npm","body":"For my backend (spring boot) I use maven. And for my frontend (Vue) I am using npm"},{"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"score":0,"creation_date":1634298144,"post_id":69496616,"comment_id":122992807,"body_markdown":"My backend is connecting to dropbox and downloading the images and then combining them to pdf","body":"My backend is connecting to dropbox and downloading the images and then combining them to pdf"}],"owner":{"account_id":16206688,"reputation":607,"user_id":11701675,"display_name":"natyus"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634294388,"creation_date":1633699568,"question_id":69496616,"body_markdown":"I have a application generated with jhipster and vue as admin dashboard. My Java code is connecting to Dropbox downloading images and converting them to pdf and saving them to a folder at the same level like src. \r\n\r\nWhat I want to try now is to download open the pdf in a new tab with a button click. But I am getting the following error:\r\n\r\n    Can not GET /generatedPdf/toBePrintedPdf \r\n\r\nMy code looks like this:\r\n\r\n    openPdf(){\r\n        window.open(&quot;generatedPdf/toBePrintedPdf.pdf&quot;, &quot;_blank&quot;);\r\n        return false;\r\n    }\r\n\r\nThis is the vue part:\r\n\r\n    &lt;b-button v-on:click=&quot;openPdf&quot; variant=&quot;primary&quot;&gt;open pdf&lt;/b-button&gt;\r\n\r\nCan someone help me find my error?\r\n\r\nEdit:\r\n\r\nSorry for the late edit it was a hard week with a lot of work for me. I will now send the folder structure as a picture, if there are any other question feel free to ask. The folder called &#39;generatedPdf&#39; contains the pdf and the marked component is from where I try to open the pdf. Sadly I had to take picture from my phone sorry for that.\r\n\r\n[![Folder structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8DP4p.jpg","title":"How to open pdf with JavaScript/vue","body":"<p>I have a application generated with jhipster and vue as admin dashboard. My Java code is connecting to Dropbox downloading images and converting them to pdf and saving them to a folder at the same level like src.</p>\n<p>What I want to try now is to download open the pdf in a new tab with a button click. But I am getting the following error:</p>\n<pre><code>Can not GET /generatedPdf/toBePrintedPdf \n</code></pre>\n<p>My code looks like this:</p>\n<pre><code>openPdf(){\n    window.open(&quot;generatedPdf/toBePrintedPdf.pdf&quot;, &quot;_blank&quot;);\n    return false;\n}\n</code></pre>\n<p>This is the vue part:</p>\n<pre><code>&lt;b-button v-on:click=&quot;openPdf&quot; variant=&quot;primary&quot;&gt;open pdf&lt;/b-button&gt;\n</code></pre>\n<p>Can someone help me find my error?</p>\n<p>Edit:</p>\n<p>Sorry for the late edit it was a hard week with a lot of work for me. I will now send the folder structure as a picture, if there are any other question feel free to ask. The folder called 'generatedPdf' contains the pdf and the marked component is from where I try to open the pdf. Sadly I had to take picture from my phone sorry for that.</p>\n<p><a href=\"https://i.stack.imgur.com/8DP4p.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8DP4p.jpg\" alt=\"Folder structure\" /></a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":1,"creation_date":1424803041,"post_id":653990,"comment_id":45697039,"body_markdown":"Was just about to ask this question xd","body":"Was just about to ask this question xd"},{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":0,"creation_date":1424806161,"post_id":653990,"comment_id":45698738,"body_markdown":"Glad I got the answers for you already then :-)","body":"Glad I got the answers for you already then :-)"}],"answers":[{"tags":[],"owner":{"account_id":28626,"reputation":18594,"user_id":76661,"accept_rate":59,"display_name":"paweloque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1237293244,"creation_date":1237292907,"answer_id":654009,"question_id":653990,"body_markdown":"Look at the source code of the JRE and you&#39;ll probably see the difference. Or none. \r\nIn fact the Strinv.valueOf(int foo) is implemented as follows:\r\n\r\n    public static String valueOf(int i) {\r\n        return Integer.toString(i, 10);\r\n    }\r\n\r\n\r\nand the Integer.toString(int foo, int radix) \r\n   \r\n    public static String toString(int i, int radix) {\r\n       ...\r\n       if (radix == 10) {\r\n\t   return toString(i);\r\n       }\r\n       ...\r\n    }\r\n\r\nWhich means that if you use the radix 10, you better call the Integer.toString(int foo) directly. For the other cases use the Integer.toString(int foo, int radix).\r\n\r\nThe concat solution first transforms the int value into a String and later concatenates with the empty String. This obviously is the most expensive case.","title":"What is the most efficient way to convert an int to a String?","body":"<p>Look at the source code of the JRE and you'll probably see the difference. Or none. \nIn fact the Strinv.valueOf(int foo) is implemented as follows:</p>\n\n<pre><code>public static String valueOf(int i) {\n    return Integer.toString(i, 10);\n}\n</code></pre>\n\n<p>and the Integer.toString(int foo, int radix) </p>\n\n<pre><code>public static String toString(int i, int radix) {\n   ...\n   if (radix == 10) {\n   return toString(i);\n   }\n   ...\n}\n</code></pre>\n\n<p>Which means that if you use the radix 10, you better call the Integer.toString(int foo) directly. For the other cases use the Integer.toString(int foo, int radix).</p>\n\n<p>The concat solution first transforms the int value into a String and later concatenates with the empty String. This obviously is the most expensive case.</p>\n"},{"tags":[],"owner":{"account_id":25166,"reputation":29119,"user_id":64495,"accept_rate":67,"display_name":"Bj&#246;rn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1237292951,"creation_date":1237292951,"answer_id":654011,"question_id":653990,"body_markdown":"The first two examples are actually identical, since String.valueOf(int) uses the Integer.toString(int) method. The third is ugly, and probably less efficient since concatenation is slow in Java.","title":"What is the most efficient way to convert an int to a String?","body":"<p>The first two examples are actually identical, since String.valueOf(int) uses the Integer.toString(int) method. The third is ugly, and probably less efficient since concatenation is slow in Java.</p>\n"},{"tags":[],"owner":{"account_id":27790,"reputation":70133,"user_id":73681,"accept_rate":71,"display_name":"cobbal"},"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1237296947,"creation_date":1237293159,"answer_id":654031,"question_id":653990,"body_markdown":"tested it for 10m assignments of the number 10\r\n\r\n    One:\r\n    real\t0m5.610s\r\n    user\t0m5.098s\r\n    sys \t0m0.220s\r\n\r\n    Two:\r\n    real\t0m6.216s\r\n    user\t0m5.700s\r\n    sys \t0m0.213s\r\n\r\n    Three:\r\n    real\t0m12.986s\r\n    user\t0m11.767s\r\n    sys \t0m0.489s\r\n\r\nOne seems to win\r\n\r\nEdit:\r\nJVM is standard &#39;/usr/bin/java&#39; under Mac OS X 10.5\r\n&lt;pre&gt;\r\njava version &quot;1.5.0_16&quot;\r\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_16-b06-284)\r\nJava HotSpot(TM) Client VM (build 1.5.0_16-133, mixed mode, sharing)\r\n&lt;/pre&gt;\r\n\r\nMore edit:\r\n\r\nCode as requested\r\n\r\n    public class One {\r\n        public static void main(String[] args) {\r\n            int someValue = 10;\r\n            for (int i = 0; i &lt; 10000000; i++) {\r\n                String stringValue = Integer.toString(someValue);\r\n            }\r\n        }\r\n    }\r\n\r\ncase 2 and 3 similarly  \r\nrun using\r\n\r\n    javac *.java; time java One; time java Two; time java Three","title":"What is the most efficient way to convert an int to a String?","body":"<p>tested it for 10m assignments of the number 10</p>\n\n<pre><code>One:\nreal    0m5.610s\nuser    0m5.098s\nsys     0m0.220s\n\nTwo:\nreal    0m6.216s\nuser    0m5.700s\nsys     0m0.213s\n\nThree:\nreal    0m12.986s\nuser    0m11.767s\nsys     0m0.489s\n</code></pre>\n\n<p>One seems to win</p>\n\n<p>Edit:\nJVM is standard '/usr/bin/java' under Mac OS X 10.5</p>\n\n<pre>\njava version \"1.5.0_16\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_16-b06-284)\nJava HotSpot(TM) Client VM (build 1.5.0_16-133, mixed mode, sharing)\n</pre>\n\n<p>More edit:</p>\n\n<p>Code as requested</p>\n\n<pre><code>public class One {\n    public static void main(String[] args) {\n        int someValue = 10;\n        for (int i = 0; i &lt; 10000000; i++) {\n            String stringValue = Integer.toString(someValue);\n        }\n    }\n}\n</code></pre>\n\n<p>case 2 and 3 similarly<br>\nrun using</p>\n\n<pre><code>javac *.java; time java One; time java Two; time java Three\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18406,"reputation":10784,"user_id":42136,"accept_rate":71,"display_name":"David Hanak"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1237293508,"creation_date":1237293508,"answer_id":654049,"question_id":653990,"body_markdown":"Even though according to the [measurements of cobbal](https://stackoverflow.com/questions/653990/what-is-the-most-efficient-way-to-convert-an-int-to-a-string/654031#654031), #1 seems to be the fastest, I&#39;d strongly recommend the usage of `String.valueOf()`.  My reason for that is that this call does not explicitly contain the type of the argument, so if later on you decide to change it from int to double, there is no need to modify this call.  The speed gain on #1 compared to #2 is only minimal, and as we all know, &quot;premature optimization is the root of all evil&quot;.\r\n\r\nThe third solution is out of the question, since it implicitly creates a `StringBuilder` and appends the components (in this case, the number and the empty string) to that, and finally converts that to a string.","title":"What is the most efficient way to convert an int to a String?","body":"<p>Even though according to the <a href=\"https://stackoverflow.com/questions/653990/what-is-the-most-efficient-way-to-convert-an-int-to-a-string/654031#654031\">measurements of cobbal</a>, #1 seems to be the fastest, I'd strongly recommend the usage of <code>String.valueOf()</code>.  My reason for that is that this call does not explicitly contain the type of the argument, so if later on you decide to change it from int to double, there is no need to modify this call.  The speed gain on #1 compared to #2 is only minimal, and as we all know, \"premature optimization is the root of all evil\".</p>\n\n<p>The third solution is out of the question, since it implicitly creates a <code>StringBuilder</code> and appends the components (in this case, the number and the empty string) to that, and finally converts that to a string.</p>\n"},{"tags":[],"owner":{"account_id":25448,"reputation":5001,"user_id":65412,"accept_rate":59,"display_name":"Real Red."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1496232231,"creation_date":1237293805,"answer_id":654068,"question_id":653990,"body_markdown":"`&quot;&quot; + int` is slower as shown above by David Hanak.\r\n\r\n`String.valueOf()` inturn calls `Integer.toString()`. Hence, using `Integer.toString()` is better.\r\n\r\nSo, `Integer.toString()` is the fastest..","title":"What is the most efficient way to convert an int to a String?","body":"<p><code>\"\" + int</code> is slower as shown above by David Hanak.</p>\n\n<p><code>String.valueOf()</code> inturn calls <code>Integer.toString()</code>. Hence, using <code>Integer.toString()</code> is better.</p>\n\n<p>So, <code>Integer.toString()</code> is the fastest..</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1237293833,"creation_date":1237293833,"answer_id":654072,"question_id":653990,"body_markdown":"(Opposite of David Hanak.)\r\n\r\nEven though according to the measurements of cobbal, #1 seems to be the fastest, I&#39;d strongly recommend the usage of Integer.toString(). My reason for that is that this call explicitly contains the type of the argument, so if later on you decide to change it from int to double, it is clear that this call has changed. You would do the same if it was a binary format, wouldn&#39;t you? The speed gain on #1 compared to #2 is only minimal, and as we all know, &quot;premature optimization is the root of all evil&quot;.","title":"What is the most efficient way to convert an int to a String?","body":"<p>(Opposite of David Hanak.)</p>\n\n<p>Even though according to the measurements of cobbal, #1 seems to be the fastest, I'd strongly recommend the usage of Integer.toString(). My reason for that is that this call explicitly contains the type of the argument, so if later on you decide to change it from int to double, it is clear that this call has changed. You would do the same if it was a binary format, wouldn't you? The speed gain on #1 compared to #2 is only minimal, and as we all know, \"premature optimization is the root of all evil\".</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634294232,"creation_date":1634294232,"answer_id":69583428,"question_id":653990,"body_markdown":"My **micro-benchmark results for JDK 11 are very different** from those of the currently-accepted answer, showing **minimal run-time difference**, and no memory use/allocation difference at all:\r\n\r\n~~~\r\n t (ms)   method\r\n\r\n 12,30    &quot;&quot; + j\r\n 12,57    Integer.toString(j)\r\n 12.58    String.valueOf(j)\r\n~~~\r\n\r\nI actually [wrote this microbenchmark](https://stackoverflow.com/a/69583126/15472) to scratch an itch for [a different question](https://stackoverflow.com/q/69580732/15472); a commenter suggested that I also post here. Code to reproduce (also from that post) follows:\r\n\r\n~~~\r\npackage org.example;\r\n\r\nimport com.google.caliper.BeforeExperiment;\r\nimport com.google.caliper.Benchmark;\r\nimport com.google.caliper.Param;\r\nimport com.google.caliper.runner.CaliperMain;\r\n\r\npublic class Main {\r\n\r\n    @Param({&quot;10&quot;, &quot;100&quot;, &quot;1000&quot;})\r\n    int size;\r\n\r\n    private String[] output;\r\n\r\n    @BeforeExperiment\r\n    void setUp() {\r\n        output = new String[size];\r\n    }\r\n\r\n    @Benchmark void quote(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = &quot;&quot; + j;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark void toString(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = Integer.toString(j);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark void valueOf(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = String.valueOf(j);\r\n            }\r\n        }\r\n    }\r\n\r\n    /*\r\n    must have com.google.caliper:caliper:1.0-beta-3 in pom.xml; run with:\r\n    mvn clean compile exec:java -Dexec.mainClass=&quot;com.google.caliper.runner.CaliperMain&quot; -Dexec.args=&quot;org.example.Main&quot;\r\n     */\r\n    public static void main(String[] args) {\r\n        CaliperMain.main(Main.class, args);\r\n    }\r\n}\r\n~~~\r\n","title":"What is the most efficient way to convert an int to a String?","body":"<p>My <strong>micro-benchmark results for JDK 11 are very different</strong> from those of the currently-accepted answer, showing <strong>minimal run-time difference</strong>, and no memory use/allocation difference at all:</p>\n<pre><code> t (ms)   method\n\n 12,30    &quot;&quot; + j\n 12,57    Integer.toString(j)\n 12.58    String.valueOf(j)\n</code></pre>\n<p>I actually <a href=\"https://stackoverflow.com/a/69583126/15472\">wrote this microbenchmark</a> to scratch an itch for <a href=\"https://stackoverflow.com/q/69580732/15472\">a different question</a>; a commenter suggested that I also post here. Code to reproduce (also from that post) follows:</p>\n<pre><code>package org.example;\n\nimport com.google.caliper.BeforeExperiment;\nimport com.google.caliper.Benchmark;\nimport com.google.caliper.Param;\nimport com.google.caliper.runner.CaliperMain;\n\npublic class Main {\n\n    @Param({&quot;10&quot;, &quot;100&quot;, &quot;1000&quot;})\n    int size;\n\n    private String[] output;\n\n    @BeforeExperiment\n    void setUp() {\n        output = new String[size];\n    }\n\n    @Benchmark void quote(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = &quot;&quot; + j;\n            }\n        }\n    }\n\n    @Benchmark void toString(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = Integer.toString(j);\n            }\n        }\n    }\n\n    @Benchmark void valueOf(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = String.valueOf(j);\n            }\n        }\n    }\n\n    /*\n    must have com.google.caliper:caliper:1.0-beta-3 in pom.xml; run with:\n    mvn clean compile exec:java -Dexec.mainClass=&quot;com.google.caliper.runner.CaliperMain&quot; -Dexec.args=&quot;org.example.Main&quot;\n     */\n    public static void main(String[] args) {\n        CaliperMain.main(Main.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24175,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":654031,"answer_count":7,"score":69,"last_activity_date":1634294232,"creation_date":1237292591,"question_id":653990,"body_markdown":"Say I have:\r\n\r\n    int someValue = 42;\r\n\r\nNow I want to convert that int value to a String. Which way is more efficient?\r\n\r\n    // One\r\n    String stringValue = Integer.toString(someValue);\r\n    \r\n    // Two\r\n    String stringValue = String.valueOf(someValue);\r\n    \r\n    // Three\r\n    String stringValue = someValue + &quot;&quot;;\r\n    \r\n\r\nI am just curious if there is any real difference or one is better than the other?","title":"What is the most efficient way to convert an int to a String?","body":"<p>Say I have:</p>\n\n<pre><code>int someValue = 42;\n</code></pre>\n\n<p>Now I want to convert that int value to a String. Which way is more efficient?</p>\n\n<pre><code>// One\nString stringValue = Integer.toString(someValue);\n\n// Two\nString stringValue = String.valueOf(someValue);\n\n// Three\nString stringValue = someValue + \"\";\n</code></pre>\n\n<p>I am just curious if there is any real difference or one is better than the other?</p>\n"},{"tags":["java","cpu-architecture","memory-barriers","instruction-reordering"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634207216,"post_id":69568946,"comment_id":122965660,"body_markdown":"Well, no. Your question makes it seem like it&#39;s a java-only problem, but race conditions are possible in every language, and depending on the optimizations used by the compiler - can be made if you did not pay attention while coding. And then the CPU architecture comes along, but that can still be scribed off to &quot;the compiler messed it up&quot; (because there&#39;s a different compiler for every CPU architecture).","body":"Well, no. Your question makes it seem like it&#39;s a java-only problem, but race conditions are possible in every language, and depending on the optimizations used by the compiler - can be made if you did not pay attention while coding. And then the CPU architecture comes along, but that can still be scribed off to &quot;the compiler messed it up&quot; (because there&#39;s a different compiler for every CPU architecture)."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634207269,"post_id":69568946,"comment_id":122965676,"body_markdown":"Very rarely the compiler breaks your code, it just optimizes what you wrote (caveat, C++ optimizations can actually break code), so if compiler reorders your code wrong, you did not put in necessary synchronization mechanisms in the first place.","body":"Very rarely the compiler breaks your code, it just optimizes what you wrote (caveat, C++ optimizations can actually break code), so if compiler reorders your code wrong, you did not put in necessary synchronization mechanisms in the first place."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1634218053,"post_id":69568946,"comment_id":122970087,"body_markdown":"@Shark: If optimizations &quot;break your code&quot;, it was already broken and just happens-to-work in some cases, e.g. with debug builds that store / reload everything to memory between statements.  (Java doesn&#39;t have an equivalent to un-optimized builds, so I guess Java programmers never get the wrong idea that they code works in the first place in as many cases.  Of course as an answer on the querent&#39;s linked previous question indirectly shows, you could by chance get release/acquire synchronization from lack of compile-time reordering on x86, and have it break on ARM / everything else.)","body":"@Shark: If optimizations &quot;break your code&quot;, it was already broken and just happens-to-work in some cases, e.g. with debug builds that store / reload everything to memory between statements.  (Java doesn&#39;t have an equivalent to un-optimized builds, so I guess Java programmers never get the wrong idea that they code works in the first place in as many cases.  Of course as an answer on the querent&#39;s linked previous question indirectly shows, you could by chance get release/acquire synchronization from lack of compile-time reordering on x86, and have it break on ARM / everything else.)"},{"owner":{"account_id":139001,"reputation":500,"user_id":4121151,"display_name":"Emmef"},"score":0,"creation_date":1634218106,"post_id":69568946,"comment_id":122970111,"body_markdown":"@GonenI, Unfortunately, the topics of instruction reordering and memory (in) visibility between threads, are everywhere, down to below the instruction level. The best _you_ can do is first to assume the worst and then get it confirmed by [the memory model](https://en.wikipedia.org/wiki/Memory_model_(programming)) of your language. Then, use the dedicated constructs of your language that _do_ give guarantees, after reading their documentation well. All else is implementation detail that your compiler can handle for you, to deliver excellent performance!","body":"@GonenI, Unfortunately, the topics of instruction reordering and memory (in) visibility between threads, are everywhere, down to below the instruction level. The best <i>you</i> can do is first to assume the worst and then get it confirmed by <a href=\"https://en.wikipedia.org/wiki/Memory_model_(programming)\" rel=\"nofollow noreferrer\">the memory model</a> of your language. Then, use the dedicated constructs of your language that <i>do</i> give guarantees, after reading their documentation well. All else is implementation detail that your compiler can handle for you, to deliver excellent performance!"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634229276,"post_id":69568946,"comment_id":122975176,"body_markdown":"@PeterCordes while i agree, you have to admit there&#39;s a significant difference between `-O1`, `-O2` and `-O3`. to put it simply, some optimizations can break code which *normally* works fine. But i do agree, when optimizations break your code - fix the code, not the makefile.","body":"@PeterCordes while i agree, you have to admit there&#39;s a significant difference between <code>-O1</code>, <code>-O2</code> and <code>-O3</code>. to put it simply, some optimizations can break code which <i>normally</i> works fine. But i do agree, when optimizations break your code - fix the code, not the makefile."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1634242297,"post_id":69568946,"comment_id":122979736,"body_markdown":"@Shark: In C there&#39;s no such thing as &quot;normally works fine&quot;. Modern compilers aggressively optimize based on the assumption of no undefined behaviour, so for correctness you can&#39;t usefully think in terms of the assembly language equivalent, e.g. for signed overflow detection: you need to avoid causing it in the first place. If your code is broken with `-O3` on some compiler, it could just as easily be broken with `-O1` on another compiler. (Only `-O0` is special for memory-ordering stuff because of not keeping values in registers across statements, and that&#39;s not anything you&#39;d &quot;normally&quot; do.)","body":"@Shark: In C there&#39;s no such thing as &quot;normally works fine&quot;. Modern compilers aggressively optimize based on the assumption of no undefined behaviour, so for correctness you can&#39;t usefully think in terms of the assembly language equivalent, e.g. for signed overflow detection: you need to avoid causing it in the first place. If your code is broken with <code>-O3</code> on some compiler, it could just as easily be broken with <code>-O1</code> on another compiler. (Only <code>-O0</code> is special for memory-ordering stuff because of not keeping values in registers across statements, and that&#39;s not anything you&#39;d &quot;normally&quot; do.)"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1634291500,"post_id":69568946,"comment_id":122990483,"body_markdown":"@PeterCordes we could debate further (by e.g. taking embedded compilers into account) but we agree on this - when optimizations start breaking something, they&#39;re not the root cause, and the root cause should be fixed. Valgrind and other stuff should be used to identify potential caveats and the like.","body":"@PeterCordes we could debate further (by e.g. taking embedded compilers into account) but we agree on this - when optimizations start breaking something, they&#39;re not the root cause, and the root cause should be fixed. Valgrind and other stuff should be used to identify potential caveats and the like."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1634292257,"post_id":69568946,"comment_id":122990796,"body_markdown":"@Shark: yup, agreed.  BTW, many people (e.g. \\@supercat) are unhappy that modern C has evolved in this direction, to be full of unexpected landmines placed by compiler developers because the ISO language standard gives them license to break things.  In early compilers, things Just Worked unless you actually were compiling for a machine where, for example, the memory model wasn&#39;t flat, causing potential weirdness when subtracting pointers to different objects.  But now we can&#39;t assume that&#39;s safe (without casting to `uintptr_t`) even if we only care about flat memory models, not portability.","body":"@Shark: yup, agreed.  BTW, many people (e.g. \\@supercat) are unhappy that modern C has evolved in this direction, to be full of unexpected landmines placed by compiler developers because the ISO language standard gives them license to break things.  In early compilers, things Just Worked unless you actually were compiling for a machine where, for example, the memory model wasn&#39;t flat, causing potential weirdness when subtracting pointers to different objects.  But now we can&#39;t assume that&#39;s safe (without casting to <code>uintptr_t</code>) even if we only care about flat memory models, not portability."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1634292414,"post_id":69568946,"comment_id":122990859,"body_markdown":"@Shark: So you really have to know ISO C and C++, not just write things that &quot;should obviously work&quot;, to write safe code for modern C and C++ compilers, respectively.  The whole situation basically sucks, although it does let compilers make good asm for code that&#39;s written safely.","body":"@Shark: So you really have to know ISO C and C++, not just write things that &quot;should obviously work&quot;, to write safe code for modern C and C++ compilers, respectively.  The whole situation basically sucks, although it does let compilers make good asm for code that&#39;s written safely."}],"answers":[{"tags":[],"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1634291448,"creation_date":1634208547,"answer_id":69569374,"question_id":69568946,"body_markdown":"Memory reordering is possible without compile-time reordering of operations in source vs. asm.  The order of memory operations (loads and stores) to coherent shared cache (i.e. memory) done by a CPU running a thread is also separate from the order it *executes* those instructions in.\r\n\r\nExecuting a load *is* accessing cache (or the store buffer), but executing&quot; a store in a modern CPU is separate from its value actually being visible to other cores (commit from store buffer to L1d cache).  Executing a store is really just writing the address and data into the store buffer; commit isn&#39;t allowed until after the store has retired, thus is known to be non-speculative, i.e. definitely happening.\r\n\r\nDescribing memory reordering as &quot;instruction reordering&quot; is misleading.  You can get memory reordering even on a CPU that does in-order execution of asm instructions (as long as it has some mechanisms to find memory-level parallelism and let memory operations *complete* out of order in some ways), even if asm instruction order matches source order.  Thus that term wrongly implies that merely having plain load and store instructions in the right order (in asm) would be useful for anything related to memory order; it isn&#39;t, at least on non-x86 CPUs.  It&#39;s also weird because instructions have effects on registers (at least loads, and on some ISAs with post-increment addressing modes, stores can, too).\r\n\r\nIt&#39;s convenient to talk about something like StoreLoad reordering as `x = 1` &quot;happening&quot; after a `tmp = y` load, but the thing to talk about is when the effects happen (for loads) or are visible to other cores (for stores) in relation to other operations by this thread.  But when writing Java or C++ source code, it makes little sense to care whether that happened at compile time or run-time, or how that source turned into one or more instructions.  Also, Java source doesn&#39;t *have* instructions, it has statements.\r\n\r\nPerhaps the term could make sense to describe compile-time reordering between bytecode instructions in a `.class` vs. JIT compiler-generate native machine code, but if so then it&#39;s a mis-use to use it for memory reordering in general, not just compile/JIT-time reordering excluding run-time reordering.  It&#39;s not super helpful to highlight just compile-time reordering, unless you have signal handlers (like POSIX) or an equivalent that runs asynchronously in the context of an existing thread.\r\n\r\n----\r\n\r\n**This effect is not unique to Java at all.** (Although I hope this weird use of &quot;instruction reordering&quot; terminology is!)  It&#39;s very much the same as C++ (and I think C# and Rust for example, probably most other languages that want to normally compile efficiently, and require special stuff in the source to specify when you want your memory operations ordered wrt. each other, and promptly visible to other threads). https://preshing.com/20120625/memory-ordering-at-compile-time/  \r\n  C++ defines even less than Java about access to non-`atomic&lt;&gt;` variables without synchronization to ensure that there&#39;s never a write in parallel with anything else (undefined behaviour&lt;sup&gt;1&lt;/sup&gt;).\r\n\r\nAnd even present in assembly language, where by definition there&#39;s no reordering between source and machine code.  All SMP CPUs except a few ancient ones like 80386 also do **memory-reordering at run-time**, so lack of instruction reordering doesn&#39;t gain you anything, especially on machines with a &quot;weak&quot; memory model (most modern CPUs other than x86): https://preshing.com/20120930/weak-vs-strong-memory-models/ - x86 is &quot;strongly ordered&quot;, but not SC: it&#39;s program-order plus a store buffer with store forwarding.  So if you want to actually *demo* the breakage from insufficient ordering in Java on x86, it&#39;s either going to be compile-time reordering or [lack of sequential consistency][1] via StoreLoad reordering or store-buffer effects.  Other unsafe code like the accepted answer on your previous question that might happen to work on x86 will fail on weakly-ordered CPUs like ARM.\r\n\r\n(Fun fact: modern x86 CPUs aggressively execute loads out of order, but check to make sure they were &quot;allowed&quot; to do that according to x86&#39;s strongly-ordered memory model, i.e. that the cache line they loaded from is still readable, otherwise roll back the CPU state to before that: `machine_clears.memory_ordering` perf event.  So they maintain the illusion of obeying the strong x86 memory-ordering rules.  Other ISAs have weaker orders and can just aggressively execute loads out of order without later checks.)\r\n\r\nSome CPU memory models even [allow different threads to disagree about the order of stores done by two other threads][2].  So the C++ memory model allows that, too, so extra barriers on PowerPC are only needed for sequential consistency (`atomic` with `memory_order_seq_cst`, like Java `volatile`) not acquire/release or weaker orders.\r\n\r\nRelated: \r\n\r\n* https://stackoverflow.com/questions/37725497/how-does-memory-reordering-help-processors-and-compilers\r\n* https://stackoverflow.com/questions/52215031/how-is-load-store-reordering-possible-with-in-order-commit - memory reordering on in-order CPUs via other effects, like scoreboarding loads with a cache that can do hit-under-miss, and/or out-of-order commit from the store buffer, on weakly-ordered ISAs that allow this.  (Also LoadStore reordering on OoO exec CPUs that still retire instructions in order, which is actually *more* surprising than on in-order CPUs which have special mechanisms to allow memory-level parallelism for loads, that OoO exec could replace.)\r\n* https://stackoverflow.com/questions/63970362/are-memory-barriers-needed-because-of-cpu-out-of-order-execution-or-because-of-c (basically a duplicate of this; I didn&#39;t say much there that&#39;s not here)\r\n* https://stackoverflow.com/questions/50494658/are-loads-and-stores-the-only-instructions-that-gets-reordered (at runtime)\r\n* https://stackoverflow.com/questions/50307693/does-an-x86-cpu-reorder-instructions (yes)\r\n* https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram - store *execution* order isn&#39;t even relevant for memory ordering between threads, only *commit* order from the store buffer to L1d cache.  A store buffer is essential to decouple speculative exec (including of store instructions) from anything that&#39;s visible to other cores.  (And from cache misses on those stores.)\r\n* https://stackoverflow.com/questions/36624881/why-is-integer-assignment-on-a-naturally-aligned-variable-atomic-on-x86/36685056#36685056 - true in asm, but not safe in C/C++; you need `std::atomic&lt;int&gt;` with memory_order_relaxed to get the same asm but in portably-safe way.\r\n* https://stackoverflow.com/questions/50609934/globally-invisible-load-instructions/50617986#50617986 - where does load data come from: store forwarding is possible, so it&#39;s more accurate to say x86&#39;s memory model is &quot;program order + a store buffer with store forwarding&quot; than to say &quot;only StoreLoad reordering&quot;, if you ever care about this core reloading its own recent stores.\r\n\r\n* https://stackoverflow.com/questions/59217821/why-memory-reordering-is-not-a-problem-on-single-core-processor-machines - just like the as-if rule for compilers, out-of-order exec (and other effects) have to preserve the illusion (within one core and thus thread) of instructions fully executing one at a time, in program order, with no overlap of their effects.  This is basically the cardinal rule of CPU architecture.\r\n* [LWN: Who&#39;s afraid of a big bad optimizing compiler?](https://lwn.net/Articles/793253/) - surprising things compilers can do to C code that uses plain (non-volatile / non-`_Atomic` accesses).  This is mostly relevant for the Linux kernel, which rolls its own atomics with inline asm for some things like barriers, but also just C `volatile` for pure loads / pure stores (which is very different from Java `volatile`&lt;sup&gt;2&lt;/sup&gt;.)\r\n\r\n**Footnote 1:** C++ UB means not just an unpredictable value loaded, but that the ISO C++ standard has nothing to say about what can/can&#39;t happen in the whole program at any time before or after UB is encountered.  In practice for memory ordering, the consequences are often predictable (for experts who are used to looking at compiler-generated asm) depending on the target machine and optimization level, e.g. [hoisting loads out of loops breaking spin-wait loops][3] that fail to use `atomic`.  But of course you&#39;re totally at the mercy of whatever the compiler happens to do when your program contains UB, not at all something you can rely on.\r\n\r\n\r\n----\r\n\r\n#### Caches *are* coherent, despite common misconceptions\r\n\r\nHowever, all real-world systems that Java or C++ run multiple threads across *do* have coherent caches; seeing stale data indefinitely in a loop is a result of compilers keeping values in registers (which are thread-private), not of CPU caches not being visible to each other.  [This is what makes C++ `volatile` work in practice for multithreading (but don&#39;t actually do that because C++11 std::atomic made it obsolete)][4].\r\n\r\nEffects like never seeing a flag variable change are due to compilers optimizing global variables into registers, not instruction reordering or *cpu* caching.  You could say the *compiler* is &quot;caching&quot; a value in a register, but you can choose other wording that&#39;s less likely to confuse people that don&#39;t already understand thread-private registers vs. coherent caches.\r\n\r\n----\r\n\r\n**Footnote 2**: When comparing Java and C++, also note that C++ `volatile` doesn&#39;t guarantee anything about memory ordering, and in fact in ISO C++ it&#39;s undefined behaviour for multiple threads to be writing the same object at the same time even with volatile.  Use `std::memory_order_relaxed` if you want inter-thread visibility without ordering wrt. surrounding code.\r\n\r\n(Java `volatile` is like C++ `std::atomic&lt;T&gt;` with the default `std::memory_order_seq_cst`, and AFAIK Java provides no way to relax that to do more efficient atomic stores, even though most algorithms only need acquire/release semantics for their pure-loads and pure-stores, which [x86 *can* do for free][5].  Draining the store buffer for sequential consistency costs extra.  Not much compared to inter-thread latency, but significant for per-thread throughput, and a big deal if the same thread is doing a bunch of stuff to the same data without contention from other threads.)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/52648800/how-to-demonstrate-java-instruction-reordering-problems#comment122963582_52648800\r\n  [2]: https://stackoverflow.com/questions/27807118/will-two-atomic-writes-to-different-locations-in-different-threads-always-be-see\r\n  [3]: https://stackoverflow.com/questions/58516052/multithreading-program-stuck-in-optimized-mode-but-runs-normally-in-o0\r\n  [4]: https://stackoverflow.com/questions/4557979/when-to-use-volatile-with-multi-threading/58535118#58535118\r\n  [5]: https://stackoverflow.com/questions/60314179/c-how-is-release-and-acquire-achieved-on-x86-only-using-mov","title":"Java instruction reordering and CPU memory reordering","body":"<p>Memory reordering is possible without compile-time reordering of operations in source vs. asm.  The order of memory operations (loads and stores) to coherent shared cache (i.e. memory) done by a CPU running a thread is also separate from the order it <em>executes</em> those instructions in.</p>\n<p>Executing a load <em>is</em> accessing cache (or the store buffer), but executing&quot; a store in a modern CPU is separate from its value actually being visible to other cores (commit from store buffer to L1d cache).  Executing a store is really just writing the address and data into the store buffer; commit isn't allowed until after the store has retired, thus is known to be non-speculative, i.e. definitely happening.</p>\n<p>Describing memory reordering as &quot;instruction reordering&quot; is misleading.  You can get memory reordering even on a CPU that does in-order execution of asm instructions (as long as it has some mechanisms to find memory-level parallelism and let memory operations <em>complete</em> out of order in some ways), even if asm instruction order matches source order.  Thus that term wrongly implies that merely having plain load and store instructions in the right order (in asm) would be useful for anything related to memory order; it isn't, at least on non-x86 CPUs.  It's also weird because instructions have effects on registers (at least loads, and on some ISAs with post-increment addressing modes, stores can, too).</p>\n<p>It's convenient to talk about something like StoreLoad reordering as <code>x = 1</code> &quot;happening&quot; after a <code>tmp = y</code> load, but the thing to talk about is when the effects happen (for loads) or are visible to other cores (for stores) in relation to other operations by this thread.  But when writing Java or C++ source code, it makes little sense to care whether that happened at compile time or run-time, or how that source turned into one or more instructions.  Also, Java source doesn't <em>have</em> instructions, it has statements.</p>\n<p>Perhaps the term could make sense to describe compile-time reordering between bytecode instructions in a <code>.class</code> vs. JIT compiler-generate native machine code, but if so then it's a mis-use to use it for memory reordering in general, not just compile/JIT-time reordering excluding run-time reordering.  It's not super helpful to highlight just compile-time reordering, unless you have signal handlers (like POSIX) or an equivalent that runs asynchronously in the context of an existing thread.</p>\n<hr />\n<p><strong>This effect is not unique to Java at all.</strong> (Although I hope this weird use of &quot;instruction reordering&quot; terminology is!)  It's very much the same as C++ (and I think C# and Rust for example, probably most other languages that want to normally compile efficiently, and require special stuff in the source to specify when you want your memory operations ordered wrt. each other, and promptly visible to other threads). <a href=\"https://preshing.com/20120625/memory-ordering-at-compile-time/\" rel=\"nofollow noreferrer\">https://preshing.com/20120625/memory-ordering-at-compile-time/</a><br />\nC++ defines even less than Java about access to non-<code>atomic&lt;&gt;</code> variables without synchronization to ensure that there's never a write in parallel with anything else (undefined behaviour<sup>1</sup>).</p>\n<p>And even present in assembly language, where by definition there's no reordering between source and machine code.  All SMP CPUs except a few ancient ones like 80386 also do <strong>memory-reordering at run-time</strong>, so lack of instruction reordering doesn't gain you anything, especially on machines with a &quot;weak&quot; memory model (most modern CPUs other than x86): <a href=\"https://preshing.com/20120930/weak-vs-strong-memory-models/\" rel=\"nofollow noreferrer\">https://preshing.com/20120930/weak-vs-strong-memory-models/</a> - x86 is &quot;strongly ordered&quot;, but not SC: it's program-order plus a store buffer with store forwarding.  So if you want to actually <em>demo</em> the breakage from insufficient ordering in Java on x86, it's either going to be compile-time reordering or <a href=\"https://stackoverflow.com/questions/52648800/how-to-demonstrate-java-instruction-reordering-problems#comment122963582_52648800\">lack of sequential consistency</a> via StoreLoad reordering or store-buffer effects.  Other unsafe code like the accepted answer on your previous question that might happen to work on x86 will fail on weakly-ordered CPUs like ARM.</p>\n<p>(Fun fact: modern x86 CPUs aggressively execute loads out of order, but check to make sure they were &quot;allowed&quot; to do that according to x86's strongly-ordered memory model, i.e. that the cache line they loaded from is still readable, otherwise roll back the CPU state to before that: <code>machine_clears.memory_ordering</code> perf event.  So they maintain the illusion of obeying the strong x86 memory-ordering rules.  Other ISAs have weaker orders and can just aggressively execute loads out of order without later checks.)</p>\n<p>Some CPU memory models even <a href=\"https://stackoverflow.com/questions/27807118/will-two-atomic-writes-to-different-locations-in-different-threads-always-be-see\">allow different threads to disagree about the order of stores done by two other threads</a>.  So the C++ memory model allows that, too, so extra barriers on PowerPC are only needed for sequential consistency (<code>atomic</code> with <code>memory_order_seq_cst</code>, like Java <code>volatile</code>) not acquire/release or weaker orders.</p>\n<p>Related:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/37725497/how-does-memory-reordering-help-processors-and-compilers\">How does memory reordering help processors and compilers?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/52215031/how-is-load-store-reordering-possible-with-in-order-commit\">How is load-&gt;store reordering possible with in-order commit?</a> - memory reordering on in-order CPUs via other effects, like scoreboarding loads with a cache that can do hit-under-miss, and/or out-of-order commit from the store buffer, on weakly-ordered ISAs that allow this.  (Also LoadStore reordering on OoO exec CPUs that still retire instructions in order, which is actually <em>more</em> surprising than on in-order CPUs which have special mechanisms to allow memory-level parallelism for loads, that OoO exec could replace.)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/63970362/are-memory-barriers-needed-because-of-cpu-out-of-order-execution-or-because-of-c\">Are memory barriers needed because of cpu out of order execution or because of cache consistency problem?</a> (basically a duplicate of this; I didn't say much there that's not here)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/50494658/are-loads-and-stores-the-only-instructions-that-gets-reordered\">Are loads and stores the only instructions that gets reordered?</a> (at runtime)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/50307693/does-an-x86-cpu-reorder-instructions\">Does an x86 CPU reorder instructions?</a> (yes)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/64141366/can-a-speculatively-executed-cpu-branch-contain-opcodes-that-access-ram\">Can a speculatively executed CPU branch contain opcodes that access RAM?</a> - store <em>execution</em> order isn't even relevant for memory ordering between threads, only <em>commit</em> order from the store buffer to L1d cache.  A store buffer is essential to decouple speculative exec (including of store instructions) from anything that's visible to other cores.  (And from cache misses on those stores.)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/36624881/why-is-integer-assignment-on-a-naturally-aligned-variable-atomic-on-x86/36685056#36685056\">Why is integer assignment on a naturally aligned variable atomic on x86?</a> - true in asm, but not safe in C/C++; you need <code>std::atomic&lt;int&gt;</code> with memory_order_relaxed to get the same asm but in portably-safe way.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/50609934/globally-invisible-load-instructions/50617986#50617986\">Globally Invisible load instructions</a> - where does load data come from: store forwarding is possible, so it's more accurate to say x86's memory model is &quot;program order + a store buffer with store forwarding&quot; than to say &quot;only StoreLoad reordering&quot;, if you ever care about this core reloading its own recent stores.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/59217821/why-memory-reordering-is-not-a-problem-on-single-core-processor-machines\">Why memory reordering is not a problem on single core/processor machines?</a> - just like the as-if rule for compilers, out-of-order exec (and other effects) have to preserve the illusion (within one core and thus thread) of instructions fully executing one at a time, in program order, with no overlap of their effects.  This is basically the cardinal rule of CPU architecture.</p>\n</li>\n<li><p><a href=\"https://lwn.net/Articles/793253/\" rel=\"nofollow noreferrer\">LWN: Who's afraid of a big bad optimizing compiler?</a> - surprising things compilers can do to C code that uses plain (non-volatile / non-<code>_Atomic</code> accesses).  This is mostly relevant for the Linux kernel, which rolls its own atomics with inline asm for some things like barriers, but also just C <code>volatile</code> for pure loads / pure stores (which is very different from Java <code>volatile</code><sup>2</sup>.)</p>\n</li>\n</ul>\n<p><strong>Footnote 1:</strong> C++ UB means not just an unpredictable value loaded, but that the ISO C++ standard has nothing to say about what can/can't happen in the whole program at any time before or after UB is encountered.  In practice for memory ordering, the consequences are often predictable (for experts who are used to looking at compiler-generated asm) depending on the target machine and optimization level, e.g. <a href=\"https://stackoverflow.com/questions/58516052/multithreading-program-stuck-in-optimized-mode-but-runs-normally-in-o0\">hoisting loads out of loops breaking spin-wait loops</a> that fail to use <code>atomic</code>.  But of course you're totally at the mercy of whatever the compiler happens to do when your program contains UB, not at all something you can rely on.</p>\n<hr />\n<h4>Caches <em>are</em> coherent, despite common misconceptions</h4>\n<p>However, all real-world systems that Java or C++ run multiple threads across <em>do</em> have coherent caches; seeing stale data indefinitely in a loop is a result of compilers keeping values in registers (which are thread-private), not of CPU caches not being visible to each other.  <a href=\"https://stackoverflow.com/questions/4557979/when-to-use-volatile-with-multi-threading/58535118#58535118\">This is what makes C++ <code>volatile</code> work in practice for multithreading (but don't actually do that because C++11 std::atomic made it obsolete)</a>.</p>\n<p>Effects like never seeing a flag variable change are due to compilers optimizing global variables into registers, not instruction reordering or <em>cpu</em> caching.  You could say the <em>compiler</em> is &quot;caching&quot; a value in a register, but you can choose other wording that's less likely to confuse people that don't already understand thread-private registers vs. coherent caches.</p>\n<hr />\n<p><strong>Footnote 2</strong>: When comparing Java and C++, also note that C++ <code>volatile</code> doesn't guarantee anything about memory ordering, and in fact in ISO C++ it's undefined behaviour for multiple threads to be writing the same object at the same time even with volatile.  Use <code>std::memory_order_relaxed</code> if you want inter-thread visibility without ordering wrt. surrounding code.</p>\n<p>(Java <code>volatile</code> is like C++ <code>std::atomic&lt;T&gt;</code> with the default <code>std::memory_order_seq_cst</code>, and AFAIK Java provides no way to relax that to do more efficient atomic stores, even though most algorithms only need acquire/release semantics for their pure-loads and pure-stores, which <a href=\"https://stackoverflow.com/questions/60314179/c-how-is-release-and-acquire-achieved-on-x86-only-using-mov\">x86 <em>can</em> do for free</a>.  Draining the store buffer for sequential consistency costs extra.  Not much compared to inter-thread latency, but significant for per-thread throughput, and a big deal if the same thread is doing a bunch of stuff to the same data without contention from other threads.)</p>\n"}],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634294136,"creation_date":1634206642,"question_id":69568946,"body_markdown":"This is a follow up question to \r\n\r\nhttps://stackoverflow.com/questions/52648800/how-to-demonstrate-java-instruction-reordering-problems\r\n\r\nThere are many articles and blogs referring to Java and JVM instruction reordering which may lead to counter-intuitive results in user operations. \r\n\r\nWhen I asked for a demonstration of Java instruction reordering causing unexpected results, several comments were made to the effect that a more general area of concern is memory reordering, and that it would be difficult to demonstrate on an x86 CPU.\r\n\r\nIs instruction reordering just a part of a bigger issue of memory reordering, compiler optimizations and memory models? Are these issues really unique to the Java compiler and the JVM? Are they specific to certain CPU types?\r\n\r\n","title":"Java instruction reordering and CPU memory reordering","body":"<p>This is a follow up question to</p>\n<p><a href=\"https://stackoverflow.com/questions/52648800/how-to-demonstrate-java-instruction-reordering-problems\">How to demonstrate Java instruction reordering problems?</a></p>\n<p>There are many articles and blogs referring to Java and JVM instruction reordering which may lead to counter-intuitive results in user operations.</p>\n<p>When I asked for a demonstration of Java instruction reordering causing unexpected results, several comments were made to the effect that a more general area of concern is memory reordering, and that it would be difficult to demonstrate on an x86 CPU.</p>\n<p>Is instruction reordering just a part of a bigger issue of memory reordering, compiler optimizations and memory models? Are these issues really unique to the Java compiler and the JVM? Are they specific to certain CPU types?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10655359,"reputation":21,"user_id":7845046,"display_name":"aruneswara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601508067,"creation_date":1601508067,"answer_id":64147046,"question_id":64129682,"body_markdown":"I found the answer, which was twofold - firstly, I was getting the error because, although foobar doesn&#39;t want wildcard imports, they do want specific imports (in this case, java.util.Arrays). However, when I did do that, it was still inefficient, so I changed it to a simple HashMap solution and I&#39;m able to pass all test cases that way.","title":"Google FooBar Code Running in IDE but failing all test cases","body":"<p>I found the answer, which was twofold - firstly, I was getting the error because, although foobar doesn't want wildcard imports, they do want specific imports (in this case, java.util.Arrays). However, when I did do that, it was still inefficient, so I changed it to a simple HashMap solution and I'm able to pass all test cases that way.</p>\n"}],"owner":{"account_id":10655359,"reputation":21,"user_id":7845046,"display_name":"aruneswara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634294113,"creation_date":1601429112,"question_id":64129682,"body_markdown":"The problem I&#39;m trying to solve is Hey! I already did that.\r\nThe problem statement is [here][1] but that isn&#39;t really my problem, as I&#39;ve already created a solution that works for me on my IDE.\r\n\r\nWhen I create a sample main to run the file in my IDE, I&#39;m able to return the correct values for both test cases. However, when I verify it in foobar, I fail all test cases, including the two known cases.\r\n\r\nI tried returning just 1, since that&#39;s the answer to the second test case, and that&#39;s able to past three of the test cases. However, when I run my code but put return 1; in the first line (rendering all of my code useless), I still fail all test cases. That means, for some reason, even when it doesn&#39;t get to my code, I&#39;m failing all the test cases. However, Google isn&#39;t telling me anything about a compile error - it just says I&#39;m failing the test cases.\r\n\r\nHere&#39;s the code:\r\n\r\n    \r\n    public class Solution {\r\n        public static int solution(String n, int b) {\r\n            int tick = 0;\r\n            int[] arr = new int[1000000000];\r\n            int ans = 0;\r\n            while (true) {\r\n                tick++;\r\n                if (arr[Integer.parseInt(n)] == 0) {\r\n                    arr[Integer.parseInt(n)] = tick;\r\n                } else {\r\n                    ans = tick - arr[Integer.parseInt(n)];\r\n                    //System.out.println(ans);\r\n                    return ans;\r\n                }\r\n                char[] ar;\r\n                ar = n.toCharArray();\r\n                Arrays.sort(ar);\r\n                String i = String.valueOf(ar);\r\n                String j = &quot;&quot;;\r\n                for (int a = (ar.length - 1); a &gt;= 0; a--) {\r\n                    j += String.valueOf(ar[a]);\r\n                }\r\n                //System.out.println(i + &quot; &quot; + j);\r\n    \r\n                int x = Integer.valueOf(j);\r\n                int y = Integer.valueOf(i);\r\n    \r\n                String a1 = Integer.toString(x);\r\n                String b1 = Integer.toString(y);\r\n                int p = 1;\r\n                int xx = 0;\r\n                int yy = 0;\r\n    \r\n                p = 0;\r\n                for (int ii = a1.length() - 1; ii &gt;= 0; ii--) {\r\n                    xx += Integer.parseInt(Character.toString(a1.charAt(ii))) * Math.pow(b, p);\r\n                    p++;\r\n                }\r\n    \r\n                p = 0;\r\n                for (int ii = b1.length() - 1; ii &gt;= 0; ii--) {\r\n                    yy += Integer.parseInt(Character.toString(b1.charAt(ii))) * Math.pow(b, p);\r\n                    p++;\r\n                }\r\n    \r\n    \r\n                String zz = String.valueOf(xx - yy);\r\n    \r\n                String newn = Integer.toString(Integer.parseInt(zz), b);\r\n    \r\n                for (int ii = 0; ii &lt; n.length() - newn.length(); ii++)\r\n                    newn = &quot;0&quot; + newn;\r\n                n = newn;\r\n                //System.out.println(n);\r\n                //f = true;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/61907902/google-foobar-challenge-level-2-hey-i-already-did-that\r\n","title":"Google FooBar Code Running in IDE but failing all test cases","body":"<p>The problem I'm trying to solve is Hey! I already did that.\nThe problem statement is <a href=\"https://stackoverflow.com/questions/61907902/google-foobar-challenge-level-2-hey-i-already-did-that\">here</a> but that isn't really my problem, as I've already created a solution that works for me on my IDE.</p>\n<p>When I create a sample main to run the file in my IDE, I'm able to return the correct values for both test cases. However, when I verify it in foobar, I fail all test cases, including the two known cases.</p>\n<p>I tried returning just 1, since that's the answer to the second test case, and that's able to past three of the test cases. However, when I run my code but put return 1; in the first line (rendering all of my code useless), I still fail all test cases. That means, for some reason, even when it doesn't get to my code, I'm failing all the test cases. However, Google isn't telling me anything about a compile error - it just says I'm failing the test cases.</p>\n<p>Here's the code:</p>\n<pre><code>public class Solution {\n    public static int solution(String n, int b) {\n        int tick = 0;\n        int[] arr = new int[1000000000];\n        int ans = 0;\n        while (true) {\n            tick++;\n            if (arr[Integer.parseInt(n)] == 0) {\n                arr[Integer.parseInt(n)] = tick;\n            } else {\n                ans = tick - arr[Integer.parseInt(n)];\n                //System.out.println(ans);\n                return ans;\n            }\n            char[] ar;\n            ar = n.toCharArray();\n            Arrays.sort(ar);\n            String i = String.valueOf(ar);\n            String j = &quot;&quot;;\n            for (int a = (ar.length - 1); a &gt;= 0; a--) {\n                j += String.valueOf(ar[a]);\n            }\n            //System.out.println(i + &quot; &quot; + j);\n\n            int x = Integer.valueOf(j);\n            int y = Integer.valueOf(i);\n\n            String a1 = Integer.toString(x);\n            String b1 = Integer.toString(y);\n            int p = 1;\n            int xx = 0;\n            int yy = 0;\n\n            p = 0;\n            for (int ii = a1.length() - 1; ii &gt;= 0; ii--) {\n                xx += Integer.parseInt(Character.toString(a1.charAt(ii))) * Math.pow(b, p);\n                p++;\n            }\n\n            p = 0;\n            for (int ii = b1.length() - 1; ii &gt;= 0; ii--) {\n                yy += Integer.parseInt(Character.toString(b1.charAt(ii))) * Math.pow(b, p);\n                p++;\n            }\n\n\n            String zz = String.valueOf(xx - yy);\n\n            String newn = Integer.toString(Integer.parseInt(zz), b);\n\n            for (int ii = 0; ii &lt; n.length() - newn.length(); ii++)\n                newn = &quot;0&quot; + newn;\n            n = newn;\n            //System.out.println(n);\n            //f = true;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1634207617,"post_id":69569111,"comment_id":122965787,"body_markdown":"That depends on whether they&#39;re logically part of the state of the object or not. We can&#39;t really tell from what you&#39;ve shown us so far.","body":"That depends on whether they&#39;re logically part of the state of the object or not. We can&#39;t really tell from what you&#39;ve shown us so far."},{"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"score":0,"creation_date":1634208405,"post_id":69569111,"comment_id":122966107,"body_markdown":"@JonSkeet i changed the description. Is it more clear now?","body":"@JonSkeet i changed the description. Is it more clear now?"},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1634208872,"post_id":69569111,"comment_id":122966290,"body_markdown":"It&#39;s still not really clear, to be honest. It would be much more helpful if you&#39;d provide a concrete example. (We don&#39;t know if they&#39;re really constants, or derived from other pieces of state, etc.)","body":"It&#39;s still not really clear, to be honest. It would be much more helpful if you&#39;d provide a concrete example. (We don&#39;t know if they&#39;re really constants, or derived from other pieces of state, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634208668,"creation_date":1634208668,"answer_id":69569393,"question_id":69569111,"body_markdown":"As you have mentioned that &quot;I do not need to change the values of str1 and str2, so they are final.&quot;\r\n\r\nIt is always a good practice to declare them as `static final` (and as this is `String` I would rather use word **&quot;Java Constant&quot;** here).\r\n\r\nAnd as it is going to be constant correct way to declare that would be all upper case:\r\n\r\n    private final String STR_1 = &quot;xxxx&quot;;\r\n    private final String STR_2 = &quot;yyyy&quot;;\r\n\r\nAnd avoid using STR kind of generic variable (constant) name, rather prefer giving some logical names to these constants as per your context. So that they make much more sense and increase code readability.","title":"If i need to use same variables in several methods - should i define them on a class level or locally for each method?","body":"<p>As you have mentioned that &quot;I do not need to change the values of str1 and str2, so they are final.&quot;</p>\n<p>It is always a good practice to declare them as <code>static final</code> (and as this is <code>String</code> I would rather use word <strong>&quot;Java Constant&quot;</strong> here).</p>\n<p>And as it is going to be constant correct way to declare that would be all upper case:</p>\n<pre><code>private final String STR_1 = &quot;xxxx&quot;;\nprivate final String STR_2 = &quot;yyyy&quot;;\n</code></pre>\n<p>And avoid using STR kind of generic variable (constant) name, rather prefer giving some logical names to these constants as per your context. So that they make much more sense and increase code readability.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634294024,"creation_date":1634208672,"answer_id":69569395,"question_id":69569111,"body_markdown":"If they are real constants (always the same value) then you can do:\r\n\r\n    private static final String MY_CONSTANT = &quot;give me teh codez&quot;;\r\n\r\nIf they are initialized at object creation, and never modified, you can do:\r\n\r\n    public class MyClass {\r\n\r\n        // This field cannot be updated after initialization\r\n        // If it needs to be, then don&#39;t declare it as final. \r\n        private final String myField;\r\n\r\n        // Note that the fields of this AnotherClass instance CAN\r\n        // be updated, only the reference to this instance cannot\r\n        private final AnotherClass anotherField = new AnotherClass();\r\n\r\n        public MyClass(String fieldValue) {\r\n            myField = fieldValue;\r\n        }\r\n    }\r\n\r\nIn both these cases there is really no argument for keeping them as local variables.\r\n\r\nHowever if the values are computed, received or updated after object creation there is a decision to be made about whether the value should be a field or not. Apart from the obvious design consideration (does the value conceptually make sense as a field of this class?) there are also pragmatic considerations. For instance some classes (e.g. controllers or services in most web application frameworks) have to be &#39;stateless&#39; - they cannot store per-request state in their fields. You often see lots of parameters being passed between methods in such classes, which is a code smell. Solution could be to create a separate collaborating class like a Builder/Mapper/Handler/Processor to do a partial task on per-request data. After the task is done, the instance is discarded or reset. Within this collaborator you can put per-request data in fields and access it from different methods.\r\n\r\nIn general, methods should not have too many parameters. 1-3 parameters is fine. 4-7 is danger zone. More than 7 is definitely too much. See also [this discussion][1] and quoting Uncle Bob from his awesome book Clean Code:\r\n\r\n&gt; The ideal number of arguments for a function is zero (niladic). Next\r\n&gt; comes one (monadic), followed closely by two (dyadic). Three arguments\r\n&gt; (triadic) should be avoided where possible. More than three (polyadic)\r\n&gt; requires very special justificationand then shouldnt be used anyway.\r\n\r\n\r\n  [1]: https://softwareengineering.stackexchange.com/questions/352672/clean-code-functions-with-few-parameters","title":"If i need to use same variables in several methods - should i define them on a class level or locally for each method?","body":"<p>If they are real constants (always the same value) then you can do:</p>\n<pre><code>private static final String MY_CONSTANT = &quot;give me teh codez&quot;;\n</code></pre>\n<p>If they are initialized at object creation, and never modified, you can do:</p>\n<pre><code>public class MyClass {\n\n    // This field cannot be updated after initialization\n    // If it needs to be, then don't declare it as final. \n    private final String myField;\n\n    // Note that the fields of this AnotherClass instance CAN\n    // be updated, only the reference to this instance cannot\n    private final AnotherClass anotherField = new AnotherClass();\n\n    public MyClass(String fieldValue) {\n        myField = fieldValue;\n    }\n}\n</code></pre>\n<p>In both these cases there is really no argument for keeping them as local variables.</p>\n<p>However if the values are computed, received or updated after object creation there is a decision to be made about whether the value should be a field or not. Apart from the obvious design consideration (does the value conceptually make sense as a field of this class?) there are also pragmatic considerations. For instance some classes (e.g. controllers or services in most web application frameworks) have to be 'stateless' - they cannot store per-request state in their fields. You often see lots of parameters being passed between methods in such classes, which is a code smell. Solution could be to create a separate collaborating class like a Builder/Mapper/Handler/Processor to do a partial task on per-request data. After the task is done, the instance is discarded or reset. Within this collaborator you can put per-request data in fields and access it from different methods.</p>\n<p>In general, methods should not have too many parameters. 1-3 parameters is fine. 4-7 is danger zone. More than 7 is definitely too much. See also <a href=\"https://softwareengineering.stackexchange.com/questions/352672/clean-code-functions-with-few-parameters\">this discussion</a> and quoting Uncle Bob from his awesome book Clean Code:</p>\n<blockquote>\n<p>The ideal number of arguments for a function is zero (niladic). Next\ncomes one (monadic), followed closely by two (dyadic). Three arguments\n(triadic) should be avoided where possible. More than three (polyadic)\nrequires very special justificationand then shouldnt be used anyway.</p>\n</blockquote>\n"}],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69569395,"answer_count":2,"score":-1,"last_activity_date":1634294024,"creation_date":1634207326,"question_id":69569111,"body_markdown":"I do not need to change the values of str1 and str2, so they are final. These variables are not a part of an object, they just need for some check inside the method1() and method2(). &lt;br&gt; &lt;br&gt; So not to repeat the code - is it ok to define them on class level or should i make them local?\r\n\r\nclass level:\r\n\r\n    private final String str1 = &quot;&quot;;\r\n    private final String str2 = &quot;&quot;;\r\n    \r\n    private void method1() {\r\n        // some stuff with &#39;str1&#39; and &#39;str2&#39;\r\n    }\r\n    private void method2() {\r\n        // some stuff with &#39;str1&#39; and &#39;str2&#39;\r\n    }\r\n\r\n\r\nor local: &lt;br&gt;\r\n\r\n    private void method1() {\r\n        final String str1 = &quot;&quot;;\r\n        final String str2 = &quot;&quot;;\r\n        // some stuff with &#39;str1&#39; and &#39;str2&#39;\r\n    }\r\n    private void method2() {\r\n        final String str1 = &quot;&quot;;\r\n        final String str2 = &quot;&quot;;\r\n        // some stuff with &#39;str1&#39; and &#39;str2&#39;\r\n    }\r\n\r\n","title":"If i need to use same variables in several methods - should i define them on a class level or locally for each method?","body":"<p>I do not need to change the values of str1 and str2, so they are final. These variables are not a part of an object, they just need for some check inside the method1() and method2(). <br> <br> So not to repeat the code - is it ok to define them on class level or should i make them local?</p>\n<p>class level:</p>\n<pre><code>private final String str1 = &quot;&quot;;\nprivate final String str2 = &quot;&quot;;\n\nprivate void method1() {\n    // some stuff with 'str1' and 'str2'\n}\nprivate void method2() {\n    // some stuff with 'str1' and 'str2'\n}\n</code></pre>\n<p>or local: <br></p>\n<pre><code>private void method1() {\n    final String str1 = &quot;&quot;;\n    final String str2 = &quot;&quot;;\n    // some stuff with 'str1' and 'str2'\n}\nprivate void method2() {\n    final String str1 = &quot;&quot;;\n    final String str2 = &quot;&quot;;\n    // some stuff with 'str1' and 'str2'\n}\n</code></pre>\n"},{"tags":["java","swing","drag-and-drop","jtree"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":0,"creation_date":1634195659,"post_id":69566097,"comment_id":122961203,"body_markdown":"You should rewrite your `copy` method and create copy not only for the currently selected node, but also for all its subnodes. Please note, that this solution can provide duplicates in your `nodesToRemove` list (when user manually select subnodes of a selected node).","body":"You should rewrite your <code>copy</code> method and create copy not only for the currently selected node, but also for all its subnodes. Please note, that this solution can provide duplicates in your <code>nodesToRemove</code> list (when user manually select subnodes of a selected node)."},{"owner":{"account_id":16623298,"reputation":390,"user_id":12012989,"display_name":"yur"},"score":0,"creation_date":1634198277,"post_id":69566097,"comment_id":122962190,"body_markdown":"@SergiyMedvynskyy Maybe I&#39;m understanding things wrong, but isn&#39;t that what the iteration through the `paths` object in `createTransferable()` is for? The problem there once again seems to be the call `tree.getSelectionPaths()` only returning manually selected paths, not child elements.","body":"@SergiyMedvynskyy Maybe I&#39;m understanding things wrong, but isn&#39;t that what the iteration through the <code>paths</code> object in <code>createTransferable()</code> is for? The problem there once again seems to be the call <code>tree.getSelectionPaths()</code> only returning manually selected paths, not child elements."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1634207774,"post_id":69566097,"comment_id":122965845,"body_markdown":"The issue is with the call to `haveCompleteNode`, as the comments says `// Do not allow MOVE-action drops if a non-leaf node is selected unless all of its children are also selected.`.  This seems a bit weird to me, as selecting a branch node should carry it&#39;s children with it","body":"The issue is with the call to <code>haveCompleteNode</code>, as the comments says <code>&#47;&#47; Do not allow MOVE-action drops if a non-leaf node is selected unless all of its children are also selected.</code>.  This seems a bit weird to me, as selecting a branch node should carry it&#39;s children with it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634293960,"creation_date":1634209113,"answer_id":69569502,"question_id":69566097,"body_markdown":"So, drag and drop is ... complicated.  There are lots of gotchas you need to be aware of.\r\n\r\nIn the linked example you should beware that it&#39;s dealing with `DefaultMutableTreeNode`s and not `TreeNode`s, might not be an issue, but you might want to keep it in mind.\r\n\r\nThe `haveCompleteNode` seems to be stopping you from moving a branch node if its child elements aren&#39;t selected ... which seems somewhat weird to me.\r\n\r\nAlso, the code following it seems to prevent you from moving/copying a node to a position above the source nodes current level ... for some reason\r\n\r\nI&#39;m also not sure I&#39;d keep two copies of the selected nodes, this is me, but a defensive copy seems a little over the top (could be a particular edge case, but I&#39;d be worried if the tree can be updated during a drag operation, but that&#39;s me).\r\n\r\nSo, what are the lessons here?\r\n\r\nAny code you find on the web is going to need you to spend some time actually figuring out what it&#39;s doing.  It might start out as a good fit for your needs, but at some point in time, you&#39;re going to have to pull up your sleeves and dig into to modify it for your own needs.\r\n\r\nThe first thing you should do is get a good understanding of the [Drag and Drop and Data Transfer](https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html) APIs.\r\n\r\nThe following is a modified example of the code you linked, which will allow you to move a branch node (and its children) and also allow you to move them to a position &quot;above&quot; their source depth.\r\n\r\nBut again - you need to take the time to understand what the code is doing and be prepared to modify it to your needs\r\n\r\n    import java.awt.datatransfer.DataFlavor;\r\n    import java.awt.datatransfer.Transferable;\r\n    import java.awt.datatransfer.UnsupportedFlavorException;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n    import javax.swing.DropMode;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTree;\r\n    import javax.swing.TransferHandler;\r\n    import static javax.swing.TransferHandler.COPY_OR_MOVE;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.DefaultTreeModel;\r\n    import javax.swing.tree.TreeNode;\r\n    import javax.swing.tree.TreePath;\r\n    import javax.swing.tree.TreeSelectionModel;\r\n\r\n    public class TreeDragAndDrop {\r\n\r\n        private JScrollPane getContent() {\r\n            JTree tree = new JTree();\r\n            tree.setDragEnabled(true);\r\n            tree.setDropMode(DropMode.ON_OR_INSERT);\r\n            tree.setTransferHandler(new TreeTransferHandler());\r\n            tree.getSelectionModel().setSelectionMode(\r\n                    TreeSelectionModel.CONTIGUOUS_TREE_SELECTION);\r\n            expandTree(tree);\r\n            return new JScrollPane(tree);\r\n        }\r\n\r\n        private void expandTree(JTree tree) {\r\n            DefaultMutableTreeNode root\r\n                    = (DefaultMutableTreeNode) tree.getModel().getRoot();\r\n            Enumeration e = root.breadthFirstEnumeration();\r\n            while (e.hasMoreElements()) {\r\n                DefaultMutableTreeNode node\r\n                        = (DefaultMutableTreeNode) e.nextElement();\r\n                if (node.isLeaf()) {\r\n                    continue;\r\n                }\r\n                int row = tree.getRowForPath(new TreePath(node.getPath()));\r\n                tree.expandRow(row);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            JFrame f = new JFrame();\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            f.add(new TreeDragAndDrop().getContent());\r\n            f.setSize(400, 400);\r\n            f.setLocation(200, 200);\r\n            f.setVisible(true);\r\n        }\r\n\r\n        class TreeTransferHandler extends TransferHandler {\r\n\r\n            DataFlavor nodesFlavor;\r\n            DataFlavor[] flavors = new DataFlavor[1];\r\n\r\n            public TreeTransferHandler() {\r\n                try {\r\n                    String mimeType = DataFlavor.javaJVMLocalObjectMimeType\r\n                            + &quot;;class=\\&quot;&quot;\r\n                            + javax.swing.tree.DefaultMutableTreeNode[].class.getName()\r\n                            + &quot;\\&quot;&quot;;\r\n                    nodesFlavor = new DataFlavor(mimeType);\r\n                    flavors[0] = nodesFlavor;\r\n                } catch (ClassNotFoundException e) {\r\n                    System.out.println(&quot;ClassNotFound: &quot; + e.getMessage());\r\n                }\r\n            }\r\n\r\n            public boolean canImport(TransferHandler.TransferSupport support) {\r\n                if (!support.isDrop()) {\r\n                    return false;\r\n                }\r\n                support.setShowDropLocation(true);\r\n                if (!support.isDataFlavorSupported(nodesFlavor)) {\r\n                    System.out.println(&quot;Unsupported flavor&quot;);\r\n                    return false;\r\n                }\r\n                // Do not allow a drop on the drag source selections.\r\n                JTree.DropLocation dl\r\n                        = (JTree.DropLocation) support.getDropLocation();\r\n                JTree tree = (JTree) support.getComponent();\r\n                int dropRow = tree.getRowForPath(dl.getPath());\r\n                int[] selRows = tree.getSelectionRows();\r\n                for (int i = 0; i &lt; selRows.length; i++) {\r\n                    if (selRows[i] == dropRow) {\r\n                        return false;\r\n                    }\r\n                }\r\n                // This seems to stop the node from been copied to a level above itself?!\r\n    //            TreePath dest = dl.getPath();\r\n    //            DefaultMutableTreeNode target = (DefaultMutableTreeNode) dest.getLastPathComponent();\r\n    //            TreePath path = tree.getPathForRow(selRows[0]);\r\n    //            DefaultMutableTreeNode firstNode = (DefaultMutableTreeNode) path.getLastPathComponent();\r\n    //            if (firstNode.getChildCount() &gt; 0 &amp;&amp; target.getLevel() &lt; firstNode.getLevel()) {\r\n    //                return false;\r\n    //            }\r\n                return true;\r\n            }\r\n\r\n            protected Transferable createTransferable(JComponent c) {\r\n                JTree tree = (JTree) c;\r\n                TreePath[] paths = tree.getSelectionPaths();\r\n                if (paths != null) {\r\n                    // Make up a node array of copies for transfer and\r\n                    // another for/of the nodes that will be removed in\r\n                    // exportDone after a successful drop.\r\n                    List&lt;DefaultMutableTreeNode&gt; copies = new ArrayList&lt;DefaultMutableTreeNode&gt;();\r\n\r\n                    for (int i = 0; i &lt; paths.length; i++) {\r\n                        DefaultMutableTreeNode next = (DefaultMutableTreeNode) paths[i].getLastPathComponent();\r\n                        System.out.println(&quot;Selected = &quot; + next.getUserObject());\r\n                        copies.add(next);\r\n                    }\r\n                    DefaultMutableTreeNode[] nodes = copies.toArray(new DefaultMutableTreeNode[copies.size()]);\r\n                    return new NodesTransferable(nodes);\r\n                }\r\n                return null;\r\n            }\r\n\r\n            /**\r\n             * Defensive copy used in createTransferable.\r\n             */\r\n            private DefaultMutableTreeNode copy(TreeNode node) {\r\n                return new DefaultMutableTreeNode(node);\r\n            }\r\n\r\n            protected void exportDone(JComponent source, Transferable data, int action) {\r\n                // Already dealt with this\r\n            }\r\n\r\n            public int getSourceActions(JComponent c) {\r\n                return COPY_OR_MOVE;\r\n            }\r\n\r\n            public boolean importData(TransferHandler.TransferSupport support) {\r\n                System.out.println(&quot;Import here&quot;);\r\n                if (!canImport(support)) {\r\n                    return false;\r\n                }\r\n                // Extract transfer data.\r\n                DefaultMutableTreeNode[] nodes = null;\r\n                try {\r\n                    Transferable t = support.getTransferable();\r\n                    nodes = (DefaultMutableTreeNode[]) t.getTransferData(nodesFlavor);\r\n                } catch (UnsupportedFlavorException ufe) {\r\n                    System.out.println(&quot;UnsupportedFlavor: &quot; + ufe.getMessage());\r\n                } catch (java.io.IOException ioe) {\r\n                    System.out.println(&quot;I/O error: &quot; + ioe.getMessage());\r\n                }\r\n                // Get drop location info.\r\n                JTree.DropLocation dl = (JTree.DropLocation) support.getDropLocation();\r\n                int childIndex = dl.getChildIndex();\r\n                TreePath dest = dl.getPath();\r\n                DefaultMutableTreeNode parent = (DefaultMutableTreeNode) dest.getLastPathComponent();\r\n                JTree tree = (JTree) support.getComponent();\r\n                DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\r\n                // Configure for drop mode.\r\n                int index = childIndex;    // DropMode.INSERT\r\n                if (childIndex == -1) {     // DropMode.ON\r\n                    index = parent.getChildCount();\r\n                }\r\n\r\n                // One consideration to consider is what to do if it&#39;s a different\r\n                // source model ... and it&#39;s only a &quot;copy&quot; operation\r\n                // Might want to look into that\r\n                for (DefaultMutableTreeNode node : nodes) {\r\n                    model.removeNodeFromParent(node);\r\n                }\r\n\r\n                // Add data to model.\r\n                for (DefaultMutableTreeNode node : nodes) {\r\n                    model.insertNodeInto(node, parent, index++);\r\n                }\r\n                return true;\r\n            }\r\n\r\n            public String toString() {\r\n                return getClass().getName();\r\n            }\r\n\r\n            public class NodesTransferable implements Transferable {\r\n\r\n                DefaultMutableTreeNode[] nodes;\r\n\r\n                public NodesTransferable(DefaultMutableTreeNode[] nodes) {\r\n                    this.nodes = nodes;\r\n                }\r\n\r\n                public Object getTransferData(DataFlavor flavor)\r\n                        throws UnsupportedFlavorException {\r\n                    if (!isDataFlavorSupported(flavor)) {\r\n                        throw new UnsupportedFlavorException(flavor);\r\n                    }\r\n                    return nodes;\r\n                }\r\n\r\n                public DataFlavor[] getTransferDataFlavors() {\r\n                    return flavors;\r\n                }\r\n\r\n                public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n                    return nodesFlavor.equals(flavor);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAs far as &quot;code I found on the web&quot;, this isn&#39;t too bad.","title":"How to get selected rows including child rows of a JTree","body":"<p>So, drag and drop is ... complicated.  There are lots of gotchas you need to be aware of.</p>\n<p>In the linked example you should beware that it's dealing with <code>DefaultMutableTreeNode</code>s and not <code>TreeNode</code>s, might not be an issue, but you might want to keep it in mind.</p>\n<p>The <code>haveCompleteNode</code> seems to be stopping you from moving a branch node if its child elements aren't selected ... which seems somewhat weird to me.</p>\n<p>Also, the code following it seems to prevent you from moving/copying a node to a position above the source nodes current level ... for some reason</p>\n<p>I'm also not sure I'd keep two copies of the selected nodes, this is me, but a defensive copy seems a little over the top (could be a particular edge case, but I'd be worried if the tree can be updated during a drag operation, but that's me).</p>\n<p>So, what are the lessons here?</p>\n<p>Any code you find on the web is going to need you to spend some time actually figuring out what it's doing.  It might start out as a good fit for your needs, but at some point in time, you're going to have to pull up your sleeves and dig into to modify it for your own needs.</p>\n<p>The first thing you should do is get a good understanding of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/dnd/index.html\" rel=\"nofollow noreferrer\">Drag and Drop and Data Transfer</a> APIs.</p>\n<p>The following is a modified example of the code you linked, which will allow you to move a branch node (and its children) and also allow you to move them to a position &quot;above&quot; their source depth.</p>\n<p>But again - you need to take the time to understand what the code is doing and be prepared to modify it to your needs</p>\n<pre><code>import java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\nimport javax.swing.DropMode;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.TransferHandler;\nimport static javax.swing.TransferHandler.COPY_OR_MOVE;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreeNode;\nimport javax.swing.tree.TreePath;\nimport javax.swing.tree.TreeSelectionModel;\n\npublic class TreeDragAndDrop {\n\n    private JScrollPane getContent() {\n        JTree tree = new JTree();\n        tree.setDragEnabled(true);\n        tree.setDropMode(DropMode.ON_OR_INSERT);\n        tree.setTransferHandler(new TreeTransferHandler());\n        tree.getSelectionModel().setSelectionMode(\n                TreeSelectionModel.CONTIGUOUS_TREE_SELECTION);\n        expandTree(tree);\n        return new JScrollPane(tree);\n    }\n\n    private void expandTree(JTree tree) {\n        DefaultMutableTreeNode root\n                = (DefaultMutableTreeNode) tree.getModel().getRoot();\n        Enumeration e = root.breadthFirstEnumeration();\n        while (e.hasMoreElements()) {\n            DefaultMutableTreeNode node\n                    = (DefaultMutableTreeNode) e.nextElement();\n            if (node.isLeaf()) {\n                continue;\n            }\n            int row = tree.getRowForPath(new TreePath(node.getPath()));\n            tree.expandRow(row);\n        }\n    }\n\n    public static void main(String[] args) {\n        JFrame f = new JFrame();\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.add(new TreeDragAndDrop().getContent());\n        f.setSize(400, 400);\n        f.setLocation(200, 200);\n        f.setVisible(true);\n    }\n\n    class TreeTransferHandler extends TransferHandler {\n\n        DataFlavor nodesFlavor;\n        DataFlavor[] flavors = new DataFlavor[1];\n\n        public TreeTransferHandler() {\n            try {\n                String mimeType = DataFlavor.javaJVMLocalObjectMimeType\n                        + &quot;;class=\\&quot;&quot;\n                        + javax.swing.tree.DefaultMutableTreeNode[].class.getName()\n                        + &quot;\\&quot;&quot;;\n                nodesFlavor = new DataFlavor(mimeType);\n                flavors[0] = nodesFlavor;\n            } catch (ClassNotFoundException e) {\n                System.out.println(&quot;ClassNotFound: &quot; + e.getMessage());\n            }\n        }\n\n        public boolean canImport(TransferHandler.TransferSupport support) {\n            if (!support.isDrop()) {\n                return false;\n            }\n            support.setShowDropLocation(true);\n            if (!support.isDataFlavorSupported(nodesFlavor)) {\n                System.out.println(&quot;Unsupported flavor&quot;);\n                return false;\n            }\n            // Do not allow a drop on the drag source selections.\n            JTree.DropLocation dl\n                    = (JTree.DropLocation) support.getDropLocation();\n            JTree tree = (JTree) support.getComponent();\n            int dropRow = tree.getRowForPath(dl.getPath());\n            int[] selRows = tree.getSelectionRows();\n            for (int i = 0; i &lt; selRows.length; i++) {\n                if (selRows[i] == dropRow) {\n                    return false;\n                }\n            }\n            // This seems to stop the node from been copied to a level above itself?!\n//            TreePath dest = dl.getPath();\n//            DefaultMutableTreeNode target = (DefaultMutableTreeNode) dest.getLastPathComponent();\n//            TreePath path = tree.getPathForRow(selRows[0]);\n//            DefaultMutableTreeNode firstNode = (DefaultMutableTreeNode) path.getLastPathComponent();\n//            if (firstNode.getChildCount() &gt; 0 &amp;&amp; target.getLevel() &lt; firstNode.getLevel()) {\n//                return false;\n//            }\n            return true;\n        }\n\n        protected Transferable createTransferable(JComponent c) {\n            JTree tree = (JTree) c;\n            TreePath[] paths = tree.getSelectionPaths();\n            if (paths != null) {\n                // Make up a node array of copies for transfer and\n                // another for/of the nodes that will be removed in\n                // exportDone after a successful drop.\n                List&lt;DefaultMutableTreeNode&gt; copies = new ArrayList&lt;DefaultMutableTreeNode&gt;();\n\n                for (int i = 0; i &lt; paths.length; i++) {\n                    DefaultMutableTreeNode next = (DefaultMutableTreeNode) paths[i].getLastPathComponent();\n                    System.out.println(&quot;Selected = &quot; + next.getUserObject());\n                    copies.add(next);\n                }\n                DefaultMutableTreeNode[] nodes = copies.toArray(new DefaultMutableTreeNode[copies.size()]);\n                return new NodesTransferable(nodes);\n            }\n            return null;\n        }\n\n        /**\n         * Defensive copy used in createTransferable.\n         */\n        private DefaultMutableTreeNode copy(TreeNode node) {\n            return new DefaultMutableTreeNode(node);\n        }\n\n        protected void exportDone(JComponent source, Transferable data, int action) {\n            // Already dealt with this\n        }\n\n        public int getSourceActions(JComponent c) {\n            return COPY_OR_MOVE;\n        }\n\n        public boolean importData(TransferHandler.TransferSupport support) {\n            System.out.println(&quot;Import here&quot;);\n            if (!canImport(support)) {\n                return false;\n            }\n            // Extract transfer data.\n            DefaultMutableTreeNode[] nodes = null;\n            try {\n                Transferable t = support.getTransferable();\n                nodes = (DefaultMutableTreeNode[]) t.getTransferData(nodesFlavor);\n            } catch (UnsupportedFlavorException ufe) {\n                System.out.println(&quot;UnsupportedFlavor: &quot; + ufe.getMessage());\n            } catch (java.io.IOException ioe) {\n                System.out.println(&quot;I/O error: &quot; + ioe.getMessage());\n            }\n            // Get drop location info.\n            JTree.DropLocation dl = (JTree.DropLocation) support.getDropLocation();\n            int childIndex = dl.getChildIndex();\n            TreePath dest = dl.getPath();\n            DefaultMutableTreeNode parent = (DefaultMutableTreeNode) dest.getLastPathComponent();\n            JTree tree = (JTree) support.getComponent();\n            DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\n            // Configure for drop mode.\n            int index = childIndex;    // DropMode.INSERT\n            if (childIndex == -1) {     // DropMode.ON\n                index = parent.getChildCount();\n            }\n\n            // One consideration to consider is what to do if it's a different\n            // source model ... and it's only a &quot;copy&quot; operation\n            // Might want to look into that\n            for (DefaultMutableTreeNode node : nodes) {\n                model.removeNodeFromParent(node);\n            }\n\n            // Add data to model.\n            for (DefaultMutableTreeNode node : nodes) {\n                model.insertNodeInto(node, parent, index++);\n            }\n            return true;\n        }\n\n        public String toString() {\n            return getClass().getName();\n        }\n\n        public class NodesTransferable implements Transferable {\n\n            DefaultMutableTreeNode[] nodes;\n\n            public NodesTransferable(DefaultMutableTreeNode[] nodes) {\n                this.nodes = nodes;\n            }\n\n            public Object getTransferData(DataFlavor flavor)\n                    throws UnsupportedFlavorException {\n                if (!isDataFlavorSupported(flavor)) {\n                    throw new UnsupportedFlavorException(flavor);\n                }\n                return nodes;\n            }\n\n            public DataFlavor[] getTransferDataFlavors() {\n                return flavors;\n            }\n\n            public boolean isDataFlavorSupported(DataFlavor flavor) {\n                return nodesFlavor.equals(flavor);\n            }\n        }\n    }\n}\n</code></pre>\n<p>As far as &quot;code I found on the web&quot;, this isn't too bad.</p>\n"}],"owner":{"account_id":16623298,"reputation":390,"user_id":12012989,"display_name":"yur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69569502,"answer_count":1,"score":0,"last_activity_date":1634293960,"creation_date":1634193552,"question_id":69566097,"body_markdown":"I&#39;m working on implementing Drag &amp; Drop functionality on a JTree component by using a `TransferHandler`. I&#39;ve used [this](https://coderanch.com/t/346509/java/JTree-drag-drop-tree-Java) old thread on CodeRanch, which is pretty much the only apparent ressource that gets linked to whenever any question regarding this comes up in any forum. \r\n\r\nI&#39;ve gotten it to work well with my Data and my UI, so that leaf-Nodes can easily be dragged and dropped. The problem comes, when I try to drag Nodes that have children. The overriden boolean function `canImport(TransferSupport support)` returns false, because it checks the selected rows on the tree. Therefore, I then tested wether I could `CTRL + Click` to manually select child nodes after selecting the &quot;root&quot;-node of my drag operation, which works just fine and the node, including all it&#39;s children gets drag and dropped.\r\n\r\nMy question is this: to get the selected rows, I call `tree.getSelectionRows()` and save that value to an integer array. How do I get the child-rows into that integer array? I&#39;m aware I could probably rewrite other parts of my `TransferHandler`, but since everything else works just fine, if only it would actually select the rows how I anticipate it to, I feel like this is the simpler approach.","title":"How to get selected rows including child rows of a JTree","body":"<p>I'm working on implementing Drag &amp; Drop functionality on a JTree component by using a <code>TransferHandler</code>. I've used <a href=\"https://coderanch.com/t/346509/java/JTree-drag-drop-tree-Java\" rel=\"nofollow noreferrer\">this</a> old thread on CodeRanch, which is pretty much the only apparent ressource that gets linked to whenever any question regarding this comes up in any forum.</p>\n<p>I've gotten it to work well with my Data and my UI, so that leaf-Nodes can easily be dragged and dropped. The problem comes, when I try to drag Nodes that have children. The overriden boolean function <code>canImport(TransferSupport support)</code> returns false, because it checks the selected rows on the tree. Therefore, I then tested wether I could <code>CTRL + Click</code> to manually select child nodes after selecting the &quot;root&quot;-node of my drag operation, which works just fine and the node, including all it's children gets drag and dropped.</p>\n<p>My question is this: to get the selected rows, I call <code>tree.getSelectionRows()</code> and save that value to an integer array. How do I get the child-rows into that integer array? I'm aware I could probably rewrite other parts of my <code>TransferHandler</code>, but since everything else works just fine, if only it would actually select the rows how I anticipate it to, I feel like this is the simpler approach.</p>\n"},{"tags":["java","swing","user-interface","awt"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634293950,"creation_date":1634266239,"answer_id":69579469,"question_id":69579365,"body_markdown":"So, two things, first, always wrap your `JTextArea` in a `JScrollPane`, things will get very ... weird ... otherwise.  Second, while using multiple containers is a good idea for complex layouts, in this case, I might consider just using one container and use a different layout (other then `GridLayout`, for example ...\r\n\r\n[![Small][1]][1][![Not so small][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gRFI0.png\r\n  [2]: https://i.stack.imgur.com/OCLbv.png\r\n\r\n# Runnable example\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class CoffeeShop extends JFrame {\r\n\r\n        private JLabel coffeemenu, seasonaldrinks, instructions;\r\n        private JPanel westpanel;\r\n        private JComboBox menubox, seasonalmenubox;\r\n        private JTextArea instructionsarea;\r\n\r\n        public CoffeeShop() {\r\n\r\n            coffeemenu = new JLabel(&quot;Coffee Menu:&quot;);\r\n            seasonaldrinks = new JLabel(&quot;Seasonal Drinks:&quot;);\r\n            instructions = new JLabel(&quot;List Any Special Instructions:&quot;);\r\n\r\n            instructionsarea = new JTextArea(3, 1);\r\n\r\n            String menuboxoption[] = {&quot;Choose Below:&quot;, &quot;Drip Coffee&quot;, &quot;Cookie Butter Latte&quot;, &quot;Caramel Latte&quot;,\r\n                &quot;Matcha Latte&quot;, &quot;Craft Matcha&quot;, &quot;Classic Latte&quot;, &quot;Vanilla Latte&quot;, &quot;Hazlenut Latte&quot;};\r\n\r\n            String seasonalmenuboxoption[] = {&quot;Choose Below:&quot;, &quot;Iced Pumpkin Butter Latte&quot;, &quot;Iced Autumn Spice Latte&quot;, &quot;Crisp Apple Sparkling Cider&quot;,\r\n                &quot;Iced Melting Monster Latte&quot;, &quot;Hot Pumpkin Cookie Butter Latte&quot;};\r\n            menubox = new JComboBox(menuboxoption);\r\n            seasonalmenubox = new JComboBox(seasonalmenuboxoption);\r\n\r\n            westpanel = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n            gbc.anchor = GridBagConstraints.WEST;\r\n            gbc.weightx = 1;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n            westpanel.add(coffeemenu, gbc);\r\n            westpanel.add(menubox, gbc);\r\n\r\n            westpanel.add(seasonaldrinks, gbc);\r\n            westpanel.add(seasonalmenubox, gbc);\r\n\r\n            westpanel.add(instructions, gbc);\r\n            gbc.weighty = 1;\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n            westpanel.add(new JScrollPane(instructionsarea), gbc);\r\n\r\n            add(westpanel, BorderLayout.WEST);\r\n\r\n            setTitle(&quot;Commonwealth Joe&#39;s&quot;);\r\n            setSize(900, 500);\r\n            setVisible(true);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            CoffeeShop run = new CoffeeShop();\r\n\r\n        }\r\n    }\r\n\r\nHave a look at [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more details","title":"JTextArea problems","body":"<p>So, two things, first, always wrap your <code>JTextArea</code> in a <code>JScrollPane</code>, things will get very ... weird ... otherwise.  Second, while using multiple containers is a good idea for complex layouts, in this case, I might consider just using one container and use a different layout (other then <code>GridLayout</code>, for example ...</p>\n<p><a href=\"https://i.stack.imgur.com/gRFI0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gRFI0.png\" alt=\"Small\" /></a><a href=\"https://i.stack.imgur.com/OCLbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OCLbv.png\" alt=\"Not so small\" /></a></p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class CoffeeShop extends JFrame {\n\n    private JLabel coffeemenu, seasonaldrinks, instructions;\n    private JPanel westpanel;\n    private JComboBox menubox, seasonalmenubox;\n    private JTextArea instructionsarea;\n\n    public CoffeeShop() {\n\n        coffeemenu = new JLabel(&quot;Coffee Menu:&quot;);\n        seasonaldrinks = new JLabel(&quot;Seasonal Drinks:&quot;);\n        instructions = new JLabel(&quot;List Any Special Instructions:&quot;);\n\n        instructionsarea = new JTextArea(3, 1);\n\n        String menuboxoption[] = {&quot;Choose Below:&quot;, &quot;Drip Coffee&quot;, &quot;Cookie Butter Latte&quot;, &quot;Caramel Latte&quot;,\n            &quot;Matcha Latte&quot;, &quot;Craft Matcha&quot;, &quot;Classic Latte&quot;, &quot;Vanilla Latte&quot;, &quot;Hazlenut Latte&quot;};\n\n        String seasonalmenuboxoption[] = {&quot;Choose Below:&quot;, &quot;Iced Pumpkin Butter Latte&quot;, &quot;Iced Autumn Spice Latte&quot;, &quot;Crisp Apple Sparkling Cider&quot;,\n            &quot;Iced Melting Monster Latte&quot;, &quot;Hot Pumpkin Cookie Butter Latte&quot;};\n        menubox = new JComboBox(menuboxoption);\n        seasonalmenubox = new JComboBox(seasonalmenuboxoption);\n\n        westpanel = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n        gbc.anchor = GridBagConstraints.WEST;\n        gbc.weightx = 1;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(8, 8, 8, 8);\n\n        westpanel.add(coffeemenu, gbc);\n        westpanel.add(menubox, gbc);\n\n        westpanel.add(seasonaldrinks, gbc);\n        westpanel.add(seasonalmenubox, gbc);\n\n        westpanel.add(instructions, gbc);\n        gbc.weighty = 1;\n        gbc.fill = GridBagConstraints.BOTH;\n        westpanel.add(new JScrollPane(instructionsarea), gbc);\n\n        add(westpanel, BorderLayout.WEST);\n\n        setTitle(&quot;Commonwealth Joe's&quot;);\n        setSize(900, 500);\n        setVisible(true);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n    public static void main(String[] args) {\n        CoffeeShop run = new CoffeeShop();\n\n    }\n}\n</code></pre>\n<p>Have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more details</p>\n"}],"owner":{"account_id":22900540,"reputation":11,"user_id":17039324,"display_name":"Simeon Enchev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634293950,"creation_date":1634265205,"question_id":69579365,"body_markdown":"Having a bit of trouble with JTextArea, and specifically the scaling of it. Whenever I try to readjust the size of instructionsarea it really messes with all of my other components. I think this is due to some weird BorderLayout interactions, but I&#39;m not sure. Finding a way to keep the current components while also having an instructionsarea that&#39;s a good size would be amazing. \r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.GridLayout;\r\n\r\npublic class CoffeeShop extends JFrame {\r\n  \r\n  private JLabel coffeemenu, seasonaldrinks, instructions;\r\n  private JPanel westpanel, westpanel2;\r\n  private JComboBox menubox, seasonalmenubox;\r\n  private JTextArea instructionsarea;\r\n  \r\n  \r\n  public CoffeeShop(){\r\n    \r\n    coffeemenu = new JLabel(&quot;Coffee Menu:&quot;);\r\n    seasonaldrinks = new JLabel(&quot;Seasonal Drinks:&quot;);\r\n    instructions = new JLabel(&quot;List Any Special Instructions:&quot;);\r\n    \r\n    instructionsarea = new JTextArea(3, 1);\r\n    \r\n    westpanel = new JPanel();\r\n    westpanel2 = new JPanel();\r\n    westpanel.add(coffeemenu);\r\n    westpanel2.add(westpanel);\r\n    add(westpanel2, BorderLayout.WEST);\r\n    westpanel.setLayout(new GridLayout(6,1));\r\n    \r\n    \r\n    \r\n    String menuboxoption [] = {&quot;Choose Below:&quot;,&quot;Drip Coffee&quot;, &quot;Cookie Butter Latte&quot;, &quot;Caramel Latte&quot;, \r\n                               &quot;Matcha Latte&quot;, &quot;Craft Matcha&quot;, &quot;Classic Latte&quot;, &quot;Vanilla Latte&quot;, &quot;Hazlenut Latte&quot;};\r\n    \r\n    String seasonalmenuboxoption [] = {&quot;Choose Below:&quot;, &quot;Iced Pumpkin Butter Latte&quot;,&quot;Iced Autumn Spice Latte&quot;, &quot;Crisp Apple Sparkling Cider&quot;, \r\n                                       &quot;Iced Melting Monster Latte&quot;, &quot;Hot Pumpkin Cookie Butter Latte&quot;};\r\n    menubox = new JComboBox(menuboxoption);\r\n    seasonalmenubox = new JComboBox(seasonalmenuboxoption);\r\n    westpanel.add(menubox);\r\n    westpanel.add(seasonaldrinks);\r\n    westpanel.add(seasonalmenubox);\r\n    \r\n    westpanel.add(instructions);\r\n    westpanel.add(instructionsarea);\r\n    \r\n    setTitle(&quot;Commonwealth Joe&#39;s&quot;);\r\n    setSize(900, 500);\r\n    setVisible(true);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  public static void main(String [] args){\r\n    CoffeeShop run = new CoffeeShop();\r\n    \r\n  }\r\n}\r\n```\r\n\r\n","title":"JTextArea problems","body":"<p>Having a bit of trouble with JTextArea, and specifically the scaling of it. Whenever I try to readjust the size of instructionsarea it really messes with all of my other components. I think this is due to some weird BorderLayout interactions, but I'm not sure. Finding a way to keep the current components while also having an instructionsarea that's a good size would be amazing.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.BorderLayout;\nimport java.awt.GridLayout;\n\npublic class CoffeeShop extends JFrame {\n  \n  private JLabel coffeemenu, seasonaldrinks, instructions;\n  private JPanel westpanel, westpanel2;\n  private JComboBox menubox, seasonalmenubox;\n  private JTextArea instructionsarea;\n  \n  \n  public CoffeeShop(){\n    \n    coffeemenu = new JLabel(&quot;Coffee Menu:&quot;);\n    seasonaldrinks = new JLabel(&quot;Seasonal Drinks:&quot;);\n    instructions = new JLabel(&quot;List Any Special Instructions:&quot;);\n    \n    instructionsarea = new JTextArea(3, 1);\n    \n    westpanel = new JPanel();\n    westpanel2 = new JPanel();\n    westpanel.add(coffeemenu);\n    westpanel2.add(westpanel);\n    add(westpanel2, BorderLayout.WEST);\n    westpanel.setLayout(new GridLayout(6,1));\n    \n    \n    \n    String menuboxoption [] = {&quot;Choose Below:&quot;,&quot;Drip Coffee&quot;, &quot;Cookie Butter Latte&quot;, &quot;Caramel Latte&quot;, \n                               &quot;Matcha Latte&quot;, &quot;Craft Matcha&quot;, &quot;Classic Latte&quot;, &quot;Vanilla Latte&quot;, &quot;Hazlenut Latte&quot;};\n    \n    String seasonalmenuboxoption [] = {&quot;Choose Below:&quot;, &quot;Iced Pumpkin Butter Latte&quot;,&quot;Iced Autumn Spice Latte&quot;, &quot;Crisp Apple Sparkling Cider&quot;, \n                                       &quot;Iced Melting Monster Latte&quot;, &quot;Hot Pumpkin Cookie Butter Latte&quot;};\n    menubox = new JComboBox(menuboxoption);\n    seasonalmenubox = new JComboBox(seasonalmenuboxoption);\n    westpanel.add(menubox);\n    westpanel.add(seasonaldrinks);\n    westpanel.add(seasonalmenubox);\n    \n    westpanel.add(instructions);\n    westpanel.add(instructionsarea);\n    \n    setTitle(&quot;Commonwealth Joe's&quot;);\n    setSize(900, 500);\n    setVisible(true);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  }\n  \n  \n  \n  \n  \n  public static void main(String [] args){\n    CoffeeShop run = new CoffeeShop();\n    \n  }\n}\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","synchronization"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1634293933,"post_id":69573335,"comment_id":122991465,"body_markdown":"General code style note: never pass a thread to another threads constructor. Your class `Multi` should not extend `Thread` but just implement `Runnable`. Smaller point: never use `new` when boxing a primitive type. Just `Integer count = 0;` will do. Starting with Java&#160;9, youll get a warning when using `new Integer(0)`","body":"General code style note: never pass a thread to another threads constructor. Your class <code>Multi</code> should not extend <code>Thread</code> but just implement <code>Runnable</code>. Smaller point: never use <code>new</code> when boxing a primitive type. Just <code>Integer count = 0;</code> will do. Starting with Java 9, youll get a warning when using <code>new Integer(0)</code>"}],"answers":[{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634278220,"creation_date":1634277871,"answer_id":69580533,"question_id":69573335,"body_markdown":"Here&#39;s my guess, since I can&#39;t use comments to type so many words.\r\n\r\n```Integer``` objects are immutable:\r\n```\r\n    /**\r\n     * The value of the {@code Integer}.\r\n     *\r\n     * @serial\r\n     */\r\n    private final int value;\r\n\r\n    /**\r\n     * Constructs a newly allocated {@code Integer} object that\r\n     * represents the specified {@code int} value.\r\n     *\r\n     * @param   value   the value to be represented by the\r\n     *                  {@code Integer} object.\r\n     */\r\n    public Integer(int value) {\r\n        this.value = value;\r\n    }\r\n```\r\nSo, when you do ```count++```, a new ```Integer``` object will be created. The ```count``` reference is then directed to the new object.\r\n\r\nAssume the following flow:\r\n\r\n 1. ```Thread r1``` acquires ```count``` lock (Notice that the ```count\r\n    object``` is locked), at this point ```thread r2``` is blocked.\r\n    \r\n 2. ```r1``` invokes ```count++```, a new ```Integer``` object is created. The ```count``` reference is then directed to the new object. And ```r1``` release lock.(This lock refers to the previous Integer object).\r\n\r\n 3. ```r2```  which had been blocked acquires lock.\r\n\r\n 4. ```r1``` also acquires the lock because ```count``` has already pointed to a new object.\r\n\r\n 5. Both threads execute ```count++```: problem arises.\r\n\r\nThe following code proves that both threads are holding the &quot;lock&quot; at the same time\r\n```\r\nfor(int i=0; i&lt;2; i++)\r\n        {\r\n            synchronized (count) {\r\n                System.out.println(Thread.currentThread().getName() + &quot;get lock&quot;);\r\n                count++;\r\n                if (i == 1) {\r\n                    try {\r\n                        Thread.sleep(100000);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot;release lock&quot;);\r\n            }\r\n        }\r\n```\r\n\r\n","title":"Syncronization block not working as expected, when aquired lock on required object, but works fine when applied on &#39;this&#39;","body":"<p>Here's my guess, since I can't use comments to type so many words.</p>\n<p><code>Integer</code> objects are immutable:</p>\n<pre><code>    /**\n     * The value of the {@code Integer}.\n     *\n     * @serial\n     */\n    private final int value;\n\n    /**\n     * Constructs a newly allocated {@code Integer} object that\n     * represents the specified {@code int} value.\n     *\n     * @param   value   the value to be represented by the\n     *                  {@code Integer} object.\n     */\n    public Integer(int value) {\n        this.value = value;\n    }\n</code></pre>\n<p>So, when you do <code>count++</code>, a new <code>Integer</code> object will be created. The <code>count</code> reference is then directed to the new object.</p>\n<p>Assume the following flow:</p>\n<ol>\n<li><p><code>Thread r1</code> acquires <code>count</code> lock (Notice that the <code>count object</code> is locked), at this point <code>thread r2</code> is blocked.</p>\n</li>\n<li><p><code>r1</code> invokes <code>count++</code>, a new <code>Integer</code> object is created. The <code>count</code> reference is then directed to the new object. And <code>r1</code> release lock.(This lock refers to the previous Integer object).</p>\n</li>\n<li><p><code>r2</code>  which had been blocked acquires lock.</p>\n</li>\n<li><p><code>r1</code> also acquires the lock because <code>count</code> has already pointed to a new object.</p>\n</li>\n<li><p>Both threads execute <code>count++</code>: problem arises.</p>\n</li>\n</ol>\n<p>The following code proves that both threads are holding the &quot;lock&quot; at the same time</p>\n<pre><code>for(int i=0; i&lt;2; i++)\n        {\n            synchronized (count) {\n                System.out.println(Thread.currentThread().getName() + &quot;get lock&quot;);\n                count++;\n                if (i == 1) {\n                    try {\n                        Thread.sleep(100000);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                System.out.println(Thread.currentThread().getName() + &quot;release lock&quot;);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":22961776,"reputation":3,"user_id":17091499,"display_name":"satya sai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69580533,"answer_count":1,"score":0,"last_activity_date":1634293833,"creation_date":1634224965,"question_id":69573335,"body_markdown":"\r\n\r\n    public class SyncBlockIssue {\r\n    \t\t\r\n    \t\tpublic static void main(String[] args) {\t\r\n    \t\t\tThread r1= new Multi();\r\n    \t\t\tThread t1= new Thread(r1);\t\t\t\r\n    \t\t\tThread t2= new Thread(r1);\r\n    \t\t\tt1.start();\r\n    \t\t\tt2.start();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tclass Multi extends Thread\r\n    \t{\r\n    \t\tInteger count =new Integer(0);\t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tfor(int i=0;i&lt;100000;i++)\r\n    \t\t\t{\t\t\t\t\r\n    \t\t\t\t\tsynchronized (count) {\t\t\r\n    \t\t\t\t\t//synchronized (this) {   //working fine with this\r\n    \t\t\t\t\tcount++;\r\n    \t\t\t\t}\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;  &quot;+count);\t\t\t\r\n    \t\t}\t\t\r\n    \t}\r\n\r\nAbove code is printing 2 million from 2nd thread, no matter how many times i run when acquire lock on &#39;this&#39;, but where as printing arbitrarily count, when acquired lock &#39;count&#39; object.\r\ncould someone explain the difference.","title":"Syncronization block not working as expected, when aquired lock on required object, but works fine when applied on &#39;this&#39;","body":"<pre><code>public class SyncBlockIssue {\n        \n        public static void main(String[] args) {    \n            Thread r1= new Multi();\n            Thread t1= new Thread(r1);          \n            Thread t2= new Thread(r1);\n            t1.start();\n            t2.start();\n        }\n    }\n\n    class Multi extends Thread\n    {\n        Integer count =new Integer(0);      \n        @Override\n        public void run() {\n            for(int i=0;i&lt;100000;i++)\n            {               \n                    synchronized (count) {      \n                    //synchronized (this) {   //working fine with this\n                    count++;\n                }               \n            }\n            System.out.println(Thread.currentThread().getName() + &quot;  &quot;+count);          \n        }       \n    }\n</code></pre>\n<p>Above code is printing 2 million from 2nd thread, no matter how many times i run when acquire lock on 'this', but where as printing arbitrarily count, when acquired lock 'count' object.\ncould someone explain the difference.</p>\n"},{"tags":["java","php","android","mysql"],"answers":[{"tags":[],"owner":{"account_id":484450,"reputation":11232,"user_id":900128,"display_name":"Muthukrishnan Rajendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501319395,"creation_date":1501316637,"answer_id":45387106,"question_id":45387047,"body_markdown":"You can try like this,\r\n\r\n    @Override\r\n    protected void onPostExecute(Void aVoid) {\r\n\r\n        Collections.sort(ThreeFragment.this.movies, new Comparator&lt;Movie&gt;() {\r\n            public int compare(Movie o1, Movie o2) {\r\n                Integer firstItem = o1.getId();\r\n                Integer secondItem = o2.getId();\r\n                return secondItem.compareTo(firstItem);\r\n            }\r\n        });\r\n\r\n        adapter.notifyDataSetChanged();\r\n        pdLoading.dismiss();\r\n    }\r\n","title":"How to sort the Recyclerview from last ID to first ID?","body":"<p>You can try like this,</p>\n\n<pre><code>@Override\nprotected void onPostExecute(Void aVoid) {\n\n    Collections.sort(ThreeFragment.this.movies, new Comparator&lt;Movie&gt;() {\n        public int compare(Movie o1, Movie o2) {\n            Integer firstItem = o1.getId();\n            Integer secondItem = o2.getId();\n            return secondItem.compareTo(firstItem);\n        }\n    });\n\n    adapter.notifyDataSetChanged();\n    pdLoading.dismiss();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6919146,"reputation":5271,"user_id":5312371,"accept_rate":82,"display_name":"Mina Farid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501319696,"creation_date":1501317857,"answer_id":45387285,"question_id":45387047,"body_markdown":"You can order your data in the server side (php) by DESC order by id\r\n\r\n    $sql= &quot;Select * from movies_table where id between ($id+1) and ($id+10) ORDER BY &#39;id&#39; DESC&quot;;\r\n\r\nor You Can reorder the array you get from the server:\r\n\r\n       for(int i=(YourArrayData.size()-1);i&gt;=0;i--)\r\n       {\r\n        newArrayList.add(YourArrayData.get(i));\r\n       }\r\n\r\n    add your newArrayList to adapter","title":"How to sort the Recyclerview from last ID to first ID?","body":"<p>You can order your data in the server side (php) by DESC order by id</p>\n\n<pre><code>$sql= \"Select * from movies_table where id between ($id+1) and ($id+10) ORDER BY 'id' DESC\";\n</code></pre>\n\n<p>or You Can reorder the array you get from the server:</p>\n\n<pre><code>   for(int i=(YourArrayData.size()-1);i&gt;=0;i--)\n   {\n    newArrayList.add(YourArrayData.get(i));\n   }\n\nadd your newArrayList to adapter\n</code></pre>\n"}],"owner":{"account_id":8267551,"reputation":208,"user_id":6216498,"display_name":"Farshad Asgharzadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634293747,"creation_date":1501316217,"question_id":45387047,"body_markdown":"I&#39;m asking for help on sorting the Recyclerview from the last id to the first id.\r\n\r\nI want to show up in recyclerview, when I add a row in the database.\r\n\r\nHow to display the last row in the database as the first card in the list?\r\n\r\nthis is my php code:\r\n\r\n    &lt;?php \r\n    \t//Creating a connection\r\n    \t$con = mysqli_connect(&quot;--&quot;,&quot;---&quot;,&quot;----&quot;,&quot;-----&quot;);\r\n    \t\r\n    \t\t/* change character set to utf8 */\r\n        $con-&gt;set_charset(&quot;utf8&quot;);\r\n    \t \r\n        if (mysqli_connect_errno())\r\n        {\r\n           echo &quot;Failed to connect to MySQL: &quot; . mysqli_connect_error();\r\n        }\r\n    \t/*Get the id of the last visible item in the RecyclerView from the request and store it in a variable. For            the first request id will be zero.*/\t\r\n    \t$id = $_GET[&quot;id&quot;];\r\n    \t\r\n    \t$sql= &quot;Select * from movies_table where id between ($id+1) and ($id+10)&quot;;\r\n    \t\r\n    \t$result = mysqli_query($con ,$sql);\r\n    \t\r\n    \twhile ($row = mysqli_fetch_assoc($result)) {\r\n    \t\t\r\n    \t\t$array[] = $row;\r\n    \t\t\r\n    \t}\r\n    \theader(&#39;Content-Type: text/html; charset=utf-8&#39;);\r\n    \t\r\n    \techo json_encode($array, JSON_UNESCAPED_UNICODE );\r\n     \r\n        mysqli_free_result($result);\r\n     \r\n        mysqli_close($con);\r\n      \r\n     ?&gt;\r\n\r\n\r\nand this my recyclerview class:\r\n    \r\n    \r\n    public class ThreeFragment extends Fragment{\r\n    \r\n        private static final String TAG = ThreeFragment.class.getSimpleName();\r\n        private List&lt;Movie&gt; movies;\r\n        private RecyclerView recyclerView;\r\n        private GridLayoutManager gridLayout;\r\n        private MoviesAdapter adapter;\r\n        \r\n    \r\n        public ThreeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_three, container, false);\r\n    \r\n            recyclerView = (RecyclerView) view.findViewById(R.id.recyclerview);\r\n            movies = new ArrayList&lt;&gt;();\r\n            getMoviesFromDB(0);\r\n    \r\n            gridLayout = new GridLayoutManager(getActivity(), 2);\r\n            recyclerView.setLayoutManager(gridLayout);\r\n    \r\n            adapter = new MoviesAdapter(getActivity(), movies);\r\n            recyclerView.setAdapter(adapter);\r\n    \r\n            recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @Override\r\n                public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n    \r\n                    if (gridLayout.findLastCompletelyVisibleItemPosition() == movies.size() - 1) {\r\n                        getMoviesFromDB(movies.get(movies.size() - 1).getId());\r\n                    }\r\n    \r\n                }\r\n            });\r\n            return view;\r\n        }\r\n    \r\n    \r\n    \r\n\r\n        private void getMoviesFromDB(int id) {\r\n    \r\n            AsyncTask&lt;Integer, Void, Void&gt; asyncTask = new AsyncTask&lt;Integer, Void, Void&gt;() {\r\n    \r\n    \r\n    \r\n                ProgressDialog pdLoading = new ProgressDialog(getActivity());\r\n    \r\n                @Override\r\n                protected void onPreExecute() {\r\n                    super.onPreExecute();\r\n    \r\n                    //this method will be running on UI thread\r\n                    pdLoading.setMessage(&quot;\\t  ...&quot;);\r\n                    pdLoading.setCancelable(false);\r\n                    pdLoading.show();\r\n    \r\n                }\r\n    \r\n    \r\n                @Override\r\n                protected Void doInBackground(Integer... movieIds) {\r\n    \r\n                    OkHttpClient client = new OkHttpClient();\r\n                    Request request = new Request.Builder()\r\n                            .url(&quot;http://astaneapp.ir/wp-php/movies.php?id=&quot; + movieIds[0])\r\n                            .build();\r\n                    try {\r\n                        Response response = client.newCall(request).execute();\r\n    \r\n                        JSONArray array = new JSONArray(response.body().string());\r\n    \r\n                        for (int i = 0; i &lt; array.length(); i++) {\r\n    \r\n                            JSONObject object = array.getJSONObject(i);\r\n    \r\n                            Movie movie = new Movie(object.getInt(&quot;id&quot;), object.getString(&quot;movie_name&quot;),\r\n                                    object.getString(&quot;movie_image&quot;), object.getString(&quot;movie_genre&quot;) , object.getString(&quot;movie_discription&quot;) , object.getString(&quot;movie_lat&quot;), object.getString(&quot;movie_lon&quot;) , object.getString(&quot;movie_marker&quot;));\r\n    \r\n                            ThreeFragment.this.movies.add(movie);\r\n                        }\r\n    \r\n    \r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                protected void onPostExecute(Void aVoid) {\r\n                    adapter.notifyDataSetChanged();\r\n                    pdLoading.dismiss();\r\n                }\r\n            };\r\n    \r\n            asyncTask.execute(id);\r\n        }\r\n    }\r\n\r\n\r\nDo I need to send the adapter class codes?","title":"How to sort the Recyclerview from last ID to first ID?","body":"<p>I'm asking for help on sorting the Recyclerview from the last id to the first id.</p>\n\n<p>I want to show up in recyclerview, when I add a row in the database.</p>\n\n<p>How to display the last row in the database as the first card in the list?</p>\n\n<p>this is my php code:</p>\n\n<pre><code>&lt;?php \n    //Creating a connection\n    $con = mysqli_connect(\"--\",\"---\",\"----\",\"-----\");\n\n        /* change character set to utf8 */\n    $con-&gt;set_charset(\"utf8\");\n\n    if (mysqli_connect_errno())\n    {\n       echo \"Failed to connect to MySQL: \" . mysqli_connect_error();\n    }\n    /*Get the id of the last visible item in the RecyclerView from the request and store it in a variable. For            the first request id will be zero.*/  \n    $id = $_GET[\"id\"];\n\n    $sql= \"Select * from movies_table where id between ($id+1) and ($id+10)\";\n\n    $result = mysqli_query($con ,$sql);\n\n    while ($row = mysqli_fetch_assoc($result)) {\n\n        $array[] = $row;\n\n    }\n    header('Content-Type: text/html; charset=utf-8');\n\n    echo json_encode($array, JSON_UNESCAPED_UNICODE );\n\n    mysqli_free_result($result);\n\n    mysqli_close($con);\n\n ?&gt;\n</code></pre>\n\n<p>and this my recyclerview class:</p>\n\n<pre><code>public class ThreeFragment extends Fragment{\n\n    private static final String TAG = ThreeFragment.class.getSimpleName();\n    private List&lt;Movie&gt; movies;\n    private RecyclerView recyclerView;\n    private GridLayoutManager gridLayout;\n    private MoviesAdapter adapter;\n\n\n    public ThreeFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_three, container, false);\n\n        recyclerView = (RecyclerView) view.findViewById(R.id.recyclerview);\n        movies = new ArrayList&lt;&gt;();\n        getMoviesFromDB(0);\n\n        gridLayout = new GridLayoutManager(getActivity(), 2);\n        recyclerView.setLayoutManager(gridLayout);\n\n        adapter = new MoviesAdapter(getActivity(), movies);\n        recyclerView.setAdapter(adapter);\n\n        recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n\n                if (gridLayout.findLastCompletelyVisibleItemPosition() == movies.size() - 1) {\n                    getMoviesFromDB(movies.get(movies.size() - 1).getId());\n                }\n\n            }\n        });\n        return view;\n    }\n\n\n\n\n    private void getMoviesFromDB(int id) {\n\n        AsyncTask&lt;Integer, Void, Void&gt; asyncTask = new AsyncTask&lt;Integer, Void, Void&gt;() {\n\n\n\n            ProgressDialog pdLoading = new ProgressDialog(getActivity());\n\n            @Override\n            protected void onPreExecute() {\n                super.onPreExecute();\n\n                //this method will be running on UI thread\n                pdLoading.setMessage(\"\\t  ...\");\n                pdLoading.setCancelable(false);\n                pdLoading.show();\n\n            }\n\n\n            @Override\n            protected Void doInBackground(Integer... movieIds) {\n\n                OkHttpClient client = new OkHttpClient();\n                Request request = new Request.Builder()\n                        .url(\"http://astaneapp.ir/wp-php/movies.php?id=\" + movieIds[0])\n                        .build();\n                try {\n                    Response response = client.newCall(request).execute();\n\n                    JSONArray array = new JSONArray(response.body().string());\n\n                    for (int i = 0; i &lt; array.length(); i++) {\n\n                        JSONObject object = array.getJSONObject(i);\n\n                        Movie movie = new Movie(object.getInt(\"id\"), object.getString(\"movie_name\"),\n                                object.getString(\"movie_image\"), object.getString(\"movie_genre\") , object.getString(\"movie_discription\") , object.getString(\"movie_lat\"), object.getString(\"movie_lon\") , object.getString(\"movie_marker\"));\n\n                        ThreeFragment.this.movies.add(movie);\n                    }\n\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                return null;\n            }\n\n            @Override\n            protected void onPostExecute(Void aVoid) {\n                adapter.notifyDataSetChanged();\n                pdLoading.dismiss();\n            }\n        };\n\n        asyncTask.execute(id);\n    }\n}\n</code></pre>\n\n<p>Do I need to send the adapter class codes?</p>\n"},{"tags":["java","android","http","timeout","retrofit2"],"comments":[{"owner":{"account_id":12467503,"reputation":2464,"user_id":9076865,"display_name":"Amir133"},"score":0,"creation_date":1542222289,"post_id":53306992,"comment_id":93494964,"body_markdown":"Mohmmad hossein for using android studio you need use VPN and nothing.","body":"Mohmmad hossein for using android studio you need use VPN and nothing."},{"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"score":0,"creation_date":1542265650,"post_id":53306992,"comment_id":93508339,"body_markdown":"@amir133 there is no problem with building or installing the application. the problem is runtime, I can&#39;t connect to my server apis","body":"@amir133 there is no problem with building or installing the application. the problem is runtime, I can&#39;t connect to my server apis"}],"owner":{"account_id":7226792,"reputation":318,"user_id":5515075,"display_name":"Mohammad Hossein Kalantarian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3545,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634293326,"creation_date":1542221689,"question_id":53306992,"body_markdown":"I&#39;m using        \r\n\r\n     classpath &#39;com.android.tools.build:gradle:3.2.1&#39;\r\n\r\n     distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.2-all.zip\r\n\r\nand every time I try to connect to my server API it times out.\r\n\r\n&gt; HTTP FAILED: java.net.SocketTimeoutException\r\n\r\nMy server API is perfectly fine and I&#39;ve tested it with Postman &amp; Direct URL. The only way to fix this is to downgrade to 3.0.4 gradle plugin or connect android device to VPN. I&#39;m from IRAN I doubt that if there is any access issues to my servers from my country. I even tried setting long timeouts for my HTTPClient but I still get the same error on every single API. However after 20-30 retries I can finally receive only 1 successful response.\r\n\r\n I&#39;m using Retrofit2.\r\n\r\n I also tried setting this in my manifest but nothing changed\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n\r\nAnyone else struggling with this problem? Anyone have a solution? \r\n\r\n","title":"HTTP FAILED: java.net.SocketTimeoutException: timeout on new Android gradle","body":"<p>I'm using        </p>\n\n<pre><code> classpath 'com.android.tools.build:gradle:3.2.1'\n\n distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.2-all.zip\n</code></pre>\n\n<p>and every time I try to connect to my server API it times out.</p>\n\n<blockquote>\n  <p>HTTP FAILED: java.net.SocketTimeoutException</p>\n</blockquote>\n\n<p>My server API is perfectly fine and I've tested it with Postman &amp; Direct URL. The only way to fix this is to downgrade to 3.0.4 gradle plugin or connect android device to VPN. I'm from IRAN I doubt that if there is any access issues to my servers from my country. I even tried setting long timeouts for my HTTPClient but I still get the same error on every single API. However after 20-30 retries I can finally receive only 1 successful response.</p>\n\n<p>I'm using Retrofit2.</p>\n\n<p>I also tried setting this in my manifest but nothing changed</p>\n\n<pre><code>android:usesCleartextTraffic=\"true\"\n</code></pre>\n\n<p>Anyone else struggling with this problem? Anyone have a solution? </p>\n"},{"tags":["java","sql","spring"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1634292382,"post_id":69583005,"comment_id":122990850,"body_markdown":"By definition, your ID must be unique. If your id is composite, you should define it. Here is an answer which may help you https://stackoverflow.com/a/13033039/4655217","body":"By definition, your ID must be unique. If your id is composite, you should define it. Here is an answer which may help you <a href=\"https://stackoverflow.com/a/13033039/4655217\">stackoverflow.com/a/13033039/4655217</a>"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":1,"creation_date":1634293110,"post_id":69583005,"comment_id":122991118,"body_markdown":"As it goes from [hibernate&#39;s documentation](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers), id should be unique, non-null and immutable. If you&#39;re breaking this, you&#39;re getting undefined behaviour which may differ even from version to version","body":"As it goes from <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers\" rel=\"nofollow noreferrer\">hibernate&#39;s documentation</a>, id should be unique, non-null and immutable. If you&#39;re breaking this, you&#39;re getting undefined behaviour which may differ even from version to version"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634293128,"creation_date":1634291983,"question_id":69583005,"body_markdown":"It appears that Spring Boot is not capable of interpreting ```SELECT``` query results when id is not unique.\r\n\r\nFor example, let us say that there is a table ```t``` in the database which has two columns ```c``` and ```c2```. Table does not have a primary key, so both columns may be duplicated, but it has an unique constraint on combination of ```c``` and ```c2``` columns so that rows can not be duplicated.\r\nHere are sample data for this table:\r\n```\r\nc | c2\r\n______\r\na | a1\r\na | a2\r\na | a3\r\nb | a1\r\n```\r\nWhat I need to achieve in this table is to have one and only one ```b``` in the ```c``` column and zero to many ```a```s.\r\nI defined a Spring&#39;s repository for this table as follows:\r\n```java\r\npackage P;\r\npublic interface tr extends org.springframework.data.repository.PagingAndSortingRepository&lt;P.t, java.lang.String&gt;\r\n{\r\n\tpublic java.util.List&lt;P.t&gt; findAllByc(java.lang.String c);\r\n}\r\n```\r\n\r\nHere I specified that Spring should use a string for an table id. Although I do not use any of repository&#39;s &quot;*ById&quot; methods. This is just something what is required to be specified here whether or not I need it.\r\n\r\nAnd the table is represented in the Java Persistence Application programming interface class ```t``` like this:\r\n```java\r\npackage P;\r\n@javax.persistence.Entity()\r\n@javax.persistence.Table(schema = &quot;s&quot;)\r\npublic class t implements java.io.Serializable\r\n{\r\n\t@javax.persistence.Id()\r\n\tpublic java.lang.String c;\r\n\tpublic java.lang.String c2;\r\n}\r\n```\r\nHere I marked column ```c``` as an id, because it is Spring&#39;s requirement, although, as I said, I do not use &quot;*byId&quot; methods, so, it is not important to me.\r\n\r\nNow, in the repository I defined (or, to be precise, declared) a custom method ```findAllByc``` which, as the name suggests, should be able to find zero to many rows of the table ```t``` where ```c``` column matches the given string.\r\n\r\nUnfortunately, this only works when I try to search for row with unique value in the ```c``` column, for example, ```findAllByc(&quot;b&quot;);```. When the ```c``` column is not unique, this method behaves very strangely. It works, it finds correct number of rows, but, strange thing which it does is that it finds only the first row in the table that matches the given ```c``` value, and then it simply copies that row the number of times of the count of the rows that match given ```c``` value.\r\n\r\nSo, for example, for this sample table, if I execute ```findAllByc(&quot;a&quot;);``` the result will be:\r\n```\r\na|a1\r\na|a1\r\na|a1\r\n```\r\n\r\nSo, as you can see from the sample table which I provided above, ```a1``` value is written only once in the table where ```c``` column is equal to ```a```.\r\nSo what Spring Boot does is that it simply copies the first row that matches into all other rows.\r\n\r\nWhy, on the Earh, Spring would do that??? This is very strange and unexpected behaviour.\r\n\r\nThis only occurs on the column which is marked as table&#39;s id. So, for example, if I declare ```findAllByc2``` method, then everything works as expected, that is, if I call that method and give it, for example, ```a2``` as parameter, it will find only one row, and if I give it ```a1``` as a parameter, it will find both rows, and will not duplicate them, for example:\r\n```\r\na|a1\r\nb|a1\r\n```\r\n\r\nSo, I know that the cause of the problem is that ```c``` is marked as id, and id is supposed to be unique, but that should be true only for &quot;*ById&quot; methods which construct the queries based on the id. I do not use these methods for this table. The method which I use is &quot;Byc&quot; method, which means that it will use ```c``` when constructing queries, and not id. In this case, ```c``` is the same as id, I know. But the difference between ```findById``` and ```findAllByc``` method should be in that that ```findById``` method can assume that id is unique and perform some optimisations, simplifications or whatever it does based on that information, but ```findAllByc``` can not since when searching by some column in the table, you can not assume that that column is unique. Even one more reason why Spring should not assume that that column is unique is because I added &quot;All&quot; to the method name, which indicates to the Spring Boot that I expect this method to return a list which may contain more than one item. So how could Spring assume that ```c``` is unique inside this method when it returnes a list of rows. So if row is unique, then how could there be multiple rows with the same id? It simply does not make any sense to assume this.\r\n\r\nSince I did not implement this method, but merely declared it, and let the Spring implement it, this, I would say, is a bug in the Spring Boot.\r\n\r\n\r\nIn any case, I went to investigate how Spring Boot parses this method name and converts it into query, and it turned out that it does it correctly! Just like one would expect it to parse this method name.\r\nI went on the server log and looked up what query is sent to the server by my program when ```findAllByc(&quot;a&quot;);``` is called and this is the result written in the server log at the time of program execution:\r\n```sql\r\nselect t0_.c as c1_0_, t0_.c2 as c2_0_ from s.t t0_ where t0_.c=$1\t\r\nparameters: $1 = &#39;a&#39;\r\n```\r\nAs you can see, Spring Boot constructed the correct query from the method name, but still managed to mess up the results.\r\n\r\nOf course, if I directly execute this query using plain Java Data Base Connectivity Application Programming Interface (so by bypassing Spring and Hibernate), the returned result is as expected:\r\n```\r\na|a1\r\na|a2\r\na|a3\r\n```\r\n\r\nSo why does Spring Boot messes up results despite that correct query is used, and correct table snippet really is returned from the server? Why does it duplicate rows?\r\n\r\nSure, quick fix is to mark both ```c``` and ```c2``` columns with ```Id``` annotation in my ```t``` class, to explicitely tell Spring that ```c``` can not be assumed to be unique, since it is only part of the id, but, first of all, why would I have to do that. It is clear from the method name what I want, and correct Structured Query Language query is the proof that Spring Boot understood me perfectly well.\r\n\r\nAnd secondly, marking both columns as id would work just fine if both ```a```s and ```b```s can occur zero to many times in the ```c``` column. But, in this case ```a```s can occur zero to many times, but a ```b``` must occur once and only once in the column. So, if I would to mark both ```c``` and ```c2``` as id, I would get that Spring Boot treats a ```b``` in the ```c``` column as being just one of multiple ```b```s. It would allow multiple ```b```s to be inserted into the table.\r\n\r\nFor example, if I mark both columns as being ids, and then try to update ```c2``` value of a ```b``` in ```c``` column by using the ```save``` method, Spring would simply think of this entity as being another entity and would simply add another ```b``` into the table, which should not happen.\r\n\r\nSo, I want entities with ```a``` in the ```c``` column to be inserted into the table when ```save``` method is called and the one with ```b``` in the ```c``` column to be updated when this method is called. Since ```save``` is not splited into ```insert``` and ```update``` methods, I can not tell Spring explicitely whether I want it to perform an update or insert operation. So that is why I can not set both columns as id. I mean ```save``` does not work now as it is because it only updates the first row with ```a``` in the ```c``` column instead of inserting it, but that is another problem. I will override the ```save``` method in ```tr``` repository, so this is not important for this question. Focus in this question is in ```findAllByc``` method.\r\n\r\nSure, the best solution is to add ```id``` column in the ```t``` table and give it some random number to make Spring happy and then move the ```Id``` annotation to that field in ```t``` class, sure, but why would I be required to do so when ```findAllByc``` is recognized correctly and correct query is produced. Spring simply messes up when extracting the data returned from the server. Beside, this only generates useless data in the database table where I simply do not need ids. If I were to add id column, I would never use it. Is it really worh wasting data storage just to make Spring happy?\r\n\r\nIs this a bug?\r\n\r\nCan I fix it on some other way without adding unique id column to the table?","title":"Spring Boot&#39;s CrudRepository&#39;s custom find method not working properly when id is not unique","body":"<p>It appears that Spring Boot is not capable of interpreting <code>SELECT</code> query results when id is not unique.</p>\n<p>For example, let us say that there is a table <code>t</code> in the database which has two columns <code>c</code> and <code>c2</code>. Table does not have a primary key, so both columns may be duplicated, but it has an unique constraint on combination of <code>c</code> and <code>c2</code> columns so that rows can not be duplicated.\nHere are sample data for this table:</p>\n<pre><code>c | c2\n______\na | a1\na | a2\na | a3\nb | a1\n</code></pre>\n<p>What I need to achieve in this table is to have one and only one <code>b</code> in the <code>c</code> column and zero to many <code>a</code>s.\nI defined a Spring's repository for this table as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package P;\npublic interface tr extends org.springframework.data.repository.PagingAndSortingRepository&lt;P.t, java.lang.String&gt;\n{\n    public java.util.List&lt;P.t&gt; findAllByc(java.lang.String c);\n}\n</code></pre>\n<p>Here I specified that Spring should use a string for an table id. Although I do not use any of repository's &quot;*ById&quot; methods. This is just something what is required to be specified here whether or not I need it.</p>\n<p>And the table is represented in the Java Persistence Application programming interface class <code>t</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package P;\n@javax.persistence.Entity()\n@javax.persistence.Table(schema = &quot;s&quot;)\npublic class t implements java.io.Serializable\n{\n    @javax.persistence.Id()\n    public java.lang.String c;\n    public java.lang.String c2;\n}\n</code></pre>\n<p>Here I marked column <code>c</code> as an id, because it is Spring's requirement, although, as I said, I do not use &quot;*byId&quot; methods, so, it is not important to me.</p>\n<p>Now, in the repository I defined (or, to be precise, declared) a custom method <code>findAllByc</code> which, as the name suggests, should be able to find zero to many rows of the table <code>t</code> where <code>c</code> column matches the given string.</p>\n<p>Unfortunately, this only works when I try to search for row with unique value in the <code>c</code> column, for example, <code>findAllByc(&quot;b&quot;);</code>. When the <code>c</code> column is not unique, this method behaves very strangely. It works, it finds correct number of rows, but, strange thing which it does is that it finds only the first row in the table that matches the given <code>c</code> value, and then it simply copies that row the number of times of the count of the rows that match given <code>c</code> value.</p>\n<p>So, for example, for this sample table, if I execute <code>findAllByc(&quot;a&quot;);</code> the result will be:</p>\n<pre><code>a|a1\na|a1\na|a1\n</code></pre>\n<p>So, as you can see from the sample table which I provided above, <code>a1</code> value is written only once in the table where <code>c</code> column is equal to <code>a</code>.\nSo what Spring Boot does is that it simply copies the first row that matches into all other rows.</p>\n<p>Why, on the Earh, Spring would do that??? This is very strange and unexpected behaviour.</p>\n<p>This only occurs on the column which is marked as table's id. So, for example, if I declare <code>findAllByc2</code> method, then everything works as expected, that is, if I call that method and give it, for example, <code>a2</code> as parameter, it will find only one row, and if I give it <code>a1</code> as a parameter, it will find both rows, and will not duplicate them, for example:</p>\n<pre><code>a|a1\nb|a1\n</code></pre>\n<p>So, I know that the cause of the problem is that <code>c</code> is marked as id, and id is supposed to be unique, but that should be true only for &quot;*ById&quot; methods which construct the queries based on the id. I do not use these methods for this table. The method which I use is &quot;Byc&quot; method, which means that it will use <code>c</code> when constructing queries, and not id. In this case, <code>c</code> is the same as id, I know. But the difference between <code>findById</code> and <code>findAllByc</code> method should be in that that <code>findById</code> method can assume that id is unique and perform some optimisations, simplifications or whatever it does based on that information, but <code>findAllByc</code> can not since when searching by some column in the table, you can not assume that that column is unique. Even one more reason why Spring should not assume that that column is unique is because I added &quot;All&quot; to the method name, which indicates to the Spring Boot that I expect this method to return a list which may contain more than one item. So how could Spring assume that <code>c</code> is unique inside this method when it returnes a list of rows. So if row is unique, then how could there be multiple rows with the same id? It simply does not make any sense to assume this.</p>\n<p>Since I did not implement this method, but merely declared it, and let the Spring implement it, this, I would say, is a bug in the Spring Boot.</p>\n<p>In any case, I went to investigate how Spring Boot parses this method name and converts it into query, and it turned out that it does it correctly! Just like one would expect it to parse this method name.\nI went on the server log and looked up what query is sent to the server by my program when <code>findAllByc(&quot;a&quot;);</code> is called and this is the result written in the server log at the time of program execution:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select t0_.c as c1_0_, t0_.c2 as c2_0_ from s.t t0_ where t0_.c=$1  \nparameters: $1 = 'a'\n</code></pre>\n<p>As you can see, Spring Boot constructed the correct query from the method name, but still managed to mess up the results.</p>\n<p>Of course, if I directly execute this query using plain Java Data Base Connectivity Application Programming Interface (so by bypassing Spring and Hibernate), the returned result is as expected:</p>\n<pre><code>a|a1\na|a2\na|a3\n</code></pre>\n<p>So why does Spring Boot messes up results despite that correct query is used, and correct table snippet really is returned from the server? Why does it duplicate rows?</p>\n<p>Sure, quick fix is to mark both <code>c</code> and <code>c2</code> columns with <code>Id</code> annotation in my <code>t</code> class, to explicitely tell Spring that <code>c</code> can not be assumed to be unique, since it is only part of the id, but, first of all, why would I have to do that. It is clear from the method name what I want, and correct Structured Query Language query is the proof that Spring Boot understood me perfectly well.</p>\n<p>And secondly, marking both columns as id would work just fine if both <code>a</code>s and <code>b</code>s can occur zero to many times in the <code>c</code> column. But, in this case <code>a</code>s can occur zero to many times, but a <code>b</code> must occur once and only once in the column. So, if I would to mark both <code>c</code> and <code>c2</code> as id, I would get that Spring Boot treats a <code>b</code> in the <code>c</code> column as being just one of multiple <code>b</code>s. It would allow multiple <code>b</code>s to be inserted into the table.</p>\n<p>For example, if I mark both columns as being ids, and then try to update <code>c2</code> value of a <code>b</code> in <code>c</code> column by using the <code>save</code> method, Spring would simply think of this entity as being another entity and would simply add another <code>b</code> into the table, which should not happen.</p>\n<p>So, I want entities with <code>a</code> in the <code>c</code> column to be inserted into the table when <code>save</code> method is called and the one with <code>b</code> in the <code>c</code> column to be updated when this method is called. Since <code>save</code> is not splited into <code>insert</code> and <code>update</code> methods, I can not tell Spring explicitely whether I want it to perform an update or insert operation. So that is why I can not set both columns as id. I mean <code>save</code> does not work now as it is because it only updates the first row with <code>a</code> in the <code>c</code> column instead of inserting it, but that is another problem. I will override the <code>save</code> method in <code>tr</code> repository, so this is not important for this question. Focus in this question is in <code>findAllByc</code> method.</p>\n<p>Sure, the best solution is to add <code>id</code> column in the <code>t</code> table and give it some random number to make Spring happy and then move the <code>Id</code> annotation to that field in <code>t</code> class, sure, but why would I be required to do so when <code>findAllByc</code> is recognized correctly and correct query is produced. Spring simply messes up when extracting the data returned from the server. Beside, this only generates useless data in the database table where I simply do not need ids. If I were to add id column, I would never use it. Is it really worh wasting data storage just to make Spring happy?</p>\n<p>Is this a bug?</p>\n<p>Can I fix it on some other way without adding unique id column to the table?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"score":5,"creation_date":1634223866,"post_id":69572999,"comment_id":122972791,"body_markdown":"You cannot have two `main` functions in the same file","body":"You cannot have two <code>main</code> functions in the same file"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1634223959,"post_id":69572999,"comment_id":122972847,"body_markdown":"Plus, you are missing a closing `}` on the 2nd `main()`.","body":"Plus, you are missing a closing <code>}</code> on the 2nd <code>main()</code>."},{"owner":{"account_id":16038372,"reputation":79,"user_id":11575444,"display_name":"Quazan"},"score":2,"creation_date":1634224076,"post_id":69572999,"comment_id":122972903,"body_markdown":"You can&#39;t have two methods with the same name and parameters. Declare artists list in the same method (rather than in another method) that song is. Then you can use song.addAll(artists) to add all elements of artists to song list.","body":"You can&#39;t have two methods with the same name and parameters. Declare artists list in the same method (rather than in another method) that song is. Then you can use song.addAll(artists) to add all elements of artists to song list."},{"owner":{"account_id":23032051,"reputation":1,"user_id":17151374,"display_name":"StrongestAvenger"},"score":0,"creation_date":1634275190,"post_id":69572999,"comment_id":122985822,"body_markdown":"got the second linked list now thanks. is song.addAll(artists) another moethod or i will just put in with the same method?","body":"got the second linked list now thanks. is song.addAll(artists) another moethod or i will just put in with the same method?"}],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634292877,"creation_date":1634231441,"answer_id":69574742,"question_id":69572999,"body_markdown":"Okey, as one comment has pointed out, no program can have 2 main methods. You cannot create another one. \r\nI suggest to integrate the code from your second into your first. You can safely just add the contents together. \r\n\r\nThe task is to merge the lists. Do you need any more help with that?\r\n\r\nAssuming the task says you know the size of the list you can just create a new list and use the same method you used above to add them to the list. If you do not, you will need to use a loop. It would look like this:\r\n\r\n```\r\nLinkedList&lt;String&gt;artistsAndSongs = new LinkedList&lt;&gt;();\r\n\r\n        if (artists.size() == songs.size()) {\r\n            for (int i = 0; i &lt; artists.size(); i++) {\r\n                artistsAndSongs.add(artists.get(i));\r\n                artistsAndSongs.add(songs.get(i));\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Not every artist is matched with a song!&quot;);\r\n        }\r\n```\r\nBut you should read up on how linked lists work exactly in the documentation. This will not only improve your understanding of the class but also teach you how to quickly find solutions to your problem. \r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html","title":"How to add another linked list objects","body":"<p>Okey, as one comment has pointed out, no program can have 2 main methods. You cannot create another one.\nI suggest to integrate the code from your second into your first. You can safely just add the contents together.</p>\n<p>The task is to merge the lists. Do you need any more help with that?</p>\n<p>Assuming the task says you know the size of the list you can just create a new list and use the same method you used above to add them to the list. If you do not, you will need to use a loop. It would look like this:</p>\n<pre><code>LinkedList&lt;String&gt;artistsAndSongs = new LinkedList&lt;&gt;();\n\n        if (artists.size() == songs.size()) {\n            for (int i = 0; i &lt; artists.size(); i++) {\n                artistsAndSongs.add(artists.get(i));\n                artistsAndSongs.add(songs.get(i));\n            }\n        } else {\n            System.out.println(&quot;Not every artist is matched with a song!&quot;);\n        }\n</code></pre>\n<p>But you should read up on how linked lists work exactly in the documentation. This will not only improve your understanding of the class but also teach you how to quickly find solutions to your problem.\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html</a></p>\n"}],"owner":{"account_id":23032051,"reputation":1,"user_id":17151374,"display_name":"StrongestAvenger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634292877,"creation_date":1634223699,"question_id":69572999,"body_markdown":"I a homework where I need to merge two linkedlist, &quot;songs&quot; list and &quot;artists&quot; linked list, it works on the first list the &quot;song&quot; list, but whenever i add another list it just wont work\r\n[as you can see  here the public static void now has errors][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MNmTa.png\r\n\r\n\r\n``` \r\npackage mergedlinkedlist;\r\n\r\nimport java.util.LinkedList;\r\n\r\npublic class Mergedlinkedlist {\r\n\r\n    public static void main(String[] args) {\r\n       LinkedList&lt;String&gt;song = new LinkedList&lt;&gt;();\r\n           song.add(&quot;imagine&quot;);\r\n           song.add(&quot;bohemian rhapsody&quot;);\r\n           song.add(&quot;highway to hell&quot;);\r\n           \r\n           System.out.println(song);\r\n    }\r\n    public static void main(String[] args) {\r\n       LinkedList&lt;String&gt;artists = new LinkedList&lt;&gt;();\r\n           artists.add(&quot;john lennon&quot;);\r\n           artists.add(&quot;queen&quot;);\r\n           artists.add(&quot;ACDC&quot;);\r\n           \r\n           System.out.println(artists);\r\n}\r\n```","title":"How to add another linked list objects","body":"<p>I a homework where I need to merge two linkedlist, &quot;songs&quot; list and &quot;artists&quot; linked list, it works on the first list the &quot;song&quot; list, but whenever i add another list it just wont work\n<a href=\"https://i.stack.imgur.com/MNmTa.png\" rel=\"nofollow noreferrer\">as you can see  here the public static void now has errors</a></p>\n<pre><code>package mergedlinkedlist;\n\nimport java.util.LinkedList;\n\npublic class Mergedlinkedlist {\n\n    public static void main(String[] args) {\n       LinkedList&lt;String&gt;song = new LinkedList&lt;&gt;();\n           song.add(&quot;imagine&quot;);\n           song.add(&quot;bohemian rhapsody&quot;);\n           song.add(&quot;highway to hell&quot;);\n           \n           System.out.println(song);\n    }\n    public static void main(String[] args) {\n       LinkedList&lt;String&gt;artists = new LinkedList&lt;&gt;();\n           artists.add(&quot;john lennon&quot;);\n           artists.add(&quot;queen&quot;);\n           artists.add(&quot;ACDC&quot;);\n           \n           System.out.println(artists);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14553652,"reputation":47,"user_id":10511794,"display_name":"Stefan Hoffmeister"},"score":0,"creation_date":1634279640,"post_id":69580732,"comment_id":122986626,"body_markdown":"For the record - this is really about *just* converting a plain integer value to String.\n\nIf this was in a broader context, going through formatters would clearly be better, and, as far as I can tell, this is also understood.","body":"For the record - this is really about <i>just</i> converting a plain integer value to String.  If this was in a broader context, going through formatters would clearly be better, and, as far as I can tell, this is also understood."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1634281469,"post_id":69580732,"comment_id":122987111,"body_markdown":"Who says it&#39;s &quot;not the way that it&#39;s done&quot;?","body":"Who says it&#39;s &quot;not the way that it&#39;s done&quot;?"},{"owner":{"account_id":14553652,"reputation":47,"user_id":10511794,"display_name":"Stefan Hoffmeister"},"score":0,"creation_date":1634282154,"post_id":69580732,"comment_id":122987284,"body_markdown":"The *crudest* and most technical argument is: `&quot;&quot; + myInt` results in demonstrably suboptimal code generation for the JVM (and JIT will not be able to repair that)\n\n&quot;not the way that it&#39;s done&quot;- to be honest, I have never seen it done in code that I deem of high quality, presumably because of the technical argument, see above.","body":"The <i>crudest</i> and most technical argument is: <code>&quot;&quot; + myInt</code> results in demonstrably suboptimal code generation for the JVM (and JIT will not be able to repair that)  &quot;not the way that it&#39;s done&quot;- to be honest, I have never seen it done in code that I deem of high quality, presumably because of the technical argument, see above."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1634286544,"post_id":69580732,"comment_id":122988708,"body_markdown":"&quot;results in demonstrably suboptimal code generation for the JVM&quot; please demonstrate that. It results in _different_ code generation, for sure; it&#39;s the assertion that it&#39;s practically less good that I&#39;m questioning.","body":"&quot;results in demonstrably suboptimal code generation for the JVM&quot; please demonstrate that. It results in <i>different</i> code generation, for sure; it&#39;s the assertion that it&#39;s practically less good that I&#39;m questioning."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1634293397,"post_id":69580732,"comment_id":122991242,"body_markdown":"Whilst you are asking about converting 1 int to a string, consider how your rule should extend to, say, `&quot;&quot; + a + b`: would you write that as `String.valueOf(a) + String.valueOf(b)` (verbose); `String.valueOf(a) + b` (inconsistent); `a + &quot;&quot; + b` (more clear that it&#39;s string concatenation, but a bit odd that would be allowed, but not the tokens in a different order); `String.format(&quot;%d%d&quot;, a, b)` (slow, because of having to parse the format string each time).","body":"Whilst you are asking about converting 1 int to a string, consider how your rule should extend to, say, <code>&quot;&quot; + a + b</code>: would you write that as <code>String.valueOf(a) + String.valueOf(b)</code> (verbose); <code>String.valueOf(a) + b</code> (inconsistent); <code>a + &quot;&quot; + b</code> (more clear that it&#39;s string concatenation, but a bit odd that would be allowed, but not the tokens in a different order); <code>String.format(&quot;%d%d&quot;, a, b)</code> (slow, because of having to parse the format string each time)."}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634279936,"creation_date":1634279936,"answer_id":69580789,"question_id":69580732,"body_markdown":"In it current form, it is OK, but add a little change\r\n\r\n\t\tint myInt = 1;\r\n\t\tint myInt2 = 2;\r\n\t\tString s = &quot;&quot; + myInt + myInt2;\r\n\r\n\t\tSystem.out.println(s);\r\n\r\nvs. \r\n\r\n\t\tSystem.out.println(String.format(&quot;%d&quot;, myInt + myInt2));\r\n\r\n**is this what you are asking**\r\n","title":"Java: String s = &quot;&quot; + myInteger; - how to mentor away from that pattern?","body":"<p>In it current form, it is OK, but add a little change</p>\n<pre><code>    int myInt = 1;\n    int myInt2 = 2;\n    String s = &quot;&quot; + myInt + myInt2;\n\n    System.out.println(s);\n</code></pre>\n<p>vs.</p>\n<pre><code>    System.out.println(String.format(&quot;%d&quot;, myInt + myInt2));\n</code></pre>\n<p><strong>is this what you are asking</strong></p>\n"},{"tags":[],"owner":{"account_id":22360611,"reputation":31,"user_id":16577205,"display_name":"hardyx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634291177,"creation_date":1634286288,"answer_id":69581836,"question_id":69580732,"body_markdown":"You may use the form, according to the context. In my experience, I use `String.valueOf()` and `Integer.toString()`. I think the implementation is similar, but I like the second one. Using `String.format`, it&#39;s a bit slow because you must parse the expression.\r\n\r\n    int myInt = 1;\r\n    ...\r\n    String s1 = String.format(&quot;%d&quot;, myInt);\r\n    String s2 = String.valueOf(myInt);\r\n    String s3 = Integer.toString(myInt);  // I use this\r\n\r\n","title":"Java: String s = &quot;&quot; + myInteger; - how to mentor away from that pattern?","body":"<p>You may use the form, according to the context. In my experience, I use <code>String.valueOf()</code> and <code>Integer.toString()</code>. I think the implementation is similar, but I like the second one. Using <code>String.format</code>, it's a bit slow because you must parse the expression.</p>\n<pre><code>int myInt = 1;\n...\nString s1 = String.format(&quot;%d&quot;, myInt);\nString s2 = String.valueOf(myInt);\nString s3 = Integer.toString(myInt);  // I use this\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634288540,"creation_date":1634288205,"answer_id":69582243,"question_id":69580732,"body_markdown":"Yould show the evaluation happening.\r\n\r\n    String s = String.valueOf(myInt);      // 1\r\n\r\n    String s = &quot;&quot; + myInt;                 // 1\r\n    String s = &quot;&quot; + String.valueOf(myInt); // 2\r\n    String s = result of plus;             // 3\r\n\r\n- `&quot;&quot; + int` is an extra artifact.\r\n- One would also not write `0.0 + n` instead of `(double) n`to convert int `n` to a double.\r\n- The compiler is allowed to generate dumb java byte code:\r\n\r\n        public class IntToString {\r\n            public String intToStringConverting(int n) {\r\n                return String.valueOf(n);\r\n            }\r\n            public String intToStringWithPlus(int n) {\r\n                return &quot;&quot; + n;\r\n            }\r\n        }\r\n\r\n  **javap -c IntToString.class**\r\n\r\n      public java.lang.String intToStringConverting(int);\r\n        Code:\r\n           0: iload_1\r\n           1: invokestatic  #7 // Method java/lang/String.valueOf:(I)Ljava/lang/String;\r\n           4: areturn\r\n\r\n      public java.lang.String intToStringWithPlus(int);\r\n        Code:\r\n           0: iload_1\r\n           1: invokedynamic #13,  0 // InvokeDynamic #0:makeConcatWithConstants:(I)Ljava/lang/String;\r\n           6: areturn\r\n\r\n\r\nAs one sees extra code, first calling `makeConcatWithConstants`.","title":"Java: String s = &quot;&quot; + myInteger; - how to mentor away from that pattern?","body":"<p>Yould show the evaluation happening.</p>\n<pre><code>String s = String.valueOf(myInt);      // 1\n\nString s = &quot;&quot; + myInt;                 // 1\nString s = &quot;&quot; + String.valueOf(myInt); // 2\nString s = result of plus;             // 3\n</code></pre>\n<ul>\n<li><p><code>&quot;&quot; + int</code> is an extra artifact.</p>\n</li>\n<li><p>One would also not write <code>0.0 + n</code> instead of <code>(double) n</code>to convert int <code>n</code> to a double.</p>\n</li>\n<li><p>The compiler is allowed to generate dumb java byte code:</p>\n<pre><code>  public class IntToString {\n      public String intToStringConverting(int n) {\n          return String.valueOf(n);\n      }\n      public String intToStringWithPlus(int n) {\n          return &quot;&quot; + n;\n      }\n  }\n</code></pre>\n<p><strong>javap -c IntToString.class</strong></p>\n<pre><code>public java.lang.String intToStringConverting(int);\n  Code:\n     0: iload_1\n     1: invokestatic  #7 // Method java/lang/String.valueOf:(I)Ljava/lang/String;\n     4: areturn\n\npublic java.lang.String intToStringWithPlus(int);\n  Code:\n     0: iload_1\n     1: invokedynamic #13,  0 // InvokeDynamic #0:makeConcatWithConstants:(I)Ljava/lang/String;\n     6: areturn\n</code></pre>\n</li>\n</ul>\n<p>As one sees extra code, first calling <code>makeConcatWithConstants</code>.</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634292567,"creation_date":1634292567,"answer_id":69583126,"question_id":69580732,"body_markdown":"In matters of style (and this is a matter of style; *run a micro-benchmark to prove and quantify run-time performance differences*) I would follow these rules:\r\n\r\n1. if your project has a style guide that recommends one particular choice, follow the style guide\r\n2. if it has existing code that consistently follows one choice, follow that choice\r\n3. if neither applies, make a choice and stick to it\r\n\r\nThe source for the JDK is freely available. In Java 8, I count 276 files with one or more occurrences of `&quot;&quot; +` (and in the ones that I looked at, numbers often followed). Of course, there are &gt;3k files with calls to `.toString`, and I have not looked at `.valueOf` at all, so this is hardly conclusive. **Therefore, use of `&quot;&quot; + ` number-to-string conversion does not appear to be uncommon or frowned upon in well-written Java code.**\r\n\r\nNot that good Java developers would concatenate strings inside loops; a frequent use seems to be generating error messages for exceptions. \r\n\r\n[Oracle&#39;s][1] ancient Java style guide, and the more recent ones by [Google][2] and [Spring][3] do not appear to have a say on the matter. Therefore, I feel that there is no right answer, and if coding together on a project, and you care enough about this, you should apply Rule 3: iron out a compromise, document it in your project&#39;s style guide, and stick to it.\r\n\r\nOn a personal note, I find `&quot;&quot; + o` easier to read than many of the alternatives, as syntactic sugar for a call to `toString()` that works regardless of the type of `o` (and even when `o` is null).\r\n\r\n---\r\n\r\nI actually tried this out using [caliper][4] on JDK 11, **and [results][5] show minimal run-time difference, and no memory or object-count difference**, when performing 1k int-to-string conversions by these 3 methods:\r\n\r\n~~~\r\n t (ms)   method\r\n\r\n 12,30    &quot;&quot; + j\r\n 12,57    Integer.toString(j)\r\n 12.58    String.valueOf(j)\r\n~~~\r\n\r\nCode to reproduce:\r\n\r\n~~~\r\npackage org.example;\r\n\r\nimport com.google.caliper.BeforeExperiment;\r\nimport com.google.caliper.Benchmark;\r\nimport com.google.caliper.Param;\r\nimport com.google.caliper.runner.CaliperMain;\r\n\r\npublic class Main {\r\n\r\n    @Param({&quot;10&quot;, &quot;100&quot;, &quot;1000&quot;})\r\n    int size;\r\n\r\n    private String[] output;\r\n\r\n    @BeforeExperiment\r\n    void setUp() {\r\n        output = new String[size];\r\n    }\r\n\r\n    @Benchmark void quote(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = &quot;&quot; + j;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark void toString(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = Integer.toString(j);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark void valueOf(int reps) {\r\n        for (int i = 0; i &lt; reps; i++) {\r\n            for (int j = 0; j &lt; size; j++) {\r\n                output[j] = String.valueOf(j);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CaliperMain.main(Main.class, args);\r\n    }\r\n}\r\n~~~\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\r\n  [2]: https://google.github.io/styleguide/javaguide.html\r\n  [3]: https://github.com/spring-projects/spring-framework/wiki/Code-Style\r\n  [4]: https://github.com/google/caliper\r\n  [5]: https://microbenchmarks.appspot.com/runs/3b7fc90c-4684-4784-9bab-56b204746c0e","title":"Java: String s = &quot;&quot; + myInteger; - how to mentor away from that pattern?","body":"<p>In matters of style (and this is a matter of style; <em>run a micro-benchmark to prove and quantify run-time performance differences</em>) I would follow these rules:</p>\n<ol>\n<li>if your project has a style guide that recommends one particular choice, follow the style guide</li>\n<li>if it has existing code that consistently follows one choice, follow that choice</li>\n<li>if neither applies, make a choice and stick to it</li>\n</ol>\n<p>The source for the JDK is freely available. In Java 8, I count 276 files with one or more occurrences of <code>&quot;&quot; +</code> (and in the ones that I looked at, numbers often followed). Of course, there are &gt;3k files with calls to <code>.toString</code>, and I have not looked at <code>.valueOf</code> at all, so this is hardly conclusive. <strong>Therefore, use of <code>&quot;&quot; + </code> number-to-string conversion does not appear to be uncommon or frowned upon in well-written Java code.</strong></p>\n<p>Not that good Java developers would concatenate strings inside loops; a frequent use seems to be generating error messages for exceptions.</p>\n<p><a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">Oracle's</a> ancient Java style guide, and the more recent ones by <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow noreferrer\">Google</a> and <a href=\"https://github.com/spring-projects/spring-framework/wiki/Code-Style\" rel=\"nofollow noreferrer\">Spring</a> do not appear to have a say on the matter. Therefore, I feel that there is no right answer, and if coding together on a project, and you care enough about this, you should apply Rule 3: iron out a compromise, document it in your project's style guide, and stick to it.</p>\n<p>On a personal note, I find <code>&quot;&quot; + o</code> easier to read than many of the alternatives, as syntactic sugar for a call to <code>toString()</code> that works regardless of the type of <code>o</code> (and even when <code>o</code> is null).</p>\n<hr />\n<p>I actually tried this out using <a href=\"https://github.com/google/caliper\" rel=\"nofollow noreferrer\">caliper</a> on JDK 11, <strong>and <a href=\"https://microbenchmarks.appspot.com/runs/3b7fc90c-4684-4784-9bab-56b204746c0e\" rel=\"nofollow noreferrer\">results</a> show minimal run-time difference, and no memory or object-count difference</strong>, when performing 1k int-to-string conversions by these 3 methods:</p>\n<pre><code> t (ms)   method\n\n 12,30    &quot;&quot; + j\n 12,57    Integer.toString(j)\n 12.58    String.valueOf(j)\n</code></pre>\n<p>Code to reproduce:</p>\n<pre><code>package org.example;\n\nimport com.google.caliper.BeforeExperiment;\nimport com.google.caliper.Benchmark;\nimport com.google.caliper.Param;\nimport com.google.caliper.runner.CaliperMain;\n\npublic class Main {\n\n    @Param({&quot;10&quot;, &quot;100&quot;, &quot;1000&quot;})\n    int size;\n\n    private String[] output;\n\n    @BeforeExperiment\n    void setUp() {\n        output = new String[size];\n    }\n\n    @Benchmark void quote(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = &quot;&quot; + j;\n            }\n        }\n    }\n\n    @Benchmark void toString(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = Integer.toString(j);\n            }\n        }\n    }\n\n    @Benchmark void valueOf(int reps) {\n        for (int i = 0; i &lt; reps; i++) {\n            for (int j = 0; j &lt; size; j++) {\n                output[j] = String.valueOf(j);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        CaliperMain.main(Main.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14553652,"reputation":47,"user_id":10511794,"display_name":"Stefan Hoffmeister"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1634313362,"answer_count":4,"score":0,"last_activity_date":1634292567,"creation_date":1634279530,"question_id":69580732,"body_markdown":"I am looking for arguments that would allow me to show the light that in Java\r\n\r\n    int myInt = 1;\r\n    ...\r\n    String s = &quot;&quot; + myInt;\r\n\r\nis indeed a perfectly correct and compiling implementation of `String.valueOf(myInt)` but that doing that &quot;*is not the canonical way it&#39;s done in Java*&quot;.\r\n\r\n&quot;*it looks nicer*&quot; is the argument that I am getting, and &quot;*I expect the compiler to deal with that*&quot;.\r\n\r\nI have tried sending a link to https://godbolt.org/ (Compiler Explorer) which shows the generated JVM instructions; arguing about &quot;*canonical ways*&quot; or &quot;*least surprise*&quot; or &quot;*implementation patterns*&quot; or &quot;*maintainability*&quot; will not be effective.\r\n\r\nI am lost - any suggestions?","title":"Java: String s = &quot;&quot; + myInteger; - how to mentor away from that pattern?","body":"<p>I am looking for arguments that would allow me to show the light that in Java</p>\n<pre><code>int myInt = 1;\n...\nString s = &quot;&quot; + myInt;\n</code></pre>\n<p>is indeed a perfectly correct and compiling implementation of <code>String.valueOf(myInt)</code> but that doing that &quot;<em>is not the canonical way it's done in Java</em>&quot;.</p>\n<p>&quot;<em>it looks nicer</em>&quot; is the argument that I am getting, and &quot;<em>I expect the compiler to deal with that</em>&quot;.</p>\n<p>I have tried sending a link to <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">https://godbolt.org/</a> (Compiler Explorer) which shows the generated JVM instructions; arguing about &quot;<em>canonical ways</em>&quot; or &quot;<em>least surprise</em>&quot; or &quot;<em>implementation patterns</em>&quot; or &quot;<em>maintainability</em>&quot; will not be effective.</p>\n<p>I am lost - any suggestions?</p>\n"},{"tags":["java","object","arraylist","java-8"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1634289820,"post_id":69582503,"comment_id":122989896,"body_markdown":"Any object or do you know which object you want to search? From your code it seems to be any object, but just to be sure.","body":"Any object or do you know which object you want to search? From your code it seems to be any object, but just to be sure."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":1,"creation_date":1634289846,"post_id":69582503,"comment_id":122989904,"body_markdown":"Why are you trying to achieve this without using loops and break ?","body":"Why are you trying to achieve this without using loops and break ?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1634289916,"post_id":69582503,"comment_id":122989931,"body_markdown":"You will need to loop through both lists one way or another, but the loops don&#39;t have to be nested though.","body":"You will need to loop through both lists one way or another, but the loops don&#39;t have to be nested though."},{"owner":{"account_id":12995276,"reputation":29,"user_id":9393159,"display_name":"Kapio"},"score":0,"creation_date":1634291309,"post_id":69582503,"comment_id":122990410,"body_markdown":"What i&#39;m asking for is to get the same result using another method like anyMatch, sorry about the wrong tag and no it&#39;s not homework , i&#39;m trying to optimize the code.","body":"What i&#39;m asking for is to get the same result using another method like anyMatch, sorry about the wrong tag and no it&#39;s not homework , i&#39;m trying to optimize the code."},{"owner":{"account_id":12995276,"reputation":29,"user_id":9393159,"display_name":"Kapio"},"score":0,"creation_date":1634291616,"post_id":69582503,"comment_id":122990524,"body_markdown":"@Jo&#227;oDias i&#39;m just checking if the client in list B has the same identitifer as a person in list B","body":"@Jo&#227;oDias i&#39;m just checking if the client in list B has the same identitifer as a person in list B"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":2,"creation_date":1634293345,"post_id":69582503,"comment_id":122991221,"body_markdown":"@MauricePerry you should undelete your answer","body":"@MauricePerry you should undelete your answer"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1634304679,"post_id":69582503,"comment_id":122995192,"body_markdown":"What exactly is the data type of your ID field? I might do some performance testing later.","body":"What exactly is the data type of your ID field? I might do some performance testing later."}],"answers":[{"tags":[],"owner":{"account_id":38105,"reputation":3451,"user_id":109163,"accept_rate":88,"display_name":"LeffeBrune"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634289846,"creation_date":1634289846,"answer_id":69582560,"question_id":69582503,"body_markdown":"You can improve performance by using data structures better suited for fast lookups. If you store clients in a HashMap where the key is the identifier, and the value is the client object then your code becomes:\r\n\r\n```\r\nfor(Person el : persons)\r\n{\r\n    if (clients.containsKey(el.getIdentifier()) {\r\n      exists=true;\r\n    }\r\n}\r\n```\r\nNow you only have one loop, and the cost of looking up in the hashmap is O(1).","title":"Compare two different objects in different lists in Java","body":"<p>You can improve performance by using data structures better suited for fast lookups. If you store clients in a HashMap where the key is the identifier, and the value is the client object then your code becomes:</p>\n<pre><code>for(Person el : persons)\n{\n    if (clients.containsKey(el.getIdentifier()) {\n      exists=true;\n    }\n}\n</code></pre>\n<p>Now you only have one loop, and the cost of looking up in the hashmap is O(1).</p>\n"},{"tags":[],"owner":{"account_id":8698675,"reputation":442,"user_id":6509296,"display_name":"Youri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634289981,"creation_date":1634289981,"answer_id":69582576,"question_id":69582503,"body_markdown":"What about a classical :\r\n\r\n    contains(Object o) //Returns true if this list contains the specified element.\r\n\r\nSo you could just do loop instead :\r\n\r\n    for(Person el : persons)\r\n    {\r\n\r\n            if(clients.contains(el.getIdentifier()))\r\n            {\r\n                exists=true;\r\n                break;\r\n            }        \r\n    }\r\n\r\nBut looking at your code, and depending on what you&#39;re aiming for, you could use:\r\n\r\n    containsAll(Collection c)\r\n           //   Returns true if this list contains all of the elements of the specified collection.","title":"Compare two different objects in different lists in Java","body":"<p>What about a classical :</p>\n<pre><code>contains(Object o) //Returns true if this list contains the specified element.\n</code></pre>\n<p>So you could just do loop instead :</p>\n<pre><code>for(Person el : persons)\n{\n\n        if(clients.contains(el.getIdentifier()))\n        {\n            exists=true;\n            break;\n        }        \n}\n</code></pre>\n<p>But looking at your code, and depending on what you're aiming for, you could use:</p>\n<pre><code>containsAll(Collection c)\n       //   Returns true if this list contains all of the elements of the specified collection.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3703814,"reputation":335,"user_id":3107112,"accept_rate":64,"display_name":"NYoung"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634290493,"creation_date":1634290493,"answer_id":69582684,"question_id":69582503,"body_markdown":"Maybe you can do it like this\r\n\r\n\r\n\r\n    Set&lt;String&gt; identifierSet = new HashSet&lt;&gt;();\r\n    \r\n    for (Person el : persons) {\r\n        identifierSet.add(el.getIdentifier());\r\n    }\r\n    \r\n    for (Client in : clients) {\r\n        if (identifierSet.contains(in.getTire().getIdentifier())) {\r\n            exists = true;\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"Compare two different objects in different lists in Java","body":"<p>Maybe you can do it like this</p>\n<pre><code>Set&lt;String&gt; identifierSet = new HashSet&lt;&gt;();\n\nfor (Person el : persons) {\n    identifierSet.add(el.getIdentifier());\n}\n\nfor (Client in : clients) {\n    if (identifierSet.contains(in.getTire().getIdentifier())) {\n        exists = true;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634290731,"creation_date":1634290731,"answer_id":69582739,"question_id":69582503,"body_markdown":"This will change the complexity of your code from O(NxM) to O(N+M):\r\n\r\n        Set&lt;Integer&gt; personIds = persons.stream()\r\n                .map(e -&gt; e.getIdentifier())\r\n                .collect(Collectors.toCollection(HashSet::new));\r\n\r\n        boolean exists = clients.stream().anyMatch(\r\n                c -&gt; personIds.contains(c.getTire().getIdentifier()));\r\n","title":"Compare two different objects in different lists in Java","body":"<p>This will change the complexity of your code from O(NxM) to O(N+M):</p>\n<pre><code>    Set&lt;Integer&gt; personIds = persons.stream()\n            .map(e -&gt; e.getIdentifier())\n            .collect(Collectors.toCollection(HashSet::new));\n\n    boolean exists = clients.stream().anyMatch(\n            c -&gt; personIds.contains(c.getTire().getIdentifier()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634292202,"creation_date":1634292202,"answer_id":69583049,"question_id":69582503,"body_markdown":"As `anyMatch` is mentioned, the following solution based on Stream API can be offered (assuming the type of identifiers is `String`):\r\n```java\r\n// prepare set of identifiers in clients\r\nSet&lt;String&gt; clientIds = clients\r\n    .stream()                                // Stream&lt;Client&gt;\r\n    .map(in -&gt; in.getTire().getIdentifier()) // Stream&lt;String&gt; client ids\r\n    .collect(Collectors.toSet());\r\n\r\nboolean anyPersonIsClient = persons\r\n   .stream()                    // Stream&lt;Person&gt;\r\n   .map(Person::getIdentifier)  // Stream&lt;String&gt; person identifiers\r\n   .anyMatch(clientIds::contains);\r\n\r\nboolean allPersonsAreClient = persons\r\n   .stream()                    // Stream&lt;Person&gt;\r\n   .map(Person::getIdentifier)  // Stream&lt;String&gt; identifiers\r\n   .allMatch(clientIds::contains);\r\n```","title":"Compare two different objects in different lists in Java","body":"<p>As <code>anyMatch</code> is mentioned, the following solution based on Stream API can be offered (assuming the type of identifiers is <code>String</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// prepare set of identifiers in clients\nSet&lt;String&gt; clientIds = clients\n    .stream()                                // Stream&lt;Client&gt;\n    .map(in -&gt; in.getTire().getIdentifier()) // Stream&lt;String&gt; client ids\n    .collect(Collectors.toSet());\n\nboolean anyPersonIsClient = persons\n   .stream()                    // Stream&lt;Person&gt;\n   .map(Person::getIdentifier)  // Stream&lt;String&gt; person identifiers\n   .anyMatch(clientIds::contains);\n\nboolean allPersonsAreClient = persons\n   .stream()                    // Stream&lt;Person&gt;\n   .map(Person::getIdentifier)  // Stream&lt;String&gt; identifiers\n   .allMatch(clientIds::contains);\n</code></pre>\n"}],"owner":{"account_id":12995276,"reputation":29,"user_id":9393159,"display_name":"Kapio"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69582739,"answer_count":5,"score":1,"last_activity_date":1634292418,"creation_date":1634289551,"question_id":69582503,"body_markdown":"I need to check if an object present in list A exists in list B without using nested for loops because if the lists have a large size, it takes too much time.\r\n\r\nThis is my code :\r\n\r\n\r\n    for(Person el : persons)\r\n    {\r\n        for(Client in : clients)\r\n        {\r\n            if(el.getIdentifier() == in.getTire().getIdentifier())\r\n            {\r\n                exists=true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nHow can i achieve the same result without using loops and break?","title":"Compare two different objects in different lists in Java","body":"<p>I need to check if an object present in list A exists in list B without using nested for loops because if the lists have a large size, it takes too much time.</p>\n<p>This is my code :</p>\n<pre><code>for(Person el : persons)\n{\n    for(Client in : clients)\n    {\n        if(el.getIdentifier() == in.getTire().getIdentifier())\n        {\n            exists=true;\n            break;\n        }\n    }\n}\n</code></pre>\n<p>How can i achieve the same result without using loops and break?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1633689056,"post_id":69494317,"comment_id":122832452,"body_markdown":"Take a look in the log file!","body":"Take a look in the log file!"},{"owner":{"account_id":21030243,"reputation":75,"user_id":15454800,"display_name":"Hesham Eldawy"},"score":0,"creation_date":1633689108,"post_id":69494317,"comment_id":122832467,"body_markdown":"I am sorry, i am still learning, can you explain more","body":"I am sorry, i am still learning, can you explain more"},{"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"score":0,"creation_date":1633692717,"post_id":69494317,"comment_id":122833791,"body_markdown":"Add getters and setters to your Entity class","body":"Add getters and setters to your Entity class"},{"owner":{"account_id":21030243,"reputation":75,"user_id":15454800,"display_name":"Hesham Eldawy"},"score":0,"creation_date":1633721504,"post_id":69494317,"comment_id":122844644,"body_markdown":"I already did that, the error problem is in this part:\n\n        Users user = new Users(registrationDto.getUserName(),passwordEncoder.encode(registrationDto.getPassword()),registrationDto.);","body":"I already did that, the error problem is in this part:          Users user = new Users(registrationDto.getUserName(),passwordEncoder.encode(r&zwnj;&#8203;egistrationDto.getPa&zwnj;&#8203;ssword()),registrati&zwnj;&#8203;onDto.);"}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633775350,"creation_date":1633689715,"answer_id":69494566,"question_id":69494317,"body_markdown":"It seems to be a similar problem:\r\n\r\nhttps://stackoverflow.com/questions/61039575/error-during-execution-of-processor-org-thymeleaf-spring5-processor-springinput","title":"I am trying to reach page and I am receiving 500 error","body":"<p>It seems to be a similar problem:</p>\n<p><a href=\"https://stackoverflow.com/questions/61039575/error-during-execution-of-processor-org-thymeleaf-spring5-processor-springinput\">Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;index&quot; - line 93, col 69)</a></p>\n"}],"owner":{"account_id":21030243,"reputation":75,"user_id":15454800,"display_name":"Hesham Eldawy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634292399,"creation_date":1633688564,"question_id":69494317,"body_markdown":"What I am trying to do is, when I click on create a user from the login page, it should direct me to the registration form, but it doesn&#39;t and I don&#39;t see any mistakes. Can you please help me?\r\n\r\nInside my code I have passed the /registration path in the Spring Security configure class so I can access this request.\r\n\r\nIn the UserRegistrationController, in the GET request, I create the modelAttribute name is &quot;user&quot; and its value is creating an object from UserRegistrationDto and this method showcreateUserForm will return the registration.html\r\n\r\nThen in the POST request, I passed registrationDto object parameter, and then in the implementation I did `userService.save(registrationDto);`\r\n\r\nNote: I tried to see the request without the tag and the page opened so the problem is with the form tags.\r\n\r\nThe problem is in the Save function in the UserServiceImp, especially the passing role parameter.\r\n\r\nMy Users class Entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot; ,uniqueConstraints = @UniqueConstraint(columnNames = &quot;userName&quot;))\r\npublic class Users {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String userName;\r\n    private String password;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;user_id&quot;,referencedColumnName =&quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name =&quot;role_id&quot; ,referencedColumnName =&quot;id&quot;\r\n            )\r\n    )\r\n    private Collection&lt;Roles&gt; roles;\r\n\r\n    public Users(String userName, String password, Collection&lt;Roles&gt; roles) {\r\n        this.userName = userName;\r\n        this.password = password;\r\n        this.roles = roles;\r\n    }\r\n\r\n    public Users()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Collection&lt;Roles&gt; getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(Collection&lt;Roles&gt; roles) {\r\n        this.roles = roles;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Users{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &quot;, roles=&quot; + roles +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nUserRegistrationDto class: this class I will use as a modelAttribute\r\n\r\n```java\r\npublic class UserRegistrationDto {\r\n\r\n    private String userName;\r\n    private String password;\r\n    private Collection&lt;Roles&gt; role;\r\n\r\n    public UserRegistrationDto(String userName, String password, Collection&lt;Roles&gt; role) {\r\n        this.userName = userName;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    public UserRegistrationDto()\r\n    {\r\n        super();\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Collection&lt;Roles&gt; getRole() {\r\n        return role;\r\n    }\r\n\r\n    public void setRole(Collection&lt;Roles&gt; role) {\r\n        this.role = role;\r\n    }\r\n}\r\n```\r\n\r\nMy service layer:\r\n\r\n```java\r\n@Service\r\npublic class UserServiceImp implements UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public UserServiceImp(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public Users findByUsername(String username) {\r\n        return userRepository.findByUserName(username);\r\n    }\r\n\r\n    //save a user from the userRegistration form that been shown in the class model\r\n    public Users save(UserRegistrationDto registrationDto)\r\n    {\r\n        Users user = new Users(registrationDto.getUserName(),passwordEncoder.encode(registrationDto.getPassword()),Arrays.asList(new Roles(&quot;ROLE_USER&quot;)));\r\n\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Users&gt; getAlluser() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public Users getUserById(long id) {\r\n        return userRepository.findById(id).get();\r\n    }\r\n\r\n    @Override\r\n    public void deleteUser(Long id) {\r\n        userRepository.deleteById(id);\r\n    }\r\n\r\n    @Override\r\n    public Users updateUser(Users users) {\r\n        return userRepository.save(users);\r\n    }\r\n\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Users user = userRepository.findByUserName(username);\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n        }\r\n        return new org.springframework.security.core.userdetails.User(user.getUserName(),\r\n                user.getPassword(),\r\n                mapRolesToAuthorities(user.getRoles()));\r\n    }\r\n\r\n    //this method will map the roles\r\n\r\n    //we converting roles to authorities\r\n    private Collection &lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Roles&gt; roles) {\r\n        return roles.stream()\r\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nMy controller layer:\r\n\r\n```java\r\n@Controller\r\npublic class UserRegistrationController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n    \r\n    //Constructor\r\n    public UserRegistrationController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/registration&quot;,method = RequestMethod.POST)\r\n    public String registerUserAccount(@ModelAttribute(&quot;user&quot;) UserRegistrationDto registrationDto) {\r\n        userService.save(registrationDto);\r\n        return &quot;redirect:/showInventory?success&quot;;\r\n    }\r\n}\r\n```\r\n\r\nFull stacktrace\r\n\r\n```none\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/registration.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\r\n\tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\nCaused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;registration&quot; - line 49, col 57)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\t... 89 common frames omitted\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor&#39; (template: &quot;registration&quot; - line 49, col 57)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\r\n\t... 91 common frames omitted\r\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property &#39;roles&#39; of bean class [com.example.warehouseManagementSystem.Model.UserRegistrationDto]: Bean property &#39;roles&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:627) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:617) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\tat org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228) ~[spring-context-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:129) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.10.jar:5.3.10]\r\n\tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\r\n\t... 104 common frames omitted\r\n\r\n2021-10-08 16:09:44.431 ERROR 27772 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/registration.html]&quot;)] with root cause\r\n```\r\n\r\n","title":"I am trying to reach page and I am receiving 500 error","body":"<p>What I am trying to do is, when I click on create a user from the login page, it should direct me to the registration form, but it doesn't and I don't see any mistakes. Can you please help me?</p>\n<p>Inside my code I have passed the /registration path in the Spring Security configure class so I can access this request.</p>\n<p>In the UserRegistrationController, in the GET request, I create the modelAttribute name is &quot;user&quot; and its value is creating an object from UserRegistrationDto and this method showcreateUserForm will return the registration.html</p>\n<p>Then in the POST request, I passed registrationDto object parameter, and then in the implementation I did <code>userService.save(registrationDto);</code></p>\n<p>Note: I tried to see the request without the tag and the page opened so the problem is with the form tags.</p>\n<p>The problem is in the Save function in the UserServiceImp, especially the passing role parameter.</p>\n<p>My Users class Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot; ,uniqueConstraints = @UniqueConstraint(columnNames = &quot;userName&quot;))\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String userName;\n    private String password;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(\n                    name = &quot;user_id&quot;,referencedColumnName =&quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(\n                    name =&quot;role_id&quot; ,referencedColumnName =&quot;id&quot;\n            )\n    )\n    private Collection&lt;Roles&gt; roles;\n\n    public Users(String userName, String password, Collection&lt;Roles&gt; roles) {\n        this.userName = userName;\n        this.password = password;\n        this.roles = roles;\n    }\n\n    public Users()\n    {\n        super();\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Collection&lt;Roles&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Roles&gt; roles) {\n        this.roles = roles;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Users{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, userName='&quot; + userName + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                &quot;, roles=&quot; + roles +\n                '}';\n    }\n}\n</code></pre>\n<p>UserRegistrationDto class: this class I will use as a modelAttribute</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserRegistrationDto {\n\n    private String userName;\n    private String password;\n    private Collection&lt;Roles&gt; role;\n\n    public UserRegistrationDto(String userName, String password, Collection&lt;Roles&gt; role) {\n        this.userName = userName;\n        this.password = password;\n        this.role = role;\n    }\n\n    public UserRegistrationDto()\n    {\n        super();\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Collection&lt;Roles&gt; getRole() {\n        return role;\n    }\n\n    public void setRole(Collection&lt;Roles&gt; role) {\n        this.role = role;\n    }\n}\n</code></pre>\n<p>My service layer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserServiceImp implements UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public UserServiceImp(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Override\n    public Users findByUsername(String username) {\n        return userRepository.findByUserName(username);\n    }\n\n    //save a user from the userRegistration form that been shown in the class model\n    public Users save(UserRegistrationDto registrationDto)\n    {\n        Users user = new Users(registrationDto.getUserName(),passwordEncoder.encode(registrationDto.getPassword()),Arrays.asList(new Roles(&quot;ROLE_USER&quot;)));\n\n        return userRepository.save(user);\n    }\n\n    @Override\n    public List&lt;Users&gt; getAlluser() {\n        return userRepository.findAll();\n    }\n\n    @Override\n    public Users getUserById(long id) {\n        return userRepository.findById(id).get();\n    }\n\n    @Override\n    public void deleteUser(Long id) {\n        userRepository.deleteById(id);\n    }\n\n    @Override\n    public Users updateUser(Users users) {\n        return userRepository.save(users);\n    }\n\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Users user = userRepository.findByUserName(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n        return new org.springframework.security.core.userdetails.User(user.getUserName(),\n                user.getPassword(),\n                mapRolesToAuthorities(user.getRoles()));\n    }\n\n    //this method will map the roles\n\n    //we converting roles to authorities\n    private Collection &lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Roles&gt; roles) {\n        return roles.stream()\n                .map(role -&gt; new SimpleGrantedAuthority(role.getName()))\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>My controller layer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class UserRegistrationController {\n\n    @Autowired\n    private UserService userService;\n    \n    //Constructor\n    public UserRegistrationController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @RequestMapping(value = &quot;/registration&quot;,method = RequestMethod.POST)\n    public String registerUserAccount(@ModelAttribute(&quot;user&quot;) UserRegistrationDto registrationDto) {\n        userService.save(registrationDto);\n        return &quot;redirect:/showInventory?success&quot;;\n    }\n}\n</code></pre>\n<p>Full stacktrace</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/registration.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1400) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.53.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.2.jar:5.5.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.10.jar:5.3.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1726) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.53.jar:9.0.53]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;registration&quot; - line 49, col 57)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    ... 89 common frames omitted\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringInputGeneralFieldTagProcessor' (template: &quot;registration&quot; - line 49, col 57)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleStandaloneElement(ProcessorTemplateHandler.java:918) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleStandaloneElementEnd(TemplateHandlerAdapterMarkupHandler.java:260) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:256) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleStandaloneElementEnd(OutputExpressionInlinePreProcessorHandler.java:169) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleStandaloneElementEnd(InlinedOutputExpressionMarkupHandler.java:104) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.attoparser.HtmlElement.handleStandaloneElementEnd(HtmlElement.java:79) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.HtmlMarkupHandler.handleStandaloneElementEnd(HtmlMarkupHandler.java:241) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.MarkupEventProcessorHandler.handleStandaloneElementEnd(MarkupEventProcessorHandler.java:327) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.ParsingElementMarkupUtil.parseStandaloneElement(ParsingElementMarkupUtil.java:96) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:706) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.5.RELEASE.jar:2.0.5.RELEASE]\n    ... 91 common frames omitted\nCaused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'roles' of bean class [com.example.warehouseManagementSystem.Model.UserRegistrationDto]: Bean property 'roles' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:627) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.AbstractNestablePropertyAccessor.getPropertyValue(AbstractNestablePropertyAccessor.java:617) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.validation.AbstractPropertyBindingResult.getActualFieldValue(AbstractPropertyBindingResult.java:104) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.validation.AbstractBindingResult.getFieldValue(AbstractBindingResult.java:228) ~[spring-context-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:129) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903) ~[spring-webmvc-5.3.10.jar:5.3.10]\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.spring5.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:174) ~[thymeleaf-spring5-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.0.12.RELEASE.jar:3.0.12.RELEASE]\n    ... 104 common frames omitted\n\n2021-10-08 16:09:44.431 ERROR 27772 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/registration.html]&quot;)] with root cause\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2402746,"reputation":145,"user_id":2100051,"accept_rate":100,"display_name":"Rakib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634064034,"creation_date":1634063461,"answer_id":69545400,"question_id":69545332,"body_markdown":"Use like `operators.push(new String(new char[]{operator}));`\r\n\r\nThe thing is `char` is a primitive data type where `String` is an object that is composed from a collection of chars. The concept of casting cannot be applied here rather you need to create a new `String` object using the `char`\r\n\r\nThere is also a lot of other different ways to convert a char to a String in the following answer.\r\n\r\nhttps://stackoverflow.com/a/15633542/2100051","title":"How to push a char into a String stack?","body":"<p>Use like <code>operators.push(new String(new char[]{operator}));</code></p>\n<p>The thing is <code>char</code> is a primitive data type where <code>String</code> is an object that is composed from a collection of chars. The concept of casting cannot be applied here rather you need to create a new <code>String</code> object using the <code>char</code></p>\n<p>There is also a lot of other different ways to convert a char to a String in the following answer.</p>\n<p><a href=\"https://stackoverflow.com/a/15633542/2100051\">https://stackoverflow.com/a/15633542/2100051</a></p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634063525,"creation_date":1634063525,"answer_id":69545411,"question_id":69545332,"body_markdown":"You can convert it to `String` using `String.valueOf`.\r\n\r\n```\r\noperators.push(String.valueOf(operator));\r\n```","title":"How to push a char into a String stack?","body":"<p>You can convert it to <code>String</code> using <code>String.valueOf</code>.</p>\n<pre><code>operators.push(String.valueOf(operator));\n</code></pre>\n"}],"owner":{"account_id":17401927,"reputation":159,"user_id":12610649,"display_name":"Paige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69545411,"answer_count":2,"score":2,"last_activity_date":1634292324,"creation_date":1634063113,"question_id":69545332,"body_markdown":"I&#39;m trying to push certain characters into a stack given: \r\n\r\n```java\r\npublic static double infixEvaluator(String line)\r\npublic static final String SPECIAL_CHARACTER = &quot;()+-*/^&quot;;\r\nStack&lt;String&gt; operators = new Stack&lt;String&gt;();\r\n```\r\n\r\nI assumed I would run through the String with a for loop, then use if statements that would check whether the char at the index was a special character or a regular number\r\n\r\n```java\r\nelse if (SPECIAL_CHARACTER.contains(line)) {\r\n\t\tchar operator = line.charAt(i); \r\n\t\toperators.push((String) operator);\r\n}\r\n```\r\nUsing this example: https://stackoverflow.com/questions/14430996/is-there-a-way-to-add-characters-to-a-stack/14431016\r\n\r\nBut I&#39;m getting an error\r\n\r\n&gt; cannot cast from char to string\r\n\r\nI&#39;m confused on why it&#39;s not allowing it to cast it?\r\n\r\n*if more code is needed let me know*","title":"How to push a char into a String stack?","body":"<p>I'm trying to push certain characters into a stack given:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double infixEvaluator(String line)\npublic static final String SPECIAL_CHARACTER = &quot;()+-*/^&quot;;\nStack&lt;String&gt; operators = new Stack&lt;String&gt;();\n</code></pre>\n<p>I assumed I would run through the String with a for loop, then use if statements that would check whether the char at the index was a special character or a regular number</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (SPECIAL_CHARACTER.contains(line)) {\n        char operator = line.charAt(i); \n        operators.push((String) operator);\n}\n</code></pre>\n<p>Using this example: <a href=\"https://stackoverflow.com/questions/14430996/is-there-a-way-to-add-characters-to-a-stack/14431016\">is there a way to add characters to a stack?</a></p>\n<p>But I'm getting an error</p>\n<blockquote>\n<p>cannot cast from char to string</p>\n</blockquote>\n<p>I'm confused on why it's not allowing it to cast it?</p>\n<p><em>if more code is needed let me know</em></p>\n"},{"tags":["java","itext","digital-signature"],"comments":[{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":1,"creation_date":1486544561,"post_id":42108455,"comment_id":71386255,"body_markdown":"When I see my name (I am Lowagie) in your error messages, I know that you&#39;re using a very old version of iText. You are creating signatures that are no longer accepted because the signing technology you are using is deprecated. I&#39;m pretty sure that your customer wants state-of-the-art (PAdES compliant) signatures, which means that you have to upgrade to a more recent version of iText. You care currently using a version that dates from 2009 and digital signatures technology has evolved significantly since that date.","body":"When I see my name (I am Lowagie) in your error messages, I know that you&#39;re using a very old version of iText. You are creating signatures that are no longer accepted because the signing technology you are using is deprecated. I&#39;m pretty sure that your customer wants state-of-the-art (PAdES compliant) signatures, which means that you have to upgrade to a more recent version of iText. You care currently using a version that dates from 2009 and digital signatures technology has evolved significantly since that date."},{"owner":{"account_id":2346827,"reputation":151,"user_id":2056856,"accept_rate":0,"display_name":"Rajasekhar Burepalli"},"score":0,"creation_date":1486546624,"post_id":42108455,"comment_id":71387704,"body_markdown":"Thanks Lowagie for reply, Using jks file how to make signed (verisinged) pdf using latest version","body":"Thanks Lowagie for reply, Using jks file how to make signed (verisinged) pdf using latest version"},{"owner":{"account_id":2346827,"reputation":151,"user_id":2056856,"accept_rate":0,"display_name":"Rajasekhar Burepalli"},"score":0,"creation_date":1486547139,"post_id":42108455,"comment_id":71388115,"body_markdown":"the signature to be visible in last page of page (sap.setVisibleSignature(new Rectangle(532, 50, 532 + 30, 50 + 30), numberPages, null))","body":"the signature to be visible in last page of page (sap.setVisibleSignature(new Rectangle(532, 50, 532 + 30, 50 + 30), numberPages, null))"},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1486547973,"post_id":42108455,"comment_id":71388771,"body_markdown":"Did you read the [eBook](http://pages.itextpdf.com/ebook-digital-signatures-for-pdf.html)? Just register, download it, and read it. You&#39;ll learn how to use a key from a CA. It would really surprise me if you&#39;d sign using a file from Verisign. I would expect that they make you work with a token or an HSM.","body":"Did you read the <a href=\"http://pages.itextpdf.com/ebook-digital-signatures-for-pdf.html\" rel=\"nofollow noreferrer\">eBook</a>? Just register, download it, and read it. You&#39;ll learn how to use a key from a CA. It would really surprise me if you&#39;d sign using a file from Verisign. I would expect that they make you work with a token or an HSM."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1486550740,"post_id":42108455,"comment_id":71390646,"body_markdown":"@BrunoLowagie is right of course: if you have to use iText 2.1.7 (or some 4.2 variation) for some reason, do create the signature container externally in a way to adhere to currently accepted signature schemes and policies, and then inject that externally created signature container into the PDF. And before doing so, learn enough about electronic signature related legislation and standards, cryptography, and PDF to understand what you are doing.","body":"@BrunoLowagie is right of course: if you have to use iText 2.1.7 (or some 4.2 variation) for some reason, do create the signature container externally in a way to adhere to currently accepted signature schemes and policies, and then inject that externally created signature container into the PDF. And before doing so, learn enough about electronic signature related legislation and standards, cryptography, and PDF to understand what you are doing."},{"owner":{"account_id":1779372,"reputation":76344,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1488384953,"post_id":42108455,"comment_id":72209143,"body_markdown":"Read [Are PDF Signatures shattered?](http://itextpdf.com/blog/are-pdf-signatures-shattered) if you want to inform your customer why you should not use versions older than iText 5.4 to digitally sign a document. If you don&#39;t tell your customer, and your customer finds out that you created signatures that are insecure, you might not get paid for your work (or even get sued).","body":"Read <a href=\"http://itextpdf.com/blog/are-pdf-signatures-shattered\" rel=\"nofollow noreferrer\">Are PDF Signatures shattered?</a> if you want to inform your customer why you should not use versions older than iText 5.4 to digitally sign a document. If you don&#39;t tell your customer, and your customer finds out that you created signatures that are insecure, you might not get paid for your work (or even get sued)."}],"owner":{"account_id":2346827,"reputation":151,"user_id":2056856,"accept_rate":0,"display_name":"Rajasekhar Burepalli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1711,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634292256,"creation_date":1486543733,"question_id":42108455,"body_markdown":"Trying to add digital signature(.JKS file) to pdf by using below code. Problem is that when run the code using self signed digital certificate its working fine but when we run the code with signer digital certificate (verisign) its giving NullPointerException.\r\n\r\n        KeyStore ks = null;\r\n        PrivateKey key = null;\r\n        Certificate[] chain = null;\r\n        PdfStamper stp = null;\r\n        PdfReader pdfreader = null;\r\n        PdfSignatureAppearance sap = null;\r\n        int numberPages = 0;\r\n        ks = KeyStore.getInstance(KeyStore.getDefaultType());  \r\n        ks.load(new FileInputStream(jksFile), jksPassword.toCharArray());\r\n        String alias = (String) ks.aliases().nextElement();\r\n        key = (PrivateKey) ks.getKey(alias, jksPassword.toCharArray());\r\n        chain = ks.getCertificateChain(alias);\r\n        pdfreader = new PdfReader(baos.toByteArray());\r\n        numberPages = pdfreader.getNumberOfPages();\r\n        stp = PdfStamper.createSignature(pdfreader, baosWithSign, &#39;\\0&#39;);\r\n       stp.setEncryption(null, null, PdfWriter.AllowPrinting, PdfWriter.STRENGTH128BITS);\r\n        sap = stp.getSignatureAppearance();\r\n        sap.setCrypto(key, chain, null, PdfSignatureAppearance.WINCER_SIGNED);\r\n        sap.setVisibleSignature(new Rectangle(532, 50, 532 + 30, 50 + 30), numberPages, null);\r\n        stp.close();\r\n        baos.close();\r\nException:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at com.lowagie.text.pdf.PdfSignatureAppearance.getAppearance(PdfSignatureAppearance.java:395)\r\n            at com.lowagie.text.pdf.PdfSignatureAppearance.preClose(PdfSignatureAppearance.java:902)\r\n            at com.lowagie.text.pdf.PdfSignatureAppearance.preClose(PdfSignatureAppearance.java:847)\r\n            at com.lowagie.text.pdf.PdfStamper.close(PdfStamper.java:175)\r\n            at testjks.ConvertPDFtoByteArray.convertPDFToDigitalSigatureAndPassword(ConvertPDFtoByteArray.java:99)\r\n            at testjks.ConvertPDFtoByteArray.main(ConvertPDFtoByteArray.java:115)\r\n\r\nEven i tried with below but same error\r\n\r\n    sap.setCrypto(key, chain, null, PdfSignatureAppearance.VERISIGN_SIGNED);\r\n\r\nCan any one help, Why i am getting PrivateKey object and Certificate[] object as null, where as selfsigned digital certificate giving output. Is there any extra code required for signer digital certificate.\r\n","title":"adding signer digital signature to pdf using itext","body":"<p>Trying to add digital signature(.JKS file) to pdf by using below code. Problem is that when run the code using self signed digital certificate its working fine but when we run the code with signer digital certificate (verisign) its giving NullPointerException.</p>\n\n<pre><code>    KeyStore ks = null;\n    PrivateKey key = null;\n    Certificate[] chain = null;\n    PdfStamper stp = null;\n    PdfReader pdfreader = null;\n    PdfSignatureAppearance sap = null;\n    int numberPages = 0;\n    ks = KeyStore.getInstance(KeyStore.getDefaultType());  \n    ks.load(new FileInputStream(jksFile), jksPassword.toCharArray());\n    String alias = (String) ks.aliases().nextElement();\n    key = (PrivateKey) ks.getKey(alias, jksPassword.toCharArray());\n    chain = ks.getCertificateChain(alias);\n    pdfreader = new PdfReader(baos.toByteArray());\n    numberPages = pdfreader.getNumberOfPages();\n    stp = PdfStamper.createSignature(pdfreader, baosWithSign, '\\0');\n   stp.setEncryption(null, null, PdfWriter.AllowPrinting, PdfWriter.STRENGTH128BITS);\n    sap = stp.getSignatureAppearance();\n    sap.setCrypto(key, chain, null, PdfSignatureAppearance.WINCER_SIGNED);\n    sap.setVisibleSignature(new Rectangle(532, 50, 532 + 30, 50 + 30), numberPages, null);\n    stp.close();\n    baos.close();\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n        at com.lowagie.text.pdf.PdfSignatureAppearance.getAppearance(PdfSignatureAppearance.java:395)\n        at com.lowagie.text.pdf.PdfSignatureAppearance.preClose(PdfSignatureAppearance.java:902)\n        at com.lowagie.text.pdf.PdfSignatureAppearance.preClose(PdfSignatureAppearance.java:847)\n        at com.lowagie.text.pdf.PdfStamper.close(PdfStamper.java:175)\n        at testjks.ConvertPDFtoByteArray.convertPDFToDigitalSigatureAndPassword(ConvertPDFtoByteArray.java:99)\n        at testjks.ConvertPDFtoByteArray.main(ConvertPDFtoByteArray.java:115)\n</code></pre>\n\n<p>Even i tried with below but same error</p>\n\n<pre><code>sap.setCrypto(key, chain, null, PdfSignatureAppearance.VERISIGN_SIGNED);\n</code></pre>\n\n<p>Can any one help, Why i am getting PrivateKey object and Certificate[] object as null, where as selfsigned digital certificate giving output. Is there any extra code required for signer digital certificate.</p>\n"},{"tags":["java","android","embedded-resource","proguard"],"answers":[{"tags":[],"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1519273245,"creation_date":1304258140,"answer_id":5848818,"question_id":5848761,"body_markdown":"You should store files in the  appropriate `/res/xml`, `/res/assets`, or `/res/raw` folder and access them through the resource management system or the asset manager correspondingly. You can read more about providing resources in [Android Developer&#39;s Guide][1].\r\n\r\n[1]:http://developer.android.com/guide/topics/resources/providing-resources.html","title":"How can I force Proguard to keep my .xml resource file?","body":"<p>You should store files in the  appropriate <code>/res/xml</code>, <code>/res/assets</code>, or <code>/res/raw</code> folder and access them through the resource management system or the asset manager correspondingly. You can read more about providing resources in <a href=\"http://developer.android.com/guide/topics/resources/providing-resources.html\" rel=\"nofollow noreferrer\">Android Developer's Guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":37436,"reputation":15715,"user_id":107029,"accept_rate":83,"display_name":"Peterdk"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1304409933,"creation_date":1304409933,"answer_id":5866755,"question_id":5848761,"body_markdown":"First of all, It turned out that using ant and my build.xml script didn&#39;t process the .xml resource file at all. You&#39;ll need to manually add a copy action to the build.xml for the resource files to be copied to the output dir.\r\n\r\nStill, having solved that, proguard messed up my work. Solution was:\r\n\r\n     -keeppackagenames the.package.where.the.file.is.kept\r\n\r\nThis made sure that the .xml file could be found by calling the `Library.class.getResource`.","title":"How can I force Proguard to keep my .xml resource file?","body":"<p>First of all, It turned out that using ant and my build.xml script didn't process the .xml resource file at all. You'll need to manually add a copy action to the build.xml for the resource files to be copied to the output dir.</p>\n\n<p>Still, having solved that, proguard messed up my work. Solution was:</p>\n\n<pre><code> -keeppackagenames the.package.where.the.file.is.kept\n</code></pre>\n\n<p>This made sure that the .xml file could be found by calling the <code>Library.class.getResource</code>.</p>\n"},{"tags":[],"owner":{"account_id":331265,"reputation":945,"user_id":655839,"accept_rate":57,"display_name":"Meriam"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1634292187,"creation_date":1528211140,"answer_id":50703322,"question_id":5848761,"body_markdown":"You shoud add a new file keep.xml under res/raw.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:keep=&quot;@layout/l_used*_c,@layout/l_used_a,@layout/l_used_b*&quot;\r\n        tools:discard=&quot;@layout/unused2&quot; /&gt;\r\nIn tools:keep, you list the layouts you want to keep. You can even keep specefic drawables if you use reflection in your code to get your drawable\r\n\r\n    tools:keep=&quot;@drawable/ico_android_home_infosperso&quot;\r\n\r\nI prefer to add `tools:shrinkMode=&quot;strict&quot;` so that I make sure no resource is eliminated unless it is not used for sure. You may want to have a look at this link [Shrink your code][1].\r\nDon&#39;t Forget to add these lines to your proguard rules: \r\n\r\n`-keepattributes InnerClasses\r\n -keep class **.R\r\n -keep class **.R$* {\r\n    &lt;fields&gt;;\r\n}`\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build/shrink-code","title":"How can I force Proguard to keep my .xml resource file?","body":"<p>You shoud add a new file keep.xml under res/raw.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:keep=&quot;@layout/l_used*_c,@layout/l_used_a,@layout/l_used_b*&quot;\n    tools:discard=&quot;@layout/unused2&quot; /&gt;\n</code></pre>\n<p>In tools:keep, you list the layouts you want to keep. You can even keep specefic drawables if you use reflection in your code to get your drawable</p>\n<pre><code>tools:keep=&quot;@drawable/ico_android_home_infosperso&quot;\n</code></pre>\n<p>I prefer to add <code>tools:shrinkMode=&quot;strict&quot;</code> so that I make sure no resource is eliminated unless it is not used for sure. You may want to have a look at this link <a href=\"https://developer.android.com/studio/build/shrink-code\" rel=\"nofollow noreferrer\">Shrink your code</a>.\nDon't Forget to add these lines to your proguard rules:</p>\n<p><code>-keepattributes InnerClasses -keep class **.R -keep class **.R$* { &lt;fields&gt;; }</code></p>\n"}],"owner":{"account_id":37436,"reputation":15715,"user_id":107029,"accept_rate":83,"display_name":"Peterdk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24885,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":5866755,"answer_count":3,"score":18,"last_activity_date":1634292187,"creation_date":1304257533,"question_id":5848761,"body_markdown":"I am succesfully using proguard for my Android apps. \r\n\r\nHowever, with one app I am having trouble.\r\n\r\nThis app uses a java library that has a `.xml` file that is stored in the package.\r\n\r\n    InputStream istream = Library.class.getResourceAsStream(&quot;resource.xml&quot;);\r\n\r\nThis library works great when proguard is disabled. However, running proguard, it seems that the xml file is just completely stripped away.\r\n\r\nRelevant proguard.cfg\r\n\r\n    -optimizationpasses 5\r\n    -dontusemixedcaseclassnames\r\n    -dontskipnonpubliclibraryclasses\r\n    -dontpreverify\r\n    #-dontobfuscate\r\n    #-repackageclasses &#39;&#39; //THIS IS DISABLED\r\n    -keepattributes *Annotation*\r\n    -keepattributes Signature\r\n    -verbose\r\n    -dontwarn roboguice.activity.RoboMapActivity\r\n    -optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\r\n\r\nAny ideas on how to force keep this xml file?\r\n","title":"How can I force Proguard to keep my .xml resource file?","body":"<p>I am succesfully using proguard for my Android apps. </p>\n\n<p>However, with one app I am having trouble.</p>\n\n<p>This app uses a java library that has a <code>.xml</code> file that is stored in the package.</p>\n\n<pre><code>InputStream istream = Library.class.getResourceAsStream(\"resource.xml\");\n</code></pre>\n\n<p>This library works great when proguard is disabled. However, running proguard, it seems that the xml file is just completely stripped away.</p>\n\n<p>Relevant proguard.cfg</p>\n\n<pre><code>-optimizationpasses 5\n-dontusemixedcaseclassnames\n-dontskipnonpubliclibraryclasses\n-dontpreverify\n#-dontobfuscate\n#-repackageclasses '' //THIS IS DISABLED\n-keepattributes *Annotation*\n-keepattributes Signature\n-verbose\n-dontwarn roboguice.activity.RoboMapActivity\n-optimizations !code/simplification/arithmetic,!field/*,!class/merging/*\n</code></pre>\n\n<p>Any ideas on how to force keep this xml file?</p>\n"},{"tags":["java","powershell","xaml"],"comments":[{"owner":{"account_id":13717922,"reputation":58377,"user_id":9898643,"display_name":"Theo"},"score":0,"creation_date":1633704112,"post_id":69484601,"comment_id":122838391,"body_markdown":"_&quot;I want to create a function...&quot;_ Sounds great. Please show us that function when you&#39;re done.","body":"<i>&quot;I want to create a function...&quot;</i> Sounds great. Please show us that function when you&#39;re done."},{"owner":{"account_id":1682640,"reputation":49,"user_id":1546559,"display_name":"user1546559"},"score":1,"creation_date":1634062855,"post_id":69484601,"comment_id":122924143,"body_markdown":"I got it done!! XD","body":"I got it done!! XD"}],"owner":{"account_id":1682640,"reputation":49,"user_id":1546559,"display_name":"user1546559"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634291997,"creation_date":1633623563,"question_id":69484601,"body_markdown":"Similar to Android (I&#39;ve done it before, with adding xml objects with java, in android, if you have any experience, as well) I mention that because I want to do something similar. By adding an XAML object into a XAML form, from PowerShell. I want to create a function, that can be called to dynamically add to the XAML form, programmatically.\r\n\r\n    [xml]xaml=@&quot;\r\n    &lt;Window&gt;\r\n        &lt;Grid&gt;\r\n\r\n            &lt;Grid.ColumnDefinitions&gt;\r\n                &lt;ColumnDefinition Width=&quot;*&quot;&gt;\r\n                &lt;ColumnDefinition Width=&quot;*&quot;&gt;\r\n            &lt;/Grid.ColumnDefinitions&gt;\r\n\r\n            &lt;ToggleSwitch x:Name=&quot;toggleSwitch&quot; Grid.Column=&quot;0&quot;/&gt;\r\n            &lt;Image x:Name=&quot;&lt;Name&gt;&quot; Source=&quot;&lt;Source&gt;&quot; /&gt;\r\n            &lt;Image x:Name=&quot;&lt;Name&gt;&quot; Source=&quot;&lt;Source&gt;&quot; Visibility=&quot;Hidden&quot; /&gt;\r\n        &lt;/Grid&gt;\r\n    &lt;/Window&gt;\r\n    &quot;@\r\n\r\n    $toggleSwitch = $syncHash.Window.FindName(&quot;toggleSwitch&quot;)\r\n    $toggleSwitch.Add_Click({*Change, the, image with a flick of a switch and &quot;refresh&quot; the window*})\r\n\r\nThis is actually another project, 2 combined into 1, but I&#39;m not sure If I actually would need to refresh the window after the change/swap, but my other project, is &quot;Similar&quot;, but instead of an image I want to dynamically/programmatically load a panel with the click of a button, and need it to &quot;refresh&quot; or &quot;repaint&quot; the window.\r\n\r\n    $add.Add_Click({\r\n        function Add-Panel\r\n        {\r\n        [cmdletBinding()]\r\n        Param()\r\n            [xml]$xmlDoc = $xml\r\n            $window = $xmlDoc.SelectSingleNode(&quot;//Window&quot;)\r\n            $grid = $window.Grid \r\n            $grids = $xmlDoc.CreateElement(&quot;Grid&quot;)\r\n            $innerXml = @&quot;\r\n                &lt;Grid Grid.Row=&quot;8&quot;&gt;\r\n                    &lt;Grid.RowDefinitions&gt;\r\n                        &lt;RowDefinition Height=&quot;auto&quot; /&gt;\r\n                    &lt;/Grid.RowDefinitions&gt;\r\n                \r\n                    &lt;Grid.ColumnDefinitions&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                    &lt;/Grid.ColumnDefinitions&gt;\r\n\r\n                    &lt;Label VerticalAlignment=&quot;Center&quot; Content=&quot;Alternate DNS&quot; FontWeight=&quot;Medium&quot; /&gt;\r\n                &lt;/Grid&gt;\r\n\r\n                &lt;Grid Grid.Row=&quot;7&quot;&gt;\r\n                    &lt;Grid.RowDefinitions&gt;\r\n                        &lt;RowDefinition Height=&quot;auto&quot; /&gt;\r\n                    &lt;/Grid.RowDefinitions&gt;\r\n                \r\n                    &lt;Grid.ColumnDefinitions&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                    &lt;/Grid.ColumnDefinitions&gt;\r\n\r\n                    &lt;TextBox x:Name=&quot;dns1&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns2&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;2&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;3&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns3&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;4&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;5&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns4&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;6&quot; MaxLength=&quot;3&quot; /&gt;\r\n                &lt;/Grid&gt;        \r\n    &quot;@\r\n        # } - Not knowing whether end of function goes here or below bottom code\r\n\r\n\r\n            $grids.InnerXml = $innerXml\r\n            $grid.AppendChild($grids)\r\n            # $syncHash.Window.AddChild(@&quot;&quot;@)\r\n\r\n    # Just some ideas I tried from seeing online.\r\n            $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, &quot;Send&quot;)\r\n            $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, &quot;Render&quot;)\r\n        # } - or here..\r\n    })\r\n\r\nI even tried..\r\n\r\n        function Add-Panel\r\n        {\r\n        [cmdletBinding()]\r\n        Param()\r\n            [xml]$xmlDoc = $xml\r\n            $window = $xmlDoc.SelectSingleNode(&quot;//Window&quot;)\r\n            $grid = $window.Grid \r\n            $grids = $xmlDoc.CreateElement(&quot;Grid&quot;)\r\n            $innerXml = @&quot;\r\n                &lt;Grid Grid.Row=&quot;8&quot;&gt;\r\n                    &lt;Grid.RowDefinitions&gt;\r\n                        &lt;RowDefinition Height=&quot;auto&quot; /&gt;\r\n                    &lt;/Grid.RowDefinitions&gt;\r\n                \r\n                    &lt;Grid.ColumnDefinitions&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                    &lt;/Grid.ColumnDefinitions&gt;\r\n\r\n                    &lt;Label VerticalAlignment=&quot;Center&quot; Content=&quot;Alternate DNS&quot; FontWeight=&quot;Medium&quot; /&gt;\r\n                &lt;/Grid&gt;\r\n\r\n                &lt;Grid Grid.Row=&quot;7&quot;&gt;\r\n                    &lt;Grid.RowDefinitions&gt;\r\n                        &lt;RowDefinition Height=&quot;auto&quot; /&gt;\r\n                    &lt;/Grid.RowDefinitions&gt;\r\n                \r\n                    &lt;Grid.ColumnDefinitions&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\r\n                    &lt;/Grid.ColumnDefinitions&gt;\r\n\r\n                    &lt;TextBox x:Name=&quot;dns1&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns2&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;2&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;3&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns3&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;4&quot; MaxLength=&quot;3&quot; /&gt;\r\n                    &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;5&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\r\n                    &lt;TextBox x:Name=&quot;dns4&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;6&quot; MaxLength=&quot;3&quot; /&gt;\r\n                &lt;/Grid&gt;        \r\n    &quot;@\r\n\r\n            $grids.InnerXml = $innerXml\r\n            $grid.AppendChild($grids)\r\n            # $syncHash.Window.AddChild(@&quot;&quot;@)\r\n\r\n    # Just some ideas I tried from seeing online.\r\n            $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, \r\n                &quot;Send&quot;)\r\n            $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, \r\n                &quot;Render&quot;)\r\n    }\r\n\r\n    $add.Add_Click({\r\n        Add-Panel\r\n    })\r\n","title":"xaml button on click adds another xaml panel in powershell","body":"<p>Similar to Android (I've done it before, with adding xml objects with java, in android, if you have any experience, as well) I mention that because I want to do something similar. By adding an XAML object into a XAML form, from PowerShell. I want to create a function, that can be called to dynamically add to the XAML form, programmatically.</p>\n<pre><code>[xml]xaml=@&quot;\n&lt;Window&gt;\n    &lt;Grid&gt;\n\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=&quot;*&quot;&gt;\n            &lt;ColumnDefinition Width=&quot;*&quot;&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n        &lt;ToggleSwitch x:Name=&quot;toggleSwitch&quot; Grid.Column=&quot;0&quot;/&gt;\n        &lt;Image x:Name=&quot;&lt;Name&gt;&quot; Source=&quot;&lt;Source&gt;&quot; /&gt;\n        &lt;Image x:Name=&quot;&lt;Name&gt;&quot; Source=&quot;&lt;Source&gt;&quot; Visibility=&quot;Hidden&quot; /&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n&quot;@\n\n$toggleSwitch = $syncHash.Window.FindName(&quot;toggleSwitch&quot;)\n$toggleSwitch.Add_Click({*Change, the, image with a flick of a switch and &quot;refresh&quot; the window*})\n</code></pre>\n<p>This is actually another project, 2 combined into 1, but I'm not sure If I actually would need to refresh the window after the change/swap, but my other project, is &quot;Similar&quot;, but instead of an image I want to dynamically/programmatically load a panel with the click of a button, and need it to &quot;refresh&quot; or &quot;repaint&quot; the window.</p>\n<pre><code>$add.Add_Click({\n    function Add-Panel\n    {\n    [cmdletBinding()]\n    Param()\n        [xml]$xmlDoc = $xml\n        $window = $xmlDoc.SelectSingleNode(&quot;//Window&quot;)\n        $grid = $window.Grid \n        $grids = $xmlDoc.CreateElement(&quot;Grid&quot;)\n        $innerXml = @&quot;\n            &lt;Grid Grid.Row=&quot;8&quot;&gt;\n                &lt;Grid.RowDefinitions&gt;\n                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;\n                &lt;/Grid.RowDefinitions&gt;\n            \n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n\n                &lt;Label VerticalAlignment=&quot;Center&quot; Content=&quot;Alternate DNS&quot; FontWeight=&quot;Medium&quot; /&gt;\n            &lt;/Grid&gt;\n\n            &lt;Grid Grid.Row=&quot;7&quot;&gt;\n                &lt;Grid.RowDefinitions&gt;\n                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;\n                &lt;/Grid.RowDefinitions&gt;\n            \n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n\n                &lt;TextBox x:Name=&quot;dns1&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns2&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;2&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;3&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns3&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;4&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;5&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns4&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;6&quot; MaxLength=&quot;3&quot; /&gt;\n            &lt;/Grid&gt;        \n&quot;@\n    # } - Not knowing whether end of function goes here or below bottom code\n\n\n        $grids.InnerXml = $innerXml\n        $grid.AppendChild($grids)\n        # $syncHash.Window.AddChild(@&quot;&quot;@)\n\n# Just some ideas I tried from seeing online.\n        $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, &quot;Send&quot;)\n        $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, &quot;Render&quot;)\n    # } - or here..\n})\n</code></pre>\n<p>I even tried..</p>\n<pre><code>    function Add-Panel\n    {\n    [cmdletBinding()]\n    Param()\n        [xml]$xmlDoc = $xml\n        $window = $xmlDoc.SelectSingleNode(&quot;//Window&quot;)\n        $grid = $window.Grid \n        $grids = $xmlDoc.CreateElement(&quot;Grid&quot;)\n        $innerXml = @&quot;\n            &lt;Grid Grid.Row=&quot;8&quot;&gt;\n                &lt;Grid.RowDefinitions&gt;\n                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;\n                &lt;/Grid.RowDefinitions&gt;\n            \n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n\n                &lt;Label VerticalAlignment=&quot;Center&quot; Content=&quot;Alternate DNS&quot; FontWeight=&quot;Medium&quot; /&gt;\n            &lt;/Grid&gt;\n\n            &lt;Grid Grid.Row=&quot;7&quot;&gt;\n                &lt;Grid.RowDefinitions&gt;\n                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;\n                &lt;/Grid.RowDefinitions&gt;\n            \n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n\n                &lt;TextBox x:Name=&quot;dns1&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns2&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;2&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;3&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns3&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;4&quot; MaxLength=&quot;3&quot; /&gt;\n                &lt;Label HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Content=&quot;.&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;5&quot; FontSize=&quot;36&quot; FontWeight=&quot;Medium&quot;/&gt;\n                &lt;TextBox x:Name=&quot;dns4&quot; Width = &quot;30&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;6&quot; MaxLength=&quot;3&quot; /&gt;\n            &lt;/Grid&gt;        \n&quot;@\n\n        $grids.InnerXml = $innerXml\n        $grid.AppendChild($grids)\n        # $syncHash.Window.AddChild(@&quot;&quot;@)\n\n# Just some ideas I tried from seeing online.\n        $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, \n            &quot;Send&quot;)\n        $syncHash.Window.Dispatcher.Invoke([action] { Add-Panel }, \n            &quot;Render&quot;)\n}\n\n$add.Add_Click({\n    Add-Panel\n})\n</code></pre>\n"},{"tags":["java","spring","multithreading","java-threads"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1634292164,"post_id":69583002,"comment_id":122990762,"body_markdown":"Where is you service component definition? Could you add the right code and not a pseudo-illustration of it.","body":"Where is you service component definition? Could you add the right code and not a pseudo-illustration of it."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1634295948,"post_id":69583002,"comment_id":122992138,"body_markdown":"Does this answer your question? [How to enable request scope in async task executor](https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23732089/how-to-enable-request-scope-in-async-task-executor\">How to enable request scope in async task executor</a>"}],"owner":{"account_id":18488454,"reputation":25,"user_id":13468768,"display_name":"John Hue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634291954,"creation_date":1634291954,"question_id":69583002,"body_markdown":"I have a method which works for several minutes and I get time-out error. I have optimized code, but anyway, request is too large. That`s why I came to this: I call service layer at a new thread and return immediatly 200 Ok status to browser.\r\n \r\nThen after service layer work is finished, I want to send to browser success status using WebSocket. It will generate notification and client will be notified about it.\r\n\r\n```\r\npublic myMethod(){\r\n   new Thread(()-&gt; {\r\n                    try {\r\n                        commonImportService.load(docId, documentType);\r\n                    } catch (IOException | WorkflowException | IntegrationException e) {\r\n                       e.printStackTrace();\r\n                    }}).start();\r\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n}\r\n```\r\nBut I get next error \r\n\r\n```\r\nError creating bean with name &#39;scopedTarget.userUtils&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton;\r\n```\r\n\r\nI assume my service layer needs access to request, to get information about customer and so on from token, but as I returned 200 Ok, request is closed.\r\n\r\nHow should I solve this problem properly?","title":"Thread generated &quot;Request not active&quot; error","body":"<p>I have a method which works for several minutes and I get time-out error. I have optimized code, but anyway, request is too large. That`s why I came to this: I call service layer at a new thread and return immediatly 200 Ok status to browser.</p>\n<p>Then after service layer work is finished, I want to send to browser success status using WebSocket. It will generate notification and client will be notified about it.</p>\n<pre><code>public myMethod(){\n   new Thread(()-&gt; {\n                    try {\n                        commonImportService.load(docId, documentType);\n                    } catch (IOException | WorkflowException | IntegrationException e) {\n                       e.printStackTrace();\n                    }}).start();\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n<p>But I get next error</p>\n<pre><code>Error creating bean with name 'scopedTarget.userUtils': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton;\n</code></pre>\n<p>I assume my service layer needs access to request, to get information about customer and so on from token, but as I returned 200 Ok, request is closed.</p>\n<p>How should I solve this problem properly?</p>\n"},{"tags":["java","spring","heroku"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1634299884,"post_id":69582934,"comment_id":122993451,"body_markdown":"`Error creating bean with name &#39;purchaseController&#39;: Unsatisfied dependency expressed through field &#39;eventsService&#39;; ` how about this? could you check your `purchaseController`?","body":"<code>Error creating bean with name &#39;purchaseController&#39;: Unsatisfied dependency expressed through field &#39;eventsService&#39;; </code> how about this? could you check your <code>purchaseController</code>?"},{"owner":{"account_id":23039811,"reputation":31,"user_id":17158119,"display_name":"vit"},"score":0,"creation_date":1634368168,"post_id":69582934,"comment_id":123009699,"body_markdown":"@DilermandoLima eventsService has PostConstruct method in which user date field is called, so this error has the same cause of NPE","body":"@DilermandoLima eventsService has PostConstruct method in which user date field is called, so this error has the same cause of NPE"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1634380371,"post_id":69582934,"comment_id":123011978,"body_markdown":"You error is point out to Bean **eventService** is null in **purchaseController** . I think you could post this part of code for better helping as  your log error has described","body":"You error is point out to Bean <b>eventService</b> is null in <b>purchaseController</b> . I think you could post this part of code for better helping as  your log error has described"}],"owner":{"account_id":23039811,"reputation":31,"user_id":17158119,"display_name":"vit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634291650,"creation_date":1634291650,"question_id":69582934,"body_markdown":"I have a simple spring boot application using postgres as a database. When I run the application locally everything is fine, but when I deploy it to heroku I get a NullPointerException when accessing the date property of the User object. When the bean is initialized, a User is created, the payment field initiated with new date, then the user is saved to the database, if after that the user is retrieved from the database, the date is null. When I run the application on local postgres everything is fine, the date is saved and after reloading the user it is present. What might be causing this error?\r\n\r\nHere&#39;s User class\r\n``` \r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;current_fund&quot;)\r\n    private int currentFund;\r\n\r\n    @Column(name = &quot;payment&quot;)    \r\n    private Date payment;\r\n``` \r\n\r\nAnd here&#39;s how User is created in userService:\r\n\r\n``` \r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepo userRepo;\r\n\r\n    public UserService() {\r\n\r\n    }\r\n\r\n    public void save(User user) {\r\n        userRepo.save(user);\r\n    }\r\n\r\n    public User getUser() {\r\n        System.err.println(&quot;===============================&quot;);\r\n        System.err.println(&quot;=IN USER SERVICE NOW=&quot;);\r\n        System.err.println(&quot;===============================&quot;);\r\n        User user = new User();\r\n        user.setCurrentFund(0);\r\n        user.setLogin(&quot;1&quot;);\r\n        user.setPassword(&quot;2&quot;);\r\n        user.setName(&quot;45&quot;);        \r\n        user.setPayment(new Date());\r\n        System.err.println(&quot;===============================&quot;);\r\n        System.err.println(&quot;=USER CREATED=&quot; + user.toString());\r\n        System.err.println(&quot;===============================&quot;);\r\n        userRepo.save(user);\r\n        System.err.println(&quot;===============================&quot;);\r\n        System.err.println(&quot;=USER SAVED=&quot;);\r\n        System.err.println(&quot;===============================&quot;);\r\n        User us = userRepo.findAll().iterator().next();\r\n        System.err.println(&quot;===============================&quot;);\r\n        System.err.println(&quot;=USER LOADED=&quot; + us);\r\n        System.err.println(&quot;===============================&quot;);\r\n        return us;\r\n    }\r\n}\r\n``` \r\n\r\nHere&#39;s Heroku logs tail:\r\n```\r\n2021-10-15T09:26:51.323443+00:00 app[web.1]: 2021-10-15 09:26:51.323  INFO 4 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2021-10-15T09:26:51.326054+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:51.326080+00:00 app[web.1]: =IN EVENT SERVICE INIT=\r\n2021-10-15T09:26:51.326107+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:51.326144+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:51.326170+00:00 app[web.1]: =IN USER SERVICE NOW=\r\n2021-10-15T09:26:51.326195+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:51.326426+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:51.326701+00:00 app[web.1]: =USER CREATED=User{id=0, name=&#39;45&#39;, login=&#39;1&#39;, password=&#39;2&#39;, currentFund=0, lastPaymentDate=Wed Sep 15 09:26:51 UTC 2021}\r\n2021-10-15T09:26:51.326730+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:52.018035+00:00 app[web.1]: 2021-10-15 09:26:52.017  INFO 4 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.21.Final\r\n2021-10-15T09:26:52.170196+00:00 app[web.1]: 2021-10-15 09:26:52.170  INFO 4 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n2021-10-15T09:26:52.994040+00:00 app[web.1]: 2021-10-15 09:26:52.993  INFO 4 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect\r\n2021-10-15T09:26:54.444953+00:00 app[web.1]: 2021-10-15 09:26:54.444  INFO 4 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2021-10-15T09:26:54.455185+00:00 app[web.1]: 2021-10-15 09:26:54.454  INFO 4 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-10-15T09:26:55.163731+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.163755+00:00 app[web.1]: =USER SAVED=\r\n2021-10-15T09:26:55.163777+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.355926+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.355965+00:00 app[web.1]: =USER LOADED=User{id=1, name=&#39;45&#39;, login=&#39;1&#39;, password=&#39;2&#39;, currentFund=0, lastPaymentDate=null}\r\n2021-10-15T09:26:55.355999+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.356028+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.356079+00:00 app[web.1]: =USER=User{id=1, name=&#39;45&#39;, login=&#39;1&#39;, password=&#39;2&#39;, currentFund=0, lastPaymentDate=null}\r\n2021-10-15T09:26:55.356107+00:00 app[web.1]: ===============================\r\n2021-10-15T09:26:55.402277+00:00 app[web.1]: start events update\r\n2021-10-15T09:26:55.408357+00:00 app[web.1]: 2021-10-15 09:26:55.408  WARN 4 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;purchaseController&#39;: Unsatisfied dependency expressed through field &#39;eventsService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventsService&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException\r\n2021-10-15T09:26:55.408900+00:00 app[web.1]: 2021-10-15 09:26:55.408  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2021-10-15T09:26:55.410937+00:00 app[web.1]: 2021-10-15 09:26:55.410  INFO 4 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2021-10-15T09:26:55.411578+00:00 app[web.1]: 2021-10-15 09:26:55.411  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2021-10-15T09:26:55.967177+00:00 app[web.1]: 2021-10-15 09:26:55.966  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2021-10-15T09:26:55.969102+00:00 app[web.1]: 2021-10-15 09:26:55.968  INFO 4 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2021-10-15T09:26:55.978337+00:00 app[web.1]: 2021-10-15 09:26:55.978  INFO 4 --- [           main] ConditionEvaluationReportLoggingListener :\r\n2021-10-15T09:26:55.978338+00:00 app[web.1]: \r\n2021-10-15T09:26:55.978339+00:00 app[web.1]: Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2021-10-15T09:26:55.982750+00:00 app[web.1]: 2021-10-15 09:26:55.982 ERROR 4 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n2021-10-15T09:26:55.982754+00:00 app[web.1]: \r\n2021-10-15T09:26:55.982761+00:00 app[web.1]: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;purchaseController&#39;: Unsatisfied dependency expressed through field &#39;eventsService&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventsService&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException\r\n2021-10-15T09:26:55.982762+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982762+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982764+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982766+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982766+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982769+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982769+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982771+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\r\n2021-10-15T09:26:55.982771+00:00 app[web.1]: at main.Main.main(Main.java:9) [classes!/:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982772+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982772+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982776+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982778+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982778+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982779+00:00 app[web.1]: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eventsService&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException\r\n2021-10-15T09:26:55.982779+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982779+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:415) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982783+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982783+00:00 app[web.1]: ... 28 common frames omitted\r\n2021-10-15T09:26:55.982784+00:00 app[web.1]: Caused by: java.lang.NullPointerException: null\r\n2021-10-15T09:26:55.982784+00:00 app[web.1]: at java.util.Calendar.setTime(Calendar.java:1770) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.getDate0AM(EventsService.java:246) ~[classes!/:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.fillWithEmptyPayments(EventsService.java:72) ~[classes!/:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.updateEvents(EventsService.java:49) ~[classes!/:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982786+00:00 app[web.1]: at main.handlers.EventsService.init(EventsService.java:42) ~[classes!/:1.0-SNAPSHOT]\r\n2021-10-15T09:26:55.982786+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982787+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982789+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982790+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302-heroku]\r\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n2021-10-15T09:26:55.982792+00:00 app[web.1]: ... 40 common frames omitted\r\n2021-10-15T09:26:55.982792+00:00 app[web.1]: \r\n2021-10-15T09:26:56.147680+00:00 heroku[web.1]: Process exited with status 1\r\n```\r\n\r\nWhen comment out all references to &quot;payment&quot; field, app starts just fine.\r\nAlso, there are other objects in my app, using Date as one of their fields, and these objects are loaded properly","title":"Problem with date loading in Spring App deployed to Heroku","body":"<p>I have a simple spring boot application using postgres as a database. When I run the application locally everything is fine, but when I deploy it to heroku I get a NullPointerException when accessing the date property of the User object. When the bean is initialized, a User is created, the payment field initiated with new date, then the user is saved to the database, if after that the user is retrieved from the database, the date is null. When I run the application on local postgres everything is fine, the date is saved and after reloading the user it is present. What might be causing this error?</p>\n<p>Here's User class</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;login&quot;)\n    private String login;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n\n    @Column(name = &quot;current_fund&quot;)\n    private int currentFund;\n\n    @Column(name = &quot;payment&quot;)    \n    private Date payment;\n</code></pre>\n<p>And here's how User is created in userService:</p>\n<pre><code>@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepo userRepo;\n\n    public UserService() {\n\n    }\n\n    public void save(User user) {\n        userRepo.save(user);\n    }\n\n    public User getUser() {\n        System.err.println(&quot;===============================&quot;);\n        System.err.println(&quot;=IN USER SERVICE NOW=&quot;);\n        System.err.println(&quot;===============================&quot;);\n        User user = new User();\n        user.setCurrentFund(0);\n        user.setLogin(&quot;1&quot;);\n        user.setPassword(&quot;2&quot;);\n        user.setName(&quot;45&quot;);        \n        user.setPayment(new Date());\n        System.err.println(&quot;===============================&quot;);\n        System.err.println(&quot;=USER CREATED=&quot; + user.toString());\n        System.err.println(&quot;===============================&quot;);\n        userRepo.save(user);\n        System.err.println(&quot;===============================&quot;);\n        System.err.println(&quot;=USER SAVED=&quot;);\n        System.err.println(&quot;===============================&quot;);\n        User us = userRepo.findAll().iterator().next();\n        System.err.println(&quot;===============================&quot;);\n        System.err.println(&quot;=USER LOADED=&quot; + us);\n        System.err.println(&quot;===============================&quot;);\n        return us;\n    }\n}\n</code></pre>\n<p>Here's Heroku logs tail:</p>\n<pre><code>2021-10-15T09:26:51.323443+00:00 app[web.1]: 2021-10-15 09:26:51.323  INFO 4 --- [         task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-15T09:26:51.326054+00:00 app[web.1]: ===============================\n2021-10-15T09:26:51.326080+00:00 app[web.1]: =IN EVENT SERVICE INIT=\n2021-10-15T09:26:51.326107+00:00 app[web.1]: ===============================\n2021-10-15T09:26:51.326144+00:00 app[web.1]: ===============================\n2021-10-15T09:26:51.326170+00:00 app[web.1]: =IN USER SERVICE NOW=\n2021-10-15T09:26:51.326195+00:00 app[web.1]: ===============================\n2021-10-15T09:26:51.326426+00:00 app[web.1]: ===============================\n2021-10-15T09:26:51.326701+00:00 app[web.1]: =USER CREATED=User{id=0, name='45', login='1', password='2', currentFund=0, lastPaymentDate=Wed Sep 15 09:26:51 UTC 2021}\n2021-10-15T09:26:51.326730+00:00 app[web.1]: ===============================\n2021-10-15T09:26:52.018035+00:00 app[web.1]: 2021-10-15 09:26:52.017  INFO 4 --- [         task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.21.Final\n2021-10-15T09:26:52.170196+00:00 app[web.1]: 2021-10-15 09:26:52.170  INFO 4 --- [         task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n2021-10-15T09:26:52.994040+00:00 app[web.1]: 2021-10-15 09:26:52.993  INFO 4 --- [         task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect\n2021-10-15T09:26:54.444953+00:00 app[web.1]: 2021-10-15 09:26:54.444  INFO 4 --- [         task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2021-10-15T09:26:54.455185+00:00 app[web.1]: 2021-10-15 09:26:54.454  INFO 4 --- [         task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-15T09:26:55.163731+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.163755+00:00 app[web.1]: =USER SAVED=\n2021-10-15T09:26:55.163777+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.355926+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.355965+00:00 app[web.1]: =USER LOADED=User{id=1, name='45', login='1', password='2', currentFund=0, lastPaymentDate=null}\n2021-10-15T09:26:55.355999+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.356028+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.356079+00:00 app[web.1]: =USER=User{id=1, name='45', login='1', password='2', currentFund=0, lastPaymentDate=null}\n2021-10-15T09:26:55.356107+00:00 app[web.1]: ===============================\n2021-10-15T09:26:55.402277+00:00 app[web.1]: start events update\n2021-10-15T09:26:55.408357+00:00 app[web.1]: 2021-10-15 09:26:55.408  WARN 4 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'purchaseController': Unsatisfied dependency expressed through field 'eventsService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventsService': Invocation of init method failed; nested exception is java.lang.NullPointerException\n2021-10-15T09:26:55.408900+00:00 app[web.1]: 2021-10-15 09:26:55.408  INFO 4 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2021-10-15T09:26:55.410937+00:00 app[web.1]: 2021-10-15 09:26:55.410  INFO 4 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2021-10-15T09:26:55.411578+00:00 app[web.1]: 2021-10-15 09:26:55.411  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2021-10-15T09:26:55.967177+00:00 app[web.1]: 2021-10-15 09:26:55.966  INFO 4 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2021-10-15T09:26:55.969102+00:00 app[web.1]: 2021-10-15 09:26:55.968  INFO 4 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2021-10-15T09:26:55.978337+00:00 app[web.1]: 2021-10-15 09:26:55.978  INFO 4 --- [           main] ConditionEvaluationReportLoggingListener :\n2021-10-15T09:26:55.978338+00:00 app[web.1]: \n2021-10-15T09:26:55.978339+00:00 app[web.1]: Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2021-10-15T09:26:55.982750+00:00 app[web.1]: 2021-10-15 09:26:55.982 ERROR 4 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2021-10-15T09:26:55.982754+00:00 app[web.1]: \n2021-10-15T09:26:55.982761+00:00 app[web.1]: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'purchaseController': Unsatisfied dependency expressed through field 'eventsService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventsService': Invocation of init method failed; nested exception is java.lang.NullPointerException\n2021-10-15T09:26:55.982762+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982762+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:130) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982764+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1420) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982765+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982766+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982766+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982767+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879) ~[spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551) ~[spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982768+00:00 app[web.1]: at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982769+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982769+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982770+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982771+00:00 app[web.1]: at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.4.RELEASE.jar!/:2.3.4.RELEASE]\n2021-10-15T09:26:55.982771+00:00 app[web.1]: at main.Main.main(Main.java:9) [classes!/:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982772+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982772+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982776+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982777+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982778+00:00 app[web.1]: at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982778+00:00 app[web.1]: at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [purchase-planner-web2-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982779+00:00 app[web.1]: Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eventsService': Invocation of init method failed; nested exception is java.lang.NullPointerException\n2021-10-15T09:26:55.982779+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982779+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:415) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982780+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982781+00:00 app[web.1]: at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982782+00:00 app[web.1]: at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982783+00:00 app[web.1]: at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982783+00:00 app[web.1]: ... 28 common frames omitted\n2021-10-15T09:26:55.982784+00:00 app[web.1]: Caused by: java.lang.NullPointerException: null\n2021-10-15T09:26:55.982784+00:00 app[web.1]: at java.util.Calendar.setTime(Calendar.java:1770) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.getDate0AM(EventsService.java:246) ~[classes!/:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.fillWithEmptyPayments(EventsService.java:72) ~[classes!/:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982785+00:00 app[web.1]: at main.handlers.EventsService.updateEvents(EventsService.java:49) ~[classes!/:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982786+00:00 app[web.1]: at main.handlers.EventsService.init(EventsService.java:42) ~[classes!/:1.0-SNAPSHOT]\n2021-10-15T09:26:55.982786+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982787+00:00 app[web.1]: at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982789+00:00 app[web.1]: at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982790+00:00 app[web.1]: at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302-heroku]\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982791+00:00 app[web.1]: at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n2021-10-15T09:26:55.982792+00:00 app[web.1]: ... 40 common frames omitted\n2021-10-15T09:26:55.982792+00:00 app[web.1]: \n2021-10-15T09:26:56.147680+00:00 heroku[web.1]: Process exited with status 1\n</code></pre>\n<p>When comment out all references to &quot;payment&quot; field, app starts just fine.\nAlso, there are other objects in my app, using Date as one of their fields, and these objects are loaded properly</p>\n"},{"tags":["java","maven","junit","junit5","maven-surefire-plugin"],"comments":[{"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"score":0,"creation_date":1634384639,"post_id":69582914,"comment_id":123012851,"body_markdown":"Which exception is thrown in your setUp method? Could you add the stacktrace?","body":"Which exception is thrown in your setUp method? Could you add the stacktrace?"},{"owner":{"account_id":552863,"reputation":493,"user_id":918116,"accept_rate":60,"display_name":"Robert Franz"},"score":0,"creation_date":1634492556,"post_id":69582914,"comment_id":123033557,"body_markdown":"In the end this doesn&#39;t matter. It&#39;s an derived from a RuntimeException. In this case it&#39;s a DriverException from the cassandra driver.","body":"In the end this doesn&#39;t matter. It&#39;s an derived from a RuntimeException. In this case it&#39;s a DriverException from the cassandra driver."}],"owner":{"account_id":552863,"reputation":493,"user_id":918116,"accept_rate":60,"display_name":"Robert Franz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634291558,"creation_date":1634291558,"question_id":69582914,"body_markdown":"I have the following setup: maven-surefire-plugin + junit5.\r\n\r\nNow I&#39;m doing some preparations in the @BeforeAll in order to connect to a database. But in some situations the setup is not working properly. In that case an exception is thrown. Now surefire marks the test as ignored. But an ignored test does not make the build fail.\r\n\r\nI already tried the org.opentest4j.TestAbortedException and org.opentest4j.AssertionFailedError, but that had no effect. I found no configuration and also no proper documentation about that.\r\n\r\nHas anybody an idea how to handle that properly? I just want that the tests fail in case the setup is not working properly.","title":"Fail surefire when a test is ignored","body":"<p>I have the following setup: maven-surefire-plugin + junit5.</p>\n<p>Now I'm doing some preparations in the @BeforeAll in order to connect to a database. But in some situations the setup is not working properly. In that case an exception is thrown. Now surefire marks the test as ignored. But an ignored test does not make the build fail.</p>\n<p>I already tried the org.opentest4j.TestAbortedException and org.opentest4j.AssertionFailedError, but that had no effect. I found no configuration and also no proper documentation about that.</p>\n<p>Has anybody an idea how to handle that properly? I just want that the tests fail in case the setup is not working properly.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":1,"creation_date":1634289121,"post_id":69582328,"comment_id":122989618,"body_markdown":"Try to compare String using .equals() method, the &quot;==&quot; compare the references not the content of the Strings .     element[i] == value  ===&gt; element[i].equals(value)","body":"Try to compare String using .equals() method, the &quot;==&quot; compare the references not the content of the Strings .     element[i] == value  ===&gt; element[i].equals(value)"},{"owner":{"account_id":22066273,"reputation":1,"user_id":16328118,"display_name":"GBR"},"score":0,"creation_date":1634289508,"post_id":69582328,"comment_id":122989771,"body_markdown":"in remove method?","body":"in remove method?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1634290268,"post_id":69582328,"comment_id":122990032,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1634290322,"post_id":69582328,"comment_id":122990052,"body_markdown":"in any place , when you like to compare the content of two Strings , use the method &quot;.equals()&quot; , the &quot;==&quot; is used to comapre if two strings are exactly the same object in the memory . in your case you have two string that have the same content but every one is an independent object in the memory , you need to read about hw to compare String in java and try to read about String Pool in java to more understand .thanks","body":"in any place , when you like to compare the content of two Strings , use the method &quot;.equals()&quot; , the &quot;==&quot; is used to comapre if two strings are exactly the same object in the memory . in your case you have two string that have the same content but every one is an independent object in the memory , you need to read about hw to compare String in java and try to read about String Pool in java to more understand .thanks"}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634289987,"creation_date":1634289987,"answer_id":69582577,"question_id":69582328,"body_markdown":"Like @[Oussama ZAGHDOUD][1] said,\r\n\r\nInstead of  `if (element[i] == value)` ,  Use  `if (element[i].equals(value))`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69582328/remove-element-frome-array-of-string/69582577#comment122989618_69582328","title":"remove element frome array of string","body":"<p>Like @<a href=\"https://stackoverflow.com/questions/69582328/remove-element-frome-array-of-string/69582577#comment122989618_69582328\">Oussama ZAGHDOUD</a> said,</p>\n<p>Instead of  <code>if (element[i] == value)</code> ,  Use  <code>if (element[i].equals(value))</code>.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634291507,"creation_date":1634291507,"answer_id":69582899,"question_id":69582328,"body_markdown":"Your code miss a &quot;!&quot; before the condition and you need to use .equals() instead of&quot;==&quot;: \r\n\r\n\r\n    public static String[] remove(String[] element, String value) {\r\n\r\n\t        int validSize = 0;\r\n\t        String[] n_elements = new String[0];\r\n\t        for (int i = 0; i &lt; element.length; i++) {\r\n\t            if (! element[i] .equals( value )) {\r\n\t                element[validSize] = element[i];\r\n\t                validSize++;\r\n\t            }\r\n\t            n_elements = new String[validSize];\r\n\t            if (validSize &gt;= 0) System.arraycopy(element, 0, n_elements, 0, validSize);\r\n\t        }\r\n\t        return n_elements;\r\n\t    }\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t String[] group_A = {&quot;Alexandr&quot;, &quot;Ahmed&quot;, &quot;Maria&quot;, &quot;elf&quot;, &quot;Omar&quot;, &quot;Mariam&quot;};\r\n\t\t    Scanner s  = new Scanner(System.in);     \r\n\t\t    System.out.println(Arrays.toString(group_A));\r\n\t\t    String value = s.nextLine();\r\n\t\t    //we already initialized a value for it\r\n\t\t    group_A = remove(group_A,value);\r\n\t\t    System.out.println(Arrays.toString(group_A));\r\n\t}","title":"remove element frome array of string","body":"<p>Your code miss a &quot;!&quot; before the condition and you need to use .equals() instead of&quot;==&quot;:</p>\n<pre><code>public static String[] remove(String[] element, String value) {\n\n        int validSize = 0;\n        String[] n_elements = new String[0];\n        for (int i = 0; i &lt; element.length; i++) {\n            if (! element[i] .equals( value )) {\n                element[validSize] = element[i];\n                validSize++;\n            }\n            n_elements = new String[validSize];\n            if (validSize &gt;= 0) System.arraycopy(element, 0, n_elements, 0, validSize);\n        }\n        return n_elements;\n    }\n\npublic static void main(String[] args) throws IOException {\n     String[] group_A = {&quot;Alexandr&quot;, &quot;Ahmed&quot;, &quot;Maria&quot;, &quot;elf&quot;, &quot;Omar&quot;, &quot;Mariam&quot;};\n        Scanner s  = new Scanner(System.in);     \n        System.out.println(Arrays.toString(group_A));\n        String value = s.nextLine();\n        //we already initialized a value for it\n        group_A = remove(group_A,value);\n        System.out.println(Arrays.toString(group_A));\n}\n</code></pre>\n"}],"owner":{"account_id":22066273,"reputation":1,"user_id":16328118,"display_name":"GBR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1634294487,"answer_count":2,"score":-2,"last_activity_date":1634291507,"creation_date":1634288682,"question_id":69582328,"body_markdown":"I made a function to delete a specific element in the array, but the problem that am struggling with is that when we getting the value of the element that we want to remove from s.next() it&#39;s not removing but when we already initialized a value for it it is removing \r\n\r\nfor example, we have a function remove\r\n\r\n     public static String[] remove(String[] element, String value) {\r\n    \r\n            int validSize = 0;\r\n            String[] n_elements = new String[0];\r\n            for (int i = 0; i &lt; element.length; i++) {\r\n                if (element[i] == value) {\r\n                    element[validSize] = element[i];\r\n                    validSize++;\r\n                }\r\n    \r\n                n_elements = new String[validSize];\r\n                if (validSize &gt;= 0) System.arraycopy(element, 0, n_elements, 0, validSize);\r\n    \r\n    \r\n            }\r\n    \r\n            return n_elements;\r\n        }\r\n\r\n\r\nin main\r\n\r\n    public static void main(String[] args) {\r\n\r\n     \r\n        String[] group_A = {&quot;Alexandr&quot;, &quot;Ahmed&quot;, &quot;Maria&quot;, &quot;elf&quot;, &quot;Omar&quot;, &quot;Mariam&quot;};\r\n\r\n        Scanner s  = new Scanner(System.in);     \r\n\r\n        System.out.println(Arrays.toString(group_A));\r\n\r\n        String value = &quot;elf&quot;;\r\n//we already initialized a value for it \r\n\r\n        group_A = remove(group_A,value);\r\n        System.out.println(Arrays.toString(group_A));\r\n    }\r\n}\r\n\r\noutput is correct\r\n\r\n    [Alexandr, Ahmed, Maria, elf, Omar, Mariam]\r\n    [Alexandr, Ahmed, Maria, Omar, Mariam]\r\n\r\n\r\n\r\nbut if  we get value from the user in put it does not deleting \r\n\r\n     String value = s.next();\r\n\r\noutput is \r\n\r\n    [Alexandr, Ahmed, Maria, elf, Omar, Mariam]\r\n    elf\r\n    [Alexandr, Ahmed, Maria, elf, Omar, Mariam]","title":"remove element frome array of string","body":"<p>I made a function to delete a specific element in the array, but the problem that am struggling with is that when we getting the value of the element that we want to remove from s.next() it's not removing but when we already initialized a value for it it is removing</p>\n<p>for example, we have a function remove</p>\n<pre><code> public static String[] remove(String[] element, String value) {\n\n        int validSize = 0;\n        String[] n_elements = new String[0];\n        for (int i = 0; i &lt; element.length; i++) {\n            if (element[i] == value) {\n                element[validSize] = element[i];\n                validSize++;\n            }\n\n            n_elements = new String[validSize];\n            if (validSize &gt;= 0) System.arraycopy(element, 0, n_elements, 0, validSize);\n\n\n        }\n\n        return n_elements;\n    }\n</code></pre>\n<p>in main</p>\n<pre><code>public static void main(String[] args) {\n\n \n    String[] group_A = {&quot;Alexandr&quot;, &quot;Ahmed&quot;, &quot;Maria&quot;, &quot;elf&quot;, &quot;Omar&quot;, &quot;Mariam&quot;};\n\n    Scanner s  = new Scanner(System.in);     \n\n    System.out.println(Arrays.toString(group_A));\n\n    String value = &quot;elf&quot;;\n</code></pre>\n<p>//we already initialized a value for it</p>\n<pre><code>    group_A = remove(group_A,value);\n    System.out.println(Arrays.toString(group_A));\n}\n</code></pre>\n<p>}</p>\n<p>output is correct</p>\n<pre><code>[Alexandr, Ahmed, Maria, elf, Omar, Mariam]\n[Alexandr, Ahmed, Maria, Omar, Mariam]\n</code></pre>\n<p>but if  we get value from the user in put it does not deleting</p>\n<pre><code> String value = s.next();\n</code></pre>\n<p>output is</p>\n<pre><code>[Alexandr, Ahmed, Maria, elf, Omar, Mariam]\nelf\n[Alexandr, Ahmed, Maria, elf, Omar, Mariam]\n</code></pre>\n"},{"tags":["java","spring","amazon-s3","sdk"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1634291963,"post_id":69582673,"comment_id":122990680,"body_markdown":"The problem is not that the `ByteArrayOutputStream` is encoded strangely - the problem is that the method `XSSFWorkbook.write()` does not produce a CSV file, it produces a .xlsx file. If a .xlsx file meets your requirements then you just have to adjust the content type: `objectMetadata.setContentType(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;);`","body":"The problem is not that the <code>ByteArrayOutputStream</code> is encoded strangely - the problem is that the method <code>XSSFWorkbook.write()</code> does not produce a CSV file, it produces a .xlsx file. If a .xlsx file meets your requirements then you just have to adjust the content type: <code>objectMetadata.setContentType(&quot;application&#47;vnd.openxmlformat&zwnj;&#8203;s-officedocument.spr&zwnj;&#8203;eadsheetml.sheet&quot;);</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1634291987,"post_id":69582673,"comment_id":122990687,"body_markdown":"If however you need a CSV file then you might want to look at https://stackoverflow.com/questions/40283179/how-to-convert-xlsx-file-to-csv","body":"If however you need a CSV file then you might want to look at <a href=\"https://stackoverflow.com/questions/40283179/how-to-convert-xlsx-file-to-csv\" title=\"how to convert xlsx file to csv\">stackoverflow.com/questions/40283179/&hellip;</a>"},{"owner":{"account_id":14496530,"reputation":135,"user_id":10470910,"display_name":"Hanh Nguyen"},"score":0,"creation_date":1634294011,"post_id":69582673,"comment_id":122991489,"body_markdown":"@ThomasKl&#228;ger Thanks for your comment. I will try this","body":"@ThomasKl&#228;ger Thanks for your comment. I will try this"}],"owner":{"account_id":14496530,"reputation":135,"user_id":10470910,"display_name":"Hanh Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634291224,"creation_date":1634290425,"question_id":69582673,"body_markdown":"I want to upload an excel file to s3 with CSV type using Java SDK. \r\nFirst I convert it to ByteArrayOutputStream and ByteArrayInputStream.\r\nAfter that I upload it to s3 with CSV type. Below is my code. \r\n\r\n    public boolean exportFileToS3(XSSFWorkbook workbook) throws Exception{\r\n    \tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n    \ttry {\r\n    \t\tworkbook.write(byteArrayOutputStream);\r\n    \t\tbyteArrayOutputStream.close();\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(&quot;exportFileToS3 error &quot;, e);\r\n    \t}\r\n    \t\r\n    \t//AWS Credential\r\n    \tAmazonS3 s3client = AmazonS3ClientBuilder\r\n    \t\t\t.standard()\r\n    \t\t\t.withCredentials(new AWSStaticCredentialsProvider(mycredential))\r\n    \t\t\t.withRegion(myregion)\r\n    \t\t\t.build();\r\n    \t\r\n    \t// Setup data\r\n    \tByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\r\n    \tLong contentLength = Long.valueOf(byteArrayOutputStream.toByteArray().length);\r\n    \tObjectMetadata objectMetadata = new ObjectMetadata();\r\n    \tobjectMetadata.setContentType(&quot;text/csv; charset=utf-8&quot;);\r\n    \tobjectMetadata.setContentLength(contentLength);\r\n    \r\n    \t\r\n    \t//Upload to S3\r\n    \tString bucketName = &quot;my bucket&quot;;\r\n        String fileName = &quot;test.csv&quot;\r\n    \tPutObjectResult putResult = s3client.putObject(new PutObjectRequest(bucketName, fileName, byteArrayInputStream, objectMetadata));\r\n    \tbyteArrayInputStream.close();\r\n    \treturn (putResult != null);\r\n    }\r\n\r\nI successfully uploaded it to S3. But when I downloaded it from S3, I opened it by notepad or VSCode, it showed all strange characters that not like as my workbook. Like that: qfgfWqZCB||*h,^VaK&lt;4.\r\n\r\nHow can I fix this?\r\n\r\n","title":"ByteArrayInputStream uploaded to S3 are encoded strangely?","body":"<p>I want to upload an excel file to s3 with CSV type using Java SDK.\nFirst I convert it to ByteArrayOutputStream and ByteArrayInputStream.\nAfter that I upload it to s3 with CSV type. Below is my code.</p>\n<pre><code>public boolean exportFileToS3(XSSFWorkbook workbook) throws Exception{\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    try {\n        workbook.write(byteArrayOutputStream);\n        byteArrayOutputStream.close();\n    } catch (Exception e) {\n        System.out.println(&quot;exportFileToS3 error &quot;, e);\n    }\n    \n    //AWS Credential\n    AmazonS3 s3client = AmazonS3ClientBuilder\n            .standard()\n            .withCredentials(new AWSStaticCredentialsProvider(mycredential))\n            .withRegion(myregion)\n            .build();\n    \n    // Setup data\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(byteArrayOutputStream.toByteArray());\n    Long contentLength = Long.valueOf(byteArrayOutputStream.toByteArray().length);\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    objectMetadata.setContentType(&quot;text/csv; charset=utf-8&quot;);\n    objectMetadata.setContentLength(contentLength);\n\n    \n    //Upload to S3\n    String bucketName = &quot;my bucket&quot;;\n    String fileName = &quot;test.csv&quot;\n    PutObjectResult putResult = s3client.putObject(new PutObjectRequest(bucketName, fileName, byteArrayInputStream, objectMetadata));\n    byteArrayInputStream.close();\n    return (putResult != null);\n}\n</code></pre>\n<p>I successfully uploaded it to S3. But when I downloaded it from S3, I opened it by notepad or VSCode, it showed all strange characters that not like as my workbook. Like that: qfgfWqZCB||*h,^VaK&lt;4.</p>\n<p>How can I fix this?</p>\n"},{"tags":["java","maven","formatting","continuous-integration"],"answers":[{"tags":[],"owner":{"account_id":221583,"reputation":363,"user_id":1108463,"display_name":"LaFayette"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566518639,"creation_date":1566516634,"answer_id":57618158,"question_id":50027892,"body_markdown":"Google java format is not configurable by design: https://github.com/google/google-java-format/pull/57#issuecomment-233450426\r\n\r\n&gt; There is no configurability as to the formatter&#39;s algorithm for formatting. This is a deliberate design decision to unify our code formatting on a single format.\r\n\r\nAlso see: https://github.com/google/google-java-format/wiki/FAQ#i-just-need-to-configure-it-a-bit-differently-how","title":"Override google-java-format with spotless-maven plugin","body":"<p>Google java format is not configurable by design: <a href=\"https://github.com/google/google-java-format/pull/57#issuecomment-233450426\" rel=\"noreferrer\">https://github.com/google/google-java-format/pull/57#issuecomment-233450426</a></p>\n\n<blockquote>\n  <p>There is no configurability as to the formatter's algorithm for formatting. This is a deliberate design decision to unify our code formatting on a single format.</p>\n</blockquote>\n\n<p>Also see: <a href=\"https://github.com/google/google-java-format/wiki/FAQ#i-just-need-to-configure-it-a-bit-differently-how\" rel=\"noreferrer\">https://github.com/google/google-java-format/wiki/FAQ#i-just-need-to-configure-it-a-bit-differently-how</a></p>\n"},{"tags":[],"owner":{"account_id":978885,"reputation":41,"user_id":999149,"display_name":"David Whitmore"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1596204239,"creation_date":1596204239,"answer_id":63193355,"question_id":50027892,"body_markdown":"A quick update: the spotless plugin can now be configured to do what you want.  I.e. google-java-format with 4 spaces.\r\n\r\nAs mentioned in the docs: https://github.com/diffplug/spotless/tree/main/plugin-maven\r\nyou can now use the AOSP &#39;style&#39; which does what you need.\r\n\r\n```\r\n      &lt;googleJavaFormat&gt;\r\n        &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;style&gt;AOSP&lt;/style&gt;\r\n      &lt;/googleJavaFormat&gt;\r\n```","title":"Override google-java-format with spotless-maven plugin","body":"<p>A quick update: the spotless plugin can now be configured to do what you want.  I.e. google-java-format with 4 spaces.</p>\n<p>As mentioned in the docs: <a href=\"https://github.com/diffplug/spotless/tree/main/plugin-maven\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-maven</a>\nyou can now use the AOSP 'style' which does what you need.</p>\n<pre><code>      &lt;googleJavaFormat&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;style&gt;AOSP&lt;/style&gt;\n      &lt;/googleJavaFormat&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11569626,"reputation":149,"user_id":8476770,"display_name":"Hannu Varjoranta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605685894,"creation_date":1605685894,"answer_id":64889019,"question_id":50027892,"body_markdown":"As instructed in Github issue comments here: https://github.com/diffplug/spotless/issues/420\r\n\r\nYou can solve this in Gradle build with:\r\n\r\n```\r\nindentWithTabs(2)\r\nindentWithSpaces(4)\r\n```\r\n\r\nFor Maven the same code would be:\r\n\r\n```\r\n    &lt;java&gt;\r\n        &lt;googleJavaFormat&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;style&gt;GOOGLE&lt;/style&gt;\r\n        &lt;/googleJavaFormat&gt;\r\n        &lt;indent&gt;\r\n            &lt;tabs&gt;true&lt;/tabs&gt;\r\n            &lt;spacesPerTab&gt;2&lt;/spacesPerTab&gt;\r\n        &lt;/indent&gt;\r\n        &lt;indent&gt;\r\n            &lt;spaces&gt;true&lt;/spaces&gt;\r\n            &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n        &lt;/indent&gt;\r\n    &lt;/java&gt;\r\n```\r\n","title":"Override google-java-format with spotless-maven plugin","body":"<p>As instructed in Github issue comments here: <a href=\"https://github.com/diffplug/spotless/issues/420\" rel=\"noreferrer\">https://github.com/diffplug/spotless/issues/420</a></p>\n<p>You can solve this in Gradle build with:</p>\n<pre><code>indentWithTabs(2)\nindentWithSpaces(4)\n</code></pre>\n<p>For Maven the same code would be:</p>\n<pre><code>    &lt;java&gt;\n        &lt;googleJavaFormat&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n            &lt;style&gt;GOOGLE&lt;/style&gt;\n        &lt;/googleJavaFormat&gt;\n        &lt;indent&gt;\n            &lt;tabs&gt;true&lt;/tabs&gt;\n            &lt;spacesPerTab&gt;2&lt;/spacesPerTab&gt;\n        &lt;/indent&gt;\n        &lt;indent&gt;\n            &lt;spaces&gt;true&lt;/spaces&gt;\n            &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n        &lt;/indent&gt;\n    &lt;/java&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1979597,"reputation":1881,"user_id":1776520,"accept_rate":50,"display_name":"wizawu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634291130,"creation_date":1634291130,"answer_id":69582827,"question_id":50027892,"body_markdown":"Similar to the other answer, I tried to indent with `Tabs(1)` and `Spaces(2)`. It also worked.\r\n\r\n```\r\nspotless {\r\n    java {\r\n        googleJavaFormat(&quot;1.7&quot;)\r\n        indentWithTabs(1)\r\n        indentWithSpaces(2)\r\n    }\r\n}\r\n```\r\n   ","title":"Override google-java-format with spotless-maven plugin","body":"<p>Similar to the other answer, I tried to indent with <code>Tabs(1)</code> and <code>Spaces(2)</code>. It also worked.</p>\n<pre><code>spotless {\n    java {\n        googleJavaFormat(&quot;1.7&quot;)\n        indentWithTabs(1)\n        indentWithSpaces(2)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5942846,"reputation":101,"user_id":6004244,"display_name":"Alex Cardell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7327,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1634291130,"creation_date":1524676407,"question_id":50027892,"body_markdown":"I&#39;m looking to implement a pre-commit automatic formatter for my team because the code is a bit all over the place. I like spotless and the google style but a sticking point seems to be 4-space indents, whereas it&#39;s currently outputting 2-space indents.\r\n\r\nIs there a way to override this value via pom.xml, either on spotless side or the google side?","title":"Override google-java-format with spotless-maven plugin","body":"<p>I'm looking to implement a pre-commit automatic formatter for my team because the code is a bit all over the place. I like spotless and the google style but a sticking point seems to be 4-space indents, whereas it's currently outputting 2-space indents.</p>\n\n<p>Is there a way to override this value via pom.xml, either on spotless side or the google side?</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":23028165,"reputation":11,"user_id":17148059,"display_name":"bw tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634290836,"creation_date":1634193228,"question_id":69566050,"body_markdown":"I want to know the reason why, when a field does not exist, it takes a long time to aggregate. For example, sometimes a log doesn&#39;t have status code. When I want to know the distribution of all the status codes, it takes a long time. However, if I add the query condition that the status code must exist, it only takes a little time.","title":"Elasticsearch aggregation when a field does not exist takes a long time","body":"<p>I want to know the reason why, when a field does not exist, it takes a long time to aggregate. For example, sometimes a log doesn't have status code. When I want to know the distribution of all the status codes, it takes a long time. However, if I add the query condition that the status code must exist, it only takes a little time.</p>\n"},{"tags":["java","android","json","android-studio","android-internal-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1634289772,"post_id":69582517,"comment_id":122989878,"body_markdown":"Try new FileWriter(file, &quot;wa&quot;); to append data. Or do not use FileWriter if it cannot append but just FileOutputStream.","body":"Try new FileWriter(file, &quot;wa&quot;); to append data. Or do not use FileWriter if it cannot append but just FileOutputStream."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634289852,"post_id":69582517,"comment_id":122989908,"body_markdown":"`I want it to save every data I entered from the edittext ` You wanna append all data to the same file.","body":"<code>I want it to save every data I entered from the edittext </code> You wanna append all data to the same file."},{"owner":{"account_id":23020276,"reputation":11,"user_id":17141432,"display_name":"Muratcan Yldz"},"score":0,"creation_date":1634297316,"post_id":69582517,"comment_id":122992555,"body_markdown":"@blackapps thank you for your answer. What is the difference between &quot;FileWriter&quot; and &quot;FileOutputStream&quot; ?","body":"@blackapps thank you for your answer. What is the difference between &quot;FileWriter&quot; and &quot;FileOutputStream&quot; ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634298386,"post_id":69582517,"comment_id":122992886,"body_markdown":"A writer writes. A stream streams. You cannot compare them.","body":"A writer writes. A stream streams. You cannot compare them."}],"answers":[{"tags":[],"owner":{"account_id":16047390,"reputation":1264,"user_id":11582192,"display_name":"Per.J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634290520,"creation_date":1634290520,"answer_id":69582690,"question_id":69582517,"body_markdown":"Change `FileWriter fileWriter = new FileWriter(file);`\r\nto `FileWriter fileWriter = new FileWriter(file, true);` for append.\r\n\r\nhttps://developer.android.com/reference/java/io/FileWriter","title":"How can I save every data in JSON file? android studio","body":"<p>Change <code>FileWriter fileWriter = new FileWriter(file);</code>\nto <code>FileWriter fileWriter = new FileWriter(file, true);</code> for append.</p>\n<p><a href=\"https://developer.android.com/reference/java/io/FileWriter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/io/FileWriter</a></p>\n"}],"owner":{"account_id":23020276,"reputation":11,"user_id":17141432,"display_name":"Muratcan Yldz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634290520,"creation_date":1634289611,"question_id":69582517,"body_markdown":"I am using android studio. Code java. I save the data entered from the edittext as json by creating a file on the internal storage of the device. But it only shows the last data I entered. Each new data erases and overwrites the other.I want it to save every data I entered from the edittext in order, and to see all of them.How can I do that ?\r\n\r\nmy code:\r\n```\r\n\r\n saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    String getname = editTextFileName.getText().toString();\r\n                    String getdata= editTextData.getText().toString();\r\n                    JSONObject jsonObject = new JSONObject();\r\n                    jsonObject.put(&quot;Name&quot;, getname );\r\n                    jsonObject.put(&quot;Enroll_No&quot;, getdata );\r\n                    jsonObject.put(&quot;Mobile&quot;, &quot;4.example&quot;);\r\n                    jsonObject.put(&quot;Address&quot;, &quot;4.example&quot;);\r\n                    jsonObject.put(&quot;Branch&quot;, &quot;4.example&quot;);\r\n\r\n\r\n\r\n                    String userString = jsonObject.toString();\r\n                    File file = new File(context.getFilesDir(),&quot;user.json&quot;);\r\n                    FileWriter fileWriter = new FileWriter(file);\r\n                    BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n                    bufferedWriter.write(userString);\r\n                    bufferedWriter.close();\r\n\r\n\r\n\r\n                }catch (JSONException e){\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n\r\n            }\r\n        });\r\n\r\n```\r\n\r\n\r\n","title":"How can I save every data in JSON file? android studio","body":"<p>I am using android studio. Code java. I save the data entered from the edittext as json by creating a file on the internal storage of the device. But it only shows the last data I entered. Each new data erases and overwrites the other.I want it to save every data I entered from the edittext in order, and to see all of them.How can I do that ?</p>\n<p>my code:</p>\n<pre><code>\n saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                try {\n                    String getname = editTextFileName.getText().toString();\n                    String getdata= editTextData.getText().toString();\n                    JSONObject jsonObject = new JSONObject();\n                    jsonObject.put(&quot;Name&quot;, getname );\n                    jsonObject.put(&quot;Enroll_No&quot;, getdata );\n                    jsonObject.put(&quot;Mobile&quot;, &quot;4.example&quot;);\n                    jsonObject.put(&quot;Address&quot;, &quot;4.example&quot;);\n                    jsonObject.put(&quot;Branch&quot;, &quot;4.example&quot;);\n\n\n\n                    String userString = jsonObject.toString();\n                    File file = new File(context.getFilesDir(),&quot;user.json&quot;);\n                    FileWriter fileWriter = new FileWriter(file);\n                    BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n                    bufferedWriter.write(userString);\n                    bufferedWriter.close();\n\n\n\n                }catch (JSONException e){\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n\n            }\n        });\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8052,"page":1940,"page_size":100}
